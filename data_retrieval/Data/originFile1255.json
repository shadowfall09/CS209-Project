{"items":[{"tags":["java","sql","postgresql","authentication","postman"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1655454698,"post_id":72656391,"comment_id":128341212,"body_markdown":"The way you are receiving the data in the api is wrong","body":"The way you are receiving the data in the api is wrong"}],"answers":[{"tags":[],"owner":{"account_id":24721501,"reputation":56,"user_id":18610510,"display_name":"MrUwugu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655476834,"creation_date":1655476834,"answer_id":72661072,"question_id":72656391,"body_markdown":"Instead of\r\n\r\n```\r\npublic String display(@RequestBody String userId, String password,Model m){}\r\n```\r\n\r\nI would consider doing something like\r\n\r\n```\r\npublic String display(@RequestBody LoginRequest request){}\r\n```\r\n\r\nThis can be further enhanced with a map of headers and tokens for security.","title":"Unable to execute Admin Login in Postman","body":"<p>Instead of</p>\n<pre><code>public String display(@RequestBody String userId, String password,Model m){}\n</code></pre>\n<p>I would consider doing something like</p>\n<pre><code>public String display(@RequestBody LoginRequest request){}\n</code></pre>\n<p>This can be further enhanced with a map of headers and tokens for security.</p>\n"}],"owner":{"account_id":25578317,"reputation":1,"user_id":19357337,"display_name":"Vivek_CG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655476834,"creation_date":1655454242,"question_id":72656391,"body_markdown":"I m trying to create a login function for admin in postman but unable to get the required output for correct credentials.\r\n\r\n this is Login Controller\r\n```\r\n\t@RequestMapping(value=&quot;/&quot;, method = RequestMethod.GET)\r\n\tpublic String loginPage() {\r\n\t\treturn &quot;Welcome to ABC Bank login page&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(value=&quot;/login&quot;, consumes = &quot;application/json&quot;, produces =&quot;application/json&quot;)\r\n\tpublic String display(@RequestBody String userId, String password,Model m){\r\n\t\t//System.out.println(&quot;Please Login&quot;);\r\n\tSystem.out.println(&quot;userId&quot; + userId);\r\n\tif(userId.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;root&quot;)) {\r\n\t\treturn &quot;Welcome to ABC Bank&quot;;\r\n\t}else {\r\n\t\treturn &quot;Login UnSuccessful &quot;;\r\n\t}\r\n\t\r\n\t}\r\n\t\r\n```\r\nThis is Login model\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;login_page&quot;)\r\npublic class Login {\r\n\r\n    @Id\r\n    //@GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;user_Id&quot;, nullable = false)\r\n    private String userId;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n  // @Length(min = 5, message = &quot;*Your password must have at least 5 characters&quot;)\r\n  // @NotEmpty(message = &quot;*Please provide your password&quot;)\r\n   // @JsonIgnore\r\n    private String password;\r\n    \r\n\r\n\tpublic String getUserId() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\tpublic void setUserId(String userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n    \r\n    \r\n\r\n}\r\n```\r\nThus I need to execute the Welcome to ABC bank when admin logins with correct credentials.\r\nHow can I do it ?\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p1cvN.png","title":"Unable to execute Admin Login in Postman","body":"<p>I m trying to create a login function for admin in postman but unable to get the required output for correct credentials.</p>\n<p>this is Login Controller</p>\n<pre><code>    @RequestMapping(value=&quot;/&quot;, method = RequestMethod.GET)\n    public String loginPage() {\n        return &quot;Welcome to ABC Bank login page&quot;;\n    }\n    \n    @PostMapping(value=&quot;/login&quot;, consumes = &quot;application/json&quot;, produces =&quot;application/json&quot;)\n    public String display(@RequestBody String userId, String password,Model m){\n        //System.out.println(&quot;Please Login&quot;);\n    System.out.println(&quot;userId&quot; + userId);\n    if(userId.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;root&quot;)) {\n        return &quot;Welcome to ABC Bank&quot;;\n    }else {\n        return &quot;Login UnSuccessful &quot;;\n    }\n    \n    }\n    \n</code></pre>\n<p>This is Login model</p>\n<pre><code>@Entity\n@Table(name = &quot;login_page&quot;)\npublic class Login {\n\n    @Id\n    //@GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_Id&quot;, nullable = false)\n    private String userId;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n  // @Length(min = 5, message = &quot;*Your password must have at least 5 characters&quot;)\n  // @NotEmpty(message = &quot;*Please provide your password&quot;)\n   // @JsonIgnore\n    private String password;\n    \n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    \n\n}\n</code></pre>\n<p>Thus I need to execute the Welcome to ABC bank when admin logins with correct credentials.\nHow can I do it ?</p>\n<p><a href=\"https://i.stack.imgur.com/p1cvN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1655474550,"post_id":72660469,"comment_id":128347729,"body_markdown":"From the trace it looks like the `helo` command was not working, which would be weird, as this is a basic SMTP verb. Is there a firewall that could mess with the traffic? Try to enable more debugging output. Try to connect manually (`telnet mail.gmx.net 25`, then enter &quot;helo ...&quot;, or try &quot;ehlo ...&quot; (extended helo)). Or capture the dialog with wireshark. If you use plain smtp, change the port to 25.","body":"From the trace it looks like the <code>helo</code> command was not working, which would be weird, as this is a basic SMTP verb. Is there a firewall that could mess with the traffic? Try to enable more debugging output. Try to connect manually (<code>telnet mail.gmx.net 25</code>, then enter &quot;helo ...&quot;, or try &quot;ehlo ...&quot; (extended helo)). Or capture the dialog with wireshark. If you use plain smtp, change the port to 25."},{"owner":{"account_id":25580610,"reputation":1,"user_id":19359247,"display_name":"nadja5"},"score":0,"creation_date":1655476837,"post_id":72660469,"comment_id":128348587,"body_markdown":"More debugging outpout has been added.","body":"More debugging outpout has been added."}],"owner":{"account_id":25580610,"reputation":1,"user_id":19359247,"display_name":"nadja5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655476781,"creation_date":1655473862,"question_id":72660469,"body_markdown":"I generally just want to send a simply email using a new created gmx mail account. If I try to use the code on a friend&#39;s laptop it&#39;s unexpectedly working. Although it&#39;s not working on my laptop and I just get following error message.\r\n\r\n    Logged in\r\n    DEBUG: setDebug: JavaMail version 1.6.2\r\n    Sending ...\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n    DEBUG SMTP: need username and password for authentication\r\n    DEBUG SMTP: protocolConnect returning false, host=mail.gmx.net, user=*name of PC user*, password=&lt;null&gt;\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;mail.gmx.net&quot;, port 587, isSSL false\r\n    220 gmx.net (mrgmx005) Nemesis ESMTP Service ready\r\n    DEBUG SMTP: connected to host &quot;mail.gmx.net&quot;, port: 465\r\n    EHLO *name of PC*\r\n    500 Syntax error, command unrecognized\r\n    HELO *name of PC*\r\n    500 Syntax error, command unrecognized    \r\n    \r\n    javax.mail.MessagingException: 500 Syntax error, command unrecognized\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:2324)\r\n\tat com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:1678)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:746)\r\n\tat javax.mail.Service.connect(Service.java:388)\r\n\tat javax.mail.Service.connect(Service.java:246)\r\n\tat javax.mail.Service.connect(Service.java:195)\r\n\tat javax.mail.Transport.send0(Transport.java:254)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\n\tat touristoffice.Main.btnSendEmail(Main.java:1538)\r\n\tat touristoffice.Main.lambda$18(Main.java:1272)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nI also correctly imported all neccessary classes as well as libaries. The method which should be able to create this sending email is as follow:\r\n\r\n    private static void btnSendEmail(ActionEvent e) throws MessagingException, Exception {\r\n\t\t\r\n\t\tfinal String user = &quot;...@gmx.at&quot;;\r\n\t\tfinal String password = &quot;***********&quot;;\r\n\t\tfinal String smtpHost = &quot;mail.gmx.net&quot;;\r\n\t\tfinal String smtpPort = &quot;587&quot;;\r\n\t\tfinal String sslPort = &quot;465&quot;;\r\n\r\n\t\tProperties props = System.getProperties();\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, smtpHost);\r\n\t\tprops.put(&quot;mail.smtp.socketFactory.port&quot;, sslPort);\r\n\t\tprops.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, smtpPort);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\t\tAuthenticator auth = new Authenticator() {\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\treturn new PasswordAuthentication(user, password);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tSession mailSession = Session.getDefaultInstance(props, auth);\r\n\t\tSystem.out.println(&quot;Logged in&quot;);\r\n\r\n\t\tString sender = &quot;...@gmx.at&quot;;\r\n\t\tString receiver = JOptionPane.showInputDialog(&quot;Enter the receiver of the message&quot;);\r\n\t\tString subject = &quot;Subject&quot;;\r\n\t\tString message = &quot;text&quot;;\r\n\r\n\t\tMimeMessage msg = new MimeMessage(mailSession);\r\n\t\tmsg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\r\n\t\tmsg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\r\n\t\tmsg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\r\n\r\n\t\tmsg.setFrom(new InternetAddress(sender));\r\n\t\tmsg.setReplyTo(InternetAddress.parse(sender, false));\r\n\t\tmsg.setSubject(subject, &quot;UTF-8&quot;);\r\n\t\tmsg.setSentDate(new Date());\r\n\t\tmsg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(receiver, false));\r\n\r\n\t\tMimeBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\tmessageBodyPart.setText(message, &quot;UTF-8&quot;);\r\n\r\n\t\tMultipart multipart = new MimeMultipart();\r\n\t\tmultipart.addBodyPart(messageBodyPart);\r\n\r\n\t\tmsg.setContent(multipart);\r\n\r\n\t\tSystem.out.println(&quot;Sending ...&quot;);\r\n\t\tTransport.send(msg);\r\n\t\tSystem.out.println(&quot;Done&quot;);\r\n\r\n\t}\r\n\r\nI would be very glad if there is anybody who could find a solution to my issue.\r\n\r\nThanks in advance!","title":"javax.mail.MessagingException: 500 Syntax error, command unrecognized while trying to send an email","body":"<p>I generally just want to send a simply email using a new created gmx mail account. If I try to use the code on a friend's laptop it's unexpectedly working. Although it's not working on my laptop and I just get following error message.</p>\n<pre><code>Logged in\nDEBUG: setDebug: JavaMail version 1.6.2\nSending ...\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=mail.gmx.net, user=*name of PC user*, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;mail.gmx.net&quot;, port 587, isSSL false\n220 gmx.net (mrgmx005) Nemesis ESMTP Service ready\nDEBUG SMTP: connected to host &quot;mail.gmx.net&quot;, port: 465\nEHLO *name of PC*\n500 Syntax error, command unrecognized\nHELO *name of PC*\n500 Syntax error, command unrecognized    \n\njavax.mail.MessagingException: 500 Syntax error, command unrecognized\n\nat com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:2324)\nat com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:1678)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:746)\nat javax.mail.Service.connect(Service.java:388)\nat javax.mail.Service.connect(Service.java:246)\nat javax.mail.Service.connect(Service.java:195)\nat javax.mail.Transport.send0(Transport.java:254)\nat javax.mail.Transport.send(Transport.java:124)\nat touristoffice.Main.btnSendEmail(Main.java:1538)\nat touristoffice.Main.lambda$18(Main.java:1272)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\nat java.desktop/java.awt.Component.processEvent(Component.java:6391)\nat java.desktop/java.awt.Container.processEvent(Container.java:2266)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>I also correctly imported all neccessary classes as well as libaries. The method which should be able to create this sending email is as follow:</p>\n<pre><code>private static void btnSendEmail(ActionEvent e) throws MessagingException, Exception {\n    \n    final String user = &quot;...@gmx.at&quot;;\n    final String password = &quot;***********&quot;;\n    final String smtpHost = &quot;mail.gmx.net&quot;;\n    final String smtpPort = &quot;587&quot;;\n    final String sslPort = &quot;465&quot;;\n\n    Properties props = System.getProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.host&quot;, smtpHost);\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, sslPort);\n    props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, smtpPort);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n    Authenticator auth = new Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(user, password);\n        }\n    };\n\n    Session mailSession = Session.getDefaultInstance(props, auth);\n    System.out.println(&quot;Logged in&quot;);\n\n    String sender = &quot;...@gmx.at&quot;;\n    String receiver = JOptionPane.showInputDialog(&quot;Enter the receiver of the message&quot;);\n    String subject = &quot;Subject&quot;;\n    String message = &quot;text&quot;;\n\n    MimeMessage msg = new MimeMessage(mailSession);\n    msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\n    msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\n    msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\n\n    msg.setFrom(new InternetAddress(sender));\n    msg.setReplyTo(InternetAddress.parse(sender, false));\n    msg.setSubject(subject, &quot;UTF-8&quot;);\n    msg.setSentDate(new Date());\n    msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(receiver, false));\n\n    MimeBodyPart messageBodyPart = new MimeBodyPart();\n    messageBodyPart.setText(message, &quot;UTF-8&quot;);\n\n    Multipart multipart = new MimeMultipart();\n    multipart.addBodyPart(messageBodyPart);\n\n    msg.setContent(multipart);\n\n    System.out.println(&quot;Sending ...&quot;);\n    Transport.send(msg);\n    System.out.println(&quot;Done&quot;);\n\n}\n</code></pre>\n<p>I would be very glad if there is anybody who could find a solution to my issue.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","maven","jfr","jmc"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1655470123,"post_id":72659369,"comment_id":128346219,"body_markdown":"Why doesn’t it work for you? The effort there is probably much smaller than what you are doing now.","body":"Why doesn’t it work for you? The effort there is probably much smaller than what you are doing now."},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1655474160,"post_id":72659369,"comment_id":128347582,"body_markdown":"FWIW. The JDK comes with an API to read JFR files.\n\nhttps://docs.oracle.com/en/java/javase/11/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html","body":"FWIW. The JDK comes with an API to read JFR files.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/jdk.jfr/jdk/jfr/&hellip;</a>"},{"owner":{"account_id":25579987,"reputation":1,"user_id":19358739,"display_name":"timetocook420"},"score":0,"creation_date":1655476032,"post_id":72659369,"comment_id":128348243,"body_markdown":"I need to analyze a lot of information in these jfr files, so this method is not suitable for me","body":"I need to analyze a lot of information in these jfr files, so this method is not suitable for me"},{"owner":{"account_id":25579987,"reputation":1,"user_id":19358739,"display_name":"timetocook420"},"score":0,"creation_date":1655476203,"post_id":72659369,"comment_id":128348318,"body_markdown":"it does not work due to a large number of errors in the logs. I could not find ready-made solutions, so I decided that it would be easier if I was in familiar conditions.","body":"it does not work due to a large number of errors in the logs. I could not find ready-made solutions, so I decided that it would be easier if I was in familiar conditions."}],"answers":[{"tags":[],"owner":{"account_id":25579987,"reputation":1,"user_id":19358739,"display_name":"timetocook420"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655476660,"creation_date":1655476565,"answer_id":72661023,"question_id":72659369,"body_markdown":"Solved.\r\nThe main problem was that a had both versions of JDK (8 and 11), and I forget I&#39;ve changed JAVA_HOME to JDK 8 few days ago, so JMC just couldn&#39;t find jdk.jfr (it&#39;s included only in 9 or later).\r\nMoreover when you build JMC it&#39;s important to turn off VPN or configure specific parameters in .m2 directory, because JMC builder use jetty server and it can&#39;t work when VPN is working.","title":"Can&#39;t build JMC from source","body":"<p>Solved.\nThe main problem was that a had both versions of JDK (8 and 11), and I forget I've changed JAVA_HOME to JDK 8 few days ago, so JMC just couldn't find jdk.jfr (it's included only in 9 or later).\nMoreover when you build JMC it's important to turn off VPN or configure specific parameters in .m2 directory, because JMC builder use jetty server and it can't work when VPN is working.</p>\n"}],"owner":{"account_id":25579987,"reputation":1,"user_id":19358739,"display_name":"timetocook420"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72661023,"answer_count":1,"score":0,"last_activity_date":1655476660,"creation_date":1655468776,"question_id":72659369,"body_markdown":"I need to use JMC to read some JFR files. I&#39;ve tried to download zip&#39;s with compiled projects from Oracle and Azul, but it&#39;s not work for me. So I decide to build JMC from the source code.\r\nI&#39;ve download source from [here](https://github.com/openjdk/jmc &quot;link on github&quot;).\r\n\r\nWhen I clone project I have these errors: \r\n[errors in InteliJ IDEA][1]\r\n\r\nAnd when I&#39;m trying to build (using command mvn p2:site) next error is occured:\r\n\r\n    [INFO] --- p2-maven-plugin:2.0.0:site (default-cli) @ external-dependencies ---\r\n    [WARNING] Error injecting: org.reficio.p2.P2Mojo\r\n    java.lang.TypeNotPresentException: Type org.reficio.p2.P2Mojo not present\r\n        at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\r\n        at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.UnsupportedClassVersionError: org/reficio/p2/P2Mojo has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1 (Native Method)\r\n        at java.lang.ClassLoader.defineClass (ClassLoader.java:756)\r\n        at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass (URLClassLoader.java:468)\r\n        at java.net.URLClassLoader.access$100 (URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run (URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run (URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged (Native Method)\r\n        at java.net.URLClassLoader.findClass (URLClassLoader.java:362)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:425)\r\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n        at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\r\n        at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  56.215 s\r\n    [INFO] Finished at: 2022-06-17T15:08:47+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.reficio:p2-maven-plugin:2.0.0:site (default-cli) on project external-dependencies: Execution default-cli of goal org.reficio:p2-maven-plugin:2.0.0:site failed: Unable to load the mojo &#39;site&#39; in the plugin &#39;org.reficio:p2-maven-plugin:2.0.0&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/reficio/p2/P2Mojo has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.reficio:p2-maven-plugin:2.0.0\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/C:/Users/lexst/.m2/repository/org/reficio/p2-maven-plugin/2.0.0/p2-maven-plugin-2.0.0.jar\r\n    [ERROR] urls[1] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-lang3/3.8.1/commons-lang3-3.8.1.jar\r\n    [ERROR] urls[2] = file:/C:/Users/lexst/.m2/repository/javax/enterprise/cdi-api/1.0/cdi-api-1.0.jar\r\n    [ERROR] urls[3] = file:/C:/Users/lexst/.m2/repository/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar\r\n    [ERROR] urls[4] = file:/C:/Users/lexst/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.3.4/org.eclipse.sisu.inject-0.3.4.jar\r\n    [ERROR] urls[5] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-utils/3.2.1/plexus-utils-3.2.1.jar\r\n    [ERROR] urls[6] = file:/C:/Users/lexst/.m2/repository/org/eclipse/aether/aether-util/1.1.0/aether-util-1.1.0.jar\r\n    [ERROR] urls[7] = file:/C:/Users/lexst/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar\r\n    [ERROR] urls[8] = file:/C:/Users/lexst/.m2/repository/biz/aQute/bnd/biz.aQute.bndlib/5.3.0/biz.aQute.bndlib-5.3.0.jar\r\n    [ERROR] urls[9] = file:/C:/Users/lexst/.m2/repository/org/twdata/maven/mojo-executor/2.3.1/mojo-executor-2.3.1.jar\r\n    [ERROR] urls[10] = file:/C:/Users/lexst/.m2/repository/org/apache/felix/maven-bundle-plugin/5.1.2/maven-bundle-plugin-5.1.2.jar\r\n    [ERROR] urls[11] = file:/C:/Users/lexst/.m2/repository/org/osgi/org.osgi.service.log/1.5.0/org.osgi.service.log-1.5.0.jar\r\n    [ERROR] urls[12] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-core/2.5.0/tycho-core-2.5.0.jar\r\n    [ERROR] urls[13] = file:/C:/Users/lexst/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.4/plexus-sec-dispatcher-1.4.jar\r\n    [ERROR] urls[14] = file:/C:/Users/lexst/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\r\n    [ERROR] urls[15] = file:/C:/Users/lexst/.m2/repository/org/apache/maven/maven-builder-support/3.6.3/maven-builder-support-3.6.3.jar\r\n    [ERROR] urls[16] = file:/C:/Users/lexst/.m2/repository/org/apache/maven/resolver/maven-resolver-util/1.4.1/maven-resolver-util-1.4.1.jar\r\n    [ERROR] urls[17] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.p2.tools.shared/2.5.0/org.eclipse.tycho.p2.tools.shared-2.5.0.jar\r\n    [ERROR] urls[18] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.p2.resolver.shared/2.5.0/org.eclipse.tycho.p2.resolver.shared-2.5.0.jar\r\n    [ERROR] urls[19] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-archiver/4.2.2/plexus-archiver-4.2.2.jar\r\n    [ERROR] urls[20] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-io/3.2.0/plexus-io-3.2.0.jar\r\n    [ERROR] urls[21] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-compress/1.20/commons-compress-1.20.jar\r\n    [ERROR] urls[22] = file:/C:/Users/lexst/.m2/repository/org/iq80/snappy/snappy/0.4/snappy-0.4.jar\r\n    [ERROR] urls[23] = file:/C:/Users/lexst/.m2/repository/org/tukaani/xz/1.8/xz-1.8.jar\r\n    [ERROR] urls[24] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-cipher/2.0/plexus-cipher-2.0.jar\r\n    [ERROR] urls[25] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-embedder/2.5.0/sisu-equinox-embedder-2.5.0.jar\r\n    [ERROR] urls[26] = file:/C:/Users/lexst/.m2/repository/org/eclipse/platform/org.eclipse.osgi/3.17.100/org.eclipse.osgi-3.17.100.jar\r\n    [ERROR] urls[27] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-metadata-model/2.5.0/tycho-metadata-model-2.5.0.jar\r\n    [ERROR] urls[28] = file:/C:/Users/lexst/.m2/repository/de/pdark/decentxml/1.4/decentxml-1.4.jar\r\n    [ERROR] urls[29] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-embedder-api/2.5.0/tycho-embedder-api-2.5.0.jar\r\n    [ERROR] urls[30] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.embedder.shared/2.5.0/org.eclipse.tycho.embedder.shared-2.5.0.jar\r\n    [ERROR] urls[31] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.core.shared/2.5.0/org.eclipse.tycho.core.shared-2.5.0.jar\r\n    [ERROR] urls[32] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.25/plexus-interpolation-1.25.jar\r\n    [ERROR] urls[33] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-launching/2.5.0/sisu-equinox-launching-2.5.0.jar\r\n    [ERROR] urls[34] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-api/2.5.0/sisu-equinox-api-2.5.0.jar\r\n    [ERROR] urls[35] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar\r\n    [ERROR] urls[36] = file:/C:/Users/lexst/.m2/repository/org/codehaus/groovy/groovy/3.0.9/groovy-3.0.9.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR]\r\n    [ERROR] -----------------------------------------------------\r\n\r\nWhat should I install(or download) to solve this problem?\r\n\r\n  [1]: https://i.stack.imgur.com/Ra6bA.png\r\n","title":"Can&#39;t build JMC from source","body":"<p>I need to use JMC to read some JFR files. I've tried to download zip's with compiled projects from Oracle and Azul, but it's not work for me. So I decide to build JMC from the source code.\nI've download source from <a href=\"https://github.com/openjdk/jmc\" rel=\"nofollow noreferrer\" title=\"link on github\">here</a>.</p>\n<p>When I clone project I have these errors:\n<a href=\"https://i.stack.imgur.com/Ra6bA.png\" rel=\"nofollow noreferrer\">errors in InteliJ IDEA</a></p>\n<p>And when I'm trying to build (using command mvn p2:site) next error is occured:</p>\n<pre><code>[INFO] --- p2-maven-plugin:2.0.0:site (default-cli) @ external-dependencies ---\n[WARNING] Error injecting: org.reficio.p2.P2Mojo\njava.lang.TypeNotPresentException: Type org.reficio.p2.P2Mojo not present\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.UnsupportedClassVersionError: org/reficio/p2/P2Mojo has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1 (Native Method)\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100 (URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged (Native Method)\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:362)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:425)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  56.215 s\n[INFO] Finished at: 2022-06-17T15:08:47+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.reficio:p2-maven-plugin:2.0.0:site (default-cli) on project external-dependencies: Execution default-cli of goal org.reficio:p2-maven-plugin:2.0.0:site failed: Unable to load the mojo 'site' in the plugin 'org.reficio:p2-maven-plugin:2.0.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/reficio/p2/P2Mojo has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.reficio:p2-maven-plugin:2.0.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/lexst/.m2/repository/org/reficio/p2-maven-plugin/2.0.0/p2-maven-plugin-2.0.0.jar\n[ERROR] urls[1] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-lang3/3.8.1/commons-lang3-3.8.1.jar\n[ERROR] urls[2] = file:/C:/Users/lexst/.m2/repository/javax/enterprise/cdi-api/1.0/cdi-api-1.0.jar\n[ERROR] urls[3] = file:/C:/Users/lexst/.m2/repository/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar\n[ERROR] urls[4] = file:/C:/Users/lexst/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.3.4/org.eclipse.sisu.inject-0.3.4.jar\n[ERROR] urls[5] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-utils/3.2.1/plexus-utils-3.2.1.jar\n[ERROR] urls[6] = file:/C:/Users/lexst/.m2/repository/org/eclipse/aether/aether-util/1.1.0/aether-util-1.1.0.jar\n[ERROR] urls[7] = file:/C:/Users/lexst/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar\n[ERROR] urls[8] = file:/C:/Users/lexst/.m2/repository/biz/aQute/bnd/biz.aQute.bndlib/5.3.0/biz.aQute.bndlib-5.3.0.jar\n[ERROR] urls[9] = file:/C:/Users/lexst/.m2/repository/org/twdata/maven/mojo-executor/2.3.1/mojo-executor-2.3.1.jar\n[ERROR] urls[10] = file:/C:/Users/lexst/.m2/repository/org/apache/felix/maven-bundle-plugin/5.1.2/maven-bundle-plugin-5.1.2.jar\n[ERROR] urls[11] = file:/C:/Users/lexst/.m2/repository/org/osgi/org.osgi.service.log/1.5.0/org.osgi.service.log-1.5.0.jar\n[ERROR] urls[12] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-core/2.5.0/tycho-core-2.5.0.jar\n[ERROR] urls[13] = file:/C:/Users/lexst/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.4/plexus-sec-dispatcher-1.4.jar\n[ERROR] urls[14] = file:/C:/Users/lexst/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[15] = file:/C:/Users/lexst/.m2/repository/org/apache/maven/maven-builder-support/3.6.3/maven-builder-support-3.6.3.jar\n[ERROR] urls[16] = file:/C:/Users/lexst/.m2/repository/org/apache/maven/resolver/maven-resolver-util/1.4.1/maven-resolver-util-1.4.1.jar\n[ERROR] urls[17] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.p2.tools.shared/2.5.0/org.eclipse.tycho.p2.tools.shared-2.5.0.jar\n[ERROR] urls[18] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.p2.resolver.shared/2.5.0/org.eclipse.tycho.p2.resolver.shared-2.5.0.jar\n[ERROR] urls[19] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-archiver/4.2.2/plexus-archiver-4.2.2.jar\n[ERROR] urls[20] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-io/3.2.0/plexus-io-3.2.0.jar\n[ERROR] urls[21] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-compress/1.20/commons-compress-1.20.jar\n[ERROR] urls[22] = file:/C:/Users/lexst/.m2/repository/org/iq80/snappy/snappy/0.4/snappy-0.4.jar\n[ERROR] urls[23] = file:/C:/Users/lexst/.m2/repository/org/tukaani/xz/1.8/xz-1.8.jar\n[ERROR] urls[24] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-cipher/2.0/plexus-cipher-2.0.jar\n[ERROR] urls[25] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-embedder/2.5.0/sisu-equinox-embedder-2.5.0.jar\n[ERROR] urls[26] = file:/C:/Users/lexst/.m2/repository/org/eclipse/platform/org.eclipse.osgi/3.17.100/org.eclipse.osgi-3.17.100.jar\n[ERROR] urls[27] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-metadata-model/2.5.0/tycho-metadata-model-2.5.0.jar\n[ERROR] urls[28] = file:/C:/Users/lexst/.m2/repository/de/pdark/decentxml/1.4/decentxml-1.4.jar\n[ERROR] urls[29] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/tycho-embedder-api/2.5.0/tycho-embedder-api-2.5.0.jar\n[ERROR] urls[30] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.embedder.shared/2.5.0/org.eclipse.tycho.embedder.shared-2.5.0.jar\n[ERROR] urls[31] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/org.eclipse.tycho.core.shared/2.5.0/org.eclipse.tycho.core.shared-2.5.0.jar\n[ERROR] urls[32] = file:/C:/Users/lexst/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.25/plexus-interpolation-1.25.jar\n[ERROR] urls[33] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-launching/2.5.0/sisu-equinox-launching-2.5.0.jar\n[ERROR] urls[34] = file:/C:/Users/lexst/.m2/repository/org/eclipse/tycho/sisu-equinox-api/2.5.0/sisu-equinox-api-2.5.0.jar\n[ERROR] urls[35] = file:/C:/Users/lexst/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar\n[ERROR] urls[36] = file:/C:/Users/lexst/.m2/repository/org/codehaus/groovy/groovy/3.0.9/groovy-3.0.9.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR]\n[ERROR] -----------------------------------------------------\n</code></pre>\n<p>What should I install(or download) to solve this problem?</p>\n"},{"tags":["java","android","xml","android-studio","numberformatexception"],"comments":[{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1655476645,"post_id":72660752,"comment_id":128348505,"body_markdown":"The exception is thrown because the NewMoneyValue you are getting is null. As null cannot be parsed into an Integer, hence exception is thrown. The problem is not in parsing but in linking your editText with your code. Try with Integer.parseInt(&quot;1&quot;) and see if it works. If it does, look where you are binding your editext with the code.","body":"The exception is thrown because the NewMoneyValue you are getting is null. As null cannot be parsed into an Integer, hence exception is thrown. The problem is not in parsing but in linking your editText with your code. Try with Integer.parseInt(&quot;1&quot;) and see if it works. If it does, look where you are binding your editext with the code."},{"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"score":0,"creation_date":1655571840,"post_id":72660752,"comment_id":128365664,"body_markdown":"I am binding(linking) all the elements inside onCreate() and when i try Integer.parseInt(&quot;1500&#39;) it works fine. Not able to understand why this is happening...","body":"I am binding(linking) all the elements inside onCreate() and when i try Integer.parseInt(&quot;1500&#39;) it works fine. Not able to understand why this is happening..."},{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1655713325,"post_id":72660752,"comment_id":128388204,"body_markdown":"Exactly, the problem lies in binding. Can you share your binding code? What approach you are using? view binding, synthetic binding etc?","body":"Exactly, the problem lies in binding. Can you share your binding code? What approach you are using? view binding, synthetic binding etc?"},{"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"score":0,"creation_date":1655715764,"post_id":72660752,"comment_id":128389153,"body_markdown":"heres the binding code:\n\n\n Button AddButton = findViewById(R.id.AddButton);\n\n        Button SubtractButton = findViewById(R.id.SubtractButton);\n\n        Button GoHomeButton = findViewById(R.id.GoToMainMenu);\n\n        EditText NewMoneyValue = findViewById(R.id.EditTextField);\n\n        Toast MoneyAddedToast = Toast.makeText(this, &quot;Money Added!&quot;, \nToast.LENGTH_SHORT);\n        Toast MoneySubtractedToast = Toast.makeText(this, &quot;Money Removed!&quot;, \nToast.LENGTH_SHORT);","body":"heres the binding code:    Button AddButton = findViewById(R.id.AddButton);          Button SubtractButton = findViewById(R.id.SubtractButton);          Button GoHomeButton = findViewById(R.id.GoToMainMenu);          EditText NewMoneyValue = findViewById(R.id.EditTextField);          Toast MoneyAddedToast = Toast.makeText(this, &quot;Money Added!&quot;,  Toast.LENGTH_SHORT);         Toast MoneySubtractedToast = Toast.makeText(this, &quot;Money Removed!&quot;,  Toast.LENGTH_SHORT);"},{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1655725261,"post_id":72660752,"comment_id":128392323,"body_markdown":"The binding code seems fine to me. Maybe share a Github repo of this code?","body":"The binding code seems fine to me. Maybe share a Github repo of this code?"},{"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"score":0,"creation_date":1655741142,"post_id":72660752,"comment_id":128398085,"body_markdown":"aah yes hold on...","body":"aah yes hold on..."},{"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"score":0,"creation_date":1655741527,"post_id":72660752,"comment_id":128398246,"body_markdown":"https://github.com/devjoshua312/MonopolyCasher\n\nI also have one tiny doubt, it&#39;s about writing data type *int* to a file... if you just look at MainActivity.java line 42 (which is where the function starts) hoping you can guide me on this...","body":"<a href=\"https://github.com/devjoshua312/MonopolyCasher\" rel=\"nofollow noreferrer\">github.com/devjoshua312/MonopolyCasher</a>  I also have one tiny doubt, it&#39;s about writing data type <i>int</i> to a file... if you just look at MainActivity.java line 42 (which is where the function starts) hoping you can guide me on this..."},{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1655749580,"post_id":72660752,"comment_id":128400763,"body_markdown":"Not being able to run this code on my Android studio bruh. What kind of build system you are using for this project? Many of the dependencies are missing.","body":"Not being able to run this code on my Android studio bruh. What kind of build system you are using for this project? Many of the dependencies are missing."},{"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"score":0,"creation_date":1655788062,"post_id":72660752,"comment_id":128407781,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/245778/discussion-between-esvin-joshua-and-syed-faizan-ali).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/245778/discussion-between-esvin-joshua-and-syed-faizan-ali\">continue this discussion in chat</a>."},{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1655796818,"post_id":72660752,"comment_id":128409874,"body_markdown":"The problem lies in this line String digits = MoneyValue.toString().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\nI don&#39;t know what you are trying to do here but the end result of digits is a jargon number that cannot be parsed into an Integer. Remove/Fix that line and everything works fine.","body":"The problem lies in this line String digits = MoneyValue.toString().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;); I don&#39;t know what you are trying to do here but the end result of digits is a jargon number that cannot be parsed into an Integer. Remove/Fix that line and everything works fine."}],"answers":[{"tags":[],"owner":{"account_id":19089771,"reputation":1,"user_id":13940282,"display_name":"Tanmaya Harichandan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655475667,"creation_date":1655475667,"answer_id":72660826,"question_id":72660752,"body_markdown":"Please check whether NewMoneyValue or MoneyValue are properly linked with their R.id , because simply one of them isn&#39;t getting their value from UI","title":"java.lang.NumberFormatException while parsing a string","body":"<p>Please check whether NewMoneyValue or MoneyValue are properly linked with their R.id , because simply one of them isn't getting their value from UI</p>\n"}],"owner":{"account_id":19948467,"reputation":71,"user_id":14618632,"display_name":"Esvin Joshua"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655475937,"answer_count":1,"score":0,"last_activity_date":1655475667,"creation_date":1655475346,"question_id":72660752,"body_markdown":"Error: java.lang.NumberFormatException\r\n\r\nError in file: activity_main_user.xml\r\n\r\nElements related: one EditText(PlayerMoneyToUpdate) field, and  TextView(PlayerMoneyValue)\r\n\r\n\r\nThe structure of the project:\r\n\r\nThere are two Activities:\r\n\r\n&gt;MainActivity.java is the main UI of app and contains a layout displaying all the users i.e, players of the game\r\n\r\n&gt;MainUserActivity.java is the UI which displays the selected player and information related to it such as player name, Money(if exists) and etc.\r\n\r\nThere are also two layout XML files for this:\r\n&gt;activity_main.xml, again, contains the main UI, no problems related to it\r\n\r\n&gt;activity_main_user.xml, where the error is occurring.\r\n\r\n\r\nthis is the activity_main_user.xml code which has an EditText field: \r\n\r\n```\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/UserAvatar&quot;\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;149dp&quot;\r\n                android:contentDescription=&quot;@string/AvatarDescription&quot;\r\n                app:srcCompat=&quot;@drawable/monopolycloud&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/divider8&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;3dp&quot;\r\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/PlayerId&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:text=&quot;@string/PlayerIdText&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/divider9&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/MoneyValue&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:text=&quot;@string/DefaultMoney&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/EditTextField&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:autofillHints=&quot;true&quot;\r\n                android:hint=&quot;@string/EditTextFieldText&quot;\r\n                android:inputType=&quot;number&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/AddButton&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;65dp&quot;\r\n                android:text=&quot;@string/AddButtonText&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/divider6&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;3dp&quot;\r\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/SubtractButton&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;65dp&quot;\r\n                android:text=&quot;@string/SubtractButtonText&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/divider7&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;3dp&quot;\r\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/GoToMainMenu&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;65dp&quot;\r\n                android:text=&quot;@string/GoToMainMenu&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nin the activity_main_user.java file, I have defined a function where, upon starting of this file, the playerid and money fields get updated. upon adding a value in the EditText and pressing AddMoney button, it throws an exception\r\njava.lang.NumberFormatException for string &quot;&quot;\r\n\r\nThe main block of code related :\r\n\r\n```\r\nAddButton.setOnClickListener(v -&gt; {\r\n            try {\r\n                mValue1 = Integer.parseInt(NewMoneyValue.getText().toString());\r\n                Log.d(&quot;Monopoly Cashier value1&quot;, String.valueOf(mValue1));\r\n                mValue2 = Integer.parseInt(MoneyValue.getText().toString());\r\n                Log.d(&quot;Monopoly Cashier value2&quot;, String.valueOf(Integer.parseInt(MoneyValue.getText().toString())));\r\n                mNewMoney = add(mValue1, mValue2);\r\n                MoneyValue.setText(&quot;Current Money: $&quot; + mNewMoney);\r\n                MoneyAddedToast.show();\r\n            } catch (Exception e) {\r\n                Toast.makeText(this, e.toString(), Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;Monopoly CashierError: &quot;, e.getMessage());\r\n            }\r\n        });\r\n```\r\n\r\nPlease help me I getting really frustrated over this. Thanks in advance.\r\n\r\nP.S: I am a beginner to Android programming in java, so please try to be as simple as  possible.\r\nP.S 2: I know that there are many questions related to my problem but I couldn&#39;t understand any of them as they weren&#39;t relatable to what I am facing\r\n","title":"java.lang.NumberFormatException while parsing a string","body":"<p>Error: java.lang.NumberFormatException</p>\n<p>Error in file: activity_main_user.xml</p>\n<p>Elements related: one EditText(PlayerMoneyToUpdate) field, and  TextView(PlayerMoneyValue)</p>\n<p>The structure of the project:</p>\n<p>There are two Activities:</p>\n<blockquote>\n<p>MainActivity.java is the main UI of app and contains a layout displaying all the users i.e, players of the game</p>\n</blockquote>\n<blockquote>\n<p>MainUserActivity.java is the UI which displays the selected player and information related to it such as player name, Money(if exists) and etc.</p>\n</blockquote>\n<p>There are also two layout XML files for this:</p>\n<blockquote>\n<p>activity_main.xml, again, contains the main UI, no problems related to it</p>\n</blockquote>\n<blockquote>\n<p>activity_main_user.xml, where the error is occurring.</p>\n</blockquote>\n<p>this is the activity_main_user.xml code which has an EditText field:</p>\n<pre><code>    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/UserAvatar&quot;\n                android:layout_width=&quot;160dp&quot;\n                android:layout_height=&quot;149dp&quot;\n                android:contentDescription=&quot;@string/AvatarDescription&quot;\n                app:srcCompat=&quot;@drawable/monopolycloud&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/divider8&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;3dp&quot;\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/PlayerId&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:text=&quot;@string/PlayerIdText&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/divider9&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/MoneyValue&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:textSize=&quot;30sp&quot;\n                android:text=&quot;@string/DefaultMoney&quot;/&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/EditTextField&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;80dp&quot;\n                android:autofillHints=&quot;true&quot;\n                android:hint=&quot;@string/EditTextFieldText&quot;\n                android:inputType=&quot;number&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/AddButton&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;65dp&quot;\n                android:text=&quot;@string/AddButtonText&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/divider6&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;3dp&quot;\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/SubtractButton&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;65dp&quot;\n                android:text=&quot;@string/SubtractButtonText&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/divider7&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;3dp&quot;\n                android:background=&quot;?android:attr/listDivider&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/GoToMainMenu&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;65dp&quot;\n                android:text=&quot;@string/GoToMainMenu&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>in the activity_main_user.java file, I have defined a function where, upon starting of this file, the playerid and money fields get updated. upon adding a value in the EditText and pressing AddMoney button, it throws an exception\njava.lang.NumberFormatException for string &quot;&quot;</p>\n<p>The main block of code related :</p>\n<pre><code>AddButton.setOnClickListener(v -&gt; {\n            try {\n                mValue1 = Integer.parseInt(NewMoneyValue.getText().toString());\n                Log.d(&quot;Monopoly Cashier value1&quot;, String.valueOf(mValue1));\n                mValue2 = Integer.parseInt(MoneyValue.getText().toString());\n                Log.d(&quot;Monopoly Cashier value2&quot;, String.valueOf(Integer.parseInt(MoneyValue.getText().toString())));\n                mNewMoney = add(mValue1, mValue2);\n                MoneyValue.setText(&quot;Current Money: $&quot; + mNewMoney);\n                MoneyAddedToast.show();\n            } catch (Exception e) {\n                Toast.makeText(this, e.toString(), Toast.LENGTH_SHORT).show();\n                Log.d(&quot;Monopoly CashierError: &quot;, e.getMessage());\n            }\n        });\n</code></pre>\n<p>Please help me I getting really frustrated over this. Thanks in advance.</p>\n<p>P.S: I am a beginner to Android programming in java, so please try to be as simple as  possible.\nP.S 2: I know that there are many questions related to my problem but I couldn't understand any of them as they weren't relatable to what I am facing</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1655475913,"post_id":72660824,"comment_id":128348205,"body_markdown":"check https://stackoverflow.com/questions/70044393/fatal-android-12-exception-startforegroundservice-not-allowed-due-to-mallows","body":"check <a href=\"https://stackoverflow.com/questions/70044393/fatal-android-12-exception-startforegroundservice-not-allowed-due-to-mallows\" title=\"fatal android 12 exception startforegroundservice not allowed due to mallows\">stackoverflow.com/questions/70044393/&hellip;</a>"},{"owner":{"account_id":16484303,"reputation":11,"user_id":11910147,"display_name":"jun74"},"score":0,"creation_date":1655476410,"post_id":72660824,"comment_id":128348405,"body_markdown":"Your app invokes an exact alarm to complete an action that the user requests. It works fine except in the state of the question.","body":"Your app invokes an exact alarm to complete an action that the user requests. It works fine except in the state of the question."}],"owner":{"account_id":16484303,"reputation":11,"user_id":11910147,"display_name":"jun74"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655475661,"creation_date":1655475661,"question_id":72660824,"body_markdown":"Put the setAlarmClock of the Android11 (API30) target resource on standby in the Android Emulator of Android12 (API31).\r\nClose the app.\r\nUpgrade to Android12 (API31) target resource.\r\n\r\njava.lang.RuntimeException: Unable to start receiver com.xxx.xxx.AlarmReceiver: android.app.ForegroundServiceStartNotAllowedException: startForegroundService() not allowed due to mAllowStartForeground false: service com.xxx.xxx/.AlarmService\r\n\r\nThe above error occurs.\r\n\r\nIt operates normally when the above conditions are not met.\r\n\r\nBelow is the source.\r\n```\r\nam.setAlarmClock(new AlarmManager.AlarmClockInfo(alarmRun, showIntent1), pendingIntent2);\r\n```\r\nReceiver\r\n```\r\ncontext.startForegroundService(new Intent(context, AlarmService.class));\r\n```\r\n\r\nIs it a bug in the Android Emulator?\r\n\r\nWill the situation be the same on the actual machine?\r\n\r\nI can&#39;t test because I don&#39;t own the actual Android 12.","title":"About abnormal termination when upgrading the targetSdkVersion from API 30 to 31 while waiting for an alarm on the Android 12 emulator","body":"<p>Put the setAlarmClock of the Android11 (API30) target resource on standby in the Android Emulator of Android12 (API31).\nClose the app.\nUpgrade to Android12 (API31) target resource.</p>\n<p>java.lang.RuntimeException: Unable to start receiver com.xxx.xxx.AlarmReceiver: android.app.ForegroundServiceStartNotAllowedException: startForegroundService() not allowed due to mAllowStartForeground false: service com.xxx.xxx/.AlarmService</p>\n<p>The above error occurs.</p>\n<p>It operates normally when the above conditions are not met.</p>\n<p>Below is the source.</p>\n<pre><code>am.setAlarmClock(new AlarmManager.AlarmClockInfo(alarmRun, showIntent1), pendingIntent2);\n</code></pre>\n<p>Receiver</p>\n<pre><code>context.startForegroundService(new Intent(context, AlarmService.class));\n</code></pre>\n<p>Is it a bug in the Android Emulator?</p>\n<p>Will the situation be the same on the actual machine?</p>\n<p>I can't test because I don't own the actual Android 12.</p>\n"},{"tags":["java","switch-statement","state-machine"],"answers":[{"tags":[],"owner":{"account_id":365230,"reputation":2109,"user_id":710047,"accept_rate":86,"display_name":"totowtwo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308257720,"creation_date":1308257720,"answer_id":6378481,"question_id":6378467,"body_markdown":"Boost has a perfectly fine state machine, the only drawback is getting used to template / type programming\r\n\r\nhttp://www.boost.org/doc/libs/1_46_1/libs/statechart/doc/index.html","title":"Best way to implement a large state machine?","body":"<p>Boost has a perfectly fine state machine, the only drawback is getting used to template / type programming</p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_46_1/libs/statechart/doc/index.html\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_46_1/libs/statechart/doc/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308268793,"creation_date":1308258216,"answer_id":6378571,"question_id":6378467,"body_markdown":"Consider building a table-driven state machine.  If you think about the definition of a state machine, you have basically a set of *states* with a distinguished initial state, a *transition function*, and (in this case) an input and output alphabet.\r\n\r\nYou can construct a table indexed by current state and input, and use a pointer to function, or a functor class, to represent what happens.  That function should return the next state.  Then you can build the state machine as (pseudocode):\r\n\r\n     state := initial state\r\n     while(state != STOP)\r\n        state := (lookupTransition(inputs))()\r\n\r\nwhere `lookupTransition(inputs)` simply finds the next state.  I&#39;m assuming here that the transition functions are functions of no arguments returning state, so `lookupTransition(inputs)` has to be a function of however many inputs you have, returning a pointer to function of void arguments returning state.\r\n\r\nSet this up correctly, and you can put all the state machine and behavior into one table, which can be easily modified and recompiled.\r\n\r\n(For extra credit, figure out how you can load that table from a file, so you don&#39;t need to recompile at all.)\r\n\r\n**Update**\r\n\r\nIn Java, use something like a functor class in place of function pointers.\r\n\r\n**Another Update**\r\n\r\nOf course, another option is to use a state machine compiler like [Ragel][1].\r\n\r\n\r\n  [1]: http://www.complang.org/ragel/","title":"Best way to implement a large state machine?","body":"<p>Consider building a table-driven state machine.  If you think about the definition of a state machine, you have basically a set of <em>states</em> with a distinguished initial state, a <em>transition function</em>, and (in this case) an input and output alphabet.</p>\n\n<p>You can construct a table indexed by current state and input, and use a pointer to function, or a functor class, to represent what happens.  That function should return the next state.  Then you can build the state machine as (pseudocode):</p>\n\n<pre><code> state := initial state\n while(state != STOP)\n    state := (lookupTransition(inputs))()\n</code></pre>\n\n<p>where <code>lookupTransition(inputs)</code> simply finds the next state.  I'm assuming here that the transition functions are functions of no arguments returning state, so <code>lookupTransition(inputs)</code> has to be a function of however many inputs you have, returning a pointer to function of void arguments returning state.</p>\n\n<p>Set this up correctly, and you can put all the state machine and behavior into one table, which can be easily modified and recompiled.</p>\n\n<p>(For extra credit, figure out how you can load that table from a file, so you don't need to recompile at all.)</p>\n\n<p><strong>Update</strong></p>\n\n<p>In Java, use something like a functor class in place of function pointers.</p>\n\n<p><strong>Another Update</strong></p>\n\n<p>Of course, another option is to use a state machine compiler like <a href=\"http://www.complang.org/ragel/\" rel=\"nofollow\">Ragel</a>.</p>\n"},{"tags":[],"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308262528,"creation_date":1308262528,"answer_id":6379274,"question_id":6378467,"body_markdown":"I can&#39;t say I&#39;ve ever used it but there is http://commons.apache.org/scxml/. It&#39;s also not that hard to write by hand, using the table based approach suggested by others. ","title":"Best way to implement a large state machine?","body":"<p>I can't say I've ever used it but there is <a href=\"http://commons.apache.org/scxml/\" rel=\"nofollow\">http://commons.apache.org/scxml/</a>. It's also not that hard to write by hand, using the table based approach suggested by others. </p>\n"},{"tags":[],"owner":{"account_id":204876,"reputation":1939,"user_id":453340,"accept_rate":25,"display_name":"Miro Samek"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1308426887,"creation_date":1308426887,"answer_id":6398520,"question_id":6378467,"body_markdown":"With larger state machines you must watch out for the &quot;transition explosion&quot; phenomenon. It turns out that the traditional Finite State Machines don&#39;t provide mechanisms to reuse common transitions across many states, so you end up repeating too much and your state machine &quot;explodes&quot; (this goes also against the Do-not-Repeat-Yourself (DRY) principle).\r\n\r\nFor that reason I would recommend using hierarchical state machines and and implementation technique that allows easy mapping such state machines to code. For more information about hierarchical state machines, see the Wikipedia article http://en.wikipedia.org/wiki/UML_state_machine. ","title":"Best way to implement a large state machine?","body":"<p>With larger state machines you must watch out for the \"transition explosion\" phenomenon. It turns out that the traditional Finite State Machines don't provide mechanisms to reuse common transitions across many states, so you end up repeating too much and your state machine \"explodes\" (this goes also against the Do-not-Repeat-Yourself (DRY) principle).</p>\n\n<p>For that reason I would recommend using hierarchical state machines and and implementation technique that allows easy mapping such state machines to code. For more information about hierarchical state machines, see the Wikipedia article <a href=\"http://en.wikipedia.org/wiki/UML_state_machine\">http://en.wikipedia.org/wiki/UML_state_machine</a>. </p>\n"},{"tags":[],"owner":{"account_id":124400,"reputation":11,"user_id":1463329,"display_name":"popolsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340105331,"creation_date":1340091762,"answer_id":11096520,"question_id":6378467,"body_markdown":"\r\nBy my side I am using stateforge an HFSM( http://www.stateforge.com/ ).\r\nParallel state ,Hierarchical approach and the observer can solve quite a lot of complex case.\r\n\r\n\r\n\r\n\r\n","title":"Best way to implement a large state machine?","body":"<p>By my side I am using stateforge an HFSM( <a href=\"http://www.stateforge.com/\" rel=\"nofollow\">http://www.stateforge.com/</a> ).\nParallel state ,Hierarchical approach and the observer can solve quite a lot of complex case.</p>\n"}],"owner":{"account_id":224994,"reputation":972,"user_id":485218,"accept_rate":100,"display_name":"deek0146"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7179,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6398520,"answer_count":5,"score":10,"last_activity_date":1655475541,"creation_date":1308257648,"question_id":6378467,"body_markdown":"Basically I have a state machine that controls a game character&#39;s attacks, with timings based on the animation length.\r\n\r\nSo for example:\r\n\r\nI start at the default state, and if the player hits an attack button it starts an attack, switching the state and setting a timer based on the attacks length. The state machine gets more complex however when I consider charge attacks that can be cancelled, attacks that can move to different states depending on what they hit, and also every state has unique ways of dealing with the character being attacked.\r\nAt the moment I have large switch statements. I thought about polymorphism but that would require a new class for every state for which there are a lot (starting attack, attacking and finishing attack all require separate states for example).\r\n\r\nThe switch statement works, but its quite large and also isn&#39;t as easily modified as an inheritance based system.\r\n\r\nAny suggestions on good looking implementations?\r\n\r\nEDIT:\r\nThis is using java.","title":"Best way to implement a large state machine?","body":"<p>Basically I have a state machine that controls a game character's attacks, with timings based on the animation length.</p>\n\n<p>So for example:</p>\n\n<p>I start at the default state, and if the player hits an attack button it starts an attack, switching the state and setting a timer based on the attacks length. The state machine gets more complex however when I consider charge attacks that can be cancelled, attacks that can move to different states depending on what they hit, and also every state has unique ways of dealing with the character being attacked.\nAt the moment I have large switch statements. I thought about polymorphism but that would require a new class for every state for which there are a lot (starting attack, attacking and finishing attack all require separate states for example).</p>\n\n<p>The switch statement works, but its quite large and also isn't as easily modified as an inheritance based system.</p>\n\n<p>Any suggestions on good looking implementations?</p>\n\n<p>EDIT:\nThis is using java.</p>\n"},{"tags":["java","spring-boot","azure","azure-application-insights","open-telemetry"],"comments":[{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1653625908,"post_id":72288677,"comment_id":127901130,"body_markdown":"Does this answer your question? [How to define a relative path in java](https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java\">How to define a relative path in java</a>"},{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1653625950,"post_id":72288677,"comment_id":127901136,"body_markdown":"[Where do I have to put a json file to be available in Java?](https://stackoverflow.com/questions/59822055/where-do-i-have-to-put-a-json-file-to-be-available-in-java)","body":"<a href=\"https://stackoverflow.com/questions/59822055/where-do-i-have-to-put-a-json-file-to-be-available-in-java\">Where do I have to put a json file to be available in Java?</a>"},{"owner":{"account_id":5835334,"reputation":591,"user_id":4598590,"accept_rate":57,"display_name":"sbsatter"},"score":0,"creation_date":1653626895,"post_id":72288677,"comment_id":127901251,"body_markdown":"No @DeepDave-MT, the java agent argument is going to contain the location of a jar file which will vary by computer and env. In addition, when maven downloads the jar file, we can only check the dir and go in there manually to add the applicationinsights.json file. However, it needs to be done for all the different env this is run in and also in deployments/prod. This is the problem I am trying to overcome. Hope this makes sense.","body":"No @DeepDave-MT, the java agent argument is going to contain the location of a jar file which will vary by computer and env. In addition, when maven downloads the jar file, we can only check the dir and go in there manually to add the applicationinsights.json file. However, it needs to be done for all the different env this is run in and also in deployments/prod. This is the problem I am trying to overcome. Hope this makes sense."}],"answers":[{"tags":[],"owner":{"account_id":22311392,"reputation":141,"user_id":16590579,"display_name":"AnuragSingh-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655475486,"creation_date":1655475486,"answer_id":72660782,"question_id":72288677,"body_markdown":"Note that the latest `applicationinsights-agent*.jar` is [available through GitHub][1] and not through Maven repository. Therefore, I don&#39;t think that it can be downloaded as dependency to the project using the `pom.xml`\r\n\r\nNow, the question here is not specific to ApplicationInsights agent, but for any java agent used for monitoring. The `-javaagent` parameter is supplied to JVM (`java` commandline) along with the path. Therefore, it will have to be supplied when JVM starts. How it is being setup would depend on the Server (*or the standalone application*) being used and its starting mechanism. One such solution is discussed here: [How to attach a java agent on to a running spring-boot application][2]. As there are many ways that the application can be deployed/run, the relative path would vary based on it.\r\n\r\nIf you are running standlone springboot application, you may also modify the `mvnw` or `mvnw.cmd` scripts to include `%MAVEN_OPTS%` with the `-javaagent=agent path`, where path could be relative to one of the variables defined in it, like `%MAVEN_PROJECTBASEDIR%`\r\n\r\nRegarding the `applicationinsights.json` file, you can either have it in the same directory as the agent jar, OR set up environment variables to get the settings from there (*instead of having the json file*). You may [refer to this link][3] for details on available Environment variables to configure the agent. These environment variables can be set based on how/where the application is being deployed/run before the JVM initializes to make it available to javaagent. \r\n\r\n\r\n  [1]: https://github.com/microsoft/ApplicationInsights-Java/releases/\r\n  [2]: https://stackoverflow.com/questions/55793234/how-to-attach-a-java-agent-on-to-a-running-spring-boot-application\r\n  [3]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#configuration-file-path","title":"How to add Azure Monitor OpenTelemetry-based auto-instrumentation to Spring Boot Application?","body":"<p>Note that the latest <code>applicationinsights-agent*.jar</code> is <a href=\"https://github.com/microsoft/ApplicationInsights-Java/releases/\" rel=\"nofollow noreferrer\">available through GitHub</a> and not through Maven repository. Therefore, I don't think that it can be downloaded as dependency to the project using the <code>pom.xml</code></p>\n<p>Now, the question here is not specific to ApplicationInsights agent, but for any java agent used for monitoring. The <code>-javaagent</code> parameter is supplied to JVM (<code>java</code> commandline) along with the path. Therefore, it will have to be supplied when JVM starts. How it is being setup would depend on the Server (<em>or the standalone application</em>) being used and its starting mechanism. One such solution is discussed here: <a href=\"https://stackoverflow.com/questions/55793234/how-to-attach-a-java-agent-on-to-a-running-spring-boot-application\">How to attach a java agent on to a running spring-boot application</a>. As there are many ways that the application can be deployed/run, the relative path would vary based on it.</p>\n<p>If you are running standlone springboot application, you may also modify the <code>mvnw</code> or <code>mvnw.cmd</code> scripts to include <code>%MAVEN_OPTS%</code> with the <code>-javaagent=agent path</code>, where path could be relative to one of the variables defined in it, like <code>%MAVEN_PROJECTBASEDIR%</code></p>\n<p>Regarding the <code>applicationinsights.json</code> file, you can either have it in the same directory as the agent jar, OR set up environment variables to get the settings from there (<em>instead of having the json file</em>). You may <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#configuration-file-path\" rel=\"nofollow noreferrer\">refer to this link</a> for details on available Environment variables to configure the agent. These environment variables can be set based on how/where the application is being deployed/run before the JVM initializes to make it available to javaagent.</p>\n"}],"owner":{"account_id":5835334,"reputation":591,"user_id":4598590,"accept_rate":57,"display_name":"sbsatter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655475486,"creation_date":1652874693,"question_id":72288677,"body_markdown":"The documented way to add Azure Monitor OpenTelemetry to Java application is by downloading applicationinsights-agent-3.2.11.jar and using the following:\r\n-javaagent:path/to/applicationinsights-agent-3.2.11.jar.\r\n\r\nSo in Spring Boot, the way it could possibly be run:\r\n\r\n`java -javaagent:path/to/applicationinsights-agent-3.2.11.jar -jar &lt;jar-file.jar&gt;`. \r\n\r\nBut what happens if this path varies?\r\n\r\nThe problem is depending on the system it is running, and using maven (pom.xml) to get the artifact, how do we enable opentelemetry with applicationinsights-agent-3.2.11.jar since the location Maven stores the artifact changes from user accounts and computer?\r\n\r\nAdditionally, how do I specify a relative path to applicationinsights.json file for configuration (as Azure looks for this file inside the applicationinsights-agent-3.2.11.jar directory)?\r\n\r\n&gt; [If you specify a relative path, it will be resolved relative to the\r\n&gt; directory where applicationinsights-agent-3.2.11.jar is located.][1]\r\n\r\n**UPDATE**\r\nRegarding suggestions, [How to define a relative path in java][2] and this [other suggested question][3]\r\nI am not looking to read files from relative paths.\r\nThe spring boot application needs to be invoked with a specific argument where it needs to be made aware of the location where maven downloads the the appinsights jar file.\r\nThen when the app starts, the appinsights autoconfigure based on applicationinsights.json file, which once again, may vary by location.\r\n\r\n\r\n  [1]: https://%20https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#configuration-file-path\r\n  [2]: https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java\r\n  [3]: https://stackoverflow.com/questions/59822055/where-do-i-have-to-put-a-json-file-to-be-available-in-java","title":"How to add Azure Monitor OpenTelemetry-based auto-instrumentation to Spring Boot Application?","body":"<p>The documented way to add Azure Monitor OpenTelemetry to Java application is by downloading applicationinsights-agent-3.2.11.jar and using the following:\n-javaagent:path/to/applicationinsights-agent-3.2.11.jar.</p>\n<p>So in Spring Boot, the way it could possibly be run:</p>\n<p><code>java -javaagent:path/to/applicationinsights-agent-3.2.11.jar -jar &lt;jar-file.jar&gt;</code>.</p>\n<p>But what happens if this path varies?</p>\n<p>The problem is depending on the system it is running, and using maven (pom.xml) to get the artifact, how do we enable opentelemetry with applicationinsights-agent-3.2.11.jar since the location Maven stores the artifact changes from user accounts and computer?</p>\n<p>Additionally, how do I specify a relative path to applicationinsights.json file for configuration (as Azure looks for this file inside the applicationinsights-agent-3.2.11.jar directory)?</p>\n<blockquote>\n<p><a href=\"https://%20https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#configuration-file-path\" rel=\"nofollow noreferrer\">If you specify a relative path, it will be resolved relative to the\ndirectory where applicationinsights-agent-3.2.11.jar is located.</a></p>\n</blockquote>\n<p><strong>UPDATE</strong>\nRegarding suggestions, <a href=\"https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java\">How to define a relative path in java</a> and this <a href=\"https://stackoverflow.com/questions/59822055/where-do-i-have-to-put-a-json-file-to-be-available-in-java\">other suggested question</a>\nI am not looking to read files from relative paths.\nThe spring boot application needs to be invoked with a specific argument where it needs to be made aware of the location where maven downloads the the appinsights jar file.\nThen when the app starts, the appinsights autoconfigure based on applicationinsights.json file, which once again, may vary by location.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1655473319,"post_id":72658694,"comment_id":128347289,"body_markdown":"Can you try `DeviceDetailsRepository extends JpaRepository&lt;DeviceDetails, String&gt;`, and then in the Service class, simply use `List&lt;DeviceDetails&gt; deviceDetails = deviceDetailsRepository.findAll();`","body":"Can you try <code>DeviceDetailsRepository extends JpaRepository&lt;DeviceDetails, String&gt;</code>, and then in the Service class, simply use <code>List&lt;DeviceDetails&gt; deviceDetails = deviceDetailsRepository.findAll();</code>"}],"answers":[{"tags":[],"owner":{"account_id":19306794,"reputation":85,"user_id":14113432,"display_name":"Harshita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655468907,"creation_date":1655468907,"answer_id":72659399,"question_id":72658694,"body_markdown":"Please try to override ```findAll(Sort S)``` method in ```DeviceDetailsRepository``` like:\r\n```\r\n@Override\r\nList&lt;DeviceDetails&gt; findAll(Sort S);\r\n```\r\nThis way you won&#39;t have to create ```List``` from ```Iterable``` in service class and may be this is where problem lies. Rest of the code looks good.","title":"Hibernate JPA &quot;findAll()&quot; Returning only One Row (Spring Boot 2.3.7)","body":"<p>Please try to override <code>findAll(Sort S)</code> method in <code>DeviceDetailsRepository</code> like:</p>\n<pre><code>@Override\nList&lt;DeviceDetails&gt; findAll(Sort S);\n</code></pre>\n<p>This way you won't have to create <code>List</code> from <code>Iterable</code> in service class and may be this is where problem lies. Rest of the code looks good.</p>\n"},{"tags":[],"owner":{"account_id":22330142,"reputation":156,"user_id":16551501,"display_name":"paulfischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655475342,"creation_date":1655474556,"answer_id":72660614,"question_id":72658694,"body_markdown":"I believe that there could be a problem with the DEVICE_DETAILS table.\r\n\r\nAccording to the Entity Class, &quot;DeviceName&quot; is the primary key of DeviceDetails. Therefore, it must be unique among the devices. I wonder if this constraint is satisfied in your data. Is the `primary key` condition defined in the schema?\r\n\r\nIt should look something like this:\r\n\r\n```sql\r\ncreate table device_details (\r\n\tconnection_type int not null,\r\n\tcustomergrua varchar not null,\r\n\tdevice_name varchar primary key not null,\r\n\tdevice_state int not null,\r\n\tvendor varchar not null\r\n);\r\n```\r\n\r\nIn case the device names are not unique, you should choose another primary key (@Id) or create a dummy one.\r\n\r\nRef: https://stackoverflow.com/questions/53281870/spring-data-jpa-query-return-repeated-row-instead-of-actual-data-why","title":"Hibernate JPA &quot;findAll()&quot; Returning only One Row (Spring Boot 2.3.7)","body":"<p>I believe that there could be a problem with the DEVICE_DETAILS table.</p>\n<p>According to the Entity Class, &quot;DeviceName&quot; is the primary key of DeviceDetails. Therefore, it must be unique among the devices. I wonder if this constraint is satisfied in your data. Is the <code>primary key</code> condition defined in the schema?</p>\n<p>It should look something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table device_details (\n    connection_type int not null,\n    customergrua varchar not null,\n    device_name varchar primary key not null,\n    device_state int not null,\n    vendor varchar not null\n);\n</code></pre>\n<p>In case the device names are not unique, you should choose another primary key (@Id) or create a dummy one.</p>\n<p>Ref: <a href=\"https://stackoverflow.com/questions/53281870/spring-data-jpa-query-return-repeated-row-instead-of-actual-data-why\">Spring Data JPA query return repeated row instead of actual data, why?</a></p>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72660614,"answer_count":2,"score":0,"last_activity_date":1655475342,"creation_date":1655465309,"question_id":72658694,"body_markdown":"I am trying to fetch some data from a table and perform some operations on it. But somehow it just returns one row over and over again.\r\n\r\nHere&#39;s my Repository class:\r\n\r\n    package com.gtt.wcas.device.db.repository;\r\n    \r\n    import org.springframework.data.repository.PagingAndSortingRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.gtt.wcas.device.db.jpa.DeviceDetails;\r\n    \r\n    \r\n    @Repository\r\n    public interface DeviceDetailsRepository extends PagingAndSortingRepository&lt;DeviceDetails, String&gt; {\r\n    \r\n    }\r\n\r\n\r\nMy Entity Class is like:\r\n\r\n    package com.gtt.wcas.device.db.jpa;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;DEVICE_DETAILS&quot;)\r\n    public class DeviceDetails {\r\n    \r\n    \t@Column(name = &quot;ConnectionType&quot;, nullable = false)\r\n    \tprivate Integer connectionType = -1;\r\n    \t\r\n    \t@Column(name = &quot;CustomerGRUA&quot;, nullable = false)\r\n    \tprivate String customerGRUA;\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;DeviceName&quot;, nullable = false)\r\n    \tprivate String deviceName;\r\n    \r\n    \t@Column(name = &quot;DeviceState&quot;, nullable = false)\r\n    \tprivate Integer deviceState = -1;\r\n    \r\n    \t@Column(name = &quot;Vendor&quot;, nullable = false)\r\n    \tprivate String vendor;\r\n    \r\n    \r\n    \t/**\r\n    \t * Default Constructor\r\n    \t */\r\n    \tpublic DeviceDetails() {\r\n    \r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * @return the connectionType\r\n    \t */\r\n    \tpublic Integer getConnectionType() {\r\n    \t\treturn connectionType;\r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * @param connectionType the connectionType to set\r\n    \t */\r\n    \tpublic void setConnectionType(Integer connectionType) {\r\n    \r\n    \t\tif (connectionType == null) {\r\n    \t\t\tthis.connectionType = -1;\r\n    \t\t} else {\r\n    \t\t\tthis.connectionType = connectionType;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t.\r\n    \t.\r\n    \t.\r\n    \tOther Getters and Setters.\r\n    \t.\r\n    \t.\r\n    \t.\r\n    }\r\n\r\n\r\nMy Service Class is like:\r\n\r\n    package com.gtt.wcas.device.db.service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.gtt.wcas.device.db.jpa.DeviceDetails;\r\n    import com.gtt.wcas.device.db.repository.DeviceDetailsRepository;\r\n    \r\n    @Service(&quot;deviceDetailsService&quot;)\r\n    public class DeviceDetailsService {\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(DeviceDetailsService.class.getName());\r\n    \r\n    \tprivate DeviceDetailsRepository deviceDetailsRepository;\r\n    \r\n    \t/**\r\n    \t * Constructor\r\n    \t * @param deviceDetailsRepository\r\n    \t */\r\n    \t@Autowired\r\n    \tpublic DeviceDetailsService (DeviceDetailsRepository deviceDetailsRepository) {\r\n    \t\tthis.deviceDetailsRepository = deviceDetailsRepository;\r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * Fetch all the columns in DEVICE_DETAILS table.\r\n    \t * @return List&lt;DeviceDetails&gt;\r\n    \t */\r\n    \tpublic List&lt;DeviceDetails&gt; getAllDeviceDetails() {\r\n    \r\n    \t\tList&lt;DeviceDetails&gt; deviceDetails = new ArrayList&lt;DeviceDetails&gt;();\r\n    \r\n    \t\tlogger.debug(&quot;Searching for all device in the table.&quot;);\r\n    \r\n    \t\tIterable&lt;DeviceDetails&gt; deviceDetailsIterator = deviceDetailsRepository.findAll(Sort.by(&quot;customerGRUA&quot;));\r\n    \r\n    \t\tdeviceDetails = StreamSupport.stream(deviceDetailsIterator.spliterator(), false).collect(Collectors.toList());\r\n    \r\n    \t\tlogger.debug(&quot;Fetched all device in the table.&quot;);\r\n    \r\n    \t\treturn deviceDetails;\r\n    \t}\r\n    }\r\n\r\n\r\nMy Controller Class:\r\n\r\n    @RestController\r\n    public class DeviceConnectionController {\r\n    \r\n    \t@Autowired\r\n    \t@Resource(name = &quot;deviceDetailsService&quot;)\r\n    \tDeviceDetailsService deviceDetailsService;\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(DeviceConnectionController.class.getName());\r\n    \r\n    \r\n    \t@RequestMapping(value = &quot;/deviceConnection&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;String&gt; deviceConnection(@RequestParam(value = &quot;verify&quot;, defaultValue = &quot;false&quot;) String verify, @RequestParam(value = &quot;deviceName&quot;) String deviceName) {\r\n    \r\n    \t\tboolean verification = Boolean.valueOf(verify);\r\n    \r\n    \t\tdeviceConnectionDetails = DeviceDetailsDB.getDeviceDetails(deviceName, deviceDetailsService);\r\n    \t\t\t\r\n    \t\t.\r\n    \t\t.\r\n    \t\t.\r\n    \t}\r\n    \t\r\n    \t.\r\n    \t.\r\n    \t.\r\n    \t.\r\n    }\r\n\r\n\r\nAnd finally the class that the problem shows up:\r\n\r\n\r\n    public class DeviceDetailsDB {\r\n    \r\n    \t/**\r\n    \t * Get details stored for the specified devicename\r\n    \t *\r\n    \t * @param deviceName\r\n    \t * @param deviceDetailsService\r\n    \t */\r\n    \tpublic static DeviceConnectionDetails getDeviceDetails(String deviceName, DeviceDetailsService deviceDetailsService) {\r\n    \r\n    \t\tDeviceConnectionDetails deviceConnectionDetails = new DeviceConnectionDetails(deviceName);\r\n    \r\n    \t\tList&lt;DeviceDetails&gt; deviceDetailsList = deviceDetailsService.getAllDeviceDetails();\r\n    \r\n    \t\tfor (DeviceDetails deviceDetails : deviceDetailsList) {\r\n    \t\t\tSystem.out.println(&quot;Device Details: &quot; + deviceDetails.getDeviceName() + &quot;\\t GRUA: &quot; + deviceDetails.getCustomerGRUA());\r\n    \t\t}\r\n    \r\n    \t\tDeviceDetails deviceDetails = deviceDetailsService.getDeviceDetailsbyID(deviceName);\r\n    \t\t\r\n    \t\t.\r\n    \t\t.\r\n    \t\t.\r\n    \t\t.\r\n    \t}\r\n    \t\r\n    \t.\r\n    \t.\r\n    \t.\r\n    }\r\n\r\nAnd the application.properties file:\r\n\r\n    #datasource configurations\r\n    spring.datasource.url=THE URL\r\n    spring.datasource.username=USERNAME\r\n    spring.datasource.password=PASSWORD\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n    # Enabling H2 Console\r\n    spring.h2.console.enabled=true\r\n    # Custom H2 Console URL\r\n    spring.h2.console.path=/h2-console\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    # DDL generation\r\n    spring.jpa.generate-ddl=true\r\n\r\nBut the `for` loop above just regurgitates only one line over and over again, rather than printing all the rows in the table. The table has more than 200 rows in it.\r\n\r\nThe output is like:\r\n\r\n    Device Details: \t GRUA: 0070\r\n    Device Details: \t GRUA: 0070\r\n    Device Details: \t GRUA: 0070\r\n    Device Details: \t GRUA: 0070\r\n    Device Details: \t GRUA: 0070\r\n    Device Details: \t GRUA: 0070\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    and so on.\r\n\r\nIs it something I am doing wrong? I am guessing its some problem with Service class. But since this is the first time for me, not sure where to look.\r\n\r\n\r\nThanks in advance.","title":"Hibernate JPA &quot;findAll()&quot; Returning only One Row (Spring Boot 2.3.7)","body":"<p>I am trying to fetch some data from a table and perform some operations on it. But somehow it just returns one row over and over again.</p>\n<p>Here's my Repository class:</p>\n<pre><code>package com.gtt.wcas.device.db.repository;\n\nimport org.springframework.data.repository.PagingAndSortingRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.gtt.wcas.device.db.jpa.DeviceDetails;\n\n\n@Repository\npublic interface DeviceDetailsRepository extends PagingAndSortingRepository&lt;DeviceDetails, String&gt; {\n\n}\n</code></pre>\n<p>My Entity Class is like:</p>\n<pre><code>package com.gtt.wcas.device.db.jpa;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;DEVICE_DETAILS&quot;)\npublic class DeviceDetails {\n\n    @Column(name = &quot;ConnectionType&quot;, nullable = false)\n    private Integer connectionType = -1;\n    \n    @Column(name = &quot;CustomerGRUA&quot;, nullable = false)\n    private String customerGRUA;\n\n    @Id\n    @Column(name = &quot;DeviceName&quot;, nullable = false)\n    private String deviceName;\n\n    @Column(name = &quot;DeviceState&quot;, nullable = false)\n    private Integer deviceState = -1;\n\n    @Column(name = &quot;Vendor&quot;, nullable = false)\n    private String vendor;\n\n\n    /**\n     * Default Constructor\n     */\n    public DeviceDetails() {\n\n    }\n\n\n    /**\n     * @return the connectionType\n     */\n    public Integer getConnectionType() {\n        return connectionType;\n    }\n\n\n    /**\n     * @param connectionType the connectionType to set\n     */\n    public void setConnectionType(Integer connectionType) {\n\n        if (connectionType == null) {\n            this.connectionType = -1;\n        } else {\n            this.connectionType = connectionType;\n        }\n    }\n    \n    .\n    .\n    .\n    Other Getters and Setters.\n    .\n    .\n    .\n}\n</code></pre>\n<p>My Service Class is like:</p>\n<pre><code>package com.gtt.wcas.device.db.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\nimport java.util.stream.StreamSupport;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.stereotype.Service;\n\nimport com.gtt.wcas.device.db.jpa.DeviceDetails;\nimport com.gtt.wcas.device.db.repository.DeviceDetailsRepository;\n\n@Service(&quot;deviceDetailsService&quot;)\npublic class DeviceDetailsService {\n\n    Logger logger = LoggerFactory.getLogger(DeviceDetailsService.class.getName());\n\n    private DeviceDetailsRepository deviceDetailsRepository;\n\n    /**\n     * Constructor\n     * @param deviceDetailsRepository\n     */\n    @Autowired\n    public DeviceDetailsService (DeviceDetailsRepository deviceDetailsRepository) {\n        this.deviceDetailsRepository = deviceDetailsRepository;\n    }\n\n\n    /**\n     * Fetch all the columns in DEVICE_DETAILS table.\n     * @return List&lt;DeviceDetails&gt;\n     */\n    public List&lt;DeviceDetails&gt; getAllDeviceDetails() {\n\n        List&lt;DeviceDetails&gt; deviceDetails = new ArrayList&lt;DeviceDetails&gt;();\n\n        logger.debug(&quot;Searching for all device in the table.&quot;);\n\n        Iterable&lt;DeviceDetails&gt; deviceDetailsIterator = deviceDetailsRepository.findAll(Sort.by(&quot;customerGRUA&quot;));\n\n        deviceDetails = StreamSupport.stream(deviceDetailsIterator.spliterator(), false).collect(Collectors.toList());\n\n        logger.debug(&quot;Fetched all device in the table.&quot;);\n\n        return deviceDetails;\n    }\n}\n</code></pre>\n<p>My Controller Class:</p>\n<pre><code>@RestController\npublic class DeviceConnectionController {\n\n    @Autowired\n    @Resource(name = &quot;deviceDetailsService&quot;)\n    DeviceDetailsService deviceDetailsService;\n\n    Logger logger = LoggerFactory.getLogger(DeviceConnectionController.class.getName());\n\n\n    @RequestMapping(value = &quot;/deviceConnection&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; deviceConnection(@RequestParam(value = &quot;verify&quot;, defaultValue = &quot;false&quot;) String verify, @RequestParam(value = &quot;deviceName&quot;) String deviceName) {\n\n        boolean verification = Boolean.valueOf(verify);\n\n        deviceConnectionDetails = DeviceDetailsDB.getDeviceDetails(deviceName, deviceDetailsService);\n            \n        .\n        .\n        .\n    }\n    \n    .\n    .\n    .\n    .\n}\n</code></pre>\n<p>And finally the class that the problem shows up:</p>\n<pre><code>public class DeviceDetailsDB {\n\n    /**\n     * Get details stored for the specified devicename\n     *\n     * @param deviceName\n     * @param deviceDetailsService\n     */\n    public static DeviceConnectionDetails getDeviceDetails(String deviceName, DeviceDetailsService deviceDetailsService) {\n\n        DeviceConnectionDetails deviceConnectionDetails = new DeviceConnectionDetails(deviceName);\n\n        List&lt;DeviceDetails&gt; deviceDetailsList = deviceDetailsService.getAllDeviceDetails();\n\n        for (DeviceDetails deviceDetails : deviceDetailsList) {\n            System.out.println(&quot;Device Details: &quot; + deviceDetails.getDeviceName() + &quot;\\t GRUA: &quot; + deviceDetails.getCustomerGRUA());\n        }\n\n        DeviceDetails deviceDetails = deviceDetailsService.getDeviceDetailsbyID(deviceName);\n        \n        .\n        .\n        .\n        .\n    }\n    \n    .\n    .\n    .\n}\n</code></pre>\n<p>And the application.properties file:</p>\n<pre><code>#datasource configurations\nspring.datasource.url=THE URL\nspring.datasource.username=USERNAME\nspring.datasource.password=PASSWORD\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n# Enabling H2 Console\nspring.h2.console.enabled=true\n# Custom H2 Console URL\nspring.h2.console.path=/h2-console\nspring.jpa.hibernate.ddl-auto=update\n# DDL generation\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>But the <code>for</code> loop above just regurgitates only one line over and over again, rather than printing all the rows in the table. The table has more than 200 rows in it.</p>\n<p>The output is like:</p>\n<pre><code>Device Details:      GRUA: 0070\nDevice Details:      GRUA: 0070\nDevice Details:      GRUA: 0070\nDevice Details:      GRUA: 0070\nDevice Details:      GRUA: 0070\nDevice Details:      GRUA: 0070\n.\n.\n.\n.\n.\nand so on.\n</code></pre>\n<p>Is it something I am doing wrong? I am guessing its some problem with Service class. But since this is the first time for me, not sure where to look.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655475279,"post_id":72657922,"comment_id":128347972,"body_markdown":"Not sure I understand the question. You can use ProcessBuilder to run the exact same shell command. You don&#39;t need to do it all &quot;from Java&quot;","body":"Not sure I understand the question. You can use ProcessBuilder to run the exact same shell command. You don&#39;t need to do it all &quot;from Java&quot;"},{"owner":{"account_id":25505651,"reputation":49,"user_id":19298154,"display_name":"utkarsh saraf"},"score":0,"creation_date":1655626373,"post_id":72657922,"comment_id":128372659,"body_markdown":"@OneCricketeer I have kafka  running inside docker on kubernetes cluster. How to connect to it from java kafka client with ```ProcessBuilder``` is main issue.","body":"@OneCricketeer I have kafka  running inside docker on kubernetes cluster. How to connect to it from java kafka client with <code>ProcessBuilder</code> is main issue."}],"owner":{"account_id":25505651,"reputation":49,"user_id":19298154,"display_name":"utkarsh saraf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655475328,"creation_date":1655461570,"question_id":72657922,"body_markdown":"I am new to kafka and trying to implement the following command line code with latest spring kafka version but still have no clue apart from using ```KafkaConfig``` class for it.\r\n\r\n```\r\nkafka-configs --zookeeper zookeeper-1:22181 --alter --add-config \\\r\n&#39;SCRAM-SHA-256=[iterations=4096,password=password],SCRAM-SHA-512=[iterations=4096,password=password]&#39; \\\r\n--entity-type users --entity-name metricsreporter\r\n``` \r\n\r\nKindly help as i am kind of stuck.","title":"Create SCRAM user credentials in Kafka Cluster with Spring Boot Kafka","body":"<p>I am new to kafka and trying to implement the following command line code with latest spring kafka version but still have no clue apart from using <code>KafkaConfig</code> class for it.</p>\n<pre><code>kafka-configs --zookeeper zookeeper-1:22181 --alter --add-config \\\n'SCRAM-SHA-256=[iterations=4096,password=password],SCRAM-SHA-512=[iterations=4096,password=password]' \\\n--entity-type users --entity-name metricsreporter\n</code></pre>\n<p>Kindly help as i am kind of stuck.</p>\n"},{"tags":["java","c#","sockets","client","godot"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1655475955,"post_id":72659983,"comment_id":128348226,"body_markdown":"Please read the javadocs for `BufferedReader.readLine()`. In this case, it doesn&#39;t seem like any Reader, including BufferedReader, is the right tool for the job in java. Rather it seems like `DataInputStream` is the better class. The `DataInputStream.readInt()` method can be used to read in the value sent at `clientSocket.Send(toSendLenBytes);`, then a byte [] array can be allocated and `DataInputStream.readFully()` can be called next with that byte array. Finally, convert to `String` with the `String(byte[], StandardCharsets.ASCII)` constructor.","body":"Please read the javadocs for <code>BufferedReader.readLine()</code>. In this case, it doesn&#39;t seem like any Reader, including BufferedReader, is the right tool for the job in java. Rather it seems like <code>DataInputStream</code> is the better class. The <code>DataInputStream.readInt()</code> method can be used to read in the value sent at <code>clientSocket.Send(toSendLenBytes);</code>, then a byte [] array can be allocated and <code>DataInputStream.readFully()</code> can be called next with that byte array. Finally, convert to <code>String</code> with the <code>String(byte[], StandardCharsets.ASCII)</code> constructor."},{"owner":{"account_id":25579995,"reputation":11,"user_id":19358744,"display_name":"hypertext"},"score":0,"creation_date":1655476616,"post_id":72659983,"comment_id":128348490,"body_markdown":"How can I allocate a byte array? I save the Integer value from `DataInputStream.readInt()`. Which byte array should I insert in `DataInputStream.readFully(byte[] array)`? Do I have to cast the Integer to a byte array, or convert it? Thanks!","body":"How can I allocate a byte array? I save the Integer value from <code>DataInputStream.readInt()</code>. Which byte array should I insert in <code>DataInputStream.readFully(byte[] array)</code>? Do I have to cast the Integer to a byte array, or convert it? Thanks!"},{"owner":{"account_id":25579995,"reputation":11,"user_id":19358744,"display_name":"hypertext"},"score":0,"creation_date":1655479105,"post_id":72659983,"comment_id":128349438,"body_markdown":"Okay, so I managed to get this to run, but it doesn&#39;t help. The message remains empty.","body":"Okay, so I managed to get this to run, but it doesn&#39;t help. The message remains empty."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1655485879,"post_id":72659983,"comment_id":128351849,"body_markdown":"Your Java code waits for a whole line. Your C# code doesn&#39;t send a whole line. So your Java code keeps waiting.","body":"Your Java code waits for a whole line. Your C# code doesn&#39;t send a whole line. So your Java code keeps waiting."}],"owner":{"account_id":25579995,"reputation":11,"user_id":19358744,"display_name":"hypertext"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655475126,"creation_date":1655471671,"question_id":72659983,"body_markdown":"I am using C# to create a client socket that should connect with a Java socket server. But no matter what I try the code always manages to send some sort of message, but for the Java server it&#39;s completely empty. \r\n\r\nThis is the C# client code:\r\n\r\n\r\n```\r\nusing Godot;\r\nusing System;\r\nusing System.Net;\r\nusing System.Net.Sockets;\r\nusing System.Text;\r\n\r\npublic class Scanning: Control\r\n{\r\n    // Called when the node enters the scene tree for the first time.\r\n    public override void _Ready()\r\n    {\r\n        string toSend = &quot;Handshake:Interface&quot;;\r\n\r\n        IPEndPoint serverAddress = new IPEndPoint(IPAddress.Parse(&quot;127.0.0.1&quot;), 429);\r\n\r\n        Socket clientSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\r\n        clientSocket.Connect(serverAddress);\r\n\r\n        // Sending\r\n        int toSendLen = System.Text.Encoding.ASCII.GetByteCount(toSend);\r\n        byte[] toSendBytes = System.Text.Encoding.ASCII.GetBytes(toSend);\r\n        byte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\r\n        clientSocket.Send(toSendLenBytes);\r\n        clientSocket.Send(toSendBytes);\r\n\r\n        Console.WriteLine(&quot;Client received: &quot; + rcv);*/\r\n\r\n        clientSocket.Close();\r\n    }\r\n}\r\n```\r\n\r\nJava code that is responsible for working with the client:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class ClientHandler {\r\n\t\r\n\tpublic PrintWriter out;\r\n    public BufferedReader in;\r\n\r\n    public Socket clientSocket;\r\n\t\r\n    public Thread thread;\r\n    \r\n\tpublic ClientHandler(Socket client) {\r\n\t\tclientSocket = client;\r\n\t\tSystem.out.println(&quot;Processing connection from &quot; + clientSocket.getInetAddress());\r\n\t\tthread = new Thread(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tout = new PrintWriter(clientSocket.getOutputStream(), true);\r\n\t\t\t\t\tin = new BufferedReader(new InputStreamReader(clientSocket.getInputStream(), &quot;UTF-8&quot;));\r\n\t\t\t\t\tArrayList&lt;String&gt; cmdBuffer = new ArrayList&lt;String&gt;();\r\n\t\t\t\t\twhile (!Main.test.get()) {\r\n\t\t\t\t\t\tString msg = in.readLine();\r\n\r\n\t\t\t\t\t\tif(msg.startsWith(&quot;Handshake&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;LOG: &quot; + msg);\r\n\t\t\t\t\t\t\tString[] work = msg.split(&quot;:&quot;);\r\n\t\t\t\t\t\t\tif (!MessageChannel.clients.contains(work[1])) {\r\n\t\t\t\t\t\t\t\trespond(&quot;1/I/Handshake successful for/&quot; + work[1]);\r\n\t\t\t\t\t\t\t\trespond(&quot;Connected: &quot; + MessageChannel.clients);\r\n\t\t\t\t\t\t\t\tMessageChannel.buffer.put(work[1], cmdBuffer);\r\n\t\t\t\t\t\t\t\tMessageChannel.clients.add(work[1]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (msg.startsWith(&quot;Disconnect&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;LOG: &quot; + msg);\r\n\t\t\t\t\t\t\tString[] work = msg.split(&quot;:&quot;);\r\n\t\t\t\t\t\t\tMessageChannel.clients.remove(work[1]);\r\n\t\t\t\t\t\t\tMessageChannel.buffer.remove(work[1]);\r\n\t\t\t\t\t\t\tout.println(&quot;I/Disconnected/&quot; + work[1]);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else if(msg.startsWith(&quot;List&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;LOG: &quot; + msg);\r\n\t\t\t\t\t\t\trespond(&quot;0/Connected: &quot; + MessageChannel.clients);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tString[] work = msg.split(&quot;:&quot;);\r\n\t\t\t\t\t\t\tif (MessageChannel.clients.contains(work[0])){\r\n\t\t\t\t\t\t\t\tif (work[1].equals(&quot;Lookup&quot;)) {\r\n\t\t\t\t\t\t\t\t\tout.println(MessageChannel.buffer.get(work[0]).size() +&quot;/Lookup:&quot;);\r\n\t\t\t\t\t\t\t\t\tfor (String e : MessageChannel.buffer.get(work[0])) {\r\n\t\t\t\t\t\t\t\t\t\tout.println(e);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tMessageChannel.buffer.replace(work[0], new ArrayList&lt;String&gt;());\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;LOG: &quot; + msg);\r\n\t\t\t\t\t\t\t\t\tMessageChannel.buffer.get(work[1]).add(work[2]);\r\n\t\t\t\t\t\t\t\t\trespond(&quot;0/I/Success&quot;);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n\tpublic void respond(String msg) {\r\n\t\tout.println(msg);\r\n\t\tSystem.out.println(&quot;LOGR: &quot; + msg);\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nHow can I fix that? Thanks in advance!","title":"Java Socket server can&#39;t receive messages from C# client","body":"<p>I am using C# to create a client socket that should connect with a Java socket server. But no matter what I try the code always manages to send some sort of message, but for the Java server it's completely empty.</p>\n<p>This is the C# client code:</p>\n<pre><code>using Godot;\nusing System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\n\npublic class Scanning: Control\n{\n    // Called when the node enters the scene tree for the first time.\n    public override void _Ready()\n    {\n        string toSend = &quot;Handshake:Interface&quot;;\n\n        IPEndPoint serverAddress = new IPEndPoint(IPAddress.Parse(&quot;127.0.0.1&quot;), 429);\n\n        Socket clientSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        clientSocket.Connect(serverAddress);\n\n        // Sending\n        int toSendLen = System.Text.Encoding.ASCII.GetByteCount(toSend);\n        byte[] toSendBytes = System.Text.Encoding.ASCII.GetBytes(toSend);\n        byte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\n        clientSocket.Send(toSendLenBytes);\n        clientSocket.Send(toSendBytes);\n\n        Console.WriteLine(&quot;Client received: &quot; + rcv);*/\n\n        clientSocket.Close();\n    }\n}\n</code></pre>\n<p>Java code that is responsible for working with the client:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.ArrayList;\n\n\npublic class ClientHandler {\n    \n    public PrintWriter out;\n    public BufferedReader in;\n\n    public Socket clientSocket;\n    \n    public Thread thread;\n    \n    public ClientHandler(Socket client) {\n        clientSocket = client;\n        System.out.println(&quot;Processing connection from &quot; + clientSocket.getInetAddress());\n        thread = new Thread(new Runnable() {\n            \n            @Override\n            public void run() {\n                try {\n                    out = new PrintWriter(clientSocket.getOutputStream(), true);\n                    in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream(), &quot;UTF-8&quot;));\n                    ArrayList&lt;String&gt; cmdBuffer = new ArrayList&lt;String&gt;();\n                    while (!Main.test.get()) {\n                        String msg = in.readLine();\n\n                        if(msg.startsWith(&quot;Handshake&quot;)) {\n                            System.out.println(&quot;LOG: &quot; + msg);\n                            String[] work = msg.split(&quot;:&quot;);\n                            if (!MessageChannel.clients.contains(work[1])) {\n                                respond(&quot;1/I/Handshake successful for/&quot; + work[1]);\n                                respond(&quot;Connected: &quot; + MessageChannel.clients);\n                                MessageChannel.buffer.put(work[1], cmdBuffer);\n                                MessageChannel.clients.add(work[1]);\n                            }\n                        } else if (msg.startsWith(&quot;Disconnect&quot;)) {\n                            System.out.println(&quot;LOG: &quot; + msg);\n                            String[] work = msg.split(&quot;:&quot;);\n                            MessageChannel.clients.remove(work[1]);\n                            MessageChannel.buffer.remove(work[1]);\n                            out.println(&quot;I/Disconnected/&quot; + work[1]);\n                            \n                        } else if(msg.startsWith(&quot;List&quot;)) {\n                            System.out.println(&quot;LOG: &quot; + msg);\n                            respond(&quot;0/Connected: &quot; + MessageChannel.clients);\n                            \n                        } else {\n                            String[] work = msg.split(&quot;:&quot;);\n                            if (MessageChannel.clients.contains(work[0])){\n                                if (work[1].equals(&quot;Lookup&quot;)) {\n                                    out.println(MessageChannel.buffer.get(work[0]).size() +&quot;/Lookup:&quot;);\n                                    for (String e : MessageChannel.buffer.get(work[0])) {\n                                        out.println(e);\n                                    }\n                                    MessageChannel.buffer.replace(work[0], new ArrayList&lt;String&gt;());\n                                } else {\n                                    System.out.println(&quot;LOG: &quot; + msg);\n                                    MessageChannel.buffer.get(work[1]).add(work[2]);\n                                    respond(&quot;0/I/Success&quot;);\n                                }\n                            }\n                            \n                        }\n                        \n                        \n                    }\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n                \n            }\n        });\n        thread.start();\n        \n        \n        \n    }\n    \n\n    \n    \n    public void respond(String msg) {\n        out.println(msg);\n        System.out.println(&quot;LOGR: &quot; + msg);\n    }\n    \n\n}\n</code></pre>\n<p>How can I fix that? Thanks in advance!</p>\n"},{"tags":["java","mongodb","performance","memory-management","bigdata"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655474520,"post_id":72660537,"comment_id":128347721,"body_markdown":"You must add a lot of more details for this question to be answerable.","body":"You must add a lot of more details for this question to be answerable."},{"owner":{"account_id":15154518,"reputation":21,"user_id":10935826,"display_name":"Hicham Moro"},"score":0,"creation_date":1655475011,"post_id":72660537,"comment_id":128347893,"body_markdown":"the question is clear , but i added some more details to be comprehensive. thank you","body":"the question is clear , but i added some more details to be comprehensive. thank you"}],"owner":{"account_id":15154518,"reputation":21,"user_id":10935826,"display_name":"Hicham Moro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655474894,"creation_date":1655474202,"question_id":72660537,"body_markdown":"I have a hug amount of data on MongoDB I want to compare them but the process needs some logical side to achieve the goal, I know that using Java for the case seems to be complicated for Memory usages? \r\n\r\nUSA CASE : \r\n\r\nI want to compare two documents &quot;Tables&quot; in mongodb that has a large amount of data &gt;1.46M lines, we need to use an approach or some logical part which allows us to do it efficiently without losing memory capacities or arrived to the worth cases ?\r\n\r\nI&#39;ve tried to put the data into java collections and in order to get the descripancies between them, I implement the comparison logic code side using threads but i got a lot of memory leaks and the process takes a lot of time.","title":"How to trait 1,64Million of records on MongoDB?","body":"<p>I have a hug amount of data on MongoDB I want to compare them but the process needs some logical side to achieve the goal, I know that using Java for the case seems to be complicated for Memory usages?</p>\n<p>USA CASE :</p>\n<p>I want to compare two documents &quot;Tables&quot; in mongodb that has a large amount of data &gt;1.46M lines, we need to use an approach or some logical part which allows us to do it efficiently without losing memory capacities or arrived to the worth cases ?</p>\n<p>I've tried to put the data into java collections and in order to get the descripancies between them, I implement the comparison logic code side using threads but i got a lot of memory leaks and the process takes a lot of time.</p>\n"},{"tags":["java","eclipse","linear-programming","or-tools"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1655432616,"post_id":72653717,"comment_id":128336582,"body_markdown":"Use a maven pom file. Don&#39;t try and manually add jar files. Also, you may need a much older version of Java to work with your specific tools. Oracle bought Sun Microsystems twelve years ago. Anything that uses `com.sun` is likely to be quite old.","body":"Use a maven pom file. Don&#39;t try and manually add jar files. Also, you may need a much older version of Java to work with your specific tools. Oracle bought Sun Microsystems twelve years ago. Anything that uses <code>com.sun</code> is likely to be quite old."},{"owner":{"account_id":215272,"reputation":21,"user_id":469798,"display_name":"ABuNeNe"},"score":0,"creation_date":1655434210,"post_id":72653717,"comment_id":128336854,"body_markdown":"The reason why I want to manually add the jar files is because I want to create my own project. Can I copy the pom file provided into my own project and use it directly?","body":"The reason why I want to manually add the jar files is because I want to create my own project. Can I copy the pom file provided into my own project and use it directly?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1655435228,"post_id":72653717,"comment_id":128336971,"body_markdown":"Of course you can!  (Edit it as required ...)","body":"Of course you can!  (Edit it as required ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1655435810,"post_id":72653717,"comment_id":128337016,"body_markdown":"The JNA `Platform` class should be in the jna-platform-5.5.jar.  So this suggests there is a problem with the classpath used when running.  But use Maven first and see if that sorts out the problem.","body":"The JNA <code>Platform</code> class should be in the jna-platform-5.5.jar.  So this suggests there is a problem with the classpath used when running.  But use Maven first and see if that sorts out the problem."}],"owner":{"account_id":215272,"reputation":21,"user_id":469798,"display_name":"ABuNeNe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655474701,"creation_date":1655432470,"question_id":72653717,"body_markdown":"Hi I&#39;m trying to run this [sample code](https://github.com/google/or-tools/blob/stable/examples/java/LinearProgramming.java) on my eclipse ide and have manually adding the jars file without using the pom file provided but it&#39;s complaining with this error.\r\n\r\nI managed to compile and run the sample code using &#39;make run&#39; command.\r\n\r\nAny idea is it possible to copy the library jar files and use it in my own project in eclipse?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DgidU.png\r\n  [2]: https://i.stack.imgur.com/0bSYl.png","title":"Or-tools java.lang.NoClassDefFoundError: com/sun/jna/Platform","body":"<p>Hi I'm trying to run this <a href=\"https://github.com/google/or-tools/blob/stable/examples/java/LinearProgramming.java\" rel=\"nofollow noreferrer\">sample code</a> on my eclipse ide and have manually adding the jars file without using the pom file provided but it's complaining with this error.</p>\n<p>I managed to compile and run the sample code using 'make run' command.</p>\n<p>Any idea is it possible to copy the library jar files and use it in my own project in eclipse?</p>\n<p><a href=\"https://i.stack.imgur.com/DgidU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DgidU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0bSYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bSYl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","c#","android","kotlin"],"comments":[{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":3,"creation_date":1562165460,"post_id":56872782,"comment_id":100294267,"body_markdown":"Java works with &quot;network byte order&quot; which is big endian, while C# seems to work with little endian.","body":"Java works with &quot;network byte order&quot; which is big endian, while C# seems to work with little endian."},{"owner":{"account_id":1162132,"reputation":19336,"user_id":1141432,"display_name":"itsme86"},"score":1,"creation_date":1562165516,"post_id":56872782,"comment_id":100294294,"body_markdown":"@Lothar Endianness is a hardware characteristic, not software. A C# on a big endian machine will work with big endian.","body":"@Lothar Endianness is a hardware characteristic, not software. A C# on a big endian machine will work with big endian."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":2,"creation_date":1562165581,"post_id":56872782,"comment_id":100294338,"body_markdown":"@itsme86 The Java Virtual Machine is essentially a hardware simulation, so there is no contradiction here.","body":"@itsme86 The Java Virtual Machine is essentially a hardware simulation, so there is no contradiction here."},{"owner":{"account_id":1162132,"reputation":19336,"user_id":1141432,"display_name":"itsme86"},"score":1,"creation_date":1562165616,"post_id":56872782,"comment_id":100294361,"body_markdown":"@Lothar Your statement that C# works with little endian is misleading if not false.","body":"@Lothar Your statement that C# works with little endian is misleading if not false."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1562165667,"post_id":56872782,"comment_id":100294385,"body_markdown":"@itsme86 While I think that I explained the effect sufficiently you might rephrase what I wrote and make an answer out of it.","body":"@itsme86 While I think that I explained the effect sufficiently you might rephrase what I wrote and make an answer out of it."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1562166078,"post_id":56872782,"comment_id":100294630,"body_markdown":"To be more precise, `BigInteger(byte[])` assumes big-endian byte order, while `BitConverter.ToInt32` uses the endianness of the underlying hardware.","body":"To be more precise, <code>BigInteger(byte[])</code> assumes big-endian byte order, while <code>BitConverter.ToInt32</code> uses the endianness of the underlying hardware."},{"owner":{"account_id":1162132,"reputation":19336,"user_id":1141432,"display_name":"itsme86"},"score":0,"creation_date":1562168858,"post_id":56872782,"comment_id":100296148,"body_markdown":"In C#, you should really be using [BitConvert.IsLittleEndian](https://learn.microsoft.com/en-us/dotnet/api/system.bitconverter.islittleendian?view=netframework-4.8) to figure out if and how you should interpret your source data. This will allow your code to run correctly on either architecture.","body":"In C#, you should really be using <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.bitconverter.islittleendian?view=netframework-4.8\" rel=\"nofollow noreferrer\">BitConvert.IsLittleEndian</a> to figure out if and how you should interpret your source data. This will allow your code to run correctly on either architecture."}],"answers":[{"tags":[],"owner":{"account_id":16251289,"reputation":11,"user_id":11735191,"display_name":"marcolomew"},"down_vote_count":17,"up_vote_count":2,"is_accepted":false,"score":-15,"last_activity_date":1562169070,"creation_date":1562166210,"answer_id":56873062,"question_id":56872782,"body_markdown":"In C#, you have the following class:\r\n\r\n`var test0 = BitConverter.ToInt32(bytearray, 0)`","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>In C#, you have the following class:</p>\n\n<p><code>var test0 = BitConverter.ToInt32(bytearray, 0)</code></p>\n"},{"tags":[],"owner":{"account_id":5428148,"reputation":2895,"user_id":4319835,"accept_rate":35,"display_name":"George"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1564569387,"creation_date":1562166962,"answer_id":56873275,"question_id":56872782,"body_markdown":"As suggested by @Lother and itsme86. \r\n\r\n    fun littleEndianConversion(bytes: ByteArray): Int {\r\n        var result = 0\r\n        for (i in bytes.indices) {\r\n            result = result or (bytes[i].toInt() shl 8 * i)\r\n        }\r\n        return result\r\n    }","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>As suggested by @Lother and itsme86. </p>\n\n<pre><code>fun littleEndianConversion(bytes: ByteArray): Int {\n    var result = 0\n    for (i in bytes.indices) {\n        result = result or (bytes[i].toInt() shl 8 * i)\n    }\n    return result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587232360,"creation_date":1587232360,"answer_id":61293709,"question_id":56872782,"body_markdown":"A tiny bit different solution which I think is a bit more efficient:\r\n```kt\r\n    private fun byteToInt(bytes: ByteArray): Int {\r\n        var result = 0\r\n        var shift = 0\r\n        for (byte in bytes) {\r\n            result = result or (byte.toInt() shl shift)\r\n            shift += 8\r\n        }\r\n        return result\r\n    }\r\n```","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>A tiny bit different solution which I think is a bit more efficient:</p>\n\n<pre><code>    private fun byteToInt(bytes: ByteArray): Int {\n        var result = 0\n        var shift = 0\n        for (byte in bytes) {\n            result = result or (byte.toInt() shl shift)\n            shift += 8\n        }\n        return result\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1619359220,"creation_date":1619359220,"answer_id":67254200,"question_id":56872782,"body_markdown":"Here is,\r\n\r\n       fun toInt32(bytes:ByteArray):Int {\r\n           if (bytes.size != 4) { \r\n               throw Exception(&quot;wrong len&quot;)\r\n           }                   \r\n           bytes.reverse()          \r\n           return ByteBuffer.wrap(bytes).int           \r\n       }\r\n","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>Here is,</p>\n<pre><code>   fun toInt32(bytes:ByteArray):Int {\n       if (bytes.size != 4) { \n           throw Exception(&quot;wrong len&quot;)\n       }                   \n       bytes.reverse()          \n       return ByteBuffer.wrap(bytes).int           \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655474697,"creation_date":1655474697,"answer_id":72660637,"question_id":56872782,"body_markdown":"Similar to eigenfeld&#39;s answer, but without needing to reverse the bytes first.\r\n\r\n```kotlin\r\nfun toInt32(bytes: ByteArray, index: Int): Int {\r\n    require(bytes.size == 4) { &quot;length must be 4, got: ${bytes.size}&quot; }\r\n    return ByteBuffer.wrap(bytes, index, 4).order(ByteOrder.LITTLE_ENDIAN).int\r\n}\r\n```","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>Similar to eigenfeld's answer, but without needing to reverse the bytes first.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun toInt32(bytes: ByteArray, index: Int): Int {\n    require(bytes.size == 4) { &quot;length must be 4, got: ${bytes.size}&quot; }\n    return ByteBuffer.wrap(bytes, index, 4).order(ByteOrder.LITTLE_ENDIAN).int\n}\n</code></pre>\n"}],"owner":{"account_id":5428148,"reputation":2895,"user_id":4319835,"accept_rate":35,"display_name":"George"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20298,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":56873275,"answer_count":5,"score":10,"last_activity_date":1655474697,"creation_date":1562165349,"question_id":56872782,"body_markdown":"The contents of a `Byte` `Array` of size 4 are the following:\r\n`{1, 0, 0, 0}`. This translates to the integer number `1` in C# when using `BitConverter.ToInt32(bytearray, 0);`\r\n\r\nHowever, when converting this byte array to an `Integer` in Kotlin using the following code base I get the value `16777216` instead of the value of `1`.\r\n\r\n    var test0 = BigInteger(bytearray).toInt() = 16777216\r\n    var test1 = BigInteger(bytearray).toFloat() = 1.6777216        \r\n\r\nor \r\n\r\n    fun toInt32(bytes: ByteArray, index: Int): Int\r\n    {\r\n        if (bytes.size != 4) \r\n            throw Exception(&quot;The length of the byte array must be at least 4 bytes long.&quot;)\r\n    \r\n        return 0xff \r\n            and bytes[index].toInt() shl 56 \r\n            or (0xff and bytes[index + 1].toInt() shl 48) \r\n            or (0xff and bytes[index + 2].toInt() shl 40) \r\n            or (0xff and bytes[index + 3].toInt() shl 32)\r\n    }\r\n\r\nI believe both methods of conversion are correct and the byte values are not signed.\r\n","title":"Convert Byte Array to Int odd result Java and Kotlin","body":"<p>The contents of a <code>Byte</code> <code>Array</code> of size 4 are the following:\n<code>{1, 0, 0, 0}</code>. This translates to the integer number <code>1</code> in C# when using <code>BitConverter.ToInt32(bytearray, 0);</code></p>\n\n<p>However, when converting this byte array to an <code>Integer</code> in Kotlin using the following code base I get the value <code>16777216</code> instead of the value of <code>1</code>.</p>\n\n<pre><code>var test0 = BigInteger(bytearray).toInt() = 16777216\nvar test1 = BigInteger(bytearray).toFloat() = 1.6777216        \n</code></pre>\n\n<p>or </p>\n\n<pre><code>fun toInt32(bytes: ByteArray, index: Int): Int\n{\n    if (bytes.size != 4) \n        throw Exception(\"The length of the byte array must be at least 4 bytes long.\")\n\n    return 0xff \n        and bytes[index].toInt() shl 56 \n        or (0xff and bytes[index + 1].toInt() shl 48) \n        or (0xff and bytes[index + 2].toInt() shl 40) \n        or (0xff and bytes[index + 3].toInt() shl 32)\n}\n</code></pre>\n\n<p>I believe both methods of conversion are correct and the byte values are not signed.</p>\n"},{"tags":["java","code-coverage","jacoco","production","dead-code"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":3,"creation_date":1655461601,"post_id":72657884,"comment_id":128343430,"body_markdown":"You probably shouldn&#39;t do code coverage in production as it has overhead. I&#39;m not sure, but IntelliJ might have code inspections that can tell if a method is not used: https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code","body":"You probably shouldn&#39;t do code coverage in production as it has overhead. I&#39;m not sure, but IntelliJ might have code inspections that can tell if a method is not used: <a href=\"https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code\" title=\"how to use intellij idea to find all unused code\">stackoverflow.com/questions/6587729/&hellip;</a>"},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1655461883,"post_id":72657884,"comment_id":128343518,"body_markdown":"Code coverage tools such as Jacoco are aimed at seeing how much of the code is tested, not how much it is used overall. \n\nAs @akarnokd said, IDEs like IntelliJ have easy tools to inspect code and find cases like unused functions or variables, which is closer to what you are looking for.","body":"Code coverage tools such as Jacoco are aimed at seeing how much of the code is tested, not how much it is used overall.   As @akarnokd said, IDEs like IntelliJ have easy tools to inspect code and find cases like unused functions or variables, which is closer to what you are looking for."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1655463011,"post_id":72657884,"comment_id":128343913,"body_markdown":"Are you trying to find code that _cannot_ possibly ever be reached? If so, then use your IDE to find unreachable code as others have commented above. Or are you trying to find code that, for example, is theoretically reachable but it processes an endpoint that no user has called in the last 10 years? If that&#39;s the case, make it clear by editing your question.","body":"Are you trying to find code that <i>cannot</i> possibly ever be reached? If so, then use your IDE to find unreachable code as others have commented above. Or are you trying to find code that, for example, is theoretically reachable but it processes an endpoint that no user has called in the last 10 years? If that&#39;s the case, make it clear by editing your question."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1655464469,"post_id":72657884,"comment_id":128344397,"body_markdown":"He almost certainly means working code that has simply not been used for a while. This would be very dangerous to do in production; simply don&#39;t. In addition to other reasons the tool will only find code that is used &quot;now&quot; and some code may run once per year. If that happens you will delete it even if it is still needed. My advice is to use logging instead and check the logs to see what high-level functions get called. If it is a web application you might already have web server logs you can use (but don&#39;t forget background jobs).","body":"He almost certainly means working code that has simply not been used for a while. This would be very dangerous to do in production; simply don&#39;t. In addition to other reasons the tool will only find code that is used &quot;now&quot; and some code may run once per year. If that happens you will delete it even if it is still needed. My advice is to use logging instead and check the logs to see what high-level functions get called. If it is a web application you might already have web server logs you can use (but don&#39;t forget background jobs)."},{"owner":{"account_id":18274907,"reputation":1,"user_id":13304928,"display_name":"ripsta"},"score":0,"creation_date":1655475213,"post_id":72657884,"comment_id":128347949,"body_markdown":"@ewramner Thanks for your response. I would of course only remove code that I see is not going to be used in the future. I just want Jacoco to point these bits of code out for me so that I don&#39;t have to browse it myself. \nDo you see any security vulnerabilities that this could cause?","body":"@ewramner Thanks for your response. I would of course only remove code that I see is not going to be used in the future. I just want Jacoco to point these bits of code out for me so that I don&#39;t have to browse it myself.  Do you see any security vulnerabilities that this could cause?"},{"owner":{"account_id":18274907,"reputation":1,"user_id":13304928,"display_name":"ripsta"},"score":0,"creation_date":1655475450,"post_id":72657884,"comment_id":128348039,"body_markdown":"@Joe My question is really about how to implement my use case. I&#39;m afraid our code base is way too big to start placing logs all around or introduce AOP, it would just take much more effort at this point.","body":"@Joe My question is really about how to implement my use case. I&#39;m afraid our code base is way too big to start placing logs all around or introduce AOP, it would just take much more effort at this point."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1655477028,"post_id":72657884,"comment_id":128348665,"body_markdown":"@ripsta I don&#39;t know of security (but there may be issues there as well), but you can expect a radical decrease in performance. It may also affect stability. In test, fine, but production? Not on my shift ;-)","body":"@ripsta I don&#39;t know of security (but there may be issues there as well), but you can expect a radical decrease in performance. It may also affect stability. In test, fine, but production? Not on my shift ;-)"}],"owner":{"account_id":18274907,"reputation":1,"user_id":13304928,"display_name":"ripsta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655544991,"answer_count":0,"score":0,"last_activity_date":1655474628,"creation_date":1655461367,"question_id":72657884,"body_markdown":"I&#39;m working on a huge monolith Java application with over 15000 lines of code that has been developed for quite a while now. My task is to find dead code (code that is never used) in the application. My idea was to approach this with JaCoCo code coverage tool being used in our production environment.\r\n\r\nI&#39;ve done some reading, but since JaCoCo (as most code coverage tools) are designed to show test coverage, there is not much information regarding my use case.\r\n\r\nIn the project, I use Gradle, which is a bit unfortunate, as I found out that for example for Maven, the JaCoCo plug-in provides a prepare agent task. There is no such thing for Gradle, so I&#39;m wondering **how I could set up the JaCoCo agent to receive the requests in production and mark the code that is being used. (I&#39;m referring to code that is reachable in some flows but perhaps was never really used.)**\r\n\r\nI&#39;ve found and example command that could be used:\r\n\r\n```bash\r\njava -javaagent:&lt;path-to-application&gt;/src/main/resources/lib/jacocoagent.jar=address=*,port=36320,destfile=jacoco-it.exec,output=tcpserver -jar &lt;path-to-application&gt;/target/myapplication.jar\r\n```\r\nCould someone explain what this command basically does? Could it be useful for my scenario?\r\nI&#39;m open to any suggestions.\r\n\r\n","title":"Finding dead code in production environment using code coverage tool","body":"<p>I'm working on a huge monolith Java application with over 15000 lines of code that has been developed for quite a while now. My task is to find dead code (code that is never used) in the application. My idea was to approach this with JaCoCo code coverage tool being used in our production environment.</p>\n<p>I've done some reading, but since JaCoCo (as most code coverage tools) are designed to show test coverage, there is not much information regarding my use case.</p>\n<p>In the project, I use Gradle, which is a bit unfortunate, as I found out that for example for Maven, the JaCoCo plug-in provides a prepare agent task. There is no such thing for Gradle, so I'm wondering <strong>how I could set up the JaCoCo agent to receive the requests in production and mark the code that is being used. (I'm referring to code that is reachable in some flows but perhaps was never really used.)</strong></p>\n<p>I've found and example command that could be used:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -javaagent:&lt;path-to-application&gt;/src/main/resources/lib/jacocoagent.jar=address=*,port=36320,destfile=jacoco-it.exec,output=tcpserver -jar &lt;path-to-application&gt;/target/myapplication.jar\n</code></pre>\n<p>Could someone explain what this command basically does? Could it be useful for my scenario?\nI'm open to any suggestions.</p>\n"},{"tags":["java","spring-boot","spring-mvc","tomcat","log4j2"],"comments":[{"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"score":0,"creation_date":1654418407,"post_id":72505826,"comment_id":128082283,"body_markdown":"This should help: https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs","body":"This should help: <a href=\"https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs\" title=\"spring boot embedded tomcat logs\">stackoverflow.com/questions/48312851/&hellip;</a>"},{"owner":{"account_id":4889629,"reputation":83,"user_id":3941132,"display_name":"acsh"},"score":0,"creation_date":1654420714,"post_id":72505826,"comment_id":128082661,"body_markdown":"@Debanjan Thanks for your reply. I have added the following property in the application, but I think all the logs are getting printed on console only. I needed to print them in different files. logging.level.org.apache=TRACE","body":"@Debanjan Thanks for your reply. I have added the following property in the application, but I think all the logs are getting printed on console only. I needed to print them in different files. logging.level.org.apache=TRACE"}],"answers":[{"tags":[],"owner":{"account_id":17124825,"reputation":19,"user_id":12392292,"display_name":"xerZV"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655474601,"creation_date":1655474452,"answer_id":72660595,"question_id":72505826,"body_markdown":"Please check spring docs for logging in file-output: [https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging.file-output][1]\r\n\r\nOr alternatively you can use `logback-spring.xml` to achieve this.\r\n\r\nSample `logback-spring.xml` which prints logs in the console and file and it daily rollovers the file or if it reaches 10MB:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot;/&gt; &lt;!-- the folder where you want your log files to be --&gt;\r\n\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;RollingFile&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- rollover daily and when the file reaches 10MBs --&gt;\r\n            &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- LOG everything at INFO level --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\nMore about how to config logback: [https://logback.qos.ch/documentation.html][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging.file-output\r\n  [2]: https://logback.qos.ch/documentation.html","title":"How to enable Tomcat Logs in Spring Boot","body":"<p>Please check spring docs for logging in file-output: <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging.file-output\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging.file-output</a></p>\n<p>Or alternatively you can use <code>logback-spring.xml</code> to achieve this.</p>\n<p>Sample <code>logback-spring.xml</code> which prints logs in the console and file and it daily rollovers the file or if it reaches 10MB:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot;/&gt; &lt;!-- the folder where you want your log files to be --&gt;\n\n&lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;RollingFile&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- rollover daily and when the file reaches 10MBs --&gt;\n        &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n\n&lt;!-- LOG everything at INFO level --&gt;\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot;/&gt;\n    &lt;appender-ref ref=&quot;Console&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>More about how to config logback: <a href=\"https://logback.qos.ch/documentation.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/documentation.html</a></p>\n"}],"owner":{"account_id":4889629,"reputation":83,"user_id":3941132,"display_name":"acsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655474601,"creation_date":1654417554,"question_id":72505826,"body_markdown":"When we use external tomcat to deploy our Spring MVC application, there are certain log files which get printed in the logs folder, i.e., host-manager.log, localhost.log, manager.log, etc. \r\nI needed to enable the generation of these logs in my Spring Boot Application too. How can we do that?","title":"How to enable Tomcat Logs in Spring Boot","body":"<p>When we use external tomcat to deploy our Spring MVC application, there are certain log files which get printed in the logs folder, i.e., host-manager.log, localhost.log, manager.log, etc.\nI needed to enable the generation of these logs in my Spring Boot Application too. How can we do that?</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1655312376,"post_id":72635124,"comment_id":128304885,"body_markdown":"You do realise percent-encoding is a thing right?","body":"You do realise percent-encoding is a thing right?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1655312851,"post_id":72635124,"comment_id":128305034,"body_markdown":"but what about time zones like `-02:00`?","body":"but what about time zones like <code>-02:00</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655312927,"post_id":72635124,"comment_id":128305052,"body_markdown":"[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) allows leaving out hyphens and colons as in `20220615T160543+02:00`. It requires two digits hours in the offset but allows leaving out the colon there too, so the offset becomes `+0200` or `+02:00`. And yes, a `DateTimeFormatter` can produce all of that.","body":"<a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> allows leaving out hyphens and colons as in <code>20220615T160543+02:00</code>. It requires two digits hours in the offset but allows leaving out the colon there too, so the offset becomes <code>+0200</code> or <code>+02:00</code>. And yes, a <code>DateTimeFormatter</code> can produce all of that."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655313086,"post_id":72635124,"comment_id":128305102,"body_markdown":"Thanks, @Sweeper, for pointing out the apparent [XY problem](https://en.wikipedia.org/wiki/XY_problem). And its solution.","body":"Thanks, @Sweeper, for pointing out the apparent <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>. And its solution."},{"owner":{"account_id":2594221,"reputation":2001,"user_id":2248239,"display_name":"BeWu"},"score":0,"creation_date":1655313824,"post_id":72635124,"comment_id":128305331,"body_markdown":"Is there any reason you can&#39;t use an Instant? This way you can present it in any timezone you want.","body":"Is there any reason you can&#39;t use an Instant? This way you can present it in any timezone you want."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655314036,"post_id":72635124,"comment_id":128305375,"body_markdown":"While a hyphen is allowed in a URL (also @user16320675), a `+` (plus) will be interpreted as a space, so your `20220615T160543+2:00` would not come through intact. Seems you need to go with [percent-encoding](https://en.wikipedia.org/wiki/Percent-encoding). `URLEncoder.encode(yourZonedDateTime.toString(), StandardCharsets.UTF_8)` gives `2022-06-15T16%3A05%3A43%2B02%3A00`, which should be safe when the other party percent-decodes it at the other end.","body":"While a hyphen is allowed in a URL (also @user16320675), a <code>+</code> (plus) will be interpreted as a space, so your <code>20220615T160543+2:00</code> would not come through intact. Seems you need to go with <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">percent-encoding</a>. <code>URLEncoder.encode(yourZonedDateTime.toString(), StandardCharsets.UTF_8)</code> gives <code>2022-06-15T16%3A05%3A43%2B02%3A00</code>, which should be safe when the other party percent-decodes it at the other end."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1655314292,"post_id":72635124,"comment_id":128305447,"body_markdown":"@Ole ?? they want an output without hyphen - I do not know their requirement, what the URL is used for,... - so I asked what is expected for time zones like `-02:00`","body":"@Ole ?? they want an output without hyphen - I do not know their requirement, what the URL is used for,... - so I asked what is expected for time zones like <code>-02:00</code>"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1655320913,"post_id":72635124,"comment_id":128307744,"body_markdown":"Given an example of the output you&#39;d want for noon, Eastern Daylight Time (United States). The point is, that zone has a negative offset, but you don&#39;t want to use the hyphen commonly used to represent that. What do you want?","body":"Given an example of the output you&#39;d want for noon, Eastern Daylight Time (United States). The point is, that zone has a negative offset, but you don&#39;t want to use the hyphen commonly used to represent that. What do you want?"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655467154,"creation_date":1655313121,"answer_id":72635345,"question_id":72635124,"body_markdown":"Please use something like this:\r\n\r\n        public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            LocalDateTime localDateTime = LocalDateTime.now();\r\n            ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.of(&quot;US/Eastern&quot;));\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHmmssXXX&quot;);\r\n            String formattedString = zonedDateTime.format(formatter);\r\n            System.out.println(formattedString);\r\n        }\r\n    }\r\n\r\n","title":"How do I print a ZonedDateTime with timezone but without hyphen?","body":"<p>Please use something like this:</p>\n<pre><code>    public class Main {\n    public static void main(String[] args) throws IOException {\n        LocalDateTime localDateTime = LocalDateTime.now();\n        ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.of(&quot;US/Eastern&quot;));\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHmmssXXX&quot;);\n        String formattedString = zonedDateTime.format(formatter);\n        System.out.println(formattedString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655322411,"creation_date":1655316740,"answer_id":72636047,"question_id":72635124,"body_markdown":"&gt;How do I print a ZonedDateTime with timezone but without hyphen?\r\n\r\nTry it like this.\r\n\r\nFirst, create a `ZonedDateTime` using the example in your question.\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmssz&quot;);\r\nZonedDateTime zdt = ZonedDateTime.parse(&quot;20220615T160543Z&quot;,dtf);\r\n```\r\nThen print it with a `ZoneId` as follows to give you your zone.\r\n```\r\nString dt = zdt.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmssVV&quot;)\r\n           .withZone(ZoneId.of(&quot;Asia/Qatar&quot;)));\r\nSystem.out.println(dt);\r\n```\r\nprints\r\n```\r\n20220615T190543Asia/Qatar\r\n```\r\nNote:  Unfortunately a small portion of the ZoneId&#39;s contain hyphens.  You can see them by doing the following:\r\n```\r\nZoneId.getAvailableZoneIds().stream()\r\n           .filter(str-&gt;str.contains(&quot;-&quot;))\r\n           .forEach(System.out::println);\r\n\r\n","title":"How do I print a ZonedDateTime with timezone but without hyphen?","body":"<blockquote>\n<p>How do I print a ZonedDateTime with timezone but without hyphen?</p>\n</blockquote>\n<p>Try it like this.</p>\n<p>First, create a <code>ZonedDateTime</code> using the example in your question.</p>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmssz&quot;);\nZonedDateTime zdt = ZonedDateTime.parse(&quot;20220615T160543Z&quot;,dtf);\n</code></pre>\n<p>Then print it with a <code>ZoneId</code> as follows to give you your zone.</p>\n<pre><code>String dt = zdt.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmssVV&quot;)\n           .withZone(ZoneId.of(&quot;Asia/Qatar&quot;)));\nSystem.out.println(dt);\n</code></pre>\n<p>prints</p>\n<pre><code>20220615T190543Asia/Qatar\n</code></pre>\n<p>Note:  Unfortunately a small portion of the ZoneId's contain hyphens.  You can see them by doing the following:</p>\n<pre><code>ZoneId.getAvailableZoneIds().stream()\n           .filter(str-&gt;str.contains(&quot;-&quot;))\n           .forEach(System.out::println);\n\n</code></pre>\n"}],"owner":{"account_id":16275079,"reputation":1090,"user_id":11752443,"display_name":"powerseed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655323518,"answer_count":2,"score":-2,"last_activity_date":1655474382,"creation_date":1655312030,"question_id":72635124,"body_markdown":"I need to use a date in a URL, therefore the date cannot contain any symbols like hyphen `-` , dash `/` or colon `:`.\r\n\r\nI think `20220615T160543Z` is the only suitable format, but the issue is that it is in UTC, but I need it in some other time zone.\r\n\r\nIs there anything like `20220615T160543+2:00`, where the `+2:00` part indicates the time zone offset from UTC?\r\n\r\nIf yes, can I print it out of a `ZonedDateTime` object?\r\n\r\nThe object I currently have is \r\n```\r\nZonedDateTime zonedDateTime = ZonedDateTime.ofInstant(date.getStartsOn().toInstant(), timezone);\r\n```\r\n\r\nThanks in advance!\r\n\r\n**Update:**\r\n\r\nThanks for all the responses!\r\n\r\nIt looks like my suggested approach is not doable, because it could be like `20220615T160543-2:00` where there is a hyphen... \r\n\r\nApparently percentage-encoding is the only way to do it. \r\n\r\nThanks again!\r\n","title":"How do I print a ZonedDateTime with timezone but without hyphen?","body":"<p>I need to use a date in a URL, therefore the date cannot contain any symbols like hyphen <code>-</code> , dash <code>/</code> or colon <code>:</code>.</p>\n<p>I think <code>20220615T160543Z</code> is the only suitable format, but the issue is that it is in UTC, but I need it in some other time zone.</p>\n<p>Is there anything like <code>20220615T160543+2:00</code>, where the <code>+2:00</code> part indicates the time zone offset from UTC?</p>\n<p>If yes, can I print it out of a <code>ZonedDateTime</code> object?</p>\n<p>The object I currently have is</p>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.ofInstant(date.getStartsOn().toInstant(), timezone);\n</code></pre>\n<p>Thanks in advance!</p>\n<p><strong>Update:</strong></p>\n<p>Thanks for all the responses!</p>\n<p>It looks like my suggested approach is not doable, because it could be like <code>20220615T160543-2:00</code> where there is a hyphen...</p>\n<p>Apparently percentage-encoding is the only way to do it.</p>\n<p>Thanks again!</p>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":4,"creation_date":1374878924,"post_id":8874670,"comment_id":26131287,"body_markdown":"Too bad the [Maven Central top 10](http://search.maven.org/#stats) isn&#39;t very interesting since 7 out of 10 places are occupied by parts/plugins of Maven itself (or Plexus which it uses). I&#39;d like to find stats of top Java libs, [something like in this blog post](http://blog.sonatype.com/people/2012/05/google-guava-shows-strong-growth-in-april/) except up-to-date...","body":"Too bad the <a href=\"http://search.maven.org/#stats\" rel=\"nofollow noreferrer\">Maven Central top 10</a> isn&#39;t very interesting since 7 out of 10 places are occupied by parts/plugins of Maven itself (or Plexus which it uses). I&#39;d like to find stats of top Java libs, <a href=\"http://blog.sonatype.com/people/2012/05/google-guava-shows-strong-growth-in-april/\" rel=\"nofollow noreferrer\">something like in this blog post</a> except up-to-date..."},{"owner":{"account_id":12585,"reputation":303272,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":0,"creation_date":1417971894,"post_id":8874670,"comment_id":43145697,"body_markdown":"For an example of a package manager that does display download statistics on a per-package basis, check out npm (Node Package Manager).","body":"For an example of a package manager that does display download statistics on a per-package basis, check out npm (Node Package Manager)."}],"answers":[{"tags":[],"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1655474233,"creation_date":1326683025,"answer_id":8875369,"question_id":8874670,"body_markdown":"If you publish artifacts with OSS Sonatype (central Maven repo) there are download statistics available for the artifacts you publish from your account.\r\n\r\nNote that it usually updates a few days after each month.\r\n\r\n1. Go to  https://oss.sonatype.org\r\n2. Login with the account you publish artifacts with.\r\n3. Click &quot;Central Statistics Repositories&quot;.\r\n\r\nReference: Here&#39;s a [blog post][1] describing how to access the feature.\r\n\r\n  [1]: https://blog.sonatype.com/2010/12/now-available-central-download-statistics-for-oss-projects/","title":"Detailed (download) statistics for artifacts of public repositories like maven.org","body":"<p>If you publish artifacts with OSS Sonatype (central Maven repo) there are download statistics available for the artifacts you publish from your account.</p>\n<p>Note that it usually updates a few days after each month.</p>\n<ol>\n<li>Go to  <a href=\"https://oss.sonatype.org\" rel=\"noreferrer\">https://oss.sonatype.org</a></li>\n<li>Login with the account you publish artifacts with.</li>\n<li>Click &quot;Central Statistics Repositories&quot;.</li>\n</ol>\n<p>Reference: Here's a <a href=\"https://blog.sonatype.com/2010/12/now-available-central-download-statistics-for-oss-projects/\" rel=\"noreferrer\">blog post</a> describing how to access the feature.</p>\n"}],"owner":{"account_id":58034,"reputation":4072,"user_id":173815,"accept_rate":88,"display_name":"Markus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7511,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":8875369,"answer_count":1,"score":13,"last_activity_date":1655474233,"creation_date":1326674169,"question_id":8874670,"body_markdown":"In former days project hosting sites like sourceforge.org provided detailled (download) statistics for every project. This was helpful to me as a user for finding projects that are more popular (and therefore more &quot;secure&quot; and futureproof). But I think this was also important for the developers of those projects.\r\n\r\nI am new to Maven and have not found any comparable statistics, only the [&quot;Quick Stats&quot; on Maven Central][1]. \r\n\r\nDoes the Maven concept (and Nexus) provide detailed statistics: how much a specific artifact has been downloaded as a specific type (like jar, pom etc?). If yes, where can I find this (for example for [Hibernate][2])?\r\n\r\n\r\n  [1]: http://search.maven.org/#stats\r\n  [2]: http://search.maven.org/#search%7Cga%7C1%7Chibernate-core","title":"Detailed (download) statistics for artifacts of public repositories like maven.org","body":"<p>In former days project hosting sites like sourceforge.org provided detailled (download) statistics for every project. This was helpful to me as a user for finding projects that are more popular (and therefore more \"secure\" and futureproof). But I think this was also important for the developers of those projects.</p>\n\n<p>I am new to Maven and have not found any comparable statistics, only the <a href=\"http://search.maven.org/#stats\" rel=\"noreferrer\">\"Quick Stats\" on Maven Central</a>. </p>\n\n<p>Does the Maven concept (and Nexus) provide detailed statistics: how much a specific artifact has been downloaded as a specific type (like jar, pom etc?). If yes, where can I find this (for example for <a href=\"http://search.maven.org/#search%7Cga%7C1%7Chibernate-core\" rel=\"noreferrer\">Hibernate</a>)?</p>\n"},{"tags":["java","spring-boot","spring-security","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655467124,"post_id":72658839,"comment_id":128345220,"body_markdown":"This would indicate you have incompatible versions of Jackson dependencies on your classpath (e.g. different versions of jackson-dataformat-xml and jackson-core). `JsonFactory._createContentReference` was added in Jackson 2.13 (`JsonFactory` is the parent of `XmlFactory`), so it looks like you have a jackson-core 2.12 or older and jackson-dataformat-xml 2.13. Make sure your dependencies are consistent.","body":"This would indicate you have incompatible versions of Jackson dependencies on your classpath (e.g. different versions of jackson-dataformat-xml and jackson-core). <code>JsonFactory._createContentReference</code> was added in Jackson 2.13 (<code>JsonFactory</code> is the parent of <code>XmlFactory</code>), so it looks like you have a jackson-core 2.12 or older and jackson-dataformat-xml 2.13. Make sure your dependencies are consistent."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655468064,"post_id":72658839,"comment_id":128345541,"body_markdown":"please post your full pom.xml","body":"please post your full pom.xml"},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655470123,"post_id":72658839,"comment_id":128346220,"body_markdown":"Hi @Toerktumlare, I added my full pom.xml file","body":"Hi @Toerktumlare, I added my full pom.xml file"},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655470205,"post_id":72658839,"comment_id":128346240,"body_markdown":"Hi @MarkRotteveel, I&#39;m using the latest `jackson-dataformat-xml` and `jackson-core` version which is 2.13.1 for both.","body":"Hi @MarkRotteveel, I&#39;m using the latest <code>jackson-dataformat-xml</code> and <code>jackson-core</code> version which is 2.13.1 for both."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655470366,"post_id":72658839,"comment_id":128346296,"body_markdown":"The error suggests otherwise. I would recommend to carefully look at the output of `mvn dependency:tree`, and if you deploy to an application server, make sure it doesn&#39;t have its own version of Jackson on the classpath.","body":"The error suggests otherwise. I would recommend to carefully look at the output of <code>mvn dependency:tree</code>, and if you deploy to an application server, make sure it doesn&#39;t have its own version of Jackson on the classpath."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655471506,"post_id":72658839,"comment_id":128346679,"body_markdown":"`com.vladmihalcea.com.vladmihalcea:2.11.1` seems to have a compile dependency on `jackson-module-jaxb-annotations` 2.11 so i believe it pulls in an old version of jackson. If you provide the output of the command `mvn dependency:tree` as written above we&#39;ll know. Several of your dependencies are outdated and have documented vulnerabilities i suggest you update all your dependencies.","body":"<code>com.vladmihalcea.com.vladmihalcea:2.11.1</code> seems to have a compile dependency on <code>jackson-module-jaxb-annotations</code> 2.11 so i believe it pulls in an old version of jackson. If you provide the output of the command <code>mvn dependency:tree</code> as written above we&#39;ll know. Several of your dependencies are outdated and have documented vulnerabilities i suggest you update all your dependencies."},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655473393,"post_id":72658839,"comment_id":128347312,"body_markdown":"Hi @Toerktumlare, how to find dependency vulnerabilities can you please suggest.","body":"Hi @Toerktumlare, how to find dependency vulnerabilities can you please suggest."},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655473925,"post_id":72658839,"comment_id":128347501,"body_markdown":"@Toerktumlare I added my mvn dependency tree with the question can you please check.","body":"@Toerktumlare I added my mvn dependency tree with the question can you please check."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655497629,"post_id":72658839,"comment_id":128354874,"body_markdown":"i checked and it is incomplete, you seem to have copy pasted just a bit from the full output. Please update with the full output","body":"i checked and it is incomplete, you seem to have copy pasted just a bit from the full output. Please update with the full output"},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655719682,"post_id":72658839,"comment_id":128390403,"body_markdown":"Hi @Toerktumlare, thank you for your response I uploaded my file to the cloud you check the full dependency tree. here is the link:- [link](https://easyupload.io/yu4o28)","body":"Hi @Toerktumlare, thank you for your response I uploaded my file to the cloud you check the full dependency tree. here is the link:- <a href=\"https://easyupload.io/yu4o28\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655724036,"post_id":72658839,"comment_id":128391876,"body_markdown":"I will not download a random file from someone random on the internet. Update your question or use something like pastebin","body":"I will not download a random file from someone random on the internet. Update your question or use something like pastebin"},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655727639,"post_id":72658839,"comment_id":128392887,"body_markdown":"@Toerktumlare I understand I uploaded code in the Pastebin here is the Link:- [Dependency Tree](https://pastebin.com/VYTPETWF)\n\nPlease see if you can find the cause of the error. If not maybe it&#39;s coming from the Wildfly classpath as we have Wildfly wildfly-26.0.1.Final with the code installed in it.","body":"@Toerktumlare I understand I uploaded code in the Pastebin here is the Link:- <a href=\"https://pastebin.com/VYTPETWF\" rel=\"nofollow noreferrer\">Dependency Tree</a>  Please see if you can find the cause of the error. If not maybe it&#39;s coming from the Wildfly classpath as we have Wildfly wildfly-26.0.1.Final with the code installed in it."},{"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"score":0,"creation_date":1655727812,"post_id":72658839,"comment_id":128392948,"body_markdown":"@MarkRotteveel, Thank you for your response I uploaded code in the Pastebin here is the Link:- [Dependency Tree](https://pastebin.com/VYTPETWF)\n\nPlease see if you can find the cause of the error. If not maybe it&#39;s coming from the Wildfly classpath as we have Wildfly wildfly-26.0.1.Final with the code installed in it.","body":"@MarkRotteveel, Thank you for your response I uploaded code in the Pastebin here is the Link:- <a href=\"https://pastebin.com/VYTPETWF\" rel=\"nofollow noreferrer\">Dependency Tree</a>  Please see if you can find the cause of the error. If not maybe it&#39;s coming from the Wildfly classpath as we have Wildfly wildfly-26.0.1.Final with the code installed in it."}],"owner":{"account_id":24912534,"reputation":21,"user_id":18781920,"display_name":"Shrawan Kelwa"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655473871,"creation_date":1655465933,"question_id":72658839,"body_markdown":"I have a spring boot application with a REST service and I implemented Spring Security in it. In my project, I extend OncePerRequestFilter and override its method doFilterInternal(). I also used jackson dataformat library in my project. When I call an API it throws following an exception.\r\n\r\n``` \r\n16:45:47,203 ERROR [stderr] (default task-1) org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\r\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n16:45:47,204 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at xxx.xxxxx.xxxxx.xxxx.security.UUIDAuthenticationFilter.doFilterInternal(UUIDAuthenticationFilter.java:55)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at xxx.xxxxx.xxxxx.xxxx.security.CORSFilter.doFilterInternal(CORSFilter.java:36)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,209 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n16:45:47,214 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n16:45:47,218 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n16:45:47,218 ERROR [stderr] (default task-1)    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n16:45:47,219 ERROR [stderr] (default task-1)    at java.lang.Thread.run(Thread.java:748)\r\n16:45:47,219 ERROR [stderr] (default task-1) Caused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\r\n16:45:47,219 ERROR [stderr] (default task-1)    at com.fasterxml.jackson.dataformat.xml.XmlFactory.createGenerator(XmlFactory.java:497)\r\n16:45:47,219 ERROR [stderr] (default task-1)    at com.fasterxml.jackson.dataformat.xml.XmlFactory.createGenerator(XmlFactory.java:30)\r\n16:45:47,219 ERROR [stderr] (default task-1)    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:425)\r\n16:45:47,219 ERROR [stderr] (default task-1)    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n16:45:47,220 ERROR [stderr] (default task-1)    ... 119 more\r\n```\r\n\r\nI have already followed some of the old threads on a similar issue. But those are not directly related to the versions I am using. This is how my related pom.xml looks like\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\r\n\t&lt;name&gt;my-project&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;twilio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.libphonenumber/libphonenumber --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.12.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.sun.net.httpserver/http --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.net.httpserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20070405&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tika/tika-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is my code \r\n\r\n```\r\n@Component\r\npublic class UUIDAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n\tpublic final static Logger LOGGER = LoggerFactory.getLogger(UUIDAuthenticationFilter.class);\r\n\r\n\tprivate final String HEADER = &quot;Authorization&quot;;\r\n\r\n\tprivate final ISystemUserRepository systemUserRepository;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tLOGGER.info(&quot;Inside doFilterInternal of UUIDAuthenticationFilter&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (checkUUIDToken(request, response)) {\r\n\t\t\t\tSystemUser systemUser = validateToken(request);\r\n\t\t\t\tif (systemUser != null) {\r\n\t\t\t\t\tsetUpSpringAuthentication(systemUser);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;error in UUIDAuthenticationFilter&quot;);\r\n            LOGGER.error(e.getMessage(), e);\r\n\r\n\t\t\tPrintWriter responseWriter = response.getWriter();\r\n\t\t\tif (e.getMessage() != null &amp;&amp; e.getMessage().contains(&quot;:&quot;) &amp;&amp; e.getMessage().split(&quot;:&quot;) != null\r\n\t\t\t\t\t&amp;&amp; e.getMessage().split(&quot;:&quot;)[1] != null) {\r\n\t\t\t\tresponse.setContentLength(e.getMessage().split(&quot;:&quot;)[1].length());\r\n\t\t\t\tresponse.setStatus(500);\r\n\t\t\t\tresponseWriter.write(e.getMessage().split(&quot;:&quot;)[1]);\r\n\t\t\t} else {\r\n\t\t\t\tresponse.setContentLength(e.getMessage().length());\r\n\t\t\t\tresponse.setStatus(500);\r\n\t\t\t\tresponseWriter.write(e.getMessage());\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate SystemUser validateToken(HttpServletRequest request) {\r\n\t\tString UUIDToken = request.getHeader(HEADER);\r\n\t\tLOGGER.debug(&quot;UUIDToken is &quot; + UUIDToken);\r\n\t\ttry {\r\n\t\t\tSystemUser systemUser = systemUserRepository.findByApiKey(UUIDToken);\r\n\t\t\tif (systemUser != null &amp;&amp; systemUser.getRole() != null) {\r\n\t\t\t\treturn systemUser;\r\n\t\t\t}\r\n\t\t\tsystemUser = systemUserRepository.findByLoginTokensContains(UUIDToken);\r\n\r\n\t\t\tif (systemUser != null &amp;&amp; systemUser.getRole() != null) {\r\n\t\t\t\treturn systemUser;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;error in validateToken in UUIDAuthenticationFilter&quot;);\r\n\t\t\tLOGGER.error(e.getMessage(), e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * Authentication method in Spring flow\r\n\t * \r\n\t * @param\r\n\t */\r\n\tprivate void setUpSpringAuthentication(SystemUser systemUser) {\r\n\t\ttry {\r\n\t\t\tList&lt;SimpleGrantedAuthority&gt; authorities = Arrays.stream(systemUser.getRole().split(&quot;,&quot;))\r\n\t\t\t\t\t.map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n\t\t\tUUIDAuthenticationToken auth = new UUIDAuthenticationToken(authorities, systemUser.getPassword(),\r\n\t\t\t\t\tsystemUser.getEmail(), systemUser.getClient().getClientRef());\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(auth);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(e.getMessage(), e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate boolean checkUUIDToken(HttpServletRequest request, HttpServletResponse res) {\r\n\t\tString authenticationHeader = request.getHeader(HEADER);\r\n\r\n\t\tif (authenticationHeader != null &amp;&amp; !authenticationHeader.isEmpty())\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic UUIDAuthenticationFilter(ISystemUserRepository systemUserRepository) {\r\n\t\tthis.systemUserRepository = systemUserRepository;\r\n\t} \r\n```\r\nchain.doFilter(request, response); \r\nthis line of code causes an issue\r\nHere is my mvn dependecy tree\r\n```[INFO] |  +- org.springdoc:springdoc-openapi-ui:jar:1.6.6:compile\r\n[INFO] |  |  +- org.springdoc:springdoc-openapi-webmvc-core:jar:1.6.6:compile\r\n[INFO] |  |  |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.6:compile\r\n[INFO] |  |  |     \\- io.swagger.core.v3:swagger-core:jar:2.1.12:compile\r\n[INFO] |  |  |        +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |  |        +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.1:compile\r\n[INFO] |  |  |        +- io.swagger.core.v3:swagger-annotations:jar:2.1.12:compile\r\n[INFO] |  |  |        +- io.swagger.core.v3:swagger-models:jar:2.1.12:compile\r\n[INFO] |  |  |        \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:5.3.16:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.7:compile\r\n[INFO] |  +- io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\r\n[INFO] |  +- io.jsonwebtoken:jjwt-jackson:jar:0.11.2:compile\r\n[INFO] |  +- io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\r\n[INFO] +- com.googlecode.libphonenumber:libphonenumber:jar:8.12.11:compile\r\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] +- com.sun.net.httpserver:http:jar:20070405:compile\r\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.1:compile\r\n[INFO] +- org.apache.tika:tika-core:jar:2.1.0:compile\r\n[INFO] \\- com.vladmihalcea:hibernate-types-52:jar:2.11.1:compile\r\n[INFO]    \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.13.1:compile\r\n[INFO]       +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO]       \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n```","title":"Spring Security throwing an error java.lang.NoSuchMethodError","body":"<p>I have a spring boot application with a REST service and I implemented Spring Security in it. In my project, I extend OncePerRequestFilter and override its method doFilterInternal(). I also used jackson dataformat library in my project. When I call an API it throws following an exception.</p>\n<pre><code>16:45:47,203 ERROR [stderr] (default task-1) org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n16:45:47,204 ERROR [stderr] (default task-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n16:45:47,204 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n16:45:47,204 ERROR [stderr] (default task-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n16:45:47,204 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n16:45:47,204 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,205 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n16:45:47,205 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n16:45:47,206 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,207 ERROR [stderr] (default task-1)    at xxx.xxxxx.xxxxx.xxxx.security.UUIDAuthenticationFilter.doFilterInternal(UUIDAuthenticationFilter.java:55)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n16:45:47,207 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n16:45:47,208 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,209 ERROR [stderr] (default task-1)    at xxx.xxxxx.xxxxx.xxxx.security.CORSFilter.doFilterInternal(CORSFilter.java:36)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n16:45:47,209 ERROR [stderr] (default task-1)    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n16:45:47,209 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,209 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,210 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n16:45:47,210 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n16:45:47,211 ERROR [stderr] (default task-1)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n16:45:47,211 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n16:45:47,212 ERROR [stderr] (default task-1)    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n16:45:47,212 ERROR [stderr] (default task-1)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n16:45:47,214 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:45:47,215 ERROR [stderr] (default task-1)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n16:45:47,215 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n16:45:47,216 ERROR [stderr] (default task-1)    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n16:45:47,216 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n16:45:47,218 ERROR [stderr] (default task-1)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n16:45:47,218 ERROR [stderr] (default task-1)    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n16:45:47,219 ERROR [stderr] (default task-1)    at java.lang.Thread.run(Thread.java:748)\n16:45:47,219 ERROR [stderr] (default task-1) Caused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\n16:45:47,219 ERROR [stderr] (default task-1)    at com.fasterxml.jackson.dataformat.xml.XmlFactory.createGenerator(XmlFactory.java:497)\n16:45:47,219 ERROR [stderr] (default task-1)    at com.fasterxml.jackson.dataformat.xml.XmlFactory.createGenerator(XmlFactory.java:30)\n16:45:47,219 ERROR [stderr] (default task-1)    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:425)\n16:45:47,219 ERROR [stderr] (default task-1)    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n16:45:47,220 ERROR [stderr] (default task-1)    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n16:45:47,220 ERROR [stderr] (default task-1)    ... 119 more\n</code></pre>\n<p>I have already followed some of the old threads on a similar issue. But those are not directly related to the versions I am using. This is how my related pom.xml looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\n    &lt;name&gt;my-project&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;twilio&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.libphonenumber/libphonenumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\n            &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\n            &lt;version&gt;8.12.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.net.httpserver/http --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.net.httpserver&lt;/groupId&gt;\n            &lt;artifactId&gt;http&lt;/artifactId&gt;\n            &lt;version&gt;20070405&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\n            &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tika/tika-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is my code</p>\n<pre><code>@Component\npublic class UUIDAuthenticationFilter extends OncePerRequestFilter {\n\n    public final static Logger LOGGER = LoggerFactory.getLogger(UUIDAuthenticationFilter.class);\n\n    private final String HEADER = &quot;Authorization&quot;;\n\n    private final ISystemUserRepository systemUserRepository;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws ServletException, IOException {\n        LOGGER.info(&quot;Inside doFilterInternal of UUIDAuthenticationFilter&quot;);\n        \n        try {\n            if (checkUUIDToken(request, response)) {\n                SystemUser systemUser = validateToken(request);\n                if (systemUser != null) {\n                    setUpSpringAuthentication(systemUser);\n                }\n            }\n            chain.doFilter(request, response);\n        } catch (Exception e) {\n            LOGGER.error(&quot;error in UUIDAuthenticationFilter&quot;);\n            LOGGER.error(e.getMessage(), e);\n\n            PrintWriter responseWriter = response.getWriter();\n            if (e.getMessage() != null &amp;&amp; e.getMessage().contains(&quot;:&quot;) &amp;&amp; e.getMessage().split(&quot;:&quot;) != null\n                    &amp;&amp; e.getMessage().split(&quot;:&quot;)[1] != null) {\n                response.setContentLength(e.getMessage().split(&quot;:&quot;)[1].length());\n                response.setStatus(500);\n                responseWriter.write(e.getMessage().split(&quot;:&quot;)[1]);\n            } else {\n                response.setContentLength(e.getMessage().length());\n                response.setStatus(500);\n                responseWriter.write(e.getMessage());\n            }\n            return;\n        }\n    }\n\n    private SystemUser validateToken(HttpServletRequest request) {\n        String UUIDToken = request.getHeader(HEADER);\n        LOGGER.debug(&quot;UUIDToken is &quot; + UUIDToken);\n        try {\n            SystemUser systemUser = systemUserRepository.findByApiKey(UUIDToken);\n            if (systemUser != null &amp;&amp; systemUser.getRole() != null) {\n                return systemUser;\n            }\n            systemUser = systemUserRepository.findByLoginTokensContains(UUIDToken);\n\n            if (systemUser != null &amp;&amp; systemUser.getRole() != null) {\n                return systemUser;\n            }\n        } catch (Exception e) {\n            LOGGER.error(&quot;error in validateToken in UUIDAuthenticationFilter&quot;);\n            LOGGER.error(e.getMessage(), e);\n        }\n        return null;\n    }\n\n    /**\n     * Authentication method in Spring flow\n     * \n     * @param\n     */\n    private void setUpSpringAuthentication(SystemUser systemUser) {\n        try {\n            List&lt;SimpleGrantedAuthority&gt; authorities = Arrays.stream(systemUser.getRole().split(&quot;,&quot;))\n                    .map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n            UUIDAuthenticationToken auth = new UUIDAuthenticationToken(authorities, systemUser.getPassword(),\n                    systemUser.getEmail(), systemUser.getClient().getClientRef());\n            SecurityContextHolder.getContext().setAuthentication(auth);\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n    }\n\n    private boolean checkUUIDToken(HttpServletRequest request, HttpServletResponse res) {\n        String authenticationHeader = request.getHeader(HEADER);\n\n        if (authenticationHeader != null &amp;&amp; !authenticationHeader.isEmpty())\n            return true;\n        return false;\n    }\n\n    public UUIDAuthenticationFilter(ISystemUserRepository systemUserRepository) {\n        this.systemUserRepository = systemUserRepository;\n    } \n</code></pre>\n<p>chain.doFilter(request, response);\nthis line of code causes an issue\nHere is my mvn dependecy tree</p>\n<pre><code>[INFO] |  |  +- org.springdoc:springdoc-openapi-webmvc-core:jar:1.6.6:compile\n[INFO] |  |  |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.6:compile\n[INFO] |  |  |     \\- io.swagger.core.v3:swagger-core:jar:2.1.12:compile\n[INFO] |  |  |        +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |  |        +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.1:compile\n[INFO] |  |  |        +- io.swagger.core.v3:swagger-annotations:jar:2.1.12:compile\n[INFO] |  |  |        +- io.swagger.core.v3:swagger-models:jar:2.1.12:compile\n[INFO] |  |  |        \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.16:compile\n[INFO] |  +- commons-io:commons-io:jar:2.7:compile\n[INFO] |  +- io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\n[INFO] |  +- io.jsonwebtoken:jjwt-jackson:jar:0.11.2:compile\n[INFO] |  +- io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\n[INFO] +- com.googlecode.libphonenumber:libphonenumber:jar:8.12.11:compile\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] +- com.sun.net.httpserver:http:jar:20070405:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.1:compile\n[INFO] +- org.apache.tika:tika-core:jar:2.1.0:compile\n[INFO] \\- com.vladmihalcea:hibernate-types-52:jar:2.11.1:compile\n[INFO]    \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.13.1:compile\n[INFO]       +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO]       \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n</code></pre>\n"},{"tags":["java","android","google-location-services"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1622124974,"post_id":67723946,"comment_id":119705755,"body_markdown":"`getLastLocation()` does not guarantee getting a location. If you are expecting a location, use other methods.","body":"<code>getLastLocation()</code> does not guarantee getting a location. If you are expecting a location, use other methods."}],"answers":[{"tags":[],"owner":{"account_id":12486244,"reputation":1664,"user_id":9089370,"display_name":"androidLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622125148,"creation_date":1622125148,"answer_id":67724074,"question_id":67723946,"body_markdown":"    if you want to access location even if the app is not in foreground ,you need to set &quot;Allow all time&quot; in location permission settings.Also include below line in AndroidManifest file.\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;","title":"Can&#39;t get location without opening google maps on android studio","body":"<pre><code>if you want to access location even if the app is not in foreground ,you need to set &quot;Allow all time&quot; in location permission settings.Also include below line in AndroidManifest file.\n\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14879349,"reputation":525,"user_id":10744522,"display_name":"Shobhith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622128161,"creation_date":1622128161,"answer_id":67725024,"question_id":67723946,"body_markdown":"You cannot simply rely on **Last Location** because it may be null...\r\n\r\nInstead of completely relying on Last Location you can `request location updates` whenever your last location is null and **stop the location update** once you get the location (stop the updates only if you want location once)\r\n\r\nhttps://developer.android.com/training/location/request-updates","title":"Can&#39;t get location without opening google maps on android studio","body":"<p>You cannot simply rely on <strong>Last Location</strong> because it may be null...</p>\n<p>Instead of completely relying on Last Location you can <code>request location updates</code> whenever your last location is null and <strong>stop the location update</strong> once you get the location (stop the updates only if you want location once)</p>\n<p><a href=\"https://developer.android.com/training/location/request-updates\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/request-updates</a></p>\n"}],"owner":{"account_id":20721797,"reputation":251,"user_id":15216027,"display_name":"KCYrgn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67725024,"answer_count":2,"score":1,"last_activity_date":1655473727,"creation_date":1622124711,"question_id":67723946,"body_markdown":"Basically I noticed this weird reaction in the app, I get ```location is null``` however if I exit the app and open google earth map, request my location and re enter the app the location service will work just fine, any idea why this happens?\r\n\r\nI am sure the issue is not on the Permission as I do check for this and it works completely fine, also the phones location are enabled which got me confused of why it reacts the way it does \r\n\r\n```\r\n  @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v= inflater.inflate(R.layout.fragment_find_customer,container,false);\r\n\r\n        tableLayout = (TableLayout) v.findViewById(R.id.resultsTable);\r\n        tableLayout.setStretchAllColumns(true);\r\n//        tableLayout.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n\r\n//        Button searchNearby = v.findViewById(R.id.resultsTable);\r\n//        searchNearby.setOnClickListener(new View.OnClickListener() {\r\n//            @Override\r\n//            public void onClick(View v) {\r\n//                searchRequest = new SearchRequest();\r\n//\r\n//            }\r\n//        });\r\n\r\n        EditText editText = (EditText) v.findViewById(R.id.txtEditPostcodeSearch);\r\n        Button clear = (Button) v.findViewById(R.id.btnClearText);\r\n        clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View av) {\r\n                editText.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        if (checkGoogleServices()) {\r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(getContext());\r\n        }\r\n\r\n        Button searchButton = (Button) v.findViewById(R.id.btnSearchCustomer);\r\n        searchButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                EditText searchInput = (EditText) v.findViewById(R.id.txtEditPostcodeSearch);\r\n                String search = searchInput.getText().toString();\r\n\r\n                Log.d(&quot;SEARCH&quot;, search);\r\n\r\n                if (searchInput.getText().length() == 0) {\r\n                    Toast.makeText(getContext(), &quot;Please enter a search&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n\r\n                searchRequest = new SearchRequest();\r\n                searchRequest.setTerm(search);\r\n                getLocation();\r\n            }\r\n        });\r\n\r\n        Button searchNearby = (Button) v.findViewById(R.id.btnSearchNearby);\r\n        searchNearby.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                searchRequest = new SearchRequest();\r\n                getLocation();\r\n            }\r\n        });\r\n//\r\n//        tableLayout = (TableLayout) findViewById(R.id.resultsTable);\r\n//        tableLayout.setStretchAllColumns(true);\r\n//\r\n//        Button searchNearby = (Button) findViewById(R.id.btnSearchNearby);\r\n//        searchNearby.setOnClickListener(new View.OnClickListener() {\r\n//            @Override\r\n//            public void onClick(View view) {\r\n//                searchRequest = new SearchRequest();\r\n//                getLocation();\r\n//            }\r\n//        });\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n    protected boolean checkGoogleServices() {\r\n        GoogleApiAvailability ga = GoogleApiAvailability.getInstance();\r\n        int errorCode = ga.isGooglePlayServicesAvailable(getContext());\r\n        if (errorCode != SUCCESS &amp;&amp; ga.isUserResolvableError(errorCode)) {\r\n//            ga.getErrorDialog(this, errorCode, 1000).show();\r\n            Log.d(&quot;LOC&quot;, &quot;ERROR with location services&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nprivate void getLocation() {\r\n        if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            fusedLocationClient.getLastLocation()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                        @RequiresApi(api = Build.VERSION_CODES.N)\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            // Got last known location. In some rare situations this can be null.\r\n                            if (location != null) {\r\n                                // Logic to handle location object\r\n\r\n                                searchRequest.setLatitude(String.valueOf(location.getLatitude()));\r\n                                searchRequest.setLongitude(String.valueOf(location.getLongitude()));\r\n                                userLocation = location;\r\n                                Log.d(&quot;lat&quot;, searchRequest.getLatitude());\r\n                                Log.d(&quot;long&quot;, searchRequest.getLongitude());\r\n                                doSearch();\r\n                            } else {\r\n                                Log.d(&quot;Location&quot;, &quot;Location is null&quot;);\r\n                            }\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @RequiresApi(api = Build.VERSION_CODES.N)\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            if (searchRequest != null &amp;&amp; searchRequest.getTerm() != null) {\r\n                                doSearch();\r\n                            }\r\n                        }\r\n                    })\r\n            ;\r\n        } else {\r\n            // You can directly ask for the permission.\r\n            // The registered ActivityResultCallback gets the result of this request.\r\n            requestPermissionLauncher.launch(Manifest.permission.ACCESS_COARSE_LOCATION);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.N)\r\n    private void doSearch() {\r\n        View view = getActivity().getCurrentFocus();\r\n        if (view != null) {\r\n            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n        \r\n        int rows = tableLayout.getChildCount();\r\n        if (rows &gt; 0) {\r\n            tableLayout.removeViews(0, rows);\r\n        }\r\n        \r\n        AppActivity a = (AppActivity) getActivity();\r\n\r\n        CustomerRepository customerRepository = new CustomerRepository(a.getApplication());\r\n        customerRepository.search(searchRequest).observe(getViewLifecycleOwner(), customers -&gt; {\r\n                Log.d(&quot;Found&quot;, String.valueOf(customers.size()));\r\n                if (customers.size() == 0) {\r\n                    Toast.makeText(getContext(), &quot;No results found&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    TableRow[] tableRows = new TableRow[customers.size()];\r\n                    // calculate distance of each customer from user\r\n                    for (int i = 0; i &lt; customers.size(); i++) {\r\n                        Customer customer = customers.get(i);\r\n                        try {\r\n                            Location customerLocation = new Location(&quot;customer&quot;);\r\n                            customerLocation.setLatitude(Double.valueOf(customer.getLatitude()));\r\n                            customerLocation.setLongitude(Double.valueOf(customer.getLongitude()));\r\n                            customer.setDistance(userLocation.distanceTo(customerLocation)*0.000621371f); // convert metres to miles\r\n                        } catch (NumberFormatException e) {\r\n                            e.printStackTrace();\r\n                        } catch (NullPointerException e) {\r\n                            e.printStackTrace();\r\n                            customer.setDistance(0);\r\n                        }\r\n                    }\r\n                    // sort by distance ascending\r\n                    customers.sort((c,d) -&gt; {\r\n                        if (c.getDistance() &lt; d.getDistance()) {\r\n                            return -1;\r\n                        } else if (c.getDistance() &gt; d.getDistance()) {\r\n                            return 1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    for (int i = 0; i &lt; customers.size(); i++) {\r\n                        tableRows[i] = new TableRow(getContext());\r\n                        tableRows[i].setId(i + 1);\r\n                        tableRows[i].setLayoutParams(new TableRow.LayoutParams(\r\n                                TableRow.LayoutParams.MATCH_PARENT,\r\n                                TableRow.LayoutParams.WRAP_CONTENT\r\n                        ));\r\n                        tableRows[i].setPadding(0, 20, 80, 20);\r\n                        tableRows[i].setBackgroundResource(android.R.drawable.list_selector_background);\r\n                        tableRows[i].setBackgroundResource(R.drawable.table_outline);\r\n\r\n                        TextView customerText = new TextView(getContext());\r\n                        customerText.setId(i + 111);\r\n                        customerText.setText(customers.get(i).getName());\r\n                        customerText.setTextColor(Color.BLACK);\r\n                        customerText.setPadding(14, 5, 5, 5);\r\n                        customerText.setTextSize(16);\r\n                        customerText.setMaxLines(3);\r\n                        customerText.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n                        customerText.setEllipsize(TextUtils.TruncateAt.END);\r\n                        customerText.setWidth(200);\r\n\r\n                        TextView text2 = new TextView(getContext());\r\n                        text2.setId(i + 1111);\r\n                        text2.setText(customers.get(i).getTown());\r\n                        text2.setEms(4);\r\n                        text2.setMaxLines(1);\r\n                        text2.setTextSize(16);\r\n                        text2.setTextColor(Color.BLACK);\r\n                        text2.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\r\n                        text2.setPadding(40, 5, 5, 5);\r\n\r\n                        TextView text3 = new TextView(getContext());\r\n                        text3.setId(i + 11111);\r\n                        text3.setText(customers.get(i).getType());\r\n                        text3.setEms(4);\r\n                        text3.setMaxLines(1);\r\n                        text3.setTextColor(Color.BLACK);\r\n                        text3.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\r\n                        text3.setTextSize(16);\r\n                        text3.setPadding(5, 5, 5, 5);\r\n\r\n                        TextView text4 = new TextView(getContext());\r\n                        text4.setId(i + 111111);\r\n                        text4.setText(String.valueOf(customers.get(i).getDistance()));\r\n                        text4.setEms(6);\r\n                        text4.setMaxLines(2);\r\n                        text4.setTextColor(Color.BLACK);\r\n                        text4.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\r\n                        text4.setTextSize(16);\r\n                        text4.setPadding(5, 5, 5, 5);\r\n\r\n                        tableRows[i].addView(customerText);\r\n                        tableRows[i].addView(text2);\r\n                        tableRows[i].addView(text3);\r\n                        tableRows[i].addView(text4);\r\n                        tableLayout.addView(tableRows[i], new TableLayout.LayoutParams(\r\n                                TableLayout.LayoutParams.MATCH_PARENT,\r\n                                TableLayout.LayoutParams.WRAP_CONTENT\r\n                        ));\r\n\r\n                        tableRows[i].setClickable(true);\r\n                        String customerId = customers.get(i).getUuid().toString();\r\n                        int finalI = i;\r\n                        tableRows[i].setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View view) {\r\n                                TableRow tr = (TableRow) view;\r\n                                TextView s = (TextView) tr.getChildAt(0);\r\n                                String r = s.getText().toString();\r\n                                Toast.makeText(getContext(), r, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                                Fragment addAppointmentWithExistingCustomerActivity = new AddAppointmentWithExistingCustomerFragment();\r\n                                FragmentTransaction transaction = requireActivity().getSupportFragmentManager().beginTransaction();\r\n\r\n                                Bundle addBundle = new Bundle();\r\n                                addBundle.putString(CUSTOMER_ID, customerId);\r\n                                addAppointmentWithExistingCustomerActivity.setArguments(addBundle);\r\n\r\n                                // Replace whatever is in the fragment_container view with this fragment,\r\n                                // and add the transaction to the back stack if needed\r\n                                transaction.replace(R.id.fragment_container, addAppointmentWithExistingCustomerActivity);\r\n                                transaction.addToBackStack(null);\r\n\r\n                                // Commit the transaction\r\n                                transaction.commit();\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n        });\r\n    }\r\n```","title":"Can&#39;t get location without opening google maps on android studio","body":"<p>Basically I noticed this weird reaction in the app, I get <code>location is null</code> however if I exit the app and open google earth map, request my location and re enter the app the location service will work just fine, any idea why this happens?</p>\n<p>I am sure the issue is not on the Permission as I do check for this and it works completely fine, also the phones location are enabled which got me confused of why it reacts the way it does</p>\n<pre><code>  @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v= inflater.inflate(R.layout.fragment_find_customer,container,false);\n\n        tableLayout = (TableLayout) v.findViewById(R.id.resultsTable);\n        tableLayout.setStretchAllColumns(true);\n//        tableLayout.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n\n//        Button searchNearby = v.findViewById(R.id.resultsTable);\n//        searchNearby.setOnClickListener(new View.OnClickListener() {\n//            @Override\n//            public void onClick(View v) {\n//                searchRequest = new SearchRequest();\n//\n//            }\n//        });\n\n        EditText editText = (EditText) v.findViewById(R.id.txtEditPostcodeSearch);\n        Button clear = (Button) v.findViewById(R.id.btnClearText);\n        clear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View av) {\n                editText.setText(&quot;&quot;);\n            }\n        });\n\n        if (checkGoogleServices()) {\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(getContext());\n        }\n\n        Button searchButton = (Button) v.findViewById(R.id.btnSearchCustomer);\n        searchButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                EditText searchInput = (EditText) v.findViewById(R.id.txtEditPostcodeSearch);\n                String search = searchInput.getText().toString();\n\n                Log.d(&quot;SEARCH&quot;, search);\n\n                if (searchInput.getText().length() == 0) {\n                    Toast.makeText(getContext(), &quot;Please enter a search&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                }\n\n                searchRequest = new SearchRequest();\n                searchRequest.setTerm(search);\n                getLocation();\n            }\n        });\n\n        Button searchNearby = (Button) v.findViewById(R.id.btnSearchNearby);\n        searchNearby.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                searchRequest = new SearchRequest();\n                getLocation();\n            }\n        });\n//\n//        tableLayout = (TableLayout) findViewById(R.id.resultsTable);\n//        tableLayout.setStretchAllColumns(true);\n//\n//        Button searchNearby = (Button) findViewById(R.id.btnSearchNearby);\n//        searchNearby.setOnClickListener(new View.OnClickListener() {\n//            @Override\n//            public void onClick(View view) {\n//                searchRequest = new SearchRequest();\n//                getLocation();\n//            }\n//        });\n\n\n        return v;\n    }\n\n    protected boolean checkGoogleServices() {\n        GoogleApiAvailability ga = GoogleApiAvailability.getInstance();\n        int errorCode = ga.isGooglePlayServicesAvailable(getContext());\n        if (errorCode != SUCCESS &amp;&amp; ga.isUserResolvableError(errorCode)) {\n//            ga.getErrorDialog(this, errorCode, 1000).show();\n            Log.d(&quot;LOC&quot;, &quot;ERROR with location services&quot;);\n            return false;\n        }\n        return true;\n    }\n\n\nprivate void getLocation() {\n        if (ContextCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            fusedLocationClient.getLastLocation()\n                    .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                        @RequiresApi(api = Build.VERSION_CODES.N)\n                        @Override\n                        public void onSuccess(Location location) {\n                            // Got last known location. In some rare situations this can be null.\n                            if (location != null) {\n                                // Logic to handle location object\n\n                                searchRequest.setLatitude(String.valueOf(location.getLatitude()));\n                                searchRequest.setLongitude(String.valueOf(location.getLongitude()));\n                                userLocation = location;\n                                Log.d(&quot;lat&quot;, searchRequest.getLatitude());\n                                Log.d(&quot;long&quot;, searchRequest.getLongitude());\n                                doSearch();\n                            } else {\n                                Log.d(&quot;Location&quot;, &quot;Location is null&quot;);\n                            }\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @RequiresApi(api = Build.VERSION_CODES.N)\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            if (searchRequest != null &amp;&amp; searchRequest.getTerm() != null) {\n                                doSearch();\n                            }\n                        }\n                    })\n            ;\n        } else {\n            // You can directly ask for the permission.\n            // The registered ActivityResultCallback gets the result of this request.\n            requestPermissionLauncher.launch(Manifest.permission.ACCESS_COARSE_LOCATION);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.N)\n    private void doSearch() {\n        View view = getActivity().getCurrentFocus();\n        if (view != null) {\n            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n        \n        int rows = tableLayout.getChildCount();\n        if (rows &gt; 0) {\n            tableLayout.removeViews(0, rows);\n        }\n        \n        AppActivity a = (AppActivity) getActivity();\n\n        CustomerRepository customerRepository = new CustomerRepository(a.getApplication());\n        customerRepository.search(searchRequest).observe(getViewLifecycleOwner(), customers -&gt; {\n                Log.d(&quot;Found&quot;, String.valueOf(customers.size()));\n                if (customers.size() == 0) {\n                    Toast.makeText(getContext(), &quot;No results found&quot;, Toast.LENGTH_LONG).show();\n                } else {\n                    TableRow[] tableRows = new TableRow[customers.size()];\n                    // calculate distance of each customer from user\n                    for (int i = 0; i &lt; customers.size(); i++) {\n                        Customer customer = customers.get(i);\n                        try {\n                            Location customerLocation = new Location(&quot;customer&quot;);\n                            customerLocation.setLatitude(Double.valueOf(customer.getLatitude()));\n                            customerLocation.setLongitude(Double.valueOf(customer.getLongitude()));\n                            customer.setDistance(userLocation.distanceTo(customerLocation)*0.000621371f); // convert metres to miles\n                        } catch (NumberFormatException e) {\n                            e.printStackTrace();\n                        } catch (NullPointerException e) {\n                            e.printStackTrace();\n                            customer.setDistance(0);\n                        }\n                    }\n                    // sort by distance ascending\n                    customers.sort((c,d) -&gt; {\n                        if (c.getDistance() &lt; d.getDistance()) {\n                            return -1;\n                        } else if (c.getDistance() &gt; d.getDistance()) {\n                            return 1;\n                        } else {\n                            return 0;\n                        }\n                    });\n                    for (int i = 0; i &lt; customers.size(); i++) {\n                        tableRows[i] = new TableRow(getContext());\n                        tableRows[i].setId(i + 1);\n                        tableRows[i].setLayoutParams(new TableRow.LayoutParams(\n                                TableRow.LayoutParams.MATCH_PARENT,\n                                TableRow.LayoutParams.WRAP_CONTENT\n                        ));\n                        tableRows[i].setPadding(0, 20, 80, 20);\n                        tableRows[i].setBackgroundResource(android.R.drawable.list_selector_background);\n                        tableRows[i].setBackgroundResource(R.drawable.table_outline);\n\n                        TextView customerText = new TextView(getContext());\n                        customerText.setId(i + 111);\n                        customerText.setText(customers.get(i).getName());\n                        customerText.setTextColor(Color.BLACK);\n                        customerText.setPadding(14, 5, 5, 5);\n                        customerText.setTextSize(16);\n                        customerText.setMaxLines(3);\n                        customerText.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n                        customerText.setEllipsize(TextUtils.TruncateAt.END);\n                        customerText.setWidth(200);\n\n                        TextView text2 = new TextView(getContext());\n                        text2.setId(i + 1111);\n                        text2.setText(customers.get(i).getTown());\n                        text2.setEms(4);\n                        text2.setMaxLines(1);\n                        text2.setTextSize(16);\n                        text2.setTextColor(Color.BLACK);\n                        text2.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\n                        text2.setPadding(40, 5, 5, 5);\n\n                        TextView text3 = new TextView(getContext());\n                        text3.setId(i + 11111);\n                        text3.setText(customers.get(i).getType());\n                        text3.setEms(4);\n                        text3.setMaxLines(1);\n                        text3.setTextColor(Color.BLACK);\n                        text3.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\n                        text3.setTextSize(16);\n                        text3.setPadding(5, 5, 5, 5);\n\n                        TextView text4 = new TextView(getContext());\n                        text4.setId(i + 111111);\n                        text4.setText(String.valueOf(customers.get(i).getDistance()));\n                        text4.setEms(6);\n                        text4.setMaxLines(2);\n                        text4.setTextColor(Color.BLACK);\n                        text4.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\n                        text4.setTextSize(16);\n                        text4.setPadding(5, 5, 5, 5);\n\n                        tableRows[i].addView(customerText);\n                        tableRows[i].addView(text2);\n                        tableRows[i].addView(text3);\n                        tableRows[i].addView(text4);\n                        tableLayout.addView(tableRows[i], new TableLayout.LayoutParams(\n                                TableLayout.LayoutParams.MATCH_PARENT,\n                                TableLayout.LayoutParams.WRAP_CONTENT\n                        ));\n\n                        tableRows[i].setClickable(true);\n                        String customerId = customers.get(i).getUuid().toString();\n                        int finalI = i;\n                        tableRows[i].setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View view) {\n                                TableRow tr = (TableRow) view;\n                                TextView s = (TextView) tr.getChildAt(0);\n                                String r = s.getText().toString();\n                                Toast.makeText(getContext(), r, Toast.LENGTH_SHORT).show();\n\n\n                                Fragment addAppointmentWithExistingCustomerActivity = new AddAppointmentWithExistingCustomerFragment();\n                                FragmentTransaction transaction = requireActivity().getSupportFragmentManager().beginTransaction();\n\n                                Bundle addBundle = new Bundle();\n                                addBundle.putString(CUSTOMER_ID, customerId);\n                                addAppointmentWithExistingCustomerActivity.setArguments(addBundle);\n\n                                // Replace whatever is in the fragment_container view with this fragment,\n                                // and add the transaction to the back stack if needed\n                                transaction.replace(R.id.fragment_container, addAppointmentWithExistingCustomerActivity);\n                                transaction.addToBackStack(null);\n\n                                // Commit the transaction\n                                transaction.commit();\n\n                            }\n                        });\n                    }\n                }\n        });\n    }\n</code></pre>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":10120663,"reputation":62,"user_id":7477687,"display_name":"Night bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655471884,"creation_date":1655467871,"answer_id":72659186,"question_id":72659124,"body_markdown":"In case that you don`t have any ids, possible solution would be to read image as base64 string format, create new dictionary and set base64 as key.. in case that key is not in dictionary set id, else fetch id that was set before.\r\n\r\nEach image has unique base64 string, so if two identical images appear they would have identical base64 string, in other case strings would differ- we can use it as unique identifier to determine if we have seen that image before or not (check if hashmap or. dictionary)\r\n    \r\n    HashMap&lt;String, Integer&gt; dict = new HashMap&lt;String, Integer&gt;();\r\n    int id = 0\r\n    \r\n\r\n    String base64Str = convertImageToBase64Str(imagePath)\r\n    \r\n    Integer id = null;\r\n    if(dict.containsKey(key)) {\r\n      id = dict.get(key);\r\n    }\r\n    else {\r\n      dict.put(key, id);\r\n      id++;\r\n    }\r\n\r\n    public String convertImageToBaseStr(String imagePath) {\r\n            File f = new File(imagePath);\r\n            FileInputStream fin = new FileInputStream(f);\r\n            byte imagebytearray[] = new byte[(int)f.length()];\r\n            fin.read(imagebytearray);\r\n            String imagetobase64 = Base64.encodeBase64String(imagebytearray);\r\n            fin.close();\r\n            return imagetobase64\r\n    }\r\n\r\n\r\n","title":"Using JSON to validate if a file already exists on a device or not","body":"<p>In case that you don`t have any ids, possible solution would be to read image as base64 string format, create new dictionary and set base64 as key.. in case that key is not in dictionary set id, else fetch id that was set before.</p>\n<p>Each image has unique base64 string, so if two identical images appear they would have identical base64 string, in other case strings would differ- we can use it as unique identifier to determine if we have seen that image before or not (check if hashmap or. dictionary)</p>\n<pre><code>HashMap&lt;String, Integer&gt; dict = new HashMap&lt;String, Integer&gt;();\nint id = 0\n\n\nString base64Str = convertImageToBase64Str(imagePath)\n\nInteger id = null;\nif(dict.containsKey(key)) {\n  id = dict.get(key);\n}\nelse {\n  dict.put(key, id);\n  id++;\n}\n\npublic String convertImageToBaseStr(String imagePath) {\n        File f = new File(imagePath);\n        FileInputStream fin = new FileInputStream(f);\n        byte imagebytearray[] = new byte[(int)f.length()];\n        fin.read(imagebytearray);\n        String imagetobase64 = Base64.encodeBase64String(imagebytearray);\n        fin.close();\n        return imagetobase64\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25580471,"reputation":1,"user_id":19359125,"display_name":"wingjay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655473460,"creation_date":1655473460,"answer_id":72660365,"question_id":72659124,"body_markdown":"1. you get some random pictures from website\r\n2. for each picture, you can calculate its base64 or hash by ite bytes data\r\n3. save this picture as a file in your device, and also save the mapping: base64/hash -&gt; file_path\r\n4. when you get some new pictures, you also calculate their base64/hash, and use the mapping above to check if this picture already exists.","title":"Using JSON to validate if a file already exists on a device or not","body":"<ol>\n<li>you get some random pictures from website</li>\n<li>for each picture, you can calculate its base64 or hash by ite bytes data</li>\n<li>save this picture as a file in your device, and also save the mapping: base64/hash -&gt; file_path</li>\n<li>when you get some new pictures, you also calculate their base64/hash, and use the mapping above to check if this picture already exists.</li>\n</ol>\n"}],"owner":{"account_id":19242301,"reputation":49,"user_id":14062055,"display_name":"ReginaldRey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655473460,"creation_date":1655467512,"question_id":72659124,"body_markdown":"I&#39;ve got an assignment for school this week where we need to build an app in Android studio that endlessly queries a website that displays random cat pictures, validate if that picture is already downloaded on the device using JSON to check it&#39;s ID, download it if it&#39;s not already downloaded, and then display them one after another in an endless loop in a slideshow like setting. The app is being built with Android Studio, but to be honest the resources for this week&#39;s project are a bit on the light side.\r\n\r\nFrom what I can gather, I need to establish an inputsteam to the network, build a JSON reader to scan the information, check the android device to make sure that the file isn&#39;t already there based on it&#39;s JSON ID, download it to the phone, then display it in a bitmap.\r\n\r\nProblem is, I have no idea how to validate JSON data to determine duplicates, in this way or any other. Does anyone have any advice on how to do this? Bonus points if you can help me clarify the rest of the process as well, as I&#39;m piece-mealing like crazy from different sources and don&#39;t have a very good grasp on how to even do this or create a proper JSON query.\r\n\r\nThank you all in advance!","title":"Using JSON to validate if a file already exists on a device or not","body":"<p>I've got an assignment for school this week where we need to build an app in Android studio that endlessly queries a website that displays random cat pictures, validate if that picture is already downloaded on the device using JSON to check it's ID, download it if it's not already downloaded, and then display them one after another in an endless loop in a slideshow like setting. The app is being built with Android Studio, but to be honest the resources for this week's project are a bit on the light side.</p>\n<p>From what I can gather, I need to establish an inputsteam to the network, build a JSON reader to scan the information, check the android device to make sure that the file isn't already there based on it's JSON ID, download it to the phone, then display it in a bitmap.</p>\n<p>Problem is, I have no idea how to validate JSON data to determine duplicates, in this way or any other. Does anyone have any advice on how to do this? Bonus points if you can help me clarify the rest of the process as well, as I'm piece-mealing like crazy from different sources and don't have a very good grasp on how to even do this or create a proper JSON query.</p>\n<p>Thank you all in advance!</p>\n"},{"tags":["java","go","apache-kafka","kafka-consumer-api","sarama"],"comments":[{"owner":{"account_id":18198806,"reputation":400,"user_id":18882992,"display_name":"Eduardo Thales"},"score":0,"creation_date":1655473635,"post_id":72660113,"comment_id":128347396,"body_markdown":"You can&#39;t &quot;query&quot; Kafka at all, it&#39;s just a stream of logs, and keys are only used to guarantee message ordering **within a partition**. For consumers, the key does not matter, and at the topic level, the key does not matter too. It would be more helpful if you explained what you are trying to do, or read more about Kafka fundamentals and structure a better question.","body":"You can&#39;t &quot;query&quot; Kafka at all, it&#39;s just a stream of logs, and keys are only used to guarantee message ordering <b>within a partition</b>. For consumers, the key does not matter, and at the topic level, the key does not matter too. It would be more helpful if you explained what you are trying to do, or read more about Kafka fundamentals and structure a better question."}],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655473347,"creation_date":1655473347,"answer_id":72660343,"question_id":72660113,"body_markdown":"A Consumer cannot filter or only receive some messages from topics. The consumer will fetch messages in order.\r\n\r\nAt best we may be able to apply some filter to determine a specific partition. But within that partition you will have to dequeue to get the co-ordinates\r\n\r\nIf you are looking for a specific key , you will have to dequeue the message and then apply a filter on the customer side. For the ConsumerRecord you can then get the offset , partition etc. \r\n\r\nA standard approach is to have the consumer write to the table for the key and the co-ordinates of the message , again something you may want to think about.\r\n\r\n\r\n","title":"How to Query kafka for latest offset / partition /timestamp for latest message for given key in a topic","body":"<p>A Consumer cannot filter or only receive some messages from topics. The consumer will fetch messages in order.</p>\n<p>At best we may be able to apply some filter to determine a specific partition. But within that partition you will have to dequeue to get the co-ordinates</p>\n<p>If you are looking for a specific key , you will have to dequeue the message and then apply a filter on the customer side. For the ConsumerRecord you can then get the offset , partition etc.</p>\n<p>A standard approach is to have the consumer write to the table for the key and the co-ordinates of the message , again something you may want to think about.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655473451,"creation_date":1655473451,"answer_id":72660361,"question_id":72660113,"body_markdown":"You can&#39;t query Kafka by a key unless you build a KTable and use Interactive Queries in Kafka Streams / KsqlDB. \r\n\r\nOtherwise, you can compute a _partition_ for a key of a topic, and get the latest offset for that partition using `GetOffsetShell` java CLI tool included with Kafka binaries, or `seek` a consumer there via code after assigning the consumer to that partition.\r\n\r\nIf you need frequent key lookups from kafka, it would be best to consume the data into an actual key-value store or database ","title":"How to Query kafka for latest offset / partition /timestamp for latest message for given key in a topic","body":"<p>You can't query Kafka by a key unless you build a KTable and use Interactive Queries in Kafka Streams / KsqlDB.</p>\n<p>Otherwise, you can compute a <em>partition</em> for a key of a topic, and get the latest offset for that partition using <code>GetOffsetShell</code> java CLI tool included with Kafka binaries, or <code>seek</code> a consumer there via code after assigning the consumer to that partition.</p>\n<p>If you need frequent key lookups from kafka, it would be best to consume the data into an actual key-value store or database</p>\n"}],"owner":{"account_id":2193930,"reputation":191,"user_id":1940163,"accept_rate":0,"display_name":"user1940163"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655473451,"creation_date":1655472285,"question_id":72660113,"body_markdown":"How can I query kafka and get the timestamp/offset/partition for the latest, most recent message given the topic and message key?\r\n\r\nOur apps are in golang and java. However any solution is welcome.\r\nThanks in advance.\r\n\r\n","title":"How to Query kafka for latest offset / partition /timestamp for latest message for given key in a topic","body":"<p>How can I query kafka and get the timestamp/offset/partition for the latest, most recent message given the topic and message key?</p>\n<p>Our apps are in golang and java. However any solution is welcome.\nThanks in advance.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655472553,"post_id":72653170,"comment_id":128347026,"body_markdown":"When you call `#whenComplete`, it will execute the following task/lambda on the same thread as the previous `CompletionStage`. Thus, if `doThings()` is performing work on a thread pool, then the `whenComplete` will also perform on the same thread in the thread pool. If you wish to consume a thread in a different thread pool / executor / et al, then you can use `#whenCompleteAsync`. To answer the direct question, there&#39;s no need for `#join` or `#get` to be called, unless you want to call those outside of the `CompletableFuture` in order to wait on the task in the primary thread.","body":"When you call <code>#whenComplete</code>, it will execute the following task/lambda on the same thread as the previous <code>CompletionStage</code>. Thus, if <code>doThings()</code> is performing work on a thread pool, then the <code>whenComplete</code> will also perform on the same thread in the thread pool. If you wish to consume a thread in a different thread pool / executor / et al, then you can use <code>#whenCompleteAsync</code>. To answer the direct question, there&#39;s no need for <code>#join</code> or <code>#get</code> to be called, unless you want to call those outside of the <code>CompletableFuture</code> in order to wait on the task in the primary thread."},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1655472744,"post_id":72653170,"comment_id":128347099,"body_markdown":"I see. That I understand. I guess my question is more that I&#39;m used to always seeing a &quot;terminator&quot; to futures—one of the thenApply / thenCompose / thenRun / etc.—or a join() or get() (mainly in tests)—so my fear is that not having a &quot;terminator&quot; may cause that code not to execute at all or execute at a random time that could take a while.","body":"I see. That I understand. I guess my question is more that I&#39;m used to always seeing a &quot;terminator&quot; to futures—one of the thenApply / thenCompose / thenRun / etc.—or a join() or get() (mainly in tests)—so my fear is that not having a &quot;terminator&quot; may cause that code not to execute at all or execute at a random time that could take a while."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1655472819,"post_id":72653170,"comment_id":128347120,"body_markdown":"Indeed, `java.util.Stream` works in this fashion. However, `CompletableFuture` will execute regardless of a dependent stage such as `whenComplete` or `thenRun`. The static utility methods will automatically begin the future, the only time they won&#39;t automatically run is if you construct the object manually.","body":"Indeed, <code>java.util.Stream</code> works in this fashion. However, <code>CompletableFuture</code> will execute regardless of a dependent stage such as <code>whenComplete</code> or <code>thenRun</code>. The static utility methods will automatically begin the future, the only time they won&#39;t automatically run is if you construct the object manually."},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1655472995,"post_id":72653170,"comment_id":128347184,"body_markdown":"Ah! I didn&#39;t even realize that Java streams are the reason I was thinking that. Thanks for understanding and clearing it up. If you&#39;d like to add an answer (namely that this is unlike streams), I think others with the same confusion may find the answer useful, and I&#39;d be happy to accept.","body":"Ah! I didn&#39;t even realize that Java streams are the reason I was thinking that. Thanks for understanding and clearing it up. If you&#39;d like to add an answer (namely that this is unlike streams), I think others with the same confusion may find the answer useful, and I&#39;d be happy to accept."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1655473127,"post_id":72653170,"comment_id":128347222,"body_markdown":"I think @Holger&#39;s answer meets the needs of the question fine, I&#39;ve never really ground for rep ;)","body":"I think @Holger&#39;s answer meets the needs of the question fine, I&#39;ve never really ground for rep ;)"},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1655478151,"post_id":72653170,"comment_id":128349107,"body_markdown":"@Rogue - Okay, whoa. So I committed the code without a join() or get(). Tests I wrote to check that the .whenComplete() code ran, failed. This reminded me: I&#39;ve seen this before—non-&quot;terminated&quot; futures for some reason work for me running locally (IntelliJ, docker)—but in CI/CD (Jenkins) fail consistently. I added a join() and now tests are passing. I&#39;ve seen this several times before too—I think that&#39;s why I was thinking this, not just because of Java streams. Why does this happen?","body":"@Rogue - Okay, whoa. So I committed the code without a join() or get(). Tests I wrote to check that the .whenComplete() code ran, failed. This reminded me: I&#39;ve seen this before—non-&quot;terminated&quot; futures for some reason work for me running locally (IntelliJ, docker)—but in CI/CD (Jenkins) fail consistently. I added a join() and now tests are passing. I&#39;ve seen this several times before too—I think that&#39;s why I was thinking this, not just because of Java streams. Why does this happen?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1655481650,"post_id":72653170,"comment_id":128350409,"body_markdown":"As a guess, it may be something within Jenkins itself which watches for the end of the main thread&#39;s execution, and then shuts down thread pools like the `ForkJoinPool#commonPool`. In this case, you would need the `#join` to keep the service running, whereas in a &quot;baremetal&quot; environment the pool will continue to run until the threads are reclaimed. You would have to test the potential circumstances.","body":"As a guess, it may be something within Jenkins itself which watches for the end of the main thread&#39;s execution, and then shuts down thread pools like the <code>ForkJoinPool#commonPool</code>. In this case, you would need the <code>#join</code> to keep the service running, whereas in a &quot;baremetal&quot; environment the pool will continue to run until the threads are reclaimed. You would have to test the potential circumstances."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655472993,"creation_date":1655472993,"answer_id":72660269,"question_id":72653170,"body_markdown":"The operation associated with `emailClient.sendEmail(someResponse)` will be scheduled regardless of whether you wait for its completion, so unless the JVM terminates in the meanwhile, it will complete. But\r\n\r\n - Nobody will notice when the operation completed or be able to wait for its completion.\r\n\r\n - Nobody will notice when the operation fails with an exception.\r\n\r\n\r\nSo what you probably want to do, is\r\n\r\n```java\r\nCompletionStage&lt;SomeResponse&gt; someEndpoint() {\r\n  return doThings()\r\n      .thenApply(things -&gt; someResponseFormat(things))\r\n      .thenCompose(someResponse -&gt; emailClient.sendEmail(someResponse)\r\n          .thenApply(_void -&gt; someResponse));\r\n}\r\n```\r\n\r\nThen, when the caller of `someEndpoint()` invokes `join()` on it, the `join()` would wait for the completion of the `sendEmail` and also report errors when `sendEmail` fails. Likewise, when the caller of `someEndpoint()` chains dependent operations, they would start after the completion of `sendEmail`.\r\n","title":"Do I have to call join() for a future inside a whenComplete()?","body":"<p>The operation associated with <code>emailClient.sendEmail(someResponse)</code> will be scheduled regardless of whether you wait for its completion, so unless the JVM terminates in the meanwhile, it will complete. But</p>\n<ul>\n<li><p>Nobody will notice when the operation completed or be able to wait for its completion.</p>\n</li>\n<li><p>Nobody will notice when the operation fails with an exception.</p>\n</li>\n</ul>\n<p>So what you probably want to do, is</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletionStage&lt;SomeResponse&gt; someEndpoint() {\n  return doThings()\n      .thenApply(things -&gt; someResponseFormat(things))\n      .thenCompose(someResponse -&gt; emailClient.sendEmail(someResponse)\n          .thenApply(_void -&gt; someResponse));\n}\n</code></pre>\n<p>Then, when the caller of <code>someEndpoint()</code> invokes <code>join()</code> on it, the <code>join()</code> would wait for the completion of the <code>sendEmail</code> and also report errors when <code>sendEmail</code> fails. Likewise, when the caller of <code>someEndpoint()</code> chains dependent operations, they would start after the completion of <code>sendEmail</code>.</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655472993,"creation_date":1655425716,"question_id":72653170,"body_markdown":"I&#39;m adding some code to an existing endpoint to send an email. We don&#39;t need the result of sending an email to return a response to the user, so I&#39;m adding a `.whenComplete()` at the end of the chain of futures, calling our email service from within. The call to the email service is also async, returning a `CompletionStage&lt;Void&gt;`.\r\n\r\n    CompletionStage&lt;SomeResponse&gt; someEndpoint() {\r\n      return doThings()\r\n          .thenApply(things -&gt; {\r\n            return someResponseFormat(things);\r\n          })\r\n          .whenComplete((someResponse, ex) -&gt; {\r\n            if (ex == null) {\r\n              emailClient.sendEmail(someResponse); // CompletionStage&lt;Void&gt;\r\n            }\r\n          });\r\n    }\r\n\r\nAs I understand, that task will be scheduled and executed. Do I need to call join() on sendEmail(...)? Would doing so have a different behavior than not calling them? What is the best practice?\r\n\r\n_Edit: Originally I asked if I need to call join() or get(), which was misunderstood as &quot;which do I need to call,&quot; when I meant, &quot;do I need to call either at all.&quot;_","title":"Do I have to call join() for a future inside a whenComplete()?","body":"<p>I'm adding some code to an existing endpoint to send an email. We don't need the result of sending an email to return a response to the user, so I'm adding a <code>.whenComplete()</code> at the end of the chain of futures, calling our email service from within. The call to the email service is also async, returning a <code>CompletionStage&lt;Void&gt;</code>.</p>\n<pre><code>CompletionStage&lt;SomeResponse&gt; someEndpoint() {\n  return doThings()\n      .thenApply(things -&gt; {\n        return someResponseFormat(things);\n      })\n      .whenComplete((someResponse, ex) -&gt; {\n        if (ex == null) {\n          emailClient.sendEmail(someResponse); // CompletionStage&lt;Void&gt;\n        }\n      });\n}\n</code></pre>\n<p>As I understand, that task will be scheduled and executed. Do I need to call join() on sendEmail(...)? Would doing so have a different behavior than not calling them? What is the best practice?</p>\n<p><em>Edit: Originally I asked if I need to call join() or get(), which was misunderstood as &quot;which do I need to call,&quot; when I meant, &quot;do I need to call either at all.&quot;</em></p>\n"},{"tags":["java","ubuntu","javafx"],"comments":[{"owner":{"account_id":1233526,"reputation":2087,"user_id":1197616,"display_name":"mattias"},"score":0,"creation_date":1467490294,"post_id":38164044,"comment_id":63756100,"body_markdown":"Have u looked at http://stackoverflow.com/questions/24090356/javafx-mediaplayer-could-not-create-player-error-in-ubuntu-14-04?","body":"Have u looked at <a href=\"http://stackoverflow.com/questions/24090356/javafx-mediaplayer-could-not-create-player-error-in-ubuntu-14-04\" title=\"javafx mediaplayer could not create player error in ubuntu 14 04\">stackoverflow.com/questions/24090356/&hellip;</a>?"},{"owner":{"account_id":7258793,"reputation":204,"user_id":5536399,"accept_rate":71,"display_name":"ImRaphael"},"score":0,"creation_date":1467498572,"post_id":38164044,"comment_id":63757847,"body_markdown":"i have tried installing all of that but with no success, i have java 1.8.0_92 version though...","body":"i have tried installing all of that but with no success, i have java 1.8.0_92 version though..."}],"answers":[{"tags":[],"owner":{"account_id":7258793,"reputation":204,"user_id":5536399,"accept_rate":71,"display_name":"ImRaphael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467499323,"creation_date":1467499323,"answer_id":38165048,"question_id":38164044,"body_markdown":"My bad guys, i was not aware until now that ubuntu 16.04 was not among supported operating systems for javafx 1.8.\r\n\r\nMy apologies! ","title":"JavaFX media player on Ubuntu 16.04","body":"<p>My bad guys, i was not aware until now that ubuntu 16.04 was not among supported operating systems for javafx 1.8.</p>\n\n<p>My apologies! </p>\n"},{"tags":[],"owner":{"account_id":8758928,"reputation":11,"user_id":6549475,"display_name":"DaytonaJohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467715316,"creation_date":1467684717,"answer_id":38194263,"question_id":38164044,"body_markdown":"I was having the same problem. Turns out that `MP3` files are not supported for `JavaFX` under `Ubuntu 16.04`, but works fine for `WAV files`.","title":"JavaFX media player on Ubuntu 16.04","body":"<p>I was having the same problem. Turns out that <code>MP3</code> files are not supported for <code>JavaFX</code> under <code>Ubuntu 16.04</code>, but works fine for <code>WAV files</code>.</p>\n"}],"owner":{"account_id":7258793,"reputation":204,"user_id":5536399,"accept_rate":71,"display_name":"ImRaphael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38165048,"answer_count":2,"score":2,"last_activity_date":1655472858,"creation_date":1467489944,"question_id":38164044,"body_markdown":"I tried to play simple mp3 file using javafx media player, and on windows everything works smoothly, how ever same code on Ubuntu 16.04 results in this error :\r\n\r\n    \r\n\r\n&gt; Exception in Application start method\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\r\n\tat javafx.scene.media.MediaPlayer.init(MediaPlayer.java:511)\r\n\tat javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:414)\r\n\tat Test.start(Test.java:24)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$162(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$175(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.gtk.GtkApplication.lambda$null$49(GtkApplication.java:139)\r\n\t... 1 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:274)\r\n\tat com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n\tat javafx.scene.media.MediaPlayer.init(MediaPlayer.java:467)\r\n\t... 11 more\r\n\r\nAnd i dont think i am making any mistake, did anyone have similar problems under ubuntu because i have no idea what is causing this.\r\n\r\n    public class Test extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        String musicFile = &quot;/home/wrongway/Downloads/aaa.mp3&quot;;     // For example\r\n\r\n        Media sound = new Media(new File(musicFile).toURI().toString());\r\n        //  Media sound = new Media(musicFile.toString());\r\n        System.out.println(musicFile.toString());\r\n        MediaPlayer mediaPlayer = new MediaPlayer(sound);\r\n        mediaPlayer.play();\r\n    }\r\n}","title":"JavaFX media player on Ubuntu 16.04","body":"<p>I tried to play simple mp3 file using javafx media player, and on windows everything works smoothly, how ever same code on Ubuntu 16.04 results in this error :</p>\n\n<blockquote>\n  <p>Exception in Application start method\n  Exception in thread \"main\" java.lang.RuntimeException: Exception in Application start method\n      at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\n      at java.lang.Thread.run(Thread.java:745)\n  Caused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n      at javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\n      at javafx.scene.media.MediaPlayer.init(MediaPlayer.java:511)\n      at javafx.scene.media.MediaPlayer.(MediaPlayer.java:414)\n      at Test.start(Test.java:24)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$162(LauncherImpl.java:863)\n      at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$175(PlatformImpl.java:326)\n      at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)\n      at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n      at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n      at com.sun.glass.ui.gtk.GtkApplication.lambda$null$49(GtkApplication.java:139)\n      ... 1 more\n  Caused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n      at com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:274)\n      at com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n      at javafx.scene.media.MediaPlayer.init(MediaPlayer.java:467)\n      ... 11 more</p>\n</blockquote>\n\n<p>And i dont think i am making any mistake, did anyone have similar problems under ubuntu because i have no idea what is causing this.</p>\n\n<pre><code>public class Test extends Application {\n\npublic static void main(String[] args) {\n    launch(args);\n\n}\n\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n    String musicFile = \"/home/wrongway/Downloads/aaa.mp3\";     // For example\n\n    Media sound = new Media(new File(musicFile).toURI().toString());\n    //  Media sound = new Media(musicFile.toString());\n    System.out.println(musicFile.toString());\n    MediaPlayer mediaPlayer = new MediaPlayer(sound);\n    mediaPlayer.play();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679062920,"post_id":57330766,"comment_id":133658549,"body_markdown":"There are more good answers [on this question](https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin). It is asking about Firebase, but the answers could apply to any API.","body":"There are more good answers <a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin\">on this question</a>. It is asking about Firebase, but the answers could apply to any API."}],"answers":[{"tags":[],"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1637814801,"creation_date":1564765192,"answer_id":57330767,"question_id":57330766,"body_markdown":"**What is a Synchronous/Asynchronous operation ?** \r\n\r\nWell, **Synchronous** waits until the task has completed. Your code executes &quot;top-down&quot; in this situation.\r\n\r\n**Asynchronous** completes a task in the background and can notify you when it is complete. \r\n\r\nIf you want to return the values from an async operation through a  method/function, you can define your own callbacks in your method/function to use these values as they are returned from these operations. \r\n\r\n**Here&#39;s how for Java**\r\n\r\n\r\nStart off by defining an interface : \r\n\r\n    interface Callback {\r\n        void myResponseCallback(YourReturnType result);//whatever your return type is: string, integer, etc.\r\n    }\r\nnext, change your method signature to be like this : \r\n\r\n    public void foo(final Callback callback) { // make your method, which was previously returning something, return void, and add in the new callback interface.\r\n\r\nnext up, wherever you previously wanted to use those values, add this line : \r\n\r\n    callback.myResponseCallback(yourResponseObject);\r\n\r\nas an example : \r\n\r\n    @Override\r\n    public void onSuccess(QuerySnapshot documentSnapshots) {\r\n        // create your object you want to return here\r\n        String bar = document.get(&quot;something&quot;).toString();\r\n        callback.myResponseCallback(bar);\r\n    })\r\n\r\nnow, where you were previously calling your method called `foo`: \r\n\r\n    foo(new Callback() {\r\n            @Override\r\n            public void myResponseCallback(YourReturnType result) {\r\n                //here, this result parameter that comes through is your api call result to use, so use this result right here to do any operation you previously wanted to do. \r\n            }\r\n        });\r\n    }\r\n\r\n**How do you do this for Kotlin ?** \r\n(as a basic example where you only care for a single result) \r\n\r\nstart off by changing your method signature to something like this:\r\n\r\n    fun foo(callback:(YourReturnType) -&gt; Unit) {\r\n    .....\r\n    \r\n\r\nthen, inside your asynchronous operation&#39;s result : \r\n\r\n    firestore.collection(&quot;something&quot;)\r\n             .document(&quot;document&quot;).get()\r\n             .addOnSuccessListener { \r\n                 val bar = it.get(&quot;something&quot;).toString()\r\n                 callback(bar)\r\n             }\r\n\r\nthen, where you would have previously called your method called `foo`, you now do this : \r\n\r\n    foo() { result-&gt;\r\n        // here, this result parameter that comes through is \r\n        // whatever you passed to the callback in the code aboce, \r\n        // so use this result right here to do any operation \r\n        // you previously wanted to do. \r\n    }\r\n    // Be aware that code outside the callback here will run\r\n    // BEFORE the code above, and cannot rely on any data that may\r\n    // be set inside the callback.\r\n\r\nif your `foo` method previously took in parameters : \r\n\r\n    fun foo(value:SomeType, callback:(YourType) -&gt; Unit)\r\n\r\nyou simply change it to : \r\n\r\n    foo(yourValueHere) { result -&gt;\r\n        // here, this result parameter that comes through is \r\n        // whatever you passed to the callback in the code aboce, \r\n        // so use this result right here to do any operation \r\n        // you previously wanted to do. \r\n    }\r\n\r\nthese solutions show how you can create a method/function to return values from async operations you&#39;ve performed through the use of callbacks.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, it is important to understand that, should you not be interested in creating a method/function for these:\r\n\r\n    @Override\r\n    public void onSuccess(SomeApiObjectType someApiResult) {\r\n        // here, this `onSuccess` callback provided by the api \r\n        // already has the data you&#39;re looking for (in this example, \r\n        // that data would be `someApiResult`).\r\n        // you can simply add all your relevant code which would \r\n        // be using this result inside this block here, this will \r\n        // include any manipulation of data, populating adapters, etc. \r\n        // this is the only place where you will have access to the\r\n        // data returned by the api call, assuming your api follows\r\n        // this pattern\r\n    })\r\n\r\n","title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","body":"<p><strong>What is a Synchronous/Asynchronous operation ?</strong></p>\n<p>Well, <strong>Synchronous</strong> waits until the task has completed. Your code executes &quot;top-down&quot; in this situation.</p>\n<p><strong>Asynchronous</strong> completes a task in the background and can notify you when it is complete.</p>\n<p>If you want to return the values from an async operation through a  method/function, you can define your own callbacks in your method/function to use these values as they are returned from these operations.</p>\n<p><strong>Here's how for Java</strong></p>\n<p>Start off by defining an interface :</p>\n<pre><code>interface Callback {\n    void myResponseCallback(YourReturnType result);//whatever your return type is: string, integer, etc.\n}\n</code></pre>\n<p>next, change your method signature to be like this :</p>\n<pre><code>public void foo(final Callback callback) { // make your method, which was previously returning something, return void, and add in the new callback interface.\n</code></pre>\n<p>next up, wherever you previously wanted to use those values, add this line :</p>\n<pre><code>callback.myResponseCallback(yourResponseObject);\n</code></pre>\n<p>as an example :</p>\n<pre><code>@Override\npublic void onSuccess(QuerySnapshot documentSnapshots) {\n    // create your object you want to return here\n    String bar = document.get(&quot;something&quot;).toString();\n    callback.myResponseCallback(bar);\n})\n</code></pre>\n<p>now, where you were previously calling your method called <code>foo</code>:</p>\n<pre><code>foo(new Callback() {\n        @Override\n        public void myResponseCallback(YourReturnType result) {\n            //here, this result parameter that comes through is your api call result to use, so use this result right here to do any operation you previously wanted to do. \n        }\n    });\n}\n</code></pre>\n<p><strong>How do you do this for Kotlin ?</strong>\n(as a basic example where you only care for a single result)</p>\n<p>start off by changing your method signature to something like this:</p>\n<pre><code>fun foo(callback:(YourReturnType) -&gt; Unit) {\n.....\n</code></pre>\n<p>then, inside your asynchronous operation's result :</p>\n<pre><code>firestore.collection(&quot;something&quot;)\n         .document(&quot;document&quot;).get()\n         .addOnSuccessListener { \n             val bar = it.get(&quot;something&quot;).toString()\n             callback(bar)\n         }\n</code></pre>\n<p>then, where you would have previously called your method called <code>foo</code>, you now do this :</p>\n<pre><code>foo() { result-&gt;\n    // here, this result parameter that comes through is \n    // whatever you passed to the callback in the code aboce, \n    // so use this result right here to do any operation \n    // you previously wanted to do. \n}\n// Be aware that code outside the callback here will run\n// BEFORE the code above, and cannot rely on any data that may\n// be set inside the callback.\n</code></pre>\n<p>if your <code>foo</code> method previously took in parameters :</p>\n<pre><code>fun foo(value:SomeType, callback:(YourType) -&gt; Unit)\n</code></pre>\n<p>you simply change it to :</p>\n<pre><code>foo(yourValueHere) { result -&gt;\n    // here, this result parameter that comes through is \n    // whatever you passed to the callback in the code aboce, \n    // so use this result right here to do any operation \n    // you previously wanted to do. \n}\n</code></pre>\n<p>these solutions show how you can create a method/function to return values from async operations you've performed through the use of callbacks.</p>\n<hr />\n<p>However, it is important to understand that, should you not be interested in creating a method/function for these:</p>\n<pre><code>@Override\npublic void onSuccess(SomeApiObjectType someApiResult) {\n    // here, this `onSuccess` callback provided by the api \n    // already has the data you're looking for (in this example, \n    // that data would be `someApiResult`).\n    // you can simply add all your relevant code which would \n    // be using this result inside this block here, this will \n    // include any manipulation of data, populating adapters, etc. \n    // this is the only place where you will have access to the\n    // data returned by the api call, assuming your api follows\n    // this pattern\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629379718,"creation_date":1626215884,"answer_id":68370029,"question_id":57330766,"body_markdown":"There&#39;s a particular pattern of this nature I&#39;ve seen repeatedly, and I think an explanation of what&#39;s happening would help. The pattern is a function/method that calls an API, assigning the result to a variable in the callback, and returns that variable.\r\n\r\nThe following function/method always returns null, even if the result from the API is not null.\r\n\r\n**Kotlin**\r\n```lang-kotlin\r\nfun foo(): String? {\r\n   var myReturnValue: String? = null\r\n   someApi.addOnSuccessListener { result -&gt;\r\n       myReturnValue = result.value\r\n   }.execute()\r\n   return myReturnValue\r\n}\r\n```\r\n**Kotlin coroutine**\r\n```lang-kotlin\r\nfun foo(): String? {\r\n   var myReturnValue: String? = null\r\n   lifecycleScope.launch { \r\n       myReturnValue = someApiSuspendFunction()\r\n   }\r\n   return myReturnValue\r\n}\r\n```\r\n**Java 8**\r\n```lang-java\r\nprivate String fooValue = null;\r\n\r\nprivate String foo() {\r\n    someApi.addOnSuccessListener(result -&gt; fooValue = result.getValue())\r\n        .execute();\r\n    return fooValue;\r\n}\r\n```\r\n\r\n**Java 7**\r\n```lang-java\r\nprivate String fooValue = null;\r\n\r\nprivate String foo() {\r\n    someApi.addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\r\n        public void onSuccess(Result&lt;String&gt; result) {\r\n            fooValue = result.getValue();\r\n        }\r\n    }).execute();\r\n    return fooValue;\r\n}\r\n```\r\n\r\nThe reason is that when you pass a callback or listener to an API function, that callback code will only be run some time in the future, when the API is done with its work. By passing the callback to the API function, you are *queuing* up work, but the current function (`foo()` in this case) returns immediately before that work begins and before that callback code is run.\r\n\r\nOr in the case of the coroutine example above, the launched coroutine is very unlikely to complete before the function that started it.\r\n\r\nYour function that calls the API cannot return the result that is returned in the callback (unless it&#39;s a Kotlin coroutine suspend function). The solution, explained in the other answer, is to make your own function take a callback parameter and not return anything. \r\n\r\nAlternatively, if you&#39;re working with coroutines, you can make your function suspend instead of launching a separate coroutine. When you have suspend functions, somewhere in your code you must launch a coroutine and handle the results *within* the coroutine. Typically, you would launch a coroutine in a lifecycle function like `onCreate()`, or in a UI callback like in an OnClickListener.","title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","body":"<p>There's a particular pattern of this nature I've seen repeatedly, and I think an explanation of what's happening would help. The pattern is a function/method that calls an API, assigning the result to a variable in the callback, and returns that variable.</p>\n<p>The following function/method always returns null, even if the result from the API is not null.</p>\n<p><strong>Kotlin</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun foo(): String? {\n   var myReturnValue: String? = null\n   someApi.addOnSuccessListener { result -&gt;\n       myReturnValue = result.value\n   }.execute()\n   return myReturnValue\n}\n</code></pre>\n<p><strong>Kotlin coroutine</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun foo(): String? {\n   var myReturnValue: String? = null\n   lifecycleScope.launch { \n       myReturnValue = someApiSuspendFunction()\n   }\n   return myReturnValue\n}\n</code></pre>\n<p><strong>Java 8</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private String fooValue = null;\n\nprivate String foo() {\n    someApi.addOnSuccessListener(result -&gt; fooValue = result.getValue())\n        .execute();\n    return fooValue;\n}\n</code></pre>\n<p><strong>Java 7</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private String fooValue = null;\n\nprivate String foo() {\n    someApi.addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\n        public void onSuccess(Result&lt;String&gt; result) {\n            fooValue = result.getValue();\n        }\n    }).execute();\n    return fooValue;\n}\n</code></pre>\n<p>The reason is that when you pass a callback or listener to an API function, that callback code will only be run some time in the future, when the API is done with its work. By passing the callback to the API function, you are <em>queuing</em> up work, but the current function (<code>foo()</code> in this case) returns immediately before that work begins and before that callback code is run.</p>\n<p>Or in the case of the coroutine example above, the launched coroutine is very unlikely to complete before the function that started it.</p>\n<p>Your function that calls the API cannot return the result that is returned in the callback (unless it's a Kotlin coroutine suspend function). The solution, explained in the other answer, is to make your own function take a callback parameter and not return anything.</p>\n<p>Alternatively, if you're working with coroutines, you can make your function suspend instead of launching a separate coroutine. When you have suspend functions, somewhere in your code you must launch a coroutine and handle the results <em>within</em> the coroutine. Typically, you would launch a coroutine in a lifecycle function like <code>onCreate()</code>, or in a UI callback like in an OnClickListener.</p>\n"},{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636922113,"creation_date":1636921271,"answer_id":69966845,"question_id":57330766,"body_markdown":"Other answer explains how to consume APIs based on callbacks by exposing a similar callbacks-based API in the outer function. However, recently Kotlin coroutines become more and more popular, especially on Android and while using them, callbacks are generally discouraged for such purposes. Kotlin approach is to use suspend functions instead. Therefore, if our application uses coroutines already, I suggest not propagating callbacks APIs from 3rd party libraries to the rest of our code, but converting them to suspend functions.\r\n\r\n**Converting callbacks to suspend**\r\n\r\nLet&#39;s assume we have this callback API:\r\n\r\n```kotlin\r\ninterface Service {\r\n    fun getData(callback: Callback&lt;String&gt;)\r\n}\r\n\r\ninterface Callback&lt;in T&gt; {\r\n    fun onSuccess(value: T)\r\n    fun onFailure(throwable: Throwable)\r\n}\r\n```\r\nWe can convert it to suspend function using [suspendCoroutine()](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/):\r\n\r\n```kotlin\r\nprivate val service: Service\r\n\r\nsuspend fun getData(): String {\r\n    return suspendCoroutine { cont -&gt;\r\n        service.getData(object : Callback&lt;String&gt; {\r\n            override fun onSuccess(value: String) {\r\n                cont.resume(value)\r\n            }\r\n\r\n            override fun onFailure(throwable: Throwable) {\r\n                cont.resumeWithException(throwable)\r\n            }\r\n        })\r\n    }\r\n}\r\n```\r\nThis way `getData()` can return the data directly and synchronously, so other suspend functions can use it very easily:\r\n\r\n```kotlin\r\nsuspend fun otherFunction() {\r\n    val data = getData()\r\n    println(data)\r\n}\r\n```\r\nNote that we don&#39;t have to use `withContext(Dispatchers.IO) { ... }` here. We can even invoke `getData()` from the main thread as long as we are inside the coroutine context (e.g. inside `Dispatchers.Main`) - main thread won&#39;t be blocked.\r\n\r\n**Cancellations**\r\n\r\nIf the callback service supports cancelling of background tasks then it is best to cancel when the calling coroutine is itself cancelled. Let&#39;s add a cancelling feature to our callback API:\r\n\r\n```kotlin\r\ninterface Service {\r\n    fun getData(callback: Callback&lt;String&gt;): Task\r\n}\r\n\r\ninterface Task {\r\n    fun cancel();\r\n}\r\n```\r\nNow, `Service.getData()` returns `Task` that we can use to cancel the operation. We can consume it almost the same as previously, but with small changes:\r\n\r\n```kotlin\r\nsuspend fun getData(): String {\r\n    return suspendCancellableCoroutine { cont -&gt;\r\n        val task = service.getData(object : Callback&lt;String&gt; {\r\n            ...\r\n        })\r\n\r\n        cont.invokeOnCancellation {\r\n            task.cancel()\r\n        }\r\n    }\r\n}\r\n```\r\nWe only need to switch from `suspendCoroutine()` to `suspendCancellableCoroutine()` and add `invokeOnCancellation()` block.\r\n\r\n**Example using Retrofit**\r\n\r\n```kotlin\r\ninterface GitHubService {\r\n    @GET(&quot;users/{user}/repos&quot;)\r\n    fun listRepos(@Path(&quot;user&quot;) user: String): Call&lt;List&lt;Repo&gt;&gt;\r\n}\r\n\r\nsuspend fun listRepos(user: String): List&lt;Repo&gt; {\r\n    val retrofit = Retrofit.Builder()\r\n        .baseUrl(&quot;https://api.github.com/&quot;)\r\n        .build()\r\n\r\n    val service = retrofit.create&lt;GitHubService&gt;()\r\n\r\n    return suspendCancellableCoroutine { cont -&gt;\r\n        val call = service.listRepos(user)\r\n\r\n        call.enqueue(object : Callback&lt;List&lt;Repo&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;List&lt;Repo&gt;&gt;, response: Response&lt;List&lt;Repo&gt;&gt;) {\r\n                if (response.isSuccessful) {\r\n                    cont.resume(response.body()!!)\r\n                } else {\r\n                    // just an example\r\n                    cont.resumeWithException(Exception(&quot;Received error response: ${response.message()}&quot;))\r\n                }\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Repo&gt;&gt;, t: Throwable) {\r\n                cont.resumeWithException(t)\r\n            }\r\n        })\r\n\r\n        cont.invokeOnCancellation {\r\n            call.cancel()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Native support**\r\n\r\nBefore we start converting callbacks to suspend functions, it is worth checking whether the library that we use does support suspend functions already: natively or with some extension. Many popular libraries like Retrofit or Firebase support coroutines and suspend functions. Usually, they either provide/handle suspend functions directly or they provide suspendable waiting on top of their asynchronous task/call/etc. object. Such waiting is very often named `await()`.\r\n\r\nFor example, Retrofit supports suspend functions directly since 2.6.0:\r\n\r\n```kotlin\r\ninterface GitHubService {\r\n    @GET(&quot;users/{user}/repos&quot;)\r\n    suspend fun listRepos(@Path(&quot;user&quot;) user: String): List&lt;Repo&gt;\r\n}\r\n```\r\n\r\nNote that we not only added `suspend`, but also we no longer return `Call`, but the result directly. Now, we can use it without all this `enqueue()` boilerplate:\r\n\r\n```kotlin\r\nval repos = service.listRepos(user)\r\n```\r\n","title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","body":"<p>Other answer explains how to consume APIs based on callbacks by exposing a similar callbacks-based API in the outer function. However, recently Kotlin coroutines become more and more popular, especially on Android and while using them, callbacks are generally discouraged for such purposes. Kotlin approach is to use suspend functions instead. Therefore, if our application uses coroutines already, I suggest not propagating callbacks APIs from 3rd party libraries to the rest of our code, but converting them to suspend functions.</p>\n<p><strong>Converting callbacks to suspend</strong></p>\n<p>Let's assume we have this callback API:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Service {\n    fun getData(callback: Callback&lt;String&gt;)\n}\n\ninterface Callback&lt;in T&gt; {\n    fun onSuccess(value: T)\n    fun onFailure(throwable: Throwable)\n}\n</code></pre>\n<p>We can convert it to suspend function using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/\" rel=\"nofollow noreferrer\">suspendCoroutine()</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val service: Service\n\nsuspend fun getData(): String {\n    return suspendCoroutine { cont -&gt;\n        service.getData(object : Callback&lt;String&gt; {\n            override fun onSuccess(value: String) {\n                cont.resume(value)\n            }\n\n            override fun onFailure(throwable: Throwable) {\n                cont.resumeWithException(throwable)\n            }\n        })\n    }\n}\n</code></pre>\n<p>This way <code>getData()</code> can return the data directly and synchronously, so other suspend functions can use it very easily:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun otherFunction() {\n    val data = getData()\n    println(data)\n}\n</code></pre>\n<p>Note that we don't have to use <code>withContext(Dispatchers.IO) { ... }</code> here. We can even invoke <code>getData()</code> from the main thread as long as we are inside the coroutine context (e.g. inside <code>Dispatchers.Main</code>) - main thread won't be blocked.</p>\n<p><strong>Cancellations</strong></p>\n<p>If the callback service supports cancelling of background tasks then it is best to cancel when the calling coroutine is itself cancelled. Let's add a cancelling feature to our callback API:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Service {\n    fun getData(callback: Callback&lt;String&gt;): Task\n}\n\ninterface Task {\n    fun cancel();\n}\n</code></pre>\n<p>Now, <code>Service.getData()</code> returns <code>Task</code> that we can use to cancel the operation. We can consume it almost the same as previously, but with small changes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun getData(): String {\n    return suspendCancellableCoroutine { cont -&gt;\n        val task = service.getData(object : Callback&lt;String&gt; {\n            ...\n        })\n\n        cont.invokeOnCancellation {\n            task.cancel()\n        }\n    }\n}\n</code></pre>\n<p>We only need to switch from <code>suspendCoroutine()</code> to <code>suspendCancellableCoroutine()</code> and add <code>invokeOnCancellation()</code> block.</p>\n<p><strong>Example using Retrofit</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface GitHubService {\n    @GET(&quot;users/{user}/repos&quot;)\n    fun listRepos(@Path(&quot;user&quot;) user: String): Call&lt;List&lt;Repo&gt;&gt;\n}\n\nsuspend fun listRepos(user: String): List&lt;Repo&gt; {\n    val retrofit = Retrofit.Builder()\n        .baseUrl(&quot;https://api.github.com/&quot;)\n        .build()\n\n    val service = retrofit.create&lt;GitHubService&gt;()\n\n    return suspendCancellableCoroutine { cont -&gt;\n        val call = service.listRepos(user)\n\n        call.enqueue(object : Callback&lt;List&lt;Repo&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;Repo&gt;&gt;, response: Response&lt;List&lt;Repo&gt;&gt;) {\n                if (response.isSuccessful) {\n                    cont.resume(response.body()!!)\n                } else {\n                    // just an example\n                    cont.resumeWithException(Exception(&quot;Received error response: ${response.message()}&quot;))\n                }\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;Repo&gt;&gt;, t: Throwable) {\n                cont.resumeWithException(t)\n            }\n        })\n\n        cont.invokeOnCancellation {\n            call.cancel()\n        }\n    }\n}\n</code></pre>\n<p><strong>Native support</strong></p>\n<p>Before we start converting callbacks to suspend functions, it is worth checking whether the library that we use does support suspend functions already: natively or with some extension. Many popular libraries like Retrofit or Firebase support coroutines and suspend functions. Usually, they either provide/handle suspend functions directly or they provide suspendable waiting on top of their asynchronous task/call/etc. object. Such waiting is very often named <code>await()</code>.</p>\n<p>For example, Retrofit supports suspend functions directly since 2.6.0:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface GitHubService {\n    @GET(&quot;users/{user}/repos&quot;)\n    suspend fun listRepos(@Path(&quot;user&quot;) user: String): List&lt;Repo&gt;\n}\n</code></pre>\n<p>Note that we not only added <code>suspend</code>, but also we no longer return <code>Call</code>, but the result directly. Now, we can use it without all this <code>enqueue()</code> boilerplate:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val repos = service.listRepos(user)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654005947,"creation_date":1638323163,"answer_id":70178210,"question_id":57330766,"body_markdown":"**TL;DR** The code you pass to these APIs (e.g. in the onSuccessListener) is a **callback**, and it runs *asynchronously* (not in the order it is written in your file). It runs at some point later in the future to &quot;call back&quot; into your code. Without using a coroutine to suspend the program, you cannot &quot;return&quot; data retrieved in a callback from a function.\r\n\r\nWhat is a callback?\r\n----\r\n\r\nA callback is a piece of code you pass to some third party library that it will run later when some event happens (e.g. when it gets data from a server). It is important to remember that the callback is not run in the order you wrote it - it may be run much later in the future, could run multiple times, or may never run at all. The example callback below will run Point A, start the server fetching process, run Point C, exit the function, then some time in the distant future may run Point B when the data is retrieved. The printout at Point C will always be empty.\r\n\r\n```kotlin\r\nfun getResult() {\r\n    // Point A\r\n    var r = &quot;&quot;\r\n    doc.get().addOnSuccessListener { result -&gt;\r\n       // The code inside the {} here is the &quot;callback&quot;\r\n       // Point B - handle result\r\n       r = result // don&#39;t do this!\r\n    }\r\n    // Point C - r=&quot;&quot; still here, point B hasn&#39;t run yet\r\n    println(r)\r\n}\r\n```\r\n\r\nHow do I get the data from the callback then?\r\n----\r\n\r\n**Make your own interface/callback**\r\n\r\nMaking your own custom interface/callback can sometimes make things cleaner looking but it doesn&#39;t really help with the core question of how to use the data outside the callback - it just moves the aysnc call to another location. It can help if the primary API call is somewhere else (e.g. in another class). \r\n\r\n```kotlin\r\n// you made your own callback to use in the\r\n// async API\r\nfun getResultImpl(callback: (String)-&gt;Unit) {\r\n    doc.get().addOnSuccessListener { result -&gt;\r\n        callback(result)\r\n    }\r\n}\r\n\r\n// but if you use it like this, you still have\r\n// the EXACT same problem as before - the printout \r\n// will always be empty\r\nfun getResult() {\r\n    var r = &quot;&quot;\r\n    getResultImpl { result -&gt;\r\n        // this part is STILL an async callback,\r\n        // and runs later in the future\r\n        r = result\r\n    }\r\n    println(r) // always empty here\r\n}\r\n\r\n// you still have to do things INSIDE the callback,\r\n// you could move getResultImpl to another class now,\r\n// but still have the same potential pitfalls as before\r\nfun getResult() {\r\n    getResultImpl { result -&gt;\r\n        println(result)\r\n    }\r\n}\r\n```\r\n\r\n*Some examples of how to properly use a custom callback*: [example 1](https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method), [example 2](https://stackoverflow.com/questions/72334154/android-recyclerview-does-not-show-any-data/72334281#72334281), [example 3](https://stackoverflow.com/a/57330767/9473786)\r\n\r\n**Make the callback a suspend function**\r\n\r\nAnother option is to turn the async method into a [suspend function](https://stackoverflow.com/a/69966845/9473786) using coroutines so it can wait for the callback to complete. This lets you write linear-looking functions again.\r\n\r\n```kotlin\r\nsuspend fun getResult() {\r\n    val result = suspendCoroutine { cont -&gt;\r\n        doc.get().addOnSuccessListener { result -&gt;\r\n            cont.resume(result)\r\n        }\r\n    }\r\n    // the first line will suspend the coroutine and wait\r\n    // until the async method returns a result. If the \r\n    // callback could be called multiple times this may not\r\n    // be the best pattern to use\r\n    println(result)\r\n}\r\n```\r\n\r\n**Re-arrange your program into smaller functions**\r\n\r\nInstead of writing monolithic linear functions, break the work up into several functions and call them from within the callbacks. You should not try to modify local variables within the callback and return or use them after the callback (e.g. Point C). You have to move away from the idea of *returning data* from a function when it comes from an async API - without a coroutine this generally isn&#39;t possible.\r\n\r\nFor example, you could handle the async data in a separate method (a &quot;processing method&quot;) and do as little as possible in the callback itself other than call the processing method with the received result. This helps avoid a lot of the common errors with async APIs where you attempt to modify local variables declared outside the callback scope or try to return things modified from within the callback. When you call `getResult` it *starts* the process of getting the data. When that process is complete (some time in the future) the callback calls `showResult` to show it.\r\n\r\n```kotlin\r\nfun getResult() {\r\n   doc.get().addOnSuccessListener { result -&gt;\r\n      showResult(result)\r\n   }\r\n   // don&#39;t try to show or return the result here!\r\n}\r\n\r\nfun showResult(result: String) {\r\n    println(result)\r\n}\r\n```\r\n\r\nExample\r\n----\r\n\r\nAs a concrete example here is a minimal ViewModel showing how one could include an async API into a program flow to fetch data, process it, and display it in an Activity or Fragment. This is written in Kotlin but is equally applicable to Java.\r\n\r\n    class MainViewModel : ViewModel() {\r\n        private val textLiveData = MutableLiveData&lt;String&gt;()\r\n        val text: LiveData&lt;String&gt;\r\n            get() = textLiveData\r\n\r\n        fun fetchData() {\r\n            // Use a coroutine here to make a dummy async call,\r\n            // this is where you could call Firestore or other API\r\n            // Note that this method does not _return_ the requested data!\r\n            viewModelScope.launch {\r\n                delay(3000)\r\n                // pretend this is a slow network call, this part\r\n                // won&#39;t run until 3000 ms later\r\n                val t = Calendar.getInstance().time\r\n                processData(t.toString())\r\n            }\r\n\r\n            // anything out here will run immediately, it will not\r\n            // wait for the &quot;slow&quot; code above to run first\r\n        }\r\n\r\n        private fun processData(d: String) {\r\n            // Once you get the data you may want to modify it before displaying it.\r\n            val p = &quot;The time is $d&quot;\r\n            textLiveData.postValue(p)\r\n        }\r\n    }\r\n    \r\nA real API call in `fetchData()` might look something more like this\r\n\r\n    fun fetchData() {\r\n        firestoreDB.collection(&quot;data&quot;)\r\n                   .document(&quot;mydoc&quot;)\r\n                   .get()\r\n                   .addOnCompleteListener { task -&gt;\r\n                       if (task.isSuccessful) {\r\n                           val data = task.result.data\r\n                           processData(data[&quot;time&quot;])\r\n                       }\r\n                       else {\r\n                           textLiveData.postValue(&quot;ERROR&quot;)\r\n                       }\r\n                   }\r\n    }\r\n\r\nThe Activity or Fragment that goes along with this doesn&#39;t need to know anything about these calls, it just passes actions in by calling methods on the ViewModel and observes the LiveData to update its views when new data is available. It cannot assume that the data is available immediately after a call to `fetchData()`, but with this pattern it doesn&#39;t need to.\r\n\r\nThe view layer can also do things like show and hide a progress bar while the data is being loaded so the user knows it&#39;s working in the background.\r\n\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        val binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val model: MainViewModel by viewModels()\r\n\r\n        // Observe the LiveData and when it changes, update the\r\n        // state of the Views\r\n        model.text.observe(this) { processedData -&gt;\r\n            binding.text.text = processedData \r\n            binding.progress.visibility = View.GONE\r\n        }\r\n\r\n        // When the user clicks the button, pass that action to the\r\n        // ViewModel by calling &quot;fetchData()&quot;\r\n        binding.getText.setOnClickListener {\r\n            binding.progress.visibility = View.VISIBLE\r\n            model.fetchData()\r\n        }\r\n\r\n        binding.progress.visibility = View.GONE\r\n    }\r\n}\r\n```\r\n    \r\nThe ViewModel is not strictly necessary for this type of async workflow - here is an example of how to do the same thing in the activity\r\n\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        // When the user clicks the button, trigger the async\r\n        // data call\r\n        binding.getText.setOnClickListener {\r\n            binding.progress.visibility = View.VISIBLE\r\n            fetchData()\r\n        }\r\n\r\n        binding.progress.visibility = View.GONE\r\n    }\r\n    \r\n    private fun fetchData() {\r\n        lifecycleScope.launch {\r\n            delay(3000)\r\n            val t = Calendar.getInstance().time\r\n            processData(t.toString())\r\n        }\r\n    }\r\n    \r\n    private fun processData(d: String) {\r\n        binding.progress.visibility = View.GONE\r\n        val p = &quot;The time is $d&quot;\r\n        binding.text.text = p\r\n    }\r\n}\r\n\r\n```\r\n\r\n(and, for completeness, the activity XML)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text&quot;\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/get_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:text=&quot;Get Text&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/text&quot;\r\n            /&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;48dp&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/get_text&quot;\r\n            /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","body":"<p><strong>TL;DR</strong> The code you pass to these APIs (e.g. in the onSuccessListener) is a <strong>callback</strong>, and it runs <em>asynchronously</em> (not in the order it is written in your file). It runs at some point later in the future to &quot;call back&quot; into your code. Without using a coroutine to suspend the program, you cannot &quot;return&quot; data retrieved in a callback from a function.</p>\n<h2>What is a callback?</h2>\n<p>A callback is a piece of code you pass to some third party library that it will run later when some event happens (e.g. when it gets data from a server). It is important to remember that the callback is not run in the order you wrote it - it may be run much later in the future, could run multiple times, or may never run at all. The example callback below will run Point A, start the server fetching process, run Point C, exit the function, then some time in the distant future may run Point B when the data is retrieved. The printout at Point C will always be empty.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getResult() {\n    // Point A\n    var r = &quot;&quot;\n    doc.get().addOnSuccessListener { result -&gt;\n       // The code inside the {} here is the &quot;callback&quot;\n       // Point B - handle result\n       r = result // don't do this!\n    }\n    // Point C - r=&quot;&quot; still here, point B hasn't run yet\n    println(r)\n}\n</code></pre>\n<h2>How do I get the data from the callback then?</h2>\n<p><strong>Make your own interface/callback</strong></p>\n<p>Making your own custom interface/callback can sometimes make things cleaner looking but it doesn't really help with the core question of how to use the data outside the callback - it just moves the aysnc call to another location. It can help if the primary API call is somewhere else (e.g. in another class).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// you made your own callback to use in the\n// async API\nfun getResultImpl(callback: (String)-&gt;Unit) {\n    doc.get().addOnSuccessListener { result -&gt;\n        callback(result)\n    }\n}\n\n// but if you use it like this, you still have\n// the EXACT same problem as before - the printout \n// will always be empty\nfun getResult() {\n    var r = &quot;&quot;\n    getResultImpl { result -&gt;\n        // this part is STILL an async callback,\n        // and runs later in the future\n        r = result\n    }\n    println(r) // always empty here\n}\n\n// you still have to do things INSIDE the callback,\n// you could move getResultImpl to another class now,\n// but still have the same potential pitfalls as before\nfun getResult() {\n    getResultImpl { result -&gt;\n        println(result)\n    }\n}\n</code></pre>\n<p><em>Some examples of how to properly use a custom callback</em>: <a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method\">example 1</a>, <a href=\"https://stackoverflow.com/questions/72334154/android-recyclerview-does-not-show-any-data/72334281#72334281\">example 2</a>, <a href=\"https://stackoverflow.com/a/57330767/9473786\">example 3</a></p>\n<p><strong>Make the callback a suspend function</strong></p>\n<p>Another option is to turn the async method into a <a href=\"https://stackoverflow.com/a/69966845/9473786\">suspend function</a> using coroutines so it can wait for the callback to complete. This lets you write linear-looking functions again.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun getResult() {\n    val result = suspendCoroutine { cont -&gt;\n        doc.get().addOnSuccessListener { result -&gt;\n            cont.resume(result)\n        }\n    }\n    // the first line will suspend the coroutine and wait\n    // until the async method returns a result. If the \n    // callback could be called multiple times this may not\n    // be the best pattern to use\n    println(result)\n}\n</code></pre>\n<p><strong>Re-arrange your program into smaller functions</strong></p>\n<p>Instead of writing monolithic linear functions, break the work up into several functions and call them from within the callbacks. You should not try to modify local variables within the callback and return or use them after the callback (e.g. Point C). You have to move away from the idea of <em>returning data</em> from a function when it comes from an async API - without a coroutine this generally isn't possible.</p>\n<p>For example, you could handle the async data in a separate method (a &quot;processing method&quot;) and do as little as possible in the callback itself other than call the processing method with the received result. This helps avoid a lot of the common errors with async APIs where you attempt to modify local variables declared outside the callback scope or try to return things modified from within the callback. When you call <code>getResult</code> it <em>starts</em> the process of getting the data. When that process is complete (some time in the future) the callback calls <code>showResult</code> to show it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getResult() {\n   doc.get().addOnSuccessListener { result -&gt;\n      showResult(result)\n   }\n   // don't try to show or return the result here!\n}\n\nfun showResult(result: String) {\n    println(result)\n}\n</code></pre>\n<h2>Example</h2>\n<p>As a concrete example here is a minimal ViewModel showing how one could include an async API into a program flow to fetch data, process it, and display it in an Activity or Fragment. This is written in Kotlin but is equally applicable to Java.</p>\n<pre><code>class MainViewModel : ViewModel() {\n    private val textLiveData = MutableLiveData&lt;String&gt;()\n    val text: LiveData&lt;String&gt;\n        get() = textLiveData\n\n    fun fetchData() {\n        // Use a coroutine here to make a dummy async call,\n        // this is where you could call Firestore or other API\n        // Note that this method does not _return_ the requested data!\n        viewModelScope.launch {\n            delay(3000)\n            // pretend this is a slow network call, this part\n            // won't run until 3000 ms later\n            val t = Calendar.getInstance().time\n            processData(t.toString())\n        }\n\n        // anything out here will run immediately, it will not\n        // wait for the &quot;slow&quot; code above to run first\n    }\n\n    private fun processData(d: String) {\n        // Once you get the data you may want to modify it before displaying it.\n        val p = &quot;The time is $d&quot;\n        textLiveData.postValue(p)\n    }\n}\n</code></pre>\n<p>A real API call in <code>fetchData()</code> might look something more like this</p>\n<pre><code>fun fetchData() {\n    firestoreDB.collection(&quot;data&quot;)\n               .document(&quot;mydoc&quot;)\n               .get()\n               .addOnCompleteListener { task -&gt;\n                   if (task.isSuccessful) {\n                       val data = task.result.data\n                       processData(data[&quot;time&quot;])\n                   }\n                   else {\n                       textLiveData.postValue(&quot;ERROR&quot;)\n                   }\n               }\n}\n</code></pre>\n<p>The Activity or Fragment that goes along with this doesn't need to know anything about these calls, it just passes actions in by calling methods on the ViewModel and observes the LiveData to update its views when new data is available. It cannot assume that the data is available immediately after a call to <code>fetchData()</code>, but with this pattern it doesn't need to.</p>\n<p>The view layer can also do things like show and hide a progress bar while the data is being loaded so the user knows it's working in the background.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val model: MainViewModel by viewModels()\n\n        // Observe the LiveData and when it changes, update the\n        // state of the Views\n        model.text.observe(this) { processedData -&gt;\n            binding.text.text = processedData \n            binding.progress.visibility = View.GONE\n        }\n\n        // When the user clicks the button, pass that action to the\n        // ViewModel by calling &quot;fetchData()&quot;\n        binding.getText.setOnClickListener {\n            binding.progress.visibility = View.VISIBLE\n            model.fetchData()\n        }\n\n        binding.progress.visibility = View.GONE\n    }\n}\n</code></pre>\n<p>The ViewModel is not strictly necessary for this type of async workflow - here is an example of how to do the same thing in the activity</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        // When the user clicks the button, trigger the async\n        // data call\n        binding.getText.setOnClickListener {\n            binding.progress.visibility = View.VISIBLE\n            fetchData()\n        }\n\n        binding.progress.visibility = View.GONE\n    }\n    \n    private fun fetchData() {\n        lifecycleScope.launch {\n            delay(3000)\n            val t = Calendar.getInstance().time\n            processData(t.toString())\n        }\n    }\n    \n    private fun processData(d: String) {\n        binding.progress.visibility = View.GONE\n        val p = &quot;The time is $d&quot;\n        binding.text.text = p\n    }\n}\n\n</code></pre>\n<p>(and, for completeness, the activity XML)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/get_text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:text=&quot;Get Text&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text&quot;\n        /&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;48dp&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/get_text&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9049,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"answer_count":4,"score":31,"last_activity_date":1655472779,"creation_date":1564765192,"question_id":57330766,"body_markdown":"*(Disclaimer: There are a ton of questions which arise from people asking about data being null/incorrect when using asynchronous operations through requests such as facebook,firebase, etc. My intention for this question was to provide a simple answer for that problem to everyone starting out with asynchronous operations in android)*\r\n\r\nI&#39;m trying to get data from one of my operations, when I debug it using breakpoints or logs, the values are there, but when I run it they are always null, how can I solve this ?\r\n\r\n **Firebase**\r\n\r\n```java\r\nfirebaseFirestore.collection(&quot;some collection&quot;).get()\r\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onSuccess(QuerySnapshot documentSnapshots) {\r\n            //I want to return these values I receive here... \r\n        });\r\n//...and use the returned value here.\r\n```\r\n**Facebook**\r\n```java\r\nGraphRequest request = GraphRequest.newGraphPathRequest(\r\n    accessToken,\r\n    &quot;some path&quot;,\r\n    new GraphRequest.Callback() {\r\n        @Override\r\n        public void onCompleted(GraphResponse response) {\r\n            //I want to return these values I receive here...\r\n        }\r\n    });\r\nrequest.executeAsync();\r\n//...and use the returned value here.\r\n```\r\n**Kotlin coroutine**\r\n```kotlin\r\nvar result: SomeResultType? = null\r\nsomeScope.launch {\r\n    result = someSuspendFunctionToRetrieveSomething()\r\n    //I want to return the value I received here... \r\n}\r\nLog.d(&quot;result&quot;, result.toString()) //...but it is still null here.\r\n```\r\nEtc.","title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","body":"<p><em>(Disclaimer: There are a ton of questions which arise from people asking about data being null/incorrect when using asynchronous operations through requests such as facebook,firebase, etc. My intention for this question was to provide a simple answer for that problem to everyone starting out with asynchronous operations in android)</em></p>\n<p>I'm trying to get data from one of my operations, when I debug it using breakpoints or logs, the values are there, but when I run it they are always null, how can I solve this ?</p>\n<p><strong>Firebase</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>firebaseFirestore.collection(&quot;some collection&quot;).get()\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onSuccess(QuerySnapshot documentSnapshots) {\n            //I want to return these values I receive here... \n        });\n//...and use the returned value here.\n</code></pre>\n<p><strong>Facebook</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphRequest request = GraphRequest.newGraphPathRequest(\n    accessToken,\n    &quot;some path&quot;,\n    new GraphRequest.Callback() {\n        @Override\n        public void onCompleted(GraphResponse response) {\n            //I want to return these values I receive here...\n        }\n    });\nrequest.executeAsync();\n//...and use the returned value here.\n</code></pre>\n<p><strong>Kotlin coroutine</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var result: SomeResultType? = null\nsomeScope.launch {\n    result = someSuspendFunctionToRetrieveSomething()\n    //I want to return the value I received here... \n}\nLog.d(&quot;result&quot;, result.toString()) //...but it is still null here.\n</code></pre>\n<p>Etc.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655471981,"creation_date":1655471534,"answer_id":72659946,"question_id":72658582,"body_markdown":"Although I am not able to prove it through issue tickets, I have done enough investigation to believe that this issue occurs to hibernate version previous from 5. (Example **Hibernate 4**!) with database being used **Oracle**.\r\n\r\nWhat the issue seems to be is the following:\r\n\r\nWhen you have written the JPQL query `SELECT DISTINCT o.idWhom FROM Message o` you would expect that the entities would be filtered to be distinct after the execution of the SQL query, where the mapper would filter out the distinct entities.\r\n\r\nFor some reason however in those versions I mention above what actually happens is that the distinct is passed in the SQL query and what actually executes is the following: \r\n\r\n    SELECT DISTINCT idh.id_column FROM O_TABLE o JOIN IDWHOM_TABLE idh on (o.id_foreign_key_column = idh.id_column\r\n\r\nAs you can see this select query does not return in result set all columns that are needed from mapper to build the entity but only returns the id column. Therefore the mapper is not able to extract from ResultSet all columns needed to build the entity and you get the error that you get `could not extract ResultSet`.\r\n\r\nA workaround I have found, is that it is able to work when distinct is placed on some primitive field and not on an entity, so you can use this to your advantage to bypass this issue with the following approach:\r\n\r\nThis supposes that the entity `Users` has as id a field named `id`.\r\n\r\n        @Query(value = &quot;SELECT us FROM Users us where us.id in (SELECT DISTINCT o.idWhom.id FROM Message o WHERE o.idWho = ?1)&quot;) \r\n        List&lt;Users&gt; allCorrespondents(Users user);\r\n\r\nI have excluded the ordering which you have in your original query since even from logical point of view seems wrong. A User entity can have multiple messages. How could you order the returned users just from created date of messages? This field is not able to order Users themselves. It could be used to order messages only.","title":"Got some troubles with JPQL (JPA) query SELECT DISTINCT ORDERED BY","body":"<p>Although I am not able to prove it through issue tickets, I have done enough investigation to believe that this issue occurs to hibernate version previous from 5. (Example <strong>Hibernate 4</strong>!) with database being used <strong>Oracle</strong>.</p>\n<p>What the issue seems to be is the following:</p>\n<p>When you have written the JPQL query <code>SELECT DISTINCT o.idWhom FROM Message o</code> you would expect that the entities would be filtered to be distinct after the execution of the SQL query, where the mapper would filter out the distinct entities.</p>\n<p>For some reason however in those versions I mention above what actually happens is that the distinct is passed in the SQL query and what actually executes is the following:</p>\n<pre><code>SELECT DISTINCT idh.id_column FROM O_TABLE o JOIN IDWHOM_TABLE idh on (o.id_foreign_key_column = idh.id_column\n</code></pre>\n<p>As you can see this select query does not return in result set all columns that are needed from mapper to build the entity but only returns the id column. Therefore the mapper is not able to extract from ResultSet all columns needed to build the entity and you get the error that you get <code>could not extract ResultSet</code>.</p>\n<p>A workaround I have found, is that it is able to work when distinct is placed on some primitive field and not on an entity, so you can use this to your advantage to bypass this issue with the following approach:</p>\n<p>This supposes that the entity <code>Users</code> has as id a field named <code>id</code>.</p>\n<pre><code>    @Query(value = &quot;SELECT us FROM Users us where us.id in (SELECT DISTINCT o.idWhom.id FROM Message o WHERE o.idWho = ?1)&quot;) \n    List&lt;Users&gt; allCorrespondents(Users user);\n</code></pre>\n<p>I have excluded the ordering which you have in your original query since even from logical point of view seems wrong. A User entity can have multiple messages. How could you order the returned users just from created date of messages? This field is not able to order Users themselves. It could be used to order messages only.</p>\n"}],"owner":{"account_id":24105674,"reputation":15,"user_id":18076910,"display_name":"Numpek2k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72659946,"answer_count":1,"score":1,"last_activity_date":1655471981,"creation_date":1655464624,"question_id":72658582,"body_markdown":"as in title i got some problems with query in JPQL\r\n\r\nthat&#39;s the query I&#39;m using:\r\n```\r\n@Query(value = &quot;SELECT DISTINCT o.idWhom FROM Message o WHERE o.idWho = ?1 ORDER BY o.date DESC&quot;)\r\n    List&lt;Users&gt; allCorrespondents(Users user);\r\n```\r\n\r\nClass *message*:\r\n```\r\npublic class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @NotBlank\r\n    private String content;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date date = new Date();\r\n\r\n    boolean read = false;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;id_who&quot;)\r\n    private Users idWho;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;id_whom&quot;)\r\n    private Users idWhom;\r\n}\r\n```\r\n\r\nError I&#39;ve got:\r\n```\r\n2022-06-17 13:02:22.435 ERROR 2304 --- [nio-8080-exec-2] c.e.h.S.CustomAuthorizationFilter        : \r\nError logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n```","title":"Got some troubles with JPQL (JPA) query SELECT DISTINCT ORDERED BY","body":"<p>as in title i got some problems with query in JPQL</p>\n<p>that's the query I'm using:</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT o.idWhom FROM Message o WHERE o.idWho = ?1 ORDER BY o.date DESC&quot;)\n    List&lt;Users&gt; allCorrespondents(Users user);\n</code></pre>\n<p>Class <em>message</em>:</p>\n<pre><code>public class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @NotBlank\n    private String content;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date date = new Date();\n\n    boolean read = false;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id_who&quot;)\n    private Users idWho;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id_whom&quot;)\n    private Users idWhom;\n}\n</code></pre>\n<p>Error I've got:</p>\n<pre><code>2022-06-17 13:02:22.435 ERROR 2304 --- [nio-8080-exec-2] c.e.h.S.CustomAuthorizationFilter        : \nError logging in: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7038887,"reputation":669,"user_id":5391965,"display_name":"Reynadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655466902,"creation_date":1655466902,"answer_id":72659023,"question_id":72656059,"body_markdown":"They are working on it :  https://github.com/spring-projects/sts4/issues/788\r\n\r\nPlease [download the latest snapshot][1] if you can&#39;t wait for the release\r\n\r\n\r\n  [1]: https://download.springsource.com/snapshot/STS4/nightly/dist/e4.24/spring-tool-suite-4-4.15.1.CI-B2725-e4.24.0-win32.win32.x86_64.self-extracting.jar","title":"Issue while trying to install spring-tool-suite-4-4.15.0","body":"<p>They are working on it :  <a href=\"https://github.com/spring-projects/sts4/issues/788\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/sts4/issues/788</a></p>\n<p>Please <a href=\"https://download.springsource.com/snapshot/STS4/nightly/dist/e4.24/spring-tool-suite-4-4.15.1.CI-B2725-e4.24.0-win32.win32.x86_64.self-extracting.jar\" rel=\"nofollow noreferrer\">download the latest snapshot</a> if you can't wait for the release</p>\n"}],"owner":{"account_id":25578153,"reputation":1,"user_id":19357199,"display_name":"mohbaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655471321,"creation_date":1655452443,"question_id":72656059,"body_markdown":"Hi I am trying to install spring-tool-suite-4-4.15.0 on a windows 10 machine by executing below command in my CMD\r\n \r\nSpring source jar file I download from https://spring.io/tools by clicking on 4.15.0-WINDOWS X84_64\r\n\r\n   java -jar C:\\Workdir\\spring-tool-suite-4-4.15.0.RELEASE-e4.24.0-win32.win32.x86_64.self-extracting.jar\r\n\r\n I can see decompress is starting but towards the end I get below exception &amp; process stop incomplete\r\n \r\n sts-4.15.0.RELEASE/plugins/org.springframework.tooling.boot.ls_1.34.0.202206140708/servers/spring-boot-language-server/META-INF/third-party-open-source-licenses/bsd 3-clause &quot;new&quot; or &quot;revised&quot; license (bsd-3-clause) - apl-v10.html\r\n\r\njava.io.FileNotFoundException: C:\\jdk1.8.33\\bin\\sts-4.15.0.RELEASE\\plugins\\org.springframework.tooling.boot.ls_1.34.0.202206140708\\servers\\spring-boot-language-server\\META-INF\\third-party-open-source-licenses\\bsd 3-clause &quot;new&quot; or &quot;revised&quot; license (bsd-3-clause) - apl-v10.html (The filename, directory name, or volume label syntax is incorrect)\r\n\r\n        at java.io.FileOutputStream.open0(Native Method)\r\n\r\n        at java.io.FileOutputStream.open(FileOutputStream.java:270)\r\n\r\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\r\n\r\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162)\r\n\r\n        at SelfExtractor.unpack(SelfExtractor.java:147)\r\n\r\n        at SelfExtractor.run(SelfExtractor.java:47)\r\n\r\n        at SelfExtractor.main(SelfExtractor.java:31)\r\n\r\n \r\n My jdk version is as below , any one know where is the issues &amp; how to fix it? \r\n\r\nC:\\jdk1.8.33\\bin&gt;java -version\r\n\r\njava version &quot;1.8.0_331&quot;\r\n\r\nJava(TM) SE Runtime Environment (build 1.8.0_331-b25)\r\n\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.331-b25, mixed mode)\r\n","title":"Issue while trying to install spring-tool-suite-4-4.15.0","body":"<p>Hi I am trying to install spring-tool-suite-4-4.15.0 on a windows 10 machine by executing below command in my CMD</p>\n<p>Spring source jar file I download from <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">https://spring.io/tools</a> by clicking on 4.15.0-WINDOWS X84_64</p>\n<p>java -jar C:\\Workdir\\spring-tool-suite-4-4.15.0.RELEASE-e4.24.0-win32.win32.x86_64.self-extracting.jar</p>\n<p>I can see decompress is starting but towards the end I get below exception &amp; process stop incomplete</p>\n<p>sts-4.15.0.RELEASE/plugins/org.springframework.tooling.boot.ls_1.34.0.202206140708/servers/spring-boot-language-server/META-INF/third-party-open-source-licenses/bsd 3-clause &quot;new&quot; or &quot;revised&quot; license (bsd-3-clause) - apl-v10.html</p>\n<p>java.io.FileNotFoundException: C:\\jdk1.8.33\\bin\\sts-4.15.0.RELEASE\\plugins\\org.springframework.tooling.boot.ls_1.34.0.202206140708\\servers\\spring-boot-language-server\\META-INF\\third-party-open-source-licenses\\bsd 3-clause &quot;new&quot; or &quot;revised&quot; license (bsd-3-clause) - apl-v10.html (The filename, directory name, or volume label syntax is incorrect)</p>\n<pre><code>    at java.io.FileOutputStream.open0(Native Method)\n\n    at java.io.FileOutputStream.open(FileOutputStream.java:270)\n\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\n\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162)\n\n    at SelfExtractor.unpack(SelfExtractor.java:147)\n\n    at SelfExtractor.run(SelfExtractor.java:47)\n\n    at SelfExtractor.main(SelfExtractor.java:31)\n</code></pre>\n<p>My jdk version is as below , any one know where is the issues &amp; how to fix it?</p>\n<p>C:\\jdk1.8.33\\bin&gt;java -version</p>\n<p>java version &quot;1.8.0_331&quot;</p>\n<p>Java(TM) SE Runtime Environment (build 1.8.0_331-b25)</p>\n<p>Java HotSpot(TM) 64-Bit Server VM (build 25.331-b25, mixed mode)</p>\n"},{"tags":["java","symbolic-math"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655468921,"post_id":72659261,"comment_id":128345825,"body_markdown":"Essentially you would be implementing the distribution rule into your AST, noting the fact that `a*(b+c)` == `ab+ac`. So in this case, if one side of the `*` operator is addition (another `+` operation), then you can &quot;swap&quot; the operators such that `+` is the top level operator, and `*` is the sub-operator for both sides, with the original non-`+` operand being multiplied to the terms of the `+` operator. I don&#39;t think you&#39;ll really find a library for this, but it&#39;s not impossible to implement yourself.","body":"Essentially you would be implementing the distribution rule into your AST, noting the fact that <code>a*(b+c)</code> == <code>ab+ac</code>. So in this case, if one side of the <code>*</code> operator is addition (another <code>+</code> operation), then you can &quot;swap&quot; the operators such that <code>+</code> is the top level operator, and <code>*</code> is the sub-operator for both sides, with the original non-<code>+</code> operand being multiplied to the terms of the <code>+</code> operator. I don&#39;t think you&#39;ll really find a library for this, but it&#39;s not impossible to implement yourself."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655471229,"creation_date":1655470882,"answer_id":72659805,"question_id":72659261,"body_markdown":"Try this.\r\n\r\n\tinterface AST { AST expand(); }\r\n\r\n\tpublic class Var implements AST {\r\n\t\tpublic final String name;\r\n\t\tpublic Var(String name) { this.name = name; }\r\n\t\t@Override public AST expand() { return this; }\r\n\t\t@Override public String toString() { return name; }\r\n\t}\r\n\r\n\tpublic abstract class Binary implements AST {\r\n\t\tpublic final AST left, right;\r\n\t\tBinary(AST left, AST right) { this.left = left; this.right = right; }\r\n\t}\r\n\r\n\tpublic class Plus extends Binary {\r\n\t\tpublic Plus(AST left, AST right) { super(left, right); }\r\n\t\t@Override public AST expand() { return this; }\r\n\t\t@Override public String toString() { return &quot;(%s + %s)&quot;.formatted(left, right); }\r\n\t}\r\n\r\n\tpublic class Mult extends Binary {\r\n\t\tpublic Mult(AST left, AST right) { super(left, right); }\r\n\t\t@Override\r\n\t\tpublic AST expand() {\r\n\t\t\tAST l = left.expand(), r = right.expand();\r\n\t\t\tif (l instanceof Plus lp &amp;&amp; r instanceof Plus rp)\r\n\t\t\t\treturn new Plus(\r\n\t\t\t\t\tnew Plus(new Mult(lp.left, rp.left), new Mult(lp.left, rp.right)),\r\n\t\t\t\t\tnew Plus(new Mult(lp.right, rp.left), new Mult(lp.right, rp.right)));\r\n\t\t\telse if (l instanceof Plus lp)\r\n\t\t\t\treturn new Plus(new Mult(lp.left, r), new Mult(lp.right, r));\r\n\t\t\telse if (r instanceof Plus rp)\r\n\t\t\t\treturn new Plus(new Mult(l, rp.left), new Mult(l, rp.right));\r\n\t\t\telse \r\n\t\t\t\treturn new Mult(l, r);\r\n\t\t}\r\n\t\t@Override public String toString() { return &quot;(%s * %s)&quot;.formatted(left, right); }\r\n\t}\r\n\r\nAnd\r\n\r\n\t\tAST e = new Mult(new Var(&quot;a&quot;), new Plus(new Var(&quot;b&quot;), new Var(&quot;c&quot;)));\r\n\t\tSystem.out.println(e + &quot; -&gt; &quot; + e.expand());\r\n\t\tAST f = new Mult(new Plus(new Var(&quot;a&quot;), new Var(&quot;b&quot;)), new Plus(new Var(&quot;c&quot;), new Var(&quot;d&quot;)));\r\n\t\tSystem.out.println(f + &quot; -&gt; &quot; + f.expand());\r\n\r\noutput:\r\n\r\n    (a * (b + c)) -&gt; ((a * b) + (a * c))\r\n    ((a + b) * (c + d)) -&gt; (((a * c) + (a * d)) + ((b * c) + (b * d)))\r\n\r\n","title":"expanding math expression ast","body":"<p>Try this.</p>\n<pre><code>interface AST { AST expand(); }\n\npublic class Var implements AST {\n    public final String name;\n    public Var(String name) { this.name = name; }\n    @Override public AST expand() { return this; }\n    @Override public String toString() { return name; }\n}\n\npublic abstract class Binary implements AST {\n    public final AST left, right;\n    Binary(AST left, AST right) { this.left = left; this.right = right; }\n}\n\npublic class Plus extends Binary {\n    public Plus(AST left, AST right) { super(left, right); }\n    @Override public AST expand() { return this; }\n    @Override public String toString() { return &quot;(%s + %s)&quot;.formatted(left, right); }\n}\n\npublic class Mult extends Binary {\n    public Mult(AST left, AST right) { super(left, right); }\n    @Override\n    public AST expand() {\n        AST l = left.expand(), r = right.expand();\n        if (l instanceof Plus lp &amp;&amp; r instanceof Plus rp)\n            return new Plus(\n                new Plus(new Mult(lp.left, rp.left), new Mult(lp.left, rp.right)),\n                new Plus(new Mult(lp.right, rp.left), new Mult(lp.right, rp.right)));\n        else if (l instanceof Plus lp)\n            return new Plus(new Mult(lp.left, r), new Mult(lp.right, r));\n        else if (r instanceof Plus rp)\n            return new Plus(new Mult(l, rp.left), new Mult(l, rp.right));\n        else \n            return new Mult(l, r);\n    }\n    @Override public String toString() { return &quot;(%s * %s)&quot;.formatted(left, right); }\n}\n</code></pre>\n<p>And</p>\n<pre><code>    AST e = new Mult(new Var(&quot;a&quot;), new Plus(new Var(&quot;b&quot;), new Var(&quot;c&quot;)));\n    System.out.println(e + &quot; -&gt; &quot; + e.expand());\n    AST f = new Mult(new Plus(new Var(&quot;a&quot;), new Var(&quot;b&quot;)), new Plus(new Var(&quot;c&quot;), new Var(&quot;d&quot;)));\n    System.out.println(f + &quot; -&gt; &quot; + f.expand());\n</code></pre>\n<p>output:</p>\n<pre><code>(a * (b + c)) -&gt; ((a * b) + (a * c))\n((a + b) * (c + d)) -&gt; (((a * c) + (a * d)) + ((b * c) + (b * d)))\n</code></pre>\n"}],"owner":{"account_id":22048074,"reputation":5,"user_id":16312764,"display_name":"user16312764"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72659805,"answer_count":1,"score":0,"last_activity_date":1655471229,"creation_date":1655468244,"question_id":72659261,"body_markdown":"I parsed a expression like a*(b+c) to an AST and it finally becomes: [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a5kTx.png,\r\nI&#39;m trying to expand the expression it finally becomes a*b + a*c, but I have no idea.\r\n\r\nI would like to found an algorithm to expand the expression, or maybe a library to do it, preferably for Java.","title":"expanding math expression ast","body":"<p>I parsed a expression like a*(b+c) to an AST and it finally becomes: <a href=\"https://i.stack.imgur.com/a5kTx.png,\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm trying to expand the expression it finally becomes a<em>b + a</em>c, but I have no idea.</p>\n<p>I would like to found an algorithm to expand the expression, or maybe a library to do it, preferably for Java.</p>\n"},{"tags":["java","arrays","json","gson"],"answers":[{"tags":[],"owner":{"account_id":19306794,"reputation":85,"user_id":14113432,"display_name":"Harshita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655471049,"creation_date":1655471049,"answer_id":72659850,"question_id":72659499,"body_markdown":"Create separate class for all nested structure of JSON i.e. for ```labels``` in JSON there should a corresponding class \r\n```\r\npublic class Label {\r\n    public String name;\r\n    public List&lt;String&gt; iconUrls;\r\n    public String id;\r\n}\r\n```\r\nand then change type of ```labels``` in ```Clan``` class as ```List&lt;Label&gt;```","title":"Why can&#39;t GSON read a JSONArray of JSONObjects?","body":"<p>Create separate class for all nested structure of JSON i.e. for <code>labels</code> in JSON there should a corresponding class</p>\n<pre><code>public class Label {\n    public String name;\n    public List&lt;String&gt; iconUrls;\n    public String id;\n}\n</code></pre>\n<p>and then change type of <code>labels</code> in <code>Clan</code> class as <code>List&lt;Label&gt;</code></p>\n"}],"owner":{"account_id":16991493,"reputation":35,"user_id":12291000,"display_name":"Ben Parry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655471049,"creation_date":1655469370,"question_id":72659499,"body_markdown":"I am trying to convert a JSON Object (using the GSON library) to a class. This is the structure of the JSON data:\r\n\r\n```\r\n{\r\n    &quot;warFrequency&quot;: &quot;never&quot;,\r\n    &quot;warLeague&quot;: {\r\n        &quot;name&quot;: &quot;Master League I&quot;,\r\n        &quot;id&quot;: 48000015\r\n    },\r\n    &quot;requiredVersusTrophies&quot;: 3800,\r\n    &quot;requiredTownhallLevel&quot;: 14,\r\n    &quot;warWins&quot;: 361,\r\n    &quot;warWinStreak&quot;: 1,\r\n    &quot;clanLevel&quot;: 20,\r\n    &quot;requiredTrophies&quot;: 4300,\r\n    &quot;description&quot;: &quot;Special trainer, no need to thanks!&quot;,\r\n    &quot;badgeUrls&quot;: {\r\n        &quot;small&quot;: &quot;https://api-assets.clashofclans.com/badges/70/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;,\r\n        &quot;large&quot;: &quot;https://api-assets.clashofclans.com/badges/512/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;,\r\n        &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/badges/200/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;\r\n    },\r\n    &quot;isWarLogPublic&quot;: false,\r\n    &quot;type&quot;: &quot;closed&quot;,\r\n    &quot;chatLanguage&quot;: {\r\n        &quot;name&quot;: &quot;?????&#177;????&quot;,\r\n        &quot;id&quot;: 75000015,\r\n        &quot;languageCode&quot;: &quot;FA&quot;\r\n    },\r\n    &quot;clanPoints&quot;: 40552,\r\n    &quot;labels&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Clan War League&quot;,\r\n            &quot;iconUrls&quot;: {\r\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/5w60_3bdtYUe9SM6rkxBRyV_8VvWw_jTlDS5ieU3IsI.png&quot;,\r\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/5w60_3bdtYUe9SM6rkxBRyV_8VvWw_jTlDS5ieU3IsI.png&quot;\r\n            },\r\n            &quot;id&quot;: 56000001\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Builder Base&quot;,\r\n            &quot;iconUrls&quot;: {\r\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/kyuaiAWdnD9v3ReYPS3_x6QP3V3e0nNAPyDroOIDFZQ.png&quot;,\r\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/kyuaiAWdnD9v3ReYPS3_x6QP3V3e0nNAPyDroOIDFZQ.png&quot;\r\n            },\r\n            &quot;id&quot;: 56000005\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Base Designing&quot;,\r\n            &quot;iconUrls&quot;: {\r\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/LG966XuC6YoEJsPthcgtyJ8uS46LqYDAeiHJNQKR3YQ.png&quot;,\r\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/LG966XuC6YoEJsPthcgtyJ8uS46LqYDAeiHJNQKR3YQ.png&quot;\r\n            },\r\n            &quot;id&quot;: 56000006\r\n        }\r\n    ],\r\n    &quot;memberList&quot;: [\r\n        {\r\n            &quot;donationsReceived&quot;: 8104,\r\n            &quot;clanRank&quot;: 1,\r\n            &quot;previousClanRank&quot;: 1,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 1172,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Legend League&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000022\r\n            },\r\n            &quot;name&quot;: &quot;hard heart&quot;,\r\n            &quot;expLevel&quot;: 251,\r\n            &quot;tag&quot;: &quot;#8YRRJLL2G&quot;,\r\n            &quot;trophies&quot;: 5689,\r\n            &quot;versusTrophies&quot;: 5029\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 2336,\r\n            &quot;clanRank&quot;: 2,\r\n            &quot;previousClanRank&quot;: 4,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 177,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Legend League&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000022\r\n            },\r\n            &quot;name&quot;: &quot;FighteR&#226;? HEkMaT&quot;,\r\n            &quot;expLevel&quot;: 245,\r\n            &quot;tag&quot;: &quot;#9LLVV8JR2&quot;,\r\n            &quot;trophies&quot;: 5480,\r\n            &quot;versusTrophies&quot;: 5185\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 3772,\r\n            &quot;clanRank&quot;: 3,\r\n            &quot;previousClanRank&quot;: 3,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 278,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Legend League&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000022\r\n            },\r\n            \r\n            },\r\n            &quot;name&quot;: &quot;king rahmat&quot;,\r\n            &quot;expLevel&quot;: 210,\r\n            &quot;tag&quot;: &quot;#YQR99V908&quot;,\r\n            &quot;trophies&quot;: 4079,\r\n            &quot;versusTrophies&quot;: 5819\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 78,\r\n            &quot;clanRank&quot;: 13,\r\n            &quot;previousClanRank&quot;: 0,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Titan League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000019\r\n            },\r\n            &quot;name&quot;: &quot;King Shokur (2)&quot;,\r\n            &quot;expLevel&quot;: 123,\r\n            &quot;tag&quot;: &quot;#Q0VVGPYRR&quot;,\r\n            &quot;trophies&quot;: 3400,\r\n            &quot;versusTrophies&quot;: 2526\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 199,\r\n            &quot;clanRank&quot;: 22,\r\n            &quot;previousClanRank&quot;: 21,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 79,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Champion League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000016\r\n            },\r\n            &quot;name&quot;: &quot;slash 19 R&quot;,\r\n            &quot;expLevel&quot;: 202,\r\n            &quot;tag&quot;: &quot;#YRP9CGQ9Q&quot;,\r\n            &quot;trophies&quot;: 3335,\r\n            &quot;versusTrophies&quot;: 5706\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 1234,\r\n            &quot;clanRank&quot;: 23,\r\n            &quot;previousClanRank&quot;: 23,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 333,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Master League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000015\r\n            },\r\n            &quot;name&quot;: &quot;GeNRal Reshad&quot;,\r\n            &quot;expLevel&quot;: 231,\r\n            &quot;tag&quot;: &quot;#8RP89JC9G&quot;,\r\n            &quot;trophies&quot;: 3062,\r\n            &quot;versusTrophies&quot;: 5180\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 936,\r\n            &quot;clanRank&quot;: 24,\r\n            &quot;previousClanRank&quot;: 25,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 1598,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Master League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000015\r\n            },\r\n            &quot;name&quot;: &quot;Shabir Kirok&quot;,\r\n            &quot;expLevel&quot;: 145,\r\n            &quot;tag&quot;: &quot;#9289GVRVC&quot;,\r\n            &quot;trophies&quot;: 3026,\r\n            &quot;versusTrophies&quot;: 2985\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 25,\r\n            &quot;previousClanRank&quot;: 22,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 45,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Master League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000015\r\n            },\r\n            &quot;name&quot;: &quot;&#239;&#188;?&#239;&#189;‰&#239;&#189;–&#239;&#189;… &#228;?&#170; &#239;&#188;&#172;&#239;&#189;‰&#239;&#189;?&#239;&#189;?&quot;,\r\n            &quot;expLevel&quot;: 186,\r\n            &quot;tag&quot;: &quot;#P9PRCRYVG&quot;,\r\n            &quot;trophies&quot;: 3003,\r\n            &quot;versusTrophies&quot;: 6200\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 26,\r\n            &quot;previousClanRank&quot;: 24,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Master League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000015\r\n            },\r\n            &quot;name&quot;: &quot;GeNRal Rahmat&quot;,\r\n            &quot;expLevel&quot;: 201,\r\n            &quot;tag&quot;: &quot;#2VVGPY0JU&quot;,\r\n            &quot;trophies&quot;: 2977,\r\n            &quot;versusTrophies&quot;: 5032\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 27,\r\n            &quot;previousClanRank&quot;: 26,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Unranked&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000000\r\n            },\r\n            &quot;name&quot;: &quot;&#198;’ighter&quot;,\r\n            &quot;expLevel&quot;: 218,\r\n            &quot;tag&quot;: &quot;#99CY0RCGV&quot;,\r\n            &quot;trophies&quot;: 2952,\r\n            &quot;versusTrophies&quot;: 5053\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 75,\r\n            &quot;clanRank&quot;: 28,\r\n            &quot;previousClanRank&quot;: 27,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 1029,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Master League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000013\r\n            },\r\n            &quot;name&quot;: &quot;&#226;? S&#201;&#170;&#198;? V&#201;&#170;&#225;?„&#225;?›&#225;???€&#226;? &#239;??&quot;,\r\n            &quot;expLevel&quot;: 206,\r\n            &quot;tag&quot;: &quot;#9UL0RJCCR&quot;,\r\n            &quot;trophies&quot;: 2678,\r\n            &quot;versusTrophies&quot;: 3880\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 270,\r\n            &quot;clanRank&quot;: 29,\r\n            &quot;previousClanRank&quot;: 28,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 1,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Crystal League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000012\r\n            },\r\n            &quot;name&quot;: &quot;khalil jan&quot;,\r\n            &quot;expLevel&quot;: 119,\r\n            &quot;tag&quot;: &quot;#YGUR2JCGG&quot;,\r\n            &quot;trophies&quot;: 2369,\r\n            &quot;versusTrophies&quot;: 2835\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 263,\r\n            &quot;clanRank&quot;: 30,\r\n            &quot;previousClanRank&quot;: 30,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 1,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Crystal League II&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000011\r\n            },\r\n            &quot;name&quot;: &quot;ERORR[404]&quot;,\r\n            &quot;expLevel&quot;: 116,\r\n            &quot;tag&quot;: &quot;#YUL2L9CUU&quot;,\r\n            &quot;trophies&quot;: 2255,\r\n            &quot;versusTrophies&quot;: 3112\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 45,\r\n            &quot;clanRank&quot;: 31,\r\n            &quot;previousClanRank&quot;: 29,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 166,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Crystal League II&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000011\r\n            },\r\n            &quot;name&quot;: &quot;&#196;???P&#197;???M&#196;„&#197;?&quot;,\r\n            &quot;expLevel&quot;: 186,\r\n            &quot;tag&quot;: &quot;#88V9V9G2G&quot;,\r\n            &quot;trophies&quot;: 2167,\r\n            &quot;versusTrophies&quot;: 2970\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 97,\r\n            &quot;clanRank&quot;: 32,\r\n            &quot;previousClanRank&quot;: 31,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 1695,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Crystal League II&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000011\r\n            },\r\n            &quot;name&quot;: &quot;&#196;?&#196;‚&#197;ƒ&#196;??‹R&quot;,\r\n            &quot;expLevel&quot;: 145,\r\n            &quot;tag&quot;: &quot;#Y2J8G82JJ&quot;,\r\n            &quot;trophies&quot;: 2159,\r\n            &quot;versusTrophies&quot;: 3135\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 938,\r\n            &quot;clanRank&quot;: 33,\r\n            &quot;previousClanRank&quot;: 33,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Crystal League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000010\r\n            },\r\n            &quot;name&quot;: &quot;Murtaza KiroK&quot;,\r\n            &quot;expLevel&quot;: 92,\r\n            &quot;tag&quot;: &quot;#LQR2Q2UPL&quot;,\r\n            &quot;trophies&quot;: 2073,\r\n            &quot;versusTrophies&quot;: 2122\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 65,\r\n            &quot;clanRank&quot;: 34,\r\n            &quot;previousClanRank&quot;: 32,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 33,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Unranked&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000000\r\n            },\r\n            &quot;name&quot;: &quot;Husna jahangir&#226;??&quot;,\r\n            &quot;expLevel&quot;: 169,\r\n            &quot;tag&quot;: &quot;#99PGLGC9J&quot;,\r\n            &quot;trophies&quot;: 2038,\r\n            &quot;versusTrophies&quot;: 2636\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 35,\r\n            &quot;previousClanRank&quot;: 34,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 1751,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Unranked&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000000\r\n            },\r\n            &quot;name&quot;: &quot;&#229;&#176;?&#229;&#176;?&#229;&#186;„&#229;›?&quot;,\r\n            &quot;expLevel&quot;: 153,\r\n            &quot;tag&quot;: &quot;#Y9VYURQGP&quot;,\r\n            &quot;trophies&quot;: 1998,\r\n            &quot;versusTrophies&quot;: 3103\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 36,\r\n            &quot;previousClanRank&quot;: 35,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 1354,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Unranked&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000000\r\n            },\r\n            &quot;name&quot;: &quot;&#226;?&#161;KiNG ERFAN&#226;??&quot;,\r\n            &quot;expLevel&quot;: 149,\r\n            &quot;tag&quot;: &quot;#PC0GGYC9L&quot;,\r\n            &quot;trophies&quot;: 1945,\r\n            &quot;versusTrophies&quot;: 1739\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 37,\r\n            &quot;previousClanRank&quot;: 36,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 1557,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Gold League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000009\r\n            },\r\n            &quot;name&quot;: &quot;&#196;?&#196;‚&#197;ƒ&#196;??‹R&quot;,\r\n            &quot;expLevel&quot;: 100,\r\n            &quot;tag&quot;: &quot;#Y8RJV0JC0&quot;,\r\n            &quot;trophies&quot;: 1827,\r\n            &quot;versusTrophies&quot;: 1777\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 32,\r\n            &quot;clanRank&quot;: 38,\r\n            &quot;previousClanRank&quot;: 37,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 66,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Gold League II&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000008\r\n            },\r\n            &quot;name&quot;: &quot;&#226;?…??&#198;??&#163;???&#239;?‘&#239;&#189;&#178;&#226;????&#226;? &quot;,\r\n            &quot;expLevel&quot;: 154,\r\n            &quot;tag&quot;: &quot;#P2Q9RP9R0&quot;,\r\n            &quot;trophies&quot;: 1638,\r\n            &quot;versusTrophies&quot;: 1970\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 39,\r\n            &quot;previousClanRank&quot;: 38,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 2,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Gold League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000007\r\n            },\r\n            &quot;name&quot;: &quot;&#228;?ƒ?„&#165;?„–?„–&#196;??„? &#229;??&#229;?‚&#229;&#176;&#186;&#229;‡ &#229;?‚&#196;&#162;&#228;?‡!&quot;,\r\n            &quot;expLevel&quot;: 77,\r\n            &quot;tag&quot;: &quot;#L9QP90LU2&quot;,\r\n            &quot;trophies&quot;: 1460,\r\n            &quot;versusTrophies&quot;: 3101\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 40,\r\n            &quot;previousClanRank&quot;: 0,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Gold League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000007\r\n            },\r\n            &quot;name&quot;: &quot;Michael Jackson&quot;,\r\n            &quot;expLevel&quot;: 65,\r\n            &quot;tag&quot;: &quot;#QRQRJVV0Y&quot;,\r\n            &quot;trophies&quot;: 1452,\r\n            &quot;versusTrophies&quot;: 2071\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 41,\r\n            &quot;previousClanRank&quot;: 0,\r\n            &quot;role&quot;: &quot;member&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Silver League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000006\r\n            },\r\n            &quot;name&quot;: &quot;Don Jon&quot;,\r\n            &quot;expLevel&quot;: 62,\r\n            &quot;tag&quot;: &quot;#QJ0GPURY8&quot;,\r\n            &quot;trophies&quot;: 1365,\r\n            &quot;versusTrophies&quot;: 2046\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 2,\r\n            &quot;clanRank&quot;: 42,\r\n            &quot;previousClanRank&quot;: 39,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Silver League I&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000006\r\n            },\r\n            &quot;name&quot;: &quot;&#196;?&#196;‚&#197;ƒ&#196;??‹R&quot;,\r\n            &quot;expLevel&quot;: 75,\r\n            &quot;tag&quot;: &quot;#928YJYUYR&quot;,\r\n            &quot;trophies&quot;: 1219,\r\n            &quot;versusTrophies&quot;: 827\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 0,\r\n            &quot;clanRank&quot;: 43,\r\n            &quot;previousClanRank&quot;: 40,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Unranked&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000000\r\n            },\r\n            &quot;name&quot;: &quot;&#226;?†mansor&#226;?†&quot;,\r\n            &quot;expLevel&quot;: 65,\r\n            &quot;tag&quot;: &quot;#Y2UQUUGP9&quot;,\r\n            &quot;trophies&quot;: 1132,\r\n            &quot;versusTrophies&quot;: 1750\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 150,\r\n            &quot;clanRank&quot;: 44,\r\n            &quot;previousClanRank&quot;: 41,\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Silver League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000004\r\n            },\r\n            &quot;name&quot;: &quot;&#196;?&#196;‚&#197;ƒ&#196;??‹R&quot;,\r\n            &quot;expLevel&quot;: 36,\r\n            &quot;tag&quot;: &quot;#Y2YGY899U&quot;,\r\n            &quot;trophies&quot;: 771,\r\n            &quot;versusTrophies&quot;: 321\r\n        },\r\n        {\r\n            &quot;donationsReceived&quot;: 280,\r\n            &quot;clanRank&quot;: 45,\r\n            &quot;previousClanRank&quot;: 42,\r\n            &quot;role&quot;: &quot;coLeader&quot;,\r\n            &quot;donations&quot;: 0,\r\n            &quot;league&quot;: {\r\n                &quot;name&quot;: &quot;Silver League III&quot;,\r\n                &quot;iconUrls&quot;: {\r\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\r\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\r\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;\r\n                },\r\n                &quot;id&quot;: 29000004\r\n            },\r\n            &quot;name&quot;: &quot;Long live AFG&quot;,\r\n            &quot;expLevel&quot;: 36,\r\n            &quot;tag&quot;: &quot;#QRLUPYCJ9&quot;,\r\n            &quot;trophies&quot;: 749,\r\n            &quot;versusTrophies&quot;: 1313\r\n        }\r\n    ],\r\n    &quot;clanVersusPoints&quot;: 49233,\r\n    &quot;members&quot;: 45,\r\n    &quot;name&quot;: &quot;The wonder boys&quot;,\r\n    &quot;location&quot;: {\r\n        &quot;isCountry&quot;: true,\r\n        &quot;countryCode&quot;: &quot;AF&quot;,\r\n        &quot;name&quot;: &quot;Afghanistan&quot;,\r\n        &quot;id&quot;: 32000007\r\n    },\r\n    &quot;tag&quot;: &quot;#C28P8G0J&quot;\r\n}\r\n\r\n```\r\n    \r\n**Clan class:**\r\n\r\n```\r\npublic class Clan {\r\n    public String tag;\r\n    public String name;\r\n    public String type;\r\n    public String description;\r\n    public JSONObject location;\r\n    public JSONObject badgeUrls;\r\n    public int clanLevel;\r\n    public int clanPoints;\r\n    public int requiredTrophies;\r\n    public String warFrequency;\r\n    public int warWinStreak;\r\n    public int warWins;\r\n    public boolean isWarLogPublic;\r\n    public JSONObject warLeague;\r\n    public int members;\r\n    public JSONArray membersList;\r\n    public JSONArray labels;\r\n    public JSONObject chatLanguage;\r\n    public int requiredVersusTrophies;\r\n    public int requiredTownHallLevel;\r\n}\r\n```\r\n**JSON to clan class code:**\r\n\r\n```\r\nInputStream content = (InputStream)connection.getInputStream();\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(content));\r\nJSONTokener tokener = new JSONTokener(reader);\r\nJSONObject clanJObject = new JSONObject(tokener);\r\nString strOfJSON = clanJObject.toString();\r\nGson gson = new Gson();\r\nClan clan = gson.fromJson(strOfJSON, Clan.class);\r\n```\r\n**Problem:**\r\n\r\nWhen I run my program I get the following error message:\r\n\r\n```Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 935 path $.labels```\r\n\r\nAfter this I tried changing the label variable in my clan class to JSONObject since the error stated that it was expecting a ```BEGIN_OBJECT```. However when I ran the program again I get the error message:\r\n\r\n```Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 935 path $.labels```\r\n\r\nI have checked the JSON and labels and memberslist are the only  JSONArrays so I&#39;m not too sure why there is an error. Am I setting the variables in my Clan class correctly? Any help is greatly appreciated :) ","title":"Why can&#39;t GSON read a JSONArray of JSONObjects?","body":"<p>I am trying to convert a JSON Object (using the GSON library) to a class. This is the structure of the JSON data:</p>\n<pre><code>{\n    &quot;warFrequency&quot;: &quot;never&quot;,\n    &quot;warLeague&quot;: {\n        &quot;name&quot;: &quot;Master League I&quot;,\n        &quot;id&quot;: 48000015\n    },\n    &quot;requiredVersusTrophies&quot;: 3800,\n    &quot;requiredTownhallLevel&quot;: 14,\n    &quot;warWins&quot;: 361,\n    &quot;warWinStreak&quot;: 1,\n    &quot;clanLevel&quot;: 20,\n    &quot;requiredTrophies&quot;: 4300,\n    &quot;description&quot;: &quot;Special trainer, no need to thanks!&quot;,\n    &quot;badgeUrls&quot;: {\n        &quot;small&quot;: &quot;https://api-assets.clashofclans.com/badges/70/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;,\n        &quot;large&quot;: &quot;https://api-assets.clashofclans.com/badges/512/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;,\n        &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/badges/200/YlhOqzPXmKUGztQrJjm9nBhZFGim56VNbCUsWCMPQrg.png&quot;\n    },\n    &quot;isWarLogPublic&quot;: false,\n    &quot;type&quot;: &quot;closed&quot;,\n    &quot;chatLanguage&quot;: {\n        &quot;name&quot;: &quot;?????±????&quot;,\n        &quot;id&quot;: 75000015,\n        &quot;languageCode&quot;: &quot;FA&quot;\n    },\n    &quot;clanPoints&quot;: 40552,\n    &quot;labels&quot;: [\n        {\n            &quot;name&quot;: &quot;Clan War League&quot;,\n            &quot;iconUrls&quot;: {\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/5w60_3bdtYUe9SM6rkxBRyV_8VvWw_jTlDS5ieU3IsI.png&quot;,\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/5w60_3bdtYUe9SM6rkxBRyV_8VvWw_jTlDS5ieU3IsI.png&quot;\n            },\n            &quot;id&quot;: 56000001\n        },\n        {\n            &quot;name&quot;: &quot;Builder Base&quot;,\n            &quot;iconUrls&quot;: {\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/kyuaiAWdnD9v3ReYPS3_x6QP3V3e0nNAPyDroOIDFZQ.png&quot;,\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/kyuaiAWdnD9v3ReYPS3_x6QP3V3e0nNAPyDroOIDFZQ.png&quot;\n            },\n            &quot;id&quot;: 56000005\n        },\n        {\n            &quot;name&quot;: &quot;Base Designing&quot;,\n            &quot;iconUrls&quot;: {\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/labels/64/LG966XuC6YoEJsPthcgtyJ8uS46LqYDAeiHJNQKR3YQ.png&quot;,\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/labels/128/LG966XuC6YoEJsPthcgtyJ8uS46LqYDAeiHJNQKR3YQ.png&quot;\n            },\n            &quot;id&quot;: 56000006\n        }\n    ],\n    &quot;memberList&quot;: [\n        {\n            &quot;donationsReceived&quot;: 8104,\n            &quot;clanRank&quot;: 1,\n            &quot;previousClanRank&quot;: 1,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 1172,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Legend League&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\n                },\n                &quot;id&quot;: 29000022\n            },\n            &quot;name&quot;: &quot;hard heart&quot;,\n            &quot;expLevel&quot;: 251,\n            &quot;tag&quot;: &quot;#8YRRJLL2G&quot;,\n            &quot;trophies&quot;: 5689,\n            &quot;versusTrophies&quot;: 5029\n        },\n        {\n            &quot;donationsReceived&quot;: 2336,\n            &quot;clanRank&quot;: 2,\n            &quot;previousClanRank&quot;: 4,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 177,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Legend League&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\n                },\n                &quot;id&quot;: 29000022\n            },\n            &quot;name&quot;: &quot;FighteRâ? HEkMaT&quot;,\n            &quot;expLevel&quot;: 245,\n            &quot;tag&quot;: &quot;#9LLVV8JR2&quot;,\n            &quot;trophies&quot;: 5480,\n            &quot;versusTrophies&quot;: 5185\n        },\n        {\n            &quot;donationsReceived&quot;: 3772,\n            &quot;clanRank&quot;: 3,\n            &quot;previousClanRank&quot;: 3,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 278,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Legend League&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/R2zmhyqQ0_lKcDR5EyghXCxgyC9mm_mVMIjAbmGoZtw.png&quot;\n                },\n                &quot;id&quot;: 29000022\n            },\n            \n            },\n            &quot;name&quot;: &quot;king rahmat&quot;,\n            &quot;expLevel&quot;: 210,\n            &quot;tag&quot;: &quot;#YQR99V908&quot;,\n            &quot;trophies&quot;: 4079,\n            &quot;versusTrophies&quot;: 5819\n        },\n        {\n            &quot;donationsReceived&quot;: 78,\n            &quot;clanRank&quot;: 13,\n            &quot;previousClanRank&quot;: 0,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Titan League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/L-HrwYpFbDwWjdmhJQiZiTRa_zXPPOgUTdmbsaq4meo.png&quot;\n                },\n                &quot;id&quot;: 29000019\n            },\n            &quot;name&quot;: &quot;King Shokur (2)&quot;,\n            &quot;expLevel&quot;: 123,\n            &quot;tag&quot;: &quot;#Q0VVGPYRR&quot;,\n            &quot;trophies&quot;: 3400,\n            &quot;versusTrophies&quot;: 2526\n        },\n        {\n            &quot;donationsReceived&quot;: 199,\n            &quot;clanRank&quot;: 22,\n            &quot;previousClanRank&quot;: 21,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 79,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Champion League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/JmmTbspV86xBigM7OP5_SjsEDPuE7oXjZC9aOy8xO3s.png&quot;\n                },\n                &quot;id&quot;: 29000016\n            },\n            &quot;name&quot;: &quot;slash 19 R&quot;,\n            &quot;expLevel&quot;: 202,\n            &quot;tag&quot;: &quot;#YRP9CGQ9Q&quot;,\n            &quot;trophies&quot;: 3335,\n            &quot;versusTrophies&quot;: 5706\n        },\n        {\n            &quot;donationsReceived&quot;: 1234,\n            &quot;clanRank&quot;: 23,\n            &quot;previousClanRank&quot;: 23,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 333,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Master League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\n                },\n                &quot;id&quot;: 29000015\n            },\n            &quot;name&quot;: &quot;GeNRal Reshad&quot;,\n            &quot;expLevel&quot;: 231,\n            &quot;tag&quot;: &quot;#8RP89JC9G&quot;,\n            &quot;trophies&quot;: 3062,\n            &quot;versusTrophies&quot;: 5180\n        },\n        {\n            &quot;donationsReceived&quot;: 936,\n            &quot;clanRank&quot;: 24,\n            &quot;previousClanRank&quot;: 25,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 1598,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Master League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\n                },\n                &quot;id&quot;: 29000015\n            },\n            &quot;name&quot;: &quot;Shabir Kirok&quot;,\n            &quot;expLevel&quot;: 145,\n            &quot;tag&quot;: &quot;#9289GVRVC&quot;,\n            &quot;trophies&quot;: 3026,\n            &quot;versusTrophies&quot;: 2985\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 25,\n            &quot;previousClanRank&quot;: 22,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 45,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Master League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\n                },\n                &quot;id&quot;: 29000015\n            },\n            &quot;name&quot;: &quot;ï¼?ï½‰ï½–ï½… ä?ª ï¼¬ï½‰ï½?ï½?&quot;,\n            &quot;expLevel&quot;: 186,\n            &quot;tag&quot;: &quot;#P9PRCRYVG&quot;,\n            &quot;trophies&quot;: 3003,\n            &quot;versusTrophies&quot;: 6200\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 26,\n            &quot;previousClanRank&quot;: 24,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Master League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\n                },\n                &quot;id&quot;: 29000015\n            },\n            &quot;name&quot;: &quot;GeNRal Rahmat&quot;,\n            &quot;expLevel&quot;: 201,\n            &quot;tag&quot;: &quot;#2VVGPY0JU&quot;,\n            &quot;trophies&quot;: 2977,\n            &quot;versusTrophies&quot;: 5032\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 27,\n            &quot;previousClanRank&quot;: 26,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Unranked&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\n                },\n                &quot;id&quot;: 29000000\n            },\n            &quot;name&quot;: &quot;Æ’ighter&quot;,\n            &quot;expLevel&quot;: 218,\n            &quot;tag&quot;: &quot;#99CY0RCGV&quot;,\n            &quot;trophies&quot;: 2952,\n            &quot;versusTrophies&quot;: 5053\n        },\n        {\n            &quot;donationsReceived&quot;: 75,\n            &quot;clanRank&quot;: 28,\n            &quot;previousClanRank&quot;: 27,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 1029,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Master League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/pSXfKvBKSgtvfOY3xKkgFaRQi0WcE28s3X35ywbIluY.png&quot;\n                },\n                &quot;id&quot;: 29000013\n            },\n            &quot;name&quot;: &quot;â? SÉªÆ? VÉªá?„á?›á???€â? ï??&quot;,\n            &quot;expLevel&quot;: 206,\n            &quot;tag&quot;: &quot;#9UL0RJCCR&quot;,\n            &quot;trophies&quot;: 2678,\n            &quot;versusTrophies&quot;: 3880\n        },\n        {\n            &quot;donationsReceived&quot;: 270,\n            &quot;clanRank&quot;: 29,\n            &quot;previousClanRank&quot;: 28,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 1,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Crystal League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;\n                },\n                &quot;id&quot;: 29000012\n            },\n            &quot;name&quot;: &quot;khalil jan&quot;,\n            &quot;expLevel&quot;: 119,\n            &quot;tag&quot;: &quot;#YGUR2JCGG&quot;,\n            &quot;trophies&quot;: 2369,\n            &quot;versusTrophies&quot;: 2835\n        },\n        {\n            &quot;donationsReceived&quot;: 263,\n            &quot;clanRank&quot;: 30,\n            &quot;previousClanRank&quot;: 30,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 1,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Crystal League II&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\n                },\n                &quot;id&quot;: 29000011\n            },\n            &quot;name&quot;: &quot;ERORR[404]&quot;,\n            &quot;expLevel&quot;: 116,\n            &quot;tag&quot;: &quot;#YUL2L9CUU&quot;,\n            &quot;trophies&quot;: 2255,\n            &quot;versusTrophies&quot;: 3112\n        },\n        {\n            &quot;donationsReceived&quot;: 45,\n            &quot;clanRank&quot;: 31,\n            &quot;previousClanRank&quot;: 29,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 166,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Crystal League II&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\n                },\n                &quot;id&quot;: 29000011\n            },\n            &quot;name&quot;: &quot;Ä???PÅ???MÄ„Å?&quot;,\n            &quot;expLevel&quot;: 186,\n            &quot;tag&quot;: &quot;#88V9V9G2G&quot;,\n            &quot;trophies&quot;: 2167,\n            &quot;versusTrophies&quot;: 2970\n        },\n        {\n            &quot;donationsReceived&quot;: 97,\n            &quot;clanRank&quot;: 32,\n            &quot;previousClanRank&quot;: 31,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 1695,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Crystal League II&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/jhP36EhAA9n1ADafdQtCP-ztEAQjoRpY7cT8sU7SW8A.png&quot;\n                },\n                &quot;id&quot;: 29000011\n            },\n            &quot;name&quot;: &quot;Ä?Ä‚ÅƒÄ??‹R&quot;,\n            &quot;expLevel&quot;: 145,\n            &quot;tag&quot;: &quot;#Y2J8G82JJ&quot;,\n            &quot;trophies&quot;: 2159,\n            &quot;versusTrophies&quot;: 3135\n        },\n        {\n            &quot;donationsReceived&quot;: 938,\n            &quot;clanRank&quot;: 33,\n            &quot;previousClanRank&quot;: 33,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Crystal League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/Hyqco7bHh0Q81xB8mSF_ZhjKnKcTmJ9QEq9QGlsxiKE.png&quot;\n                },\n                &quot;id&quot;: 29000010\n            },\n            &quot;name&quot;: &quot;Murtaza KiroK&quot;,\n            &quot;expLevel&quot;: 92,\n            &quot;tag&quot;: &quot;#LQR2Q2UPL&quot;,\n            &quot;trophies&quot;: 2073,\n            &quot;versusTrophies&quot;: 2122\n        },\n        {\n            &quot;donationsReceived&quot;: 65,\n            &quot;clanRank&quot;: 34,\n            &quot;previousClanRank&quot;: 32,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 33,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Unranked&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\n                },\n                &quot;id&quot;: 29000000\n            },\n            &quot;name&quot;: &quot;Husna jahangirâ??&quot;,\n            &quot;expLevel&quot;: 169,\n            &quot;tag&quot;: &quot;#99PGLGC9J&quot;,\n            &quot;trophies&quot;: 2038,\n            &quot;versusTrophies&quot;: 2636\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 35,\n            &quot;previousClanRank&quot;: 34,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 1751,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Unranked&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\n                },\n                &quot;id&quot;: 29000000\n            },\n            &quot;name&quot;: &quot;å°?å°?åº„å›?&quot;,\n            &quot;expLevel&quot;: 153,\n            &quot;tag&quot;: &quot;#Y9VYURQGP&quot;,\n            &quot;trophies&quot;: 1998,\n            &quot;versusTrophies&quot;: 3103\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 36,\n            &quot;previousClanRank&quot;: 35,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 1354,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Unranked&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\n                },\n                &quot;id&quot;: 29000000\n            },\n            &quot;name&quot;: &quot;â?¡KiNG ERFANâ??&quot;,\n            &quot;expLevel&quot;: 149,\n            &quot;tag&quot;: &quot;#PC0GGYC9L&quot;,\n            &quot;trophies&quot;: 1945,\n            &quot;versusTrophies&quot;: 1739\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 37,\n            &quot;previousClanRank&quot;: 36,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 1557,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Gold League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/CorhMY9ZmQvqXTZ4VYVuUgPNGSHsO0cEXEL5WYRmB2Y.png&quot;\n                },\n                &quot;id&quot;: 29000009\n            },\n            &quot;name&quot;: &quot;Ä?Ä‚ÅƒÄ??‹R&quot;,\n            &quot;expLevel&quot;: 100,\n            &quot;tag&quot;: &quot;#Y8RJV0JC0&quot;,\n            &quot;trophies&quot;: 1827,\n            &quot;versusTrophies&quot;: 1777\n        },\n        {\n            &quot;donationsReceived&quot;: 32,\n            &quot;clanRank&quot;: 38,\n            &quot;previousClanRank&quot;: 37,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 66,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Gold League II&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/Y6CveuHmPM_oiOic2Yet0rYL9AFRYW0WA0u2e44-YbM.png&quot;\n                },\n                &quot;id&quot;: 29000008\n            },\n            &quot;name&quot;: &quot;â?…??Æ??£???ï?‘ï½²â????â? &quot;,\n            &quot;expLevel&quot;: 154,\n            &quot;tag&quot;: &quot;#P2Q9RP9R0&quot;,\n            &quot;trophies&quot;: 1638,\n            &quot;versusTrophies&quot;: 1970\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 39,\n            &quot;previousClanRank&quot;: 38,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 2,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Gold League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;\n                },\n                &quot;id&quot;: 29000007\n            },\n            &quot;name&quot;: &quot;ä?ƒ?„¥?„–?„–Ä??„? å??å?‚å°ºå‡ å?‚Ä¢ä?‡!&quot;,\n            &quot;expLevel&quot;: 77,\n            &quot;tag&quot;: &quot;#L9QP90LU2&quot;,\n            &quot;trophies&quot;: 1460,\n            &quot;versusTrophies&quot;: 3101\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 40,\n            &quot;previousClanRank&quot;: 0,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Gold League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/vd4Lhz5b2I1P0cLH25B6q63JN3Wt1j2NTMhOYpMPQ4M.png&quot;\n                },\n                &quot;id&quot;: 29000007\n            },\n            &quot;name&quot;: &quot;Michael Jackson&quot;,\n            &quot;expLevel&quot;: 65,\n            &quot;tag&quot;: &quot;#QRQRJVV0Y&quot;,\n            &quot;trophies&quot;: 1452,\n            &quot;versusTrophies&quot;: 2071\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 41,\n            &quot;previousClanRank&quot;: 0,\n            &quot;role&quot;: &quot;member&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Silver League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;\n                },\n                &quot;id&quot;: 29000006\n            },\n            &quot;name&quot;: &quot;Don Jon&quot;,\n            &quot;expLevel&quot;: 62,\n            &quot;tag&quot;: &quot;#QJ0GPURY8&quot;,\n            &quot;trophies&quot;: 1365,\n            &quot;versusTrophies&quot;: 2046\n        },\n        {\n            &quot;donationsReceived&quot;: 2,\n            &quot;clanRank&quot;: 42,\n            &quot;previousClanRank&quot;: 39,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Silver League I&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/nvrBLvCK10elRHmD1g9w5UU1flDRMhYAojMB2UbYfPs.png&quot;\n                },\n                &quot;id&quot;: 29000006\n            },\n            &quot;name&quot;: &quot;Ä?Ä‚ÅƒÄ??‹R&quot;,\n            &quot;expLevel&quot;: 75,\n            &quot;tag&quot;: &quot;#928YJYUYR&quot;,\n            &quot;trophies&quot;: 1219,\n            &quot;versusTrophies&quot;: 827\n        },\n        {\n            &quot;donationsReceived&quot;: 0,\n            &quot;clanRank&quot;: 43,\n            &quot;previousClanRank&quot;: 40,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Unranked&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/e--YMyIexEQQhE4imLoJcwhYn6Uy8KqlgyY3_kFV6t4.png&quot;\n                },\n                &quot;id&quot;: 29000000\n            },\n            &quot;name&quot;: &quot;â?†mansorâ?†&quot;,\n            &quot;expLevel&quot;: 65,\n            &quot;tag&quot;: &quot;#Y2UQUUGP9&quot;,\n            &quot;trophies&quot;: 1132,\n            &quot;versusTrophies&quot;: 1750\n        },\n        {\n            &quot;donationsReceived&quot;: 150,\n            &quot;clanRank&quot;: 44,\n            &quot;previousClanRank&quot;: 41,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Silver League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;\n                },\n                &quot;id&quot;: 29000004\n            },\n            &quot;name&quot;: &quot;Ä?Ä‚ÅƒÄ??‹R&quot;,\n            &quot;expLevel&quot;: 36,\n            &quot;tag&quot;: &quot;#Y2YGY899U&quot;,\n            &quot;trophies&quot;: 771,\n            &quot;versusTrophies&quot;: 321\n        },\n        {\n            &quot;donationsReceived&quot;: 280,\n            &quot;clanRank&quot;: 45,\n            &quot;previousClanRank&quot;: 42,\n            &quot;role&quot;: &quot;coLeader&quot;,\n            &quot;donations&quot;: 0,\n            &quot;league&quot;: {\n                &quot;name&quot;: &quot;Silver League III&quot;,\n                &quot;iconUrls&quot;: {\n                    &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\n                    &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;,\n                    &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/QcFBfoArnafaXCnB5OfI7vESpQEBuvWtzOyLq8gJzVc.png&quot;\n                },\n                &quot;id&quot;: 29000004\n            },\n            &quot;name&quot;: &quot;Long live AFG&quot;,\n            &quot;expLevel&quot;: 36,\n            &quot;tag&quot;: &quot;#QRLUPYCJ9&quot;,\n            &quot;trophies&quot;: 749,\n            &quot;versusTrophies&quot;: 1313\n        }\n    ],\n    &quot;clanVersusPoints&quot;: 49233,\n    &quot;members&quot;: 45,\n    &quot;name&quot;: &quot;The wonder boys&quot;,\n    &quot;location&quot;: {\n        &quot;isCountry&quot;: true,\n        &quot;countryCode&quot;: &quot;AF&quot;,\n        &quot;name&quot;: &quot;Afghanistan&quot;,\n        &quot;id&quot;: 32000007\n    },\n    &quot;tag&quot;: &quot;#C28P8G0J&quot;\n}\n\n</code></pre>\n<p><strong>Clan class:</strong></p>\n<pre><code>public class Clan {\n    public String tag;\n    public String name;\n    public String type;\n    public String description;\n    public JSONObject location;\n    public JSONObject badgeUrls;\n    public int clanLevel;\n    public int clanPoints;\n    public int requiredTrophies;\n    public String warFrequency;\n    public int warWinStreak;\n    public int warWins;\n    public boolean isWarLogPublic;\n    public JSONObject warLeague;\n    public int members;\n    public JSONArray membersList;\n    public JSONArray labels;\n    public JSONObject chatLanguage;\n    public int requiredVersusTrophies;\n    public int requiredTownHallLevel;\n}\n</code></pre>\n<p><strong>JSON to clan class code:</strong></p>\n<pre><code>InputStream content = (InputStream)connection.getInputStream();\nBufferedReader reader = new BufferedReader(new InputStreamReader(content));\nJSONTokener tokener = new JSONTokener(reader);\nJSONObject clanJObject = new JSONObject(tokener);\nString strOfJSON = clanJObject.toString();\nGson gson = new Gson();\nClan clan = gson.fromJson(strOfJSON, Clan.class);\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>When I run my program I get the following error message:</p>\n<p><code>Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 935 path $.labels</code></p>\n<p>After this I tried changing the label variable in my clan class to JSONObject since the error stated that it was expecting a <code>BEGIN_OBJECT</code>. However when I ran the program again I get the error message:</p>\n<p><code>Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 935 path $.labels</code></p>\n<p>I have checked the JSON and labels and memberslist are the only  JSONArrays so I'm not too sure why there is an error. Am I setting the variables in my Clan class correctly? Any help is greatly appreciated :)</p>\n"},{"tags":["java","cytoscape"],"answers":[{"tags":[],"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651157584,"creation_date":1651157584,"answer_id":72045875,"question_id":71882146,"body_markdown":"Sorry to hear about your problems.  As you suggest, the only time I&#39;ve seen that it&#39;s been due to graphics driver issues.  Can you try upgrading to the latest NVIDIA drivers and see what happens?\r\n\r\n-- scooter","title":"Display Glitch in Cytoscape","body":"<p>Sorry to hear about your problems.  As you suggest, the only time I've seen that it's been due to graphics driver issues.  Can you try upgrading to the latest NVIDIA drivers and see what happens?</p>\n<p>-- scooter</p>\n"},{"tags":[],"owner":{"account_id":25140289,"reputation":1,"user_id":18986693,"display_name":"Amira Pinkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651224987,"creation_date":1651224987,"answer_id":72055864,"question_id":71882146,"body_markdown":"i solved this quesion, use your integrated graphics to run cytoscape, do not use NVIDIA Graphics.","title":"Display Glitch in Cytoscape","body":"<p>i solved this quesion, use your integrated graphics to run cytoscape, do not use NVIDIA Graphics.</p>\n"},{"tags":[],"owner":{"account_id":25272482,"reputation":11,"user_id":19101621,"display_name":"Axwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655471003,"creation_date":1655471003,"answer_id":72659837,"question_id":71882146,"body_markdown":"I hope this answer can help you. I have solved this problem on my laptop equiped with a AMD chipset by downloading an old Cytoscape version 3.7.2 (which has the &quot;CX support&quot; app pre-installed). Then, in the &quot;App&quot; tab I have uninstalled this app and restarted Cytoscape. Now, the problem seems to have disappeared.","title":"Display Glitch in Cytoscape","body":"<p>I hope this answer can help you. I have solved this problem on my laptop equiped with a AMD chipset by downloading an old Cytoscape version 3.7.2 (which has the &quot;CX support&quot; app pre-installed). Then, in the &quot;App&quot; tab I have uninstalled this app and restarted Cytoscape. Now, the problem seems to have disappeared.</p>\n"}],"owner":{"account_id":19157533,"reputation":29,"user_id":18811309,"display_name":"Prateek Sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655471003,"creation_date":1650013884,"question_id":71882146,"body_markdown":"I have installed the latest version of Java as well as Cytoscape. Whenever I open Cytoscape, there seems to be a display bug or glitch after around 2-3 minutes of normal work. This display bug seems to happen whenever I hover the cursor around let&#39;s say Tools --&gt; Merge or File --&gt; Import. \r\n\r\nI have uninstalled and reinstalled both Java and Cytoscape a couple of times and the display glitch still persists. \r\n\r\nCould this be a problem of graphic drivers?\r\nMy PC Specs are:\r\n\r\nWindows 10 64bit\r\nGraphics: NVIDIA RTX 2060ti 6GB\r\nRAM: 16 GB\r\nProcessor: AMD Ryzen 5 \r\n\r\nCytoscape Version: 3.9.1\r\nJava Version: 11.0.6\r\n\r\nI have also shared screenshots of the display glitch. \r\n\r\nThanks\r\n\r\n\r\n[Screenshot 1][1]\r\n\r\n\r\n[Screenshot 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/esv3A.png\r\n  [2]: https://i.stack.imgur.com/enJgy.png","title":"Display Glitch in Cytoscape","body":"<p>I have installed the latest version of Java as well as Cytoscape. Whenever I open Cytoscape, there seems to be a display bug or glitch after around 2-3 minutes of normal work. This display bug seems to happen whenever I hover the cursor around let's say Tools --&gt; Merge or File --&gt; Import.</p>\n<p>I have uninstalled and reinstalled both Java and Cytoscape a couple of times and the display glitch still persists.</p>\n<p>Could this be a problem of graphic drivers?\nMy PC Specs are:</p>\n<p>Windows 10 64bit\nGraphics: NVIDIA RTX 2060ti 6GB\nRAM: 16 GB\nProcessor: AMD Ryzen 5</p>\n<p>Cytoscape Version: 3.9.1\nJava Version: 11.0.6</p>\n<p>I have also shared screenshots of the display glitch.</p>\n<p>Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/esv3A.png\" rel=\"nofollow noreferrer\">Screenshot 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/enJgy.png\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":130567,"reputation":770,"user_id":329926,"accept_rate":80,"display_name":"mab"},"score":0,"creation_date":1655471527,"post_id":72659784,"comment_id":128346689,"body_markdown":"I&#39;m look in various implementations of Thread.java and see that the SecurityManager is consulted for the thread group of new threads and if a null is returned then the current thread&#39;s thread group is used. I guess this is in the Java spec somewhere.","body":"I&#39;m look in various implementations of Thread.java and see that the SecurityManager is consulted for the thread group of new threads and if a null is returned then the current thread&#39;s thread group is used. I guess this is in the Java spec somewhere."},{"owner":{"account_id":130567,"reputation":770,"user_id":329926,"accept_rate":80,"display_name":"mab"},"score":0,"creation_date":1655473494,"post_id":72659784,"comment_id":128347346,"body_markdown":"Adding a security manager to provide a thread group did not result in the worker threads being put in that group. Instead they were put into a group named InnocuousForkJoinWorkerThreadGroup. I don’t see in the Java source a way to control that.","body":"Adding a security manager to provide a thread group did not result in the worker threads being put in that group. Instead they were put into a group named InnocuousForkJoinWorkerThreadGroup. I don’t see in the Java source a way to control that."}],"owner":{"account_id":130567,"reputation":770,"user_id":329926,"accept_rate":80,"display_name":"mab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655470807,"creation_date":1655470807,"question_id":72659784,"body_markdown":"I have a thread in a thread group &quot;Foo&quot;. It uses the common pool of threads to do some work via a parallel stream. Afterwards, the thread group of the common pool threads is also &quot;Foo&quot;. Under what circumstances do new threads use the thread group of the thread in which they are constructed? Can this behavior be prevented?\r\n\r\nIn this example, the output is:\r\n```\r\nForkJoinPool.commonPool-worker-5\r\nForkJoinPool.commonPool-worker-31\r\nForkJoinPool.commonPool-worker-19\r\nForkJoinPool.commonPool-worker-23\r\nForkJoinPool.commonPool-worker-13\r\nForkJoinPool.commonPool-worker-21\r\nForkJoinPool.commonPool-worker-9\r\nForkJoinPool.commonPool-worker-7\r\nForkJoinPool.commonPool-worker-17\r\nForkJoinPool.commonPool-worker-3\r\nForkJoinPool.commonPool-worker-27\r\n```\r\n\r\n```\r\nimport java.util.stream.IntStream;\r\n\r\npublic class ThreadGroupTest {\r\n  private static Thread doThreadedWork(ThreadGroup threadGroup) {\r\n    Thread t = new Thread(threadGroup, () -&gt; {\r\n      IntStream.range(0, 500).parallel().forEach(i -&gt; Math.log(Double.valueOf(i)));\r\n    });\r\n    t.start();\r\n    return t;\r\n  }\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    ThreadGroup threadGroup = new ThreadGroup(&quot;Foo&quot;);\r\n    doThreadedWork(threadGroup).join();\r\n    Thread.getAllStackTraces()\r\n        .keySet()\r\n        .stream()\r\n        .filter(t -&gt; t.getThreadGroup().equals(threadGroup))\r\n        .forEach(t -&gt; System.out.println(t.getName()));\r\n  }\r\n}\r\n```","title":"Java common pool threads get thread group from calling thread","body":"<p>I have a thread in a thread group &quot;Foo&quot;. It uses the common pool of threads to do some work via a parallel stream. Afterwards, the thread group of the common pool threads is also &quot;Foo&quot;. Under what circumstances do new threads use the thread group of the thread in which they are constructed? Can this behavior be prevented?</p>\n<p>In this example, the output is:</p>\n<pre><code>ForkJoinPool.commonPool-worker-5\nForkJoinPool.commonPool-worker-31\nForkJoinPool.commonPool-worker-19\nForkJoinPool.commonPool-worker-23\nForkJoinPool.commonPool-worker-13\nForkJoinPool.commonPool-worker-21\nForkJoinPool.commonPool-worker-9\nForkJoinPool.commonPool-worker-7\nForkJoinPool.commonPool-worker-17\nForkJoinPool.commonPool-worker-3\nForkJoinPool.commonPool-worker-27\n</code></pre>\n<pre><code>import java.util.stream.IntStream;\n\npublic class ThreadGroupTest {\n  private static Thread doThreadedWork(ThreadGroup threadGroup) {\n    Thread t = new Thread(threadGroup, () -&gt; {\n      IntStream.range(0, 500).parallel().forEach(i -&gt; Math.log(Double.valueOf(i)));\n    });\n    t.start();\n    return t;\n  }\n\n  public static void main(String[] args) throws InterruptedException {\n    ThreadGroup threadGroup = new ThreadGroup(&quot;Foo&quot;);\n    doThreadedWork(threadGroup).join();\n    Thread.getAllStackTraces()\n        .keySet()\n        .stream()\n        .filter(t -&gt; t.getThreadGroup().equals(threadGroup))\n        .forEach(t -&gt; System.out.println(t.getName()));\n  }\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655454540,"post_id":72655984,"comment_id":128341155,"body_markdown":"Why do you care? This is trivia that is really not relevant for day-to-day programming in Java.","body":"Why do you care? This is trivia that is really not relevant for day-to-day programming in Java."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1655456679,"post_id":72655984,"comment_id":128341857,"body_markdown":"Note: `&quot;foo2&quot; + &quot;foo3&quot;` does not exist at runtime, the compiler just *sees* it as `&quot;foo2foo3&quot;` - and all string literals (`&quot;foo1&quot;` and `&quot;foo2foo3&quot;`) are in the pool of strings (from class `String`), that is, are interned - these literals are also in the Constant Pool (even less relevant)","body":"Note: <code>&quot;foo2&quot; + &quot;foo3&quot;</code> does not exist at runtime, the compiler just <i>sees</i> it as <code>&quot;foo2foo3&quot;</code> - and all string literals (<code>&quot;foo1&quot;</code> and <code>&quot;foo2foo3&quot;</code>) are in the pool of strings (from class <code>String</code>), that is, are interned - these literals are also in the Constant Pool (even less relevant)"},{"owner":{"account_id":3398635,"reputation":120,"user_id":2851510,"display_name":"Hung Minh Tran"},"score":0,"creation_date":1655470031,"post_id":72655984,"comment_id":128346190,"body_markdown":"@MarkRotteveel We not explore the universe because we have to. So why we still doing it?","body":"@MarkRotteveel We not explore the universe because we have to. So why we still doing it?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655470240,"post_id":72655984,"comment_id":128346258,"body_markdown":"That is a false comparison IMO.","body":"That is a false comparison IMO."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1655459951,"creation_date":1655452601,"answer_id":72656082,"question_id":72655984,"body_markdown":"The strings `&quot;foo1&quot;` and `&quot;foo2foo3&quot;` are values of *compile time constant expressions* and both will be interned.  \r\n\r\nNone of the other strings will be.\r\n\r\n - `a` is not interned.\r\n\r\n - `a + &quot;foo1&quot;`  is not interned.\r\n\r\n - neither `&quot;foo2&quot;` or `&quot;foo3&quot;` is interned.  In fact *runtime* `String` objects are not even created for these 2 literals.  The `&quot;foo2&quot; + &quot;foo3&quot;` expression is evaluated at compile time.\r\n\r\n-------------------\r\n\r\nThe fact that strings are immutable doesn&#39;t predict whether a string value is interned or not.  (All strings are immutable, but only some are interned.)\r\n\r\nFinally, all of this is irrelevant to *practical* programming.  If you consistently use `equals(...)` to test strings, interning (or not) has no effect on program behavior.  \r\n\r\nIn a modern JVM, the GC&#39;s string de-duplication feature is a better way to manage space consumed by possible duplicate strings than interning.  And the amount of memory occupied by literals / constant expressions should be insignificant anyway.\r\n\r\n","title":"Are these string in concat command created in string pool?","body":"<p>The strings <code>&quot;foo1&quot;</code> and <code>&quot;foo2foo3&quot;</code> are values of <em>compile time constant expressions</em> and both will be interned.</p>\n<p>None of the other strings will be.</p>\n<ul>\n<li><p><code>a</code> is not interned.</p>\n</li>\n<li><p><code>a + &quot;foo1&quot;</code>  is not interned.</p>\n</li>\n<li><p>neither <code>&quot;foo2&quot;</code> or <code>&quot;foo3&quot;</code> is interned.  In fact <em>runtime</em> <code>String</code> objects are not even created for these 2 literals.  The <code>&quot;foo2&quot; + &quot;foo3&quot;</code> expression is evaluated at compile time.</p>\n</li>\n</ul>\n<hr />\n<p>The fact that strings are immutable doesn't predict whether a string value is interned or not.  (All strings are immutable, but only some are interned.)</p>\n<p>Finally, all of this is irrelevant to <em>practical</em> programming.  If you consistently use <code>equals(...)</code> to test strings, interning (or not) has no effect on program behavior.</p>\n<p>In a modern JVM, the GC's string de-duplication feature is a better way to manage space consumed by possible duplicate strings than interning.  And the amount of memory occupied by literals / constant expressions should be insignificant anyway.</p>\n"}],"owner":{"account_id":3398635,"reputation":120,"user_id":2851510,"display_name":"Hung Minh Tran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":72656082,"answer_count":1,"score":3,"last_activity_date":1655470801,"creation_date":1655452019,"question_id":72655984,"body_markdown":"Assume I write something like this in Java:\r\n```\r\nString a = args[0]; // user input from keyboard\r\nString b = a + &quot;foo1&quot;;\r\nString c = &quot;foo2&quot; + &quot;foo3&quot;;\r\n```\r\nWill &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;  be created in String pool? \r\n\r\n","title":"Are these string in concat command created in string pool?","body":"<p>Assume I write something like this in Java:</p>\n<pre><code>String a = args[0]; // user input from keyboard\nString b = a + &quot;foo1&quot;;\nString c = &quot;foo2&quot; + &quot;foo3&quot;;\n</code></pre>\n<p>Will &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;  be created in String pool?</p>\n"},{"tags":["java","spring-boot","intellij-idea","hazelcast"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620716942,"post_id":67463065,"comment_id":119275500,"body_markdown":"You don&#39;t set the `Movie` on the `Genre`, you should also add the `Movie` to the `Director`. You have bi-directional relations so you must set both ends.","body":"You don&#39;t set the <code>Movie</code> on the <code>Genre</code>, you should also add the <code>Movie</code> to the <code>Director</code>. You have bi-directional relations so you must set both ends."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620722775,"post_id":67463065,"comment_id":119277833,"body_markdown":"@M.Deinum How can I set the movie to Genre and Director. Is it possible to write these codes if you don&#39;t mind?","body":"@M.Deinum How can I set the movie to Genre and Director. Is it possible to write these codes if you don&#39;t mind?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620723094,"post_id":67463065,"comment_id":119277962,"body_markdown":"`genre.setMovie(movie)`. I assume you have the appropriate setters. However ideally you should have adder methods (`addMovie` on `Director` and `addGenre` on the `Movie`) which does that, next to adding it to the lest. You should remove your `setGenres` method as that is potentially dangerous (when used on a managed entity, you basically destroy the managed collection, leading to fun to debug errors).","body":"<code>genre.setMovie(movie)</code>. I assume you have the appropriate setters. However ideally you should have adder methods (<code>addMovie</code> on <code>Director</code> and <code>addGenre</code> on the <code>Movie</code>) which does that, next to adding it to the lest. You should remove your <code>setGenres</code> method as that is potentially dangerous (when used on a managed entity, you basically destroy the managed collection, leading to fun to debug errors)."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620723511,"post_id":67463065,"comment_id":119278174,"body_markdown":"@M.Deinum I updated my test function. Is it right?  As I define movies as a Set in Director. How can I set it to movie?","body":"@M.Deinum I updated my test function. Is it right?  As I define movies as a Set in Director. How can I set it to movie?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620724337,"post_id":67463065,"comment_id":119278545,"body_markdown":"As stated, you should be using adders instead of setting it directly.","body":"As stated, you should be using adders instead of setting it directly."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620724479,"post_id":67463065,"comment_id":119278596,"body_markdown":"@M.Deinum I updated my test function. How can I define add method? . I have no idea how to write it. Is it possible to show me this method? Can you look through the link which is directed to this sample sample?","body":"@M.Deinum I updated my test function. How can I define add method? . I have no idea how to write it. Is it possible to show me this method? Can you look through the link which is directed to this sample sample?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620724856,"post_id":67463065,"comment_id":119278754,"body_markdown":"`public void addMovie(Movie movie) { this.movies.add(movie); movie.setGenre(this);}` something along those lines. See also https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/ for a more in-depth explanation.","body":"<code>public void addMovie(Movie movie) { this.movies.add(movie); movie.setGenre(this);}</code> something along those lines. See also <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> for a more in-depth explanation."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620725330,"post_id":67463065,"comment_id":119278959,"body_markdown":"I defined `public void addGenre(Genre genre) { this.genres.add(genre); }` in Movie and `public void addMovie(Movie movie) {\n        this.movies.add(movie);\n    }` in Director. Is it right? How can I define createMovie and updateMovie in test?","body":"I defined <code>public void addGenre(Genre genre) { this.genres.add(genre); }</code> in Movie and <code>public void addMovie(Movie movie) {         this.movies.add(movie);     }</code> in Director. Is it right? How can I define createMovie and updateMovie in test?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620725531,"post_id":67463065,"comment_id":119279041,"body_markdown":"Just call those methods.","body":"Just call those methods."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620725749,"post_id":67463065,"comment_id":119279135,"body_markdown":"@M.Deinum When I update movie, genres cannot be updated.  Updated values are set as a new value. That&#39;s why I got 4 genres. How can I fix it?","body":"@M.Deinum When I update movie, genres cannot be updated.  Updated values are set as a new value. That&#39;s why I got 4 genres. How can I fix it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620726183,"post_id":67463065,"comment_id":119279295,"body_markdown":"Did you implement a correct equals and hashcode? That is important for JPA entities as well.","body":"Did you implement a correct equals and hashcode? That is important for JPA entities as well."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620726369,"post_id":67463065,"comment_id":119279375,"body_markdown":"I added `@EqualsAndHashCode(exclude = &quot;genres&quot;)` in Movie and `@EqualsAndHashCode(exclude = &quot;movies&quot;)` in Director. I also updated my github repository.","body":"I added <code>@EqualsAndHashCode(exclude = &quot;genres&quot;)</code> in Movie and <code>@EqualsAndHashCode(exclude = &quot;movies&quot;)</code> in Director. I also updated my github repository."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1620726678,"post_id":67463065,"comment_id":119279520,"body_markdown":"Don&#39;t, please don&#39;t... Write your own equals and hashcode. Using the Lombok generated one is a bad idea for JPA!.","body":"Don&#39;t, please don&#39;t... Write your own equals and hashcode. Using the Lombok generated one is a bad idea for JPA!."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620727096,"post_id":67463065,"comment_id":119279706,"body_markdown":"I wrote a my own equals and hashcode methods for all entities but I cannot handle with the issue in test part? I also updated my github repository. Can you look through it?","body":"I wrote a my own equals and hashcode methods for all entities but I cannot handle with the issue in test part? I also updated my github repository. Can you look through it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620731782,"post_id":67463065,"comment_id":119281762,"body_markdown":"@M.Deinum I did what you said. I cannot solve the issue? I only can add one genre.","body":"@M.Deinum I did what you said. I cannot solve the issue? I only can add one genre."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1620734172,"post_id":67463065,"comment_id":119282772,"body_markdown":"@M.Deinum I updated my repository. Can you look through it if you don&#39;t mind?","body":"@M.Deinum I updated my repository. Can you look through it if you don&#39;t mind?"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655470647,"creation_date":1620601621,"question_id":67463065,"body_markdown":"I have a problem about showing genre list when I get all values from getAllMovie function after I create a movie object.\r\n\r\nWhile I can see a director&#39;s name, I cannot see any information about genres.\r\n\r\nIf the problem comes from relation mappping or anywhere , How can I fix it? \r\n\r\nHere is the project Link : [Project Link][1]\r\n\r\nHere is my Movie class.\r\n\r\n    public class Movie implements Serializable {\r\n    \r\n    @OneToMany(mappedBy=&quot;movie&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n    private Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\r\n    \r\n    @ManyToOne(cascade=CascadeType.ALL,fetch = FetchType.EAGER)\r\n    @JoinColumn\r\n    private Director director;\r\n    }\r\n\r\n\r\nHere is Director class.\r\n\r\n    public class Director implements Serializable {\r\n    \r\n    @OneToMany(mappedBy=&quot;director&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n    private Set&lt;Movie&gt; movies;\r\n    \r\n    }\r\n\r\nHere is Genre Class.\r\n\r\n    public class Genre implements Serializable {\r\n    \r\n    @ManyToOne(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n    @JoinColumn\r\n    private Movie movie;\r\n    \r\n    }\r\n\r\nHere is my updateMovie test Function\r\n\r\n    @Test\r\n        void updateMovieById() throws ParseException {\r\n    \r\n            createMovie();\r\n    \r\n            Long id = 1L;\r\n            Movie movie = movieService.findById(id).get();\r\n    \r\n            movie.setName(&quot;Movie B&quot;);\r\n            movie.setRating(7.5);\r\n    \r\n            Director movieDirector = new Director();\r\n            movieDirector.setName(&quot;Director 2&quot;);\r\n            movie.setDirector(movieDirector);\r\n    \r\n            LocalDate now = Utils.formatDate(LocalDate.of(2019, Month.JANUARY, 1));\r\n            movie.setCreatedAt(now);\r\n    \r\n            Genre genreFirst = new Genre();\r\n            genreFirst.setName(&quot;Historical&quot;);\r\n            genreFirst.setMovie(movie);\r\n    \r\n            Genre genreSecond = new Genre();\r\n            genreSecond.setName(&quot;Horror&quot;);\r\n            genreSecond.setMovie(movie);\r\n    \r\n            Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\r\n            genres.add(genreFirst);\r\n            genres.add(genreSecond);\r\n    \r\n            movie.setGenres(genres);\r\n    \r\n            Movie updatedMovie = movieService.update(id,movie);\r\n    \r\n    \r\n            assertThat(updatedMovie.getId()).isGreaterThan(0);\r\n        }\r\n\r\nHere is my getAllMovies function.\r\n\r\n    @Test\r\n    void getAllMovies() throws ParseException {\r\n    \r\n       createMovie();\r\n    \r\n       List&lt;Movie&gt; movieList =  movieService.findAll();\r\n    \r\n       assertThat(movieList.size()).isGreaterThan(0);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springboothazelcast\r\n","title":"Spring Boot One to Many Issue in Intellij","body":"<p>I have a problem about showing genre list when I get all values from getAllMovie function after I create a movie object.</p>\n<p>While I can see a director's name, I cannot see any information about genres.</p>\n<p>If the problem comes from relation mappping or anywhere , How can I fix it?</p>\n<p>Here is the project Link : <a href=\"https://github.com/Rapter1990/springboothazelcast\" rel=\"nofollow noreferrer\">Project Link</a></p>\n<p>Here is my Movie class.</p>\n<pre><code>public class Movie implements Serializable {\n\n@OneToMany(mappedBy=&quot;movie&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\nprivate Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\n\n@ManyToOne(cascade=CascadeType.ALL,fetch = FetchType.EAGER)\n@JoinColumn\nprivate Director director;\n}\n</code></pre>\n<p>Here is Director class.</p>\n<pre><code>public class Director implements Serializable {\n\n@OneToMany(mappedBy=&quot;director&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\nprivate Set&lt;Movie&gt; movies;\n\n}\n</code></pre>\n<p>Here is Genre Class.</p>\n<pre><code>public class Genre implements Serializable {\n\n@ManyToOne(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n@JoinColumn\nprivate Movie movie;\n\n}\n</code></pre>\n<p>Here is my updateMovie test Function</p>\n<pre><code>@Test\n    void updateMovieById() throws ParseException {\n\n        createMovie();\n\n        Long id = 1L;\n        Movie movie = movieService.findById(id).get();\n\n        movie.setName(&quot;Movie B&quot;);\n        movie.setRating(7.5);\n\n        Director movieDirector = new Director();\n        movieDirector.setName(&quot;Director 2&quot;);\n        movie.setDirector(movieDirector);\n\n        LocalDate now = Utils.formatDate(LocalDate.of(2019, Month.JANUARY, 1));\n        movie.setCreatedAt(now);\n\n        Genre genreFirst = new Genre();\n        genreFirst.setName(&quot;Historical&quot;);\n        genreFirst.setMovie(movie);\n\n        Genre genreSecond = new Genre();\n        genreSecond.setName(&quot;Horror&quot;);\n        genreSecond.setMovie(movie);\n\n        Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\n        genres.add(genreFirst);\n        genres.add(genreSecond);\n\n        movie.setGenres(genres);\n\n        Movie updatedMovie = movieService.update(id,movie);\n\n\n        assertThat(updatedMovie.getId()).isGreaterThan(0);\n    }\n</code></pre>\n<p>Here is my getAllMovies function.</p>\n<pre><code>@Test\nvoid getAllMovies() throws ParseException {\n\n   createMovie();\n\n   List&lt;Movie&gt; movieList =  movieService.findAll();\n\n   assertThat(movieList.size()).isGreaterThan(0);\n}\n</code></pre>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":7,"creation_date":1352148171,"post_id":13239972,"comment_id":18038363,"body_markdown":"What kind of exception is that?","body":"What kind of exception is that?"},{"owner":{"account_id":1995288,"reputation":2713,"user_id":1788389,"display_name":"Andres Farias"},"score":0,"creation_date":1352199432,"post_id":13239972,"comment_id":18053587,"body_markdown":"In deed, there are not many exception from which you can recover from. I admit my initial motivation was not a real exception, but way to avoid an if that will happen almost never: I try to `remove()` from a `java.util.Queue`, which thorws and `InvalidElementException` when the queue is empty. Instead of asking if it&#39;s empty, I sourround the actions in a try-catch (which under concurrency becomes compulsory even with the previous if). In such a case, in the `catch` block I would ask to refill the queue with more elements and then, retry. Voila.","body":"In deed, there are not many exception from which you can recover from. I admit my initial motivation was not a real exception, but way to avoid an if that will happen almost never: I try to <code>remove()</code> from a <code>java.util.Queue</code>, which thorws and <code>InvalidElementException</code> when the queue is empty. Instead of asking if it&#39;s empty, I sourround the actions in a try-catch (which under concurrency becomes compulsory even with the previous if). In such a case, in the <code>catch</code> block I would ask to refill the queue with more elements and then, retry. Voila."},{"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"score":2,"creation_date":1406534358,"post_id":13239972,"comment_id":38852901,"body_markdown":"I can see the usual way of doing this would be for DB access, if the connection has failed reconnect, if it fails then throw major exception otherwise retry the call again.  As has been said we could do it in a loop with a check at the bottom if(error&lt;&gt;0) then go back otherwise break;","body":"I can see the usual way of doing this would be for DB access, if the connection has failed reconnect, if it fails then throw major exception otherwise retry the call again.  As has been said we could do it in a loop with a check at the bottom if(error&lt;&gt;0) then go back otherwise break;"}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":3,"up_vote_count":412,"is_accepted":true,"score":409,"last_activity_date":1415138182,"creation_date":1352147962,"answer_id":13239999,"question_id":13239972,"body_markdown":"You need to enclose your `try-catch` inside a `while` loop like this: -\r\n\r\n    int count = 0;\r\n    int maxTries = 3;\r\n    while(true) {\r\n        try {\r\n            // Some Code\r\n            // break out of loop, or return, on success\r\n        } catch (SomeException e) {\r\n            // handle exception\r\n            if (++count == maxTries) throw e;\r\n        }\r\n    }\r\n\r\nI have taken `count` and `maxTries` to avoid running into an infinite loop, in case the exception keeps on occurring in your `try block`.\r\n","title":"How do you implement a re-try-catch?","body":"<p>You need to enclose your <code>try-catch</code> inside a <code>while</code> loop like this: -</p>\n\n<pre><code>int count = 0;\nint maxTries = 3;\nwhile(true) {\n    try {\n        // Some Code\n        // break out of loop, or return, on success\n    } catch (SomeException e) {\n        // handle exception\n        if (++count == maxTries) throw e;\n    }\n}\n</code></pre>\n\n<p>I have taken <code>count</code> and <code>maxTries</code> to avoid running into an infinite loop, in case the exception keeps on occurring in your <code>try block</code>.</p>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352147979,"creation_date":1352147979,"answer_id":13240004,"question_id":13239972,"body_markdown":"Use a `while` loop with local `status` flag. Initialize the flag as `false` and set it to `true` when operation is successful e.g. below:\r\n    \r\n      boolean success  = false;\r\n      while(!success){\r\n         try{ \r\n             some_instruction(); \r\n             success = true;\r\n         } catch (NearlyUnexpectedException e){\r\n           fix_the_problem();\r\n         }\r\n      }\r\n\r\nThis will keep retrying until its successful.\r\n\r\nIf you want to retry only certain number of times then use a counter as well:\r\n\r\n      boolean success  = false;\r\n      int count = 0, MAX_TRIES = 10;\r\n      while(!success &amp;&amp; count++ &lt; MAX_TRIES){\r\n         try{ \r\n             some_instruction(); \r\n             success = true;\r\n         } catch (NearlyUnexpectedException e){\r\n           fix_the_problem();\r\n         }\r\n      }\r\n      if(!success){\r\n        //It wasn&#39;t successful after 10 retries\r\n      }\r\n\r\nThis will try max 10 times if not successful until then an will exit if its successful before hand.\r\n","title":"How do you implement a re-try-catch?","body":"<p>Use a <code>while</code> loop with local <code>status</code> flag. Initialize the flag as <code>false</code> and set it to <code>true</code> when operation is successful e.g. below:</p>\n\n<pre><code>  boolean success  = false;\n  while(!success){\n     try{ \n         some_instruction(); \n         success = true;\n     } catch (NearlyUnexpectedException e){\n       fix_the_problem();\n     }\n  }\n</code></pre>\n\n<p>This will keep retrying until its successful.</p>\n\n<p>If you want to retry only certain number of times then use a counter as well:</p>\n\n<pre><code>  boolean success  = false;\n  int count = 0, MAX_TRIES = 10;\n  while(!success &amp;&amp; count++ &lt; MAX_TRIES){\n     try{ \n         some_instruction(); \n         success = true;\n     } catch (NearlyUnexpectedException e){\n       fix_the_problem();\n     }\n  }\n  if(!success){\n    //It wasn't successful after 10 retries\n  }\n</code></pre>\n\n<p>This will try max 10 times if not successful until then an will exit if its successful before hand.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1519113897,"creation_date":1352147996,"answer_id":13240009,"question_id":13239972,"body_markdown":"As usual, the best design depends on the particular circumstances. Usually though, I write something like:\r\n\r\n\r\n    for (int retries = 0;; retries++) {\r\n        try {\r\n            return doSomething();\r\n        } catch (SomeException e) {\r\n            if (retries &lt; 6) {\r\n                continue;\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>As usual, the best design depends on the particular circumstances. Usually though, I write something like:</p>\n\n<pre><code>for (int retries = 0;; retries++) {\n    try {\n        return doSomething();\n    } catch (SomeException e) {\n        if (retries &lt; 6) {\n            continue;\n        } else {\n            throw e;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448938,"reputation":2847,"user_id":843440,"display_name":"Jordan Kaye"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352148012,"creation_date":1352148012,"answer_id":13240012,"question_id":13239972,"body_markdown":"A simple way to solve the issue would be to wrap the try/catch in a while loop and maintain a count. This way you could prevent an infinite loop by checking a count against some other variable while maintaining a log of your failures. It isn&#39;t the most exquisite solution, but it would work.","title":"How do you implement a re-try-catch?","body":"<p>A simple way to solve the issue would be to wrap the try/catch in a while loop and maintain a count. This way you could prevent an infinite loop by checking a count against some other variable while maintaining a log of your failures. It isn't the most exquisite solution, but it would work.</p>\n"},{"tags":[],"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1352148016,"creation_date":1352148016,"answer_id":13240013,"question_id":13239972,"body_markdown":"All a Try-Catch does is allow your program to fail gracefully.  In a catch statement, you generally try to log the error, and maybe roll back changes if you need to.  \r\n\r\n\r\n    bool finished = false;\r\n\r\n    while(finished == false)\r\n    {\r\n        try\r\n        {\r\n            //your code here\r\n            finished = true\r\n        }\r\n        catch(exception ex)\r\n        {\r\n            log.error(&quot;there was an error, ex&quot;);\r\n        }\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>All a Try-Catch does is allow your program to fail gracefully.  In a catch statement, you generally try to log the error, and maybe roll back changes if you need to.  </p>\n\n<pre><code>bool finished = false;\n\nwhile(finished == false)\n{\n    try\n    {\n        //your code here\n        finished = true\n    }\n    catch(exception ex)\n    {\n        log.error(\"there was an error, ex\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1352148255,"creation_date":1352148255,"answer_id":13240065,"question_id":13239972,"body_markdown":"Although `try/catch` into `while` is well-known and good strategy I want to suggest you recursive call:\r\n\r\n    void retry(int i, int limit) {\r\n        try {\r\n    \r\n        } catch (SomeException e) {\r\n            // handle exception\r\n            if (i &gt;= limit) {\r\n                throw e;  // variant: wrap the exception, e.g. throw new RuntimeException(e);\r\n            }\r\n            retry(i++, limit);\r\n        }\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>Although <code>try/catch</code> into <code>while</code> is well-known and good strategy I want to suggest you recursive call:</p>\n\n<pre><code>void retry(int i, int limit) {\n    try {\n\n    } catch (SomeException e) {\n        // handle exception\n        if (i &gt;= limit) {\n            throw e;  // variant: wrap the exception, e.g. throw new RuntimeException(e);\n        }\n        retry(i++, limit);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352150667,"creation_date":1352148598,"answer_id":13240150,"question_id":13239972,"body_markdown":"Most of these answers are essentially the same. Mine is also, but this is the form I like\r\n\r\n    boolean completed = false;\r\n    Throwable lastException = null;\r\n    for (int tryCount=0; tryCount &lt; config.MAX_SOME_OPERATION_RETRIES; tryCount++)\r\n    {\r\n        try {\r\n            completed = some_operation();\r\n            break;\r\n        }\r\n        catch (UnlikelyException e) {\r\n            lastException = e;\r\n            fix_the_problem();\r\n        }\r\n    }\r\n    if (!completed) {\r\n        reportError(lastException);\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>Most of these answers are essentially the same. Mine is also, but this is the form I like</p>\n\n<pre><code>boolean completed = false;\nThrowable lastException = null;\nfor (int tryCount=0; tryCount &lt; config.MAX_SOME_OPERATION_RETRIES; tryCount++)\n{\n    try {\n        completed = some_operation();\n        break;\n    }\n    catch (UnlikelyException e) {\n        lastException = e;\n        fix_the_problem();\n    }\n}\nif (!completed) {\n    reportError(lastException);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":140637,"reputation":6194,"user_id":1311394,"display_name":"ach"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1352150470,"creation_date":1352150470,"answer_id":13240586,"question_id":13239972,"body_markdown":"Obligatory &quot;enterprisy&quot; solution:\r\n  \r\n    public abstract class Operation {\r\n        abstract public void doIt();\r\n        public void handleException(Exception cause) {\r\n            //default impl: do nothing, log the exception, etc.\r\n        }\r\n    }\r\n\r\n    public class OperationHelper {\r\n        public static void doWithRetry(int maxAttempts, Operation operation) {\r\n            for (int count = 0; count &lt; maxAttempts; count++) {\r\n                try {\r\n                    operation.doIt();\r\n                    count = maxAttempts; //don&#39;t retry\r\n                } catch (Exception e) {\r\n                    operation.handleException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd to call:\r\n\r\n    OperationHelper.doWithRetry(5, new Operation() {\r\n        @Override public void doIt() {\r\n            //do some stuff\r\n        }\r\n        @Override public void handleException(Exception cause) {\r\n            //recover from the Exception\r\n        }\r\n    });","title":"How do you implement a re-try-catch?","body":"<p>Obligatory \"enterprisy\" solution:</p>\n\n<pre><code>public abstract class Operation {\n    abstract public void doIt();\n    public void handleException(Exception cause) {\n        //default impl: do nothing, log the exception, etc.\n    }\n}\n\npublic class OperationHelper {\n    public static void doWithRetry(int maxAttempts, Operation operation) {\n        for (int count = 0; count &lt; maxAttempts; count++) {\n            try {\n                operation.doIt();\n                count = maxAttempts; //don't retry\n            } catch (Exception e) {\n                operation.handleException(e);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And to call:</p>\n\n<pre><code>OperationHelper.doWithRetry(5, new Operation() {\n    @Override public void doIt() {\n        //do some stuff\n    }\n    @Override public void handleException(Exception cause) {\n        //recover from the Exception\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1457094802,"creation_date":1364109262,"answer_id":15596070,"question_id":13239972,"body_markdown":"You can use AOP and Java annotations from [jcabi-aspects](http://aspects.jcabi.com/annotation-retryonfailure.html) (I&#39;m a developer):\r\n\r\n    @RetryOnFailure(attempts = 3, delay = 5)\r\n    public String load(URL url) {\r\n      return url.openConnection().getContent();\r\n    }\r\n\r\nYou could also use `@Loggable` and `@LogException` annotations.","title":"How do you implement a re-try-catch?","body":"<p>You can use AOP and Java annotations from <a href=\"http://aspects.jcabi.com/annotation-retryonfailure.html\" rel=\"noreferrer\">jcabi-aspects</a> (I'm a developer):</p>\n\n<pre><code>@RetryOnFailure(attempts = 3, delay = 5)\npublic String load(URL url) {\n  return url.openConnection().getContent();\n}\n</code></pre>\n\n<p>You could also use <code>@Loggable</code> and <code>@LogException</code> annotations.</p>\n"},{"tags":[],"owner":{"account_id":2709697,"reputation":83,"user_id":2338449,"display_name":"Rahul Malhotra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406533564,"creation_date":1406533564,"answer_id":24990633,"question_id":13239972,"body_markdown":"Use a do-while to design re-try block.\r\n\r\n    boolean successful = false;\r\n    int maxTries = 3;\r\n    do{\r\n      try {\r\n        something();\r\n        success = true;\r\n      } catch(Me ifUCan) {\r\n        maxTries--;\r\n      }\r\n    } while (!successful || maxTries &gt; 0)\r\n","title":"How do you implement a re-try-catch?","body":"<p>Use a do-while to design re-try block.</p>\n\n<pre><code>boolean successful = false;\nint maxTries = 3;\ndo{\n  try {\n    something();\n    success = true;\n  } catch(Me ifUCan) {\n    maxTries--;\n  }\n} while (!successful || maxTries &gt; 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3495155,"reputation":901,"user_id":2923632,"display_name":"KnightHawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408029580,"creation_date":1408029580,"answer_id":25311716,"question_id":13239972,"body_markdown":"I know there are already many similar answers here, and mine is not much different, but I will post it anyway because it deals with a specific case/issue.\r\n\r\nWhen dealing with the `facebook Graph API` in `PHP` you sometimes get an error, but immediately re-trying the same thing will give a positive result (for various *magical* Internet reasons that are beyond the scope of this question). In this case there is no need to *fix* any error, but to simply try again because there was some kind of &quot;facebook error&quot;.\r\n\r\nThis code is used immediately after creating a facebook session:\r\n\r\n\r\n\t//try more than once because sometimes &quot;facebook error&quot;\r\n\t$attempt = 3;\r\n\twhile($attempt-- &gt; 0)\r\n\t{\r\n\t\t// To validate the session:\r\n\t\ttry \r\n\t\t{\r\n\t\t\t$facebook_session-&gt;validate();\r\n\t\t\t$attempt = 0;\r\n\t\t} \r\n\t\tcatch (Facebook\\FacebookRequestException $ex)\r\n\t\t{\r\n\t\t\t// Session not valid, Graph API returned an exception with the reason.\r\n\t\t\tif($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\r\n\t\t} \r\n\t\tcatch (\\Exception $ex) \r\n\t\t{\r\n\t\t\t// Graph API returned info, but it may mismatch the current app or have expired.\r\n\t\t\tif($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\r\n\t\t}\r\n\t}\r\n\r\nAlso, by having the `for` loop count down to zero (`$attempt--`) it makes it pretty easy to change the number of attempts in the future.","title":"How do you implement a re-try-catch?","body":"<p>I know there are already many similar answers here, and mine is not much different, but I will post it anyway because it deals with a specific case/issue.</p>\n\n<p>When dealing with the <code>facebook Graph API</code> in <code>PHP</code> you sometimes get an error, but immediately re-trying the same thing will give a positive result (for various <em>magical</em> Internet reasons that are beyond the scope of this question). In this case there is no need to <em>fix</em> any error, but to simply try again because there was some kind of \"facebook error\".</p>\n\n<p>This code is used immediately after creating a facebook session:</p>\n\n<pre><code>//try more than once because sometimes \"facebook error\"\n$attempt = 3;\nwhile($attempt-- &gt; 0)\n{\n    // To validate the session:\n    try \n    {\n        $facebook_session-&gt;validate();\n        $attempt = 0;\n    } \n    catch (Facebook\\FacebookRequestException $ex)\n    {\n        // Session not valid, Graph API returned an exception with the reason.\n        if($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\n    } \n    catch (\\Exception $ex) \n    {\n        // Graph API returned info, but it may mismatch the current app or have expired.\n        if($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\n    }\n}\n</code></pre>\n\n<p>Also, by having the <code>for</code> loop count down to zero (<code>$attempt--</code>) it makes it pretty easy to change the number of attempts in the future.</p>\n"},{"tags":[],"owner":{"account_id":5483749,"reputation":1,"user_id":4359256,"display_name":"David Kayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421632587,"creation_date":1421632587,"answer_id":28016923,"question_id":13239972,"body_markdown":"following is my solution with very simple approach!\r\n\r\n                   while (true) {\r\n                        try {\r\n                            /// Statement what may cause an error;\r\n                            break;\r\n                        } catch (Exception e) {\r\n\r\n                        }\r\n                    }","title":"How do you implement a re-try-catch?","body":"<p>following is my solution with very simple approach!</p>\n\n<pre><code>               while (true) {\n                    try {\n                        /// Statement what may cause an error;\n                        break;\n                    } catch (Exception e) {\n\n                    }\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1463084924,"creation_date":1429823431,"answer_id":29834371,"question_id":13239972,"body_markdown":"In case it&#39;s useful, a couple more options to consider, all thrown together (stopfile instead of retries, sleep, continue larger loop) all possibly helpful.\r\n\r\n     bigLoop:\r\n     while(!stopFileExists()) {\r\n        try {\r\n          // do work\r\n          break;\r\n        }\r\n        catch (ExpectedExceptionType e) {\r\n   \r\n           // could sleep in here, too.\r\n\r\n           // another option would be to &quot;restart&quot; some bigger loop, like\r\n           continue bigLoop;\r\n        }\r\n        // ... more work\r\n    }\r\n","title":"How do you implement a re-try-catch?","body":"<p>In case it's useful, a couple more options to consider, all thrown together (stopfile instead of retries, sleep, continue larger loop) all possibly helpful.</p>\n\n<pre><code> bigLoop:\n while(!stopFileExists()) {\n    try {\n      // do work\n      break;\n    }\n    catch (ExpectedExceptionType e) {\n\n       // could sleep in here, too.\n\n       // another option would be to \"restart\" some bigger loop, like\n       continue bigLoop;\n    }\n    // ... more work\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6898622,"reputation":1,"user_id":5298980,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441330977,"creation_date":1441329885,"answer_id":32388748,"question_id":13239972,"body_markdown":"Im not sure if this is the &quot;Professional&quot; way to do it and i&#39;m not entirely sure if it works for everything.\r\n \r\n    boolean gotError = false;\r\n\r\n    do {\r\n        try {\r\n            // Code You&#39;re Trying\r\n        } catch ( FileNotFoundException ex ) {\r\n            // Exception\r\n            gotError = true;\r\n        }\r\n    } while ( gotError = true );\r\n\r\n","title":"How do you implement a re-try-catch?","body":"<p>Im not sure if this is the \"Professional\" way to do it and i'm not entirely sure if it works for everything.</p>\n\n<pre><code>boolean gotError = false;\n\ndo {\n    try {\n        // Code You're Trying\n    } catch ( FileNotFoundException ex ) {\n        // Exception\n        gotError = true;\n    }\n} while ( gotError = true );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4931543,"reputation":1,"user_id":3971167,"display_name":"tushar Mandar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464869478,"creation_date":1464869478,"answer_id":37591516,"question_id":13239972,"body_markdown":"https://github.com/tusharmndr/retry-function-wrapper/tree/master/src/main/java/io\r\n    \r\n    \r\n    int MAX_RETRY = 3; \r\n    RetryUtil.&lt;Boolean&gt;retry(MAX_RETRY,() -&gt; {\r\n        //Function to retry\r\n        return true;\r\n    });\r\n\r\n      ","title":"How do you implement a re-try-catch?","body":"<p><a href=\"https://github.com/tusharmndr/retry-function-wrapper/tree/master/src/main/java/io\" rel=\"nofollow\">https://github.com/tusharmndr/retry-function-wrapper/tree/master/src/main/java/io</a></p>\n\n<pre><code>int MAX_RETRY = 3; \nRetryUtil.&lt;Boolean&gt;retry(MAX_RETRY,() -&gt; {\n    //Function to retry\n    return true;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519115956,"creation_date":1519115956,"answer_id":48880924,"question_id":13239972,"body_markdown":" Here a reusable and more generic approach for Java 8+ that does not require external libraries:\r\n\r\n    public interface IUnreliable&lt;T extends Exception&gt;\r\n    {\r\n        void tryRun ( ) throws T;\r\n    }\r\n    \r\n    public static &lt;T extends Exception&gt; void retry (int retryCount, IUnreliable&lt;T&gt; runnable) throws T {\r\n        for (int retries = 0;; retries++) {\r\n            try {\r\n                runnable.tryRun();\r\n                return;\r\n            } catch (Exception e) {\r\n                if (retries &lt; retryCount) {\r\n                    continue;\r\n                } else {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    @Test\r\n    public void demo() throws IOException {\r\n        retry(3, () -&gt; {\r\n            new File(&quot;/tmp/test.txt&quot;).createNewFile();\r\n        });\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>Here a reusable and more generic approach for Java 8+ that does not require external libraries:</p>\n\n<pre><code>public interface IUnreliable&lt;T extends Exception&gt;\n{\n    void tryRun ( ) throws T;\n}\n\npublic static &lt;T extends Exception&gt; void retry (int retryCount, IUnreliable&lt;T&gt; runnable) throws T {\n    for (int retries = 0;; retries++) {\n        try {\n            runnable.tryRun();\n            return;\n        } catch (Exception e) {\n            if (retries &lt; retryCount) {\n                continue;\n            } else {\n                throw e;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>@Test\npublic void demo() throws IOException {\n    retry(3, () -&gt; {\n        new File(\"/tmp/test.txt\").createNewFile();\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4612775,"reputation":318,"user_id":3740345,"display_name":"bnsd55"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536413440,"creation_date":1536412560,"answer_id":52235730,"question_id":13239972,"body_markdown":"You can use https://github.com/bnsd55/RetryCatch\r\n\r\nExample:\r\n\r\n    RetryCatch retryCatchSyncRunnable = new RetryCatch();\r\n            retryCatchSyncRunnable\r\n                    // For infinite retry times, just remove this row\r\n                    .retryCount(3)\r\n                    // For retrying on all exceptions, just remove this row\r\n                    .retryOn(ArithmeticException.class, IndexOutOfBoundsException.class)\r\n                    .onSuccess(() -&gt; System.out.println(&quot;Success, There is no result because this is a runnable.&quot;))\r\n                    .onRetry((retryCount, e) -&gt; System.out.println(&quot;Retry count: &quot; + retryCount + &quot;, Exception message: &quot; + e.getMessage()))\r\n                    .onFailure(e -&gt; System.out.println(&quot;Failure: Exception message: &quot; + e.getMessage()))\r\n                    .run(new ExampleRunnable());\r\n\r\nInstead of `new ExampleRunnable()` you can pass your own anonymous function.","title":"How do you implement a re-try-catch?","body":"<p>You can use <a href=\"https://github.com/bnsd55/RetryCatch\" rel=\"nofollow noreferrer\">https://github.com/bnsd55/RetryCatch</a></p>\n\n<p>Example:</p>\n\n<pre><code>RetryCatch retryCatchSyncRunnable = new RetryCatch();\n        retryCatchSyncRunnable\n                // For infinite retry times, just remove this row\n                .retryCount(3)\n                // For retrying on all exceptions, just remove this row\n                .retryOn(ArithmeticException.class, IndexOutOfBoundsException.class)\n                .onSuccess(() -&gt; System.out.println(\"Success, There is no result because this is a runnable.\"))\n                .onRetry((retryCount, e) -&gt; System.out.println(\"Retry count: \" + retryCount + \", Exception message: \" + e.getMessage()))\n                .onFailure(e -&gt; System.out.println(\"Failure: Exception message: \" + e.getMessage()))\n                .run(new ExampleRunnable());\n</code></pre>\n\n<p>Instead of <code>new ExampleRunnable()</code> you can pass your own anonymous function.</p>\n"},{"tags":[],"owner":{"account_id":1291169,"reputation":14817,"user_id":1243247,"accept_rate":62,"display_name":"Jo&#227;o Pimentel Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540739498,"creation_date":1540737257,"answer_id":53032624,"question_id":13239972,"body_markdown":"The issue with the remaining solutions is that, the correspondent function tries continuously without a time interval in-between, thus over flooding the stack.\r\n\r\nWhy not just `try`ing only every second and *ad eternum*?\r\n\r\nHere a solution using `setTimeout` and a recursive function: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    (function(){\r\n      try{\r\n        Run(); //tries for the 1st time, but Run() as function is not yet defined\r\n      }\r\n      catch(e){\r\n        (function retry(){\r\n          setTimeout(function(){\r\n            try{\r\n              console.log(&quot;trying...&quot;);\r\n              Run();\r\n              console.log(&quot;success!&quot;);\r\n            }\r\n            catch(e){\r\n              retry(); //calls recursively\r\n            }\r\n          }, 1000); //tries every second\r\n        }());\r\n      }\r\n    })();\r\n\r\n\r\n\r\n    //after 5 seconds, defines Run as a global function\r\n    var Run;\r\n    setTimeout(function(){\r\n      Run = function(){};\r\n    }, 5000);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nReplace the function `Run()` by the function or code that you&#39;d like to re`try` every second.","title":"How do you implement a re-try-catch?","body":"<p>The issue with the remaining solutions is that, the correspondent function tries continuously without a time interval in-between, thus over flooding the stack.</p>\n\n<p>Why not just <code>try</code>ing only every second and <em>ad eternum</em>?</p>\n\n<p>Here a solution using <code>setTimeout</code> and a recursive function: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function(){\r\n  try{\r\n    Run(); //tries for the 1st time, but Run() as function is not yet defined\r\n  }\r\n  catch(e){\r\n    (function retry(){\r\n      setTimeout(function(){\r\n        try{\r\n          console.log(\"trying...\");\r\n          Run();\r\n          console.log(\"success!\");\r\n        }\r\n        catch(e){\r\n          retry(); //calls recursively\r\n        }\r\n      }, 1000); //tries every second\r\n    }());\r\n  }\r\n})();\r\n\r\n\r\n\r\n//after 5 seconds, defines Run as a global function\r\nvar Run;\r\nsetTimeout(function(){\r\n  Run = function(){};\r\n}, 5000);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Replace the function <code>Run()</code> by the function or code that you'd like to re<code>try</code> every second.</p>\n"},{"tags":[],"owner":{"account_id":1536659,"reputation":904,"user_id":1628839,"accept_rate":80,"display_name":"Vivek Sethi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1540985989,"creation_date":1540985373,"answer_id":53082321,"question_id":13239972,"body_markdown":"Spring AOP and annotation based solution:\r\n\r\nUsage (`@RetryOperation` is our custom annotation for the job):\r\n\r\n    @RetryOperation(retryCount = 1, waitSeconds = 10)\r\n    boolean someMethod() throws Exception {\r\n    }\r\n\r\nWe&#39;ll need two things to accomplish this: 1. an annotation interface, and 2. a spring aspect. Here&#39;s one way to implement these:\r\n\r\nThe Annotation Interface:\r\n\r\n    import java.lang.annotation.*;\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface RetryOperation {\r\n        int retryCount();\r\n        int waitSeconds();\r\n    }\r\n\r\nThe Spring Aspect:\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.reflect.MethodSignature;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Component;\r\n    import java.lang.reflect.Method;\r\n    \r\n    @Aspect @Component \r\n    public class RetryAspect {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(RetryAspect.class);\r\n    \r\n        @Around(value = &quot;@annotation(RetryOperation)&quot;)\r\n        public Object retryOperation(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \r\n            Object response = null;\r\n            Method method = ((MethodSignature) joinPoint.getSignature()).getMethod();\r\n            RetryOperation annotation = method.getAnnotation(RetryOperation.class);\r\n            int retryCount = annotation.retryCount();\r\n            int waitSeconds = annotation.waitSeconds();\r\n            boolean successful = false;\r\n    \r\n            do {\r\n                try {\r\n                    response = joinPoint.proceed();\r\n                    successful = true;\r\n                } catch (Exception ex) {\r\n                    LOGGER.info(&quot;Operation failed, retries remaining: {}&quot;, retryCount);\r\n                    retryCount--;\r\n                    if (retryCount &lt; 0) {\r\n                        throw ex;\r\n                    }\r\n                    if (waitSeconds &gt; 0) {\r\n                        LOGGER.info(&quot;Waiting for {} second(s) before next retry&quot;, waitSeconds);\r\n                        Thread.sleep(waitSeconds * 1000l);\r\n                    }\r\n                }\r\n            } while (!successful);\r\n    \r\n            return response;\r\n        }\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>Spring AOP and annotation based solution:</p>\n\n<p>Usage (<code>@RetryOperation</code> is our custom annotation for the job):</p>\n\n<pre><code>@RetryOperation(retryCount = 1, waitSeconds = 10)\nboolean someMethod() throws Exception {\n}\n</code></pre>\n\n<p>We'll need two things to accomplish this: 1. an annotation interface, and 2. a spring aspect. Here's one way to implement these:</p>\n\n<p>The Annotation Interface:</p>\n\n<pre><code>import java.lang.annotation.*;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface RetryOperation {\n    int retryCount();\n    int waitSeconds();\n}\n</code></pre>\n\n<p>The Spring Aspect:</p>\n\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.reflect.MethodSignature;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport java.lang.reflect.Method;\n\n@Aspect @Component \npublic class RetryAspect {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(RetryAspect.class);\n\n    @Around(value = \"@annotation(RetryOperation)\")\n    public Object retryOperation(ProceedingJoinPoint joinPoint) throws Throwable {\n\n        Object response = null;\n        Method method = ((MethodSignature) joinPoint.getSignature()).getMethod();\n        RetryOperation annotation = method.getAnnotation(RetryOperation.class);\n        int retryCount = annotation.retryCount();\n        int waitSeconds = annotation.waitSeconds();\n        boolean successful = false;\n\n        do {\n            try {\n                response = joinPoint.proceed();\n                successful = true;\n            } catch (Exception ex) {\n                LOGGER.info(\"Operation failed, retries remaining: {}\", retryCount);\n                retryCount--;\n                if (retryCount &lt; 0) {\n                    throw ex;\n                }\n                if (waitSeconds &gt; 0) {\n                    LOGGER.info(\"Waiting for {} second(s) before next retry\", waitSeconds);\n                    Thread.sleep(waitSeconds * 1000l);\n                }\n            }\n        } while (!successful);\n\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5796505,"reputation":134,"user_id":4572158,"display_name":"GirishB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558612209,"creation_date":1558612209,"answer_id":56274602,"question_id":13239972,"body_markdown":"This is an old question but a solution is still relevant. Here is my generic solution in Java 8 without using any third party library:\r\n\r\n    public interface RetryConsumer&lt;T&gt; {\r\n        T evaluate() throws Throwable;\r\n    }\r\n    public interface RetryPredicate&lt;T&gt; {\r\n        boolean shouldRetry(T t);\r\n    }\r\n    public class RetryOperation&lt;T&gt; {\r\n        private RetryConsumer&lt;T&gt; retryConsumer;\r\n        private int noOfRetry;\r\n        private int delayInterval;\r\n        private TimeUnit timeUnit;\r\n        private RetryPredicate&lt;T&gt; retryPredicate;\r\n        private List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList;\r\n    \r\n        public static class OperationBuilder&lt;T&gt; {\r\n            private RetryConsumer&lt;T&gt; iRetryConsumer;\r\n            private int iNoOfRetry;\r\n            private int iDelayInterval;\r\n            private TimeUnit iTimeUnit;\r\n            private RetryPredicate&lt;T&gt; iRetryPredicate;\r\n            private Class&lt;? extends Throwable&gt;[] exceptionClasses;\r\n    \r\n            private OperationBuilder() {\r\n            }\r\n    \r\n            public OperationBuilder&lt;T&gt; retryConsumer(final RetryConsumer&lt;T&gt; retryConsumer) {\r\n                this.iRetryConsumer = retryConsumer;\r\n                return this;\r\n            }\r\n    \r\n            public OperationBuilder&lt;T&gt; noOfRetry(final int noOfRetry) {\r\n                this.iNoOfRetry = noOfRetry;\r\n                return this;\r\n            }\r\n    \r\n            public OperationBuilder&lt;T&gt; delayInterval(final int delayInterval, final TimeUnit timeUnit) {\r\n                this.iDelayInterval = delayInterval;\r\n                this.iTimeUnit = timeUnit;\r\n                return this;\r\n            }\r\n    \r\n            public OperationBuilder&lt;T&gt; retryPredicate(final RetryPredicate&lt;T&gt; retryPredicate) {\r\n                this.iRetryPredicate = retryPredicate;\r\n                return this;\r\n            }\r\n    \r\n            @SafeVarargs\r\n            public final OperationBuilder&lt;T&gt; retryOn(final Class&lt;? extends Throwable&gt;... exceptionClasses) {\r\n                this.exceptionClasses = exceptionClasses;\r\n                return this;\r\n            }\r\n    \r\n            public RetryOperation&lt;T&gt; build() {\r\n                if (Objects.isNull(iRetryConsumer)) {\r\n                    throw new RuntimeException(&quot;&#39;#retryConsumer:RetryConsumer&lt;T&gt;&#39; not set&quot;);\r\n                }\r\n    \r\n                List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList = new ArrayList&lt;&gt;();\r\n                if (Objects.nonNull(exceptionClasses) &amp;&amp; exceptionClasses.length &gt; 0) {\r\n                    exceptionList = Arrays.asList(exceptionClasses);\r\n                }\r\n                iNoOfRetry = iNoOfRetry == 0 ? 1 : 0;\r\n                iTimeUnit = Objects.isNull(iTimeUnit) ? TimeUnit.MILLISECONDS : iTimeUnit;\r\n                return new RetryOperation&lt;&gt;(iRetryConsumer, iNoOfRetry, iDelayInterval, iTimeUnit, iRetryPredicate, exceptionList);\r\n            }\r\n        }\r\n    \r\n        public static &lt;T&gt; OperationBuilder&lt;T&gt; newBuilder() {\r\n            return new OperationBuilder&lt;&gt;();\r\n        }\r\n    \r\n        private RetryOperation(RetryConsumer&lt;T&gt; retryConsumer, int noOfRetry, int delayInterval, TimeUnit timeUnit,\r\n                               RetryPredicate&lt;T&gt; retryPredicate, List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList) {\r\n            this.retryConsumer = retryConsumer;\r\n            this.noOfRetry = noOfRetry;\r\n            this.delayInterval = delayInterval;\r\n            this.timeUnit = timeUnit;\r\n            this.retryPredicate = retryPredicate;\r\n            this.exceptionList = exceptionList;\r\n        }\r\n    \r\n        public T retry() throws Throwable {\r\n            T result = null;\r\n            int retries = 0;\r\n            while (retries &lt; noOfRetry) {\r\n                try {\r\n                    result = retryConsumer.evaluate();\r\n                    if (Objects.nonNull(retryPredicate)) {\r\n                        boolean shouldItRetry = retryPredicate.shouldRetry(result);\r\n                        if (shouldItRetry) {\r\n                            retries = increaseRetryCountAndSleep(retries);\r\n                        } else {\r\n                            return result;\r\n                        }\r\n                    } else {\r\n                        // no retry condition defined, no exception thrown. This is the desired result.\r\n                        return result;\r\n                    }\r\n                } catch (Throwable e) {\r\n                    retries = handleException(retries, e);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private int handleException(int retries, Throwable e) throws Throwable {\r\n            if (exceptionList.contains(e.getClass()) || (exceptionList.isEmpty())) {\r\n                // exception is excepted, continue retry.\r\n                retries = increaseRetryCountAndSleep(retries);\r\n                if (retries == noOfRetry) {\r\n                    // evaluation is throwing exception, no more retry left. Throw it.\r\n                    throw e;\r\n                }\r\n            } else {\r\n                // unexpected exception, no retry required. Throw it.\r\n                throw e;\r\n            }\r\n            return retries;\r\n        }\r\n    \r\n        private int increaseRetryCountAndSleep(int retries) {\r\n            retries++;\r\n            if (retries &lt; noOfRetry &amp;&amp; delayInterval &gt; 0) {\r\n                try {\r\n                    timeUnit.sleep(delayInterval);\r\n                } catch (InterruptedException ignore) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }\r\n            return retries;\r\n        }\r\n    }\r\n\r\nLet&#39;s have a test case like:\r\n\r\n    @Test\r\n    public void withPredicateAndException() {\r\n        AtomicInteger integer = new AtomicInteger();\r\n        try {\r\n            Integer result = RetryOperation.&lt;Integer&gt;newBuilder()\r\n                    .retryConsumer(() -&gt; {\r\n                        int i = integer.incrementAndGet();\r\n                        if (i % 2 == 1) {\r\n                            throw new NumberFormatException(&quot;Very odd exception&quot;);\r\n                        } else {\r\n                            return i;\r\n                        }\r\n                    })\r\n                    .noOfRetry(10)\r\n                    .delayInterval(10, TimeUnit.MILLISECONDS)\r\n                    .retryPredicate(value -&gt; value &lt;= 6)\r\n                    .retryOn(NumberFormatException.class, EOFException.class)\r\n                    .build()\r\n                    .retry();\r\n            Assert.assertEquals(8, result.intValue());\r\n        } catch (Throwable throwable) {\r\n            Assert.fail();\r\n        }\r\n    }\r\n\r\n","title":"How do you implement a re-try-catch?","body":"<p>This is an old question but a solution is still relevant. Here is my generic solution in Java 8 without using any third party library:</p>\n\n<pre><code>public interface RetryConsumer&lt;T&gt; {\n    T evaluate() throws Throwable;\n}\npublic interface RetryPredicate&lt;T&gt; {\n    boolean shouldRetry(T t);\n}\npublic class RetryOperation&lt;T&gt; {\n    private RetryConsumer&lt;T&gt; retryConsumer;\n    private int noOfRetry;\n    private int delayInterval;\n    private TimeUnit timeUnit;\n    private RetryPredicate&lt;T&gt; retryPredicate;\n    private List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList;\n\n    public static class OperationBuilder&lt;T&gt; {\n        private RetryConsumer&lt;T&gt; iRetryConsumer;\n        private int iNoOfRetry;\n        private int iDelayInterval;\n        private TimeUnit iTimeUnit;\n        private RetryPredicate&lt;T&gt; iRetryPredicate;\n        private Class&lt;? extends Throwable&gt;[] exceptionClasses;\n\n        private OperationBuilder() {\n        }\n\n        public OperationBuilder&lt;T&gt; retryConsumer(final RetryConsumer&lt;T&gt; retryConsumer) {\n            this.iRetryConsumer = retryConsumer;\n            return this;\n        }\n\n        public OperationBuilder&lt;T&gt; noOfRetry(final int noOfRetry) {\n            this.iNoOfRetry = noOfRetry;\n            return this;\n        }\n\n        public OperationBuilder&lt;T&gt; delayInterval(final int delayInterval, final TimeUnit timeUnit) {\n            this.iDelayInterval = delayInterval;\n            this.iTimeUnit = timeUnit;\n            return this;\n        }\n\n        public OperationBuilder&lt;T&gt; retryPredicate(final RetryPredicate&lt;T&gt; retryPredicate) {\n            this.iRetryPredicate = retryPredicate;\n            return this;\n        }\n\n        @SafeVarargs\n        public final OperationBuilder&lt;T&gt; retryOn(final Class&lt;? extends Throwable&gt;... exceptionClasses) {\n            this.exceptionClasses = exceptionClasses;\n            return this;\n        }\n\n        public RetryOperation&lt;T&gt; build() {\n            if (Objects.isNull(iRetryConsumer)) {\n                throw new RuntimeException(\"'#retryConsumer:RetryConsumer&lt;T&gt;' not set\");\n            }\n\n            List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList = new ArrayList&lt;&gt;();\n            if (Objects.nonNull(exceptionClasses) &amp;&amp; exceptionClasses.length &gt; 0) {\n                exceptionList = Arrays.asList(exceptionClasses);\n            }\n            iNoOfRetry = iNoOfRetry == 0 ? 1 : 0;\n            iTimeUnit = Objects.isNull(iTimeUnit) ? TimeUnit.MILLISECONDS : iTimeUnit;\n            return new RetryOperation&lt;&gt;(iRetryConsumer, iNoOfRetry, iDelayInterval, iTimeUnit, iRetryPredicate, exceptionList);\n        }\n    }\n\n    public static &lt;T&gt; OperationBuilder&lt;T&gt; newBuilder() {\n        return new OperationBuilder&lt;&gt;();\n    }\n\n    private RetryOperation(RetryConsumer&lt;T&gt; retryConsumer, int noOfRetry, int delayInterval, TimeUnit timeUnit,\n                           RetryPredicate&lt;T&gt; retryPredicate, List&lt;Class&lt;? extends Throwable&gt;&gt; exceptionList) {\n        this.retryConsumer = retryConsumer;\n        this.noOfRetry = noOfRetry;\n        this.delayInterval = delayInterval;\n        this.timeUnit = timeUnit;\n        this.retryPredicate = retryPredicate;\n        this.exceptionList = exceptionList;\n    }\n\n    public T retry() throws Throwable {\n        T result = null;\n        int retries = 0;\n        while (retries &lt; noOfRetry) {\n            try {\n                result = retryConsumer.evaluate();\n                if (Objects.nonNull(retryPredicate)) {\n                    boolean shouldItRetry = retryPredicate.shouldRetry(result);\n                    if (shouldItRetry) {\n                        retries = increaseRetryCountAndSleep(retries);\n                    } else {\n                        return result;\n                    }\n                } else {\n                    // no retry condition defined, no exception thrown. This is the desired result.\n                    return result;\n                }\n            } catch (Throwable e) {\n                retries = handleException(retries, e);\n            }\n        }\n        return result;\n    }\n\n    private int handleException(int retries, Throwable e) throws Throwable {\n        if (exceptionList.contains(e.getClass()) || (exceptionList.isEmpty())) {\n            // exception is excepted, continue retry.\n            retries = increaseRetryCountAndSleep(retries);\n            if (retries == noOfRetry) {\n                // evaluation is throwing exception, no more retry left. Throw it.\n                throw e;\n            }\n        } else {\n            // unexpected exception, no retry required. Throw it.\n            throw e;\n        }\n        return retries;\n    }\n\n    private int increaseRetryCountAndSleep(int retries) {\n        retries++;\n        if (retries &lt; noOfRetry &amp;&amp; delayInterval &gt; 0) {\n            try {\n                timeUnit.sleep(delayInterval);\n            } catch (InterruptedException ignore) {\n                Thread.currentThread().interrupt();\n            }\n        }\n        return retries;\n    }\n}\n</code></pre>\n\n<p>Let's have a test case like:</p>\n\n<pre><code>@Test\npublic void withPredicateAndException() {\n    AtomicInteger integer = new AtomicInteger();\n    try {\n        Integer result = RetryOperation.&lt;Integer&gt;newBuilder()\n                .retryConsumer(() -&gt; {\n                    int i = integer.incrementAndGet();\n                    if (i % 2 == 1) {\n                        throw new NumberFormatException(\"Very odd exception\");\n                    } else {\n                        return i;\n                    }\n                })\n                .noOfRetry(10)\n                .delayInterval(10, TimeUnit.MILLISECONDS)\n                .retryPredicate(value -&gt; value &lt;= 6)\n                .retryOn(NumberFormatException.class, EOFException.class)\n                .build()\n                .retry();\n        Assert.assertEquals(8, result.intValue());\n    } catch (Throwable throwable) {\n        Assert.fail();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579597260,"creation_date":1579597260,"answer_id":59837426,"question_id":13239972,"body_markdown":"If not all exceptions warrant a retry, only some. And if at least one try has to be made, Here is an alternative utility method:\r\n\r\n```java\r\nvoid runWithRetry(Runnable runnable, Class&lt;Exception&gt; exClass, int maxRetries) {\r\n        Exception err = null;\r\n        do {\r\n            maxRetries--;\r\n            try {\r\n                runnable.run();\r\n                err = null;\r\n            } catch (Exception e) {\r\n                if(exClass.isAssignableFrom(e.getClass())){\r\n                    err = e;\r\n                }else {\r\n                    throw e;\r\n                }\r\n            }\r\n        } while (err != null &amp;&amp; maxRetries &gt; 0);\r\n\r\n        if (err != null) {\r\n            throw err;\r\n        }\r\n    }\r\n```\r\n\r\nUsage:\r\n    \r\n```java\r\n    runWithRetry(() -&gt; {\r\n       // do something\r\n    }, TimeoutException.class, 5)\r\n```","title":"How do you implement a re-try-catch?","body":"<p>If not all exceptions warrant a retry, only some. And if at least one try has to be made, Here is an alternative utility method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void runWithRetry(Runnable runnable, Class&lt;Exception&gt; exClass, int maxRetries) {\n        Exception err = null;\n        do {\n            maxRetries--;\n            try {\n                runnable.run();\n                err = null;\n            } catch (Exception e) {\n                if(exClass.isAssignableFrom(e.getClass())){\n                    err = e;\n                }else {\n                    throw e;\n                }\n            }\n        } while (err != null &amp;&amp; maxRetries &gt; 0);\n\n        if (err != null) {\n            throw err;\n        }\n    }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    runWithRetry(() -&gt; {\n       // do something\n    }, TimeoutException.class, 5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8109300,"reputation":177,"user_id":6109933,"display_name":"NKR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587118621,"creation_date":1587118621,"answer_id":61269174,"question_id":13239972,"body_markdown":"Give it a try using springs @Retryable annotation , the below method will retry for 3 attempts when RuntimeException occurs\r\n\r\n    @Retryable(maxAttempts=3,value= {RuntimeException.class},backoff = @Backoff(delay = 500))\r\n\tpublic void checkSpringRetry(String str) {\r\n\t\tif(StringUtils.equalsIgnoreCase(str, &quot;R&quot;)) {\r\n\t\t\tLOGGER.info(&quot;Inside retry.....!!&quot;);\r\n\t\t\tthrow new RuntimeException();\r\n\t\t}\r\n\t}","title":"How do you implement a re-try-catch?","body":"<p>Give it a try using springs @Retryable annotation , the below method will retry for 3 attempts when RuntimeException occurs</p>\n\n<pre><code>@Retryable(maxAttempts=3,value= {RuntimeException.class},backoff = @Backoff(delay = 500))\npublic void checkSpringRetry(String str) {\n    if(StringUtils.equalsIgnoreCase(str, \"R\")) {\n        LOGGER.info(\"Inside retry.....!!\");\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588046379,"creation_date":1588046379,"answer_id":61472374,"question_id":13239972,"body_markdown":"Below snippet execute some code snippet. If you got any error while executing the code snippet, sleep for M milliseconds and retry. Reference [link][1].\r\n\r\n    public void retryAndExecuteErrorProneCode(int noOfTimesToRetry, CodeSnippet codeSnippet, int sleepTimeInMillis)\r\n      throws InterruptedException {\r\n    \r\n     int currentExecutionCount = 0;\r\n     boolean codeExecuted = false;\r\n    \r\n     while (currentExecutionCount &lt; noOfTimesToRetry) {\r\n      try {\r\n       codeSnippet.errorProneCode();\r\n       System.out.println(&quot;Code executed successfully!!!!&quot;);\r\n       codeExecuted = true;\r\n       break;\r\n      } catch (Exception e) {\r\n       // Retry after 100 milliseconds\r\n       TimeUnit.MILLISECONDS.sleep(sleepTimeInMillis);\r\n       System.out.println(e.getMessage());\r\n      } finally {\r\n       currentExecutionCount++;\r\n      }\r\n     }\r\n    \r\n     if (!codeExecuted)\r\n      throw new RuntimeException(&quot;Can&#39;t execute the code within given retries : &quot; + noOfTimesToRetry);\r\n    }\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2020/04/implement-re-try-catch.html","title":"How do you implement a re-try-catch?","body":"<p>Below snippet execute some code snippet. If you got any error while executing the code snippet, sleep for M milliseconds and retry. Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2020/04/implement-re-try-catch.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<pre><code>public void retryAndExecuteErrorProneCode(int noOfTimesToRetry, CodeSnippet codeSnippet, int sleepTimeInMillis)\n  throws InterruptedException {\n\n int currentExecutionCount = 0;\n boolean codeExecuted = false;\n\n while (currentExecutionCount &lt; noOfTimesToRetry) {\n  try {\n   codeSnippet.errorProneCode();\n   System.out.println(\"Code executed successfully!!!!\");\n   codeExecuted = true;\n   break;\n  } catch (Exception e) {\n   // Retry after 100 milliseconds\n   TimeUnit.MILLISECONDS.sleep(sleepTimeInMillis);\n   System.out.println(e.getMessage());\n  } finally {\n   currentExecutionCount++;\n  }\n }\n\n if (!codeExecuted)\n  throw new RuntimeException(\"Can't execute the code within given retries : \" + noOfTimesToRetry);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590749889,"creation_date":1590749889,"answer_id":62084363,"question_id":13239972,"body_markdown":"Here is my solution similar to some others can wrap a function, but allows you to get the functions return value, if it suceeds.\r\n\r\n```\r\n    /**\r\n     * Wraps a function with retry logic allowing exceptions to be caught and retires made.\r\n     *\r\n     * @param function the function to retry\r\n     * @param maxRetries maximum number of retires before failing\r\n     * @param delay time to wait between each retry\r\n     * @param allowedExceptionTypes exception types where if caught a retry will be performed\r\n     * @param &lt;V&gt; return type of the function\r\n     * @return the value returned by the function if successful\r\n     * @throws Exception Either an unexpected exception from the function or a {@link RuntimeException} if maxRetries is exceeded\r\n     */\r\n    @SafeVarargs\r\n    public static &lt;V&gt; V runWithRetriesAndDelay(Callable&lt;V&gt; function, int maxRetries, Duration delay, Class&lt;? extends Exception&gt;... allowedExceptionTypes) throws Exception {\r\n        final Set&lt;Class&lt;? extends Exception&gt;&gt; exceptions = new HashSet&lt;&gt;(Arrays.asList(allowedExceptionTypes));\r\n        for(int i = 1; i &lt;= maxRetries; i++) {\r\n            try {\r\n                return function.call();\r\n            } catch (Exception e) {\r\n                if(exceptions.contains(e.getClass())){\r\n                    // An exception of an expected type\r\n                    System.out.println(&quot;Attempt [&quot; + i + &quot;/&quot; + maxRetries + &quot;] Caught exception [&quot; + e.getClass() + &quot;]&quot;);\r\n                    // Pause for the delay time\r\n                    Thread.sleep(delay.toMillis());\r\n                }else {\r\n                    // An unexpected exception type\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        throw new RuntimeException(maxRetries + &quot; retries exceeded&quot;);\r\n    }\r\n```","title":"How do you implement a re-try-catch?","body":"<p>Here is my solution similar to some others can wrap a function, but allows you to get the functions return value, if it suceeds.</p>\n\n<pre><code>    /**\n     * Wraps a function with retry logic allowing exceptions to be caught and retires made.\n     *\n     * @param function the function to retry\n     * @param maxRetries maximum number of retires before failing\n     * @param delay time to wait between each retry\n     * @param allowedExceptionTypes exception types where if caught a retry will be performed\n     * @param &lt;V&gt; return type of the function\n     * @return the value returned by the function if successful\n     * @throws Exception Either an unexpected exception from the function or a {@link RuntimeException} if maxRetries is exceeded\n     */\n    @SafeVarargs\n    public static &lt;V&gt; V runWithRetriesAndDelay(Callable&lt;V&gt; function, int maxRetries, Duration delay, Class&lt;? extends Exception&gt;... allowedExceptionTypes) throws Exception {\n        final Set&lt;Class&lt;? extends Exception&gt;&gt; exceptions = new HashSet&lt;&gt;(Arrays.asList(allowedExceptionTypes));\n        for(int i = 1; i &lt;= maxRetries; i++) {\n            try {\n                return function.call();\n            } catch (Exception e) {\n                if(exceptions.contains(e.getClass())){\n                    // An exception of an expected type\n                    System.out.println(\"Attempt [\" + i + \"/\" + maxRetries + \"] Caught exception [\" + e.getClass() + \"]\");\n                    // Pause for the delay time\n                    Thread.sleep(delay.toMillis());\n                }else {\n                    // An unexpected exception type\n                    throw e;\n                }\n            }\n        }\n        throw new RuntimeException(maxRetries + \" retries exceeded\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602438561,"creation_date":1602438561,"answer_id":64307242,"question_id":13239972,"body_markdown":"Simplifying @ach&#39;s previous solution into one file and using functional interfaces.\r\n\r\n    public class OperationHelper {\r\n    \r\n        public static void doWithRetry(int maxAttempts, Runnable operation, Consumer&lt;Exception&gt; handle) {\r\n            for (int count = 0; count &lt; maxAttempts; count++) {\r\n                try {\r\n                    operation.run();\r\n                    count = maxAttempts; //don&#39;t retry\r\n                } catch (Exception e) {\r\n                    handle.accept(e);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How do you implement a re-try-catch?","body":"<p>Simplifying @ach's previous solution into one file and using functional interfaces.</p>\n<pre><code>public class OperationHelper {\n\n    public static void doWithRetry(int maxAttempts, Runnable operation, Consumer&lt;Exception&gt; handle) {\n        for (int count = 0; count &lt; maxAttempts; count++) {\n            try {\n                operation.run();\n                count = maxAttempts; //don't retry\n            } catch (Exception e) {\n                handle.accept(e);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612242580,"creation_date":1612242580,"answer_id":66003946,"question_id":13239972,"body_markdown":"simple \r\n\r\n```\r\nint MAX = 3;\r\n\r\nint count = 0;\r\nwhile (true) {\r\n    try {\r\n        ...\r\n\r\n        break;\r\n    } catch (Exception e) {\r\n        if (count++ &lt; MAX) {\r\n            continue;\r\n        }\r\n\r\n        ...\r\n        \r\n        break;\r\n    }\r\n}\r\n```","title":"How do you implement a re-try-catch?","body":"<p>simple</p>\n<pre><code>int MAX = 3;\n\nint count = 0;\nwhile (true) {\n    try {\n        ...\n\n        break;\n    } catch (Exception e) {\n        if (count++ &lt; MAX) {\n            continue;\n        }\n\n        ...\n        \n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10950862,"reputation":135,"user_id":8047266,"display_name":"Aashutosh Taikar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640200896,"creation_date":1640200485,"answer_id":70454069,"question_id":13239972,"body_markdown":"https://onlinegdb.com/a-7RsL1Gh\r\n\r\n```\r\n    public void doSomething() throws Exception{\r\n      final int MAX_TRIES = 10;\r\n      int count = 0;\r\n      \r\n      while(count++ &lt; MAX_TRIES){\r\n         try{ \r\n            System.out.println(&quot;trying&quot;);\r\n            causeIssue(count); // throws error/exception till count 2\r\n            System.out.println(&quot;trying successful&quot;);\r\n            break; // break on success\r\n         } catch (Exception e){\r\n           System.out.println(&quot;caught, logging Exception:&quot; + count);\r\n         } catch (Error e){\r\n           System.out.println(&quot;caught, logging Error:&quot; + count);\r\n         }\r\n      }\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\ntrying\r\ncaught, logging Error:1\r\ntrying\r\ncaught, logging Error:2\r\ntrying\r\ntrying successful\r\n```","title":"How do you implement a re-try-catch?","body":"<p><a href=\"https://onlinegdb.com/a-7RsL1Gh\" rel=\"nofollow noreferrer\">https://onlinegdb.com/a-7RsL1Gh</a></p>\n<pre><code>    public void doSomething() throws Exception{\n      final int MAX_TRIES = 10;\n      int count = 0;\n      \n      while(count++ &lt; MAX_TRIES){\n         try{ \n            System.out.println(&quot;trying&quot;);\n            causeIssue(count); // throws error/exception till count 2\n            System.out.println(&quot;trying successful&quot;);\n            break; // break on success\n         } catch (Exception e){\n           System.out.println(&quot;caught, logging Exception:&quot; + count);\n         } catch (Error e){\n           System.out.println(&quot;caught, logging Error:&quot; + count);\n         }\n      }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>trying\ncaught, logging Error:1\ntrying\ncaught, logging Error:2\ntrying\ntrying successful\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20340219,"reputation":11,"user_id":14919734,"display_name":"Pradeep Palaniswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651435610,"creation_date":1651435610,"answer_id":72080050,"question_id":13239972,"body_markdown":"This Solution allows you to configure a reusable functionality for retrying  based on certain exception without using any external libraries \r\n\r\n// Create a Function that suits your need . \r\n\r\n    @FunctionalInterface\r\n    public interface ThrowableBiFunction&lt;U,T,R&gt; {\r\n        R apply(U u ,T t) throws Exception;\r\n    }\r\n\r\n\r\n//Here&#39;s the crux of the solution \r\n\r\n\r\n    public interface ExceptionRetryable&lt;T, U, R&gt; {\r\n        \r\n     int getRetries();\r\n       \r\n     List&lt;Class&lt;? extends Exception&gt;&gt; getRetryableExceptions();\r\n    \r\n        default R execute(ThrowableBiFunction&lt;T, U, R&gt; function, T t, U u) throws Exception {\r\n            int numberOfRetries = getRetries();\r\n            return execute(function, t, u, numberOfRetries);\r\n        }\r\n    \r\n        default R execute(ThrowableBiFunction&lt;T, U, R&gt; function, T t, U u, int retryCount) throws Exception {\r\n            try {\r\n                log.info(&quot; Attempting to execute ExceptionRetryable#execute ,Number of remaining retries {} &quot;,retryCount);\r\n                return function.apply(t, u);\r\n            } catch (Exception e) {\r\n    \r\n               log.info(&quot; error occurred in ExceptionRetryable#execute&quot;,e);\r\n                if (retryCount == 0)\r\n                    throw e;\r\n                for (Class exp : getRetryableExceptions()) {\r\n                    if (e.getClass() == exp) {\r\n                       return execute(function, t, u, retryCount - 1);\r\n                    }\r\n                }\r\n                throw e;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n// create an implementation for exception retryable  \r\n\r\n    public class TestRetryable implements ExceptionRetryable&lt;String, String, List&lt;String&gt;&gt; {\r\n        @Override\r\n        public int getRetries() {\r\n            return 10;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Class&lt;? extends Exception&gt;&gt; getRetryableExceptions() {\r\n            return Arrays.asList(new Exception1().getClass(), new Exception2().getClass());\r\n            ;\r\n        }\r\n    }\r\n\r\n// Finally create a ThrowableBiFunction that encapsulates that piece of code that needs to be retried on exception  and an instance of ExceptionRetryable\r\n\r\n     TestRetryable retryable = new TestRetryable();\r\n        ThrowableBiFunction&lt;Integer,Long, String&gt; testRetrablefcn = { i, l -&gt;\r\n               // your code goes here\r\n    };\r\n        Integer i = 0;\r\n        Long l = 1l;\r\n          String output = testRetrablefcn.execute(testRetrablefcn,i,l); \r\n\r\n","title":"How do you implement a re-try-catch?","body":"<p>This Solution allows you to configure a reusable functionality for retrying  based on certain exception without using any external libraries</p>\n<p>// Create a Function that suits your need .</p>\n<pre><code>@FunctionalInterface\npublic interface ThrowableBiFunction&lt;U,T,R&gt; {\n    R apply(U u ,T t) throws Exception;\n}\n</code></pre>\n<p>//Here's the crux of the solution</p>\n<pre><code>public interface ExceptionRetryable&lt;T, U, R&gt; {\n    \n int getRetries();\n   \n List&lt;Class&lt;? extends Exception&gt;&gt; getRetryableExceptions();\n\n    default R execute(ThrowableBiFunction&lt;T, U, R&gt; function, T t, U u) throws Exception {\n        int numberOfRetries = getRetries();\n        return execute(function, t, u, numberOfRetries);\n    }\n\n    default R execute(ThrowableBiFunction&lt;T, U, R&gt; function, T t, U u, int retryCount) throws Exception {\n        try {\n            log.info(&quot; Attempting to execute ExceptionRetryable#execute ,Number of remaining retries {} &quot;,retryCount);\n            return function.apply(t, u);\n        } catch (Exception e) {\n\n           log.info(&quot; error occurred in ExceptionRetryable#execute&quot;,e);\n            if (retryCount == 0)\n                throw e;\n            for (Class exp : getRetryableExceptions()) {\n                if (e.getClass() == exp) {\n                   return execute(function, t, u, retryCount - 1);\n                }\n            }\n            throw e;\n        }\n\n    }\n}\n</code></pre>\n<p>// create an implementation for exception retryable</p>\n<pre><code>public class TestRetryable implements ExceptionRetryable&lt;String, String, List&lt;String&gt;&gt; {\n    @Override\n    public int getRetries() {\n        return 10;\n    }\n\n    @Override\n    public List&lt;Class&lt;? extends Exception&gt;&gt; getRetryableExceptions() {\n        return Arrays.asList(new Exception1().getClass(), new Exception2().getClass());\n        ;\n    }\n}\n</code></pre>\n<p>// Finally create a ThrowableBiFunction that encapsulates that piece of code that needs to be retried on exception  and an instance of ExceptionRetryable</p>\n<pre><code> TestRetryable retryable = new TestRetryable();\n    ThrowableBiFunction&lt;Integer,Long, String&gt; testRetrablefcn = { i, l -&gt;\n           // your code goes here\n};\n    Integer i = 0;\n    Long l = 1l;\n      String output = testRetrablefcn.execute(testRetrablefcn,i,l); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9626046,"reputation":33,"user_id":7145638,"display_name":"Denis Bahlei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655470218,"creation_date":1655470218,"answer_id":72659673,"question_id":13239972,"body_markdown":"Production ready code:\r\n\r\n    @FunctionalInterface\r\n    public interface Operation {\r\n    \r\n        void doCall() throws IOException;\r\n    \r\n        default void handleException(Exception e) {\r\n          //Your custom default implementation     \r\n        }\r\n\r\n\r\n    public class OperationHelper {\r\n        public static void doWithRetry(int maxAttempts, Operation operation) {\r\n    \r\n            for (int count = 0; count &lt;= maxAttempts; count++) {\r\n                try {\r\n                    operation.doCall();\r\n                    return;\r\n                } catch (Exception e) {\r\n                    if (count == maxAttempts) {\r\n                        e.printStackTrace();\r\n                        return;\r\n                    } else {\r\n                        operation.handleException(e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage with default implementation in code:\r\n\r\n    OperationHelper.doWithRetry(10,\r\n    () -&gt; //do your job );\r\n\r\nUsage when custom exception handle is needed:\r\n\r\n    OperationHelper.doWithRetry(10, new Operation() {\r\n        @Override public void doIt() {\r\n            //do some stuff\r\n        }\r\n        @Override public void handleException(Exception cause) {\r\n            //recover from the Exception\r\n        }\r\n    });","title":"How do you implement a re-try-catch?","body":"<p>Production ready code:</p>\n<pre><code>@FunctionalInterface\npublic interface Operation {\n\n    void doCall() throws IOException;\n\n    default void handleException(Exception e) {\n      //Your custom default implementation     \n    }\n\n\npublic class OperationHelper {\n    public static void doWithRetry(int maxAttempts, Operation operation) {\n\n        for (int count = 0; count &lt;= maxAttempts; count++) {\n            try {\n                operation.doCall();\n                return;\n            } catch (Exception e) {\n                if (count == maxAttempts) {\n                    e.printStackTrace();\n                    return;\n                } else {\n                    operation.handleException(e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Usage with default implementation in code:</p>\n<pre><code>OperationHelper.doWithRetry(10,\n() -&gt; //do your job );\n</code></pre>\n<p>Usage when custom exception handle is needed:</p>\n<pre><code>OperationHelper.doWithRetry(10, new Operation() {\n    @Override public void doIt() {\n        //do some stuff\n    }\n    @Override public void handleException(Exception cause) {\n        //recover from the Exception\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":1995288,"reputation":2713,"user_id":1788389,"display_name":"Andres Farias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310592,"favorite_count":0,"down_vote_count":0,"up_vote_count":261,"accepted_answer_id":13239999,"answer_count":29,"score":261,"last_activity_date":1655470218,"creation_date":1352147814,"question_id":13239972,"body_markdown":"Try-catch is meant to help in the exception handling. This means somehow that it will help our system to be more robust: try to recover from an unexpected event. \r\n\r\nWe suspect something might happen when executing and instruction (sending a message), so it gets enclosed in the try. If that something nearly unexpected happens, we can do something: we write the catch. I don&#39;t think we called to just log the exception. I thing the catch block is meant to give us the opportunity of recovering from the error.\r\n\r\nNow, let&#39;s say we recover from the error because we could fix what was wrong. It could be super nice to do a re-try:\r\n\r\n    try{ some_instruction(); }\r\n    catch (NearlyUnexpectedException e){\r\n       fix_the_problem();\r\n       retry;\r\n    }\r\n\r\nThis would quickly fall in the eternal loop, but let&#39;s say that the fix_the_problem returns true, then we retry. Given that there is no such thing in Java, how would YOU solve this problem? What would be your best design code for solving this?\r\n\r\nThis is like a philosophical question, given that I already know what I&#39;m asking for is not directly supported by Java.\r\n","title":"How do you implement a re-try-catch?","body":"<p>Try-catch is meant to help in the exception handling. This means somehow that it will help our system to be more robust: try to recover from an unexpected event. </p>\n\n<p>We suspect something might happen when executing and instruction (sending a message), so it gets enclosed in the try. If that something nearly unexpected happens, we can do something: we write the catch. I don't think we called to just log the exception. I thing the catch block is meant to give us the opportunity of recovering from the error.</p>\n\n<p>Now, let's say we recover from the error because we could fix what was wrong. It could be super nice to do a re-try:</p>\n\n<pre><code>try{ some_instruction(); }\ncatch (NearlyUnexpectedException e){\n   fix_the_problem();\n   retry;\n}\n</code></pre>\n\n<p>This would quickly fall in the eternal loop, but let's say that the fix_the_problem returns true, then we retry. Given that there is no such thing in Java, how would YOU solve this problem? What would be your best design code for solving this?</p>\n\n<p>This is like a philosophical question, given that I already know what I'm asking for is not directly supported by Java.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655287429,"post_id":72629403,"comment_id":128294853,"body_markdown":"Is `/ta/calculateWithPrices` your code? What does it do? Does it have an access right check?","body":"Is <code>&#47;ta&#47;calculateWithPrices</code> your code? What does it do? Does it have an access right check?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1655287933,"post_id":72629403,"comment_id":128295038,"body_markdown":"That is part of the request url which is called.  &quot;/ta&quot; is the domain ,  &quot;/calculateWithPrices&quot; is the  request mapping.","body":"That is part of the request url which is called.  &quot;/ta&quot; is the domain ,  &quot;/calculateWithPrices&quot; is the  request mapping."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1655470237,"post_id":72629403,"comment_id":128346255,"body_markdown":"As this is related to your code: Please post a [mcve] and see [ask].","body":"As this is related to your code: Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":25561391,"reputation":11,"user_id":19343974,"display_name":"shmily001129"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655290906,"creation_date":1655290906,"answer_id":72630198,"question_id":72629403,"body_markdown":"I have seen some people say that&#39;s because 403 server refused the request. It can be understood that you do not have permission to access this website. The server can receive the request but refuse to provide services.","title":"Why is tomcat returning status 403","body":"<p>I have seen some people say that's because 403 server refused the request. It can be understood that you do not have permission to access this website. The server can receive the request but refuse to provide services.</p>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655470121,"creation_date":1655287299,"question_id":72629403,"body_markdown":"I&#39;ve a tomcat 9 server with a Spring boot application. When making a http request I get a 403 response back from Tomcat. But I don&#39;t know how to solve this issue. The only log file which show a 403 is localhost_access_log.2022-06-15.txt. But this doesn&#39;t bring me any further.\r\nWhere else can I look to solve this issue ?\r\n\r\nlocalhost_access_log.2022-06-15.txt\r\n\r\n**&quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5**  :  this is the only indication that a 403 is returned.\r\n\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/index.html?configUrl=/ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 1417\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui.css HTTP/1.1&quot; 200 143753\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui-standalone-preset.js HTTP/1.1&quot; 200 337217\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui-bundle.js HTTP/1.1&quot; 200 1091138\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 254\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/swagger-ui/favicon-32x32.png HTTP/1.1&quot; 200 628\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/v3/api-docs HTTP/1.1&quot; 200 1722\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:23 +0200] &quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/swagger-ui/index.html?configUrl=/ta/v3/api-docs/swagger-config HTTP/1.1&quot; 304 -\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 254\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/v3/api-docs HTTP/1.1&quot; 200 1722\r\n    0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:49:37 +0200] &quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5\r\n\r\n","title":"Why is tomcat returning status 403","body":"<p>I've a tomcat 9 server with a Spring boot application. When making a http request I get a 403 response back from Tomcat. But I don't know how to solve this issue. The only log file which show a 403 is localhost_access_log.2022-06-15.txt. But this doesn't bring me any further.\nWhere else can I look to solve this issue ?</p>\n<p>localhost_access_log.2022-06-15.txt</p>\n<p><strong>&quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5</strong>  :  this is the only indication that a 403 is returned.</p>\n<pre><code>0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/index.html?configUrl=/ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 1417\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui.css HTTP/1.1&quot; 200 143753\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui-standalone-preset.js HTTP/1.1&quot; 200 337217\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:15 +0200] &quot;GET /ta/swagger-ui/swagger-ui-bundle.js HTTP/1.1&quot; 200 1091138\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 254\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/swagger-ui/favicon-32x32.png HTTP/1.1&quot; 200 628\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:16 +0200] &quot;GET /ta/v3/api-docs HTTP/1.1&quot; 200 1722\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:46:23 +0200] &quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/swagger-ui/index.html?configUrl=/ta/v3/api-docs/swagger-config HTTP/1.1&quot; 304 -\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/v3/api-docs/swagger-config HTTP/1.1&quot; 200 254\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:48:49 +0200] &quot;GET /ta/v3/api-docs HTTP/1.1&quot; 200 1722\n0:0:0:0:0:0:0:1 - - [15/Jun/2022:11:49:37 +0200] &quot;POST /ta/calculateWithPrices HTTP/1.1&quot; 403 5\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1655469976,"post_id":72651667,"comment_id":128346176,"body_markdown":"you do not use the @Autowired annotation when you inject the repository, so that might sovle it, since it is a null pointer. You might not have created the bean also for the repository, can you post your repository code too?","body":"you do not use the @Autowired annotation when you inject the repository, so that might sovle it, since it is a null pointer. You might not have created the bean also for the repository, can you post your repository code too?"}],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655469703,"creation_date":1655425832,"answer_id":72653179,"question_id":72651667,"body_markdown":"&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;com.domain.springboot.repositories.MovieRepository.save(Object)&quot;\r\n&gt; because &quot;this.movieRepository&quot; is null\r\n\r\nAbove is perfectly valid if we look at your following shared code.\r\n\r\n    public class MovieImport {\r\n        \r\n        private MovieRepository movieRepository;\r\n        \r\n        public void saveToDb() {\r\n            // Create movie\r\n            com.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(&quot;Iron Man&quot;, &quot;284cb8fgf&quot;);\r\n            this.movieRepository.save(springbootMovie);\r\n        }\r\n    }\r\n\r\nYou&#39;ve to correct certain things in your code base.\r\nFirst you&#39;re not initializing the `movieRepository` and therefore, you&#39;re getting the null pointer exception. As you&#39;ve been using the springboot you can use construction injection to initialized the field by spring container. Also. this class should be scanned by spring and you should also put some annotation such as Component or Service on top of it. \r\n\r\nFollowing will work if your MovieImport and MovieRepository classess will scan by springboot.\r\n\r\n    package com.domain;\r\n    import com.domain.omdbapi.entities.Movie;\r\n    import com.domain.springboot.repositories.MovieRepository;\r\n    \r\n    @Service\r\n    public class MovieImport {\r\n        \r\n        private final MovieRepository movieRepository;\r\n\r\n        public MovieImport(MovieRepository movieRepository){\r\n          this.movieRepository =  movieRepository;\r\n        }\r\n        \r\n        public void saveToDb() {\r\n            // Create movie\r\n            com.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(&quot;Iron Man&quot;, &quot;284cb8fgf&quot;);\r\n            this.movieRepository.save(springbootMovie);\r\n        }\r\n    }\r\n\r\n**Updated**\r\n\r\n    @SpringBootApplication  \r\n    public class InfMApplication implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private MovieImport movieImport;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(InfMApplication.class, args);\r\n        }\r\n        \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n          movieImport.saveToDb();\r\n        }\r\n    \r\n    }","title":"Springboot - Save entity in &#39;normal&#39; class","body":"<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;com.domain.springboot.repositories.MovieRepository.save(Object)&quot;\nbecause &quot;this.movieRepository&quot; is null</p>\n</blockquote>\n<p>Above is perfectly valid if we look at your following shared code.</p>\n<pre><code>public class MovieImport {\n    \n    private MovieRepository movieRepository;\n    \n    public void saveToDb() {\n        // Create movie\n        com.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(&quot;Iron Man&quot;, &quot;284cb8fgf&quot;);\n        this.movieRepository.save(springbootMovie);\n    }\n}\n</code></pre>\n<p>You've to correct certain things in your code base.\nFirst you're not initializing the <code>movieRepository</code> and therefore, you're getting the null pointer exception. As you've been using the springboot you can use construction injection to initialized the field by spring container. Also. this class should be scanned by spring and you should also put some annotation such as Component or Service on top of it.</p>\n<p>Following will work if your MovieImport and MovieRepository classess will scan by springboot.</p>\n<pre><code>package com.domain;\nimport com.domain.omdbapi.entities.Movie;\nimport com.domain.springboot.repositories.MovieRepository;\n\n@Service\npublic class MovieImport {\n    \n    private final MovieRepository movieRepository;\n\n    public MovieImport(MovieRepository movieRepository){\n      this.movieRepository =  movieRepository;\n    }\n    \n    public void saveToDb() {\n        // Create movie\n        com.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(&quot;Iron Man&quot;, &quot;284cb8fgf&quot;);\n        this.movieRepository.save(springbootMovie);\n    }\n}\n</code></pre>\n<p><strong>Updated</strong></p>\n<pre><code>@SpringBootApplication  \npublic class InfMApplication implements CommandLineRunner {\n\n    @Autowired\n    private MovieImport movieImport;\n\n    public static void main(String[] args) {\n        SpringApplication.run(InfMApplication.class, args);\n    }\n    \n    @Override\n    public void run(String... args) throws Exception {\n      movieImport.saveToDb();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13261032,"reputation":11,"user_id":9575596,"display_name":"Luca K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655469703,"creation_date":1655412139,"question_id":72651667,"body_markdown":"I&#39;m pretty new to Springboot and Java in general and because we got this in school I&#39;m fiddeling arround.\r\n\r\nI&#39;m now trying to save an entity outside of the Springboot Entities, Repositories or RestController with the following code:\r\n\r\nInfMApplication.java:\r\n\r\n    package com.domain.springboot;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import com.domain.springboot.repositories.MovieRepository;\r\n    import com.domain.springboot.services.MovieImport;\r\n    \r\n    @SpringBootApplication\r\n    public class InfMApplication {\r\n    \t\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(InfMApplication.class, args);\r\n            MovieImport movieImport = new MovieImport();\r\n            movieImport.saveToDb();\r\n        }\r\n        \r\n    }\r\n\r\nMovieImport.java:\r\n\r\n    package com.domain.springboot.services;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpRequest.BodyPublishers;\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    \r\n    import java.io.*;\r\n    import java.net.URL;\r\n    \r\n    import com.google.gson.Gson;\r\n    \r\n    import com.domain.omdbapi.entities.Movie;\r\n    import com.domain.omdbapi.entities.SearchResponse;\r\n    import com.domain.omdbapi.entities.SearchResult;\r\n    import com.domain.springboot.repositories.ComplexRepository;\r\n    import com.domain.springboot.repositories.DocumentRepository;\r\n    import com.domain.springboot.repositories.MovieRepository;\r\n    import com.domain.springboot.repositories.SimpleRepository;\r\n    \r\n    @Service\r\n    public class MovieImport {\r\n    \t\r\n    \tprivate final MovieRepository movieRepository;\r\n    \t\r\n    \tpublic MovieImport(MovieRepository movieRepository){\r\n    \t      this.movieRepository =  movieRepository;\r\n    \t    }\r\n    \t\r\n    \tpublic void main() {\r\n    \t\tString randomImdbId = fetchRandomMovie();\r\n    \t\tMovie movie = fetchMovieDetails(randomImdbId);\r\n    \t\tsaveToDb(movie);\r\n    \t}\r\n    \t\r\n    \tpublic void saveToDb(Movie movie) {\r\n    \t\tcom.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(movie.Title, movie.imdbID);\r\n    \t\tthis.movieRepository.save(springbootMovie);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String fetchRandomMovie() {\r\n    \t\tString randomWord = getRandomWord();\r\n    \t\tString url = &quot;https://www.omdbapi.com/?apikey=&lt;API_KEY&gt;&amp;type=movie&amp;s=&quot; + randomWord;\r\n    \t\tHttpClient client = HttpClient.newHttpClient();\r\n    \t\t\r\n    \t\tHttpRequest request = HttpRequest.newBuilder(\r\n    \t\t\t\tURI.create(url))\r\n    \t\t\t.header(&quot;accept&quot;, &quot;application/json&quot;)\r\n    \t\t\t.build();\r\n    \t\t\r\n    \t\tHttpResponse&lt;String&gt; response = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tresponse = client.send(request, BodyHandlers.ofString());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\t\r\n    \t\tGson gson = new Gson();\r\n    \t\tSearchResponse searchResponse = gson.fromJson(response.body(), SearchResponse.class);\r\n    \t\t\r\n    \t\tint randomIndex = new Random().nextInt(0, searchResponse.getSearch().length);\r\n    \t\tSearchResult randomResult = searchResponse.getSearch()[randomIndex];\r\n    \t\t\r\n    \t\treturn randomResult.getImdbID();\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Movie fetchMovieDetails(String imdbId) {\r\n    \t\tString url = &quot;https://www.omdbapi.com/?apikey=&lt;API_KEY&gt;&amp;type=movie&amp;plot=full&amp;i=&quot; + imdbId;\r\n    \t\tHttpClient client = HttpClient.newHttpClient();\r\n    \t\t\r\n    \t\tHttpRequest request = HttpRequest.newBuilder(\r\n    \t\t\t\tURI.create(url))\r\n    \t\t\t.header(&quot;accept&quot;, &quot;application/json&quot;)\r\n    \t\t\t.build();\r\n    \t\t\r\n    \t\tHttpResponse&lt;String&gt; response = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tresponse = client.send(request, BodyHandlers.ofString());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\t\r\n    \t\tGson gson = new Gson();\r\n    \t\tMovie movie = gson.fromJson(response.body(), Movie.class);\r\n    \t\t\r\n    \t\treturn movie;\r\n    \t}\r\n    \t\r\n    \tpublic String getRandomWord() {\r\n    \t\tURL resource = getClass().getClassLoader().getResource(&quot;Wordlist.txt&quot;);\r\n    \t\t\r\n    \t\tList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tFile file = new File(resource.toURI());\r\n    \t\t\twords =  Files.readAllLines(file.toPath(), StandardCharsets.UTF_8);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tint randomIndex = new Random().nextInt(0, words.size());\r\n    \t\t\r\n    \t\treturn words.get(randomIndex);\r\n    \t}\r\n    \r\n    }\r\n\r\nIf I use &quot;this.movieRepository.save(movieObject);&quot; to save a movie in the MovieRestController the same way, it works. I also tried adding the &quot;@Autowire&quot; annotation, but this didn&#39;t work.\r\n\r\nI always get the error\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.domain.springboot.repositories.MovieRepository.save(Object)&quot; because &quot;this.movieRepository&quot; is null\r\n\r\nHow can I get to use the movieRepository in other Java classes like in the RestControllers?","title":"Springboot - Save entity in &#39;normal&#39; class","body":"<p>I'm pretty new to Springboot and Java in general and because we got this in school I'm fiddeling arround.</p>\n<p>I'm now trying to save an entity outside of the Springboot Entities, Repositories or RestController with the following code:</p>\n<p>InfMApplication.java:</p>\n<pre><code>package com.domain.springboot;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport com.domain.springboot.repositories.MovieRepository;\nimport com.domain.springboot.services.MovieImport;\n\n@SpringBootApplication\npublic class InfMApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(InfMApplication.class, args);\n        MovieImport movieImport = new MovieImport();\n        movieImport.saveToDb();\n    }\n    \n}\n</code></pre>\n<p>MovieImport.java:</p>\n<pre><code>package com.domain.springboot.services;\n\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpRequest.BodyPublishers;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\nimport java.io.*;\nimport java.net.URL;\n\nimport com.google.gson.Gson;\n\nimport com.domain.omdbapi.entities.Movie;\nimport com.domain.omdbapi.entities.SearchResponse;\nimport com.domain.omdbapi.entities.SearchResult;\nimport com.domain.springboot.repositories.ComplexRepository;\nimport com.domain.springboot.repositories.DocumentRepository;\nimport com.domain.springboot.repositories.MovieRepository;\nimport com.domain.springboot.repositories.SimpleRepository;\n\n@Service\npublic class MovieImport {\n    \n    private final MovieRepository movieRepository;\n    \n    public MovieImport(MovieRepository movieRepository){\n          this.movieRepository =  movieRepository;\n        }\n    \n    public void main() {\n        String randomImdbId = fetchRandomMovie();\n        Movie movie = fetchMovieDetails(randomImdbId);\n        saveToDb(movie);\n    }\n    \n    public void saveToDb(Movie movie) {\n        com.domain.springboot.entities.Movie springbootMovie = new com.domain.springboot.entities.Movie(movie.Title, movie.imdbID);\n        this.movieRepository.save(springbootMovie);\n        \n        \n    }\n    \n    public String fetchRandomMovie() {\n        String randomWord = getRandomWord();\n        String url = &quot;https://www.omdbapi.com/?apikey=&lt;API_KEY&gt;&amp;type=movie&amp;s=&quot; + randomWord;\n        HttpClient client = HttpClient.newHttpClient();\n        \n        HttpRequest request = HttpRequest.newBuilder(\n                URI.create(url))\n            .header(&quot;accept&quot;, &quot;application/json&quot;)\n            .build();\n        \n        HttpResponse&lt;String&gt; response = null;\n\n        try {\n            response = client.send(request, BodyHandlers.ofString());\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        \n        Gson gson = new Gson();\n        SearchResponse searchResponse = gson.fromJson(response.body(), SearchResponse.class);\n        \n        int randomIndex = new Random().nextInt(0, searchResponse.getSearch().length);\n        SearchResult randomResult = searchResponse.getSearch()[randomIndex];\n        \n        return randomResult.getImdbID();\n    }\n    \n    \n    public Movie fetchMovieDetails(String imdbId) {\n        String url = &quot;https://www.omdbapi.com/?apikey=&lt;API_KEY&gt;&amp;type=movie&amp;plot=full&amp;i=&quot; + imdbId;\n        HttpClient client = HttpClient.newHttpClient();\n        \n        HttpRequest request = HttpRequest.newBuilder(\n                URI.create(url))\n            .header(&quot;accept&quot;, &quot;application/json&quot;)\n            .build();\n        \n        HttpResponse&lt;String&gt; response = null;\n\n        try {\n            response = client.send(request, BodyHandlers.ofString());\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        \n        Gson gson = new Gson();\n        Movie movie = gson.fromJson(response.body(), Movie.class);\n        \n        return movie;\n    }\n    \n    public String getRandomWord() {\n        URL resource = getClass().getClassLoader().getResource(&quot;Wordlist.txt&quot;);\n        \n        List&lt;String&gt; words = new ArrayList&lt;&gt;();\n        \n        try {\n            File file = new File(resource.toURI());\n            words =  Files.readAllLines(file.toPath(), StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        int randomIndex = new Random().nextInt(0, words.size());\n        \n        return words.get(randomIndex);\n    }\n\n}\n</code></pre>\n<p>If I use &quot;this.movieRepository.save(movieObject);&quot; to save a movie in the MovieRestController the same way, it works. I also tried adding the &quot;@Autowire&quot; annotation, but this didn't work.</p>\n<p>I always get the error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.domain.springboot.repositories.MovieRepository.save(Object)&quot; because &quot;this.movieRepository&quot; is null\n</code></pre>\n<p>How can I get to use the movieRepository in other Java classes like in the RestControllers?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655469283,"creation_date":1655430005,"answer_id":72653503,"question_id":72653453,"body_markdown":"Actually you already get the value. You can do like this, more apprioriate.\r\n\r\n    databaseReference.child(&quot;color&quot;).addValueEventListener(new ValueEventListener(){\r\n       @Override\r\n       public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n          for(DataSnapshot ds:snapshot.getChildren()){\r\n             final String key= ds.getKey();\r\n             final String pname= ds.getValue(String.class);\r\n             Log.d(&quot;talha5&quot;,pname);\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n           Log.e(&quot;color&quot;,&quot;Error: &quot; + error.getMessage());\r\n       }\r\n    });\r\n\r\n\r\nAlso, you need to handle `onCancelled`. Try to make as best practice.\r\n\r\n\r\nUPDATE:\r\n\r\nIf you have many child. you need to separate them.\r\n\r\n    databaseReference.child(&quot;description&quot;).addValueEventListener(new ValueEventListener(){\r\n       @Override\r\n       public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n          for(DataSnapshot ds:snapshot.getChildren()){\r\n             final String key= ds.getKey();\r\n             final String pname= ds.getValue(String.class);\r\n             Log.d(&quot;description&quot;,pname);\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n           Log.e(&quot;description&quot;,&quot;Error: &quot; + error.getMessage());\r\n       }\r\n    });\r\n\r\nSame goes to the others\r\n\r\n    databaseReference.child(&quot;pic1&quot;).addValueEventListener(new ValueEventListener(){\r\n       @Override\r\n       public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n          for(DataSnapshot ds:snapshot.getChildren()){\r\n             final String key= ds.getKey();\r\n             final String pname= ds.getValue(String.class);\r\n             Log.d(&quot;pic1&quot;,pname);\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n           Log.e(&quot;pic1&quot;,&quot;Error: &quot; + error.getMessage());\r\n       }\r\n    });","title":"How to get key with value given to key in firebase in android?","body":"<p>Actually you already get the value. You can do like this, more apprioriate.</p>\n<pre><code>databaseReference.child(&quot;color&quot;).addValueEventListener(new ValueEventListener(){\n   @Override\n   public void onDataChange(@NonNull DataSnapshot snapshot) {\n      for(DataSnapshot ds:snapshot.getChildren()){\n         final String key= ds.getKey();\n         final String pname= ds.getValue(String.class);\n         Log.d(&quot;talha5&quot;,pname);\n      }\n   }\n\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n       Log.e(&quot;color&quot;,&quot;Error: &quot; + error.getMessage());\n   }\n});\n</code></pre>\n<p>Also, you need to handle <code>onCancelled</code>. Try to make as best practice.</p>\n<p>UPDATE:</p>\n<p>If you have many child. you need to separate them.</p>\n<pre><code>databaseReference.child(&quot;description&quot;).addValueEventListener(new ValueEventListener(){\n   @Override\n   public void onDataChange(@NonNull DataSnapshot snapshot) {\n      for(DataSnapshot ds:snapshot.getChildren()){\n         final String key= ds.getKey();\n         final String pname= ds.getValue(String.class);\n         Log.d(&quot;description&quot;,pname);\n      }\n   }\n\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n       Log.e(&quot;description&quot;,&quot;Error: &quot; + error.getMessage());\n   }\n});\n</code></pre>\n<p>Same goes to the others</p>\n<pre><code>databaseReference.child(&quot;pic1&quot;).addValueEventListener(new ValueEventListener(){\n   @Override\n   public void onDataChange(@NonNull DataSnapshot snapshot) {\n      for(DataSnapshot ds:snapshot.getChildren()){\n         final String key= ds.getKey();\n         final String pname= ds.getValue(String.class);\n         Log.d(&quot;pic1&quot;,pname);\n      }\n   }\n\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n       Log.e(&quot;pic1&quot;,&quot;Error: &quot; + error.getMessage());\n   }\n});\n</code></pre>\n"}],"owner":{"account_id":25528230,"reputation":3,"user_id":19316848,"display_name":"Talha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72653503,"answer_count":1,"score":0,"last_activity_date":1655469283,"creation_date":1655429468,"question_id":72653453,"body_markdown":"Images from the firebase \r\n\r\nimage1:   [image1][1]     \r\nabove image has parent:&quot;products&quot;\r\nand child:&quot;color&quot;,&quot;description&quot;  \r\nimage2:   [image2][2]           \r\nabove image continued image1  \r\n         image3:    [image3][3]    \r\n         above image continued image2         \r\n       image4:   [image4][4]    \r\nabove image continued image3  \r\n\r\nI want to access all the values inside the products\r\nlike products have childs color,description,pic1,pic2,price\r\nand in each child there are multiple values stored I want to access all of them\r\n\r\n  [1]: https://i.stack.imgur.com/9nUEo.png\r\n  [2]: https://i.stack.imgur.com/O3Evm.png\r\n  [3]: https://i.stack.imgur.com/eaKd3.png\r\n  [4]: https://i.stack.imgur.com/StEue.png","title":"How to get key with value given to key in firebase in android?","body":"<p>Images from the firebase</p>\n<p>image1:   <a href=\"https://i.stack.imgur.com/9nUEo.png\" rel=\"nofollow noreferrer\">image1</a><br />\nabove image has parent:&quot;products&quot;\nand child:&quot;color&quot;,&quot;description&quot;<br />\nimage2:   <a href=\"https://i.stack.imgur.com/O3Evm.png\" rel=\"nofollow noreferrer\">image2</a><br />\nabove image continued image1<br />\nimage3:    <a href=\"https://i.stack.imgur.com/eaKd3.png\" rel=\"nofollow noreferrer\">image3</a><br />\nabove image continued image2<br />\nimage4:   <a href=\"https://i.stack.imgur.com/StEue.png\" rel=\"nofollow noreferrer\">image4</a><br />\nabove image continued image3</p>\n<p>I want to access all the values inside the products\nlike products have childs color,description,pic1,pic2,price\nand in each child there are multiple values stored I want to access all of them</p>\n"},{"tags":["java","ms-word","docx","doc"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":0,"creation_date":1396442891,"post_id":22811845,"comment_id":34788717,"body_markdown":"Would a library like [docx4j](http://www.docx4java.org/trac/docx4j) be what you are looking for?  You can check out their [sample code](https://github.com/plutext/docx4j/tree/master/src/samples/docx4j/org/docx4j/samples)","body":"Would a library like <a href=\"http://www.docx4java.org/trac/docx4j\" rel=\"nofollow noreferrer\">docx4j</a> be what you are looking for?  You can check out their <a href=\"https://github.com/plutext/docx4j/tree/master/src/samples/docx4j/org/docx4j/samples\" rel=\"nofollow noreferrer\">sample code</a>"},{"owner":{"account_id":3603662,"reputation":322,"user_id":3006385,"accept_rate":42,"display_name":"Stefan"},"score":0,"creation_date":1396526162,"post_id":22811845,"comment_id":34833494,"body_markdown":"docx4j replace text from docx, my class must replace the value from defined doc or docx variables","body":"docx4j replace text from docx, my class must replace the value from defined doc or docx variables"},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":0,"creation_date":1396527620,"post_id":22811845,"comment_id":34834576,"body_markdown":"[Are you sure?](http://stackoverflow.com/questions/17093781/docx4j-does-not-replace-variables) Have you seen [this example](https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/VariableReplace.java)?","body":"<a href=\"http://stackoverflow.com/questions/17093781/docx4j-does-not-replace-variables\">Are you sure?</a> Have you seen <a href=\"https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/VariableReplace.java\" rel=\"nofollow noreferrer\">this example</a>?"},{"owner":{"account_id":3603662,"reputation":322,"user_id":3006385,"accept_rate":42,"display_name":"Stefan"},"score":0,"creation_date":1396608198,"post_id":22811845,"comment_id":34876035,"body_markdown":"but it doesn&#39;t work on .doc files","body":"but it doesn&#39;t work on .doc files"},{"owner":{"account_id":2264328,"reputation":19945,"user_id":1993501,"accept_rate":83,"display_name":"edi9999"},"score":0,"creation_date":1396801297,"post_id":22811845,"comment_id":34941876,"body_markdown":"I don&#39;t think a library that does both doc and docx with the wanted functionality exists. If you&#39;re language-agnostic, you could have a look at https://github.com/edi9999/docxtemplater which does exactly what you do, and can be used in command line: https://github.com/edi9999/docxtemplater#node-global-installation","body":"I don&#39;t think a library that does both doc and docx with the wanted functionality exists. If you&#39;re language-agnostic, you could have a look at <a href=\"https://github.com/edi9999/docxtemplater\" rel=\"nofollow noreferrer\">github.com/edi9999/docxtemplater</a> which does exactly what you do, and can be used in command line: <a href=\"https://github.com/edi9999/docxtemplater#node-global-installation\" rel=\"nofollow noreferrer\">github.com/edi9999/docxtemplater#node-global-installation</a>"}],"answers":[{"tags":[],"owner":{"account_id":3373639,"reputation":13220,"user_id":2832282,"accept_rate":71,"display_name":"Cyril Duchon-Doris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404646608,"creation_date":1404646608,"answer_id":24595401,"question_id":22811845,"body_markdown":"I am responsible for a Play! intranet that generates word documents using templates that have a .docx extension. To achieve this, we have the following inheritance tree : Document &gt; Word &gt; [someDocument]\r\n\r\nThe abstract class Word handles replacing variables in Word documents\r\n\r\n    public abstract class Word extends Document {\r\n    \tpublic static JAXBContext context = org.docx4j.jaxb.Context.jc;\r\n    \r\n    \tpublic Word(String inputfilepath){\r\n    \t\tsuper(inputfilepath);\r\n    \t}\r\n    \t\r\n    \tpublic String generer(String outputfilepath) throws Exception {\r\n    \r\n    \t\t//String inputfilepath = System.getProperty(&quot;user.dir&quot;)+&quot;/app/doc/adhesionTemplate.docx&quot;;\r\n    \r\n    \t\t//String outputfilepath = System.getProperty(&quot;user.dir&quot;)+ &quot;/test-out.docx&quot;;\r\n    \r\n    \t\t// Open a document from the file system\r\n    \t\t// 1. Load the Package\r\n    \t\tWordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new java.io.File(inputfilepath));\r\n    \r\n    \t\t// 2. Fetch the document part\r\n    \t\tMainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n    \t\t\r\n    \t\torg.docx4j.wml.Document wmlDocumentEl = (org.docx4j.wml.Document) documentPart.getJaxbElement();\r\n    \r\n    \t\t// xml --&gt; string\r\n    \t\tString xml = XmlUtils.marshaltoString(wmlDocumentEl, true);\r\n    \r\n    \t\t//Change the variables using an abstract function getMapping()\r\n    \t\tHashMap&lt;String, String&gt; mappings = getMapping();\r\n    \r\n    \t\tObject obj = XmlUtils.unmarshallFromTemplate(xml, mappings);\r\n    \r\n    \t\t// change JaxbElement\r\n    \t\tdocumentPart.setJaxbElement((org.docx4j.wml.Document) obj);\r\n    \t\t\r\n    \t\t//Footers : \r\n    \t\tList&lt;SectionWrapper&gt; wrappers = wordMLPackage.getDocumentModel().getSections();\r\n    \t\tfor (SectionWrapper sw : wrappers) {\r\n    \t\t\tFooterPart footer = sw.getHeaderFooterPolicy().getDefaultFooter();\r\n    \t\t\tif (footer != null) {\r\n    \t\t\t\tFtr footerDoc = footer.getJaxbElement();\r\n    \t\t\t\tString footerXml = XmlUtils.marshaltoString(footerDoc, true);\r\n    \t\t\t\tObject footerObj = XmlUtils.unmarshallFromTemplate(footerXml, mappings);\r\n    \t\t\t\tfooter.setJaxbElement( (Ftr) footerObj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Save it\r\n    \t\tSaveToZipFile saver = new SaveToZipFile(wordMLPackage);\r\n    \t\tsaver.save(outputfilepath);\r\n    \t\tConsole.commande(&quot;sudo chmod 660 \\&quot;&quot; + outputfilepath + &quot;\\&quot;&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;Saved output to:&quot; + outputfilepath);\r\n    \t\t\r\n    \t\treturn outputfilepath;\r\n    \r\n    \t}\r\n\r\nThen, we have classes that inherit from this Word abstract class: \r\n\r\n    public class FAC extends Word {\r\n    \t\r\n    \tpublic FAC() {\r\n    \t\tsuper(System.getProperty(&quot;user.dir&quot;) + &quot;/templates/Facture.docx&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic HashMap&lt;String, String&gt; getMapping() {\r\n    \r\n            //Preparing variables\r\n    \t\tint price = blablabla;\r\n    \r\n    \t\tHashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \r\n    \t\tmap.put(&quot;FACDate&quot;, Utils.dateConvert(new Date()));\r\n    \t\tmap.put(&quot;somePrice&quot;, String.valueOf(price));\r\n    \r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    }\r\n\r\nNote : the &quot;Document&quot; superclass has nothing special, just a variable &quot;inputFilePath&quot;, and the abstract method getMapping()\r\n\r\nHope this help, either you or future viewers like me :P","title":"pass values from java variables to microsoft word (doc and docx) variables","body":"<p>I am responsible for a Play! intranet that generates word documents using templates that have a .docx extension. To achieve this, we have the following inheritance tree : Document > Word > [someDocument]</p>\n\n<p>The abstract class Word handles replacing variables in Word documents</p>\n\n<pre><code>public abstract class Word extends Document {\n    public static JAXBContext context = org.docx4j.jaxb.Context.jc;\n\n    public Word(String inputfilepath){\n        super(inputfilepath);\n    }\n\n    public String generer(String outputfilepath) throws Exception {\n\n        //String inputfilepath = System.getProperty(\"user.dir\")+\"/app/doc/adhesionTemplate.docx\";\n\n        //String outputfilepath = System.getProperty(\"user.dir\")+ \"/test-out.docx\";\n\n        // Open a document from the file system\n        // 1. Load the Package\n        WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new java.io.File(inputfilepath));\n\n        // 2. Fetch the document part\n        MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n\n        org.docx4j.wml.Document wmlDocumentEl = (org.docx4j.wml.Document) documentPart.getJaxbElement();\n\n        // xml --&gt; string\n        String xml = XmlUtils.marshaltoString(wmlDocumentEl, true);\n\n        //Change the variables using an abstract function getMapping()\n        HashMap&lt;String, String&gt; mappings = getMapping();\n\n        Object obj = XmlUtils.unmarshallFromTemplate(xml, mappings);\n\n        // change JaxbElement\n        documentPart.setJaxbElement((org.docx4j.wml.Document) obj);\n\n        //Footers : \n        List&lt;SectionWrapper&gt; wrappers = wordMLPackage.getDocumentModel().getSections();\n        for (SectionWrapper sw : wrappers) {\n            FooterPart footer = sw.getHeaderFooterPolicy().getDefaultFooter();\n            if (footer != null) {\n                Ftr footerDoc = footer.getJaxbElement();\n                String footerXml = XmlUtils.marshaltoString(footerDoc, true);\n                Object footerObj = XmlUtils.unmarshallFromTemplate(footerXml, mappings);\n                footer.setJaxbElement( (Ftr) footerObj);\n            }\n        }\n\n        // Save it\n        SaveToZipFile saver = new SaveToZipFile(wordMLPackage);\n        saver.save(outputfilepath);\n        Console.commande(\"sudo chmod 660 \\\"\" + outputfilepath + \"\\\"\");\n\n        System.out.println(\"Saved output to:\" + outputfilepath);\n\n        return outputfilepath;\n\n    }\n</code></pre>\n\n<p>Then, we have classes that inherit from this Word abstract class: </p>\n\n<pre><code>public class FAC extends Word {\n\n    public FAC() {\n        super(System.getProperty(\"user.dir\") + \"/templates/Facture.docx\");\n    }\n\n    @Override\n    public HashMap&lt;String, String&gt; getMapping() {\n\n        //Preparing variables\n        int price = blablabla;\n\n        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"FACDate\", Utils.dateConvert(new Date()));\n        map.put(\"somePrice\", String.valueOf(price));\n\n\n        return map;\n    }\n}\n</code></pre>\n\n<p>Note : the \"Document\" superclass has nothing special, just a variable \"inputFilePath\", and the abstract method getMapping()</p>\n\n<p>Hope this help, either you or future viewers like me :P</p>\n"},{"tags":[],"owner":{"account_id":3282441,"reputation":763,"user_id":2762716,"display_name":"Alexander Davliatov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491952045,"creation_date":1491952045,"answer_id":43357631,"question_id":22811845,"body_markdown":"I use docx4j for that purpose:\r\n\r\n            String inputfilepath = &quot;binding-simple1.docx&quot;;\r\n            String outputfilepath = &quot;OUT_VariableReplace.docx&quot;;\r\n    \r\n            WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage\r\n                    .load(new java.io.File(inputfilepath));\r\n            MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n    \r\n            HashMap&lt;String, String&gt; mappings = new HashMap&lt;String, String&gt;();\r\n            mappings.put(&quot;subjectId&quot;, &quot;E000001&quot;);\r\n            \r\n            // Approach 1 (from 3.0.0; faster if you haven&#39;t yet caused unmarshalling to occur):\r\n    \r\n            documentPart.variableReplace(mappings);\r\n            Docx4J.save(wordMLPackage, new File(outputfilepath));\r\n\r\nVariable param as the following: `${subjectId}`","title":"pass values from java variables to microsoft word (doc and docx) variables","body":"<p>I use docx4j for that purpose:</p>\n\n<pre><code>        String inputfilepath = \"binding-simple1.docx\";\n        String outputfilepath = \"OUT_VariableReplace.docx\";\n\n        WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage\n                .load(new java.io.File(inputfilepath));\n        MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n\n        HashMap&lt;String, String&gt; mappings = new HashMap&lt;String, String&gt;();\n        mappings.put(\"subjectId\", \"E000001\");\n\n        // Approach 1 (from 3.0.0; faster if you haven't yet caused unmarshalling to occur):\n\n        documentPart.variableReplace(mappings);\n        Docx4J.save(wordMLPackage, new File(outputfilepath));\n</code></pre>\n\n<p>Variable param as the following: <code>${subjectId}</code></p>\n"}],"owner":{"account_id":3603662,"reputation":322,"user_id":3006385,"accept_rate":42,"display_name":"Stefan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655469205,"creation_date":1396442513,"question_id":22811845,"body_markdown":"How can i replace a microsoft word document variable value with a value from a java variable ? I have a .doc or .docx file template in which i have defined some variables. \r\n\r\nWhen user click on download button from my app the .doc or .docx variables must get the value from java variables. ","title":"pass values from java variables to microsoft word (doc and docx) variables","body":"<p>How can i replace a microsoft word document variable value with a value from a java variable ? I have a .doc or .docx file template in which i have defined some variables. </p>\n\n<p>When user click on download button from my app the .doc or .docx variables must get the value from java variables. </p>\n"},{"tags":["java","project-reactor","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655469079,"creation_date":1655469079,"answer_id":72659442,"question_id":72656723,"body_markdown":"You can use `InsecureTrustManagerFactory.INSTANCE` for testing purposes. It is strongly discouraged to use this in **production**.\r\n\r\n    HttpClient client = HttpClient.create(connectionProvider);\r\n    if (isUseTLS) {\r\n        Http11SslContextSpec http11SslContextSpec = \t\t\r\n\t\t\t\tHttp11SslContextSpec.forClient()\r\n\t\t\t\t                    .configure(builder -&gt; builder.trustManager(InsecureTrustManagerFactory.INSTANCE));\r\n        client = client.secure(spec -&gt; {\r\n                spec.sslContext(http11SslContextSpec);\r\n        });\r\n    }","title":"How to config reactor.netty.http.client.HttpClient to accept a self-signed cergificate?","body":"<p>You can use <code>InsecureTrustManagerFactory.INSTANCE</code> for testing purposes. It is strongly discouraged to use this in <strong>production</strong>.</p>\n<pre><code>HttpClient client = HttpClient.create(connectionProvider);\nif (isUseTLS) {\n    Http11SslContextSpec http11SslContextSpec =         \n            Http11SslContextSpec.forClient()\n                                .configure(builder -&gt; builder.trustManager(InsecureTrustManagerFactory.INSTANCE));\n    client = client.secure(spec -&gt; {\n            spec.sslContext(http11SslContextSpec);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":25578390,"reputation":1,"user_id":19357396,"display_name":"wqliang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655469079,"creation_date":1655456002,"question_id":72656723,"body_markdown":"I have a server providing serval services by https. When I request these services with `reactor.netty.http.client.HttpClient`, I got an exception and the stack trace shown as following:\r\n```\r\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\r\n        at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1895)\r\n        at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:822)\r\n        at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\r\n        at io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1040)\r\n        at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:926)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\r\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\r\n        at sun.security.validator.Validator.validate(Validator.java:260)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:281)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\r\n        ... 36 more\r\n```\r\n\r\nI config the HttpClient as the following code\r\n```\r\nHttpClient client = HttpClient.create(connectionProvider);\r\nif (isUseTLS) {\r\n    Http11SslContextSpec http11SslContextSpec = Http11SslContextSpec.forClient();\r\n    client = client.secure(spec -&gt; {\r\n                spec.sslContext(http11SslContextSpec);\r\n    });\r\n}\r\n```\r\n\r\nCan I config HttpClient to accept self-signed certificate by code?  \r\nMaybe I can import cergificate into keystore by using keytool to work around, but is it possiable to solve it by coding?","title":"How to config reactor.netty.http.client.HttpClient to accept a self-signed cergificate?","body":"<p>I have a server providing serval services by https. When I request these services with <code>reactor.netty.http.client.HttpClient</code>, I got an exception and the stack trace shown as following:</p>\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\n        at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1895)\n        at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:822)\n        at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\n        at io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1040)\n        at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:926)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\n        at sun.security.validator.Validator.validate(Validator.java:260)\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:281)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\n        ... 36 more\n</code></pre>\n<p>I config the HttpClient as the following code</p>\n<pre><code>HttpClient client = HttpClient.create(connectionProvider);\nif (isUseTLS) {\n    Http11SslContextSpec http11SslContextSpec = Http11SslContextSpec.forClient();\n    client = client.secure(spec -&gt; {\n                spec.sslContext(http11SslContextSpec);\n    });\n}\n</code></pre>\n<p>Can I config HttpClient to accept self-signed certificate by code?<br />\nMaybe I can import cergificate into keystore by using keytool to work around, but is it possiable to solve it by coding?</p>\n"},{"tags":["java","sql","jexl"],"answers":[{"tags":[],"owner":{"account_id":11845668,"reputation":187,"user_id":8668250,"display_name":"henrib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655469062,"creation_date":1655469062,"answer_id":72659439,"question_id":72619945,"body_markdown":"Modifying the JEXL syntax and interpreter to turn into a SQL one seems overly complicated; you would have to start with the grammar in [parser.jjt ][1] but I&#39;d advise against such an endeavour. \r\n\r\n\r\n  [1]: https://github.com/apache/commons-jexl/blob/master/src/main/java/org/apache/commons/jexl3/parser/Parser.jjt","title":"Override assigns &amp; IN operator behaviour in JEXL3","body":"<p>Modifying the JEXL syntax and interpreter to turn into a SQL one seems overly complicated; you would have to start with the grammar in <a href=\"https://github.com/apache/commons-jexl/blob/master/src/main/java/org/apache/commons/jexl3/parser/Parser.jjt\" rel=\"nofollow noreferrer\">parser.jjt </a> but I'd advise against such an endeavour.</p>\n"}],"owner":{"account_id":195039,"reputation":6156,"user_id":437703,"accept_rate":67,"display_name":"100rabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655469062,"creation_date":1655221792,"question_id":72619945,"body_markdown":"I am trying to \r\n\r\n1. Override assign operator(`=`) in JEXL3 with equals functionality to make it support SQL like statements to support below statement:\r\n\r\n`WHERE A=B`\r\n\r\n2. And SQL like IN operator support in JEXL3 so that it should support below statements:\r\n\r\n`WHERE column_name IN (value1, value2, ...)`\r\n\r\n\r\nWhat classes I need to override to make it work. Any help will be appreciated?\r\n","title":"Override assigns &amp; IN operator behaviour in JEXL3","body":"<p>I am trying to</p>\n<ol>\n<li>Override assign operator(<code>=</code>) in JEXL3 with equals functionality to make it support SQL like statements to support below statement:</li>\n</ol>\n<p><code>WHERE A=B</code></p>\n<ol start=\"2\">\n<li>And SQL like IN operator support in JEXL3 so that it should support below statements:</li>\n</ol>\n<p><code>WHERE column_name IN (value1, value2, ...)</code></p>\n<p>What classes I need to override to make it work. Any help will be appreciated?</p>\n"},{"tags":["java","spring","apache-kafka","apache-kafka-streams","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1463205,"reputation":501,"user_id":1376906,"accept_rate":71,"display_name":"fachexot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655469000,"creation_date":1655469000,"answer_id":72659422,"question_id":72659302,"body_markdown":"Actually right after posting the question I found out the/one solution/workaround myself. So here it is for future help:\r\n\r\nApparently, I am not allowed to multiplex input topics when my processor topology expects a `KTable` as input type. When I change the processor signature to `KStream`, it suddenly works:\r\n\r\nNot working:\r\n\r\n```java\r\n@Bean\r\npublic Function&lt;KTable&lt;String, Object&gt;, KStream&lt;String, Object&gt;&gt; process() {\r\n  return stringObjectKTable -&gt;\r\n    stringObjectKTable\r\n      .mapValues(...\r\n```\r\n\r\nWorking:\r\n\r\n```java\r\n@Bean\r\npublic Function&lt;KStream&lt;String, Object&gt;, KStream&lt;String, Object&gt;&gt; process() {\r\n  return stringObjectKStream -&gt;\r\n    stringObjectKStream \r\n      .toTable()\r\n      .mapValues(...\r\n```\r\n\r\nI am not sure, if this is expected behaviour or if there is something else wrong, so I appreciate any hints, if there is more underlying.","title":"How to solve InvalidTopicException with multiplexed input topics in Spring Cloud Stream Kafka Streams Binder?","body":"<p>Actually right after posting the question I found out the/one solution/workaround myself. So here it is for future help:</p>\n<p>Apparently, I am not allowed to multiplex input topics when my processor topology expects a <code>KTable</code> as input type. When I change the processor signature to <code>KStream</code>, it suddenly works:</p>\n<p>Not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Function&lt;KTable&lt;String, Object&gt;, KStream&lt;String, Object&gt;&gt; process() {\n  return stringObjectKTable -&gt;\n    stringObjectKTable\n      .mapValues(...\n</code></pre>\n<p>Working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Function&lt;KStream&lt;String, Object&gt;, KStream&lt;String, Object&gt;&gt; process() {\n  return stringObjectKStream -&gt;\n    stringObjectKStream \n      .toTable()\n      .mapValues(...\n</code></pre>\n<p>I am not sure, if this is expected behaviour or if there is something else wrong, so I appreciate any hints, if there is more underlying.</p>\n"}],"owner":{"account_id":1463205,"reputation":501,"user_id":1376906,"accept_rate":71,"display_name":"fachexot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72659422,"answer_count":1,"score":0,"last_activity_date":1655469000,"creation_date":1655468397,"question_id":72659302,"body_markdown":"I wrote a Spring Cloud Streams Kafka Streams Binder application that has multiple Kafka input topics multiplexed to one stream with:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    stream:\r\n      bindings:\r\n        process-in-0:\r\n          destination: test.topic-a,test.topic-b\r\n```\r\n\r\n(Source: https://spring.io/blog/2019/12/03/stream-processing-with-spring-cloud-stream-and-apache-kafka-streams-part-2-programming-model-continued)\r\n\r\nBut whenever I set up more than one topic in the input destination (separated by comma), the  following error occurs:\r\n\r\n```sh\r\n2022-06-17 14:07:07.648  INFO --- [-StreamThread-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Subscribed to topic(s): test-processor-KTABLE-AGGREGATE-STATE-STORE-0000000005-repartition, test.topic-a,test.topic-b  \r\n2022-06-17 14:07:07.660  WARN --- [-StreamThread-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Error while fetching metadata with correlation id 2 : {test-processor-KTABLE-AGGREGATE-STATE-STORE-0000000005-repartition=UNKNOWN_TOPIC_OR_PARTITION, test.topic-a,test.topic-b=INVALID_TOPIC_EXCEPTION}  \r\n2022-06-17 14:07:07.660 ERROR --- [-StreamThread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Metadata response reported invalid topics [test.topic-a,test.topic-b]  \r\n2022-06-17 14:07:07.660  INFO --- [-StreamThread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Cluster ID: XYZ \r\n2022-06-17 14:07:07.663 ERROR --- [-StreamThread-1] org.apache.kafka.streams.KafkaStreams    : stream-client [test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549] Encountered the following exception during processing and Kafka Streams opted to SHUTDOWN_CLIENT. The streams client is going to shut down now.   \r\n\r\norg.apache.kafka.streams.errors.StreamsException: org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [test.topic-a,test.topic-b]\r\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:627) ~[kafka-streams-3.2.0.jar:na]\r\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:551) ~[kafka-streams-3.2.0.jar:na]\r\nCaused by: org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [test.topic-a,test.topic-b]\r\n```\r\n\r\nI tried with the following dependencies:\r\n\r\n```gradle\r\nimplementation &#39;org.apache.kafka:kafka-clients:3.2.0&#39;\r\nimplementation &#39;org.apache.kafka:kafka-streams:3.2.0&#39;\r\nimplementation &quot;org.springframework.cloud:spring-cloud-stream&quot;\r\nimplementation &quot;org.springframework.cloud:spring-cloud-stream-binder-kafka&quot;\r\nimplementation &quot;org.springframework.cloud:spring-cloud-stream-binder-kafka-streams&quot;\r\nimplementation &quot;org.springframework.kafka:spring-kafka&quot;\r\n```\r\n\r\nWhen I only set one input topic, everything works fine.\r\n\r\nI am not able to determine what causes the InvalidTopicException, because I only use permitted characters in topic names and also the comma separator seems correct (else different exceptions occur).\r\n\r\n","title":"How to solve InvalidTopicException with multiplexed input topics in Spring Cloud Stream Kafka Streams Binder?","body":"<p>I wrote a Spring Cloud Streams Kafka Streams Binder application that has multiple Kafka input topics multiplexed to one stream with:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    stream:\n      bindings:\n        process-in-0:\n          destination: test.topic-a,test.topic-b\n</code></pre>\n<p>(Source: <a href=\"https://spring.io/blog/2019/12/03/stream-processing-with-spring-cloud-stream-and-apache-kafka-streams-part-2-programming-model-continued\" rel=\"nofollow noreferrer\">https://spring.io/blog/2019/12/03/stream-processing-with-spring-cloud-stream-and-apache-kafka-streams-part-2-programming-model-continued</a>)</p>\n<p>But whenever I set up more than one topic in the input destination (separated by comma), the  following error occurs:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-06-17 14:07:07.648  INFO --- [-StreamThread-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Subscribed to topic(s): test-processor-KTABLE-AGGREGATE-STATE-STORE-0000000005-repartition, test.topic-a,test.topic-b  \n2022-06-17 14:07:07.660  WARN --- [-StreamThread-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Error while fetching metadata with correlation id 2 : {test-processor-KTABLE-AGGREGATE-STATE-STORE-0000000005-repartition=UNKNOWN_TOPIC_OR_PARTITION, test.topic-a,test.topic-b=INVALID_TOPIC_EXCEPTION}  \n2022-06-17 14:07:07.660 ERROR --- [-StreamThread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Metadata response reported invalid topics [test.topic-a,test.topic-b]  \n2022-06-17 14:07:07.660  INFO --- [-StreamThread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549-StreamThread-1-consumer, groupId=test-processor] Cluster ID: XYZ \n2022-06-17 14:07:07.663 ERROR --- [-StreamThread-1] org.apache.kafka.streams.KafkaStreams    : stream-client [test-processor-2ba8d1d3-5bbe-45d3-a832-6a24cf2f5549] Encountered the following exception during processing and Kafka Streams opted to SHUTDOWN_CLIENT. The streams client is going to shut down now.   \n\norg.apache.kafka.streams.errors.StreamsException: org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [test.topic-a,test.topic-b]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:627) ~[kafka-streams-3.2.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:551) ~[kafka-streams-3.2.0.jar:na]\nCaused by: org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [test.topic-a,test.topic-b]\n</code></pre>\n<p>I tried with the following dependencies:</p>\n<pre><code>implementation 'org.apache.kafka:kafka-clients:3.2.0'\nimplementation 'org.apache.kafka:kafka-streams:3.2.0'\nimplementation &quot;org.springframework.cloud:spring-cloud-stream&quot;\nimplementation &quot;org.springframework.cloud:spring-cloud-stream-binder-kafka&quot;\nimplementation &quot;org.springframework.cloud:spring-cloud-stream-binder-kafka-streams&quot;\nimplementation &quot;org.springframework.kafka:spring-kafka&quot;\n</code></pre>\n<p>When I only set one input topic, everything works fine.</p>\n<p>I am not able to determine what causes the InvalidTopicException, because I only use permitted characters in topic names and also the comma separator seems correct (else different exceptions occur).</p>\n"},{"tags":["java","generics","lambda"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655469166,"post_id":72659256,"comment_id":128345906,"body_markdown":"Have a `#setCellValue(Cell, VirtualNode)` method within your `Neo4jExcelDataTypeMapping` class, which can write the data accordingly without having to guess the type. I would also avoid `public` fields, though you _may_ be safe in this instance if those fields are immutable (since they&#39;re also `final`), it still would require you to keep those public fields in the long-term.","body":"Have a <code>#setCellValue(Cell, VirtualNode)</code> method within your <code>Neo4jExcelDataTypeMapping</code> class, which can write the data accordingly without having to guess the type. I would also avoid <code>public</code> fields, though you <i>may</i> be safe in this instance if those fields are immutable (since they&#39;re also <code>final</code>), it still would require you to keep those public fields in the long-term."},{"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"score":0,"creation_date":1655470190,"post_id":72659256,"comment_id":128346237,"body_markdown":"I just wrote a workaround where I&#39;m added the Cell as a parameter to the excelWriter() lambda. This works, but I&#39;m not a fan. Passing both the Cell and the VirtualNode is a nice idea; it makes the operation more symmetrical in a way, except then I also need the property name to access the property from the node. A Node represents a whole Row.\n\nI&#39;ve also tried giving the enum a generic type argument, but that&#39;s not allowed in Java. Could I do this in a class?","body":"I just wrote a workaround where I&#39;m added the Cell as a parameter to the excelWriter() lambda. This works, but I&#39;m not a fan. Passing both the Cell and the VirtualNode is a nice idea; it makes the operation more symmetrical in a way, except then I also need the property name to access the property from the node. A Node represents a whole Row.  I&#39;ve also tried giving the enum a generic type argument, but that&#39;s not allowed in Java. Could I do this in a class?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1655470596,"post_id":72659256,"comment_id":128346377,"body_markdown":"There&#39;s no such concept as *Union type* in Java because it doesn&#39;t make sense without dynamic typing (Java is statically typed). For the same reason, using `Object` as a type doesn&#39;t give any advantage in Java, conversely it impairs the code by forcing you to use `instanceof` checks and casting (it&#39;s not a good practice in Java). You can&#39;t use the full power of a language by trying to reproduce your experience in another language. In Java we have a concept of [*generics*](https://docs.oracle.com/javase/tutorial/java/generics/index.html), try to use them in place of Object: `T writeValue(T t);`","body":"There&#39;s no such concept as <i>Union type</i> in Java because it doesn&#39;t make sense without dynamic typing (Java is statically typed). For the same reason, using <code>Object</code> as a type doesn&#39;t give any advantage in Java, conversely it impairs the code by forcing you to use <code>instanceof</code> checks and casting (it&#39;s not a good practice in Java). You can&#39;t use the full power of a language by trying to reproduce your experience in another language. In Java we have a concept of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\"><i>generics</i></a>, try to use them in place of Object: <code>T writeValue(T t);</code>"},{"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"score":0,"creation_date":1655474584,"post_id":72659256,"comment_id":128347744,"body_markdown":"@AlexanderIvanchenko I&#39;ve been trying to use generics, but that doesn&#39;t seem to be allowed in either enums or lambdas. I&#39;d love to give each enum instance the type it&#39;s meant to support, but either it&#39;s not allowed, or I&#39;m doing it wrong.","body":"@AlexanderIvanchenko I&#39;ve been trying to use generics, but that doesn&#39;t seem to be allowed in either enums or lambdas. I&#39;d love to give each enum instance the type it&#39;s meant to support, but either it&#39;s not allowed, or I&#39;m doing it wrong."}],"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655468219,"creation_date":1655468219,"question_id":72659256,"body_markdown":"I&#39;m returning to Java after having been away for a very, very long time, and I&#39;m trying to do in Java the sort of thing that I&#39;ve often done in Javascript or Typescript. But I can&#39;t figure it out.\r\n\r\nI&#39;m trying to create a mapping between two different systems to easily map types and copy values from one system to the other. The systems are Neo4j and Excel, although my question doesn&#39;t really have anything to do with either of those. Basically the idea is that users can export data from Neo4j to an Excel sheet, edit values there, and then import it again. (I know! It&#39;s a terrible idea! But they really want it and we can blame them if they mess up.)\r\n\r\nStill, at the very least I&#39;d like them to not change the types of data in neo4j properties, so I&#39;m building a fairly strict mapping:\r\n\r\n    public enum Neo4jExcelDataTypeMapping {\r\n      STRING(&quot;String&quot;, cell -&gt; cell.getStringCellValue()),\r\n      INTEGER(&quot;Integer&quot;, cell -&gt; cell.getNumericCellValue()),\r\n      FLOAT(&quot;Float&quot;, cell -&gt; cell.getNumericCellValue()),\r\n      BOOLEAN(&quot;Boolean&quot;, cell -&gt; cell.getBooleanCellValue()),\r\n      STRING_ARRAY(&quot;String[]&quot;,\r\n            cell -&gt; Neo4jExcelDataTypeMapping.deserializeArrayToString(cell.getStringCellValue()),\r\n            value -&gt; serializeArray((Object[]) value)\r\n      ),\r\n      DATE(&quot;Date&quot;,\r\n            cell -&gt; LocalDate.parse(cell.getStringCellValue()),\r\n            value -&gt; ((LocalDate)value).format(DateTimeFormatter.ISO_LOCAL_DATE)),\r\n      );\r\n\r\n      interface ExcelCellReader {\r\n          Object readValue(Cell cell);\r\n      }\r\n      interface ExcelCellWriter {\r\n          Object writeValue(Object value);\r\n      }\r\n\r\n      public final String className;\r\n      public final ExcelCellReader excelCellReader;\r\n      public final ExcelCellWriter excelCellWriter;\r\n\r\n      private Neo4jExcelDataTypeMapping(String className, ExcelCellReader excelCellReader) {\r\n          this.className = className;\r\n          this.excelCellReader = excelCellReader;\r\n          this.excelCellWriter = value -&gt; value;\r\n      }\r\n\r\n      private Neo4jExcelDataTypeMapping(String className, ExcelCellReader excelCellReader, ExcelCellWriter excelCellWriter) {\r\n          this.className = className;\r\n          this.excelCellReader = excelCellReader;\r\n          this.excelCellWriter = excelCellWriter;\r\n      }\r\n\r\n      public static Neo4jExcelDataTypeMapping fromNeo4jType(String type) {\r\n          for (Neo4jExcelDataTypeMapping instance : Neo4jExcelDataTypeMapping.values()) {\r\n              if (instance.className.equals(type)) {\r\n                  return instance;\r\n              }\r\n          }\r\n          return null;\r\n      }\r\n    }\r\n\r\n(I&#39;m leaving out the serialization/deserialization of arrays in a readable manner, because that&#39;s a whole separate issue.)\r\n\r\nThis code seems fine. The IDE doesn&#39;t complain about it at least. But then I try to use it in a unit test:\r\n\r\n    @Test\r\n    public void testStringMapping() {\r\n        String testString = &quot;Test String&quot;;\r\n        VirtualNode node = new VirtualNode(1);\r\n        node.setProperty(&quot;test&quot;, testString);\r\n        Cell cell = row.createCell(0);\r\n\r\n        String neo4jType = node.getProperty(&quot;test&quot;).getClass().getSimpleName();\r\n        Neo4jExcelDataTypeMapping mapping = Neo4jExcelDataTypeMapping.fromNeo4jType(neo4jType);\r\n        cell.setCellValue(mapping.excelCellWriter.writeValue(node.getProperty(&quot;test&quot;)));\r\n    }\r\n\r\nHere, the problem is that `cell.setCellValue()` expects a specific type. It&#39;s heavily overloaded, so it can accept String, Integer, Float, various Dates, and more. But not Object. Now all the objects I&#39;m returning from my lambda will be one of those types, but the lambda itself says it&#39;s returning an Object, and Java doesn&#39;t like that.\r\n\r\nIn TypeScript, I might have it return `String|Integer|Float|Date`, but you can&#39;t do that in Java. Is it possible to do this with generics somehow?\r\n\r\nI don&#39;t want to explicitly cast in `cell.setCellValue((String)mapping.excelCellWriter.writeValue(node.getProperty(&quot;test&quot;)));` because this is just going to be a single line that should work for all data types. I wrote the enum exactly to handle this, but it can&#39;t seem to handle this one final cast. I suspect some generic type magic could do it, but I never really mastered that aspect of Java.\r\n\r\n(Also: I&#39;m not a fan of the `excelWriter.writeValue()`. Is there a way to make `excelWriter()` both a property of the enum and the function that&#39;s called? Or is that too JavaScript of me?)","title":"Return dynamic or union type from lambda in Java","body":"<p>I'm returning to Java after having been away for a very, very long time, and I'm trying to do in Java the sort of thing that I've often done in Javascript or Typescript. But I can't figure it out.</p>\n<p>I'm trying to create a mapping between two different systems to easily map types and copy values from one system to the other. The systems are Neo4j and Excel, although my question doesn't really have anything to do with either of those. Basically the idea is that users can export data from Neo4j to an Excel sheet, edit values there, and then import it again. (I know! It's a terrible idea! But they really want it and we can blame them if they mess up.)</p>\n<p>Still, at the very least I'd like them to not change the types of data in neo4j properties, so I'm building a fairly strict mapping:</p>\n<pre><code>public enum Neo4jExcelDataTypeMapping {\n  STRING(&quot;String&quot;, cell -&gt; cell.getStringCellValue()),\n  INTEGER(&quot;Integer&quot;, cell -&gt; cell.getNumericCellValue()),\n  FLOAT(&quot;Float&quot;, cell -&gt; cell.getNumericCellValue()),\n  BOOLEAN(&quot;Boolean&quot;, cell -&gt; cell.getBooleanCellValue()),\n  STRING_ARRAY(&quot;String[]&quot;,\n        cell -&gt; Neo4jExcelDataTypeMapping.deserializeArrayToString(cell.getStringCellValue()),\n        value -&gt; serializeArray((Object[]) value)\n  ),\n  DATE(&quot;Date&quot;,\n        cell -&gt; LocalDate.parse(cell.getStringCellValue()),\n        value -&gt; ((LocalDate)value).format(DateTimeFormatter.ISO_LOCAL_DATE)),\n  );\n\n  interface ExcelCellReader {\n      Object readValue(Cell cell);\n  }\n  interface ExcelCellWriter {\n      Object writeValue(Object value);\n  }\n\n  public final String className;\n  public final ExcelCellReader excelCellReader;\n  public final ExcelCellWriter excelCellWriter;\n\n  private Neo4jExcelDataTypeMapping(String className, ExcelCellReader excelCellReader) {\n      this.className = className;\n      this.excelCellReader = excelCellReader;\n      this.excelCellWriter = value -&gt; value;\n  }\n\n  private Neo4jExcelDataTypeMapping(String className, ExcelCellReader excelCellReader, ExcelCellWriter excelCellWriter) {\n      this.className = className;\n      this.excelCellReader = excelCellReader;\n      this.excelCellWriter = excelCellWriter;\n  }\n\n  public static Neo4jExcelDataTypeMapping fromNeo4jType(String type) {\n      for (Neo4jExcelDataTypeMapping instance : Neo4jExcelDataTypeMapping.values()) {\n          if (instance.className.equals(type)) {\n              return instance;\n          }\n      }\n      return null;\n  }\n}\n</code></pre>\n<p>(I'm leaving out the serialization/deserialization of arrays in a readable manner, because that's a whole separate issue.)</p>\n<p>This code seems fine. The IDE doesn't complain about it at least. But then I try to use it in a unit test:</p>\n<pre><code>@Test\npublic void testStringMapping() {\n    String testString = &quot;Test String&quot;;\n    VirtualNode node = new VirtualNode(1);\n    node.setProperty(&quot;test&quot;, testString);\n    Cell cell = row.createCell(0);\n\n    String neo4jType = node.getProperty(&quot;test&quot;).getClass().getSimpleName();\n    Neo4jExcelDataTypeMapping mapping = Neo4jExcelDataTypeMapping.fromNeo4jType(neo4jType);\n    cell.setCellValue(mapping.excelCellWriter.writeValue(node.getProperty(&quot;test&quot;)));\n}\n</code></pre>\n<p>Here, the problem is that <code>cell.setCellValue()</code> expects a specific type. It's heavily overloaded, so it can accept String, Integer, Float, various Dates, and more. But not Object. Now all the objects I'm returning from my lambda will be one of those types, but the lambda itself says it's returning an Object, and Java doesn't like that.</p>\n<p>In TypeScript, I might have it return <code>String|Integer|Float|Date</code>, but you can't do that in Java. Is it possible to do this with generics somehow?</p>\n<p>I don't want to explicitly cast in <code>cell.setCellValue((String)mapping.excelCellWriter.writeValue(node.getProperty(&quot;test&quot;)));</code> because this is just going to be a single line that should work for all data types. I wrote the enum exactly to handle this, but it can't seem to handle this one final cast. I suspect some generic type magic could do it, but I never really mastered that aspect of Java.</p>\n<p>(Also: I'm not a fan of the <code>excelWriter.writeValue()</code>. Is there a way to make <code>excelWriter()</code> both a property of the enum and the function that's called? Or is that too JavaScript of me?)</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1655469136,"post_id":72658756,"comment_id":128345901,"body_markdown":"2. is not entirely true. If closeIdleSessions == true, then session is marked to be killed after session timeout, not based on heart beats.","body":"2. is not entirely true. If closeIdleSessions == true, then session is marked to be killed after session timeout, not based on heart beats."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1655469717,"post_id":72658756,"comment_id":128346092,"body_markdown":"Hi Tatu,how do you set this &#39;session-timeout&#39; ?","body":"Hi Tatu,how do you set this &#39;session-timeout&#39; ?"},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1655469959,"post_id":72658756,"comment_id":128346169,"body_markdown":"when I set the server.servlet.session.timeout , then the session is actually killed by Tomcat and the application is not being directed to the setSessionExpiredURL.If I don&#39;t set server.servlet.session.timeou, then the UI Vaadin session never expires! either with closeIdleSessions true or not","body":"when I set the server.servlet.session.timeout , then the session is actually killed by Tomcat and the application is not being directed to the setSessionExpiredURL.If I don&#39;t set server.servlet.session.timeou, then the UI Vaadin session never expires! either with closeIdleSessions true or not"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1655470559,"post_id":72658756,"comment_id":128346361,"body_markdown":"&quot;when I set the server.servlet.session.timeout  , then the session is actually killed by Tomcat ... .If I don&#39;t set server.servlet.session.timeou, then the UI Vaadin session never expires! either with closeIdleSessions true or not&quot; The both are correct behaviors.","body":"&quot;when I set the server.servlet.session.timeout  , then the session is actually killed by Tomcat ... .If I don&#39;t set server.servlet.session.timeou, then the UI Vaadin session never expires! either with closeIdleSessions true or not&quot; The both are correct behaviors."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1655470676,"post_id":72658756,"comment_id":128346406,"body_markdown":"&quot;setSessionExpiredURL&quot;, I have this usually null, the default. Then my application jumps to login screen, as my login configuration is made in a way that if the user is not logged in, it forwards to login. I would say that it is the only thing that makes sense.","body":"&quot;setSessionExpiredURL&quot;, I have this usually null, the default. Then my application jumps to login screen, as my login configuration is made in a way that if the user is not logged in, it forwards to login. I would say that it is the only thing that makes sense."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1655533259,"post_id":72658756,"comment_id":128359078,"body_markdown":"So let me get that straight.When closeidlesessions is true then the heartbeats are ignored ? and the timeout happens only when servlet.session.timeout is exceeded?","body":"So let me get that straight.When closeidlesessions is true then the heartbeats are ignored ? and the timeout happens only when servlet.session.timeout is exceeded?"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655467978,"creation_date":1655465540,"question_id":72658756,"body_markdown":"Reading the docs, I came to the following assumption. Can someone please validate if it is correct or not? thanks\r\n\r\nIf the heartbeat is set to 10 seconds, then the client sends 1 heartbeat every 10 seconds.\r\n\r\nThen there are two conditions:\r\n\r\n1. If `isCloseIdleSessions() == false`, then if after `3x10 = 30` seconds there&#39;s no user interaction, the session is NOT killed. It would be killed in 30 seconds if there&#39;s no UI visible on the browser.\r\n\r\n2. If on the other hand `isCloseIdleSessions() == true`, then after `3x10 = 30` seconds there&#39;s no user interaction while the UI is visible the session is killed. The session is killed too if no UI is visible on the browser.\r\n","title":"Validate how session expiration is done","body":"<p>Reading the docs, I came to the following assumption. Can someone please validate if it is correct or not? thanks</p>\n<p>If the heartbeat is set to 10 seconds, then the client sends 1 heartbeat every 10 seconds.</p>\n<p>Then there are two conditions:</p>\n<ol>\n<li><p>If <code>isCloseIdleSessions() == false</code>, then if after <code>3x10 = 30</code> seconds there's no user interaction, the session is NOT killed. It would be killed in 30 seconds if there's no UI visible on the browser.</p>\n</li>\n<li><p>If on the other hand <code>isCloseIdleSessions() == true</code>, then after <code>3x10 = 30</code> seconds there's no user interaction while the UI is visible the session is killed. The session is killed too if no UI is visible on the browser.</p>\n</li>\n</ol>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655466380,"post_id":72658871,"comment_id":128344950,"body_markdown":"&quot;The start of the day&quot; is always 00:00 in every zone. Do you mean the start of the UTC day 00:00 for the zone? That would be UTC 00:00 with zone conversion.","body":"&quot;The start of the day&quot; is always 00:00 in every zone. Do you mean the start of the UTC day 00:00 for the zone? That would be UTC 00:00 with zone conversion."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655467844,"creation_date":1655467534,"answer_id":72659128,"question_id":72658871,"body_markdown":"The `ZonedDateTime`\r\n\r\n    ZonedDateTime.of(2022, 6, 8, 1, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\r\n\r\nrepresents the date time 2022-06-08T01:00:00 *in the New York timezone*, not UTC, whereas you seem to be treating this as two separate values - the date time 2022-06-08T01:00:00 in UTC, and the New York timezone. I think it would make more sense to use two separate parameters for this, for example:\r\n\r\n    public static ZonedDateTime startOfDayAtZone(Instant instant, ZoneId zone) {\r\n        return instant.atZone(zone).truncatedTo(ChronoUnit.DAYS);\r\n    }\r\n\r\nor\r\n\r\n    public static ZonedDateTime startOfDayAtZone(LocalDateTime dateTime, ZoneId zone) {\r\n        return dateTime.toInstant(ZoneOffset.UTC).atZone(zone).truncatedTo(ChronoUnit.DAYS);\r\n    }\r\n\r\nIf you really want to use one `ZonedDateTime` object to represent two separate things:\r\n\r\n    public static ZonedDateTime startOfDayAtZone(ZonedDateTime zdt) {\r\n        return zdt.toLocalDateTime().toInstant(ZoneOffset.UTC).atZone(zdt.getZone()).truncatedTo(ChronoUnit.DAYS);\r\n    }","title":"Get start of day in ZonedDateTime time zone","body":"<p>The <code>ZonedDateTime</code></p>\n<pre><code>ZonedDateTime.of(2022, 6, 8, 1, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\n</code></pre>\n<p>represents the date time 2022-06-08T01:00:00 <em>in the New York timezone</em>, not UTC, whereas you seem to be treating this as two separate values - the date time 2022-06-08T01:00:00 in UTC, and the New York timezone. I think it would make more sense to use two separate parameters for this, for example:</p>\n<pre><code>public static ZonedDateTime startOfDayAtZone(Instant instant, ZoneId zone) {\n    return instant.atZone(zone).truncatedTo(ChronoUnit.DAYS);\n}\n</code></pre>\n<p>or</p>\n<pre><code>public static ZonedDateTime startOfDayAtZone(LocalDateTime dateTime, ZoneId zone) {\n    return dateTime.toInstant(ZoneOffset.UTC).atZone(zone).truncatedTo(ChronoUnit.DAYS);\n}\n</code></pre>\n<p>If you really want to use one <code>ZonedDateTime</code> object to represent two separate things:</p>\n<pre><code>public static ZonedDateTime startOfDayAtZone(ZonedDateTime zdt) {\n    return zdt.toLocalDateTime().toInstant(ZoneOffset.UTC).atZone(zdt.getZone()).truncatedTo(ChronoUnit.DAYS);\n}\n</code></pre>\n"}],"owner":{"account_id":1035984,"reputation":256,"user_id":3791105,"display_name":"user7340"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655467844,"creation_date":1655466104,"question_id":72658871,"body_markdown":"Given a ZonedDateTime, how can I get a ZonedDateTime for the start of the day the time zone is in? I don&#39;t want the start of the day where it&#39;s UTC. \r\n\r\nExample\r\n\r\nGiven \r\nZonedDateTime.of(2022, 6, 8, 1, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\r\n\r\nI want to return \r\nZonedDateTime.of(2022, 6, 7, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\r\n\r\nBecause June 8 1am UTC is June 7 9pm ET and I want 12am on the day that the input time is located in\r\n\r\nConverse example \r\n\r\nGiven \r\nZonedDateTime.of(2022, 6, 8, 6, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\r\n\r\nI want to return \r\nZonedDateTime.of(2022, 6, 8, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\r\n\r\nBecause June 8 6am UTC is June 8 2am ET and I want 12am on the day that the input time is located in. Daylight savings is currently on for New York. \r\n","title":"Get start of day in ZonedDateTime time zone","body":"<p>Given a ZonedDateTime, how can I get a ZonedDateTime for the start of the day the time zone is in? I don't want the start of the day where it's UTC.</p>\n<p>Example</p>\n<p>Given\nZonedDateTime.of(2022, 6, 8, 1, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))</p>\n<p>I want to return\nZonedDateTime.of(2022, 6, 7, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))</p>\n<p>Because June 8 1am UTC is June 7 9pm ET and I want 12am on the day that the input time is located in</p>\n<p>Converse example</p>\n<p>Given\nZonedDateTime.of(2022, 6, 8, 6, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))</p>\n<p>I want to return\nZonedDateTime.of(2022, 6, 8, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))</p>\n<p>Because June 8 6am UTC is June 8 2am ET and I want 12am on the day that the input time is located in. Daylight savings is currently on for New York.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1626096481,"post_id":68348159,"comment_id":120794317,"body_markdown":"have you tested it with Postman?","body":"have you tested it with Postman?"},{"owner":{"account_id":16043345,"reputation":197,"user_id":11579194,"display_name":"Pan Michal"},"score":0,"creation_date":1626096847,"post_id":68348159,"comment_id":120794496,"body_markdown":"nope, but you got the point, i will try.","body":"nope, but you got the point, i will try."},{"owner":{"account_id":16043345,"reputation":197,"user_id":11579194,"display_name":"Pan Michal"},"score":0,"creation_date":1626097147,"post_id":68348159,"comment_id":120794627,"body_markdown":"I checked and I guess i don&#39;t know how to parse data in post in java","body":"I checked and I guess i don&#39;t know how to parse data in post in java"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1626097570,"post_id":68348159,"comment_id":120794824,"body_markdown":"Start here and work your way through all the information it contains: [What causes “java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute”?](https://stackoverflow.com/questions/42198050/what-causes-java-lang-illegalstateexception-neither-bindingresult-nor-plain-ta). If you are still stuck, after that, you can update your question with your findings from that exercise.","body":"Start here and work your way through all the information it contains: <a href=\"https://stackoverflow.com/questions/42198050/what-causes-java-lang-illegalstateexception-neither-bindingresult-nor-plain-ta\">What causes “java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute”?</a>. If you are still stuck, after that, you can update your question with your findings from that exercise."},{"owner":{"account_id":16043345,"reputation":197,"user_id":11579194,"display_name":"Pan Michal"},"score":0,"creation_date":1626097667,"post_id":68348159,"comment_id":120794867,"body_markdown":"Ok that explains errors in my index.html file but what about null values in sended Model?","body":"Ok that explains errors in my index.html file but what about null values in sended Model?"}],"answers":[{"tags":[],"owner":{"account_id":22191743,"reputation":369,"user_id":16433815,"display_name":"Ayush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626118816,"creation_date":1626116708,"answer_id":68352715,"question_id":68348159,"body_markdown":"you are not passing the form object to your thymeleaf template&lt;br&gt;\r\n\r\nDo this - &lt;br&gt;\r\n```\r\n@GETMapping(&quot;/&quot;)\r\npublic String getHome(Model model){\r\nmodel.addAttribute(&quot;form&quot;, new Form());\r\nreturn &quot;index&quot;;\r\n}\r\n```\r\n\r\nThis will return a Form object to your thymleaf and then it can process the data in your code --\r\n```\r\n&lt;form method=&quot;post&quot; action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${form}&quot;&gt;\r\n      // This will now receive form object\r\n&lt;/form&gt;\r\n```","title":"Can&#39;t create post request in thymeleaf","body":"<p>you are not passing the form object to your thymeleaf template<br></p>\n<p>Do this - <br></p>\n<pre><code>@GETMapping(&quot;/&quot;)\npublic String getHome(Model model){\nmodel.addAttribute(&quot;form&quot;, new Form());\nreturn &quot;index&quot;;\n}\n</code></pre>\n<p>This will return a Form object to your thymleaf and then it can process the data in your code --</p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${form}&quot;&gt;\n      // This will now receive form object\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":16043345,"reputation":197,"user_id":11579194,"display_name":"Pan Michal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68352715,"answer_count":1,"score":0,"last_activity_date":1655467628,"creation_date":1626096215,"question_id":68348159,"body_markdown":"I tried to create `POST` request to send my `form` to the `Spring` server, but I&#39;m only getting this error:\r\n\r\n```\r\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute\r\n```\r\n\r\nMy controller content:\r\n```java\r\n// Form post handler\r\n@PostMapping(&quot;/&quot;)\r\npublic String home(@ModelAttribute Form form, BindingResult bindingResult, Model model) {\r\n    Gson g = new Gson();\r\n    Form form_new = g.fromJson(JavaWebApplication.runtimeJsonContent, Form.class);\r\n    model.addAttribute(&quot;form&quot;, form);\r\n    model.addAttribute(&quot;ip&quot;, form.IP);\r\n    model.addAttribute(&quot;gateway&quot;, form.Gateway);\r\n    model.addAttribute(&quot;port&quot;, form.Port);\r\n    model.addAttribute(&quot;IncomingConnections&quot;, form.IncomingConnections);\r\n    return &quot;index&quot;;\r\n}\r\n```\r\n\r\nHere is my Form model:\r\n```java\r\npublic class Form {\r\n    public String IP;\r\n    public String Gateway;\r\n    public int Port;\r\n    public boolean IncomingConnections;\r\n    public int QoSEnable = 0;\r\n\r\n    public Form(){}\r\n    public Form(String IP, String gateway, int port, boolean incomingConnections) {\r\n        this.IP = IP;\r\n        this.Gateway = gateway;\r\n        this.Port = port;\r\n        this.IncomingConnections = incomingConnections;\r\n        this.QoSEnable = 0; // Assert that 0 is default\r\n        ExportToJson(this);\r\n    }\r\n    public Form(String IP, String gateway, int port, boolean incomingConnections, int qosEnable) {\r\n        this.IP = IP;\r\n        this.Gateway = gateway;\r\n        this.Port = port;\r\n        this.IncomingConnections = incomingConnections;\r\n        this.QoSEnable = qosEnable;\r\n        ExportToJson(this);\r\n    }\r\n}\r\n```\r\n\r\nAnd my `index.html` webpage bound on `/` :\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{./styles/main.css}&quot;&gt;\r\n    &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;form method=&quot;post&quot; action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${form}&quot;&gt;\r\n    &lt;div id=&quot;container&quot;&gt;\r\n        &lt;img src=&quot;https://kable-swiatlowodowe.net.pl/wp-content/uploads/2017/08/mikrotik.png&quot; width=&quot;20%&quot; style=&quot;margin-bottom: 5%;&quot;&gt;\r\n        &lt;br&gt;\r\n        &lt;div id=&quot;input-el&quot;&gt;\r\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;text&quot; placeholder=&quot;IP&quot; name=&quot;IP&quot; th:value=&quot;${ip}&quot; th:field=&quot;*{IP}&quot; id=&quot;input-element-ip&quot;&gt;&lt;/div&gt;\r\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;text&quot; placeholder=&quot;Gateway&quot; th:value=&quot;${gateway}&quot; th:field=&quot;*{Gateway}&quot; name=&quot;Gateway&quot; id=&quot;input-element-gateway&quot;&gt;&lt;/div&gt;\r\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;number&quot; placeholder=&quot;Port&quot; th:value=&quot;${port}&quot; th:field=&quot;*{Port}&quot; name=&quot;Port&quot; id=&quot;input-element-port&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n        &lt;div id=&quot;checkbox-el&quot;&gt;\r\n        Incoming connections:&lt;br&gt;\r\n        &lt;label&gt;&lt;input type=&quot;checkbox&quot; th:checked=&quot;${IncomingConnections}&quot; th:field=&quot;*{IncomingConnections}&quot; name=&quot;conections&quot; id=&quot;conections-el&quot;&gt;Allow&lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n        QoS Mode&lt;br&gt;\r\n        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-game-first&quot; checked&gt;Game First&lt;/label&gt;\r\n        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-multimedia-first&quot;&gt;Multimedia First&lt;/label&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nSample Postman request:\r\n[![request][1]][1]\r\n\r\nResponse for this request:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\t&lt;link rel=&quot;stylesheet&quot; href=&quot;./styles/main.css&quot;&gt;\r\n\t&lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;form method=&quot;post&quot;&gt;\r\n\t\t&lt;div id=&quot;container&quot;&gt;\r\n\t\t\t&lt;img src=&quot;https://kable-swiatlowodowe.net.pl/wp-content/uploads/2017/08/mikrotik.png&quot; width=&quot;20%&quot; style=&quot;margin-bottom: 5%;&quot;&gt;\r\n\t\t\t&lt;br&gt;\r\n\t\t\t&lt;div id=&quot;input-el&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;input-element&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;text&quot; placeholder=&quot;IP&quot; name=&quot;IP&quot; value=&quot;&quot; id=&quot;input-element-ip&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t&lt;div class=&quot;input-element&quot;&gt;\r\n\t\t\t\t\t\t&lt;input type=&quot;text&quot; placeholder=&quot;Gateway&quot; value=&quot;&quot;name=&quot;Gateway&quot; id=&quot;input-element-gateway&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;input-element&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;number&quot; placeholder=&quot;Port&quot; value=&quot;0&quot; name=&quot;Port&quot; id=&quot;input-element-port&quot;&gt;&lt;/div&gt;\r\n\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;div id=&quot;checkbox-el&quot;&gt;\r\n\t\t\t\t\t\t\tIncoming connections:&lt;br&gt;\r\n\t\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;conections&quot; id=&quot;conections-el&quot;&gt;Allow&lt;/label&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t\tQoS Mode&lt;br&gt;\r\n\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-game-first&quot; checked&gt;Game First&lt;/label&gt;\r\n\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-multimedia-first&quot;&gt;Multimedia First&lt;/label&gt;\r\n\t\t\t\t\t\t&lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t&lt;/form&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n**Each value content is clear**\r\n[![form][2]][2]\r\n\r\nAny idea how to make this binding work correctly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ZugL.png\r\n  [2]: https://i.stack.imgur.com/vdLaY.png","title":"Can&#39;t create post request in thymeleaf","body":"<p>I tried to create <code>POST</code> request to send my <code>form</code> to the <code>Spring</code> server, but I'm only getting this error:</p>\n<pre><code>java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'form' available as request attribute\n</code></pre>\n<p>My controller content:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Form post handler\n@PostMapping(&quot;/&quot;)\npublic String home(@ModelAttribute Form form, BindingResult bindingResult, Model model) {\n    Gson g = new Gson();\n    Form form_new = g.fromJson(JavaWebApplication.runtimeJsonContent, Form.class);\n    model.addAttribute(&quot;form&quot;, form);\n    model.addAttribute(&quot;ip&quot;, form.IP);\n    model.addAttribute(&quot;gateway&quot;, form.Gateway);\n    model.addAttribute(&quot;port&quot;, form.Port);\n    model.addAttribute(&quot;IncomingConnections&quot;, form.IncomingConnections);\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>Here is my Form model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Form {\n    public String IP;\n    public String Gateway;\n    public int Port;\n    public boolean IncomingConnections;\n    public int QoSEnable = 0;\n\n    public Form(){}\n    public Form(String IP, String gateway, int port, boolean incomingConnections) {\n        this.IP = IP;\n        this.Gateway = gateway;\n        this.Port = port;\n        this.IncomingConnections = incomingConnections;\n        this.QoSEnable = 0; // Assert that 0 is default\n        ExportToJson(this);\n    }\n    public Form(String IP, String gateway, int port, boolean incomingConnections, int qosEnable) {\n        this.IP = IP;\n        this.Gateway = gateway;\n        this.Port = port;\n        this.IncomingConnections = incomingConnections;\n        this.QoSEnable = qosEnable;\n        ExportToJson(this);\n    }\n}\n</code></pre>\n<p>And my <code>index.html</code> webpage bound on <code>/</code> :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{./styles/main.css}&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=&quot;post&quot; action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${form}&quot;&gt;\n    &lt;div id=&quot;container&quot;&gt;\n        &lt;img src=&quot;https://kable-swiatlowodowe.net.pl/wp-content/uploads/2017/08/mikrotik.png&quot; width=&quot;20%&quot; style=&quot;margin-bottom: 5%;&quot;&gt;\n        &lt;br&gt;\n        &lt;div id=&quot;input-el&quot;&gt;\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;text&quot; placeholder=&quot;IP&quot; name=&quot;IP&quot; th:value=&quot;${ip}&quot; th:field=&quot;*{IP}&quot; id=&quot;input-element-ip&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;text&quot; placeholder=&quot;Gateway&quot; th:value=&quot;${gateway}&quot; th:field=&quot;*{Gateway}&quot; name=&quot;Gateway&quot; id=&quot;input-element-gateway&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;input-element&quot;&gt;&lt;input type=&quot;number&quot; placeholder=&quot;Port&quot; th:value=&quot;${port}&quot; th:field=&quot;*{Port}&quot; name=&quot;Port&quot; id=&quot;input-element-port&quot;&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n        &lt;div id=&quot;checkbox-el&quot;&gt;\n        Incoming connections:&lt;br&gt;\n        &lt;label&gt;&lt;input type=&quot;checkbox&quot; th:checked=&quot;${IncomingConnections}&quot; th:field=&quot;*{IncomingConnections}&quot; name=&quot;conections&quot; id=&quot;conections-el&quot;&gt;Allow&lt;/label&gt;\n    &lt;/div&gt;\n\n        QoS Mode&lt;br&gt;\n        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-game-first&quot; checked&gt;Game First&lt;/label&gt;\n        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-multimedia-first&quot;&gt;Multimedia First&lt;/label&gt;\n        &lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Sample Postman request:\n<a href=\"https://i.stack.imgur.com/3ZugL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ZugL.png\" alt=\"request\" /></a></p>\n<p>Response for this request:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./styles/main.css&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form method=&quot;post&quot;&gt;\n        &lt;div id=&quot;container&quot;&gt;\n            &lt;img src=&quot;https://kable-swiatlowodowe.net.pl/wp-content/uploads/2017/08/mikrotik.png&quot; width=&quot;20%&quot; style=&quot;margin-bottom: 5%;&quot;&gt;\n            &lt;br&gt;\n            &lt;div id=&quot;input-el&quot;&gt;\n                &lt;div class=&quot;input-element&quot;&gt;\n                    &lt;input type=&quot;text&quot; placeholder=&quot;IP&quot; name=&quot;IP&quot; value=&quot;&quot; id=&quot;input-element-ip&quot;&gt;&lt;/div&gt;\n                    &lt;div class=&quot;input-element&quot;&gt;\n                        &lt;input type=&quot;text&quot; placeholder=&quot;Gateway&quot; value=&quot;&quot;name=&quot;Gateway&quot; id=&quot;input-element-gateway&quot;&gt;&lt;/div&gt;\n                        &lt;div class=&quot;input-element&quot;&gt;\n                            &lt;input type=&quot;number&quot; placeholder=&quot;Port&quot; value=&quot;0&quot; name=&quot;Port&quot; id=&quot;input-element-port&quot;&gt;&lt;/div&gt;\n\n                        &lt;/div&gt;\n                        &lt;div id=&quot;checkbox-el&quot;&gt;\n                            Incoming connections:&lt;br&gt;\n                            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;conections&quot; id=&quot;conections-el&quot;&gt;Allow&lt;/label&gt;\n                        &lt;/div&gt;\n\n                        QoS Mode&lt;br&gt;\n                        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-game-first&quot; checked&gt;Game First&lt;/label&gt;\n                        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;qos-mode-el&quot; id=&quot;input-radio-multimedia-first&quot;&gt;Multimedia First&lt;/label&gt;\n                        &lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;\n                    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p><strong>Each value content is clear</strong>\n<a href=\"https://i.stack.imgur.com/vdLaY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdLaY.png\" alt=\"form\" /></a></p>\n<p>Any idea how to make this binding work correctly?</p>\n"},{"tags":["java","hadoop","hadoop2","namenode"],"comments":[{"owner":{"account_id":12704153,"reputation":658,"user_id":9229988,"display_name":"Abhinav"},"score":0,"creation_date":1530270909,"post_id":51100220,"comment_id":89188137,"body_markdown":"Did you try formatting the namenode? I suggest you to use &#39;hdfs namenode -format&#39;. See if that works for you?","body":"Did you try formatting the namenode? I suggest you to use &#39;hdfs namenode -format&#39;. See if that works for you?"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1530271047,"post_id":51100220,"comment_id":89188210,"body_markdown":"@Abhinav formatting namenode  will going to erase all information from hdfs , so do you have any better alternative ?","body":"@Abhinav formatting namenode  will going to erase all information from hdfs , so do you have any better alternative ?"},{"owner":{"account_id":12704153,"reputation":658,"user_id":9229988,"display_name":"Abhinav"},"score":0,"creation_date":1530271212,"post_id":51100220,"comment_id":89188306,"body_markdown":"Ok, wait. I am posting it in the answer.","body":"Ok, wait. I am posting it in the answer."}],"answers":[{"tags":[],"owner":{"account_id":12704153,"reputation":658,"user_id":9229988,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530271716,"creation_date":1530271716,"answer_id":51100728,"question_id":51100220,"body_markdown":"Follow these steps:\r\n\r\n 1. Check the path to your FSImage, i.e, where the Namenode is storing the FSImage. In my case it is `/hadoop/hdfs/namenode/current`\r\n\r\n 2. Check the last create FSImage in Namenode and Secondary Namenode. Find the latest FSImage available.\r\n\r\n 3. Copy the latest FSImage from Secondary Namenode to Namenode with the same permissions it had in Secondary Namenode. By default, it is `hdfs:hadoop` in my case\r\n\r\n 4. After copying, try restarting all the services.","title":"Failed to load an FSImage file! || How to solve","body":"<p>Follow these steps:</p>\n\n<ol>\n<li><p>Check the path to your FSImage, i.e, where the Namenode is storing the FSImage. In my case it is <code>/hadoop/hdfs/namenode/current</code></p></li>\n<li><p>Check the last create FSImage in Namenode and Secondary Namenode. Find the latest FSImage available.</p></li>\n<li><p>Copy the latest FSImage from Secondary Namenode to Namenode with the same permissions it had in Secondary Namenode. By default, it is <code>hdfs:hadoop</code> in my case</p></li>\n<li><p>After copying, try restarting all the services.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19681615,"reputation":3,"user_id":14408610,"display_name":"sukumar_banda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607091526,"creation_date":1607091526,"answer_id":65145205,"question_id":51100220,"body_markdown":" 1. Format the namenode: &quot;hdfs namenode -format&quot;  \r\n\r\n 2. Now, ensure the    **clusterID=** of namenode and datanode as same. If \r\n    not,replace with one another.  \r\n    In my case, \r\n    /Path_installation_dir/hdata/dfs/name/current/VERSION\r\n    /Path_installation_dir/hdata/dfs/data/current/VERSION\r\n\r\n 3. All done. start dfs, yarn.\r\n\r\n\r\n\r\n","title":"Failed to load an FSImage file! || How to solve","body":"<ol>\n<li><p>Format the namenode: &quot;hdfs namenode -format&quot;</p>\n</li>\n<li><p>Now, ensure the    <strong>clusterID=</strong> of namenode and datanode as same. If\nnot,replace with one another.<br />\nIn my case,\n/Path_installation_dir/hdata/dfs/name/current/VERSION\n/Path_installation_dir/hdata/dfs/data/current/VERSION</p>\n</li>\n<li><p>All done. start dfs, yarn.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18182537,"reputation":1,"user_id":19248934,"display_name":"vale ale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655467534,"creation_date":1654090874,"answer_id":72462862,"question_id":51100220,"body_markdown":"In my case, I had 2 namenodes running and after a server reboot data got corrupted. I was getting &quot;Failed to load image from FSImageFile&quot; in the logs.\r\nIn my case, namenode-0 was still healthy and namenode-1 was having the problem\r\nI proceeded as follows:\r\n\r\n 1. scale down namenode to 1: leave only namenode-0\r\n 2. delete namenode-1 PVC\r\n 3. make sure the volume is not there with kubectl get pvc -n hadoop\r\n 4. scale namenode back to 2\r\n\r\nnamenode-0 took care of Data Corruption and made it available to namenode-1\r\n","title":"Failed to load an FSImage file! || How to solve","body":"<p>In my case, I had 2 namenodes running and after a server reboot data got corrupted. I was getting &quot;Failed to load image from FSImageFile&quot; in the logs.\nIn my case, namenode-0 was still healthy and namenode-1 was having the problem\nI proceeded as follows:</p>\n<ol>\n<li>scale down namenode to 1: leave only namenode-0</li>\n<li>delete namenode-1 PVC</li>\n<li>make sure the volume is not there with kubectl get pvc -n hadoop</li>\n<li>scale namenode back to 2</li>\n</ol>\n<p>namenode-0 took care of Data Corruption and made it available to namenode-1</p>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655467534,"creation_date":1530270026,"question_id":51100220,"body_markdown":"I am trying to show all the services using the Jps command, but when i hit the console the below nodes are only showing\r\n\r\n     3633 SecondaryNameNode\r\n     4228 Jps\r\n     3493 DataNode\r\n     4198 NodeManager\r\n     4088 ResourceManager\r\n\r\nI am trying to start all services using start-dfs.sh and start-yarn.sh.But after that also the result is same.I went into the logs to find the exception,i saw below exception .\r\n\r\n\r\n     2018-06-29 16:02:31,414 INFO org.mortbay.log: Stopped HttpServer2$SelectChannelConnectorWithSafeStartup@0.0.0.0:50070\r\n     2018-06-29 16:02:31,414 WARN org.apache.hadoop.http.HttpServer2: HttpServer Acceptor: isRunning is false. Rechecking.\r\n     2018-06-29 16:02:31,416 WARN org.apache.hadoop.http.HttpServer2: HttpServer Acceptor: isRunning is false\r\n     2018-06-29 16:02:31,423 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Stopping NameNode metrics system...\r\n     2018-06-29 16:02:31,425 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: NameNode metrics system stopped.\r\n     2018-06-29 16:02:31,425 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: NameNode metrics system shutdown complete.\r\n     2018-06-29 16:02:31,425 FATAL org.apache.hadoop.hdfs.server.namenode.NameNode: Failed to start namenode.\r\n      java.io.IOException: Failed to load an FSImage file!\r\n\t  at      org.apache.hadoop.hdfs.server.namenode.FSImage.loadFSImage(FSImage.java:673)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:281)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.loadFSImage(FSNamesystem.java:1006)\r\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.loadFromDisk(FSNamesystem.java:736)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.loadNamesystem(NameNode.java:531)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:587)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.&lt;init&gt;(NameNode.java:754)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.&lt;init&gt;(NameNode.java:738)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1427)\r\n\tat org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1493)\r\n    2018-06-29 16:02:31,428 INFO org.apache.hadoop.util.ExitUtil: Exiting with status 1\r\n    2018-06-29 16:02:31,454 INFO org.apache.hadoop.hdfs.server.namenode.NameNode: SHUTDOWN_MSG: \r\n    /************************************************************\r\n    SHUTDOWN_MSG: Shutting down NameNode at ubuntu/127.0.1.1\r\n    ************************************************************/\r\n\r\nI have no clue to solve this , please help.I am using hadoop-2.5.0-cdh5.3.2.\r\n","title":"Failed to load an FSImage file! || How to solve","body":"<p>I am trying to show all the services using the Jps command, but when i hit the console the below nodes are only showing</p>\n\n<pre><code> 3633 SecondaryNameNode\n 4228 Jps\n 3493 DataNode\n 4198 NodeManager\n 4088 ResourceManager\n</code></pre>\n\n<p>I am trying to start all services using start-dfs.sh and start-yarn.sh.But after that also the result is same.I went into the logs to find the exception,i saw below exception .</p>\n\n<pre><code> 2018-06-29 16:02:31,414 INFO org.mortbay.log: Stopped HttpServer2$SelectChannelConnectorWithSafeStartup@0.0.0.0:50070\n 2018-06-29 16:02:31,414 WARN org.apache.hadoop.http.HttpServer2: HttpServer Acceptor: isRunning is false. Rechecking.\n 2018-06-29 16:02:31,416 WARN org.apache.hadoop.http.HttpServer2: HttpServer Acceptor: isRunning is false\n 2018-06-29 16:02:31,423 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Stopping NameNode metrics system...\n 2018-06-29 16:02:31,425 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: NameNode metrics system stopped.\n 2018-06-29 16:02:31,425 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: NameNode metrics system shutdown complete.\n 2018-06-29 16:02:31,425 FATAL org.apache.hadoop.hdfs.server.namenode.NameNode: Failed to start namenode.\n  java.io.IOException: Failed to load an FSImage file!\n  at      org.apache.hadoop.hdfs.server.namenode.FSImage.loadFSImage(FSImage.java:673)\nat org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:281)\nat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.loadFSImage(FSNamesystem.java:1006)\nat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.loadFromDisk(FSNamesystem.java:736)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.loadNamesystem(NameNode.java:531)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:587)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.&lt;init&gt;(NameNode.java:754)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.&lt;init&gt;(NameNode.java:738)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1427)\nat org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1493)\n2018-06-29 16:02:31,428 INFO org.apache.hadoop.util.ExitUtil: Exiting with status 1\n2018-06-29 16:02:31,454 INFO org.apache.hadoop.hdfs.server.namenode.NameNode: SHUTDOWN_MSG: \n/************************************************************\nSHUTDOWN_MSG: Shutting down NameNode at ubuntu/127.0.1.1\n************************************************************/\n</code></pre>\n\n<p>I have no clue to solve this , please help.I am using hadoop-2.5.0-cdh5.3.2.</p>\n"},{"tags":["java","maven","servlets","vaadin"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1655465601,"post_id":72657910,"comment_id":128344714,"body_markdown":"What do you mean by &quot;maven can&#39;t find the class&quot;?","body":"What do you mean by &quot;maven can&#39;t find the class&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655467070,"creation_date":1655467070,"answer_id":72659057,"question_id":72657910,"body_markdown":"`@VaadinServletConfiguration` annotation has been deprecated in V14, and it is completely removed in V23. You can configure the parameters without the annotation though by doing something like:\r\n\r\n```\r\n@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;myservlet&quot;, asyncSupported = true, initParams = {\r\n        @WebInitParam(name = &quot;heartbeatInterval&quot;, value = &quot;700&quot;)\r\n})\r\npublic class MyServlet extends VaadinServlet {\r\n}\r\n\r\n```\r\n\r\n(the docs will be updated shortly).","title":"Vaadin 23 cannot import annotation @VaadinServletConfiguration","body":"<p><code>@VaadinServletConfiguration</code> annotation has been deprecated in V14, and it is completely removed in V23. You can configure the parameters without the annotation though by doing something like:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;myservlet&quot;, asyncSupported = true, initParams = {\n        @WebInitParam(name = &quot;heartbeatInterval&quot;, value = &quot;700&quot;)\n})\npublic class MyServlet extends VaadinServlet {\n}\n\n</code></pre>\n<p>(the docs will be updated shortly).</p>\n"}],"owner":{"account_id":11804419,"reputation":75,"user_id":8637270,"display_name":"Luca Trecarichi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72659057,"answer_count":1,"score":0,"last_activity_date":1655467070,"creation_date":1655461511,"question_id":72657910,"body_markdown":"In the Vaadin 23 documentation, precisely [here][1] it show an example which includes the java annotation `@VaadinServletConfiguration`. \r\n\r\n    @WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;myservlet&quot;, asyncSupported = true, initParams = {\r\n    @WebInitParam(name = &quot;frontend.url.es6&quot;, value = &quot;http://example.com/es6/&quot;),\r\n    @WebInitParam(name = &quot;frontend.url.es5&quot;, value = &quot;http://example.com/es5/&quot;) })\r\n    @VaadinServletConfiguration(productionMode = false)\r\n    public class MyServlet extends VaadinServlet {}\r\n\r\nBut when I try to use it in my project, maven can&#39;t find the class, or better it suggests some dependencies but when I import them I still can&#39;t import the class.\r\n\r\nAny ideas what I&#39;m doing wrong?\r\n\r\n  [1]: https://vaadin.com/docs/latest/configuration/properties","title":"Vaadin 23 cannot import annotation @VaadinServletConfiguration","body":"<p>In the Vaadin 23 documentation, precisely <a href=\"https://vaadin.com/docs/latest/configuration/properties\" rel=\"nofollow noreferrer\">here</a> it show an example which includes the java annotation <code>@VaadinServletConfiguration</code>.</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;myservlet&quot;, asyncSupported = true, initParams = {\n@WebInitParam(name = &quot;frontend.url.es6&quot;, value = &quot;http://example.com/es6/&quot;),\n@WebInitParam(name = &quot;frontend.url.es5&quot;, value = &quot;http://example.com/es5/&quot;) })\n@VaadinServletConfiguration(productionMode = false)\npublic class MyServlet extends VaadinServlet {}\n</code></pre>\n<p>But when I try to use it in my project, maven can't find the class, or better it suggests some dependencies but when I import them I still can't import the class.</p>\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["java","windows","jvm","shutdown"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":2,"creation_date":1655466964,"post_id":72658957,"comment_id":128345162,"body_markdown":"Does this answer your question? [Java Stop Windows Shutdown](https://stackoverflow.com/questions/61017025/java-stop-windows-shutdown)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61017025/java-stop-windows-shutdown\">Java Stop Windows Shutdown</a>"},{"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"score":0,"creation_date":1655469302,"post_id":72658957,"comment_id":128345957,"body_markdown":"@Turamarth I tried to catch  WM_QUERYENDSESSION message with suggested way but most of the time my program  directly shuts down without catching that message, so that did not help me","body":"@Turamarth I tried to catch  WM_QUERYENDSESSION message with suggested way but most of the time my program  directly shuts down without catching that message, so that did not help me"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655471429,"post_id":72658957,"comment_id":128346655,"body_markdown":"[That’s how you do it with AWT](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setQuitHandler(java.awt.desktop.QuitHandler)) But you may not want to mix JavaFX with AWT…","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setQuitHandler(java.awt.desktop.QuitHandler)\" rel=\"nofollow noreferrer\">That’s how you do it with AWT</a> But you may not want to mix JavaFX with AWT…"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1655480447,"post_id":72658957,"comment_id":128349980,"body_markdown":"hope this can help you https://www.codeproject.com/Tips/1257858/How-to-get-shutdown-event-in-windows-from-java-app","body":"hope this can help you <a href=\"https://www.codeproject.com/Tips/1257858/How-to-get-shutdown-event-in-windows-from-java-app\" rel=\"nofollow noreferrer\">codeproject.com/Tips/1257858/&hellip;</a>"}],"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655466580,"creation_date":1655466580,"question_id":72658957,"body_markdown":"When we shutdown windows, sometimes it shows some warnings such that &quot;Application x prevents shutdown&quot;\r\n\r\nI am currently developing a java exe application with javafx. How can I make my java program to prevent shutdown like that?","title":"Make java program to &quot;Application x prevents shutdown&quot; in windows","body":"<p>When we shutdown windows, sometimes it shows some warnings such that &quot;Application x prevents shutdown&quot;</p>\n<p>I am currently developing a java exe application with javafx. How can I make my java program to prevent shutdown like that?</p>\n"},{"tags":["java","sqlite","jar","java-web-start"],"comments":[{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":1,"creation_date":1309211134,"post_id":6499218,"comment_id":7644672,"body_markdown":"Tricky. Seems to be much easier with [Apache Derby](http://db.apache.org/derby/) or similar embeddable DBs.","body":"Tricky. Seems to be much easier with <a href=\"http://db.apache.org/derby/\" rel=\"nofollow noreferrer\">Apache Derby</a> or similar embeddable DBs."}],"answers":[{"tags":[],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1309211357,"creation_date":1309211122,"answer_id":6499300,"question_id":6499218,"body_markdown":"Have you considered [HSQLDB][1]? It may very well be faster to get HSQLDB working than to figure how to do this with sqlite. I know you said it&#39;s read only, but this is obviously not usually the way you&#39;d configure sqlite.\r\n\r\nOther option is storing a dump of the sqlite database\r\n\r\n    sqlite3 .dump\r\n\r\nin your jar file, reading it in at startup from the classpath via getResourceAsStream(), and creating the database on application startup. obviously this adds startup overhead and is not ideal, but might work in a pinch.\r\n\r\nedit: just found code to actually create the DB programatically [here][2]. depending on the size of your db, storing the SQL (compressed if necessary) and creating the DB on startup might not be that horrendous.\r\n\r\n\r\n  [1]: http://hsqldb.org/\r\n  [2]: https://stackoverflow.com/questions/41233/java-and-sqlite","title":"How to use SQLite database inside jar file?","body":"<p>Have you considered <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HSQLDB</a>? It may very well be faster to get HSQLDB working than to figure how to do this with sqlite. I know you said it's read only, but this is obviously not usually the way you'd configure sqlite.</p>\n\n<p>Other option is storing a dump of the sqlite database</p>\n\n<pre><code>sqlite3 .dump\n</code></pre>\n\n<p>in your jar file, reading it in at startup from the classpath via getResourceAsStream(), and creating the database on application startup. obviously this adds startup overhead and is not ideal, but might work in a pinch.</p>\n\n<p>edit: just found code to actually create the DB programatically <a href=\"https://stackoverflow.com/questions/41233/java-and-sqlite\">here</a>. depending on the size of your db, storing the SQL (compressed if necessary) and creating the DB on startup might not be that horrendous.</p>\n"},{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1655466508,"creation_date":1309213354,"answer_id":6499633,"question_id":6499218,"body_markdown":"SQLite *requires* the separate files because of [how the engine ensures locking and ACID](http://www.sqlite.org/lockingv3.html). Even without the need to update the database, SQLite is only designed to work with *direct file access* (or memory backing, but not one supplied from Java or another host. SQLite is showing it&#39;s not a pure Java solution here nor is it designed for systems not utilizing the basic system IO subsystem(s).\r\n\r\nThe SQLite data files could be *extracted* from the JAR to a temporary location at start (and put back in there at the end, if needed) - but other than something similar to this approach, not possible. The task itself isn&#39;t complicated, but is another thing that needs to be done and may require additional privileges not available in some environments.\r\n\r\n","title":"How to use SQLite database inside jar file?","body":"<p>SQLite <em>requires</em> the separate files because of <a href=\"http://www.sqlite.org/lockingv3.html\" rel=\"nofollow noreferrer\">how the engine ensures locking and ACID</a>. Even without the need to update the database, SQLite is only designed to work with <em>direct file access</em> (or memory backing, but not one supplied from Java or another host. SQLite is showing it's not a pure Java solution here nor is it designed for systems not utilizing the basic system IO subsystem(s).</p>\n<p>The SQLite data files could be <em>extracted</em> from the JAR to a temporary location at start (and put back in there at the end, if needed) - but other than something similar to this approach, not possible. The task itself isn't complicated, but is another thing that needs to be done and may require additional privileges not available in some environments.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1309214372,"creation_date":1309214372,"answer_id":6499765,"question_id":6499218,"body_markdown":"Another good option to consider could be derby, javadb. It&#39;s bundled with java now and is pretty fast to setup and has good performances.\r\n\r\nRegards, \r\n St&#233;phane\r\n","title":"How to use SQLite database inside jar file?","body":"<p>Another good option to consider could be derby, javadb. It's bundled with java now and is pretty fast to setup and has good performances.</p>\n\n<p>Regards, \n Stéphane</p>\n"},{"tags":[],"owner":{"account_id":5457257,"reputation":21,"user_id":4340288,"display_name":"Euklid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418109957,"creation_date":1418109957,"answer_id":27373493,"question_id":6499218,"body_markdown":"Put the SQLite database into a resource folder (package) within the project.\r\n\r\nConnect like this:\r\n\r\n    public class SQLiteProject extends javax.swing.JFrame {\r\n    \t:\r\n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n        CModel.connectDB(getClass().getResource(&quot;/resources/database.sqlite&quot;).toString());\r\n    }                                 \r\n    \r\n    \r\n    public class CModel {\r\n    \t:\r\n    public static Connection connectDB(String cstr) {\r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            Conn = DriverManager.getConnection(&quot;jdbc:sqlite::resource:&quot; + cstr);\r\n            JOptionPane.showMessageDialog(null, &quot;Connect!&quot;);\r\n            return Conn;\r\n        } catch (ClassNotFoundException | SQLException | HeadlessException e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\nDownload and add the sqlite-jdbc-3.8.7.jar library using Add JAR/Folder ...\r\n\r\nUse Clean and Build to build the project (creates dist folder und copies library)\r\n\r\nMake a fat-jar by using:\r\n[http://www.oracle.com/technetwork/articles/javase/single-jar-141905.html][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/javase/single-jar-141905.html%22Use%20NetBeans%20IDE%206.7%20to%20Combine%20JAR%20Files%20into%20a%20single%20JAR%20File","title":"How to use SQLite database inside jar file?","body":"<p>Put the SQLite database into a resource folder (package) within the project.</p>\n\n<p>Connect like this:</p>\n\n<pre><code>public class SQLiteProject extends javax.swing.JFrame {\n    :\nprivate void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n    CModel.connectDB(getClass().getResource(\"/resources/database.sqlite\").toString());\n}                                 \n\n\npublic class CModel {\n    :\npublic static Connection connectDB(String cstr) {\n    try {\n        Class.forName(\"org.sqlite.JDBC\");\n        Conn = DriverManager.getConnection(\"jdbc:sqlite::resource:\" + cstr);\n        JOptionPane.showMessageDialog(null, \"Connect!\");\n        return Conn;\n    } catch (ClassNotFoundException | SQLException | HeadlessException e) {\n        JOptionPane.showMessageDialog(null, e);\n    }\n    return null;\n}\n</code></pre>\n\n<p>Download and add the sqlite-jdbc-3.8.7.jar library using Add JAR/Folder ...</p>\n\n<p>Use Clean and Build to build the project (creates dist folder und copies library)</p>\n\n<p>Make a fat-jar by using:\n<a href=\"http://www.oracle.com/technetwork/articles/javase/single-jar-141905.html%22Use%20NetBeans%20IDE%206.7%20to%20Combine%20JAR%20Files%20into%20a%20single%20JAR%20File\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/single-jar-141905.html</a></p>\n"}],"owner":{"account_id":329220,"reputation":7405,"user_id":652626,"accept_rate":91,"display_name":"allanberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10909,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6499765,"answer_count":4,"score":13,"last_activity_date":1655466508,"creation_date":1309210517,"question_id":6499218,"body_markdown":"I can&#39;t figure out how to include a SQLite database *within* a Java .jar file for deployment (via Java WebStart).\r\n\r\nThe database does *not* need to be updated at runtime... it is essentially a glorified configuration file.\r\n\r\nUsing Eclipse, by the way.","title":"How to use SQLite database inside jar file?","body":"<p>I can't figure out how to include a SQLite database <em>within</em> a Java .jar file for deployment (via Java WebStart).</p>\n\n<p>The database does <em>not</em> need to be updated at runtime... it is essentially a glorified configuration file.</p>\n\n<p>Using Eclipse, by the way.</p>\n"},{"tags":["java","maven","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527422543,"creation_date":1527422543,"answer_id":50551923,"question_id":50551865,"body_markdown":"How do you include your dependencies on the class path? Maven? Gradle? Need more information. If you use Maven you can use exclusions when adding Elasticsearch and include the jackson lib yourself:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n          &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n          &lt;version&gt;6.2.4&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\r\n              &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Jackson jar hell when installing my plugin on elasticsearch","body":"<p>How do you include your dependencies on the class path? Maven? Gradle? Need more information. If you use Maven you can use exclusions when adding Elasticsearch and include the jackson lib yourself:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n      &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n      &lt;version&gt;6.2.4&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13659441,"reputation":164,"user_id":10305731,"display_name":"WISERDIVISOR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655466230,"creation_date":1655466230,"answer_id":72658895,"question_id":50551865,"body_markdown":"Shortest answer I got:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68H5R.png\r\n\r\nIn case the image is not visible: it&#39;s a comment from [here](https://discuss.elastic.co/t/jar-hell-exception/162824) dev at Elastic saying \r\n\r\n&gt; Don&#39;t ship jackson within your plugin.\r\n\r\n\r\nThat&#39;s all.","title":"Jackson jar hell when installing my plugin on elasticsearch","body":"<p>Shortest answer I got:\n<a href=\"https://i.stack.imgur.com/68H5R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/68H5R.png\" alt=\"enter image description here\" /></a></p>\n<p>In case the image is not visible: it's a comment from <a href=\"https://discuss.elastic.co/t/jar-hell-exception/162824\" rel=\"nofollow noreferrer\">here</a> dev at Elastic saying</p>\n<blockquote>\n<p>Don't ship jackson within your plugin.</p>\n</blockquote>\n<p>That's all.</p>\n"}],"owner":{"account_id":6009252,"reputation":505,"user_id":4720169,"accept_rate":86,"display_name":"Nariman Esmaiely Fard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1655466230,"creation_date":1527422057,"question_id":50551865,"body_markdown":"I am writing a custom plugin for Elasticsearch and this plugin has a dependency on Jackson library. When I installed the plugin on Elasticsearch, I got this error: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: failed to load plugin AdapterPlugin due to jar hell\r\nCaused by: java.lang.IllegalStateException: jar hell!\r\nclass: com.fasterxml.jackson.core.Base64Variant\r\njar1: C:\\elasticsearch-6.2.4\\lib\\jackson-core-2.8.10.jar\r\njar2: C:\\elasticsearch-6.2.4\\plugins\\.installing-4501343069579282727\\jackson-core-2.8.10.jar\r\n        at org.elasticsearch.bootstrap.JarHell.checkClass(JarHell.java:275)\r\n        at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:192)\r\n        at org.elasticsearch.plugins.PluginsService.checkBundleJarHell(PluginsService.java:473)\r\n        ... 12 more\r\n\r\nhow can I resolve this problem? As you see I tried to change my Jackson version from latest version to 2.8.10(which elastic 6.2.4 use it) but that did&#39;nt help.  \r\n\r\nI am using maven and here is my pox.xml file that I am using for my cuatom plugin: \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"Jackson jar hell when installing my plugin on elasticsearch","body":"<p>I am writing a custom plugin for Elasticsearch and this plugin has a dependency on Jackson library. When I installed the plugin on Elasticsearch, I got this error: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: failed to load plugin AdapterPlugin due to jar hell\n  Caused by: java.lang.IllegalStateException: jar hell!\n  class: com.fasterxml.jackson.core.Base64Variant\n  jar1: C:\\elasticsearch-6.2.4\\lib\\jackson-core-2.8.10.jar\n  jar2: C:\\elasticsearch-6.2.4\\plugins.installing-4501343069579282727\\jackson-core-2.8.10.jar\n          at org.elasticsearch.bootstrap.JarHell.checkClass(JarHell.java:275)\n          at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:192)\n          at org.elasticsearch.plugins.PluginsService.checkBundleJarHell(PluginsService.java:473)\n          ... 12 more</p>\n</blockquote>\n\n<p>how can I resolve this problem? As you see I tried to change my Jackson version from latest version to 2.8.10(which elastic 6.2.4 use it) but that did'nt help.  </p>\n\n<p>I am using maven and here is my pox.xml file that I am using for my cuatom plugin: </p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;6.2.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"score":0,"creation_date":1655313190,"post_id":72634681,"comment_id":128305142,"body_markdown":"You should post the entire code. Specifically, what type is &quot;vArray&quot; and which var are you printing?","body":"You should post the entire code. Specifically, what type is &quot;vArray&quot; and which var are you printing?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1655350745,"post_id":72634681,"comment_id":128313356,"body_markdown":"just add another node wrapping `outerObject` in a similar way you added `domande`. As an alternative you could create POJO class with Jackson annotation and then serialize this object.","body":"just add another node wrapping <code>outerObject</code> in a similar way you added <code>domande</code>. As an alternative you could create POJO class with Jackson annotation and then serialize this object."}],"answers":[{"tags":[],"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655466138,"creation_date":1655466138,"answer_id":72658881,"question_id":72634681,"body_markdown":"The Jackson ObjectNode represents a JSON object `{}`. To add properties, you can either call [set(String, JsonNode)](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html#set(java.lang.String,%20com.fasterxml.jackson.databind.JsonNode)) which adds another node (object, array, or simple value) or you can call [putPOJO(String, Object)](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html#putPOJO(java.lang.String,%20java.lang.Object)). POJO stands for Plain Old Java Object and this call will interpret your `List&lt;RigaAnamnesi&gt;` class as an array of JSON objects.\r\n\r\nTo get to your desired structure, you do not need to print the array to a string first. Instead, you can create two objects and use putPOJO followed by set:\r\n\r\n```\r\n    List&lt;RigaAnamnesi&gt; vArray = ...;\r\n    ObjectNode domande = mapper.createObjectNode();\r\n    // use putPOJO to make sure jackson converts the POJO to JsonNodes\r\n    domande.putPOJO(&quot;domande&quot;, vArray);\r\n\r\n    // this is the parent we will print\r\n    ObjectNode anamnesi = mapper.createObjectNode();\r\n    // use set, since domande already is a JsonNode\r\n    anamnesi.set(&quot;anamnesi&quot;, domande);\r\n\r\n    System.out.println(mapper.writeValueAsString(anamnesi));\r\n```\r\n","title":"Java Jackson wrap an existing json with a root entry","body":"<p>The Jackson ObjectNode represents a JSON object <code>{}</code>. To add properties, you can either call <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html#set(java.lang.String,%20com.fasterxml.jackson.databind.JsonNode)\" rel=\"nofollow noreferrer\">set(String, JsonNode)</a> which adds another node (object, array, or simple value) or you can call <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/node/ObjectNode.html#putPOJO(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\">putPOJO(String, Object)</a>. POJO stands for Plain Old Java Object and this call will interpret your <code>List&lt;RigaAnamnesi&gt;</code> class as an array of JSON objects.</p>\n<p>To get to your desired structure, you do not need to print the array to a string first. Instead, you can create two objects and use putPOJO followed by set:</p>\n<pre><code>    List&lt;RigaAnamnesi&gt; vArray = ...;\n    ObjectNode domande = mapper.createObjectNode();\n    // use putPOJO to make sure jackson converts the POJO to JsonNodes\n    domande.putPOJO(&quot;domande&quot;, vArray);\n\n    // this is the parent we will print\n    ObjectNode anamnesi = mapper.createObjectNode();\n    // use set, since domande already is a JsonNode\n    anamnesi.set(&quot;anamnesi&quot;, domande);\n\n    System.out.println(mapper.writeValueAsString(anamnesi));\n</code></pre>\n"}],"owner":{"account_id":22756788,"reputation":13,"user_id":16916148,"display_name":"fabdoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655466138,"creation_date":1655309826,"question_id":72634681,"body_markdown":"I&#39;m a new user of fasterxml.jackson lib. I need an help to undestand how use that lib.\r\nI have an array generated from a string, that I need to include into a root node, but I didn&#39;t understand how do that.\r\n\r\nMy code is:\r\n\r\n     class RigaAnamnesi {\r\n\t\t  int codRiga;\r\n\t\t  String testo;\r\n\t\t  boolean domandaSiNo;\r\n\t\t  Integer sub = 0;\r\n\t\t  String spiegazione = &quot;Spiegazione di prova&quot;;\r\n\t}\r\n    ArrayList&lt;RigaAnamnesi&gt; vArray = fillArray();\r\n    String json = mapper.writeValueAsString(vArray);\r\n    \r\n    JsonNode parsedJson = mapper.readTree(json);\r\n    \t\t \r\n    ArrayNode outerArray = mapper.createArrayNode();\r\n    ObjectNode outerObject = mapper.createObjectNode();\r\n    outerObject.putPOJO(&quot;domande&quot;, parsedJson);\r\n    outerArray.add(outerObject);\r\n    File f = Paths.get(&quot;anamnesi.json&quot;).toFile();\r\n\tmapper.writeValue(f, outerArray);\r\n\r\nand my output is:\r\n\r\n    {\r\n    \t\t&quot;domande&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;codRiga&quot;: 1,\r\n    \t\t\t\t&quot;testo&quot;: &quot;Malattie del sangue e problemi di coagulazione_&quot;,\r\n    \t\t\t\t&quot;domandaSiNo&quot;: true,\r\n    \t\t\t\t&quot;sub&quot;: 0,\r\n    \t\t\t\t&quot;spiegazione&quot;: &quot;Spiegazione di prova&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;codRiga&quot;: 2,\r\n    \t\t\t\t&quot;testo&quot;: &quot;Malattie endocrine (es.Diabete, Osteoporosi)___ &quot;,\r\n    \t\t\t\t&quot;domandaSiNo&quot;: true,\r\n    \t\t\t\t&quot;sub&quot;: 0,\r\n    \t\t\t\t&quot;spiegazione&quot;: &quot;Spiegazione di prova&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;codRiga&quot;: 3,\r\n    \t\t\t\t&quot;testo&quot;: &quot;Malattie cardiache e vascolari_&quot;,\r\n    \t\t\t\t&quot;domandaSiNo&quot;: true,\r\n    \t\t\t\t&quot;sub&quot;: 0,\r\n    \t\t\t\t&quot;spiegazione&quot;: &quot;Spiegazione di prova,&quot;\r\n        \t\t\t},\r\n                    ...\r\nbut I need to include into a new root:\r\n\r\n     {\r\n        &quot;anamnesi&quot;: {\r\n        \t&quot;domande&quot;: [\r\n        \t\t{\r\n        \t\t\t&quot;codRiga&quot;: 1,\r\n        \t\t\t&quot;testo&quot;: &quot;Malattie del sangue e problemi di coagulazione_&quot;,\r\n        \t\t\t&quot;domandaSiNo&quot;: true,\r\n        \t\t\t&quot;sub&quot;: 0,\r\n        \t\t\t&quot;spiegazione&quot;: &quot;&quot;\r\n        \t\t},\r\n                ....\r\n        ","title":"Java Jackson wrap an existing json with a root entry","body":"<p>I'm a new user of fasterxml.jackson lib. I need an help to undestand how use that lib.\nI have an array generated from a string, that I need to include into a root node, but I didn't understand how do that.</p>\n<p>My code is:</p>\n<pre><code> class RigaAnamnesi {\n      int codRiga;\n      String testo;\n      boolean domandaSiNo;\n      Integer sub = 0;\n      String spiegazione = &quot;Spiegazione di prova&quot;;\n}\nArrayList&lt;RigaAnamnesi&gt; vArray = fillArray();\nString json = mapper.writeValueAsString(vArray);\n\nJsonNode parsedJson = mapper.readTree(json);\n         \nArrayNode outerArray = mapper.createArrayNode();\nObjectNode outerObject = mapper.createObjectNode();\nouterObject.putPOJO(&quot;domande&quot;, parsedJson);\nouterArray.add(outerObject);\nFile f = Paths.get(&quot;anamnesi.json&quot;).toFile();\nmapper.writeValue(f, outerArray);\n</code></pre>\n<p>and my output is:</p>\n<pre><code>{\n        &quot;domande&quot;: [\n            {\n                &quot;codRiga&quot;: 1,\n                &quot;testo&quot;: &quot;Malattie del sangue e problemi di coagulazione_&quot;,\n                &quot;domandaSiNo&quot;: true,\n                &quot;sub&quot;: 0,\n                &quot;spiegazione&quot;: &quot;Spiegazione di prova&quot;\n            },\n            {\n                &quot;codRiga&quot;: 2,\n                &quot;testo&quot;: &quot;Malattie endocrine (es.Diabete, Osteoporosi)___ &quot;,\n                &quot;domandaSiNo&quot;: true,\n                &quot;sub&quot;: 0,\n                &quot;spiegazione&quot;: &quot;Spiegazione di prova&quot;\n            },\n            {\n                &quot;codRiga&quot;: 3,\n                &quot;testo&quot;: &quot;Malattie cardiache e vascolari_&quot;,\n                &quot;domandaSiNo&quot;: true,\n                &quot;sub&quot;: 0,\n                &quot;spiegazione&quot;: &quot;Spiegazione di prova,&quot;\n                },\n                ...\n</code></pre>\n<p>but I need to include into a new root:</p>\n<pre><code> {\n    &quot;anamnesi&quot;: {\n        &quot;domande&quot;: [\n            {\n                &quot;codRiga&quot;: 1,\n                &quot;testo&quot;: &quot;Malattie del sangue e problemi di coagulazione_&quot;,\n                &quot;domandaSiNo&quot;: true,\n                &quot;sub&quot;: 0,\n                &quot;spiegazione&quot;: &quot;&quot;\n            },\n            ....\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","authorization"],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655466137,"creation_date":1533267773,"answer_id":51665005,"question_id":50507848,"body_markdown":"You can use Spring EL to access bean from @PreAuthorize annotation:\r\n\r\n    application.properties\r\n      \r\n    my.security.admin-roles-list=RoleA,RoleB,RoleC\r\n\r\n    @Component(&quot;securityConfiguration&quot;)\r\n    public class SecurityConfiguration {\r\n    \r\n        @Value(&quot;#{&#39;${my.security.admin-roles-list}&#39;.split(&#39;,&#39;)}&quot;) \r\n        private List&lt;String&gt; adminRoles;\r\n    \r\n        public List&lt;String&gt; getAdminRoles() {\r\n            return adminRoles;\r\n        }\r\n    }\r\n\r\nThen use it:\r\n\r\n    @PreAuthorize(&quot;hasAnyRole(@securityConfiguration.getAdminRoles())&quot;)\r\n","title":"Inject a list of roles from application properties into a @PreAuthorize","body":"<p>You can use Spring EL to access bean from @PreAuthorize annotation:</p>\n<pre><code>application.properties\n  \nmy.security.admin-roles-list=RoleA,RoleB,RoleC\n\n@Component(&quot;securityConfiguration&quot;)\npublic class SecurityConfiguration {\n\n    @Value(&quot;#{'${my.security.admin-roles-list}'.split(',')}&quot;) \n    private List&lt;String&gt; adminRoles;\n\n    public List&lt;String&gt; getAdminRoles() {\n        return adminRoles;\n    }\n}\n</code></pre>\n<p>Then use it:</p>\n<pre><code>@PreAuthorize(&quot;hasAnyRole(@securityConfiguration.getAdminRoles())&quot;)\n</code></pre>\n"}],"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51665005,"answer_count":1,"score":2,"last_activity_date":1655466137,"creation_date":1527160208,"question_id":50507848,"body_markdown":"Is there any trick for SPEL so I can define my admin roles in the application.yml and then load them directly into something like:\r\n\r\n    @PreAuthorize(&quot;hasAnyRole(${my.security.admin-roles-list})&quot;)\r\n\r\n...?","title":"Inject a list of roles from application properties into a @PreAuthorize","body":"<p>Is there any trick for SPEL so I can define my admin roles in the application.yml and then load them directly into something like:</p>\n\n<pre><code>@PreAuthorize(\"hasAnyRole(${my.security.admin-roles-list})\")\n</code></pre>\n\n<p>...?</p>\n"},{"tags":["java","kotlin-coroutines"],"comments":[{"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":3,"creation_date":1274071888,"post_id":2846664,"comment_id":2889883,"body_markdown":"I&#39;ve read both questions, and I know they are not exactly the same.  However, they&#39;re connected enough that I think you should merge them into one.  This is especially true considering it&#39;s only been an hour since you asked the first one.","body":"I&#39;ve read both questions, and I know they are not exactly the same.  However, they&#39;re connected enough that I think you should merge them into one.  This is especially true considering it&#39;s only been an hour since you asked the first one."},{"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"score":12,"creation_date":1274072199,"post_id":2846664,"comment_id":2889896,"body_markdown":"I disagree.  The nature of the answers of both are sufficiently different that they belong in separate questions.  One is a simple &quot;here is a library that does what you want&quot;-style answer.  The other is a &quot;here&#39;s how you could go about doing what you want&quot;-style answer.  In short one is an URL in response, the other is (pseudo-)code.  They&#39;re entirely different *kinds* of questions and answers which share only two words, really: &quot;Java&quot; and &quot;coroutines&quot;.","body":"I disagree.  The nature of the answers of both are sufficiently different that they belong in separate questions.  One is a simple &quot;here is a library that does what you want&quot;-style answer.  The other is a &quot;here&#39;s how you could go about doing what you want&quot;-style answer.  In short one is an URL in response, the other is (pseudo-)code.  They&#39;re entirely different <i>kinds</i> of questions and answers which share only two words, really: &quot;Java&quot; and &quot;coroutines&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1274075680,"post_id":2846664,"comment_id":2890064,"body_markdown":"Actually, it probably makes no difference.  You are unlikely to get many answers to either question, IMO.  Your requirements seem to rule out all of the viable implementation strategies, AFAIK.","body":"Actually, it probably makes no difference.  You are unlikely to get many answers to either question, IMO.  Your requirements seem to rule out all of the viable implementation strategies, AFAIK."},{"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"score":0,"creation_date":1274076089,"post_id":2846664,"comment_id":2890100,"body_markdown":"Well, #2 is the one that has the least smell of the four there.  I was hoping there was some trick someone could think of that would eliminate the need for unportable stuff under the hood.","body":"Well, #2 is the one that has the least smell of the four there.  I was hoping there was some trick someone could think of that would eliminate the need for unportable stuff under the hood."},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":0,"creation_date":1523524017,"post_id":2846664,"comment_id":86599264,"body_markdown":"I know this is ancient question but I would still like to point out that &quot;The whole point of coroutines is to avoid the overhead of threading&quot; is probably not the whole point of coroutines ... it is only the perspective that the OP has on coroutines. I&#39;m sure other people have different viewpoints and see different advantages to coroutines. Just as an example, some people in some languages would consider code clarity to be &#39;the point&#39;.","body":"I know this is ancient question but I would still like to point out that &quot;The whole point of coroutines is to avoid the overhead of threading&quot; is probably not the whole point of coroutines ... it is only the perspective that the OP has on coroutines. I&#39;m sure other people have different viewpoints and see different advantages to coroutines. Just as an example, some people in some languages would consider code clarity to be &#39;the point&#39;."},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":0,"creation_date":1523533774,"post_id":2846664,"comment_id":86605761,"body_markdown":"I just read the (highly recommended) link above (https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html) and I feel I just have put my opinion in no uncertain terms for posterity: the point of coroutines is not avoiding thread overhead but it is code clarity.","body":"I just read the (highly recommended) link above (<a href=\"https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html\" rel=\"nofollow noreferrer\">chiark.greenend.org.uk/~sgtatham/coroutines.html</a>) and I feel I just have put my opinion in no uncertain terms for posterity: the point of coroutines is not avoiding thread overhead but it is code clarity."},{"owner":{"account_id":1868398,"reputation":332,"user_id":1778316,"accept_rate":25,"display_name":"John Moore"},"score":0,"creation_date":1548879671,"post_id":2846664,"comment_id":95706568,"body_markdown":"I agree with nyholku. When I read the &quot;The whole point of...&quot; I was immediately in disagreement. Co-routines are wonderful for code which has to wait for operations to finish before moving on - such as web server hits. They allow linear code, which is often very clear, as opposed to code depending on callbacks, which can result in ugly and bug-filled state management issues. Threads provide the same capability, but at the cost of potentially having too many expensive threads. Co-routines are also useful for certain algorithms where a sharing of parallel algorithms makes sense.","body":"I agree with nyholku. When I read the &quot;The whole point of...&quot; I was immediately in disagreement. Co-routines are wonderful for code which has to wait for operations to finish before moving on - such as web server hits. They allow linear code, which is often very clear, as opposed to code depending on callbacks, which can result in ugly and bug-filled state management issues. Threads provide the same capability, but at the cost of potentially having too many expensive threads. Co-routines are also useful for certain algorithms where a sharing of parallel algorithms makes sense."}],"answers":[{"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1274114513,"creation_date":1274076132,"answer_id":2846943,"question_id":2846664,"body_markdown":"I would take a look at this: [http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html][1], its pretty interesting and should provide a good place to start.  But of course we are using Java so we can do better (or maybe worse because there are no macros :))\r\n\r\nFrom my understanding with coroutines you usually have a **producer** and a **consumer** coroutine (or at least this is the most common pattern).  But semantically you don&#39;t want the producer to call the consumer or visa-versa because this introduces an asymmetry.  But given the way stack based languages work we will need to have someone do the calling.\r\n\r\nSo here is a very simple type hierarchy:\r\n\r\n    public interface CoroutineProducer&lt;T&gt;\r\n    {\r\n        public T Produce();\r\n        public boolean isDone();\r\n    }\r\n    \r\n    public interface CoroutineConsumer&lt;T&gt;\r\n    {\r\n        public void Consume(T t);\r\n    }\r\n    \r\n    public class CoroutineManager\r\n    {\r\n        public static Execute&lt;T&gt;(CoroutineProducer&lt;T&gt; prod, CoroutineConsumer&lt;T&gt; con)\r\n        {\r\n            while(!prod.IsDone()) // really simple\r\n            {\r\n                T d = prod.Produce();\r\n                con.Consume(d);\r\n            }\r\n        }\r\n    }\r\n\r\nNow of course the hard part is *implementing* the interfaces, in particular it is difficult to break a computation into individual steps.  For this you would probably want a whole other set of **persistent control structures**.  The basic idea is that we want to simulate non-local transfer of control (in the end its kinda like we&#39;re simulating a `goto`). We basically want to move away from using the stack and the `pc` (program-counter) by keeping the state of our current operations in the heap instead of on the stack.  Therefore we are going to need a bunch of helper classes.\r\n\r\nFor example:\r\n\r\nLet&#39;s say that in an ideal world you wanted to write a consumer that looked like this (psuedocode):\r\n\r\n    boolean is_done;\r\n    int other_state;\r\n    while(!is_done)\r\n    {\r\n        //read input\r\n        //parse input\r\n        //yield input to coroutine\r\n        //update is_done and other_state;\r\n    }\r\n\r\nwe need to abstract the local variable like `is_done`and `other_state` and we need to abstract the while loop itself because our `yield ` like operation is not going to be using the stack.  So let&#39;s create a while loop abstraction and associated classes:\r\n\r\n\r\n    enum WhileState {BREAK, CONTINUE, YIELD}\r\n    abstract class WhileLoop&lt;T&gt;\r\n    {\r\n        private boolean is_done;\r\n        public boolean isDone() { return is_done;}\r\n    \tprivate T rval;\r\n    \tpublic T getReturnValue() {return rval;} \r\n    \tprotected void setReturnValue(T val)\r\n    \t{\r\n    \t\trval = val;\r\n    \t}\r\n    \r\n    \r\n    \tpublic T loop()\r\n    \t{\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tWhileState state = execute();\r\n    \t\t\tif(state == WhileState.YIELD)\r\n    \t\t\t\treturn getReturnValue();\r\n    \t\t\telse if(state == WhileState.BREAK)\r\n                        {\r\n                           is_done = true;\r\n    \t\t\t\treturn null;\r\n                        }\r\n    \t\t}\r\n    \t}\r\n    \tprotected abstract WhileState execute();\r\n    }\r\n\r\nThe Basic trick here is to move **local** variables to be **class** variables and turn scope blocks into classes which gives us the ability to &#39;re-enter&#39; our &#39;loop&#39; after yielding our return value.\r\n\r\nNow to implement our producer\r\n\r\n    public class SampleProducer : CoroutineProducer&lt;Object&gt;\r\n    {\r\n        private WhileLoop&lt;Object&gt; loop;//our control structures become state!!\r\n        public SampleProducer()\r\n        {\r\n            loop = new WhileLoop()\r\n            {\r\n                private int other_state;//our local variables become state of the control structure\r\n                protected WhileState execute() \r\n                {\r\n                    //this implements a single iteration of the loop\r\n                    if(is_done) return WhileState.BREAK;\r\n                    //read input\r\n                    //parse input\r\n                    Object calcluated_value = ...;\r\n                    //update is_done, figure out if we want to continue\r\n                    setReturnValue(calculated_value);\r\n                    return WhileState.YIELD;\r\n                }\r\n            };\r\n        }\r\n        public Object Produce()\r\n        {\r\n            Object val = loop.loop();\r\n            return val;\r\n        }\r\n        public boolean isDone()\r\n        {\r\n            //we are done when the loop has exited\r\n            return loop.isDone();\r\n        }\r\n    }\r\n\r\nSimilar tricks could be done for other basic control flow structures.  You would ideally build up a library of these helper classes and then use them to implement these simple interfaces which would ultimately give you the semantics of co-routines.  I&#39;m sure everything I&#39;ve written here can be generalized and expanded upon greatly.\r\n\r\n  [1]: http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html\r\n\r\n","title":"Implementing coroutines in Java","body":"<p>I would take a look at this: <a href=\"http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html\" rel=\"noreferrer\">http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html</a>, its pretty interesting and should provide a good place to start.  But of course we are using Java so we can do better (or maybe worse because there are no macros :))</p>\n\n<p>From my understanding with coroutines you usually have a <strong>producer</strong> and a <strong>consumer</strong> coroutine (or at least this is the most common pattern).  But semantically you don't want the producer to call the consumer or visa-versa because this introduces an asymmetry.  But given the way stack based languages work we will need to have someone do the calling.</p>\n\n<p>So here is a very simple type hierarchy:</p>\n\n<pre><code>public interface CoroutineProducer&lt;T&gt;\n{\n    public T Produce();\n    public boolean isDone();\n}\n\npublic interface CoroutineConsumer&lt;T&gt;\n{\n    public void Consume(T t);\n}\n\npublic class CoroutineManager\n{\n    public static Execute&lt;T&gt;(CoroutineProducer&lt;T&gt; prod, CoroutineConsumer&lt;T&gt; con)\n    {\n        while(!prod.IsDone()) // really simple\n        {\n            T d = prod.Produce();\n            con.Consume(d);\n        }\n    }\n}\n</code></pre>\n\n<p>Now of course the hard part is <em>implementing</em> the interfaces, in particular it is difficult to break a computation into individual steps.  For this you would probably want a whole other set of <strong>persistent control structures</strong>.  The basic idea is that we want to simulate non-local transfer of control (in the end its kinda like we're simulating a <code>goto</code>). We basically want to move away from using the stack and the <code>pc</code> (program-counter) by keeping the state of our current operations in the heap instead of on the stack.  Therefore we are going to need a bunch of helper classes.</p>\n\n<p>For example:</p>\n\n<p>Let's say that in an ideal world you wanted to write a consumer that looked like this (psuedocode):</p>\n\n<pre><code>boolean is_done;\nint other_state;\nwhile(!is_done)\n{\n    //read input\n    //parse input\n    //yield input to coroutine\n    //update is_done and other_state;\n}\n</code></pre>\n\n<p>we need to abstract the local variable like <code>is_done</code>and <code>other_state</code> and we need to abstract the while loop itself because our <code>yield</code> like operation is not going to be using the stack.  So let's create a while loop abstraction and associated classes:</p>\n\n<pre><code>enum WhileState {BREAK, CONTINUE, YIELD}\nabstract class WhileLoop&lt;T&gt;\n{\n    private boolean is_done;\n    public boolean isDone() { return is_done;}\n    private T rval;\n    public T getReturnValue() {return rval;} \n    protected void setReturnValue(T val)\n    {\n        rval = val;\n    }\n\n\n    public T loop()\n    {\n        while(true)\n        {\n            WhileState state = execute();\n            if(state == WhileState.YIELD)\n                return getReturnValue();\n            else if(state == WhileState.BREAK)\n                    {\n                       is_done = true;\n                return null;\n                    }\n        }\n    }\n    protected abstract WhileState execute();\n}\n</code></pre>\n\n<p>The Basic trick here is to move <strong>local</strong> variables to be <strong>class</strong> variables and turn scope blocks into classes which gives us the ability to 're-enter' our 'loop' after yielding our return value.</p>\n\n<p>Now to implement our producer</p>\n\n<pre><code>public class SampleProducer : CoroutineProducer&lt;Object&gt;\n{\n    private WhileLoop&lt;Object&gt; loop;//our control structures become state!!\n    public SampleProducer()\n    {\n        loop = new WhileLoop()\n        {\n            private int other_state;//our local variables become state of the control structure\n            protected WhileState execute() \n            {\n                //this implements a single iteration of the loop\n                if(is_done) return WhileState.BREAK;\n                //read input\n                //parse input\n                Object calcluated_value = ...;\n                //update is_done, figure out if we want to continue\n                setReturnValue(calculated_value);\n                return WhileState.YIELD;\n            }\n        };\n    }\n    public Object Produce()\n    {\n        Object val = loop.loop();\n        return val;\n    }\n    public boolean isDone()\n    {\n        //we are done when the loop has exited\n        return loop.isDone();\n    }\n}\n</code></pre>\n\n<p>Similar tricks could be done for other basic control flow structures.  You would ideally build up a library of these helper classes and then use them to implement these simple interfaces which would ultimately give you the semantics of co-routines.  I'm sure everything I've written here can be generalized and expanded upon greatly.</p>\n"},{"tags":[],"owner":{"account_id":1600590,"reputation":968,"user_id":1481689,"accept_rate":10,"display_name":"Howard Lovatt"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1346754785,"creation_date":1346754785,"answer_id":12261640,"question_id":2846664,"body_markdown":"I have a Coroutine class that I use in Java. It is based on threads and using threads has the advantage of allowing parallel operation, which on multicore machines can be an advantage. Therefore you might want to consider a thread based approach.","title":"Implementing coroutines in Java","body":"<p>I have a Coroutine class that I use in Java. It is based on threads and using threads has the advantage of allowing parallel operation, which on multicore machines can be an advantage. Therefore you might want to consider a thread based approach.</p>\n"},{"tags":[],"owner":{"account_id":1760727,"reputation":620,"user_id":1607924,"display_name":"Bunny83"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366460028,"creation_date":1366460028,"answer_id":16120220,"question_id":2846664,"body_markdown":"I just came across this question and just want to mention that i think it might be possible to implement coroutines or generators in a similar way C# does. That said i don&#39;t actually use Java but the CIL has quite similar limitations as the JVM has.\r\n\r\nThe [yield statement][1] in C# is a pure language feature and is not part of the CIL bytecode. The C# compiler just creates a hidden private class for each generator function. If you use the yield statement in a function it has to return an IEnumerator or an IEnumerable. The compiler &quot;packs&quot; your code into a statemachine-like class.\r\n\r\nThe C# compiler might use some &quot;goto&#39;s&quot; in the generated code to make the conversion into a statemachine easier. I don&#39;t know the capabilities of Java bytecode and if there&#39;s something like a plain unconditional jump, but at &quot;assembly level&quot; it&#39;s usually possible.\r\n\r\nAs already mentioned this feature has to be implemented in the compiler. Because i have only little knowledge about Java and it&#39;s compiler i can&#39;t tell if it&#39;s possible to alter / extend the compiler, maybe with a &quot;preprocessor&quot; or something.\r\n\r\nPersonally i love coroutines. As a Unity games developer i use them quite often. Because i play alot of Minecraft with ComputerCraft i was curious why coroutines in Lua (LuaJ) are implemented with threads.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/vstudio/9k7k7cf0.aspx\r\n","title":"Implementing coroutines in Java","body":"<p>I just came across this question and just want to mention that i think it might be possible to implement coroutines or generators in a similar way C# does. That said i don't actually use Java but the CIL has quite similar limitations as the JVM has.</p>\n\n<p>The <a href=\"http://msdn.microsoft.com/en-us/library/vstudio/9k7k7cf0.aspx\" rel=\"nofollow\">yield statement</a> in C# is a pure language feature and is not part of the CIL bytecode. The C# compiler just creates a hidden private class for each generator function. If you use the yield statement in a function it has to return an IEnumerator or an IEnumerable. The compiler \"packs\" your code into a statemachine-like class.</p>\n\n<p>The C# compiler might use some \"goto's\" in the generated code to make the conversion into a statemachine easier. I don't know the capabilities of Java bytecode and if there's something like a plain unconditional jump, but at \"assembly level\" it's usually possible.</p>\n\n<p>As already mentioned this feature has to be implemented in the compiler. Because i have only little knowledge about Java and it's compiler i can't tell if it's possible to alter / extend the compiler, maybe with a \"preprocessor\" or something.</p>\n\n<p>Personally i love coroutines. As a Unity games developer i use them quite often. Because i play alot of Minecraft with ComputerCraft i was curious why coroutines in Lua (LuaJ) are implemented with threads.</p>\n"},{"tags":[],"owner":{"account_id":1046776,"reputation":27433,"user_id":1051598,"accept_rate":20,"display_name":"Roman  Elizarov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1491387049,"creation_date":1491387049,"answer_id":43228137,"question_id":2846664,"body_markdown":"I&#39;d suggest to look at [Kotlin coroutines on JVM](https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html). It falls into a different category, though. There is no byte-code manipulation involved and it works on Android, too. However, you will have to write your coroutines in Kotlin. The upside is that Kotlin is designed for interoperability with Java in mind, so you can still continue to use all your Java libraries and freely combine Kotlin and Java code in the same project, even putting them side-by-side in the same directories and packages.\r\n\r\nThis [Guide to kotlinx.coroutines](https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md) provides many more examples, while [the coroutines design](https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md) document explains all the motivation, use-cases and implementation details.","title":"Implementing coroutines in Java","body":"<p>I'd suggest to look at <a href=\"https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html\" rel=\"noreferrer\">Kotlin coroutines on JVM</a>. It falls into a different category, though. There is no byte-code manipulation involved and it works on Android, too. However, you will have to write your coroutines in Kotlin. The upside is that Kotlin is designed for interoperability with Java in mind, so you can still continue to use all your Java libraries and freely combine Kotlin and Java code in the same project, even putting them side-by-side in the same directories and packages.</p>\n\n<p>This <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">Guide to kotlinx.coroutines</a> provides many more examples, while <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"noreferrer\">the coroutines design</a> document explains all the motivation, use-cases and implementation details.</p>\n"},{"tags":[],"owner":{"account_id":2220806,"reputation":141,"user_id":1960211,"display_name":"gooboo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1491453551,"creation_date":1491451689,"answer_id":43245546,"question_id":2846664,"body_markdown":"Kotlin uses the following approach for co-routines  \r\n(from https://kotlinlang.org/docs/reference/coroutines.html):\r\n\r\n&gt; Coroutines are completely implemented through a compilation technique (no support from the VM or OS side is required), and suspension works through code transformation. Basically, every suspending function (optimizations may apply, but we&#39;ll not go into this here) is transformed to a state machine where states correspond to suspending calls. Right before a suspension, the next state is stored in a field of a compiler-generated class along with relevant local variables, etc. Upon resumption of that coroutine, local variables are restored and the state machine proceeds from the state right after suspension.\r\n&gt;\r\n&gt; A suspended coroutine can be stored and passed around as an object that keeps its suspended state and locals. The type of such objects is Continuation, and the overall code transformation described here corresponds to the classical Continuation-passing style. Consequently, suspending functions take an extra parameter of type Continuation under the hood.\r\n\r\nCheck out the design document at https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md ","title":"Implementing coroutines in Java","body":"<p>Kotlin uses the following approach for co-routines<br>\n(from <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/coroutines.html</a>):</p>\n\n<blockquote>\n  <p>Coroutines are completely implemented through a compilation technique (no support from the VM or OS side is required), and suspension works through code transformation. Basically, every suspending function (optimizations may apply, but we'll not go into this here) is transformed to a state machine where states correspond to suspending calls. Right before a suspension, the next state is stored in a field of a compiler-generated class along with relevant local variables, etc. Upon resumption of that coroutine, local variables are restored and the state machine proceeds from the state right after suspension.</p>\n  \n  <p>A suspended coroutine can be stored and passed around as an object that keeps its suspended state and locals. The type of such objects is Continuation, and the overall code transformation described here corresponds to the classical Continuation-passing style. Consequently, suspending functions take an extra parameter of type Continuation under the hood.</p>\n</blockquote>\n\n<p>Check out the design document at <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"noreferrer\">https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md</a> </p>\n"},{"tags":[],"owner":{"account_id":2652273,"reputation":91,"user_id":2293635,"display_name":"John Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511859230,"creation_date":1511513224,"answer_id":47469436,"question_id":2846664,"body_markdown":"There&#39;s an another choice is here for Java6+\r\n\r\nA pythonic coroutine implementation:\r\n\r\n    import java.lang.ref.WeakReference;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.*;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    \r\n    class CorRunRAII {\r\n        private final List&lt;WeakReference&lt;? extends CorRun&gt;&gt; resources = new ArrayList&lt;&gt;();\r\n    \r\n        public CorRunRAII add(CorRun resource) {\r\n            if (resource == null) {\r\n                return this;\r\n            }\r\n            resources.add(new WeakReference&lt;&gt;(resource));\r\n    \r\n            return this;\r\n        }\r\n    \r\n        public CorRunRAII addAll(List&lt;? extends CorRun&gt; arrayList) {\r\n            if (arrayList == null) {\r\n                return this;\r\n            }\r\n            for (CorRun corRun : arrayList) {\r\n                add(corRun);\r\n            }\r\n    \r\n            return this;\r\n        }\r\n    \r\n        @Override\r\n        protected void finalize() throws Throwable {\r\n            super.finalize();\r\n    \r\n            for (WeakReference&lt;? extends CorRun&gt; corRunWeakReference : resources) {\r\n                CorRun corRun = corRunWeakReference.get();\r\n                if (corRun != null) {\r\n                    corRun.stop();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    class CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; {\r\n        public final AtomicReference&lt;ReceiveType&gt; receiveValue;\r\n        public final LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue;\r\n    \r\n        CorRunYieldReturn(AtomicReference&lt;ReceiveType&gt; receiveValue, LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue) {\r\n            this.receiveValue = receiveValue;\r\n            this.yieldReturnValue = yieldReturnValue;\r\n        }\r\n    }\r\n    \r\n    interface CorRun&lt;ReceiveType, YieldReturnType&gt; extends Runnable, Callable&lt;YieldReturnType&gt; {\r\n        boolean start();\r\n        void stop();\r\n        void stop(final Throwable throwable);\r\n        boolean isStarted();\r\n        boolean isEnded();\r\n        Throwable getError();\r\n    \r\n        ReceiveType getReceiveValue();\r\n        void setResultForOuter(YieldReturnType resultForOuter);\r\n        YieldReturnType getResultForOuter();\r\n    \r\n        YieldReturnType receive(ReceiveType value);\r\n        ReceiveType yield();\r\n        ReceiveType yield(YieldReturnType value);\r\n        &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another);\r\n        &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, final TargetReceiveType value);\r\n    }\r\n    \r\n    abstract class CorRunSync&lt;ReceiveType, YieldReturnType&gt; implements CorRun&lt;ReceiveType, YieldReturnType&gt; {\r\n    \r\n        private ReceiveType receiveValue;\r\n        public final List&lt;WeakReference&lt;CorRun&gt;&gt; potentialChildrenCoroutineList = new ArrayList&lt;&gt;();\r\n    \r\n        // Outside\r\n    \r\n        private AtomicBoolean isStarted = new AtomicBoolean(false);\r\n        private AtomicBoolean isEnded = new AtomicBoolean(false);\r\n        private Throwable error;\r\n    \r\n        private YieldReturnType resultForOuter;\r\n    \r\n        @Override\r\n        public boolean start() {\r\n    \r\n            boolean isStarted = this.isStarted.getAndSet(true);\r\n            if ((! isStarted)\r\n                    &amp;&amp; (! isEnded())) {\r\n                receive(null);\r\n            }\r\n    \r\n            return isStarted;\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            stop(null);\r\n        }\r\n    \r\n        @Override\r\n        public void stop(Throwable throwable) {\r\n            isEnded.set(true);\r\n            if (throwable != null) {\r\n                error = throwable;\r\n            }\r\n    \r\n            for (WeakReference&lt;CorRun&gt; weakReference : potentialChildrenCoroutineList) {\r\n                CorRun child = weakReference.get();\r\n                if (child != null) {\r\n                    child.stop();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean isStarted() {\r\n            return isStarted.get();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnded() {\r\n            return isEnded.get();\r\n        }\r\n    \r\n        @Override\r\n        public Throwable getError() {\r\n            return error;\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType getReceiveValue() {\r\n            return receiveValue;\r\n        }\r\n    \r\n        @Override\r\n        public void setResultForOuter(YieldReturnType resultForOuter) {\r\n            this.resultForOuter = resultForOuter;\r\n        }\r\n    \r\n        @Override\r\n        public YieldReturnType getResultForOuter() {\r\n            return resultForOuter;\r\n        }\r\n    \r\n        @Override\r\n        public synchronized YieldReturnType receive(ReceiveType value) {\r\n            receiveValue = value;\r\n    \r\n            run();\r\n    \r\n            return getResultForOuter();\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType yield() {\r\n            return yield(null);\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType yield(YieldReturnType value) {\r\n            resultForOuter = value;\r\n            return receiveValue;\r\n        }\r\n    \r\n        @Override\r\n        public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another) {\r\n            return yieldFrom(another, null);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, TargetReceiveType value) {\r\n            if (another == null || another.isEnded()) {\r\n                throw new RuntimeException(&quot;Call null or isEnded coroutine&quot;);\r\n            }\r\n    \r\n            potentialChildrenCoroutineList.add(new WeakReference&lt;CorRun&gt;(another));\r\n    \r\n            synchronized (another) {\r\n                boolean isStarted = another.start();\r\n                boolean isJustStarting = ! isStarted;\r\n                if (isJustStarting &amp;&amp; another instanceof CorRunSync) {\r\n                    return another.getResultForOuter();\r\n                }\r\n    \r\n                return another.receive(value);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                this.call();\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n    \r\n                stop(e);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    \r\n    abstract class CorRunThread&lt;ReceiveType, YieldReturnType&gt; implements CorRun&lt;ReceiveType, YieldReturnType&gt; {\r\n    \r\n        private final ExecutorService childExecutorService = newExecutorService();\r\n        private ExecutorService executingOnExecutorService;\r\n    \r\n        private static final CorRunYieldReturn DUMMY_COR_RUN_YIELD_RETURN = new CorRunYieldReturn(new AtomicReference&lt;&gt;(null), new LinkedBlockingDeque&lt;AtomicReference&gt;());\r\n    \r\n        private final CorRun&lt;ReceiveType, YieldReturnType&gt; self;\r\n        public final List&lt;WeakReference&lt;CorRun&gt;&gt; potentialChildrenCoroutineList;\r\n        private CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; lastCorRunYieldReturn;\r\n    \r\n        private final LinkedBlockingDeque&lt;CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt;&gt; receiveQueue;\r\n    \r\n        // Outside\r\n    \r\n        private AtomicBoolean isStarted = new AtomicBoolean(false);\r\n        private AtomicBoolean isEnded = new AtomicBoolean(false);\r\n        private Future&lt;YieldReturnType&gt; future;\r\n        private Throwable error;\r\n    \r\n        private final AtomicReference&lt;YieldReturnType&gt; resultForOuter = new AtomicReference&lt;&gt;();\r\n    \r\n        CorRunThread() {\r\n            executingOnExecutorService = childExecutorService;\r\n    \r\n            receiveQueue = new LinkedBlockingDeque&lt;&gt;();\r\n            potentialChildrenCoroutineList = new ArrayList&lt;&gt;();\r\n    \r\n            self = this;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                self.call();\r\n            }\r\n            catch (Exception e) {\r\n                stop(e);\r\n                return;\r\n            }\r\n    \r\n            stop();\r\n        }\r\n    \r\n        @Override\r\n        public abstract YieldReturnType call();\r\n    \r\n        @Override\r\n        public boolean start() {\r\n            return start(childExecutorService);\r\n        }\r\n    \r\n        protected boolean start(ExecutorService executorService) {\r\n            boolean isStarted = this.isStarted.getAndSet(true);\r\n            if (!isStarted) {\r\n                executingOnExecutorService = executorService;\r\n                future = (Future&lt;YieldReturnType&gt;) executingOnExecutorService.submit((Runnable) self);\r\n            }\r\n            return isStarted;\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            stop(null);\r\n        }\r\n    \r\n        @Override\r\n        public void stop(final Throwable throwable) {\r\n            if (throwable != null) {\r\n                error = throwable;\r\n            }\r\n            isEnded.set(true);\r\n    \r\n            returnYieldValue(null);\r\n            // Do this for making sure the coroutine has checked isEnd() after getting a dummy value\r\n            receiveQueue.offer(DUMMY_COR_RUN_YIELD_RETURN);\r\n    \r\n            for (WeakReference&lt;CorRun&gt; weakReference : potentialChildrenCoroutineList) {\r\n                CorRun child = weakReference.get();\r\n                if (child != null) {\r\n                    if (child instanceof CorRunThread) {\r\n                        ((CorRunThread)child).tryStop(childExecutorService);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            childExecutorService.shutdownNow();\r\n        }\r\n    \r\n        protected void tryStop(ExecutorService executorService) {\r\n            if (this.executingOnExecutorService == executorService) {\r\n                stop();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnded() {\r\n            return isEnded.get() || (\r\n                    future != null &amp;&amp; (future.isCancelled() || future.isDone())\r\n                    );\r\n        }\r\n    \r\n        @Override\r\n        public boolean isStarted() {\r\n            return isStarted.get();\r\n        }\r\n    \r\n        public Future&lt;YieldReturnType&gt; getFuture() {\r\n            return future;\r\n        }\r\n    \r\n        @Override\r\n        public Throwable getError() {\r\n            return error;\r\n        }\r\n    \r\n        @Override\r\n        public void setResultForOuter(YieldReturnType resultForOuter) {\r\n            this.resultForOuter.set(resultForOuter);\r\n        }\r\n    \r\n        @Override\r\n        public YieldReturnType getResultForOuter() {\r\n            return this.resultForOuter.get();\r\n        }\r\n    \r\n        @Override\r\n        public YieldReturnType receive(ReceiveType value) {\r\n    \r\n            LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue = new LinkedBlockingDeque&lt;&gt;();\r\n    \r\n            offerReceiveValue(value, yieldReturnValue);\r\n    \r\n            try {\r\n                AtomicReference&lt;YieldReturnType&gt; takeValue = yieldReturnValue.take();\r\n                return takeValue == null ? null : takeValue.get();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType yield() {\r\n            return yield(null);\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType yield(final YieldReturnType value) {\r\n            returnYieldValue(value);\r\n    \r\n            return getReceiveValue();\r\n        }\r\n    \r\n        @Override\r\n        public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another) {\r\n            return yieldFrom(another, null);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, final TargetReceiveType value) {\r\n            if (another == null || another.isEnded()) {\r\n                throw new RuntimeException(&quot;Call null or isEnded coroutine&quot;);\r\n            }\r\n    \r\n            boolean isStarted = false;\r\n            potentialChildrenCoroutineList.add(new WeakReference&lt;CorRun&gt;(another));\r\n    \r\n            synchronized (another) {\r\n                if (another instanceof CorRunThread) {\r\n                    isStarted = ((CorRunThread)another).start(childExecutorService);\r\n                }\r\n                else {\r\n                    isStarted = another.start();\r\n                }\r\n    \r\n                boolean isJustStarting = ! isStarted;\r\n                if (isJustStarting &amp;&amp; another instanceof CorRunSync) {\r\n                    return another.getResultForOuter();\r\n                }\r\n    \r\n                TargetYieldReturnType send = another.receive(value);\r\n                return send;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ReceiveType getReceiveValue() {\r\n    \r\n            setLastCorRunYieldReturn(takeLastCorRunYieldReturn());\r\n    \r\n            return lastCorRunYieldReturn.receiveValue.get();\r\n        }\r\n    \r\n        protected void returnYieldValue(final YieldReturnType value) {\r\n            CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; corRunYieldReturn = lastCorRunYieldReturn;\r\n            if (corRunYieldReturn != null) {\r\n                corRunYieldReturn.yieldReturnValue.offer(new AtomicReference&lt;&gt;(value));\r\n            }\r\n        }\r\n    \r\n        protected void offerReceiveValue(final ReceiveType value, LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue) {\r\n            receiveQueue.offer(new CorRunYieldReturn(new AtomicReference&lt;&gt;(value), yieldReturnValue));\r\n        }\r\n    \r\n        protected CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; takeLastCorRunYieldReturn() {\r\n            try {\r\n                return receiveQueue.take();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        protected void setLastCorRunYieldReturn(CorRunYieldReturn&lt;ReceiveType,YieldReturnType&gt; lastCorRunYieldReturn) {\r\n            this.lastCorRunYieldReturn = lastCorRunYieldReturn;\r\n        }\r\n    \r\n        protected ExecutorService newExecutorService() {\r\n            return Executors.newCachedThreadPool(getThreadFactory());\r\n        }\r\n    \r\n        protected ThreadFactory getThreadFactory() {\r\n            return new ThreadFactory() {\r\n                @Override\r\n                public Thread newThread(final Runnable runnable) {\r\n                    Thread thread = new Thread(runnable);\r\n                    thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\r\n                        @Override\r\n                        public void uncaughtException(Thread thread, Throwable throwable) {\r\n                            throwable.printStackTrace();\r\n                            if (runnable instanceof CorRun) {\r\n                                CorRun self = (CorRun) runnable;\r\n                                self.stop(throwable);\r\n                                thread.interrupt();\r\n                            }\r\n                        }\r\n                    });\r\n                    return thread;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nNow you can use pythonic coroutines in this way\r\n(e.g. fibonacci numbers)\r\n\r\nThread Version:\r\n\r\n    class Fib extends CorRunThread&lt;Integer, Integer&gt; {\r\n\r\n        @Override\r\n        public Integer call() {\r\n            Integer times = getReceiveValue();\r\n            do {\r\n                int a = 1, b = 1;\r\n                for (int i = 0; times != null &amp;&amp; i &lt; times; i++) {\r\n                    int temp = a + b;\r\n                    a = b;\r\n                    b = temp;\r\n                }\r\n                // A pythonic &quot;yield&quot;, i.e., it returns `a` to the caller and waits `times` value from the next caller\r\n                times = yield(a);\r\n            } while (! isEnded());\r\n\r\n            setResultForOuter(Integer.MAX_VALUE);\r\n            return getResultForOuter();\r\n        }\r\n    }\r\n\r\n    class MainRun extends CorRunThread&lt;String, String&gt; {\r\n\r\n        @Override\r\n        public String call() {\r\n\r\n            // The fib coroutine would be recycled by its parent\r\n            // (no requirement to call its start() and stop() manually)\r\n            // Otherwise, if you want to share its instance and start/stop it manually,\r\n            // please start it before being called by yieldFrom() and stop it in the end.\r\n            Fib fib = new Fib();\r\n            String result = &quot;&quot;;\r\n            Integer current;\r\n            int times = 10;\r\n            for (int i = 0; i &lt; times; i++) {\r\n\r\n                // A pythonic &quot;yield from&quot;, i.e., it calls fib with `i` parameter and waits for returned value as `current`\r\n                current = yieldFrom(fib, i);\r\n\r\n                if (fib.getError() != null) {\r\n                    throw new RuntimeException(fib.getError());\r\n                }\r\n\r\n                if (current == null) {\r\n                    continue;\r\n                }\r\n\r\n                if (i &gt; 0) {\r\n                    result += &quot;,&quot;;\r\n                }\r\n                result += current;\r\n\r\n            }\r\n\r\n            setResultForOuter(result);\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\nSync(non-thread) version:\r\n\r\n    class Fib extends CorRunSync&lt;Integer, Integer&gt; {\r\n\r\n        @Override\r\n        public Integer call() {\r\n            Integer times = getReceiveValue();\r\n\r\n            int a = 1, b = 1;\r\n            for (int i = 0; times != null &amp;&amp; i &lt; times; i++) {\r\n                int temp = a + b;\r\n                a = b;\r\n                b = temp;\r\n            }\r\n            yield(a);\r\n\r\n            return getResultForOuter();\r\n        }\r\n    }\r\n\r\n    class MainRun extends CorRunSync&lt;String, String&gt; {\r\n\r\n        @Override\r\n        public String call() {\r\n\r\n            CorRun&lt;Integer, Integer&gt; fib = null;\r\n            try {\r\n                fib = new Fib();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            String result = &quot;&quot;;\r\n            Integer current;\r\n            int times = 10;\r\n            for (int i = 0; i &lt; times; i++) {\r\n\r\n                current = yieldFrom(fib, i);\r\n\r\n                if (fib.getError() != null) {\r\n                    throw new RuntimeException(fib.getError());\r\n                }\r\n\r\n                if (current == null) {\r\n                    continue;\r\n                }\r\n\r\n                if (i &gt; 0) {\r\n                    result += &quot;,&quot;;\r\n                }\r\n                result += current;\r\n            }\r\n\r\n            stop();\r\n            setResultForOuter(result);\r\n\r\n            if (Utils.isEmpty(result)) {\r\n                throw new RuntimeException(&quot;Error&quot;);\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n---\r\n\r\nExecution(Both versions will work):\r\n\r\n    // Run the entry coroutine\r\n    MainRun mainRun = new MainRun();\r\n    mainRun.start();\r\n\r\n    // Wait for mainRun ending for 5 seconds\r\n    long startTimestamp = System.currentTimeMillis();\r\n    while(!mainRun.isEnded()) {\r\n        if (System.currentTimeMillis() - startTimestamp &gt; TimeUnit.SECONDS.toMillis(5)) {\r\n            throw new RuntimeException(&quot;Wait too much time&quot;);\r\n        }\r\n    }\r\n    // The result should be &quot;1,1,2,3,5,8,13,21,34,55&quot;\r\n    System.out.println(mainRun.getResultForOuter());","title":"Implementing coroutines in Java","body":"<p>There's an another choice is here for Java6+</p>\n\n<p>A pythonic coroutine implementation:</p>\n\n<pre><code>import java.lang.ref.WeakReference;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.concurrent.atomic.AtomicReference;\n\nclass CorRunRAII {\n    private final List&lt;WeakReference&lt;? extends CorRun&gt;&gt; resources = new ArrayList&lt;&gt;();\n\n    public CorRunRAII add(CorRun resource) {\n        if (resource == null) {\n            return this;\n        }\n        resources.add(new WeakReference&lt;&gt;(resource));\n\n        return this;\n    }\n\n    public CorRunRAII addAll(List&lt;? extends CorRun&gt; arrayList) {\n        if (arrayList == null) {\n            return this;\n        }\n        for (CorRun corRun : arrayList) {\n            add(corRun);\n        }\n\n        return this;\n    }\n\n    @Override\n    protected void finalize() throws Throwable {\n        super.finalize();\n\n        for (WeakReference&lt;? extends CorRun&gt; corRunWeakReference : resources) {\n            CorRun corRun = corRunWeakReference.get();\n            if (corRun != null) {\n                corRun.stop();\n            }\n        }\n    }\n}\n\nclass CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; {\n    public final AtomicReference&lt;ReceiveType&gt; receiveValue;\n    public final LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue;\n\n    CorRunYieldReturn(AtomicReference&lt;ReceiveType&gt; receiveValue, LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue) {\n        this.receiveValue = receiveValue;\n        this.yieldReturnValue = yieldReturnValue;\n    }\n}\n\ninterface CorRun&lt;ReceiveType, YieldReturnType&gt; extends Runnable, Callable&lt;YieldReturnType&gt; {\n    boolean start();\n    void stop();\n    void stop(final Throwable throwable);\n    boolean isStarted();\n    boolean isEnded();\n    Throwable getError();\n\n    ReceiveType getReceiveValue();\n    void setResultForOuter(YieldReturnType resultForOuter);\n    YieldReturnType getResultForOuter();\n\n    YieldReturnType receive(ReceiveType value);\n    ReceiveType yield();\n    ReceiveType yield(YieldReturnType value);\n    &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another);\n    &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, final TargetReceiveType value);\n}\n\nabstract class CorRunSync&lt;ReceiveType, YieldReturnType&gt; implements CorRun&lt;ReceiveType, YieldReturnType&gt; {\n\n    private ReceiveType receiveValue;\n    public final List&lt;WeakReference&lt;CorRun&gt;&gt; potentialChildrenCoroutineList = new ArrayList&lt;&gt;();\n\n    // Outside\n\n    private AtomicBoolean isStarted = new AtomicBoolean(false);\n    private AtomicBoolean isEnded = new AtomicBoolean(false);\n    private Throwable error;\n\n    private YieldReturnType resultForOuter;\n\n    @Override\n    public boolean start() {\n\n        boolean isStarted = this.isStarted.getAndSet(true);\n        if ((! isStarted)\n                &amp;&amp; (! isEnded())) {\n            receive(null);\n        }\n\n        return isStarted;\n    }\n\n    @Override\n    public void stop() {\n        stop(null);\n    }\n\n    @Override\n    public void stop(Throwable throwable) {\n        isEnded.set(true);\n        if (throwable != null) {\n            error = throwable;\n        }\n\n        for (WeakReference&lt;CorRun&gt; weakReference : potentialChildrenCoroutineList) {\n            CorRun child = weakReference.get();\n            if (child != null) {\n                child.stop();\n            }\n        }\n    }\n\n    @Override\n    public boolean isStarted() {\n        return isStarted.get();\n    }\n\n    @Override\n    public boolean isEnded() {\n        return isEnded.get();\n    }\n\n    @Override\n    public Throwable getError() {\n        return error;\n    }\n\n    @Override\n    public ReceiveType getReceiveValue() {\n        return receiveValue;\n    }\n\n    @Override\n    public void setResultForOuter(YieldReturnType resultForOuter) {\n        this.resultForOuter = resultForOuter;\n    }\n\n    @Override\n    public YieldReturnType getResultForOuter() {\n        return resultForOuter;\n    }\n\n    @Override\n    public synchronized YieldReturnType receive(ReceiveType value) {\n        receiveValue = value;\n\n        run();\n\n        return getResultForOuter();\n    }\n\n    @Override\n    public ReceiveType yield() {\n        return yield(null);\n    }\n\n    @Override\n    public ReceiveType yield(YieldReturnType value) {\n        resultForOuter = value;\n        return receiveValue;\n    }\n\n    @Override\n    public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another) {\n        return yieldFrom(another, null);\n    }\n\n    @Override\n    public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, TargetReceiveType value) {\n        if (another == null || another.isEnded()) {\n            throw new RuntimeException(\"Call null or isEnded coroutine\");\n        }\n\n        potentialChildrenCoroutineList.add(new WeakReference&lt;CorRun&gt;(another));\n\n        synchronized (another) {\n            boolean isStarted = another.start();\n            boolean isJustStarting = ! isStarted;\n            if (isJustStarting &amp;&amp; another instanceof CorRunSync) {\n                return another.getResultForOuter();\n            }\n\n            return another.receive(value);\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            this.call();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n\n            stop(e);\n            return;\n        }\n    }\n}\n\nabstract class CorRunThread&lt;ReceiveType, YieldReturnType&gt; implements CorRun&lt;ReceiveType, YieldReturnType&gt; {\n\n    private final ExecutorService childExecutorService = newExecutorService();\n    private ExecutorService executingOnExecutorService;\n\n    private static final CorRunYieldReturn DUMMY_COR_RUN_YIELD_RETURN = new CorRunYieldReturn(new AtomicReference&lt;&gt;(null), new LinkedBlockingDeque&lt;AtomicReference&gt;());\n\n    private final CorRun&lt;ReceiveType, YieldReturnType&gt; self;\n    public final List&lt;WeakReference&lt;CorRun&gt;&gt; potentialChildrenCoroutineList;\n    private CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; lastCorRunYieldReturn;\n\n    private final LinkedBlockingDeque&lt;CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt;&gt; receiveQueue;\n\n    // Outside\n\n    private AtomicBoolean isStarted = new AtomicBoolean(false);\n    private AtomicBoolean isEnded = new AtomicBoolean(false);\n    private Future&lt;YieldReturnType&gt; future;\n    private Throwable error;\n\n    private final AtomicReference&lt;YieldReturnType&gt; resultForOuter = new AtomicReference&lt;&gt;();\n\n    CorRunThread() {\n        executingOnExecutorService = childExecutorService;\n\n        receiveQueue = new LinkedBlockingDeque&lt;&gt;();\n        potentialChildrenCoroutineList = new ArrayList&lt;&gt;();\n\n        self = this;\n    }\n\n    @Override\n    public void run() {\n        try {\n            self.call();\n        }\n        catch (Exception e) {\n            stop(e);\n            return;\n        }\n\n        stop();\n    }\n\n    @Override\n    public abstract YieldReturnType call();\n\n    @Override\n    public boolean start() {\n        return start(childExecutorService);\n    }\n\n    protected boolean start(ExecutorService executorService) {\n        boolean isStarted = this.isStarted.getAndSet(true);\n        if (!isStarted) {\n            executingOnExecutorService = executorService;\n            future = (Future&lt;YieldReturnType&gt;) executingOnExecutorService.submit((Runnable) self);\n        }\n        return isStarted;\n    }\n\n    @Override\n    public void stop() {\n        stop(null);\n    }\n\n    @Override\n    public void stop(final Throwable throwable) {\n        if (throwable != null) {\n            error = throwable;\n        }\n        isEnded.set(true);\n\n        returnYieldValue(null);\n        // Do this for making sure the coroutine has checked isEnd() after getting a dummy value\n        receiveQueue.offer(DUMMY_COR_RUN_YIELD_RETURN);\n\n        for (WeakReference&lt;CorRun&gt; weakReference : potentialChildrenCoroutineList) {\n            CorRun child = weakReference.get();\n            if (child != null) {\n                if (child instanceof CorRunThread) {\n                    ((CorRunThread)child).tryStop(childExecutorService);\n                }\n            }\n        }\n\n        childExecutorService.shutdownNow();\n    }\n\n    protected void tryStop(ExecutorService executorService) {\n        if (this.executingOnExecutorService == executorService) {\n            stop();\n        }\n    }\n\n    @Override\n    public boolean isEnded() {\n        return isEnded.get() || (\n                future != null &amp;&amp; (future.isCancelled() || future.isDone())\n                );\n    }\n\n    @Override\n    public boolean isStarted() {\n        return isStarted.get();\n    }\n\n    public Future&lt;YieldReturnType&gt; getFuture() {\n        return future;\n    }\n\n    @Override\n    public Throwable getError() {\n        return error;\n    }\n\n    @Override\n    public void setResultForOuter(YieldReturnType resultForOuter) {\n        this.resultForOuter.set(resultForOuter);\n    }\n\n    @Override\n    public YieldReturnType getResultForOuter() {\n        return this.resultForOuter.get();\n    }\n\n    @Override\n    public YieldReturnType receive(ReceiveType value) {\n\n        LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue = new LinkedBlockingDeque&lt;&gt;();\n\n        offerReceiveValue(value, yieldReturnValue);\n\n        try {\n            AtomicReference&lt;YieldReturnType&gt; takeValue = yieldReturnValue.take();\n            return takeValue == null ? null : takeValue.get();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    @Override\n    public ReceiveType yield() {\n        return yield(null);\n    }\n\n    @Override\n    public ReceiveType yield(final YieldReturnType value) {\n        returnYieldValue(value);\n\n        return getReceiveValue();\n    }\n\n    @Override\n    public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another) {\n        return yieldFrom(another, null);\n    }\n\n    @Override\n    public &lt;TargetReceiveType, TargetYieldReturnType&gt; TargetYieldReturnType yieldFrom(final CorRun&lt;TargetReceiveType, TargetYieldReturnType&gt; another, final TargetReceiveType value) {\n        if (another == null || another.isEnded()) {\n            throw new RuntimeException(\"Call null or isEnded coroutine\");\n        }\n\n        boolean isStarted = false;\n        potentialChildrenCoroutineList.add(new WeakReference&lt;CorRun&gt;(another));\n\n        synchronized (another) {\n            if (another instanceof CorRunThread) {\n                isStarted = ((CorRunThread)another).start(childExecutorService);\n            }\n            else {\n                isStarted = another.start();\n            }\n\n            boolean isJustStarting = ! isStarted;\n            if (isJustStarting &amp;&amp; another instanceof CorRunSync) {\n                return another.getResultForOuter();\n            }\n\n            TargetYieldReturnType send = another.receive(value);\n            return send;\n        }\n    }\n\n    @Override\n    public ReceiveType getReceiveValue() {\n\n        setLastCorRunYieldReturn(takeLastCorRunYieldReturn());\n\n        return lastCorRunYieldReturn.receiveValue.get();\n    }\n\n    protected void returnYieldValue(final YieldReturnType value) {\n        CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; corRunYieldReturn = lastCorRunYieldReturn;\n        if (corRunYieldReturn != null) {\n            corRunYieldReturn.yieldReturnValue.offer(new AtomicReference&lt;&gt;(value));\n        }\n    }\n\n    protected void offerReceiveValue(final ReceiveType value, LinkedBlockingDeque&lt;AtomicReference&lt;YieldReturnType&gt;&gt; yieldReturnValue) {\n        receiveQueue.offer(new CorRunYieldReturn(new AtomicReference&lt;&gt;(value), yieldReturnValue));\n    }\n\n    protected CorRunYieldReturn&lt;ReceiveType, YieldReturnType&gt; takeLastCorRunYieldReturn() {\n        try {\n            return receiveQueue.take();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    protected void setLastCorRunYieldReturn(CorRunYieldReturn&lt;ReceiveType,YieldReturnType&gt; lastCorRunYieldReturn) {\n        this.lastCorRunYieldReturn = lastCorRunYieldReturn;\n    }\n\n    protected ExecutorService newExecutorService() {\n        return Executors.newCachedThreadPool(getThreadFactory());\n    }\n\n    protected ThreadFactory getThreadFactory() {\n        return new ThreadFactory() {\n            @Override\n            public Thread newThread(final Runnable runnable) {\n                Thread thread = new Thread(runnable);\n                thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n                    @Override\n                    public void uncaughtException(Thread thread, Throwable throwable) {\n                        throwable.printStackTrace();\n                        if (runnable instanceof CorRun) {\n                            CorRun self = (CorRun) runnable;\n                            self.stop(throwable);\n                            thread.interrupt();\n                        }\n                    }\n                });\n                return thread;\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Now you can use pythonic coroutines in this way\n(e.g. fibonacci numbers)</p>\n\n<p>Thread Version:</p>\n\n<pre><code>class Fib extends CorRunThread&lt;Integer, Integer&gt; {\n\n    @Override\n    public Integer call() {\n        Integer times = getReceiveValue();\n        do {\n            int a = 1, b = 1;\n            for (int i = 0; times != null &amp;&amp; i &lt; times; i++) {\n                int temp = a + b;\n                a = b;\n                b = temp;\n            }\n            // A pythonic \"yield\", i.e., it returns `a` to the caller and waits `times` value from the next caller\n            times = yield(a);\n        } while (! isEnded());\n\n        setResultForOuter(Integer.MAX_VALUE);\n        return getResultForOuter();\n    }\n}\n\nclass MainRun extends CorRunThread&lt;String, String&gt; {\n\n    @Override\n    public String call() {\n\n        // The fib coroutine would be recycled by its parent\n        // (no requirement to call its start() and stop() manually)\n        // Otherwise, if you want to share its instance and start/stop it manually,\n        // please start it before being called by yieldFrom() and stop it in the end.\n        Fib fib = new Fib();\n        String result = \"\";\n        Integer current;\n        int times = 10;\n        for (int i = 0; i &lt; times; i++) {\n\n            // A pythonic \"yield from\", i.e., it calls fib with `i` parameter and waits for returned value as `current`\n            current = yieldFrom(fib, i);\n\n            if (fib.getError() != null) {\n                throw new RuntimeException(fib.getError());\n            }\n\n            if (current == null) {\n                continue;\n            }\n\n            if (i &gt; 0) {\n                result += \",\";\n            }\n            result += current;\n\n        }\n\n        setResultForOuter(result);\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>Sync(non-thread) version:</p>\n\n<pre><code>class Fib extends CorRunSync&lt;Integer, Integer&gt; {\n\n    @Override\n    public Integer call() {\n        Integer times = getReceiveValue();\n\n        int a = 1, b = 1;\n        for (int i = 0; times != null &amp;&amp; i &lt; times; i++) {\n            int temp = a + b;\n            a = b;\n            b = temp;\n        }\n        yield(a);\n\n        return getResultForOuter();\n    }\n}\n\nclass MainRun extends CorRunSync&lt;String, String&gt; {\n\n    @Override\n    public String call() {\n\n        CorRun&lt;Integer, Integer&gt; fib = null;\n        try {\n            fib = new Fib();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        String result = \"\";\n        Integer current;\n        int times = 10;\n        for (int i = 0; i &lt; times; i++) {\n\n            current = yieldFrom(fib, i);\n\n            if (fib.getError() != null) {\n                throw new RuntimeException(fib.getError());\n            }\n\n            if (current == null) {\n                continue;\n            }\n\n            if (i &gt; 0) {\n                result += \",\";\n            }\n            result += current;\n        }\n\n        stop();\n        setResultForOuter(result);\n\n        if (Utils.isEmpty(result)) {\n            throw new RuntimeException(\"Error\");\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Execution(Both versions will work):</p>\n\n<pre><code>// Run the entry coroutine\nMainRun mainRun = new MainRun();\nmainRun.start();\n\n// Wait for mainRun ending for 5 seconds\nlong startTimestamp = System.currentTimeMillis();\nwhile(!mainRun.isEnded()) {\n    if (System.currentTimeMillis() - startTimestamp &gt; TimeUnit.SECONDS.toMillis(5)) {\n        throw new RuntimeException(\"Wait too much time\");\n    }\n}\n// The result should be \"1,1,2,3,5,8,13,21,34,55\"\nSystem.out.println(mainRun.getResultForOuter());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670747,"reputation":1545,"user_id":1537246,"accept_rate":26,"display_name":"OlliP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560261629,"creation_date":1560261629,"answer_id":56545502,"question_id":2846664,"body_markdown":"There is also [Quasar][1] for Java and [Project Loom][2] at Oracle where extensions are made to the JVM for fibers and continuations. Here is a [presentation of Loom][3] on Youtoube. There are several more. Easy to find with a little searching.\r\n\r\n\r\n  [1]: http://www.paralleluniverse.co/quasar/\r\n  [2]: https://openjdk.java.net/projects/loom/\r\n  [3]: https://www.youtube.com/watch?v=vbGbXUjlRyQ","title":"Implementing coroutines in Java","body":"<p>There is also <a href=\"http://www.paralleluniverse.co/quasar/\" rel=\"nofollow noreferrer\">Quasar</a> for Java and <a href=\"https://openjdk.java.net/projects/loom/\" rel=\"nofollow noreferrer\">Project Loom</a> at Oracle where extensions are made to the JVM for fibers and continuations. Here is a <a href=\"https://www.youtube.com/watch?v=vbGbXUjlRyQ\" rel=\"nofollow noreferrer\">presentation of Loom</a> on Youtoube. There are several more. Easy to find with a little searching.</p>\n"},{"tags":[],"owner":{"account_id":21181300,"reputation":11,"user_id":15575646,"display_name":"&#216;ystein Myhre Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617810181,"creation_date":1617810181,"answer_id":66989517,"question_id":2846664,"body_markdown":"Project Loom:  https://jdk.java.net/loom/  introduce Continuations to Java.\r\nAn example:\r\n\r\n\tstatic final ContinuationScope scope=new ContinuationScope(&quot;TST&quot;);\r\n\t\r\n    public static void main(String[] args) {\r\n    \texample1();\r\n    }\r\n\r\n\t// *********************************************************************\r\n\t// *** EXAMPLE 1: Co-routine with three active phases:\r\n\t// *********************************************************************\r\n\r\n    public static void example1() {\r\n    \t\r\n\t\tContinuation coroutine=new Continuation(scope,new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;Part 1 - Statements&quot;);\r\n\t\t\t\tContinuation.yield(scope); // DETACH 1\r\n\t\t\t\tSystem.out.println(&quot;Part 2 - Statements&quot;);\r\n\t\t\t\tContinuation.yield(scope); // DETACH 2\r\n\t\t\t\tSystem.out.println(&quot;Part 3 - Statements&quot;);\r\n\t\t\t}});\r\n\t\t\r\n\t\t\r\n\t\tcoroutine.run(); // Vil utf&#248;re Part 1.\r\n\t\tSystem.out.println(&quot;Returns here after first DETACH(Yield)&quot;);\r\n\t\tcoroutine.run(); // Vil utf&#248;re Part 2.\r\n\t\tSystem.out.println(&quot;Returns here after second DETACH(Yield)&quot;);\r\n\t\tcoroutine.run(); // Vil utf&#248;re Part 3.\r\n\t\tSystem.out.println(&quot;Returns here after &#39;FINAL END&#39;&quot;);\r\n\t\tSystem.out.println(&quot;Next line should be: IllegalStateException: Continuation terminated&quot;);\r\n\t\tcoroutine.run(); // IllegalStateException: Continuation terminated\r\n\t}\r\n\r\n","title":"Implementing coroutines in Java","body":"<p>Project Loom:  <a href=\"https://jdk.java.net/loom/\" rel=\"nofollow noreferrer\">https://jdk.java.net/loom/</a>  introduce Continuations to Java.\nAn example:</p>\n<pre><code>static final ContinuationScope scope=new ContinuationScope(&quot;TST&quot;);\n\npublic static void main(String[] args) {\n    example1();\n}\n\n// *********************************************************************\n// *** EXAMPLE 1: Co-routine with three active phases:\n// *********************************************************************\n\npublic static void example1() {\n    \n    Continuation coroutine=new Continuation(scope,new Runnable() {\n        public void run() {\n            System.out.println(&quot;Part 1 - Statements&quot;);\n            Continuation.yield(scope); // DETACH 1\n            System.out.println(&quot;Part 2 - Statements&quot;);\n            Continuation.yield(scope); // DETACH 2\n            System.out.println(&quot;Part 3 - Statements&quot;);\n        }});\n    \n    \n    coroutine.run(); // Vil utføre Part 1.\n    System.out.println(&quot;Returns here after first DETACH(Yield)&quot;);\n    coroutine.run(); // Vil utføre Part 2.\n    System.out.println(&quot;Returns here after second DETACH(Yield)&quot;);\n    coroutine.run(); // Vil utføre Part 3.\n    System.out.println(&quot;Returns here after 'FINAL END'&quot;);\n    System.out.println(&quot;Next line should be: IllegalStateException: Continuation terminated&quot;);\n    coroutine.run(); // IllegalStateException: Continuation terminated\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11900781,"reputation":103,"user_id":8708830,"display_name":"Abhijeet Prusty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655466101,"creation_date":1655466101,"answer_id":72658870,"question_id":2846664,"body_markdown":"Instead of using any other method just create a wrapper class for java \r\n\r\n \r\n\r\n    /**\r\n     * This class will be used run java code in the kotlin coroutines\r\n     * @author : prustyA : 17/06/2022\r\n     */\r\n    class CoroutineJava {\r\n    \r\n        //Scope\r\n        private val context: CoroutineContext = Dispatchers.IO\r\n        private val scope = CoroutineScope(context)\r\n    \r\n        /**\r\n        * This method will be used to return current coroutine context\r\n        * @author : prustyA : 17/06/2022\r\n        */\r\n        fun getContext() = context\r\n    \r\n        /**\r\n        * This method will be used to start executing the method block\r\n        * @author : prustyA : 17/06/2022\r\n        */\r\n        fun launch(block: () -&gt; Unit) {\r\n            scope.launch { block() }\r\n        }\r\n    \r\n        /**\r\n        * This method will be used to change the context and run the block \r\n        * @author : prustyA : 17/06/2022\r\n        */\r\n        fun launchWithContext(context: CoroutineContext,block: () -&gt; Unit) {\r\n            scope.launch {\r\n                withContext(context) { block() }\r\n            }\r\n        }\r\n    }","title":"Implementing coroutines in Java","body":"<p>Instead of using any other method just create a wrapper class for java</p>\n<pre><code>/**\n * This class will be used run java code in the kotlin coroutines\n * @author : prustyA : 17/06/2022\n */\nclass CoroutineJava {\n\n    //Scope\n    private val context: CoroutineContext = Dispatchers.IO\n    private val scope = CoroutineScope(context)\n\n    /**\n    * This method will be used to return current coroutine context\n    * @author : prustyA : 17/06/2022\n    */\n    fun getContext() = context\n\n    /**\n    * This method will be used to start executing the method block\n    * @author : prustyA : 17/06/2022\n    */\n    fun launch(block: () -&gt; Unit) {\n        scope.launch { block() }\n    }\n\n    /**\n    * This method will be used to change the context and run the block \n    * @author : prustyA : 17/06/2022\n    */\n    fun launchWithContext(context: CoroutineContext,block: () -&gt; Unit) {\n        scope.launch {\n            withContext(context) { block() }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78804,"favorite_count":0,"down_vote_count":2,"up_vote_count":97,"accepted_answer_id":2846943,"answer_count":9,"score":95,"last_activity_date":1655466101,"creation_date":1274070360,"question_id":2846664,"body_markdown":"This question is related to my question on [existing coroutine implementations in Java][1].  If, as I suspect, it turns out that there is no full implementation of coroutines currently available in Java, what would be required to implement them?\r\n\r\nAs I said in that question, I know about the following:\r\n\r\n  1.  You can implement &quot;coroutines&quot; as threads/thread pools behind the scenes.\r\n  2.  You can do tricksy things with JVM bytecode behind the scenes to make coroutines possible.\r\n  3.  The so-called &quot;Da Vinci Machine&quot; JVM implementation has primitives that make coroutines doable without\r\n      bytecode manipulation.\r\n  4.  There are various JNI-based approaches to coroutines also possible.\r\n\r\nI&#39;ll address each one&#39;s deficiencies in turn.\r\n\r\n## Thread-based coroutines ##\r\n\r\nThis &quot;solution&quot; is pathological.  The whole point of coroutines is to *avoid* the overhead of threading, locking, kernel scheduling, etc.  Coroutines are supposed to be light and fast and to execute only in user space.  Implementing them in terms of full-tilt threads with tight restrictions gets rid of all the advantages.\r\n\r\n## JVM bytecode manipulation ##\r\n\r\nThis solution is more practical, albeit a bit difficult to pull off.  This is roughly the same as jumping down into assembly language for coroutine libraries in C (which is how many of them work) with the advantage that you have only one architecture to worry about and get right.\r\n\r\nIt also ties you down to only running your code on fully-compliant JVM stacks (which means, for example, no Android) unless you can find a way to do the same thing on the non-compliant stack.  If you do find a way to do this, however, you have now doubled your system complexity and testing needs.\r\n\r\n## The Da Vinci Machine ##\r\n\r\nThe Da Vinci Machine is cool for experimentation, but since it is not a standard JVM its features aren&#39;t going to be available everywhere.  Indeed I suspect most production environments would specifically forbid the use of the Da Vinci Machine.  Thus I could use this to make cool experiments but not for any code I expect to release to the real world.\r\n\r\nThis also has the added problem similar to the JVM bytecode manipulation solution above: won&#39;t work on alternative stacks (like Android&#39;s).\r\n\r\n## JNI implementation ##\r\n\r\nThis solution renders the point of doing this in Java at all moot.  Each combination of CPU and operating system requires independent testing and each is a point of potentially frustrating subtle failure.  Alternatively, of course, I could tie myself down to one platform entirely but this, too, makes the point of doing things in Java entirely moot.\r\n\r\nSo...\r\n\r\nIs there any way to implement coroutines in Java without using one of these four techniques?  Or will I be forced to use the one of those four that smells the least (JVM manipulation) instead?\r\n\r\n----------\r\n\r\n*Edited to add:*\r\n\r\nJust to ensure that confusion is contained, this is a *related* question to [my other one][1], but not the same.  That one is looking for an **existing** implementation in a bid to avoid reinventing the wheel unnecessarily.  This one is a question relating to how one would go about implementing coroutines in Java should the other prove unanswerable.  The intent is to keep different questions on different threads.\r\n\r\n  [1]: https://stackoverflow.com/questions/2846428/coroutines-in-java &quot;StackOverflow: Coroutines in Java&quot;","title":"Implementing coroutines in Java","body":"<p>This question is related to my question on <a href=\"https://stackoverflow.com/questions/2846428/coroutines-in-java\" title=\"StackOverflow: Coroutines in Java\">existing coroutine implementations in Java</a>.  If, as I suspect, it turns out that there is no full implementation of coroutines currently available in Java, what would be required to implement them?</p>\n\n<p>As I said in that question, I know about the following:</p>\n\n<ol>\n<li>You can implement \"coroutines\" as threads/thread pools behind the scenes.</li>\n<li>You can do tricksy things with JVM bytecode behind the scenes to make coroutines possible.</li>\n<li>The so-called \"Da Vinci Machine\" JVM implementation has primitives that make coroutines doable without\n  bytecode manipulation.</li>\n<li>There are various JNI-based approaches to coroutines also possible.</li>\n</ol>\n\n<p>I'll address each one's deficiencies in turn.</p>\n\n<h2>Thread-based coroutines</h2>\n\n<p>This \"solution\" is pathological.  The whole point of coroutines is to <em>avoid</em> the overhead of threading, locking, kernel scheduling, etc.  Coroutines are supposed to be light and fast and to execute only in user space.  Implementing them in terms of full-tilt threads with tight restrictions gets rid of all the advantages.</p>\n\n<h2>JVM bytecode manipulation</h2>\n\n<p>This solution is more practical, albeit a bit difficult to pull off.  This is roughly the same as jumping down into assembly language for coroutine libraries in C (which is how many of them work) with the advantage that you have only one architecture to worry about and get right.</p>\n\n<p>It also ties you down to only running your code on fully-compliant JVM stacks (which means, for example, no Android) unless you can find a way to do the same thing on the non-compliant stack.  If you do find a way to do this, however, you have now doubled your system complexity and testing needs.</p>\n\n<h2>The Da Vinci Machine</h2>\n\n<p>The Da Vinci Machine is cool for experimentation, but since it is not a standard JVM its features aren't going to be available everywhere.  Indeed I suspect most production environments would specifically forbid the use of the Da Vinci Machine.  Thus I could use this to make cool experiments but not for any code I expect to release to the real world.</p>\n\n<p>This also has the added problem similar to the JVM bytecode manipulation solution above: won't work on alternative stacks (like Android's).</p>\n\n<h2>JNI implementation</h2>\n\n<p>This solution renders the point of doing this in Java at all moot.  Each combination of CPU and operating system requires independent testing and each is a point of potentially frustrating subtle failure.  Alternatively, of course, I could tie myself down to one platform entirely but this, too, makes the point of doing things in Java entirely moot.</p>\n\n<p>So...</p>\n\n<p>Is there any way to implement coroutines in Java without using one of these four techniques?  Or will I be forced to use the one of those four that smells the least (JVM manipulation) instead?</p>\n\n<hr>\n\n<p><em>Edited to add:</em></p>\n\n<p>Just to ensure that confusion is contained, this is a <em>related</em> question to <a href=\"https://stackoverflow.com/questions/2846428/coroutines-in-java\" title=\"StackOverflow: Coroutines in Java\">my other one</a>, but not the same.  That one is looking for an <strong>existing</strong> implementation in a bid to avoid reinventing the wheel unnecessarily.  This one is a question relating to how one would go about implementing coroutines in Java should the other prove unanswerable.  The intent is to keep different questions on different threads.</p>\n"},{"tags":["java","flutter","android-studio","java-11"],"comments":[{"owner":{"account_id":23686059,"reputation":25,"user_id":17710983,"display_name":"Felix"},"score":0,"creation_date":1655410676,"post_id":72650950,"comment_id":128332418,"body_markdown":"@MartinZeitler Thanks for your reply, I see the answoer, but the problem is I can not find the path of the gradle Jdk dropdown area, I can find the grade from seeting-&gt;Build,Exeution,Deployment-&gt;Build Tools--&gt;Gradle. But when I click the Gradle button, there is no Gradle  JDK dropdown shown on the right.","body":"@MartinZeitler Thanks for your reply, I see the answoer, but the problem is I can not find the path of the gradle Jdk dropdown area, I can find the grade from seeting-&gt;Build,Exeution,Deployment-&gt;Build Tools--&gt;Gradle. But when I click the Gradle button, there is no Gradle  JDK dropdown shown on the right."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1655415353,"post_id":72650950,"comment_id":128333762,"body_markdown":"You&#39;re referring to an outdated answer, while there are two pages of answers.","body":"You&#39;re referring to an outdated answer, while there are two pages of answers."},{"owner":{"account_id":23686059,"reputation":25,"user_id":17710983,"display_name":"Felix"},"score":0,"creation_date":1655426014,"post_id":72650950,"comment_id":128335660,"body_markdown":"@MartinZeitler Thanks! I have solved the problem, because android studio can not show the correct version all the time, so I use windows powershell to run the command and it works successfully!","body":"@MartinZeitler Thanks! I have solved the problem, because android studio can not show the correct version all the time, so I use windows powershell to run the command and it works successfully!"}],"answers":[{"tags":[],"owner":{"account_id":10484756,"reputation":847,"user_id":7728676,"display_name":"lewis machilika"},"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1655410855,"creation_date":1655410855,"answer_id":72651490,"question_id":72650950,"body_markdown":"Kindly upgrade your java version","title":"flutter:Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8","body":"<p>Kindly upgrade your java version</p>\n"}],"owner":{"account_id":23686059,"reputation":25,"user_id":17710983,"display_name":"Felix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655465989,"accepted_answer_id":72651490,"answer_count":1,"score":0,"last_activity_date":1655465956,"creation_date":1655407515,"question_id":72650950,"body_markdown":"I am trying to develop a app using flutter, when I enter ../gradlew signingreport, it returns am error:  \r\n[![enter image description here][1]][1]\r\n\r\nThen I check the problem on Google and I can not change the Java version because I can not find the location as it shows below:  \r\n[![enter image description here][2]][2]\r\n\r\nThere is no option for me to change the version of Java, so what should I do?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59WCs.png\r\n  [2]: https://i.stack.imgur.com/a7OZc.png","title":"flutter:Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8","body":"<p>I am trying to develop a app using flutter, when I enter ../gradlew signingreport, it returns am error:<br />\n<a href=\"https://i.stack.imgur.com/59WCs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59WCs.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I check the problem on Google and I can not change the Java version because I can not find the location as it shows below:<br />\n<a href=\"https://i.stack.imgur.com/a7OZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a7OZc.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no option for me to change the version of Java, so what should I do?</p>\n"},{"tags":["java","kdb"],"comments":[{"owner":{"account_id":16376990,"reputation":2755,"user_id":11828860,"display_name":"Matt Moore"},"score":0,"creation_date":1655462236,"post_id":72657474,"comment_id":128343635,"body_markdown":"Can you provide context of how you are currently querying kdb with Java? Also do you have control over the kdb function that handles this?","body":"Can you provide context of how you are currently querying kdb with Java? Also do you have control over the kdb function that handles this?"},{"owner":{"account_id":4195289,"reputation":511,"user_id":3436839,"display_name":"shivam"},"score":0,"creation_date":1655464362,"post_id":72657474,"comment_id":128344354,"body_markdown":"I am using c.java. I do not have control over kdb function. https://code.kx.com/q/wp/java-api/#running-queries-using-k-methods","body":"I am using c.java. I do not have control over kdb function. <a href=\"https://code.kx.com/q/wp/java-api/#running-queries-using-k-methods\" rel=\"nofollow noreferrer\">code.kx.com/q/wp/java-api/#running-queries-using-k-methods</a>"}],"answers":[{"tags":[],"owner":{"account_id":4057176,"reputation":2459,"user_id":4256419,"display_name":"rianoc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655465401,"creation_date":1655465401,"answer_id":72658718,"question_id":72657474,"body_markdown":"Test table + query. With a small functional select helper funtion:\r\n\r\n```q\r\nq)test:([] a:1 2 3;b:`a`b`c)\r\nq)test\r\na b\r\n---\r\n1 a\r\n2 b\r\n3 c\r\nq)select from test where a in 1 2,b like &quot;a*&quot;\r\na b\r\n---\r\n1 a\r\nq)?[test;((in;`a;1 2);(like;`b;&quot;a*&quot;));0b;()]\r\na b\r\n---\r\n1 a\r\nq)fsel:{[t;wc] ?[t;wc;0b;()]}\r\nq)fsel[`test;((in;`a;1 2);(like;`b;&quot;a*&quot;))]\r\na b\r\n---\r\n1 a\r\n```\r\n\r\nYou cannot send the `in` or `like` operators directly from the java interface as the serializer does not produce this datatype.\r\n\r\nYou can however send [parse trees](https://code.kx.com/q/basics/parsetrees/) which will evaluate them:\r\n\r\n```q\r\nq)value&quot;in&quot;\r\nin\r\nq)eval(`$&quot;.q.value&quot;;&quot;in&quot;)\r\nin\r\nq)?[test;(((`.q.value;&quot;in&quot;);`a;1 2);((`.q.value;&quot;like&quot;);`b;&quot;a*&quot;));0b;()]\r\na b\r\n---\r\n1 a\r\n```\r\n\r\nFrom Java:\r\n\r\n```java\r\nc c=new c(&quot;localhost&quot;,5000);\r\nObject[]wc=new Object[]{\r\n\tnew Object[]{new Object[]{&quot;.q.value&quot;,&quot;in&quot;.toCharArray()},&quot;a&quot;,new long[] {1,2}},\r\n\tnew Object[]{new Object[]{&quot;.q.value&quot;,&quot;like&quot;.toCharArray()},&quot;b&quot;,&quot;a*&quot;.toCharArray()}\r\n };\r\nObject result=c.k(&quot;fsel&quot;,&quot;test&quot;,wc);\r\n```\r\n\r\n[![Java object][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNViW.png","title":"KDB function call from java","body":"<p>Test table + query. With a small functional select helper funtion:</p>\n<pre><code>q)test:([] a:1 2 3;b:`a`b`c)\nq)test\na b\n---\n1 a\n2 b\n3 c\nq)select from test where a in 1 2,b like &quot;a*&quot;\na b\n---\n1 a\nq)?[test;((in;`a;1 2);(like;`b;&quot;a*&quot;));0b;()]\na b\n---\n1 a\nq)fsel:{[t;wc] ?[t;wc;0b;()]}\nq)fsel[`test;((in;`a;1 2);(like;`b;&quot;a*&quot;))]\na b\n---\n1 a\n</code></pre>\n<p>You cannot send the <code>in</code> or <code>like</code> operators directly from the java interface as the serializer does not produce this datatype.</p>\n<p>You can however send <a href=\"https://code.kx.com/q/basics/parsetrees/\" rel=\"nofollow noreferrer\">parse trees</a> which will evaluate them:</p>\n<pre><code>q)value&quot;in&quot;\nin\nq)eval(`$&quot;.q.value&quot;;&quot;in&quot;)\nin\nq)?[test;(((`.q.value;&quot;in&quot;);`a;1 2);((`.q.value;&quot;like&quot;);`b;&quot;a*&quot;));0b;()]\na b\n---\n1 a\n</code></pre>\n<p>From Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>c c=new c(&quot;localhost&quot;,5000);\nObject[]wc=new Object[]{\n    new Object[]{new Object[]{&quot;.q.value&quot;,&quot;in&quot;.toCharArray()},&quot;a&quot;,new long[] {1,2}},\n    new Object[]{new Object[]{&quot;.q.value&quot;,&quot;like&quot;.toCharArray()},&quot;b&quot;,&quot;a*&quot;.toCharArray()}\n };\nObject result=c.k(&quot;fsel&quot;,&quot;test&quot;,wc);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tNViW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNViW.png\" alt=\"Java object\" /></a></p>\n"}],"owner":{"account_id":4195289,"reputation":511,"user_id":3436839,"display_name":"shivam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72658718,"answer_count":1,"score":0,"last_activity_date":1655465401,"creation_date":1655459341,"question_id":72657474,"body_markdown":"I have a kdb function which takes dictionary as param. Filter condition need to be provided as wClause key.\r\n\r\nfun:{[dic] }\r\n\r\ne.g. \r\nwClause:enlist(in;`sym;enlist `sym1`sym2)\r\n\r\nbecause if I use string it will be send as `in or if I use characterArray it will be &quot;in&quot;.\r\n\r\nhow to build above wClasue in Java? what&#39;s the way to call kdb functions from java e.g. &quot;in,like&quot;.\r\n\r\nThank you\r\n\r\n \r\n\r\n\r\n\r\n","title":"KDB function call from java","body":"<p>I have a kdb function which takes dictionary as param. Filter condition need to be provided as wClause key.</p>\n<p>fun:{[dic] }</p>\n<p>e.g.\nwClause:enlist(in;<code>sym;enlist </code>sym1`sym2)</p>\n<p>because if I use string it will be send as `in or if I use characterArray it will be &quot;in&quot;.</p>\n<p>how to build above wClasue in Java? what's the way to call kdb functions from java e.g. &quot;in,like&quot;.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":1,"creation_date":1655451825,"post_id":72655894,"comment_id":128340195,"body_markdown":"Welcome. You should take a look at How to Ask and take the tour, if you have not done so already. Also take a look at minimal reproducible example. This is general information that you should keep in mind, when asking questions. \nI would also strongly advise against allowing uploading an unlimited file size","body":"Welcome. You should take a look at How to Ask and take the tour, if you have not done so already. Also take a look at minimal reproducible example. This is general information that you should keep in mind, when asking questions.  I would also strongly advise against allowing uploading an unlimited file size"}],"answers":[{"tags":[],"owner":{"account_id":19672570,"reputation":136,"user_id":14401500,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655465316,"creation_date":1655465316,"answer_id":72658697,"question_id":72655894,"body_markdown":"&gt; In addition to configuring max file size, you may also need to configure max request size if you have a single file that&#39;s greater than 10MB or you want to upload multiple files in the same request with sizes that total more than 10MB.\r\n\r\nThe exact properties that need to be used depend on the version of Spring Boot that you are using as they [changed in 1.4][2]:\r\n\r\nIt&#39;s already answered in [multi-part file size in applicaiton.yaml][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/28572700/i-am-trying-to-set-maxfilesize-but-it-is-not-honored.\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#multipart-support","title":"How to configure Multipart file size in application.yml?","body":"<blockquote>\n<p>In addition to configuring max file size, you may also need to configure max request size if you have a single file that's greater than 10MB or you want to upload multiple files in the same request with sizes that total more than 10MB.</p>\n</blockquote>\n<p>The exact properties that need to be used depend on the version of Spring Boot that you are using as they <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#multipart-support\" rel=\"nofollow noreferrer\">changed in 1.4</a>:</p>\n<p>It's already answered in <a href=\"https://stackoverflow.com/questions/28572700/i-am-trying-to-set-maxfilesize-but-it-is-not-honored.\">multi-part file size in applicaiton.yaml</a></p>\n"}],"owner":{"account_id":25578073,"reputation":11,"user_id":19357130,"display_name":"Sooraj PK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655465316,"creation_date":1655451624,"question_id":72655894,"body_markdown":"If I want to set the multipart file to take an infinite size of file to upload, how should I configure the application.yml file to set the same?","title":"How to configure Multipart file size in application.yml?","body":"<p>If I want to set the multipart file to take an infinite size of file to upload, how should I configure the application.yml file to set the same?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1655464730,"post_id":72658575,"comment_id":128344505,"body_markdown":"No to both questions","body":"No to both questions"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655464841,"post_id":72658575,"comment_id":128344543,"body_markdown":"I don&#39;t fully understand your question. There are ways of higher level inter-process communication such as RMI, Chronicle Queue, Aeron to name a few.","body":"I don&#39;t fully understand your question. There are ways of higher level inter-process communication such as RMI, Chronicle Queue, Aeron to name a few."}],"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655464594,"creation_date":1655464594,"question_id":72658575,"body_markdown":"I&#39;d like to know if it&#39;s possible to attach an already running thread from another Java Instance to another program. For example, if I have a service running that was generated from another program (for example a service that accepts data through a blocking queue and returns data), could I somehow use that same thread for another program, instead of having to create an exact same thread for the same service. I know that you could make it with network sockets but I&#39;d like to do it differently. Also, would it be possible to create a shared memory between two Java instances/VMs?","title":"Is it possible to get running thread and attach as it&#39;s own in Java?","body":"<p>I'd like to know if it's possible to attach an already running thread from another Java Instance to another program. For example, if I have a service running that was generated from another program (for example a service that accepts data through a blocking queue and returns data), could I somehow use that same thread for another program, instead of having to create an exact same thread for the same service. I know that you could make it with network sockets but I'd like to do it differently. Also, would it be possible to create a shared memory between two Java instances/VMs?</p>\n"},{"tags":["java","windows-services"],"comments":[{"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"score":0,"creation_date":1399977436,"post_id":68113,"comment_id":36280942,"body_markdown":"An other suggestion http://stackoverflow.com/a/9262081/381897","body":"An other suggestion <a href=\"http://stackoverflow.com/a/9262081/381897\">stackoverflow.com/a/9262081/381897</a>"},{"owner":{"account_id":38657,"reputation":2015,"user_id":111110,"accept_rate":92,"display_name":"Broken_Window"},"score":1,"creation_date":1439910513,"post_id":68113,"comment_id":52048697,"body_markdown":"Just for completeness: here http://serverfault.com/a/259195 it says the app needs to respond to Service Control Manager callbacks. Read this tutorial it uses Procrun http://ticklingmind.blogspot.com/2010/03/java-program-into-windows-service.html","body":"Just for completeness: here <a href=\"http://serverfault.com/a/259195\">serverfault.com/a/259195</a> it says the app needs to respond to Service Control Manager callbacks. Read this tutorial it uses Procrun <a href=\"http://ticklingmind.blogspot.com/2010/03/java-program-into-windows-service.html\" rel=\"nofollow noreferrer\">ticklingmind.blogspot.com/2010/03/&hellip;</a>"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1486989555,"post_id":68113,"comment_id":71569755,"body_markdown":"Other answer http://stackoverflow.com/questions/5953525/run-java-application-at-windows-startup/7009421","body":"Other answer <a href=\"http://stackoverflow.com/questions/5953525/run-java-application-at-windows-startup/7009421\" title=\"run java application at windows startup\">stackoverflow.com/questions/5953525/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":4,"up_vote_count":78,"is_accepted":true,"score":74,"last_activity_date":1221523871,"creation_date":1221523871,"answer_id":68140,"question_id":68113,"body_markdown":"I&#39;ve had some luck with [the Java Service Wrapper][1]\r\n\r\n\r\n  [1]: http://wrapper.tanukisoftware.org/doc/english/introduction.html","title":"How to create a windows service from java app","body":"<p>I've had some luck with <a href=\"http://wrapper.tanukisoftware.org/doc/english/introduction.html\" rel=\"noreferrer\">the Java Service Wrapper</a></p>\n"},{"tags":[],"owner":{"display_name":"Jason"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1221531633,"creation_date":1221531633,"answer_id":68847,"question_id":68113,"body_markdown":"I&#39;ve used [JavaService](http://forge.objectweb.org/projects/javaservice/) before with good success. It hasn&#39;t been updated in a couple of years, but was pretty rock solid back when I used it.","title":"How to create a windows service from java app","body":"<p>I've used <a href=\"http://forge.objectweb.org/projects/javaservice/\" rel=\"nofollow noreferrer\">JavaService</a> before with good success. It hasn't been updated in a couple of years, but was pretty rock solid back when I used it.</p>\n"},{"tags":[],"owner":{"account_id":5691,"reputation":2051,"user_id":9307,"display_name":"Hugh Buchanan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1221532025,"creation_date":1221532025,"answer_id":68884,"question_id":68113,"body_markdown":"I didn&#39;t like the licensing for the Java Service Wrapper.  I went with ActiveState Perl to write a service that does the work.\r\n\r\nI thought about writing a service in C#, but my time constraints were too tight.","title":"How to create a windows service from java app","body":"<p>I didn't like the licensing for the Java Service Wrapper.  I went with ActiveState Perl to write a service that does the work.</p>\n\n<p>I thought about writing a service in C#, but my time constraints were too tight.</p>\n"},{"tags":[],"owner":{"account_id":157013,"reputation":61,"user_id":374643,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1221532458,"creation_date":1221532458,"answer_id":68927,"question_id":68113,"body_markdown":"I always just use sc.exe (see &lt;http://support.microsoft.com/kb/251192&gt;).  It should be installed on XP from SP1, and if it&#39;s not in your flavor of Vista, you can download load it with the Vista resource kit.\r\n\r\nI haven&#39;t done anything too complicated with Java, but using either a fully qualified command line argument (x:\\java.exe ....) or creating a script with Ant to include depencies and set parameters works fine for me.","title":"How to create a windows service from java app","body":"<p>I always just use sc.exe (see <a href=\"http://support.microsoft.com/kb/251192\" rel=\"nofollow noreferrer\">http://support.microsoft.com/kb/251192</a>).  It should be installed on XP from SP1, and if it's not in your flavor of Vista, you can download load it with the Vista resource kit.</p>\n\n<p>I haven't done anything too complicated with Java, but using either a fully qualified command line argument (x:\\java.exe ....) or creating a script with Ant to include depencies and set parameters works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":5201,"reputation":1161,"user_id":8256,"accept_rate":73,"display_name":"Ed Thomas"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1221577986,"creation_date":1221532489,"answer_id":68930,"question_id":68113,"body_markdown":"I think the [Java Service Wrapper][1] works well. Note that there are [three ways][2] to integrate your application. It sounds like option 1 will work best for you given that you don&#39;t want to change the code. The configuration file can get a little crazy, but just remember that (for option 1) the program you&#39;re starting and for which you&#39;ll be specifying arguments, is their helper program, which will then start your program. They have an [example configuration file][3] for this.\r\n\r\n\r\n  [1]: http://wrapper.tanukisoftware.org/doc/english/download.jsp\r\n  [2]: http://wrapper.tanukisoftware.org/doc/english/integrate.html\r\n  [3]: http://wrapper.tanukisoftware.org/doc/english/props-example-config.html","title":"How to create a windows service from java app","body":"<p>I think the <a href=\"http://wrapper.tanukisoftware.org/doc/english/download.jsp\" rel=\"nofollow noreferrer\">Java Service Wrapper</a> works well. Note that there are <a href=\"http://wrapper.tanukisoftware.org/doc/english/integrate.html\" rel=\"nofollow noreferrer\">three ways</a> to integrate your application. It sounds like option 1 will work best for you given that you don't want to change the code. The configuration file can get a little crazy, but just remember that (for option 1) the program you're starting and for which you'll be specifying arguments, is their helper program, which will then start your program. They have an <a href=\"http://wrapper.tanukisoftware.org/doc/english/props-example-config.html\" rel=\"nofollow noreferrer\">example configuration file</a> for this.</p>\n"},{"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1221547259,"creation_date":1221547259,"answer_id":69865,"question_id":68113,"body_markdown":"Another good option is [FireDaemon][1]. It&#39;s used by some big shops like NASA, IBM, etc; see their web site for a full list.\r\n\r\n\r\n  [1]: http://www.firedaemon.com/","title":"How to create a windows service from java app","body":"<p>Another good option is <a href=\"http://www.firedaemon.com/\" rel=\"nofollow noreferrer\">FireDaemon</a>. It's used by some big shops like NASA, IBM, etc; see their web site for a full list.</p>\n"},{"tags":[],"owner":{"display_name":"ramfree17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222129614,"creation_date":1222129614,"answer_id":118405,"question_id":68113,"body_markdown":"I am currently requiring this to run an Eclipse-based application but I need to set some variables first that is local to that application. sc.exe will only allow executables but not scripts so I turned to autoexnt.exe which is part of the [Windows 2003 resource kit][1]. It restricts the service to a single batch file but I only need one batch script to be converted into a service.\r\n\r\n\r\n  [1]: http://www.microsoft.com/downloads/details.aspx?FamilyID=9D467A69-57FF-4AE7-96EE-B18C4790CFFD&amp;displaylang=en\r\n\r\nciao!","title":"How to create a windows service from java app","body":"<p>I am currently requiring this to run an Eclipse-based application but I need to set some variables first that is local to that application. sc.exe will only allow executables but not scripts so I turned to autoexnt.exe which is part of the <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=9D467A69-57FF-4AE7-96EE-B18C4790CFFD&amp;displaylang=en\" rel=\"nofollow noreferrer\">Windows 2003 resource kit</a>. It restricts the service to a single batch file but I only need one batch script to be converted into a service.</p>\n\n<p>ciao!</p>\n"},{"tags":[],"owner":{"account_id":36372,"reputation":753,"user_id":103715,"display_name":"Peter Smith"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1242028253,"creation_date":1242028253,"answer_id":847126,"question_id":68113,"body_markdown":"One more option is [WinRun4J][1]. This is a configurable java launcher that doubles as a windows service host (both 32 and 64 bit versions). It is open source and there are no restrictions on its use. \r\n\r\n(full disclosure: I work on this project).\r\n\r\n\r\n  [1]: http://winrun4j.sourceforge.net/ &quot;WinRun4J&quot;","title":"How to create a windows service from java app","body":"<p>One more option is <a href=\"http://winrun4j.sourceforge.net/\" rel=\"noreferrer\" title=\"WinRun4J\">WinRun4J</a>. This is a configurable java launcher that doubles as a windows service host (both 32 and 64 bit versions). It is open source and there are no restrictions on its use. </p>\n\n<p>(full disclosure: I work on this project).</p>\n"},{"tags":[],"owner":{"account_id":61045,"reputation":2660,"user_id":182094,"accept_rate":78,"display_name":"NT_"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1255337509,"creation_date":1255337509,"answer_id":1553442,"question_id":68113,"body_markdown":"[JavaService][1] is LGPL. It is very easy and stable. Highly recommended.\r\n\r\n\r\n  [1]: http://forge.objectweb.org/projects/javaservice/","title":"How to create a windows service from java app","body":"<p><a href=\"http://forge.objectweb.org/projects/javaservice/\" rel=\"nofollow noreferrer\">JavaService</a> is LGPL. It is very easy and stable. Highly recommended.</p>\n"},{"tags":[],"owner":{"account_id":45837,"reputation":4941,"user_id":135280,"accept_rate":100,"display_name":"mcdon"},"down_vote_count":2,"up_vote_count":109,"is_accepted":false,"score":107,"last_activity_date":1347414751,"creation_date":1269540122,"answer_id":2518162,"question_id":68113,"body_markdown":"[Apache Commons Daemon][1] is a good alternative. It has [Procrun][2] for windows services, and [Jsvc][3] for unix daemons. It uses less restrictive Apache license, and Apache Tomcat uses it as a part of itself to run on Windows and Linux! To get it work is a bit tricky, but there is an [exhaustive article][5] with working example.\r\n\r\nBesides that, you may look at the bin\\service.bat in [Apache Tomcat][4] to get an idea how to setup the service.  In Tomcat they rename the Procrun binaries (prunsrv.exe -&gt; tomcat6.exe, prunmgr.exe -&gt; tomcat6w.exe).\r\n\r\nSomething I struggled with using Procrun, your start and stop methods must accept the parameters (String[] argv).  For example &quot;start(String[] argv)&quot; and &quot;stop(String[] argv)&quot; would work, but &quot;start()&quot; and &quot;stop()&quot; would cause errors.  If you can&#39;t modify those calls, consider making a bootstrapper class that can massage those calls to fit your needs.\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/daemon/index.html\r\n  [2]: http://commons.apache.org/daemon/procrun.html\r\n  [3]: http://commons.apache.org/daemon/jsvc.html\r\n  [4]: http://tomcat.apache.org/\r\n  [5]: http://web.archive.org/web/20090228071059/http://blog.platinumsolutions.com/node/234","title":"How to create a windows service from java app","body":"<p><a href=\"http://commons.apache.org/daemon/index.html\" rel=\"noreferrer\">Apache Commons Daemon</a> is a good alternative. It has <a href=\"http://commons.apache.org/daemon/procrun.html\" rel=\"noreferrer\">Procrun</a> for windows services, and <a href=\"http://commons.apache.org/daemon/jsvc.html\" rel=\"noreferrer\">Jsvc</a> for unix daemons. It uses less restrictive Apache license, and Apache Tomcat uses it as a part of itself to run on Windows and Linux! To get it work is a bit tricky, but there is an <a href=\"http://web.archive.org/web/20090228071059/http://blog.platinumsolutions.com/node/234\" rel=\"noreferrer\">exhaustive article</a> with working example.</p>\n\n<p>Besides that, you may look at the bin\\service.bat in <a href=\"http://tomcat.apache.org/\" rel=\"noreferrer\">Apache Tomcat</a> to get an idea how to setup the service.  In Tomcat they rename the Procrun binaries (prunsrv.exe -> tomcat6.exe, prunmgr.exe -> tomcat6w.exe).</p>\n\n<p>Something I struggled with using Procrun, your start and stop methods must accept the parameters (String[] argv).  For example \"start(String[] argv)\" and \"stop(String[] argv)\" would work, but \"start()\" and \"stop()\" would cause errors.  If you can't modify those calls, consider making a bootstrapper class that can massage those calls to fit your needs.</p>\n"},{"tags":[],"owner":{"account_id":72292,"reputation":2175,"user_id":208793,"display_name":"atomicules"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1283425338,"creation_date":1283425338,"answer_id":3626452,"question_id":68113,"body_markdown":"Yet another answer is [Yet Another Java Service Wrapper][1], this seems like a good alternative to Java Service Wrapper as has better licensing. It is also intended to be easy to move from JSW to YAJSW. Certainly for me, brand new to windows servers and trying to get a Java app running as a service, it was very easy to use.\r\n\r\nSome others I found, but didn&#39;t end up using:\r\n\r\n - [Java Service Launcher][2] I didn&#39;t use this because it looked more complicated to get working than YAJSW. I don&#39;t think this is a wrapper.\r\n - [JSmooth][3] Creating Window&#39;s services isn&#39;t its primary goal, but [can be done][4]. I didn&#39;t use this because there&#39;s been no activity since 2007.\r\n\r\n\r\n  [1]: http://yajsw.sourceforge.net\r\n  [2]: http://jslwin.sourceforge.net/-\r\n  [3]: http://jsmooth.sourceforge.net/index.php\r\n  [4]: http://jsmooth.sourceforge.net/docs/jsmooth-doc.html#N103CD","title":"How to create a windows service from java app","body":"<p>Yet another answer is <a href=\"http://yajsw.sourceforge.net\" rel=\"noreferrer\">Yet Another Java Service Wrapper</a>, this seems like a good alternative to Java Service Wrapper as has better licensing. It is also intended to be easy to move from JSW to YAJSW. Certainly for me, brand new to windows servers and trying to get a Java app running as a service, it was very easy to use.</p>\n\n<p>Some others I found, but didn't end up using:</p>\n\n<ul>\n<li><a href=\"http://jslwin.sourceforge.net/-\" rel=\"noreferrer\">Java Service Launcher</a> I didn't use this because it looked more complicated to get working than YAJSW. I don't think this is a wrapper.</li>\n<li><a href=\"http://jsmooth.sourceforge.net/index.php\" rel=\"noreferrer\">JSmooth</a> Creating Window's services isn't its primary goal, but <a href=\"http://jsmooth.sourceforge.net/docs/jsmooth-doc.html#N103CD\" rel=\"noreferrer\">can be done</a>. I didn't use this because there's been no activity since 2007.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":109937,"reputation":1964,"user_id":291090,"accept_rate":50,"display_name":"pushNpop"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1293676715,"creation_date":1293676715,"answer_id":4559593,"question_id":68113,"body_markdown":"A pretty good comparison of different solutions is available at :\r\nhttp://yajsw.sourceforge.net/#mozTocId284533\r\n\r\nPersonally like launch4j","title":"How to create a windows service from java app","body":"<p>A pretty good comparison of different solutions is available at :\n<a href=\"http://yajsw.sourceforge.net/#mozTocId284533\" rel=\"nofollow\">http://yajsw.sourceforge.net/#mozTocId284533</a></p>\n\n<p>Personally like launch4j</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1510954232,"creation_date":1305050584,"answer_id":5954356,"question_id":68113,"body_markdown":"Use &quot;[winsw][1]&quot; which was written for Glassfish v3 but works well with Java programs in general.\r\n\r\nRequire .NET runtime installed.\r\n\r\n\r\n  [1]: https://github.com/kohsuke/winsw","title":"How to create a windows service from java app","body":"<p>Use \"<a href=\"https://github.com/kohsuke/winsw\" rel=\"nofollow noreferrer\">winsw</a>\" which was written for Glassfish v3 but works well with Java programs in general.</p>\n\n<p>Require .NET runtime installed.</p>\n"},{"tags":[],"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1608851674,"creation_date":1337957115,"answer_id":10756495,"question_id":68113,"body_markdown":"**With [Apache Commons Daemon][1] you can now have a custom executable name and icon!**  You can also get a custom Windows tray monitor with your own name and icon!\r\n\r\nI now have my service running with my own name and icon (prunsrv.exe), and the system tray monitor (prunmgr.exe) also has my own custom name and icon!  \r\n\r\n 1. Download the [Apache Commons Daemon binaries][3] (you will need prunsrv.exe and prunmgr.exe).  \r\n 2. Rename them to be `MyServiceName.exe` and `MyServiceNamew.exe` respectively.\r\n 3. Download [WinRun4J][2] and use the `RCEDIT.exe` program that comes with it to modify the Apache executable to embed your own custom icon like this:\r\n\r\n        &gt; RCEDIT.exe /I MyServiceName.exe customIcon.ico\r\n        &gt; RCEDIT.exe /I MyServiceNamew.exe customTrayIcon.ico\r\n\r\n 4. Now install your Windows service like this (see [documentation][4] for more details and options):\r\n\r\n        &gt; MyServiceName.exe //IS//MyServiceName \\\r\n          --Install=&quot;C:\\path-to\\MyServiceName.exe&quot; \\\r\n          --Jvm=auto --Startup=auto --StartMode=jvm \\\r\n          --Classpath=&quot;C:\\path-to\\MyJarWithClassWithMainMethod.jar&quot; \\\r\n          --StartClass=com.mydomain.MyClassWithMainMethod\r\n\r\n 5. Now you have a Windows service of your Jar that will run with your own icon and name!  You can also launch the monitor file and it will run in the system tray with your own icon and name.\r\n\r\n\r\n        &gt; MyServiceNamew.exe //MS//MyServiceName\r\n\r\n  [1]: http://commons.apache.org/daemon/index.html\r\n  [2]: http://winrun4j.sourceforge.net/\r\n  [3]: http://www.apache.org/dist/commons/daemon/binaries/windows/\r\n  [4]: http://commons.apache.org/daemon/procrun.html","title":"How to create a windows service from java app","body":"<p><strong>With <a href=\"http://commons.apache.org/daemon/index.html\" rel=\"noreferrer\">Apache Commons Daemon</a> you can now have a custom executable name and icon!</strong>  You can also get a custom Windows tray monitor with your own name and icon!</p>\n<p>I now have my service running with my own name and icon (prunsrv.exe), and the system tray monitor (prunmgr.exe) also has my own custom name and icon!</p>\n<ol>\n<li><p>Download the <a href=\"http://www.apache.org/dist/commons/daemon/binaries/windows/\" rel=\"noreferrer\">Apache Commons Daemon binaries</a> (you will need prunsrv.exe and prunmgr.exe).</p>\n</li>\n<li><p>Rename them to be <code>MyServiceName.exe</code> and <code>MyServiceNamew.exe</code> respectively.</p>\n</li>\n<li><p>Download <a href=\"http://winrun4j.sourceforge.net/\" rel=\"noreferrer\">WinRun4J</a> and use the <code>RCEDIT.exe</code> program that comes with it to modify the Apache executable to embed your own custom icon like this:</p>\n<pre><code>&gt; RCEDIT.exe /I MyServiceName.exe customIcon.ico\n&gt; RCEDIT.exe /I MyServiceNamew.exe customTrayIcon.ico\n</code></pre>\n</li>\n<li><p>Now install your Windows service like this (see <a href=\"http://commons.apache.org/daemon/procrun.html\" rel=\"noreferrer\">documentation</a> for more details and options):</p>\n<pre><code>&gt; MyServiceName.exe //IS//MyServiceName \\\n  --Install=&quot;C:\\path-to\\MyServiceName.exe&quot; \\\n  --Jvm=auto --Startup=auto --StartMode=jvm \\\n  --Classpath=&quot;C:\\path-to\\MyJarWithClassWithMainMethod.jar&quot; \\\n  --StartClass=com.mydomain.MyClassWithMainMethod\n</code></pre>\n</li>\n<li><p>Now you have a Windows service of your Jar that will run with your own icon and name!  You can also launch the monitor file and it will run in the system tray with your own icon and name.</p>\n<pre><code>&gt; MyServiceNamew.exe //MS//MyServiceName\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2122643,"reputation":341,"user_id":1885587,"display_name":"Giordano Maestro"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1412589280,"creation_date":1359331641,"answer_id":14553774,"question_id":68113,"body_markdown":"A simple way is the [NSSM Wrapper][1] Wrapper ([see my blog entry][2]).\r\n\r\n\r\n  [1]: http://nssm.cc/\r\n  [2]: http://giordanomaestro.blogspot.it/2013/01/running-java-applications-as-windows.html","title":"How to create a windows service from java app","body":"<p>A simple way is the <a href=\"http://nssm.cc/\" rel=\"noreferrer\">NSSM Wrapper</a> Wrapper (<a href=\"http://giordanomaestro.blogspot.it/2013/01/running-java-applications-as-windows.html\" rel=\"noreferrer\">see my blog entry</a>).</p>\n"},{"tags":[],"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1486988971,"creation_date":1486988971,"answer_id":42204087,"question_id":68113,"body_markdown":"it&#39;s simple as you have to put shortcut in \r\n\r\n**Windows 7**\r\n`C:\\users\\All Users\\Start Menu\\Programs\\Startup`(Admin)  or `User home directory(%userProfile%)`\r\n\r\n**Windows 10 :**\r\nIn Run   `shell:startup`\r\n\r\nin it&#39;s property -&gt; shortcut -&gt; target - &gt; `java.exe -jar D:\\..\\runJar.jar`\r\n\r\n**NOTE: This will run only after you login**\r\n\r\n\r\n----------\r\n\r\n\r\n**With Admin Right**\r\n\r\n`sc create serviceName binpath= &quot;java.exe -jar D:\\..\\runJar.jar&quot;` Will create windows service\r\n\r\n if you get **timeout** use `cmd /c D:\\JAVA7~1\\jdk1.7.0_51\\bin\\java.exe -jar d:\\jenkins\\jenkins.war` but even with this you&#39;ll get timeout but in background java.exe will be started. Check in task manager\r\n\r\n\r\n**NOTE: This will run at windows logon start-up(before sign-in, Based on service &#39;`Startup Type`&#39;)**\r\n\r\n[Detailed explanation of creating windows service][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3663331/creating-a-service-with-sc-exe-how-to-pass-in-context-parameters","title":"How to create a windows service from java app","body":"<p>it's simple as you have to put shortcut in </p>\n\n<p><strong>Windows 7</strong>\n<code>C:\\users\\All Users\\Start Menu\\Programs\\Startup</code>(Admin)  or <code>User home directory(%userProfile%)</code></p>\n\n<p><strong>Windows 10 :</strong>\nIn Run   <code>shell:startup</code></p>\n\n<p>in it's property -> shortcut -> target - > <code>java.exe -jar D:\\..\\runJar.jar</code></p>\n\n<p><strong>NOTE: This will run only after you login</strong></p>\n\n<hr>\n\n<p><strong>With Admin Right</strong></p>\n\n<p><code>sc create serviceName binpath= \"java.exe -jar D:\\..\\runJar.jar\"</code> Will create windows service</p>\n\n<p>if you get <strong>timeout</strong> use <code>cmd /c D:\\JAVA7~1\\jdk1.7.0_51\\bin\\java.exe -jar d:\\jenkins\\jenkins.war</code> but even with this you'll get timeout but in background java.exe will be started. Check in task manager</p>\n\n<p><strong>NOTE: This will run at windows logon start-up(before sign-in, Based on service '<code>Startup Type</code>')</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3663331/creating-a-service-with-sc-exe-how-to-pass-in-context-parameters\">Detailed explanation of creating windows service</a></p>\n"},{"tags":[],"owner":{"account_id":11461301,"reputation":1,"user_id":8400888,"display_name":"Alexey Lisyutenko"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1511887431,"creation_date":1501605199,"answer_id":45443208,"question_id":68113,"body_markdown":"If you use Gradle Build Tool you can try my [windows-service-plugin][1], which facilitates using of [Apache Commons Daemon Procrun][2].  \r\n\r\nTo create a java windows service application with the plugin you need to go through several simple steps.\r\n\r\n 1. Create a main service class with the appropriate method.\r\n\r\n        public class MyService {\r\n        \r\n            public static void main(String[] args) {\r\n                String command = &quot;start&quot;;\r\n                if (args.length &gt; 0) {\r\n                    command = args[0];\r\n                }\r\n                if (&quot;start&quot;.equals(command)) {\r\n                    // process service start function\r\n                } else {\r\n                    // process service stop function\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n 2. Include the plugin into your `build.gradle` file.\r\n\r\n        buildscript {\r\n          repositories {\r\n            maven {\r\n              url &quot;https://plugins.gradle.org/m2/&quot;\r\n            }\r\n          }\r\n          dependencies {\r\n            classpath &quot;gradle.plugin.com.github.alexeylisyutenko:windows-service-plugin:1.1.0&quot;\r\n          }\r\n        }\r\n        \r\n        apply plugin: &quot;com.github.alexeylisyutenko.windows-service-plugin&quot;\r\n  \r\n\r\n  The same script snippet for new, incubating, plugin mechanism introduced in Gradle 2.1:\r\n\r\n        plugins {\r\n          id &quot;com.github.alexeylisyutenko.windows-service-plugin&quot; version &quot;1.1.0&quot;\r\n        }\r\n\r\n 3. Configure the plugin.\r\n\r\n        windowsService {\r\n          architecture = &#39;amd64&#39;\r\n          displayName = &#39;TestService&#39;\r\n          description = &#39;Service generated with using gradle plugin&#39;   \r\n          startClass = &#39;MyService&#39;\r\n          startMethod = &#39;main&#39;\r\n          startParams = &#39;start&#39;\r\n          stopClass = &#39;MyService&#39;\r\n          stopMethod = &#39;main&#39;\r\n          stopParams = &#39;stop&#39;\r\n          startup = &#39;auto&#39;\r\n        }\r\n\r\n 4. Run **createWindowsService** gradle task to create a windows service distribution.\r\n \r\nThat&#39;s all you need to do to create a simple windows service. The plugin will automatically download Apache Commons Daemon Procrun binaries, extract this binaries to the service distribution directory and create batch files for installation/uninstallation of the service.\r\n\r\nIn `${project.buildDir}/windows-service` directory you will find service executables, batch scripts for installation/uninstallation of the service and all runtime libraries. \r\nTo install the service run `&lt;project-name&gt;-install.bat` and if you want to uninstall the service run `&lt;project-name&gt;-uninstall.bat`.\r\nTo start and stop the service use `&lt;project-name&gt;w.exe` executable.\r\n\r\nNote that the method handling service start should create and start a separate thread to carry out the processing, and then return. The main method is called from different threads when you start and stop the service.\r\n\r\nFor more information, please read about the plugin and Apache Commons Daemon Procrun.\r\n\r\n  [1]: https://github.com/alexeylisyutenko/windows-service-plugin\r\n  [2]: http://commons.apache.org/proper/commons-daemon/procrun.html","title":"How to create a windows service from java app","body":"<p>If you use Gradle Build Tool you can try my <a href=\"https://github.com/alexeylisyutenko/windows-service-plugin\" rel=\"noreferrer\">windows-service-plugin</a>, which facilitates using of <a href=\"http://commons.apache.org/proper/commons-daemon/procrun.html\" rel=\"noreferrer\">Apache Commons Daemon Procrun</a>.  </p>\n\n<p>To create a java windows service application with the plugin you need to go through several simple steps.</p>\n\n<ol>\n<li><p>Create a main service class with the appropriate method.</p>\n\n<pre><code>public class MyService {\n\n    public static void main(String[] args) {\n        String command = \"start\";\n        if (args.length &gt; 0) {\n            command = args[0];\n        }\n        if (\"start\".equals(command)) {\n            // process service start function\n        } else {\n            // process service stop function\n        }\n    }\n\n}\n</code></pre></li>\n<li><p>Include the plugin into your <code>build.gradle</code> file.</p>\n\n<pre><code>buildscript {\n  repositories {\n    maven {\n      url \"https://plugins.gradle.org/m2/\"\n    }\n  }\n  dependencies {\n    classpath \"gradle.plugin.com.github.alexeylisyutenko:windows-service-plugin:1.1.0\"\n  }\n}\n\napply plugin: \"com.github.alexeylisyutenko.windows-service-plugin\"\n</code></pre>\n\n<p>The same script snippet for new, incubating, plugin mechanism introduced in Gradle 2.1:</p>\n\n<pre><code>plugins {\n  id \"com.github.alexeylisyutenko.windows-service-plugin\" version \"1.1.0\"\n}\n</code></pre></li>\n<li><p>Configure the plugin.</p>\n\n<pre><code>windowsService {\n  architecture = 'amd64'\n  displayName = 'TestService'\n  description = 'Service generated with using gradle plugin'   \n  startClass = 'MyService'\n  startMethod = 'main'\n  startParams = 'start'\n  stopClass = 'MyService'\n  stopMethod = 'main'\n  stopParams = 'stop'\n  startup = 'auto'\n}\n</code></pre></li>\n<li><p>Run <strong>createWindowsService</strong> gradle task to create a windows service distribution.</p></li>\n</ol>\n\n<p>That's all you need to do to create a simple windows service. The plugin will automatically download Apache Commons Daemon Procrun binaries, extract this binaries to the service distribution directory and create batch files for installation/uninstallation of the service.</p>\n\n<p>In <code>${project.buildDir}/windows-service</code> directory you will find service executables, batch scripts for installation/uninstallation of the service and all runtime libraries. \nTo install the service run <code>&lt;project-name&gt;-install.bat</code> and if you want to uninstall the service run <code>&lt;project-name&gt;-uninstall.bat</code>.\nTo start and stop the service use <code>&lt;project-name&gt;w.exe</code> executable.</p>\n\n<p>Note that the method handling service start should create and start a separate thread to carry out the processing, and then return. The main method is called from different threads when you start and stop the service.</p>\n\n<p>For more information, please read about the plugin and Apache Commons Daemon Procrun.</p>\n"},{"tags":[],"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1503539865,"creation_date":1503539865,"answer_id":45851799,"question_id":68113,"body_markdown":"With Java 8 we can handle this scenario without any external tools. [javapackager][1] tool coming with java 8 provides an option to create self contained application bundles:\r\n\r\n-native type\r\nGenerate self-contained application bundles (if possible). Use the -B option to provide arguments to the bundlers being used. If type is specified, then only a bundle of this type is created. If no type is specified, all is used.\r\n\r\nThe following values are valid for type:\r\n\r\n    -native type\r\n    Generate self-contained application bundles (if possible). Use the -B option to provide arguments to the bundlers being used. If type is specified, then only a bundle of this type is created. If no type is specified, all is used.\r\n    \r\n    The following values are valid for type:\r\n    \r\n    all: Runs all of the installers for the platform on which it is running, and creates a disk image for the application. This value is used if type is not specified.\r\n    installer: Runs all of the installers for the platform on which it is running.\r\n    image: Creates a disk image for the application. On OS X, the image is the .app file. On Linux, the image is the directory that gets installed.\r\n    dmg: Generates a DMG file for OS X.\r\n    pkg: Generates a .pkg package for OS X.\r\n    mac.appStore: Generates a package for the Mac App Store.\r\n    rpm: Generates an RPM package for Linux.\r\n    deb: Generates a Debian package for Linux.\r\n\r\nIn case of windows refer the following [doc][1] we can create msi or exe as needed.\r\n\r\n    exe: Generates a Windows .exe package.\r\n    msi: Generates a Windows Installer package.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javapackager.html\r\n","title":"How to create a windows service from java app","body":"<p>With Java 8 we can handle this scenario without any external tools. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javapackager.html\" rel=\"nofollow noreferrer\">javapackager</a> tool coming with java 8 provides an option to create self contained application bundles:</p>\n\n<p>-native type\nGenerate self-contained application bundles (if possible). Use the -B option to provide arguments to the bundlers being used. If type is specified, then only a bundle of this type is created. If no type is specified, all is used.</p>\n\n<p>The following values are valid for type:</p>\n\n<pre><code>-native type\nGenerate self-contained application bundles (if possible). Use the -B option to provide arguments to the bundlers being used. If type is specified, then only a bundle of this type is created. If no type is specified, all is used.\n\nThe following values are valid for type:\n\nall: Runs all of the installers for the platform on which it is running, and creates a disk image for the application. This value is used if type is not specified.\ninstaller: Runs all of the installers for the platform on which it is running.\nimage: Creates a disk image for the application. On OS X, the image is the .app file. On Linux, the image is the directory that gets installed.\ndmg: Generates a DMG file for OS X.\npkg: Generates a .pkg package for OS X.\nmac.appStore: Generates a package for the Mac App Store.\nrpm: Generates an RPM package for Linux.\ndeb: Generates a Debian package for Linux.\n</code></pre>\n\n<p>In case of windows refer the following <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javapackager.html\" rel=\"nofollow noreferrer\">doc</a> we can create msi or exe as needed.</p>\n\n<pre><code>exe: Generates a Windows .exe package.\nmsi: Generates a Windows Installer package.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629600592,"creation_date":1629600592,"answer_id":68878128,"question_id":68113,"body_markdown":"I have been using [jar2exe][1] for last few years to run our Java applications as service on Windows. It provides an option to create an exe file which can be installed as Windows service.\r\n\r\n\r\n  [1]: https://www.jar2exe.com/","title":"How to create a windows service from java app","body":"<p>I have been using <a href=\"https://www.jar2exe.com/\" rel=\"nofollow noreferrer\">jar2exe</a> for last few years to run our Java applications as service on Windows. It provides an option to create an exe file which can be installed as Windows service.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655464413,"creation_date":1655463212,"answer_id":72658268,"question_id":68113,"body_markdown":"It&#39;s possible to implement a Windows service in 100% Java code by combining the use of [Foreign Memory and Linker API][1] (previewing from JDK16 upwards) with [OpenJDK jextract project][2] to handle the Windows Service callbacks, and then use [jpackage][3] to produce a Windows EXE which can then be registered as a Windows Service.\r\n\r\nSee this example which outlines the work needed to implement a [Windows service][4]. All Windows service EXE must provide callbacks for the main entrypoint [ServiceMain][5] and [Service Control Handler][6], and use API calls [StartServiceCtrlDispatcherW][7], [RegisterServiceCtrlHandlerExW][8] and [SetServiceStatus][9] in `Advapi.DLL`. \r\n\r\nThe flow of above callbacks in Java with Foreign Memory structures are:\r\n\r\n    main()\r\n\t\tMust register ServiceMain using StartServiceCtrlDispatcherW\r\n        Above call blocks until ServiceMain exits\r\n\t\t\t\r\n    void ServiceMain(int dwNumServicesArgs, MemoryAddress lpServiceArgVectors)\r\n\t\tMust register SvcCtrlHandler using RegisterServiceCtrlHandlerExW\r\n\t\tUse SetServiceStatus(SERVICE_START_PENDING)\r\n        Initialise app\r\n\t\tUse SetServiceStatus(SERVICE_RUNNING)\r\n        wait for app shutdown notification\r\n\t\tUse SetServiceStatus(SERVICE_STOPPED)\r\n\r\n    int SvcCtrlHandler(int dwControl, int dwEventType, MemoryAddress lpEventData, MemoryAddress lpContext)\r\n\t\tMust respond to service control events and report back using SetServiceStatus\r\n        On receiving SERVICE_CONTROL_STOP reports SetServiceStatus(SERVICE_STOP_PENDING)\r\n            then set app shutdown notification\r\n\r\nOnce finished the Java application, jpackage can create runtime+EXE which can then be installed and registered as a Windows Service. Run as Adminstrator (spaces after = are important):\r\n\r\n     sc create YourJavaServiceName type= own binpath= &quot;c:\\Program Files\\Your Release Dir\\yourjavaservice.exe&quot;\r\n\r\n\r\n  [1]: https://jdk.java.net/panama/\r\n  [2]: https://github.com/openjdk/jextract\r\n  [3]: https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\r\n  [4]: https://learn.microsoft.com/en-gb/windows/win32/services/svc-cpp\r\n  [5]: https://learn.microsoft.com/en-gb/windows/win32/api/winsvc/nc-winsvc-lpservice_main_functionw\r\n  [6]: https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nc-winsvc-lphandler_function\r\n  [7]: https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-startservicectrldispatcherw\r\n  [8]: https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-registerservicectrlhandlerw\r\n  [9]: https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-setservicestatus","title":"How to create a windows service from java app","body":"<p>It's possible to implement a Windows service in 100% Java code by combining the use of <a href=\"https://jdk.java.net/panama/\" rel=\"nofollow noreferrer\">Foreign Memory and Linker API</a> (previewing from JDK16 upwards) with <a href=\"https://github.com/openjdk/jextract\" rel=\"nofollow noreferrer\">OpenJDK jextract project</a> to handle the Windows Service callbacks, and then use <a href=\"https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">jpackage</a> to produce a Windows EXE which can then be registered as a Windows Service.</p>\n<p>See this example which outlines the work needed to implement a <a href=\"https://learn.microsoft.com/en-gb/windows/win32/services/svc-cpp\" rel=\"nofollow noreferrer\">Windows service</a>. All Windows service EXE must provide callbacks for the main entrypoint <a href=\"https://learn.microsoft.com/en-gb/windows/win32/api/winsvc/nc-winsvc-lpservice_main_functionw\" rel=\"nofollow noreferrer\">ServiceMain</a> and <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nc-winsvc-lphandler_function\" rel=\"nofollow noreferrer\">Service Control Handler</a>, and use API calls <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-startservicectrldispatcherw\" rel=\"nofollow noreferrer\">StartServiceCtrlDispatcherW</a>, <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-registerservicectrlhandlerw\" rel=\"nofollow noreferrer\">RegisterServiceCtrlHandlerExW</a> and <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winsvc/nf-winsvc-setservicestatus\" rel=\"nofollow noreferrer\">SetServiceStatus</a> in <code>Advapi.DLL</code>.</p>\n<p>The flow of above callbacks in Java with Foreign Memory structures are:</p>\n<pre><code>main()\n    Must register ServiceMain using StartServiceCtrlDispatcherW\n    Above call blocks until ServiceMain exits\n        \nvoid ServiceMain(int dwNumServicesArgs, MemoryAddress lpServiceArgVectors)\n    Must register SvcCtrlHandler using RegisterServiceCtrlHandlerExW\n    Use SetServiceStatus(SERVICE_START_PENDING)\n    Initialise app\n    Use SetServiceStatus(SERVICE_RUNNING)\n    wait for app shutdown notification\n    Use SetServiceStatus(SERVICE_STOPPED)\n\nint SvcCtrlHandler(int dwControl, int dwEventType, MemoryAddress lpEventData, MemoryAddress lpContext)\n    Must respond to service control events and report back using SetServiceStatus\n    On receiving SERVICE_CONTROL_STOP reports SetServiceStatus(SERVICE_STOP_PENDING)\n        then set app shutdown notification\n</code></pre>\n<p>Once finished the Java application, jpackage can create runtime+EXE which can then be installed and registered as a Windows Service. Run as Adminstrator (spaces after = are important):</p>\n<pre><code> sc create YourJavaServiceName type= own binpath= &quot;c:\\Program Files\\Your Release Dir\\yourjavaservice.exe&quot;\n</code></pre>\n"}],"owner":{"account_id":6168,"reputation":1226,"user_id":10273,"accept_rate":12,"display_name":"ideasculptor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342967,"favorite_count":0,"down_vote_count":0,"up_vote_count":241,"accepted_answer_id":68140,"answer_count":20,"score":241,"last_activity_date":1655464413,"creation_date":1221523594,"question_id":68113,"body_markdown":"I&#39;ve just inherited a java application that needs to be installed as a service on XP and vista. It&#39;s been about 8 years since I&#39;ve used windows in any form and I&#39;ve never had to create a service, let alone from something like a java app (I&#39;ve got a jar for the app and a single dependency jar - log4j).  What is the magic necessary to make this run as a service?  I&#39;ve got the source, so code modifications, though preferably avoided, are possible.","title":"How to create a windows service from java app","body":"<p>I've just inherited a java application that needs to be installed as a service on XP and vista. It's been about 8 years since I've used windows in any form and I've never had to create a service, let alone from something like a java app (I've got a jar for the app and a single dependency jar - log4j).  What is the magic necessary to make this run as a service?  I've got the source, so code modifications, though preferably avoided, are possible.</p>\n"},{"tags":["java","selenium","selenium-webdriver","allure","selenium-extent-report"],"answers":[{"tags":[],"owner":{"account_id":13585116,"reputation":12147,"user_id":9800042,"display_name":"Sers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1573055007,"creation_date":1573042926,"answer_id":58730096,"question_id":58728908,"body_markdown":"You can call method with taking screenshot in the step:\r\n    \r\n    @Test(description = &quot;Screenshot in Step&quot;)\r\n    public void screenshotInStepTest() {\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n        step1();\r\n        step2();\r\n        step3();\r\n    }\r\n\r\n    @Step(&quot;Step 1&quot;)\r\n    public void step1(){\r\n        System.out.println(&quot;step 1&quot;);\r\n    }\r\n    @Step(&quot;Step 2 with screenshot&quot;)\r\n    public void step2(){\r\n        System.out.println(&quot;step 2&quot;);\r\n        screenshot();\r\n    }\r\n    @Step(&quot;Step 3&quot;)\r\n    public void step3(){\r\n        System.out.println(&quot;step 3&quot;);\r\n    }\r\n\r\n    @Attachment(value = &quot;Screenshot&quot;, type = &quot;image/png&quot;)\r\n    public byte[] screenshot() {\r\n        return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n    }\r\n\r\nUpdate:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    //...\r\n    @Step(&quot;Step 1&quot;)\r\n    public void step1(){\r\n        //...\r\n\r\n        Allure.addAttachment(&quot;Any text&quot;, new ByteArrayInputStream(((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES)));\r\n    }\r\n   \r\n\r\n\r\nReport:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QoyUo.png","title":"Is it possible to have screenshots of allure report between steps like extent report?","body":"<p>You can call method with taking screenshot in the step:</p>\n\n<pre><code>@Test(description = \"Screenshot in Step\")\npublic void screenshotInStepTest() {\n    driver.get(\"https://www.google.com\");\n    step1();\n    step2();\n    step3();\n}\n\n@Step(\"Step 1\")\npublic void step1(){\n    System.out.println(\"step 1\");\n}\n@Step(\"Step 2 with screenshot\")\npublic void step2(){\n    System.out.println(\"step 2\");\n    screenshot();\n}\n@Step(\"Step 3\")\npublic void step3(){\n    System.out.println(\"step 3\");\n}\n\n@Attachment(value = \"Screenshot\", type = \"image/png\")\npublic byte[] screenshot() {\n    return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n}\n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\n//...\n@Step(\"Step 1\")\npublic void step1(){\n    //...\n\n    Allure.addAttachment(\"Any text\", new ByteArrayInputStream(((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES)));\n}\n</code></pre>\n\n<p>Report:\n<a href=\"https://i.stack.imgur.com/QoyUo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QoyUo.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":7107154,"reputation":460,"user_id":5436436,"display_name":"0xM4x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21753,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58730096,"answer_count":1,"score":5,"last_activity_date":1655464096,"creation_date":1573039004,"question_id":58728908,"body_markdown":"I&#39;m using **allure** report to generate a report for my tests. earlier I used to use **extent** report. as you know, in extent report you can add logs and screenshot in order of creating them but in allure reports, all the screenshots are going to be shown at the end of steps. \r\n\r\n**My Question:** Is it possible to show the screenshots between steps? I want to create a screenshot after each step and I want to see them in the right place and **not** at the end of the report.[![enter image description here][2]][2]\r\n[![enter image description here][1]][1]\r\nThanks for your help :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31Vuv.png\r\n  [2]: https://i.stack.imgur.com/wXlWP.png","title":"Is it possible to have screenshots of allure report between steps like extent report?","body":"<p>I'm using <strong>allure</strong> report to generate a report for my tests. earlier I used to use <strong>extent</strong> report. as you know, in extent report you can add logs and screenshot in order of creating them but in allure reports, all the screenshots are going to be shown at the end of steps. </p>\n\n<p><strong>My Question:</strong> Is it possible to show the screenshots between steps? I want to create a screenshot after each step and I want to see them in the right place and <strong>not</strong> at the end of the report.<a href=\"https://i.stack.imgur.com/wXlWP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wXlWP.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/31Vuv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/31Vuv.png\" alt=\"enter image description here\"></a>\nThanks for your help :)</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":19672570,"reputation":136,"user_id":14401500,"display_name":"Chandra Sekhar"},"score":2,"creation_date":1655464504,"post_id":72658461,"comment_id":128344411,"body_markdown":"That&#39;s because the required dependencies are not available. Make sure you added required dependencies in pom.xml and wait till the build is complete within IDE. It takes a while to download the dependencies.\n\nSomething like &quot;downloading shared dependencies for maven library ...&quot; should be visible in the toolbar area of the IDE. Let it complete this step for all the dependencies.","body":"That&#39;s because the required dependencies are not available. Make sure you added required dependencies in pom.xml and wait till the build is complete within IDE. It takes a while to download the dependencies.  Something like &quot;downloading shared dependencies for maven library ...&quot; should be visible in the toolbar area of the IDE. Let it complete this step for all the dependencies."},{"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"score":1,"creation_date":1655465362,"post_id":72658461,"comment_id":128344657,"body_markdown":"Does this answer your question? [Import Maven dependencies in IntelliJ IDEA](https://stackoverflow.com/a/11467266/19170534)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/11467266/19170534\">Import Maven dependencies in IntelliJ IDEA</a>"},{"owner":{"account_id":24872213,"reputation":1,"user_id":18746585,"display_name":"Yianji"},"score":0,"creation_date":1655466962,"post_id":72658461,"comment_id":128345160,"body_markdown":"It shows that all dependencies are installed but when I try to run the application, It is not giving me a localhost port 8080. When I also create a MainView class, it does not recognise vaadin classes and functions and gives errors.","body":"It shows that all dependencies are installed but when I try to run the application, It is not giving me a localhost port 8080. When I also create a MainView class, it does not recognise vaadin classes and functions and gives errors."},{"owner":{"account_id":24615818,"reputation":173,"user_id":18516849,"display_name":"ypdev19"},"score":0,"creation_date":1655468970,"post_id":72658461,"comment_id":128345841,"body_markdown":"Try deleting the target folder and do a re import of all your dependencies. You could also try with tha &quot;maven&quot; tab on the right, there are options there to refresh your dependencies.","body":"Try deleting the target folder and do a re import of all your dependencies. You could also try with tha &quot;maven&quot; tab on the right, there are options there to refresh your dependencies."}],"owner":{"account_id":24872213,"reputation":1,"user_id":18746585,"display_name":"Yianji"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655466611,"answer_count":0,"score":0,"last_activity_date":1655464042,"creation_date":1655464042,"question_id":72658461,"body_markdown":"I don&#39;t know if there is something that I am not doing or not. Everything I try to do with intelij gives me errors. For instance, creating a javafx application is a problem. Now I am trying to create a vaadin project and I am getting this:\r\n[image]: https://i.stack.imgur.com/NDmLT.png\r\nI&#39;ve tried installing all maven dependencies but still I am getting errors. Intelij idea is the best java ide currently and I would also like to use it. Any help will be appreciated.","title":"Java and intelij idea","body":"<p>I don't know if there is something that I am not doing or not. Everything I try to do with intelij gives me errors. For instance, creating a javafx application is a problem. Now I am trying to create a vaadin project and I am getting this:\n[image]: <a href=\"https://i.stack.imgur.com/NDmLT.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NDmLT.png</a>\nI've tried installing all maven dependencies but still I am getting errors. Intelij idea is the best java ide currently and I would also like to use it. Any help will be appreciated.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1655453256,"post_id":72656182,"comment_id":128340722,"body_markdown":"One approach is, get the data paged individually from three repos, get the overall count (assuming the counts on all repos are same) and Build page object using PageableExecutionUtils with data and the count","body":"One approach is, get the data paged individually from three repos, get the overall count (assuming the counts on all repos are same) and Build page object using PageableExecutionUtils with data and the count"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1655454046,"post_id":72656182,"comment_id":128340996,"body_markdown":"https://www.baeldung.com/spring-data-jpa-pagination-sorting","body":"<a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-pagination-sorting</a>"},{"owner":{"account_id":25577857,"reputation":1,"user_id":19356945,"display_name":"xp test"},"score":0,"creation_date":1655456824,"post_id":72656182,"comment_id":128341914,"body_markdown":"@Siva Rahul , It is not possible because the three tables will be filled arbitrarily","body":"@Siva Rahul , It is not possible because the three tables will be filled arbitrarily"}],"owner":{"account_id":25577857,"reputation":1,"user_id":19356945,"display_name":"xp test"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655463921,"creation_date":1655453106,"question_id":72656182,"body_markdown":"I have 3 entities (Child1, Child2, Child3) which extends the same class (Parnt). The 3 entities differ by a few fields.\r\n\r\nModels\r\n\r\n```\r\n//lombok annotations\r\n@MappedSuperclass\r\npublic class Parent {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String City;\r\n    private Date date;\r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child1 extends Parent {\r\n    private Obj1 obj1;\r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child2 extends Parent {\r\n    private Obj1 obj2;    \r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child3 extends Parent {\r\n    private Obj1 obj3;\r\n}\r\n```\r\n\r\nRepositories\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface ParentRepository &lt;T, ID extends Serializable&gt;  extends JpaRepository&lt;T, ID&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child1Repository extends ParentRepository &lt;Child1, Long&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child2Repository extends ParentRepository &lt;Child2, Long&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child3Repository extends ParentRepository &lt;Child3, Long&gt; {}\r\n```\r\n\r\nThe problem is I want to fetch data from the three children in the same request and return the result in a `Page&lt;Parent&gt;` object sorted by date.\r\n\r\nExample: if we request `localhost:8080/api/result?page10&amp;Size4`, the result should be \r\n```json\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;id&quot;: 101,\r\n            &quot;city&quot;: &quot;Roma&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:42:12&quot;,\r\n            &quot;obj1&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 11,\r\n            &quot;city&quot;: &quot;Milano&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:45:12&quot;,\r\n            &quot;obj2&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 102,\r\n            &quot;city&quot;: &quot;Delhi&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:45:20&quot;,\r\n            &quot;obj1&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 92,\r\n            &quot;city&quot;: &quot;Sale&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:49:13&quot;,\r\n            &quot;obj3&quot;: {...\r\n            }\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;unsorted&quot;: false,\r\n            &quot;sorted&quot;: true,\r\n        }\r\n        &quot;pageSize&quot;: 4,\r\n        &quot;pageNumber&quot;: 10,\r\n    },\r\n}\r\n```\r\n\r\n","title":"Fetch data from the 3 subclasses in the same request and return the result in a Page object","body":"<p>I have 3 entities (Child1, Child2, Child3) which extends the same class (Parnt). The 3 entities differ by a few fields.</p>\n<p>Models</p>\n<pre><code>//lombok annotations\n@MappedSuperclass\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String City;\n    private Date date;\n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child1 extends Parent {\n    private Obj1 obj1;\n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child2 extends Parent {\n    private Obj1 obj2;    \n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child3 extends Parent {\n    private Obj1 obj3;\n}\n</code></pre>\n<p>Repositories</p>\n<pre><code>@NoRepositoryBean\npublic interface ParentRepository &lt;T, ID extends Serializable&gt;  extends JpaRepository&lt;T, ID&gt; {}\n</code></pre>\n<pre><code>public interface Child1Repository extends ParentRepository &lt;Child1, Long&gt; {}\n</code></pre>\n<pre><code>public interface Child2Repository extends ParentRepository &lt;Child2, Long&gt; {}\n</code></pre>\n<pre><code>public interface Child3Repository extends ParentRepository &lt;Child3, Long&gt; {}\n</code></pre>\n<p>The problem is I want to fetch data from the three children in the same request and return the result in a <code>Page&lt;Parent&gt;</code> object sorted by date.</p>\n<p>Example: if we request <code>localhost:8080/api/result?page10&amp;Size4</code>, the result should be</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;content&quot;: [\n        {\n            &quot;id&quot;: 101,\n            &quot;city&quot;: &quot;Roma&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:42:12&quot;,\n            &quot;obj1&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 11,\n            &quot;city&quot;: &quot;Milano&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:45:12&quot;,\n            &quot;obj2&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 102,\n            &quot;city&quot;: &quot;Delhi&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:45:20&quot;,\n            &quot;obj1&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 92,\n            &quot;city&quot;: &quot;Sale&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:49:13&quot;,\n            &quot;obj3&quot;: {...\n            }\n        }\n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;unsorted&quot;: false,\n            &quot;sorted&quot;: true,\n        }\n        &quot;pageSize&quot;: 4,\n        &quot;pageNumber&quot;: 10,\n    },\n}\n</code></pre>\n"},{"tags":["java","spring","jdbc","hana"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1630397103,"post_id":68994900,"comment_id":121937784,"body_markdown":"If you use those parameters, the connection *should* be secure ... provided that nobody has leaked the private key used to create the certificate.  (Actually ... I don&#39;t understand what you are missing.  Perhaps you should explain why you think it wouldn&#39;t be secure.  Then maybe we can tell you what you are missing.)","body":"If you use those parameters, the connection <i>should</i> be secure ... provided that nobody has leaked the private key used to create the certificate.  (Actually ... I don&#39;t understand what you are missing.  Perhaps you should explain why you think it wouldn&#39;t be secure.  Then maybe we can tell you what you are missing.)"},{"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"score":1,"creation_date":1630397597,"post_id":68994900,"comment_id":121937987,"body_markdown":"Hi, \n@Stephen C  Thank you for replying.  I was wondering that when I say encrypt=true then what is happening internally? I mean how the parameters helping here to encrypt or validate the certificate. Thanks again","body":"Hi,  @Stephen C  Thank you for replying.  I was wondering that when I say encrypt=true then what is happening internally? I mean how the parameters helping here to encrypt or validate the certificate. Thanks again"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1630400262,"post_id":68994900,"comment_id":121939025,"body_markdown":"They &gt;tell&lt; the driver to use encryption and validate the certificate. If you really need to know what is happening internally, you will need to get the source code for the driver and perform a security analysis on it.  Talk to the software vendor.","body":"They &gt;tell&lt; the driver to use encryption and validate the certificate. If you really need to know what is happening internally, you will need to get the source code for the driver and perform a security analysis on it.  Talk to the software vendor."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1630400516,"post_id":68994900,"comment_id":121939123,"body_markdown":"Or ... you can check out the FIPS certification for the product; see https://help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/en-US/b2632d37bbf9101495f4ad0d6e7292d1.html","body":"Or ... you can check out the FIPS certification for the product; see <a href=\"https://help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/en-US/b2632d37bbf9101495f4ad0d6e7292d1.html\" rel=\"nofollow noreferrer\">help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"score":0,"creation_date":1630403469,"post_id":68994900,"comment_id":121940420,"body_markdown":"Thanks, @StephenC, I will read more on this. Thank you for your clarifications","body":"Thanks, @StephenC, I will read more on this. Thank you for your clarifications"}],"answers":[{"tags":[],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655463148,"creation_date":1655463148,"answer_id":72658257,"question_id":68994900,"body_markdown":"The neat thing about certificates is that you normally don&#39;t have to worry about them.\r\n\r\nThe java virtual machine (JVM) ships with a set of so-called root certificates of the certificate authorities (CAs) (including the DigiCert Global Root CA). Depending on the java distribution there might be slight differences, but the top CAs should be trusted by all.\r\n\r\nYou can see the list of trusted CAs with the following command:\r\n\r\nkeytool -list -v -cacerts -storepass changeit\r\n\r\nAs long as the SSL certificate of your database is signed by one of these CAs (or an intermediate of these) you don&#39;t need any additional configuration and it just works out of the box. This is as well the scenario, which you should aim for as it is the easiest.\r\n\r\nYou can however as well pass to the JVM your own list of trusted certificates or, and this is probably for a generic set up the best, set a custom truststore for a single JDBC connection. In a dockerized setup, you can e.g. make the whole database string configurable allowing people to mount their own CAs into the container and configure them in the database connection string. For details check the SAP documentation on the &quot;JDBC Connection Properties for SAP HANA&quot;.\r\n\r\njdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&amp;trustStore=file:cert/truststore.jks&amp;trustStorePassword=123456\r\n","title":"How to implement Secure Connection to SAP HANA Database through JDBC?","body":"<p>The neat thing about certificates is that you normally don't have to worry about them.</p>\n<p>The java virtual machine (JVM) ships with a set of so-called root certificates of the certificate authorities (CAs) (including the DigiCert Global Root CA). Depending on the java distribution there might be slight differences, but the top CAs should be trusted by all.</p>\n<p>You can see the list of trusted CAs with the following command:</p>\n<p>keytool -list -v -cacerts -storepass changeit</p>\n<p>As long as the SSL certificate of your database is signed by one of these CAs (or an intermediate of these) you don't need any additional configuration and it just works out of the box. This is as well the scenario, which you should aim for as it is the easiest.</p>\n<p>You can however as well pass to the JVM your own list of trusted certificates or, and this is probably for a generic set up the best, set a custom truststore for a single JDBC connection. In a dockerized setup, you can e.g. make the whole database string configurable allowing people to mount their own CAs into the container and configure them in the database connection string. For details check the SAP documentation on the &quot;JDBC Connection Properties for SAP HANA&quot;.</p>\n<p>jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&amp;trustStore=file:cert/truststore.jks&amp;trustStorePassword=123456</p>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72658257,"answer_count":1,"score":2,"last_activity_date":1655463148,"creation_date":1630396444,"question_id":68994900,"body_markdown":"I am able to connect to HANA database through my server using JDBC. I am trying to figure out if my connection to the database is secured or not?\r\n\r\n```\r\n\r\n        public void createDataSource() {\r\n  \t\t    DataSource dataSource =  DataSourceBuilder.create()\r\n  \t\t    .driverClassName(JDBC_DRIVER)\r\n  \t\t    .URL(&quot;jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&quot;)\r\n  \t\t    .username(&quot;username&quot;)\r\n  \t\t    .password(&quot;password&quot;)\r\n  \t\t    .build();\r\n          \r\n            Connection c = dataSource.getConnection(); \t\r\n      }\r\n```\r\n\r\nNow what I have understood from Documentation is that when I set parameters in the URL such \r\n\r\n&gt; encrypt=true\r\n\r\nIt enables or disables TLS encryption.\r\nFor SAP HANA Cloud connections to succeed, encrypt must be set to TRUE.\r\n\r\nAnother parameter is:\r\n\r\n&gt; validateCertificate=true\r\n\r\nIf set to true, specifies that the server’s certificate is validated.\r\n\r\nHere I am not able to understand is when it will be deployed to production is this all we need to do for a secure database connection? Can someone please point out what I am missing?\r\n\r\n","title":"How to implement Secure Connection to SAP HANA Database through JDBC?","body":"<p>I am able to connect to HANA database through my server using JDBC. I am trying to figure out if my connection to the database is secured or not?</p>\n<pre><code>\n        public void createDataSource() {\n            DataSource dataSource =  DataSourceBuilder.create()\n            .driverClassName(JDBC_DRIVER)\n            .URL(&quot;jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&quot;)\n            .username(&quot;username&quot;)\n            .password(&quot;password&quot;)\n            .build();\n          \n            Connection c = dataSource.getConnection();  \n      }\n</code></pre>\n<p>Now what I have understood from Documentation is that when I set parameters in the URL such</p>\n<blockquote>\n<p>encrypt=true</p>\n</blockquote>\n<p>It enables or disables TLS encryption.\nFor SAP HANA Cloud connections to succeed, encrypt must be set to TRUE.</p>\n<p>Another parameter is:</p>\n<blockquote>\n<p>validateCertificate=true</p>\n</blockquote>\n<p>If set to true, specifies that the server’s certificate is validated.</p>\n<p>Here I am not able to understand is when it will be deployed to production is this all we need to do for a secure database connection? Can someone please point out what I am missing?</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1618213569,"post_id":62692962,"comment_id":118524303,"body_markdown":"Please take a look at the official documentation on this and let me know if this helps you: https://flutter.dev/docs/development/platform-integration/platform-channels#example","body":"Please take a look at the official documentation on this and let me know if this helps you: <a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels#example\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/platform-integration/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655463001,"creation_date":1655463001,"answer_id":72658215,"question_id":62692962,"body_markdown":"You need to provide the code where you&#39;re having issues accessing camera and sound from the device. If you just need to provide camera and mic permissions, you can use the [permission_handler][1] plugin.\r\n\r\n```dart\r\n// Request camera and microphone permission\r\nMap&lt;Permission, PermissionStatus&gt; statuses = await [\r\n  Permission.camera,\r\n  Permission.microphone,\r\n].request();\r\n```\r\n\r\n\r\n  [1]: https://pub.dev/packages/permission_handler","title":"Flutter how to write java code in flutter","body":"<p>You need to provide the code where you're having issues accessing camera and sound from the device. If you just need to provide camera and mic permissions, you can use the <a href=\"https://pub.dev/packages/permission_handler\" rel=\"nofollow noreferrer\">permission_handler</a> plugin.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>// Request camera and microphone permission\nMap&lt;Permission, PermissionStatus&gt; statuses = await [\n  Permission.camera,\n  Permission.microphone,\n].request();\n</code></pre>\n"}],"owner":{"account_id":18837504,"reputation":129,"user_id":13739812,"display_name":"Mohamed Borhene Hamedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655463001,"creation_date":1593681362,"question_id":62692962,"body_markdown":"I have an application which runs correctly without any issue. I added Java code to it to use a method channel and the problem is that the application isn&#39;t able to run sound microphone camera and did not show me any authorization to accept using camera or sound.\r\n\r\nThe code which I added from Android works correctly and show me exactly what I want.\r\n\r\n    package com.example.akk;\r\n    \r\n    import android.content.ContextWrapper;\r\n    import android.os.BatteryManager;\r\n    import android.os.Bundle;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    \r\n    //import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugins.GeneratedPluginRegistrant;\r\n    import io.flutter.app.FlutterActivity;\r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n        private static final  String CHANNEL=&quot;samples.flutter.dev/battery&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n           // GeneratedPluginRegistrant.registerWith(this);\r\n            new  MethodChannel(getFlutterView(),CHANNEL).setMethodCallHandler(new MethodChannel.MethodCallHandler(){\r\n                @Override\r\n                public void onMethodCall(MethodCall methodCall,MethodChannel.Result result ){\r\n                 if(methodCall.method.equals(&quot;getBatteryLevel&quot;)){\r\n                     int batteryLevel = getBatteryLevel();\r\n    \r\n                     if (batteryLevel != -1) {\r\n                         result.success(batteryLevel);\r\n                     } else {\r\n                         result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\r\n                     }\r\n                 } else {\r\n                     result.notImplemented();\r\n                 }\r\n    \r\n                 }\r\n    \r\n            });\r\n    \r\n    \r\n        }\r\n        private int getBatteryLevel() {\r\n            // int health = intent.getIntExtra(BatteryManager.EXTRA_HEALTH,0);\r\n    \r\n    \r\n            int deviceHealth;\r\n            int x=10;\r\n    \r\n            Intent intent = new ContextWrapper(getApplicationContext()).\r\n                    registerReceiver(null, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\r\n            deviceHealth = (intent.getIntExtra(BatteryManager.EXTRA_HEALTH, 0));\r\n    \r\n    \r\n    \r\n    \r\n            if(deviceHealth == BatteryManager.BATTERY_HEALTH_DEAD){\r\n    \r\n                x=0;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_GOOD){\r\n    \r\n                x=1;        }\r\n    \r\n            if(deviceHealth == BatteryManager.BATTERY_HEALTH_OVERHEAT){\r\n    \r\n                x=2;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE){\r\n    \r\n                x=3;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNKNOWN){\r\n    \r\n                x=4;        }\r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNSPECIFIED_FAILURE){\r\n    \r\n                x=5;        }\r\n            return x;\r\n        }\r\n    }","title":"Flutter how to write java code in flutter","body":"<p>I have an application which runs correctly without any issue. I added Java code to it to use a method channel and the problem is that the application isn't able to run sound microphone camera and did not show me any authorization to accept using camera or sound.</p>\n<p>The code which I added from Android works correctly and show me exactly what I want.</p>\n<pre><code>package com.example.akk;\n\nimport android.content.ContextWrapper;\nimport android.os.BatteryManager;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.content.IntentFilter;\n\n//import io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugins.GeneratedPluginRegistrant;\nimport io.flutter.app.FlutterActivity;\n\npublic class MainActivity extends FlutterActivity {\n    private static final  String CHANNEL=&quot;samples.flutter.dev/battery&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n       // GeneratedPluginRegistrant.registerWith(this);\n        new  MethodChannel(getFlutterView(),CHANNEL).setMethodCallHandler(new MethodChannel.MethodCallHandler(){\n            @Override\n            public void onMethodCall(MethodCall methodCall,MethodChannel.Result result ){\n             if(methodCall.method.equals(&quot;getBatteryLevel&quot;)){\n                 int batteryLevel = getBatteryLevel();\n\n                 if (batteryLevel != -1) {\n                     result.success(batteryLevel);\n                 } else {\n                     result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\n                 }\n             } else {\n                 result.notImplemented();\n             }\n\n             }\n\n        });\n\n\n    }\n    private int getBatteryLevel() {\n        // int health = intent.getIntExtra(BatteryManager.EXTRA_HEALTH,0);\n\n\n        int deviceHealth;\n        int x=10;\n\n        Intent intent = new ContextWrapper(getApplicationContext()).\n                registerReceiver(null, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\n        deviceHealth = (intent.getIntExtra(BatteryManager.EXTRA_HEALTH, 0));\n\n\n\n\n        if(deviceHealth == BatteryManager.BATTERY_HEALTH_DEAD){\n\n            x=0;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_GOOD){\n\n            x=1;        }\n\n        if(deviceHealth == BatteryManager.BATTERY_HEALTH_OVERHEAT){\n\n            x=2;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE){\n\n            x=3;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNKNOWN){\n\n            x=4;        }\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNSPECIFIED_FAILURE){\n\n            x=5;        }\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1655459495,"post_id":72657427,"comment_id":128342738,"body_markdown":"Please don&#39;t post code as screenshots, but as formatted text.","body":"Please don&#39;t post code as screenshots, but as formatted text."},{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1655489648,"post_id":72657427,"comment_id":128352870,"body_markdown":"Welcome to Stack Overflow! StackOverflow is not a free coding service; therefore, it’s expected that you [try to solve the problem first](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users). Please update your question by including a [minimal reproducible example.](https://stackoverflow.com/help/minimal-reproducible-example). We advice to take the [tour](https://stackoverflow.com/tour). For further information, please see [How to Ask](https://stackoverflow.com/questions/how-to-ask).","body":"Welcome to Stack Overflow! StackOverflow is not a free coding service; therefore, it’s expected that you <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">try to solve the problem first</a>. Please update your question by including a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example.</a>. We advice to take the <a href=\"https://stackoverflow.com/tour\">tour</a>. For further information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655461651,"creation_date":1655459684,"answer_id":72657542,"question_id":72657427,"body_markdown":"Unsure since the screenshot is cut in the wrong place (you shouldn&#39;t use picture for code btw) but it seems that `@TestMethodOrder` on the class is set to `Random` (can only see &quot;Ran&quot; so guessing here).\r\n\r\nThis needs to be `@TestMethodOrder(OrderAnnotation.class)` for the `@Order` annotation on tests to work.\r\n\r\n**EDIT**\r\n\r\nThis would only work in JUnit 5. Here is an example of working ordering in test (kotlin but it is the same princpple in Java):\r\n\r\n    import org.junit.jupiter.api.MethodOrderer.OrderAnnotation\r\n    import org.junit.jupiter.api.Order\r\n    import org.junit.jupiter.api.Test\r\n    import org.junit.jupiter.api.TestMethodOrder\r\n    import org.springframework.boot.test.context.SpringBootTest\r\n\r\n    @SpringBootTest\r\n    @TestMethodOrder(OrderAnnotation::class)\r\n    internal class MyTest {\r\n\r\n      @Test\r\n      @Order(value = 2)\r\n      fun test2() {\r\n          println(&quot;2&quot;)\r\n      }\r\n\r\n      @Test\r\n      @Order(value = 3)\r\n      fun test3() {\r\n          println(&quot;3&quot;)\r\n      }\r\n\r\n      @Test\r\n      @Order(value = 1)\r\n      fun test1() {\r\n          println(&quot;1&quot;)\r\n      }\r\n    }\r\n\r\nAlso note that the import. You might have imported a Spring @Order or another one that might not work","title":"problem execute tests with java spring boot in order","body":"<p>Unsure since the screenshot is cut in the wrong place (you shouldn't use picture for code btw) but it seems that <code>@TestMethodOrder</code> on the class is set to <code>Random</code> (can only see &quot;Ran&quot; so guessing here).</p>\n<p>This needs to be <code>@TestMethodOrder(OrderAnnotation.class)</code> for the <code>@Order</code> annotation on tests to work.</p>\n<p><strong>EDIT</strong></p>\n<p>This would only work in JUnit 5. Here is an example of working ordering in test (kotlin but it is the same princpple in Java):</p>\n<pre><code>import org.junit.jupiter.api.MethodOrderer.OrderAnnotation\nimport org.junit.jupiter.api.Order\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.TestMethodOrder\nimport org.springframework.boot.test.context.SpringBootTest\n\n@SpringBootTest\n@TestMethodOrder(OrderAnnotation::class)\ninternal class MyTest {\n\n  @Test\n  @Order(value = 2)\n  fun test2() {\n      println(&quot;2&quot;)\n  }\n\n  @Test\n  @Order(value = 3)\n  fun test3() {\n      println(&quot;3&quot;)\n  }\n\n  @Test\n  @Order(value = 1)\n  fun test1() {\n      println(&quot;1&quot;)\n  }\n}\n</code></pre>\n<p>Also note that the import. You might have imported a Spring @Order or another one that might not work</p>\n"}],"owner":{"account_id":25570136,"reputation":1,"user_id":19350645,"display_name":"Ismael Zahrouni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655462790,"creation_date":1655459107,"question_id":72657427,"body_markdown":"Hello everyone please someone help me to solve this problem i have done my project with java spring boot unit test with annotation of ***@order(value=x)*** the problem is when i execute those tests it  executes with a wrong order that i have defined them with value=1 ,value=2,... ,at least i have 7 tests and i need them to be executed with order, besides i work with intellij please someone have an answer.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/90V2A.png","title":"problem execute tests with java spring boot in order","body":"<p>Hello everyone please someone help me to solve this problem i have done my project with java spring boot unit test with annotation of <em><strong>@order(value=x)</strong></em> the problem is when i execute those tests it  executes with a wrong order that i have defined them with value=1 ,value=2,... ,at least i have 7 tests and i need them to be executed with order, besides i work with intellij please someone have an answer.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655459980,"post_id":72657578,"comment_id":128342896,"body_markdown":"Are you adding a hero multiple times if they have multiple powers?","body":"Are you adding a hero multiple times if they have multiple powers?"},{"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"score":0,"creation_date":1655460170,"post_id":72657578,"comment_id":128342964,"body_markdown":"@QuantumWiz No, i expect to add only Blood Seeker and Necrophos into filteredList","body":"@QuantumWiz No, i expect to add only Blood Seeker and Necrophos into filteredList"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":1,"creation_date":1655460380,"post_id":72657578,"comment_id":128343043,"body_markdown":"@DeanWinchester Don&#39;t both of those heroes get added twice since they have two powers that match your condition (either &quot;Durable&quot; or &quot;Agile&quot;)?","body":"@DeanWinchester Don&#39;t both of those heroes get added twice since they have two powers that match your condition (either &quot;Durable&quot; or &quot;Agile&quot;)?"},{"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"score":0,"creation_date":1655460656,"post_id":72657578,"comment_id":128343130,"body_markdown":"@QuantumWiz so should i change to &amp;&amp; ? cuz when i did that there&#39;s no data added into my filtered list","body":"@QuantumWiz so should i change to &amp;&amp; ? cuz when i did that there&#39;s no data added into my filtered list"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655461545,"post_id":72657578,"comment_id":128343410,"body_markdown":"@DeanWinchester I now made an attempt as an answer. Can you check if it works?","body":"@DeanWinchester I now made an attempt as an answer. Can you check if it works?"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655464975,"post_id":72657578,"comment_id":128344581,"body_markdown":"@DeanWinchester Is my answer clear or do you still have something you&#39;d like to ask?","body":"@DeanWinchester Is my answer clear or do you still have something you&#39;d like to ask?"}],"answers":[{"tags":[],"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655462743,"creation_date":1655461509,"answer_id":72657908,"question_id":72657578,"body_markdown":"Here&#39;s my attempt. Didn&#39;t check if it works.\r\n```\r\nList&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\r\ndata.getHeroList().forEach(hero-&gt; {\r\n    boolean hasDurable = false;\r\n    boolean hasAgile = false;\r\n    hero.getpower().forEach(power-&gt; {\r\n        if (power.getSkill().contains(&quot;Durable&quot;) &amp;&amp; power.getStatus()) {\r\n            hasDurable = true;\r\n        }\r\n        if (power.getSkill().contains(&quot;Agile&quot;) &amp;&amp; power.getStatus()) {\r\n            hasAgile = true;\r\n        }\r\n    });\r\n    if(hasDurable &amp;&amp; hasAgile) {\r\n        filteredList.add(hero);\r\n    }\r\n});\r\n```","title":"Foreach for nested list in Java","body":"<p>Here's my attempt. Didn't check if it works.</p>\n<pre><code>List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\ndata.getHeroList().forEach(hero-&gt; {\n    boolean hasDurable = false;\n    boolean hasAgile = false;\n    hero.getpower().forEach(power-&gt; {\n        if (power.getSkill().contains(&quot;Durable&quot;) &amp;&amp; power.getStatus()) {\n            hasDurable = true;\n        }\n        if (power.getSkill().contains(&quot;Agile&quot;) &amp;&amp; power.getStatus()) {\n            hasAgile = true;\n        }\n    });\n    if(hasDurable &amp;&amp; hasAgile) {\n        filteredList.add(hero);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655462743,"creation_date":1655459851,"question_id":72657578,"body_markdown":"I have hero dataset i want to show list with all heroes are durable is true and agile is true from this dataset\r\n\r\n    {\r\n        &quot;hero_code&quot;: 1,\r\n        &quot;hero_name&quot;: &quot;Blood Seeker&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;hero_code&quot;: 2,\r\n        &quot;hero_name&quot;: &quot;Pudge&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: false\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;hero_code&quot;: 3,\r\n        &quot;hero_name&quot;: &quot;Necrophos&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: true\r\n            }\r\n        ]\r\n    }\r\n\r\nthis is what i do to achieve that\r\n\r\n    List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\r\n    data.getHeroList().forEach(hero-&gt; {\r\n    hero.getpower().forEach(power-&gt; {\r\n        if (power.getSkill().contains(&quot;Durable&quot;) || power.getSkill().contains(&quot;Agile&quot;)) {\r\n            if (power.getStatus() == true){\r\n                filteredList.add(hero);\r\n            }\r\n        }\r\n    });\r\n    });\r\n\r\nbut why my filtered list end up with 6 data instead of 2 ?\r\ncould anyone give me some insight ?\r\nThanks","title":"Foreach for nested list in Java","body":"<p>I have hero dataset i want to show list with all heroes are durable is true and agile is true from this dataset</p>\n<pre><code>{\n    &quot;hero_code&quot;: 1,\n    &quot;hero_name&quot;: &quot;Blood Seeker&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: true\n        }\n    ]\n},\n{\n    &quot;hero_code&quot;: 2,\n    &quot;hero_name&quot;: &quot;Pudge&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: false\n        }\n    ]\n},\n{\n    &quot;hero_code&quot;: 3,\n    &quot;hero_name&quot;: &quot;Necrophos&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: true\n        }\n    ]\n}\n</code></pre>\n<p>this is what i do to achieve that</p>\n<pre><code>List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\ndata.getHeroList().forEach(hero-&gt; {\nhero.getpower().forEach(power-&gt; {\n    if (power.getSkill().contains(&quot;Durable&quot;) || power.getSkill().contains(&quot;Agile&quot;)) {\n        if (power.getStatus() == true){\n            filteredList.add(hero);\n        }\n    }\n});\n});\n</code></pre>\n<p>but why my filtered list end up with 6 data instead of 2 ?\ncould anyone give me some insight ?\nThanks</p>\n"},{"tags":["java","jvm","jit"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655458982,"post_id":72657042,"comment_id":128342571,"body_markdown":"Does this answer your question: https://stackoverflow.com/a/28770915/61158 ?","body":"Does this answer your question: <a href=\"https://stackoverflow.com/a/28770915/61158\">stackoverflow.com/a/28770915/61158</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655462543,"creation_date":1655462543,"answer_id":72658095,"question_id":72657042,"body_markdown":"You need the HotSpot disassembler plugin `hsdis-amd64.so` and put it on the shared library search path.\r\n\r\nYou can build it from [sources](https://github.com/openjdk/jdk/blob/e1c98bd1f2f57ddf47e4660038059117af87f938/src/utils/hsdis/README.md) or get a prebuilt binary from [here](https://bell-sw.com/pages/jvm-tools/) or [here](https://chriswhocodes.com/hsdis/).","title":"java printAssembly flag is printing no assembly instructions","body":"<p>You need the HotSpot disassembler plugin <code>hsdis-amd64.so</code> and put it on the shared library search path.</p>\n<p>You can build it from <a href=\"https://github.com/openjdk/jdk/blob/e1c98bd1f2f57ddf47e4660038059117af87f938/src/utils/hsdis/README.md\" rel=\"nofollow noreferrer\">sources</a> or get a prebuilt binary from <a href=\"https://bell-sw.com/pages/jvm-tools/\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://chriswhocodes.com/hsdis/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17499440,"reputation":230,"user_id":12690050,"display_name":"Susano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72658095,"answer_count":1,"score":1,"last_activity_date":1655462543,"creation_date":1655457335,"question_id":72657042,"body_markdown":"In this   [Link][1] `rustyx` mentioned that he used a debug virtual machine and the following flag ``` -XX:+PrintOptoAssembly ``` to get the assembly instructions of his java bytecode \r\n\r\nI installed the debug virtual machine with `sudo apt-get install openjdk-17-dbg`\r\n\r\nI  use the command ` java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Main ` \r\n\r\nI am used to do it in C++ with gdb but Can&#39;t get it to work with java the printAssembly only prints hex values of the instructions like the below sample, it&#39;s repeated multiple times with no sign of my actual code functions or any meaningful symbols\r\n\r\n \r\n \r\n \r\n\r\n\r\n```\r\nabstract class Base {\r\n\tBase(){\r\n\t\tSystem.out.println(&quot;Base Constructor Called&quot;);\r\n\t}\r\n\tabstract void fun();\r\n}\r\nclass Dervied extends Base {\r\n\tDervied(){\r\n\t\tSystem.out.println(&quot;Dervied Constructor called&quot;);\r\n\t}\r\n\tvoid fun(){\r\n\t\tint x = 0;\r\n\t\tx = x + 1;\r\n\t\tSystem.out.println(&quot;Dervied fun() called &quot; + x);\r\n\t}\r\n}\r\n\r\nclass Main {\r\n\tpublic static void main(String args[]){\r\n\t\tDervied d = new Dervied();\r\n        d.fun();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\n     32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\r\n\r\n============================= C1-compiled nmethod ==============================\r\n----------------------------------- Assembly -----------------------------------\r\n\r\nCompiled method (c1)      32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\r\n total in heap  [0x00007fca25878010,0x00007fca25878320] = 784\r\n relocation     [0x00007fca25878170,0x00007fca258781a0] = 48\r\n main code      [0x00007fca258781a0,0x00007fca25878280] = 224\r\n stub code      [0x00007fca25878280,0x00007fca258782b0] = 48\r\n metadata       [0x00007fca258782b0,0x00007fca258782c0] = 16\r\n scopes data    [0x00007fca258782c0,0x00007fca258782d8] = 24\r\n scopes pcs     [0x00007fca258782d8,0x00007fca25878318] = 64\r\n dependencies   [0x00007fca25878318,0x00007fca25878320] = 8\r\n\r\n[Constant Pool (empty)]\r\n\r\n[MachCode]\r\n[Entry Point]\r\n  # {method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;\r\n  #           [sp+0x40]  (sp of caller)\r\n  0x00007fca258781a0: 448b 5608 | 49bb 0000 | 0000 0800 | 0000 4d03 | d34c 3bd0 \r\n\r\n  0x00007fca258781b4: ;   {runtime_call ic_miss_stub}\r\n  0x00007fca258781b4: 0f85 c6a5 | abff 660f | 1f44 0000 \r\n[Verified Entry Point]\r\n  0x00007fca258781c0: 8984 2400 | c0fe ff55 | 4883 ec30 \r\n\r\n  0x00007fca258781cc: ;   {metadata(method data for {method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;)}\r\n  0x00007fca258781cc: 48bf 1888 | 801c ca7f | 0000 8b9f | f400 0000 | 83c3 0289 | 9ff4 0000 | 0081 e3fe | 0700 0083 \r\n  0x00007fca258781ec: fb00 0f84 \r\n\r\n  0x00007fca258781f0: ;*return {reexecute=0 rethrow=0 return_oop=0}\r\n                      ; - java.lang.Object::&lt;init&gt;@0 (line 44)\r\n  0x00007fca258781f0: 1300 0000 | 4883 c430 \r\n\r\n  0x00007fca258781f8: ;   {poll_return}\r\n  0x00007fca258781f8: 5d49 3ba7 | 4003 0000 | 0f87 1f00 \r\n\r\n  0x00007fca25878204: ;   {metadata({method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;)}\r\n  0x00007fca25878204: 0000 c349 | ba20 8944 | 0008 0000 | 004c 8954 | 2408 48c7 | 0424 ffff \r\n\r\n  0x00007fca2587821c: ;   {runtime_call counter_overflow Runtime1 stub}\r\n  0x00007fca2587821c: ffff e8dd \r\n\r\n  0x00007fca25878220: ; ImmutableOopMap {rsi=Oop }\r\n                      ;*synchronization entry\r\n                      ; - java.lang.Object::&lt;init&gt;@-1 (line 44)\r\n  0x00007fca25878220: 6ab6 ffeb \r\n\r\n  0x00007fca25878224: ;   {internal_word}\r\n  0x00007fca25878224: cf49 baf9 | 8187 25ca | 7f00 004d | 8997 5803 \r\n\r\n  0x00007fca25878234: ;   {runtime_call SafepointBlob}\r\n  0x00007fca25878234: 0000 e9c5 | 0eac ff90 | 9049 8b87 | d003 0000 | 49c7 87d0 | 0300 0000 | 0000 0049 | c787 d803 \r\n  0x00007fca25878254: 0000 0000 | 0000 4883 \r\n\r\n  0x00007fca2587825c: ;   {runtime_call unwind_exception Runtime1 stub}\r\n  0x00007fca2587825c: c430 5de9 | 9c01 b6ff | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 \r\n  0x00007fca2587827c: f4f4 f4f4 \r\n[Exception Handler]\r\n  0x00007fca25878280: ;   {no_reloc}\r\n  0x00007fca25878280: e87b 31b6 \r\n\r\n  0x00007fca25878284: ;   {external_word}\r\n  0x00007fca25878284: ff48 bf6a | 7482 41ca | 7f00 0048 \r\n\r\n  0x00007fca25878290: ;   {runtime_call}\r\n  0x00007fca25878290: 83e4 f0e8 | 080a ae1b \r\n\r\n  0x00007fca25878298: ;   {section_word}\r\n  0x00007fca25878298: f449 ba99 | 8287 25ca | 7f00 0041 \r\n\r\n  0x00007fca258782a4: ;   {runtime_call DeoptimizationBlob}\r\n  0x00007fca258782a4: 52e9 f600 | acff f4f4 | f4f4 f4f4 \r\n[/MachCode]\r\n     34    2       3       java.lang.String::hashCode (60 bytes)\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java?rq=1","title":"java printAssembly flag is printing no assembly instructions","body":"<p>In this   <a href=\"https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java?rq=1\">Link</a> <code>rustyx</code> mentioned that he used a debug virtual machine and the following flag <code>-XX:+PrintOptoAssembly</code> to get the assembly instructions of his java bytecode</p>\n<p>I installed the debug virtual machine with <code>sudo apt-get install openjdk-17-dbg</code></p>\n<p>I  use the command <code>java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Main</code></p>\n<p>I am used to do it in C++ with gdb but Can't get it to work with java the printAssembly only prints hex values of the instructions like the below sample, it's repeated multiple times with no sign of my actual code functions or any meaningful symbols</p>\n<pre><code>abstract class Base {\n    Base(){\n        System.out.println(&quot;Base Constructor Called&quot;);\n    }\n    abstract void fun();\n}\nclass Dervied extends Base {\n    Dervied(){\n        System.out.println(&quot;Dervied Constructor called&quot;);\n    }\n    void fun(){\n        int x = 0;\n        x = x + 1;\n        System.out.println(&quot;Dervied fun() called &quot; + x);\n    }\n}\n\nclass Main {\n    public static void main(String args[]){\n        Dervied d = new Dervied();\n        d.fun();\n    }\n}\n\n</code></pre>\n<pre><code>     32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\n\n============================= C1-compiled nmethod ==============================\n----------------------------------- Assembly -----------------------------------\n\nCompiled method (c1)      32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\n total in heap  [0x00007fca25878010,0x00007fca25878320] = 784\n relocation     [0x00007fca25878170,0x00007fca258781a0] = 48\n main code      [0x00007fca258781a0,0x00007fca25878280] = 224\n stub code      [0x00007fca25878280,0x00007fca258782b0] = 48\n metadata       [0x00007fca258782b0,0x00007fca258782c0] = 16\n scopes data    [0x00007fca258782c0,0x00007fca258782d8] = 24\n scopes pcs     [0x00007fca258782d8,0x00007fca25878318] = 64\n dependencies   [0x00007fca25878318,0x00007fca25878320] = 8\n\n[Constant Pool (empty)]\n\n[MachCode]\n[Entry Point]\n  # {method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object'\n  #           [sp+0x40]  (sp of caller)\n  0x00007fca258781a0: 448b 5608 | 49bb 0000 | 0000 0800 | 0000 4d03 | d34c 3bd0 \n\n  0x00007fca258781b4: ;   {runtime_call ic_miss_stub}\n  0x00007fca258781b4: 0f85 c6a5 | abff 660f | 1f44 0000 \n[Verified Entry Point]\n  0x00007fca258781c0: 8984 2400 | c0fe ff55 | 4883 ec30 \n\n  0x00007fca258781cc: ;   {metadata(method data for {method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object')}\n  0x00007fca258781cc: 48bf 1888 | 801c ca7f | 0000 8b9f | f400 0000 | 83c3 0289 | 9ff4 0000 | 0081 e3fe | 0700 0083 \n  0x00007fca258781ec: fb00 0f84 \n\n  0x00007fca258781f0: ;*return {reexecute=0 rethrow=0 return_oop=0}\n                      ; - java.lang.Object::&lt;init&gt;@0 (line 44)\n  0x00007fca258781f0: 1300 0000 | 4883 c430 \n\n  0x00007fca258781f8: ;   {poll_return}\n  0x00007fca258781f8: 5d49 3ba7 | 4003 0000 | 0f87 1f00 \n\n  0x00007fca25878204: ;   {metadata({method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object')}\n  0x00007fca25878204: 0000 c349 | ba20 8944 | 0008 0000 | 004c 8954 | 2408 48c7 | 0424 ffff \n\n  0x00007fca2587821c: ;   {runtime_call counter_overflow Runtime1 stub}\n  0x00007fca2587821c: ffff e8dd \n\n  0x00007fca25878220: ; ImmutableOopMap {rsi=Oop }\n                      ;*synchronization entry\n                      ; - java.lang.Object::&lt;init&gt;@-1 (line 44)\n  0x00007fca25878220: 6ab6 ffeb \n\n  0x00007fca25878224: ;   {internal_word}\n  0x00007fca25878224: cf49 baf9 | 8187 25ca | 7f00 004d | 8997 5803 \n\n  0x00007fca25878234: ;   {runtime_call SafepointBlob}\n  0x00007fca25878234: 0000 e9c5 | 0eac ff90 | 9049 8b87 | d003 0000 | 49c7 87d0 | 0300 0000 | 0000 0049 | c787 d803 \n  0x00007fca25878254: 0000 0000 | 0000 4883 \n\n  0x00007fca2587825c: ;   {runtime_call unwind_exception Runtime1 stub}\n  0x00007fca2587825c: c430 5de9 | 9c01 b6ff | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 \n  0x00007fca2587827c: f4f4 f4f4 \n[Exception Handler]\n  0x00007fca25878280: ;   {no_reloc}\n  0x00007fca25878280: e87b 31b6 \n\n  0x00007fca25878284: ;   {external_word}\n  0x00007fca25878284: ff48 bf6a | 7482 41ca | 7f00 0048 \n\n  0x00007fca25878290: ;   {runtime_call}\n  0x00007fca25878290: 83e4 f0e8 | 080a ae1b \n\n  0x00007fca25878298: ;   {section_word}\n  0x00007fca25878298: f449 ba99 | 8287 25ca | 7f00 0041 \n\n  0x00007fca258782a4: ;   {runtime_call DeoptimizationBlob}\n  0x00007fca258782a4: 52e9 f600 | acff f4f4 | f4f4 f4f4 \n[/MachCode]\n     34    2       3       java.lang.String::hashCode (60 bytes)\n\n\n</code></pre>\n"},{"tags":["java","jsp","servlets","file-upload"],"comments":[{"owner":{"account_id":77864,"reputation":1714,"user_id":221965,"accept_rate":36,"display_name":"Dapeng"},"score":0,"creation_date":1305297849,"post_id":5954446,"comment_id":6921403,"body_markdown":"generally u can&#39;t do that, unless u post the file to the server, if the file is huge, say 1G, this is very impractical, you may want to consider some client side solution, like use an swf to query the file size","body":"generally u can&#39;t do that, unless u post the file to the server, if the file is huge, say 1G, this is very impractical, you may want to consider some client side solution, like use an swf to query the file size"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305051251,"creation_date":1305051251,"answer_id":5954497,"question_id":5954446,"body_markdown":"You can use [Common&#39;s FileUpload][1] and [`fileItem.getSize()`][2]\r\n\r\n\r\n  [1]: http://commons.apache.org/fileupload/\r\n  [2]: http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize%28%29","title":"how to get the file size in servlet","body":"<p>You can use <a href=\"http://commons.apache.org/fileupload/\" rel=\"nofollow\">Common's FileUpload</a> and <a href=\"http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize%28%29\" rel=\"nofollow\"><code>fileItem.getSize()</code></a></p>\n"},{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305052129,"creation_date":1305052129,"answer_id":5954665,"question_id":5954446,"body_markdown":"According to [HTML Form Spec][1], you need to set the request method to POST and the request encoding to multipart/form-data in the &lt;form&gt; element. If you are using Servlet API 2.5 or earlier, you will have to parse the request yourselves.[Apache File Upload][2] API does a good job at that and you can easily get the size of the file. However in case you are using Servlet 3.0 API, the you can use the Servlet API for parsing. You can find the code snippet [here][3]\r\n\r\n\r\n  [1]: http://www.w3.org/TR/html401/interact/forms.html\r\n  [2]: http://commons.apache.org/fileupload/\r\n  [3]: http://balusc.blogspot.com/2009/12/uploading-files-in-servlet-30.html","title":"how to get the file size in servlet","body":"<p>According to <a href=\"http://www.w3.org/TR/html401/interact/forms.html\" rel=\"nofollow\">HTML Form Spec</a>, you need to set the request method to POST and the request encoding to multipart/form-data in the  element. If you are using Servlet API 2.5 or earlier, you will have to parse the request yourselves.<a href=\"http://commons.apache.org/fileupload/\" rel=\"nofollow\">Apache File Upload</a> API does a good job at that and you can easily get the size of the file. However in case you are using Servlet 3.0 API, the you can use the Servlet API for parsing. You can find the code snippet <a href=\"http://balusc.blogspot.com/2009/12/uploading-files-in-servlet-30.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655462489,"creation_date":1655462489,"answer_id":72658088,"question_id":5954446,"body_markdown":"In the servlet you can get the uploaded file size as follows\r\n\r\n```\r\nPart filePart = request.getPart(&quot;inputFile&quot;);\r\nlong fileSize = part.getSize();\r\n```","title":"how to get the file size in servlet","body":"<p>In the servlet you can get the uploaded file size as follows</p>\n<pre><code>Part filePart = request.getPart(&quot;inputFile&quot;);\nlong fileSize = part.getSize();\n</code></pre>\n"}],"owner":{"account_id":375312,"reputation":91,"user_id":726062,"accept_rate":0,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1655462489,"creation_date":1305051028,"question_id":5954446,"body_markdown":"i created a form in jsp which containing some properties about the file like file category, file language,etc after submitting the button form variable redirect to servlet,in this servlet i want to know the file size. \r\n\r\n","title":"how to get the file size in servlet","body":"<p>i created a form in jsp which containing some properties about the file like file category, file language,etc after submitting the button form variable redirect to servlet,in this servlet i want to know the file size. </p>\n"},{"tags":["java","spring","events","uml","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1607005530,"creation_date":1607005530,"answer_id":65127857,"question_id":65126628,"body_markdown":"You use either an activity or in this case probably better a sequence diagram. Those show behavior. In the SD draw a message arrow from `Publisher` to `Eventhandler` instances (life lines) and label it with the operation `handleEvent()`.\r\n\r\nA class diagram only shows static constructs.","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>You use either an activity or in this case probably better a sequence diagram. Those show behavior. In the SD draw a message arrow from <code>Publisher</code> to <code>Eventhandler</code> instances (life lines) and label it with the operation <code>handleEvent()</code>.</p>\n<p>A class diagram only shows static constructs.</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607030585,"creation_date":1607030147,"answer_id":65134259,"question_id":65126628,"body_markdown":"## The class diagram\r\n\r\nAs [qwerty_so][1] rightly pointed out,  in a class diagram, we do not represent interactions: we represent structure, such as classes, association between classes, and dependencies:  \r\n\r\n* On the `EventHandler` side, you have a dependency to `Event`.  Since it&#39;s an [`@EventListener`][2], `Event` is probably an [`ApplicationEvent`][3]\r\n* On the `Publisher` side, your code has a dependency to `SomeEvent`.  Since it&#39;s an [`ApplicationEventPublisher`][4],  `SomeEvent` is probably an [`ApplicationEvent`][3]. \r\n\r\nYou may therefore want to show a dependency to the common `ApplicationEvent`: \r\n\r\n[![enter image description here][5]][5]\r\n\r\n## The Spring magic\r\n\r\nI&#39;m not a Spring expert, but I understand that [behind the &quot;spring magic&quot; is the annotation][6] which hides an automatic registration of the listener to publisher, based on the signature of the annotated method.  \r\n\r\nYou could be tempted to show in your model the (automatic) association between the listener and the publisher.  But IMHO,  this would not reflect well your design, since your model would hardwire the magic, whereas your code is dynamic in this regard.  This is why the simpler diagram I show above, seems more appropriate:  the magic is caused by the common Event denominator.  Just use the right intermetiary type.    \r\n\r\n## The interactions\r\n\r\nIf you want to show the dynamics of the interactions, it&#39;s a little more complex.  You could for example use an sequence diagram, and encabulate the magic in a `:SpringFramework` lifeline,  and materialize the automatic registration with messages sent to this &quot;virtual&quot; lifeline. Moreover:  \r\n\r\n* Event sending would then be a message from the publisher to the framework, \r\n* Event listening would be a message sent by the framework to one or several listener. \r\n\r\nIt&#39;s not the real details.  But the readers of your diagram do not need to know these details (except if they&#39;d belong to the spring development team).  So keep it as simple as possible,  but not more :-)\r\n\r\n  [1]: https://stackoverflow.com/a/65127857/3723423\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html\r\n  [5]: https://i.stack.imgur.com/53EIk.png\r\n  [6]: https://reflectoring.io/spring-boot-application-events-explained/","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<h2>The class diagram</h2>\n<p>As <a href=\"https://stackoverflow.com/a/65127857/3723423\">qwerty_so</a> rightly pointed out,  in a class diagram, we do not represent interactions: we represent structure, such as classes, association between classes, and dependencies:</p>\n<ul>\n<li>On the <code>EventHandler</code> side, you have a dependency to <code>Event</code>.  Since it's an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\"><code>@EventListener</code></a>, <code>Event</code> is probably an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\" rel=\"nofollow noreferrer\"><code>ApplicationEvent</code></a></li>\n<li>On the <code>Publisher</code> side, your code has a dependency to <code>SomeEvent</code>.  Since it's an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html\" rel=\"nofollow noreferrer\"><code>ApplicationEventPublisher</code></a>,  <code>SomeEvent</code> is probably an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\" rel=\"nofollow noreferrer\"><code>ApplicationEvent</code></a>.</li>\n</ul>\n<p>You may therefore want to show a dependency to the common <code>ApplicationEvent</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/53EIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53EIk.png\" alt=\"enter image description here\" /></a></p>\n<h2>The Spring magic</h2>\n<p>I'm not a Spring expert, but I understand that <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">behind the &quot;spring magic&quot; is the annotation</a> which hides an automatic registration of the listener to publisher, based on the signature of the annotated method.</p>\n<p>You could be tempted to show in your model the (automatic) association between the listener and the publisher.  But IMHO,  this would not reflect well your design, since your model would hardwire the magic, whereas your code is dynamic in this regard.  This is why the simpler diagram I show above, seems more appropriate:  the magic is caused by the common Event denominator.  Just use the right intermetiary type.</p>\n<h2>The interactions</h2>\n<p>If you want to show the dynamics of the interactions, it's a little more complex.  You could for example use an sequence diagram, and encabulate the magic in a <code>:SpringFramework</code> lifeline,  and materialize the automatic registration with messages sent to this &quot;virtual&quot; lifeline. Moreover:</p>\n<ul>\n<li>Event sending would then be a message from the publisher to the framework,</li>\n<li>Event listening would be a message sent by the framework to one or several listener.</li>\n</ul>\n<p>It's not the real details.  But the readers of your diagram do not need to know these details (except if they'd belong to the spring development team).  So keep it as simple as possible,  but not more :-)</p>\n"},{"tags":[],"owner":{"account_id":8755914,"reputation":130,"user_id":18316497,"display_name":"kingsjester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655462442,"creation_date":1655462442,"answer_id":72658078,"question_id":65126628,"body_markdown":"It helps a lot to understand an architecture if methods are linked in a class diagram. You can do that with a dashed line and write \\&lt;&lt;use\\&gt;&gt; on it. Of course, if the architecture is complex, you won&#39;t be able to represent all these associations. \r\n\r\nUnfortunately a lot of people discourage to do that and purpose sequence diagram instead (which doesn&#39;t give any context of what the class contains...). Furthermore, a lot of software to represent UML class diagrams doesn&#39;t work very well to link methods together.","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>It helps a lot to understand an architecture if methods are linked in a class diagram. You can do that with a dashed line and write &lt;&lt;use&gt;&gt; on it. Of course, if the architecture is complex, you won't be able to represent all these associations.</p>\n<p>Unfortunately a lot of people discourage to do that and purpose sequence diagram instead (which doesn't give any context of what the class contains...). Furthermore, a lot of software to represent UML class diagrams doesn't work very well to link methods together.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65134259,"answer_count":3,"score":3,"last_activity_date":1655462442,"creation_date":1607000968,"question_id":65126628,"body_markdown":"I want to draw UML diagram which represents my Spring boot application. I&#39;m new in UML and don&#39;t know how to represent an interaction between two classes that uses other classes for it. I have a class that publishes spring events and a class which handles such events. Publisher example:\r\n\r\n   \r\n\r\n     import org.springframework.context.ApplicationEventPublisher;\r\n        \r\n        class Publisher {\r\n        ApplicationEventPublisher springPublisher;\r\n        \r\n        public publishEvent() {\r\n        springPublisher.publishEvent(new SomeEvent());\r\n        }\r\n    \r\n    }\r\n\r\nHandler:\r\n\r\n    import org.springframework.context.event.EventListener;\r\n      \r\n     class EventHandler {\r\n        @EventListener\r\n        public handleEvent(Event event) {\r\n        // some processing\r\n        }\r\n    }\r\n\r\nSo, when I publish some events via Spring ApplicationEventPublisher my handler handles events via method annotated with @EventListener. But it is not a direct calling of the method. How I can illustrate it on the UML diagram?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYj0F.png","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>I want to draw UML diagram which represents my Spring boot application. I'm new in UML and don't know how to represent an interaction between two classes that uses other classes for it. I have a class that publishes spring events and a class which handles such events. Publisher example:</p>\n<pre><code> import org.springframework.context.ApplicationEventPublisher;\n    \n    class Publisher {\n    ApplicationEventPublisher springPublisher;\n    \n    public publishEvent() {\n    springPublisher.publishEvent(new SomeEvent());\n    }\n\n}\n</code></pre>\n<p>Handler:</p>\n<pre><code>import org.springframework.context.event.EventListener;\n  \n class EventHandler {\n    @EventListener\n    public handleEvent(Event event) {\n    // some processing\n    }\n}\n</code></pre>\n<p>So, when I publish some events via Spring ApplicationEventPublisher my handler handles events via method annotated with @EventListener. But it is not a direct calling of the method. How I can illustrate it on the UML diagram?</p>\n<p><a href=\"https://i.stack.imgur.com/yYj0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYj0F.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","oracle-rest-data-services"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1655466722,"post_id":72657810,"comment_id":128345071,"body_markdown":"555 means your code is failing. You should see the raw SQL/PLS error stack where ORDS is running. You can enable debug/print to screen in ORDS config to see these errors directly in the response while you&#39;re in Dev mode","body":"555 means your code is failing. You should see the raw SQL/PLS error stack where ORDS is running. You can enable debug/print to screen in ORDS config to see these errors directly in the response while you&#39;re in Dev mode"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1655468188,"post_id":72657810,"comment_id":128345581,"body_markdown":"Thanks ... I&#39;ve never used it. Can you give me same tutorial to config debugger in ORDS?","body":"Thanks ... I&#39;ve never used it. Can you give me same tutorial to config debugger in ORDS?"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1655469446,"post_id":72657810,"comment_id":128346004,"body_markdown":"yes but not here, email me at jeff.d.smith@oracle.com","body":"yes but not here, email me at jeff.d.smith@oracle.com"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1655737766,"post_id":72657810,"comment_id":128396797,"body_markdown":"Thanks Jeff...I solved it in Android code. I encode the string using ```URLEncoder.encode(&quot;BAN_NUM=1;BAN_COD=null;SCARTI=0;&quot;, &quot;UTF-8&quot;);``` ..In this way I  didn&#39;t change plslq code.","body":"Thanks Jeff...I solved it in Android code. I encode the string using <code>URLEncoder.encode(&quot;BAN_NUM=1;BAN_COD=null;SCARTI=0;&quot;, &quot;UTF-8&quot;);</code> ..In this way I  didn&#39;t change plslq code."}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655462117,"creation_date":1655461004,"question_id":72657810,"body_markdown":"I&#39;m tying to call a web service that I created, but I&#39;m carrying on to obtain the http error 555.\r\nI did the web service using ords (oracle) to develop it. I did many others of those and I didn&#39;t find any problem like this.\r\nThis is the web service wrote with Oracle sql developer and GET as Handler:\r\n\r\n     begin\r\n    declare\r\n    p1 varchar2(4000);\r\n    p2 varchar2(4000);\r\n    p3 varchar2(4000);\r\n    p4 varchar2(4000);\r\n    p5 varchar2(4000);\r\n    p6 varchar2(4000);\r\n    p7 varchar2(4000);\r\n    p8 varchar2(4000);\r\n    p9 varchar2(4000);\r\n    pdt date;\r\n    \r\n    \r\n    outrc number;\r\n    outms varchar2(4000);\r\n    \r\n    \r\n    outs1 varchar2(4000);\r\n    outs2 varchar2(4000);\r\n    outs3 varchar2(4000);\r\n    \r\n    outn1 number;\r\n    outn2 number;\r\n    outn3 number;\r\n    outn4 number;\r\n    outn5 number;\r\n    outn6 number;\r\n    \r\n    begin\r\n         input parameters\r\n        p1 := :p_p1;\r\n        p2 := :p_p2;\r\n        p3 := :p_p3;\r\n        p4 := :p_p4;\r\n        p5 := :p_p5;\r\n        p6 := :p_p6;\r\n        p7 := :p_p7;\r\n        p8 := :p_p8;\r\n        p9 := :p_p9;\r\n        pdt := :p_pdt;\r\n    \r\n        outrc := 0;\r\n        outms := &#39; &#39;;\r\n    \r\n        CASE :p_cmd \r\n        \r\n            WHEN 14 THEN\r\n                BEGIN         \r\n                    apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),REPLACE(REPLACE(p4,&#39;%3D&#39;,&#39;=&#39;),&#39;%3B&#39;,&#39;;&#39;),outrc,outms);\r\n                END;\r\n    \r\n        END CASE;\r\n    \r\n        :p_rc := outrc;\r\n        :p_msg := outms;\r\n    \r\n    \r\n        end;\r\n    end;\r\n\r\nThis is my query parameters :\r\n\r\n    p_cmd=14&amp;p_p1=4&amp;p_p2=1000048819&amp;p_p3=03394100140105&amp;p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;\r\n\r\nThat query parameters in Postman works fine without changing code of my web service. I can call this:\r\n\r\n    apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),p4,outrc,outms);\r\n\r\nand I get back status code 200. I know that the problem is here: `p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;`. There are many semicolons and uguals, but I can&#39;t undertstand what it&#39;s the right way to encode.\r\nCan anyone tell me the right way to manage the query parameters? ","title":"Unexpected response code 555 with Volley Request in Android Studio","body":"<p>I'm tying to call a web service that I created, but I'm carrying on to obtain the http error 555.\nI did the web service using ords (oracle) to develop it. I did many others of those and I didn't find any problem like this.\nThis is the web service wrote with Oracle sql developer and GET as Handler:</p>\n<pre><code> begin\ndeclare\np1 varchar2(4000);\np2 varchar2(4000);\np3 varchar2(4000);\np4 varchar2(4000);\np5 varchar2(4000);\np6 varchar2(4000);\np7 varchar2(4000);\np8 varchar2(4000);\np9 varchar2(4000);\npdt date;\n\n\noutrc number;\noutms varchar2(4000);\n\n\nouts1 varchar2(4000);\nouts2 varchar2(4000);\nouts3 varchar2(4000);\n\noutn1 number;\noutn2 number;\noutn3 number;\noutn4 number;\noutn5 number;\noutn6 number;\n\nbegin\n     input parameters\n    p1 := :p_p1;\n    p2 := :p_p2;\n    p3 := :p_p3;\n    p4 := :p_p4;\n    p5 := :p_p5;\n    p6 := :p_p6;\n    p7 := :p_p7;\n    p8 := :p_p8;\n    p9 := :p_p9;\n    pdt := :p_pdt;\n\n    outrc := 0;\n    outms := ' ';\n\n    CASE :p_cmd \n    \n        WHEN 14 THEN\n            BEGIN         \n                apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),REPLACE(REPLACE(p4,'%3D','='),'%3B',';'),outrc,outms);\n            END;\n\n    END CASE;\n\n    :p_rc := outrc;\n    :p_msg := outms;\n\n\n    end;\nend;\n</code></pre>\n<p>This is my query parameters :</p>\n<pre><code>p_cmd=14&amp;p_p1=4&amp;p_p2=1000048819&amp;p_p3=03394100140105&amp;p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;\n</code></pre>\n<p>That query parameters in Postman works fine without changing code of my web service. I can call this:</p>\n<pre><code>apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),p4,outrc,outms);\n</code></pre>\n<p>and I get back status code 200. I know that the problem is here: <code>p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;</code>. There are many semicolons and uguals, but I can't undertstand what it's the right way to encode.\nCan anyone tell me the right way to manage the query parameters?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655471094,"post_id":72657963,"comment_id":128346544,"body_markdown":"Have you had a look at `io.quarkus.arc.deployment.AnnotationsTransformerBuildItem`?","body":"Have you had a look at <code>io.quarkus.arc.deployment.AnnotationsTransformerBuildItem</code>?"},{"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"score":0,"creation_date":1655541112,"post_id":72657963,"comment_id":128360106,"body_markdown":"Yes. If I&#39;m not missing something, with that build item you can remove/add annotations. Instead we would like to basically intercept the bean instantiation, much like we do by [wrapping the injection target](https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget) with the old CDI","body":"Yes. If I&#39;m not missing something, with that build item you can remove/add annotations. Instead we would like to basically intercept the bean instantiation, much like we do by <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget\" rel=\"nofollow noreferrer\">wrapping the injection target</a> with the old CDI"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655705146,"post_id":72657963,"comment_id":128385979,"body_markdown":"AFAIK, there is no way to intercept the bean instantiation","body":"AFAIK, there is no way to intercept the bean instantiation"},{"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"score":1,"creation_date":1655719383,"post_id":72657963,"comment_id":128390308,"body_markdown":"Ok, we&#39;ll work around this. Thank you anyway","body":"Ok, we&#39;ll work around this. Thank you anyway"}],"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655461861,"creation_date":1655461861,"question_id":72657963,"body_markdown":"At our company we are trying to migrate some of our applications from `J2EE to Quarkus`.\r\n\r\nFor the J2EE apps we have a `proprietary framework` that performs dependency injection based on custom annotations applied on a field. We have a `CDI extension` in which we override the beans `InjectionTarget` and at bean&#39;s instantiation time we set, through reflection, the field value based on the annotation present, like this:\r\n\r\n    @ApplicationScoped\r\n    public class MyBean {\r\n\r\n\t    @CustomAnnotation\r\n\t    private String myField; // injected by our framework\r\n\r\nWe would like to migrate our applications keeping this behaviour. Is there any way to do this `with Quarkus`? We have seen that with Quarkus extensions we can transform the qualifiers of an injection point, like this:\r\n\r\n    @BuildStep\r\n    InjectionPointTransformerBuildItem transformPropertyAnnotation(final BeanArchiveIndexBuildItem beanArchiveIndex) {\r\n        return new InjectionPointTransformerBuildItem(new InjectionPointsTransformer() {\r\n            public void transform(TransformationContext context) {\r\n                // do my transformations\r\n            }\r\n        }\r\n    }\r\n\r\nBut we didn&#39;t find a way to &quot;enhance&quot; how a field is being initialized, even with Quarkus recorders.","title":"Quarkus Extension - write fields annotated with a custom annotation","body":"<p>At our company we are trying to migrate some of our applications from <code>J2EE to Quarkus</code>.</p>\n<p>For the J2EE apps we have a <code>proprietary framework</code> that performs dependency injection based on custom annotations applied on a field. We have a <code>CDI extension</code> in which we override the beans <code>InjectionTarget</code> and at bean's instantiation time we set, through reflection, the field value based on the annotation present, like this:</p>\n<pre><code>@ApplicationScoped\npublic class MyBean {\n\n    @CustomAnnotation\n    private String myField; // injected by our framework\n</code></pre>\n<p>We would like to migrate our applications keeping this behaviour. Is there any way to do this <code>with Quarkus</code>? We have seen that with Quarkus extensions we can transform the qualifiers of an injection point, like this:</p>\n<pre><code>@BuildStep\nInjectionPointTransformerBuildItem transformPropertyAnnotation(final BeanArchiveIndexBuildItem beanArchiveIndex) {\n    return new InjectionPointTransformerBuildItem(new InjectionPointsTransformer() {\n        public void transform(TransformationContext context) {\n            // do my transformations\n        }\n    }\n}\n</code></pre>\n<p>But we didn't find a way to &quot;enhance&quot; how a field is being initialized, even with Quarkus recorders.</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1654609212,"post_id":72528147,"comment_id":128127687,"body_markdown":"Perhaps you have something else in the flow which converts your headers to strings. Please, share with us more code to reproduce.","body":"Perhaps you have something else in the flow which converts your headers to strings. Please, share with us more code to reproduce."}],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655461745,"creation_date":1654618568,"answer_id":72534520,"question_id":72528147,"body_markdown":"I created a stand alone project to reproduce the error, and that added in the header as an expected AtomicInteger. \r\n\r\nThen I debugged our main application and it turns out there&#39;s an  OpenTracingChannelInterceptor which is re-writing all headers as Strings.\r\n\r\nThis library is the culprit:\r\n\r\n```io.opentracing.contrib:opentracing-spring-messaging:0.0.5``` which is transitive dependency of ```io.opentracing.contrib:opentracing-spring-cloud-starter-jaeger```\r\n\r\nIt looks like adding this library just breaks Spring Integration.\r\n\r\nThe fix is to exclude the tracing autoconfiguration:\r\n\r\n```@SpringBootApplication(exclude = {OpenTracingChannelInterceptorAutoConfiguration.class})```\r\n\r\nUpdate:\r\n\r\nThe opentracing library is now longer maintained so the long term fix for this would be to migrate to a different tracing library that hopefully doesn&#39;t have the same type of issue.\r\n\r\nSee \r\n\r\nhttps://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/","title":"Spring Integration - object placed in header is returned as String rather than the object type","body":"<p>I created a stand alone project to reproduce the error, and that added in the header as an expected AtomicInteger.</p>\n<p>Then I debugged our main application and it turns out there's an  OpenTracingChannelInterceptor which is re-writing all headers as Strings.</p>\n<p>This library is the culprit:</p>\n<p><code>io.opentracing.contrib:opentracing-spring-messaging:0.0.5</code> which is transitive dependency of <code>io.opentracing.contrib:opentracing-spring-cloud-starter-jaeger</code></p>\n<p>It looks like adding this library just breaks Spring Integration.</p>\n<p>The fix is to exclude the tracing autoconfiguration:</p>\n<p><code>@SpringBootApplication(exclude = {OpenTracingChannelInterceptorAutoConfiguration.class})</code></p>\n<p>Update:</p>\n<p>The opentracing library is now longer maintained so the long term fix for this would be to migrate to a different tracing library that hopefully doesn't have the same type of issue.</p>\n<p>See</p>\n<p><a href=\"https://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/\" rel=\"nofollow noreferrer\">https://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/</a></p>\n"}],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655461745,"creation_date":1654590529,"question_id":72528147,"body_markdown":"I&#39;ve got an integration flow written in the Java DSL\r\n\r\nI&#39;m enriching the header of a message to include an AtomicInteger:\r\n\r\n```   \r\n.enrichHeaders(t -&gt; t.headerFunction(pollTime,message -&gt; new AtomicInteger()))\r\n```\r\n\r\nIf I put a breakpoint on the subsequent handle method in the same flow I can see the  header and it&#39;s a String not an AtomicInteger.\r\n\r\nSo if I try to retrieve it in another flow like so I get an illegal argument exception:\r\n\r\n```\r\nmessage.getHeaders().get(pollTime,AtomicInteger.class).getAndAdd(delay);\r\n\r\n\r\nCaused by: java.lang.IllegalArgumentException: Incorrect type specified for header &#39;pollTime&#39;. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]\r\n```\r\n\r\nIf I do the same thing in the Kotlin DSL it all works fine:\r\n\r\n```\r\n       enrichHeaders {\r\n            headerFunction&lt;Any&gt;(pollCount) {\r\n                AtomicInteger()\r\n            }\r\n        }\r\n```\r\n\r\nDoes anyone have any idea of what I am doing wrong ?","title":"Spring Integration - object placed in header is returned as String rather than the object type","body":"<p>I've got an integration flow written in the Java DSL</p>\n<p>I'm enriching the header of a message to include an AtomicInteger:</p>\n<pre><code>.enrichHeaders(t -&gt; t.headerFunction(pollTime,message -&gt; new AtomicInteger()))\n</code></pre>\n<p>If I put a breakpoint on the subsequent handle method in the same flow I can see the  header and it's a String not an AtomicInteger.</p>\n<p>So if I try to retrieve it in another flow like so I get an illegal argument exception:</p>\n<pre><code>message.getHeaders().get(pollTime,AtomicInteger.class).getAndAdd(delay);\n\n\nCaused by: java.lang.IllegalArgumentException: Incorrect type specified for header 'pollTime'. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]\n</code></pre>\n<p>If I do the same thing in the Kotlin DSL it all works fine:</p>\n<pre><code>       enrichHeaders {\n            headerFunction&lt;Any&gt;(pollCount) {\n                AtomicInteger()\n            }\n        }\n</code></pre>\n<p>Does anyone have any idea of what I am doing wrong ?</p>\n"},{"tags":["java","jsf","primefaces","nullpointerexception","el"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1655451887,"post_id":72655891,"comment_id":128340220,"body_markdown":"Because `Z` was null?","body":"Because <code>Z</code> was null?"},{"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"score":0,"creation_date":1655452155,"post_id":72655891,"comment_id":128340303,"body_markdown":"Exception is on line &quot;    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\n&quot;","body":"Exception is on line &quot;    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH; &quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655453003,"post_id":72655891,"comment_id":128340631,"body_markdown":"No it isn&#39;t, Read the stack trace. It is in the EL, in the expression `#{Z.isSuccessfullySentToWD()}`. There is nothing to suggest you got any further.","body":"No it isn&#39;t, Read the stack trace. It is in the EL, in the expression <code>#{Z.isSuccessfullySentToWD()}</code>. There is nothing to suggest you got any further."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655453048,"post_id":72655891,"comment_id":128340650,"body_markdown":"Duplicate of [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":15059358,"reputation":2281,"user_id":10868666,"display_name":"Adam Waldenberg"},"score":0,"creation_date":1655501130,"post_id":72655891,"comment_id":128355690,"body_markdown":"Can&#39;t tell if this is a duplicate without more information. Please provide a runnable example - specifically show exactly how `zoj` is initialized.","body":"Can&#39;t tell if this is a duplicate without more information. Please provide a runnable example - specifically show exactly how <code>zoj</code> is initialized."}],"answers":[{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655461669,"creation_date":1655461647,"answer_id":72657933,"question_id":72655891,"body_markdown":"Probably the scope of Z is wrong, try to put it in session or application scope","title":"NullPointerException but why?","body":"<p>Probably the scope of Z is wrong, try to put it in session or application scope</p>\n"}],"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655462655,"answer_count":1,"score":-2,"last_activity_date":1655461669,"creation_date":1655451609,"question_id":72655891,"body_markdown":"I have class where\r\n\r\n        @Enumerated(EnumType.STRING)\r\n    private StateOfDispatchToWD stateOfDispatchToWD = StateOfDispatchToWD.NONE;\r\n\r\nAnd getter and setter:\r\n\r\n    public StateOfDispatchToWD getStateOfDispatchToWD() {\r\n        return stateOfDispatchToWD;\r\n    }\r\n    \r\n    public void setStateOfDispatchToWD(StateOfDispatchToWD stateOfDispatchToWD) {\r\n        this.stateOfDispatchToWD = stateOfDispatchToWD;\r\n    }\r\n\r\nand method:\r\n\r\n    public boolean isSuccessfullySentToWD() {\r\n        return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\r\n    }\r\nand call it from JSF:\r\n\r\n                &lt;p:outputLabel value=&quot;OK&quot;\r\n                               rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;/&gt;\r\nand sometimes I get: \r\n\r\n    [javax.enterprise.resource.webcontainer.jsf.lifecycle]\r\n    javax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\r\n    java.lang.NullPointerException:\r\n    javax.faces.FacesException:\r\n    javax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\r\n    java.lang.NullPointerException\r\n\r\nbut why? I&#39;m afraid I don&#39;t understand. Thanks a lot.","title":"NullPointerException but why?","body":"<p>I have class where</p>\n<pre><code>    @Enumerated(EnumType.STRING)\nprivate StateOfDispatchToWD stateOfDispatchToWD = StateOfDispatchToWD.NONE;\n</code></pre>\n<p>And getter and setter:</p>\n<pre><code>public StateOfDispatchToWD getStateOfDispatchToWD() {\n    return stateOfDispatchToWD;\n}\n\npublic void setStateOfDispatchToWD(StateOfDispatchToWD stateOfDispatchToWD) {\n    this.stateOfDispatchToWD = stateOfDispatchToWD;\n}\n</code></pre>\n<p>and method:</p>\n<pre><code>public boolean isSuccessfullySentToWD() {\n    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\n}\n</code></pre>\n<p>and call it from JSF:</p>\n<pre><code>            &lt;p:outputLabel value=&quot;OK&quot;\n                           rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;/&gt;\n</code></pre>\n<p>and sometimes I get:</p>\n<pre><code>[javax.enterprise.resource.webcontainer.jsf.lifecycle]\njavax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\njava.lang.NullPointerException:\njavax.faces.FacesException:\njavax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\njava.lang.NullPointerException\n</code></pre>\n<p>but why? I'm afraid I don't understand. Thanks a lot.</p>\n"},{"tags":["java","nginx","terraform","nginx-ingress","gcp-load-balancer"],"comments":[{"owner":{"account_id":11380463,"reputation":14217,"user_id":8343484,"display_name":"Marko E"},"score":0,"creation_date":1655462397,"post_id":72657857,"comment_id":128343686,"body_markdown":"Please do not post errors as screenshots. It is much more valuable to have it in text. Would you mind changing that in your question?","body":"Please do not post errors as screenshots. It is much more valuable to have it in text. Would you mind changing that in your question?"},{"owner":{"account_id":16603262,"reputation":99,"user_id":11998360,"display_name":"Ilian Tetradev"},"score":0,"creation_date":1655462773,"post_id":72657857,"comment_id":128343822,"body_markdown":"The hyper link text matches the error, I just provided the error screenshot for reference.","body":"The hyper link text matches the error, I just provided the error screenshot for reference."}],"owner":{"account_id":16603262,"reputation":99,"user_id":11998360,"display_name":"Ilian Tetradev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655461201,"creation_date":1655461201,"question_id":72657857,"body_markdown":"I have a Spring boot application with several components to it that talk to each other. There is an Admin panel that manages accounts and you have the functionality to migrate accounts. If an account has some data to it migrating it could take upwards of 60 seconds as it needs to do a backup, delete the service, and re-create it with the newly selected image.\r\n\r\nIf I run the applications locally but still connect them to the GCP environment and I attempt to migrate an account it works fine. But when pushed to master and built on the GCP environment when I try to migrate an account I get the following error:\r\n\r\n[504 Gateway Time-out][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5XQiY.png\r\n\r\nSo I have ruled out that it&#39;s not an issue with my java application and the timeout is potentially coming from the load balancer. I have the following errors in the GCP logs:\r\n\r\nIn my ingress-controller I get: \r\n\r\n    022-06-17T09:17:48.165983390Z2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: &quot;POST /admin/accounts/123456/edit HTTP/1.1&quot;, upstream: &quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit&quot;, host: &quot;somehost.com&quot;, referrer: &quot;https://somehost.com/admin/accounts/123456/edit&quot;\r\n\r\nAnd on in the Logs Explorer, I get the following: \r\n\r\n    {\r\n      &quot;textPayload&quot;: &quot;2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: \\&quot;POST /admin/accounts/123456/edit HTTP/1.1\\&quot;, upstream: \\&quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit\\&quot;, host: \\&quot;somehost.com\\&quot;, referrer: \\&quot;https://somehost.com/admin/accounts/123456/edit\\&quot;&quot;,\r\n      &quot;insertId&quot;: &quot;03uw65hlnarbu7v1&quot;,\r\n      &quot;resource&quot;: {\r\n        &quot;type&quot;: &quot;k8s_container&quot;,\r\n        &quot;labels&quot;: {\r\n          &quot;namespace_name&quot;: &quot;ingress-nginx&quot;,\r\n          &quot;container_name&quot;: &quot;controller&quot;,\r\n          &quot;project_id&quot;: &quot;my_project&quot;,\r\n          &quot;cluster_name&quot;: &quot;my_cluster&quot;,\r\n          &quot;pod_name&quot;: &quot;ingress-nginx-controller-cb576846d-6xxvf&quot;,\r\n          &quot;location&quot;: &quot;europe-west1&quot;\r\n        }\r\n      },\r\n      &quot;timestamp&quot;: &quot;2022-06-17T09:17:48.165983390Z&quot;,\r\n      &quot;severity&quot;: &quot;ERROR&quot;,\r\n      &quot;labels&quot;: {\r\n        &quot;k8s-pod/pod-template-hash&quot;: &quot;cb576846d&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/instance&quot;: &quot;ingress-nginx&quot;,\r\n        &quot;compute.googleapis.com/resource_name&quot;: &quot;my_resource&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/name&quot;: &quot;ingress-nginx&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/component&quot;: &quot;controller&quot;\r\n      },\r\n      &quot;logName&quot;: &quot;projects/my_project/logs/stderr&quot;,\r\n      &quot;receiveTimestamp&quot;: &quot;2022-06-17T09:17:50.861580453Z&quot;\r\n    }\r\n\r\nI have tried to increase the timeouts in my terraform scripts but to no avail. I have also tried to increase the timeouts from the GCP (as a proof of concept) but they do not seem to take any effect.\r\n\r\nThis is my terraform script for the ingress-controller:\r\n\r\n    resource &quot;kubernetes_ingress&quot; &quot;nginx-ingress&quot; {\r\n      metadata {\r\n        name      = &quot;nginx-ingress&quot;\r\n        namespace = kubernetes_namespace.nginx.metadata[0].name\r\n        annotations = {\r\n          &quot;kubernetes.io/ingress.class&quot;                 = &quot;gce&quot;\r\n          &quot;kubernetes.io/ingress.global-static-ip-name&quot; = &quot;ext-lb&quot;\r\n          &quot;ingress.gcp.kubernetes.io/pre-shared-cert&quot;   = local.ssl_cert_name\r\n          &quot;networking.gke.io/v1beta1.FrontendConfig&quot;    = kubernetes_manifest.nginx_frontend_config.manifest[&quot;metadata&quot;][&quot;name&quot;]\r\n        }\r\n      }\r\n      spec {\r\n        rule {\r\n          host = local.domain_name\r\n          http {\r\n            path {\r\n              backend {\r\n                service_name = &quot;ingress-nginx-controller&quot;\r\n                service_port = 80\r\n              }\r\n            }\r\n            path {\r\n              path = &quot;/secured/*&quot;\r\n              backend {\r\n                service_name = &quot;ingress-iap-nginx-controller&quot;\r\n                service_port = 80\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nWhat might be causing this timeout and how do I increase it? ","title":"Nginx 504 Gateway Time-out when running in GCP","body":"<p>I have a Spring boot application with several components to it that talk to each other. There is an Admin panel that manages accounts and you have the functionality to migrate accounts. If an account has some data to it migrating it could take upwards of 60 seconds as it needs to do a backup, delete the service, and re-create it with the newly selected image.</p>\n<p>If I run the applications locally but still connect them to the GCP environment and I attempt to migrate an account it works fine. But when pushed to master and built on the GCP environment when I try to migrate an account I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/5XQiY.png\" rel=\"nofollow noreferrer\">504 Gateway Time-out</a></p>\n<p>So I have ruled out that it's not an issue with my java application and the timeout is potentially coming from the load balancer. I have the following errors in the GCP logs:</p>\n<p>In my ingress-controller I get:</p>\n<pre><code>022-06-17T09:17:48.165983390Z2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: &quot;POST /admin/accounts/123456/edit HTTP/1.1&quot;, upstream: &quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit&quot;, host: &quot;somehost.com&quot;, referrer: &quot;https://somehost.com/admin/accounts/123456/edit&quot;\n</code></pre>\n<p>And on in the Logs Explorer, I get the following:</p>\n<pre><code>{\n  &quot;textPayload&quot;: &quot;2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: \\&quot;POST /admin/accounts/123456/edit HTTP/1.1\\&quot;, upstream: \\&quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit\\&quot;, host: \\&quot;somehost.com\\&quot;, referrer: \\&quot;https://somehost.com/admin/accounts/123456/edit\\&quot;&quot;,\n  &quot;insertId&quot;: &quot;03uw65hlnarbu7v1&quot;,\n  &quot;resource&quot;: {\n    &quot;type&quot;: &quot;k8s_container&quot;,\n    &quot;labels&quot;: {\n      &quot;namespace_name&quot;: &quot;ingress-nginx&quot;,\n      &quot;container_name&quot;: &quot;controller&quot;,\n      &quot;project_id&quot;: &quot;my_project&quot;,\n      &quot;cluster_name&quot;: &quot;my_cluster&quot;,\n      &quot;pod_name&quot;: &quot;ingress-nginx-controller-cb576846d-6xxvf&quot;,\n      &quot;location&quot;: &quot;europe-west1&quot;\n    }\n  },\n  &quot;timestamp&quot;: &quot;2022-06-17T09:17:48.165983390Z&quot;,\n  &quot;severity&quot;: &quot;ERROR&quot;,\n  &quot;labels&quot;: {\n    &quot;k8s-pod/pod-template-hash&quot;: &quot;cb576846d&quot;,\n    &quot;k8s-pod/app_kubernetes_io/instance&quot;: &quot;ingress-nginx&quot;,\n    &quot;compute.googleapis.com/resource_name&quot;: &quot;my_resource&quot;,\n    &quot;k8s-pod/app_kubernetes_io/name&quot;: &quot;ingress-nginx&quot;,\n    &quot;k8s-pod/app_kubernetes_io/component&quot;: &quot;controller&quot;\n  },\n  &quot;logName&quot;: &quot;projects/my_project/logs/stderr&quot;,\n  &quot;receiveTimestamp&quot;: &quot;2022-06-17T09:17:50.861580453Z&quot;\n}\n</code></pre>\n<p>I have tried to increase the timeouts in my terraform scripts but to no avail. I have also tried to increase the timeouts from the GCP (as a proof of concept) but they do not seem to take any effect.</p>\n<p>This is my terraform script for the ingress-controller:</p>\n<pre><code>resource &quot;kubernetes_ingress&quot; &quot;nginx-ingress&quot; {\n  metadata {\n    name      = &quot;nginx-ingress&quot;\n    namespace = kubernetes_namespace.nginx.metadata[0].name\n    annotations = {\n      &quot;kubernetes.io/ingress.class&quot;                 = &quot;gce&quot;\n      &quot;kubernetes.io/ingress.global-static-ip-name&quot; = &quot;ext-lb&quot;\n      &quot;ingress.gcp.kubernetes.io/pre-shared-cert&quot;   = local.ssl_cert_name\n      &quot;networking.gke.io/v1beta1.FrontendConfig&quot;    = kubernetes_manifest.nginx_frontend_config.manifest[&quot;metadata&quot;][&quot;name&quot;]\n    }\n  }\n  spec {\n    rule {\n      host = local.domain_name\n      http {\n        path {\n          backend {\n            service_name = &quot;ingress-nginx-controller&quot;\n            service_port = 80\n          }\n        }\n        path {\n          path = &quot;/secured/*&quot;\n          backend {\n            service_name = &quot;ingress-iap-nginx-controller&quot;\n            service_port = 80\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What might be causing this timeout and how do I increase it?</p>\n"},{"tags":["java","serialization","jackson","deserialization","pojo"],"comments":[{"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"score":0,"creation_date":1655312889,"post_id":72634007,"comment_id":128305044,"body_markdown":"seem like profileNode.get(&quot;vorname&quot;) returns null and causes the NPE bevause the property is &quot;/brief/versicherungsnehmer/vorname&quot; and not &quot;vorname&quot;","body":"seem like profileNode.get(&quot;vorname&quot;) returns null and causes the NPE bevause the property is &quot;/brief/versicherungsnehmer/vorname&quot; and not &quot;vorname&quot;"},{"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"score":0,"creation_date":1655450966,"post_id":72634007,"comment_id":128339905,"body_markdown":"@aeberhart please see the print out of all the elements inside profileNode. It looks like those child nodes really do not exist. However in the json file the values are there. How can I get these values correctly from the json file?","body":"@aeberhart please see the print out of all the elements inside profileNode. It looks like those child nodes really do not exist. However in the json file the values are there. How can I get these values correctly from the json file?"}],"answers":[{"tags":[],"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655460449,"creation_date":1655460449,"answer_id":72657693,"question_id":72634007,"body_markdown":"Ok so I was able to fix this issue and getting the correct values by modifying my deserialize() function like this:\r\n\r\n```java\r\n@Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n       JsonNode profileNode = \r\n          jsonParser.getCodec().readTree(jsonParser);\r\n       Properties property = new Properties();\r\n        \r\n   System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\r\n        property.setVorname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\r\n\r\n System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\r\n\r\nreturn property;\r\n\r\n}\r\n```","title":"NullPointerException while trying to read JSON and trying to convert it to a POJO (deserialization)","body":"<p>Ok so I was able to fix this issue and getting the correct values by modifying my deserialize() function like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n       JsonNode profileNode = \n          jsonParser.getCodec().readTree(jsonParser);\n       Properties property = new Properties();\n        \n   System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\n        property.setVorname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\n\n System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\n\nreturn property;\n\n}\n</code></pre>\n"}],"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72657693,"answer_count":1,"score":1,"last_activity_date":1655460449,"creation_date":1655306689,"question_id":72634007,"body_markdown":"Our goal is to: parse a json file and deserialize it into a java POJO\r\n\r\nThe stacktrace looks like this:\r\n\r\n```\r\n16:39:21,628 ERROR [stderr] (default task-1) java.lang.NullPointerException\r\n16:39:21,628 ERROR [stderr] (default task-1) \tat deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:31)\r\n16:39:21,628 ERROR [stderr] (default task-1) \tat deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:16)\r\n```\r\n\r\nThe files we are trying to parse look like this:\r\n\r\n```json\r\n{\r\n  &quot;properties&quot;: {\r\n    &quot;anon&quot;: {\r\n      &quot;/brief/versicherungsnehmer/vorname&quot;: true,\r\n      &quot;/brief/versicherungsnehmer/nachname&quot;: true\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOur Json Parser class called `JSONMuncher` looks like this:\r\n\r\n```java\r\npublic class JSONMuncher {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public JSONMuncher() {\r\n        this.objectMapper = createObjectMapper();\r\n    }\r\n\r\n    public ObjectMapper getObjectMapper() {\r\n        return objectMapper;\r\n    }\r\n\r\n    private static ObjectMapper createObjectMapper() {\r\n        SimpleModule module = new SimpleModule()\r\n                .addSerializer(Properties.class, new ProfileSerializer())\r\n                .addDeserializer(Properties.class, new ProfileDeserializer());\r\n\r\n        return new ObjectMapper(new JsonFactory()\r\n                .disable(JsonGenerator.Feature.AUTO_CLOSE_JSON_CONTENT))\r\n                .registerModule(module);\r\n    }\r\n    public Object readConfig(String filepath) {\r\n        try {\r\n            ObjectMapper mapper = createObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            mapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            // do not serialize null value fields\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            module.addSerializer(Properties.class, new ProfileSerializer());\r\n            module.addDeserializer(Properties.class, new ProfileDeserializer());\r\n            mapper.registerModule(module);\r\n\r\n            InputStream is = new FileInputStream(filepath);\r\n            System.out.println(&quot;[DEBUG!!!!!!!!!111!!!]: &quot; + is.read());\r\n            Properties anon = mapper.readValue(is, Properties.class);\r\n            \r\n            System.out.println(anon.getVorname());\r\n            System.out.println(anon.getNachname());\r\n\r\n            return anon;\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Beep Boop Err!!! &#129302;&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThis is our ProfileSerializer Class:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ProfileSerializer extends StdSerializer&lt;Properties&gt; {\r\n\r\n    public ProfileSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ProfileSerializer(Class&lt;Properties&gt; src) {\r\n        super(src);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Properties property, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        gen.writeStartObject();\r\n\r\n        if (property != null) {\r\n            gen.writeObjectField(&quot;vorname&quot;, property.getVorname());\r\n            gen.writeObjectField(&quot;nachname&quot;, property.getNachname());\r\n        }\r\n\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nThis is our ProfileDeserializer Class:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n\r\nimport java.io.IOException;\r\n\r\n@JsonDeserialize(using = Properties.class)\r\npublic class ProfileDeserializer extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\r\n\r\n    public ProfileDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ProfileDeserializer(Class&lt;?&gt; vc) {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\r\n        Properties property = new Properties();\r\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\r\n        //property.un\r\n\r\n        return property;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is the `Properties` class:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n//import org.codehaus.jackson.map.annotate.JsonDeserialize;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\n\r\npublic class Properties extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\r\n    private boolean vorname;\r\n    private boolean nachname;\r\n\r\n    public void setVorname(boolean vorname) {\r\n        this.vorname = vorname;\r\n    }\r\n\r\n    public void setNachname(boolean nachname) {\r\n        this.nachname = nachname;\r\n    }\r\n\r\n    public boolean getVorname() {\r\n        return this.vorname;\r\n    }\r\n\r\n    public boolean getNachname() {\r\n        return this.nachname;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @JsonProperty(&quot;anon&quot;)\r\n    private void unpackNested(Map&lt;Boolean, Object&gt; anon) {\r\n        //this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\r\n        //this.nachname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\r\n        Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\r\n        Map&lt;Boolean,Boolean&gt; nachname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\r\n\r\n        this.vorname = (boolean) vorname.get(&quot;vorname&quot;);\r\n        this.nachname = (boolean) nachname.get(&quot;nachname&quot;);\r\n        //Map&lt;Boolean,Boolean&gt; owner = (Map&lt;Boolean,Boolean&gt;)anon.get(&quot;owner&quot;);\r\n        //this.ownerName = owner.get(&quot;name&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\r\n        Properties property = new Properties();\r\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\r\n        //property.un\r\n\r\n        return property;\r\n    }\r\n\r\n    /*@Override\r\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        return null;\r\n    }*/\r\n}\r\n```\r\n\r\nThe `Properties` class is used to store the json values in POJOs.\r\n\r\n\r\n\r\nWe tried:\r\n - changing the inherited class type of the class Properties\r\n - changing the vendor for fasterxml from `codehaus` to `fasterxml` because all of the examples used fasterxml.\r\n - changing the line `this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);` to `Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);`\r\n - adding `mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);` to the mapper config to prevent NullPointers\r\n - changing `StdSerializer` to `JsonSerializer`\r\n\r\n\r\nEdit: I just tried out printing all the fields inside profileNode and it looks like the nodes that should exist because they exist in the json are in fact not present:\r\n\r\n```\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: dokumenttyp\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: sprache\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: vertragsdaten\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: sachbearbeiter\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: versicherungsnehmer\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: bankverbindung\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: person\r\n```","title":"NullPointerException while trying to read JSON and trying to convert it to a POJO (deserialization)","body":"<p>Our goal is to: parse a json file and deserialize it into a java POJO</p>\n<p>The stacktrace looks like this:</p>\n<pre><code>16:39:21,628 ERROR [stderr] (default task-1) java.lang.NullPointerException\n16:39:21,628 ERROR [stderr] (default task-1)    at deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:31)\n16:39:21,628 ERROR [stderr] (default task-1)    at deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:16)\n</code></pre>\n<p>The files we are trying to parse look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;properties&quot;: {\n    &quot;anon&quot;: {\n      &quot;/brief/versicherungsnehmer/vorname&quot;: true,\n      &quot;/brief/versicherungsnehmer/nachname&quot;: true\n    }\n  }\n}\n</code></pre>\n<p>Our Json Parser class called <code>JSONMuncher</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONMuncher {\n\n    private final ObjectMapper objectMapper;\n\n    public JSONMuncher() {\n        this.objectMapper = createObjectMapper();\n    }\n\n    public ObjectMapper getObjectMapper() {\n        return objectMapper;\n    }\n\n    private static ObjectMapper createObjectMapper() {\n        SimpleModule module = new SimpleModule()\n                .addSerializer(Properties.class, new ProfileSerializer())\n                .addDeserializer(Properties.class, new ProfileDeserializer());\n\n        return new ObjectMapper(new JsonFactory()\n                .disable(JsonGenerator.Feature.AUTO_CLOSE_JSON_CONTENT))\n                .registerModule(module);\n    }\n    public Object readConfig(String filepath) {\n        try {\n            ObjectMapper mapper = createObjectMapper();\n            SimpleModule module = new SimpleModule();\n            mapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            // do not serialize null value fields\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            module.addSerializer(Properties.class, new ProfileSerializer());\n            module.addDeserializer(Properties.class, new ProfileDeserializer());\n            mapper.registerModule(module);\n\n            InputStream is = new FileInputStream(filepath);\n            System.out.println(&quot;[DEBUG!!!!!!!!!111!!!]: &quot; + is.read());\n            Properties anon = mapper.readValue(is, Properties.class);\n            \n            System.out.println(anon.getVorname());\n            System.out.println(anon.getNachname());\n\n            return anon;\n        } catch (IOException e) {\n            System.out.println(&quot;Beep Boop Err!!! 🤖&quot;);\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>This is our ProfileSerializer Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\nimport java.io.IOException;\n\npublic class ProfileSerializer extends StdSerializer&lt;Properties&gt; {\n\n    public ProfileSerializer() {\n        this(null);\n    }\n\n    public ProfileSerializer(Class&lt;Properties&gt; src) {\n        super(src);\n    }\n\n    @Override\n    public void serialize(Properties property, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n\n        if (property != null) {\n            gen.writeObjectField(&quot;vorname&quot;, property.getVorname());\n            gen.writeObjectField(&quot;nachname&quot;, property.getNachname());\n        }\n\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>This is our ProfileDeserializer Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\nimport java.io.IOException;\n\n@JsonDeserialize(using = Properties.class)\npublic class ProfileDeserializer extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\n\n    public ProfileDeserializer() {\n        this(null);\n    }\n\n    public ProfileDeserializer(Class&lt;?&gt; vc) {\n        super();\n    }\n\n    @Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\n        Properties property = new Properties();\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\n        //property.un\n\n        return property;\n    }\n\n}\n</code></pre>\n<p>And this is the <code>Properties</code> class:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n//import org.codehaus.jackson.map.annotate.JsonDeserialize;\n\nimport java.io.IOException;\nimport java.util.Map;\n\n\npublic class Properties extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\n    private boolean vorname;\n    private boolean nachname;\n\n    public void setVorname(boolean vorname) {\n        this.vorname = vorname;\n    }\n\n    public void setNachname(boolean nachname) {\n        this.nachname = nachname;\n    }\n\n    public boolean getVorname() {\n        return this.vorname;\n    }\n\n    public boolean getNachname() {\n        return this.nachname;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @JsonProperty(&quot;anon&quot;)\n    private void unpackNested(Map&lt;Boolean, Object&gt; anon) {\n        //this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\n        //this.nachname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\n        Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\n        Map&lt;Boolean,Boolean&gt; nachname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\n\n        this.vorname = (boolean) vorname.get(&quot;vorname&quot;);\n        this.nachname = (boolean) nachname.get(&quot;nachname&quot;);\n        //Map&lt;Boolean,Boolean&gt; owner = (Map&lt;Boolean,Boolean&gt;)anon.get(&quot;owner&quot;);\n        //this.ownerName = owner.get(&quot;name&quot;);\n    }\n\n    @Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\n        Properties property = new Properties();\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\n        //property.un\n\n        return property;\n    }\n\n    /*@Override\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        return null;\n    }*/\n}\n</code></pre>\n<p>The <code>Properties</code> class is used to store the json values in POJOs.</p>\n<p>We tried:</p>\n<ul>\n<li>changing the inherited class type of the class Properties</li>\n<li>changing the vendor for fasterxml from <code>codehaus</code> to <code>fasterxml</code> because all of the examples used fasterxml.</li>\n<li>changing the line <code>this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);</code> to <code>Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);</code></li>\n<li>adding <code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);</code> to the mapper config to prevent NullPointers</li>\n<li>changing <code>StdSerializer</code> to <code>JsonSerializer</code></li>\n</ul>\n<p>Edit: I just tried out printing all the fields inside profileNode and it looks like the nodes that should exist because they exist in the json are in fact not present:</p>\n<pre><code>09:22:07,049 INFO  [stdout] (default task-1) Child nodes: dokumenttyp\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: sprache\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: vertragsdaten\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: sachbearbeiter\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: versicherungsnehmer\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: bankverbindung\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: person\n</code></pre>\n"},{"tags":["java","html","spring-mvc","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1505810131,"post_id":46295590,"comment_id":79553674,"body_markdown":"if you want to render in a html template, use ModelAndView objects with the name of your template, but seems you are returnning a different kind of object","body":"if you want to render in a html template, use ModelAndView objects with the name of your template, but seems you are returnning a different kind of object"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505810523,"post_id":46295590,"comment_id":79553906,"body_markdown":"Thanks for response!!! but my return type is response. and as i think the issue is not with the model but it is with &quot;  &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;\n th:replace=&quot;hello :: contentA&quot;/&gt;\n\n\n&lt;div th:if=&quot;${messages.checkstatus == 1}&quot;\n th:replace=&quot;hello :: contentB&quot; /&gt;&quot;","body":"Thanks for response!!! but my return type is response. and as i think the issue is not with the model but it is with &quot;  &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;  th:replace=&quot;hello :: contentA&quot;/&gt;   &lt;div th:if=&quot;${messages.checkstatus == 1}&quot;  th:replace=&quot;hello :: contentB&quot; /&gt;&quot;"},{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1505810682,"post_id":46295590,"comment_id":79554000,"body_markdown":"try this, print the value of checkStatus, &lt;h1 th:text=&quot;${messages.cehckStatus}&quot;&gt;&lt;/h1&gt; and we can verify if the value is correct. I am afraid your model is not going to the view","body":"try this, print the value of checkStatus, &lt;h1 th:text=&quot;${messages.cehckStatus}&quot;&gt;&lt;/h1&gt; and we can verify if the value is correct. I am afraid your model is not going to the view"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505811651,"post_id":46295590,"comment_id":79554638,"body_markdown":"If i change messages.cehckStatus to messages then it is returning the correct value which i want :\nand the i made changes like :\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;!--&lt;h1 th:text=&quot;${messages}&quot;/&gt;--&gt;\n\n&lt;div th:if=&quot;${messages == 0}&quot;\n     th:replace=&quot;hello :: contentA&quot;/&gt;\n\n\n&lt;div th:if=&quot;${messages == 1}&quot;\n     th:replace=&quot;hello :: contentB&quot; /&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\nand it is going into other html page i.e hello.html but it is executing both div every time","body":"If i change messages.cehckStatus to messages then it is returning the correct value which i want : and the i made changes like : &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;<a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">thymeleaf.org</a>&quot;&gt; &lt;head&gt;     &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt; &lt;/head&gt; &lt;body&gt;  &lt;!--&lt;h1 th:text=&quot;${messages}&quot;/&gt;--&gt;  &lt;div th:if=&quot;${messages == 0}&quot;      th:replace=&quot;hello :: contentA&quot;/&gt;   &lt;div th:if=&quot;${messages == 1}&quot;      th:replace=&quot;hello :: contentB&quot; /&gt;  &lt;/body&gt; &lt;/html&gt;  and it is going into other html page i.e hello.html but it is executing both div every time"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505811817,"post_id":46295590,"comment_id":79554742,"body_markdown":"But i want if messages return 0 then &lt;div th:fragment=&quot;contentA&quot;&gt; should execute and if messages return 1 then &lt;div th:fragment=&quot;contentB&quot;&gt; should execute","body":"But i want if messages return 0 then &lt;div th:fragment=&quot;contentA&quot;&gt; should execute and if messages return 1 then &lt;div th:fragment=&quot;contentB&quot;&gt; should execute"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505853409,"creation_date":1505853409,"answer_id":46309381,"question_id":46295590,"body_markdown":"th:replace happens before th:if, according to [thymeleaf attribute precedence][1].  You just need to move the th:if into a tag above the replace.  Something like this:\r\n\r\n    &lt;th:block th:if=&quot;${messages.checkstatus == 0}&quot;&gt;\r\n      &lt;div th:replace=&quot;hello :: contentA&quot; /&gt;\r\n    &lt;/th:block&gt;\r\n\r\n    &lt;th:block th:if=&quot;${messages.checkstatus == 1}&quot;&gt;\r\n      &lt;div th:replace=&quot;hello :: contentB&quot; /&gt;\r\n    &lt;/th:block&gt;\r\n\r\n\r\n  [1]: http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#attribute-precedence","title":"How to render template by respective if condition in thymeleaf","body":"<p>th:replace happens before th:if, according to <a href=\"http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#attribute-precedence\" rel=\"nofollow noreferrer\">thymeleaf attribute precedence</a>.  You just need to move the th:if into a tag above the replace.  Something like this:</p>\n\n<pre><code>&lt;th:block th:if=\"${messages.checkstatus == 0}\"&gt;\n  &lt;div th:replace=\"hello :: contentA\" /&gt;\n&lt;/th:block&gt;\n\n&lt;th:block th:if=\"${messages.checkstatus == 1}\"&gt;\n  &lt;div th:replace=\"hello :: contentB\" /&gt;\n&lt;/th:block&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4781484,"reputation":3736,"user_id":3863070,"display_name":"bamossza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655460449,"creation_date":1654944148,"answer_id":72583646,"question_id":46295590,"body_markdown":"Work for me.\r\n\r\nI using the backend service to process color code\r\n\r\n    use &gt;&gt;&gt; th:styleappend\r\n\r\n    Status :\r\n\r\n    &lt;span style=&quot;font-size: 11px;&quot;\r\n       th:styleappend=&quot;${&#39;color:&#39; + projectStatusColor + &#39;;&#39;}&quot;\r\n       th:text=&quot;${projectStatusName}&quot;&gt;&lt;/span&gt;\r\n\r\n\r\nbecause the values in the CSS property **style** cannot be parsed.\r\n\r\nbut it works for me. ^__^","title":"How to render template by respective if condition in thymeleaf","body":"<p>Work for me.</p>\n<p>I using the backend service to process color code</p>\n<pre><code>use &gt;&gt;&gt; th:styleappend\n\nStatus :\n\n&lt;span style=&quot;font-size: 11px;&quot;\n   th:styleappend=&quot;${'color:' + projectStatusColor + ';'}&quot;\n   th:text=&quot;${projectStatusName}&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>because the values in the CSS property <strong>style</strong> cannot be parsed.</p>\n<p>but it works for me. ^__^</p>\n"}],"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655460449,"creation_date":1505809948,"question_id":46295590,"body_markdown":"In my project i have multiple template but i want to code it within one html page and render it by giving some condition.Each template is in div tag. But i am not able to render one template by providing one condition and second by providing second condition.\r\n\r\n     hello.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n    &lt;title&gt;State 1&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;div th:fragment=&quot;contentA&quot;&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;form method=&quot;post&quot;&gt;\r\n\r\n        &lt;label&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Name&quot; name=&quot;name&quot; v-\r\n     model=&quot;value1&quot;/&gt;\r\n\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n\r\n\r\n        &lt;label&gt;&lt;b&gt;Date of Birth&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Birth date&quot; name=&quot;dob&quot; v-\r\n        model=&quot;value2&quot;/&gt;\r\n\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n\r\n        &lt;label&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Email&quot; name=&quot;email&quot; v-\r\n        model=&quot;value3&quot;/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot; v-model=&quot;value4&quot;/&gt; \r\n        Remember me\r\n        &lt;p&gt;By creating an account you agree to our &lt;a href=&quot;#&quot;&gt;Terms and \r\n       Privacy&lt;/a&gt;.&lt;/p&gt;\r\n\r\n        &lt;div class=&quot;clearfix&quot;&gt;\r\n            &lt;button type=&quot;button&quot;  class=&quot;cancelbtn&quot;&gt;Cancel&lt;/button&gt;\r\n            &lt;button type=&quot;submit&quot; class=&quot;submitbtn&quot;&gt;Submit&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n      &lt;/body&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;div th:fragment=&quot;contentB&quot;&gt; // another template\r\n    &lt;body&gt;\r\n    &lt;h1 th:text=&quot;${messages}&quot;&gt;&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n     &lt;/div&gt;\r\n    &lt;/html&gt;\r\n\r\nThis is my another html page for rendering by giving condition :\r\n\r\n     helloform.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;\r\n     th:replace=&quot;hello :: contentA&quot;/&gt;\r\n\r\n\r\n    &lt;div th:if=&quot;${messages.checkstatus == 1}&quot;\r\n     th:replace=&quot;hello :: contentB&quot; /&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPlease find my java code also to render by adding value into Model model:\r\n\r\n       protected Response getUI(SMEvent event,Model model) {\r\n\r\n      if(checkstate==1 &amp;&amp; checkstatus==0)\r\n        {\r\n\r\n            model.addAttribute(&quot;messages.checkstatus&quot; , 0);\r\n            System.out.println(&quot;Entering to get the page for state 1 and \r\n            status 0&quot;+ model);\r\n            return Response.ok().entity(&quot;helloform&quot;).build();\r\n        }\r\n\r\n        if(checkstate==1 &amp;&amp; checkstatus==1)\r\n        {\r\n            if(checkstate==1)\r\n            {\r\n            \r\n               model.addAttribute(&quot;messages.checkstatus&quot; , 1);\r\n               \r\n                System.out.println(&quot;Entering to get the page of state 1 and \r\n              status 1&quot; + model);\r\n                return Response.ok().entity(&quot;helloform&quot;).build();\r\n            }\r\n\r\n          }\r\n       }","title":"How to render template by respective if condition in thymeleaf","body":"<p>In my project i have multiple template but i want to code it within one html page and render it by giving some condition.Each template is in div tag. But i am not able to render one template by providing one condition and second by providing second condition.</p>\n\n<pre><code> hello.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n\n&lt;head&gt;\n&lt;title&gt;State 1&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;div th:fragment=\"contentA\"&gt;\n&lt;body&gt;\n\n&lt;form method=\"post\"&gt;\n\n    &lt;label&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Name\" name=\"name\" v-\n model=\"value1\"/&gt;\n\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n\n\n    &lt;label&gt;&lt;b&gt;Date of Birth&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Birth date\" name=\"dob\" v-\n    model=\"value2\"/&gt;\n\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n\n    &lt;label&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Email\" name=\"email\" v-\n    model=\"value3\"/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"checkbox\" checked=\"checked\" v-model=\"value4\"/&gt; \n    Remember me\n    &lt;p&gt;By creating an account you agree to our &lt;a href=\"#\"&gt;Terms and \n   Privacy&lt;/a&gt;.&lt;/p&gt;\n\n    &lt;div class=\"clearfix\"&gt;\n        &lt;button type=\"button\"  class=\"cancelbtn\"&gt;Cancel&lt;/button&gt;\n        &lt;button type=\"submit\" class=\"submitbtn\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n  &lt;/body&gt;\n  &lt;/div&gt;\n\n&lt;div th:fragment=\"contentB\"&gt; // another template\n&lt;body&gt;\n&lt;h1 th:text=\"${messages}\"&gt;&lt;/h1&gt;\n&lt;/body&gt;\n &lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my another html page for rendering by giving condition :</p>\n\n<pre><code> helloform.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n&lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div th:if=\"${messages.checkstatus == 0}\"\n th:replace=\"hello :: contentA\"/&gt;\n\n\n&lt;div th:if=\"${messages.checkstatus == 1}\"\n th:replace=\"hello :: contentB\" /&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Please find my java code also to render by adding value into Model model:</p>\n\n<pre><code>   protected Response getUI(SMEvent event,Model model) {\n\n  if(checkstate==1 &amp;&amp; checkstatus==0)\n    {\n\n        model.addAttribute(\"messages.checkstatus\" , 0);\n        System.out.println(\"Entering to get the page for state 1 and \n        status 0\"+ model);\n        return Response.ok().entity(\"helloform\").build();\n    }\n\n    if(checkstate==1 &amp;&amp; checkstatus==1)\n    {\n        if(checkstate==1)\n        {\n\n           model.addAttribute(\"messages.checkstatus\" , 1);\n\n            System.out.println(\"Entering to get the page of state 1 and \n          status 1\" + model);\n            return Response.ok().entity(\"helloform\").build();\n        }\n\n      }\n   }\n</code></pre>\n"},{"tags":["java","android","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655460968,"post_id":72657691,"comment_id":128343229,"body_markdown":"Please organize your lambdas into smaller methods, it is difficult to view it on StackOverflow in this deeply nested state. Otherwise, what I could gather is you map your object to its members so you lose that object down the line. Instead, keep the original object flowing and use its `getXXX` methods to extract members on the spot.","body":"Please organize your lambdas into smaller methods, it is difficult to view it on StackOverflow in this deeply nested state. Otherwise, what I could gather is you map your object to its members so you lose that object down the line. Instead, keep the original object flowing and use its <code>getXXX</code> methods to extract members on the spot."},{"owner":{"account_id":25578912,"reputation":1,"user_id":19357837,"display_name":"Graworks"},"score":0,"creation_date":1655478179,"post_id":72657691,"comment_id":128349119,"body_markdown":"Thank you vey much! It works with keeping object flow and calling object&#39;s &#39;makeSomething&#39; method. But if this method also makes requests that need to be chained, it will have its own chain with subscribe(). So there is subscribe inside subscribe. Is it inevitable in situations with &quot;awkward&quot; json api?","body":"Thank you vey much! It works with keeping object flow and calling object&#39;s &#39;makeSomething&#39; method. But if this method also makes requests that need to be chained, it will have its own chain with subscribe(). So there is subscribe inside subscribe. Is it inevitable in situations with &quot;awkward&quot; json api?"}],"owner":{"account_id":25578912,"reputation":1,"user_id":19357837,"display_name":"Graworks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655460435,"creation_date":1655460435,"question_id":72657691,"body_markdown":"I am completely new in rxjava, will be glad to receive help, thanks in advance. Here is fragment of my code working with retrofit getting json from rest api and chaining requests to construct collection of objects. \r\n\r\nThe scheme to obtain is as follows: \r\n\r\nGet ArtObjectIds then for each id combine results from\r\nArtObjectInfo and tileLevels\r\n(for one of tileLevels get its image tiles, combine bitmap from them, link that bitmap to tileLevel. This is what I can not achieve.)\r\ninto createArtObject from getArtObjectInfo and getImageTileLevels\r\nand then work with List of ArtObjects.\r\n\r\nThe question is: how to update an object with results obtained from nested chain,\r\nin my case link tileLevel to bitmap obtained from its nested tiles.\r\n\r\nHere is code:\r\n\r\n    apiService.getArtObjectIds(author, page, num)\r\n                .subscribeOn(Schedulers.io())\r\n                .map(ArtObjectsResponse::getArtObjectIds)\r\n                .doOnNext(artObjectIds -&gt; Log.d(&quot;RX_TESTS&quot;, artObjectIds.toString()))\r\n                .flatMap((Function&lt;List&lt;String&gt;, Observable&lt;List&lt;ArtObject&gt;&gt;&gt;) artObjectIds -&gt; {\r\n                    if (artObjectIds.size() &gt; 0) {           \r\n                        return Observable.fromIterable(artObjectIds)\r\n                                .doOnNext(artObjectId -&gt; Log.d(TAG, &quot;Processing artObjectId  &quot; + artObjectId))\r\n                                .concatMap(artObjectId -&gt;\r\n                                        Observable.combineLatest(\r\n                                                apiService.getArtObjectInfo(artObjectId)\r\n                                                        .subscribeOn(Schedulers.io())\r\n                                                        .map(ArtObjectInfoResponse::getArtObjectInfo),\r\n                                                apiService.getImageTileLevels(artObjectId)\r\n                                                        .subscribeOn(Schedulers.io())\r\n                                                        .map(ImageTileLevelsResponse::getTileLevels)\r\n                                                        .flatMap((Function&lt;List&lt;ImageTileLevel&gt;, Observable&lt;List&lt;ImageTileLevel&gt;&gt;&gt;) imageTileLevels -&gt; {\r\n                                                            for (ImageTileLevel tileLevel : imageTileLevels) {\r\n                                                                if (tileLevel.suitsForPreview()) {\r\n                                                                    tileLevel.setPreview(true);\r\n                                                                    Observable.fromIterable(tileLevel.getTiles())\r\n                                                                    .concatMap(imageTile -&gt; apiService.downloadFileWithDynamicUrlAsync(imageTile.getUrl()))\r\n                                                                    .toList()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Wrong behavior here: results of doOnSuccess are ignored.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// tileLevel is not updated.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                                    .doOnSuccess(responses -&gt; {\r\n                                                                        Log.d(&quot;TAG&quot;, &quot;In do on success&quot;);\r\n                                                                        ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n                                                                        for (Response&lt;ResponseBody&gt; response : responses) {\r\n                                                                            assert response.body() != null;\r\n                                                                            bitmaps.add(BitmapFactory.decodeStream(response.body().byteStream()));\r\n                                                                        }\r\n                                                                        tileLevel.combineBitmaps(bitmaps);\r\n                                                                    });\r\n                                                                    break;\r\n                                                                }\r\n                                                            }\r\n                                                            return  Observable.just(imageTileLevels);\r\n                                                        }),\r\n                                                ArtObject::createArtObject))\r\n                                .doOnNext(artObject -&gt; Log.d(TAG, &quot;Finished processing artObject &quot; + artObject.getId()))\r\n                                .toList()\r\n                                .doOnSuccess(artObjects -&gt; Log.d(TAG, &quot;Finished processing all artObjects&quot;))\r\n                                .toObservable();\r\n                             \r\n                    } else {\r\n\t\t\t\t\t\treturn Observable.just(new ArrayList&lt;&gt;());\r\n                    }\r\n                })\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(.....},","title":"Wrong behviour with nested chains in rxjava","body":"<p>I am completely new in rxjava, will be glad to receive help, thanks in advance. Here is fragment of my code working with retrofit getting json from rest api and chaining requests to construct collection of objects.</p>\n<p>The scheme to obtain is as follows:</p>\n<p>Get ArtObjectIds then for each id combine results from\nArtObjectInfo and tileLevels\n(for one of tileLevels get its image tiles, combine bitmap from them, link that bitmap to tileLevel. This is what I can not achieve.)\ninto createArtObject from getArtObjectInfo and getImageTileLevels\nand then work with List of ArtObjects.</p>\n<p>The question is: how to update an object with results obtained from nested chain,\nin my case link tileLevel to bitmap obtained from its nested tiles.</p>\n<p>Here is code:</p>\n<pre><code>apiService.getArtObjectIds(author, page, num)\n            .subscribeOn(Schedulers.io())\n            .map(ArtObjectsResponse::getArtObjectIds)\n            .doOnNext(artObjectIds -&gt; Log.d(&quot;RX_TESTS&quot;, artObjectIds.toString()))\n            .flatMap((Function&lt;List&lt;String&gt;, Observable&lt;List&lt;ArtObject&gt;&gt;&gt;) artObjectIds -&gt; {\n                if (artObjectIds.size() &gt; 0) {           \n                    return Observable.fromIterable(artObjectIds)\n                            .doOnNext(artObjectId -&gt; Log.d(TAG, &quot;Processing artObjectId  &quot; + artObjectId))\n                            .concatMap(artObjectId -&gt;\n                                    Observable.combineLatest(\n                                            apiService.getArtObjectInfo(artObjectId)\n                                                    .subscribeOn(Schedulers.io())\n                                                    .map(ArtObjectInfoResponse::getArtObjectInfo),\n                                            apiService.getImageTileLevels(artObjectId)\n                                                    .subscribeOn(Schedulers.io())\n                                                    .map(ImageTileLevelsResponse::getTileLevels)\n                                                    .flatMap((Function&lt;List&lt;ImageTileLevel&gt;, Observable&lt;List&lt;ImageTileLevel&gt;&gt;&gt;) imageTileLevels -&gt; {\n                                                        for (ImageTileLevel tileLevel : imageTileLevels) {\n                                                            if (tileLevel.suitsForPreview()) {\n                                                                tileLevel.setPreview(true);\n                                                                Observable.fromIterable(tileLevel.getTiles())\n                                                                .concatMap(imageTile -&gt; apiService.downloadFileWithDynamicUrlAsync(imageTile.getUrl()))\n                                                                .toList()\n                                                                \n                                                                // Wrong behavior here: results of doOnSuccess are ignored.\n                                                                // tileLevel is not updated.\n                                                                \n                                                                .doOnSuccess(responses -&gt; {\n                                                                    Log.d(&quot;TAG&quot;, &quot;In do on success&quot;);\n                                                                    ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n                                                                    for (Response&lt;ResponseBody&gt; response : responses) {\n                                                                        assert response.body() != null;\n                                                                        bitmaps.add(BitmapFactory.decodeStream(response.body().byteStream()));\n                                                                    }\n                                                                    tileLevel.combineBitmaps(bitmaps);\n                                                                });\n                                                                break;\n                                                            }\n                                                        }\n                                                        return  Observable.just(imageTileLevels);\n                                                    }),\n                                            ArtObject::createArtObject))\n                            .doOnNext(artObject -&gt; Log.d(TAG, &quot;Finished processing artObject &quot; + artObject.getId()))\n                            .toList()\n                            .doOnSuccess(artObjects -&gt; Log.d(TAG, &quot;Finished processing all artObjects&quot;))\n                            .toObservable();\n                         \n                } else {\n                    return Observable.just(new ArrayList&lt;&gt;());\n                }\n            })\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(.....},\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":10484151,"reputation":422,"user_id":7728273,"accept_rate":80,"display_name":"kboskin"},"score":0,"creation_date":1655464099,"post_id":72657573,"comment_id":128344270,"body_markdown":"does your project has multidex enabled?","body":"does your project has multidex enabled?"},{"owner":{"account_id":15571887,"reputation":404,"user_id":11234051,"display_name":"binarynoise"},"score":0,"creation_date":1655464156,"post_id":72657573,"comment_id":128344293,"body_markdown":"Usually behind the `Caused by: java.lang.ClassNotFoundException: ` there is the class name of the class that is missing. If you launch the release build using Android Studio, does the app crash as well? Then you should find the class name in the stack trace from logcat, but it looks like it can&#39;t find your main Activity","body":"Usually behind the <code>Caused by: java.lang.ClassNotFoundException: </code> there is the class name of the class that is missing. If you launch the release build using Android Studio, does the app crash as well? Then you should find the class name in the stack trace from logcat, but it looks like it can&#39;t find your main Activity"},{"owner":{"account_id":25578956,"reputation":27,"user_id":19357869,"display_name":"Edwin"},"score":0,"creation_date":1655554280,"post_id":72657573,"comment_id":128362324,"body_markdown":"No, my project does not have Multidex enabled.  \n\nI&#39;m unable to launch the release build using Android Studio because it comes up with: &quot;Error: The apk for your currently selected variant cannot be signed. Please specify a signing configuration for this variant (release).&quot;  \n\nI can, however launch the Debug version in Android Studio but that dos not crash.","body":"No, my project does not have Multidex enabled.    I&#39;m unable to launch the release build using Android Studio because it comes up with: &quot;Error: The apk for your currently selected variant cannot be signed. Please specify a signing configuration for this variant (release).&quot;    I can, however launch the Debug version in Android Studio but that dos not crash."}],"owner":{"account_id":25578956,"reputation":27,"user_id":19357869,"display_name":"Edwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655459834,"creation_date":1655459834,"question_id":72657573,"body_markdown":"I built and published an Android app, written in Java using Android Studio 2021.2.1 on a Mac.  The Play Store is reporting crashes.  Here is the stack trace:\r\n\r\n```\r\njava.lang.RuntimeException: \r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3742)\r\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4027)\r\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2336)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loop (Looper.java:247)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8676)\r\n  at java.lang.reflect.Method.invoke (Native Method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:602)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1130)\r\nCaused by: java.lang.ClassNotFoundException: \r\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\r\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n  at android.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\r\n  at androidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\r\n  at android.app.Instrumentation.newActivity (Instrumentation.java:1253)\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3730)\r\n```\r\n\r\nHow do I fix this? I don&#39;t really know what to try because I&#39;m new to Android development.\r\n\r\nIn case it helps, here&#39;s my AndroidManifest.xml (I&#39;ve redacted some items with xxx)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;xxx&quot;\r\n    android:versionCode=&quot;2&quot;\r\n    android:versionName=&quot;1.1&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.xxx&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```","title":"Android app crashes due to java.lang.ClassNotFoundException","body":"<p>I built and published an Android app, written in Java using Android Studio 2021.2.1 on a Mac.  The Play Store is reporting crashes.  Here is the stack trace:</p>\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3742)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4027)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2336)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:247)\n  at android.app.ActivityThread.main (ActivityThread.java:8676)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:602)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1130)\nCaused by: java.lang.ClassNotFoundException: \n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n  at android.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\n  at androidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\n  at android.app.Instrumentation.newActivity (Instrumentation.java:1253)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3730)\n</code></pre>\n<p>How do I fix this? I don't really know what to try because I'm new to Android development.</p>\n<p>In case it helps, here's my AndroidManifest.xml (I've redacted some items with xxx)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;xxx&quot;\n    android:versionCode=&quot;2&quot;\n    android:versionName=&quot;1.1&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.xxx&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","controller","volatile"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1655458055,"post_id":72657117,"comment_id":128342256,"body_markdown":"`new VolatileTest().go();` indicates that this is not a spring bean which is used. Please share the code that is used in spring.","body":"<code>new VolatileTest().go();</code> indicates that this is not a spring bean which is used. Please share the code that is used in spring."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655458867,"post_id":72657117,"comment_id":128342530,"body_markdown":"`stop` is static and shared, so if you run `go` multiple times, subsequent runs will (likely) immediately see `stop` set to true.","body":"<code>stop</code> is static and shared, so if you run <code>go</code> multiple times, subsequent runs will (likely) immediately see <code>stop</code> set to true."}],"owner":{"account_id":8267179,"reputation":310,"user_id":6216284,"display_name":"feiyuerenhai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655459626,"creation_date":1655457694,"question_id":72657117,"body_markdown":"here is the code segment\r\n\r\n```java\r\n\r\npackage com.example.demo;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nclass VolatileTest{\r\n    private static boolean stop = false;\r\n    public void go() throws Exception{\r\n\r\n        new Thread(()-&gt;{\r\n            System.out.println(&quot;thread started in &quot; + Thread.currentThread().getName());\r\n            int counter = 0;\r\n            while (!stop){\r\n                counter++;\r\n            };\r\n\r\n            // #1\r\n            System.out.println(&quot;stopped at i=&quot; + counter + &quot; in &quot; + Thread.currentThread().getName());\r\n\r\n        }).start();\r\n\r\n        Thread.sleep(1000);\r\n        stop = true;\r\n    }\r\n}\r\n\r\n@RestController\r\npublic class MyVolatileController {\r\n\r\n    @GetMapping(&quot;/volatile/test&quot;)\r\n    public String test(){\r\n        new Thread(()-&gt;{\r\n            try{\r\n                new VolatileTest().go();\r\n            }catch(Exception e){}\r\n        }).start();\r\n\r\n        return &quot;volatile&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        new Thread(()-&gt;{\r\n            try{\r\n                new VolatileTest().go();\r\n            }catch(Exception e){}\r\n        }).start();\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe expected behavior: when called, the program will never reach #1, since stop is not volatile, and the change made by other thread will not been seen immediately by the current thread.\r\n\r\n**Question**: when it is started in `public void static main` of the class, it behaves as expected, however, when started inside a spring `controller method`, it does reach #1. why is that happening ?","title":"volatile in spring controller not working","body":"<p>here is the code segment</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nclass VolatileTest{\n    private static boolean stop = false;\n    public void go() throws Exception{\n\n        new Thread(()-&gt;{\n            System.out.println(&quot;thread started in &quot; + Thread.currentThread().getName());\n            int counter = 0;\n            while (!stop){\n                counter++;\n            };\n\n            // #1\n            System.out.println(&quot;stopped at i=&quot; + counter + &quot; in &quot; + Thread.currentThread().getName());\n\n        }).start();\n\n        Thread.sleep(1000);\n        stop = true;\n    }\n}\n\n@RestController\npublic class MyVolatileController {\n\n    @GetMapping(&quot;/volatile/test&quot;)\n    public String test(){\n        new Thread(()-&gt;{\n            try{\n                new VolatileTest().go();\n            }catch(Exception e){}\n        }).start();\n\n        return &quot;volatile&quot;;\n    }\n\n    public static void main(String[] args) throws Exception{\n        new Thread(()-&gt;{\n            try{\n                new VolatileTest().go();\n            }catch(Exception e){}\n        }).start();\n    }\n\n}\n</code></pre>\n<p>the expected behavior: when called, the program will never reach #1, since stop is not volatile, and the change made by other thread will not been seen immediately by the current thread.</p>\n<p><strong>Question</strong>: when it is started in <code>public void static main</code> of the class, it behaves as expected, however, when started inside a spring <code>controller method</code>, it does reach #1. why is that happening ?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1655455490,"post_id":72656512,"comment_id":128341467,"body_markdown":"in your `setMap` method, what is `childMap`? Why does it already exists (and even static)? You need to use `childmap = parentMap.computeIfAbsent(...);`. Otherwise you use the same childMap everywhere which explains your output.","body":"in your <code>setMap</code> method, what is <code>childMap</code>? Why does it already exists (and even static)? You need to use <code>childmap = parentMap.computeIfAbsent(...);</code>. Otherwise you use the same childMap everywhere which explains your output."}],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655455708,"creation_date":1655455708,"answer_id":72656674,"question_id":72656512,"body_markdown":"Suggestion, don&#39;t have generic types and dont have static params\r\n```\r\nprivate HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;(); \r\nprivate HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nTry to replace this method\r\n```\r\npublic ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n    childMap.putIfAbsent(childKey, new ArrayList&lt;&gt;()); // inserts a key only if the key is not already present\r\n    childMap.get(childKey).add(value); // puts the value in the existing key and \r\n    \r\n    if (!parentMap.containsKey(parentkey)) { // puts in the parent map only if not present. \r\n        parentMap.put(parentkey, childMap);\r\n    }\r\n}\r\n```\r\nSince the childmap is referenced already, No need to put again.","title":"Hashmap inside a hashmap with arraylist","body":"<p>Suggestion, don't have generic types and dont have static params</p>\n<pre><code>private HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;(); \nprivate HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>Try to replace this method</p>\n<pre><code>public ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n    childMap.putIfAbsent(childKey, new ArrayList&lt;&gt;()); // inserts a key only if the key is not already present\n    childMap.get(childKey).add(value); // puts the value in the existing key and \n    \n    if (!parentMap.containsKey(parentkey)) { // puts in the parent map only if not present. \n        parentMap.put(parentkey, childMap);\n    }\n}\n</code></pre>\n<p>Since the childmap is referenced already, No need to put again.</p>\n"},{"tags":[],"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655456554,"creation_date":1655456554,"answer_id":72656857,"question_id":72656512,"body_markdown":"If I was you I will do it in more &quot;OOP way&quot; so that you can benefit from static typing. Something like:\r\n\r\n    import java.util.List;\r\n    class Employee{\r\n        String name;\r\n        String getName(){\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\n    public class CompanyBranch{\r\n        String national;\r\n        List&lt;Employee&gt; employees;\r\n    \r\n        List&lt;String&gt; getEmployeeAllName(){\r\n            return employees.stream().map(Employee::getName).toList();\r\n        }\r\n    }","title":"Hashmap inside a hashmap with arraylist","body":"<p>If I was you I will do it in more &quot;OOP way&quot; so that you can benefit from static typing. Something like:</p>\n<pre><code>import java.util.List;\nclass Employee{\n    String name;\n    String getName(){\n        return name;\n    }\n}\n\n\npublic class CompanyBranch{\n    String national;\n    List&lt;Employee&gt; employees;\n\n    List&lt;String&gt; getEmployeeAllName(){\n        return employees.stream().map(Employee::getName).toList();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655459113,"creation_date":1655458109,"answer_id":72657207,"question_id":72656512,"body_markdown":"The problem is that you keep reusing the same `childMap`, regardless of which `parentKey` is being used. You need to look up the respective child map when adding values.\r\n\r\nThat means that `childMap` should be a local variable, nothing more. Delete your `private static HashMap&lt;String, ArrayList&gt; childMap`.\r\n\r\nTry this:\r\n\r\n    public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n      HashMap&lt;String, ArrayList&gt; childMap = parentMap.computeIfAbsent(parentkey, k-&gt;new HashMap&lt;&gt;());\r\n      childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\r\n      return getMap(parentkey, childKey);\r\n    }\r\n\r\n[Proof that this works][1]\r\n\r\n\r\n  [1]: https://ideone.com/sMelyE","title":"Hashmap inside a hashmap with arraylist","body":"<p>The problem is that you keep reusing the same <code>childMap</code>, regardless of which <code>parentKey</code> is being used. You need to look up the respective child map when adding values.</p>\n<p>That means that <code>childMap</code> should be a local variable, nothing more. Delete your <code>private static HashMap&lt;String, ArrayList&gt; childMap</code>.</p>\n<p>Try this:</p>\n<pre><code>public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n  HashMap&lt;String, ArrayList&gt; childMap = parentMap.computeIfAbsent(parentkey, k-&gt;new HashMap&lt;&gt;());\n  childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\n  return getMap(parentkey, childKey);\n}\n</code></pre>\n<p><a href=\"https://ideone.com/sMelyE\" rel=\"nofollow noreferrer\">Proof that this works</a></p>\n"}],"owner":{"account_id":10221888,"reputation":471,"user_id":7545818,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72657207,"answer_count":3,"score":0,"last_activity_date":1655459113,"creation_date":1655454975,"question_id":72656512,"body_markdown":"**Declaration:-** \r\n  \r\n  private static HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;();\r\n    private static HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\r\n\r\n**How do I want to store data in hashmap?**\r\n\r\n    &quot;India&quot;:\r\n    \t\t&quot;EmployeeName&quot;:[A,B,C]\r\n    \t\t\r\n    &quot;China&quot;:\r\n    \t\t&quot;EmployeeName&quot;:[D,E,F]\r\n\t\t\r\n**Methods used:-**\r\n\r\n    public static ArrayList&lt;String&gt; getMap(String parentkey, String childKey) {\r\n    \treturn parentMap.get(parentkey).get(childKey);\r\n    }\r\n    \r\n    \r\n    public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n    \tchildMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\r\n    \tparentMap.put(parentkey, childMap);\r\n    \treturn getMap(parentkey, childKey);\r\n    }\r\n\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;A&quot;)\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;B&quot;)\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;C&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;D&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;E&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;F&quot;)\r\n\r\n**How data get stored and printed in hashmap while fetchng from getMap method:**\r\n\r\n    System.out.println(&quot;India&quot; + getMap(&quot;India&quot;).get(&quot;EmployeeName&quot;));\r\n    System.out.println(&quot;China&quot; + getMap(&quot;China&quot;).get(&quot;EmployeeName&quot;));\r\n    \r\n    &quot;India&quot; [A,B,C,D,E,F]\t\r\n    &quot;China&quot; [A,B,C,D,E,F]\r\n    \t\t\r\n\r\nWhilst i know keeping the childKey name unique would do thejob for me but I wish to keep the same childKey name under each parentkey name and store the respecive value in arraylist.\r\n\r\nAny solution to my problem is welcome.","title":"Hashmap inside a hashmap with arraylist","body":"<p><strong>Declaration:-</strong></p>\n<p>private static HashMap&lt;String, HashMap&lt;String, ArrayList&gt;&gt; parentMap = new HashMap&lt;&gt;();\nprivate static HashMap&lt;String, ArrayList&gt; childMap = new HashMap&lt;&gt;();</p>\n<p><strong>How do I want to store data in hashmap?</strong></p>\n<pre><code>&quot;India&quot;:\n        &quot;EmployeeName&quot;:[A,B,C]\n        \n&quot;China&quot;:\n        &quot;EmployeeName&quot;:[D,E,F]\n    \n</code></pre>\n<p><strong>Methods used:-</strong></p>\n<pre><code>public static ArrayList&lt;String&gt; getMap(String parentkey, String childKey) {\n    return parentMap.get(parentkey).get(childKey);\n}\n\n\npublic static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n    childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\n    parentMap.put(parentkey, childMap);\n    return getMap(parentkey, childKey);\n}\n\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;A&quot;)\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;B&quot;)\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;C&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;D&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;E&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;F&quot;)\n</code></pre>\n<p><strong>How data get stored and printed in hashmap while fetchng from getMap method:</strong></p>\n<pre><code>System.out.println(&quot;India&quot; + getMap(&quot;India&quot;).get(&quot;EmployeeName&quot;));\nSystem.out.println(&quot;China&quot; + getMap(&quot;China&quot;).get(&quot;EmployeeName&quot;));\n\n&quot;India&quot; [A,B,C,D,E,F]   \n&quot;China&quot; [A,B,C,D,E,F]\n        \n</code></pre>\n<p>Whilst i know keeping the childKey name unique would do thejob for me but I wish to keep the same childKey name under each parentkey name and store the respecive value in arraylist.</p>\n<p>Any solution to my problem is welcome.</p>\n"},{"tags":["java","maven","version-control"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1652783948,"post_id":72271664,"comment_id":127684680,"body_markdown":"My first guess was, that it is inherited, because of what the maven tree shows. But `spring-boot-starter-web:jar:2.0.0.RELEASE`&#39;s pom.xml clearly references 2.0.0.RELEASE of the tomcat dependency. Did you reimported the dependencies? Do you have multiple pom.xmls in your project?","body":"My first guess was, that it is inherited, because of what the maven tree shows. But <code>spring-boot-starter-web:jar:2.0.0.RELEASE</code>&#39;s pom.xml clearly references 2.0.0.RELEASE of the tomcat dependency. Did you reimported the dependencies? Do you have multiple pom.xmls in your project?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652791296,"post_id":72271664,"comment_id":127687483,"body_markdown":"Please post your full pom file otherwise it&#39;s just guessing what&#39;s wrong..furthermore why using such an old spring boot version which is not supported anymore ...","body":"Please post your full pom file otherwise it&#39;s just guessing what&#39;s wrong..furthermore why using such an old spring boot version which is not supported anymore ..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652838060,"post_id":72271664,"comment_id":127701143,"body_markdown":"Hi @ValerijDobler,In this project, just have only one pom.xml, and i didn&#39;t reimport any dependencies about tomcat, so i am very confuse about the sub-dependency&#39;version.","body":"Hi @ValerijDobler,In this project, just have only one pom.xml, and i didn&#39;t reimport any dependencies about tomcat, so i am very confuse about the sub-dependency&#39;version."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652838329,"post_id":72271664,"comment_id":127701179,"body_markdown":"@khmarbaise bro, it&#39;s too much another dependencies, but I promise that I don&#39;t find any dependencies about tomcat. By the way, this version is the version the company used before","body":"@khmarbaise bro, it&#39;s too much another dependencies, but I promise that I don&#39;t find any dependencies about tomcat. By the way, this version is the version the company used before"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652863198,"post_id":72271664,"comment_id":127706896,"body_markdown":"I guess you have another dependency in your project which uses it.. The version is different because another dependency pulls it in...without more informations or coming via the parent as you mentioned..but without the full pom its not possible to say...","body":"I guess you have another dependency in your project which uses it.. The version is different because another dependency pulls it in...without more informations or coming via the parent as you mentioned..but without the full pom its not possible to say..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652864711,"post_id":72271664,"comment_id":127707415,"body_markdown":"@khmarbaise, I know it. But the higher version is in this project&#39;s parent definition. Is that parent&#39;s version-control can override this project&#39;s definition?\n``` xml\n\t&lt;!-- Project dependencies --&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.6.RELEASE&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n```","body":"@khmarbaise, I know it. But the higher version is in this project&#39;s parent definition. Is that parent&#39;s version-control can override this project&#39;s definition? ``` xml \t&lt;!-- Project dependencies --&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;                         &lt;version&gt;2.3.6.RELEASE&lt;/version&gt; \t\t&lt;/dependency&gt; ```"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652864950,"post_id":72271664,"comment_id":127707519,"body_markdown":"Ah now that&#39;s the reason..because you are manually defining versions in your dependencies.. In a spring boot project you define the version of the dependencies via the parent (which uses spring-boot-dependencies) where all dependencies defined with their appropriate versions... and that&#39;s the reason. Furthermore a good reason why using an older version? Current spring boot 2.6.7 ...","body":"Ah now that&#39;s the reason..because you are manually defining versions in your dependencies.. In a spring boot project you define the version of the dependencies via the parent (which uses spring-boot-dependencies) where all dependencies defined with their appropriate versions... and that&#39;s the reason. Furthermore a good reason why using an older version? Current spring boot 2.6.7 ..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652865339,"post_id":72271664,"comment_id":127707676,"body_markdown":"@khmarbaise, This project is very old, if update spring-boot version , this could affect a lot of business. I just want to know, will the version defined in my current pom file be overwritten by the version defined by the parent project?","body":"@khmarbaise, This project is very old, if update spring-boot version , this could affect a lot of business. I just want to know, will the version defined in my current pom file be overwritten by the version defined by the parent project?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652867929,"post_id":72271664,"comment_id":127708710,"body_markdown":"But using such old stuff means very likely having security issues ... using old software is always dangerous...","body":"But using such old stuff means very likely having security issues ... using old software is always dangerous..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652890902,"post_id":72271664,"comment_id":127718482,"body_markdown":"I know, I will report the low version to the superior later, but this is not the main question I want to ask...","body":"I know, I will report the low version to the superior later, but this is not the main question I want to ask..."}],"answers":[{"tags":[],"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655459112,"creation_date":1655459112,"answer_id":72657429,"question_id":72271664,"body_markdown":"I got it.\r\nThere are two ways to solve this question\r\n1. exclude your sub-dependency and add a new version dependency.\r\n2. use &lt;dependencyManagement&gt;&lt;/dependencyManagement&gt; to control this denpendency","title":"Issues with version management in maven","body":"<p>I got it.\nThere are two ways to solve this question</p>\n<ol>\n<li>exclude your sub-dependency and add a new version dependency.</li>\n<li>use  to control this denpendency</li>\n</ol>\n"}],"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72657429,"answer_count":1,"score":1,"last_activity_date":1655459112,"creation_date":1652780593,"question_id":72271664,"body_markdown":"**The problem I encountered is this, here is the definition in my POM file**.\\\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nIn this dependency, It&#39;s having a sub-dependency which is starter-tomcat\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nBut In my maven tree \r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.0.0.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.3.6.RELEASE:compile\r\n\r\n```\r\nBy the way this project have a **parent**, In parent There is a 2.3.6 starter-webdependency.\r\n\\\r\nI want to know **why the sub-dependency starter-tomcat in the web-starter I referenced 2.0.0 is not the 2.0.0 I see, but 2.3.6 in the parent dependency**.","title":"Issues with version management in maven","body":"<p><strong>The problem I encountered is this, here is the definition in my POM file</strong>.\\</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In this dependency, It's having a sub-dependency which is starter-tomcat</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But In my maven tree</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.0.0.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.3.6.RELEASE:compile\n\n</code></pre>\n<p>By the way this project have a <strong>parent</strong>, In parent There is a 2.3.6 starter-webdependency.\n<br />\nI want to know <strong>why the sub-dependency starter-tomcat in the web-starter I referenced 2.0.0 is not the 2.0.0 I see, but 2.3.6 in the parent dependency</strong>.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655413316,"post_id":72651632,"comment_id":128333201,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1655415887,"post_id":72651632,"comment_id":128333930,"body_markdown":"`getValue(Long.class)` is returning null.  You&#39;re going to have to do some debugging to figure out why that is - we can&#39;t see based on the little you&#39;ve shown here.","body":"<code>getValue(Long.class)</code> is returning null.  You&#39;re going to have to do some debugging to figure out why that is - we can&#39;t see based on the little you&#39;ve shown here."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655451850,"post_id":72651632,"comment_id":128340205,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Besides that, please also add the entire code that you&#39;re using for reading the data.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Besides that, please also add the entire code that you&#39;re using for reading the data."},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655455026,"post_id":72651632,"comment_id":128341326,"body_markdown":"@AlexMamo I&#39;ve added more code that I used, but I couldn&#39;t figure out how to add the JSON file in stack overflow so I attached an image.","body":"@AlexMamo I&#39;ve added more code that I used, but I couldn&#39;t figure out how to add the JSON file in stack overflow so I attached an image."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655455252,"post_id":72651632,"comment_id":128341397,"body_markdown":"Have you tried to get the schema as mentioned in my previous comment?","body":"Have you tried to get the schema as mentioned in my previous comment?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655455903,"post_id":72651632,"comment_id":128341621,"body_markdown":"@AlexMamo Yes, I&#39;ve just edited and added the JSON code that I&#39;ve exported. I hope that is what you&#39;re looking for.","body":"@AlexMamo Yes, I&#39;ve just edited and added the JSON code that I&#39;ve exported. I hope that is what you&#39;re looking for."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655456430,"post_id":72651632,"comment_id":128341792,"body_markdown":"We need to see your structure, not only those values.","body":"We need to see your structure, not only those values."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1655456557,"post_id":72651632,"comment_id":128341831,"body_markdown":"Maybe there are some limitation according long values?","body":"Maybe there are some limitation according long values?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655456774,"post_id":72651632,"comment_id":128341891,"body_markdown":"@AlexMamo Currently, &quot;WeeklyDate&quot; and &quot;WeeklyPost&quot; are the only data in my firebase.","body":"@AlexMamo Currently, &quot;WeeklyDate&quot; and &quot;WeeklyPost&quot; are the only data in my firebase."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655457432,"post_id":72651632,"comment_id":128342081,"body_markdown":"Then I&#39;m not sure I understand. You only have two values in your database, and you want to display them into a RecycerView using an adapter?","body":"Then I&#39;m not sure I understand. You only have two values in your database, and you want to display them into a RecycerView using an adapter?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655457959,"post_id":72651632,"comment_id":128342230,"body_markdown":"@AlexMamo Yes, as it is a nested recycler view, for a layout file. I&#39;ve managed to fix the issue, thanks a lot for your help I was close to giving up, but the problem was not with Firebase.","body":"@AlexMamo Yes, as it is a nested recycler view, for a layout file. I&#39;ve managed to fix the issue, thanks a lot for your help I was close to giving up, but the problem was not with Firebase."}],"answers":[{"tags":[],"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655458087,"creation_date":1655458087,"answer_id":72657202,"question_id":72651632,"body_markdown":"Ive managed to fix the issue after some troubleshooting.\r\n\r\nI just had to instantiate a date value Date storedDate = new Date(); \r\nand convert Long into a Date value directly after grabbing it from firebase. That fixed my null error as well.","title":"Java : Unable to get Long value from Firebase","body":"<p>Ive managed to fix the issue after some troubleshooting.</p>\n<p>I just had to instantiate a date value Date storedDate = new Date();\nand convert Long into a Date value directly after grabbing it from firebase. That fixed my null error as well.</p>\n"}],"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72657202,"answer_count":1,"score":0,"last_activity_date":1655458087,"creation_date":1655411819,"question_id":72651632,"body_markdown":"I&#39;m currently trying to get my Long value under the name &quot;WeeklyDate&quot; to convert into a Date value but when I try referencing the Long value, it keeps returning a null error.\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;long java.lang.Long.longValue()&#39; on a null object reference\r\n\r\n\r\nThis is my current line:\r\n```\r\nweeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\r\n```\r\n\r\nReference Line:\r\n```\r\nDate storedDate = new Date(weeklyDate);\r\n```\r\n\r\nIve tried Instatianting the weeklyDate at the top of the class by doing:\r\n\r\n ```Long weeklyDate = 0L;``` and ```Long weeklyDate = new Long(1);``` The null error is gone, but the value is still wrong I&#39;ve checked.\r\n\r\nHere is the entire section of the code: \r\n```\r\npublic class HomeParentAdapter extends RecyclerView.Adapter&lt;HomeParentViewHolder&gt; {\r\n    ArrayList&lt;HomeParentData&gt; data;\r\n    Context c;\r\n    Integer random;\r\n\r\n    HomeMixData weekly_post = new HomeMixData();\r\n\r\n    DatabaseReference databaseReference;\r\n    FirebaseDatabase firebaseDatabase;\r\n    String weeklyPost;\r\n    Long weeklyDate = new Long(1);\r\n\r\n    public HomeParentAdapter(Context c, ArrayList&lt;HomeParentData&gt; data){\r\n        this.data = data;\r\n        this.c = c;\r\n    }\r\n\r\n    @Override\r\n    //getting position of viewholder, if its 0, return 0 else return 1\r\n    public int getItemViewType(int position) {\r\n        return (position == 0)?0:1;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public HomeParentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        //Setting layout file and doing rv of nested layout within parent RV if posiiton of viewholder == 0\r\n        View item;\r\n        HomeMix homeMix = new HomeMix();\r\n        if (viewType == 0){\r\n            //Inflating child layout within Parent RV\r\n            item = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.activity_home_child, null, false);\r\n\r\n            // Making Child RV for child layout within parent RV\r\n            ArrayList&lt;HomeChildData&gt; data = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;HomeMixData&gt; sortedMixList = homeMix.filterDT();\r\n            ArrayList&lt;HomeMixData&gt; randomMixList = homeMix.RandomData();\r\n\r\n            ImageView weekly_img = item.findViewById(R.id.weekly_img);\r\n            TextView weekly_title = item.findViewById(R.id.weekly_title);\r\n            TextView weekly_author = item.findViewById(R.id.weekly_author);\r\n\r\n\r\n            // Getting WEEKLY date &amp; post ID Values From Database\r\n            firebaseDatabase = FirebaseDatabase.getInstance();\r\n            databaseReference = firebaseDatabase.getReference();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                    Getting Weekly Items from database\r\n                    weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\r\n                    weeklyPost = snapshot.child(&quot;WeeklyPost&quot;).getValue(String.class);\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n            if (randomMixList.size() &gt; 0){\r\n                // post to retrieve for weekly feature determines randomly\r\n                final int random = new Random().nextInt(randomMixList.size());\r\n                ArrayList&lt;HomeMixData&gt; weekly_list = new ArrayList&lt;&gt;();\r\n                weekly_post = randomMixList.get(random);\r\n\r\n                //Getting Current Date Week\r\n                Date currentDate = new Date(System.currentTimeMillis());\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setFirstDayOfWeek(Calendar.MONDAY);\r\n                calendar.setMinimalDaysInFirstWeek(4);\r\n                calendar.setTime(currentDate);\r\n                int currentWeek = calendar.get(Calendar.WEEK_OF_YEAR);\r\n                Log.e(&quot;Week&quot;, &quot;Current&quot;+currentWeek);\r\n\r\n                //Getting Stored Date Week\r\n                Date storedDate = new Date(weeklyDate);\r\n                calendar = Calendar.getInstance();\r\n                calendar.setTime(storedDate);\r\n                int storedWeek = calendar.get(Calendar.WEEK_OF_YEAR);\r\n                Log.e(&quot;Week&quot;, &quot;Stored&quot;+storedWeek);\r\n\r\n                if (currentWeek != storedWeek){ // setting post and date if post has not been updated this week\r\n                    homeMix.setWeekly(weekly_post);\r\n                    Log.e(&quot;beef&quot;, &quot;false&quot;);\r\n                }\r\n                else{ // getting post from databse, if this week has been updated\r\n                    for(HomeMixData i : randomMixList){\r\n                        if (i.postID == weeklyPost){ // getting the object that matches the ID\r\n                            weekly_post = i;\r\n                            Log.e(&quot;beef&quot;, &quot;true&quot;);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                weekly_list.add(weekly_post); // can be passed to bundle\r\n                //Setting items of things in Weekly post using sortedMixList\r\n                if (weekly_post.identifier == true) { // if its Hawker Corner post\r\n                    weekly_title.setText(weekly_post.hcstallname);\r\n                    weekly_author.setText(&quot;By: &quot;+weekly_post.hcauthor);\r\n                    Picasso.get().load(weekly_post.hccoverimg).into(weekly_img);\r\n                }\r\n                else{// if its Recipe Corner post\r\n                    weekly_title.setText(weekly_post.recipeName);\r\n                    weekly_author.setText(weekly_post.userName);\r\n                    Picasso.get().load(weekly_post.foodImage).into(weekly_img);\r\n                }\r\n```\r\n\r\nHere is the Firebase information that I would like to retrieve:\r\n``` \r\n{\r\n  &quot;WeeklyDate&quot;: 1655453785645,\r\n  &quot;WeeklyPost&quot;: &quot;-N4h6xJSy_iC0WZ_2UjT&quot;\r\n}\r\n```\r\n\r\nThis is how I stored it into FIrebase:\r\n```\r\n       public void setWeekly(HomeMixData data) {\r\n        Long weeklyDate = System.currentTimeMillis();\r\n        String weeklyPostUID = data.postID;\r\n\r\n        // Put object into Firebase\r\n        databaseReferencetest = FirebaseDatabase.getInstance().getReference();\r\n        databaseReferencetest.child(&quot;WeeklyDate&quot;).setValue(weeklyDate);\r\n        databaseReferencetest.child(&quot;WeeklyPost&quot;).setValue(weeklyPostUID);\r\n    }\r\n```","title":"Java : Unable to get Long value from Firebase","body":"<p>I'm currently trying to get my Long value under the name &quot;WeeklyDate&quot; to convert into a Date value but when I try referencing the Long value, it keeps returning a null error.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'long java.lang.Long.longValue()' on a null object reference</p>\n</blockquote>\n<p>This is my current line:</p>\n<pre><code>weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\n</code></pre>\n<p>Reference Line:</p>\n<pre><code>Date storedDate = new Date(weeklyDate);\n</code></pre>\n<p>Ive tried Instatianting the weeklyDate at the top of the class by doing:</p>\n<p><code>Long weeklyDate = 0L;</code> and <code>Long weeklyDate = new Long(1);</code> The null error is gone, but the value is still wrong I've checked.</p>\n<p>Here is the entire section of the code:</p>\n<pre><code>public class HomeParentAdapter extends RecyclerView.Adapter&lt;HomeParentViewHolder&gt; {\n    ArrayList&lt;HomeParentData&gt; data;\n    Context c;\n    Integer random;\n\n    HomeMixData weekly_post = new HomeMixData();\n\n    DatabaseReference databaseReference;\n    FirebaseDatabase firebaseDatabase;\n    String weeklyPost;\n    Long weeklyDate = new Long(1);\n\n    public HomeParentAdapter(Context c, ArrayList&lt;HomeParentData&gt; data){\n        this.data = data;\n        this.c = c;\n    }\n\n    @Override\n    //getting position of viewholder, if its 0, return 0 else return 1\n    public int getItemViewType(int position) {\n        return (position == 0)?0:1;\n    }\n\n\n    @NonNull\n    @Override\n    public HomeParentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        //Setting layout file and doing rv of nested layout within parent RV if posiiton of viewholder == 0\n        View item;\n        HomeMix homeMix = new HomeMix();\n        if (viewType == 0){\n            //Inflating child layout within Parent RV\n            item = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.activity_home_child, null, false);\n\n            // Making Child RV for child layout within parent RV\n            ArrayList&lt;HomeChildData&gt; data = new ArrayList&lt;&gt;();\n            ArrayList&lt;HomeMixData&gt; sortedMixList = homeMix.filterDT();\n            ArrayList&lt;HomeMixData&gt; randomMixList = homeMix.RandomData();\n\n            ImageView weekly_img = item.findViewById(R.id.weekly_img);\n            TextView weekly_title = item.findViewById(R.id.weekly_title);\n            TextView weekly_author = item.findViewById(R.id.weekly_author);\n\n\n            // Getting WEEKLY date &amp; post ID Values From Database\n            firebaseDatabase = FirebaseDatabase.getInstance();\n            databaseReference = firebaseDatabase.getReference();\n            databaseReference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n//                    Getting Weekly Items from database\n                    weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\n                    weeklyPost = snapshot.child(&quot;WeeklyPost&quot;).getValue(String.class);\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n            if (randomMixList.size() &gt; 0){\n                // post to retrieve for weekly feature determines randomly\n                final int random = new Random().nextInt(randomMixList.size());\n                ArrayList&lt;HomeMixData&gt; weekly_list = new ArrayList&lt;&gt;();\n                weekly_post = randomMixList.get(random);\n\n                //Getting Current Date Week\n                Date currentDate = new Date(System.currentTimeMillis());\n                Calendar calendar = Calendar.getInstance();\n                calendar.setFirstDayOfWeek(Calendar.MONDAY);\n                calendar.setMinimalDaysInFirstWeek(4);\n                calendar.setTime(currentDate);\n                int currentWeek = calendar.get(Calendar.WEEK_OF_YEAR);\n                Log.e(&quot;Week&quot;, &quot;Current&quot;+currentWeek);\n\n                //Getting Stored Date Week\n                Date storedDate = new Date(weeklyDate);\n                calendar = Calendar.getInstance();\n                calendar.setTime(storedDate);\n                int storedWeek = calendar.get(Calendar.WEEK_OF_YEAR);\n                Log.e(&quot;Week&quot;, &quot;Stored&quot;+storedWeek);\n\n                if (currentWeek != storedWeek){ // setting post and date if post has not been updated this week\n                    homeMix.setWeekly(weekly_post);\n                    Log.e(&quot;beef&quot;, &quot;false&quot;);\n                }\n                else{ // getting post from databse, if this week has been updated\n                    for(HomeMixData i : randomMixList){\n                        if (i.postID == weeklyPost){ // getting the object that matches the ID\n                            weekly_post = i;\n                            Log.e(&quot;beef&quot;, &quot;true&quot;);\n                        }\n                    }\n                }\n\n                weekly_list.add(weekly_post); // can be passed to bundle\n                //Setting items of things in Weekly post using sortedMixList\n                if (weekly_post.identifier == true) { // if its Hawker Corner post\n                    weekly_title.setText(weekly_post.hcstallname);\n                    weekly_author.setText(&quot;By: &quot;+weekly_post.hcauthor);\n                    Picasso.get().load(weekly_post.hccoverimg).into(weekly_img);\n                }\n                else{// if its Recipe Corner post\n                    weekly_title.setText(weekly_post.recipeName);\n                    weekly_author.setText(weekly_post.userName);\n                    Picasso.get().load(weekly_post.foodImage).into(weekly_img);\n                }\n</code></pre>\n<p>Here is the Firebase information that I would like to retrieve:</p>\n<pre><code>{\n  &quot;WeeklyDate&quot;: 1655453785645,\n  &quot;WeeklyPost&quot;: &quot;-N4h6xJSy_iC0WZ_2UjT&quot;\n}\n</code></pre>\n<p>This is how I stored it into FIrebase:</p>\n<pre><code>       public void setWeekly(HomeMixData data) {\n        Long weeklyDate = System.currentTimeMillis();\n        String weeklyPostUID = data.postID;\n\n        // Put object into Firebase\n        databaseReferencetest = FirebaseDatabase.getInstance().getReference();\n        databaseReferencetest.child(&quot;WeeklyDate&quot;).setValue(weeklyDate);\n        databaseReferencetest.child(&quot;WeeklyPost&quot;).setValue(weeklyPostUID);\n    }\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","uuid"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624798103,"creation_date":1624796395,"answer_id":68151102,"question_id":68150511,"body_markdown":"Try defining the type for the field as Hibernate unable to understand the type by annotating field with `@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)`\r\n\r\n\r\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID id;","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>Try defining the type for the field as Hibernate unable to understand the type by annotating field with <code>@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)</code></p>\n<pre><code>@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\nprivate UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655458064,"creation_date":1655458064,"answer_id":72657194,"question_id":68150511,"body_markdown":"If specifying type didn&#39;t help you also can try smth like this:\r\n\r\n    public class UUIDConverter implements AttributeConverter&lt;UUID, String&gt; {\r\n        @Override\r\n        public String convertToDatabaseColumn(UUID attribute) {\r\n            return attribute == null ? null : attribute.toString();\r\n        }\r\n    \r\n        @Override\r\n        public UUID convertToEntityAttribute(String dbData) {\r\n            return dbData == null ? null : UUID.fromString(dbData);\r\n        }\r\n    }\r\n\r\nand modify you entity field:\r\n\r\n    @Convert(converter = UUIDConverter.class)\r\n    private UUID id;\r\n\r\nThis solution adds type conversion every time you retrieve entity and also requires you to place `@Convert` annotation for each uuid field, but as workaround this will do.\r\n\r\nAlso make sure that column in database has varchar/text type, otherwise it may fail(if you don&#39;t want to or can&#39;t replace types from uuid to varchar, just create view)","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>If specifying type didn't help you also can try smth like this:</p>\n<pre><code>public class UUIDConverter implements AttributeConverter&lt;UUID, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(UUID attribute) {\n        return attribute == null ? null : attribute.toString();\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(String dbData) {\n        return dbData == null ? null : UUID.fromString(dbData);\n    }\n}\n</code></pre>\n<p>and modify you entity field:</p>\n<pre><code>@Convert(converter = UUIDConverter.class)\nprivate UUID id;\n</code></pre>\n<p>This solution adds type conversion every time you retrieve entity and also requires you to place <code>@Convert</code> annotation for each uuid field, but as workaround this will do.</p>\n<p>Also make sure that column in database has varchar/text type, otherwise it may fail(if you don't want to or can't replace types from uuid to varchar, just create view)</p>\n"}],"owner":{"account_id":9599886,"reputation":3716,"user_id":7127824,"accept_rate":100,"display_name":"techkuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8630,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68151102,"answer_count":2,"score":6,"last_activity_date":1655458064,"creation_date":1624792081,"question_id":68150511,"body_markdown":"I have this repository:\r\n\r\n```\r\n@Repository\r\npublic interface DomainRepository extends CrudRepository&lt;Domain, String&gt; {\r\n    Domain findByUuid(UUID uuid);\r\n}\r\n```\r\n\r\nI have this entity:\r\n\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;a&quot;, schema=&quot;b&quot;)\r\npublic class Domain {\r\n    @Id\r\n    private String id;\r\n    private UUID uuid;\r\n\r\n}\r\n```\r\n\r\nBut when I do \r\n`Domain d = domainRepository.findByUuid(UUID.randomUUID());` \r\n\r\nI get `PSQLException: ERROR: operator does not exist: character varying = uuid` (column type in table is `VARCHAR`).\r\n\r\nHow to fix this?","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>I have this repository:</p>\n<pre><code>@Repository\npublic interface DomainRepository extends CrudRepository&lt;Domain, String&gt; {\n    Domain findByUuid(UUID uuid);\n}\n</code></pre>\n<p>I have this entity:</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;a&quot;, schema=&quot;b&quot;)\npublic class Domain {\n    @Id\n    private String id;\n    private UUID uuid;\n\n}\n</code></pre>\n<p>But when I do\n<code>Domain d = domainRepository.findByUuid(UUID.randomUUID());</code></p>\n<p>I get <code>PSQLException: ERROR: operator does not exist: character varying = uuid</code> (column type in table is <code>VARCHAR</code>).</p>\n<p>How to fix this?</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521007807,"creation_date":1521007807,"answer_id":49270799,"question_id":49270693,"body_markdown":"You bound your query parameters in the wrong order.  Look closely at the statement and then the updated code which follows:\r\n\r\n    String sql = &quot;UPDATE employees set firstName = ?, lastName = ?, gender = ?, &quot;;\r\n    sql += &quot;age = ?, position = ?, image = ? where employeeNum =?&quot;;\r\n\r\n    pst.setString(1, firstName);  // first parameter (?) in statement\r\n    pst.setString(2, lastName);\r\n    pst.setString(3, gender);\r\n    pst.setInt(4, age);\r\n    pst.setString(5, position);\r\n    pst.setString(6, image);\r\n    pst.setInt(7, employeeNum);   // LAST parameter (?) in statement","title":"Data truncation: Truncated incorrect DOUBLE value:","body":"<p>You bound your query parameters in the wrong order.  Look closely at the statement and then the updated code which follows:</p>\n\n<pre><code>String sql = \"UPDATE employees set firstName = ?, lastName = ?, gender = ?, \";\nsql += \"age = ?, position = ?, image = ? where employeeNum =?\";\n\npst.setString(1, firstName);  // first parameter (?) in statement\npst.setString(2, lastName);\npst.setString(3, gender);\npst.setInt(4, age);\npst.setString(5, position);\npst.setString(6, image);\npst.setInt(7, employeeNum);   // LAST parameter (?) in statement\n</code></pre>\n"}],"owner":{"account_id":11677117,"reputation":188,"user_id":8550262,"display_name":"sm0keman1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2760,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49270799,"answer_count":1,"score":0,"last_activity_date":1655457679,"creation_date":1521007339,"question_id":49270693,"body_markdown":"I have been trying to solve this for hours and I have no idea why this is happening. I keep on getting this error when trying to update one of my &quot;Employees&quot; with my GUI that I made.\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Truncated incorrect DOUBLE value: &#39;test&#39;\r\n\r\nWhenever I click an employee in my TableView, and then change the field of something, I would get that. Here is a picture of my GUI:\r\n\r\n[![employee records][1]][1]\r\n\r\n\r\nNothing in my data table is a DOUBLE, they all are like this:\r\n\r\n[![mysql data table][2]][2]\r\n\r\nI have googled everywhere and it all says it relates to syntax for my SQL query but that looks fine so I do not know why.\r\n\r\nHere is the code for my Update button:\r\n\r\n    \r\n    public void handleUpdateEmployee(ActionEvent event) {\r\n        String sql = &quot;UPDATE employees set firstName = ?, lastName = ?, gender = ?, age = ?, position = ?, image = ? where employeeNum =?&quot;;\r\n        try {\r\n            Integer employeeNum = Integer.valueOf(employeeNumField.getText());\r\n            String firstName = firstNameField.getText();\r\n            String lastName = lastNameField.getText();\r\n            String gender = genderField.getText();\r\n            Integer age = Integer.valueOf(ageField.getText());\r\n            String position = positionField.getText();\r\n            String image = imageField.getText();\r\n\r\n            pst = con.prepareStatement(sql);\r\n            pst.setInt(1, employeeNum);\r\n            pst.setString(2, firstName);\r\n            pst.setString(3, lastName);\r\n            pst.setString(4, gender);\r\n            pst.setInt(5, age);\r\n            pst.setString(6, position);\r\n            pst.setString(7, image);\r\n\r\n            pst.executeUpdate();\r\n            loadEmployeeData();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWould appreciate any help and if you need any more details, let me know!\r\n\r\n  [1]: https://i.stack.imgur.com/sxDj1.png\r\n  [2]: https://i.stack.imgur.com/wkeF6.png","title":"Data truncation: Truncated incorrect DOUBLE value:","body":"<p>I have been trying to solve this for hours and I have no idea why this is happening. I keep on getting this error when trying to update one of my \"Employees\" with my GUI that I made.</p>\n\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Truncated incorrect DOUBLE value: 'test'\n</code></pre>\n\n<p>Whenever I click an employee in my TableView, and then change the field of something, I would get that. Here is a picture of my GUI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sxDj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sxDj1.png\" alt=\"employee records\"></a></p>\n\n<p>Nothing in my data table is a DOUBLE, they all are like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wkeF6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wkeF6.png\" alt=\"mysql data table\"></a></p>\n\n<p>I have googled everywhere and it all says it relates to syntax for my SQL query but that looks fine so I do not know why.</p>\n\n<p>Here is the code for my Update button:</p>\n\n<pre><code>public void handleUpdateEmployee(ActionEvent event) {\n    String sql = \"UPDATE employees set firstName = ?, lastName = ?, gender = ?, age = ?, position = ?, image = ? where employeeNum =?\";\n    try {\n        Integer employeeNum = Integer.valueOf(employeeNumField.getText());\n        String firstName = firstNameField.getText();\n        String lastName = lastNameField.getText();\n        String gender = genderField.getText();\n        Integer age = Integer.valueOf(ageField.getText());\n        String position = positionField.getText();\n        String image = imageField.getText();\n\n        pst = con.prepareStatement(sql);\n        pst.setInt(1, employeeNum);\n        pst.setString(2, firstName);\n        pst.setString(3, lastName);\n        pst.setString(4, gender);\n        pst.setInt(5, age);\n        pst.setString(6, position);\n        pst.setString(7, image);\n\n        pst.executeUpdate();\n        loadEmployeeData();\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Would appreciate any help and if you need any more details, let me know!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1655429044,"post_id":72653388,"comment_id":128336078,"body_markdown":"Iterate the list and simply save the desired items to a new list. What have you tried so far? How are you representing this data in code? And what issues are you facing that stop you from doing this?","body":"Iterate the list and simply save the desired items to a new list. What have you tried so far? How are you representing this data in code? And what issues are you facing that stop you from doing this?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655435101,"post_id":72653388,"comment_id":128336954,"body_markdown":"Please share any code you have tried, any attempt (even if it isn&#39;t working). Also, this might be useful to read: [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Please share any code you have tried, any attempt (even if it isn&#39;t working). Also, this might be useful to read: <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655456849,"creation_date":1655430172,"answer_id":72653515,"question_id":72653388,"body_markdown":"Try this.\r\n\r\n    record Approval(String title, boolean approved) {}\r\n    record Employee(int id, String employee_name, List&lt;Approval&gt; approval) {}\r\n\r\n    List&lt;Employee&gt; employees = List.of(\r\n        new Employee(1, &quot;Johny Doe&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))),\r\n        new Employee(2, &quot;Jane Doe&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, false))),\r\n        new Employee(3, &quot;Falcon X&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))));\r\n\r\n    Approval m1 = new Approval(&quot;Manager 1&quot;, true),\r\n             m2 = new Approval(&quot;Manager 2&quot;, true);\r\n\r\n    List&lt;Employee&gt; result = employees.stream()\r\n        .filter(e -&gt; e.approval.contains(m1) &amp;&amp; e.approval.contains(m2))\r\n        .toList();\r\n\r\n    for (Employee e : result)\r\n        System.out.println(e);\r\n\r\noutput:\r\n\r\n    Employee[id=1, employee_name=Johny Doe, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\r\n    Employee[id=3, employee_name=Falcon X, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\r\n\r\nIf you use ```class``` instead of ```record```, you need to override ```equals()``` and ```hashCode()``` appropriately.\r\n","title":"How to get a list from another list in Java","body":"<p>Try this.</p>\n<pre><code>record Approval(String title, boolean approved) {}\nrecord Employee(int id, String employee_name, List&lt;Approval&gt; approval) {}\n\nList&lt;Employee&gt; employees = List.of(\n    new Employee(1, &quot;Johny Doe&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))),\n    new Employee(2, &quot;Jane Doe&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, false))),\n    new Employee(3, &quot;Falcon X&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))));\n\nApproval m1 = new Approval(&quot;Manager 1&quot;, true),\n         m2 = new Approval(&quot;Manager 2&quot;, true);\n\nList&lt;Employee&gt; result = employees.stream()\n    .filter(e -&gt; e.approval.contains(m1) &amp;&amp; e.approval.contains(m2))\n    .toList();\n\nfor (Employee e : result)\n    System.out.println(e);\n</code></pre>\n<p>output:</p>\n<pre><code>Employee[id=1, employee_name=Johny Doe, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\nEmployee[id=3, employee_name=Falcon X, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\n</code></pre>\n<p>If you use <code>class</code> instead of <code>record</code>, you need to override <code>equals()</code> and <code>hashCode()</code> appropriately.</p>\n"}],"owner":{"account_id":25576218,"reputation":11,"user_id":19355617,"display_name":"Valindom"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655644083,"accepted_answer_id":72653515,"answer_count":1,"score":0,"last_activity_date":1655456849,"creation_date":1655428676,"question_id":72653388,"body_markdown":"I wanna ask some thing\r\nLet&#39;s say I have list of employee, and each employee contains list of approvals.\r\n\r\nAnd it looks like this\r\n\r\n    &quot;employeeList&quot;: [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;employee_name&quot;: &quot;Johny Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;employee_name&quot;: &quot;Jane Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: false\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;employee_name&quot;: &quot;Falcon X&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    }]\r\n\r\nthe thing is I wanna show list which only approved by Manager 1 and Manager 2,\r\nthis is what it looks like\r\n\r\n    &quot;employeeList&quot;: [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;employee_name&quot;: &quot;Johny Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;employee_name&quot;: &quot;Falcon X&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    }]\r\n\r\nHow to achieve this is in Java ?\r\nCan I have suggestion ?\r\nAny suggestion would be helped\r\n\r\nThanks in advance","title":"How to get a list from another list in Java","body":"<p>I wanna ask some thing\nLet's say I have list of employee, and each employee contains list of approvals.</p>\n<p>And it looks like this</p>\n<pre><code>&quot;employeeList&quot;: [\n{\n    &quot;id&quot;: 1,\n    &quot;employee_name&quot;: &quot;Johny Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n},\n{\n    &quot;id&quot;: 2,\n    &quot;employee_name&quot;: &quot;Jane Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: false\n        }\n    ]\n},\n{\n    &quot;id&quot;: 3,\n    &quot;employee_name&quot;: &quot;Falcon X&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n}]\n</code></pre>\n<p>the thing is I wanna show list which only approved by Manager 1 and Manager 2,\nthis is what it looks like</p>\n<pre><code>&quot;employeeList&quot;: [\n{\n    &quot;id&quot;: 1,\n    &quot;employee_name&quot;: &quot;Johny Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n},\n{\n    &quot;id&quot;: 3,\n    &quot;employee_name&quot;: &quot;Falcon X&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n}]\n</code></pre>\n<p>How to achieve this is in Java ?\nCan I have suggestion ?\nAny suggestion would be helped</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","unit-testing","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":1,"creation_date":1655293530,"post_id":72628487,"comment_id":128296919,"body_markdown":"Can you provide the error message of the test? Also, can you provide `getTransactionProvider` method implementation so I can reproduce your test?","body":"Can you provide the error message of the test? Also, can you provide <code>getTransactionProvider</code> method implementation so I can reproduce your test?"},{"owner":{"account_id":15708484,"reputation":85,"user_id":11334569,"display_name":"Leofierus"},"score":0,"creation_date":1655354324,"post_id":72628487,"comment_id":128313891,"body_markdown":"Here&#39;s the error for the Test for Exception:  org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.\n\nAnd I tried returning a ListenableFuture for the former unit test but it was giving me zero percent code coverage for the required code.","body":"Here&#39;s the error for the Test for Exception:  org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.  And I tried returning a ListenableFuture for the former unit test but it was giving me zero percent code coverage for the required code."},{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1655385544,"post_id":72628487,"comment_id":128323493,"body_markdown":"You can  write callbacks instead of blocking the main thread execution by calling get in future object","body":"You can  write callbacks instead of blocking the main thread execution by calling get in future object"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655301792,"creation_date":1655301436,"answer_id":72632778,"question_id":72628487,"body_markdown":"If I understood your question, you should return a new SendResult that would have the methods implemented with the data you expect\r\n\r\nhttps://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html\r\n\r\nAnd wrap it in a Future\r\n\r\n`ListenableFuture&lt;SendResult&lt;K,​V&gt;&gt;`\r\n\r\nAlternatively, make `sendMessage` void method (or return a Future itself), and pass in a producer callback parameter that&#39;s carried through to send, rather than making it block. Then you can assert the response of the callback ","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>If I understood your question, you should return a new SendResult that would have the methods implemented with the data you expect</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html</a></p>\n<p>And wrap it in a Future</p>\n<p><code>ListenableFuture&lt;SendResult&lt;K,​V&gt;&gt;</code></p>\n<p>Alternatively, make <code>sendMessage</code> void method (or return a Future itself), and pass in a producer callback parameter that's carried through to send, rather than making it block. Then you can assert the response of the callback</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386114,"creation_date":1655385688,"answer_id":72646580,"question_id":72628487,"body_markdown":"Welcome to SO...\r\n\r\nWhy does your test case fail?\r\nBecause your logic will not throw an error.\r\n\r\nYour function will not throw an exception since you catch the exception inside the function as follow and you return boolean value.\r\n\r\n```\r\ncatch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        return false;\r\n    }\r\n```\r\n\r\nIn that case, you need to test whether the function returns false or not.\r\n\r\n\r\nAs I commented earlier, don&#39;t block the main thread by calling the get method in the future object. You can simply implement the future callbacks which can be invoked once you get the result as following\r\n\r\n\r\n```java\r\npublic void sendMessage(ReceivedMessage message) {\r\n    private String topicName = &quot;output-flow&quot;;\r\n    try{\r\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\r\n          ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future  = kafkaProducer.send(topicName, message);\r\n\r\n\r\n                future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\r\n    \r\n                    @Override\r\n                    public void onSuccess(SendResult&lt;String, String&gt; result) {\r\n    \r\n                        System.out.println(&quot;Message Sent  &quot; + result.getRecordMetadata().timestamp());\r\n                        //your logic for the success scenario    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(Throwable ex) {\r\n    \r\n                        System.out.println(&quot; sending failed  &quot;);\r\n// your logic if failed\r\nthrow new RuntimeException(&quot;Kafka Failed&quot;);\r\n   \r\n    \r\n                    }\r\n                });\r\n    \r\n    } catch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        throw new RuntimeException(&quot;Exception occurred&quot;);\r\n    }\r\n}\r\n","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>Welcome to SO...</p>\n<p>Why does your test case fail?\nBecause your logic will not throw an error.</p>\n<p>Your function will not throw an exception since you catch the exception inside the function as follow and you return boolean value.</p>\n<pre><code>catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        return false;\n    }\n</code></pre>\n<p>In that case, you need to test whether the function returns false or not.</p>\n<p>As I commented earlier, don't block the main thread by calling the get method in the future object. You can simply implement the future callbacks which can be invoked once you get the result as following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendMessage(ReceivedMessage message) {\n    private String topicName = &quot;output-flow&quot;;\n    try{\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\n          ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future  = kafkaProducer.send(topicName, message);\n\n\n                future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\n    \n                    @Override\n                    public void onSuccess(SendResult&lt;String, String&gt; result) {\n    \n                        System.out.println(&quot;Message Sent  &quot; + result.getRecordMetadata().timestamp());\n                        //your logic for the success scenario    \n                    }\n    \n                    @Override\n                    public void onFailure(Throwable ex) {\n    \n                        System.out.println(&quot; sending failed  &quot;);\n// your logic if failed\nthrow new RuntimeException(&quot;Kafka Failed&quot;);\n   \n    \n                    }\n                });\n    \n    } catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        throw new RuntimeException(&quot;Exception occurred&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15708484,"reputation":85,"user_id":11334569,"display_name":"Leofierus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655456845,"creation_date":1655283329,"question_id":72628487,"body_markdown":"I am trying to create a unit test for my Kafka Producer which is integrated into a file. Here&#39;s my Kafka Producer:\r\n```\r\nFileName: MessageProducer.java\r\n\r\npublic boolean sendMessage(ReceivedMessage message) {\r\n    private String topicName = &quot;output-flow&quot;;\r\n    try{\r\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\r\n        kafkaProducer.send(topicName, message).get();\r\n        return true;\r\n    } catch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        return false;\r\n    }\r\n}\r\n```\r\nAnd here is what I have done so far for my unit test, obviously, with not success at all:\r\n```\r\n@Mock\r\nprivate KafkaTemplate&lt;String, ReceivedMessage &gt; kafkaProducer;\r\n\r\nprivate static final String TRANSACTION_TOPIC = &quot;test&quot;;\r\n\r\n// Function for parameterized values\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;getTransactionProvider&quot;)\r\npublic void sendMessageTest(ReceivedMessage message) {\r\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\r\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenReturn({no idea what to put here});\r\n    when(mockProducer.sendMessage(message)).thenReturn(true);\r\n    assertTrue(mockProducer.sendMessage(message));\r\n}\r\n\r\n// Test for exception\r\n// Fails too\r\n@ParameterizedTest\r\n@MethodSource(&quot;getTransactionProvider&quot;)\r\npublic void sendMessageTest_ThrowsException(ReceivedMessage message) {\r\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\r\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenThrow(new RuntimeException());\r\n    assertThrows(RuntimeException.class, () -&gt; mockProducer.sendMessage(null));\r\n}\r\n```\r\n\r\nI get `Exception: org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.` for the latter unit test.","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>I am trying to create a unit test for my Kafka Producer which is integrated into a file. Here's my Kafka Producer:</p>\n<pre><code>FileName: MessageProducer.java\n\npublic boolean sendMessage(ReceivedMessage message) {\n    private String topicName = &quot;output-flow&quot;;\n    try{\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\n        kafkaProducer.send(topicName, message).get();\n        return true;\n    } catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        return false;\n    }\n}\n</code></pre>\n<p>And here is what I have done so far for my unit test, obviously, with not success at all:</p>\n<pre><code>@Mock\nprivate KafkaTemplate&lt;String, ReceivedMessage &gt; kafkaProducer;\n\nprivate static final String TRANSACTION_TOPIC = &quot;test&quot;;\n\n// Function for parameterized values\n\n@ParameterizedTest\n@MethodSource(&quot;getTransactionProvider&quot;)\npublic void sendMessageTest(ReceivedMessage message) {\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenReturn({no idea what to put here});\n    when(mockProducer.sendMessage(message)).thenReturn(true);\n    assertTrue(mockProducer.sendMessage(message));\n}\n\n// Test for exception\n// Fails too\n@ParameterizedTest\n@MethodSource(&quot;getTransactionProvider&quot;)\npublic void sendMessageTest_ThrowsException(ReceivedMessage message) {\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenThrow(new RuntimeException());\n    assertThrows(RuntimeException.class, () -&gt; mockProducer.sendMessage(null));\n}\n</code></pre>\n<p>I get <code>Exception: org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.</code> for the latter unit test.</p>\n"},{"tags":["java","email","amazon-ec2","smtp","amazon-ses"],"answers":[{"tags":[],"owner":{"account_id":2454188,"reputation":10663,"user_id":2139766,"accept_rate":100,"display_name":"AnFi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655456377,"creation_date":1374152059,"answer_id":17724054,"question_id":17721578,"body_markdown":"Passing outgoing SMTP (25) port connections bloc\r\n==\r\n\r\nTry sending your email via email-smtp.us-east-1.amazonaws.com:587.\r\n\r\nOutgoing connections to SMTP (25) port may be blocked by a firewall to stop outgoing spam. \r\n\r\nCan you telnet any of the two ports? Do you get SMTP greeting messages?\r\n\r\n    telnet email-smtp.us-east-1.amazonaws.com 25\r\n    telnet email-smtp.us-east-1.amazonaws.com 587\r\n\r\nhttps://en.wikipedia.org/wiki/Mail_submission_agent\r\n&gt; Many Internet service providers and enterprise or institutional networks restrict the ability to connect to remote MTAs on port 25. The accessibility of a Mail Submission Agent on port 587[1] enables nomadic users to continue to send mail via their preferred submission servers even from within others&#39; network","title":"Suddenly not able to send email by amazon SES - unable to connect smtp host","body":"<h1>Passing outgoing SMTP (25) port connections bloc</h1>\n<p>Try sending your email via email-smtp.us-east-1.amazonaws.com:587.</p>\n<p>Outgoing connections to SMTP (25) port may be blocked by a firewall to stop outgoing spam.</p>\n<p>Can you telnet any of the two ports? Do you get SMTP greeting messages?</p>\n<pre><code>telnet email-smtp.us-east-1.amazonaws.com 25\ntelnet email-smtp.us-east-1.amazonaws.com 587\n</code></pre>\n<p><a href=\"https://en.wikipedia.org/wiki/Mail_submission_agent\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Mail_submission_agent</a></p>\n<blockquote>\n<p>Many Internet service providers and enterprise or institutional networks restrict the ability to connect to remote MTAs on port 25. The accessibility of a Mail Submission Agent on port 587[1] enables nomadic users to continue to send mail via their preferred submission servers even from within others' network</p>\n</blockquote>\n"}],"owner":{"account_id":296292,"reputation":3362,"user_id":601168,"accept_rate":50,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655456377,"creation_date":1374145128,"question_id":17721578,"body_markdown":"I am using Amazon SES from almost 4 months with same code, same port number(25) everything same. But from past 1 week I am not able to send email - while sending this error comes:\r\n\r\nThe email was not sent.&lt;br/&gt;\r\nError message: Could not connect to SMTP host: email-smtp.us-east-1.amazonaws.com, port: 25\r\n\r\nI am using the same code for sending email that amazon suggests to use from link (http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html)\r\n\r\nWe are working on a website project and using it inside it. Its not a problem with me alone, my team members of 4 working under same internet gateway, all of them are not able to send email from 1 week from their **localhost**.\r\n\r\nBut when we deploy the same code on Amazon ec2, top-level domain say **sample.com** then it starts working but when we deploy the same code under a sub-domain say **beta.sample.com** then again same error starts coming.\r\n\r\nDoes anyone have any idea about this?","title":"Suddenly not able to send email by amazon SES - unable to connect smtp host","body":"<p>I am using Amazon SES from almost 4 months with same code, same port number(25) everything same. But from past 1 week I am not able to send email - while sending this error comes:</p>\n\n<p>The email was not sent.<br/>\nError message: Could not connect to SMTP host: email-smtp.us-east-1.amazonaws.com, port: 25</p>\n\n<p>I am using the same code for sending email that amazon suggests to use from link (<a href=\"http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html</a>)</p>\n\n<p>We are working on a website project and using it inside it. Its not a problem with me alone, my team members of 4 working under same internet gateway, all of them are not able to send email from 1 week from their <strong>localhost</strong>.</p>\n\n<p>But when we deploy the same code on Amazon ec2, top-level domain say <strong>sample.com</strong> then it starts working but when we deploy the same code under a sub-domain say <strong>beta.sample.com</strong> then again same error starts coming.</p>\n\n<p>Does anyone have any idea about this?</p>\n"},{"tags":["java","spring-boot","cqrs","axon"],"comments":[{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1654934119,"post_id":72579688,"comment_id":128214465,"body_markdown":"Make sure your `associationProperty` is correct on your handlers and for the associations you set from previous handlers. Also are you sure your `ProductReservedEvent` is properly published?","body":"Make sure your <code>associationProperty</code> is correct on your handlers and for the associations you set from previous handlers. Also are you sure your <code>ProductReservedEvent</code> is properly published?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1655060297,"post_id":72579688,"comment_id":128235443,"body_markdown":"Could you share the code responsible for handling the ReserveProductCommand?","body":"Could you share the code responsible for handling the ReserveProductCommand?"}],"answers":[{"tags":[],"owner":{"account_id":19911713,"reputation":65,"user_id":14589598,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655456067,"creation_date":1655456067,"answer_id":72656737,"question_id":72579688,"body_markdown":"I think the issue is that an @Eventhandler is called after an AggregateLifecycle.apply() and the commandGateway.send(reserveProductCommand); will trigger an @Command annotated method.\r\n\r\nSo there is a mixup with the annotations in the expected flow.","title":"Calling next event in saga - Axon","body":"<p>I think the issue is that an @Eventhandler is called after an AggregateLifecycle.apply() and the commandGateway.send(reserveProductCommand); will trigger an @Command annotated method.</p>\n<p>So there is a mixup with the annotations in the expected flow.</p>\n"}],"owner":{"account_id":25484140,"reputation":1,"user_id":19279946,"display_name":"Shahbaz Azam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655456067,"creation_date":1654894127,"question_id":72579688,"body_markdown":"I have 2 events OrderCreatedEvent and ProductReservedEvent. Saga event handlers are as follows:\r\n``` \r\n    @StartSaga\r\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(OrderCreatedEvent event){\r\n        LOGGER.info(&quot;Saga Started - OrderCreatedEvent&quot;);\r\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand.builder()\r\n                .orderId(event.getOrderId())\r\n                .productId(event.getProductId())\r\n                .orderId(event.getOrderId())\r\n                .quantity(event.getQuantity())\r\n                .userId(event.getUserId())\r\n                .build();\r\n\r\n        LOGGER.info(&quot;Created Reserve Product Command&quot;);\r\n\r\n//        SagaLifecycle.associateWith(&quot;userId&quot;, event.getUserId()); //not working\r\n        LOGGER.info(&quot;Will call next event in saga&quot;);\r\n        commandGateway.send(reserveProductCommand);\r\n    }\r\n```\r\n\r\n\r\n```\r\n@SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(ProductReservedEvent productReservedEvent){\r\n        LOGGER.info(&quot;Saga Step - ProductReservedEvent&quot;);\r\n        //Process under payment\r\n\r\n        String userId = productReservedEvent.getUserId();\r\n        FetchUserPaymentDetailsQuery fetchUserDetails = new FetchUserPaymentDetailsQuery(userId);\r\n\r\n        User userPaymentDetails = null;\r\n        try {\r\n            LOGGER.info(&quot;Querying User Service with id: {}&quot;,userId);\r\n            userPaymentDetails = queryGateway.query(fetchUserDetails, ResponseTypes.instanceOf(User.class)).join();\r\n        }catch (Exception exception){\r\n            LOGGER.error(exception.getLocalizedMessage());\r\n            //start compensating transaction\r\n            return;\r\n        }\r\n\r\n        if(userPaymentDetails == null){\r\n            //start compensating transaction\r\n            return;\r\n        }\r\n\r\n        LOGGER.error(&quot;Fetched user details for user {}&quot;,userPaymentDetails.getUserId());\r\n\r\n    }\r\n```\r\n\r\nThe problem is the handle() method of &quot;ProductReservedEvent&quot; is not getting invoked from &quot;handle(OrderCreatedEvent event)&quot; method.\r\n\r\n","title":"Calling next event in saga - Axon","body":"<p>I have 2 events OrderCreatedEvent and ProductReservedEvent. Saga event handlers are as follows:</p>\n<pre><code>    @StartSaga\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(OrderCreatedEvent event){\n        LOGGER.info(&quot;Saga Started - OrderCreatedEvent&quot;);\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand.builder()\n                .orderId(event.getOrderId())\n                .productId(event.getProductId())\n                .orderId(event.getOrderId())\n                .quantity(event.getQuantity())\n                .userId(event.getUserId())\n                .build();\n\n        LOGGER.info(&quot;Created Reserve Product Command&quot;);\n\n//        SagaLifecycle.associateWith(&quot;userId&quot;, event.getUserId()); //not working\n        LOGGER.info(&quot;Will call next event in saga&quot;);\n        commandGateway.send(reserveProductCommand);\n    }\n</code></pre>\n<pre><code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(ProductReservedEvent productReservedEvent){\n        LOGGER.info(&quot;Saga Step - ProductReservedEvent&quot;);\n        //Process under payment\n\n        String userId = productReservedEvent.getUserId();\n        FetchUserPaymentDetailsQuery fetchUserDetails = new FetchUserPaymentDetailsQuery(userId);\n\n        User userPaymentDetails = null;\n        try {\n            LOGGER.info(&quot;Querying User Service with id: {}&quot;,userId);\n            userPaymentDetails = queryGateway.query(fetchUserDetails, ResponseTypes.instanceOf(User.class)).join();\n        }catch (Exception exception){\n            LOGGER.error(exception.getLocalizedMessage());\n            //start compensating transaction\n            return;\n        }\n\n        if(userPaymentDetails == null){\n            //start compensating transaction\n            return;\n        }\n\n        LOGGER.error(&quot;Fetched user details for user {}&quot;,userPaymentDetails.getUserId());\n\n    }\n</code></pre>\n<p>The problem is the handle() method of &quot;ProductReservedEvent&quot; is not getting invoked from &quot;handle(OrderCreatedEvent event)&quot; method.</p>\n"},{"tags":["java","maven","gitlab"],"comments":[{"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"score":0,"creation_date":1580044661,"post_id":59914847,"comment_id":105960993,"body_markdown":"No, I did not ask the same question as before. The previous question was about deploying from GitLab -&gt; Heroku, where the maven compiler issue happened on Heroku&#39;s side. This one is about auto-deploying from GitLab -&gt; Kubernetes. In this case, I have no control over any variables in the GitLab setup.","body":"No, I did not ask the same question as before. The previous question was about deploying from GitLab -&gt; Heroku, where the maven compiler issue happened on Heroku&#39;s side. This one is about auto-deploying from GitLab -&gt; Kubernetes. In this case, I have no control over any variables in the GitLab setup."},{"owner":{"account_id":3491189,"reputation":125,"user_id":2920843,"accept_rate":100,"display_name":"Vijay Reddy"},"score":0,"creation_date":1580047857,"post_id":59914847,"comment_id":105961819,"body_markdown":"Did you verify that Java11 is available on gitlab runner where is it executing maven builds...?","body":"Did you verify that Java11 is available on gitlab runner where is it executing maven builds...?"},{"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"score":0,"creation_date":1580079714,"post_id":59914847,"comment_id":105970197,"body_markdown":"I am not sure how to do that - the entire process is run automatically. I would assume that is the issue, since it fails to find java version 11.","body":"I am not sure how to do that - the entire process is run automatically. I would assume that is the issue, since it fails to find java version 11."}],"answers":[{"tags":[],"owner":{"account_id":6209917,"reputation":61,"user_id":4836484,"display_name":"lmz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598170810,"creation_date":1598170810,"answer_id":63544818,"question_id":59914847,"body_markdown":"According to [this changelog post on Hiroku&#39;s devcenter][1], you have to create a file &#39;system.properties&#39; on your project, with this configuration in it:\r\n\r\n    java.runtime.version=11\r\n\r\nDuring the next deployment, the build phase will use OpenJDK 11.\r\n\r\n  [1]: https://devcenter.heroku.com/changelog-items/1489","title":"GitLab Auto DevOps issue with Java 11","body":"<p>According to <a href=\"https://devcenter.heroku.com/changelog-items/1489\" rel=\"noreferrer\">this changelog post on Hiroku's devcenter</a>, you have to create a file 'system.properties' on your project, with this configuration in it:</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n<p>During the next deployment, the build phase will use OpenJDK 11.</p>\n"},{"tags":[],"owner":{"account_id":11745184,"reputation":341,"user_id":8596153,"display_name":"Deepak Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655456058,"creation_date":1655456058,"answer_id":72656734,"question_id":59914847,"body_markdown":"Share your pipeline and error logs so that we can get to know what you are facing the issue.\r\n\r\nEven you can use the below pipeline to build your project, as per bit information shared by you that indicate you are facing issue while building your project with Gitlab:\r\n\r\nUse below pipeline to build:\r\n\r\n    Java_Build:\r\n      stage: build\r\n      image: \r\n        name: docker:20.10\r\n      services:\r\n        - docker:dind\r\n      before_script:\r\n        - apk update\r\n        - apk add openjdk8\r\n        - apk add maven\r\n      script:\r\n        - mvn clean install","title":"GitLab Auto DevOps issue with Java 11","body":"<p>Share your pipeline and error logs so that we can get to know what you are facing the issue.</p>\n<p>Even you can use the below pipeline to build your project, as per bit information shared by you that indicate you are facing issue while building your project with Gitlab:</p>\n<p>Use below pipeline to build:</p>\n<pre><code>Java_Build:\n  stage: build\n  image: \n    name: docker:20.10\n  services:\n    - docker:dind\n  before_script:\n    - apk update\n    - apk add openjdk8\n    - apk add maven\n  script:\n    - mvn clean install\n</code></pre>\n"}],"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1655456058,"creation_date":1580001815,"question_id":59914847,"body_markdown":"I am trying to use Auto DevOps on GitLab to deploy my Java 11 Spring Boot Maven project to Kubernetes. I am getting the following error:\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project ABC: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n\r\nThe project builds fine locally. Does anyone know how to fix this on GitLab?","title":"GitLab Auto DevOps issue with Java 11","body":"<p>I am trying to use Auto DevOps on GitLab to deploy my Java 11 Spring Boot Maven project to Kubernetes. I am getting the following error:</p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project ABC: Fatal error compiling: invalid target release: 11 -> [Help 1]</p>\n</blockquote>\n\n<p>The project builds fine locally. Does anyone know how to fix this on GitLab?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":4344975,"reputation":357,"user_id":3547202,"display_name":"zokxter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455899,"creation_date":1655455899,"answer_id":72656707,"question_id":66796102,"body_markdown":"I believe this is due to the fact that this library is developed using java 11 ( but also backward compatible with java 8 ) - it contains this file that defines a module in java 11. And I guess your weblogic has java 8 and then it cannot read this file and reports this error. But that doesn&#39;t mean the app won&#39;t work, like in my case where I have 4.0.3 with the same error in Weblogic server logs, but app is running ok.\r\n","title":"Weblogic 12c unable to parse class file hikaricp-3.4.5 module-info.class","body":"<p>I believe this is due to the fact that this library is developed using java 11 ( but also backward compatible with java 8 ) - it contains this file that defines a module in java 11. And I guess your weblogic has java 8 and then it cannot read this file and reports this error. But that doesn't mean the app won't work, like in my case where I have 4.0.3 with the same error in Weblogic server logs, but app is running ok.</p>\n"}],"owner":{"account_id":393418,"reputation":486,"user_id":755253,"accept_rate":46,"display_name":"Xiabili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1655455899,"creation_date":1616662815,"question_id":66796102,"body_markdown":"I am trying deploy a spring boot application to WebLogic 12c server, but it gives following errors:\r\n\r\n    Unable to parse class file: zip:/lfs/wwwmnt/wabe-Q7aZsBnB-t-app_node1/clusterDomain/servers/AdminSer\r\n    ver/tmp/_WL_user/hst-0.0.1-SNAPSHOT-2/b26a1z/war/WEB-INF/lib/HikariCP-3.4.5.jar!/META-INF/versions/11/module-info.class\r\n\r\nI have tried with different jdbc version but still cannot resolve this error.\r\n\r\nAny suggestion how to fix that?\r\n\r\n 1. SpringBoot 2.4.0\r\n 2. hibernateVersion 5.4.24.final\r\n 3. oracleJDBC 19.8.0.0\r\n 4. Weblogic 12c\r\n 5. Gradle\r\n\r\n","title":"Weblogic 12c unable to parse class file hikaricp-3.4.5 module-info.class","body":"<p>I am trying deploy a spring boot application to WebLogic 12c server, but it gives following errors:</p>\n<pre><code>Unable to parse class file: zip:/lfs/wwwmnt/wabe-Q7aZsBnB-t-app_node1/clusterDomain/servers/AdminSer\nver/tmp/_WL_user/hst-0.0.1-SNAPSHOT-2/b26a1z/war/WEB-INF/lib/HikariCP-3.4.5.jar!/META-INF/versions/11/module-info.class\n</code></pre>\n<p>I have tried with different jdbc version but still cannot resolve this error.</p>\n<p>Any suggestion how to fix that?</p>\n<ol>\n<li>SpringBoot 2.4.0</li>\n<li>hibernateVersion 5.4.24.final</li>\n<li>oracleJDBC 19.8.0.0</li>\n<li>Weblogic 12c</li>\n<li>Gradle</li>\n</ol>\n"},{"tags":["java","swing","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1360780365,"creation_date":1360780365,"answer_id":14860521,"question_id":14860479,"body_markdown":"If you look at the [javadoc][1], you will see that there is no `add` method in `JFrame`. However, several `add` methods are inherited from Container and Component, which are listed in the *Methods inherited from...* section.\r\n\r\n [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"When using JFrame, where does the add() method come from?","body":"<p>If you look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow\">javadoc</a>, you will see that there is no <code>add</code> method in <code>JFrame</code>. However, several <code>add</code> methods are inherited from Container and Component, which are listed in the <em>Methods inherited from...</em> section.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655455685,"creation_date":1360780383,"answer_id":14860529,"question_id":14860479,"body_markdown":"[JFrame#add][1] is an instance method that is inherited from `java.awt.Container`. It is not preceded by any instance here as you have subclassed a `JFrame` directly. Normally you are not adding any new functionality to the frame so the preferred approach is to create an instance directly and use:\r\n\r\n\r\n    JFrame myFrame = new JFrame();\r\n    ...\r\n    myFrame.add(...);\r\n\r\nCheck out the [javadoc][2] for all available methods.\r\n                                              \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#add%28java.awt.Component%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"When using JFrame, where does the add() method come from?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#add%28java.awt.Component%29\" rel=\"nofollow noreferrer\">JFrame#add</a> is an instance method that is inherited from <code>java.awt.Container</code>. It is not preceded by any instance here as you have subclassed a <code>JFrame</code> directly. Normally you are not adding any new functionality to the frame so the preferred approach is to create an instance directly and use:</p>\n<pre><code>JFrame myFrame = new JFrame();\n...\nmyFrame.add(...);\n</code></pre>\n<p>Check out the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">javadoc</a> for all available methods.</p>\n"},{"tags":[],"owner":{"account_id":1180152,"reputation":881,"user_id":1163231,"display_name":"Srikant Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780441,"creation_date":1360780441,"answer_id":14860544,"question_id":14860479,"body_markdown":"You can think of it as &quot;this.add&quot; as it is an inherited member from Container.","title":"When using JFrame, where does the add() method come from?","body":"<p>You can think of it as \"this.add\" as it is an inherited member from Container.</p>\n"},{"tags":[],"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780563,"creation_date":1360780563,"answer_id":14860576,"question_id":14860479,"body_markdown":"Class `HelloFrameMenu` would have to extend `JFrame` and the `add` method comes from [Container][1] and is used for adding visual components to the frame.  It would be more intelligible if `add` and `setSize` were prefixed with **super** (e.g. `super.add(...)`), which is what I always to to denote that the method comes from a superclass.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html","title":"When using JFrame, where does the add() method come from?","body":"<p>Class <code>HelloFrameMenu</code> would have to extend <code>JFrame</code> and the <code>add</code> method comes from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html\" rel=\"nofollow\">Container</a> and is used for adding visual components to the frame.  It would be more intelligible if <code>add</code> and <code>setSize</code> were prefixed with <strong>super</strong> (e.g. <code>super.add(...)</code>), which is what I always to to denote that the method comes from a superclass.</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780595,"creation_date":1360780595,"answer_id":14860586,"question_id":14860479,"body_markdown":"It&#39;s to do with Inheritance.  Java is an object oriented language which means that (almost) everything is an object. \r\n\r\nObjects can then be arranged in a hierarchy.  \r\neg a Cat object might extend an Animal object. It inherits all the behaviour (methods) of Animal,  and can add its own.\r\n\r\nIn your case, JFrame extends Container and Container has an add method. ","title":"When using JFrame, where does the add() method come from?","body":"<p>It's to do with Inheritance.  Java is an object oriented language which means that (almost) everything is an object. </p>\n\n<p>Objects can then be arranged in a hierarchy.<br>\neg a Cat object might extend an Animal object. It inherits all the behaviour (methods) of Animal,  and can add its own.</p>\n\n<p>In your case, JFrame extends Container and Container has an add method. </p>\n"}],"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14860521,"answer_count":5,"score":1,"last_activity_date":1655455685,"creation_date":1360780184,"question_id":14860479,"body_markdown":"I&#39;ve been roaming the Internet looking for an answer to this question, but have come up rather empty handed.   \r\n\r\nI&#39;m following a JFrame practical from university, and using my lecture notes and the advice on the practical guidance sheet I have this basic code:    \r\n\r\n\tpublic HelloFrameMenu()\r\n\t{\r\n\t\tmessage = &quot;Hello, World!&quot;;\r\n\t\tlabel = new JLabel(message);\r\n\t\tlabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, DEFAULT_SIZE));\r\n\t\tadd(label, BorderLayout.CENTER);\r\n\t\tcreateSouthPanel();\r\n\r\n\t\tsetSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n\t}\r\n\r\nThis creates a text message on my JPanel and executes the createSouthPanel() method which works fine and adds some menu lists to the JFrame.\r\n\r\nMy question is regarding the add function. I don&#39;t understand what this is part of. I thought if it was a static method, its class name would precede it. As it doesn&#39;t, I assumed it was part of the JFrame package or one of the classes automatically loaded by Java, but I can&#39;t find the method in either.\r\n\r\nWhere does this method come from?   \r\nWhy is it not preceded by anything?   \r\nWhat other methods can be used like this?   ","title":"When using JFrame, where does the add() method come from?","body":"<p>I've been roaming the Internet looking for an answer to this question, but have come up rather empty handed.   </p>\n\n<p>I'm following a JFrame practical from university, and using my lecture notes and the advice on the practical guidance sheet I have this basic code:    </p>\n\n<pre><code>public HelloFrameMenu()\n{\n    message = \"Hello, World!\";\n    label = new JLabel(message);\n    label.setFont(new Font(\"Serif\", Font.PLAIN, DEFAULT_SIZE));\n    add(label, BorderLayout.CENTER);\n    createSouthPanel();\n\n    setSize(FRAME_WIDTH, FRAME_HEIGHT);\n}\n</code></pre>\n\n<p>This creates a text message on my JPanel and executes the createSouthPanel() method which works fine and adds some menu lists to the JFrame.</p>\n\n<p>My question is regarding the add function. I don't understand what this is part of. I thought if it was a static method, its class name would precede it. As it doesn't, I assumed it was part of the JFrame package or one of the classes automatically loaded by Java, but I can't find the method in either.</p>\n\n<p>Where does this method come from?<br>\nWhy is it not preceded by anything?<br>\nWhat other methods can be used like this?   </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"score":0,"creation_date":1655455854,"post_id":72574584,"comment_id":128341607,"body_markdown":"it was bad code, without lazy initialization and TaskAction body","body":"it was bad code, without lazy initialization and TaskAction body"}],"answers":[{"tags":[],"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655455665,"creation_date":1655455665,"answer_id":72656664,"question_id":72574584,"body_markdown":"I made the following solution\r\n\r\n     \r\n    class QTypeGenerator extends DefaultTask {\r\n        @TaskAction\r\n        addDependencies() {\r\n            project.dependencies {\r\n                annotationProcessor(\r\n                        &#39;com.querydsl:querydsl-apt:4.1.4:jpa&#39;,\r\n                        &#39;javax.persistence:javax.persistence-api:2.2&#39;,\r\n                        &#39;javax.annotation:javax.annotation-api:1.3.1&#39;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.register(&quot;generateQTypeClasses&quot;, QTypeGenerator) {\r\n    \tgroup(&#39;build&#39;)\r\n    \tdescription(&#39;Generate Q-type classes by queryDsl in build directory with default path&#39;)\r\n    \tfinalizedBy(&#39;compileJava&#39;)\r\n    \tdoLast {\r\n    \t\tprintln(&quot;Q-types classes will gererated and stored in ${compileJava.options.annotationProcessorGeneratedSourcesDirectory}&quot;)\r\n    \t}\r\n    }\r\n\r\n","title":"How execute annotation processing in gradle separatly from build task","body":"<p>I made the following solution</p>\n<pre><code>class QTypeGenerator extends DefaultTask {\n    @TaskAction\n    addDependencies() {\n        project.dependencies {\n            annotationProcessor(\n                    'com.querydsl:querydsl-apt:4.1.4:jpa',\n                    'javax.persistence:javax.persistence-api:2.2',\n                    'javax.annotation:javax.annotation-api:1.3.1')\n        }\n    }\n}\n\ntasks.register(&quot;generateQTypeClasses&quot;, QTypeGenerator) {\n    group('build')\n    description('Generate Q-type classes by queryDsl in build directory with default path')\n    finalizedBy('compileJava')\n    doLast {\n        println(&quot;Q-types classes will gererated and stored in ${compileJava.options.annotationProcessorGeneratedSourcesDirectory}&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656664,"answer_count":1,"score":0,"last_activity_date":1655455665,"creation_date":1654865418,"question_id":72574584,"body_markdown":"I want to run QueryDsl Q-type generation in a separate task. I want that Q-type classes not to be created in a regular compileJava task, but the compiler sees the AnnotationProcessor in the classpath and creates them itself. I tried nulling the annotationProcessorPath, but then I couldn&#39;t restore its configuration in a separate task. \r\nMay be is it possible to exclude somehow dependencies of subtasks from the classpath?\r\n\r\n    compileJava {\r\n    \toptions.annotationProcessorPath = null\r\n    }\r\n    \r\n    tasks.register(&#39;generateQTypes&#39;){\r\n        group &#39;build&#39;\r\n        description &#39;Generate Q-Type classes with QueryDsl library&#39;\r\n        dependencies {\r\n            annotationProcessor(\r\n                    &#39;com.querydsl:querydsl-apt:4.1.4:jpa&#39;,\r\n                    &#39;javax.persistence:javax.persistence-api:2.2&#39;,\r\n                    &#39;javax.annotation:javax.annotation-api:1.3.1&#39;)\r\n        }\r\n        compileJava {\r\n    \t\toptions.annotationProcessorPath = classpath\r\n        }\r\n    }\r\n\r\nWhat is the best way to solve this problem?Thanks in advance!\r\n","title":"How execute annotation processing in gradle separatly from build task","body":"<p>I want to run QueryDsl Q-type generation in a separate task. I want that Q-type classes not to be created in a regular compileJava task, but the compiler sees the AnnotationProcessor in the classpath and creates them itself. I tried nulling the annotationProcessorPath, but then I couldn't restore its configuration in a separate task.\nMay be is it possible to exclude somehow dependencies of subtasks from the classpath?</p>\n<pre><code>compileJava {\n    options.annotationProcessorPath = null\n}\n\ntasks.register('generateQTypes'){\n    group 'build'\n    description 'Generate Q-Type classes with QueryDsl library'\n    dependencies {\n        annotationProcessor(\n                'com.querydsl:querydsl-apt:4.1.4:jpa',\n                'javax.persistence:javax.persistence-api:2.2',\n                'javax.annotation:javax.annotation-api:1.3.1')\n    }\n    compileJava {\n        options.annotationProcessorPath = classpath\n    }\n}\n</code></pre>\n<p>What is the best way to solve this problem?Thanks in advance!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":14663228,"reputation":66,"user_id":10589784,"display_name":"Saravanakumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1542205531,"creation_date":1542195225,"answer_id":53299263,"question_id":53298957,"body_markdown":"try this \r\n\r\n    response.body().get(finalI).getDeviceName().toString().replace(&quot;/&quot;,&quot;_&quot;)","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>try this </p>\n\n<pre><code>response.body().get(finalI).getDeviceName().toString().replace(\"/\",\"_\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542195370,"creation_date":1542195370,"answer_id":53299327,"question_id":53298957,"body_markdown":"The simplest method I can think of, is before you add the data to the database to find that forbidden `/` symbol and replace it with an allowed one, let&#39;s say `-` (minus).\r\n\r\n    String deviceName = response.body().get(finalI).getDeviceName().replaceAll(&quot;/&quot;, &quot;-&quot;);\r\n\r\nAnd then simply use in your reference like this:\r\n\r\n    firebaseFirestore.collection(&quot;Mobiles&quot;).document(deviceName);","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>The simplest method I can think of, is before you add the data to the database to find that forbidden <code>/</code> symbol and replace it with an allowed one, let's say <code>-</code> (minus).</p>\n\n<pre><code>String deviceName = response.body().get(finalI).getDeviceName().replaceAll(\"/\", \"-\");\n</code></pre>\n\n<p>And then simply use in your reference like this:</p>\n\n<pre><code>firebaseFirestore.collection(\"Mobiles\").document(deviceName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530469,"reputation":3134,"user_id":1427776,"accept_rate":73,"display_name":"Deven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655455464,"creation_date":1655455464,"answer_id":72656627,"question_id":53298957,"body_markdown":"**A possibility can be** \r\n\r\nMake sure your document name is not empty in my case it was empty then i also  got the same error:\r\n\r\neg:- \r\n\r\n    firebaseFirestore.collection(&quot;CollectionName&quot;).document(&quot;&quot;);\r\n\r\nThe above code will give the error:\r\n\r\n    java.lang.IllegalArgumentException: Invalid document reference. \r\n    Document references must have an even number of segments, but users has 1\r\n\r\n","title":"Invalid document reference. Document references must have an even number of segments","body":"<p><strong>A possibility can be</strong></p>\n<p>Make sure your document name is not empty in my case it was empty then i also  got the same error:</p>\n<p>eg:-</p>\n<pre><code>firebaseFirestore.collection(&quot;CollectionName&quot;).document(&quot;&quot;);\n</code></pre>\n<p>The above code will give the error:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid document reference. \nDocument references must have an even number of segments, but users has 1\n</code></pre>\n"}],"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7171,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53299263,"answer_count":3,"score":4,"last_activity_date":1655455464,"creation_date":1542194209,"question_id":53298957,"body_markdown":"I am querying a collection for documents using below code. Document names are same as device names. The device name is passed to the document from an API I am getting an error when a device name contains letter &quot;/&quot; like Motorola C380/C385.\r\nI get an error \r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid document reference.\r\n&gt; Document references must have an even number of segments, but\r\n&gt; Mobiles/Motorola C380/C385 has 3\r\n\r\n I know I am getting this error because FireStore considers the name C385 after slash as a collection inside a document. I want to know how to get rid of situations like this when a document name can contain a &quot;/&quot; should I check and remove this before inserting it into my collection or is there any better solution?  \r\n\r\n    firebaseFirestore.collection(&quot;Mobiles&quot;).document(response.body().get(finalI).getDeviceName())\r\n\r\n ","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>I am querying a collection for documents using below code. Document names are same as device names. The device name is passed to the document from an API I am getting an error when a device name contains letter \"/\" like Motorola C380/C385.\nI get an error </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Invalid document reference.\n  Document references must have an even number of segments, but\n  Mobiles/Motorola C380/C385 has 3</p>\n</blockquote>\n\n<p>I know I am getting this error because FireStore considers the name C385 after slash as a collection inside a document. I want to know how to get rid of situations like this when a document name can contain a \"/\" should I check and remove this before inserting it into my collection or is there any better solution?  </p>\n\n<pre><code>firebaseFirestore.collection(\"Mobiles\").document(response.body().get(finalI).getDeviceName())\n</code></pre>\n"},{"tags":["java","hibernate","hbmxml"],"comments":[{"owner":{"account_id":1184630,"reputation":1166,"user_id":1158854,"accept_rate":80,"display_name":"AlexZam"},"score":0,"creation_date":1655310618,"post_id":72628144,"comment_id":128304309,"body_markdown":"To follow the format just take the answer out to answers section and accept your answer.","body":"To follow the format just take the answer out to answers section and accept your answer."}],"answers":[{"tags":[],"owner":{"account_id":25215899,"reputation":11,"user_id":19053031,"display_name":"Zaleth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655455393,"creation_date":1655454913,"answer_id":72656500,"question_id":72628144,"body_markdown":"Now that I have finally got it to work again, here is what I&#39;ve learned:\r\nApparently, the boot context is unable to locate hibernate.cfg.xml, but fails silently. Inside HibernateUtil, I can use addResource and addAnnotatedClass because they use Java&#39;s class loader, so I need to list every HBM file and entity class before creating the session factory. Like so:\r\n```\r\npublic class HibernateUtil {\r\n  private static final SessionFactory sessionFactory;\r\n  private static ServiceRegistry serviceRegistry;\r\n\r\n  static {\r\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\r\n    configuration.addResource(&quot;path/to/my/mapping.hbm.xml&quot;);\r\n    configuration.addAnnotatedClass(my.package.for.Persistence.class);\r\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n      configuration.getProperties()).build();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n  }\r\n}\r\n```\r\nAnd now it works. The reason is that *most* file lookups are done relative to TomCat&#39;s working directory, but a select few use ClassLoader and can therefore more easily find resource files in the source tree.\r\n","title":"I upgraded to Hibernate 6.0 and now I get Unknown Entity errors","body":"<p>Now that I have finally got it to work again, here is what I've learned:\nApparently, the boot context is unable to locate hibernate.cfg.xml, but fails silently. Inside HibernateUtil, I can use addResource and addAnnotatedClass because they use Java's class loader, so I need to list every HBM file and entity class before creating the session factory. Like so:</p>\n<pre><code>public class HibernateUtil {\n  private static final SessionFactory sessionFactory;\n  private static ServiceRegistry serviceRegistry;\n\n  static {\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\n    configuration.addResource(&quot;path/to/my/mapping.hbm.xml&quot;);\n    configuration.addAnnotatedClass(my.package.for.Persistence.class);\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n      configuration.getProperties()).build();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n  }\n}\n</code></pre>\n<p>And now it works. The reason is that <em>most</em> file lookups are done relative to TomCat's working directory, but a select few use ClassLoader and can therefore more easily find resource files in the source tree.</p>\n"}],"owner":{"account_id":25215899,"reputation":11,"user_id":19053031,"display_name":"Zaleth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656500,"answer_count":1,"score":0,"last_activity_date":1655455393,"creation_date":1655281748,"question_id":72628144,"body_markdown":"Apologies for abusing the format, I&#39;m not really asking a question here but I sure wish this would have shown up when I started banging my head against this wall two weeks ago.\r\n\r\nI&#39;ve inherited several large Java projects, using Spring and running on Tomcat, and am upgrading the frameworks used by them. However, when I upgrade Hibernate I suddenly get **ExceptionInInitializer: root cause UnknownEntityException**. Our HibernateConf looks like so:\r\n```\r\npublic class HibernateUtil {\r\n  private static final SessionFactory sessionFactory;\r\n  private static ServiceRegistry serviceRegistry;\r\n\r\n  static {\r\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n      configuration.getProperties()).build();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n  }\r\n}\r\n```\r\nWe&#39;re still using hbm.xml to describe mappings, they are placed in individual files and included in **hibernate.cfg.xml**.\r\n","title":"I upgraded to Hibernate 6.0 and now I get Unknown Entity errors","body":"<p>Apologies for abusing the format, I'm not really asking a question here but I sure wish this would have shown up when I started banging my head against this wall two weeks ago.</p>\n<p>I've inherited several large Java projects, using Spring and running on Tomcat, and am upgrading the frameworks used by them. However, when I upgrade Hibernate I suddenly get <strong>ExceptionInInitializer: root cause UnknownEntityException</strong>. Our HibernateConf looks like so:</p>\n<pre><code>public class HibernateUtil {\n  private static final SessionFactory sessionFactory;\n  private static ServiceRegistry serviceRegistry;\n\n  static {\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\n\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n      configuration.getProperties()).build();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n  }\n}\n</code></pre>\n<p>We're still using hbm.xml to describe mappings, they are placed in individual files and included in <strong>hibernate.cfg.xml</strong>.</p>\n"},{"tags":["java","cassandra","cassandraunit"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1655455257,"post_id":72656086,"comment_id":128341399,"body_markdown":"Saisree , welcome to stackoverflow.  Assuming this is for intergration tests. Is testcontainers something you have evaluated ? There is a cassandra testcontainer that makes IT very easy to work. Not directly an answer , something to consider","body":"Saisree , welcome to stackoverflow.  Assuming this is for intergration tests. Is testcontainers something you have evaluated ? There is a cassandra testcontainer that makes IT very easy to work. Not directly an answer , something to consider"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455365,"creation_date":1655455365,"answer_id":72656604,"question_id":72656086,"body_markdown":"`FSWriteError` is a low-level filesystem error originating from the Java file utilities library. In my experience, this is usually caused by permission issues on the parent directories.\r\n\r\nCheck that you have read/write permissions on the filesystem and try again. Cheers!","title":"EmbeddedCassandra is not working with Cassandra Java driver 4.x","body":"<p><code>FSWriteError</code> is a low-level filesystem error originating from the Java file utilities library. In my experience, this is usually caused by permission issues on the parent directories.</p>\n<p>Check that you have read/write permissions on the filesystem and try again. Cheers!</p>\n"}],"owner":{"account_id":10575507,"reputation":43,"user_id":7790934,"display_name":"saisree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655455365,"creation_date":1655452626,"question_id":72656086,"body_markdown":"I was using cassandra-unit 3.5.0.1 with cassandra-driver-core 3.6.0.\r\nMy application was running fine. \r\n\r\nNow when I try to upgrade to java-driver-core 4.3.1 and cassandra-unit 4.3.1.0, I am getting error when I try to run my tests in maven. \r\n\r\n```\r\nCaused by: java.io.IOException: Unable to open hint directory\r\n```\r\n\r\nBelow error is coming\r\n\r\n```\r\n&quot;time=&quot;2022-06-17T07:13:30.945Z&quot; level=&quot;ERROR&quot; msg=&quot;[org.apache.cassandra.service.CassandraDaemon:228][BatchlogTasks:1]\r\nException in thread Thread[BatchlogTasks:1,5,main]java.lang.RuntimeException: \\\r\n  java.util.concurrent.ExecutionException: \\\r\n    FSWriteError in C:\\service\\target\\embeddedCassandra\\hints&quot;\r\n```\r\n\r\nCan some one help me out.","title":"EmbeddedCassandra is not working with Cassandra Java driver 4.x","body":"<p>I was using cassandra-unit 3.5.0.1 with cassandra-driver-core 3.6.0.\nMy application was running fine.</p>\n<p>Now when I try to upgrade to java-driver-core 4.3.1 and cassandra-unit 4.3.1.0, I am getting error when I try to run my tests in maven.</p>\n<pre><code>Caused by: java.io.IOException: Unable to open hint directory\n</code></pre>\n<p>Below error is coming</p>\n<pre><code>&quot;time=&quot;2022-06-17T07:13:30.945Z&quot; level=&quot;ERROR&quot; msg=&quot;[org.apache.cassandra.service.CassandraDaemon:228][BatchlogTasks:1]\nException in thread Thread[BatchlogTasks:1,5,main]java.lang.RuntimeException: \\\n  java.util.concurrent.ExecutionException: \\\n    FSWriteError in C:\\service\\target\\embeddedCassandra\\hints&quot;\n</code></pre>\n<p>Can some one help me out.</p>\n"},{"tags":["java","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655453319,"post_id":72656139,"comment_id":128340738,"body_markdown":"It&#39;s called [_throttle_](https://en.wikipedia.org/wiki/Throttle). A throttled stream best runs in its own thread, as you want to intermittently take a next step. Like doing a `Thread.sleep(10L)` in a forEach. You should better use a queue or such.","body":"It&#39;s called <a href=\"https://en.wikipedia.org/wiki/Throttle\" rel=\"nofollow noreferrer\"><i>throttle</i></a>. A throttled stream best runs in its own thread, as you want to intermittently take a next step. Like doing a <code>Thread.sleep(10L)</code> in a forEach. You should better use a queue or such."}],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455277,"creation_date":1655455277,"answer_id":72656584,"question_id":72656139,"body_markdown":"The Java 8 streams are in fact like a different syntax for loops and iterations, so they run synchronous and immediately.\r\n\r\nYou can either implement you logic in a different way to ensure a fixed amount of memory usage, or if time based throttling would indeed help you can look into reactive programming libraries like spring reactor or rxjava. They offer asynchronous data streams.","title":"Java list streams function with throttle","body":"<p>The Java 8 streams are in fact like a different syntax for loops and iterations, so they run synchronous and immediately.</p>\n<p>You can either implement you logic in a different way to ensure a fixed amount of memory usage, or if time based throttling would indeed help you can look into reactive programming libraries like spring reactor or rxjava. They offer asynchronous data streams.</p>\n"}],"owner":{"account_id":20423221,"reputation":183,"user_id":14983790,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655455277,"creation_date":1655452903,"question_id":72656139,"body_markdown":"It is normally used to create stream with mapper function like `itemList.stream().map(item -&gt; someFunction(item)).toList()`. However, if `itemList` is too large in size and `someFunction` is time consuming, e.g. calling API or I/O, it will generate spike in memory usage and thus get killed by kubernetes controller.\r\n\r\nIs there a way to thorttle the stream mapper function invocation? Or just execute it in a sequential way with for-loop?","title":"Java list streams function with throttle","body":"<p>It is normally used to create stream with mapper function like <code>itemList.stream().map(item -&gt; someFunction(item)).toList()</code>. However, if <code>itemList</code> is too large in size and <code>someFunction</code> is time consuming, e.g. calling API or I/O, it will generate spike in memory usage and thus get killed by kubernetes controller.</p>\n<p>Is there a way to thorttle the stream mapper function invocation? Or just execute it in a sequential way with for-loop?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1655453626,"post_id":72656169,"comment_id":128340840,"body_markdown":"Did you see this SO question? [Get Physical Keyboard Layout Programmatically](https://stackoverflow.com/questions/4719488/get-physical-keyboard-layout-programmatically)","body":"Did you see this SO question? <a href=\"https://stackoverflow.com/questions/4719488/get-physical-keyboard-layout-programmatically\">Get Physical Keyboard Layout Programmatically</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1655453720,"post_id":72656169,"comment_id":128340872,"body_markdown":"I know that difference as 104 key vs 105 key keyboards. And I&#39;m not very optimistic that even the OS actually knows the physical configuration of the keyboard. At best you could query the mapping from scancodes to keypresses and use an educated guess (or a big database) to distinguish the two.","body":"I know that difference as 104 key vs 105 key keyboards. And I&#39;m not very optimistic that even the OS actually knows the physical configuration of the keyboard. At best you could query the mapping from scancodes to keypresses and use an educated guess (or a big database) to distinguish the two."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655453826,"post_id":72656169,"comment_id":128340924,"body_markdown":"I have never before heard those keyboard layouts referred to as ANSI or ISO","body":"I have never before heard those keyboard layouts referred to as ANSI or ISO"},{"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"score":0,"creation_date":1655454008,"post_id":72656169,"comment_id":128340983,"body_markdown":"Oh that&#39;s unfortunate. I guess I&#39;ll have to make an option for it then or somehow guess it in a different way. I&#39;m guessing there&#39;s also no way to check if the keyboard has 104 or 105 scan codes either then?","body":"Oh that&#39;s unfortunate. I guess I&#39;ll have to make an option for it then or somehow guess it in a different way. I&#39;m guessing there&#39;s also no way to check if the keyboard has 104 or 105 scan codes either then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1655454222,"post_id":72656169,"comment_id":128341058,"body_markdown":"@MarkRotteveel you don&#39;t frequent enough mechanical keyboards forums then :) See https://en.wikipedia.org/wiki/Keyboard_layout#Physical,_visual,_and_functional_layouts","body":"@MarkRotteveel you don&#39;t frequent enough mechanical keyboards forums then :) See <a href=\"https://en.wikipedia.org/wiki/Keyboard_layout#Physical,_visual,_and_functional_layouts\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655454659,"post_id":72656169,"comment_id":128341193,"body_markdown":"A laptop could even have a second external keyboard, and for impaired users there also exist emulated touchscreen keyboards. And then there are the locales (QWERTY/AZERTY). So I would go with a common keyboard borrowed from the emulations, and not offer those special keys at all for customization. Also Alt Gr keys are cumbersome.","body":"A laptop could even have a second external keyboard, and for impaired users there also exist emulated touchscreen keyboards. And then there are the locales (QWERTY/AZERTY). So I would go with a common keyboard borrowed from the emulations, and not offer those special keys at all for customization. Also Alt Gr keys are cumbersome."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655455217,"post_id":72656169,"comment_id":128341382,"body_markdown":"In any case, in the &#39;80s and &#39;90s if games (or other programs) were interested in distinguishing between these keyboard layouts, they prompted the user to hit the key next to the left-shift.","body":"In any case, in the &#39;80s and &#39;90s if games (or other programs) were interested in distinguishing between these keyboard layouts, they prompted the user to hit the key next to the left-shift."}],"answers":[{"tags":[],"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655455041,"creation_date":1655455041,"answer_id":72656527,"question_id":72656169,"body_markdown":"As mentioned by [@Abra][1] in a comment to the question, there&#39;s no way to do that programmatically as there&#39;s no protocol between the keyboard controller and the keyboard driver that helps distinguish the layout of the keyboard.\r\n\r\nOnly option here is to either guess/predict the layout, let the user choose the layout, or simply use the same layout assumed by Windows in osk.exe.\r\n\r\nOriginal answer on [this post][2]\r\n\r\n  [1]: https://stackoverflow.com/questions/72656169/detect-if-user-is-using-ansi-or-iso-keyboard-button-layout#comment128340840_72656169\r\n  [2]: https://stackoverflow.com/a/4720908/4292157","title":"Detect if user is using ANSI or ISO keyboard button layout","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/questions/72656169/detect-if-user-is-using-ansi-or-iso-keyboard-button-layout#comment128340840_72656169\">@Abra</a> in a comment to the question, there's no way to do that programmatically as there's no protocol between the keyboard controller and the keyboard driver that helps distinguish the layout of the keyboard.</p>\n<p>Only option here is to either guess/predict the layout, let the user choose the layout, or simply use the same layout assumed by Windows in osk.exe.</p>\n<p>Original answer on <a href=\"https://stackoverflow.com/a/4720908/4292157\">this post</a></p>\n"}],"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656527,"answer_count":1,"score":0,"last_activity_date":1655455041,"creation_date":1655453044,"question_id":72656169,"body_markdown":"I&#39;m currently working on a custom key binding mod for Minecraft. Although irrelevant, it gives some context. I&#39;m planning to show a UI with all the buttons on their keyboard where they can click to assign macros to said key, although I don&#39;t want to be biased towards one particular keyboard button layout.\r\n\r\nLooking at a website called [switchandclick][1] they show the differences between ISO and ANSI. ISO which I&#39;m using has a key between left shift and Z, as well as having the return/enter key 2 keys tall rather than 1, with the missing key moved above right shift.\r\n\r\nHere is the image from said site:\r\n[![ansi vs iso image][2]][2]\r\n\r\nHowever, even if ISO is the layout used in Sweden where I live, I&#39;m aware some users may be from different parts of the world, and ANSI is probably more common in America, so I don&#39;t want to show an ISO keyboard for ANSI users and vice versa.\r\n\r\nI&#39;ve looked around at various sources, but all I can find when looking for a solution is websites showing the differences between the layouts, rather than showing how to detect them.\r\n\r\nSo how would I go about detecting if the user has an ANSI or ISO keyboard? Pure Java is preferred but LWJGL 3 is the graphics api in use if that helps with finding a solution. I&#39;m also running Java 17 in case that makes it easier.\r\n\r\n\r\n  [1]: https://switchandclick.com/ansi-vs-iso-layout/\r\n  [2]: https://i.stack.imgur.com/E4XqE.png","title":"Detect if user is using ANSI or ISO keyboard button layout","body":"<p>I'm currently working on a custom key binding mod for Minecraft. Although irrelevant, it gives some context. I'm planning to show a UI with all the buttons on their keyboard where they can click to assign macros to said key, although I don't want to be biased towards one particular keyboard button layout.</p>\n<p>Looking at a website called <a href=\"https://switchandclick.com/ansi-vs-iso-layout/\" rel=\"nofollow noreferrer\">switchandclick</a> they show the differences between ISO and ANSI. ISO which I'm using has a key between left shift and Z, as well as having the return/enter key 2 keys tall rather than 1, with the missing key moved above right shift.</p>\n<p>Here is the image from said site:\n<a href=\"https://i.stack.imgur.com/E4XqE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4XqE.png\" alt=\"ansi vs iso image\" /></a></p>\n<p>However, even if ISO is the layout used in Sweden where I live, I'm aware some users may be from different parts of the world, and ANSI is probably more common in America, so I don't want to show an ISO keyboard for ANSI users and vice versa.</p>\n<p>I've looked around at various sources, but all I can find when looking for a solution is websites showing the differences between the layouts, rather than showing how to detect them.</p>\n<p>So how would I go about detecting if the user has an ANSI or ISO keyboard? Pure Java is preferred but LWJGL 3 is the graphics api in use if that helps with finding a solution. I'm also running Java 17 in case that makes it easier.</p>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","jpql"],"answers":[{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1655454944,"creation_date":1352665834,"answer_id":13335138,"question_id":13334831,"body_markdown":"This is a rather nasty problem in Hibernate and actually ORM in general.\r\n\r\nWhat happens is that the many (fetch) joins cause a rather large cartesian product to be created. I.e for ever other join new columns and new rows appear in the result, leading to a (fairly) large &#39;square&#39; result.\r\n\r\nHibernate needs to distill a graph from this table, but it&#39;s not smart enough to match the right columns to the right entities.\r\n\r\nE.g.\r\n\r\nSuppose we have the result\r\n\r\n    A B C\r\n    A B D\r\n\r\nWhich needs to become:\r\n\r\n     A\r\n     |\r\n     B\r\n     /\\\r\n    C  D\r\n\r\nHibernate could deduct from the primary keys and some encoding magic, what the graph must be, but in practice it needs explicit help to pull this off.\r\n\r\nOne way to do this is by specifying the Hibernate specific `@IndexColumn` or the JPA standard `@OrderColumn` on the relations.\r\n\r\nE.g.\r\n\r\n    @Entity\r\n    public class Question {\r\n    \r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;question_to_answer&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;question_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;answer_id&quot;)\r\n        )\r\n        @IndexColumn(name = &quot;answer_order&quot;)\r\n        private List&lt;Answer&gt; answers;\r\n    \r\n        // ...\r\n    }\r\n\r\nIn this example I&#39;m using a join table, with an extra column `answer_order`. Via this column, which has a unique sequential number per Question/Answer relation, Hibernate can distinguish the entries in the result table and create the required Object graph.\r\n\r\nOne note btw, if it concerns more than a few entities, using so many eager joins can potentially lead to a much larger result set than you might think based on the number of entities involved.\r\n\r\nFurther reading:\r\n\r\n* [Hibernate Exception - Simultaneously Fetch Multiple Bags 1][1] \r\n\r\n  [1]: http://blog.eyallupu.com/2010/06/hibernate-exception-simultaneously.html\r\n","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>This is a rather nasty problem in Hibernate and actually ORM in general.</p>\n<p>What happens is that the many (fetch) joins cause a rather large cartesian product to be created. I.e for ever other join new columns and new rows appear in the result, leading to a (fairly) large 'square' result.</p>\n<p>Hibernate needs to distill a graph from this table, but it's not smart enough to match the right columns to the right entities.</p>\n<p>E.g.</p>\n<p>Suppose we have the result</p>\n<pre><code>A B C\nA B D\n</code></pre>\n<p>Which needs to become:</p>\n<pre><code> A\n |\n B\n /\\\nC  D\n</code></pre>\n<p>Hibernate could deduct from the primary keys and some encoding magic, what the graph must be, but in practice it needs explicit help to pull this off.</p>\n<p>One way to do this is by specifying the Hibernate specific <code>@IndexColumn</code> or the JPA standard <code>@OrderColumn</code> on the relations.</p>\n<p>E.g.</p>\n<pre><code>@Entity\npublic class Question {\n\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;question_to_answer&quot;,\n        joinColumns = @JoinColumn(name = &quot;question_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;answer_id&quot;)\n    )\n    @IndexColumn(name = &quot;answer_order&quot;)\n    private List&lt;Answer&gt; answers;\n\n    // ...\n}\n</code></pre>\n<p>In this example I'm using a join table, with an extra column <code>answer_order</code>. Via this column, which has a unique sequential number per Question/Answer relation, Hibernate can distinguish the entries in the result table and create the required Object graph.</p>\n<p>One note btw, if it concerns more than a few entities, using so many eager joins can potentially lead to a much larger result set than you might think based on the number of entities involved.</p>\n<p>Further reading:</p>\n<ul>\n<li><a href=\"http://blog.eyallupu.com/2010/06/hibernate-exception-simultaneously.html\" rel=\"nofollow noreferrer\">Hibernate Exception - Simultaneously Fetch Multiple Bags 1</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610121741,"creation_date":1573585974,"answer_id":58825218,"question_id":13334831,"body_markdown":"Hibernate doesn&#39;t allow fetching more than one bag because that would generate a [Cartesian product][1], and for unordered Lists, which are called **baggs** in Hibernate terminology, this will cause duplicate entries even if the underlying collection does not have those duplicated rows. So, Hibernate simply prevents this situation when the JPQL query is compiled.\r\n\r\nNow, you will find lots of answers, blog posts, videos, or other resources telling you to use a `Set` instead of a `List` for your collections.\r\n\r\n**That&#39;s terrible advice. Don&#39;t do that!** \r\n\r\nUsing `Sets` instead of `Lists` will make the `MultipleBagFetchException` go away, but the Cartesian Product will still be there.\r\n\r\nThe right fix\r\n-------------\r\n\r\nInstead of using multiple `JOIN FETCH` in a single JPQL or Criteria API query:\r\n\r\n    List&lt;Post&gt; posts = entityManager\r\n    .createQuery(\r\n        &quot;select p &quot; +\r\n        &quot;from Post p &quot; +\r\n        &quot;left join fetch p.comments &quot; +\r\n        &quot;left join fetch p.tags &quot; +\r\n        &quot;where p.id between :minId and :maxId&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n\r\nYou can do the following trick:\r\n\r\n    List&lt;Post&gt; posts = entityManager\r\n    .createQuery(\r\n    \t&quot;select distinct p &quot; +\r\n    \t&quot;from Post p &quot; +\r\n    \t&quot;left join fetch p.comments &quot; +\r\n    \t&quot;where p.id between :minId and :maxId &quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n    \r\n    posts = entityManager\r\n    .createQuery(\r\n    \t&quot;select distinct p &quot; +\r\n    \t&quot;from Post p &quot; +\r\n    \t&quot;left join fetch p.tags t &quot; +\r\n    \t&quot;where p in :posts &quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n\r\nAs long as you fetch at most one collection using `JOIN FETCH`, you will be fine. By using multiple queries, you will avoid the Cartesian Product since any other collection but the first one is fetched using a secondary query.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cartesian_product","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>Hibernate doesn't allow fetching more than one bag because that would generate a <a href=\"http://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\">Cartesian product</a>, and for unordered Lists, which are called <strong>baggs</strong> in Hibernate terminology, this will cause duplicate entries even if the underlying collection does not have those duplicated rows. So, Hibernate simply prevents this situation when the JPQL query is compiled.</p>\n<p>Now, you will find lots of answers, blog posts, videos, or other resources telling you to use a <code>Set</code> instead of a <code>List</code> for your collections.</p>\n<p><strong>That's terrible advice. Don't do that!</strong></p>\n<p>Using <code>Sets</code> instead of <code>Lists</code> will make the <code>MultipleBagFetchException</code> go away, but the Cartesian Product will still be there.</p>\n<h2>The right fix</h2>\n<p>Instead of using multiple <code>JOIN FETCH</code> in a single JPQL or Criteria API query:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager\n.createQuery(\n    &quot;select p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.comments &quot; +\n    &quot;left join fetch p.tags &quot; +\n    &quot;where p.id between :minId and :maxId&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n</code></pre>\n<p>You can do the following trick:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager\n.createQuery(\n    &quot;select distinct p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.comments &quot; +\n    &quot;where p.id between :minId and :maxId &quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n\nposts = entityManager\n.createQuery(\n    &quot;select distinct p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.tags t &quot; +\n    &quot;where p in :posts &quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n</code></pre>\n<p>As long as you fetch at most one collection using <code>JOIN FETCH</code>, you will be fine. By using multiple queries, you will avoid the Cartesian Product since any other collection but the first one is fetched using a secondary query.</p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16391,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":13335138,"answer_count":2,"score":15,"last_activity_date":1655454944,"creation_date":1352663660,"question_id":13334831,"body_markdown":"I want to have an option in my repository layer to eager load entites, so I tried adding a method that should eager load a question entity with all the relationships, but it throws MultipleBagFetchException. How can I fix this? I am using Hibernate 4.16.\r\n\r\n    @NamedQuery(name = Question.FIND_BY_ID_EAGER, query = &quot;SELECT q FROM Question q LEFT JOIN FETCH q.answers LEFT JOIN FETCH q.categories LEFT JOIN FETCH q.feedback LEFT JOIN FETCH q.participant WHERE q.id = :id&quot;),\r\n\r\nHow do I get a question object which is initially lazy loaded, to be eager loaded with all relations?","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>I want to have an option in my repository layer to eager load entites, so I tried adding a method that should eager load a question entity with all the relationships, but it throws MultipleBagFetchException. How can I fix this? I am using Hibernate 4.16.</p>\n\n<pre><code>@NamedQuery(name = Question.FIND_BY_ID_EAGER, query = \"SELECT q FROM Question q LEFT JOIN FETCH q.answers LEFT JOIN FETCH q.categories LEFT JOIN FETCH q.feedback LEFT JOIN FETCH q.participant WHERE q.id = :id\"),\n</code></pre>\n\n<p>How do I get a question object which is initially lazy loaded, to be eager loaded with all relations?</p>\n"},{"tags":["java","function","generics","types","declaration"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1655446624,"post_id":72655042,"comment_id":128338787,"body_markdown":"The `&lt;T&gt;` declares a type parameter local to the method, without which you would not be able to use `T` anywhere else within the method as it would be undefined. The two `T[]` are the return type and parameter type, both of which are an array of `T`. What is the actual type of `T`? The method has no idea beyond it will be an `Object` (that&#39;s the implicit upper bound in this case). That is determined by the code calling it (e.g., if you called `toArray(new String[0])`, then the type argument for `T` is `String`, though that only has meaning at compile-time due to type erasure).","body":"The <code>&lt;T&gt;</code> declares a type parameter local to the method, without which you would not be able to use <code>T</code> anywhere else within the method as it would be undefined. The two <code>T[]</code> are the return type and parameter type, both of which are an array of <code>T</code>. What is the actual type of <code>T</code>? The method has no idea beyond it will be an <code>Object</code> (that&#39;s the implicit upper bound in this case). That is determined by the code calling it (e.g., if you called <code>toArray(new String[0])</code>, then the type argument for <code>T</code> is <code>String</code>, though that only has meaning at compile-time due to type erasure)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655454904,"post_id":72655042,"comment_id":128341281,"body_markdown":"Related, possibly duplicate: [Java Generic Interface vs Generic Methods, and when to use one](https://stackoverflow.com/questions/30575434/java-generic-interface-vs-generic-methods-and-when-to-use-one), [choosing between class level or method level generics](https://stackoverflow.com/questions/39679876/choosing-between-class-level-or-method-level-generics)","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/30575434/java-generic-interface-vs-generic-methods-and-when-to-use-one\">Java Generic Interface vs Generic Methods, and when to use one</a>, <a href=\"https://stackoverflow.com/questions/39679876/choosing-between-class-level-or-method-level-generics\">choosing between class level or method level generics</a>"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655446731,"creation_date":1655446731,"answer_id":72655076,"question_id":72655042,"body_markdown":"Remember that the idea behind generics is to parameterise a class on _type_ and that you specify that type when you instantiate the class. `&lt;T&gt;` is the type parameter - that is you write that to say that this class/method is parameterised on some type `T` specified at run time.","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>Remember that the idea behind generics is to parameterise a class on <em>type</em> and that you specify that type when you instantiate the class. <code>&lt;T&gt;</code> is the type parameter - that is you write that to say that this class/method is parameterised on some type <code>T</code> specified at run time.</p>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655451996,"creation_date":1655451996,"answer_id":72655979,"question_id":72655042,"body_markdown":"This defines a method where some types aren&#39;t fixed, but generic.\r\n\r\nA non-generic version of that method would e.g. be \r\n\r\n    String[] toArray(String[] a);\r\n\r\nmeaning that you provide a `String[]` array and get a `String[]` array.\r\n\r\nThe given method replaces the `String` with a generic type `T`, meaning that the result type now depends on the type provided (*), that the resulting array type is the same as the type provided as the array parameter.\r\n\r\nThe array type relevant here need not (exactly) correspond to the generic type of the List as a whole (the `E` in `List&lt;E&gt;`), but instead is specific for just this method, so it must be declared with this method, and that&#39;s the `&lt;T&gt;` in `&lt;T&gt; T[] toArray(T[] a);`\r\n\r\nSo, breaking down the `&lt;T&gt; T[] toArray(T[] a);` into its parts:\r\n\r\n - `&lt;T&gt;` declares that the following method has some method-specific generic type `T`.\r\n - `T[]` says the the return value is an array of this generic type.\r\n - `toArray(...)` names the method.\r\n - `T[] a` declares that the method expects an array-typed parameter.\r\n\r\nWith Java generics, the compiler needs to find the specific type that replaces `T` in any given method invocation like\r\n\r\n    ??? myArray = myList.toArray(new String[17]);\r\n\r\nHere, the argument gives the information: a `String[]` array is provided, a `T[]` array is expected, so `T` must be `String`, and now the compiler knows that in the result type `T[]` the `T` has to be replaced with `String` as well, giving a `String[]` result type, meaning that `???` must be `String[]` or compatible, otherwise you get a compiler error.\r\n\r\nBesides this deduction-based type matching, there is also a (rarely used) syntax for explicitly specifying the generic type. That would be\r\n\r\n    String[] myArray = myList.&lt;String&gt;toArray(new String[17]);\r\n\r\nThe `&lt;String&gt;` infix explicitly tells the compiler the `T` replacement. In most cases, this explicit specification is redundant, so you&#39;ll hardly ever see this syntax in real-world code.\r\n\r\n(*) Java generics are completely evaluated at compile time, so the generic effects of the declaration are only based on the types as the compiler sees them. So, e.g. in \r\n\r\n    Object[] myObjectArray = new String[0];\r\n    ??? myResultArray = myList.toArray(myObjectArray);\r\n\r\nthe `???` has to be `Object[]`, although at runtime, a `String[]` array will be produced.","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>This defines a method where some types aren't fixed, but generic.</p>\n<p>A non-generic version of that method would e.g. be</p>\n<pre><code>String[] toArray(String[] a);\n</code></pre>\n<p>meaning that you provide a <code>String[]</code> array and get a <code>String[]</code> array.</p>\n<p>The given method replaces the <code>String</code> with a generic type <code>T</code>, meaning that the result type now depends on the type provided (*), that the resulting array type is the same as the type provided as the array parameter.</p>\n<p>The array type relevant here need not (exactly) correspond to the generic type of the List as a whole (the <code>E</code> in <code>List&lt;E&gt;</code>), but instead is specific for just this method, so it must be declared with this method, and that's the <code>&lt;T&gt;</code> in <code>&lt;T&gt; T[] toArray(T[] a);</code></p>\n<p>So, breaking down the <code>&lt;T&gt; T[] toArray(T[] a);</code> into its parts:</p>\n<ul>\n<li><code>&lt;T&gt;</code> declares that the following method has some method-specific generic type <code>T</code>.</li>\n<li><code>T[]</code> says the the return value is an array of this generic type.</li>\n<li><code>toArray(...)</code> names the method.</li>\n<li><code>T[] a</code> declares that the method expects an array-typed parameter.</li>\n</ul>\n<p>With Java generics, the compiler needs to find the specific type that replaces <code>T</code> in any given method invocation like</p>\n<pre><code>??? myArray = myList.toArray(new String[17]);\n</code></pre>\n<p>Here, the argument gives the information: a <code>String[]</code> array is provided, a <code>T[]</code> array is expected, so <code>T</code> must be <code>String</code>, and now the compiler knows that in the result type <code>T[]</code> the <code>T</code> has to be replaced with <code>String</code> as well, giving a <code>String[]</code> result type, meaning that <code>???</code> must be <code>String[]</code> or compatible, otherwise you get a compiler error.</p>\n<p>Besides this deduction-based type matching, there is also a (rarely used) syntax for explicitly specifying the generic type. That would be</p>\n<pre><code>String[] myArray = myList.&lt;String&gt;toArray(new String[17]);\n</code></pre>\n<p>The <code>&lt;String&gt;</code> infix explicitly tells the compiler the <code>T</code> replacement. In most cases, this explicit specification is redundant, so you'll hardly ever see this syntax in real-world code.</p>\n<p>(*) Java generics are completely evaluated at compile time, so the generic effects of the declaration are only based on the types as the compiler sees them. So, e.g. in</p>\n<pre><code>Object[] myObjectArray = new String[0];\n??? myResultArray = myList.toArray(myObjectArray);\n</code></pre>\n<p>the <code>???</code> has to be <code>Object[]</code>, although at runtime, a <code>String[]</code> array will be produced.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72655979,"answer_count":2,"score":0,"last_activity_date":1655454735,"creation_date":1655446498,"question_id":72655042,"body_markdown":"I&#39;m using Eclipse and when I navigate the disassemble of List.class I see this:\r\n```\r\n&lt;T&gt; T[] toArray(T[] a);\r\n```\r\n1. What does the leading ```&lt;T&gt;``` actually mean here? Is it part of return type? I guess the return value is `T[]`.\r\n\r\n2. In what scenario does a function need to declare like ```&lt;T&gt; T[]``` as function signature?\r\n\r\n","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>I'm using Eclipse and when I navigate the disassemble of List.class I see this:</p>\n<pre><code>&lt;T&gt; T[] toArray(T[] a);\n</code></pre>\n<ol>\n<li><p>What does the leading <code>&lt;T&gt;</code> actually mean here? Is it part of return type? I guess the return value is <code>T[]</code>.</p>\n</li>\n<li><p>In what scenario does a function need to declare like <code>&lt;T&gt; T[]</code> as function signature?</p>\n</li>\n</ol>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":3,"creation_date":1655415642,"post_id":72652160,"comment_id":128333853,"body_markdown":"Use `.replaceFirst(&quot;(?&lt;=\\\\$)0+(?=\\\\d)&quot;, &quot;&quot;)` ([demo](https://regex101.com/r/YhspqI/1))","body":"Use <code>.replaceFirst(&quot;(?&lt;=\\\\$)0+(?=\\\\d)&quot;, &quot;&quot;)</code> (<a href=\"https://regex101.com/r/YhspqI/1\" rel=\"nofollow noreferrer\">demo</a>)"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1655416135,"post_id":72652160,"comment_id":128334005,"body_markdown":"Thanks @WiktorStribiżew, that worked with all requirements! :)","body":"Thanks @WiktorStribiżew, that worked with all requirements! :)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1655416312,"post_id":72652160,"comment_id":128334046,"body_markdown":"@adamn2 except it doesn&#39;t work for `$0,012.34`","body":"@adamn2 except it doesn&#39;t work for <code>$0,012.34</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1655436928,"post_id":72652160,"comment_id":128337159,"body_markdown":"@WiktorStribiżew [`zeroes` is not a typo](https://english.stackexchange.com/a/3825/12060)","body":"@WiktorStribiżew <a href=\"https://english.stackexchange.com/a/3825/12060\"><code>zeroes</code> is not a typo</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655436992,"creation_date":1655416108,"answer_id":72652236,"question_id":72652160,"body_markdown":"Match zeroes or commas that are preceded by a dollar sign and followed by a digit:\r\n\r\n    str = str.replaceAll(&quot;(?&lt;=\\\\$)[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThis covers the edge cases:\r\n\r\n - `$001.23` -&gt; `$1.23`\r\n - `$000.12` -&gt; `$0.12`\r\n - `$00,123.45` -&gt; `$123.45`\r\n - `$0,000,000.12` -&gt; `$0.12`\r\n \r\n\r\nThe regex:\r\n\r\n - `(?&lt;=\\\\$)` means the preceding character is a dollar sign\r\n - `(?=\\\\d)` means the following character is a digit\r\n - `[0,]+` means one or more zeroes or commas\r\n\r\n---\r\n\r\nTo handle *any* currency symbol:\r\n\r\n    str = str.replaceAll(&quot;(?&lt;=[^\\\\d,.])[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n\r\nSee [live demo][2].\r\n\r\n\r\n  [1]: https://rubular.com/r/CLof4LYunq7jPK\r\n  [2]: https://rubular.com/r/AniN0XuyQgMGJi","title":"Remove leading zeros from a string using regex","body":"<p>Match zeroes or commas that are preceded by a dollar sign and followed by a digit:</p>\n<pre><code>str = str.replaceAll(&quot;(?&lt;=\\\\$)[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/CLof4LYunq7jPK\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>This covers the edge cases:</p>\n<ul>\n<li><code>$001.23</code> -&gt; <code>$1.23</code></li>\n<li><code>$000.12</code> -&gt; <code>$0.12</code></li>\n<li><code>$00,123.45</code> -&gt; <code>$123.45</code></li>\n<li><code>$0,000,000.12</code> -&gt; <code>$0.12</code></li>\n</ul>\n<p>The regex:</p>\n<ul>\n<li><code>(?&lt;=\\\\$)</code> means the preceding character is a dollar sign</li>\n<li><code>(?=\\\\d)</code> means the following character is a digit</li>\n<li><code>[0,]+</code> means one or more zeroes or commas</li>\n</ul>\n<hr />\n<p>To handle <em>any</em> currency symbol:</p>\n<pre><code>str = str.replaceAll(&quot;(?&lt;=[^\\\\d,.])[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/AniN0XuyQgMGJi\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655454440,"creation_date":1655416187,"answer_id":72652244,"question_id":72652160,"body_markdown":"You can use\r\n```java\r\nstring result = input_string.replaceFirst(&quot;(?&lt;=\\\\p{Sc})[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `(?&lt;=\\p{Sc})` - immediately on the left, there must be **any currency** char\r\n - `[0,]+` - one or more zeros or commas\r\n - `(?=\\d)` - immediately on the right, there must be any one digit.\r\n\r\n  [1]: https://regex101.com/r/YhspqI/3","title":"Remove leading zeros from a string using regex","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>string result = input_string.replaceFirst(&quot;(?&lt;=\\\\p{Sc})[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/YhspqI/3\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;=\\p{Sc})</code> - immediately on the left, there must be <strong>any currency</strong> char</li>\n<li><code>[0,]+</code> - one or more zeros or commas</li>\n<li><code>(?=\\d)</code> - immediately on the right, there must be any one digit.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655418352,"creation_date":1655417019,"answer_id":72652350,"question_id":72652160,"body_markdown":"This is a simple regex that fits your needs:\r\n\r\n    str = str.replaceAll(&quot;^[$][,0]+0(?![.])&quot;, &quot;$&quot;);\r\n\r\n","title":"Remove leading zeros from a string using regex","body":"<p>This is a simple regex that fits your needs:</p>\n<pre><code>str = str.replaceAll(&quot;^[$][,0]+0(?![.])&quot;, &quot;$&quot;);\n</code></pre>\n"}],"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72652236,"answer_count":3,"score":0,"last_activity_date":1655454440,"creation_date":1655415542,"question_id":72652160,"body_markdown":"I am learning regex and java and working on a problem related to that.\r\n\r\nI have an input string which can be any dollar amount like \r\n```\r\n$123,456.78\r\n$0012,345.67\r\n$123,04.56\r\n$123,45.06\r\n```\r\n\r\nit also could be \r\n```\r\n$0.1\r\n```\r\nI am trying to find if the dollar amount has leading zeros and trying to remove it.\r\n\r\nso far I have tried this\r\n\r\n```\r\nstring result = input_string.replaceAll((&quot;[!^0]+)&quot; , &quot;&quot;);\r\n```\r\n\r\nBut I guess I&#39;m doing something wrong.\r\nI just want to remove the leading zeros, not the ones between the amount part and not the one in cents. And if the amount is $0.1, I don&#39;t want to remove it.","title":"Remove leading zeros from a string using regex","body":"<p>I am learning regex and java and working on a problem related to that.</p>\n<p>I have an input string which can be any dollar amount like</p>\n<pre><code>$123,456.78\n$0012,345.67\n$123,04.56\n$123,45.06\n</code></pre>\n<p>it also could be</p>\n<pre><code>$0.1\n</code></pre>\n<p>I am trying to find if the dollar amount has leading zeros and trying to remove it.</p>\n<p>so far I have tried this</p>\n<pre><code>string result = input_string.replaceAll((&quot;[!^0]+)&quot; , &quot;&quot;);\n</code></pre>\n<p>But I guess I'm doing something wrong.\nI just want to remove the leading zeros, not the ones between the amount part and not the one in cents. And if the amount is $0.1, I don't want to remove it.</p>\n"},{"tags":["java","multithreading","concurrency","executorservice","callable"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1654936621,"post_id":72582648,"comment_id":128214779,"body_markdown":"Even assuming you properly parallelized the work, I doubt each thread is doing significant work for a 200-by-200 board of Conway&#39;s Game of Life. Threads add overhead (e.g., thread creation, increased context switching, etc.). So, if the work is trivial, then adding more threads can make the performance worse than just putting all the work on a single thread.","body":"Even assuming you properly parallelized the work, I doubt each thread is doing significant work for a 200-by-200 board of Conway&#39;s Game of Life. Threads add overhead (e.g., thread creation, increased context switching, etc.). So, if the work is trivial, then adding more threads can make the performance worse than just putting all the work on a single thread."},{"owner":{"account_id":5664588,"reputation":686,"user_id":4481091,"accept_rate":100,"display_name":"brettmichaelgreen"},"score":1,"creation_date":1655142712,"post_id":72582648,"comment_id":128256511,"body_markdown":"To add onto @Slaw &#39;s comment on thread creation overhead, try making the number of threads variable to observe this effect. Currently, 200 threads are being created (one for each row). Try dividing these up into 1,2,10 etc threads with the same code. You can create a graph of runtimes for each of these to see where your performance is sublinearly improved by adding threads. Further, you can see the reduction in performance from 1 thread in this configuration from your original single-threaded code","body":"To add onto @Slaw &#39;s comment on thread creation overhead, try making the number of threads variable to observe this effect. Currently, 200 threads are being created (one for each row). Try dividing these up into 1,2,10 etc threads with the same code. You can create a graph of runtimes for each of these to see where your performance is sublinearly improved by adding threads. Further, you can see the reduction in performance from 1 thread in this configuration from your original single-threaded code"},{"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"score":0,"creation_date":1655199245,"post_id":72582648,"comment_id":128269678,"body_markdown":"Thanks for that.  That&#39;s good advice.  It is more or less what I ended up doing in the end and I have had some success (or more success) doing so.  Specifically, partitioning the board so as to reduce the number of threads.","body":"Thanks for that.  That&#39;s good advice.  It is more or less what I ended up doing in the end and I have had some success (or more success) doing so.  Specifically, partitioning the board so as to reduce the number of threads."}],"answers":[{"tags":[],"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655454434,"creation_date":1655453638,"answer_id":72656285,"question_id":72582648,"body_markdown":"When the number of threads (running) significantly outweighs the number of available processors, excessive context switching can occur. This means that the overhead of creating the thread plus that of switching between threads impacts performance.\r\n\r\nContext switching is particularly disruptive because whenever a processor switches from one thread to another it must flush its cache and reload the new thread&#39;s context.  Context in this sense refers to a thread&#39;s stack, register and program counter content.  \r\n\r\nA better approach would be to attempt to match the number of available processors with the number of threads created.  See below:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.*;\r\n\r\n    public class LongRunningTask {\r\n        int count;\r\n        boolean[][] board = new boolean[200][200];\r\n        int numProcessors = Runtime.getRuntime().availableProcessors() - 1;\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(numProcessors);\r\n\r\n        public LongRunningTask(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public void processTask() {\r\n            int i = 0;\r\n            ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n            int startIndex = 1;\r\n            int partitionSize = board.length / numProcessors;\r\n\r\n            while(i &lt; count){\r\n                while (startIndex &lt; board.length) {\r\n                    futures.add(threadPool.submit(new MyCallable(startIndex, partitionSize, board)));\r\n                    startIndex += partitionSize;\r\n                }\r\n\r\n                for (Future&lt;Integer&gt; f : futures){\r\n                    try {\r\n                        f.get();\r\n                    } catch (InterruptedException | ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    class MyCallable implements Callable&lt;Integer&gt; {\r\n        private final int startIndex;\r\n        private final int partitionSize;\r\n        private final boolean[][] board;\r\n\r\n        public MyCallable(int startIndex, int partitionSize, boolean[][] board){\r\n            this.startIndex = startIndex;\r\n            this.partitionSize = partitionSize;\r\n            this.board = board;\r\n        }\r\n\r\n        @Override\r\n        public Integer call() throws Exception {\r\n            int endIndex = Math.min(startIndex + partitionSize, board.length - 1);\r\n            for (int k = startIndex; k &lt; endIndex; k++){\r\n                for (int l = 1; l &lt; board[0].length; l++){\r\n                    //Do Something Here\r\n                }\r\n            }\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    class HypotheticalGUI{\r\n        public static void main(String[] args) {\r\n            LongRunningTask task = new LongRunningTask(100);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    task.processTask();\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Why is my ExecutorService implementation performing worse than single threaded implementation?","body":"<p>When the number of threads (running) significantly outweighs the number of available processors, excessive context switching can occur. This means that the overhead of creating the thread plus that of switching between threads impacts performance.</p>\n<p>Context switching is particularly disruptive because whenever a processor switches from one thread to another it must flush its cache and reload the new thread's context.  Context in this sense refers to a thread's stack, register and program counter content.</p>\n<p>A better approach would be to attempt to match the number of available processors with the number of threads created.  See below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.concurrent.*;\n\npublic class LongRunningTask {\n    int count;\n    boolean[][] board = new boolean[200][200];\n    int numProcessors = Runtime.getRuntime().availableProcessors() - 1;\n    ExecutorService threadPool = Executors.newFixedThreadPool(numProcessors);\n\n    public LongRunningTask(int count) {\n        this.count = count;\n    }\n\n    public void processTask() {\n        int i = 0;\n        ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\n        int startIndex = 1;\n        int partitionSize = board.length / numProcessors;\n\n        while(i &lt; count){\n            while (startIndex &lt; board.length) {\n                futures.add(threadPool.submit(new MyCallable(startIndex, partitionSize, board)));\n                startIndex += partitionSize;\n            }\n\n            for (Future&lt;Integer&gt; f : futures){\n                try {\n                    f.get();\n                } catch (InterruptedException | ExecutionException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            i++;\n        }\n    }\n}\n\nclass MyCallable implements Callable&lt;Integer&gt; {\n    private final int startIndex;\n    private final int partitionSize;\n    private final boolean[][] board;\n\n    public MyCallable(int startIndex, int partitionSize, boolean[][] board){\n        this.startIndex = startIndex;\n        this.partitionSize = partitionSize;\n        this.board = board;\n    }\n\n    @Override\n    public Integer call() throws Exception {\n        int endIndex = Math.min(startIndex + partitionSize, board.length - 1);\n        for (int k = startIndex; k &lt; endIndex; k++){\n            for (int l = 1; l &lt; board[0].length; l++){\n                //Do Something Here\n            }\n        }\n        return 1;\n    }\n}\n\nclass HypotheticalGUI{\n    public static void main(String[] args) {\n        LongRunningTask task = new LongRunningTask(100);\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                task.processTask();\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72656285,"answer_count":1,"score":1,"last_activity_date":1655454434,"creation_date":1654934343,"question_id":72582648,"body_markdown":"I&#39;ve been attempting to multi-thread Conway&#39;s game of life program.  Part of my naive solution was to do roughly what I&#39;ve done below. However, even this basic implementation performs significantly more poorly than a single-threaded solution, highlighting the fact that I&#39;m not understanding something.  \r\n\r\nI should also say, in case it isn&#39;t clear, I need to &#39;join&#39; the threads at the end of each iteration of the while loop, which is why I have used Callable - so that I can obtain and iterate through the Futures.\r\n\r\nAny feedback, advice suggestions would be wonderfully well received.  \r\n\r\n    package lewi0231.testOne;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.*;\r\n\r\n    public class LongRunningTask {\r\n        int count;\r\n        boolean[][] board = new boolean[200][200];\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n\r\n        public LongRunningTask(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public void processTask() {\r\n            int i = 0;\r\n            ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            while(i &lt; count){\r\n                for (int k = 1; k &lt; board.length; k++){\r\n                    futures.add(threadPool.submit(new Callable&lt;Integer&gt;() {\r\n                        @Override\r\n                        public Integer call() throws Exception {\r\n                            for (int l = 1; l &lt; board[0].length; l++){\r\n                                    //Do Something Here\r\n                            }\r\n                            return 1;\r\n                        }\r\n                    }));\r\n                }\r\n\r\n                for (Future&lt;Integer&gt; f : futures){\r\n                    try {\r\n                        f.get();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    } catch (ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    class HypotheticalGUI{\r\n        public static void main(String[] args) {\r\n            LongRunningTask task = new LongRunningTask(100);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    task.processTask();\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n","title":"Why is my ExecutorService implementation performing worse than single threaded implementation?","body":"<p>I've been attempting to multi-thread Conway's game of life program.  Part of my naive solution was to do roughly what I've done below. However, even this basic implementation performs significantly more poorly than a single-threaded solution, highlighting the fact that I'm not understanding something.</p>\n<p>I should also say, in case it isn't clear, I need to 'join' the threads at the end of each iteration of the while loop, which is why I have used Callable - so that I can obtain and iterate through the Futures.</p>\n<p>Any feedback, advice suggestions would be wonderfully well received.</p>\n<pre><code>package lewi0231.testOne;\n\nimport java.util.ArrayList;\nimport java.util.concurrent.*;\n\npublic class LongRunningTask {\n    int count;\n    boolean[][] board = new boolean[200][200];\n    ExecutorService threadPool = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n\n    public LongRunningTask(int count) {\n        this.count = count;\n    }\n\n    public void processTask() {\n        int i = 0;\n        ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        while(i &lt; count){\n            for (int k = 1; k &lt; board.length; k++){\n                futures.add(threadPool.submit(new Callable&lt;Integer&gt;() {\n                    @Override\n                    public Integer call() throws Exception {\n                        for (int l = 1; l &lt; board[0].length; l++){\n                                //Do Something Here\n                        }\n                        return 1;\n                    }\n                }));\n            }\n\n            for (Future&lt;Integer&gt; f : futures){\n                try {\n                    f.get();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            i++;\n        }\n    }\n}\n\nclass HypotheticalGUI{\n    public static void main(String[] args) {\n        LongRunningTask task = new LongRunningTask(100);\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                task.processTask();\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-boot"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1495204264,"post_id":44072550,"comment_id":75169330,"body_markdown":"wanna explain how this line works `List&lt;Client&gt; clients= new ArrayList&lt;&gt;();` if `Client` isn&#39;t an actual class?","body":"wanna explain how this line works <code>List&lt;Client&gt; clients= new ArrayList&lt;&gt;();</code> if <code>Client</code> isn&#39;t an actual class?"},{"owner":{"account_id":4298757,"reputation":3291,"user_id":3513023,"accept_rate":65,"display_name":"METTAIBI"},"score":0,"creation_date":1495204569,"post_id":44072550,"comment_id":75169538,"body_markdown":"sorry its a mistake, i edited, the second class is Client","body":"sorry its a mistake, i edited, the second class is Client"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1495205369,"post_id":44072550,"comment_id":75170060,"body_markdown":"well you have to insert/update every client which is connected to the folder. if its an insert, you won&#39;t be able to reduce the amount of statements. for update it depends on what you update and how you determine who gets updated. i think you are missing some sql understanding on what is possible and what not","body":"well you have to insert/update every client which is connected to the folder. if its an insert, you won&#39;t be able to reduce the amount of statements. for update it depends on what you update and how you determine who gets updated. i think you are missing some sql understanding on what is possible and what not"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1495207308,"post_id":44072550,"comment_id":75171401,"body_markdown":"You could, in principle, get rid of the intermediary table by using a `@JoinColumn` instead. This will reduce the number of writes, but may (or may not, depending on your use case) negatively affect query performance and/or updates.","body":"You could, in principle, get rid of the intermediary table by using a <code>@JoinColumn</code> instead. This will reduce the number of writes, but may (or may not, depending on your use case) negatively affect query performance and/or updates."},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":0,"creation_date":1495230373,"post_id":44072550,"comment_id":75182855,"body_markdown":"Why did you create an intermediate table ? Could you add the Sql profiler log that shows generated queries? You can also set up  hibetnate log level to check the  generated queries  as well.","body":"Why did you create an intermediate table ? Could you add the Sql profiler log that shows generated queries? You can also set up  hibetnate log level to check the  generated queries  as well."}],"answers":[{"tags":[],"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515159069,"creation_date":1495207258,"answer_id":44073699,"question_id":44072550,"body_markdown":"Is there many-to-many association or one-to-many association between client and folder in that case?\r\n\r\nIf that is one-to-many association, I suggest you use bidirectional mapping. Because you don&#39;t need the third table for this situation. So (briefly), fewer queries will be generated by hibernate and the performance will increase.\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;folder&quot;)\r\n    public class Folder {\r\n        @Id\r\n        private String reference;\r\n        \r\n        @OneToMany(mappedBy=&quot;folder&quot;, cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n        private List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\r\n\r\n        private Date createDate;\r\n\r\n        //getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n\r\n        private String name;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;folder_id&quot;)\r\n        private Folder folder;\r\n\r\n        //getters and setters\r\n    }\r\n\r\nSee this awesome post about @OneToMany relationships: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n\r\n\r\nBut, if your case is many-to-many see: https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>Is there many-to-many association or one-to-many association between client and folder in that case?</p>\n\n<p>If that is one-to-many association, I suggest you use bidirectional mapping. Because you don't need the third table for this situation. So (briefly), fewer queries will be generated by hibernate and the performance will increase.</p>\n\n<pre><code>@Entity\n@Table(name=\"folder\")\npublic class Folder {\n    @Id\n    private String reference;\n\n    @OneToMany(mappedBy=\"folder\", cascade = {CascadeType.ALL}, orphanRemoval = true)\n    private List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\n\n    private Date createDate;\n\n    //getters and setters\n}\n\n\n@Entity\n@Table(name = \"client\")\npublic class Client implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = \"folder_id\")\n    private Folder folder;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>See this awesome post about @OneToMany relationships: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></p>\n\n<p>But, if your case is many-to-many see: <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/</a></p>\n"},{"tags":[],"owner":{"account_id":4195472,"reputation":11,"user_id":3436989,"display_name":"AtomicAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655454162,"creation_date":1655454162,"answer_id":72656382,"question_id":44072550,"body_markdown":"Making the one to many relationship bi-directional helps and by default it is eager fetch. In many cases you would need Eager fetch, but making type fetch eager will just execute n*m(n number of parent record one to many and M is the number of children records many to one mapped) queries.\r\n\r\nThe solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only\r\n\r\n\r\n    @Repository\r\n    public interface FolderRepo extends JpaRepository&lt; Folder, Long&gt; {\r\n\r\n    @EntityGraph(attributePaths = {&quot;clients&quot;)\r\n    List&lt;Folder&gt; findAll();\r\n    }\r\n\r\nThis will create Join between the bi-directional mapping of Folder-&gt; Clients\r\n\r\n\r\n&gt; Blockquote you need to override equals method in each of these entity classes with ID else this will not work. \r\nYou can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed if you have added.\r\n\r\n\r\n\r\n\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>Making the one to many relationship bi-directional helps and by default it is eager fetch. In many cases you would need Eager fetch, but making type fetch eager will just execute n*m(n number of parent record one to many and M is the number of children records many to one mapped) queries.</p>\n<p>The solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only</p>\n<pre><code>@Repository\npublic interface FolderRepo extends JpaRepository&lt; Folder, Long&gt; {\n\n@EntityGraph(attributePaths = {&quot;clients&quot;)\nList&lt;Folder&gt; findAll();\n}\n</code></pre>\n<p>This will create Join between the bi-directional mapping of Folder-&gt; Clients</p>\n<blockquote>\n<p>Blockquote you need to override equals method in each of these entity classes with ID else this will not work.\nYou can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed if you have added.</p>\n</blockquote>\n"}],"owner":{"account_id":4298757,"reputation":3291,"user_id":3513023,"accept_rate":65,"display_name":"METTAIBI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7076,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44073699,"answer_count":2,"score":3,"last_activity_date":1655454162,"creation_date":1495203917,"question_id":44072550,"body_markdown":"I have two classes : \r\n\r\n    @Entity\r\n    @Table(name=&quot;folder&quot;)\r\n    public class Folder{\r\n    @Id\r\n    public String reference;\r\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    public List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\r\n    public Date createDate;\r\n    }\r\n\r\nand the second class: \r\n\r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        public int id;\r\n        public String name;\r\n    }\r\n\r\nin my database i created an intermadiate table\r\n\r\n   \r\n\r\n     create table folder_clients (folder_ref varchar(20) not null, clients_id int not null)\r\n        alter table folder_clients add constraint UK_clientid unique (clients_id)\r\n        alter table folder_clients add constraint FK_idClient foreign key (clients_id) references client\r\n        alter table folder_clients add constraint FK_refFolder foreign key (folder_ref) references folder\r\n\r\nnow i have a service that persists a folder, so automatically it persists all clients related to it, and this is done throught a Folder Repository:\r\n \r\n\r\n     folder.getClients().add(client);\r\n     folderRepository.save(folder);\r\n\r\nEverything is good and working, but when i execute the SQL Profiler i find that it executes many statements, which affect performance.\r\n\r\nIs there a better way to improve my code, in order to reduce number of statements executed by hibernate and improve performance ? \r\n\r\nthank you\r\n\r\n\r\n\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>I have two classes : </p>\n\n<pre><code>@Entity\n@Table(name=\"folder\")\npublic class Folder{\n@Id\npublic String reference;\n@OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\npublic List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\npublic Date createDate;\n}\n</code></pre>\n\n<p>and the second class: </p>\n\n<pre><code>@Entity\n@Table(name = \"client\")\npublic class Client implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public int id;\n    public String name;\n}\n</code></pre>\n\n<p>in my database i created an intermadiate table</p>\n\n<pre><code> create table folder_clients (folder_ref varchar(20) not null, clients_id int not null)\n    alter table folder_clients add constraint UK_clientid unique (clients_id)\n    alter table folder_clients add constraint FK_idClient foreign key (clients_id) references client\n    alter table folder_clients add constraint FK_refFolder foreign key (folder_ref) references folder\n</code></pre>\n\n<p>now i have a service that persists a folder, so automatically it persists all clients related to it, and this is done throught a Folder Repository:</p>\n\n<pre><code> folder.getClients().add(client);\n folderRepository.save(folder);\n</code></pre>\n\n<p>Everything is good and working, but when i execute the SQL Profiler i find that it executes many statements, which affect performance.</p>\n\n<p>Is there a better way to improve my code, in order to reduce number of statements executed by hibernate and improve performance ? </p>\n\n<p>thank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8737,"page":1255,"page_size":100}
