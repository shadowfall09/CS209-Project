{"items":[{"tags":["java","spring","spring-boot","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662692606,"creation_date":1662692587,"answer_id":73656914,"question_id":73655012,"body_markdown":"You should post your class &quot;com.atscale.service.BasicAuthSecurityConfiguration&quot; for more information.\r\n\r\nAlso, check if you already import spring security jar in your pom or gradle file.","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>You should post your class &quot;com.atscale.service.BasicAuthSecurityConfiguration&quot; for more information.</p>\n<p>Also, check if you already import spring security jar in your pom or gradle file.</p>\n"},{"tags":[],"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672076138,"creation_date":1672076138,"answer_id":74922647,"question_id":73655012,"body_markdown":"I recently faced the same error. Adding this dependency solved the problem for me.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I recently faced the same error. Adding this dependency solved the problem for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27430627,"reputation":31,"user_id":20927408,"display_name":"Tak Sin Luk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672835038,"creation_date":1672835038,"answer_id":75005402,"question_id":73655012,"body_markdown":"I recently faced the same error. The issue was fixed after I upgraded from 2.2.5 to 2.7.7 for spring-boot-starter-parent. Also, I added an annotation of EnableWebSecurity to the security\r\n\r\nReference: [https://www.baeldung.com/spring-boot-security-autoconfiguration][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-security-autoconfiguration","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I recently faced the same error. The issue was fixed after I upgraded from 2.2.5 to 2.7.7 for spring-boot-starter-parent. Also, I added an annotation of EnableWebSecurity to the security</p>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-boot-security-autoconfiguration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-security-autoconfiguration</a></p>\n"},{"tags":[],"owner":{"account_id":5799456,"reputation":75,"user_id":4574091,"display_name":"Kuppusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687513318,"creation_date":1687513318,"answer_id":76538870,"question_id":73655012,"body_markdown":"In my case it was a webflux application but was injecting HttpSecurity so autoconfigure can&#39;t find HttpSecurity. When i changed it to ServerHttpSecurity everything worked fine.","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>In my case it was a webflux application but was injecting HttpSecurity so autoconfigure can't find HttpSecurity. When i changed it to ServerHttpSecurity everything worked fine.</p>\n"}],"owner":{"account_id":16080397,"reputation":43,"user_id":11606482,"display_name":"matthew_mariani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6301,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1687513318,"creation_date":1662671088,"question_id":73655012,"body_markdown":"I&#39;m trying to set up basic authentication with Spring Boot and I keep getting this error on startup. I&#39;ve seen several examples with almost the exact same code as I have here and I can&#39;t tell what I&#39;m doing wrong. I copied my code from Spring&#39;s documentation with only minor tweaks. I&#39;m still very new to Spring and this all seems like witchcraft to me so any insights you can offer would be greatly appreciated.\r\n\r\nCode:\r\n\r\n```\r\npackage com.project.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\n@Configuration\r\npublic class BasicAuthSecurityConfiguration\r\n{\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests().anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService() throws IOException {\r\n        String rootPath = Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;).getPath();\r\n        String appConfigPath = rootPath + &quot;application.properties&quot;;\r\n        Properties appProps = new Properties();\r\n        appProps.load(new FileInputStream(appConfigPath));\r\n\r\n        UserDetails user = User\r\n                .withUsername(appProps.getProperty(&quot;requestUsername&quot;))\r\n                .password(appProps.getProperty(&quot;requestPassword&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\nError Message:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method filterChain in com.atscale.service.BasicAuthSecurityConfiguration required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n```","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I'm trying to set up basic authentication with Spring Boot and I keep getting this error on startup. I've seen several examples with almost the exact same code as I have here and I can't tell what I'm doing wrong. I copied my code from Spring's documentation with only minor tweaks. I'm still very new to Spring and this all seems like witchcraft to me so any insights you can offer would be greatly appreciated.</p>\n<p>Code:</p>\n<pre><code>package com.project.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Properties;\n\n@Configuration\npublic class BasicAuthSecurityConfiguration\n{\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .httpBasic();\n\n        return http.build();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() throws IOException {\n        String rootPath = Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;).getPath();\n        String appConfigPath = rootPath + &quot;application.properties&quot;;\n        Properties appProps = new Properties();\n        appProps.load(new FileInputStream(appConfigPath));\n\n        UserDetails user = User\n                .withUsername(appProps.getProperty(&quot;requestUsername&quot;))\n                .password(appProps.getProperty(&quot;requestPassword&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>Error Message:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method filterChain in com.atscale.service.BasicAuthSecurityConfiguration required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.\n</code></pre>\n"},{"tags":["java","spring-boot","h2","java-17","hibernate-6.x"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":1,"creation_date":1685075485,"post_id":76333384,"comment_id":134613457,"body_markdown":"If I understand correctly, your are using H2 DB for tests, is aplication is also working with H2 DB or your using anyother DB? if your using other DB then is this SQL working?","body":"If I understand correctly, your are using H2 DB for tests, is aplication is also working with H2 DB or your using anyother DB? if your using other DB then is this SQL working?"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685086581,"post_id":76333384,"comment_id":134614944,"body_markdown":"Yes, we are using H2 for testing. Sorry if I wasn&#39;t clear. The query runs fine on our production db (We are running on Hana if it matters). Checked what query ends up being executed and it is parsed correctly.","body":"Yes, we are using H2 for testing. Sorry if I wasn&#39;t clear. The query runs fine on our production db (We are running on Hana if it matters). Checked what query ends up being executed and it is parsed correctly."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685092281,"post_id":76333384,"comment_id":134616118,"body_markdown":"The it&#39;s issue with H2 not Hibernate. we had same issue and did following changes to use h2 with legacy mode which uses legacy functions from H2 DB. spring.datasource.url = jdbc:h2:mem:test;MODE=LEGACY; and try with  &lt;h2.version&gt;2.1.210&lt;/h2.version&gt;","body":"The it&#39;s issue with H2 not Hibernate. we had same issue and did following changes to use h2 with legacy mode which uses legacy functions from H2 DB. spring.datasource.url = jdbc:h2:mem:test;MODE=LEGACY; and try with  &lt;h2.version&gt;2.1.210&lt;/h2.version&gt;"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685093442,"post_id":76333384,"comment_id":134616412,"body_markdown":"We are already using the Legacy mode, tried removing it, but it has no effect. We are using version 2.1.214. I do not think the issue comes from the H2 package, as we have not changed that and it worked before. The problem appeared after we updated Hibernate to a version greater than 6. Also, the H2Dialect class that does the query parsing/translation is part of Hibernate.","body":"We are already using the Legacy mode, tried removing it, but it has no effect. We are using version 2.1.214. I do not think the issue comes from the H2 package, as we have not changed that and it worked before. The problem appeared after we updated Hibernate to a version greater than 6. Also, the H2Dialect class that does the query parsing/translation is part of Hibernate."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1685094271,"post_id":76333384,"comment_id":134616603,"body_markdown":"This is not an issue with H2, the generated query is obliviously incorrect and will not work in any compatibility mode. (Actually it is a query for very old unsupported versions of H2 Database, they didn&#39;t have row values, it shouldn&#39;t be generated for H2 2.1.214.)","body":"This is not an issue with H2, the generated query is obliviously incorrect and will not work in any compatibility mode. (Actually it is a query for very old unsupported versions of H2 Database, they didn&#39;t have row values, it shouldn&#39;t be generated for H2 2.1.214.)"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685094579,"post_id":76333384,"comment_id":134616678,"body_markdown":"My best guess is that the issue comes from the fact that the version for the H2Dialect object is not setup correctly somehow. But I can&#39;t tell if it is because I am missing something, or it is a bug.","body":"My best guess is that the issue comes from the fact that the version for the H2Dialect object is not setup correctly somehow. But I can&#39;t tell if it is because I am missing something, or it is a bug."}],"answers":[{"tags":[],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686637663,"creation_date":1686636124,"answer_id":76462049,"question_id":76333384,"body_markdown":"This appears to be fixed in version `6.2.4`, at least temporarily. (The default constructor of H2Dialect starts with version `1.4.197` instead of `0.0.0`, also `supportsRowValueConstructorSyntaxInInList` defaults to true).\r\n\r\nBut for us this version introduces new unsolved issue... So if anyone encounters this same issue or something similar, I have found the following set of properties that provide a workaround to the invalid version: \r\n\r\n    jakarta.persistence.database-product-name = H2\r\n    jakarta.persistence.database-major-version = 2\r\n    jakarta.persistence.database-minor-version = 1\r\n\r\nNote this is just for the test configuration.\r\n\r\nEDIT: This also seems to be caused by `hibernate.temp.use_jdbc_metadata_defaults=false`","title":"After Spring boot 3, Hibernate 6 Migration - &#39;IN&#39; clause in subquery no longer working for H2?","body":"<p>This appears to be fixed in version <code>6.2.4</code>, at least temporarily. (The default constructor of H2Dialect starts with version <code>1.4.197</code> instead of <code>0.0.0</code>, also <code>supportsRowValueConstructorSyntaxInInList</code> defaults to true).</p>\n<p>But for us this version introduces new unsolved issue... So if anyone encounters this same issue or something similar, I have found the following set of properties that provide a workaround to the invalid version:</p>\n<pre><code>jakarta.persistence.database-product-name = H2\njakarta.persistence.database-major-version = 2\njakarta.persistence.database-minor-version = 1\n</code></pre>\n<p>Note this is just for the test configuration.</p>\n<p>EDIT: This also seems to be caused by <code>hibernate.temp.use_jdbc_metadata_defaults=false</code></p>\n"}],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687513302,"creation_date":1685024783,"question_id":76333384,"body_markdown":"Recently I have migrated a project to Spring Boot 3 and Java 17.\r\nAnd it seems that there are a lot of bugs with the new Hibernate 6 version?\r\n\r\nThe issue I have encountered and debugged to death is that in our tests running on H2 the IN clauses are not translated correctly. \r\nWe have a query that is dynamically built in the following format:\r\n`DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT calc.calcId,lpqv2.Nr FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId, lpqv2.Nr) IN ((?1,?2),(?3,?4)))`\r\n\r\nWhen executed (The query is executed using JPA&#39;s entity manager) we get the this error:\r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column count does not match; SQL statement:\r\nDELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \r\n(calc.pId=? and lpqv2.Nr))\r\n[21002-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.get(DbException.java:188)\r\n\tat org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:119)\r\n\tat org.h2.value.Value.compareToNotNullable(Value.java:2634)\r\n\tat org.h2.value.Value.compareTo(Value.java:2607)\r\n\tat org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:124)\r\n\tat org.h2.value.Value.compareToNotNullable(Value.java:2634)\r\n\tat org.h2.value.Value.compareTo(Value.java:2607)\r\n\tat org.h2.value.CompareMode.compare(CompareMode.java:280)\r\n\tat org.h2.value.CompareMode.compare(CompareMode.java:20)\r\n\tat java.base/java.util.TreeMap.getEntryUsingComparator(TreeMap.java:374)\r\n\tat java.base/java.util.TreeMap.getEntry(TreeMap.java:344)\r\n\tat java.base/java.util.TreeMap.get(TreeMap.java:279)\r\n\tat org.h2.result.LocalResult.containsDistinct(LocalResult.java:249)\r\n\tat org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:95)\r\n\tat org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:55)\r\n\tat org.h2.expression.Expression.getBooleanValue(Expression.java:332)\r\n\tat org.h2.command.dml.FilteredDataChangeStatement.nextRow(FilteredDataChangeStatement.java:73)\r\n\tat org.h2.command.dml.Delete.update(Delete.java:58)\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.sql.exec.internal.StandardJdbcMutationExecutor.execute(StandardJdbcMutationExecutor.java:84)\r\n\t... 204 common frames omitted\r\n```\r\n\r\nFrom what I can tell it seems that the H2Dialect translation process is faulty:\r\n`DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \r\n(calc.pId=? and lpqv2.Nr))`\r\n\r\nThe issue here, besides that it changes the IN clause, is that the syntax at the start of the subquery is incorrect `(SELECT **(**calc.calcId,lpqv2.Nr**)** FROM LqTable`, the parenthesis should not be there.\r\n\r\n\r\nI have tried every version of Hibernate 6 from 6.0.0 to 6.1.7, and all spring boot versions from 3.0.0 to 3.1.0 just to be sure, but nothing changed. \r\nI have also tried to execute this as a native query but the sql that ends up being executed is somehow even more messed up. \r\n\r\nI have debugged the hibernate code and what I have come up with is that the reason for this mess-up is that when translating the query hibernate checks if there is support for In clauses in subqueries by checking the version of the H2Dialect but this comes up with version 0.0.0. (This is checked in AbstractSqlAstTranslator at line 4281 that basically calls the H2SqlAstTranslator.supportsRowValueConstructorSyntaxInInList which checks that the version is newer than 1.4.197 from what I can tell).\r\n\r\nFrom what I can tell this appears to be a bug?\r\nHas anyone encountered anything like this? Any ideas on how this can be fixed? \r\n","title":"After Spring boot 3, Hibernate 6 Migration - &#39;IN&#39; clause in subquery no longer working for H2?","body":"<p>Recently I have migrated a project to Spring Boot 3 and Java 17.\nAnd it seems that there are a lot of bugs with the new Hibernate 6 version?</p>\n<p>The issue I have encountered and debugged to death is that in our tests running on H2 the IN clauses are not translated correctly.\nWe have a query that is dynamically built in the following format:\n<code>DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT calc.calcId,lpqv2.Nr FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId, lpqv2.Nr) IN ((?1,?2),(?3,?4)))</code></p>\n<p>When executed (The query is executed using JPA's entity manager) we get the this error:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column count does not match; SQL statement:\nDELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \n(calc.pId=? and lpqv2.Nr))\n[21002-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.message.DbException.get(DbException.java:188)\n    at org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:119)\n    at org.h2.value.Value.compareToNotNullable(Value.java:2634)\n    at org.h2.value.Value.compareTo(Value.java:2607)\n    at org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:124)\n    at org.h2.value.Value.compareToNotNullable(Value.java:2634)\n    at org.h2.value.Value.compareTo(Value.java:2607)\n    at org.h2.value.CompareMode.compare(CompareMode.java:280)\n    at org.h2.value.CompareMode.compare(CompareMode.java:20)\n    at java.base/java.util.TreeMap.getEntryUsingComparator(TreeMap.java:374)\n    at java.base/java.util.TreeMap.getEntry(TreeMap.java:344)\n    at java.base/java.util.TreeMap.get(TreeMap.java:279)\n    at org.h2.result.LocalResult.containsDistinct(LocalResult.java:249)\n    at org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:95)\n    at org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:55)\n    at org.h2.expression.Expression.getBooleanValue(Expression.java:332)\n    at org.h2.command.dml.FilteredDataChangeStatement.nextRow(FilteredDataChangeStatement.java:73)\n    at org.h2.command.dml.Delete.update(Delete.java:58)\n    at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.sql.exec.internal.StandardJdbcMutationExecutor.execute(StandardJdbcMutationExecutor.java:84)\n    ... 204 common frames omitted\n</code></pre>\n<p>From what I can tell it seems that the H2Dialect translation process is faulty:\n<code>DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or  (calc.pId=? and lpqv2.Nr))</code></p>\n<p>The issue here, besides that it changes the IN clause, is that the syntax at the start of the subquery is incorrect <code>(SELECT **(**calc.calcId,lpqv2.Nr**)** FROM LqTable</code>, the parenthesis should not be there.</p>\n<p>I have tried every version of Hibernate 6 from 6.0.0 to 6.1.7, and all spring boot versions from 3.0.0 to 3.1.0 just to be sure, but nothing changed.\nI have also tried to execute this as a native query but the sql that ends up being executed is somehow even more messed up.</p>\n<p>I have debugged the hibernate code and what I have come up with is that the reason for this mess-up is that when translating the query hibernate checks if there is support for In clauses in subqueries by checking the version of the H2Dialect but this comes up with version 0.0.0. (This is checked in AbstractSqlAstTranslator at line 4281 that basically calls the H2SqlAstTranslator.supportsRowValueConstructorSyntaxInInList which checks that the version is newer than 1.4.197 from what I can tell).</p>\n<p>From what I can tell this appears to be a bug?\nHas anyone encountered anything like this? Any ideas on how this can be fixed?</p>\n"},{"tags":["java","spring","spring-boot","hana","hibernate-6.x"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1685126129,"post_id":76338130,"comment_id":134623038,"body_markdown":"Have you tried asking on a Hibernate forum? If the behavior has changed and you can identify the code that changed, and you think this is a bug, you can file a report on the [Hibernate JIRA](https://hibernate.atlassian.net/browse).  Also [this bug](https://hibernate.atlassian.net/browse/HHH-10174?search_id=683408d3-7d41-4ce0-baaa-7a8979510df8)?","body":"Have you tried asking on a Hibernate forum? If the behavior has changed and you can identify the code that changed, and you think this is a bug, you can file a report on the <a href=\"https://hibernate.atlassian.net/browse\" rel=\"nofollow noreferrer\">Hibernate JIRA</a>.  Also <a href=\"https://hibernate.atlassian.net/browse/HHH-10174?search_id=683408d3-7d41-4ce0-baaa-7a8979510df8\" rel=\"nofollow noreferrer\">this bug</a>?"}],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687513292,"creation_date":1685082313,"question_id":76338130,"body_markdown":"Recently upgraded to Spring boot 3 and implicitly yo hibernate 6.\r\nOne issue I am facing is that depending on the annotations on an Entity class, the table name is parsed differently.\r\n\r\nFor example I have this entity class \r\n\r\n    @Entity\r\n    @Table(name = Folder.TABLE_NAME)\r\n    @SecondaryTable(name = RelationView.TABLE_NAME, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;NODE&quot;))\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Folder extends Entity&lt;Folder, Integer&gt; {\r\n    \r\n        public static final String TABLE_NAME_NO_QUOTES = &quot;com.proj.db::base.folder&quot;;\r\n    \r\n        public static final String TABLE_NAME = &quot;`&quot; + TABLE_NAME_NO_QUOTES + &quot;`&quot;;\r\n    \r\n        @Id\r\n        @Column(name = &quot;ENTITY_ID&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ENTITY_SEQUENCE&quot;)\r\n        @GenericGenerator(name = &quot;ENTITY_SEQUENCE&quot;,\r\n                strategy = ...SequenceStyleGenerator&quot;)\r\n        private Integer folderId;\r\n    ...other fields\r\n\r\nWhen I try to start up the application it fails with:\r\n\r\n    Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n            - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableMutationStrategy` interpretation\r\n            - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableInsertStrategy` interpretation\r\n    \r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:40)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:142)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n    \t... 54 more\r\n    \tSuppressed: org.hibernate.HibernateException: Unable to parse object name: &quot;com.proj.db::base.folder&quot;\r\n    \t\tat org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:149)\r\n    \t\tat org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:199)\r\n    \t\tat org.hibernate.dialect.temptable.TemporaryTable.&lt;init&gt;(TemporaryTable.java:83)\r\n    \t\tat org.hibernate.dialect.temptable.TemporaryTable.createEntityTable(TemporaryTable.java:302)\r\n    \t\tat org.hibernate.dialect.H2Dialect.getFallbackSqmInsertStrategy(H2Dialect.java:693)\r\n    \t\tat org.hibernate.query.sqm.mutation.internal.SqmMultiTableMutationStrategyProviderStandard.createInsertStrategy(SqmMultiTableMutationStrategyProviderStandard.java:53)\r\n    \t\tat org.hibernate.persister.entity.AbstractEntityPersister.interpretSqmMultiTableInsertStrategy(AbstractEntityPersister.java:4807)\r\n    \t\tat org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$17(AbstractEntityPersister.java:4659)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 64 more\r\n\r\nIf I remove the @GeneratedValue, @GenericGenerator and anything related to the @SecondaryTable annotation everything works fine. \r\nI also have the physical naming strategy set up in my application.yaml.\r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nFrom what I can tell looking in the hibernate code the issue comes from org.hibernate.dialect.temptable.TemporaryTable constructor, which from version 6.1.4 has changed the way it parses the table name to use QualifiedNameParser which is incompatible with our naming convention (we use a Hana database) and also seems to ignore the physical naming strategy property.\r\n\r\nHas anyone encountered anything similar? Am I missing something? Is there a new property that I have missed?","title":"Hibernate 6 issues with table name","body":"<p>Recently upgraded to Spring boot 3 and implicitly yo hibernate 6.\nOne issue I am facing is that depending on the annotations on an Entity class, the table name is parsed differently.</p>\n<p>For example I have this entity class</p>\n<pre><code>@Entity\n@Table(name = Folder.TABLE_NAME)\n@SecondaryTable(name = RelationView.TABLE_NAME, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;NODE&quot;))\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Folder extends Entity&lt;Folder, Integer&gt; {\n\n    public static final String TABLE_NAME_NO_QUOTES = &quot;com.proj.db::base.folder&quot;;\n\n    public static final String TABLE_NAME = &quot;`&quot; + TABLE_NAME_NO_QUOTES + &quot;`&quot;;\n\n    @Id\n    @Column(name = &quot;ENTITY_ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ENTITY_SEQUENCE&quot;)\n    @GenericGenerator(name = &quot;ENTITY_SEQUENCE&quot;,\n            strategy = ...SequenceStyleGenerator&quot;)\n    private Integer folderId;\n...other fields\n</code></pre>\n<p>When I try to start up the application it fails with:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableMutationStrategy` interpretation\n        - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableInsertStrategy` interpretation\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:40)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:142)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 54 more\n    Suppressed: org.hibernate.HibernateException: Unable to parse object name: &quot;com.proj.db::base.folder&quot;\n        at org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:149)\n        at org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:199)\n        at org.hibernate.dialect.temptable.TemporaryTable.&lt;init&gt;(TemporaryTable.java:83)\n        at org.hibernate.dialect.temptable.TemporaryTable.createEntityTable(TemporaryTable.java:302)\n        at org.hibernate.dialect.H2Dialect.getFallbackSqmInsertStrategy(H2Dialect.java:693)\n        at org.hibernate.query.sqm.mutation.internal.SqmMultiTableMutationStrategyProviderStandard.createInsertStrategy(SqmMultiTableMutationStrategyProviderStandard.java:53)\n        at org.hibernate.persister.entity.AbstractEntityPersister.interpretSqmMultiTableInsertStrategy(AbstractEntityPersister.java:4807)\n        at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$17(AbstractEntityPersister.java:4659)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 64 more\n</code></pre>\n<p>If I remove the @GeneratedValue, @GenericGenerator and anything related to the @SecondaryTable annotation everything works fine.\nI also have the physical naming strategy set up in my application.yaml.</p>\n<blockquote>\n<p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n<p>From what I can tell looking in the hibernate code the issue comes from org.hibernate.dialect.temptable.TemporaryTable constructor, which from version 6.1.4 has changed the way it parses the table name to use QualifiedNameParser which is incompatible with our naming convention (we use a Hana database) and also seems to ignore the physical naming strategy property.</p>\n<p>Has anyone encountered anything similar? Am I missing something? Is there a new property that I have missed?</p>\n"},{"tags":["java","spring-boot","metrics","spring-webclient"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1685641892,"post_id":76375413,"comment_id":134692635,"body_markdown":"WebClient observation is supported and you&#39;re only supposed to get &quot;None&quot; values for uri template tags if your usage of WebClient leverages expanded URIs instead of URI templates. Please update your question with a code snippet showing how WebClient is being used.","body":"WebClient observation is supported and you&#39;re only supposed to get &quot;None&quot; values for uri template tags if your usage of WebClient leverages expanded URIs instead of URI templates. Please update your question with a code snippet showing how WebClient is being used."}],"owner":{"account_id":13366317,"reputation":113,"user_id":9646463,"display_name":"Abhay Nagaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687513252,"creation_date":1685549136,"question_id":76375413,"body_markdown":"\r\nThis was a very useful [blog post][1]. \r\nAlthough, I could follow it through to have a client and server application running with observation in place, I was further trying to match my actual use case with this application setup, which includes WebClient bean that is being instrumented but, comes back with empty or &quot;None&quot; uri values in the http_client metrics. And in order to tackle this scenario, what I had to do in the past was to use a webclient customizer that took the webclient.builder as an argument and customizes the bean to add http_client metrics and the URI showed up. \r\nBut, here when I try a similar approach with our ObservationWebCientCustomizer Object, it doesn&#39;t have any effect and the very @Autowire of the customizer object is making the http_client metrics go missing. \r\nUpon removal of the @Autowired injections, the metrics come back but with an empty uri value. \r\nThis is especially for the WebClient bean variants and not for the RestTemplate bean. \r\nAny thoughts or examples of the usage and ways to customize our metrics in Spring Boot 3.x would be really appreciated?\r\nQuestions:\r\n1. Does Spring Boot 3 support observation for Webclient beans like it does for RestTemplate?\r\n2. Any reason for choosing RestTemplate instead of WebClient in this example?\r\n3. How do we customize or use the WebClient and RestTemplate Customizers? What are their uses?\r\n4. Do we have to use ObservationHandlers on the Client app too in order to be able to observe the http client calls?\r\n\r\nThank you, in advance. This could help many other people I have seen facing a similar situation. \r\n\r\n\r\n  [1]: https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\r\n\r\n@Brian Clozel It would be great to hear your thoughts on this","title":"Spring Boot 3.x With WebClient and ObservationWebClientCustomizer","body":"<p>This was a very useful <a href=\"https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\" rel=\"nofollow noreferrer\">blog post</a>.\nAlthough, I could follow it through to have a client and server application running with observation in place, I was further trying to match my actual use case with this application setup, which includes WebClient bean that is being instrumented but, comes back with empty or &quot;None&quot; uri values in the http_client metrics. And in order to tackle this scenario, what I had to do in the past was to use a webclient customizer that took the webclient.builder as an argument and customizes the bean to add http_client metrics and the URI showed up.\nBut, here when I try a similar approach with our ObservationWebCientCustomizer Object, it doesn't have any effect and the very @Autowire of the customizer object is making the http_client metrics go missing.\nUpon removal of the @Autowired injections, the metrics come back but with an empty uri value.\nThis is especially for the WebClient bean variants and not for the RestTemplate bean.\nAny thoughts or examples of the usage and ways to customize our metrics in Spring Boot 3.x would be really appreciated?\nQuestions:</p>\n<ol>\n<li>Does Spring Boot 3 support observation for Webclient beans like it does for RestTemplate?</li>\n<li>Any reason for choosing RestTemplate instead of WebClient in this example?</li>\n<li>How do we customize or use the WebClient and RestTemplate Customizers? What are their uses?</li>\n<li>Do we have to use ObservationHandlers on the Client app too in order to be able to observe the http client calls?</li>\n</ol>\n<p>Thank you, in advance. This could help many other people I have seen facing a similar situation.</p>\n<p>@Brian Clozel It would be great to hear your thoughts on this</p>\n"},{"tags":["java","spring","spring-boot","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685629187,"post_id":76381621,"comment_id":134689605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8731,"reputation":1639,"user_id":15878,"accept_rate":62,"display_name":"tropikalista"},"score":0,"creation_date":1695217582,"post_id":76381621,"comment_id":135994950,"body_markdown":"The class used here does not exist any more in camel 4.0 https://javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/camel/spi/XMLRoutesDefinitionLoader.html. Question is how to load XML Routes without this class?","body":"The class used here does not exist any more in camel 4.0 <a href=\"https://javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/camel/spi/XMLRoutesDefinitionLoader.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/&zwnj;&#8203;&hellip;</a>. Question is how to load XML Routes without this class?"}],"owner":{"account_id":28727363,"reputation":19,"user_id":21999980,"display_name":"Pavlos Apostolatos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1687513212,"creation_date":1685620653,"question_id":76381621,"body_markdown":"In preparation of the release of Camel 4.0 i am trying to find a way to migrate my methods which create `Route` or `RouteDefinition` objects from a XML file with routes written like:\r\n```\r\n&lt;routes xmlns=&quot;http://camel.apache.org/schema/spring&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://camel.apache.org/schema/spring\r\n      \t\t\t\t\t\thttp://camel.apache.org/schema/spring/camel-spring-3.20.2.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;route id=....&gt;\r\n......\r\n\t&lt;/route&gt;\r\n&lt;/routes&gt;\r\n\r\n```\r\nso they can be loaded into CamelContext\r\n\r\n\r\nIn Camel 3.20 i was loading them into the CamelContext like\r\n\r\n```\r\n            String xmlContent = myBean.getXMLFileContent();//imagine this string&#39;s content is as described above\r\n//I am open to converting this string into a java.io.File and new methodologies that the Camel team is leaning towards\r\n            try (InputStream is = new ByteArrayInputStream(xmlContent.getBytes())) {\r\n\r\n                XMLRoutesDefinitionLoader loader =   extendedCamelContext.getXMLRoutesDefinitionLoader();\r\n                RoutesDefinition routesDefinition = (RoutesDefinition) loader.loadRoutesDefinition(camelContext, is);\r\n                modelCamelContext.addRouteDefinitions(routesDefinition.getRoutes());\r\n            }\r\n```\r\n\r\nby importing\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-xml-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Create Route from XML in Camel 4.0","body":"<p>In preparation of the release of Camel 4.0 i am trying to find a way to migrate my methods which create <code>Route</code> or <code>RouteDefinition</code> objects from a XML file with routes written like:</p>\n<pre><code>&lt;routes xmlns=&quot;http://camel.apache.org/schema/spring&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://camel.apache.org/schema/spring\n                            http://camel.apache.org/schema/spring/camel-spring-3.20.2.xsd&quot;&gt;\n\n\n    &lt;route id=....&gt;\n......\n    &lt;/route&gt;\n&lt;/routes&gt;\n\n</code></pre>\n<p>so they can be loaded into CamelContext</p>\n<p>In Camel 3.20 i was loading them into the CamelContext like</p>\n<pre><code>            String xmlContent = myBean.getXMLFileContent();//imagine this string's content is as described above\n//I am open to converting this string into a java.io.File and new methodologies that the Camel team is leaning towards\n            try (InputStream is = new ByteArrayInputStream(xmlContent.getBytes())) {\n\n                XMLRoutesDefinitionLoader loader =   extendedCamelContext.getXMLRoutesDefinitionLoader();\n                RoutesDefinition routesDefinition = (RoutesDefinition) loader.loadRoutesDefinition(camelContext, is);\n                modelCamelContext.addRouteDefinitions(routesDefinition.getRoutes());\n            }\n</code></pre>\n<p>by importing</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xml-io&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","snakeyaml","trivy"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1686321273,"post_id":76440881,"comment_id":134787183,"body_markdown":"Related: [Is snakeyaml 2.0 added in the new Spring boot versions?](https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions) ([this comment](https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions#comment133864016_75875594) in particular).","body":"Related: <a href=\"https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions\">Is snakeyaml 2.0 added in the new Spring boot versions?</a> (<a href=\"https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions#comment133864016_75875594\">this comment</a> in particular)."},{"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"score":1,"creation_date":1691728363,"post_id":76440881,"comment_id":135533574,"body_markdown":"As per my testing, Spring Boot `3.1.0` (even `3.1.2`) + SnakeYAML `2.0` works. There is no issue reading config properties from a YAML config file in `src/main/resources`. Perhaps you can share an MVP project that can show that it fails.","body":"As per my testing, Spring Boot <code>3.1.0</code> (even <code>3.1.2</code>) + SnakeYAML <code>2.0</code> works. There is no issue reading config properties from a YAML config file in <code>src&#47;main&#47;resources</code>. Perhaps you can share an MVP project that can show that it fails."}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687513104,"answer_count":0,"score":0,"last_activity_date":1687513063,"creation_date":1686318336,"question_id":76440881,"body_markdown":"I have upgraded from `Springboot 2.7.12` to `3.1.0` in order to upgrade `Snakeyaml` dependency to 2.0 version, which isn&#39;t vulnerable. That required gradle and java version upgrade.\r\n\r\nHowever, now I&#39;m getting the below error, thre `2.0 snakeyaml` isn&#39;t compatible. How to work that around?\r\n\r\n    16:38:31.540 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method &#39;void &lt;init&gt;()&#39; not found\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:74)\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:69)\r\n    \tat org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:164)\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:82)\r\n    \tat org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:632)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:534)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:501)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:471)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$7(ConfigFileApplicationListener.java:450)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$8(ConfigFileApplicationListener.java:450)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:447)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$0(ConfigFileApplicationListener.java:350)\r\n    \tat org.springframework.boot.context.config.FilteredPropertySource.apply(FilteredPropertySource.java:54)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:338)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:229)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:213)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:203)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:191)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat rf.dom.billing.ap.Application.main(Application.java:24)\r\n\r\n","title":"implementation &#39;org.yaml:snakeyaml:2.0&#39; doesn&#39;t work even with springboot 3.1.0","body":"<p>I have upgraded from <code>Springboot 2.7.12</code> to <code>3.1.0</code> in order to upgrade <code>Snakeyaml</code> dependency to 2.0 version, which isn't vulnerable. That required gradle and java version upgrade.</p>\n<p>However, now I'm getting the below error, thre <code>2.0 snakeyaml</code> isn't compatible. How to work that around?</p>\n<pre><code>16:38:31.540 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method 'void &lt;init&gt;()' not found\n    at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:74)\n    at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:69)\n    at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:164)\n    at org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:82)\n    at org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:632)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:534)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:501)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:471)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$7(ConfigFileApplicationListener.java:450)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$8(ConfigFileApplicationListener.java:450)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:447)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$0(ConfigFileApplicationListener.java:350)\n    at org.springframework.boot.context.config.FilteredPropertySource.apply(FilteredPropertySource.java:54)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:338)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:229)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:213)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:203)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:191)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at rf.dom.billing.ap.Application.main(Application.java:24)\n</code></pre>\n"},{"tags":["java","samba"],"answers":[{"comments":[{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1617184025,"post_id":66869436,"comment_id":118230785,"body_markdown":"I read the documentation, but still have some questions. How am I going connect to samba itself? Do I need any password or login? I have a problem with accessing.","body":"I read the documentation, but still have some questions. How am I going connect to samba itself? Do I need any password or login? I have a problem with accessing."},{"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"score":0,"creation_date":1617186713,"post_id":66869436,"comment_id":118231998,"body_markdown":"I have no idea, I have never used the Samba Client. Presumably you&#39;ll provide credentials when you create the bean for the client itself, but that&#39;s just my guess based off of other clients.","body":"I have no idea, I have never used the Samba Client. Presumably you&#39;ll provide credentials when you create the bean for the client itself, but that&#39;s just my guess based off of other clients."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":2,"creation_date":1688061601,"post_id":66869436,"comment_id":135026809,"body_markdown":"@AlexWhite - this may help. Spring - SMB Session Factory: https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb-session-factory","body":"@AlexWhite - this may help. Spring - SMB Session Factory: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb-session-factory\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617100874,"creation_date":1617100874,"answer_id":66869436,"question_id":66868818,"body_markdown":"You can look into [Spring Integration][1] and use the SMB extension it provides\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThere&#39;s a short example [here][2], but you have to be familiar with how Spring Integration works.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-integration\r\n  [2]: https://spring.io/blog/2017/01/18/spring-integration-extension-for-smb-0-5-0-is-available","title":"Connecting to samba server from spring boot application","body":"<p>You can look into <a href=\"https://spring.io/projects/spring-integration\" rel=\"nofollow noreferrer\">Spring Integration</a> and use the SMB extension it provides</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There's a short example <a href=\"https://spring.io/blog/2017/01/18/spring-integration-extension-for-smb-0-5-0-is-available\" rel=\"nofollow noreferrer\">here</a>, but you have to be familiar with how Spring Integration works.</p>\n"}],"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2769,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687512763,"creation_date":1617098714,"question_id":66868818,"body_markdown":"I have a spring boot app and a samba server running in a kubernetes cluster. How I can connect to this server from my app? Is there any gradle library for samba server? Explanation will be appreciated.","title":"Connecting to samba server from spring boot application","body":"<p>I have a spring boot app and a samba server running in a kubernetes cluster. How I can connect to this server from my app? Is there any gradle library for samba server? Explanation will be appreciated.</p>\n"},{"tags":["java","grpc","grpc-java","grpc-web"],"comments":[{"owner":{"account_id":69996,"reputation":835,"user_id":203403,"display_name":"Sampajano"},"score":0,"creation_date":1687460893,"post_id":76524868,"comment_id":134943883,"body_markdown":"hi! grpc-web team here &#128515;\n\nif you could, could you also post the question on https://github.com/grpc/grpc-web/ - as it might get more attention and help from community there? &#128515;\n\nmy suggestion would be to isolate the issue by swapping out different component of your stack (e.g. change BE with a standard one in our demo), and see if an issue with the BE, proxy, or the client.\n\nSometimes, there could be a &quot;buffering proxy&quot; in between like a anti-virus software, which would buffer network response until streaming is finished too so that&#39;s another factor.\n\nhope this helps :)","body":"hi! grpc-web team here 😃  if you could, could you also post the question on <a href=\"https://github.com/grpc/grpc-web/\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-web</a> - as it might get more attention and help from community there? 😃  my suggestion would be to isolate the issue by swapping out different component of your stack (e.g. change BE with a standard one in our demo), and see if an issue with the BE, proxy, or the client.  Sometimes, there could be a &quot;buffering proxy&quot; in between like a anti-virus software, which would buffer network response until streaming is finished too so that&#39;s another factor.  hope this helps :)"},{"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"score":0,"creation_date":1687512842,"post_id":76524868,"comment_id":134950548,"body_markdown":"Hey @Sampajano, I have answered my question because I found a workaround. Do you think this is something that we need to open an issue on Github?","body":"Hey @Sampajano, I have answered my question because I found a workaround. Do you think this is something that we need to open an issue on Github?"},{"owner":{"account_id":69996,"reputation":835,"user_id":203403,"display_name":"Sampajano"},"score":0,"creation_date":1693437291,"post_id":76524868,"comment_id":135762692,"body_markdown":"Hi Vitor, I&#39;m glad to hear that you&#39;ve figured out a solution! &#128515; So actually you&#39;re right, that only grpcwebtext mode supports streaming.. It&#39;s currently documented here https://github.com/grpc/grpc-web#streaming-support, but you&#39;re very welcome to suggest ways to make this information more prominent so future people can avoid the same mistake. Thanks! &#128515;","body":"Hi Vitor, I&#39;m glad to hear that you&#39;ve figured out a solution! 😃 So actually you&#39;re right, that only grpcwebtext mode supports streaming.. It&#39;s currently documented here <a href=\"https://github.com/grpc/grpc-web#streaming-support\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-web#streaming-support</a>, but you&#39;re very welcome to suggest ways to make this information more prominent so future people can avoid the same mistake. Thanks! 😃"}],"answers":[{"tags":[],"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687512751,"creation_date":1687512751,"answer_id":76538802,"question_id":76524868,"body_markdown":"To whomever bumped into this, I found a workaround. The problem wasn&#39;t in the Backend nor the Envoy proxy but on how I compiled the proto stubs. For some reason reason when I compiled with the options:\r\n\r\n```\r\n--js_out=import_style=commonjs,binary:$OUT_DIR --grpc-web_out=import_style=typescript,mode=grpcweb:$OUT_DIR\r\n```\r\n\r\nI just got the data when the stream was closed on server-side. But when I compiled with:\r\n\r\n```\r\n--grpc-web_out=import_style=typescript,mode=grpcwebtext:$OUT_DIR\r\n```\r\n\r\nBasically changing from `mode=grpcweb` to `mode=grpcwebtext` did the trick. The stream worked normally, sending the data every 2 seconds as expected.","title":"GRPC-Web Stream: Only receiving data when stream is closed","body":"<p>To whomever bumped into this, I found a workaround. The problem wasn't in the Backend nor the Envoy proxy but on how I compiled the proto stubs. For some reason reason when I compiled with the options:</p>\n<pre><code>--js_out=import_style=commonjs,binary:$OUT_DIR --grpc-web_out=import_style=typescript,mode=grpcweb:$OUT_DIR\n</code></pre>\n<p>I just got the data when the stream was closed on server-side. But when I compiled with:</p>\n<pre><code>--grpc-web_out=import_style=typescript,mode=grpcwebtext:$OUT_DIR\n</code></pre>\n<p>Basically changing from <code>mode=grpcweb</code> to <code>mode=grpcwebtext</code> did the trick. The stream worked normally, sending the data every 2 seconds as expected.</p>\n"}],"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687512751,"creation_date":1687360825,"question_id":76524868,"body_markdown":"I have setup a simple Java &amp; Spring Boot backend in order to stream data to a gRPC-web client.\r\n\r\nThe Streaming is working as expected when calling from Postman. I call the endpoint and receive the data every 2 seconds.\r\n\r\nBut when I start the stream from the web client, I only get the data once the stream is closed on server-side. I can&#39;t figure out why this is happening.\r\n\r\nI have the Envoy gateway to proxy the calls from the FE to BE. This is the whole code I have:\r\n\r\nProto Definition:\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage com.example.api;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;com.example.api&quot;;\r\n\r\nservice SSEService {\r\n  rpc Connect (SSEConnectionRequest) returns (stream SSEMessageResponse) {}\r\n  rpc Ping (PingRequest) returns (PongResponse) {}\r\n}\r\n\r\nmessage SSEConnectionRequest {\r\n  repeated string topics = 1;\r\n}\r\n\r\nmessage SSEMessageResponse {\r\n  string id = 1;\r\n  string type = 2;\r\n  string payload = 3;\r\n}\r\n\r\nmessage PingRequest {\r\n  string message = 1;\r\n}\r\n\r\nmessage PongResponse {\r\n  string message = 1;\r\n}\r\n```\r\n\r\nThis the Backend handler:\r\n\r\n```\r\n@GrpcService\r\n@Slf4j\r\npublic class SSEHandler extends SSEServiceGrpc.SSEServiceImplBase {\r\n    @SneakyThrows\r\n    @Override\r\n    public void connect(SSEConnectionRequest request, StreamObserver&lt;SSEMessageResponse&gt; responseObserver) {\r\n        var newObserver = (ServerCallStreamObserver&lt;SSEMessageResponse&gt;) responseObserver;\r\n        log.info(&quot;Is observer ready? {}&quot;, newObserver.isReady());\r\n\r\n        while(!newObserver.isReady()) {\r\n            log.info(&quot;Waiting for the stream to be ready&quot;);\r\n        }\r\n\r\n        for (var i = 0; i &lt; 5; i++) {\r\n            var response = SSEMessageResponse.newBuilder()\r\n                .setId(UUID.randomUUID().toString())\r\n                .setType(&quot;MessageType&quot;)\r\n                .setPayload(&quot;Message number #&quot; + i)\r\n                .build();\r\n\r\n            log.info(&quot;Sending response down the stream to client. Number {}&quot;, i);\r\n            newObserver.onNext(response);\r\n\r\n            Thread.sleep(2000);\r\n        }\r\n            responseObserver.onCompleted();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void ping(PingRequest request, StreamObserver&lt;PongResponse&gt; responseObserver) {\r\n        log.info(&quot;Will send a response now&quot;);\r\n        var response = PongResponse.newBuilder()\r\n            .setMessage(&quot;Test response&quot;)\r\n            .build();\r\n\r\n        responseObserver.onNext(response);\r\n        responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\n\r\nThis is the web client:\r\n\r\n```\r\nconst grpcClient = new SSEServiceClient(&#39;http://localhost:9999&#39;);\r\nconst stream =   grpcClient.connect(new SSEConnectionRequest());\r\n    stream.on(&#39;data&#39;, (data: SSEMessageResponse) =&gt; {\r\n      console.log(&#39;data&#39;, data);\r\n    });\r\n\r\n    stream.on(&#39;status&#39;, (status: any) =&gt; {\r\n      console.log(&#39;STATUS&#39;, status);\r\n    });\r\n\r\n    stream.on(&#39;error&#39;, (e: Error) =&gt; {\r\n      console.log(&#39;error&#39;, e);\r\n      stream.cancel();\r\n    });\r\n```\r\n\r\nAnd this is the Envoy static config:\r\n```\r\nadmin:\r\n  access_log_path: /tmp/admin_access.log\r\n  address:\r\n    socket_address: { address: 0.0.0.0, port_value: 9901 }\r\n\r\nstatic_resources:\r\n  listeners:\r\n    - name: listener_0\r\n      address:\r\n        socket_address: { address: 0.0.0.0, port_value: 9999 }\r\n      filter_chains:\r\n        - filters:\r\n          - name: envoy.filters.network.http_connection_manager\r\n            typed_config:\r\n              &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\r\n              codec_type: auto\r\n              stat_prefix: ingress_http\r\n              stream_idle_timeout: 0s\r\n              route_config:\r\n                name: local_route\r\n                virtual_hosts:\r\n                  - name: local_service\r\n                    domains: [&quot;*&quot;]\r\n                    routes:\r\n                      - match: { prefix: &quot;/&quot; }\r\n                        route:\r\n                          cluster: sse_service\r\n                          timeout: 0s\r\n                          max_stream_duration:\r\n                            grpc_timeout_header_max: 0s\r\n                    cors:\r\n                      allow_origin_string_match:\r\n                        - prefix: &quot;*&quot;\r\n                      allow_methods: GET, PUT, DELETE, POST, OPTIONS\r\n                      allow_headers: keep-alive,user-agent,cache-control,content-type,content-transfer-encoding,custom-header-1,x-accept-content-transfer-encoding,x-accept-response-streaming,x-user-agent,x-grpc-web,grpc-timeout\r\n                      max_age: &quot;1728000&quot;\r\n                      expose_headers: custom-header-1,grpc-status,grpc-message\r\n              http_filters:\r\n                - name: envoy.filters.http.grpc_web\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.grpc_web.v3.GrpcWeb\r\n                - name: envoy.filters.http.cors\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors\r\n                - name: envoy.filters.http.router\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.router.v3.Router\r\n  clusters:\r\n    - name: sse_service\r\n      connect_timeout: 60s\r\n      type: logical_dns\r\n      typed_extension_protocol_options:\r\n        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:\r\n          &quot;@type&quot;: type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions\r\n          explicit_http_config:\r\n            http2_protocol_options: {}\r\n      http2_protocol_options: {}\r\n      lb_policy: round_robin\r\n      load_assignment:\r\n        cluster_name: cluster_0\r\n        endpoints:\r\n          - lb_endpoints:\r\n            - endpoint:\r\n                address:\r\n                  socket_address:\r\n                    address: localhost\r\n                    port_value: 9090\r\n```\r\n\r\n\r\nAny clue on what my be going on?","title":"GRPC-Web Stream: Only receiving data when stream is closed","body":"<p>I have setup a simple Java &amp; Spring Boot backend in order to stream data to a gRPC-web client.</p>\n<p>The Streaming is working as expected when calling from Postman. I call the endpoint and receive the data every 2 seconds.</p>\n<p>But when I start the stream from the web client, I only get the data once the stream is closed on server-side. I can't figure out why this is happening.</p>\n<p>I have the Envoy gateway to proxy the calls from the FE to BE. This is the whole code I have:</p>\n<p>Proto Definition:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage com.example.api;\n\noption java_multiple_files = true;\noption java_package = &quot;com.example.api&quot;;\n\nservice SSEService {\n  rpc Connect (SSEConnectionRequest) returns (stream SSEMessageResponse) {}\n  rpc Ping (PingRequest) returns (PongResponse) {}\n}\n\nmessage SSEConnectionRequest {\n  repeated string topics = 1;\n}\n\nmessage SSEMessageResponse {\n  string id = 1;\n  string type = 2;\n  string payload = 3;\n}\n\nmessage PingRequest {\n  string message = 1;\n}\n\nmessage PongResponse {\n  string message = 1;\n}\n</code></pre>\n<p>This the Backend handler:</p>\n<pre><code>@GrpcService\n@Slf4j\npublic class SSEHandler extends SSEServiceGrpc.SSEServiceImplBase {\n    @SneakyThrows\n    @Override\n    public void connect(SSEConnectionRequest request, StreamObserver&lt;SSEMessageResponse&gt; responseObserver) {\n        var newObserver = (ServerCallStreamObserver&lt;SSEMessageResponse&gt;) responseObserver;\n        log.info(&quot;Is observer ready? {}&quot;, newObserver.isReady());\n\n        while(!newObserver.isReady()) {\n            log.info(&quot;Waiting for the stream to be ready&quot;);\n        }\n\n        for (var i = 0; i &lt; 5; i++) {\n            var response = SSEMessageResponse.newBuilder()\n                .setId(UUID.randomUUID().toString())\n                .setType(&quot;MessageType&quot;)\n                .setPayload(&quot;Message number #&quot; + i)\n                .build();\n\n            log.info(&quot;Sending response down the stream to client. Number {}&quot;, i);\n            newObserver.onNext(response);\n\n            Thread.sleep(2000);\n        }\n            responseObserver.onCompleted();\n\n    }\n\n    @Override\n    public void ping(PingRequest request, StreamObserver&lt;PongResponse&gt; responseObserver) {\n        log.info(&quot;Will send a response now&quot;);\n        var response = PongResponse.newBuilder()\n            .setMessage(&quot;Test response&quot;)\n            .build();\n\n        responseObserver.onNext(response);\n        responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>This is the web client:</p>\n<pre><code>const grpcClient = new SSEServiceClient('http://localhost:9999');\nconst stream =   grpcClient.connect(new SSEConnectionRequest());\n    stream.on('data', (data: SSEMessageResponse) =&gt; {\n      console.log('data', data);\n    });\n\n    stream.on('status', (status: any) =&gt; {\n      console.log('STATUS', status);\n    });\n\n    stream.on('error', (e: Error) =&gt; {\n      console.log('error', e);\n      stream.cancel();\n    });\n</code></pre>\n<p>And this is the Envoy static config:</p>\n<pre><code>admin:\n  access_log_path: /tmp/admin_access.log\n  address:\n    socket_address: { address: 0.0.0.0, port_value: 9901 }\n\nstatic_resources:\n  listeners:\n    - name: listener_0\n      address:\n        socket_address: { address: 0.0.0.0, port_value: 9999 }\n      filter_chains:\n        - filters:\n          - name: envoy.filters.network.http_connection_manager\n            typed_config:\n              &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n              codec_type: auto\n              stat_prefix: ingress_http\n              stream_idle_timeout: 0s\n              route_config:\n                name: local_route\n                virtual_hosts:\n                  - name: local_service\n                    domains: [&quot;*&quot;]\n                    routes:\n                      - match: { prefix: &quot;/&quot; }\n                        route:\n                          cluster: sse_service\n                          timeout: 0s\n                          max_stream_duration:\n                            grpc_timeout_header_max: 0s\n                    cors:\n                      allow_origin_string_match:\n                        - prefix: &quot;*&quot;\n                      allow_methods: GET, PUT, DELETE, POST, OPTIONS\n                      allow_headers: keep-alive,user-agent,cache-control,content-type,content-transfer-encoding,custom-header-1,x-accept-content-transfer-encoding,x-accept-response-streaming,x-user-agent,x-grpc-web,grpc-timeout\n                      max_age: &quot;1728000&quot;\n                      expose_headers: custom-header-1,grpc-status,grpc-message\n              http_filters:\n                - name: envoy.filters.http.grpc_web\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.grpc_web.v3.GrpcWeb\n                - name: envoy.filters.http.cors\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors\n                - name: envoy.filters.http.router\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.router.v3.Router\n  clusters:\n    - name: sse_service\n      connect_timeout: 60s\n      type: logical_dns\n      typed_extension_protocol_options:\n        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:\n          &quot;@type&quot;: type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions\n          explicit_http_config:\n            http2_protocol_options: {}\n      http2_protocol_options: {}\n      lb_policy: round_robin\n      load_assignment:\n        cluster_name: cluster_0\n        endpoints:\n          - lb_endpoints:\n            - endpoint:\n                address:\n                  socket_address:\n                    address: localhost\n                    port_value: 9090\n</code></pre>\n<p>Any clue on what my be going on?</p>\n"},{"tags":["java","xjc"],"owner":{"account_id":1754229,"reputation":96,"user_id":1602621,"display_name":"zsoltii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687512266,"creation_date":1687512266,"question_id":76538739,"body_markdown":"I have 4 xsd-s. The main xsd include an other one with contains same name elements and I have a catalog.xml. The company policy doesn&#39;t allow to change these xsd-s (don&#39;t ask why)\r\n\r\nIf I generate java class and compile only the one xsd, which contains the same name elements, I can make it with a binding.xml.\r\nWhen I try to generate java class and compile from the main xsd, I cannot figure out, how I have to write the binding file.\r\n\r\nMain xsd: `object.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xs:schema\r\n\t\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\txmlns:ac=&quot;http://aa.com/common&quot;\r\n\t\ttargetNamespace=&quot;http://aa.com/&quot;\r\n\t\txmlns:tns=&quot;http://aa.com/&quot;\r\n\t\telementFormDefault=&quot;qualified&quot;\r\n\t\tattributeFormDefault=&quot;unqualified&quot;&gt;\r\n\t&lt;xs:import namespace=&quot;http://aa.com/common&quot;/&gt;\r\n\t&lt;xs:include schemaLocation=&quot;http://aa.com/include_good.xsd&quot;/&gt;\r\n\t&lt;xs:include schemaLocation=&quot;http://aa.com/include_same_name_fields.xsd&quot;/&gt;\r\n\t&lt;xs:element name=&quot;ARequest&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:complexContent&gt;\r\n\t\t\t\t&lt;xs:extension base=&quot;ac:GeneralRequest&quot;&gt;\r\n\t\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t\t&lt;xs:element name=&quot;body&quot; type=&quot;tns:ARequestBodyType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t\t&lt;/xs:extension&gt;\r\n\t\t\t&lt;/xs:complexContent&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:element name=&quot;AResponse&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:complexContent&gt;\r\n\t\t\t\t&lt;xs:extension base=&quot;ac:GeneralResponse&quot;&gt;\r\n\t\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t\t&lt;xs:element name=&quot;body&quot; type=&quot;tns:AResponseBodyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t\t&lt;/xs:extension&gt;\r\n\t\t\t&lt;/xs:complexContent&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:complexType name=&quot;ARequestBodyType&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element ref=&quot;tns:B&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\t&lt;xs:complexType name=&quot;AResponseBodyType&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element ref=&quot;tns:G&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`aa.common.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema targetNamespace=&quot;http://aa.com/common&quot;\r\n           elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n           xmlns:tns=&quot;http://aa.com/common&quot;&gt;\r\n    &lt;xs:complexType name=&quot;GeneralRequest&quot; abstract=&quot;true&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;GeneralResponse&quot; abstract=&quot;true&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`include_good.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xsd:element name=&quot;B&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n            &lt;xsd:sequence&gt;\r\n                &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;C&quot;&gt;\r\n                    &lt;xsd:complexType&gt;\r\n                        &lt;xsd:sequence&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;D&quot;&gt;&lt;/xsd:element&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;E&quot;&gt;&lt;/xsd:element&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;F&quot;&gt;&lt;/xsd:element&gt;\r\n                        &lt;/xsd:sequence&gt;\r\n                    &lt;/xsd:complexType&gt;\r\n                &lt;/xsd:element&gt;\r\n            &lt;/xsd:sequence&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:element&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\n`include_same_name_fields.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:element name=&quot;G&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:sequence&gt;\r\n                            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;H&quot;&gt;\r\n                                &lt;xs:complexType&gt;\r\n                                    &lt;xs:sequence&gt;\r\n                                        &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\r\n                                            &lt;xs:complexType&gt;\r\n                                                &lt;xs:sequence&gt;\r\n                                                    &lt;xs:element name=&quot;I&quot; type=&quot;xs:string&quot;/&gt;\r\n                                                &lt;/xs:sequence&gt;\r\n                                            &lt;/xs:complexType&gt;\r\n                                        &lt;/xs:element&gt;\r\n                                    &lt;/xs:sequence&gt;\r\n                                &lt;/xs:complexType&gt;\r\n                            &lt;/xs:element&gt;\r\n                        &lt;/xs:sequence&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`catalog.xml`\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;catalog xmlns=&#39;urn:oasis:names:tc:entity:xmlns:xml:catalog&#39;&gt;\r\n\r\n    &lt;public publicId=&quot;http://aa.com/common&quot; uri=&quot;common/aa.common.xsd&quot;/&gt;\r\n\r\n\r\n    &lt;system systemId=&quot;http://aa.com/include_same_name_fields.xsd&quot; uri=&quot;include_same_name_fields.xsd&quot;/&gt;\r\n    &lt;system systemId=&quot;http://aa.com/include_good.xsd&quot; uri=&quot;include_good.xsd&quot;/&gt;\r\n\r\n&lt;/catalog&gt;\r\n```\r\n\r\nThis is the binding file for the `include_same_name_fields.xsd`, when you generate and complile only this file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n    &lt;bindings\r\n            schemaLocation=&quot;../schemas/include_same_name_fields.xsd&quot;&gt;\r\n        &lt;bindings node=&quot;//xs:element[@name=&#39;H&#39;]/xs:complexType/xs:sequence\r\n            /xs:element[@name=&#39;DUPLICATE_NAME&#39;]/xs:complexType&quot;&gt;\r\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;schemaBindings&gt;\r\n            &lt;package name=&quot;com.aa.test&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\n&lt;/bindings&gt;\r\n```\r\n\r\nBut I cannot figure out, how I need to change the binding file, if I would like to generate and compile the main xsd.\r\n\r\nHere is the maven project on github: https://github.com/zsoltii/jakarta-xsd-to-object\r\n\r\nI tried this binding file, but it doesn&#39;t found element:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n    &lt;bindings\r\n            schemaLocation=&quot;../schemas/object.xsd&quot;&gt;\r\n        &lt;bindings node=&quot;//xs:element[@name=&#39;H&#39;]/xs:complexType/xs:sequence\r\n            /xs:element[@name=&#39;DUPLICATE_NAME&#39;]/xs:complexType&quot;&gt;\r\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;schemaBindings&gt;\r\n            &lt;package name=&quot;com.aa&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\n&lt;/bindings&gt;\r\n```\r\n\r\nIf you have any idea, how I change the binding file, go ahead.If I rename in the `include_same_name_fields.xsd` one of the duplicate name element, the maven project can generate and complile the java objects from xsd, so I think my setup is good, except the binding file.","title":"xsd to object with included xsd which contains same name elements","body":"<p>I have 4 xsd-s. The main xsd include an other one with contains same name elements and I have a catalog.xml. The company policy doesn't allow to change these xsd-s (don't ask why)</p>\n<p>If I generate java class and compile only the one xsd, which contains the same name elements, I can make it with a binding.xml.\nWhen I try to generate java class and compile from the main xsd, I cannot figure out, how I have to write the binding file.</p>\n<p>Main xsd: <code>object.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xs:schema\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:ac=&quot;http://aa.com/common&quot;\n        targetNamespace=&quot;http://aa.com/&quot;\n        xmlns:tns=&quot;http://aa.com/&quot;\n        elementFormDefault=&quot;qualified&quot;\n        attributeFormDefault=&quot;unqualified&quot;&gt;\n    &lt;xs:import namespace=&quot;http://aa.com/common&quot;/&gt;\n    &lt;xs:include schemaLocation=&quot;http://aa.com/include_good.xsd&quot;/&gt;\n    &lt;xs:include schemaLocation=&quot;http://aa.com/include_same_name_fields.xsd&quot;/&gt;\n    &lt;xs:element name=&quot;ARequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:complexContent&gt;\n                &lt;xs:extension base=&quot;ac:GeneralRequest&quot;&gt;\n                    &lt;xs:sequence&gt;\n                        &lt;xs:element name=&quot;body&quot; type=&quot;tns:ARequestBodyType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:extension&gt;\n            &lt;/xs:complexContent&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=&quot;AResponse&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:complexContent&gt;\n                &lt;xs:extension base=&quot;ac:GeneralResponse&quot;&gt;\n                    &lt;xs:sequence&gt;\n                        &lt;xs:element name=&quot;body&quot; type=&quot;tns:AResponseBodyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:extension&gt;\n            &lt;/xs:complexContent&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:complexType name=&quot;ARequestBodyType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element ref=&quot;tns:B&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;AResponseBodyType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element ref=&quot;tns:G&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>aa.common.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema targetNamespace=&quot;http://aa.com/common&quot;\n           elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n           xmlns:tns=&quot;http://aa.com/common&quot;&gt;\n    &lt;xs:complexType name=&quot;GeneralRequest&quot; abstract=&quot;true&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;GeneralResponse&quot; abstract=&quot;true&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>include_good.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xsd:element name=&quot;B&quot;&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;C&quot;&gt;\n                    &lt;xsd:complexType&gt;\n                        &lt;xsd:sequence&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;D&quot;&gt;&lt;/xsd:element&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;E&quot;&gt;&lt;/xsd:element&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;F&quot;&gt;&lt;/xsd:element&gt;\n                        &lt;/xsd:sequence&gt;\n                    &lt;/xsd:complexType&gt;\n                &lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n    &lt;/xsd:element&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p><code>include_same_name_fields.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:element name=&quot;G&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\n                    &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;H&quot;&gt;\n                                &lt;xs:complexType&gt;\n                                    &lt;xs:sequence&gt;\n                                        &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\n                                            &lt;xs:complexType&gt;\n                                                &lt;xs:sequence&gt;\n                                                    &lt;xs:element name=&quot;I&quot; type=&quot;xs:string&quot;/&gt;\n                                                &lt;/xs:sequence&gt;\n                                            &lt;/xs:complexType&gt;\n                                        &lt;/xs:element&gt;\n                                    &lt;/xs:sequence&gt;\n                                &lt;/xs:complexType&gt;\n                            &lt;/xs:element&gt;\n                        &lt;/xs:sequence&gt;\n                    &lt;/xs:complexType&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>catalog.xml</code></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;catalog xmlns='urn:oasis:names:tc:entity:xmlns:xml:catalog'&gt;\n\n    &lt;public publicId=&quot;http://aa.com/common&quot; uri=&quot;common/aa.common.xsd&quot;/&gt;\n\n\n    &lt;system systemId=&quot;http://aa.com/include_same_name_fields.xsd&quot; uri=&quot;include_same_name_fields.xsd&quot;/&gt;\n    &lt;system systemId=&quot;http://aa.com/include_good.xsd&quot; uri=&quot;include_good.xsd&quot;/&gt;\n\n&lt;/catalog&gt;\n</code></pre>\n<p>This is the binding file for the <code>include_same_name_fields.xsd</code>, when you generate and complile only this file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\n    &lt;bindings\n            schemaLocation=&quot;../schemas/include_same_name_fields.xsd&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='H']/xs:complexType/xs:sequence\n            /xs:element[@name='DUPLICATE_NAME']/xs:complexType&quot;&gt;\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\n        &lt;/bindings&gt;\n        &lt;schemaBindings&gt;\n            &lt;package name=&quot;com.aa.test&quot;/&gt;\n        &lt;/schemaBindings&gt;\n    &lt;/bindings&gt;\n\n&lt;/bindings&gt;\n</code></pre>\n<p>But I cannot figure out, how I need to change the binding file, if I would like to generate and compile the main xsd.</p>\n<p>Here is the maven project on github: <a href=\"https://github.com/zsoltii/jakarta-xsd-to-object\" rel=\"nofollow noreferrer\">https://github.com/zsoltii/jakarta-xsd-to-object</a></p>\n<p>I tried this binding file, but it doesn't found element:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\n    &lt;bindings\n            schemaLocation=&quot;../schemas/object.xsd&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='H']/xs:complexType/xs:sequence\n            /xs:element[@name='DUPLICATE_NAME']/xs:complexType&quot;&gt;\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\n        &lt;/bindings&gt;\n        &lt;schemaBindings&gt;\n            &lt;package name=&quot;com.aa&quot;/&gt;\n        &lt;/schemaBindings&gt;\n    &lt;/bindings&gt;\n\n&lt;/bindings&gt;\n</code></pre>\n<p>If you have any idea, how I change the binding file, go ahead.If I rename in the <code>include_same_name_fields.xsd</code> one of the duplicate name element, the maven project can generate and complile the java objects from xsd, so I think my setup is good, except the binding file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1686651558,"post_id":76463592,"comment_id":134825085,"body_markdown":"What exactly is &quot;assert first hashmap with second, if any data set doesn&#39;t match then need to check for the next data set.&quot; supposed to mean?","body":"What exactly is &quot;assert first hashmap with second, if any data set doesn&#39;t match then need to check for the next data set.&quot; supposed to mean?"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1686743566,"post_id":76463592,"comment_id":134840492,"body_markdown":"second json array has two objects and first json array has 4 index, so basically want to compare 1st index of second json object with all the objects first json if any match then will return true and same want to do with second index also. @user207421","body":"second json array has two objects and first json array has 4 index, so basically want to compare 1st index of second json object with all the objects first json if any match then will return true and same want to do with second index also. @user207421"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687164770,"post_id":76463592,"comment_id":134893431,"body_markdown":"@user207421 have updated the question, can you please check.","body":"@user207421 have updated the question, can you please check."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1687165230,"post_id":76463592,"comment_id":134893523,"body_markdown":"And what would the result be? What does &quot;match A with B&quot; mean exactly? Do you want to merge the two lists? Do you want to update list A with values from list B? Do you want to create a new list C with A and B tied together?","body":"And what would the result be? What does &quot;match A with B&quot; mean exactly? Do you want to merge the two lists? Do you want to update list A with values from list B? Do you want to create a new list C with A and B tied together?"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":2,"creation_date":1687165505,"post_id":76463592,"comment_id":134893576,"body_markdown":"Match in what way? The data in the two JSONs don&#39;t look similar. Why use streams? Also your choice of classes is strange. On the one hand the class structures are the same, so way are these two different classes? On the other hand, the one JSON is using numbers instead of strings for `fromPartyId`, so why isn&#39;t that represented in the class?","body":"Match in what way? The data in the two JSONs don&#39;t look similar. Why use streams? Also your choice of classes is strange. On the one hand the class structures are the same, so way are these two different classes? On the other hand, the one JSON is using numbers instead of strings for <code>fromPartyId</code>, so why isn&#39;t that represented in the class?"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687167281,"post_id":76463592,"comment_id":134893997,"body_markdown":"@knittl want to assert the keys and value with class A and class B, expectation is, if all values and matched then return true else return false.","body":"@knittl want to assert the keys and value with class A and class B, expectation is, if all values and matched then return true else return false."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1687168117,"post_id":76463592,"comment_id":134894207,"body_markdown":"How do you want to match? On id? On id+type? Something else? How should duplicates be handled? In your given example, no two objects are equal","body":"How do you want to match? On id? On id+type? Something else? How should duplicates be handled? In your given example, no two objects are equal"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687170796,"post_id":76463592,"comment_id":134894760,"body_markdown":"Want to match based on json objects like LedgerEntryResponseActual.fromPartyId == LedgerResponseExpected.fromPartyId.\n\nyeah, On id+type. @knittl","body":"Want to match based on json objects like LedgerEntryResponseActual.fromPartyId == LedgerResponseExpected.fromPartyId.  yeah, On id+type. @knittl"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1687173034,"post_id":76463592,"comment_id":134895146,"body_markdown":"Can you implement equals/hashCode in one of your classes? (But why is it not a single class since both properties are the same?)","body":"Can you implement equals/hashCode in one of your classes? (But why is it not a single class since both properties are the same?)"}],"answers":[{"comments":[{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687167637,"post_id":76505149,"comment_id":134894084,"body_markdown":"LedgerResponseExpected is my expected which I&#39;m deserialising from expected json and LedgerEntryResponseActual to use in deserialisation of response which i&#39;m getting from api, and then i need to validate the value and keys from LedgerResponseExpected to LedgerEntryResponseActual. @Michael Gantman","body":"LedgerResponseExpected is my expected which I&#39;m deserialising from expected json and LedgerEntryResponseActual to use in deserialisation of response which i&#39;m getting from api, and then i need to validate the value and keys from LedgerResponseExpected to LedgerEntryResponseActual. @Michael Gantman"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":1,"creation_date":1687171223,"post_id":76505149,"comment_id":134894840,"body_markdown":"They are not different classes they should be 2 different instances of the same class","body":"They are not different classes they should be 2 different instances of the same class"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687165422,"creation_date":1687165422,"answer_id":76505149,"question_id":76463592,"body_markdown":"Wrong understanding of concepts. You should only have one class `LedgerResponse` and have 2 instances of list and than just compare 2 lists","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>Wrong understanding of concepts. You should only have one class <code>LedgerResponse</code> and have 2 instances of list and than just compare 2 lists</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687512057,"creation_date":1687511695,"answer_id":76538669,"question_id":76463592,"body_markdown":"Take a look at AssertJ which is fantastic for all types of assertions, including collections. AssertJ has far better failure messages than the usual &quot;expected true, found false&quot;\r\n\r\nhttps://assertj.github.io/doc/\r\n\r\nEg\r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.*;\r\nimport java.util.stream.Collectors.*\r\n\r\nList&lt;ClassA&gt; listA = parseJson(&quot;a.json&quot;, ClassA.class);\r\nList&lt;ClassB&gt; listB = parseJson(&quot;b.json&quot;, ClassB.class);\r\n\r\nSet&lt;String&gt; stringsA = listA.stream(0)\r\n   .map(a -&gt; String.format(&quot;%s:%s&quot;, a.fromPartyId, a.fromType)\r\n   .collect(toSet());\r\n\r\nassertThat(listB)\r\n   .extracting(b -&gt; String.format(&quot;%s:%s&quot;, b.fromPartyId, b.fromType)\r\n   .containsAnyElementsOf(stringsA);\r\n","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>Take a look at AssertJ which is fantastic for all types of assertions, including collections. AssertJ has far better failure messages than the usual &quot;expected true, found false&quot;</p>\n<p><a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">https://assertj.github.io/doc/</a></p>\n<p>Eg</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.*;\nimport java.util.stream.Collectors.*\n\nList&lt;ClassA&gt; listA = parseJson(&quot;a.json&quot;, ClassA.class);\nList&lt;ClassB&gt; listB = parseJson(&quot;b.json&quot;, ClassB.class);\n\nSet&lt;String&gt; stringsA = listA.stream(0)\n   .map(a -&gt; String.format(&quot;%s:%s&quot;, a.fromPartyId, a.fromType)\n   .collect(toSet());\n\nassertThat(listB)\n   .extracting(b -&gt; String.format(&quot;%s:%s&quot;, b.fromPartyId, b.fromType)\n   .containsAnyElementsOf(stringsA);\n</code></pre>\n"}],"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1687512057,"creation_date":1686649320,"question_id":76463592,"body_markdown":"have two json list one json list has 2 json object and class type is classA and 2nd json list has 4 json objects and class type is classB so want to assert 1st json object of list one with all 4 objects 2nd json list and retrun true if one is match with at least one json objects of 2nd list \r\n\r\nSample of class A:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    \r\n    public class classA {\r\n    \r\n        private String fromPartyId;\r\n    \r\n        private PartyType fromType;\r\n    }\r\nAnd Sample of Class B:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    \r\n    public class classB {\r\n    \r\n        private String fromPartyId;\r\n    \r\n        private PartyType fromType;\r\n    }\r\n\r\nJson Data for the Class A:\r\n\r\n    [\r\n        {\r\n            &quot;fromPartyId&quot;: 1265389,\r\n            &quot;fromType&quot;: &quot;T168716355035036378&quot;\r\n        },\r\n        {\r\n        &quot;fromPartyId&quot;: 1265389,\r\n        &quot;fromType&quot;: &quot;T168716355035036379&quot;\r\n        }\r\n    \r\n    ]\r\n\r\n\r\nSample data for class B:\r\n\r\n        [\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;13916fb0-fa83-40aa-a452-37de08e392ba&quot;,\r\n          &quot;fromType&quot;: &quot;MERCHANT&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        }\r\n      ]\r\n\r\nNOTE: `PartyType` is enum.\r\n\r\nable to assert a one key and value but want assert all the keys and values at once.\r\n\r\n    boolean anyMatch = classB.stream().anyMatch(element -&gt; element.getPartyId().contains(classA.getPartyId()));\r\n\r\nWant to match the keys and value of class A with class B with help of java steam.\r\n","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>have two json list one json list has 2 json object and class type is classA and 2nd json list has 4 json objects and class type is classB so want to assert 1st json object of list one with all 4 objects 2nd json list and retrun true if one is match with at least one json objects of 2nd list</p>\n<p>Sample of class A:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\n\npublic class classA {\n\n    private String fromPartyId;\n\n    private PartyType fromType;\n}\n</code></pre>\n<p>And Sample of Class B:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n\npublic class classB {\n\n    private String fromPartyId;\n\n    private PartyType fromType;\n}\n</code></pre>\n<p>Json Data for the Class A:</p>\n<pre><code>[\n    {\n        &quot;fromPartyId&quot;: 1265389,\n        &quot;fromType&quot;: &quot;T168716355035036378&quot;\n    },\n    {\n    &quot;fromPartyId&quot;: 1265389,\n    &quot;fromType&quot;: &quot;T168716355035036379&quot;\n    }\n\n]\n</code></pre>\n<p>Sample data for class B:</p>\n<pre><code>    [\n    {\n      &quot;fromPartyId&quot;: &quot;13916fb0-fa83-40aa-a452-37de08e392ba&quot;,\n      &quot;fromType&quot;: &quot;MERCHANT&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    }\n  ]\n</code></pre>\n<p>NOTE: <code>PartyType</code> is enum.</p>\n<p>able to assert a one key and value but want assert all the keys and values at once.</p>\n<pre><code>boolean anyMatch = classB.stream().anyMatch(element -&gt; element.getPartyId().contains(classA.getPartyId()));\n</code></pre>\n<p>Want to match the keys and value of class A with class B with help of java steam.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687162524,"post_id":76504771,"comment_id":134892951,"body_markdown":"What have you tried? Why didn&#39;t it work?","body":"What have you tried? Why didn&#39;t it work?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687162622,"post_id":76504771,"comment_id":134892969,"body_markdown":"Ditto, but adding that regex doesn&#39;t &quot;do&quot; anything to the input string. It only matches parts/all of it. To &quot;do&quot; something, you need app code... please show some of that too. See [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166).","body":"Ditto, but adding that regex doesn&#39;t &quot;do&quot; anything to the input string. It only matches parts/all of it. To &quot;do&quot; something, you need app code... please show some of that too. See <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1687167209,"post_id":76504771,"comment_id":134893979,"body_markdown":"Try to replace [`^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$` with `$1`](https://regex101.com/r/yVnqJU/1) This will 1.) If all string is composed from an uneven amount of `4040` replace the full string with the first occurance 2.) OR trim `4040` either from *start* or *end* of the string.","body":"Try to replace <a href=\"https://regex101.com/r/yVnqJU/1\" rel=\"nofollow noreferrer\"><code>^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$</code> with <code>$1</code></a> This will 1.) If all string is composed from an uneven amount of <code>4040</code> replace the full string with the first occurance 2.) OR trim <code>4040</code> either from <i>start</i> or <i>end</i> of the string."},{"owner":{"account_id":13211327,"reputation":852,"user_id":9541464,"display_name":"Deep Ghodasara"},"score":0,"creation_date":1687169846,"post_id":76504771,"comment_id":134894579,"body_markdown":"yes it&#39;s working","body":"yes it&#39;s working"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687162664,"creation_date":1687162664,"answer_id":76504818,"question_id":76504771,"body_markdown":"Why use a regex? Just make life easy for yourself:\r\n\r\n(pseudo code)\r\n```\r\nvar string = ...\r\nwhile (string.startsWith(&quot;4040&quot;) &amp;&amp; string.endsWith(&quot;4040&quot;)) {\r\n  string = string.substring(4, string.length - 4)\r\n}\r\nreturn string\r\n```","title":"Regex to check odd number of occurance in string","body":"<p>Why use a regex? Just make life easy for yourself:</p>\n<p>(pseudo code)</p>\n<pre><code>var string = ...\nwhile (string.startsWith(&quot;4040&quot;) &amp;&amp; string.endsWith(&quot;4040&quot;)) {\n  string = string.substring(4, string.length - 4)\n}\nreturn string\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4947591,"reputation":19926,"user_id":3982562,"accept_rate":100,"display_name":"3limin4t0r"},"score":0,"creation_date":1687163871,"post_id":76504854,"comment_id":134893255,"body_markdown":"`replaceFirst` could also be used to make it more efficient, since there is never going to be more than 1 match.","body":"<code>replaceFirst</code> could also be used to make it more efficient, since there is never going to be more than 1 match."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687197668,"post_id":76504854,"comment_id":134900278,"body_markdown":"@3limin4t0r I disagree. Because this regex matches the entire input (it ends with `$`), it immediately halts. I strongly doubt you could measure the difference. The choice of method is based on style: Choose the one that makes for clearer code.","body":"@3limin4t0r I disagree. Because this regex matches the entire input (it ends with <code>$</code>), it immediately halts. I strongly doubt you could measure the difference. The choice of method is based on style: Choose the one that makes for clearer code."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687162901,"creation_date":1687162901,"answer_id":76504854,"question_id":76504771,"body_markdown":"Try this:\r\n\r\n    str = str.replaceAll(&quot;^((?:4040)+)(.*?)\\\\1$&quot;, &quot;$2&quot;);\r\n\r\nThis works by requiring the same input front and back by way of the back reference `\\1` to the front. The middle is captured as group `2`, which is used to replace the entire string, effectively &quot;extracting&quot; it.","title":"Regex to check odd number of occurance in string","body":"<p>Try this:</p>\n<pre><code>str = str.replaceAll(&quot;^((?:4040)+)(.*?)\\\\1$&quot;, &quot;$2&quot;);\n</code></pre>\n<p>This works by requiring the same input front and back by way of the back reference <code>\\1</code> to the front. The middle is captured as group <code>2</code>, which is used to replace the entire string, effectively &quot;extracting&quot; it.</p>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687511999,"creation_date":1687182281,"answer_id":76507233,"question_id":76504771,"body_markdown":"You can use the vertical bar to [alternate][1] between different scenarios:\r\n\r\n    ^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$\r\n\r\n[See this demo at regex101][2] (replace to `$1`, [capture][3] of the *first group*)\r\n\r\n1. `^(4040)(?:40404040)*$` If all string is composed from an uneven amount of `4040`&lt;br&gt; this will *capture* the first occurance and subsitute the string to the captured value.\r\n2. `|^(?:4040)+` OR match [one or more][4] occurances [at the start][5]\r\n3. `|(?:4040)+$` OR match one or more at the end of the string\r\n\r\nFor repetition of the substrings [`(?:` non capturing groups `)`][6] are used.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/alternation.html\r\n  [2]: https://regex101.com/r/yVnqJU/1\r\n  [3]: https://www.regular-expressions.info/brackets.html\r\n  [4]: https://www.regular-expressions.info/repeat.html\r\n  [5]: https://www.regular-expressions.info/anchors.html\r\n  [6]: https://www.regular-expressions.info/brackets.html#noncap","title":"Regex to check odd number of occurance in string","body":"<p>You can use the vertical bar to <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternate</a> between different scenarios:</p>\n<pre><code>^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$\n</code></pre>\n<p><a href=\"https://regex101.com/r/yVnqJU/1\" rel=\"nofollow noreferrer\">See this demo at regex101</a> (replace to <code>$1</code>, <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capture</a> of the <em>first group</em>)</p>\n<ol>\n<li><code>^(4040)(?:40404040)*$</code> If all string is composed from an uneven amount of <code>4040</code><br> this will <em>capture</em> the first occurance and subsitute the string to the captured value.</li>\n<li><code>|^(?:4040)+</code> OR match <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">one or more</a> occurances <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">at the start</a></li>\n<li><code>|(?:4040)+$</code> OR match one or more at the end of the string</li>\n</ol>\n<p>For repetition of the substrings <a href=\"https://www.regular-expressions.info/brackets.html#noncap\" rel=\"nofollow noreferrer\"><code>(?:</code> non capturing groups <code>)</code></a> are used.</p>\n"}],"owner":{"account_id":13211327,"reputation":852,"user_id":9541464,"display_name":"Deep Ghodasara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":3,"score":1,"last_activity_date":1687511999,"creation_date":1687162271,"question_id":76504771,"body_markdown":"I want to make java regex to remove string &quot;4040&quot; before and after string, considering below scenarios.\r\n\r\n**scenario : 1**\r\n\r\nIf whole string having even pair of 4040 then it will remove each pair and output will be empty string.\r\n\r\nexample :\r\n\r\n - 4040404040404040 --&gt; &quot;&quot;\r\n - 40404040 --&gt; &quot;&quot;\r\n\r\n**scenario : 2**\r\n\r\nIn other case there can be some data in-between pairs of 4040 then it should return that string after removing 4040 from both size. No of pair both side can be any (also can be 0).\r\n\r\nexample:-\r\n\r\n - 4040StackOverFlow4040 --&gt; StackOverFlow\r\n - 4040StackOverFlow40404040 --&gt; StackOverFlow\r\n - StackOverFlow4040 --&gt; StackOverFlow\r\n - 40404040StackOverFlow --&gt; StackOverFlow\r\n\r\n**scenario : 3**\r\n\r\nIf I having odd no of pairs for 4040 the it should return &quot;4040&quot;. because middle one is actual data.\r\n\r\nexample:-\r\n\r\n - 404040404040 --&gt; 4040\r\n - 40404040404040404040 --&gt; 4040\r\n\r\nNeed one regex which can include all scenarios.\r\n\r\nI tried by matching string using `^(4040)*|(4040)*$` and replace it with empty string. But it is not working for third scenario. Any way to detect odd number of pairs of 4040.\r\n","title":"Regex to check odd number of occurance in string","body":"<p>I want to make java regex to remove string &quot;4040&quot; before and after string, considering below scenarios.</p>\n<p><strong>scenario : 1</strong></p>\n<p>If whole string having even pair of 4040 then it will remove each pair and output will be empty string.</p>\n<p>example :</p>\n<ul>\n<li>4040404040404040 --&gt; &quot;&quot;</li>\n<li>40404040 --&gt; &quot;&quot;</li>\n</ul>\n<p><strong>scenario : 2</strong></p>\n<p>In other case there can be some data in-between pairs of 4040 then it should return that string after removing 4040 from both size. No of pair both side can be any (also can be 0).</p>\n<p>example:-</p>\n<ul>\n<li>4040StackOverFlow4040 --&gt; StackOverFlow</li>\n<li>4040StackOverFlow40404040 --&gt; StackOverFlow</li>\n<li>StackOverFlow4040 --&gt; StackOverFlow</li>\n<li>40404040StackOverFlow --&gt; StackOverFlow</li>\n</ul>\n<p><strong>scenario : 3</strong></p>\n<p>If I having odd no of pairs for 4040 the it should return &quot;4040&quot;. because middle one is actual data.</p>\n<p>example:-</p>\n<ul>\n<li>404040404040 --&gt; 4040</li>\n<li>40404040404040404040 --&gt; 4040</li>\n</ul>\n<p>Need one regex which can include all scenarios.</p>\n<p>I tried by matching string using <code>^(4040)*|(4040)*$</code> and replace it with empty string. But it is not working for third scenario. Any way to detect odd number of pairs of 4040.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687511998,"creation_date":1687511998,"answer_id":76538701,"question_id":76436528,"body_markdown":"It looks from the output that you&#39;re not chamging the input and output. In fact it looks like you&#39;re outputting the result of the first conversion only.\r\n\r\nI would suggest that you break your program into smaller chunks:\r\n1) a function that takes a letter and a rotor and returns the index,\r\n2) a function that takes a letter and a list of rotors that converts the letter through the rotors using function (1).\r\n3) a function that takes a string of letters and a list of rotors and converts the string through the rotors using function (2).\r\n\r\nThis way you can debug each step in the program and find exactly where a step might go wrong.\r\n\r\nGood luck!\r\n","title":"How would I fix my rotor cipher not properly ciphering?","body":"<p>It looks from the output that you're not chamging the input and output. In fact it looks like you're outputting the result of the first conversion only.</p>\n<p>I would suggest that you break your program into smaller chunks:</p>\n<ol>\n<li>a function that takes a letter and a rotor and returns the index,</li>\n<li>a function that takes a letter and a list of rotors that converts the letter through the rotors using function (1).</li>\n<li>a function that takes a string of letters and a list of rotors and converts the string through the rotors using function (2).</li>\n</ol>\n<p>This way you can debug each step in the program and find exactly where a step might go wrong.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":18247077,"reputation":35,"user_id":13282949,"display_name":"SonG0D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687511998,"creation_date":1686271587,"question_id":76436528,"body_markdown":"I am currently working on an Enigma project for my Java class (no not that one, the one where you go to learn). However, my Rotor cipher seems to be having a large issue in the fact that it isn&#39;t ciphering like it should.\r\n\r\n```java\r\n\r\n//The rotors i am using are the ones in the first enigma deployed in the german military\r\n\r\n    public static String RotorCipher(ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine, String input){\r\n        String constructor = &quot;&quot;;\r\n        ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine2 = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;(affine);\r\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;(affine.get(0)); //this is a char array with the alphabet in upper case\r\n        affine2.remove(0);\r\n        for(char x : input.toCharArray()){\r\n          int loc = list.indexOf(x);\r\n          if(loc == -1){\r\n            constructor += &quot;&quot;+x; //if it isn&#39;t in there, just remove it\r\n          }\r\n          else{\r\n            for(ArrayList&lt;Character&gt; rotor : affine2){\r\n                System.out.println(rotor);\r\n                System.out.println(loc);\r\n                System.out.print(x + &quot; to &quot;); \r\n                x = AffineCipher(list, rotor, x+&quot;&quot;).toCharArray()[0]; //use affine to properly pass rotor\r\n                System.out.println(x);\r\n            }\r\n          }\r\n          constructor += x+&quot;&quot;;\r\n        }\r\n        return constructor;\r\n    }\r\n```\r\n\r\nI run my code and I pass O through it, which according to a document I have suggests that it should immediately return an S. However, I get this output when passing it through.\r\n\r\n```\r\n&gt; &gt;r o\r\n[E, K, M, F, L, G, D, Q, V, Z, N, T, O, W, Y, H, X, U, S, P, A, I, B, R, C, J]\r\n14\r\nO to Y\r\n[A, J, D, K, S, I, R, U, X, B, L, H, W, T, M, C, Q, G, Z, N, P, Y, F, V, O, E]\r\n14\r\nY to O\r\n[B, D, F, H, J, L, C, P, R, T, X, V, Z, N, Y, E, I, W, G, A, K, M, U, S, Q, O]\r\n14\r\nO to Y\r\nY\r\n&gt;\r\n```\r\n\r\nI have no idea how to fix this and I have wasted hours of my life attempting to solve this but to no success.\r\n\r\nThanks in advance.","title":"How would I fix my rotor cipher not properly ciphering?","body":"<p>I am currently working on an Enigma project for my Java class (no not that one, the one where you go to learn). However, my Rotor cipher seems to be having a large issue in the fact that it isn't ciphering like it should.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//The rotors i am using are the ones in the first enigma deployed in the german military\n\n    public static String RotorCipher(ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine, String input){\n        String constructor = &quot;&quot;;\n        ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine2 = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;(affine);\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;(affine.get(0)); //this is a char array with the alphabet in upper case\n        affine2.remove(0);\n        for(char x : input.toCharArray()){\n          int loc = list.indexOf(x);\n          if(loc == -1){\n            constructor += &quot;&quot;+x; //if it isn't in there, just remove it\n          }\n          else{\n            for(ArrayList&lt;Character&gt; rotor : affine2){\n                System.out.println(rotor);\n                System.out.println(loc);\n                System.out.print(x + &quot; to &quot;); \n                x = AffineCipher(list, rotor, x+&quot;&quot;).toCharArray()[0]; //use affine to properly pass rotor\n                System.out.println(x);\n            }\n          }\n          constructor += x+&quot;&quot;;\n        }\n        return constructor;\n    }\n</code></pre>\n<p>I run my code and I pass O through it, which according to a document I have suggests that it should immediately return an S. However, I get this output when passing it through.</p>\n<pre><code>&gt; &gt;r o\n[E, K, M, F, L, G, D, Q, V, Z, N, T, O, W, Y, H, X, U, S, P, A, I, B, R, C, J]\n14\nO to Y\n[A, J, D, K, S, I, R, U, X, B, L, H, W, T, M, C, Q, G, Z, N, P, Y, F, V, O, E]\n14\nY to O\n[B, D, F, H, J, L, C, P, R, T, X, V, Z, N, Y, E, I, W, G, A, K, M, U, S, Q, O]\n14\nO to Y\nY\n&gt;\n</code></pre>\n<p>I have no idea how to fix this and I have wasted hours of my life attempting to solve this but to no success.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":3820683,"reputation":427,"user_id":3168862,"accept_rate":24,"display_name":"qaepk"},"score":0,"creation_date":1396082086,"post_id":22714112,"comment_id":34639713,"body_markdown":"How can I make the webdriver to wait until a download complete","body":"How can I make the webdriver to wait until a download complete"},{"owner":{"account_id":3059383,"reputation":1059,"user_id":2592387,"display_name":"Steve Weaver Crawford"},"score":0,"creation_date":1396277482,"post_id":22714112,"comment_id":34704423,"body_markdown":"This is stepping beyond the capabilities of WebDriver, once a download starts, it is no longer a browser operation, hence WebDriver cannot control it as such. Check out this blog post which is very informative when it comes to this very topic. http://ardesco.lazerycode.com/index.php/2012/07/how-to-download-files-with-selenium-and-why-you-shouldnt/","body":"This is stepping beyond the capabilities of WebDriver, once a download starts, it is no longer a browser operation, hence WebDriver cannot control it as such. Check out this blog post which is very informative when it comes to this very topic. <a href=\"http://ardesco.lazerycode.com/index.php/2012/07/how-to-download-files-with-selenium-and-why-you-shouldnt/\" rel=\"nofollow noreferrer\">ardesco.lazerycode.com/index.php/2012/07/&hellip;</a>"},{"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"score":0,"creation_date":1504837135,"post_id":22714112,"comment_id":79178180,"body_markdown":"link update: http://ardesco.lazerycode.com/testing/webdriver/2012/07/25/how-to-download-files-with-selenium-and-why-you-shouldnt.html","body":"link update: <a href=\"http://ardesco.lazerycode.com/testing/webdriver/2012/07/25/how-to-download-files-with-selenium-and-why-you-shouldnt.html\" rel=\"nofollow noreferrer\">ardesco.lazerycode.com/testing/webdriver/2012/07/25/&hellip;</a>"},{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":0,"creation_date":1562422966,"post_id":22714112,"comment_id":100372623,"body_markdown":"Check my answer [below](https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/56569251#56569251) which works 100% with the latest chrome browser (python implementation but you can port it to any other languages).","body":"Check my answer <a href=\"https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/56569251#56569251\">below</a> which works 100% with the latest chrome browser (python implementation but you can port it to any other languages)."}],"answers":[{"comments":[{"owner":{"account_id":72499,"reputation":6901,"user_id":209288,"accept_rate":58,"display_name":"scipilot"},"score":0,"creation_date":1627192114,"post_id":23787536,"comment_id":121087713,"body_markdown":"Surely this will loop infinitely when the file is finished? Shouldn&#39;t the logic me more like: while not exists or while less than expected size?","body":"Surely this will loop infinitely when the file is finished? Shouldn&#39;t the logic me more like: while not exists or while less than expected size?"},{"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"score":0,"creation_date":1667467484,"post_id":23787536,"comment_id":131175022,"body_markdown":"Yeap, some exit condition must be added. This is just a general advise not exact working solution for one particular case.","body":"Yeap, some exit condition must be added. This is just a general advise not exact working solution for one particular case."}],"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400685781,"creation_date":1400685781,"answer_id":23787536,"question_id":22714112,"body_markdown":"Well, your file is stored somewhere, right? So, check if it exists in file system \r\n\r\n    File f = new File(filePathString);\r\n    \r\n    do {\r\n      Thread.sleep(3000);\r\n    } while (f.exists() &amp;&amp; f.length() == expectedSizeInBytes)","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Well, your file is stored somewhere, right? So, check if it exists in file system </p>\n\n<pre><code>File f = new File(filePathString);\n\ndo {\n  Thread.sleep(3000);\n} while (f.exists() &amp;&amp; f.length() == expectedSizeInBytes)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11218139,"reputation":314,"user_id":8230045,"display_name":"Abhishek Thomas"},"score":0,"creation_date":1560857426,"post_id":25872546,"comment_id":99865853,"body_markdown":"This will result in an infinite loop if file is never found. Not a good way!!","body":"This will result in an infinite loop if file is never found. Not a good way!!"}],"tags":[],"owner":{"account_id":2740483,"reputation":108,"user_id":2362127,"accept_rate":25,"display_name":"Mark Boxall"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410880626,"creation_date":1410880626,"answer_id":25872546,"question_id":22714112,"body_markdown":"Some operating systems (e.g. Mac OS X) don&#39;t set the filename until the download is complete. So it seems sufficient to use a wait or a while loop to check for the file to exist.\r\n\r\ne.g.\r\n\r\n    File file = new File(fullPathToFile);\r\n    while (!file.exists()) {\r\n        Thread.sleep(1000);\r\n    }","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Some operating systems (e.g. Mac OS X) don't set the filename until the download is complete. So it seems sufficient to use a wait or a while loop to check for the file to exist.</p>\n\n<p>e.g.</p>\n\n<pre><code>File file = new File(fullPathToFile);\nwhile (!file.exists()) {\n    Thread.sleep(1000);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4011524,"reputation":879,"user_id":3304747,"display_name":"Libin Thomas"},"score":0,"creation_date":1666695606,"post_id":33736335,"comment_id":130993167,"body_markdown":"Won&#39;t this condition go into an infinite loop? Cause filesize1 will never be equal to filesize2","body":"Won&#39;t this condition go into an infinite loop? Cause filesize1 will never be equal to filesize2"}],"tags":[],"owner":{"account_id":4938224,"reputation":81,"user_id":3975753,"display_name":"Erica King"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619493133,"creation_date":1447679749,"answer_id":33736335,"question_id":22714112,"body_markdown":"    do {\r\n\r\n       filesize1 = f.length();  // check file size\r\n       Thread.sleep(5000);      // wait for 5 seconds\r\n       filesize2 = f.length();  // check file size again\r\n\r\n    } while (filesize1 != filesize2); \r\n\r\n\r\nwhere f is a File, filesize is long\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<pre><code>do {\n\n   filesize1 = f.length();  // check file size\n   Thread.sleep(5000);      // wait for 5 seconds\n   filesize2 = f.length();  // check file size again\n\n} while (filesize1 != filesize2); \n</code></pre>\n<p>where f is a File, filesize is long</p>\n"},{"comments":[{"owner":{"account_id":1084295,"reputation":1378,"user_id":1080402,"accept_rate":65,"display_name":"ZAD-Man"},"score":3,"creation_date":1457565999,"post_id":35420419,"comment_id":59469739,"body_markdown":"This is excellent for when it applies. I deal with plenty of sites that don&#39;t use something as simple as putting the file in `href`, but if they do, this is great.","body":"This is excellent for when it applies. I deal with plenty of sites that don&#39;t use something as simple as putting the file in <code>href</code>, but if they do, this is great."},{"owner":{"account_id":2305398,"reputation":671,"user_id":2024780,"accept_rate":80,"display_name":"rrw"},"score":2,"creation_date":1467186477,"post_id":35420419,"comment_id":63621889,"body_markdown":"This is not wrong, I also used this method before. And to make this work with authentication, u can get the cookies from selenium&#39;s driver and append to the http request. But, Its a pain when the download link is generated by js. And also you cant test if clicking the download button actually downloads the file. I switched back to the normal thing, click the button and do the `file.exists()` check in a loop. And for selenium in a hub-node architecture, I use `ssh` to `ls` or `dir` the file for existence.","body":"This is not wrong, I also used this method before. And to make this work with authentication, u can get the cookies from selenium&#39;s driver and append to the http request. But, Its a pain when the download link is generated by js. And also you cant test if clicking the download button actually downloads the file. I switched back to the normal thing, click the button and do the <code>file.exists()</code> check in a loop. And for selenium in a hub-node architecture, I use <code>ssh</code> to <code>ls</code> or <code>dir</code> the file for existence."},{"owner":{"account_id":8403061,"reputation":59,"user_id":6307505,"display_name":"Arijit Ghosh"},"score":0,"creation_date":1588771203,"post_id":35420419,"comment_id":109026484,"body_markdown":"First of all, thank you very much for this solution. It makes things a lot easier and cleaner to manage. I have a doubt about the `stream` keyword argument though. I ran the code without passing the `stream=True` argument and it seemed to run unchanged. Can you please elaborate on what the purpose of that argument is?","body":"First of all, thank you very much for this solution. It makes things a lot easier and cleaner to manage. I have a doubt about the <code>stream</code> keyword argument though. I ran the code without passing the <code>stream=True</code> argument and it seemed to run unchanged. Can you please elaborate on what the purpose of that argument is?"}],"tags":[],"owner":{"account_id":7835677,"reputation":383,"user_id":5923866,"display_name":"spatel4140"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1687511696,"creation_date":1455575986,"answer_id":35420419,"question_id":22714112,"body_markdown":"A little late but this question has a good number of views, I thought it would be worth the time to answer it in case you haven&#39;t moved on or someone else comes across it. \r\n\r\nI too ran into the same problem and thought I&#39;d share. I was developing in python at the time but the same concept applies. You don&#39;t have to do the actual download using selenium. Rather than clicking on the element to start the download, you should consider retrieving the link and using built in functions to proceed from there. \r\n\r\nThe element you would normally click to begin the download should have a &#39;href&#39; attribute that you should be able to read using selenium. This is the url pointing to the actual file. In python, it looks something like this:\r\n\r\n        element = driver.find_element_by_id(&#39;dl_link&#39;)\r\n        url = element.get_attribute(&#39;href&#39;)\r\n\r\nFrom here you can use an http library to call the url. The important part here is that you set &#39;stream&#39; to true so you can begin writing the bytes to a file. Make sure the file path contains the correct file extension and another thing, most operating systems don&#39;t allow you to name files with certain characters such as back slashes or quotations so heads up on that.  \r\n\r\n&lt;!-- language: py --&gt;\r\n    def download_file(url, file_path):\r\n        from requests import get\r\n        reply = get(url, stream=True)\r\n        with open(file_path, &#39;wb&#39;) as file:\r\n            for chunk in reply.iter_content(chunk_size=1024): \r\n                if chunk:\r\n                    file.write(chunk)\r\n\r\nThe program shouldn&#39;t continue until the download is complete making it no longer necessary to poll until it is complete. \r\n\r\nI apologize for answering in a different language, in Java I believe you can use the HttpURLConnection API. Hope this helps!","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>A little late but this question has a good number of views, I thought it would be worth the time to answer it in case you haven't moved on or someone else comes across it.</p>\n<p>I too ran into the same problem and thought I'd share. I was developing in python at the time but the same concept applies. You don't have to do the actual download using selenium. Rather than clicking on the element to start the download, you should consider retrieving the link and using built in functions to proceed from there.</p>\n<p>The element you would normally click to begin the download should have a 'href' attribute that you should be able to read using selenium. This is the url pointing to the actual file. In python, it looks something like this:</p>\n<pre><code>    element = driver.find_element_by_id('dl_link')\n    url = element.get_attribute('href')\n</code></pre>\n<p>From here you can use an http library to call the url. The important part here is that you set 'stream' to true so you can begin writing the bytes to a file. Make sure the file path contains the correct file extension and another thing, most operating systems don't allow you to name files with certain characters such as back slashes or quotations so heads up on that.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def download_file(url, file_path):\n    from requests import get\n    reply = get(url, stream=True)\n    with open(file_path, 'wb') as file:\n        for chunk in reply.iter_content(chunk_size=1024): \n            if chunk:\n                file.write(chunk)\n</code></pre>\n<p>The program shouldn't continue until the download is complete making it no longer necessary to poll until it is complete.</p>\n<p>I apologize for answering in a different language, in Java I believe you can use the HttpURLConnection API. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1007867,"reputation":3375,"user_id":1021113,"accept_rate":78,"display_name":"Alexander Arendar"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687511664,"creation_date":1483463996,"answer_id":41448931,"question_id":22714112,"body_markdown":"I use Scala for my automation but the port to Java should be trivial since I use java Selenium classes there anyway.\r\nSo, first you need this:\r\n\r\n&lt;!-- language-all: scala --&gt;\r\n    import com.google.common.base.Function\r\n    import java.nio.file.{Files, Paths, Path}\r\n\r\n    def waitUntilFileDownloaded(timeOutInMillis:Int)={\r\n        val wait:FluentWait[Path] = new FluentWait(Paths.get(downloadsDir)).withTimeout(timeOutInMillis, TimeUnit.MILLISECONDS).pollingEvery(200, TimeUnit.MILLISECONDS)\r\n        wait.until(\r\n          new Function[Path, Boolean] {\r\n            override def apply(p:Path):Boolean = Files.list(p).iterator.asScala.size &gt; 0\r\n          }\r\n        )\r\n      }\r\nThen in my test suite where I need to download xls file I just have this:\r\n\r\n    def exportToExcel(implicit driver: WebDriver) = {\r\n        click on xpath(&quot;//div[contains(@class, &#39;export_csv&#39;)]&quot;)\r\n        waitUntilFileDownloaded(2000)\r\n      }\r\n\r\nI hope you&#39;ve got the idea. FluentWait is very useful abstraction and though it is a part of Selenium it can be used wherever you need to wait with polling till some condition is met.","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I use Scala for my automation but the port to Java should be trivial since I use java Selenium classes there anyway.\nSo, first you need this:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.google.common.base.Function\nimport java.nio.file.{Files, Paths, Path}\n\ndef waitUntilFileDownloaded(timeOutInMillis:Int)={\n    val wait:FluentWait[Path] = new FluentWait(Paths.get(downloadsDir)).withTimeout(timeOutInMillis, TimeUnit.MILLISECONDS).pollingEvery(200, TimeUnit.MILLISECONDS)\n    wait.until(\n      new Function[Path, Boolean] {\n        override def apply(p:Path):Boolean = Files.list(p).iterator.asScala.size &gt; 0\n      }\n    )\n  }\n</code></pre>\n<p>Then in my test suite where I need to download xls file I just have this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def exportToExcel(implicit driver: WebDriver) = {\n    click on xpath(&quot;//div[contains(@class, 'export_csv')]&quot;)\n    waitUntilFileDownloaded(2000)\n  }\n</code></pre>\n<p>I hope you've got the idea. FluentWait is very useful abstraction and though it is a part of Selenium it can be used wherever you need to wait with polling till some condition is met.</p>\n"},{"tags":[],"owner":{"account_id":8673368,"reputation":408,"user_id":6491515,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505372785,"creation_date":1505372785,"answer_id":46212629,"question_id":22714112,"body_markdown":"A java adaptation of Alexander Arendar&#39;s idea :\r\n\r\n(using Java 8 &amp; the predicate version of until method of FluentWait) \r\n\r\n\r\n  \r\n\r\n      private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \r\n                FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\r\n                                       .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\r\n                                       .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n                File fileToCheck = getDownloadsDirectory()\r\n                                   .resolve(expectedFileName)\r\n                                   .toFile();\r\n        \r\n                wait.until((WebDriver wd) -&gt; fileToCheck.exists());\r\n        \r\n            }\r\n\r\n\r\n    public synchronized Path getDownloadsDirectory(){\r\n            if(downloadsDirectory == null){\r\n                \r\n                try {\r\n                    downloadsDirectory = Files.createTempDirectory(&quot;selleniumdownloads_&quot;);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(&quot;Failed to create temporary downloads directory&quot;);\r\n                }\r\n            }\r\n            return downloadsDirectory;\r\n        }\r\n\r\nNote the use of createTempDirectory to avoid the caveats of recursively deleting more than intended as well as automatically safely disposing of the folder when we re done with it.","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>A java adaptation of Alexander Arendar's idea :</p>\n\n<p>(using Java 8 &amp; the predicate version of until method of FluentWait) </p>\n\n<pre><code>  private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \n            FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\n                                   .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\n                                   .pollingEvery(200, TimeUnit.MILLISECONDS);\n            File fileToCheck = getDownloadsDirectory()\n                               .resolve(expectedFileName)\n                               .toFile();\n\n            wait.until((WebDriver wd) -&gt; fileToCheck.exists());\n\n        }\n\n\npublic synchronized Path getDownloadsDirectory(){\n        if(downloadsDirectory == null){\n\n            try {\n                downloadsDirectory = Files.createTempDirectory(\"selleniumdownloads_\");\n            } catch (IOException ex) {\n                throw new RuntimeException(\"Failed to create temporary downloads directory\");\n            }\n        }\n        return downloadsDirectory;\n    }\n</code></pre>\n\n<p>Note the use of createTempDirectory to avoid the caveats of recursively deleting more than intended as well as automatically safely disposing of the folder when we re done with it.</p>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687511630,"creation_date":1515116267,"answer_id":48106027,"question_id":22714112,"body_markdown":"I like awaitility\r\n\r\n        Path filePath = Paths.get(&quot;.&quot;, &quot;filename&quot;);\r\n        await().atMost(1, MINUTES)\r\n                .ignoreExceptions()\r\n                .until(() -&gt; filePath.toFile().exists());\r\n\r\n\r\nMore info: http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I like awaitility</p>\n<pre><code>    Path filePath = Paths.get(&quot;.&quot;, &quot;filename&quot;);\n    await().atMost(1, MINUTES)\n            .ignoreExceptions()\n            .until(() -&gt; filePath.toFile().exists());\n</code></pre>\n<p>More info: <a href=\"http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/\" rel=\"nofollow noreferrer\">http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/</a></p>\n"},{"tags":[],"owner":{"account_id":1841986,"reputation":580,"user_id":1671221,"display_name":"Manikandan Periyasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610579433,"creation_date":1557482984,"answer_id":56075407,"question_id":22714112,"body_markdown":"The below code is working fine for me. \r\n\r\nAlso no warning will be as I used generic type and `Duration` as recommended.\r\n\r\n```\r\nFile file = new File(&quot;C:\\\\chromedriver_win32.zip&quot;);\r\nFluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(Duration.ofSeconds(25)).pollingEvery(Duration.ofMillis(100));\r\nwait.until( x -&gt; file.exists());\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>The below code is working fine for me.</p>\n<p>Also no warning will be as I used generic type and <code>Duration</code> as recommended.</p>\n<pre><code>File file = new File(&quot;C:\\\\chromedriver_win32.zip&quot;);\nFluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(Duration.ofSeconds(25)).pollingEvery(Duration.ofMillis(100));\nwait.until( x -&gt; file.exists());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171431,"reputation":6427,"user_id":398844,"display_name":"Torben"},"score":0,"creation_date":1562430872,"post_id":56569251,"comment_id":100374550,"body_markdown":"Works - but only if Chrome does not run in headless mode :(","body":"Works - but only if Chrome does not run in headless mode :("}],"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511433,"creation_date":1560368194,"answer_id":56569251,"question_id":22714112,"body_markdown":"If you are using chrome for the download, the you can use the below method to make sure the script will wait until the download is completed.\r\n\r\n**Python Implementation:**\r\n&lt;!-- language-all: py --&gt;\r\n\r\n    def waitUntilDownloadCompleted(maxTime=600):\r\n        driver.execute_script(&quot;window.open()&quot;)\r\n        # switch to new tab\r\n        driver.switch_to.window(driver.window_handles[-1])\r\n        # navigate to chrome downloads\r\n        driver.get(&#39;chrome://downloads&#39;)\r\n        # define the endTime\r\n        endTime = time.time() + maxTime\r\n        while True:\r\n            try:\r\n                # get the download percentage\r\n                downloadPercentage = driver.execute_script(\r\n                    &quot;return document.querySelector(&#39;downloads-manager&#39;).shadowRoot.querySelector(&#39;#downloadsList downloads-item&#39;).shadowRoot.querySelector(&#39;#progress&#39;).value&quot;)\r\n                # check if downloadPercentage is 100 (otherwise the script will keep waiting)\r\n                if downloadPercentage == 100:\r\n                    # exit the method once it&#39;s completed\r\n                    return downloadPercentage\r\n            except:\r\n                pass\r\n            # wait for 1 second before checking the percentage next time\r\n            time.sleep(1)\r\n            # exit method if the download not completed with in MaxTime.\r\n            if time.time() &gt; endTime:\r\n                break\r\n\r\nJust call the method when ever you click on download link/button.\r\n\r\n    # click on download button\r\n    driver.find_element_by_xpath(&quot;//*[@id=&#39;perform&#39;]&quot;).click()\r\n    #wait until the download completed\r\n    waitUntilDownloadCompleted(120) #2 minutes","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>If you are using chrome for the download, the you can use the below method to make sure the script will wait until the download is completed.</p>\n<p><strong>Python Implementation:</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def waitUntilDownloadCompleted(maxTime=600):\n    driver.execute_script(&quot;window.open()&quot;)\n    # switch to new tab\n    driver.switch_to.window(driver.window_handles[-1])\n    # navigate to chrome downloads\n    driver.get('chrome://downloads')\n    # define the endTime\n    endTime = time.time() + maxTime\n    while True:\n        try:\n            # get the download percentage\n            downloadPercentage = driver.execute_script(\n                &quot;return document.querySelector('downloads-manager').shadowRoot.querySelector('#downloadsList downloads-item').shadowRoot.querySelector('#progress').value&quot;)\n            # check if downloadPercentage is 100 (otherwise the script will keep waiting)\n            if downloadPercentage == 100:\n                # exit the method once it's completed\n                return downloadPercentage\n        except:\n            pass\n        # wait for 1 second before checking the percentage next time\n        time.sleep(1)\n        # exit method if the download not completed with in MaxTime.\n        if time.time() &gt; endTime:\n            break\n</code></pre>\n<p>Just call the method when ever you click on download link/button.</p>\n<pre class=\"lang-py prettyprint-override\"><code># click on download button\ndriver.find_element_by_xpath(&quot;//*[@id='perform']&quot;).click()\n#wait until the download completed\nwaitUntilDownloadCompleted(120) #2 minutes\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5935421,"reputation":184,"user_id":7382159,"display_name":"Giselle Serate"},"score":0,"creation_date":1564159767,"post_id":56777681,"comment_id":100952707,"body_markdown":"Works great for implementations where you&#39;re waiting for multiple files to download all at once! I&#39;m definitely using this. One drawback is if there are aborted unfinished downloads already in your download directory, this won&#39;t work.","body":"Works great for implementations where you&#39;re waiting for multiple files to download all at once! I&#39;m definitely using this. One drawback is if there are aborted unfinished downloads already in your download directory, this won&#39;t work."},{"owner":{"account_id":15319366,"reputation":31,"user_id":11052345,"display_name":"Daddy Cool"},"score":1,"creation_date":1564385184,"post_id":56777681,"comment_id":100998093,"body_markdown":"@Giselle Serate, thanks for comment. You are right. I generate new &quot;download_dir&quot; for every new download session.","body":"@Giselle Serate, thanks for comment. You are right. I generate new &quot;download_dir&quot; for every new download session."}],"tags":[],"owner":{"account_id":15319366,"reputation":31,"user_id":11052345,"display_name":"Daddy Cool"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511416,"creation_date":1561567963,"answer_id":56777681,"question_id":22714112,"body_markdown":"&lt;!-- language: py --&gt;\r\n    import time\r\n    from os import walk\r\n    \r\n    download_dir = &#39;path\\\\to\\\\download\\\\folder&#39;\r\n    \r\n    \r\n    def check_if_download_folder_has_unfinished_files():\r\n        for (dirpath, dirnames, filenames) in walk(download_dir):\r\n            return str(filenames)\r\n    \r\n    \r\n    def wait_for_files_to_download():\r\n        time.sleep(5)  # let the driver start downloading\r\n        file_list = check_if_download_folder_has_unfinished_files()\r\n        while &#39;Unconfirmed&#39; in file_list or &#39;crdownload&#39; in file_list:\r\n            file_list = check_if_download_folder_has_unfinished_files()\r\n            time.sleep(1)\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        wait_for_files_to_download()\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<pre class=\"lang-py prettyprint-override\"><code>import time\nfrom os import walk\n\ndownload_dir = 'path\\\\to\\\\download\\\\folder'\n\n\ndef check_if_download_folder_has_unfinished_files():\n    for (dirpath, dirnames, filenames) in walk(download_dir):\n        return str(filenames)\n\n\ndef wait_for_files_to_download():\n    time.sleep(5)  # let the driver start downloading\n    file_list = check_if_download_folder_has_unfinished_files()\n    while 'Unconfirmed' in file_list or 'crdownload' in file_list:\n        file_list = check_if_download_folder_has_unfinished_files()\n        time.sleep(1)\n\n\nif __name__ == '__main__':\n    wait_for_files_to_download()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10601357,"reputation":6764,"user_id":7808223,"accept_rate":75,"display_name":"Diggy."},"score":0,"creation_date":1589453375,"post_id":61794979,"comment_id":109303091,"body_markdown":"Hi Konstantin, please familiarise yourself with [writing answers](https://stackoverflow.com/help/how-to-answer) before writing your next one. Enjoy your stay at SO :)","body":"Hi Konstantin, please familiarise yourself with <a href=\"https://stackoverflow.com/help/how-to-answer\">writing answers</a> before writing your next one. Enjoy your stay at SO :)"}],"tags":[],"owner":{"account_id":9851124,"reputation":11,"user_id":7297194,"display_name":"Konstantin.A"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589451903,"creation_date":1589451903,"answer_id":61794979,"question_id":22714112,"body_markdown":"This one worked for me:\r\n\r\n        Path filePath = Paths.get(&quot;path/to/file/fileName.pdf&quot;);\r\n        File file = filePath.toFile(); \r\n       \r\n     void waitForFileDownloaded(File file, int timeoutSeconds) {\r\n            WebDriver driver = getDriver();\r\n            FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                    .withTimeout(Duration.ofSeconds(timeoutSeconds))\r\n                    .pollingEvery(Duration.ofMillis(500))\r\n                    .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\r\n            wait.until((webDriver) -&gt; file.exists());\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>This one worked for me:</p>\n\n<pre><code>    Path filePath = Paths.get(\"path/to/file/fileName.pdf\");\n    File file = filePath.toFile(); \n\n void waitForFileDownloaded(File file, int timeoutSeconds) {\n        WebDriver driver = getDriver();\n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n                .withTimeout(Duration.ofSeconds(timeoutSeconds))\n                .pollingEvery(Duration.ofMillis(500))\n                .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\n        wait.until((webDriver) -&gt; file.exists());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15001679,"reputation":41,"user_id":10829152,"display_name":"Ashish Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594905029,"creation_date":1594902903,"answer_id":62934821,"question_id":22714112,"body_markdown":"This code will always work.. Try it out guys!\r\n\r\n    public void waitForFileDownloaded(String fileName, int timeoutSeconds) {\r\n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                .withTimeout(Duration.ofSeconds(timeoutSeconds))\r\n                .pollingEvery(Duration.ofMillis(500))\r\n                .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\r\n        wait.until((x) -&gt; {\r\n            File[] files = new File(downloadfolderPath).listFiles();\r\n            for (File file : files) {\r\n                if (file.getName().contains(fileName)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n    }","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>This code will always work.. Try it out guys!</p>\n<pre><code>public void waitForFileDownloaded(String fileName, int timeoutSeconds) {\n    FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n            .withTimeout(Duration.ofSeconds(timeoutSeconds))\n            .pollingEvery(Duration.ofMillis(500))\n            .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\n    wait.until((x) -&gt; {\n        File[] files = new File(downloadfolderPath).listFiles();\n        for (File file : files) {\n            if (file.getName().contains(fileName)) {\n                return true;\n            }\n        }\n        return false;\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596950143,"creation_date":1596950143,"answer_id":63322724,"question_id":22714112,"body_markdown":"Here&#39;s one using just WebDriverWait:\r\n\r\n```\r\nnew WebDriverWait(driver, 60).until(d -&gt; Paths.get(downloadDir, downloadFileName).toFile().exists());\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Here's one using just WebDriverWait:</p>\n<pre><code>new WebDriverWait(driver, 60).until(d -&gt; Paths.get(downloadDir, downloadFileName).toFile().exists());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10594162,"reputation":784,"user_id":7803545,"accept_rate":92,"display_name":"hildogjr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687511448,"creation_date":1638446242,"answer_id":70199011,"question_id":22714112,"body_markdown":"I am your the bellow code in Python + Firefox, but it can be adapted to Java:\r\n\r\n```python\r\nbrowser.get(&#39;about:downloads&#39;)  #Open the download page.\r\n# Wait all icons change from &quot;X&quot; (cancel download)\r\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\r\n    EC.presence_of_element_located((By.CLASS_NAME, &#39;downloadIconCancel&#39;)))\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I am your the bellow code in Python + Firefox, but it can be adapted to Java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>browser.get('about:downloads')  #Open the download page.\n# Wait all icons change from &quot;X&quot; (cancel download)\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\n    EC.presence_of_element_located((By.CLASS_NAME, 'downloadIconCancel')))\n</code></pre>\n"}],"owner":{"account_id":3820683,"reputation":427,"user_id":3168862,"accept_rate":24,"display_name":"qaepk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62216,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":14,"score":25,"last_activity_date":1687511696,"creation_date":1396012974,"question_id":22714112,"body_markdown":"Once clicking a download button, files will be downloaded. Before executing next code, it needs to wait until the download completes.\r\n\r\nMy code looks like this:\r\n\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;perform&#39;]&quot;)).click();//click for download\r\n\t  \r\n    Thread.sleep(20000);\r\n    //code to be executed after download completes\r\n    Readfile fileobj=new Readfile();\r\n    String checkfile=fileobj.checkfilename();\r\n\r\nHow can I make the webdriver wait until a download completes?","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Once clicking a download button, files will be downloaded. Before executing next code, it needs to wait until the download completes.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>Thread.sleep(2000);\ndriver.findElement(By.xpath(\"//*[@id='perform']\")).click();//click for download\n\nThread.sleep(20000);\n//code to be executed after download completes\nReadfile fileobj=new Readfile();\nString checkfile=fileobj.checkfilename();\n</code></pre>\n\n<p>How can I make the webdriver wait until a download completes?</p>\n"},{"tags":["java","amazon-web-services","aws-event-bridge"],"owner":{"account_id":3766298,"reputation":49,"user_id":7984574,"display_name":"sadath pasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687511588,"creation_date":1687511588,"question_id":76538655,"body_markdown":"&lt;br/&gt;\r\nWhen i try to publish the event to a non existing AWS event bus, success response is &lt;br/&gt; \r\nreceived , with failedMsg count as zero&lt;br/&gt;\r\n\r\n 1. How to make sure we get an exception in case of wrong bus name has. been used.??\r\n\r\n```\r\nPutEventsRequestEntry requestEntry = new PutEventsRequestEntry();\r\nrequestEntry\r\n        .withSource(&quot;test&quot;)\r\n        .withDetailType(&quot;test&quot;)\r\n        .withDetail(getJson())\r\n        .withEventBusName(&quot;dm-outbound-event-bus-dev&quot;);\r\n\r\nPutEventsRequest eventsRequest = new PutEventsRequest();\r\neventsRequest.withEntries(requestEntry);\r\nPutEventsResult putEventsResult = amazonEventBridge.putEvents(eventsRequest);\r\n\r\ndm-outbound-event-bus-dev -&gt; this bus does not exist in AWS\r\n```\r\nBelow is the Response\r\n```\r\nPutEventsResult {FailedEntryCount: 0,Entries: [{EventId: 5aea1a74-7557-077b-55e7-d665a555b3be,}]}\r\n```\r\nLibrary used\r\n```\r\nimplementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-eventbridge&#39;, version: &#39;1.12.440&#39;\r\n```\r\nAny Suggestion would be of great help\r\n\r\n","title":"Aws Event Bus Java client does not throw error when message is published to non existing eventbus","body":"<br/>\nWhen i try to publish the event to a non existing AWS event bus, success response is <br/> \nreceived , with failedMsg count as zero<br/>\n<ol>\n<li>How to make sure we get an exception in case of wrong bus name has. been used.??</li>\n</ol>\n<pre><code>PutEventsRequestEntry requestEntry = new PutEventsRequestEntry();\nrequestEntry\n        .withSource(&quot;test&quot;)\n        .withDetailType(&quot;test&quot;)\n        .withDetail(getJson())\n        .withEventBusName(&quot;dm-outbound-event-bus-dev&quot;);\n\nPutEventsRequest eventsRequest = new PutEventsRequest();\neventsRequest.withEntries(requestEntry);\nPutEventsResult putEventsResult = amazonEventBridge.putEvents(eventsRequest);\n\ndm-outbound-event-bus-dev -&gt; this bus does not exist in AWS\n</code></pre>\n<p>Below is the Response</p>\n<pre><code>PutEventsResult {FailedEntryCount: 0,Entries: [{EventId: 5aea1a74-7557-077b-55e7-d665a555b3be,}]}\n</code></pre>\n<p>Library used</p>\n<pre><code>implementation group: 'com.amazonaws', name: 'aws-java-sdk-eventbridge', version: '1.12.440'\n</code></pre>\n<p>Any Suggestion would be of great help</p>\n"},{"tags":["java","java-stream","reduce","fold","parallelstream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687375665,"post_id":76520467,"comment_id":134929706,"body_markdown":"`&quot;I&quot;` is not an *identity* for string concatenation. See [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)): “*The `identity` value must be an identity for the accumulator function. This means that for all `t`, `accumulator.apply(identity, t)` is equal to `t`.*” Or [this answer](https://stackoverflow.com/a/32867283/2711488).","body":"<code>&quot;I&quot;</code> is not an <i>identity</i> for string concatenation. See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">the documentation</a>: “<i>The <code>identity</code> value must be an identity for the accumulator function. This means that for all <code>t</code>, <code>accumulator.apply(identity, t)</code> is equal to <code>t</code>.</i>” Or <a href=\"https://stackoverflow.com/a/32867283/2711488\">this answer</a>."},{"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"score":0,"creation_date":1687377226,"post_id":76520467,"comment_id":134929945,"body_markdown":"OK, I see your point on naming. But the question was -- if there is an explanation for different behavior for Set and List?","body":"OK, I see your point on naming. But the question was -- if there is an explanation for different behavior for Set and List?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687423670,"post_id":76520467,"comment_id":134935735,"body_markdown":"Since the identity is also the result of evaluating an empty set, it’s legal to substitute the result of (A, B) with the result of combining the results of (A, B) and (). This can be the result of imbalanced workload splitting. The second half of [this answer](https://stackoverflow.com/a/44802784/2711488) explains the scenario for `HashMap`; if the immutable set returned by `Set.of(…)` does array based hashing, it’s the same issue.","body":"Since the identity is also the result of evaluating an empty set, it’s legal to substitute the result of (A, B) with the result of combining the results of (A, B) and (). This can be the result of imbalanced workload splitting. The second half of <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a> explains the scenario for <code>HashMap</code>; if the immutable set returned by <code>Set.of(…)</code> does array based hashing, it’s the same issue."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687424571,"post_id":76520467,"comment_id":134935918,"body_markdown":"Building on the linked answer, these empty parts of the array ranges, not containing elements, are still processed as the implementation has to determine that there are no elements. Or, in a case like this, it doesn’t need to determine it at all, as the algorithm will end up at the identity element then. [This Q&amp;A](https://stackoverflow.com/q/34381805/2711488) may help understanding it. Unlike `reduce` and `collect`, in case of a `forEach`, the empty parts will be skipped, which can create the impression of having no parallel processing at all, which is what the other Q&amp;A was about.","body":"Building on the linked answer, these empty parts of the array ranges, not containing elements, are still processed as the implementation has to determine that there are no elements. Or, in a case like this, it doesn’t need to determine it at all, as the algorithm will end up at the identity element then. <a href=\"https://stackoverflow.com/q/34381805/2711488\">This Q&amp;A</a> may help understanding it. Unlike <code>reduce</code> and <code>collect</code>, in case of a <code>forEach</code>, the empty parts will be skipped, which can create the impression of having no parallel processing at all, which is what the other Q&amp;A was about."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511188,"creation_date":1687511188,"answer_id":76538614,"question_id":76520467,"body_markdown":"Note that the behavior of\r\n\r\n```java\r\nSet.of(&quot;A&quot;, &quot;B&quot;).parallelStream().reduce(&quot;I&quot;, String::concat)\r\n```\r\nis not different to\r\n```java\r\nStream.concat(Stream.of(&quot;A&quot;, &quot;B&quot;), Stream.of()).parallel()\r\n    .reduce(&quot;I&quot;, String::concat)\r\n```\r\nor\r\n```java\r\nStream.of(&quot;A&quot;, &quot;B&quot;, &quot;none&quot;).parallel()\r\n    .filter(s -&gt; !s.equals(&quot;none&quot;)).reduce(&quot;I&quot;, String::concat)\r\n```\r\nexcept for the unpredictability of the order of A and B which is irrelevant here.\r\n\r\nSince the specified *identity* argument must be valid as result for processing an empty sequence of elements, as well as fulfilling the `f(identity, element) = element` requirement, as explained in [this answer][1], it follows that `f(element, identity) = element` must be true as well, to ensure that the behavior of concatenating a sequence with an empty sequence has the same (or a compatible) result.\r\n\r\n---\r\n\r\nWhy does that happen in practice, technically?\r\n\r\nThe Stream implementation has to make trade-offs to provide reasonable performance for arbitrary scenarios and one is to not invest too much effort into attempting balanced workload splitting if the source structure does not genuinely support it.\r\n\r\nAs explained in [this answer][2], hash based collections tend to have larger arrays than their number of elements, to reduce the risk of collisions, and do not know in advance how the elements are distributed over the array when a stream is created. Therefore, the workload is split based on the array indices, similar to a random access list, but resulting ranges may have different numbers of elements in it or even have no elements at all.\r\n\r\nThis may result in the scenario of having all actual elements processed by a single thread as discussed in that answer, but it can also lead to threads processing empty spans which should not have an impact on the correctness of the result, as long as the *identity* chosen for the reduction is correct.\r\n\r\nThis processing is similar to the `filter` scenario above.\r\n\r\n---\r\n\r\nHowever, when you’re using OpenJDK or a Java implementation based on it (or implemented the same way), this is not the case for `Set.of(&quot;A&quot;, &quot;B&quot;)`. This factory method returns a special implementation for a set of two elements, not using an array.\r\n\r\nBut, as surprising as it may sound, these new immutable collection implementations have no dedicated stream support. Instead of providing a `Spliterator` implementation which could perfectly split into two spliterators of one element, this set inherits the [default implementation] based on an `Iterator`. In order to be able to do parallel processing at all, the iterator based spliterator has to transfer the elements into an array first. In case of just two elements, this happens on the first split operation. Afterwards, there is an array based spliterator, which supports perfectly balanced splitting (for the subsequent split operations) and an empty spliterator.\r\n\r\nSo, in this case, the processing is rather similar to the `Stream.concat(…)` example above.\r\n\r\nThis does not happen in case of `List.of(&quot;A&quot;, &quot;B&quot;)`. This implementation also has no dedicated Stream support but the [default implementation for `List`] checks whether the list is a [random access list] and provides an indexed based implementation which can perform balanced splits without copying elements into an array.\r\n\r\n---\r\n[This Q&amp;A] shows how you can use the behavior of this Stream implementation to visualize the way, the workload has been split.\r\n\r\n[1]: https://stackoverflow.com/a/32867283/2711488\r\n[2]: https://stackoverflow.com/a/44802784/2711488\r\n[default implementation]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#spliterator()\r\n[This Q&amp;A]: https://stackoverflow.com/q/34381805/2711488\r\n[default implementation for `List`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#spliterator()\r\n[random access list]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/RandomAccess.html","title":"Unexpected behavior for the reduce() operation for the Set-backed parallel Stream","body":"<p>Note that the behavior of</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set.of(&quot;A&quot;, &quot;B&quot;).parallelStream().reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>is not different to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.concat(Stream.of(&quot;A&quot;, &quot;B&quot;), Stream.of()).parallel()\n    .reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;none&quot;).parallel()\n    .filter(s -&gt; !s.equals(&quot;none&quot;)).reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>except for the unpredictability of the order of A and B which is irrelevant here.</p>\n<p>Since the specified <em>identity</em> argument must be valid as result for processing an empty sequence of elements, as well as fulfilling the <code>f(identity, element) = element</code> requirement, as explained in <a href=\"https://stackoverflow.com/a/32867283/2711488\">this answer</a>, it follows that <code>f(element, identity) = element</code> must be true as well, to ensure that the behavior of concatenating a sequence with an empty sequence has the same (or a compatible) result.</p>\n<hr />\n<p>Why does that happen in practice, technically?</p>\n<p>The Stream implementation has to make trade-offs to provide reasonable performance for arbitrary scenarios and one is to not invest too much effort into attempting balanced workload splitting if the source structure does not genuinely support it.</p>\n<p>As explained in <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a>, hash based collections tend to have larger arrays than their number of elements, to reduce the risk of collisions, and do not know in advance how the elements are distributed over the array when a stream is created. Therefore, the workload is split based on the array indices, similar to a random access list, but resulting ranges may have different numbers of elements in it or even have no elements at all.</p>\n<p>This may result in the scenario of having all actual elements processed by a single thread as discussed in that answer, but it can also lead to threads processing empty spans which should not have an impact on the correctness of the result, as long as the <em>identity</em> chosen for the reduction is correct.</p>\n<p>This processing is similar to the <code>filter</code> scenario above.</p>\n<hr />\n<p>However, when you’re using OpenJDK or a Java implementation based on it (or implemented the same way), this is not the case for <code>Set.of(&quot;A&quot;, &quot;B&quot;)</code>. This factory method returns a special implementation for a set of two elements, not using an array.</p>\n<p>But, as surprising as it may sound, these new immutable collection implementations have no dedicated stream support. Instead of providing a <code>Spliterator</code> implementation which could perfectly split into two spliterators of one element, this set inherits the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#spliterator()\" rel=\"nofollow noreferrer\">default implementation</a> based on an <code>Iterator</code>. In order to be able to do parallel processing at all, the iterator based spliterator has to transfer the elements into an array first. In case of just two elements, this happens on the first split operation. Afterwards, there is an array based spliterator, which supports perfectly balanced splitting (for the subsequent split operations) and an empty spliterator.</p>\n<p>So, in this case, the processing is rather similar to the <code>Stream.concat(…)</code> example above.</p>\n<p>This does not happen in case of <code>List.of(&quot;A&quot;, &quot;B&quot;)</code>. This implementation also has no dedicated Stream support but the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#spliterator()\" rel=\"nofollow noreferrer\">default implementation for <code>List</code></a> checks whether the list is a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/RandomAccess.html\" rel=\"nofollow noreferrer\">random access list</a> and provides an indexed based implementation which can perform balanced splits without copying elements into an array.</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/q/34381805/2711488\">This Q&amp;A</a> shows how you can use the behavior of this Stream implementation to visualize the way, the workload has been split.</p>\n"}],"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687511188,"creation_date":1687328248,"question_id":76520467,"body_markdown":"When I am reducing the Set-backed stream, the identity element appears on the right of the result:\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class StreamReduce {\r\n    public static void main(String[] args) {\r\n        // Collection&lt;String&gt; l = List.of(&quot;A&quot;, &quot;B&quot;);\r\n        Collection&lt;String&gt; l = Set.of(&quot;A&quot;, &quot;B&quot;);\r\n        var r = l.parallelStream().reduce(&quot;I&quot;, (a,b)-&gt; { return a + b; });\r\n        System.out.println(r);\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\nIBIAI\r\n```\r\n\r\nWhen I use the same code with the List-backed stream, I get the expected output -- identity is always on the left side of elements.\r\n\r\nHow can the identity be added to the right side for the Set stream? Why is the difference with List stream?","title":"Unexpected behavior for the reduce() operation for the Set-backed parallel Stream","body":"<p>When I am reducing the Set-backed stream, the identity element appears on the right of the result:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Set;\n\npublic class StreamReduce {\n    public static void main(String[] args) {\n        // Collection&lt;String&gt; l = List.of(&quot;A&quot;, &quot;B&quot;);\n        Collection&lt;String&gt; l = Set.of(&quot;A&quot;, &quot;B&quot;);\n        var r = l.parallelStream().reduce(&quot;I&quot;, (a,b)-&gt; { return a + b; });\n        System.out.println(r);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>IBIAI\n</code></pre>\n<p>When I use the same code with the List-backed stream, I get the expected output -- identity is always on the left side of elements.</p>\n<p>How can the identity be added to the right side for the Set stream? Why is the difference with List stream?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1687504911,"post_id":76537889,"comment_id":134948972,"body_markdown":"the error says it all. you can&#39;t do something like String[] array = &quot;test&quot;; -&gt; &quot;test&quot; can be an element of an array, but it isn&#39;t an array. assign it to a specific index of the array.","body":"the error says it all. you can&#39;t do something like String[] array = &quot;test&quot;; -&gt; &quot;test&quot; can be an element of an array, but it isn&#39;t an array. assign it to a specific index of the array."}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687506935,"post_id":76537956,"comment_id":134949367,"body_markdown":"why would this be a good approach? if there&#39;s a problem in reading the 8th name, the changeC wouldn&#39;t contain any info at all","body":"why would this be a good approach? if there&#39;s a problem in reading the 8th name, the changeC wouldn&#39;t contain any info at all"},{"owner":{"account_id":28832210,"reputation":16,"user_id":22082349,"display_name":"waror"},"score":0,"creation_date":1687507812,"post_id":76537956,"comment_id":134949539,"body_markdown":"actually you&#39;re right, maybe the assignment will have to be done every time the user inputs some data","body":"actually you&#39;re right, maybe the assignment will have to be done every time the user inputs some data"},{"owner":{"account_id":28878674,"reputation":13,"user_id":22118591,"display_name":"Jeremy Teong"},"score":1,"creation_date":1687521620,"post_id":76537956,"comment_id":134952287,"body_markdown":"I see thanks for the help! It works now!","body":"I see thanks for the help! It works now!"}],"tags":[],"owner":{"account_id":28832210,"reputation":16,"user_id":22082349,"display_name":"waror"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687508197,"creation_date":1687505497,"answer_id":76537956,"question_id":76537889,"body_markdown":"Try to declare two arrays (a String and a double one) assigning the values you get from input directly to the array index using the i variable, then at the end you assign those arrays to the changeC object.\r\n\r\nEDIT:\r\nthe arrays assignments must be done at the same time as you assign the inputs now","title":"I am writing a program to ask the user to enter the name of a person, and a coin value (as an integer) using just arrays","body":"<p>Try to declare two arrays (a String and a double one) assigning the values you get from input directly to the array index using the i variable, then at the end you assign those arrays to the changeC object.</p>\n<p>EDIT:\nthe arrays assignments must be done at the same time as you assign the inputs now</p>\n"}],"owner":{"account_id":28878674,"reputation":13,"user_id":22118591,"display_name":"Jeremy Teong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76537956,"answer_count":1,"score":-1,"last_activity_date":1687510559,"creation_date":1687504841,"question_id":76537889,"body_markdown":"The program is recommended for the user to input at least 10 such data using setters and getters, however i am getting error message on &quot;String cannot be converted to String[]&quot;.\r\n\r\n\r\n\r\n\r\n```\r\nScanner keyboard = new Scanner(System.in);\r\nSystem.out.println(&quot;Please enter at least 10 records to test the program&quot;);\r\nfor(int i = 0; i &lt; 10; i++){\r\n    System.out.println(&quot;Please enter a name: &quot;);\r\n    changeC.setName(keyboard.next());\r\n    System.out.println(&quot;Please enter the coin value for the person: &quot;);\r\n    changeC.setChangeAmount(keyboard.nextDouble());\r\n    System.out.println(&quot;Do you have more person to enter (Y/N): &quot;);\r\n    String answer = keyboard.next();\r\n    if(prompt = answer.equalsIgnoreCase(&quot;N&quot;)){\r\n        break;\r\n    }                \r\n}  \r\n\r\n\r\n```\r\n\r\n\r\n```\r\n\r\nprivate String[] name;\r\n    private double[] changeAmount;\r\n   \r\n    public void setName(String[] name){\r\n        this.name = name;\r\n    }\r\n    \r\n    public String[] getName() {\r\n        return name;\r\n    }\r\n      \r\n       \r\n    /**\r\n     * @return the changeAmount\r\n     */\r\n    public double[] getChangeAmount() {\r\n        return changeAmount;\r\n    }\r\n\r\n    /**\r\n     * @param changeAmount the changeAmount to set\r\n     */\r\n    public void setChangeAmount(double[] changeAmount) {\r\n        this.changeAmount = changeAmount;\r\n    }\r\n```","title":"I am writing a program to ask the user to enter the name of a person, and a coin value (as an integer) using just arrays","body":"<p>The program is recommended for the user to input at least 10 such data using setters and getters, however i am getting error message on &quot;String cannot be converted to String[]&quot;.</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\nSystem.out.println(&quot;Please enter at least 10 records to test the program&quot;);\nfor(int i = 0; i &lt; 10; i++){\n    System.out.println(&quot;Please enter a name: &quot;);\n    changeC.setName(keyboard.next());\n    System.out.println(&quot;Please enter the coin value for the person: &quot;);\n    changeC.setChangeAmount(keyboard.nextDouble());\n    System.out.println(&quot;Do you have more person to enter (Y/N): &quot;);\n    String answer = keyboard.next();\n    if(prompt = answer.equalsIgnoreCase(&quot;N&quot;)){\n        break;\n    }                \n}  \n\n\n</code></pre>\n<pre><code>\nprivate String[] name;\n    private double[] changeAmount;\n   \n    public void setName(String[] name){\n        this.name = name;\n    }\n    \n    public String[] getName() {\n        return name;\n    }\n      \n       \n    /**\n     * @return the changeAmount\n     */\n    public double[] getChangeAmount() {\n        return changeAmount;\n    }\n\n    /**\n     * @param changeAmount the changeAmount to set\n     */\n    public void setChangeAmount(double[] changeAmount) {\n        this.changeAmount = changeAmount;\n    }\n</code></pre>\n"},{"tags":["java","android","debugging","breakpoints","disconnect"],"comments":[{"owner":{"account_id":17262271,"reputation":343,"user_id":12499875,"display_name":"Cypher"},"score":0,"creation_date":1674622194,"post_id":75228840,"comment_id":132751568,"body_markdown":"Did you visit this page? -- https://stackoverflow.com/questions/4138001/android-device-disconnects-from-debugger-a-few-seconds-after-breakpoint-is-hit","body":"Did you visit this page? -- <a href=\"https://stackoverflow.com/questions/4138001/android-device-disconnects-from-debugger-a-few-seconds-after-breakpoint-is-hit\" title=\"android device disconnects from debugger a few seconds after breakpoint is hit\">stackoverflow.com/questions/4138001/&hellip;</a>"},{"owner":{"account_id":9159387,"reputation":348,"user_id":9608999,"display_name":"Pablo Lanza"},"score":0,"creation_date":1674676512,"post_id":75228840,"comment_id":132767949,"body_markdown":"Yes, I tried the solution proposed but did not work.","body":"Yes, I tried the solution proposed but did not work."}],"owner":{"account_id":9159387,"reputation":348,"user_id":9608999,"display_name":"Pablo Lanza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687509963,"creation_date":1674608919,"question_id":75228840,"body_markdown":"When I am debugging an application running in my phone device, the debugger is always disconnected 30 seconds after reach a breakpoint. The error message is:\r\n\r\n*E  ANR in com.plm.myapptest\r\nPID: 14911\r\nReason: Changing to new focus window timeout\r\nFrozen: false\r\nLoad: 22.06 / 22.39 / 22.73\r\n----- Output from /proc/pressure/memory -----\r\nsome avg10=0.26 avg60=0.13 avg300=0.06 total=1119102705\r\nfull avg10=0.12 avg60=0.05 avg300=0.01 total=532509077*\r\n\r\nThe issue not happen running the app in software emulator.\r\n\r\nMy phone device is Realme 7 running Android 12 and my IDE is Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023 Runtime version: 11.0.15+0-b2043.56-8887301 amd64\r\n\r\nThe error message &#39;Changing to new focus window timeout&#39; not appears in google searchs and in my opinion has not sense. A debug window should take window focus the time that the developer needs. Is there a parameter in amdroid SO to configure this timeout?\r\n","title":"Debugger disconnect seconds after reach breakpoint","body":"<p>When I am debugging an application running in my phone device, the debugger is always disconnected 30 seconds after reach a breakpoint. The error message is:</p>\n<p><em>E  ANR in com.plm.myapptest\nPID: 14911\nReason: Changing to new focus window timeout\nFrozen: false\nLoad: 22.06 / 22.39 / 22.73\n----- Output from /proc/pressure/memory -----\nsome avg10=0.26 avg60=0.13 avg300=0.06 total=1119102705\nfull avg10=0.12 avg60=0.05 avg300=0.01 total=532509077</em></p>\n<p>The issue not happen running the app in software emulator.</p>\n<p>My phone device is Realme 7 running Android 12 and my IDE is Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023 Runtime version: 11.0.15+0-b2043.56-8887301 amd64</p>\n<p>The error message 'Changing to new focus window timeout' not appears in google searchs and in my opinion has not sense. A debug window should take window focus the time that the developer needs. Is there a parameter in amdroid SO to configure this timeout?</p>\n"},{"tags":["java","binary","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687509913,"creation_date":1687509913,"answer_id":76538448,"question_id":76537301,"body_markdown":"The main issue with your attempt is that `(k == 0)` will never be true when `k` is greater than 1. As `k` is a local variable, and all recursive calls get the same `k`, `k--` will just make `k` one less than the original value of `k`. On the other hand, if `k` is 1, it will always reach 0 when executing `k--`.\r\n\r\nNot a problem, but if your code finds a match in the left subtree, it still goes on to search the right subtree, which is a waste of time.\r\n\r\nNot your fault, but I find it unclear that the code challenge speaks of a node parameter and of returning a node, when in fact the function gets the *value* of a node to look for and wants you to return the *value* of the ancestor node. I would certainly rename the parameter variable from `node` to something else.\r\n\r\nOne of the difficulties here is that you need need to identify the found node *and* the depth it has from the current node. So either you could return an object that has those two properties, or use a class instance variable to keep track of the found node, and use the return value for the depth where the node was found.\r\n\r\nIf we would go with the second idea, the solution code could look like this:\r\n\r\n```\r\nclass Tree\r\n{\r\n    int ancestor; // This will have the solution\r\n    \r\n    public int depthOf(Node root, int k, int needle)\r\n    {\r\n        if (root == null) return -1;\r\n\r\n        if (root.data == needle) {\r\n            if (k == 0) ancestor = root.data;\r\n            return 0;\r\n        }\r\n\r\n        int depth = depthOf(root.left, k, needle);\r\n        if (depth == -1) depth = depthOf(root.right, k, needle);\r\n        if (depth == -1) return -1;\r\n\r\n        depth++;\r\n        if (depth == k) ancestor = root.data;\r\n        return depth;\r\n    }\r\n\r\n    public int kthAncestor(Node root, int k, int needle)\r\n    {\r\n        ancestor = -1;\r\n        depthOf(root, k, needle);\r\n        return ancestor;\r\n    }\r\n}\r\n```","title":"Trying to find the kth ancestor of a node in a tree by recursion but not able to get it","body":"<p>The main issue with your attempt is that <code>(k == 0)</code> will never be true when <code>k</code> is greater than 1. As <code>k</code> is a local variable, and all recursive calls get the same <code>k</code>, <code>k--</code> will just make <code>k</code> one less than the original value of <code>k</code>. On the other hand, if <code>k</code> is 1, it will always reach 0 when executing <code>k--</code>.</p>\n<p>Not a problem, but if your code finds a match in the left subtree, it still goes on to search the right subtree, which is a waste of time.</p>\n<p>Not your fault, but I find it unclear that the code challenge speaks of a node parameter and of returning a node, when in fact the function gets the <em>value</em> of a node to look for and wants you to return the <em>value</em> of the ancestor node. I would certainly rename the parameter variable from <code>node</code> to something else.</p>\n<p>One of the difficulties here is that you need need to identify the found node <em>and</em> the depth it has from the current node. So either you could return an object that has those two properties, or use a class instance variable to keep track of the found node, and use the return value for the depth where the node was found.</p>\n<p>If we would go with the second idea, the solution code could look like this:</p>\n<pre><code>class Tree\n{\n    int ancestor; // This will have the solution\n    \n    public int depthOf(Node root, int k, int needle)\n    {\n        if (root == null) return -1;\n\n        if (root.data == needle) {\n            if (k == 0) ancestor = root.data;\n            return 0;\n        }\n\n        int depth = depthOf(root.left, k, needle);\n        if (depth == -1) depth = depthOf(root.right, k, needle);\n        if (depth == -1) return -1;\n\n        depth++;\n        if (depth == k) ancestor = root.data;\n        return depth;\n    }\n\n    public int kthAncestor(Node root, int k, int needle)\n    {\n        ancestor = -1;\n        depthOf(root, k, needle);\n        return ancestor;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28878120,"reputation":1,"user_id":22118165,"display_name":"Akash Mahato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687509913,"creation_date":1687498004,"question_id":76537301,"body_markdown":"I am trying to solve the GeeksForGeeks problem [Kth Ancestor in a Tree](https://practice.geeksforgeeks.org/problems/kth-ancestor-in-a-tree/1):\r\n\r\n&gt; Given a binary tree of size  `N`, a `node`, and a positive integer `k`, your task is to complete the function `kthAncestor()`, the function should return the `k`&lt;sup&gt;th&lt;/sup&gt; ancestor of the given node in the binary tree. If there does not exist any such ancestor then return -1.\r\n&gt; \r\n&gt; **Note:** It is guaranteed that the `node` exists in the tree.\r\n&gt;\r\n&gt; ### Constraints:\r\n&gt; * `1 &lt;= N &lt;= 104`\r\n&gt; * `1 &lt;= K &lt;= 100`\r\n\r\nHere is my code:\r\n\r\n```\r\nclass Tree\r\n{\r\n    public Node solve(Node root,int k,int node)\r\n    {\r\n        if(root==null)\r\n            return null;\r\n        if(root.data==node)\r\n            return root;\r\n        Node l=solve(root.left,k,node);\r\n        Node r=solve(root.right,k,node);\r\n        if(l!=null &amp;&amp; r==null)\r\n        {\r\n            k--;\r\n            if(k==0)\r\n                return root;\r\n            return l;\r\n        }\r\n        else if(r!=null &amp;&amp; l==null)\r\n        {\r\n            k--;\r\n            if(k==0)\r\n                 return root;\r\n            return r;\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n    public int kthAncestor(Node root, int k, int node)\r\n    {\r\n        //Write your code here\r\n        if(root.data==node &amp;&amp; k==0)\r\n            return node;\r\n        if(root.data==node &amp;&amp; k&gt;0)\r\n            return -1;\r\n        Node ans=solve(root,k,node);\r\n        if(ans==null)\r\n            return -1;\r\n        else\r\n            return ans.data;\r\n    }\r\n}\r\n```\r\n\r\nit is giving me incorrect answer for this test case:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInput:\r\n\r\n     K = 2\r\n     Node = 4\r\n\r\nExpected Output: `1`\r\n\r\nOutput I get: `4`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mxp7r.png","title":"Trying to find the kth ancestor of a node in a tree by recursion but not able to get it","body":"<p>I am trying to solve the GeeksForGeeks problem <a href=\"https://practice.geeksforgeeks.org/problems/kth-ancestor-in-a-tree/1\" rel=\"nofollow noreferrer\">Kth Ancestor in a Tree</a>:</p>\n<blockquote>\n<p>Given a binary tree of size  <code>N</code>, a <code>node</code>, and a positive integer <code>k</code>, your task is to complete the function <code>kthAncestor()</code>, the function should return the <code>k</code><sup>th</sup> ancestor of the given node in the binary tree. If there does not exist any such ancestor then return -1.</p>\n<p><strong>Note:</strong> It is guaranteed that the <code>node</code> exists in the tree.</p>\n<h3>Constraints:</h3>\n<ul>\n<li><code>1 &lt;= N &lt;= 104</code></li>\n<li><code>1 &lt;= K &lt;= 100</code></li>\n</ul>\n</blockquote>\n<p>Here is my code:</p>\n<pre><code>class Tree\n{\n    public Node solve(Node root,int k,int node)\n    {\n        if(root==null)\n            return null;\n        if(root.data==node)\n            return root;\n        Node l=solve(root.left,k,node);\n        Node r=solve(root.right,k,node);\n        if(l!=null &amp;&amp; r==null)\n        {\n            k--;\n            if(k==0)\n                return root;\n            return l;\n        }\n        else if(r!=null &amp;&amp; l==null)\n        {\n            k--;\n            if(k==0)\n                 return root;\n            return r;\n        }\n        else\n            return null;\n    }\n    public int kthAncestor(Node root, int k, int node)\n    {\n        //Write your code here\n        if(root.data==node &amp;&amp; k==0)\n            return node;\n        if(root.data==node &amp;&amp; k&gt;0)\n            return -1;\n        Node ans=solve(root,k,node);\n        if(ans==null)\n            return -1;\n        else\n            return ans.data;\n    }\n}\n</code></pre>\n<p>it is giving me incorrect answer for this test case:</p>\n<p><a href=\"https://i.stack.imgur.com/mxp7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxp7r.png\" alt=\"enter image description here\" /></a></p>\n<p>Input:</p>\n<pre><code> K = 2\n Node = 4\n</code></pre>\n<p>Expected Output: <code>1</code></p>\n<p>Output I get: <code>4</code></p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","abstractmethoderror"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1687418421,"post_id":76529140,"comment_id":134934609,"body_markdown":"Seems like some dependency versions are mismatched, that error happens when a class doesn&#39;t implement the proper methods from parent classes. Are you sure the dependencies exactly match the ones from your old build system?","body":"Seems like some dependency versions are mismatched, that error happens when a class doesn&#39;t implement the proper methods from parent classes. Are you sure the dependencies exactly match the ones from your old build system?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687420438,"creation_date":1687420438,"answer_id":76529675,"question_id":76529140,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder\r\n\r\n...implies that a class didn&#39;t implement the proper methods from parent classes.\r\n\r\nThis situation arises due to version/dependency mismatch.\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nIn your `pom.xml` you have 2 different dependencies for the same task.\r\n\r\n- _selenium-java_:\r\n\r\n      https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n- _selenium-server_:\r\n\r\n      https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n          &lt;version&gt;3.9.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nRemove any one of the dependency, you should be good to go.","title":"Selenium Chrome Driver Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome Error while run the test","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder\n</code></pre>\n<p>...implies that a class didn't implement the proper methods from parent classes.</p>\n<p>This situation arises due to version/dependency mismatch.</p>\n<hr />\n<h2>This usecase</h2>\n<p>In your <code>pom.xml</code> you have 2 different dependencies for the same task.</p>\n<ul>\n<li><p><em>selenium-java</em>:</p>\n<pre><code>https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p><em>selenium-server</em>:</p>\n<pre><code>https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Solution</h2>\n<p>Remove any one of the dependency, you should be good to go.</p>\n"}],"owner":{"account_id":28871191,"reputation":1,"user_id":22112696,"display_name":"Param Radadiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687508971,"creation_date":1687415737,"question_id":76529140,"body_markdown":"I just converted my existing project to a maven project. I have added dependencies like selenium-java, selenium-serve, selenium-chrome-driver, testing, and JUnit.\r\n\r\nIt is a TestNG project that contains many packages and classes. It gives me an error as below:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:504)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n```\r\n\r\nDependencies I have added;\r\n\t\r\n```\r\n&lt;dependencies&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjunit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/ru.stqa.selenium/webdriver-expected-conditions --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.stqa.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\twebdriver-expected-conditions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.41&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nAlso I have added this line in my cod,\r\n\r\n```\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n```\r\n\r\nCan anyone help me how to solve this error. What should I do?","title":"Selenium Chrome Driver Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome Error while run the test","body":"<p>I just converted my existing project to a maven project. I have added dependencies like selenium-java, selenium-serve, selenium-chrome-driver, testing, and JUnit.</p>\n<p>It is a TestNG project that contains many packages and classes. It gives me an error as below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:504)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n</code></pre>\n<p>Dependencies I have added;</p>\n<pre><code>&lt;dependencies&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;\n                4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/ru.stqa.selenium/webdriver-expected-conditions --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.stqa.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                webdriver-expected-conditions&lt;/artifactId&gt;\n            &lt;version&gt;1.0.41&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Also I have added this line in my cod,</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path&quot;);\n        WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>Can anyone help me how to solve this error. What should I do?</p>\n"},{"tags":["java","android","web-scraping","roblox"],"answers":[{"tags":[],"owner":{"account_id":2191814,"reputation":1376,"user_id":1938640,"display_name":"ZombieSpy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357282077,"creation_date":1357282077,"answer_id":14152452,"question_id":13597028,"body_markdown":"You should look up how to get the data from the website, and you should also make sure that you understand html. You also need a simple way to handle html.\r\n\r\n - Get the page (use the example in the question): https://stackoverflow.com/questions/5232535/read-data-from-webpage\r\n - A bit about html: http://www.w3schools.com/html/default.asp\r\n - Handle html: http://jsoup.org/cookbook/extracting-data/dom-navigation\r\n\r\nTo login you should do a post request with the login information to the standard login page, then you keep the cookie that were generated and pass it with your other requests.\r\n\r\n - Little about handle cookies: https://stackoverflow.com/questions/3047363/java-handling-cookies-when-logging-in-with-post\r\n\r\nSome things you also might want to think about:\r\n\r\n - Linear or branched view of posts in the forum?\r\n - Should you get a message if someone post a new post?\r\n - A own search function?\r\n - Signature?","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>You should look up how to get the data from the website, and you should also make sure that you understand html. You also need a simple way to handle html.</p>\n\n<ul>\n<li>Get the page (use the example in the question): <a href=\"https://stackoverflow.com/questions/5232535/read-data-from-webpage\">Read data from webpage</a></li>\n<li>A bit about html: <a href=\"http://www.w3schools.com/html/default.asp\" rel=\"nofollow noreferrer\">http://www.w3schools.com/html/default.asp</a></li>\n<li>Handle html: <a href=\"http://jsoup.org/cookbook/extracting-data/dom-navigation\" rel=\"nofollow noreferrer\">http://jsoup.org/cookbook/extracting-data/dom-navigation</a></li>\n</ul>\n\n<p>To login you should do a post request with the login information to the standard login page, then you keep the cookie that were generated and pass it with your other requests.</p>\n\n<ul>\n<li>Little about handle cookies: <a href=\"https://stackoverflow.com/questions/3047363/java-handling-cookies-when-logging-in-with-post\">Java: Handling cookies when logging in with POST</a></li>\n</ul>\n\n<p>Some things you also might want to think about:</p>\n\n<ul>\n<li>Linear or branched view of posts in the forum?</li>\n<li>Should you get a message if someone post a new post?</li>\n<li>A own search function?</li>\n<li>Signature?</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9289455,"reputation":136,"user_id":6898296,"display_name":"pooja majoka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516441116,"creation_date":1516437362,"answer_id":48354099,"question_id":13597028,"body_markdown":"You have to use JSOUP libaray of java ,you can easily parse the html data through this library. Example: In doc object you are getting complete web page\r\n\r\n    File input = new File(url);\r\n    Document doc = null;\r\n    doc = Jsoup.connect(url).get();\r\n    Elements headlinesCat1 = doc.select(&quot;div[class=abc&quot;);","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>You have to use JSOUP libaray of java ,you can easily parse the html data through this library. Example: In doc object you are getting complete web page</p>\n\n<pre><code>File input = new File(url);\nDocument doc = null;\ndoc = Jsoup.connect(url).get();\nElements headlinesCat1 = doc.select(\"div[class=abc\");\n</code></pre>\n"}],"owner":{"account_id":1658626,"reputation":275,"user_id":1527430,"accept_rate":67,"display_name":"TheNickmaster21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14152452,"answer_count":2,"score":2,"last_activity_date":1687508598,"creation_date":1354071381,"question_id":13597028,"body_markdown":"I&#39;ve been waiting for an idea and I think I finally have one. I am going to attempt to make a Android App using Web Scraping that will allow me to navigate and use the forums on Roblox (.com if you really want to look it up) better than I can now. Not only are the forums pretty bad in general but they are even worse on my Android Device (Samsung Galaxy Player). Can anyone give me an pointers or advice? I&#39;m not sure what libraries I should use... This is my first big attempt at coding :)\r\n\r\n\r\nOh, Obviously I would want to give it a feature to reply to posts but I&#39;m not sure how login for that type of thing would work...\r\n\r\nEDIT: I got the idea from this application: [GooglePlay][1], [Github][2]\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.andrewshu.android.reddit&amp;hl=en\r\n  [2]: https://github.com/talklittle/reddit-is-fun","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>I've been waiting for an idea and I think I finally have one. I am going to attempt to make a Android App using Web Scraping that will allow me to navigate and use the forums on Roblox (.com if you really want to look it up) better than I can now. Not only are the forums pretty bad in general but they are even worse on my Android Device (Samsung Galaxy Player). Can anyone give me an pointers or advice? I'm not sure what libraries I should use... This is my first big attempt at coding :)</p>\n\n<p>Oh, Obviously I would want to give it a feature to reply to posts but I'm not sure how login for that type of thing would work...</p>\n\n<p>EDIT: I got the idea from this application: <a href=\"https://play.google.com/store/apps/details?id=com.andrewshu.android.reddit&amp;hl=en\" rel=\"nofollow\">GooglePlay</a>, <a href=\"https://github.com/talklittle/reddit-is-fun\" rel=\"nofollow\">Github</a></p>\n"},{"tags":["java","rest","jira","remedy"],"comments":[{"owner":{"account_id":353791,"reputation":25859,"user_id":691711,"accept_rate":91,"display_name":"zero298"},"score":1,"creation_date":1528224556,"post_id":50682500,"comment_id":88423131,"body_markdown":"Have you tried filtering by date created and using the last time you synchronized as criteria?  I don&#39;t see an easy way to do this short of comparing directly with JIRA to see if the issue is already there.","body":"Have you tried filtering by date created and using the last time you synchronized as criteria?  I don&#39;t see an easy way to do this short of comparing directly with JIRA to see if the issue is already there."},{"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"score":0,"creation_date":1528278953,"post_id":50682500,"comment_id":88443353,"body_markdown":"@zero298 thanks for the reply actually I can filter based on only one qualification parameter which is &quot;hotFix&quot; in my case. As the BMC emedy do not accept more than one qualification parameter.","body":"@zero298 thanks for the reply actually I can filter based on only one qualification parameter which is &quot;hotFix&quot; in my case. As the BMC emedy do not accept more than one qualification parameter."}],"answers":[{"comments":[{"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"score":0,"creation_date":1528279198,"post_id":50706880,"comment_id":88443517,"body_markdown":"hey Anil, Yes I&#39;ve thought about it however was little reluctant to make an other search on JIRA before insert as it might impact service performance.","body":"hey Anil, Yes I&#39;ve thought about it however was little reluctant to make an other search on JIRA before insert as it might impact service performance."},{"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"score":1,"creation_date":1528304282,"post_id":50706880,"comment_id":88459695,"body_markdown":"Looking at your constraints, thats the only option you have, its a tradeoff that u need accept","body":"Looking at your constraints, thats the only option you have, its a tradeoff that u need accept"},{"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"score":1,"creation_date":1528305341,"post_id":50706880,"comment_id":88460270,"body_markdown":"Also looking at this JIRA community currently there is no way to stop creating duplicate issues. https://community.atlassian.com/t5/Jira-questions/I-would-like-to-know-if-it-s-possible-to-check-for-duplicate/qaq-p/156723","body":"Also looking at this JIRA community currently there is no way to stop creating duplicate issues. <a href=\"https://community.atlassian.com/t5/Jira-questions/I-would-like-to-know-if-it-s-possible-to-check-for-duplicate/qaq-p/156723\" rel=\"nofollow noreferrer\">community.atlassian.com/t5/Jira-questions/&hellip;</a>"}],"tags":[],"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528223951,"creation_date":1528223951,"answer_id":50706880,"question_id":50682500,"body_markdown":"in your service before creating a JIRA ticket(I assume its an api call), check if already one exists (by using GET api from JIRA). \r\n\r\nBased on your constraints for querying bmc remedy, seems this extra call to JIRA, to check if its a duplicate is an option.","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>in your service before creating a JIRA ticket(I assume its an api call), check if already one exists (by using GET api from JIRA). </p>\n\n<p>Based on your constraints for querying bmc remedy, seems this extra call to JIRA, to check if its a duplicate is an option.</p>\n"},{"tags":[],"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1528378561,"creation_date":1528378401,"answer_id":50742626,"question_id":50682500,"body_markdown":"Okay! I&#39;m using a flat file.\r\n\r\nAs an alternative solution I&#39;ve used a flat file to store the &quot;date created&quot; of last remedy incident with &quot;HotFix&quot; label (only one record !!! this gets updated every time my service gets a hit if there are new remedy incidents) and while fetching the data from remedy I&#39;m ordering it based on date created and storing the most updated date (which would effectively serve me as a parameter for comparison when i hit my service next time to check if JIRAs till this particular date/time has already been created.) in this file.\r\n\r\nThis has resolved my issue.","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>Okay! I'm using a flat file.</p>\n\n<p>As an alternative solution I've used a flat file to store the \"date created\" of last remedy incident with \"HotFix\" label (only one record !!! this gets updated every time my service gets a hit if there are new remedy incidents) and while fetching the data from remedy I'm ordering it based on date created and storing the most updated date (which would effectively serve me as a parameter for comparison when i hit my service next time to check if JIRAs till this particular date/time has already been created.) in this file.</p>\n\n<p>This has resolved my issue.</p>\n"}],"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50742626,"answer_count":2,"score":0,"last_activity_date":1687507910,"creation_date":1528121179,"question_id":50682500,"body_markdown":"I&#39;m integrating BMC remedy and JIRA to solve a problem.\r\n\r\n**Task:** I run a rest service and it raises automatic JIRA after reading BMC remedy if there are any records which are of type hotfix. So basically few fields from BMC will be mapped to JIRA when JIRA are created.\r\n\r\n**Problem :**  Because Remedy API accepts only one search criteria (which is &quot;hotFix&quot; in my case), Every time my service runs it reads remedy and fetches all the data which are of type &quot;hotFix&quot; even the ones I&#39;ve already created JIRAs for which is expected. But now i need to resolve this because I don&#39;t want to raise duplicate JIRAs for them.\r\n\r\nI don&#39;t want store all these things in database due to some reason. (Well infra cost).\r\n\r\nIs there any way I can import this data without creating duplicates?","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>I'm integrating BMC remedy and JIRA to solve a problem.</p>\n\n<p><strong>Task:</strong> I run a rest service and it raises automatic JIRA after reading BMC remedy if there are any records which are of type hotfix. So basically few fields from BMC will be mapped to JIRA when JIRA are created.</p>\n\n<p><strong>Problem :</strong>  Because Remedy API accepts only one search criteria (which is \"hotFix\" in my case), Every time my service runs it reads remedy and fetches all the data which are of type \"hotFix\" even the ones I've already created JIRAs for which is expected. But now i need to resolve this because I don't want to raise duplicate JIRAs for them.</p>\n\n<p>I don't want store all these things in database due to some reason. (Well infra cost).</p>\n\n<p>Is there any way I can import this data without creating duplicates?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687507442,"creation_date":1687507442,"question_id":76538163,"body_markdown":"I have an issue after trying to migrate a microservice from Java 11 to Java 17. When I try to run the application, I get this error: Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile java.lang.Object java.util.concurrent.atomic.AtomicReference.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @3b0fe47a\r\n\r\nThe problem is that I do not have Atomic or volatile variables in my code. The error seems to be from a repository interface, I will post it below, along with the entity classes associated. \r\n\r\n``` \r\n\r\npublic interface EventServiceRepository extends ReactiveAerospikeRepository&lt;EventDocument, String&gt;, RepositoryConfiguration {\r\n\r\n\t@Override\r\n\tdefault Flux&lt;EventDocument&gt; findAll() {\r\n\t\treturn Flux.error(new UnsupportedOperationException(&quot;Usage of getAll is forbidden.&quot;));\r\n\t}\r\n\r\n\tdefault Mono&lt;EventDocument&gt; saveWithCas(EventDocument eventDocument) {\r\n\t\treturn CasUtils.toOptimisticRetryable(this.saveWithErrorHandling(eventDocument), getMaxCasRetries());\r\n\t}\r\n\r\n\tdefault Mono&lt;EventDocument&gt; updateWithCas(String id,\r\n\t                                          Mono&lt;EventDocument&gt; switchIfEmpty,\r\n\t                                          Function&lt;EventDocument, Mono&lt;EventDocument&gt;&gt; updateFunction) {\r\n\r\n\t\tvar userDocumentMono = findById(id);\r\n\t\treturn CasUtils.toOptimisticRetryable(\r\n\t\t\t\tuserDocumentMono\r\n\t\t\t\t\t\t.switchIfEmpty(switchIfEmpty)\r\n\t\t\t\t\t\t.flatMap(updateFunction)\r\n\t\t\t\t\t\t.flatMap(this::saveWithErrorHandling),\r\n\t\t\t\tgetMaxCasRetries()\r\n\t\t);\r\n\t}\r\n\r\n\r\n\tdefault Mono&lt;EventDocument&gt; saveWithErrorHandling(EventDocument document){\r\n\t\ttry {\r\n\t\t\treturn save(document);\r\n\t\t}catch (Exception exception){\r\n\t\t\treturn Mono.error(exception);\r\n\t\t}\r\n\t}\r\n} \r\n```\r\n\r\n\r\n\r\n```@Document(collection = &quot;wsop-events-service&quot;)\r\npublic class EventDocument {\r\n\r\n\t@Id\r\n\tprivate String userId;\r\n\r\n\tprivate EventConfig eventConfig;\r\n\r\n\t@Expiration(unixTime = true)\r\n\tprivate Long expiration;\r\n\r\n\t@Version\r\n\tprivate long version;\r\n\r\n\tprivate Long fetchTimestamp;\r\n\r\n\tprivate Integer userClubRank;\r\n}\r\n```\r\n\r\n```  \r\n@Setter\r\n@Valid\r\npublic class EventConfig extends AbstractCombinableConfig&lt;EventConfig&gt; implements ConfigCombiningStrategy&lt;EventConfig&gt; {\r\n\r\n\tpublic final static String FEATURE_NAME = &quot;Event&quot;;\r\n\r\n\tprivate Long eventId;\r\n\r\n\tprivate String eventName;\r\n\r\n\tprivate EventType eventType;\r\n\r\n\tprivate Boolean enabled;\r\n\r\n\tprivate Boolean configStickyByClub;\r\n\r\n\tprivate Integer userClubRank;\r\n\r\n\tprivate Long bucketNo;\r\n\r\n\tprivate String correlationId;\r\n\r\n\tprivate Long currencyId;\r\n\r\n\tprivate List&lt;EventsPeriods&gt; eventsPeriods;\r\n\r\n\t@JsonDeserialize(as = TreeMap.class)\r\n\tprivate NavigableMap&lt;Integer, Triggers&gt; triggersPerClubRank;\r\n\r\n\tprivate Double sinkShopCycleMultiplier;\r\n\tprivate Double sinkShopSliceMultiplier;\r\n\tprivate Long sinkShopSlice;\r\n\r\n\tprivate Map&lt;String, Long&gt; progressionMaxValueBaseAmount;\r\n\tprivate Map&lt;String, Long&gt; progressionRewardBaseAmount;\r\n\tprivate Map&lt;String, Long&gt; progressionCapBaseAmount;\r\n\r\n\tprivate Map&lt;String, Progression&gt; progressions;\r\n\tprivate Map&lt;String, RecurrentTrigger&gt; recurrentTriggers;\r\n\r\n\tprivate Double rewardMultiplier;\r\n\tprivate Map&lt;String, Reward&gt; rewards;\r\n\tprivate Map&lt;String, Object&gt; properties;\r\n}\r\n```\r\n\r\nThe more specific error given is this: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventServiceRepository&#39; defined in EventServiceRepository defined in @EnableReactiveAerospikeRepositories declared on AerospikeConfiguration: Invocation of init method failed; nested exception is ... ( above error )\r\n\r\nThe weird thing is that I do not have any volatile atomic variable in my entire code.\r\nDoes anyone know how this can be fixed? \r\nI also tried the solution with starting the project with the arguments &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot;, but it did not work.","title":"Java 17 InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;)","body":"<p>I have an issue after trying to migrate a microservice from Java 11 to Java 17. When I try to run the application, I get this error: Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile java.lang.Object java.util.concurrent.atomic.AtomicReference.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @3b0fe47a</p>\n<p>The problem is that I do not have Atomic or volatile variables in my code. The error seems to be from a repository interface, I will post it below, along with the entity classes associated.</p>\n<pre><code>\npublic interface EventServiceRepository extends ReactiveAerospikeRepository&lt;EventDocument, String&gt;, RepositoryConfiguration {\n\n    @Override\n    default Flux&lt;EventDocument&gt; findAll() {\n        return Flux.error(new UnsupportedOperationException(&quot;Usage of getAll is forbidden.&quot;));\n    }\n\n    default Mono&lt;EventDocument&gt; saveWithCas(EventDocument eventDocument) {\n        return CasUtils.toOptimisticRetryable(this.saveWithErrorHandling(eventDocument), getMaxCasRetries());\n    }\n\n    default Mono&lt;EventDocument&gt; updateWithCas(String id,\n                                              Mono&lt;EventDocument&gt; switchIfEmpty,\n                                              Function&lt;EventDocument, Mono&lt;EventDocument&gt;&gt; updateFunction) {\n\n        var userDocumentMono = findById(id);\n        return CasUtils.toOptimisticRetryable(\n                userDocumentMono\n                        .switchIfEmpty(switchIfEmpty)\n                        .flatMap(updateFunction)\n                        .flatMap(this::saveWithErrorHandling),\n                getMaxCasRetries()\n        );\n    }\n\n\n    default Mono&lt;EventDocument&gt; saveWithErrorHandling(EventDocument document){\n        try {\n            return save(document);\n        }catch (Exception exception){\n            return Mono.error(exception);\n        }\n    }\n} \n</code></pre>\n<pre><code>public class EventDocument {\n\n    @Id\n    private String userId;\n\n    private EventConfig eventConfig;\n\n    @Expiration(unixTime = true)\n    private Long expiration;\n\n    @Version\n    private long version;\n\n    private Long fetchTimestamp;\n\n    private Integer userClubRank;\n}\n</code></pre>\n<pre><code>@Setter\n@Valid\npublic class EventConfig extends AbstractCombinableConfig&lt;EventConfig&gt; implements ConfigCombiningStrategy&lt;EventConfig&gt; {\n\n    public final static String FEATURE_NAME = &quot;Event&quot;;\n\n    private Long eventId;\n\n    private String eventName;\n\n    private EventType eventType;\n\n    private Boolean enabled;\n\n    private Boolean configStickyByClub;\n\n    private Integer userClubRank;\n\n    private Long bucketNo;\n\n    private String correlationId;\n\n    private Long currencyId;\n\n    private List&lt;EventsPeriods&gt; eventsPeriods;\n\n    @JsonDeserialize(as = TreeMap.class)\n    private NavigableMap&lt;Integer, Triggers&gt; triggersPerClubRank;\n\n    private Double sinkShopCycleMultiplier;\n    private Double sinkShopSliceMultiplier;\n    private Long sinkShopSlice;\n\n    private Map&lt;String, Long&gt; progressionMaxValueBaseAmount;\n    private Map&lt;String, Long&gt; progressionRewardBaseAmount;\n    private Map&lt;String, Long&gt; progressionCapBaseAmount;\n\n    private Map&lt;String, Progression&gt; progressions;\n    private Map&lt;String, RecurrentTrigger&gt; recurrentTriggers;\n\n    private Double rewardMultiplier;\n    private Map&lt;String, Reward&gt; rewards;\n    private Map&lt;String, Object&gt; properties;\n}\n</code></pre>\n<p>The more specific error given is this: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventServiceRepository' defined in EventServiceRepository defined in @EnableReactiveAerospikeRepositories declared on AerospikeConfiguration: Invocation of init method failed; nested exception is ... ( above error )</p>\n<p>The weird thing is that I do not have any volatile atomic variable in my entire code.\nDoes anyone know how this can be fixed?\nI also tried the solution with starting the project with the arguments &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot;, but it did not work.</p>\n"},{"tags":["java","regex","spring-boot","notifications","ftp"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687439383,"post_id":76532258,"comment_id":134939234,"body_markdown":"ever tried something simple like: .filter(file -&gt; !file.getName().toLowerCase().endsWith(&quot;.jpg&quot;) ?","body":"ever tried something simple like: .filter(file -&gt; !file.getName().toLowerCase().endsWith(&quot;.jpg&quot;) ?"},{"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"score":0,"creation_date":1687439576,"post_id":76532258,"comment_id":134939287,"body_markdown":"Thank you a lot for a comment. But maybe there is some alternative for parentFiletr regex?","body":"Thank you a lot for a comment. But maybe there is some alternative for parentFiletr regex?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1687440019,"post_id":76532258,"comment_id":134939399,"body_markdown":"didn&#39;t I just provide you with an alternative?","body":"didn&#39;t I just provide you with an alternative?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687450215,"post_id":76532258,"comment_id":134941832,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687507381,"creation_date":1687507381,"answer_id":76538153,"question_id":76532258,"body_markdown":"I have found an answear for my question. There is a possibility to create a bean like\r\n\r\n    @Bean\r\n    public GenericSelector&lt;File&gt; excludeJPG() {\r\n        return new GenericSelector&lt;File&gt;() {\r\n            @Override\r\n            public boolean accept(File source) {\r\n                return !source.getName().endsWith(&quot;.JPG&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\nand then pass it into a \r\n\r\n    IntegrationFlows\r\n                .from(...)\r\n                .filter(excludeJPG())","title":"regex in Ftp.parentFilter for excluding files doesnt work","body":"<p>I have found an answear for my question. There is a possibility to create a bean like</p>\n<pre><code>@Bean\npublic GenericSelector&lt;File&gt; excludeJPG() {\n    return new GenericSelector&lt;File&gt;() {\n        @Override\n        public boolean accept(File source) {\n            return !source.getName().endsWith(&quot;.JPG&quot;);\n        }\n    };\n}\n</code></pre>\n<p>and then pass it into a</p>\n<pre><code>IntegrationFlows\n            .from(...)\n            .filter(excludeJPG())\n</code></pre>\n"}],"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687507381,"creation_date":1687439233,"question_id":76532258,"body_markdown":"I need to create a regular expression for excluding files from FTP parentFilter() with extension .jpg\r\nwhen I put such an expression ^.SIG$ or ^.\\.SIG$ this doesnt work and even a symbol \\ is not recognized by a spring boot. Can anybody help with such an expresiion?\r\n\r\n&quot;^.SIG$&quot; or &quot;^.\\.SIG$&quot;","title":"regex in Ftp.parentFilter for excluding files doesnt work","body":"<p>I need to create a regular expression for excluding files from FTP parentFilter() with extension .jpg\nwhen I put such an expression ^.SIG$ or ^..SIG$ this doesnt work and even a symbol \\ is not recognized by a spring boot. Can anybody help with such an expresiion?</p>\n<p>&quot;^.SIG$&quot; or &quot;^..SIG$&quot;</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":178394,"reputation":2540,"user_id":410342,"display_name":"Shotgun Ninja"},"score":0,"creation_date":1442584946,"post_id":32653692,"comment_id":53154471,"body_markdown":"You can&#39;t insert using the old-fashioned SQL way of `INSERT INTO ... VALUES ...`, because it is not supported in HQL. You&#39;d **have** to use Hibernate object mapping to do the insert (or raw SQL if you can expose it).","body":"You can&#39;t insert using the old-fashioned SQL way of <code>INSERT INTO ... VALUES ...</code>, because it is not supported in HQL. You&#39;d <b>have</b> to use Hibernate object mapping to do the insert (or raw SQL if you can expose it)."},{"owner":{"account_id":12595173,"reputation":477,"user_id":9160102,"display_name":"Bruno L."},"score":1,"creation_date":1632075035,"post_id":32653692,"comment_id":122389678,"body_markdown":"@ShotgunNinja that is a good advice, but you can force it using `createNativeQuery().setParameter().executeUpdate()` if needed, then you have to cast properly column values by yourself.","body":"@ShotgunNinja that is a good advice, but you can force it using <code>createNativeQuery().setParameter().executeUpdate()</code> if needed, then you have to cast properly column values by yourself."}],"answers":[{"tags":[],"owner":{"account_id":3112718,"reputation":9633,"user_id":2634160,"display_name":"Elon Than"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442584623,"creation_date":1442584623,"answer_id":32653880,"question_id":32653692,"body_markdown":"`HQL` doesn&#39;t support such `INSERT`s so you have to do this by creating and persisting new entity.\r\n\r\nYou can read about it [here][1].\r\n\r\n&gt; Only the INSERT INTO ... SELECT ... form is supported. You cannot specify explicit values to insert.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html","title":"How to write HQL Insert query?","body":"<p><code>HQL</code> doesn't support such <code>INSERT</code>s so you have to do this by creating and persisting new entity.</p>\n\n<p>You can read about it <a href=\"https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html\" rel=\"nofollow\">here</a>.</p>\n\n<blockquote>\n  <p>Only the INSERT INTO ... SELECT ... form is supported. You cannot specify explicit values to insert.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1442584710,"creation_date":1442584710,"answer_id":32653915,"question_id":32653692,"body_markdown":"In HQL, only the INSERT INTO … SELECT … is supported; there is no INSERT INTO … VALUES. HQL only support insert from another table.\r\n\r\nSo query INSERT from SELECT is possible like this\r\n\r\n    Query query = session.createQuery(&quot;insert into Stock(stock_code, stock_name)&quot; +\r\n        \t\t\t&quot;select stock_code, stock_name from backup_stock&quot;);\r\n    int result = query.executeUpdate();\r\n\r\nGot from [here secion 4][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/hibernate/hibernate-query-examples-hql/\r\n\r\nIf you have values and Entity just  call\r\n\r\n    MyEntity e=new MyEntity();\r\n    e.setXXXX(the XXX values);\r\n    save(e);\r\n\r\n","title":"How to write HQL Insert query?","body":"<p>In HQL, only the INSERT INTO … SELECT … is supported; there is no INSERT INTO … VALUES. HQL only support insert from another table.</p>\n\n<p>So query INSERT from SELECT is possible like this</p>\n\n<pre><code>Query query = session.createQuery(\"insert into Stock(stock_code, stock_name)\" +\n                \"select stock_code, stock_name from backup_stock\");\nint result = query.executeUpdate();\n</code></pre>\n\n<p>Got from <a href=\"http://www.mkyong.com/hibernate/hibernate-query-examples-hql/\" rel=\"noreferrer\">here secion 4</a></p>\n\n<p>If you have values and Entity just  call</p>\n\n<pre><code>MyEntity e=new MyEntity();\ne.setXXXX(the XXX values);\nsave(e);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14834790,"reputation":233,"user_id":10928304,"display_name":"unknow"},"score":1,"creation_date":1581763016,"post_id":48734295,"comment_id":106550159,"body_markdown":"no entiendo porque te ponen negativo si es la respuesta correcta","body":"no entiendo porque te ponen negativo si es la respuesta correcta"}],"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1518370018,"creation_date":1518370018,"answer_id":48734295,"question_id":32653692,"body_markdown":"You can do:\r\n\r\n    Foo foo = new Foo(any, columns, you, want);\r\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\tsession.beginTransaction();\r\n\t\r\n    session.save(foo); //Here you have the magic\r\n\t\r\n\tsession.getTransaction().commit();\r\n\tsession.close();\r\n\r\nJust make sure you add all the values set as &quot;not null&quot;, or you&#180;ll get a nullException.","title":"How to write HQL Insert query?","body":"<p>You can do:</p>\n\n<pre><code>Foo foo = new Foo(any, columns, you, want);\nSession session = HibernateUtil.getSessionFactory().getCurrentSession();\nsession.beginTransaction();\n\nsession.save(foo); //Here you have the magic\n\nsession.getTransaction().commit();\nsession.close();\n</code></pre>\n\n<p>Just make sure you add all the values set as \"not null\", or you´ll get a nullException.</p>\n"},{"tags":[],"owner":{"account_id":27364637,"reputation":1,"user_id":20871697,"display_name":"Utkarsh Pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687507089,"creation_date":1687507089,"answer_id":76538123,"question_id":32653692,"body_markdown":"HQL supports only the INSERT INTO……… SELECT……… ; there is no chance to write INSERT INTO………..VALUES, i mean while writing the insert query, we need to select values from other table, we can’t insert our own values manually.","title":"How to write HQL Insert query?","body":"<p>HQL supports only the INSERT INTO……… SELECT……… ; there is no chance to write INSERT INTO………..VALUES, i mean while writing the insert query, we need to select values from other table, we can’t insert our own values manually.</p>\n"}],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66616,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":32653915,"answer_count":4,"score":12,"last_activity_date":1687507089,"creation_date":1442584100,"question_id":32653692,"body_markdown":"I am struggling to write a HQL query for inserting a new record in a table. I have seen some of insert query as below but I don&#39;t want insert data from another table as below code.\r\n\r\n    String hql = &quot;INSERT INTO Employee(firstName, lastName, salary)&quot;  + \r\n                 &quot;SELECT firstName, lastName, salary FROM old_employee&quot;;\r\n    Query query = session.createQuery(hql);\r\n    int result = query.executeUpdate();\r\n    System.out.println(&quot;Rows affected: &quot; + result);\r\n\r\nFor example I have a table &quot;User&quot; with three fields like name, age, number and I have entity for this user table. what will be the insert query for this?","title":"How to write HQL Insert query?","body":"<p>I am struggling to write a HQL query for inserting a new record in a table. I have seen some of insert query as below but I don't want insert data from another table as below code.</p>\n\n<pre><code>String hql = \"INSERT INTO Employee(firstName, lastName, salary)\"  + \n             \"SELECT firstName, lastName, salary FROM old_employee\";\nQuery query = session.createQuery(hql);\nint result = query.executeUpdate();\nSystem.out.println(\"Rows affected: \" + result);\n</code></pre>\n\n<p>For example I have a table \"User\" with three fields like name, age, number and I have entity for this user table. what will be the insert query for this?</p>\n"},{"tags":["java","java-stream","entity","modelmapper"],"comments":[{"owner":{"account_id":5989628,"reputation":521,"user_id":4706045,"display_name":"ASHMIL"},"score":0,"creation_date":1687857473,"post_id":76538000,"comment_id":134991857,"body_markdown":"Did you tried something already, please share the code which you tries","body":"Did you tried something already, please share the code which you tries"}],"answers":[{"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687506656,"creation_date":1687506656,"answer_id":76538077,"question_id":76538000,"body_markdown":"From what I understand, you want to convert from a `P` to list of `OrderLi`, here is my solution.\r\n```\r\nfinal List&lt;OrderLi&gt; orderLiList = p.getLin()\r\n    .stream()\r\n    .map(\r\n        lin -&gt; new OrderLi(\r\n            Optional.ofNullable(lin.getOh()).map(Oh::getOhId).orElse(0),\r\n            Optional.ofNullable(lin.getOh()).map(Oh::getSize).orElse(null),\r\n            lin.getPr(),\r\n            lin.getQty()\r\n        )\r\n    )\r\n    .collect(Collectors.toList());\r\n```","title":"creating a list with multiple properties - entity from DTO","body":"<p>From what I understand, you want to convert from a <code>P</code> to list of <code>OrderLi</code>, here is my solution.</p>\n<pre><code>final List&lt;OrderLi&gt; orderLiList = p.getLin()\n    .stream()\n    .map(\n        lin -&gt; new OrderLi(\n            Optional.ofNullable(lin.getOh()).map(Oh::getOhId).orElse(0),\n            Optional.ofNullable(lin.getOh()).map(Oh::getSize).orElse(null),\n            lin.getPr(),\n            lin.getQty()\n        )\n    )\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":11088188,"reputation":15,"user_id":8141083,"display_name":"Sathish_SatG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76538077,"answer_count":1,"score":0,"last_activity_date":1687506656,"creation_date":1687505836,"question_id":76538000,"body_markdown":"I haven&#39;t added the getter and setter for simplicity. I&#39;m facing a mapping issue here. I want to achieve this using java stream.\r\n\r\n    public class P{\r\n         private ArrayList&lt;Lin&gt; lin;\r\n    }\r\n    \r\n    public class Lin{\r\n        private Oh oh;\r\n        private ArrayList&lt;Pr&gt; pr;\r\n        private ArrayList&lt;Qty&gt; qty;\r\n    }\r\n    \r\n    public class Oh{\r\n        private int ohId;\r\n        private String size;\r\n    }\r\n    \r\n    public class Pr{\r\n       private int prId;\r\n       private String sys;\r\n    }\r\n    \r\n    public class Qty{\r\n       private int qtyId;\r\n       private String older;\r\n    }\r\n\r\nWith the above P class I want to convert a entity in the below structure,\r\n\r\n    public class OrderLi{\r\n        private int ohId;\r\n        private String size;\r\n        private ArrayList&lt;Pr&gt; pr;\r\n        private ArrayList&lt;Qty&gt; qty;\r\n    }\r\n\r\nI want to convert this using java stream without adding repeated loops.\r\n","title":"creating a list with multiple properties - entity from DTO","body":"<p>I haven't added the getter and setter for simplicity. I'm facing a mapping issue here. I want to achieve this using java stream.</p>\n<pre><code>public class P{\n     private ArrayList&lt;Lin&gt; lin;\n}\n\npublic class Lin{\n    private Oh oh;\n    private ArrayList&lt;Pr&gt; pr;\n    private ArrayList&lt;Qty&gt; qty;\n}\n\npublic class Oh{\n    private int ohId;\n    private String size;\n}\n\npublic class Pr{\n   private int prId;\n   private String sys;\n}\n\npublic class Qty{\n   private int qtyId;\n   private String older;\n}\n</code></pre>\n<p>With the above P class I want to convert a entity in the below structure,</p>\n<pre><code>public class OrderLi{\n    private int ohId;\n    private String size;\n    private ArrayList&lt;Pr&gt; pr;\n    private ArrayList&lt;Qty&gt; qty;\n}\n</code></pre>\n<p>I want to convert this using java stream without adding repeated loops.</p>\n"},{"tags":["java","java-8","functional-interface"],"comments":[{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1687503722,"post_id":76537684,"comment_id":134948735,"body_markdown":"The meaning of the `Function&lt;T,T&gt;` return type, is that you can chain the calls over and over, for example you can do `identity().andThen(--another function here --).compose( -- another function here --) .. .apply(x)` where `x` is the object you want to apply the previous chained calls","body":"The meaning of the <code>Function&lt;T,T&gt;</code> return type, is that you can chain the calls over and over, for example you can do <code>identity().andThen(--another function here --).compose( -- another function here --) .. .apply(x)</code> where <code>x</code> is the object you want to apply the previous chained calls"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1687503953,"post_id":76537684,"comment_id":134948774,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687503987,"post_id":76537684,"comment_id":134948781,"body_markdown":"You have to understand lambda expressions, to understand where the lowercase `t` comes from. In short, it comes from right where you see it, to the left of the `-&gt;` arrow, as that’s a parameter declaration *defining* the parameter’s name.","body":"You have to understand lambda expressions, to understand where the lowercase <code>t</code> comes from. In short, it comes from right where you see it, to the left of the <code>-&gt;</code> arrow, as that’s a parameter declaration <i>defining</i> the parameter’s name."}],"answers":[{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687503408,"creation_date":1687503408,"answer_id":76537748,"question_id":76537684,"body_markdown":"From [javadoc][1]: \r\n\r\n&gt; This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.\r\n\r\nThe Function contains 4 methods:\r\n\r\n - apply()\r\n - andThen()\r\n - compose()\r\n - identity()\r\n\r\n`identity()`:\r\n\r\n&gt; This method returns a function that returns its only argument.\r\n\r\nSyntax:  \r\n\r\n`static &lt;T&gt; Function&lt;T, T&gt; identity()`\r\n\r\nwhere T denotes the type of the argument and the value to be returned\r\n\r\nReturns: This method returns a function that returns its own argument\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Meaning of statement in Java Functional Interface Function","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</p>\n</blockquote>\n<p>The Function contains 4 methods:</p>\n<ul>\n<li>apply()</li>\n<li>andThen()</li>\n<li>compose()</li>\n<li>identity()</li>\n</ul>\n<p><code>identity()</code>:</p>\n<blockquote>\n<p>This method returns a function that returns its only argument.</p>\n</blockquote>\n<p>Syntax:</p>\n<p><code>static &lt;T&gt; Function&lt;T, T&gt; identity()</code></p>\n<p>where T denotes the type of the argument and the value to be returned</p>\n<p>Returns: This method returns a function that returns its own argument</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687504994,"creation_date":1687504284,"answer_id":76537835,"question_id":76537684,"body_markdown":"When in doubt, always consult the docs first - [Function][1].\r\n\r\n`&lt;T&gt; Function&lt;T, T&gt;` means function, whose return type is the same as the input type.\r\n\r\n`t -&gt; t` is a lambda expression, defining the function, it means you return the input. That is explained in the docs as well:\r\n\r\n&gt; Returns a function that always returns its input argument.\r\n\r\nAdditionally you should go through the lambda expression tutorial from Oracle - [Lambda Expressions][2]\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Meaning of statement in Java Functional Interface Function","body":"<p>When in doubt, always consult the docs first - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a>.</p>\n<p><code>&lt;T&gt; Function&lt;T, T&gt;</code> means function, whose return type is the same as the input type.</p>\n<p><code>t -&gt; t</code> is a lambda expression, defining the function, it means you return the input. That is explained in the docs as well:</p>\n<blockquote>\n<p>Returns a function that always returns its input argument.</p>\n</blockquote>\n<p>Additionally you should go through the lambda expression tutorial from Oracle - <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expressions</a></p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687504621,"creation_date":1687504621,"answer_id":76537862,"question_id":76537684,"body_markdown":"let&#39;s take a look at the Function interface definition \r\n\r\n`public interface Function&lt;T, R&gt; {}` **&lt;T,R&gt;** means that this interface can take any type of class T and return different type R (does not enforce the output type to be the same as the input)\r\n\r\n&gt; What is meaning of Function&lt;T,T&gt; in the return type?\r\n\r\nwe are returning a Function that accepts and returns the same type of object. **forcing the same Type**\r\n\r\n&gt; Where does the lowercase t in function definition come from ?\r\n\r\nthis is lambda expression, as Function is functional interface that has only one abstract method apply(T t) that takes one input t and we are returning the same input.\r\nso this is the lambda expression equivalent to the following \r\n\r\n       static &lt;T&gt; Function&lt;T, T&gt; identity() {\r\n            return new Function&lt;&gt;() {\r\n                @Override\r\n                public Object apply(Object t) {\r\n                    return t;\r\n                }\r\n            };\r\n        }\r\n\r\n ","title":"Meaning of statement in Java Functional Interface Function","body":"<p>let's take a look at the Function interface definition</p>\n<p><code>public interface Function&lt;T, R&gt; {}</code> <strong>&lt;T,R&gt;</strong> means that this interface can take any type of class T and return different type R (does not enforce the output type to be the same as the input)</p>\n<blockquote>\n<p>What is meaning of Function&lt;T,T&gt; in the return type?</p>\n</blockquote>\n<p>we are returning a Function that accepts and returns the same type of object. <strong>forcing the same Type</strong></p>\n<blockquote>\n<p>Where does the lowercase t in function definition come from ?</p>\n</blockquote>\n<p>this is lambda expression, as Function is functional interface that has only one abstract method apply(T t) that takes one input t and we are returning the same input.\nso this is the lambda expression equivalent to the following</p>\n<pre><code>   static &lt;T&gt; Function&lt;T, T&gt; identity() {\n        return new Function&lt;&gt;() {\n            @Override\n            public Object apply(Object t) {\n                return t;\n            }\n        };\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1687507255,"post_id":76538064,"comment_id":134949436,"body_markdown":"&quot;Unlike actual variables, typevars are a figment of the compiler&#39;s imagination.&quot;\nThat is not true, type variables are accessible at runtime, e.g.: \n`Function.class.getDeclaredMethod(&quot;identity&quot;).getTypeParameters()`","body":"&quot;Unlike actual variables, typevars are a figment of the compiler&#39;s imagination.&quot; That is not true, type variables are accessible at runtime, e.g.:  <code>Function.class.getDeclaredMethod(&quot;identity&quot;).getTypeParamete&zwnj;&#8203;rs()</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1687513128,"post_id":76538064,"comment_id":134950596,"body_markdown":"@AlexR The runtime (`java.exe`) treats them as comments. It has no idea what they mean nor does it apply any safety. The vast majority of generics isn&#39;t available at runtime. The only ones that are, are where they are used in signatures (the type of a field or the type of a method&#39;s return type or parameter or throws clause), and the reason they are available, is solely for the purpose of the compiler. It&#39;s somebody who is fairly new to java, your pedantic &#39;buuut acshually...&#39; comment is didactically a bad idea.","body":"@AlexR The runtime (<code>java.exe</code>) treats them as comments. It has no idea what they mean nor does it apply any safety. The vast majority of generics isn&#39;t available at runtime. The only ones that are, are where they are used in signatures (the type of a field or the type of a method&#39;s return type or parameter or throws clause), and the reason they are available, is solely for the purpose of the compiler. It&#39;s somebody who is fairly new to java, your pedantic &#39;buuut acshually...&#39; comment is didactically a bad idea."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687506557,"creation_date":1687506557,"answer_id":76538064,"question_id":76537684,"body_markdown":"&gt; ```\r\n&gt; static &lt;T&gt; Function&lt;T, T&gt; identity() {\r\n&gt; ```\r\n\r\nThe first `&lt;T&gt;` declares a __type variable__. It&#39;s similar to declaring a normal variable, e.g.:\r\n\r\n```\r\nvoid foo() {\r\n  int x; // this declares a variable\r\n}\r\n```\r\n\r\nexcept:\r\n\r\n* It is called `T`.\r\n* a normal variable refers to a value. A type variable refers to a type, hence the name &#39;type variable&#39;. Just like `int x;` means: &quot;`x` stands in for an int value; where you would write e.g. `5 + 2` you can also write `5 + x` and you substitute whatever value x holds at that time instead of &#39;2&#39; - a type variable substitutes a type. Where you normally write `String z;` you can write `T z;` - meaning: `z` is a variable. The type of this variable is whatever type the `T` typevar means.\r\n* It has no bounds - meaning, T can be any non-primitive type. Object, Number, InputStream, SomeTypeIDeclared, whatever you want.\r\n\r\nUnlike actual variables, typevars are a figment of the compiler&#39;s imagination. The compiler uses them to make code make sense and be better type checked. The runtime (`java.exe`) does nothing with them.\r\n\r\nHence, they serve to __link things__: You use them to say: &quot;This method takes one parameter and returns a value. The type of the parameter can be whatever you want; this method returns the same type as what you pass in. As an example.\r\n\r\nHere, checking `Function`&#39;s javadoc, its first type argument is the type of the _input_ of the function, the second is the type of the _output_.\r\n\r\nThe only reason we need `&lt;T&gt;` here is to link em up: We want to express the notion of a function whose input type is the same as its output type. That&#39;s obvious once we consider what the `identity()` method does: It returns a __function__ that just returns its input. Hence, the type of its output is naturally identical to the type of its input.\r\n\r\n&gt;```\r\n&gt; return t -&gt; t;\r\n&gt; ```\r\n\r\nThis defines a function - it&#39;s lambda syntax. It&#39;s shorthand for:\r\n\r\n```\r\nclass MyAnonymousType&lt;T&gt; implements Function&lt;T, T&gt; {\r\n  public T apply(T t) {\r\n    return t;\r\n  }\r\n}\r\n\r\nreturn new myAnonymousType&lt;T&gt;();\r\n```\r\n\r\nThe first `t` is short for the `T t` in `apply(T t)` - there is no need to write `apply` because the compiler knows you are attempting to return a `java.lang.function.Function` and that is a functional interface (an interface with only one method) - it knows you want to implement that method, so no need to specify its name, the compiler can figure it out. You don&#39;t need the `T` for the same reason - the compiler figures it out from the signature of that one method in your functional interface.\r\n\r\n`-&gt;` is short for: ... and now for the implementation of this one method in the Function interface. And the implementation is simply `t` - short for `return t;` (`return` is implied _unless_ you add braces). You can also write:\r\n\r\n```\r\nreturn t -&gt; {\r\n  return t;\r\n};\r\n```\r\n\r\nand even:\r\n```\r\nreturn (T t) -&gt; {\r\n  return t;\r\n};\r\n```\r\n\r\n\r\nif that helps clear things up for you.\r\n\r\nThe end result is a function (named `identity`) that returns a function (we&#39;re getting a bit meta in here!) - the function returned will adapt to whatever specific type you have in mind, as long as you are looking for a function that returns the same type that it takes in, and you want an implementation of such a function that simply returns the input verbatim (which naturally therefore means the returned thing has the same type as the provided thing).\r\n","title":"Meaning of statement in Java Functional Interface Function","body":"<blockquote>\n<pre><code>static &lt;T&gt; Function&lt;T, T&gt; identity() {\n</code></pre>\n</blockquote>\n<p>The first <code>&lt;T&gt;</code> declares a <strong>type variable</strong>. It's similar to declaring a normal variable, e.g.:</p>\n<pre><code>void foo() {\n  int x; // this declares a variable\n}\n</code></pre>\n<p>except:</p>\n<ul>\n<li>It is called <code>T</code>.</li>\n<li>a normal variable refers to a value. A type variable refers to a type, hence the name 'type variable'. Just like <code>int x;</code> means: &quot;<code>x</code> stands in for an int value; where you would write e.g. <code>5 + 2</code> you can also write <code>5 + x</code> and you substitute whatever value x holds at that time instead of '2' - a type variable substitutes a type. Where you normally write <code>String z;</code> you can write <code>T z;</code> - meaning: <code>z</code> is a variable. The type of this variable is whatever type the <code>T</code> typevar means.</li>\n<li>It has no bounds - meaning, T can be any non-primitive type. Object, Number, InputStream, SomeTypeIDeclared, whatever you want.</li>\n</ul>\n<p>Unlike actual variables, typevars are a figment of the compiler's imagination. The compiler uses them to make code make sense and be better type checked. The runtime (<code>java.exe</code>) does nothing with them.</p>\n<p>Hence, they serve to <strong>link things</strong>: You use them to say: &quot;This method takes one parameter and returns a value. The type of the parameter can be whatever you want; this method returns the same type as what you pass in. As an example.</p>\n<p>Here, checking <code>Function</code>'s javadoc, its first type argument is the type of the <em>input</em> of the function, the second is the type of the <em>output</em>.</p>\n<p>The only reason we need <code>&lt;T&gt;</code> here is to link em up: We want to express the notion of a function whose input type is the same as its output type. That's obvious once we consider what the <code>identity()</code> method does: It returns a <strong>function</strong> that just returns its input. Hence, the type of its output is naturally identical to the type of its input.</p>\n<blockquote>\n<pre><code>return t -&gt; t;\n</code></pre>\n</blockquote>\n<p>This defines a function - it's lambda syntax. It's shorthand for:</p>\n<pre><code>class MyAnonymousType&lt;T&gt; implements Function&lt;T, T&gt; {\n  public T apply(T t) {\n    return t;\n  }\n}\n\nreturn new myAnonymousType&lt;T&gt;();\n</code></pre>\n<p>The first <code>t</code> is short for the <code>T t</code> in <code>apply(T t)</code> - there is no need to write <code>apply</code> because the compiler knows you are attempting to return a <code>java.lang.function.Function</code> and that is a functional interface (an interface with only one method) - it knows you want to implement that method, so no need to specify its name, the compiler can figure it out. You don't need the <code>T</code> for the same reason - the compiler figures it out from the signature of that one method in your functional interface.</p>\n<p><code>-&gt;</code> is short for: ... and now for the implementation of this one method in the Function interface. And the implementation is simply <code>t</code> - short for <code>return t;</code> (<code>return</code> is implied <em>unless</em> you add braces). You can also write:</p>\n<pre><code>return t -&gt; {\n  return t;\n};\n</code></pre>\n<p>and even:</p>\n<pre><code>return (T t) -&gt; {\n  return t;\n};\n</code></pre>\n<p>if that helps clear things up for you.</p>\n<p>The end result is a function (named <code>identity</code>) that returns a function (we're getting a bit meta in here!) - the function returned will adapt to whatever specific type you have in mind, as long as you are looking for a function that returns the same type that it takes in, and you want an implementation of such a function that simply returns the input verbatim (which naturally therefore means the returned thing has the same type as the provided thing).</p>\n"}],"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76538064,"answer_count":4,"score":-1,"last_activity_date":1687506557,"creation_date":1687502844,"question_id":76537684,"body_markdown":"I recently was learning functional interfaces in Java and so the ***Function*** Interface.\r\nWhen I came across the definition of `identity static method` in it, the very first thing that confused me was :\r\n\r\n    static &lt;T&gt; Function&lt;T, T&gt; identity() {\r\n            return t -&gt; t;\r\n        }\r\n\r\nWhat is meaning of Function&lt;T,T&gt; in the return type? Where does the lowercase t in function definition come from ? Elaborated explanations are always helpful. ","title":"Meaning of statement in Java Functional Interface Function","body":"<p>I recently was learning functional interfaces in Java and so the <em><strong>Function</strong></em> Interface.\nWhen I came across the definition of <code>identity static method</code> in it, the very first thing that confused me was :</p>\n<pre><code>static &lt;T&gt; Function&lt;T, T&gt; identity() {\n        return t -&gt; t;\n    }\n</code></pre>\n<p>What is meaning of Function&lt;T,T&gt; in the return type? Where does the lowercase t in function definition come from ? Elaborated explanations are always helpful.</p>\n"},{"tags":["java","postconstruct","spring-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1423167831,"post_id":28350082,"comment_id":45050365,"body_markdown":"The `@PostConstruct` gives no guarantees that proxies have already been created (that is the same reason why `@Transactional` doesn&#39;t work for `@PostConstruct` methods. The `@PostConstruct` method is called right after construction and after injection of the dependencies but almost always before the point that proxies have been created. Why do you need it in a `@PostConstruct` method? In general an `ApplicationListener&lt;ContextRefreshedEvent&gt;` is beter of implementing the `SmartInitializingSingleton` interface instead of `@PostConstruct`.","body":"The <code>@PostConstruct</code> gives no guarantees that proxies have already been created (that is the same reason why <code>@Transactional</code> doesn&#39;t work for <code>@PostConstruct</code> methods. The <code>@PostConstruct</code> method is called right after construction and after injection of the dependencies but almost always before the point that proxies have been created. Why do you need it in a <code>@PostConstruct</code> method? In general an <code>ApplicationListener&lt;ContextRefreshedEvent&gt;</code> is beter of implementing the <code>SmartInitializingSingleton</code> interface instead of <code>@PostConstruct</code>."},{"owner":{"account_id":3551725,"reputation":551,"user_id":2966436,"display_name":"TimothyBrake"},"score":0,"creation_date":1423261406,"post_id":28350082,"comment_id":45091924,"body_markdown":"Thank you for your reply. We use the postconstruct to initialize a bean with values taken from another service (which has @Cacheable on its methods) We expected that these values would be cached even when using a postconstruct. If this is not the case then a java doc would benefit the framework as other developers might not be aware of this as well. Will try the SmartInitializingSingleton instead. Thanks!","body":"Thank you for your reply. We use the postconstruct to initialize a bean with values taken from another service (which has @Cacheable on its methods) We expected that these values would be cached even when using a postconstruct. If this is not the case then a java doc would benefit the framework as other developers might not be aware of this as well. Will try the SmartInitializingSingleton instead. Thanks!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1423406437,"post_id":28350082,"comment_id":45126651,"body_markdown":"This is explained in [the reference guide](http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-factory-lifecycle-default-init-destroy-methods) read the last paragraph of that section.","body":"This is explained in <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-factory-lifecycle-default-init-destroy-methods\" rel=\"nofollow noreferrer\">the reference guide</a> read the last paragraph of that section."}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423333852,"creation_date":1423318067,"answer_id":28383083,"question_id":28350082,"body_markdown":"As Marten said already, you are not supposed to use any of those services in the `PostConstruct` phase because you have no guarantee that the proxy interceptor has fully started at this point. \r\n\r\nYour best shot at pre-loading your cache is to listen for `ContextRefreshedEvent` (more support coming in 4.2) and do the work there. That being said, I understand that it may not be clear that such usage is forbidden so I&#39;ve created [SPR-12700](https://jira.spring.io/browse/SPR-12700) to improve the documentation. I am not sure what javadoc you were referring to.\r\n\r\nTo answer your question: no it&#39;s not a safe workaround. What you were using before worked by &quot;side-effect&quot; (i.e. it wasn&#39;t supposed to work, if your bean was initialized before the `CacheInterceptor` you would have the same problem with an older version of the framework). Don&#39;t call such low-level infrastructure in your own code. ","title":"Spring cache using @Cacheable during @PostConstruct does not work","body":"<p>As Marten said already, you are not supposed to use any of those services in the <code>PostConstruct</code> phase because you have no guarantee that the proxy interceptor has fully started at this point. </p>\n\n<p>Your best shot at pre-loading your cache is to listen for <code>ContextRefreshedEvent</code> (more support coming in 4.2) and do the work there. That being said, I understand that it may not be clear that such usage is forbidden so I've created <a href=\"https://jira.spring.io/browse/SPR-12700\" rel=\"noreferrer\">SPR-12700</a> to improve the documentation. I am not sure what javadoc you were referring to.</p>\n\n<p>To answer your question: no it's not a safe workaround. What you were using before worked by \"side-effect\" (i.e. it wasn't supposed to work, if your bean was initialized before the <code>CacheInterceptor</code> you would have the same problem with an older version of the framework). Don't call such low-level infrastructure in your own code. </p>\n"},{"tags":[],"owner":{"account_id":1834782,"reputation":1763,"user_id":1665377,"display_name":"maximede"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457048733,"creation_date":1457048733,"answer_id":35785356,"question_id":28350082,"body_markdown":"Just had the exact same problem as OP and listening to ```ContextRefreshedEvent``` was causing my initialization method to be called twice. Listening to ```ApplicationReadyEvent``` worked best for me.\r\nHere is the code I used\r\n\r\n    @Component\r\n    public class MyInitializer implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n        @Override\r\n        public void onApplicationEvent(ApplicationReadyEvent event) {\r\n            //doing things\r\n        }\r\n    }","title":"Spring cache using @Cacheable during @PostConstruct does not work","body":"<p>Just had the exact same problem as OP and listening to <code>ContextRefreshedEvent</code> was causing my initialization method to be called twice. Listening to <code>ApplicationReadyEvent</code> worked best for me.\nHere is the code I used</p>\n\n<pre><code>@Component\npublic class MyInitializer implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n        //doing things\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16501447,"reputation":1,"user_id":11922662,"display_name":"PK_Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565706523,"creation_date":1565702853,"answer_id":57478784,"question_id":28350082,"body_markdown":"Autowire `ApplicationContext` and invoke method call using :\r\n\r\n    applicationContext.getBean(RBService.class).getRawBundle(bundleName, DEFAULT_REQUEST_LANG);\r\n\r\nwhere `getRawBundle` is `Cacheable` method.","title":"Spring cache using @Cacheable during @PostConstruct does not work","body":"<p>Autowire <code>ApplicationContext</code> and invoke method call using :</p>\n\n<pre><code>applicationContext.getBean(RBService.class).getRawBundle(bundleName, DEFAULT_REQUEST_LANG);\n</code></pre>\n\n<p>where <code>getRawBundle</code> is <code>Cacheable</code> method.</p>\n"},{"tags":[],"owner":{"account_id":5281565,"reputation":128,"user_id":4216736,"accept_rate":40,"display_name":"shengbin_xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687506199,"creation_date":1687506199,"answer_id":76538033,"question_id":28350082,"body_markdown":"&gt; The @PostConstruct gives no guarantees that proxies have already been created\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QiEy8.png\r\n\r\nwhen use @Cacheable during @PostConstruct, `this.initialized` is false, and Will not execute operation cache related code.","title":"Spring cache using @Cacheable during @PostConstruct does not work","body":"<blockquote>\n<p>The @PostConstruct gives no guarantees that proxies have already been created</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/QiEy8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QiEy8.png\" alt=\"enter image description here\" /></a></p>\n<p>when use @Cacheable during @PostConstruct, <code>this.initialized</code> is false, and Will not execute operation cache related code.</p>\n"}],"owner":{"account_id":3551725,"reputation":551,"user_id":2966436,"display_name":"TimothyBrake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7210,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1687506199,"creation_date":1423156503,"question_id":28350082,"body_markdown":"related to the commit in spring framework https://github.com/spring-projects/spring-framework/commit/5aefcc802ef05abc51bbfbeb4a78b3032ff9eee3\r\n\r\nthe initialisation is set to a later stage from *afterPropertiesSet()* to *afterSingletonsInstantiated()* \r\n\r\n**In short**: \r\nThis prevents the caching to work when using it in a @PostConstruct use case.\r\n\r\n**Longer version**:\r\nThis prevents the use case where you would\r\n\r\n 1. create serviceB with @Cacheable on a methodB\r\n \r\n 2. create serviceA with @PostConstruct calling serviceB.methodB\r\n\r\n\r\n    \r\n\r\n    \r\n        @Component \r\n        public class ServiceA{\r\n \r\n        @Autowired\r\n        private ServiceB serviceB;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            List&lt;String&gt; list = serviceB.loadSomething();\r\n        }\r\n \r\nThis results in org.springframework.cache.interceptor.CacheAspectSupport not being initialised now and thus not caching the result.\r\n\r\n\r\n    protected Object execute(CacheOperationInvoker invoker, Object target, Method method, Object[] args) {\r\n       // check whether aspect is enabled\r\n       // to cope with cases where the AJ is pulled in automatically\r\n       if (this.initialized) {\r\n    //&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; NOT Being called\r\n          Class&lt;?&gt; targetClass = getTargetClass(target);\r\n          Collection&lt;CacheOperation&gt; operations = getCacheOperationSource().getCacheOperations(method, targetClass);\r\n          if (!CollectionUtils.isEmpty(operations)) {\r\n             return execute(invoker, new CacheOperationContexts(operations, method, args, target, targetClass));\r\n          }\r\n       }\r\n    //&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Being called\r\n       return invoker.invoke();\r\n    }\r\n\r\n\r\nMy workaround is to manually call the initialisation method:\r\n\r\n    @Configuration\r\n    public class SomeConfigClass{\r\n\r\n      @Inject\r\n      private CacheInterceptor cacheInterceptor;\r\n    \r\n      @PostConstruct\r\n      public void init() {\r\n        cacheInterceptor.afterSingletonsInstantiated();\r\n      }\r\n\r\nThis of course fixes my issue but does it have side effects other that just being called 2 times (1 manual and 1 by the framework as intended)\r\n\r\nMy question is:\r\n&quot;Is this a safe workaround to do as the initial commiter seemed to have an issue with just using the afterPropertiesSet()&quot;\r\n","title":"Spring cache using @Cacheable during @PostConstruct does not work","body":"<p>related to the commit in spring framework <a href=\"https://github.com/spring-projects/spring-framework/commit/5aefcc802ef05abc51bbfbeb4a78b3032ff9eee3\">https://github.com/spring-projects/spring-framework/commit/5aefcc802ef05abc51bbfbeb4a78b3032ff9eee3</a></p>\n\n<p>the initialisation is set to a later stage from <em>afterPropertiesSet()</em> to <em>afterSingletonsInstantiated()</em> </p>\n\n<p><strong>In short</strong>: \nThis prevents the caching to work when using it in a @PostConstruct use case.</p>\n\n<p><strong>Longer version</strong>:\nThis prevents the use case where you would</p>\n\n<ol>\n<li><p>create serviceB with @Cacheable on a methodB</p></li>\n<li><p>create serviceA with @PostConstruct calling serviceB.methodB</p>\n\n<pre><code>@Component \npublic class ServiceA{\n\n@Autowired\nprivate ServiceB serviceB;\n\n@PostConstruct\npublic void init() {\n    List&lt;String&gt; list = serviceB.loadSomething();\n}\n</code></pre></li>\n</ol>\n\n<p>This results in org.springframework.cache.interceptor.CacheAspectSupport not being initialised now and thus not caching the result.</p>\n\n<pre><code>protected Object execute(CacheOperationInvoker invoker, Object target, Method method, Object[] args) {\n   // check whether aspect is enabled\n   // to cope with cases where the AJ is pulled in automatically\n   if (this.initialized) {\n//&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; NOT Being called\n      Class&lt;?&gt; targetClass = getTargetClass(target);\n      Collection&lt;CacheOperation&gt; operations = getCacheOperationSource().getCacheOperations(method, targetClass);\n      if (!CollectionUtils.isEmpty(operations)) {\n         return execute(invoker, new CacheOperationContexts(operations, method, args, target, targetClass));\n      }\n   }\n//&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Being called\n   return invoker.invoke();\n}\n</code></pre>\n\n<p>My workaround is to manually call the initialisation method:</p>\n\n<pre><code>@Configuration\npublic class SomeConfigClass{\n\n  @Inject\n  private CacheInterceptor cacheInterceptor;\n\n  @PostConstruct\n  public void init() {\n    cacheInterceptor.afterSingletonsInstantiated();\n  }\n</code></pre>\n\n<p>This of course fixes my issue but does it have side effects other that just being called 2 times (1 manual and 1 by the framework as intended)</p>\n\n<p>My question is:\n\"Is this a safe workaround to do as the initial commiter seemed to have an issue with just using the afterPropertiesSet()\"</p>\n"},{"tags":["java","spring-boot","unit-testing","annotations","aspect"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687504145,"post_id":76537813,"comment_id":134948807,"body_markdown":"You test it like you test any other private method: By making it package-private, and (optionally) annotating it with `@VisibleForTesting`.","body":"You test it like you test any other private method: By making it package-private, and (optionally) annotating it with <code>@VisibleForTesting</code>."}],"answers":[{"tags":[],"owner":{"account_id":9145454,"reputation":16,"user_id":6801858,"display_name":"prenoramance"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687505581,"creation_date":1687505581,"answer_id":76537968,"question_id":76537813,"body_markdown":"If your application is spring-boot-web then you can use your existing Application.java or you have to ceate a new ApplicationTest.java that atleast have the following\r\n\r\n```java\r\n@Configuration\r\n@SpringBootApplication\r\npublic class ApplicationTest {}\r\n```\r\n\r\nSample Test:\r\n```java\r\n// AnnotationExecutor.java\r\n@Component\r\npublic class AnnotationExecutor {\r\n\r\n    @CustomAnnotation(methodName = &quot;CustomAnnotation&quot;)\r\n    public void someMethod(...) {\r\n       // code\r\n       ...\r\n    }\r\n\r\n}\r\n```\r\n```\r\n// AnnotationTest.java\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = ApplicationTest.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ComponentScan(&quot;com.your.package.path.*&quot;)\r\npublic class AnnotationTest {\r\n\r\n    @Autowired\r\n    private AnnotationExecutor annotationExecutor;\r\n\r\n    @Test\r\n    public void sampleTest(){\r\n        annotationExecutor.someMethod(...);\r\n        System.out.println(&quot;Test completed&quot;);\r\n        // continue for assertion and testing ...\r\n    }\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\nWant to test this\r\nTest completed\r\n\\\\ ...\r\n\r\n```","title":"How do I test private annotation aspect in spring boot?","body":"<p>If your application is spring-boot-web then you can use your existing Application.java or you have to ceate a new ApplicationTest.java that atleast have the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@SpringBootApplication\npublic class ApplicationTest {}\n</code></pre>\n<p>Sample Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// AnnotationExecutor.java\n@Component\npublic class AnnotationExecutor {\n\n    @CustomAnnotation(methodName = &quot;CustomAnnotation&quot;)\n    public void someMethod(...) {\n       // code\n       ...\n    }\n\n}\n</code></pre>\n<pre><code>// AnnotationTest.java\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = ApplicationTest.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\n@ComponentScan(&quot;com.your.package.path.*&quot;)\npublic class AnnotationTest {\n\n    @Autowired\n    private AnnotationExecutor annotationExecutor;\n\n    @Test\n    public void sampleTest(){\n        annotationExecutor.someMethod(...);\n        System.out.println(&quot;Test completed&quot;);\n        // continue for assertion and testing ...\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Want to test this\nTest completed\n\\\\ ...\n\n</code></pre>\n"}],"owner":{"account_id":28878544,"reputation":13,"user_id":22118487,"display_name":"Ruchi Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76537968,"answer_count":1,"score":1,"last_activity_date":1687505581,"creation_date":1687504033,"question_id":76537813,"body_markdown":"**How do I test private annotation aspect in spring boot ?**\r\n\r\nExample:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AspectClass {\r\n    @AfterReturning(value = &quot;@annotation(CustomAnnotation)&quot;)\r\n    private void privateMethod(JoinPoint joinPoint) \r\n    {\r\n       // Test this part\r\n       System.out.println(&quot;Want to test this&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ ElementType.METHOD, ElementType.TYPE })\r\npublic @interface  CustomAnnotation {\r\n    String methodName() default &quot;&quot;;\r\n}\r\n```\r\n\r\nExpect to test the private method in Aspect with annotation trigger","title":"How do I test private annotation aspect in spring boot?","body":"<p><strong>How do I test private annotation aspect in spring boot ?</strong></p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class AspectClass {\n    @AfterReturning(value = &quot;@annotation(CustomAnnotation)&quot;)\n    private void privateMethod(JoinPoint joinPoint) \n    {\n       // Test this part\n       System.out.println(&quot;Want to test this&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.METHOD, ElementType.TYPE })\npublic @interface  CustomAnnotation {\n    String methodName() default &quot;&quot;;\n}\n</code></pre>\n<p>Expect to test the private method in Aspect with annotation trigger</p>\n"},{"tags":["java","java-8","executorservice","completable-future","callable"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686324371,"post_id":76439365,"comment_id":134787870,"body_markdown":"“I am facing issue” We’re sorry to hear that. Do you want to talk about it?","body":"“I am facing issue” We’re sorry to hear that. Do you want to talk about it?"},{"owner":{"account_id":5716780,"reputation":447,"user_id":4516678,"accept_rate":25,"display_name":"mohan"},"score":0,"creation_date":1686405876,"post_id":76439365,"comment_id":134795910,"body_markdown":"@Holger tried with Executors with Callable Job but the main thread was not waiting for all the child thread to complete. So took the Completable Future approach, its working.","body":"@Holger tried with Executors with Callable Job but the main thread was not waiting for all the child thread to complete. So took the Completable Future approach, its working."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686557854,"post_id":76439365,"comment_id":134809306,"body_markdown":"This information: “but the main thread was not waiting for all the child thread to complete” should have been included in the question.","body":"This information: “but the main thread was not waiting for all the child thread to complete” should have been included in the question."}],"answers":[{"tags":[],"owner":{"account_id":27994772,"reputation":111,"user_id":21380272,"display_name":"Dario Arena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687505550,"creation_date":1686314138,"answer_id":76440313,"question_id":76439365,"body_markdown":"`CompletableFuture` already &quot;wraps&quot; an asynchronous computation that executes in another thread that you can await to get the result once it is ready. If you want to schedule the execution on a different executor than the default `ForkJoinPool` you can use \r\n\r\n    Executor executor = ...\r\n\r\n    CompletableFuture.supplyAsync(() -&gt; { /* Your code to call the api */}, executor);\r\n\r\nTo await for multiple completable future there is `CompletableFuture.allOf()` which accepts as many CompletableFutures as you want and awaits them. Unfortunately this function ignores the return values so you have to get them individually. A pseudo-working solution could be something like this:\r\n\r\n    Executor executor = Executors.newFixedThreadPool(10)\r\n    \r\n    List&lt;CompletableFuture&lt;Response&gt;&gt; results = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        results.add(CompletableFuture.supplyAsync(() -&gt; { /* API Call */}, executor));\r\n    }\r\n    \r\n    CompletableFuture.allOf(results.toArray());\r\n    \r\n    results.stream().map(CompletableFuture::join).collect(toList());\r\n\r\nPS. When you&#39;re dealing with I/O and not doing much computation it is better to use an unbounded (or bounded by a high number like 50 or more) cachedThreadPool executor that uses more threads but reuses the ones that are finished to better use resources\r\n","title":"Need help for CompletableFuture or Callable Future","body":"<p><code>CompletableFuture</code> already &quot;wraps&quot; an asynchronous computation that executes in another thread that you can await to get the result once it is ready. If you want to schedule the execution on a different executor than the default <code>ForkJoinPool</code> you can use</p>\n<pre><code>Executor executor = ...\n\nCompletableFuture.supplyAsync(() -&gt; { /* Your code to call the api */}, executor);\n</code></pre>\n<p>To await for multiple completable future there is <code>CompletableFuture.allOf()</code> which accepts as many CompletableFutures as you want and awaits them. Unfortunately this function ignores the return values so you have to get them individually. A pseudo-working solution could be something like this:</p>\n<pre><code>Executor executor = Executors.newFixedThreadPool(10)\n\nList&lt;CompletableFuture&lt;Response&gt;&gt; results = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; 10; i++) {\n    results.add(CompletableFuture.supplyAsync(() -&gt; { /* API Call */}, executor));\n}\n\nCompletableFuture.allOf(results.toArray());\n\nresults.stream().map(CompletableFuture::join).collect(toList());\n</code></pre>\n<p>PS. When you're dealing with I/O and not doing much computation it is better to use an unbounded (or bounded by a high number like 50 or more) cachedThreadPool executor that uses more threads but reuses the ones that are finished to better use resources</p>\n"}],"owner":{"account_id":5716780,"reputation":447,"user_id":4516678,"accept_rate":25,"display_name":"mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76440313,"answer_count":1,"score":-1,"last_activity_date":1687505550,"creation_date":1686306411,"question_id":76439365,"body_markdown":"I am facing issue for finding out which will be the best way for my below scenario.\r\nI wanted to call 1 API by using multiple threads at a time and wanted to merge their response to make a list.\r\n\r\nFirst i have created the threadPool and according to the size of the list m passing each record to the callable which is returning the API call response.\r\n   \r\n\r\n \r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(savedAssetparamList.size());\r\n            \t\tList&lt;Callable&lt;DatapointLinkDTO&gt;&gt; allCalls = new ArrayList&lt;&gt;(savedAssetparamList.size());\r\n            \t\tString finalToken = token;\r\n            \t\tsavedAssetparamList.stream().forEach(assetParam -&gt; {\r\n            \t\t\tallCalls.add(Executors.callable(datapointLinkingHelper.postDataPoint(assetParam, mdspSubssationAssetId, finalToken, tenantId)));\r\n            \t\t});\r\n            \t\texecutorService.invokeAll(allCalls);\r\n        \r\n       \r\n    \r\n         API call method.\r\n    \r\n        public DatapointLinkDTO postDataPoint(AssetParameter assetParameter, String mdspSubssationAssetId , String token, Long tenantId){\r\n    \t\t\r\n    \r\n        DatapointLinkDTO datapointLinkDTO = new DatapointLinkDTO();\r\n    \r\n        //API call logic \r\n    \r\n        return DatapointLinkDTO;\r\n    \r\n    }\r\n\r\n","title":"Need help for CompletableFuture or Callable Future","body":"<p>I am facing issue for finding out which will be the best way for my below scenario.\nI wanted to call 1 API by using multiple threads at a time and wanted to merge their response to make a list.</p>\n<p>First i have created the threadPool and according to the size of the list m passing each record to the callable which is returning the API call response.</p>\n<pre><code>    ExecutorService executorService = Executors.newFixedThreadPool(savedAssetparamList.size());\n                List&lt;Callable&lt;DatapointLinkDTO&gt;&gt; allCalls = new ArrayList&lt;&gt;(savedAssetparamList.size());\n                String finalToken = token;\n                savedAssetparamList.stream().forEach(assetParam -&gt; {\n                    allCalls.add(Executors.callable(datapointLinkingHelper.postDataPoint(assetParam, mdspSubssationAssetId, finalToken, tenantId)));\n                });\n                executorService.invokeAll(allCalls);\n    \n   \n\n     API call method.\n\n    public DatapointLinkDTO postDataPoint(AssetParameter assetParameter, String mdspSubssationAssetId , String token, Long tenantId){\n        \n\n    DatapointLinkDTO datapointLinkDTO = new DatapointLinkDTO();\n\n    //API call logic \n\n    return DatapointLinkDTO;\n\n}\n</code></pre>\n"},{"tags":["java","quarkus","dev-mode","quarkus-grpc"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1687513291,"post_id":76537933,"comment_id":134950620,"body_markdown":"There is no easy to do this without a custom extension","body":"There is no easy to do this without a custom extension"},{"owner":{"account_id":1685748,"reputation":21,"user_id":1549094,"display_name":"user1549094"},"score":0,"creation_date":1687521500,"post_id":76537933,"comment_id":134952264,"body_markdown":"Custom extension that does what ?","body":"Custom extension that does what ?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1687763337,"post_id":76537933,"comment_id":134976533,"body_markdown":"That generated a mock bean for dev-mode only","body":"That generated a mock bean for dev-mode only"},{"owner":{"account_id":1685748,"reputation":21,"user_id":1549094,"display_name":"user1549094"},"score":0,"creation_date":1687772032,"post_id":76537933,"comment_id":134978182,"body_markdown":"Ok will try but i have never done an extension before -_-","body":"Ok will try but i have never done an extension before -_-"}],"owner":{"account_id":1685748,"reputation":21,"user_id":1549094,"display_name":"user1549094"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687505262,"creation_date":1687505262,"question_id":76537933,"body_markdown":"In my Quarkus application have a bean with a grpc client :\r\n```\r\n@ApplicationScoped\r\n@Slf4j\r\npublic class AuthorizationAdapter implements AuthorizationPort {\r\n\r\n    private final AuthorizationGrpc.AuthorizationBlockingStub authorizationBlockingStub;\r\n\r\n    public AuthorizationAdapter(\r\n            @GrpcClient(&quot;authorization&quot;) AuthorizationGrpc.AuthorizationBlockingStub authorizationBlockingStub) {\r\n        this.authorizationBlockingStub = authorizationBlockingStub;\r\n    }\r\n\r\n    @Override\r\n    public boolean canActorReadReport(Actor actor, UUID reportId) {\r\n        ... call authorizationBlockingStub here\r\n\r\n    }\r\n}\r\n```\r\n\r\nFor test i managed to mock this bean with  :\r\n```\r\n@ApplicationScoped\r\n@Mock\r\npublic class MockAuthorizationAdapter implements AuthorizationPort {\r\n\r\n    @Override\r\n    public boolean canActorReadReport(Actor actor, UUID reportId) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nBut in dev mode i want to do the same (i don&#39;t have and want to start a grpc server).\r\nHow can i do ?\r\nI am aware that i could annotate this bean with @IfBuildProfile(&quot;prod&quot;) and create another one mocked but it would pollute my src/main/java and i don&#39;t want that.\r\nIs it possible to achieve this in an elegant way ?\r\n\r\n\r\n","title":"Quarkus : Mock bean in dev mode","body":"<p>In my Quarkus application have a bean with a grpc client :</p>\n<pre><code>@ApplicationScoped\n@Slf4j\npublic class AuthorizationAdapter implements AuthorizationPort {\n\n    private final AuthorizationGrpc.AuthorizationBlockingStub authorizationBlockingStub;\n\n    public AuthorizationAdapter(\n            @GrpcClient(&quot;authorization&quot;) AuthorizationGrpc.AuthorizationBlockingStub authorizationBlockingStub) {\n        this.authorizationBlockingStub = authorizationBlockingStub;\n    }\n\n    @Override\n    public boolean canActorReadReport(Actor actor, UUID reportId) {\n        ... call authorizationBlockingStub here\n\n    }\n}\n</code></pre>\n<p>For test i managed to mock this bean with  :</p>\n<pre><code>@ApplicationScoped\n@Mock\npublic class MockAuthorizationAdapter implements AuthorizationPort {\n\n    @Override\n    public boolean canActorReadReport(Actor actor, UUID reportId) {\n        return true;\n    }\n}\n</code></pre>\n<p>But in dev mode i want to do the same (i don't have and want to start a grpc server).\nHow can i do ?\nI am aware that i could annotate this bean with @IfBuildProfile(&quot;prod&quot;) and create another one mocked but it would pollute my src/main/java and i don't want that.\nIs it possible to achieve this in an elegant way ?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687504236,"post_id":76537818,"comment_id":134948822,"body_markdown":"Adding *all* your code doesn&#39;t make it easier. You can make it easier by making a MCVE, reduce the problem to the smallest bit of code that reproduces the problem. The nice thing is, you often find the problem by yourself while doing that!","body":"Adding <i>all</i> your code doesn&#39;t make it easier. You can make it easier by making a MCVE, reduce the problem to the smallest bit of code that reproduces the problem. The nice thing is, you often find the problem by yourself while doing that!"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1687504656,"post_id":76537818,"comment_id":134948930,"body_markdown":"tvShowController is a local variable in your main method. It doesn&#39;t exist outside of it","body":"tvShowController is a local variable in your main method. It doesn&#39;t exist outside of it"}],"owner":{"account_id":27696237,"reputation":1,"user_id":21141905,"display_name":"Nima Saminasab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687505101,"creation_date":1687504075,"question_id":76537818,"body_markdown":"Here I have created a new object TvShow tvShow = new TvShow(id, name, genresList, rating, 60, 54, summary, &quot;Link&quot;);\r\nand then   tvShowController.createTvShow(tvShow);\r\nThe error is Can not resolve symbol tvShowController.\r\n\r\nI have added the whole hirarki of my classes, so it would be easier to find my mistake.\r\n        \r\n\r\n     package com.example.payex;\r\n    \r\n    \r\n        import com.sun.tools.javac.Main;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n        import javax.net.ssl.HttpsURLConnection;\r\n        import java.net.URL;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Scanner;\r\n    \r\n        import com.fasterxml.jackson.databind.JsonNode;\r\n        import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n        import org.json.simple.JSONArray;\r\n       import org.json.simple.JSONObject;\r\n       import org.json.simple.parser.JSONParser;\r\n       import org.json.simple.parser.ParseException;\r\n       import com.example.payex.Genres;\r\n    \r\n        @SpringBootApplication\r\n        public class PayExApplication {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            SpringApplication.run(PayExApplication.class, args);\r\n            TvShowController tvShowController = new TvShowController();\r\n            readFromApi2();\r\n    \r\n        }\r\n    \r\n    \r\n        public static void readFromApi2() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            List&lt;Genres&gt; genresList = new ArrayList&lt;&gt;();\r\n            try {\r\n                URL url = new URL(&quot;https://api.tvmaze.com/singlesearch/shows?q=breaking%20bad&quot;);\r\n                HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n                connection.connect();\r\n    \r\n                int responseCode = connection.getResponseCode();\r\n    \r\n                if (responseCode != 200) {\r\n                    throw new RuntimeException(&quot;Http Response&quot; + responseCode);\r\n                } else {\r\n                    JSONParser jsonParser = new JSONParser();\r\n                    StringBuilder infoString = new StringBuilder();\r\n                    Scanner scanner = new Scanner(url.openStream());\r\n                    while (scanner.hasNext()) {\r\n                        infoString.append(scanner.nextLine());\r\n                    }\r\n                    scanner.close();\r\n                    JsonNode jsonNode = objectMapper.readTree(String.valueOf(infoString));\r\n                    JSONObject jsonObject = (JSONObject) \r\n                    jsonParser.parse(String.valueOf(infoString));\r\n                    JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;genres&quot;);\r\n    \r\n    \r\n                    int id = jsonNode.get(&quot;id&quot;).asInt();\r\n                    String name = jsonNode.get(&quot;name&quot;).asText();\r\n    \r\n                    Double rating = jsonNode.get(&quot;rating&quot;).get(&quot;average&quot;).asDouble();\r\n                    String summary = jsonNode.get(&quot;summary&quot;).asText();\r\n    \r\n                    genresList.add(Genres.ACTION);\r\n                    genresList.add(Genres.ADVENTURE);\r\n                    genresList.add(Genres.ESPOINAGE);\r\n    \r\n                    TvShow tvShow = new TvShow(id, name, genresList, rating, 60, 54, summary, &quot;Link&quot;);\r\n    \r\n                    tvShowController.createTvShow(tvShow);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n        package com.example.payex;\r\n    \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.web.bind.annotation.*;\r\n    \r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n    \r\n        @RestController\r\n        @CrossOrigin\r\n        public class TvShowController {\r\n    \r\n        @Autowired\r\n        TvShowService tvShowService ;\r\n    \r\n    \r\n        @GetMapping(&quot;/getAllTvShow&quot;)\r\n        public List&lt;TvShow&gt; getAllTvShow(){\r\n    \r\n            return tvShowService.getListOfAllTvShow() ;\r\n        }\r\n        @PostMapping(&quot;/createTvShow&quot;)\r\n        public void createTvShow(@RequestBody TvShow tvShow){\r\n            System.out.println(&quot;hei&quot; + tvShow.getRating());\r\n            tvShowService.createTvShow(tvShow) ;\r\n        }\r\n    \r\n       @DeleteMapping(&quot;/deleteTvShow/{id}&quot;)\r\n        public void deleteTvShow(@PathVariable long id){\r\n            TvShow tvShow = tvShowService.findById(id) ;\r\n            if(tvShow!=null)\r\n                tvShowService.deleteTvShow(tvShow);\r\n        }\r\n    \r\n    }\r\n    \r\n        package com.example.payex;\r\n    \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Service;\r\n    \r\n        import java.util.List;\r\n    \r\n        @Service\r\n        public class TvShowService {\r\n    \r\n        @Autowired\r\n        TvShowRepository tvShowRepository ;\r\n    \r\n        public TvShow createTvShow(TvShow tvShow){\r\n            System.out.println(&quot;God dag&quot;);\r\n            System.out.println(tvShow.toString());\r\n            return tvShowRepository.save(tvShow) ;\r\n        }\r\n        public void deleteTvShow(TvShow tvShow){\r\n            tvShowRepository.delete(tvShow);\r\n        }\r\n        public List&lt;TvShow&gt; getListOfAllTvShow(){\r\n            return (List&lt;TvShow&gt;) tvShowRepository.findAll();\r\n        }\r\n        public TvShow findById(long id){\r\n            return tvShowRepository.findById(id).orElse(null);\r\n        }\r\n    \r\n    \r\n    }\r\n ```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"I have made an istance of TvShow , but when I want to create it in my local database, NullPointerException error in my readFromApi2 method","body":"<p>Here I have created a new object TvShow tvShow = new TvShow(id, name, genresList, rating, 60, 54, summary, &quot;Link&quot;);\nand then   tvShowController.createTvShow(tvShow);\nThe error is Can not resolve symbol tvShowController.</p>\n<p>I have added the whole hirarki of my classes, so it would be easier to find my mistake.</p>\n<pre><code> package com.example.payex;\n\n\n    import com.sun.tools.javac.Main;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n\n    import javax.net.ssl.HttpsURLConnection;\n    import java.net.URL;\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Scanner;\n\n    import com.fasterxml.jackson.databind.JsonNode;\n    import com.fasterxml.jackson.databind.ObjectMapper;\n\n    import org.json.simple.JSONArray;\n   import org.json.simple.JSONObject;\n   import org.json.simple.parser.JSONParser;\n   import org.json.simple.parser.ParseException;\n   import com.example.payex.Genres;\n\n    @SpringBootApplication\n    public class PayExApplication {\n\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(PayExApplication.class, args);\n        TvShowController tvShowController = new TvShowController();\n        readFromApi2();\n\n    }\n\n\n    public static void readFromApi2() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        List&lt;Genres&gt; genresList = new ArrayList&lt;&gt;();\n        try {\n            URL url = new URL(&quot;https://api.tvmaze.com/singlesearch/shows?q=breaking%20bad&quot;);\n            HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.connect();\n\n            int responseCode = connection.getResponseCode();\n\n            if (responseCode != 200) {\n                throw new RuntimeException(&quot;Http Response&quot; + responseCode);\n            } else {\n                JSONParser jsonParser = new JSONParser();\n                StringBuilder infoString = new StringBuilder();\n                Scanner scanner = new Scanner(url.openStream());\n                while (scanner.hasNext()) {\n                    infoString.append(scanner.nextLine());\n                }\n                scanner.close();\n                JsonNode jsonNode = objectMapper.readTree(String.valueOf(infoString));\n                JSONObject jsonObject = (JSONObject) \n                jsonParser.parse(String.valueOf(infoString));\n                JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;genres&quot;);\n\n\n                int id = jsonNode.get(&quot;id&quot;).asInt();\n                String name = jsonNode.get(&quot;name&quot;).asText();\n\n                Double rating = jsonNode.get(&quot;rating&quot;).get(&quot;average&quot;).asDouble();\n                String summary = jsonNode.get(&quot;summary&quot;).asText();\n\n                genresList.add(Genres.ACTION);\n                genresList.add(Genres.ADVENTURE);\n                genresList.add(Genres.ESPOINAGE);\n\n                TvShow tvShow = new TvShow(id, name, genresList, rating, 60, 54, summary, &quot;Link&quot;);\n\n                tvShowController.createTvShow(tvShow);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n    package com.example.payex;\n\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.web.bind.annotation.*;\n\n    import java.util.ArrayList;\n    import java.util.List;\n\n    @RestController\n    @CrossOrigin\n    public class TvShowController {\n\n    @Autowired\n    TvShowService tvShowService ;\n\n\n    @GetMapping(&quot;/getAllTvShow&quot;)\n    public List&lt;TvShow&gt; getAllTvShow(){\n\n        return tvShowService.getListOfAllTvShow() ;\n    }\n    @PostMapping(&quot;/createTvShow&quot;)\n    public void createTvShow(@RequestBody TvShow tvShow){\n        System.out.println(&quot;hei&quot; + tvShow.getRating());\n        tvShowService.createTvShow(tvShow) ;\n    }\n\n   @DeleteMapping(&quot;/deleteTvShow/{id}&quot;)\n    public void deleteTvShow(@PathVariable long id){\n        TvShow tvShow = tvShowService.findById(id) ;\n        if(tvShow!=null)\n            tvShowService.deleteTvShow(tvShow);\n    }\n\n}\n\n    package com.example.payex;\n\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n\n    import java.util.List;\n\n    @Service\n    public class TvShowService {\n\n    @Autowired\n    TvShowRepository tvShowRepository ;\n\n    public TvShow createTvShow(TvShow tvShow){\n        System.out.println(&quot;God dag&quot;);\n        System.out.println(tvShow.toString());\n        return tvShowRepository.save(tvShow) ;\n    }\n    public void deleteTvShow(TvShow tvShow){\n        tvShowRepository.delete(tvShow);\n    }\n    public List&lt;TvShow&gt; getListOfAllTvShow(){\n        return (List&lt;TvShow&gt;) tvShowRepository.findAll();\n    }\n    public TvShow findById(long id){\n        return tvShowRepository.findById(id).orElse(null);\n    }\n\n\n}\n</code></pre>\n<pre><code>\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","springdoc-openapi-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":20344017,"reputation":9,"user_id":14922488,"display_name":"T Rachana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687504277,"creation_date":1687504277,"answer_id":76537833,"question_id":75662193,"body_markdown":"By default springdoc-openapi-maven-plugin generates the API docs in the port 8080(It assumes the application to be running on 8080), If the port your application is running is different then you will have to specify the apiDocsUrl in the configuration tag of openapi-maven-plugin\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;apiDocsUrl&gt;http://localhost:{YourApplicationPort}/v3/api-docs&lt;/apiDocsUrl&gt;\r\n            &lt;outputFileName&gt;swagger.json&lt;/outputFileName&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"issue with generating a document using springdoc-openapi-maven-plugin during the build process of the project","body":"<p>By default springdoc-openapi-maven-plugin generates the API docs in the port 8080(It assumes the application to be running on 8080), If the port your application is running is different then you will have to specify the apiDocsUrl in the configuration tag of openapi-maven-plugin</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;apiDocsUrl&gt;http://localhost:{YourApplicationPort}/v3/api-docs&lt;/apiDocsUrl&gt;\n        &lt;outputFileName&gt;swagger.json&lt;/outputFileName&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":26390747,"reputation":1,"user_id":20042649,"display_name":"Zahir Basha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687504277,"creation_date":1678193411,"question_id":75662193,"body_markdown":"\r\nI&#39;m using the springdoc-openapi-maven-plugin to generate a document_name.json file during the mvn clean install command, with the following plugin configuration:\r\n\r\n \r\n```\r\n &lt;plugin&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt; \r\n        &lt;outputFileName&gt;sentinel-openapi.json&lt;/outputFileName&gt; \r\n        &lt;outputDir&gt;${project.build.directory/../../openapi-doc/}&lt;/outputDir&gt; \r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nIn addition, I&#39;m using the `spring-boot-maven-plugin` to start and stop the application during integration testing:\r\n\r\n   \r\n```\r\n &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\nHowever, I need to generate the same `document_name.json` file using the `./mvnw package` command instead. How can I configure the `springdoc-openapi-maven-plugin` and `spring-boot-maven-plugin` to achieve this?","title":"issue with generating a document using springdoc-openapi-maven-plugin during the build process of the project","body":"<p>I'm using the springdoc-openapi-maven-plugin to generate a document_name.json file during the mvn clean install command, with the following plugin configuration:</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt; \n        &lt;outputFileName&gt;sentinel-openapi.json&lt;/outputFileName&gt; \n        &lt;outputDir&gt;${project.build.directory/../../openapi-doc/}&lt;/outputDir&gt; \n    &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>In addition, I'm using the <code>spring-boot-maven-plugin</code> to start and stop the application during integration testing:</p>\n<pre><code> &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>However, I need to generate the same <code>document_name.json</code> file using the <code>./mvnw package</code> command instead. How can I configure the <code>springdoc-openapi-maven-plugin</code> and <code>spring-boot-maven-plugin</code> to achieve this?</p>\n"},{"tags":["java","selenium-webdriver","microsoft-edge","headless"],"comments":[{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1686735799,"post_id":76471233,"comment_id":134838903,"body_markdown":"Could you please provide a minimal code example for us to replicate it?","body":"Could you please provide a minimal code example for us to replicate it?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686776992,"post_id":76471233,"comment_id":134847558,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28818041,"reputation":13,"user_id":22071214,"display_name":"JoReyner"},"score":0,"creation_date":1686791112,"post_id":76471233,"comment_id":134849094,"body_markdown":"@KendrickLi Hi I have edited and provided an example of the code to replicate it","body":"@KendrickLi Hi I have edited and provided an example of the code to replicate it"},{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1686903269,"post_id":76471233,"comment_id":134865045,"body_markdown":"Thanks. I&#39;ve tried your code, but I didn&#39;t see any download menu pop up after my download completed. Could you please provide a screenshot of it?","body":"Thanks. I&#39;ve tried your code, but I didn&#39;t see any download menu pop up after my download completed. Could you please provide a screenshot of it?"},{"owner":{"account_id":28818041,"reputation":13,"user_id":22071214,"display_name":"JoReyner"},"score":0,"creation_date":1687228405,"post_id":76471233,"comment_id":134903825,"body_markdown":"@KendrickLi Hi my apologies for replying late. I have edited the post to include a screenshot of the MS Edge menu.","body":"@KendrickLi Hi my apologies for replying late. I have edited the post to include a screenshot of the MS Edge menu."}],"answers":[{"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687503275,"creation_date":1687503275,"answer_id":76537729,"question_id":76471233,"body_markdown":"I&#39;m unable to have this browser UI when I&#39;m in the new headless mode, but if you want to prevent that downloads menu, you can try the following code:\r\n\r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n        prefs.put(&quot;browser.show_hub_popup_on_download_start&quot;, false);\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n","title":"Java Selenium - How to remove download menu from popping up with the new headless mode?","body":"<p>I'm unable to have this browser UI when I'm in the new headless mode, but if you want to prevent that downloads menu, you can try the following code:</p>\n<pre><code>    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;browser.show_hub_popup_on_download_start&quot;, false);\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n"}],"owner":{"account_id":28818041,"reputation":13,"user_id":22071214,"display_name":"JoReyner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76537729,"answer_count":1,"score":1,"last_activity_date":1687503275,"creation_date":1686728767,"question_id":76471233,"body_markdown":"does anyone knows what is the argument to set to remove the download menu from popping up after a download is completed in Microsoft Edge using the new headless mode? My selenium program requires Microsoft Edge as the webdriver, hence I can&#39;t use Chrome or Firefox webdrivers. But if you guys have any idea, please let me know, thank you!\r\n\r\nHave looked everywhere for a list of the arguments that I could set, but could not find any related to the disabling of the download menu from popping up.\r\n\r\n\r\n\r\n\r\n**Edit to include example code:**\r\n\r\nThe following is an example code. In this example, the url used is the download link for the latest Microsoft Edge webdriver:\r\n\r\n    public static void main(String args[]) {\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;,&quot;src/main/resources/msedgedriver.exe&quot;);\r\n\r\n        EdgeOptions options = new EdgeOptions();\r\n        options.addArguments(&quot;headless=new&quot;);\r\n        options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n        options.addArguments(&quot;--start-maximized&quot;);\r\n        options.addArguments(&quot;--inprivate&quot;);\r\n        options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n        // options.addArguments(&quot;___argument to disable download menu___&quot;);\r\n    \t\t\r\n        EdgeDriver driver = new EdgeDriver(options);\r\n        driver.get(&quot;https://msedgedriver.azureedge.net/115.0.1860.0/edgedriver_win64.zip&quot;);\r\n    }\r\n\r\n\r\n**2nd Edit to include screenshot**\r\n[![Screenshot of Download Popup][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfwVL.png","title":"Java Selenium - How to remove download menu from popping up with the new headless mode?","body":"<p>does anyone knows what is the argument to set to remove the download menu from popping up after a download is completed in Microsoft Edge using the new headless mode? My selenium program requires Microsoft Edge as the webdriver, hence I can't use Chrome or Firefox webdrivers. But if you guys have any idea, please let me know, thank you!</p>\n<p>Have looked everywhere for a list of the arguments that I could set, but could not find any related to the disabling of the download menu from popping up.</p>\n<p><strong>Edit to include example code:</strong></p>\n<p>The following is an example code. In this example, the url used is the download link for the latest Microsoft Edge webdriver:</p>\n<pre><code>public static void main(String args[]) {\n    System.setProperty(&quot;webdriver.edge.driver&quot;,&quot;src/main/resources/msedgedriver.exe&quot;);\n\n    EdgeOptions options = new EdgeOptions();\n    options.addArguments(&quot;headless=new&quot;);\n    options.addArguments(&quot;--window-size=1920,1080&quot;);\n    options.addArguments(&quot;--start-maximized&quot;);\n    options.addArguments(&quot;--inprivate&quot;);\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\n    // options.addArguments(&quot;___argument to disable download menu___&quot;);\n        \n    EdgeDriver driver = new EdgeDriver(options);\n    driver.get(&quot;https://msedgedriver.azureedge.net/115.0.1860.0/edgedriver_win64.zip&quot;);\n}\n</code></pre>\n<p><strong>2nd Edit to include screenshot</strong>\n<a href=\"https://i.stack.imgur.com/tfwVL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfwVL.png\" alt=\"Screenshot of Download Popup\" /></a></p>\n"},{"tags":["java","android","xml","android-manifest"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1686482679,"post_id":76447139,"comment_id":134801739,"body_markdown":"AFAIK it is an internal XMl configuration file about split APK files (app bundle).","body":"AFAIK it is an internal XMl configuration file about split APK files (app bundle)."}],"answers":[{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1687503040,"post_id":76453041,"comment_id":134948613,"body_markdown":"&quot;Split APKs are a feature introduced in Android to overcome the limitations of the 100MB size restriction for APK files. &quot; This is totally wrong. Split APKs allow to minimize the APK size for each device as you only send those splits that are really necessary for the device (e.g. one split APK for arm64, one for the language and another for high-dpi). Small APKs save flash memory when installed and Google also saves network capacity as they don&#39;t have to transmit unnecessary APK parts.","body":"&quot;Split APKs are a feature introduced in Android to overcome the limitations of the 100MB size restriction for APK files. &quot; This is totally wrong. Split APKs allow to minimize the APK size for each device as you only send those splits that are really necessary for the device (e.g. one split APK for arm64, one for the language and another for high-dpi). Small APKs save flash memory when installed and Google also saves network capacity as they don&#39;t have to transmit unnecessary APK parts."}],"tags":[],"owner":{"account_id":5835994,"reputation":61,"user_id":4599044,"display_name":"Amr Shekh Zen"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1686530011,"creation_date":1686530011,"answer_id":76453041,"question_id":76447139,"body_markdown":"The package name &quot;com.android.vending.splits&quot; refers to a component of the Android operating system related to the Google Play Store app. This specific component is responsible for managing split APKs.\r\n\r\nSplit APKs are a feature introduced in Android to overcome the limitations of the 100MB size restriction for APK files. When an app exceeds this limit, developers can split the APK into multiple smaller files called split APKs. Each split APK contains a specific part of the app&#39;s resources or code, such as language resources or device architecture-specific code.\r\n\r\nIn your provided code snippet, the &lt;meta-data&gt; elements within the &lt;activity&gt; or &lt;application&gt; section are used to define metadata information about the app&#39;s APK splits.\r\n\r\nThe first &lt;meta-data&gt; element specifies the resource file for the splits configuration. It points to an XML file named &quot;splits0&quot;. This file likely contains information about how the app&#39;s APK is divided into split APKs.\r\n\r\nThe second &lt;meta-data&gt; element with the name &quot;com.android.vending.derived.apk.id&quot; and value &quot;3&quot; is related to the Play Store app&#39;s internal tracking of APKs. This metadata is used by the Play Store to keep track of different versions of the app and ensure proper updates and compatibility.\r\n","title":"What is com.android.vending.splits?","body":"<p>The package name &quot;com.android.vending.splits&quot; refers to a component of the Android operating system related to the Google Play Store app. This specific component is responsible for managing split APKs.</p>\n<p>Split APKs are a feature introduced in Android to overcome the limitations of the 100MB size restriction for APK files. When an app exceeds this limit, developers can split the APK into multiple smaller files called split APKs. Each split APK contains a specific part of the app's resources or code, such as language resources or device architecture-specific code.</p>\n<p>In your provided code snippet, the  elements within the  or  section are used to define metadata information about the app's APK splits.</p>\n<p>The first  element specifies the resource file for the splits configuration. It points to an XML file named &quot;splits0&quot;. This file likely contains information about how the app's APK is divided into split APKs.</p>\n<p>The second  element with the name &quot;com.android.vending.derived.apk.id&quot; and value &quot;3&quot; is related to the Play Store app's internal tracking of APKs. This metadata is used by the Play Store to keep track of different versions of the app and ensure proper updates and compatibility.</p>\n"}],"owner":{"account_id":28653160,"reputation":31,"user_id":21939741,"display_name":"Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687503106,"creation_date":1686414845,"question_id":76447139,"body_markdown":"What is this code in android-manifest used for?\r\n\r\n\r\nWhat is the explanation? \r\n\r\n\r\n```\r\n&lt;meta-data android:name=&quot;com.android.vending.splits&quot; android:resource=&quot;@xml/splits0&quot; /&gt;\r\n&lt;meta-data android:name=&quot;com.android.vending.derived.apk.id&quot; android:value=&quot;3&quot; /&gt;\r\n```\r\n\r\n\r\n","title":"What is com.android.vending.splits?","body":"<p>What is this code in android-manifest used for?</p>\n<p>What is the explanation?</p>\n<pre><code>&lt;meta-data android:name=&quot;com.android.vending.splits&quot; android:resource=&quot;@xml/splits0&quot; /&gt;\n&lt;meta-data android:name=&quot;com.android.vending.derived.apk.id&quot; android:value=&quot;3&quot; /&gt;\n</code></pre>\n"},{"tags":["java","maven","apache-karaf"],"comments":[{"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"score":0,"creation_date":1687592349,"post_id":76537634,"comment_id":134961186,"body_markdown":"The following configuration needs to be added to pom.xml for maven-bundle-plugin:\n`\n\t    &lt;configuration&gt;\n\t\t    &lt;instructions&gt;\n\t\t\t    &lt;Bundle-SymbolicName&gt;${project.artifactId};blueprint.graceperiod:=true;blueprint.timeout:=600000&lt;/Bundle-SymbolicName&gt;\n\t\t    &lt;/instructions&gt;\n\t    &lt;/configuration&gt;\n`","body":"The following configuration needs to be added to pom.xml for maven-bundle-plugin: ` \t    &lt;configuration&gt; \t\t    &lt;instructions&gt; \t\t\t    &lt;Bundle-SymbolicName&gt;${project.artifactId};blueprint.gracepe&zwnj;&#8203;riod:=true;blueprint&zwnj;&#8203;.timeout:=600000&lt;/Bu&zwnj;&#8203;ndle-SymbolicName&gt; \t\t    &lt;/instructions&gt; \t    &lt;/configuration&gt; `"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687502465,"creation_date":1687502260,"question_id":76537634,"body_markdown":"I need to change the default 5 minute grace period for my bundle. It can be done in the manifest file adding blueprint.timeout parameter but the file is an autogenerated file so I can&#39;t change it each time manually. \r\n\r\nIn my pom.xml I use maven-bundle-plugin. Is it possible to change the grace period using maven-bundle-plugin?\r\n\r\nIs it possible to change default grace period globally, not for a single bundle?","title":"Change default grace period for Karaf bundle","body":"<p>I need to change the default 5 minute grace period for my bundle. It can be done in the manifest file adding blueprint.timeout parameter but the file is an autogenerated file so I can't change it each time manually.</p>\n<p>In my pom.xml I use maven-bundle-plugin. Is it possible to change the grace period using maven-bundle-plugin?</p>\n<p>Is it possible to change default grace period globally, not for a single bundle?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680992169,"creation_date":1680992169,"answer_id":75967938,"question_id":75967650,"body_markdown":"The error message is quite explicit: there is no user in the project with the email address you entered. This means that you&#39;ll have to call `createUserWithEmailAndPassword` to create that user first, before you can sign in with `signInWithEmailAndPassword`.\r\n\r\nTo prevent getting this error, you may want to [call `fetchSignInMethodsForEmail`](https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#fetchSignInMethodsForEmail(java.lang.String)) with just the email address - to see if Firebase has a email/password account for the email address the user enteres.","title":"Cannot sign in user to Firebase in Android app","body":"<p>The error message is quite explicit: there is no user in the project with the email address you entered. This means that you'll have to call <code>createUserWithEmailAndPassword</code> to create that user first, before you can sign in with <code>signInWithEmailAndPassword</code>.</p>\n<p>To prevent getting this error, you may want to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#fetchSignInMethodsForEmail(java.lang.String)\" rel=\"nofollow noreferrer\">call <code>fetchSignInMethodsForEmail</code></a> with just the email address - to see if Firebase has a email/password account for the email address the user enteres.</p>\n"},{"tags":[],"owner":{"account_id":26880320,"reputation":1,"user_id":20460869,"display_name":"Марина Шнякина"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684735040,"creation_date":1684735040,"answer_id":76303365,"question_id":75967650,"body_markdown":"I had the same issue. I solved it by clearing the Android studio cache: File -&gt; Invalidate Caches. After that everything worked.","title":"Cannot sign in user to Firebase in Android app","body":"<p>I had the same issue. I solved it by clearing the Android studio cache: File -&gt; Invalidate Caches. After that everything worked.</p>\n"},{"tags":[],"owner":{"account_id":28850236,"reputation":1,"user_id":22096291,"display_name":"Sumit Darshanala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687502385,"creation_date":1687502385,"answer_id":76537640,"question_id":75967650,"body_markdown":"try running $(flutterfire configure) in terminal and make sure that you have enabled email/password in \r\nfirebase-&gt; authentication -&gt; sign-in template.\r\n\r\nhope will work for you.\r\n","title":"Cannot sign in user to Firebase in Android app","body":"<p>try running $(flutterfire configure) in terminal and make sure that you have enabled email/password in\nfirebase-&gt; authentication -&gt; sign-in template.</p>\n<p>hope will work for you.</p>\n"}],"owner":{"account_id":28252170,"reputation":31,"user_id":21598232,"display_name":"Hasini Thilakarathna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4764,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687502385,"creation_date":1680987450,"question_id":75967650,"body_markdown":"When I entered correct email address and password in &quot;owners&quot; object. run time error comes this :\r\n\r\n&gt; E/RecaptchaCallWrapper: Initial task failed for action RecaptchaAction(action=custom_signInWithPassword)with exception - There is no user record corresponding to this identifier. The user may have been deleted.\r\n\r\nAfter login, I want to go to profile page.\r\n\r\nThis is my login.java\r\n\r\n\r\n```\r\npublic class owner_login extends AppCompatActivity {\r\n    EditText textEmail, textPswd;\r\n    Button buttonSignupOwner, buttonLogin;\r\n    FirebaseAuth mAuth;\r\n    private DatabaseReference mDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_owner_login);\r\n        FirebaseAnalytics.getInstance(this).setAnalyticsCollectionEnabled(true);\r\n        FirebaseAnalytics.getInstance(this).setUserProperty(&quot;debug&quot;, &quot;true&quot;);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;owners&quot;);\r\n        textEmail = findViewById(R.id.editTextEmail);\r\n        textPswd = findViewById(R.id.editTextPassword);\r\n        buttonLogin = findViewById(R.id.buttonLogin);\r\n        buttonLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email = textEmail.getText().toString().trim();\r\n                String password = textPswd.getText().toString().trim();\r\n                if (TextUtils.isEmpty(email)) {\r\n                    textEmail.setError(&quot;Email is required&quot;);\r\n                    return;\r\n                }\r\n                if (TextUtils.isEmpty(password)) {\r\n                    textPswd.setError(&quot;Password is required&quot;);\r\n                    return;\r\n                }\r\n                mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener &lt; AuthResult &gt; () {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task\\ &lt; AuthResult\\ &gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            String userId = user.getUid();\r\n                            mDatabase.child(userId).addValueEventListener(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    String username = snapshot.child(&quot;username&quot;).getValue(String.class);\r\n                                    String email = snapshot.child(&quot;email&quot;).getValue(String.class);\r\n                                    Intent intent = new Intent(owner_login.this, owners_Profile.class);\r\n                                    intent.putExtra(&quot;username&quot;, username);\r\n                                    intent.putExtra(&quot;email&quot;, email);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n                                }\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n                                    Toast.makeText(owner_login.this, &quot;Failed to retrieve user information&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        } else {\r\n                            Toast.makeText(owner_login.this, &quot;Authentication failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Cannot sign in user to Firebase in Android app","body":"<p>When I entered correct email address and password in &quot;owners&quot; object. run time error comes this :</p>\n<blockquote>\n<p>E/RecaptchaCallWrapper: Initial task failed for action RecaptchaAction(action=custom_signInWithPassword)with exception - There is no user record corresponding to this identifier. The user may have been deleted.</p>\n</blockquote>\n<p>After login, I want to go to profile page.</p>\n<p>This is my login.java</p>\n<pre><code>public class owner_login extends AppCompatActivity {\n    EditText textEmail, textPswd;\n    Button buttonSignupOwner, buttonLogin;\n    FirebaseAuth mAuth;\n    private DatabaseReference mDatabase;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_owner_login);\n        FirebaseAnalytics.getInstance(this).setAnalyticsCollectionEnabled(true);\n        FirebaseAnalytics.getInstance(this).setUserProperty(&quot;debug&quot;, &quot;true&quot;);\n        mAuth = FirebaseAuth.getInstance();\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;owners&quot;);\n        textEmail = findViewById(R.id.editTextEmail);\n        textPswd = findViewById(R.id.editTextPassword);\n        buttonLogin = findViewById(R.id.buttonLogin);\n        buttonLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String email = textEmail.getText().toString().trim();\n                String password = textPswd.getText().toString().trim();\n                if (TextUtils.isEmpty(email)) {\n                    textEmail.setError(&quot;Email is required&quot;);\n                    return;\n                }\n                if (TextUtils.isEmpty(password)) {\n                    textPswd.setError(&quot;Password is required&quot;);\n                    return;\n                }\n                mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener &lt; AuthResult &gt; () {\n                    @Override\n                    public void onComplete(@NonNull Task\\ &lt; AuthResult\\ &gt; task) {\n                        if (task.isSuccessful()) {\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            String userId = user.getUid();\n                            mDatabase.child(userId).addValueEventListener(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                    String username = snapshot.child(&quot;username&quot;).getValue(String.class);\n                                    String email = snapshot.child(&quot;email&quot;).getValue(String.class);\n                                    Intent intent = new Intent(owner_login.this, owners_Profile.class);\n                                    intent.putExtra(&quot;username&quot;, username);\n                                    intent.putExtra(&quot;email&quot;, email);\n                                    startActivity(intent);\n                                    finish();\n                                }\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError error) {\n                                    Toast.makeText(owner_login.this, &quot;Failed to retrieve user information&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        } else {\n                            Toast.makeText(owner_login.this, &quot;Authentication failed&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1687020291,"post_id":76497164,"comment_id":134880205,"body_markdown":"Option 1: Suck it up. Java doesn&#39;t support operator overloading. Option 2: Use a different JVM language that does support operator overloading. kotlin or [Manifold](http://manifold.systems/) are two such. Best of luck!","body":"Option 1: Suck it up. Java doesn&#39;t support operator overloading. Option 2: Use a different JVM language that does support operator overloading. kotlin or <a href=\"http://manifold.systems/\" rel=\"nofollow noreferrer\">Manifold</a> are two such. Best of luck!"},{"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"score":1,"creation_date":1687020519,"post_id":76497164,"comment_id":134880227,"body_markdown":"It seems unreasonable to suppose that an “exact replica” exists: what’s the exact replica of [inner classes](https://stackoverflow.com/q/2367015/8586227) in C#?","body":"It seems unreasonable to suppose that an “exact replica” exists: what’s the exact replica of <a href=\"https://stackoverflow.com/q/2367015/8586227\">inner classes</a> in C#?"}],"answers":[{"tags":[],"owner":{"display_name":"user22089163"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687020224,"creation_date":1687020224,"answer_id":76497191,"question_id":76497164,"body_markdown":"I find BigDecimal to be the best option and even used in multiple FinTech products for monitory calculations, yes correct it is really cumbersome to do calculations like ((a + b + c + d) / e) * f, to over come this limitation I have written some static factory methods like BigDecimal add( BigDecimal b1, BigDecimal b2) or using java varargs for adding multiple Big Decimals, in that case you can call add(a,b,c,d), similarly I have written methods for division, subtraction etc. \r\n","title":"How to store money in Java that doesn&#39;t lose precision AND allows primitive style of doing calculations","body":"<p>I find BigDecimal to be the best option and even used in multiple FinTech products for monitory calculations, yes correct it is really cumbersome to do calculations like ((a + b + c + d) / e) * f, to over come this limitation I have written some static factory methods like BigDecimal add( BigDecimal b1, BigDecimal b2) or using java varargs for adding multiple Big Decimals, in that case you can call add(a,b,c,d), similarly I have written methods for division, subtraction etc.</p>\n"},{"tags":[],"owner":{"account_id":25945482,"reputation":25,"user_id":22080814,"display_name":"TypeMonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687020314,"creation_date":1687020314,"answer_id":76497199,"question_id":76497164,"body_markdown":"On 2.), this [isn&#39;t possible][1] in Java as you&#39;re essentially wanting to overload arithmetic operators for some custom currency type.`BigDecimal` is the only way you can reliably achieve this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3598707/operator-overloading-and-overriding-in-java","title":"How to store money in Java that doesn&#39;t lose precision AND allows primitive style of doing calculations","body":"<p>On 2.), this <a href=\"https://stackoverflow.com/questions/3598707/operator-overloading-and-overriding-in-java\">isn't possible</a> in Java as you're essentially wanting to overload arithmetic operators for some custom currency type.<code>BigDecimal</code> is the only way you can reliably achieve this.</p>\n"},{"comments":[{"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"score":1,"creation_date":1687030455,"post_id":76497210,"comment_id":134881329,"body_markdown":"Switching to Kotlin seems like the best solution among all options. Thank you for suggesting it.","body":"Switching to Kotlin seems like the best solution among all options. Thank you for suggesting it."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687501502,"creation_date":1687020495,"answer_id":76497210,"question_id":76497164,"body_markdown":"Unlike for example in Kotlin, it is not possible in Java as this language allows neither operator overloading nor infix functions. \r\n\r\nYou have to pick one:\r\n1. `double`: Keep readability and lose precision.\r\n2. `Bigdecimal`: Keep precision and lose readability.\r\n\r\n_____\r\n\r\nIf you manage to switch to Kotlin, you can use the power the BigDecimal Kotlin [extension][1].\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-decimal/","title":"How to store money in Java that doesn&#39;t lose precision AND allows primitive style of doing calculations","body":"<p>Unlike for example in Kotlin, it is not possible in Java as this language allows neither operator overloading nor infix functions.</p>\n<p>You have to pick one:</p>\n<ol>\n<li><code>double</code>: Keep readability and lose precision.</li>\n<li><code>Bigdecimal</code>: Keep precision and lose readability.</li>\n</ol>\n<hr />\n<p>If you manage to switch to Kotlin, you can use the power the BigDecimal Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-decimal/\" rel=\"nofollow noreferrer\">extension</a>.</p>\n"}],"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76497210,"answer_count":3,"score":1,"last_activity_date":1687501502,"creation_date":1687019753,"question_id":76497164,"body_markdown":"We have a highly complex financial model app that involves money &amp; percentages. It&#39;s written in C# and we use its `decimal` type to represent both. It works fine, but we&#39;re trying to migrate the app to Java to get away from Microsoft.\r\n\r\nI&#39;m surprised to not find any Java native type to store money &amp; percentages that provides both:\r\n1. Lossless precision\r\n2. Native style of doing calculations (e.g. using `+` for additions instead of `.add()`)\r\n\r\nI know the consensus is to use BigDecimal. That solves the storage part but it&#39;s very cumbersome to do calculations with it. For example instead of this with `decimal`:\r\n\r\n`((a + b + c + d) / e) * f`\r\n\r\nI&#39;d have to do this with `BigDecimal`:\r\n\r\n`a.add(b).add(c).add(d).divide(e).multiply(f)`\r\n\r\nThis is fine for a small amount of calculations, but we have thousands of calculations, some of their formulae are tens of lines. This quickly becomes unwieldy and hard to read.\r\n\r\nBasically I&#39;m looking for the exact replica of C#&#39;s `decimal` type in Java.","title":"How to store money in Java that doesn&#39;t lose precision AND allows primitive style of doing calculations","body":"<p>We have a highly complex financial model app that involves money &amp; percentages. It's written in C# and we use its <code>decimal</code> type to represent both. It works fine, but we're trying to migrate the app to Java to get away from Microsoft.</p>\n<p>I'm surprised to not find any Java native type to store money &amp; percentages that provides both:</p>\n<ol>\n<li>Lossless precision</li>\n<li>Native style of doing calculations (e.g. using <code>+</code> for additions instead of <code>.add()</code>)</li>\n</ol>\n<p>I know the consensus is to use BigDecimal. That solves the storage part but it's very cumbersome to do calculations with it. For example instead of this with <code>decimal</code>:</p>\n<p><code>((a + b + c + d) / e) * f</code></p>\n<p>I'd have to do this with <code>BigDecimal</code>:</p>\n<p><code>a.add(b).add(c).add(d).divide(e).multiply(f)</code></p>\n<p>This is fine for a small amount of calculations, but we have thousands of calculations, some of their formulae are tens of lines. This quickly becomes unwieldy and hard to read.</p>\n<p>Basically I'm looking for the exact replica of C#'s <code>decimal</code> type in Java.</p>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail","ipv6"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687456726,"post_id":76534381,"comment_id":134943081,"body_markdown":"Could be the server on which you&#39;re running has no route to the Internet or you might have rules preventing connecting to that host","body":"Could be the server on which you&#39;re running has no route to the Internet or you might have rules preventing connecting to that host"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1687459395,"post_id":76534381,"comment_id":134943571,"body_markdown":"It could be but when IpV4 address is chosen - emails are delivered perfectly","body":"It could be but when IpV4 address is chosen - emails are delivered perfectly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687459961,"post_id":76534381,"comment_id":134943705,"body_markdown":"Maybe try running with `-Djava.net.preferIPv4Stack=true`","body":"Maybe try running with <code>-Djava.net.preferIPv4Stack=true</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1687464587,"post_id":76534381,"comment_id":134944542,"body_markdown":"@g00se It is an option but I think it should be possible to send email using ipv6. Maybe I should add some properties to email configuration  ?","body":"@g00se It is an option but I think it should be possible to send email using ipv6. Maybe I should add some properties to email configuration  ?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1687475443,"post_id":76534381,"comment_id":134946060,"body_markdown":"Does the system on which you&#39;re running this support IPv6? Can you `ping6 2a00:1148:db00:0:0:0:0:8` from a command line?","body":"Does the system on which you&#39;re running this support IPv6? Can you <code>ping6 2a00:1148:db00:0:0:0:0:8</code> from a command line?"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687500995,"creation_date":1687455165,"question_id":76534381,"body_markdown":"I use `smtp.mail.ru` as smtp server and this server corresponds to multiple IP addresses(based on my experiments different amount of servers from differernt networks) and one of those servers is ipv6. I manually iterate over those servers and when I try to send email using ipv6 -  it leads to exception:\r\n\r\n\r\n    org.springframework.mail.MailSendException: Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: 2a00:1148:db00:0:0:0:0:8, 465; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.SocketException: Network unreachable. Failed messages: com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: 2a00:1148:db00:0:0:0:0:8, 465; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.SocketException: Network unreachable\r\n\r\n\r\nMy code for taking ip addressse:\r\n\r\n    InetAddress.getAllByName(hostName); // host = &quot;smtp.mail.ru: here\r\n    log.warn(&quot;Read addresses {}&quot;, Arrays.asList(addresses));\r\n\r\nresult is:\r\n\r\n    2023-06-22 16:37:09.216  WARN 1 --- [           main] r.v.u.e.s.MyClasss            : Read addresses [smtp.mail.ru/94.100.180.160, smtp.mail.ru/217.69.139.160, smtp.mail.ru/2a00:1148:db00:0:0:0:0:8]\r\n\r\nAnd code for mail send:\r\n\r\n    @Autowired\r\n    private JavaMailSenderImp sender;\r\n    ...\r\n    public void foo() {\r\n         ...\r\n         sender.setHost(getNextAddress());\r\n         sender.send(message);\r\n         ...\r\n     }\r\n    \r\n    ...\r\n    \r\n    private String getNextAddress(){\r\n       InetAddress[] all = InetAddress.getAllByName(hostName); //hostName= &quot;smtp.mail.ru: here\r\n       //logic for index calcualtion\r\n       return all[index].getHostAddress()\r\n    }\r\n\r\n\r\nHow can I avoid it ?","title":"Can&#39;t send email using smtp protocol for IPV6 address","body":"<p>I use <code>smtp.mail.ru</code> as smtp server and this server corresponds to multiple IP addresses(based on my experiments different amount of servers from differernt networks) and one of those servers is ipv6. I manually iterate over those servers and when I try to send email using ipv6 -  it leads to exception:</p>\n<pre><code>org.springframework.mail.MailSendException: Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldn't connect to host, port: 2a00:1148:db00:0:0:0:0:8, 465; timeout -1;\n  nested exception is:\n    java.net.SocketException: Network unreachable. Failed messages: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: 2a00:1148:db00:0:0:0:0:8, 465; timeout -1;\n  nested exception is:\n    java.net.SocketException: Network unreachable\n</code></pre>\n<p>My code for taking ip addressse:</p>\n<pre><code>InetAddress.getAllByName(hostName); // host = &quot;smtp.mail.ru: here\nlog.warn(&quot;Read addresses {}&quot;, Arrays.asList(addresses));\n</code></pre>\n<p>result is:</p>\n<pre><code>2023-06-22 16:37:09.216  WARN 1 --- [           main] r.v.u.e.s.MyClasss            : Read addresses [smtp.mail.ru/94.100.180.160, smtp.mail.ru/217.69.139.160, smtp.mail.ru/2a00:1148:db00:0:0:0:0:8]\n</code></pre>\n<p>And code for mail send:</p>\n<pre><code>@Autowired\nprivate JavaMailSenderImp sender;\n...\npublic void foo() {\n     ...\n     sender.setHost(getNextAddress());\n     sender.send(message);\n     ...\n }\n\n...\n\nprivate String getNextAddress(){\n   InetAddress[] all = InetAddress.getAllByName(hostName); //hostName= &quot;smtp.mail.ru: here\n   //logic for index calcualtion\n   return all[index].getHostAddress()\n}\n</code></pre>\n<p>How can I avoid it ?</p>\n"},{"tags":["java","jax-ws","java-ee-5","netweaver"],"answers":[{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1363585608,"creation_date":1363585608,"answer_id":15470446,"question_id":15290118,"body_markdown":"**You&#39;re right: the spec says nothing about this limitation - it&#39;s only vaguely implied.**\r\n\r\nFrom the JAX-WS spec (2.2 Rev A):  \r\n\r\n&gt; *The WebServiceContext is treated as an injectable resource that can be\r\n&gt; set at the time an endpoint is initialized. The WebServiceContext\r\n&gt; object will then use **thread-local** information to return the correct\r\n&gt; information regardless of how many threads are concurrently being used\r\n&gt; to serve requests addressed to the same endpoint object.*\r\n\r\nShould be operational over the existence of the endpoint, but only if used in the same thread that setup and stored the request contextual information into thread-local memory storage.  Given that WebServiceContext is primarily MessageContext information, which is HTTP Request / Servlet Request / WSDL Operation settings, the thread-local contextual information would probably need to be populated by the thread that initially marshalls the SOAP/HTTP request, meaning that the later async processing thread does not have this info available.  Just based on reading - haven&#39;t tested this combination.\r\n\r\n","title":"JAX-WS - inject WebServiceContext into @WebService that only has @Oneway methods","body":"<p><strong>You're right: the spec says nothing about this limitation - it's only vaguely implied.</strong></p>\n\n<p>From the JAX-WS spec (2.2 Rev A):  </p>\n\n<blockquote>\n  <p><em>The WebServiceContext is treated as an injectable resource that can be\n  set at the time an endpoint is initialized. The WebServiceContext\n  object will then use <strong>thread-local</strong> information to return the correct\n  information regardless of how many threads are concurrently being used\n  to serve requests addressed to the same endpoint object.</em></p>\n</blockquote>\n\n<p>Should be operational over the existence of the endpoint, but only if used in the same thread that setup and stored the request contextual information into thread-local memory storage.  Given that WebServiceContext is primarily MessageContext information, which is HTTP Request / Servlet Request / WSDL Operation settings, the thread-local contextual information would probably need to be populated by the thread that initially marshalls the SOAP/HTTP request, meaning that the later async processing thread does not have this info available.  Just based on reading - haven't tested this combination.</p>\n"}],"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15470446,"answer_count":1,"score":1,"last_activity_date":1687499996,"creation_date":1362733047,"question_id":15290118,"body_markdown":"I&#39;m on SAP NetWeaver 7.3 EHP 1 (JEE5 certified) and I&#39;ve generated a Web Service skeleton for an existing WSDL. All methods in this Webservice are non-blocking and thus annotated with `@Oneway`. The service itself works just fine.\r\n\r\nI also need to access an injected `WebServiceContext` though, and this is where the trouble starts. I can inject the context just fine, but every call to it just ends up in server-specific NPEs or ISEs. I somewhat can understand that since the non-blocking call is executed asynchronously by SAP&#39;s JAX-WS implementation. However, I tried to validate this behaviour by looking at the JAX-WS specification.\r\n\r\nNow I&#39;m either blind or the specification doesn&#39;t specifically say that a `WebServiceContext` must not be used in non-blocking web methods. In fact, in the whole of chapter 5.3 of the latest version of the spec, `@Oneway` is not mentioned once. The main description is\r\n\r\n&gt; The javax.xml.ws.WebServiceContext interface makes it possible for an\r\n&gt; endpoint implementation object and potentially any other objects that\r\n&gt; share its execution context to access information pertaining to the\r\n&gt; request being served. \r\n&gt;\r\n&gt; The result of invoking any methods on the\r\n&gt; WebServiceContext of a component outside the invocation of one of its\r\n&gt; web service methods is undefined. An implementation SHOULD throw a\r\n&gt; java.lang- .IllegalStateException if it detects such a usage.\r\n\r\nI guess the point is the definition of &quot;request being served&quot;. At the time of the asynchronous handling of the SOAP operation, the HTTP request has already finished. But then again, I&#39;m not accessing the context &quot;outside of the invocation of one if its web service methods&quot;. I&#39;m confused...\r\n\r\nDoes any of you guys know if I should be allowed to access the `WebServiceContext` in a non-blocking web method? Thanks!","title":"JAX-WS - inject WebServiceContext into @WebService that only has @Oneway methods","body":"<p>I'm on SAP NetWeaver 7.3 EHP 1 (JEE5 certified) and I've generated a Web Service skeleton for an existing WSDL. All methods in this Webservice are non-blocking and thus annotated with <code>@Oneway</code>. The service itself works just fine.</p>\n<p>I also need to access an injected <code>WebServiceContext</code> though, and this is where the trouble starts. I can inject the context just fine, but every call to it just ends up in server-specific NPEs or ISEs. I somewhat can understand that since the non-blocking call is executed asynchronously by SAP's JAX-WS implementation. However, I tried to validate this behaviour by looking at the JAX-WS specification.</p>\n<p>Now I'm either blind or the specification doesn't specifically say that a <code>WebServiceContext</code> must not be used in non-blocking web methods. In fact, in the whole of chapter 5.3 of the latest version of the spec, <code>@Oneway</code> is not mentioned once. The main description is</p>\n<blockquote>\n<p>The javax.xml.ws.WebServiceContext interface makes it possible for an\nendpoint implementation object and potentially any other objects that\nshare its execution context to access information pertaining to the\nrequest being served.</p>\n<p>The result of invoking any methods on the\nWebServiceContext of a component outside the invocation of one of its\nweb service methods is undefined. An implementation SHOULD throw a\njava.lang- .IllegalStateException if it detects such a usage.</p>\n</blockquote>\n<p>I guess the point is the definition of &quot;request being served&quot;. At the time of the asynchronous handling of the SOAP operation, the HTTP request has already finished. But then again, I'm not accessing the context &quot;outside of the invocation of one if its web service methods&quot;. I'm confused...</p>\n<p>Does any of you guys know if I should be allowed to access the <code>WebServiceContext</code> in a non-blocking web method? Thanks!</p>\n"},{"tags":["python","java","aws-lambda","aws-lambda-layers","aws-lambda-extensions"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1686946683,"post_id":76492622,"comment_id":134873701,"body_markdown":"This is now the third or fourth post you&#39;ve made about a Python Lambda using Java.  You&#39;ve yet to explain why you want something this difficult.  A Python Lambda will not have a Java runtime by default.  A Java Lambda will not have a Python runtime by default.  Whatever it is you&#39;re trying to do Lambda does not seem like a good solution.  To use `JClass` you&#39;d need to include an entire Java JVM in your Python package.","body":"This is now the third or fourth post you&#39;ve made about a Python Lambda using Java.  You&#39;ve yet to explain why you want something this difficult.  A Python Lambda will not have a Java runtime by default.  A Java Lambda will not have a Python runtime by default.  Whatever it is you&#39;re trying to do Lambda does not seem like a good solution.  To use <code>JClass</code> you&#39;d need to include an entire Java JVM in your Python package."},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1686947331,"post_id":76492622,"comment_id":134873795,"body_markdown":"Thanks for answering again. &quot;You&#39;ve yet to explain why you want something this difficult&quot; - I need this because of legacy reasons i.e., we have a legacy python lambda and and legacy java package. Now we need to use java package in python lambda. I can&#39;t convert java package into python and python lambda into java lambda. If you know any better way to achieve (other than creating java lambda and use aws lambda invoke method ) this please let me know.","body":"Thanks for answering again. &quot;You&#39;ve yet to explain why you want something this difficult&quot; - I need this because of legacy reasons i.e., we have a legacy python lambda and and legacy java package. Now we need to use java package in python lambda. I can&#39;t convert java package into python and python lambda into java lambda. If you know any better way to achieve (other than creating java lambda and use aws lambda invoke method ) this please let me know."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1686948560,"post_id":76492622,"comment_id":134873972,"body_markdown":"I truly feel that you&#39;d be better off with an EC2 environment.  You could install Java *and* Python on it and, depending on the code, have one call the other as appropriate.  Lambda&#39;s are intentionally focused and not as general purpose as you need.  The EC2 would expose a service out of either the Python side or the Java side that would be a network call for the outside world.  Otherwise you need to expose the Java functionality as it&#39;s own Lambda and have the Python Lambda call it.  That&#39;s possible but I&#39;d argue harder to build and maintain.","body":"I truly feel that you&#39;d be better off with an EC2 environment.  You could install Java <i>and</i> Python on it and, depending on the code, have one call the other as appropriate.  Lambda&#39;s are intentionally focused and not as general purpose as you need.  The EC2 would expose a service out of either the Python side or the Java side that would be a network call for the outside world.  Otherwise you need to expose the Java functionality as it&#39;s own Lambda and have the Python Lambda call it.  That&#39;s possible but I&#39;d argue harder to build and maintain."},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1686948992,"post_id":76492622,"comment_id":134874036,"body_markdown":"As I mentioned in the previous comment, it&#39;s a legacy code that deployed as python lambda. It&#39;s nearly not possible to change this. For maintenance reasons I can&#39;t create new lambda for java. So I am trying to write an java lambda extension and use that in python lambda. As I am new to aws lambda extensions facing difficulties on achieving this.","body":"As I mentioned in the previous comment, it&#39;s a legacy code that deployed as python lambda. It&#39;s nearly not possible to change this. For maintenance reasons I can&#39;t create new lambda for java. So I am trying to write an java lambda extension and use that in python lambda. As I am new to aws lambda extensions facing difficulties on achieving this."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1686953037,"post_id":76492622,"comment_id":134874540,"body_markdown":"Can you use a Docker container?  I just don&#39;t see how you&#39;ll be able to use a standard Lambda.  Then you could package everything you need into a single place and use things like `JClass`.","body":"Can you use a Docker container?  I just don&#39;t see how you&#39;ll be able to use a standard Lambda.  Then you could package everything you need into a single place and use things like <code>JClass</code>."},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1686954436,"post_id":76492622,"comment_id":134874698,"body_markdown":"I am able to package all the java code and deploy it as aws layer. And It got extracted class files in `/op`t folder. Now I am trying to use these class files in python using Jpype. However I am not sure what classpath I should give here `jpype.addClassPath`.","body":"I am able to package all the java code and deploy it as aws layer. And It got extracted class files in <code>&#47;op</code>t folder. Now I am trying to use these class files in python using Jpype. However I am not sure what classpath I should give here <code>jpype.addClassPath</code>."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1686955321,"post_id":76492622,"comment_id":134874787,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254111/discussion-between-stdunbar-and-lakshmiravali-rimmalapudi).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254111/discussion-between-stdunbar-and-lakshmiravali-rimmalapudi\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1687385732,"post_id":76509750,"comment_id":134931297,"body_markdown":"Thanks for explanation. This is similar to what I am doing currently. However, Is there any better way to start JVM other than with `jpype.startJVM(jpype.getDefaultJVMPath())` from python code?","body":"Thanks for explanation. This is similar to what I am doing currently. However, Is there any better way to start JVM other than with <code>jpype.startJVM(jpype.getDefaultJVMPath())</code> from python code?"}],"tags":[],"owner":{"account_id":27634810,"reputation":474,"user_id":21092961,"display_name":"Amith A G"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687204928,"creation_date":1687204928,"answer_id":76509750,"question_id":76492622,"body_markdown":"In AWS Lambda, the Java runtime is automatically started for you when you invoke a Lambda function written in Java. You do not need to manually start the JVM (Java Virtual Machine).\r\n\r\nTo create a Java Lambda layer and call methods from a Lambda function, there are a few steps you need to follow:\r\n\r\n&gt; 1. Build the Java code: Compile your Java code and package it into a JAR file. In your case, the JAR file should contain the\r\n&gt; com.java.example.SampleJavaClass class.\r\n&gt; \r\n&gt; 2. Create a Lambda Layer: In the AWS Management Console or using the AWS CLI/SDKs, create a Lambda Layer. Upload the JAR file containing\r\n&gt; your Java code to the layer.\r\n&gt; \r\n&gt; 3. Configure your Lambda function: When creating or configuring your Lambda function, add the created Lambda Layer to the function&#39;s\r\n&gt; layers. This makes the Java classes and methods in the layer available\r\n&gt; to your Lambda function.\r\n&gt; \r\n&gt; 4. Write the Lambda function code: In your Python code (Lambda function), you can use the jpype library to call Java methods. Make\r\n&gt; sure to import the required jpype modules and initialize the JVM. The\r\n&gt; specific path to add as a classpath depends on the structure of your\r\n&gt; Lambda function and the location of the Java classes and JAR files.\r\n&gt; You can experiment with different paths to find the correct one.\r\n\r\n    import jpype\r\n    \r\n    def call_java_method():\r\n        jpype.startJVM(jpype.getDefaultJVMPath())\r\n    \r\n        # Add the necessary classpath to load the Java class\r\n        jpype.addClassPath(&#39;/path/to/your/jar/file.jar&#39;)\r\n    \r\n        # Import and use the Java class\r\n        from com.java.example import SampleJavaClass\r\n    \r\n        instance = SampleJavaClass()\r\n        result = instance.sampleMethod()\r\n        print(result)\r\n    \r\n        jpype.shutdownJVM()\r\n\r\nMake sure to replace `/path/to/your/jar/file.jar` with the correct path to your JAR file containing the `com.java.example.SampleJavaClass`.","title":"Is AWS java lambda layer automatically starts JVM?","body":"<p>In AWS Lambda, the Java runtime is automatically started for you when you invoke a Lambda function written in Java. You do not need to manually start the JVM (Java Virtual Machine).</p>\n<p>To create a Java Lambda layer and call methods from a Lambda function, there are a few steps you need to follow:</p>\n<blockquote>\n<ol>\n<li><p>Build the Java code: Compile your Java code and package it into a JAR file. In your case, the JAR file should contain the\ncom.java.example.SampleJavaClass class.</p>\n</li>\n<li><p>Create a Lambda Layer: In the AWS Management Console or using the AWS CLI/SDKs, create a Lambda Layer. Upload the JAR file containing\nyour Java code to the layer.</p>\n</li>\n<li><p>Configure your Lambda function: When creating or configuring your Lambda function, add the created Lambda Layer to the function's\nlayers. This makes the Java classes and methods in the layer available\nto your Lambda function.</p>\n</li>\n<li><p>Write the Lambda function code: In your Python code (Lambda function), you can use the jpype library to call Java methods. Make\nsure to import the required jpype modules and initialize the JVM. The\nspecific path to add as a classpath depends on the structure of your\nLambda function and the location of the Java classes and JAR files.\nYou can experiment with different paths to find the correct one.</p>\n</li>\n</ol>\n</blockquote>\n<pre><code>import jpype\n\ndef call_java_method():\n    jpype.startJVM(jpype.getDefaultJVMPath())\n\n    # Add the necessary classpath to load the Java class\n    jpype.addClassPath('/path/to/your/jar/file.jar')\n\n    # Import and use the Java class\n    from com.java.example import SampleJavaClass\n\n    instance = SampleJavaClass()\n    result = instance.sampleMethod()\n    print(result)\n\n    jpype.shutdownJVM()\n</code></pre>\n<p>Make sure to replace <code>/path/to/your/jar/file.jar</code> with the correct path to your JAR file containing the <code>com.java.example.SampleJavaClass</code>.</p>\n"}],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687499926,"creation_date":1686938433,"question_id":76492622,"body_markdown":"I am new to aws layers/extensions. Is AWS java lambda layer automatically starts JVM? or DO we need to manually start? I am trying to create java lambda layer and call the methods from lambda function, however I am trying to call java method from lambda I am getting ```Runtime exited with error: signal: segmentation fault```\r\nPython code (lambda): \r\n```\r\ndef call_java_method()\r\n    #jpype.addClassPath(JAR) - Not sure what path I should give here?\r\n    class_name = &#39;com.java.example.SampleJavaClass&#39;\r\n    my_class = JClass(class_name)\r\n\r\n    instance = my_class()\r\n    result = instance.sampleMethod()\r\n    print(result)\r\n```\r\nJava Code:\r\n```\r\npackage com.java.example;\r\n\r\npublic class SampleJavaClass {\r\n    public String sampleMethod() {\r\n        return &quot;sampleMethod() called!&quot;;\r\n    }\r\n}\r\n```\r\n","title":"Is AWS java lambda layer automatically starts JVM?","body":"<p>I am new to aws layers/extensions. Is AWS java lambda layer automatically starts JVM? or DO we need to manually start? I am trying to create java lambda layer and call the methods from lambda function, however I am trying to call java method from lambda I am getting <code>Runtime exited with error: signal: segmentation fault</code>\nPython code (lambda):</p>\n<pre><code>def call_java_method()\n    #jpype.addClassPath(JAR) - Not sure what path I should give here?\n    class_name = 'com.java.example.SampleJavaClass'\n    my_class = JClass(class_name)\n\n    instance = my_class()\n    result = instance.sampleMethod()\n    print(result)\n</code></pre>\n<p>Java Code:</p>\n<pre><code>package com.java.example;\n\npublic class SampleJavaClass {\n    public String sampleMethod() {\n        return &quot;sampleMethod() called!&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1435320192,"post_id":31072667,"comment_id":50164061,"body_markdown":"Erm ... is it necessary to download the javadocs?  With Eclipse, the IDE itself is capable of extracting and formatting the javadoc comments embedded in the source code.","body":"Erm ... is it necessary to download the javadocs?  With Eclipse, the IDE itself is capable of extracting and formatting the javadoc comments embedded in the source code."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":1,"creation_date":1435320307,"post_id":31072667,"comment_id":50164136,"body_markdown":"It is complex problem, I am investigating. Yes, Idea is also able to show javadocs, generated on the fly from code.","body":"It is complex problem, I am investigating. Yes, Idea is also able to show javadocs, generated on the fly from code."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1435321235,"post_id":31072667,"comment_id":50164736,"body_markdown":"File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing, check the boxes for downloading sources and/or documentation. See https://www.jetbrains.com/idea/help/editing-maven-settings.html, https://www.jetbrains.com/idea/help/maven-2.html and https://www.jetbrains.com/idea/help/maven-importing.html","body":"File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing, check the boxes for downloading sources and/or documentation. See <a href=\"https://www.jetbrains.com/idea/help/editing-maven-settings.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/editing-maven-settings.html</a>, <a href=\"https://www.jetbrains.com/idea/help/maven-2.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/maven-2.html</a> and <a href=\"https://www.jetbrains.com/idea/help/maven-importing.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/maven-importing.html</a>"},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1435326751,"post_id":31072667,"comment_id":50168471,"body_markdown":"@M.Deinum, sorry forgot to mention, that I have turned these boxes on already","body":"@M.Deinum, sorry forgot to mention, that I have turned these boxes on already"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1529647025,"post_id":31072667,"comment_id":88958308,"body_markdown":"A related Question: [*Download doc for only one Maven dependency in IntelliJ*](https://stackoverflow.com/q/45474904/642706)","body":"A related Question: <a href=\"https://stackoverflow.com/q/45474904/642706\"><i>Download doc for only one Maven dependency in IntelliJ</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1435326924,"post_id":31072789,"comment_id":50168609,"body_markdown":"Sorry, what is &quot;right side of intelij&quot;? I have small toolbar at the top right with few buttons there, including &quot;make project&quot;, &quot;run&quot;, &quot;debug&quot;, etc, but no any says anything about documentation...","body":"Sorry, what is &quot;right side of intelij&quot;? I have small toolbar at the top right with few buttons there, including &quot;make project&quot;, &quot;run&quot;, &quot;debug&quot;, etc, but no any says anything about documentation..."},{"owner":{"account_id":3084749,"reputation":334,"user_id":2612143,"accept_rate":82,"display_name":"gicig"},"score":0,"creation_date":1692712475,"post_id":31072789,"comment_id":135659672,"body_markdown":"It might happen that mvn repositories (Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories) were not updated. Reasons can vary. In my case the password for those repos was expired (in my case a project-specific settings.xml)\n\nAfter fixing that I clicked &quot;Update&quot; in IDEA&#39;s list of repositories and they got downloaded. \n\nNote: to check whether javadoc was downloaded, you can check existence of *-javadoc.jar artefacts in your mvn repository (usally under ~/.m2/repository)","body":"It might happen that mvn repositories (Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories) were not updated. Reasons can vary. In my case the password for those repos was expired (in my case a project-specific settings.xml)  After fixing that I clicked &quot;Update&quot; in IDEA&#39;s list of repositories and they got downloaded.   Note: to check whether javadoc was downloaded, you can check existence of *-javadoc.jar artefacts in your mvn repository (usally under ~/.m2/repository)"}],"tags":[],"owner":{"account_id":3872031,"reputation":1491,"user_id":3207081,"display_name":"user3207081"},"comment_count":2,"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1687499887,"creation_date":1435320375,"answer_id":31072789,"question_id":31072667,"body_markdown":"Click on the &quot;maven projects&quot; (make sure tool buttons are on) on the right side of IntelliJ and then click on &quot;Download Documentation&quot;.\r\n\r\nAlso, for future downloading, you can go to File -&gt; Settings -&gt; Build,execution, deployment, -&gt; build tools -&gt; Maven -&gt; importing -&gt; mark &quot;Documentation&quot; checkbox and apply settings.","title":"How to force IntelliJ to download javadocs with Maven?","body":"<p>Click on the &quot;maven projects&quot; (make sure tool buttons are on) on the right side of IntelliJ and then click on &quot;Download Documentation&quot;.</p>\n<p>Also, for future downloading, you can go to File -&gt; Settings -&gt; Build,execution, deployment, -&gt; build tools -&gt; Maven -&gt; importing -&gt; mark &quot;Documentation&quot; checkbox and apply settings.</p>\n"},{"comments":[{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":5,"creation_date":1578700216,"post_id":36071308,"comment_id":105537231,"body_markdown":"Does this ever work, I have tried it multiple times, it just executes and when it finishes, I still can&#39;t see the java docs when I open a dependency source file, even jdk classes such as LocalTime and the rest just source code, no javadocs","body":"Does this ever work, I have tried it multiple times, it just executes and when it finishes, I still can&#39;t see the java docs when I open a dependency source file, even jdk classes such as LocalTime and the rest just source code, no javadocs"},{"owner":{"account_id":5631811,"reputation":747,"user_id":4458543,"accept_rate":100,"display_name":"Samuel Owino"},"score":0,"creation_date":1578700254,"post_id":36071308,"comment_id":105537236,"body_markdown":"IntelliJ 2019.3.1","body":"IntelliJ 2019.3.1"},{"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"score":1,"creation_date":1626397335,"post_id":36071308,"comment_id":120888374,"body_markdown":"the downside of this is the IntelliJ (not intelligently) will start to download the doc of every dependency in the project, not just those that are of your interest (Netbeans is priceless in these things)","body":"the downside of this is the IntelliJ (not intelligently) will start to download the doc of every dependency in the project, not just those that are of your interest (Netbeans is priceless in these things)"}],"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"comment_count":3,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1529646750,"creation_date":1458247369,"answer_id":36071308,"question_id":31072667,"body_markdown":"# *Maven Projects* panel\r\n\r\n*Maven Projects* tool window &gt; Icon with green arrow and a box &gt; *Download Documentation*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee IntelliJ IDEA documentation for [Version 14.1](https://www.jetbrains.com/help/idea/14.0/maven-projects-tool-window.html#d1453953e155) or [current version](https://www.jetbrains.com/help/idea/maven-projects-tool-window.html).\r\n\r\n  [1]: http://i.stack.imgur.com/LeC9j.png","title":"How to force IntelliJ to download javadocs with Maven?","body":"<h1><em>Maven Projects</em> panel</h1>\n\n<p><em>Maven Projects</em> tool window > Icon with green arrow and a box > <em>Download Documentation</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LeC9j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LeC9j.png\" alt=\"enter image description here\"></a></p>\n\n<p>See IntelliJ IDEA documentation for <a href=\"https://www.jetbrains.com/help/idea/14.0/maven-projects-tool-window.html#d1453953e155\" rel=\"noreferrer\">Version 14.1</a> or <a href=\"https://www.jetbrains.com/help/idea/maven-projects-tool-window.html\" rel=\"noreferrer\">current version</a>.</p>\n"},{"tags":[],"owner":{"account_id":15765060,"reputation":41,"user_id":11375700,"display_name":"AH Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583222067,"creation_date":1583222067,"answer_id":60502495,"question_id":31072667,"body_markdown":"For me, it worked when I pressed on Download Source and Documentation.","title":"How to force IntelliJ to download javadocs with Maven?","body":"<p>For me, it worked when I pressed on Download Source and Documentation.</p>\n"},{"tags":[],"owner":{"account_id":2785336,"reputation":1001,"user_id":2396907,"display_name":"vintprox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585564522,"creation_date":1585564522,"answer_id":60928674,"question_id":31072667,"body_markdown":"By the way, if you experience same case with me (working with corporate Maven repository), Maven may be ignoring an opportunity to further download javadoc if it once wasn&#39;t there. And to make it request it one more time, you have to remove `&lt;artifactId&gt;-&lt;version&gt;-javadoc.jar.lastUpdated` file from `.m2/repository/&lt;groupId&gt;/&lt;artifactId&gt;/&lt;version&gt;`, then try again.","title":"How to force IntelliJ to download javadocs with Maven?","body":"<p>By the way, if you experience same case with me (working with corporate Maven repository), Maven may be ignoring an opportunity to further download javadoc if it once wasn't there. And to make it request it one more time, you have to remove <code>&lt;artifactId&gt;-&lt;version&gt;-javadoc.jar.lastUpdated</code> file from <code>.m2/repository/&lt;groupId&gt;/&lt;artifactId&gt;/&lt;version&gt;</code>, then try again.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31171,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":31072789,"answer_count":4,"score":75,"last_activity_date":1687499887,"creation_date":1435319954,"question_id":31072667,"body_markdown":"I have the following descriptions for some Maven entries in Project Structure:\r\n\r\n![enter image description here][1]\r\n\r\nJavadoc file is really absent in filesystem. Simultaneously, it is present in central repository. Why it was not downloaded and how to download it by force?\r\n\r\n**UPDATE**\r\n\r\nThese options are ON already:\r\n\r\n![enter image description here][2]\r\n\r\nHave tried to recompile, close/open etc after setting them...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0U10y.png\r\n  [2]: http://i.stack.imgur.com/WblxR.png","title":"How to force IntelliJ to download javadocs with Maven?","body":"<p>I have the following descriptions for some Maven entries in Project Structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0U10y.png\" alt=\"enter image description here\"></p>\n\n<p>Javadoc file is really absent in filesystem. Simultaneously, it is present in central repository. Why it was not downloaded and how to download it by force?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>These options are ON already:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WblxR.png\" alt=\"enter image description here\"></p>\n\n<p>Have tried to recompile, close/open etc after setting them...</p>\n"},{"tags":["java","classloader","ejb-3.0","netweaver"],"comments":[{"owner":{"account_id":3870137,"reputation":993,"user_id":3205599,"display_name":"Steven Pessall"},"score":0,"creation_date":1395306545,"post_id":22528032,"comment_id":34280904,"body_markdown":"Which application server are you using?","body":"Which application server are you using?"},{"owner":{"account_id":313880,"reputation":13,"user_id":628752,"display_name":"sergey.fedechkin"},"score":0,"creation_date":1395306789,"post_id":22528032,"comment_id":34281064,"body_markdown":"The application server is SAP Netweaver 7.4","body":"The application server is SAP Netweaver 7.4"},{"owner":{"account_id":3870137,"reputation":993,"user_id":3205599,"display_name":"Steven Pessall"},"score":1,"creation_date":1395307311,"post_id":22528032,"comment_id":34281425,"body_markdown":"Nope, haven&#39;t worked with that one. But on most application servers jars should be placed in a sub directory &quot;lib&quot; within the ear.  Maybe this is the cause?","body":"Nope, haven&#39;t worked with that one. But on most application servers jars should be placed in a sub directory &quot;lib&quot; within the ear.  Maybe this is the cause?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1395308607,"post_id":22528032,"comment_id":34282349,"body_markdown":"Where exactly is the &#39;Overthere&#39; jar anyway? Is it in the root of the EAR together with your ejb.jar? If so, do what sergey says; put the dependency jars in a lib subdirectory. NOT the ejb.jar, only the dependency jars.","body":"Where exactly is the &#39;Overthere&#39; jar anyway? Is it in the root of the EAR together with your ejb.jar? If so, do what sergey says; put the dependency jars in a lib subdirectory. NOT the ejb.jar, only the dependency jars."},{"owner":{"account_id":313880,"reputation":13,"user_id":628752,"display_name":"sergey.fedechkin"},"score":0,"creation_date":1395412327,"post_id":22528032,"comment_id":34339642,"body_markdown":"The Overthere jar is in the root of EAR togerger with ejb.jar. I`ve already tried to relocate dependency jars to lib - same error.It`s quite strange, that all resourses are found during ejb call, no NoClassDefFoundError exception occurs. However inner scan of resourses returns null.","body":"The Overthere jar is in the root of EAR togerger with ejb.jar. I<code>ve already tried to relocate dependency jars to lib - same error.It</code>s quite strange, that all resourses are found during ejb call, no NoClassDefFoundError exception occurs. However inner scan of resourses returns null."}],"owner":{"account_id":313880,"reputation":13,"user_id":628752,"display_name":"sergey.fedechkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687499783,"creation_date":1395306205,"question_id":22528032,"body_markdown":"I`m developing client that uses library Overthere 2.3.1. With local machine client works perfectly. But when I try to call same code included to EJB 3.0, I&#39;ve got exception that not all required classes have been loaded.\r\n\r\nI`ve looked over the source and found that the class contains Protocol annotation scanner ([https://github.com/hierynomus/scannit][1]) with hardcoded class name:\r\n\r\n    Scannit scannit = new Scannit(Configuration.config()\r\n         .scan(&quot;com.xebialabs&quot;)\r\n         .with(new AbstractScanner[] { new TypeAnnotationScanner() }));\r\n\r\nThe command\r\n\r\n    Thread.currentThread().getContextClassLoader().getResources(&quot;com/xebialabs&quot;) \r\nreturns null.\r\n\r\nLooks like EJB runs in a separate classloader which does not have access to all the jars.\r\n\r\nThe EJB is packed to EAR with following structure:\r\n\r\n    EAR    \r\n    --META-INF    \r\n    ----sda-dd.xml\r\n    ----SAP_MANIFEST.MF\r\n    ----MANIFEST.MF  \r\n    ----application-j2ee-engine.xml    \r\n    --ejb.jar    \r\n    --extlibs.jars\r\n\r\nThe `MANIFEST.MF` file don`t contain any reference to external libs in CLASS-PATH. The EAR project is deployed to Application server successfully.\r\n\r\nThe `EJB.jar` also contains `META-INF/MANIFEST.MF` with value `&quot;Class-Path: .&quot;` by default.\r\n\r\nI`ve already tried playing around with CLASS-PATH in manifest files, but have no luck.\r\n\r\nCould anyone help me, how to build project with all external libs to be loaded while EJB runs? What have I missed with resources and classloaders?\r\n\r\n\r\n  [1]: https://github.com/hierynomus/scannit","title":"EAR and EJB classloader error with Overthere","body":"<p>I`m developing client that uses library Overthere 2.3.1. With local machine client works perfectly. But when I try to call same code included to EJB 3.0, I've got exception that not all required classes have been loaded.</p>\n<p>I`ve looked over the source and found that the class contains Protocol annotation scanner (<a href=\"https://github.com/hierynomus/scannit\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/scannit</a>) with hardcoded class name:</p>\n<pre><code>Scannit scannit = new Scannit(Configuration.config()\n     .scan(&quot;com.xebialabs&quot;)\n     .with(new AbstractScanner[] { new TypeAnnotationScanner() }));\n</code></pre>\n<p>The command</p>\n<pre><code>Thread.currentThread().getContextClassLoader().getResources(&quot;com/xebialabs&quot;) \n</code></pre>\n<p>returns null.</p>\n<p>Looks like EJB runs in a separate classloader which does not have access to all the jars.</p>\n<p>The EJB is packed to EAR with following structure:</p>\n<pre><code>EAR    \n--META-INF    \n----sda-dd.xml\n----SAP_MANIFEST.MF\n----MANIFEST.MF  \n----application-j2ee-engine.xml    \n--ejb.jar    \n--extlibs.jars\n</code></pre>\n<p>The <code>MANIFEST.MF</code> file don`t contain any reference to external libs in CLASS-PATH. The EAR project is deployed to Application server successfully.</p>\n<p>The <code>EJB.jar</code> also contains <code>META-INF/MANIFEST.MF</code> with value <code>&quot;Class-Path: .&quot;</code> by default.</p>\n<p>I`ve already tried playing around with CLASS-PATH in manifest files, but have no luck.</p>\n<p>Could anyone help me, how to build project with all external libs to be loaded while EJB runs? What have I missed with resources and classloaders?</p>\n"},{"tags":["java","hibernate","netweaver"],"answers":[{"comments":[{"owner":{"account_id":218720,"reputation":715,"user_id":475191,"accept_rate":33,"display_name":"David Harris"},"score":0,"creation_date":1408654291,"post_id":25401487,"comment_id":39683858,"body_markdown":"Thanks Qualiture. I was hoping that I could avoid using the container provided javax.* classes by configuring the heavy resource classloader to not look to the parent classloader first (a child-first type class loader so to speak). Since I&#39;m not relying on any NW JPA services I was thinking I could bundle the 2.1 JPA jars in the referenced Hibernate.ear file, but since the HeavyResources ClassLoader firsts looks to its parent when loading classes it was loading the JPA 1.0 jars from there and not the jar I provided. I punted and used the 3.3.2.GA version of Hibernate, which utilizes JPA 1.0.","body":"Thanks Qualiture. I was hoping that I could avoid using the container provided javax.* classes by configuring the heavy resource classloader to not look to the parent classloader first (a child-first type class loader so to speak). Since I&#39;m not relying on any NW JPA services I was thinking I could bundle the 2.1 JPA jars in the referenced Hibernate.ear file, but since the HeavyResources ClassLoader firsts looks to its parent when loading classes it was loading the JPA 1.0 jars from there and not the jar I provided. I punted and used the 3.3.2.GA version of Hibernate, which utilizes JPA 1.0."}],"tags":[],"owner":{"account_id":3963484,"reputation":4900,"user_id":3270057,"accept_rate":80,"display_name":"Qualiture"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1408527699,"creation_date":1408527699,"answer_id":25401487,"question_id":25392730,"body_markdown":"I&#39;m an SAP NetWeaver consultant, and I hate to bring the bad news: since SAP NetWeaver 7.3 is based on Java EE 5, it currently only supports JPA 1.0...\r\n\r\nThere is a lively topic about this very subject on SCN stemming back from 2011 (http://scn.sap.com/thread/2028916) and still being updated as of today (it&#39;s well worth the read of all the comments!)\r\n\r\nIf I may quote from a post by Rolf Paulsen on Jan 15 2014 in that topic:\r\n\r\n&gt; Finally, the interesting wrap-up of 4 years of SAP statements:\r\n&gt; \r\n&gt; **Dec 14, 2009:** \r\n&gt; &quot;With the availability of Java EE6 it now is time to\r\n&gt; introduce it to our development, but there are no plans available (one\r\n&gt; week after release of the standard) that would tell us when this\r\n&gt; standard will be part of the product.&quot;   \r\n&gt; **Apr 4, 2012:** &quot;It is also\r\n&gt; planned to bring the features of Neo to the on premise environment\r\n&gt; afterwards. When this will happen I cannot answer.&quot;   \r\n&gt; **Jan 14, 2014:**\r\n&gt; &quot;The implementation  is under development and is planned to see the\r\n&gt; light in the first half of this year.&quot; &quot;That&#39;s the plugin with web\r\n&gt; profile. From that time on we will harmonize this with the Cloud\r\n&gt; updates.&quot;   \r\n&gt;\r\n&gt; Not too fast. SAP plugs some Tomcat EE 6 from the SAP\r\n&gt; Cloud into the legacy Java EE 5 NetWeaver Java? And only this plug-in\r\n&gt; will be harmonized with the SAP Cloud (that is good enough with Java\r\n&gt; EE 6 Web Profile) and support Java EE 6 features?   \r\n&gt;\r\n&gt; Sounds like\r\n&gt; Tobias&#39; answer &quot;Never&quot; to the question &quot;When will SAP AS Java EE 6/7\r\n&gt; see the light&quot; remains correct. SAP NetWeaver AS Java itself will stay\r\n&gt; on Java EE 5 forever.\r\n\r\n","title":"Can Hibernate 4.3 be used on NetWeaver 7.3","body":"<p>I'm an SAP NetWeaver consultant, and I hate to bring the bad news: since SAP NetWeaver 7.3 is based on Java EE 5, it currently only supports JPA 1.0...</p>\n\n<p>There is a lively topic about this very subject on SCN stemming back from 2011 (<a href=\"http://scn.sap.com/thread/2028916\" rel=\"nofollow\">http://scn.sap.com/thread/2028916</a>) and still being updated as of today (it's well worth the read of all the comments!)</p>\n\n<p>If I may quote from a post by Rolf Paulsen on Jan 15 2014 in that topic:</p>\n\n<blockquote>\n  <p>Finally, the interesting wrap-up of 4 years of SAP statements:</p>\n  \n  <p><strong>Dec 14, 2009:</strong> \n  \"With the availability of Java EE6 it now is time to\n  introduce it to our development, but there are no plans available (one\n  week after release of the standard) that would tell us when this\n  standard will be part of the product.\"<br>\n  <strong>Apr 4, 2012:</strong> \"It is also\n  planned to bring the features of Neo to the on premise environment\n  afterwards. When this will happen I cannot answer.\"<br>\n  <strong>Jan 14, 2014:</strong>\n  \"The implementation  is under development and is planned to see the\n  light in the first half of this year.\" \"That's the plugin with web\n  profile. From that time on we will harmonize this with the Cloud\n  updates.\"   </p>\n  \n  <p>Not too fast. SAP plugs some Tomcat EE 6 from the SAP\n  Cloud into the legacy Java EE 5 NetWeaver Java? And only this plug-in\n  will be harmonized with the SAP Cloud (that is good enough with Java\n  EE 6 Web Profile) and support Java EE 6 features?   </p>\n  \n  <p>Sounds like\n  Tobias' answer \"Never\" to the question \"When will SAP AS Java EE 6/7\n  see the light\" remains correct. SAP NetWeaver AS Java itself will stay\n  on Java EE 5 forever.</p>\n</blockquote>\n"}],"owner":{"account_id":218720,"reputation":715,"user_id":475191,"accept_rate":33,"display_name":"David Harris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25401487,"answer_count":1,"score":0,"last_activity_date":1687499572,"creation_date":1408481430,"question_id":25392730,"body_markdown":"Has anyone been able to use Hibernate 4.3 in an application running on NetWeaver AS Java 7.3.  I followed the example [here](http://scn.sap.com/docs/DOC-1349) to use the Heavy Resources class loader by creating a Hibernate application library container project which contains the following jar files:\r\n\r\n - `antlr-2.7.7.jar`\r\n - `dom4j-1.6.1.jar`\r\n - `hibernate-commons-annotations-4.0.5.Final.jar`\r\n - `hibernate-core-4.3.6.Final.jar`\r\n - `hibernate-jpa-2.1-api-1.0.0.Final.jar`\r\n - `jandex-1.1.0.Final.jar`\r\n - `javassist-3.18.1-GA.jar`\r\n - `jboss-logging-3.1.3.GA.jar`\r\n - `jboss-logging-annotations-1.2.0.Beta1.jar`\r\n - `jboss-transaction-api_1.2_spec-1.0.0.Final.jar`\r\n - `xml-apis-1.0.b2.jar`\r\n\r\nI then deploy the `Hibernate.ear` and I add it as a reference in my apps `application-j2ee-engine.xml` file:\r\n\r\n    &lt;reference reference-type=&quot;hard&quot;&gt;\r\n    \t&lt;reference-target provider-name=&quot;sap.com&quot; target-type=&quot;application&quot;&gt;Hibernate&lt;/reference-target&gt;\r\n    &lt;/reference&gt;\r\n\r\n\r\nMy application can find the hibernate jars and use them but I’m getting the following error:\r\n\r\n&gt; java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/ForeignKey\r\n\r\nThis happens when older version of the JPA API are used by Hibernate.  Hibernate 4 uses the 2.1 version of the JPA API and so needs the classes in the `hibernate-jpa-2.1-api-1.0.0.Final.jar` file instead of the ones provided by NetWeaver which are JPA 1.0.  \r\n  \r\nI believe that the app is getting the 1.0 version of the JPA classes because the Heavy Resources classloader is delegating to its parent class loader first when looking for the `javax.persistence.*` classes and so its finding the 1.0 JPA API classes there and not getting them from the JAR defined in the `Hibernate.ear` application like I was hoping it would.  \r\n\r\nIs there any way to specify that the Heavy Resources class loader becomes child first type class loader? Or has anyone found another way to use Hibernate 4.3 in NetWeaver 7.3?\r\n\r\nI&#39;m not familiar with NetWeaver at all so any guidance would be appreciated.\r\n\r\nThanks","title":"Can Hibernate 4.3 be used on NetWeaver 7.3","body":"<p>Has anyone been able to use Hibernate 4.3 in an application running on NetWeaver AS Java 7.3.  I followed the example <a href=\"http://scn.sap.com/docs/DOC-1349\" rel=\"nofollow noreferrer\">here</a> to use the Heavy Resources class loader by creating a Hibernate application library container project which contains the following jar files:</p>\n<ul>\n<li><code>antlr-2.7.7.jar</code></li>\n<li><code>dom4j-1.6.1.jar</code></li>\n<li><code>hibernate-commons-annotations-4.0.5.Final.jar</code></li>\n<li><code>hibernate-core-4.3.6.Final.jar</code></li>\n<li><code>hibernate-jpa-2.1-api-1.0.0.Final.jar</code></li>\n<li><code>jandex-1.1.0.Final.jar</code></li>\n<li><code>javassist-3.18.1-GA.jar</code></li>\n<li><code>jboss-logging-3.1.3.GA.jar</code></li>\n<li><code>jboss-logging-annotations-1.2.0.Beta1.jar</code></li>\n<li><code>jboss-transaction-api_1.2_spec-1.0.0.Final.jar</code></li>\n<li><code>xml-apis-1.0.b2.jar</code></li>\n</ul>\n<p>I then deploy the <code>Hibernate.ear</code> and I add it as a reference in my apps <code>application-j2ee-engine.xml</code> file:</p>\n<pre><code>&lt;reference reference-type=&quot;hard&quot;&gt;\n    &lt;reference-target provider-name=&quot;sap.com&quot; target-type=&quot;application&quot;&gt;Hibernate&lt;/reference-target&gt;\n&lt;/reference&gt;\n</code></pre>\n<p>My application can find the hibernate jars and use them but I’m getting the following error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/ForeignKey</p>\n</blockquote>\n<p>This happens when older version of the JPA API are used by Hibernate.  Hibernate 4 uses the 2.1 version of the JPA API and so needs the classes in the <code>hibernate-jpa-2.1-api-1.0.0.Final.jar</code> file instead of the ones provided by NetWeaver which are JPA 1.0.</p>\n<p>I believe that the app is getting the 1.0 version of the JPA classes because the Heavy Resources classloader is delegating to its parent class loader first when looking for the <code>javax.persistence.*</code> classes and so its finding the 1.0 JPA API classes there and not getting them from the JAR defined in the <code>Hibernate.ear</code> application like I was hoping it would.</p>\n<p>Is there any way to specify that the Heavy Resources class loader becomes child first type class loader? Or has anyone found another way to use Hibernate 4.3 in NetWeaver 7.3?</p>\n<p>I'm not familiar with NetWeaver at all so any guidance would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","postman","microservices"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1687500642,"post_id":76537409,"comment_id":134948262,"body_markdown":"What is your actual problem: that you cannot serve a proper answer (content type doesn&#39;t match the actual content), that you do not evaluate all headers (maybe this is a compressed answer, but you do not show all headers) or that you get Postman to handle the incorrect answer in a way you would prefer?","body":"What is your actual problem: that you cannot serve a proper answer (content type doesn&#39;t match the actual content), that you do not evaluate all headers (maybe this is a compressed answer, but you do not show all headers) or that you get Postman to handle the incorrect answer in a way you would prefer?"},{"owner":{"account_id":28878194,"reputation":1,"user_id":22118219,"display_name":"Naresh Naidu"},"score":0,"creation_date":1687622043,"post_id":76537409,"comment_id":134963936,"body_markdown":"When I testing the API to download the document, I&#39;m receiving 200 response and the required Data. But the problem is the document data receiving in Base64 encoder format like &lt;fileName&gt;&quot;my-file.pdf&quot;&lt;/fileName&gt;\n    &lt;docContent&gt;JVBERi0xLjcKJeLjz9MNCj...&lt;/docContent&gt; . I need to save  or view the document. I don&#39;t know how to do that.","body":"When I testing the API to download the document, I&#39;m receiving 200 response and the required Data. But the problem is the document data receiving in Base64 encoder format like &lt;fileName&gt;&quot;my-file.pdf&quot;&lt;/fileName&gt;     &lt;docContent&gt;JVBERi0xLjcKJeLjz9MNCj...&lt;/docContent&gt; . I need to save  or view the document. I don&#39;t know how to do that."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687730340,"post_id":76537409,"comment_id":134973549,"body_markdown":"So your problem is that the endpoint you call does encode the body in bas64 which is completely unnecessary since XML is a pure text format and there is no need to encode it in base64. Do you have any control over the endpoint? HTTP could transfer binary data directly and base64 endcoding is usually used for mail attachments, not for HTTP requests.","body":"So your problem is that the endpoint you call does encode the body in bas64 which is completely unnecessary since XML is a pure text format and there is no need to encode it in base64. Do you have any control over the endpoint? HTTP could transfer binary data directly and base64 endcoding is usually used for mail attachments, not for HTTP requests."},{"owner":{"account_id":28878194,"reputation":1,"user_id":22118219,"display_name":"Naresh Naidu"},"score":0,"creation_date":1687837684,"post_id":76537409,"comment_id":134988733,"body_markdown":"No, I don&#39;t have control. I&#39;m just consuming the API which the other team provided us.","body":"No, I don&#39;t have control. I&#39;m just consuming the API which the other team provided us."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687892849,"post_id":76537409,"comment_id":135000071,"body_markdown":"so effectively you should report a but against that API as the Content-Type header does not match the content.\nIn Postman you probably don&#39;t have a chance other than to save the answer into a file (or copy it to the clipboard) and use another external tool (`base64` in Linux e.g. or an online tool) to decode the answer. In software you will have to treat that kind of API very special (=&gt; send a request &quot;manually&quot; and handle the answer &quot;manually&quot;), I doubt that you will find a framework that can handle this broken state automatically.","body":"so effectively you should report a but against that API as the Content-Type header does not match the content. In Postman you probably don&#39;t have a chance other than to save the answer into a file (or copy it to the clipboard) and use another external tool (<code>base64</code> in Linux e.g. or an online tool) to decode the answer. In software you will have to treat that kind of API very special (=&gt; send a request &quot;manually&quot; and handle the answer &quot;manually&quot;), I doubt that you will find a framework that can handle this broken state automatically."}],"owner":{"account_id":28878194,"reputation":1,"user_id":22118219,"display_name":"Naresh Naidu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687499378,"creation_date":1687499378,"question_id":76537409,"body_markdown":"I&#39;m hitting URL in Postman to download the document but receiving docContent in Base64 Encoder format.\r\n\r\n\r\nI&#39;m using JAVA EE framework for microservices\r\n\r\nURL: https://testURL.com/getDocument\r\n\r\nContent-Type: application/xml\r\n\r\n&lt;docContent&gt;JVBTEKJhekjdjhjkegje....&lt;/docContent&gt;\r\n\r\nHow can I decode in Postman and download the document in local?","title":"Receiving Document Content in Base64 Encoder format in Postman","body":"<p>I'm hitting URL in Postman to download the document but receiving docContent in Base64 Encoder format.</p>\n<p>I'm using JAVA EE framework for microservices</p>\n<p>URL: <a href=\"https://testURL.com/getDocument\" rel=\"nofollow noreferrer\">https://testURL.com/getDocument</a></p>\n<p>Content-Type: application/xml</p>\n<p>JVBTEKJhekjdjhjkegje....</p>\n<p>How can I decode in Postman and download the document in local?</p>\n"},{"tags":["java","web-services","soap","wsdl","netweaver"],"answers":[{"comments":[{"owner":{"account_id":4359937,"reputation":27,"user_id":3557388,"display_name":"user3557388"},"score":0,"creation_date":1442501725,"post_id":32632584,"comment_id":53115784,"body_markdown":"Okay, makes sense. So I just found out that the way to pass parameters is if you set the tick on pass value... so I attempted to make a WSDL out of a C= A+B. service. Here I do get ability to actualy call the adition. I think that I missunderstood some basics of how all this works. Is there any good guide or documentaton that you can suggest?","body":"Okay, makes sense. So I just found out that the way to pass parameters is if you set the tick on pass value... so I attempted to make a WSDL out of a C= A+B. service. Here I do get ability to actualy call the adition. I think that I missunderstood some basics of how all this works. Is there any good guide or documentaton that you can suggest?"},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1442505234,"post_id":32632584,"comment_id":53118187,"body_markdown":"I don&#39;t know (I&#39;m not a WS expert), and apart from that, asking for external documentation is off-topic here :-)","body":"I don&#39;t know (I&#39;m not a WS expert), and apart from that, asking for external documentation is off-topic here :-)"}],"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442499309,"creation_date":1442499309,"answer_id":32632584,"question_id":32630194,"body_markdown":"`WRITE` is used to produce ABAP lists for interactive display of offline usage within the ABAP system. It is not suitable for web services in any way. Since your function does not appear to have any parameters, it doesn&#39;t make much sense to turn it into a web service - I wouldn&#39;t expect anything but an empty WSDL file in this case...","title":"SAP WSDL&#39;s being generated incomplete","body":"<p><code>WRITE</code> is used to produce ABAP lists for interactive display of offline usage within the ABAP system. It is not suitable for web services in any way. Since your function does not appear to have any parameters, it doesn't make much sense to turn it into a web service - I wouldn't expect anything but an empty WSDL file in this case...</p>\n"}],"owner":{"account_id":4359937,"reputation":27,"user_id":3557388,"display_name":"user3557388"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687499367,"creation_date":1442492443,"question_id":32630194,"body_markdown":"I recently tried to create a basic Hello World web service (through the Function Builder), and turn it into a WSDL. Then using (Java) wsimport function turning it into java files.\r\n\r\nThe function looks like this:\r\n\r\n    FUNCTION ZWEBSERVICE1.\r\n      write: / &#39;hello world&#39;.\r\n    ENDFUNCTION.\r\n\r\nThe first problem I encountered is while executing wsimport. I got a error that states that wsdl:service is not in the file. After googling a while, I found no discussions/solutions to that problem. So I just wrote:\r\n\r\n      &lt;wsdl:service name=&quot;ZWEBSERVICE1&quot;&gt;\r\n    \r\n      &lt;/wsdl:service&gt;\r\n\r\ninto the file, and executed wsimport  again, and got my .java and .class files.\r\n\r\nThe next problem I encountered is that the ZWEBSERVICE1.java class is somewhat empty... It looks like this:\r\n\r\n    ...\r\n    public class ZWEBSERVICE1 {\r\n    \r\n    }\r\n\r\n...  so now I am at my wits end, and hope that someone can give me some insight in what I did wrong.\r\n\r\nI posted this as discussion on SAP, so if there are any changes there I will update this topic: http://scn.sap.com/thread/3800470\r\n","title":"SAP WSDL&#39;s being generated incomplete","body":"<p>I recently tried to create a basic Hello World web service (through the Function Builder), and turn it into a WSDL. Then using (Java) wsimport function turning it into java files.</p>\n<p>The function looks like this:</p>\n<pre><code>FUNCTION ZWEBSERVICE1.\n  write: / 'hello world'.\nENDFUNCTION.\n</code></pre>\n<p>The first problem I encountered is while executing wsimport. I got a error that states that wsdl:service is not in the file. After googling a while, I found no discussions/solutions to that problem. So I just wrote:</p>\n<pre><code>  &lt;wsdl:service name=&quot;ZWEBSERVICE1&quot;&gt;\n\n  &lt;/wsdl:service&gt;\n</code></pre>\n<p>into the file, and executed wsimport  again, and got my .java and .class files.</p>\n<p>The next problem I encountered is that the ZWEBSERVICE1.java class is somewhat empty... It looks like this:</p>\n<pre><code>...\npublic class ZWEBSERVICE1 {\n\n}\n</code></pre>\n<p>...  so now I am at my wits end, and hope that someone can give me some insight in what I did wrong.</p>\n<p>I posted this as discussion on SAP, so if there are any changes there I will update this topic: <a href=\"http://scn.sap.com/thread/3800470\" rel=\"nofollow noreferrer\">http://scn.sap.com/thread/3800470</a></p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":2,"creation_date":1554824274,"post_id":55596422,"comment_id":97889555,"body_markdown":"Welcome to SO.Please provide some html code you are looking for an element as well the code you have tried so far.This would help other contributor to help you out.","body":"Welcome to SO.Please provide some html code you are looking for an element as well the code you have tried so far.This would help other contributor to help you out."}],"answers":[{"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554878332,"creation_date":1554851063,"answer_id":55602481,"question_id":55596422,"body_markdown":"You can use the below xpath to select the link\r\n\r\n    //a[@class=&#39;nav-a nav-a-2&#39; and @data-nav-role=&#39;signin&#39;]\r\n\r\nOr you should be good with \r\n\r\n    //a[@data-nav-role=&#39;signin&#39;]\r\n\r\nCSS locator \r\n\r\n    a[data-nav-role=&#39;signin&#39;]","title":"How to locate an element using Selenium and Java","body":"<p>You can use the below xpath to select the link</p>\n\n<pre><code>//a[@class='nav-a nav-a-2' and @data-nav-role='signin']\n</code></pre>\n\n<p>Or you should be good with </p>\n\n<pre><code>//a[@data-nav-role='signin']\n</code></pre>\n\n<p>CSS locator </p>\n\n<pre><code>a[data-nav-role='signin']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554877773,"creation_date":1554877773,"answer_id":55606047,"question_id":55596422,"body_markdown":"Possibly you are trying to `click()` on the element with text as **Sign in** on [amazon.in](http://www.amazon.in) and to achieve that you need to:\r\n\r\n- _Mouse Hover_ the element with text as **Your Orders** / **Account &amp; Lists**\r\n- _Click_ on the element with text as **Sign in**\r\n- You can use the follwing solution:\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;http://www.amazon.in&quot;);\r\n\t\tnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id=&#39;nav-tools&#39;]/a//span[@class=&#39;nav-line-2&#39;]&quot;)))).build().perform();\r\n\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@class=&#39;nav-action-inner&#39; and text()=&#39;Sign in&#39;]&quot;))).click();","title":"How to locate an element using Selenium and Java","body":"<p>Possibly you are trying to <code>click()</code> on the element with text as <strong>Sign in</strong> on <a href=\"http://www.amazon.in\" rel=\"nofollow noreferrer\">amazon.in</a> and to achieve that you need to:</p>\n\n<ul>\n<li><em>Mouse Hover</em> the element with text as <strong>Your Orders</strong> / <strong>Account &amp; Lists</strong></li>\n<li><em>Click</em> on the element with text as <strong>Sign in</strong></li>\n<li><p>You can use the follwing solution:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Utility\\\\BrowserDrivers\\\\chromedriver.exe\");\nWebDriver driver = new ChromeDriver();\ndriver.get(\"http://www.amazon.in\");\nnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//div[@id='nav-tools']/a//span[@class='nav-line-2']\")))).build().perform();\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//span[@class='nav-action-inner' and text()='Sign in']\"))).click();\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8303225,"reputation":83697,"user_id":6241235,"accept_rate":94,"display_name":"QHarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554878195,"creation_date":1554878195,"answer_id":55606156,"question_id":55596422,"body_markdown":"There is an id so use that as the fastest selector method\r\n\r\n    #nav-link-accountList","title":"How to locate an element using Selenium and Java","body":"<p>There is an id so use that as the fastest selector method</p>\n\n<pre><code>#nav-link-accountList\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429101,"reputation":1464,"user_id":7013205,"display_name":"S Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554887134,"creation_date":1554887134,"answer_id":55608698,"question_id":55596422,"body_markdown":"Looks like you are trying to click the third span element under the anchor element you have given. The XPath used which is giving the error is not for the element you&#39;ve given. \r\n\r\nThe given element has an id. So you can directly locate the element by id.\r\n\r\n**Using ID:** \r\n\r\n    Webdriver driver = new ChromeDriver();    \r\n    driver.findElement(By.id(&quot;nav-link-accountList&quot;));\r\n\r\n**Using Css Selector:**\r\n\r\n    Webdriver driver = new ChromeDriver();\r\n    driver.findElement(By.cssSelector(&quot;#nav-link-accountList&quot;));\r\n\r\n**Using XPath:**\r\n\r\n    Webdriver driver = new ChromeDriver();\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;nav-link-accountList&#39;]&quot;));\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to locate an element using Selenium and Java","body":"<p>Looks like you are trying to click the third span element under the anchor element you have given. The XPath used which is giving the error is not for the element you've given. </p>\n\n<p>The given element has an id. So you can directly locate the element by id.</p>\n\n<p><strong>Using ID:</strong> </p>\n\n<pre><code>Webdriver driver = new ChromeDriver();    \ndriver.findElement(By.id(\"nav-link-accountList\"));\n</code></pre>\n\n<p><strong>Using Css Selector:</strong></p>\n\n<pre><code>Webdriver driver = new ChromeDriver();\ndriver.findElement(By.cssSelector(\"#nav-link-accountList\"));\n</code></pre>\n\n<p><strong>Using XPath:</strong></p>\n\n<pre><code>Webdriver driver = new ChromeDriver();\ndriver.findElement(By.xpath(\"//*[@id='nav-link-accountList']\"));\n</code></pre>\n"}],"owner":{"account_id":15709686,"reputation":11,"user_id":11335485,"display_name":"Nikhil Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1687498971,"creation_date":1554823995,"question_id":55596422,"body_markdown":"I didn&#39;t recognize locator in given code to perform automation testing.\r\n\r\nHTML of the element:\r\n\r\n    &lt;a href=&quot;https://www.amazon.in/ap/signin?openid.pape.max_auth_age=0&amp;openid.retu…%2Fidentifier_select&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;&quot; class=&quot;nav-a nav-a-2&quot; data-nav-ref=&quot;nav_ya_signin&quot; data-nav-role=&quot;signin&quot; data-ux-jq-mouseenter=&quot;true&quot; id=&quot;nav-link-accountList&quot; tabindex=&quot;25&quot;&gt;\r\n\r\nError stack trace:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&#39;nav-link-accountList&#39;]/span[3]&quot;}\r\n      (Session info: chrome=73.0.3683.86)\r\n      (Driver info: chromedriver=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9),platform=Windows NT 10.0.17134 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 10.10 seconds\r\n    For documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\r\n    Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;LAPTOP-118FCQKH&#39;, ip: &#39;192.168.43.44&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_181&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9), userDataDir=C:\\Users\\Hp\\AppData\\Local\\Temp\\scoped_dir5888_21816}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=73.0.3683.86, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\r\n    Session ID: 107d4a42af64419e98016e7927c7dde3\r\n    *** Element info: {Using=xpath, value=//*[@id=&#39;nav-link-accountList&#39;]/span[3]}","title":"How to locate an element using Selenium and Java","body":"<p>I didn't recognize locator in given code to perform automation testing.</p>\n\n<p>HTML of the element:</p>\n\n<pre><code>&lt;a href=\"https://www.amazon.in/ap/signin?openid.pape.max_auth_age=0&amp;openid.retu…%2Fidentifier_select&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;\" class=\"nav-a nav-a-2\" data-nav-ref=\"nav_ya_signin\" data-nav-role=\"signin\" data-ux-jq-mouseenter=\"true\" id=\"nav-link-accountList\" tabindex=\"25\"&gt;\n</code></pre>\n\n<p>Error stack trace:</p>\n\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//*[@id='nav-link-accountList']/span[3]\"}\n  (Session info: chrome=73.0.3683.86)\n  (Driver info: chromedriver=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9),platform=Windows NT 10.0.17134 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 10.10 seconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'LAPTOP-118FCQKH', ip: '192.168.43.44', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_181'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9), userDataDir=C:\\Users\\Hp\\AppData\\Local\\Temp\\scoped_dir5888_21816}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=73.0.3683.86, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\nSession ID: 107d4a42af64419e98016e7927c7dde3\n*** Element info: {Using=xpath, value=//*[@id='nav-link-accountList']/span[3]}\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-3"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674807993,"creation_date":1674807993,"answer_id":75255590,"question_id":75251175,"body_markdown":"I think you should get this to work by declaring `R` like this:\r\n\r\n    &lt;R extends CrudRepositor&lt;E, K&gt; &amp; PagingAndSortingRepository&lt;E, K&gt;, …&gt;\r\n","title":"spring data 3.0 PagingAndSortingRepository, migrating from 2.0","body":"<p>I think you should get this to work by declaring <code>R</code> like this:</p>\n<pre><code>&lt;R extends CrudRepositor&lt;E, K&gt; &amp; PagingAndSortingRepository&lt;E, K&gt;, …&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675007871,"creation_date":1675007871,"answer_id":75276268,"question_id":75251175,"body_markdown":"You can see a graphical representation of the difference between spring boot 2 and spring boot 3 under this [previous answer][1]\r\n\r\nAs to how to fix your code during this migration you should change the\r\n\r\n    public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt; ...\r\n\r\ninto \r\n\r\n    public abstract class AbstractBaseServiceImpl&lt;R extends JpaRepository&lt;E, K&gt; ...\r\n\r\n  [1]: https://stackoverflow.com/a/74512964/7237884\r\n","title":"spring data 3.0 PagingAndSortingRepository, migrating from 2.0","body":"<p>You can see a graphical representation of the difference between spring boot 2 and spring boot 3 under this <a href=\"https://stackoverflow.com/a/74512964/7237884\">previous answer</a></p>\n<p>As to how to fix your code during this migration you should change the</p>\n<pre><code>public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt; ...\n</code></pre>\n<p>into</p>\n<pre><code>public abstract class AbstractBaseServiceImpl&lt;R extends JpaRepository&lt;E, K&gt; ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687498960,"creation_date":1687498960,"answer_id":76537369,"question_id":75251175,"body_markdown":"I had a similar issue when using AerospikeRepository which extends PagingAndSortingRepository. Uprading spring-data-aerospike to &gt;=4.1.0 version worked for me. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can also extend to CrudRepository&lt;T, ID&gt; seperately.\r\n\r\n    public interface AerospikeRepository&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt;, PagingAndSortingRepository&lt;T, ID&gt; {\r\n\r\nyou can refer to [spring-data-aerospike][1] repo\r\n\r\n\r\n  [1]: https://github.com/aerospike/spring-data-aerospike/blob/main/src/main/java/org/springframework/data/aerospike/repository/AerospikeRepository.java","title":"spring data 3.0 PagingAndSortingRepository, migrating from 2.0","body":"<p>I had a similar issue when using AerospikeRepository which extends PagingAndSortingRepository. Uprading spring-data-aerospike to &gt;=4.1.0 version worked for me.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can also extend to CrudRepository&lt;T, ID&gt; seperately.</p>\n<pre><code>public interface AerospikeRepository&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt;, PagingAndSortingRepository&lt;T, ID&gt; {\n</code></pre>\n<p>you can refer to <a href=\"https://github.com/aerospike/spring-data-aerospike/blob/main/src/main/java/org/springframework/data/aerospike/repository/AerospikeRepository.java\" rel=\"nofollow noreferrer\">spring-data-aerospike</a> repo</p>\n"}],"owner":{"account_id":1538362,"reputation":35,"user_id":1433705,"display_name":"Onni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687498960,"creation_date":1674764019,"question_id":75251175,"body_markdown":"This might be a stupid question to any java knowledged person, but me just looking at from logical point of it doesn&#39;t seem to be that simple.\r\n\r\nPreviously when PagingAndSortingRepository extended CrudRepository in spring data 2.0, we had this piece of code which worked just fine\r\n\r\n    public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt;, E extends AbstractBaseEntity, K extends Serializable, M&gt; implements AbstractBaseService&lt;E, K, M&gt; {\r\n\r\n        protected Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n        protected R repository;\r\n\r\nNow when trying to use spring boot 3, this for example won&#39;t work\r\n\r\n    E entity = repository.findById(id).orElse(null);\r\n\r\nBecause PagingAndSortingRepository doesn&#39;t have findById anymore, since it&#39;s inherited from CrudRepository.\r\nI kinda found the solution to this, https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0 , but can&#39;t figure out how to implement the fix here. Any syntax I tried doesn&#39;t work.\r\n\r\nTried this, it doesn&#39;t seem to be right\r\n\r\n    public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt;, CrudRepository&lt;E, K&gt;, E extends AbstractBaseEntity, K extends Serializable, M&gt; implements AbstractBaseService&lt;E, K, M&gt; {\r\n\r\nSo, hopefully I&#39;ll get a quick fix from here and maybe learn something on the way :)","title":"spring data 3.0 PagingAndSortingRepository, migrating from 2.0","body":"<p>This might be a stupid question to any java knowledged person, but me just looking at from logical point of it doesn't seem to be that simple.</p>\n<p>Previously when PagingAndSortingRepository extended CrudRepository in spring data 2.0, we had this piece of code which worked just fine</p>\n<pre><code>public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt;, E extends AbstractBaseEntity, K extends Serializable, M&gt; implements AbstractBaseService&lt;E, K, M&gt; {\n\n    protected Logger logger = LoggerFactory.getLogger(getClass());\n\n    protected R repository;\n</code></pre>\n<p>Now when trying to use spring boot 3, this for example won't work</p>\n<pre><code>E entity = repository.findById(id).orElse(null);\n</code></pre>\n<p>Because PagingAndSortingRepository doesn't have findById anymore, since it's inherited from CrudRepository.\nI kinda found the solution to this, <a href=\"https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0</a> , but can't figure out how to implement the fix here. Any syntax I tried doesn't work.</p>\n<p>Tried this, it doesn't seem to be right</p>\n<pre><code>public abstract class AbstractBaseServiceImpl&lt;R extends PagingAndSortingRepository&lt;E, K&gt;, CrudRepository&lt;E, K&gt;, E extends AbstractBaseEntity, K extends Serializable, M&gt; implements AbstractBaseService&lt;E, K, M&gt; {\n</code></pre>\n<p>So, hopefully I'll get a quick fix from here and maybe learn something on the way :)</p>\n"},{"tags":["java","migration","e-commerce","netweaver"],"comments":[{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":0,"creation_date":1509716899,"post_id":46936059,"comment_id":81144204,"body_markdown":"Are you using the NetWeaver Developer Studio to produce these errors?","body":"Are you using the NetWeaver Developer Studio to produce these errors?"},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":0,"creation_date":1509717483,"post_id":46936059,"comment_id":81144581,"body_markdown":"Sorry, got pulled away prior to completing my comment...\n\nThere are a couple of considerations... When upgrading/migrating was the upgraded selection for the ISA in the same system (R/3 vs CRM) this would change the libraries for the supporting applications.  \n\nCould reference: SAP R3 Internet sales or CRM internet sales which are mutually exclusive as far as I know.","body":"Sorry, got pulled away prior to completing my comment...  There are a couple of considerations... When upgrading/migrating was the upgraded selection for the ISA in the same system (R/3 vs CRM) this would change the libraries for the supporting applications.    Could reference: SAP R3 Internet sales or CRM internet sales which are mutually exclusive as far as I know."},{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1509722872,"post_id":46936059,"comment_id":81148320,"body_markdown":"@EricD yes i&#39;m using net weaver dev studio. they are using crm internet sales","body":"@EricD yes i&#39;m using net weaver dev studio. they are using crm internet sales"}],"answers":[{"comments":[{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1509744288,"post_id":47103808,"comment_id":81159741,"body_markdown":"Thanks for your answer, if you are kind enough to take a look  with my other question, greetings!","body":"Thanks for your answer, if you are kind enough to take a look  with my other question, greetings!"},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":0,"creation_date":1509860469,"post_id":47103808,"comment_id":81186931,"body_markdown":"No problem.  I only have mobile access until Monday, I will take a look at it then.","body":"No problem.  I only have mobile access until Monday, I will take a look at it then."}],"tags":[],"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509740867,"creation_date":1509740089,"answer_id":47103808,"question_id":46936059,"body_markdown":"@B.J.A.A.  Sorry for the delay... busy, busy.\r\n\r\nI had a similar problem in an older version of NetWeaver. I found the errors were only in the studio.  If I published to our development/quality environment where the libraries existed, there were no operational errors. \r\n\r\nIn turn I had to find the API library and import it into NWDS for the errors to go away in the studio.  However, it seems you may have another issue to contend with as well.\r\n\r\nfrom: https://archive.sap.com/discussions/thread/3693074\r\n\r\n&gt; SAP ISA is available for 7.0x NetWeaver AND for 7.3x/7.4x Java\r\n&gt; environments - BUT careful, you have to download different SCA files -\r\n&gt; it is phyiscally not 100% same code as the code was migrated from 7.0x\r\n&gt; to 7.3x and higher.\r\n\r\nScroll down past the &quot;Correct Answer&quot; there are several migration posts that may be helpful concerning the ISA functionality. But the result is the libraries are not the same from 7.0 to 7.3.\r\n\r\ncom.sap.ica resides in the SAPSHRJAV component.  The older links I have are no longer valid as SAP is overhauling much of their online resources. Once you get the library, run an import into your NWDS environment.\r\n\r\n\r\nSome other links that may be helpful:\r\n\r\n - https://blog.boris-wach.de/permalink/141\r\n - https://help.sap.com/doc/javadocs_nw74_sps03/7.4.3/en-US/index.html\r\n\r\nHopefully this helps.  Good luck!\r\n\r\n*edit*\r\nFound where to download:\r\n\r\n - go to the new SAP ONE Support Launchpad\r\n - change the top drop-down to downloads\r\n - enter &quot;sapshrjav&quot; into the search... you will get a list of various versions\r\n","title":"Migrating SAP NetWeaver 7.0 project to 7.4","body":"<p>@B.J.A.A.  Sorry for the delay... busy, busy.</p>\n\n<p>I had a similar problem in an older version of NetWeaver. I found the errors were only in the studio.  If I published to our development/quality environment where the libraries existed, there were no operational errors. </p>\n\n<p>In turn I had to find the API library and import it into NWDS for the errors to go away in the studio.  However, it seems you may have another issue to contend with as well.</p>\n\n<p>from: <a href=\"https://archive.sap.com/discussions/thread/3693074\" rel=\"nofollow noreferrer\">https://archive.sap.com/discussions/thread/3693074</a></p>\n\n<blockquote>\n  <p>SAP ISA is available for 7.0x NetWeaver AND for 7.3x/7.4x Java\n  environments - BUT careful, you have to download different SCA files -\n  it is phyiscally not 100% same code as the code was migrated from 7.0x\n  to 7.3x and higher.</p>\n</blockquote>\n\n<p>Scroll down past the \"Correct Answer\" there are several migration posts that may be helpful concerning the ISA functionality. But the result is the libraries are not the same from 7.0 to 7.3.</p>\n\n<p>com.sap.ica resides in the SAPSHRJAV component.  The older links I have are no longer valid as SAP is overhauling much of their online resources. Once you get the library, run an import into your NWDS environment.</p>\n\n<p>Some other links that may be helpful:</p>\n\n<ul>\n<li><a href=\"https://blog.boris-wach.de/permalink/141\" rel=\"nofollow noreferrer\">https://blog.boris-wach.de/permalink/141</a></li>\n<li><a href=\"https://help.sap.com/doc/javadocs_nw74_sps03/7.4.3/en-US/index.html\" rel=\"nofollow noreferrer\">https://help.sap.com/doc/javadocs_nw74_sps03/7.4.3/en-US/index.html</a></li>\n</ul>\n\n<p>Hopefully this helps.  Good luck!</p>\n\n<p><em>edit</em>\nFound where to download:</p>\n\n<ul>\n<li>go to the new SAP ONE Support Launchpad</li>\n<li>change the top drop-down to downloads</li>\n<li>enter \"sapshrjav\" into the search... you will get a list of various versions</li>\n</ul>\n"}],"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47103808,"answer_count":1,"score":3,"last_activity_date":1687498729,"creation_date":1508944335,"question_id":46936059,"body_markdown":"I&#39;m migrating a SAP B2B Commerce project from version 7.0 to 7.4, with the previous version of java 1.4 to 1.7.\r\n\r\nRight now I have no java errors, but this error messages in the JSP file:\r\n\r\n    //the import sap api couldn&#39;t not be resolved\r\n    &lt;%@ page import=&quot;com.sap.isa.core.util.WebUtil&quot; %&gt;\r\n    \r\n    &lt;%@ page import=&quot;java.util.Iterator&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.math.BigDecimal&quot; %&gt;\r\n    \r\n    //Can not find the tag library descriptor for &quot;/isa&quot;\r\n    &lt;%@ taglib uri=&quot;/isa&quot; prefix=&quot;isa&quot; %&gt;\r\n\r\nI have been checking the web.xml files and turns out that there are references to a few `*.tld` files that are missing, those files  describe groups of custom tags with their name, implementation class, body content, attributes and variables.\r\n\r\nI think that could be the problem but I&#39;m not sure if those files were lost while the project was migrated to the newer version.\r\n(Note: I didn&#39;t do that migration, I&#39;m just fixing it to make it work again)\r\n\r\nAny thoughts on this? I&#39;m quite new to SAP applications and anything related to it.\r\n\r\n**UPDATE**\r\n\r\nIt looks like a package/component is missing (com.sap.isa), [I have read a similar problem in this page][1], but since I don&#39;t have access permissions to download such component I can&#39;t try the solution, also I was told that before the migration, they didn&#39;t had such component (and the project worked) nor after the migration.\r\n\r\nI&#39;ve never been involved in the development, just in the migration of it, so I don&#39;t know many details of the configuration of it.\r\n\r\n  [1]: https://archive.sap.com/discussions/thread/1836471","title":"Migrating SAP NetWeaver 7.0 project to 7.4","body":"<p>I'm migrating a SAP B2B Commerce project from version 7.0 to 7.4, with the previous version of java 1.4 to 1.7.</p>\n<p>Right now I have no java errors, but this error messages in the JSP file:</p>\n<pre><code>//the import sap api couldn't not be resolved\n&lt;%@ page import=&quot;com.sap.isa.core.util.WebUtil&quot; %&gt;\n\n&lt;%@ page import=&quot;java.util.Iterator&quot; %&gt;\n&lt;%@ page import=&quot;java.math.BigDecimal&quot; %&gt;\n\n//Can not find the tag library descriptor for &quot;/isa&quot;\n&lt;%@ taglib uri=&quot;/isa&quot; prefix=&quot;isa&quot; %&gt;\n</code></pre>\n<p>I have been checking the web.xml files and turns out that there are references to a few <code>*.tld</code> files that are missing, those files  describe groups of custom tags with their name, implementation class, body content, attributes and variables.</p>\n<p>I think that could be the problem but I'm not sure if those files were lost while the project was migrated to the newer version.\n(Note: I didn't do that migration, I'm just fixing it to make it work again)</p>\n<p>Any thoughts on this? I'm quite new to SAP applications and anything related to it.</p>\n<p><strong>UPDATE</strong></p>\n<p>It looks like a package/component is missing (com.sap.isa), <a href=\"https://archive.sap.com/discussions/thread/1836471\" rel=\"nofollow noreferrer\">I have read a similar problem in this page</a>, but since I don't have access permissions to download such component I can't try the solution, also I was told that before the migration, they didn't had such component (and the project worked) nor after the migration.</p>\n<p>I've never been involved in the development, just in the migration of it, so I don't know many details of the configuration of it.</p>\n"},{"tags":["java","migration","crm","netweaver"],"comments":[{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":0,"creation_date":1509989847,"post_id":47104352,"comment_id":81235311,"body_markdown":"Hello @J.A.  did you get this resolved?  I am not 100% sure, but I believe the class reference is in the J2EE environment for the 7.4.  did you do a complete copy-down into the NWDS?  are you able to test in a development environment to see if the issue persists in an upgraded server environment rather than your local client?","body":"Hello @J.A.  did you get this resolved?  I am not 100% sure, but I believe the class reference is in the J2EE environment for the 7.4.  did you do a complete copy-down into the NWDS?  are you able to test in a development environment to see if the issue persists in an upgraded server environment rather than your local client?"},{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1509990165,"post_id":47104352,"comment_id":81235490,"body_markdown":"No, i&#39;m still with this problem, about the second question not sure about it, because i wasn&#39;t involved in the process of initial migration, i&#39;m just fixing some issues, i&#39;m gonna ask. \nAbout the third question i&#39;m new to sap and all this, not sure how to do that..","body":"No, i&#39;m still with this problem, about the second question not sure about it, because i wasn&#39;t involved in the process of initial migration, i&#39;m just fixing some issues, i&#39;m gonna ask.  About the third question i&#39;m new to sap and all this, not sure how to do that.."}],"answers":[{"comments":[{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1509992991,"post_id":47143103,"comment_id":81236825,"body_markdown":"yes, but `This can be easily be fixed to make the necessary imports but I had search for such class, and it&#39;s not in the project, not sure if this class **JEE_jsp_user_logon_login_1509734170000.java** is generated somewhere else, or is unrelated to my components.`","body":"yes, but <code>This can be easily be fixed to make the necessary imports but I had search for such class, and it&#39;s not in the project, not sure if this class **JEE_jsp_user_logon_login_1509734170000.java** is generated somewhere else, or is unrelated to my components.</code>"},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":1,"creation_date":1509995824,"post_id":47143103,"comment_id":81238300,"body_markdown":"modified response. but unfortunately it could be either generated OR a custom component.  Depending on the old system, migration, etc.","body":"modified response. but unfortunately it could be either generated OR a custom component.  Depending on the old system, migration, etc."},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":1,"creation_date":1509996907,"post_id":47143103,"comment_id":81238888,"body_markdown":"I just found a link (added to the response) that should be able to get you to the right place in your environment.","body":"I just found a link (added to the response) that should be able to get you to the right place in your environment."},{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1510004208,"post_id":47143103,"comment_id":81242768,"body_markdown":"How i can identify my portal address? Or can be it accesed from netweaver? also how i can identify the par file i need?","body":"How i can identify my portal address? Or can be it accesed from netweaver? also how i can identify the par file i need?"},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":1,"creation_date":1510068009,"post_id":47143103,"comment_id":81272376,"body_markdown":"It would have to be provided to you by your management.  It is usually something like &quot;https://[server]portal:5000?/irj/portal&quot; (at least in 7.0).  Finding the PAR (remember, post-migration to 7.3 will be EAR not PAR) is a bit more tricky as it&#39;s location depends entirely on how your environment is set up. But once you are in the repository Root\\WEB-INF is the top directory where you will need to look.","body":"It would have to be provided to you by your management.  It is usually something like &quot;https://[server]portal:5000?/irj/portal&quot; (at least in 7.0).  Finding the PAR (remember, post-migration to 7.3 will be EAR not PAR) is a bit more tricky as it&#39;s location depends entirely on how your environment is set up. But once you are in the repository Root\\WEB-INF is the top directory where you will need to look."},{"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"score":0,"creation_date":1510080094,"post_id":47143103,"comment_id":81280104,"body_markdown":"Hey i did try your solution, now i have the first error message i posted X/, the other page still has the same &quot;cannot find symbol&quot;.","body":"Hey i did try your solution, now i have the first error message i posted X/, the other page still has the same &quot;cannot find symbol&quot;."},{"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"score":0,"creation_date":1510150414,"post_id":47143103,"comment_id":81312667,"body_markdown":"You were able to find the component in the repository, Imported it to NWMS, added the includes for the java utilities? And it still doesn’t recognize the symbol?  Also, you stated “the other page” these may be two mutually exclusive issues.","body":"You were able to find the component in the repository, Imported it to NWMS, added the includes for the java utilities? And it still doesn’t recognize the symbol?  Also, you stated “the other page” these may be two mutually exclusive issues."}],"tags":[],"owner":{"account_id":212138,"reputation":506,"user_id":464776,"display_name":"Eric D"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509996778,"creation_date":1509991595,"answer_id":47143103,"question_id":47104352,"body_markdown":"It&#39;s been a while since I&#39;ve had to deal with the NetWeaver environment. Just loaded my old project up. It is not J2EE at all. Iterator is in the java utility class. \r\n\r\ntry importing to your class/page using: \r\n\r\n    import java.util.Iterator;\r\n\r\n_**edit:**_\r\n\r\nMy misunderstanding.  The **JEE_jsp_user_logon_login_1509734170000.java** should be an application code file within your solution.  I cannot say for sure, since each implementation differs by setup. They could have chosen to customize the login, or use the defaults in the masthead.  \r\n\r\n_disclaimer: we are still in 7.0, so your environment may differ_\r\n\r\nFor our implementation (custom), and the assumption that your environment has custom masthead/login as well:\r\n\r\nYou would need to access your repository:\r\n\r\n - Go to your portal (i.e. mydomain.com:00000/irj/portal)\r\n - System Administration\r\n - Portal Runtime\r\n - Browse Deployment\r\n\r\nyou would then need to locate/download the appropriate .PAR file _(file extension changed to .EAR in 7.3 I believe)_.  You can then import the existing component into your solution if it did not already exist.  Then make your changes, and update.  \r\n\r\nThe &quot;JEE_jsp_user_logon&quot; part of the file name should get you into the right area when searching your repo, the rest I would assume is the serial stamp for caching and version control.\r\n\r\nHopefully this helps.\r\n\r\n**this may help: _scroll down to &quot;Modifying the logon page&quot;_**\r\nhttp://www.keytosmart.com/netweaver-7-3-portal-started-part-2-nwds-logon-page/\r\n\r\n","title":"java.lang.NullPointerException: while trying to invoke the method com.sap.isa.core.eai.BackendConfig.getId() of a null object","body":"<p>It's been a while since I've had to deal with the NetWeaver environment. Just loaded my old project up. It is not J2EE at all. Iterator is in the java utility class. </p>\n\n<p>try importing to your class/page using: </p>\n\n<pre><code>import java.util.Iterator;\n</code></pre>\n\n<p><em><strong>edit:</strong></em></p>\n\n<p>My misunderstanding.  The <strong>JEE_jsp_user_logon_login_1509734170000.java</strong> should be an application code file within your solution.  I cannot say for sure, since each implementation differs by setup. They could have chosen to customize the login, or use the defaults in the masthead.  </p>\n\n<p><em>disclaimer: we are still in 7.0, so your environment may differ</em></p>\n\n<p>For our implementation (custom), and the assumption that your environment has custom masthead/login as well:</p>\n\n<p>You would need to access your repository:</p>\n\n<ul>\n<li>Go to your portal (i.e. mydomain.com:00000/irj/portal)</li>\n<li>System Administration</li>\n<li>Portal Runtime</li>\n<li>Browse Deployment</li>\n</ul>\n\n<p>you would then need to locate/download the appropriate .PAR file <em>(file extension changed to .EAR in 7.3 I believe)</em>.  You can then import the existing component into your solution if it did not already exist.  Then make your changes, and update.  </p>\n\n<p>The \"JEE_jsp_user_logon\" part of the file name should get you into the right area when searching your repo, the rest I would assume is the serial stamp for caching and version control.</p>\n\n<p>Hopefully this helps.</p>\n\n<p><strong>this may help: <em>scroll down to \"Modifying the logon page\"</em></strong>\n<a href=\"http://www.keytosmart.com/netweaver-7-3-portal-started-part-2-nwds-logon-page/\" rel=\"nofollow noreferrer\">http://www.keytosmart.com/netweaver-7-3-portal-started-part-2-nwds-logon-page/</a></p>\n"}],"owner":{"account_id":12080476,"reputation":53,"user_id":8832408,"display_name":"J.A.enapsys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687498460,"creation_date":1509742929,"question_id":47104352,"body_markdown":"I&#39;m migrating a SAP B2B Commerce project from version 7.0 to 7.4, with the previous version of Java 1.4 to 1.7.\r\n\r\nI can&#39;t see the login page, instead I see this:\r\n&gt; 500 Internal Server Error message:\r\n&gt;\r\n&gt; Error: ISA Framework: javax.servlet.ServletException: java.lang.NullPointerException: while trying to invoke the method com.sap.isa.core.eai.BackendConfig.getId() of a null object loaded from local variable &#39;config&#39;\r\n\r\nBut after a search in my files, I never see the variable `&#39;config&#39;` or the `com.sap.isa.core.eai.BackendConfig` import.\r\n\r\nWhere is the problem located? and how I can solve this issue?\r\nIs this problem unrelated to my components?\r\n\r\n**UPDATE**\r\n\r\nNow the error message changed to this:\r\n&gt; ```\r\n&gt; /usr/sap/CRP/DVEBMGS26/j2ee/cluster/apps/sap.com/home~icss_s7/servlet_jsp/icss_s7/work/JEE_jsp_user_logon_login_1509734170000.java:448: cannot find symbol\r\n&gt;    symbol  : class Iterator\r\n&gt;    location: class JEE_jsp_user_logon_login_1509734170000\r\n&gt;                                    Iterator it = langTree.iterator();\r\n&gt; ```\r\nI did change nothing at all, just refreshed the page, at least I get five similar errors about not being able to find the class symbol. This can be easily be fixed to make the necessary imports but I had search for such class, and it&#39;s not in the project, not sure if this class `JEE_jsp_user_logon_login_1509734170000.java` is generated somewhere else, or is unrelated to my components.","title":"java.lang.NullPointerException: while trying to invoke the method com.sap.isa.core.eai.BackendConfig.getId() of a null object","body":"<p>I'm migrating a SAP B2B Commerce project from version 7.0 to 7.4, with the previous version of Java 1.4 to 1.7.</p>\n<p>I can't see the login page, instead I see this:</p>\n<blockquote>\n<p>500 Internal Server Error message:</p>\n<p>Error: ISA Framework: javax.servlet.ServletException: java.lang.NullPointerException: while trying to invoke the method com.sap.isa.core.eai.BackendConfig.getId() of a null object loaded from local variable 'config'</p>\n</blockquote>\n<p>But after a search in my files, I never see the variable <code>'config'</code> or the <code>com.sap.isa.core.eai.BackendConfig</code> import.</p>\n<p>Where is the problem located? and how I can solve this issue?\nIs this problem unrelated to my components?</p>\n<p><strong>UPDATE</strong></p>\n<p>Now the error message changed to this:</p>\n<blockquote>\n<pre><code>/usr/sap/CRP/DVEBMGS26/j2ee/cluster/apps/sap.com/home~icss_s7/servlet_jsp/icss_s7/work/JEE_jsp_user_logon_login_1509734170000.java:448: cannot find symbol\n   symbol  : class Iterator\n   location: class JEE_jsp_user_logon_login_1509734170000\n                                   Iterator it = langTree.iterator();\n</code></pre>\n</blockquote>\n<p>I did change nothing at all, just refreshed the page, at least I get five similar errors about not being able to find the class symbol. This can be easily be fixed to make the necessary imports but I had search for such class, and it's not in the project, not sure if this class <code>JEE_jsp_user_logon_login_1509734170000.java</code> is generated somewhere else, or is unrelated to my components.</p>\n"},{"tags":["java","spring","sap-erp","netweaver","sap-pi"],"answers":[{"tags":[],"owner":{"account_id":4690682,"reputation":1676,"user_id":3796873,"display_name":"manuel_b"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550855710,"creation_date":1550855710,"answer_id":54832072,"question_id":50967428,"body_markdown":"Natively SAP doesn&#39;t support REST request and given that JCo is not an option, few solutions can be applied (all of which imply some developments in SAP):\r\n\r\n1. Using PO 7.5 middleware (if available), which can process incoming REST requests through its adapter and convert the request in WS-SOAP for SAP\r\n\r\nclient -&gt; PO (with rest adapter) -&gt; SAP (receiving SOAP XML)\r\n\r\n2. Using SAP Netweaver gateway (if available in your SAP version)\r\n\r\n3. SAP can receive requests through HTTP protocol. Via transaction SICF you can define a new service with the custom logic you need.\r\n\r\n","title":"How to Push Data into SAP which can create a general Ledger using REST","body":"<p>Natively SAP doesn't support REST request and given that JCo is not an option, few solutions can be applied (all of which imply some developments in SAP):</p>\n\n<ol>\n<li>Using PO 7.5 middleware (if available), which can process incoming REST requests through its adapter and convert the request in WS-SOAP for SAP</li>\n</ol>\n\n<p>client -> PO (with rest adapter) -> SAP (receiving SOAP XML)</p>\n\n<ol start=\"2\">\n<li><p>Using SAP Netweaver gateway (if available in your SAP version)</p></li>\n<li><p>SAP can receive requests through HTTP protocol. Via transaction SICF you can define a new service with the custom logic you need.</p></li>\n</ol>\n"}],"owner":{"account_id":13617656,"reputation":1,"user_id":9823142,"display_name":"Rakesh Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687498145,"creation_date":1529580397,"question_id":50967428,"body_markdown":"I&#39;ve zero knowledge on SAP, requirement is, in SAP system there should be an end point which receives a REST request which should be able to create General ledger / store in database using SAP NetWeaver technology.\r\n\r\nFound SAP JCo felt its not appropriate.\r\n\r\n1. Can SAP provide Rest End point Consuming JSON data for POST Body ??\r\n2. if any jars available to transform data or connection to SAP system using Java.    \r\n\r\nHelp me for such kind of scenario.","title":"How to Push Data into SAP which can create a general Ledger using REST","body":"<p>I've zero knowledge on SAP, requirement is, in SAP system there should be an end point which receives a REST request which should be able to create General ledger / store in database using SAP NetWeaver technology.</p>\n<p>Found SAP JCo felt its not appropriate.</p>\n<ol>\n<li>Can SAP provide Rest End point Consuming JSON data for POST Body ??</li>\n<li>if any jars available to transform data or connection to SAP system using Java.</li>\n</ol>\n<p>Help me for such kind of scenario.</p>\n"},{"tags":["java","javafx","scenebuilder","hbox"],"comments":[{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1687526506,"post_id":76537299,"comment_id":134953457,"body_markdown":"Try using a StackPane instead.","body":"Try using a StackPane instead."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687527106,"post_id":76537299,"comment_id":134953604,"body_markdown":"Like `toFront()`, `toBack()` &quot;has no effect if this `Node` is not part of a group.&quot; `Pane` &quot;may be resized beyond its preferred size to fill whatever space is assigned to it.&quot;","body":"Like <code>toFront()</code>, <code>toBack()</code> &quot;has no effect if this <code>Node</code> is not part of a group.&quot; <code>Pane</code> &quot;may be resized beyond its preferred size to fill whatever space is assigned to it.&quot;"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1687530068,"post_id":76537299,"comment_id":134954377,"body_markdown":"This looks like it may be a layout issue. Can you post your `FXML`? Also, I would make the green pane a `ScrollPane` and make the zoom happen within the `ScrollPane`.","body":"This looks like it may be a layout issue. Can you post your <code>FXML</code>? Also, I would make the green pane a <code>ScrollPane</code> and make the zoom happen within the <code>ScrollPane</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1687530329,"post_id":76537299,"comment_id":134954454,"body_markdown":"https://stackoverflow.com/questions/16680295/javafx-correct-scaling","body":"<a href=\"https://stackoverflow.com/questions/16680295/javafx-correct-scaling\" title=\"javafx correct scaling\">stackoverflow.com/questions/16680295/javafx-correct-scaling</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1687530406,"post_id":76537299,"comment_id":134954475,"body_markdown":"https://stackoverflow.com/questions/39827911/javafx-8-scaling-zooming-scrollpane-relative-to-mouse-position/44314455#44314455","body":"<a href=\"https://stackoverflow.com/questions/39827911/javafx-8-scaling-zooming-scrollpane-relative-to-mouse-position/44314455#44314455\" title=\"javafx 8 scaling zooming scrollpane relative to mouse position\">stackoverflow.com/questions/39827911/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687541042,"post_id":76537299,"comment_id":134956695,"body_markdown":"Hard to advise here without a [mcve].  Perhaps you want a [clip](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#clipProperty()), or a [ScrollPane](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ScrollPane.html) or a [SubScene](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/SubScene.html) or a [StackPane](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/StackPane.html) or to manipulate the [viewOrder](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#viewOrderProperty) of your nodes.","body":"Hard to advise here without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Perhaps you want a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#clipProperty()\" rel=\"nofollow noreferrer\">clip</a>, or a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ScrollPane.html\" rel=\"nofollow noreferrer\">ScrollPane</a> or a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/SubScene.html\" rel=\"nofollow noreferrer\">SubScene</a> or a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/StackPane.html\" rel=\"nofollow noreferrer\">StackPane</a> or to manipulate the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#viewOrderProperty\" rel=\"nofollow noreferrer\">viewOrder</a> of your nodes."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687556339,"post_id":76537299,"comment_id":134959032,"body_markdown":"&quot;*I tried using the z-scale*&quot; -&gt; z-order (via node z coordinates) won&#39;t work without enabling [depthBuffer in your scene](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double,boolean,javafx.scene.SceneAntialiasing)), setting correct z values, ensuring that [depth testing is switched on for the relevant nodes](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#depthTestProperty()) and ConditionalFeature.SCENE3D is avail.  As previously noted, there are probably other ways to achieve your aim rather than enabling 3D.","body":"&quot;<i>I tried using the z-scale</i>&quot; -&gt; z-order (via node z coordinates) won&#39;t work without enabling <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double,boolean,javafx.scene.SceneAntialiasing)\" rel=\"nofollow noreferrer\">depthBuffer in your scene</a>, setting correct z values, ensuring that <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#depthTestProperty()\" rel=\"nofollow noreferrer\">depth testing is switched on for the relevant nodes</a> and ConditionalFeature.SCENE3D is avail.  As previously noted, there are probably other ways to achieve your aim rather than enabling 3D."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687557909,"post_id":76537299,"comment_id":134959176,"body_markdown":"*&quot;I tried moving the pane with Node.toFront and Node.toBack but didn&#39;t see any change&quot;* -&gt; If you read the doc for these functions: &quot;This is accomplished by moving this Node to the first position in its parent&#39;s content ObservableList. This function has no effect if this Node is not part of a group.&quot;.  So if you made a pane the last element of a hbox and called toBack() on the pane, it will become the first element (left to right) in the hbox, which isn&#39;t what you want.","body":"<i>&quot;I tried moving the pane with Node.toFront and Node.toBack but didn&#39;t see any change&quot;</i> -&gt; If you read the doc for these functions: &quot;This is accomplished by moving this Node to the first position in its parent&#39;s content ObservableList. This function has no effect if this Node is not part of a group.&quot;.  So if you made a pane the last element of a hbox and called toBack() on the pane, it will become the first element (left to right) in the hbox, which isn&#39;t what you want."}],"owner":{"account_id":14594459,"reputation":21,"user_id":10540660,"display_name":"Florian"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687497992,"creation_date":1687497992,"question_id":76537299,"body_markdown":"Following is the standard layout when the application is started:\r\n[![enter image description here](https://i.stack.imgur.com/fLI3H.png)](https://i.stack.imgur.com/fLI3H.png)\r\nAnd it looks like the following image, as soon as I &quot;zoom&quot; (resize bigger) the pane (which I colored green so you can see it better):\r\n[![enter image description here](https://i.stack.imgur.com/NT4DH.png)](https://i.stack.imgur.com/NT4DH.png)\r\n\r\nHow can I draw the pane, which is in the second half of an HBox below all the other children?   \r\nFor reference here the Nodes in the Scene Builder:   \r\n[![enter image description here](https://i.stack.imgur.com/BuFCx.png)](https://i.stack.imgur.com/BuFCx.png)\r\n\r\nI tried moving the pane with Node.toFront and Node.toBack but didn&#39;t see any changes.\r\nI tried using the z-scale but this did also not work","title":"How can the second child of an HBox always be drawn behind every other child in JavaFX","body":"<p>Following is the standard layout when the application is started:\n<a href=\"https://i.stack.imgur.com/fLI3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLI3H.png\" alt=\"enter image description here\" /></a>\nAnd it looks like the following image, as soon as I &quot;zoom&quot; (resize bigger) the pane (which I colored green so you can see it better):\n<a href=\"https://i.stack.imgur.com/NT4DH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NT4DH.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I draw the pane, which is in the second half of an HBox below all the other children?<br />\nFor reference here the Nodes in the Scene Builder:<br />\n<a href=\"https://i.stack.imgur.com/BuFCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BuFCx.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried moving the pane with Node.toFront and Node.toBack but didn't see any changes.\nI tried using the z-scale but this did also not work</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5587626,"reputation":652,"user_id":4427776,"accept_rate":44,"display_name":"AbhiN"},"score":0,"creation_date":1582873255,"post_id":60446738,"comment_id":106933512,"body_markdown":"Try changing `port` in properties file. If issue persists, provide complete stacktrace","body":"Try changing <code>port</code> in properties file. If issue persists, provide complete stacktrace"},{"owner":{"account_id":7426337,"reputation":549,"user_id":5648688,"display_name":"Shubham"},"score":0,"creation_date":1582873284,"post_id":60446738,"comment_id":106933525,"body_markdown":"this might help : https://stackoverflow.com/questions/37703383/java-net-malformedurlexception-unknown-protocol-localhost-at-controller-restco","body":"this might help : <a href=\"https://stackoverflow.com/questions/37703383/java-net-malformedurlexception-unknown-protocol-localhost-at-controller-restco\" title=\"java net malformedurlexception unknown protocol localhost at controller restco\">stackoverflow.com/questions/37703383/&hellip;</a>"},{"owner":{"account_id":4874770,"reputation":983,"user_id":3930210,"display_name":"Gaurav Dhiman"},"score":1,"creation_date":1582873497,"post_id":60446738,"comment_id":106933585,"body_markdown":"Provide complete stack trace.","body":"Provide complete stack trace."},{"owner":{"account_id":17660333,"reputation":317,"user_id":12818924,"display_name":"Krazim00da"},"score":0,"creation_date":1582873749,"post_id":60446738,"comment_id":106933675,"body_markdown":"https://pastebin.com/grcvNb3d","body":"<a href=\"https://pastebin.com/grcvNb3d\" rel=\"nofollow noreferrer\">pastebin.com/grcvNb3d</a>"},{"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"score":0,"creation_date":1582874380,"post_id":60446738,"comment_id":106933898,"body_markdown":"Can you post feign client configuration?","body":"Can you post feign client configuration?"},{"owner":{"account_id":17660333,"reputation":317,"user_id":12818924,"display_name":"Krazim00da"},"score":0,"creation_date":1582874505,"post_id":60446738,"comment_id":106933950,"body_markdown":"feign:\n  client:\n    config:\n      default:\n        connectTimeout: 5000\n        readTimeout: 120000","body":"feign:   client:     config:       default:         connectTimeout: 5000         readTimeout: 120000"},{"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"score":0,"creation_date":1582874640,"post_id":60446738,"comment_id":106934005,"body_markdown":"Post Interface code and application properties both.","body":"Post Interface code and application properties both."},{"owner":{"account_id":17660333,"reputation":317,"user_id":12818924,"display_name":"Krazim00da"},"score":0,"creation_date":1582874908,"post_id":60446738,"comment_id":106934100,"body_markdown":"URL: &quot;http://localhost:8445&quot;","body":"URL: &quot;<a href=\"http://localhost:8445\" rel=\"nofollow noreferrer\">localhost:8445</a>&quot;"},{"owner":{"account_id":17660333,"reputation":317,"user_id":12818924,"display_name":"Krazim00da"},"score":0,"creation_date":1582874968,"post_id":60446738,"comment_id":106934121,"body_markdown":"@FeignClient(name = &quot;instrument&quot;, url = &quot;${URL}&quot;, path = &quot;instrument_tag&quot;)\npublic interface Instrument","body":"@FeignClient(name = &quot;instrument&quot;, url = &quot;${URL}&quot;, path = &quot;instrument_tag&quot;) public interface Instrument"}],"answers":[{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687497270,"creation_date":1687497270,"answer_id":76537249,"question_id":60446738,"body_markdown":"I hope you got the solution but this will help others.\r\n\r\nWhen we add property values in the spring boot application.properties file that should be without double quotes(&quot;&quot;). if you mention in double quotes it will throw an exception.\r\n\r\n    payment.host=&quot;http://localhost:9090&quot;\r\n\r\nthis will throw \r\n\r\n    java.lang.IllegalArgumentException: &quot;http://localhost:9090&quot; is malformed\r\n\r\nbut when we remove double quotes application will run without any error.\r\n\r\n    payment.host=http://localhost:9090\r\n\r\nTomcat started on port(s): 8080 (http) with context path \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot application failed. localhost is malformed","body":"<p>I hope you got the solution but this will help others.</p>\n<p>When we add property values in the spring boot application.properties file that should be without double quotes(&quot;&quot;). if you mention in double quotes it will throw an exception.</p>\n<pre><code>payment.host=&quot;http://localhost:9090&quot;\n</code></pre>\n<p>this will throw</p>\n<pre><code>java.lang.IllegalArgumentException: &quot;http://localhost:9090&quot; is malformed\n</code></pre>\n<p>but when we remove double quotes application will run without any error.</p>\n<pre><code>payment.host=http://localhost:9090\n</code></pre>\n<p>Tomcat started on port(s): 8080 (http) with context path</p>\n"}],"owner":{"account_id":17660333,"reputation":317,"user_id":12818924,"display_name":"Krazim00da"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687497270,"creation_date":1582873147,"question_id":60446738,"body_markdown":"I have basic spring boot application with spring cloud. When i tried to run i have error:\r\n\r\n    2020-02-27 18:52:29.542 ERROR [main] o.s.boot.SpringApplication - Application run failed\r\n    java.lang.IllegalArgumentException: &quot;http://localhost:8445&quot; is malformed\r\n\r\nWhy does it happen? And how to fix it?","title":"Spring Boot application failed. localhost is malformed","body":"<p>I have basic spring boot application with spring cloud. When i tried to run i have error:</p>\n\n<pre><code>2020-02-27 18:52:29.542 ERROR [main] o.s.boot.SpringApplication - Application run failed\njava.lang.IllegalArgumentException: \"http://localhost:8445\" is malformed\n</code></pre>\n\n<p>Why does it happen? And how to fix it?</p>\n"},{"tags":["java","jax-rs","quarkus","resteasy"],"answers":[{"comments":[{"owner":{"account_id":3550933,"reputation":2243,"user_id":2965839,"accept_rate":88,"display_name":"Kiki"},"score":0,"creation_date":1685703619,"post_id":76389074,"comment_id":134701637,"body_markdown":"So basically I can remove the filters now :D Thank you for quick response!","body":"So basically I can remove the filters now :D Thank you for quick response!"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1685709981,"post_id":76389074,"comment_id":134702948,"body_markdown":"You are very welcome!","body":"You are very welcome!"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685702687,"creation_date":1685699513,"answer_id":76389074,"question_id":76387974,"body_markdown":"When using RESTEasy Reactive, there is a far easier way of doing things like this: just use a CDI request scoped bean.\r\n\r\nSomething like the following should be just fine:\r\n\r\n    @Singleton\r\n    public class CustomHttpRequestProducer {\r\n    \r\n        @RequestScoped\r\n        @Unremovable\r\n        public CustomHttpRequest produce(HttpHeaders headers) {\r\n            return new CustomHttpRequest(headers.getRequestHeaders(), LocalDateTime.now(), &quot;dummy&quot;);\r\n        }\r\n    }\r\n\r\nThen you would use it in your JAX-RS Resource as easily as:\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String hello(@Context CustomHttpRequest customHttpRequest) {\r\n        return customHttpRequest.getText();\r\n    }\r\n\r\n\r\nNote that `@Unremovable` is only needed if you use `CustomHttpRequest ` as method parameter.\r\nIf you however inject it as a field, `@Unremovable` is unnecessary.\r\n\r\n\r\n**UPDATE**\r\n\r\nAfter https://github.com/quarkusio/quarkus/pull/33793 becomes part of Quarkus (likely in 3.2) then `@Unremovable` will no longer be necessary even for the method parameter","title":"Migration from RestEasy to RestEasyReactive with ResteasyContext and ContainerRequestFilter","body":"<p>When using RESTEasy Reactive, there is a far easier way of doing things like this: just use a CDI request scoped bean.</p>\n<p>Something like the following should be just fine:</p>\n<pre><code>@Singleton\npublic class CustomHttpRequestProducer {\n\n    @RequestScoped\n    @Unremovable\n    public CustomHttpRequest produce(HttpHeaders headers) {\n        return new CustomHttpRequest(headers.getRequestHeaders(), LocalDateTime.now(), &quot;dummy&quot;);\n    }\n}\n</code></pre>\n<p>Then you would use it in your JAX-RS Resource as easily as:</p>\n<pre><code>@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic String hello(@Context CustomHttpRequest customHttpRequest) {\n    return customHttpRequest.getText();\n}\n</code></pre>\n<p>Note that <code>@Unremovable</code> is only needed if you use <code>CustomHttpRequest </code> as method parameter.\nIf you however inject it as a field, <code>@Unremovable</code> is unnecessary.</p>\n<p><strong>UPDATE</strong></p>\n<p>After <a href=\"https://github.com/quarkusio/quarkus/pull/33793\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/pull/33793</a> becomes part of Quarkus (likely in 3.2) then <code>@Unremovable</code> will no longer be necessary even for the method parameter</p>\n"}],"owner":{"account_id":3550933,"reputation":2243,"user_id":2965839,"accept_rate":88,"display_name":"Kiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76389074,"answer_count":1,"score":1,"last_activity_date":1687496971,"creation_date":1685690417,"question_id":76387974,"body_markdown":"I&#39;m migrating old Quarkus project from RestEasy to ResteasyReactive and I have some difficulties migrating `ResteasyContext.pushContext` since there is no real 1:1 alternative in rest easy. \r\n\r\nI&#39;m using the `ResteasyContext.pushContext` in my `ContainerRequestFilter` to push some custom object to Context and later retrieve it using @Context. \r\n\r\nSomething like in this minimal example i provided.\r\n\r\nFilter:\r\n\r\n    package org.acme.filter;\r\n    \r\n    import org.acme.pojo.CustomHttpRequest;\r\n    import org.jboss.resteasy.core.ResteasyContext;\r\n    \r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerRequestFilter;\r\n    import javax.ws.rs.ext.Provider;\r\n    import java.time.LocalDateTime;\r\n    import java.util.Random;\r\n    \r\n    @Provider\r\n    @ApplicationScoped\r\n    public class HttpRequestFilter implements ContainerRequestFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext) {\r\n            CustomHttpRequest request = CustomHttpRequest.builder()\r\n                    .headers(requestContext.getHeaders())\r\n                    .dateTime(LocalDateTime.now())\r\n                    .text(&quot;Some random text for example &quot; + new Random().nextInt(100))\r\n                    .build();\r\n            ResteasyContext.pushContext(CustomHttpRequest.class, request);\r\n        }\r\n    }\r\n\r\nCustom object I want to push to context:\r\n\r\n    package org.acme.pojo;\r\n    \r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.ws.rs.core.MultivaluedMap;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Getter\r\n    @Builder\r\n    @ToString\r\n    public class CustomHttpRequest {\r\n    \r\n        private String text;\r\n        private LocalDateTime dateTime;\r\n        private MultivaluedMap&lt;String, String&gt; headers;\r\n        private boolean secured;\r\n    }\r\n\r\nAnd the later read it from context in my rest endpoint:\r\n\r\n    package org.acme;\r\n    \r\n    import org.acme.pojo.CustomHttpRequest;\r\n    import org.acme.pojo.ResponseData;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class GreetingResource {\r\n    \r\n        @GET\r\n        @Path(&quot;{pathText}&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public ResponseData testContext(@Context CustomHttpRequest httpRequest,\r\n                                        @PathParam(&quot;pathText&quot;) String queryText) {\r\n    \r\n           return ResponseData.builder()\r\n                    .queryText(queryText)\r\n                    .httpRequestText(httpRequest.getText())\r\n                    .secured(httpRequest.isSecured())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nHere is the full example on GitHub: https://github.com/pkristja/resteasy_context/tree/main\r\n\r\nI have found some alternatives that work with RestEasyReactive like using `ContainerRequestContext` and setting the data using setProperty. \r\n\r\nBuild file changes:\r\nChanged from `implementation(&quot;io.quarkus:quarkus-resteasy-jackson&quot;)` to `implementation(&quot;io.quarkus:quarkus-resteasy-reactive-jackson&quot;)`\r\n\r\nFilter for setting oblect to context:\r\n\r\n    package org.acme.filter;\r\n    \r\n    import org.acme.pojo.CustomHttpRequest;\r\n    \r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerRequestFilter;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.ext.Provider;\r\n    import java.time.LocalDateTime;\r\n    import java.util.Random;\r\n    \r\n    @Provider\r\n    @ApplicationScoped\r\n    public class HttpRequestFilter implements ContainerRequestFilter {\r\n    \r\n        @Context\r\n        ContainerRequestContext crContext;\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext) {\r\n            CustomHttpRequest request = CustomHttpRequest.builder()\r\n                    .headers(requestContext.getHeaders())\r\n                    .dateTime(LocalDateTime.now())\r\n                    .text(&quot;Some random text for example &quot; + new Random().nextInt(100))\r\n                    .build();\r\n    \r\n            crContext.setProperty(&quot;customHttpRequest&quot;, request);\r\n        }\r\n    }\r\n\r\nRetrieving object from context:\r\n\r\n    package org.acme;\r\n    \r\n    import org.acme.pojo.CustomHttpRequest;\r\n    import org.acme.pojo.ResponseData;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class GreetingResource {\r\n    \r\n        @GET\r\n        @Path(&quot;{pathText}&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public ResponseData testContext(@Context ContainerRequestContext crContext,\r\n                                        @PathParam(&quot;pathText&quot;) String queryText) {\r\n    \r\n            CustomHttpRequest httpRequest = (CustomHttpRequest) crContext.getProperty(&quot;customHttpRequest&quot;);\r\n    \r\n           return ResponseData.builder()\r\n                    .queryText(queryText)\r\n                    .httpRequestText(httpRequest.getText())\r\n                    .secured(httpRequest.isSecured())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nIs there any way to get same functionality in RestEasyReactive like you had in RestEasy using `ResteasyContext.pushContext` because it&#39;s really verbose and inefficient to retrieve each object from context and cast it because in my real example I have multiple custom objects pushed to context with `ResteasyContext.pushContext`.\r\n\r\nThank you!   \r\n","title":"Migration from RestEasy to RestEasyReactive with ResteasyContext and ContainerRequestFilter","body":"<p>I'm migrating old Quarkus project from RestEasy to ResteasyReactive and I have some difficulties migrating <code>ResteasyContext.pushContext</code> since there is no real 1:1 alternative in rest easy.</p>\n<p>I'm using the <code>ResteasyContext.pushContext</code> in my <code>ContainerRequestFilter</code> to push some custom object to Context and later retrieve it using @Context.</p>\n<p>Something like in this minimal example i provided.</p>\n<p>Filter:</p>\n<pre><code>package org.acme.filter;\n\nimport org.acme.pojo.CustomHttpRequest;\nimport org.jboss.resteasy.core.ResteasyContext;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerRequestFilter;\nimport javax.ws.rs.ext.Provider;\nimport java.time.LocalDateTime;\nimport java.util.Random;\n\n@Provider\n@ApplicationScoped\npublic class HttpRequestFilter implements ContainerRequestFilter {\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        CustomHttpRequest request = CustomHttpRequest.builder()\n                .headers(requestContext.getHeaders())\n                .dateTime(LocalDateTime.now())\n                .text(&quot;Some random text for example &quot; + new Random().nextInt(100))\n                .build();\n        ResteasyContext.pushContext(CustomHttpRequest.class, request);\n    }\n}\n</code></pre>\n<p>Custom object I want to push to context:</p>\n<pre><code>package org.acme.pojo;\n\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport javax.ws.rs.core.MultivaluedMap;\nimport java.time.LocalDateTime;\n\n@Getter\n@Builder\n@ToString\npublic class CustomHttpRequest {\n\n    private String text;\n    private LocalDateTime dateTime;\n    private MultivaluedMap&lt;String, String&gt; headers;\n    private boolean secured;\n}\n</code></pre>\n<p>And the later read it from context in my rest endpoint:</p>\n<pre><code>package org.acme;\n\nimport org.acme.pojo.CustomHttpRequest;\nimport org.acme.pojo.ResponseData;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class GreetingResource {\n\n    @GET\n    @Path(&quot;{pathText}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public ResponseData testContext(@Context CustomHttpRequest httpRequest,\n                                    @PathParam(&quot;pathText&quot;) String queryText) {\n\n       return ResponseData.builder()\n                .queryText(queryText)\n                .httpRequestText(httpRequest.getText())\n                .secured(httpRequest.isSecured())\n                .build();\n    }\n}\n</code></pre>\n<p>Here is the full example on GitHub: <a href=\"https://github.com/pkristja/resteasy_context/tree/main\" rel=\"nofollow noreferrer\">https://github.com/pkristja/resteasy_context/tree/main</a></p>\n<p>I have found some alternatives that work with RestEasyReactive like using <code>ContainerRequestContext</code> and setting the data using setProperty.</p>\n<p>Build file changes:\nChanged from <code>implementation(&quot;io.quarkus:quarkus-resteasy-jackson&quot;)</code> to <code>implementation(&quot;io.quarkus:quarkus-resteasy-reactive-jackson&quot;)</code></p>\n<p>Filter for setting oblect to context:</p>\n<pre><code>package org.acme.filter;\n\nimport org.acme.pojo.CustomHttpRequest;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerRequestFilter;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.ext.Provider;\nimport java.time.LocalDateTime;\nimport java.util.Random;\n\n@Provider\n@ApplicationScoped\npublic class HttpRequestFilter implements ContainerRequestFilter {\n\n    @Context\n    ContainerRequestContext crContext;\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        CustomHttpRequest request = CustomHttpRequest.builder()\n                .headers(requestContext.getHeaders())\n                .dateTime(LocalDateTime.now())\n                .text(&quot;Some random text for example &quot; + new Random().nextInt(100))\n                .build();\n\n        crContext.setProperty(&quot;customHttpRequest&quot;, request);\n    }\n}\n</code></pre>\n<p>Retrieving object from context:</p>\n<pre><code>package org.acme;\n\nimport org.acme.pojo.CustomHttpRequest;\nimport org.acme.pojo.ResponseData;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class GreetingResource {\n\n    @GET\n    @Path(&quot;{pathText}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public ResponseData testContext(@Context ContainerRequestContext crContext,\n                                    @PathParam(&quot;pathText&quot;) String queryText) {\n\n        CustomHttpRequest httpRequest = (CustomHttpRequest) crContext.getProperty(&quot;customHttpRequest&quot;);\n\n       return ResponseData.builder()\n                .queryText(queryText)\n                .httpRequestText(httpRequest.getText())\n                .secured(httpRequest.isSecured())\n                .build();\n    }\n}\n</code></pre>\n<p>Is there any way to get same functionality in RestEasyReactive like you had in RestEasy using <code>ResteasyContext.pushContext</code> because it's really verbose and inefficient to retrieve each object from context and cast it because in my real example I have multiple custom objects pushed to context with <code>ResteasyContext.pushContext</code>.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1687467436,"post_id":76535573,"comment_id":134945064,"body_markdown":"the file is in src/main/resources folder and not in the same directory as TestGraph.java","body":"the file is in src/main/resources folder and not in the same directory as TestGraph.java"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687467816,"post_id":76535573,"comment_id":134945125,"body_markdown":"but `getResource()` and `getResourceAsStream()` with a relative path, called on a class, will search for the file in the same *package* (directory hierarchy) as that class - not in the source folders (which usually are not part of a deployed application) - Is the compiler copying the file to the *build* directory? if so, use `&quot;/oAuth.properties&quot;`","body":"but <code>getResource()</code> and <code>getResourceAsStream()</code> with a relative path, called on a class, will search for the file in the same <i>package</i> (directory hierarchy) as that class - not in the source folders (which usually are not part of a deployed application) - Is the compiler copying the file to the <i>build</i> directory? if so, use <code>&quot;&#47;oAuth.properties&quot;</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687468172,"post_id":76535573,"comment_id":134945182,"body_markdown":"or `&quot;/resources/oAuth.properties&quot;` (depending where the file is copied to) - a `/` at the beginning indicates an absolute path - I am sure this kind of problem already has answers on StackOverflow","body":"or <code>&quot;&#47;resources&#47;oAuth.properties&quot;</code> (depending where the file is copied to) - a <code>&#47;</code> at the beginning indicates an absolute path - I am sure this kind of problem already has answers on StackOverflow"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1687468662,"post_id":76535573,"comment_id":134945267,"body_markdown":"Got it. Thanks all","body":"Got it. Thanks all"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687469981,"post_id":76535573,"comment_id":134945499,"body_markdown":"afaicr `Properties.load` doesn&#39;t close the stream, so you want try-with-resources, also `InputStream` loading doesn&#39;t support Unicode, which will need a `Reader`","body":"afaicr <code>Properties.load</code> doesn&#39;t close the stream, so you want try-with-resources, also <code>InputStream</code> loading doesn&#39;t support Unicode, which will need a <code>Reader</code>"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687496562,"creation_date":1687467145,"question_id":76535573,"body_markdown":"I&#39;m trying to load the properties from `src/main/resources` folder using below code \r\n\r\n    final Properties oAuthProperties = new Properties();\r\n    try {\r\n        oAuthProperties.load(TestGraph.class.getResourceAsStream(&quot;oAuth.properties&quot;));\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;Unable to read OAuth configuration. &quot;);\r\n        return;\r\n    }\r\n\r\n   \r\nbut still getting below error:\r\n\r\n  \r\n\r\n&gt;   Exception in thread &quot;main&quot; java.lang.NullPointerException: inStream\r\n&gt; parameter is null \tat\r\n&gt; java.base/java.util.Objects.requireNonNull(Objects.java:233) \tat\r\n&gt; java.base/java.util.Properties.load(Properties.java:407) \tat\r\n&gt; com.oe.TestGraph.main(TestGraph.java:14)\r\n\r\nI have verified that properties file `oAuth.properties` is in `src/main/resources` folder, still it is not loading \r\n\r\nI have created project using spring initializer so Im assuming all class path is set, so then not sure what is the issue \r\n\r\n","title":"Unable to load properties using getResourceAsStream in JAVA","body":"<p>I'm trying to load the properties from <code>src/main/resources</code> folder using below code</p>\n<pre><code>final Properties oAuthProperties = new Properties();\ntry {\n    oAuthProperties.load(TestGraph.class.getResourceAsStream(&quot;oAuth.properties&quot;));\n} catch (IOException e) {\n    System.out.println(&quot;Unable to read OAuth configuration. &quot;);\n    return;\n}\n</code></pre>\n<p>but still getting below error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: inStream\nparameter is null     at\njava.base/java.util.Objects.requireNonNull(Objects.java:233)  at\njava.base/java.util.Properties.load(Properties.java:407)  at\ncom.oe.TestGraph.main(TestGraph.java:14)</p>\n</blockquote>\n<p>I have verified that properties file <code>oAuth.properties</code> is in <code>src/main/resources</code> folder, still it is not loading</p>\n<p>I have created project using spring initializer so Im assuming all class path is set, so then not sure what is the issue</p>\n"},{"tags":["java","maven","annotation-processing"],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687495468,"creation_date":1687495468,"question_id":76537131,"body_markdown":"I have a Project with the following structure:\r\nAnnotation Format \r\n \r\n\r\n    package io.tholv.annotation;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target({ElementType.FIELD})\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    public @interface Format {\r\n        String pattern() default &quot;&quot;;\r\n    \r\n        boolean trim() default false;\r\n    \r\n        boolean upperCase() default false;\r\n    \r\n        boolean lowerCase() default false;\r\n    \r\n        boolean capitalize() default false;\r\n    }\r\n\r\n\r\nand class FormatProcessor : \r\n\r\n    package io.tholv.annotation.process;\r\n    \r\n    import com.google.auto.service.AutoService;\r\n    import io.tholv.annotation.Format;\r\n    \r\n    import javax.annotation.processing.*;\r\n    import javax.lang.model.SourceVersion;\r\n    import javax.lang.model.element.Element;\r\n    import javax.lang.model.element.ElementKind;\r\n    import javax.lang.model.element.TypeElement;\r\n    import javax.lang.model.element.VariableElement;\r\n    import java.lang.reflect.Field;\r\n    import java.util.Set;\r\n    \r\n    @SupportedAnnotationTypes(&quot;io.tholv.annotation.Format&quot;)\r\n    @AutoService(Processor.class)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n    public class FormatProcessor extends AbstractProcessor {\r\n    \r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n            for (Element element : roundEnv.getElementsAnnotatedWith(Format.class)) {\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    VariableElement variableElement = (VariableElement) element;\r\n                    String fieldName = variableElement.getSimpleName().toString();\r\n                    Format format = variableElement.getAnnotation(Format.class);\r\n                    try {\r\n                        Field field = variableElement.getEnclosingElement().getClass().getDeclaredField(fieldName);\r\n                        field.setAccessible(true);\r\n                        Object fieldValue = field.get(variableElement.getEnclosingElement());\r\n                        if (fieldValue instanceof String) {\r\n                            if (format.trim()) {\r\n                                fieldValue = ((String) fieldValue).trim();\r\n                            }\r\n                            if (format.upperCase()) {\r\n                                fieldValue = ((String) fieldValue).toUpperCase();\r\n                            }\r\n                            if (format.lowerCase()) {\r\n                                fieldValue = ((String) fieldValue).toLowerCase();\r\n                            }\r\n                            if (format.capitalize()) {\r\n                                String str = (String) fieldValue;\r\n                                fieldValue = str.substring(0, 1).toUpperCase() + str.substring(1);\r\n                            }\r\n                            field.set(variableElement.getEnclosingElement(), fieldValue);\r\n                            return true;\r\n                        }else{\r\n                            throw new RuntimeException(&quot;Field &quot; + fieldName + &quot; is not a String&quot;);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n and pom.xml file : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;io.tholv&lt;/groupId&gt;\r\n        &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\r\n                &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;auto-service.version&gt;1.0-rc2&lt;/auto-service.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-compile&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;io/tholv/annotation/process/FormatProcessor.java&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;compile-project&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand file  META-INF/services/javax.annotation.processing.Processor : \r\n\r\n    io.tholv.annotation.process.FormatProcessor\r\n\r\n[![struct project][1]][1]\r\n\r\n\r\nfull code here  =&gt; [link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XwDVW.png\r\n  [2]: https://github.com/pudo58/common_lib\r\n\r\nWhen I build **mvn clean compile package** and it says success, but this annotation doesn&#39;t work in other Project, someone help me see where my code is wrong, thanks","title":"Cannot build being Class Annotation Processor","body":"<p>I have a Project with the following structure:\nAnnotation Format</p>\n<pre><code>package io.tholv.annotation;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface Format {\n    String pattern() default &quot;&quot;;\n\n    boolean trim() default false;\n\n    boolean upperCase() default false;\n\n    boolean lowerCase() default false;\n\n    boolean capitalize() default false;\n}\n</code></pre>\n<p>and class FormatProcessor :</p>\n<pre><code>package io.tholv.annotation.process;\n\nimport com.google.auto.service.AutoService;\nimport io.tholv.annotation.Format;\n\nimport javax.annotation.processing.*;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport java.lang.reflect.Field;\nimport java.util.Set;\n\n@SupportedAnnotationTypes(&quot;io.tholv.annotation.Format&quot;)\n@AutoService(Processor.class)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\npublic class FormatProcessor extends AbstractProcessor {\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (Element element : roundEnv.getElementsAnnotatedWith(Format.class)) {\n            if (element.getKind() == ElementKind.FIELD) {\n                VariableElement variableElement = (VariableElement) element;\n                String fieldName = variableElement.getSimpleName().toString();\n                Format format = variableElement.getAnnotation(Format.class);\n                try {\n                    Field field = variableElement.getEnclosingElement().getClass().getDeclaredField(fieldName);\n                    field.setAccessible(true);\n                    Object fieldValue = field.get(variableElement.getEnclosingElement());\n                    if (fieldValue instanceof String) {\n                        if (format.trim()) {\n                            fieldValue = ((String) fieldValue).trim();\n                        }\n                        if (format.upperCase()) {\n                            fieldValue = ((String) fieldValue).toUpperCase();\n                        }\n                        if (format.lowerCase()) {\n                            fieldValue = ((String) fieldValue).toLowerCase();\n                        }\n                        if (format.capitalize()) {\n                            String str = (String) fieldValue;\n                            fieldValue = str.substring(0, 1).toUpperCase() + str.substring(1);\n                        }\n                        field.set(variableElement.getEnclosingElement(), fieldValue);\n                        return true;\n                    }else{\n                        throw new RuntimeException(&quot;Field &quot; + fieldName + &quot; is not a String&quot;);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>and pom.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.tholv&lt;/groupId&gt;\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;auto-service.version&gt;1.0-rc2&lt;/auto-service.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;io/tholv/annotation/process/FormatProcessor.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile-project&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and file  META-INF/services/javax.annotation.processing.Processor :</p>\n<pre><code>io.tholv.annotation.process.FormatProcessor\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XwDVW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XwDVW.png\" alt=\"struct project\" /></a></p>\n<p>full code here  =&gt; <a href=\"https://github.com/pudo58/common_lib\" rel=\"nofollow noreferrer\">link</a></p>\n<p>When I build <strong>mvn clean compile package</strong> and it says success, but this annotation doesn't work in other Project, someone help me see where my code is wrong, thanks</p>\n"},{"tags":["java","spring-boot","gradle","spring-security","railway"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1687372471,"post_id":76525680,"comment_id":134929118,"body_markdown":"Do you use the [correct Gradle task](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable) to package your application?","body":"Do you use the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable\" rel=\"nofollow noreferrer\">correct Gradle task</a> to package your application?"}],"owner":{"account_id":28867862,"reputation":11,"user_id":22110194,"display_name":"fmel025"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687494985,"creation_date":1687367610,"question_id":76525680,"body_markdown":"I am deploying a spring boot REST API to railway but it is returning me this at the moment of the deploy:\r\n\r\n```\r\nError: Unable to initialize main class com.group6.server.ServerApplication\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/crypto/password/PasswordEncoder\r\n```\r\n\r\nI am working with Gradle and this is my build.gradle:\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.group6&#39;\r\nversion = &#39;0.0.1&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-crypto&#39;\r\n\r\n\timplementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n\timplementation &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n\timplementation &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\njar {\r\n\tmanifest {\r\n\t\tattributes &#39;Main-Class&#39;: &#39;com.group6.server.ServerApplication&#39;\r\n\t}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nAnd I am using `PasswordEncoder` inside my main file named `ServerApplication`, in eclipse and IntelliJ it works fine but at the moment I am deploying that error is returned in console.","title":"Why am I getting a NoClassDefFoundError when deploying on railway?","body":"<p>I am deploying a spring boot REST API to railway but it is returning me this at the moment of the deploy:</p>\n<pre><code>Error: Unable to initialize main class com.group6.server.ServerApplication\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/crypto/password/PasswordEncoder\n</code></pre>\n<p>I am working with Gradle and this is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.group6'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.security:spring-security-crypto'\n\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.group6.server.ServerApplication'\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>And I am using <code>PasswordEncoder</code> inside my main file named <code>ServerApplication</code>, in eclipse and IntelliJ it works fine but at the moment I am deploying that error is returned in console.</p>\n"},{"tags":["java","swing","user-interface","text"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1687500019,"post_id":76537091,"comment_id":134948178,"body_markdown":"Start by making use of an appropriate layout manager","body":"Start by making use of an appropriate layout manager"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687526219,"post_id":76537091,"comment_id":134953385,"body_markdown":"By default a JPanel uses a FlowLayout with the components centered. If you want the components aligned on the right, then change the alignment property of the FlowLayout.","body":"By default a JPanel uses a FlowLayout with the components centered. If you want the components aligned on the right, then change the alignment property of the FlowLayout."}],"owner":{"account_id":26714408,"reputation":1,"user_id":20319212,"display_name":"David Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687494541,"creation_date":1687494541,"question_id":76537091,"body_markdown":"\r\n```\r\nJLabel answer = new JLabel(); //create new text for the answer\r\n        answer.setText(&quot;50235.226&quot;);\r\n        answer.setForeground(new Color(0x00FF00)); //set font color\r\n        answer.setFont(new Font(&quot;MV Boli&quot;,Font.PLAIN,20));\r\n        answer.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        answerPanel.add(answer);\r\n```\r\n\r\nMy code is above I tried using the setHorizontalAlignment statement for a different jLabel and it worked The only difference is the answer JLabel is inside a panel!!\r\nI tried using different statements like \r\nanswer.setVerticalTextPosition(SwingConstants.BOTTOM); answer.setHorizontalTextPosition(SwingConstants.RIGHT);\r\nboth of them gave me a error","title":"Issues trying to move JLabel inside JPanel to bottom right hand side JAVA","body":"<pre><code>JLabel answer = new JLabel(); //create new text for the answer\n        answer.setText(&quot;50235.226&quot;);\n        answer.setForeground(new Color(0x00FF00)); //set font color\n        answer.setFont(new Font(&quot;MV Boli&quot;,Font.PLAIN,20));\n        answer.setHorizontalAlignment(SwingConstants.RIGHT);\n        answerPanel.add(answer);\n</code></pre>\n<p>My code is above I tried using the setHorizontalAlignment statement for a different jLabel and it worked The only difference is the answer JLabel is inside a panel!!\nI tried using different statements like\nanswer.setVerticalTextPosition(SwingConstants.BOTTOM); answer.setHorizontalTextPosition(SwingConstants.RIGHT);\nboth of them gave me a error</p>\n"},{"tags":["java","hibernate","session","transactions"],"answers":[{"tags":[],"owner":{"account_id":1500547,"reputation":9872,"user_id":1405363,"accept_rate":100,"display_name":"Paul Wasilewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687494446,"creation_date":1470860108,"answer_id":38882719,"question_id":38878550,"body_markdown":"This hibernate [article][1] explains the behavior of SELECT operations which are not explicitly executed within a transaction.\n\nThe following example is given in the article but it&#39;s also true for your query example.\n\n&gt; Session session = sessionFactory.openSession();   \n    session.get(Item.class, 123l);   \n    session.close();  \n\n&gt; 1. A new Session is opened. It doesn’t obtain a database connection at this point.\n2. The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!\n3. The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?\n \n&gt; The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool.\nObviously, this won’t be a problem for the SELECT [...]\n\nLets extend the above example to provoke a possible problem.\n\n    Session session = sessionFactory.openSession();\n    Item item = session.get(Item.class, 123l);\n    item.setPrice(10);\n    session.close();\n\nNow it depends on the JDBC driver if the new price for the `Item` is persisted or not.\n\nSo you can neglect begin and commit transactions on pure `SELECT` operations even when your JDBC driver will rollback the transaction as long as you have no database changes. \n\nBut anyway I would strongly recommend using transactions on any operation to avoid misunderstanding and problems.\n\n\n\n  [1]: https://developer.jboss.org/wiki/Non-transactionalDataAccessAndTheAuto-commitMode\n\n","title":"Session and Transaction in Hibernate Java","body":"<p>This hibernate <a href=\"https://developer.jboss.org/wiki/Non-transactionalDataAccessAndTheAuto-commitMode\" rel=\"nofollow noreferrer\">article</a> explains the behavior of SELECT operations which are not explicitly executed within a transaction.</p>\n<p>The following example is given in the article but it's also true for your query example.</p>\n<blockquote>\n<p>Session session = sessionFactory.openSession();<br />\nsession.get(Item.class, 123l);<br />\nsession.close();</p>\n</blockquote>\n<blockquote>\n<ol>\n<li>A new Session is opened. It doesn’t obtain a database connection at this point.\n2. The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!\n3. The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool.\nObviously, this won’t be a problem for the SELECT [...]</p>\n</blockquote>\n<p>Lets extend the above example to provoke a possible problem.</p>\n<pre><code>Session session = sessionFactory.openSession();\nItem item = session.get(Item.class, 123l);\nitem.setPrice(10);\nsession.close();\n</code></pre>\n<p>Now it depends on the JDBC driver if the new price for the <code>Item</code> is persisted or not.</p>\n<p>So you can neglect begin and commit transactions on pure <code>SELECT</code> operations even when your JDBC driver will rollback the transaction as long as you have no database changes.</p>\n<p>But anyway I would strongly recommend using transactions on any operation to avoid misunderstanding and problems.</p>\n"}],"owner":{"display_name":"user5154523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10818,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38882719,"answer_count":1,"score":1,"last_activity_date":1687494446,"creation_date":1470845331,"question_id":38878550,"body_markdown":"In Java Hibernate, when we need to do something with DB we need:\r\n1. Open session\r\n2. Begin transaction\r\n3. Finish transaction\r\n4. Close session\r\n\r\n- For example if I want to get Student list:\r\n\r\n        public static List&lt;Student&gt; getStudentList() \r\n\t    {\r\n\t\t   List&lt;Student&gt; l = null;\r\n\t\t   Session session = HibernateUtil.getSessionFactory().openSession();\r\n\t\t   try {\r\n\t\t\t   String hql = &quot;from Student&quot;;\r\n\t\t\t   Query query = session.createQuery(hql);\r\n\t\t\t   l = query.list();\r\n\t\t   } catch (HibernateException ex) {\r\n\t\t\t   //Log the exception\r\n\t\t\t   System.err.println(ex);\r\n\t\t   } finally {\r\n\t\t\t   session.close();\r\n\t\t   }\r\n\t\t   return l;\r\n\t    }\r\n\r\n- Insert a student\r\n\r\n        public static boolean addStudent(Student s) \r\n\t    {\r\n\t\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\t\t\r\n\t\tif (... /* check if student is already exists*/) \r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tTransaction transaction = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\tsession.save(s);\r\n\t\t\ttransaction.commit();\r\n\t\t} catch (HibernateException ex) {\r\n\t\t\t//Log the exception\r\n\t\t\ttransaction.rollback();\r\n\t\t\tSystem.err.println(ex);\r\n\t\t\t} finally {\r\n\t\t\t\tsession.close();\r\n\t\t}\r\n\t\treturn true;\r\n\t    } \r\n\r\nWhy there is no transaction in getStudentList()? Thank in advance","title":"Session and Transaction in Hibernate Java","body":"<p>In Java Hibernate, when we need to do something with DB we need:\n1. Open session\n2. Begin transaction\n3. Finish transaction\n4. Close session</p>\n\n<ul>\n<li><p>For example if I want to get Student list:</p>\n\n<pre><code>public static List&lt;Student&gt; getStudentList() \n{\n   List&lt;Student&gt; l = null;\n   Session session = HibernateUtil.getSessionFactory().openSession();\n   try {\n       String hql = \"from Student\";\n       Query query = session.createQuery(hql);\n       l = query.list();\n   } catch (HibernateException ex) {\n       //Log the exception\n       System.err.println(ex);\n   } finally {\n       session.close();\n   }\n   return l;\n}\n</code></pre></li>\n<li><p>Insert a student</p>\n\n<pre><code>public static boolean addStudent(Student s) \n{\nSession session = HibernateUtil.getSessionFactory().openSession();\n\nif (... /* check if student is already exists*/) \n{\n    return false;\n}\nTransaction transaction = null;\n\ntry {\n    transaction = session.beginTransaction();\n    session.save(s);\n    transaction.commit();\n} catch (HibernateException ex) {\n    //Log the exception\n    transaction.rollback();\n    System.err.println(ex);\n    } finally {\n        session.close();\n}\nreturn true;\n} \n</code></pre></li>\n</ul>\n\n<p>Why there is no transaction in getStudentList()? Thank in advance</p>\n"},{"tags":["java","multidimensional-array","nullpointerexception"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687490482,"post_id":76536836,"comment_id":134947298,"body_markdown":"Posting code as an image is inappropriate on StackOverflow.","body":"Posting code as an image is inappropriate on StackOverflow."},{"owner":{"account_id":26594651,"reputation":1,"user_id":20217238,"display_name":"Sophy Tao"},"score":0,"creation_date":1687491922,"post_id":76536836,"comment_id":134947429,"body_markdown":"I have edited my post. Sorry for the inconvenience as I&#39;m new to StackOverflow. And thank you in advance for any help!","body":"I have edited my post. Sorry for the inconvenience as I&#39;m new to StackOverflow. And thank you in advance for any help!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687523179,"post_id":76536836,"comment_id":134952655,"body_markdown":"What was your motivation for using a `Map` *and* `int[][]` btw? Was it easier access of frequencies, since they are the *values* in the `Map`?","body":"What was your motivation for using a <code>Map</code> <i>and</i> <code>int[][]</code> btw? Was it easier access of frequencies, since they are the <i>values</i> in the <code>Map</code>?"}],"answers":[{"comments":[{"owner":{"account_id":26594651,"reputation":1,"user_id":20217238,"display_name":"Sophy Tao"},"score":0,"creation_date":1687492016,"post_id":76536909,"comment_id":134947439,"body_markdown":"I can&#39;t upvote as I don&#39;t have enough reputation. BUT THANK YOU SO MUCH for your comment. If I understand correctly, since I have specified the size of the inner array, which means I have initialized the inner array so they are not null. Do I understand you correctly? Thanks a tonnnnn!!","body":"I can&#39;t upvote as I don&#39;t have enough reputation. BUT THANK YOU SO MUCH for your comment. If I understand correctly, since I have specified the size of the inner array, which means I have initialized the inner array so they are not null. Do I understand you correctly? Thanks a tonnnnn!!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687492141,"post_id":76536909,"comment_id":134947449,"body_markdown":"@SophyTao, correct, the inner _array_ will not be null, although the elements, or element, of the inner array, are.  You are considering that it is a _jagged_ array, in which, this would be null.  And, no problem, glad it helped.","body":"@SophyTao, correct, the inner <i>array</i> will not be null, although the elements, or element, of the inner array, are.  You are considering that it is a <i>jagged</i> array, in which, this would be null.  And, no problem, glad it helped."},{"owner":{"account_id":26594651,"reputation":1,"user_id":20217238,"display_name":"Sophy Tao"},"score":0,"creation_date":1687493736,"post_id":76536909,"comment_id":134947574,"body_markdown":"Thank you again. Really really appreciate it!","body":"Thank you again. Really really appreciate it!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687495689,"post_id":76536909,"comment_id":134947728,"body_markdown":"@SophyTao, no prob!","body":"@SophyTao, no prob!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687492468,"creation_date":1687490608,"answer_id":76536909,"question_id":76536836,"body_markdown":"&gt; _&quot;... therefore I believe those indices that I didn&#39;t assign value should be null ...&quot;_\r\n\r\nNo, if you&#39;ve specified the inner array size during the declaration, then it will be initialized.\r\n\r\nYou are possibly thinking of a _[&quot;jagged&quot; array](https://en.wikipedia.org/wiki/Jagged_array)_, where you don&#39;t specify the inner array size.\r\n\r\n```java\r\nInteger[][] bucket = new Integer[nums.length + 1][];\r\n```\r\n\r\nThis will cause the _if-conditional_ to match.\r\n\r\n```java\r\nif (bucket[frequency] == null)\r\n```\r\n\r\n&gt; _&quot;... I looped through the 2D array and trying to find those bucket[i] that are not null, which means I have assigned value to bucket[i][0] in the previous loop. However, I got NullPointerException because there are instances where bucket[i] is not null, but bucket[i][0] is null. ...&quot;_\r\n\r\nThe confusion you&#39;re having is that the contents of the inner array, _Integer[]_, can be null, in addition to the inner array element, _Integer_.\r\n\r\nSo, the inner array is not null, _bucket[i]_, and the element is, _bucket[i][0]_.\r\n\r\nFor example, consider the following.\r\n\r\n```java\r\ntopKFrequent(new int[] { 1, 2, 3, 4, 2, 3 }, 2);\r\n```\r\n\r\n```none\r\nbucket[0] = [null]\r\nbucket[1] = [4]\r\nbucket[2] = [3]\r\nbucket[3] = [null]\r\nbucket[4] = [null]\r\nbucket[5] = [null]\r\nbucket[6] = [null]\r\n```","title":"Why the element of an Integer 2D array is not null by default","body":"<blockquote>\n<p><em>&quot;... therefore I believe those indices that I didn't assign value should be null ...&quot;</em></p>\n</blockquote>\n<p>No, if you've specified the inner array size during the declaration, then it will be initialized.</p>\n<p>You are possibly thinking of a <em><a href=\"https://en.wikipedia.org/wiki/Jagged_array\" rel=\"nofollow noreferrer\">&quot;jagged&quot; array</a></em>, where you don't specify the inner array size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[][] bucket = new Integer[nums.length + 1][];\n</code></pre>\n<p>This will cause the <em>if-conditional</em> to match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (bucket[frequency] == null)\n</code></pre>\n<blockquote>\n<p><em>&quot;... I looped through the 2D array and trying to find those bucket[i] that are not null, which means I have assigned value to bucket[i][0] in the previous loop. However, I got NullPointerException because there are instances where bucket[i] is not null, but bucket[i][0] is null. ...&quot;</em></p>\n</blockquote>\n<p>The confusion you're having is that the contents of the inner array, <em>Integer[]</em>, can be null, in addition to the inner array element, <em>Integer</em>.</p>\n<p>So, the inner array is not null, <em>bucket[i]</em>, and the element is, <em>bucket[i][0]</em>.</p>\n<p>For example, consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>topKFrequent(new int[] { 1, 2, 3, 4, 2, 3 }, 2);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>bucket[0] = [null]\nbucket[1] = [4]\nbucket[2] = [3]\nbucket[3] = [null]\nbucket[4] = [null]\nbucket[5] = [null]\nbucket[6] = [null]\n</code></pre>\n"}],"owner":{"account_id":26594651,"reputation":1,"user_id":20217238,"display_name":"Sophy Tao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687492468,"creation_date":1687489156,"question_id":76536836,"body_markdown":"I&#39;ve been stuck trying to debug my code forever. It would be much appreciated if someone could help take a look and find out what is wrong!\r\n\r\nTo make it easier to understand, I&#39;ve declared a 2D array Integer[][] bucket on line 4, and in the following for-loop, I assign value to some indices of the outer array (therefore I believe those indices that I didn&#39;t assign value should be `null`); \r\n\r\nThen on line 1, I looped through the 2D array and tried to find those `bucket[i]` that are not null, which means I have assigned value to `bucket[i][0]` in the previous loop. However, I got `NullPointerException` because there are instances where `bucket[i]` is not `null`, but `bucket[i][0]` is null. \r\n\r\nHere is my code:\r\n   \r\n```\r\npublic int[] topKFrequent(int[] nums, int k) {\r\n    Map&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\r\n    for(int num : nums) \r\n        freqMap.put(num, freqMap.getOrDefault(num, 0)+1);\r\n    Integer[][] bucket = new Integer[nums.length+1][1];\r\n    for(int key : freqMap.keySet()) {\r\n        int frequency = freqMap.get(key);\r\n        if (bucket[frequency] == null) {\r\n            bucket[frequency] = new Integer[1];\r\n        }\r\n        bucket[frequency][0] = key;\r\n    }\r\n        \r\n    int[] res = new int[k];\r\n    int resIdx = 0;\r\n    for(int i = bucket.length-1; i&gt;=0; i--) {\r\n        if(bucket[i] != null) {\r\n            System.out.println(i);\r\n            System.out.println(bucket[i][0]);\r\n            res[resIdx++] = bucket[i][0];\r\n            if(resIdx == k) return res;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n```\r\n\r\nI&#39;m so confused why these could happen. I believe for that `bucket [i]` that is not `null`, I have assigned non-null values in the previous loop. Please help me understand, thank you so much!","title":"Why the element of an Integer 2D array is not null by default","body":"<p>I've been stuck trying to debug my code forever. It would be much appreciated if someone could help take a look and find out what is wrong!</p>\n<p>To make it easier to understand, I've declared a 2D array Integer[][] bucket on line 4, and in the following for-loop, I assign value to some indices of the outer array (therefore I believe those indices that I didn't assign value should be <code>null</code>);</p>\n<p>Then on line 1, I looped through the 2D array and tried to find those <code>bucket[i]</code> that are not null, which means I have assigned value to <code>bucket[i][0]</code> in the previous loop. However, I got <code>NullPointerException</code> because there are instances where <code>bucket[i]</code> is not <code>null</code>, but <code>bucket[i][0]</code> is null.</p>\n<p>Here is my code:</p>\n<pre><code>public int[] topKFrequent(int[] nums, int k) {\n    Map&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\n    for(int num : nums) \n        freqMap.put(num, freqMap.getOrDefault(num, 0)+1);\n    Integer[][] bucket = new Integer[nums.length+1][1];\n    for(int key : freqMap.keySet()) {\n        int frequency = freqMap.get(key);\n        if (bucket[frequency] == null) {\n            bucket[frequency] = new Integer[1];\n        }\n        bucket[frequency][0] = key;\n    }\n        \n    int[] res = new int[k];\n    int resIdx = 0;\n    for(int i = bucket.length-1; i&gt;=0; i--) {\n        if(bucket[i] != null) {\n            System.out.println(i);\n            System.out.println(bucket[i][0]);\n            res[resIdx++] = bucket[i][0];\n            if(resIdx == k) return res;\n        }\n    }\n    return res;\n}\n</code></pre>\n<p>I'm so confused why these could happen. I believe for that <code>bucket [i]</code> that is not <code>null</code>, I have assigned non-null values in the previous loop. Please help me understand, thank you so much!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687492166,"creation_date":1687492166,"answer_id":76536971,"question_id":76534642,"body_markdown":"You should add a rule to permit register endpoint like this\r\n\r\n    .antMatchers(&quot;${/register-end-point}&quot;).permitAll()\r\n\r\nfor the given controller add this rule\r\n\r\n    .antMatchers(&quot;/users&quot;).permitAll()","title":"Need Access to API Endpoint to register but it returns that needs access the JWT (MalformedJwtException)","body":"<p>You should add a rule to permit register endpoint like this</p>\n<pre><code>.antMatchers(&quot;${/register-end-point}&quot;).permitAll()\n</code></pre>\n<p>for the given controller add this rule</p>\n<pre><code>.antMatchers(&quot;/users&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687492166,"creation_date":1687457461,"question_id":76534642,"body_markdown":"Controller:\r\n\r\n    @RestController @RequestMapping(&quot;/users&quot;) public class UserController {\r\n        @Autowired\r\n        private UserService service;\r\n        @PostMapping\r\n        public void postUser(@RequestBody User user){\r\n            service.createUser(user);\r\n        } }\r\n\r\n\r\nConfiguration class:\r\n\r\n      public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Bean\r\n        public BCryptPasswordEncoder encoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        private static final String[] SWAGGER_WHITELIST = {\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/swagger-resources&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;/webjars/**&quot;\r\n        };\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \t\r\n        \tSystem.out.println(&quot;Configure&quot;);\r\n        \t\r\n            http.headers().frameOptions().disable();\r\n            http.cors().and().csrf().disable()\r\n                    .addFilterAfter(new JWTFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                    .authorizeRequests()\r\n                    .antMatchers(SWAGGER_WHITELIST).permitAll()\r\n                    .antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                    .antMatchers(HttpMethod.POST,&quot;/login&quot;).permitAll()\r\n                    .antMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll() \r\n                    .antMatchers(HttpMethod.GET,&quot;/users&quot;).hasAnyRole(&quot;USERS&quot;,&quot;MANAGERS&quot;)\r\n                    .antMatchers(&quot;/managers&quot;).hasAnyRole(&quot;MANAGERS&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n\r\n&gt; Postman returns:  403 Forbidden\r\n\r\nConsole exception:\r\n\r\n&gt; io.jsonwebtoken.MalformedJwtException: JWT strings must contain\r\n&gt; exactly 2 period characters. Found: 0 \tat\r\n&gt; io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:235)","title":"Need Access to API Endpoint to register but it returns that needs access the JWT (MalformedJwtException)","body":"<p>Controller:</p>\n<pre><code>@RestController @RequestMapping(&quot;/users&quot;) public class UserController {\n    @Autowired\n    private UserService service;\n    @PostMapping\n    public void postUser(@RequestBody User user){\n        service.createUser(user);\n    } }\n</code></pre>\n<p>Configuration class:</p>\n<pre><code>  public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean\n    public BCryptPasswordEncoder encoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    private static final String[] SWAGGER_WHITELIST = {\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/webjars/**&quot;\n    };\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        System.out.println(&quot;Configure&quot;);\n        \n        http.headers().frameOptions().disable();\n        http.cors().and().csrf().disable()\n                .addFilterAfter(new JWTFilter(), UsernamePasswordAuthenticationFilter.class)\n                .authorizeRequests()\n                .antMatchers(SWAGGER_WHITELIST).permitAll()\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .antMatchers(HttpMethod.POST,&quot;/login&quot;).permitAll()\n                .antMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll() \n                .antMatchers(HttpMethod.GET,&quot;/users&quot;).hasAnyRole(&quot;USERS&quot;,&quot;MANAGERS&quot;)\n                .antMatchers(&quot;/managers&quot;).hasAnyRole(&quot;MANAGERS&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n</code></pre>\n<blockquote>\n<p>Postman returns:  403 Forbidden</p>\n</blockquote>\n<p>Console exception:</p>\n<blockquote>\n<p>io.jsonwebtoken.MalformedJwtException: JWT strings must contain\nexactly 2 period characters. Found: 0     at\nio.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:235)</p>\n</blockquote>\n"},{"tags":["java","android","memory-leaks","interstitial"],"comments":[{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":1,"creation_date":1582629546,"post_id":60359513,"comment_id":106835461,"body_markdown":"Have you tried making `mInterstitialAd` a local variable instead?","body":"Have you tried making <code>mInterstitialAd</code> a local variable instead?"},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582736106,"post_id":60359513,"comment_id":106882841,"body_markdown":"@harrytmthy Why would that solve the problem?","body":"@harrytmthy Why would that solve the problem?"},{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":0,"creation_date":1582738816,"post_id":60359513,"comment_id":106884045,"body_markdown":"Because in most cases memory leak happened when we keep a reference of a mutable object, where this reference is NOT lifecycle aware. When `AdListener` callback is called, somehow your `mInterstitialAd` is being leaked. That&#39;s why I am asking you to turn it into a local variable instead, and make it `final` to ensure its immutability. That way, you can prevent the memory leak.","body":"Because in most cases memory leak happened when we keep a reference of a mutable object, where this reference is NOT lifecycle aware. When <code>AdListener</code> callback is called, somehow your <code>mInterstitialAd</code> is being leaked. That&#39;s why I am asking you to turn it into a local variable instead, and make it <code>final</code> to ensure its immutability. That way, you can prevent the memory leak."},{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":0,"creation_date":1582738855,"post_id":60359513,"comment_id":106884061,"body_markdown":"And if that&#39;s the case, please let me know so I can write it as an answer and claim the bounty :)","body":"And if that&#39;s the case, please let me know so I can write it as an answer and claim the bounty :)"},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582743218,"post_id":60359513,"comment_id":106886130,"body_markdown":"@harrytmthy just tried it and it&#39;s still leaking","body":"@harrytmthy just tried it and it&#39;s still leaking"},{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":0,"creation_date":1582770064,"post_id":60359513,"comment_id":106894781,"body_markdown":"See my answer :)","body":"See my answer :)"},{"owner":{"account_id":2658916,"reputation":9882,"user_id":2299040,"accept_rate":63,"display_name":"Sahil Manchanda"},"score":0,"creation_date":1582888247,"post_id":60359513,"comment_id":106940482,"body_markdown":"happened with me too. Seems like bug from their side","body":"happened with me too. Seems like bug from their side"},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582902935,"post_id":60359513,"comment_id":106948142,"body_markdown":"@SahilManchanda That&#39;s what i thought, but why is no one reporting this. I can barely find anything about this here on stackoverflow and on their community page they don&#39;t answer my questions.","body":"@SahilManchanda That&#39;s what i thought, but why is no one reporting this. I can barely find anything about this here on stackoverflow and on their community page they don&#39;t answer my questions."},{"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"score":0,"creation_date":1583006574,"post_id":60359513,"comment_id":106974282,"body_markdown":"Have you browsed some of the issues on https://github.com/googleads/googleads-mobile-android-examples? Does [issue #83](https://github.com/googleads/googleads-mobile-android-examples/issues/83) or [issue #84](https://github.com/googleads/googleads-mobile-android-examples/issues/84) look similar?","body":"Have you browsed some of the issues on <a href=\"https://github.com/googleads/googleads-mobile-android-examples\" rel=\"nofollow noreferrer\">github.com/googleads/googleads-mobile-android-examples</a>? Does <a href=\"https://github.com/googleads/googleads-mobile-android-examples/issues/83\" rel=\"nofollow noreferrer\">issue #83</a> or <a href=\"https://github.com/googleads/googleads-mobile-android-examples/issues/84\" rel=\"nofollow noreferrer\">issue #84</a> look similar?"},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":1,"creation_date":1583007070,"post_id":60359513,"comment_id":106974405,"body_markdown":"@kasptom yes except i&#39;m just using a basic interstitial ad and not a rewarded video but i just looked at the comments and someone has the exact same problem on #84.","body":"@kasptom yes except i&#39;m just using a basic interstitial ad and not a rewarded video but i just looked at the comments and someone has the exact same problem on #84."}],"answers":[{"comments":[{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582815899,"post_id":60425329,"comment_id":106914239,"body_markdown":"I don&#39;t understand this? My method refreshInterstitial() is the code that is called in onCreate() when i launch my activity so it is called once. Also without the adlistener the interstitial won&#39;t show up because i have to call mInterstitialAd.show() when the ad is loaded.","body":"I don&#39;t understand this? My method refreshInterstitial() is the code that is called in onCreate() when i launch my activity so it is called once. Also without the adlistener the interstitial won&#39;t show up because i have to call mInterstitialAd.show() when the ad is loaded."},{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":0,"creation_date":1582822291,"post_id":60425329,"comment_id":106917789,"body_markdown":"Now let me ask you: do you only call `refreshInterstitial()` only once in the whole Activity lifespan? Because if you call it more than once, with your code, memory leak will happen.","body":"Now let me ask you: do you only call <code>refreshInterstitial()</code> only once in the whole Activity lifespan? Because if you call it more than once, with your code, memory leak will happen."},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582823619,"post_id":60425329,"comment_id":106918558,"body_markdown":"Once. I just put it inside a method because i have alot of code in my onCreate","body":"Once. I just put it inside a method because i have alot of code in my onCreate"},{"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"score":0,"creation_date":1582867704,"post_id":60425329,"comment_id":106931979,"body_markdown":"Then can you update your question, show us what&#39;s inside your `onCreate()` so we can figure out the solution? Because the Leak Trace logged `Leaking: YES (ObjectWatcher was watching this because Activity received Activity#onDestroy() callback and Activity#mDestroyed is true)`. Which means there is a part in your code which triggers `onDestroy()` then re-create the Activity, making your `InterstitialAd` constructed more than once.","body":"Then can you update your question, show us what&#39;s inside your <code>onCreate()</code> so we can figure out the solution? Because the Leak Trace logged <code>Leaking: YES (ObjectWatcher was watching this because Activity received Activity#onDestroy() callback and Activity#mDestroyed is true)</code>. Which means there is a part in your code which triggers <code>onDestroy()</code> then re-create the Activity, making your <code>InterstitialAd</code> constructed more than once."},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1582903046,"post_id":60425329,"comment_id":106948226,"body_markdown":"Thats because i go back to my previous activity, Activity is a second activity and not my mainactivity. So when i press the back button ObjectWatcher is destroyed and that&#39;s normal.","body":"Thats because i go back to my previous activity, Activity is a second activity and not my mainactivity. So when i press the back button ObjectWatcher is destroyed and that&#39;s normal."},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":1,"creation_date":1582903082,"post_id":60425329,"comment_id":106948244,"body_markdown":"I think this is a bug on their side unfortunately. Even their github example which is from google itself has this leak.","body":"I think this is a bug on their side unfortunately. Even their github example which is from google itself has this leak."}],"tags":[],"owner":{"account_id":2617733,"reputation":1148,"user_id":2266464,"accept_rate":100,"display_name":"Harry Timothy"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1582770658,"creation_date":1582769400,"answer_id":60425329,"question_id":60359513,"body_markdown":"According to [InterstitialAd Docs][1]:\r\n\r\n&gt; A single InterstitialAd object can be used to request and display multiple interstitial ads over the course of an activity&#39;s lifespan, **so you only need to construct it once**.\r\n\r\nAfter looking at your code again, I noticed you re-construct `mInterstitialAd` every time `refreshInterstitial()` method is called. But according to the docs above, you should only construct `mInterstitialAd` once during `onCreate()`.\r\n\r\nIn your case, **the main cause of the memory leak:** you still have an active listener (which is bound to Activity lifespan), yet you reconstruct a new `InterstitialAd` instance with another listener.\r\n\r\nSo, the solution is to reuse `InterstitialAd` instance and its listener without re-assigning. I suggest to simplify your `refreshInterstitial()` method to this:\r\n\r\n    private void refreshInterstitial() {\r\n        mInterstitialAd.loadAd(new AdRequest.Builder().addTestDevice(AdRequest.DEVICE_ID_EMULATOR).addTestDevice(&quot;877BCC97E130A0DC62B2E5770D854496&quot;).build());\r\n    }\r\n\r\nThen put `mInterstitialAd` assignment to `onCreate()`. This solution is similar to the one you can find [here][2].\r\n  [1]: https://developers.google.com/admob/android/interstitial#create_an_interstitial_ad_object\r\n  [2]: https://developers.google.com/admob/android/interstitial#using_an_adlistener_to_reload","title":"My interstitial Ad is causing a memory leak?","body":"<p>According to <a href=\"https://developers.google.com/admob/android/interstitial#create_an_interstitial_ad_object\" rel=\"nofollow noreferrer\">InterstitialAd Docs</a>:</p>\n\n<blockquote>\n  <p>A single InterstitialAd object can be used to request and display multiple interstitial ads over the course of an activity's lifespan, <strong>so you only need to construct it once</strong>.</p>\n</blockquote>\n\n<p>After looking at your code again, I noticed you re-construct <code>mInterstitialAd</code> every time <code>refreshInterstitial()</code> method is called. But according to the docs above, you should only construct <code>mInterstitialAd</code> once during <code>onCreate()</code>.</p>\n\n<p>In your case, <strong>the main cause of the memory leak:</strong> you still have an active listener (which is bound to Activity lifespan), yet you reconstruct a new <code>InterstitialAd</code> instance with another listener.</p>\n\n<p>So, the solution is to reuse <code>InterstitialAd</code> instance and its listener without re-assigning. I suggest to simplify your <code>refreshInterstitial()</code> method to this:</p>\n\n<pre><code>private void refreshInterstitial() {\n    mInterstitialAd.loadAd(new AdRequest.Builder().addTestDevice(AdRequest.DEVICE_ID_EMULATOR).addTestDevice(\"877BCC97E130A0DC62B2E5770D854496\").build());\n}\n</code></pre>\n\n<p>Then put <code>mInterstitialAd</code> assignment to <code>onCreate()</code>. This solution is similar to the one you can find <a href=\"https://developers.google.com/admob/android/interstitial#using_an_adlistener_to_reload\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":6205573,"reputation":18140,"user_id":4833705,"accept_rate":86,"display_name":"Lance Samaria"},"score":1,"creation_date":1687495669,"post_id":66215423,"comment_id":134947725,"body_markdown":"I&#39;m the 2nd person who upvoted this answer but upon further testing this answer doesn&#39;t work. **Don&#39;t use it**","body":"I&#39;m the 2nd person who upvoted this answer but upon further testing this answer doesn&#39;t work. <b>Don&#39;t use it</b>"}],"tags":[],"owner":{"account_id":16085588,"reputation":21,"user_id":11610390,"display_name":"JMSP"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614113125,"creation_date":1613423277,"answer_id":66215423,"question_id":60359513,"body_markdown":"This is working for me: (in ActivityMain()):\r\n\r\n```kotlin\r\nMobileAds.initialize(WeakReference(applicationContext).get()){}\r\n```\r\nin fragments:\r\n\r\n```kotlin\r\nadView= AdView(WeakReference(requireActivity().application).get())\r\n```\r\nLeakCanary shows:\r\n\r\n ====================================\r\n    HEAP ANALYSIS RESULT\r\n    ====================================\r\n    0 APPLICATION LEAKS.","title":"My interstitial Ad is causing a memory leak?","body":"<p>This is working for me: (in ActivityMain()):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>MobileAds.initialize(WeakReference(applicationContext).get()){}\n</code></pre>\n<p>in fragments:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>adView= AdView(WeakReference(requireActivity().application).get())\n</code></pre>\n<p>LeakCanary shows:</p>\n<p>====================================\nHEAP ANALYSIS RESULT\n====================================\n0 APPLICATION LEAKS.</p>\n"},{"comments":[{"owner":{"account_id":7043258,"reputation":2377,"user_id":5394986,"accept_rate":0,"display_name":"Pablo Alfonso"},"score":0,"creation_date":1677956165,"post_id":73231200,"comment_id":133441065,"body_markdown":"I know my memory leak is related to this specific setting with the FullScreenContentCallback. However, I&#39;m still getting memory leaks even after setting this to null.","body":"I know my memory leak is related to this specific setting with the FullScreenContentCallback. However, I&#39;m still getting memory leaks even after setting this to null."}],"tags":[],"owner":{"account_id":6668186,"reputation":81,"user_id":5145150,"display_name":"Ahsan Malik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659594340,"creation_date":1659594340,"answer_id":73231200,"question_id":60359513,"body_markdown":"I was facing the same issue in interstitial ad and it is resolved by setting the FullScreenContentCallback to null in all of its overridden methods.\r\n\r\n     interstitial.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n            @Override\r\n            public void onAdDismissedFullScreenContent() {\r\n                super.onAdDismissedFullScreenContent();\r\n                \r\n                interstitial.setFullScreenContentCallback(null);}}","title":"My interstitial Ad is causing a memory leak?","body":"<p>I was facing the same issue in interstitial ad and it is resolved by setting the FullScreenContentCallback to null in all of its overridden methods.</p>\n<pre><code> interstitial.setFullScreenContentCallback(new FullScreenContentCallback() {\n        @Override\n        public void onAdDismissedFullScreenContent() {\n            super.onAdDismissedFullScreenContent();\n            \n            interstitial.setFullScreenContentCallback(null);}}\n</code></pre>\n"}],"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1687491689,"creation_date":1582436333,"question_id":60359513,"body_markdown":"I also tried using the `ApplicationContext` but it still leaks for some reason. \r\n\r\nFound a similar post about the issue here https://stackoverflow.com/questions/29252545/adactivity-leak-on-admob-sdk-7-0-for-android#comment106773604_29252545 but without an answer.\r\n\r\nAlso tried to set the adlistener and the ad to null in onDestroy() but without any luck and still leaks the activity.\r\n\r\n**My code called in onCreate()**\r\n\r\n    private void refreshInterstitial(){\r\n            mInterstitialAd = new InterstitialAd(this);\r\n            mInterstitialAd.setAdUnitId(&quot;AD_ID&quot;);\r\n            mInterstitialAd.loadAd(new AdRequest.Builder().addTestDevice(AdRequest.DEVICE_ID_EMULATOR).addTestDevice(&quot;877BCC97E130A0DC62B2E5770D854496&quot;).build());\r\n    \r\n            mInterstitialAd.setAdListener(new AdListener() {\r\n                @Override\r\n                public void onAdLoaded() {\r\n                    mInterstitialAd.show();\r\n                }\r\n                @Override\r\n                public void onAdClosed() {\r\n                }\r\n            });\r\n    }\r\n\r\n**Leakcanary Leak Trace**\r\n\r\n\r\n   \r\n\r\n     ┬───\r\n        │ GC Root: Global variable in native code\r\n        │\r\n        ├─ mx instance\r\n        │    Leaking: UNKNOWN\r\n        │    ↓ mx.a\r\n        │         ~\r\n        ├─ com.google.android.gms.ads.internal.webview.w instance\r\n        │    Leaking: UNKNOWN\r\n        │    mContext instance of com.google.android.gms.ads.internal.webview.ay, not wrapping activity\r\n        │    View#mParent is null\r\n        │    View#mAttachInfo is null (view detached)\r\n        │    View.mWindowAttachCount = 1\r\n        │    ↓ w.a\r\n        │        ~\r\n        ├─ com.google.android.gms.ads.internal.webview.aa instance\r\n        │    Leaking: YES (View detached and has parent)\r\n        │    mContext instance of com.google.android.gms.ads.internal.webview.ay, not wrapping activity\r\n        │    View#mParent is set\r\n        │    View#mAttachInfo is null (view detached)\r\n        │    View.mWindowAttachCount = 1\r\n        │    ↓ aa.mListenerInfo\r\n        ├─ android.view.View$ListenerInfo instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ View$ListenerInfo.mOnClickListener\r\n        ├─ com.google.android.gms.ads.nonagon.ad.webview.f instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ f.a\r\n        ├─ com.google.android.gms.ads.nonagon.ad.webview.l instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ l.e\r\n        ├─ com.google.android.gms.ads.nonagon.ad.event.bs instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ bs.a\r\n        ├─ java.util.HashMap instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ HashMap.table\r\n        ├─ java.util.HashMap$Node[] array\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ HashMap$Node[].[1]\r\n        ├─ java.util.HashMap$Node instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ HashMap$Node.key\r\n        ├─ com.google.android.gms.ads.nonagon.shim.k instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ k.a\r\n        ├─ com.google.android.gms.ads.internal.client.ae instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ ae.a\r\n        ├─ com.google.android.gms.internal.ads.zzuc instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    ↓ zzuc.zzcbw\r\n        ├─ com.test.Activity$1 instance\r\n        │    Leaking: YES (aa↑ is leaking)\r\n        │    Anonymous subclass of com.google.android.gms.ads.AdListener\r\n        │    ↓ EqualizerActivity$1.this$0\r\n        ╰→ com.test.Activity instance\r\n        ​     Leaking: YES (ObjectWatcher was watching this because Activity received Activity#onDestroy() callback and Activity#mDestroyed is true)\r\n        ​     key = 40a1eb8e-c9e6-4062-b5f7-053e642e812f\r\n        ​     watchDurationMillis = 5288\r\n        ​     retainedDurationMillis = 258","title":"My interstitial Ad is causing a memory leak?","body":"<p>I also tried using the <code>ApplicationContext</code> but it still leaks for some reason. </p>\n\n<p>Found a similar post about the issue here <a href=\"https://stackoverflow.com/questions/29252545/adactivity-leak-on-admob-sdk-7-0-for-android#comment106773604_29252545\">AdActivity leak on AdMob (SDK 7.0) for Android</a> but without an answer.</p>\n\n<p>Also tried to set the adlistener and the ad to null in onDestroy() but without any luck and still leaks the activity.</p>\n\n<p><strong>My code called in onCreate()</strong></p>\n\n<pre><code>private void refreshInterstitial(){\n        mInterstitialAd = new InterstitialAd(this);\n        mInterstitialAd.setAdUnitId(\"AD_ID\");\n        mInterstitialAd.loadAd(new AdRequest.Builder().addTestDevice(AdRequest.DEVICE_ID_EMULATOR).addTestDevice(\"877BCC97E130A0DC62B2E5770D854496\").build());\n\n        mInterstitialAd.setAdListener(new AdListener() {\n            @Override\n            public void onAdLoaded() {\n                mInterstitialAd.show();\n            }\n            @Override\n            public void onAdClosed() {\n            }\n        });\n}\n</code></pre>\n\n<p><strong>Leakcanary Leak Trace</strong></p>\n\n<pre><code> ┬───\n    │ GC Root: Global variable in native code\n    │\n    ├─ mx instance\n    │    Leaking: UNKNOWN\n    │    ↓ mx.a\n    │         ~\n    ├─ com.google.android.gms.ads.internal.webview.w instance\n    │    Leaking: UNKNOWN\n    │    mContext instance of com.google.android.gms.ads.internal.webview.ay, not wrapping activity\n    │    View#mParent is null\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount = 1\n    │    ↓ w.a\n    │        ~\n    ├─ com.google.android.gms.ads.internal.webview.aa instance\n    │    Leaking: YES (View detached and has parent)\n    │    mContext instance of com.google.android.gms.ads.internal.webview.ay, not wrapping activity\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount = 1\n    │    ↓ aa.mListenerInfo\n    ├─ android.view.View$ListenerInfo instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ View$ListenerInfo.mOnClickListener\n    ├─ com.google.android.gms.ads.nonagon.ad.webview.f instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ f.a\n    ├─ com.google.android.gms.ads.nonagon.ad.webview.l instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ l.e\n    ├─ com.google.android.gms.ads.nonagon.ad.event.bs instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ bs.a\n    ├─ java.util.HashMap instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ HashMap.table\n    ├─ java.util.HashMap$Node[] array\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ HashMap$Node[].[1]\n    ├─ java.util.HashMap$Node instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ HashMap$Node.key\n    ├─ com.google.android.gms.ads.nonagon.shim.k instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ k.a\n    ├─ com.google.android.gms.ads.internal.client.ae instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ ae.a\n    ├─ com.google.android.gms.internal.ads.zzuc instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    ↓ zzuc.zzcbw\n    ├─ com.test.Activity$1 instance\n    │    Leaking: YES (aa↑ is leaking)\n    │    Anonymous subclass of com.google.android.gms.ads.AdListener\n    │    ↓ EqualizerActivity$1.this$0\n    ╰→ com.test.Activity instance\n    ​     Leaking: YES (ObjectWatcher was watching this because Activity received Activity#onDestroy() callback and Activity#mDestroyed is true)\n    ​     key = 40a1eb8e-c9e6-4062-b5f7-053e642e812f\n    ​     watchDurationMillis = 5288\n    ​     retainedDurationMillis = 258\n</code></pre>\n"},{"tags":["java","android","android-studio","uri","okhttp"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687442504,"post_id":76532720,"comment_id":134939998,"body_markdown":"how about you provide some logging to log whenever something goes wrong? ignoring exceptions will not help you figure out what&#39;s going wrong","body":"how about you provide some logging to log whenever something goes wrong? ignoring exceptions will not help you figure out what&#39;s going wrong"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687455741,"post_id":76532720,"comment_id":134942862,"body_markdown":"Uri.getPath() does not give you a file system path. You can easily check that using File.exists() before uploading.","body":"Uri.getPath() does not give you a file system path. You can easily check that using File.exists() before uploading."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687455811,"post_id":76532720,"comment_id":134942872,"body_markdown":"Why didnt you implement onResponse() and onFailure()? Now you know nothing.","body":"Why didnt you implement onResponse() and onFailure()? Now you know nothing."},{"owner":{"account_id":5529321,"reputation":165,"user_id":4389878,"accept_rate":20,"display_name":"Bosco Tsin"},"score":0,"creation_date":1687456915,"post_id":76532720,"comment_id":134943114,"body_markdown":"@blackapps thanks for the File.exists() suggestion. I just tried that right now and the answer is No. So I guess that means no file was generated with File(uri.getPath()). What next then?","body":"@blackapps thanks for the File.exists() suggestion. I just tried that right now and the answer is No. So I guess that means no file was generated with File(uri.getPath()). What next then?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687508697,"post_id":76532720,"comment_id":134949720,"body_markdown":"Generated? Of course not. That will never generate/create a file. I only said that you used a wrong/not existing/impossible path.","body":"Generated? Of course not. That will never generate/create a file. I only said that you used a wrong/not existing/impossible path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687508797,"post_id":76532720,"comment_id":134949741,"body_markdown":"You should not try to get a &#39;path&#39; for that uri. That uri -Uri.toString()- is a nice content scheme. Use it directly to upload that file.","body":"You should not try to get a &#39;path&#39; for that uri. That uri -Uri.toString()- is a nice content scheme. Use it directly to upload that file."}],"answers":[{"tags":[],"owner":{"account_id":14778272,"reputation":66,"user_id":10672450,"display_name":"pilar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687491354,"creation_date":1687491354,"answer_id":76536941,"question_id":76532720,"body_markdown":"Here&#39;s what works for me to select images from the local library which is an amalgamation of several modified snippets I have over the years. Not the cleanest I have but so far, it works for API 24 and up.\r\n\r\n**ActivityResultLauncher variable**\r\n\r\n    private final ActivityResultLauncher&lt;Intent&gt; uploadL = registerForActivityResult(\r\n                    new ActivityResultContracts.StartActivityForResult(),\r\n                    result -&gt; {\r\n                        Intent data = result.getData();\r\n                        if (data != null) {\r\n                            Uri uri = data.getData();\r\n                            String s = getPath(uri);\r\n                            //NOTE: use the &#39;path&#39; variable to create a temporary file for uploading\r\n                            String path = s == null ? uri.getPath() : s;\r\n                        }\r\n                    });\r\n\r\n**Call on your button onClickListener or the likes**\r\n\r\n    upload.setOnClickListener(view -&gt; {\r\n                uploadL.launch(new Intent(Intent.ACTION_OPEN_DOCUMENT)\r\n                        .addCategory(Intent.CATEGORY_OPENABLE)\r\n                        .setType(&quot;image/*&quot;));\r\n            });\r\n\r\n**getPath() - check the varying URI schemes of the image**\r\n\r\n    public String getPath(Uri uri) {\r\n            if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n                // Return the remote address\r\n                if (isGooglePhotosUri(uri)) {\r\n                    return uri.getLastPathSegment();\r\n                } else return getPathIn(uri);\r\n            }\r\n            // File\r\n            else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n                return uri.getPath();\r\n            } else {\r\n                return getPathIn(uri);\r\n            }\r\n        }\r\n\r\n**getPathIn() method - for temporary copying the selected file into memory**\r\n\r\n    public String getPathIn(Uri uri) {\r\n        try {\r\n            ParcelFileDescriptor parcel = getContext().getContentResolver().\r\n                    openFileDescriptor(uri, &quot;r&quot;, null);\r\n            FileInputStream in = new FileInputStream(parcel.getFileDescriptor());\r\n    \r\n            File file_cache = new File(getContext().getCacheDir(), getFileName(uri));\r\n            FileOutputStream out = new FileOutputStream(file_cache);\r\n    \r\n            copyData(in, out);\r\n    \r\n            return file_cache.getPath();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n**The rest of the utility methods for the aforementioned main functions**\r\n\r\n    public String getFileName(Uri uri) {\r\n        String result = null;\r\n        if (uri.getScheme().equals(&quot;content&quot;)) {\r\n            Cursor cursor = getContext().getContentResolver().query(uri,\r\n                    null, null, null, null);\r\n            try {\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    int idx = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\r\n                    result = cursor.getString(idx);\r\n                }\r\n            } finally {\r\n                cursor.close();\r\n            }\r\n        }\r\n        if (result == null) {\r\n            result = uri.getPath();\r\n            int cut = result.lastIndexOf(&#39;/&#39;);\r\n            if (cut != -1) {\r\n                result = result.substring(cut + 1);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private void copyData(InputStream in, OutputStream out) throws IOException {\r\n        byte[] buffer = new byte[8 * 1024];\r\n        int len;\r\n        while ((len = in.read(buffer)) &gt; 0) {\r\n            out.write(buffer, 0, len);\r\n        }\r\n    }\r\n    \r\n    public static boolean isGooglePhotosUri(Uri uri) {\r\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\nP.S. You do not need to ask for the READ_EXTERNAL_STORAGE permission nor declare it in manifest if you are targeting for Android API 24 and up. Also, you can put the `getPath()`, `getPathIn()` and the rest of its support methods in a utility class for cleaning it up&#128522;.","title":"Cleanest Code in Android Java to Upload Image Selected from ActivityResultLauncher to PHP Server?","body":"<p>Here's what works for me to select images from the local library which is an amalgamation of several modified snippets I have over the years. Not the cleanest I have but so far, it works for API 24 and up.</p>\n<p><strong>ActivityResultLauncher variable</strong></p>\n<pre><code>private final ActivityResultLauncher&lt;Intent&gt; uploadL = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    Intent data = result.getData();\n                    if (data != null) {\n                        Uri uri = data.getData();\n                        String s = getPath(uri);\n                        //NOTE: use the 'path' variable to create a temporary file for uploading\n                        String path = s == null ? uri.getPath() : s;\n                    }\n                });\n</code></pre>\n<p><strong>Call on your button onClickListener or the likes</strong></p>\n<pre><code>upload.setOnClickListener(view -&gt; {\n            uploadL.launch(new Intent(Intent.ACTION_OPEN_DOCUMENT)\n                    .addCategory(Intent.CATEGORY_OPENABLE)\n                    .setType(&quot;image/*&quot;));\n        });\n</code></pre>\n<p><strong>getPath() - check the varying URI schemes of the image</strong></p>\n<pre><code>public String getPath(Uri uri) {\n        if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n            // Return the remote address\n            if (isGooglePhotosUri(uri)) {\n                return uri.getLastPathSegment();\n            } else return getPathIn(uri);\n        }\n        // File\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        } else {\n            return getPathIn(uri);\n        }\n    }\n</code></pre>\n<p><strong>getPathIn() method - for temporary copying the selected file into memory</strong></p>\n<pre><code>public String getPathIn(Uri uri) {\n    try {\n        ParcelFileDescriptor parcel = getContext().getContentResolver().\n                openFileDescriptor(uri, &quot;r&quot;, null);\n        FileInputStream in = new FileInputStream(parcel.getFileDescriptor());\n\n        File file_cache = new File(getContext().getCacheDir(), getFileName(uri));\n        FileOutputStream out = new FileOutputStream(file_cache);\n\n        copyData(in, out);\n\n        return file_cache.getPath();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p><strong>The rest of the utility methods for the aforementioned main functions</strong></p>\n<pre><code>public String getFileName(Uri uri) {\n    String result = null;\n    if (uri.getScheme().equals(&quot;content&quot;)) {\n        Cursor cursor = getContext().getContentResolver().query(uri,\n                null, null, null, null);\n        try {\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                int idx = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n                result = cursor.getString(idx);\n            }\n        } finally {\n            cursor.close();\n        }\n    }\n    if (result == null) {\n        result = uri.getPath();\n        int cut = result.lastIndexOf('/');\n        if (cut != -1) {\n            result = result.substring(cut + 1);\n        }\n    }\n    return result;\n}\n\nprivate void copyData(InputStream in, OutputStream out) throws IOException {\n    byte[] buffer = new byte[8 * 1024];\n    int len;\n    while ((len = in.read(buffer)) &gt; 0) {\n        out.write(buffer, 0, len);\n    }\n}\n\npublic static boolean isGooglePhotosUri(Uri uri) {\n    return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\n}\n</code></pre>\n<p>P.S. You do not need to ask for the READ_EXTERNAL_STORAGE permission nor declare it in manifest if you are targeting for Android API 24 and up. Also, you can put the <code>getPath()</code>, <code>getPathIn()</code> and the rest of its support methods in a utility class for cleaning it up😊.</p>\n"}],"owner":{"account_id":5529321,"reputation":165,"user_id":4389878,"accept_rate":20,"display_name":"Bosco Tsin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687491354,"creation_date":1687442433,"question_id":76532720,"body_markdown":"I would like to write the simplest code where the image that a user selected through ActivityResultLauncher will be sent to my own PHP server and be stored there.\r\nI have written the code below, and I have kept making small changes to it but none of them works. To avoid burdening every one, I am not posting my PHP codes but I believe they are correct, meaning there must be some bugs below in my code.\r\nCan anyone help me and tell me what I have done wrong. I will be happy too if you can share me an entirely different way of doing it.\r\nThanks a lot!!!\r\n\r\n```\r\n    private final ActivityResultLauncher&lt;Intent&gt; pickImageLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    Uri uri = result.getData().getData();\r\n                    OkHttpClient client = new OkHttpClient();\r\n                    MultipartBody.Builder builder = new MultipartBody.Builder().setType(MultipartBody.FORM);\r\n                    File file = new File(uri.getPath());\r\n                    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\r\n                    builder.addFormDataPart(&quot;fileToUpload&quot;, &quot;test.jpg&quot;, requestBody);\r\n                    okhttp3.Request request = new okhttp3.Request.Builder()\r\n                            .url(&quot;https://www.myphp.php&quot;)\r\n                            .post(builder.build())\r\n                            .build();\r\n                    client.newCall(request).enqueue(new Callback() {\r\n                        @Override\r\n                        public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\r\n                        }\r\n                        @Override\r\n                        public void onFailure(Call call, IOException e) {\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n```","title":"Cleanest Code in Android Java to Upload Image Selected from ActivityResultLauncher to PHP Server?","body":"<p>I would like to write the simplest code where the image that a user selected through ActivityResultLauncher will be sent to my own PHP server and be stored there.\nI have written the code below, and I have kept making small changes to it but none of them works. To avoid burdening every one, I am not posting my PHP codes but I believe they are correct, meaning there must be some bugs below in my code.\nCan anyone help me and tell me what I have done wrong. I will be happy too if you can share me an entirely different way of doing it.\nThanks a lot!!!</p>\n<pre><code>    private final ActivityResultLauncher&lt;Intent&gt; pickImageLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    Uri uri = result.getData().getData();\n                    OkHttpClient client = new OkHttpClient();\n                    MultipartBody.Builder builder = new MultipartBody.Builder().setType(MultipartBody.FORM);\n                    File file = new File(uri.getPath());\n                    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\n                    builder.addFormDataPart(&quot;fileToUpload&quot;, &quot;test.jpg&quot;, requestBody);\n                    okhttp3.Request request = new okhttp3.Request.Builder()\n                            .url(&quot;https://www.myphp.php&quot;)\n                            .post(builder.build())\n                            .build();\n                    client.newCall(request).enqueue(new Callback() {\n                        @Override\n                        public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\n                        }\n                        @Override\n                        public void onFailure(Call call, IOException e) {\n                        }\n                    });\n                }\n            });\n</code></pre>\n"},{"tags":["java","sql","hibernate","postgresql","jdbc"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1405519304,"post_id":24782717,"comment_id":38460224,"body_markdown":"What is your `createSQLQuery` method doing?","body":"What is your <code>createSQLQuery</code> method doing?"},{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1405519363,"post_id":24782717,"comment_id":38460271,"body_markdown":"@BheshGurung It is _hibernate_ method. I think that this method execute native query.","body":"@BheshGurung It is <i>hibernate</i> method. I think that this method execute native query."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1405519430,"post_id":24782717,"comment_id":38460316,"body_markdown":"It should be something like `session.createSQLQuery(sql).executeUpdate()`. That&#39;s why I asked, may be something missing in your posted code.","body":"It should be something like <code>session.createSQLQuery(sql).executeUpdate()</code>. That&#39;s why I asked, may be something missing in your posted code."}],"answers":[{"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1405519446,"post_id":24782788,"comment_id":38460332,"body_markdown":"I would assume that `cost` is a numeric column and numbers don&#39;t need single quotes.","body":"I would assume that <code>cost</code> is a numeric column and numbers don&#39;t need single quotes."},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1405519481,"post_id":24782788,"comment_id":38460357,"body_markdown":"Why do you use %s than.","body":"Why do you use %s than."},{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1405519536,"post_id":24782788,"comment_id":38460405,"body_markdown":"@a_horse_with_no_name Yes, cost is integer.","body":"@a_horse_with_no_name Yes, cost is integer."},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1405519660,"post_id":24782788,"comment_id":38460502,"body_markdown":"And also if it does not work please post the content of createSQLQuery() method.","body":"And also if it does not work please post the content of createSQLQuery() method."},{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1405519731,"post_id":24782788,"comment_id":38460544,"body_markdown":"createSQLQuery() is _hibernate_ internal method. http://www.java4s.com/hibernate/hibernate-native-sql-query-example/","body":"createSQLQuery() is <i>hibernate</i> internal method. <a href=\"http://www.java4s.com/hibernate/hibernate-native-sql-query-example/\" rel=\"nofollow noreferrer\">java4s.com/hibernate/hibernate-native-sql-query-example</a>"},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1405519809,"post_id":24782788,"comment_id":38460615,"body_markdown":"Than use Session object to create it. Simply doing createSqlQuery(sql) should give you compile time error.","body":"Than use Session object to create it. Simply doing createSqlQuery(sql) should give you compile time error."},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1405520016,"post_id":24782788,"comment_id":38460767,"body_markdown":"I have made the edit. Your code should look like that.","body":"I have made the edit. Your code should look like that."},{"owner":{"account_id":8888442,"reputation":465,"user_id":6635967,"display_name":"HRoux"},"score":1,"creation_date":1540811982,"post_id":24782788,"comment_id":92988033,"body_markdown":"`createSQLQuery()` is deprecated since hibernate 5.2. Now you should use `createNativeQuery()` instead","body":"<code>createSQLQuery()</code> is deprecated since hibernate 5.2. Now you should use <code>createNativeQuery()</code> instead"}],"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"comment_count":8,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1509535084,"creation_date":1405519156,"answer_id":24782788,"question_id":24782717,"body_markdown":"This should help you.\r\n\r\n    Session session = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\r\n    session.beginTransaction();\r\n    String sql = String.format(&quot;INSERT INTO products (name,cost) VALUES(&#39;%s&#39;,%s);&quot;,product.getName(), product.getCost());\r\n    session.createSQLQuery(sql).executeUpdate();\r\n    session.getTransaction().commit();\r\n    session.close();","title":"Execute native sql with hibernate","body":"<p>This should help you.</p>\n\n<pre><code>Session session = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\nsession.beginTransaction();\nString sql = String.format(\"INSERT INTO products (name,cost) VALUES('%s',%s);\",product.getName(), product.getCost());\nsession.createSQLQuery(sql).executeUpdate();\nsession.getTransaction().commit();\nsession.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1469810,"reputation":1231,"user_id":1381650,"display_name":"Jp Vinjamoori"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1687491228,"creation_date":1405520849,"answer_id":24783414,"question_id":24782717,"body_markdown":"It&#39;s always better to use PreparedStatement *(You don&#39;t want to give way to SQL Injections)*.\r\n\r\n    String sql = &quot;INSERT INTO products (name,cost) VALUES (?,?)&quot;;\r\n    \r\n    Session sess = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\r\n    Connection con = sess.connection();\r\n    PreparedStatement pstmt = con.prepareStatement(sql);\r\n    \r\n    pstmt.setString(1, product.getName());\r\n    pstmt.setInt(2, product.getCost());\r\n    \r\n    pstmt.executeUpdate();\r\n    \r\n    con.commit();\r\n    pstmt.close();\r\n","title":"Execute native sql with hibernate","body":"<p>It's always better to use PreparedStatement <em>(You don't want to give way to SQL Injections)</em>.</p>\n<pre><code>String sql = &quot;INSERT INTO products (name,cost) VALUES (?,?)&quot;;\n\nSession sess = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\nConnection con = sess.connection();\nPreparedStatement pstmt = con.prepareStatement(sql);\n\npstmt.setString(1, product.getName());\npstmt.setInt(2, product.getCost());\n\npstmt.executeUpdate();\n\ncon.commit();\npstmt.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2695627,"reputation":196,"user_id":2327763,"display_name":"BrotherBear"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437564131,"creation_date":1437564131,"answer_id":31561681,"question_id":24782717,"body_markdown":"Another issue that might hit you (like it hit me) is this:\r\n\r\nYou want to run a native query, but can&#39;t get it to work in your production code? Pay attention if you are using a different database user for the application than the schema owner. In that case you may have to add the schema prefix to the referenced tables in order to make it work. \r\n\r\nIn my example I am using an entity manager instead of the session:\r\n\r\n    String sql = &quot;select id from some_table&quot;;\r\n    Query query = em.createNativeQuery(sql);\r\n    List&lt;Long&gt; results = query.getResultList();\r\n\r\nif some_table is owned by e.g. dba while the application is running as user, you will need to modify the query to:\r\n\r\n    String sql = &quot;select id from dba.some_table&quot;;\r\n\r\nHaving Hibernate set to prefix all tables with \r\n\r\n    &lt;prop key=&quot;hibernate.default_schema&quot;&gt;dba&lt;/prop&gt;\r\n\r\ndoes apparently NOT affect native queries.","title":"Execute native sql with hibernate","body":"<p>Another issue that might hit you (like it hit me) is this:</p>\n\n<p>You want to run a native query, but can't get it to work in your production code? Pay attention if you are using a different database user for the application than the schema owner. In that case you may have to add the schema prefix to the referenced tables in order to make it work. </p>\n\n<p>In my example I am using an entity manager instead of the session:</p>\n\n<pre><code>String sql = \"select id from some_table\";\nQuery query = em.createNativeQuery(sql);\nList&lt;Long&gt; results = query.getResultList();\n</code></pre>\n\n<p>if some_table is owned by e.g. dba while the application is running as user, you will need to modify the query to:</p>\n\n<pre><code>String sql = \"select id from dba.some_table\";\n</code></pre>\n\n<p>Having Hibernate set to prefix all tables with </p>\n\n<pre><code>&lt;prop key=\"hibernate.default_schema\"&gt;dba&lt;/prop&gt;\n</code></pre>\n\n<p>does apparently NOT affect native queries.</p>\n"},{"tags":[],"owner":{"account_id":10872990,"reputation":1661,"user_id":7994269,"display_name":"Jorge Santos Neill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551290362,"creation_date":1551290362,"answer_id":54911759,"question_id":24782717,"body_markdown":"The solution that work for me is the following:\r\n\r\n    public List&lt;T&gt; queryNativeExecute(String query) throws CustomException {\r\n\t    \tList&lt;T&gt; result =null;\r\n\t    \tSession session =null;\r\n\t    \tTransaction transaction=null; \r\n\t    \ttry{\r\n\t    \t\tsession = HibernateUtil.getSessionJavaConfigFactory().openSession();\r\n\t    \t\ttransaction = session.beginTransaction();\r\n\t\t        session.createNativeQuery(query).executeUpdate();\r\n\t\t        transaction.commit();\r\n\t    \t}catch(Exception exception){\r\n\t    \t\tresult=null;\r\n\t    \t\tif (transaction !=null &amp;&amp; transaction.isActive()){\r\n\t    \t\t\ttransaction.rollback();\r\n\t    \t\t}\r\n\t    \t\tthrow new CustomException(exception.getMessage(),exception,error.ErrorCode.DATABASE_TABLE,this.getClass().getSimpleName());\r\n\t    \t}finally{\r\n\t    \t\tif (session !=null){\r\n\t    \t\t\tsession.close();\t\r\n\t    \t\t}\r\n\t    \t}\r\n\t        \r\n\t        return result;\r\n\t    }\t","title":"Execute native sql with hibernate","body":"<p>The solution that work for me is the following:</p>\n\n<pre><code>public List&lt;T&gt; queryNativeExecute(String query) throws CustomException {\n        List&lt;T&gt; result =null;\n        Session session =null;\n        Transaction transaction=null; \n        try{\n            session = HibernateUtil.getSessionJavaConfigFactory().openSession();\n            transaction = session.beginTransaction();\n            session.createNativeQuery(query).executeUpdate();\n            transaction.commit();\n        }catch(Exception exception){\n            result=null;\n            if (transaction !=null &amp;&amp; transaction.isActive()){\n                transaction.rollback();\n            }\n            throw new CustomException(exception.getMessage(),exception,error.ErrorCode.DATABASE_TABLE,this.getClass().getSimpleName());\n        }finally{\n            if (session !=null){\n                session.close();    \n            }\n        }\n\n        return result;\n    }   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20950102,"reputation":41,"user_id":15391988,"display_name":"tawfik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628074814,"creation_date":1628074814,"answer_id":68650051,"question_id":24782717,"body_markdown":"worked with me in spring-boot and hibernate 5.4.2 using the entity manager\r\n\r\n     @Autowired\r\n    EntityManager em;\r\n\r\n    public List&lt;String&gt; getDistinctColumnValues(String tableName, String columnName) {\r\n\r\n        List&lt;String&gt; result = em.createNativeQuery(&quot;select distinct (&quot; + columnName + &quot;) from &quot; + tableName).getResultList();\r\n        return result;\r\n    }\r\n\r\n","title":"Execute native sql with hibernate","body":"<p>worked with me in spring-boot and hibernate 5.4.2 using the entity manager</p>\n<pre><code> @Autowired\nEntityManager em;\n\npublic List&lt;String&gt; getDistinctColumnValues(String tableName, String columnName) {\n\n    List&lt;String&gt; result = em.createNativeQuery(&quot;select distinct (&quot; + columnName + &quot;) from &quot; + tableName).getResultList();\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59611,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":24782788,"answer_count":5,"score":12,"last_activity_date":1687491228,"creation_date":1405518946,"question_id":24782717,"body_markdown":"I&#39;m using `hibernate 4.2.6` and `PostgreSQL 9.1`\r\nI&#39;ve been trying to execute sql query with hibernate. I&#39;ve written:\r\n\r\n    Session session = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\r\n    session.beginTransaction();\r\n    String sql = String.format(&quot;INSERT INTO products (name,cost) VALUES(&#39;%s&#39;,%s);&quot;, product.getName(), product.getCost());\r\n    createSQLQuery(sql);//has no effect. Query doesn&#39;t execute.\r\n    session.getTransaction().commit();\r\n    session.close();\r\n\r\nThis query does not executed in DB. But if I write\r\n\r\n    String sql = String.format(&quot;INSERT INTO products (name,cost) VALUES(&#39;%s&#39;,%s);&quot;, product.getName(), product.getCost());\r\n    Properties connectionProps = new Properties();\r\n    connectionProps.put(&quot;user&quot;, &quot;postgres&quot;);\r\n    connectionProps.put(&quot;password&quot;, &quot;123&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/solid&quot;,connectionProps);\r\n    conn.createStatement().execute(sql);\r\n\r\ncorresponding row will add to table. Why hibernate doesn&#39;t work, but native query wth JDBC works?","title":"Execute native sql with hibernate","body":"<p>I'm using <code>hibernate 4.2.6</code> and <code>PostgreSQL 9.1</code>\nI've been trying to execute sql query with hibernate. I've written:</p>\n\n<pre><code>Session session = Hibernate.util.HibernateUtil.getSessionFactory().openSession();\nsession.beginTransaction();\nString sql = String.format(\"INSERT INTO products (name,cost) VALUES('%s',%s);\", product.getName(), product.getCost());\ncreateSQLQuery(sql);//has no effect. Query doesn't execute.\nsession.getTransaction().commit();\nsession.close();\n</code></pre>\n\n<p>This query does not executed in DB. But if I write</p>\n\n<pre><code>String sql = String.format(\"INSERT INTO products (name,cost) VALUES('%s',%s);\", product.getName(), product.getCost());\nProperties connectionProps = new Properties();\nconnectionProps.put(\"user\", \"postgres\");\nconnectionProps.put(\"password\", \"123\");\nConnection conn = DriverManager.getConnection(\"jdbc:postgresql://localhost:5432/solid\",connectionProps);\nconn.createStatement().execute(sql);\n</code></pre>\n\n<p>corresponding row will add to table. Why hibernate doesn't work, but native query wth JDBC works?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","micronaut","micronaut-aws"],"comments":[{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":1,"creation_date":1661915768,"post_id":73542694,"comment_id":129882932,"body_markdown":"In your tests, shouldn&#39;t you try as the input json an SQSEvent instead of an API Gateway event?","body":"In your tests, shouldn&#39;t you try as the input json an SQSEvent instead of an API Gateway event?"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1661921124,"post_id":73542694,"comment_id":129883595,"body_markdown":"Yes I already tried that. But get an error. Will update the results in the question.","body":"Yes I already tried that. But get an error. Will update the results in the question."},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":1,"creation_date":1661951735,"post_id":73542694,"comment_id":129893646,"body_markdown":"When you created your project, did you use these options?\n&quot;mn create-function-app domain.my-app-name \\\n    --features=aws-lambda,graalvm \\\n    --build=gradle --lang=java&quot;\n\ndid you use &quot;create-app&quot; or &quot;create-function-app&quot;?\n\nI think if you used &quot;create-app&quot; the lambda must be invoked by Api Gateway","body":"When you created your project, did you use these options? &quot;mn create-function-app domain.my-app-name \\     --features=aws-lambda,graalvm \\     --build=gradle --lang=java&quot;  did you use &quot;create-app&quot; or &quot;create-function-app&quot;?  I think if you used &quot;create-app&quot; the lambda must be invoked by Api Gateway"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1661952660,"post_id":73542694,"comment_id":129894019,"body_markdown":"Yes @BrunoNegr&#227;oZica, but I finally made it working. See my answer.","body":"Yes @BrunoNegr&#227;oZica, but I finally made it working. See my answer."},{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":0,"creation_date":1661970188,"post_id":73542694,"comment_id":129900506,"body_markdown":"same issue with lambda admin role","body":"same issue with lambda admin role"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662007844,"post_id":73542694,"comment_id":129907722,"body_markdown":"What issue @JavaDude? Have you checked my answer below if that helps?","body":"What issue @JavaDude? Have you checked my answer below if that helps?"},{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":1,"creation_date":1662026386,"post_id":73542694,"comment_id":129913096,"body_markdown":"yeap, that works and help me. But looks like its MN bug.","body":"yeap, that works and help me. But looks like its MN bug."}],"answers":[{"comments":[{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1661865553,"post_id":73543067,"comment_id":129869331,"body_markdown":"Nope, permission is not the issue. It does generates the logs when triggered from &quot;Test&quot; tab. I have the `AWSLambdaBasicExecutionRole` policy assigned to the lambda function.","body":"Nope, permission is not the issue. It does generates the logs when triggered from &quot;Test&quot; tab. I have the <code>AWSLambdaBasicExecutionRole</code> policy assigned to the lambda function."},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1661865615,"post_id":73543067,"comment_id":129869350,"body_markdown":"I do have this policy as well `AWSLambdaSQSQueueExecutionRole`","body":"I do have this policy as well <code>AWSLambdaSQSQueueExecutionRole</code>"},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1661865760,"post_id":73543067,"comment_id":129869414,"body_markdown":"Are you sure that the AWS Lambda function is being triggered? Can you see it in the Invocations count in the Monitoring tab?","body":"Are you sure that the AWS Lambda function is being triggered? Can you see it in the Invocations count in the Monitoring tab?"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1661866577,"post_id":73543067,"comment_id":129869791,"body_markdown":"Yes, count is being incremented.","body":"Yes, count is being incremented."},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1661869033,"post_id":73543067,"comment_id":129870929,"body_markdown":"Okay, I can now see the logs (but not the one which I have printed in my method). Logs just contain the request ID. Don&#39;t know why previously logs were not printed in clouldwatch. I just changed the filter and they started appearing. But still the issue persists that lambda is not working as expected.","body":"Okay, I can now see the logs (but not the one which I have printed in my method). Logs just contain the request ID. Don&#39;t know why previously logs were not printed in clouldwatch. I just changed the filter and they started appearing. But still the issue persists that lambda is not working as expected."},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1661873490,"post_id":73543067,"comment_id":129872839,"body_markdown":"This does not seems to be related to AWS, it seems to be related to micronaut.","body":"This does not seems to be related to AWS, it seems to be related to micronaut."}],"tags":[],"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661865182,"creation_date":1661865182,"answer_id":73543067,"question_id":73542694,"body_markdown":"If your AWS Lambda function is not generating entries in Amazon CloudWatch Logs, then it normally indicates that the Lambda function has **insufficient permissions** to use CloudWatch Logs.\r\n\r\nThis can be fixed by **adding permissions to the IAM Role** associated with the Lambda function. Assign it the `AWSLambdaBasicExecutionRole` managed policy, which grants permission to write to CloudWatch Logs.\r\n\r\nSee: [AWS managed policies for Lambda features](https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html#permissions-executionrole-features)","title":"Micronaut with AWS Lambda and SQS","body":"<p>If your AWS Lambda function is not generating entries in Amazon CloudWatch Logs, then it normally indicates that the Lambda function has <strong>insufficient permissions</strong> to use CloudWatch Logs.</p>\n<p>This can be fixed by <strong>adding permissions to the IAM Role</strong> associated with the Lambda function. Assign it the <code>AWSLambdaBasicExecutionRole</code> managed policy, which grants permission to write to CloudWatch Logs.</p>\n<p>See: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html#permissions-executionrole-features\" rel=\"nofollow noreferrer\">AWS managed policies for Lambda features</a></p>\n"},{"comments":[{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":2,"creation_date":1661957217,"post_id":73556660,"comment_id":129895743,"body_markdown":"Hi Jignesh, thanks for posting. But creating a &quot;CustomSQSEvent&quot; sounds like a workaround, not a solution. Where did you take that idea from?","body":"Hi Jignesh, thanks for posting. But creating a &quot;CustomSQSEvent&quot; sounds like a workaround, not a solution. Where did you take that idea from?"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":1,"creation_date":1661957676,"post_id":73556660,"comment_id":129895952,"body_markdown":"Yes agreed @BrunoNegr&#227;oZica that is not a solution and a workaround. But as of now I cannot see any other solution. I tried created `ObjectMapper` bean but it didn&#39;t work, so ended up creating custom class. I got that idea from - https://github.com/micronaut-projects/micronaut-aws/issues/102#issuecomment-843571994","body":"Yes agreed @BrunoNegr&#227;oZica that is not a solution and a workaround. But as of now I cannot see any other solution. I tried created <code>ObjectMapper</code> bean but it didn&#39;t work, so ended up creating custom class. I got that idea from - <a href=\"https://github.com/micronaut-projects/micronaut-aws/issues/102#issuecomment-843571994\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-aws/issues/&hellip;</a>"},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":1,"creation_date":1661963557,"post_id":73556660,"comment_id":129898229,"body_markdown":"I created this issue https://github.com/micronaut-projects/micronaut-starter/issues/1383","body":"I created this issue <a href=\"https://github.com/micronaut-projects/micronaut-starter/issues/1383\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-starter/issues/1383</a>"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662007818,"post_id":73556660,"comment_id":129907715,"body_markdown":"Cool, that will be great to get some more reliable solution for this.","body":"Cool, that will be great to get some more reliable solution for this."}],"tags":[],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661957756,"creation_date":1661952571,"answer_id":73556660,"question_id":73542694,"body_markdown":"Finally made it working, if anyone is looking for the solution:\r\n\r\n**build.gradle:**\r\n\r\n```\r\n.\r\n.\r\ndependencies {\r\n    annotationProcessor &#39;io.micronaut:micronaut-inject-java&#39;\r\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\r\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;) &lt;--- IMP!!!\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;) &lt;--- IMP!!!\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n}\r\n.\r\n.\r\n```\r\n\r\n**Application.java:** (The starting point of the application)\r\n```\r\npublic class Application extends AbstractMicronautLambdaRuntime&lt;CustomSQSEvent, String, CustomSQSEvent, String&gt; {\r\n    public static void main(String[] args) throws MalformedURLException {\r\n//        Micronaut.run(Application.class, args); // We don&#39;t need this now\r\n        new Application().run(args);\r\n    }\r\n\r\n    @Override\r\n    @Nullable\r\n    protected RequestHandler&lt;CustomSQSEvent, String&gt; createRequestHandler(String... args) {\r\n        try {\r\n            return new SQSEventHandler(createApplicationContextBuilderWithArgs(args));\r\n        } catch (ContainerInitializationException e) {\r\n            throw new ConfigurationException(&quot;Exception thrown instantiating SQSEventHandler&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n**CustomSQSEvent.java:** (This is needed to handle the serialization/deserialization issues with the message. This is the exact copy of class `com.amazonaws.services.lambda.runtime.events.SQSEvent` with few annnotations.)\r\n```\r\n@Introspected &lt;--- Very IMP!!!\r\npublic class CustomSQSEvent implements Serializable {\r\n    \r\n    @JsonProperty(&quot;Records&quot;) &lt;--- Very IMP!!!\r\n    private List&lt;CustomSQSEvent.SQSMessage&gt; records;\r\n    \r\n    @Introspected &lt;--- Very IMP!!!\r\n    public static class SQSMessage implements Serializable, Cloneable {\r\n        ...\r\n    }\r\n\r\n     /**\r\n     * Default constructor\r\n     */\r\n     public CustomSQSEvent() {\r\n     }\r\n\r\n     .\r\n     .\r\n     .\r\n\r\n}\r\n``` \r\n\r\n**SQSEventHandler.java:** (The actual magic happens here)\r\n```\r\n@Introspected\r\npublic class SQSEventHandler implements RequestHandler&lt;CustomSQSEvent, String&gt;, ApplicationContextProvider, Closeable {\r\n\r\n\r\n    protected final MicronautLambdaContainerHandler handler;\r\n\r\n    public SQSEventHandler() throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler();\r\n    }\r\n\r\n    public SQSEventHandler(ApplicationContextBuilder applicationContextBuilder) throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler(applicationContextBuilder);\r\n    }\r\n\r\n    public SQSEventHandler(ApplicationContext applicationContext) throws ContainerInitializationException {\r\n        this.handler = new MicronautLambdaContainerHandler(applicationContext);\r\n    }\r\n\r\n    @Override\r\n    public String handleRequest(CustomSQSEvent input, Context context) {\r\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\r\n        TestService testService = this.getApplicationContext().getBean(TestService.class);\r\n        \r\n        List&lt;CustomSQSEvent.SQSMessage&gt; messages = input.getRecords();\r\n\r\n        for (CustomSQSEvent.SQSMessage single: messages) {\r\n            try {\r\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\r\n                testService.handleRequest(single.getBody());\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public ApplicationContext getApplicationContext() {\r\n        return this.handler.getApplicationContext();\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        this.getApplicationContext().close();\r\n    }\r\n}\r\n```\r\n\r\nRemoved `HomeController.java` (the class which has `@Controller`).\r\n\r\nAnd finally build the project using following command: `gradlew buildNativeLambda -Pmicronaut.runtime=lambda`\r\n\r\nUpload the created `zip` in the lambda and add the following as handler: `com.example.eventHandlers.SQSEventHandler`.\r\nThis is the path to our custom event handler.\r\n\r\nCompiled solution from below references:\r\n\r\n - https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html\r\n - https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html\r\n - https://stackoverflow.com/questions/68416766/micronaut-lambda-native-image-not-reading-custom-handler\r\n - https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip","title":"Micronaut with AWS Lambda and SQS","body":"<p>Finally made it working, if anyone is looking for the solution:</p>\n<p><strong>build.gradle:</strong></p>\n<pre><code>.\n.\ndependencies {\n    annotationProcessor 'io.micronaut:micronaut-inject-java'\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor&quot;)\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java&quot;)\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;) &lt;--- IMP!!!\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;) &lt;--- IMP!!!\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\n}\n.\n.\n</code></pre>\n<p><strong>Application.java:</strong> (The starting point of the application)</p>\n<pre><code>public class Application extends AbstractMicronautLambdaRuntime&lt;CustomSQSEvent, String, CustomSQSEvent, String&gt; {\n    public static void main(String[] args) throws MalformedURLException {\n//        Micronaut.run(Application.class, args); // We don't need this now\n        new Application().run(args);\n    }\n\n    @Override\n    @Nullable\n    protected RequestHandler&lt;CustomSQSEvent, String&gt; createRequestHandler(String... args) {\n        try {\n            return new SQSEventHandler(createApplicationContextBuilderWithArgs(args));\n        } catch (ContainerInitializationException e) {\n            throw new ConfigurationException(&quot;Exception thrown instantiating SQSEventHandler&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p><strong>CustomSQSEvent.java:</strong> (This is needed to handle the serialization/deserialization issues with the message. This is the exact copy of class <code>com.amazonaws.services.lambda.runtime.events.SQSEvent</code> with few annnotations.)</p>\n<pre><code>@Introspected &lt;--- Very IMP!!!\npublic class CustomSQSEvent implements Serializable {\n    \n    @JsonProperty(&quot;Records&quot;) &lt;--- Very IMP!!!\n    private List&lt;CustomSQSEvent.SQSMessage&gt; records;\n    \n    @Introspected &lt;--- Very IMP!!!\n    public static class SQSMessage implements Serializable, Cloneable {\n        ...\n    }\n\n     /**\n     * Default constructor\n     */\n     public CustomSQSEvent() {\n     }\n\n     .\n     .\n     .\n\n}\n</code></pre>\n<p><strong>SQSEventHandler.java:</strong> (The actual magic happens here)</p>\n<pre><code>@Introspected\npublic class SQSEventHandler implements RequestHandler&lt;CustomSQSEvent, String&gt;, ApplicationContextProvider, Closeable {\n\n\n    protected final MicronautLambdaContainerHandler handler;\n\n    public SQSEventHandler() throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler();\n    }\n\n    public SQSEventHandler(ApplicationContextBuilder applicationContextBuilder) throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler(applicationContextBuilder);\n    }\n\n    public SQSEventHandler(ApplicationContext applicationContext) throws ContainerInitializationException {\n        this.handler = new MicronautLambdaContainerHandler(applicationContext);\n    }\n\n    @Override\n    public String handleRequest(CustomSQSEvent input, Context context) {\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\n        TestService testService = this.getApplicationContext().getBean(TestService.class);\n        \n        List&lt;CustomSQSEvent.SQSMessage&gt; messages = input.getRecords();\n\n        for (CustomSQSEvent.SQSMessage single: messages) {\n            try {\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\n                testService.handleRequest(single.getBody());\n            } catch (JsonProcessingException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\n        return &quot;&quot;;\n    }\n\n    @Override\n    public ApplicationContext getApplicationContext() {\n        return this.handler.getApplicationContext();\n    }\n\n    @Override\n    public void close() {\n        this.getApplicationContext().close();\n    }\n}\n</code></pre>\n<p>Removed <code>HomeController.java</code> (the class which has <code>@Controller</code>).</p>\n<p>And finally build the project using following command: <code>gradlew buildNativeLambda -Pmicronaut.runtime=lambda</code></p>\n<p>Upload the created <code>zip</code> in the lambda and add the following as handler: <code>com.example.eventHandlers.SQSEventHandler</code>.\nThis is the path to our custom event handler.</p>\n<p>Compiled solution from below references:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/lambda-java.html</a></li>\n<li><a href=\"https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68416766/micronaut-lambda-native-image-not-reading-custom-handler\">Micronaut Lambda Native Image Not Reading Custom Handler</a></li>\n<li><a href=\"https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/mn-serverless-function-aws-lambda-graalvm-gradle-java.zip</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28877566,"reputation":1,"user_id":22117718,"display_name":"Oscar Oliver Molina Benitez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687490844,"creation_date":1687490607,"answer_id":76536908,"question_id":73542694,"body_markdown":"I setup a project with micronaut to handle an SQSEvent. I got a lot of problems for read the SQS event in my function.&lt;br&gt;\r\nI used the https://micronaut.io/launch to generate my project with the next params:&lt;br&gt;\r\nApplication Type: Function Application for Serverless&lt;br&gt;\r\nMicronaut Version: 3.9.3&lt;br&gt;\r\nJava Version: 17&lt;br&gt;\r\nBuild Tool: Gradle&lt;br&gt;\r\nTest Framework: JUnit&lt;br&gt;\r\nAdditional features: aws-lambda, graalvm&lt;br&gt;\r\nhttps://i.stack.imgur.com/MNoYc.png&lt;br&gt;\r\n\r\n**build.gradle**\r\n\r\n    dependencies {\r\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\r\n\r\n    implementation(&quot;com.amazonaws:aws-lambda-java-events:3.11.2&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\r\n    implementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n    implementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\r\n\r\n    compileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n}\r\n&lt;br&gt;\r\n**FunctionLambdaRuntime.java**\r\n\r\n    public class FunctionLambdaRuntime extends AbstractMicronautLambdaRuntime&lt;SQSEvent, SQSBatchResponse, SQSEvent, SQSBatchResponse&gt;{\r\n    public static void main(String[] args) {\r\n        try {\r\n            new FunctionLambdaRuntime().run(args);\r\n\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    @Nullable\r\n    protected RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; createRequestHandler(String... args) {\r\n        return new FunctionRequestHandler();\r\n    }\r\n}\r\n&lt;br&gt;\r\n**FunctionRequestHandler.java**&lt;br&gt;\r\nVery important to add the Introspected annotation to the SQS necessary classes for the request and response!! You&#39;ll get a serialization error if you dont do this!\r\n\r\n    @Introspected(classes = {SQSEvent.class, SQSEvent.SQSMessage.class, SQSBatchResponse.class, SQSEvent.MessageAttribute.class, SQSBatchResponse.BatchItemFailure.class})\r\n    public class FunctionRequestHandler extends MicronautRequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\r\n    @Inject\r\n    ObjectMapper objectMapper;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(FunctionRequestHandler.class);\r\n\r\n    @Override\r\n    public SQSBatchResponse execute(SQSEvent input) {\r\n        final List&lt;SQSBatchResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList&lt;&gt;();\r\n        final SQSBatchResponse response = new SQSBatchResponse(batchItemFailures);\r\n        logger.info(&quot;SQS input: {}&quot;, input.toString());\r\n        if(input == null){\r\n            logger.error(&quot;SQSEvent input is null&quot;);\r\n            return response;\r\n        }\r\n        logger.info(&quot;records {}&quot;, input.getRecords());\r\n\r\n        for (SQSEvent.SQSMessage message : input.getRecords()) {\r\n            try {\r\n                MessagePaymentNotificationDto notification = this.objectMapper.readValue(message.getBody(), MessagePaymentNotificationDto.class);\r\n                logger.info(notification.toString());\r\n            } catch (Exception e) {\r\n                batchItemFailures.add(new SQSBatchResponse.BatchItemFailure(message.getMessageId()));\r\n            }\r\n\r\n        }\r\n        return response;\r\n    }\r\n}\r\n&lt;br&gt;\r\nBuild the native image: *./gradlew buildNativeLambda -Pmicronaut.runtime=lambda* &lt;br&gt;\r\nUpload the zip to your lambda function and configure com.example.eventHandlers.FunctionRequestHandler as handler.&lt;br&gt;\r\nIn the **Test** tab of your lambda function go to the **Template** section and search for SQS and select it, it will configure a test json with the structure of an SQSEvent:&lt;br&gt;\r\n**Important:** When slected the SQS template the **&quot;records&quot;** attribute will be displayed as **&quot;Records&quot;**, change it to lowercase before send the test\r\n\r\n    {\r\n      &quot;records&quot;: [\r\n    {\r\n      &quot;messageId&quot;: &quot;19dd0b57-b21e-4ac1-bd88-01bbb068cb78&quot;,\r\n      &quot;receiptHandle&quot;: &quot;MessageReceiptHandle&quot;,\r\n      &quot;body&quot;: &quot;Hello from SQS!&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\r\n        &quot;SentTimestamp&quot;: &quot;1523232000000&quot;,\r\n        &quot;SenderId&quot;: &quot;123456789012&quot;,\r\n        &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1523232000001&quot;\r\n      },\r\n      &quot;messageAttributes&quot;: {},\r\n      &quot;md5OfBody&quot;: &quot;{{{md5_of_body}}}&quot;,\r\n      &quot;eventSource&quot;: &quot;aws:sqs&quot;,\r\n      &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-1:123456789012:MyQueue&quot;,\r\n      &quot;awsRegion&quot;: &quot;us-east-1&quot;\r\n    }\r\n    ]\r\n    }\r\n&lt;br&gt;\r\nHope this help!\r\n\r\n","title":"Micronaut with AWS Lambda and SQS","body":"<p>I setup a project with micronaut to handle an SQSEvent. I got a lot of problems for read the SQS event in my function.<br>\nI used the <a href=\"https://micronaut.io/launch\" rel=\"nofollow noreferrer\">https://micronaut.io/launch</a> to generate my project with the next params:<br>\nApplication Type: Function Application for Serverless<br>\nMicronaut Version: 3.9.3<br>\nJava Version: 17<br>\nBuild Tool: Gradle<br>\nTest Framework: JUnit<br>\nAdditional features: aws-lambda, graalvm<br>\n<a href=\"https://i.stack.imgur.com/MNoYc.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/MNoYc.png</a><br></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\nannotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\n\nimplementation(&quot;com.amazonaws:aws-lambda-java-events:3.11.2&quot;)\nimplementation(&quot;io.micronaut:micronaut-http-client&quot;)\nimplementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\nimplementation(&quot;io.micronaut.aws:micronaut-function-aws&quot;)\nimplementation(&quot;io.micronaut.aws:micronaut-function-aws-custom-runtime&quot;)\nimplementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\nimplementation(&quot;io.micronaut.data:micronaut-data-jdbc&quot;)\n\ncompileOnly(&quot;org.graalvm.nativeimage:svm&quot;)\nruntimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n</code></pre>\n<p>}\n<br>\n<strong>FunctionLambdaRuntime.java</strong></p>\n<pre><code>public class FunctionLambdaRuntime extends AbstractMicronautLambdaRuntime&lt;SQSEvent, SQSBatchResponse, SQSEvent, SQSBatchResponse&gt;{\npublic static void main(String[] args) {\n    try {\n        new FunctionLambdaRuntime().run(args);\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\n@Nullable\nprotected RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; createRequestHandler(String... args) {\n    return new FunctionRequestHandler();\n}\n</code></pre>\n<p>}\n<br>\n<strong>FunctionRequestHandler.java</strong><br>\nVery important to add the Introspected annotation to the SQS necessary classes for the request and response!! You'll get a serialization error if you dont do this!</p>\n<pre><code>@Introspected(classes = {SQSEvent.class, SQSEvent.SQSMessage.class, SQSBatchResponse.class, SQSEvent.MessageAttribute.class, SQSBatchResponse.BatchItemFailure.class})\npublic class FunctionRequestHandler extends MicronautRequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\n@Inject\nObjectMapper objectMapper;\n\nprivate static final Logger logger = LoggerFactory.getLogger(FunctionRequestHandler.class);\n\n@Override\npublic SQSBatchResponse execute(SQSEvent input) {\n    final List&lt;SQSBatchResponse.BatchItemFailure&gt; batchItemFailures = new ArrayList&lt;&gt;();\n    final SQSBatchResponse response = new SQSBatchResponse(batchItemFailures);\n    logger.info(&quot;SQS input: {}&quot;, input.toString());\n    if(input == null){\n        logger.error(&quot;SQSEvent input is null&quot;);\n        return response;\n    }\n    logger.info(&quot;records {}&quot;, input.getRecords());\n\n    for (SQSEvent.SQSMessage message : input.getRecords()) {\n        try {\n            MessagePaymentNotificationDto notification = this.objectMapper.readValue(message.getBody(), MessagePaymentNotificationDto.class);\n            logger.info(notification.toString());\n        } catch (Exception e) {\n            batchItemFailures.add(new SQSBatchResponse.BatchItemFailure(message.getMessageId()));\n        }\n\n    }\n    return response;\n}\n</code></pre>\n<p>}\n<br>\nBuild the native image: <em>./gradlew buildNativeLambda -Pmicronaut.runtime=lambda</em> <br>\nUpload the zip to your lambda function and configure com.example.eventHandlers.FunctionRequestHandler as handler.<br>\nIn the <strong>Test</strong> tab of your lambda function go to the <strong>Template</strong> section and search for SQS and select it, it will configure a test json with the structure of an SQSEvent:<br>\n<strong>Important:</strong> When slected the SQS template the <strong>&quot;records&quot;</strong> attribute will be displayed as <strong>&quot;Records&quot;</strong>, change it to lowercase before send the test</p>\n<pre><code>{\n  &quot;records&quot;: [\n{\n  &quot;messageId&quot;: &quot;19dd0b57-b21e-4ac1-bd88-01bbb068cb78&quot;,\n  &quot;receiptHandle&quot;: &quot;MessageReceiptHandle&quot;,\n  &quot;body&quot;: &quot;Hello from SQS!&quot;,\n  &quot;attributes&quot;: {\n    &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\n    &quot;SentTimestamp&quot;: &quot;1523232000000&quot;,\n    &quot;SenderId&quot;: &quot;123456789012&quot;,\n    &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1523232000001&quot;\n  },\n  &quot;messageAttributes&quot;: {},\n  &quot;md5OfBody&quot;: &quot;{{{md5_of_body}}}&quot;,\n  &quot;eventSource&quot;: &quot;aws:sqs&quot;,\n  &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-1:123456789012:MyQueue&quot;,\n  &quot;awsRegion&quot;: &quot;us-east-1&quot;\n}\n]\n}\n</code></pre>\n<br>\nHope this help!\n"}],"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73556660,"answer_count":3,"score":2,"last_activity_date":1687490844,"creation_date":1661863559,"question_id":73542694,"body_markdown":"I have created simple application with Micronaut, and Graalvm and want to deploy it to the AWS Lambda and get it triggered from the SQS and process the messages. But somehow, it is not working as expected. \r\n\r\nTo build this application, I use command:\r\n`gradlew buildNativeLambda `\r\n\r\nBelow is my setup:\r\n\r\n**Micronaut application:**\r\n\r\n**Trial 1: (not working)**\r\n\r\n```\r\nimport com.example.services.TestService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport io.micronaut.http.MediaType;\r\nimport io.micronaut.http.annotation.Body;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\nimport io.micronaut.http.annotation.Post;\r\nimport jakarta.inject.Inject;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Controller\r\npublic class Controller {\r\n\r\n    @Inject\r\n    private TestService testService;\r\n\r\n    @Post(consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\r\n    public Map&lt;String, Object&gt; indexPost(@Body List&lt;Map&lt;String, Object&gt;&gt; requestBody) throws JsonProcessingException {\r\n        return this.testService.handleRequest(requestBody.get(0));\r\n    }\r\n}\r\n```\r\n\r\nPrepare a build and upload it to Lambda and add the following handler: `io.micronaut.function.aws.proxy.MicronautLambdaHandler`\r\n\r\n**It just works fine when I try to trigger the lambda from &quot;Test&quot; tab on lambda management console**. However, when I add the SQS as trigger, and send the message to the SQS, the message does get disappeared from the queue (thus it is being read), but I see no logs in the lambda and the functionality is also not achieved. Thus it does not work with the SQS.\r\n\r\n**Trial 2: (not working)**\r\n\r\n```\r\nimport com.amazonaws.services.lambda.runtime.events.SQSEvent;\r\nimport com.example.services.TestService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport io.micronaut.core.annotation.Introspected;\r\nimport io.micronaut.function.aws.MicronautRequestHandler;\r\nimport jakarta.inject.Inject;\r\n\r\nimport java.util.List;\r\n\r\n@Introspected\r\npublic class SQSEventHandler extends MicronautRequestHandler&lt;SQSEvent, Void&gt; {\r\n\r\n    @Inject\r\n    private TestService testService;\r\n\r\n    @Override\r\n    public Void execute(SQSEvent input) {\r\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\r\n        List&lt;SQSEvent.SQSMessage&gt; messages = input.getRecords();\r\n        System.out.println(&quot;Number of messages:::&quot; + messages.size());\r\n        for (SQSEvent.SQSMessage single: messages) {\r\n            try {\r\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\r\n                this.testService.handleRequest(single.getBody());\r\n            } catch (JsonProcessingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nPrepare a build and upload it to Lambda and add the following handler: `com.example.eventHandlers.SQSEventHandler`\r\n\r\nNow it does the same behavior with the SQS message as previous one, the message gets disappeared from the queue, but no effect in lambda.\r\n\r\n**Edit - 31-08-2022:**\r\n\r\nI use below body as an event to test from &quot;Test&quot; tab in lambda console, and \r\n this is to check the AWS Gateway event and **it does works fine** as we have `@Controller` class. Without `@Controller` it fails.\r\n\r\n**Event data:**\r\n```\r\n{\r\n  &quot;path&quot;: &quot;/&quot;,\r\n  &quot;httpMethod&quot;: &quot;POST&quot;,\r\n  &quot;headers&quot;: {\r\n    &quot;Accept&quot;: &quot;application/json&quot;\r\n  },\r\n  &quot;body&quot;: &quot;&lt;my req body&gt;&quot;\r\n}\r\n```\r\n\r\nBut when I try to test it with the SQS event, it fails. I have configured `com.example.eventHandlers.SQSEventHandler` as event handler in lambda for this test. Below is the event data which I used to test and the results:\r\n\r\n**Event data**:\r\n```\r\n{\r\n    &quot;Records&quot;: [\r\n        {\r\n            &quot;messageId&quot;: &quot;059f36b4-87a3-44ab-83d2-661975830a7d&quot;,\r\n            &quot;receiptHandle&quot;: &quot;AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...&quot;,\r\n            &quot;body&quot;: &quot;{\\&quot;action\\&quot;: \\&quot;READ_ALL\\&quot;}&quot;,\r\n            &quot;attributes&quot;: {\r\n                &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\r\n                &quot;SentTimestamp&quot;: &quot;1545082649183&quot;,\r\n                &quot;SenderId&quot;: &quot;AIDAIENQZJOLO23YVJ4VO&quot;,\r\n                &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1545082649185&quot;\r\n            },\r\n            &quot;messageAttributes&quot;: {},\r\n            &quot;md5OfBody&quot;: &quot;e4e68fb7bd0e697a0ae8f1bb342846b3&quot;,\r\n            &quot;eventSource&quot;: &quot;aws:sqs&quot;,\r\n            &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-2:123456789012:my-queue&quot;,\r\n            &quot;awsRegion&quot;: &quot;us-east-2&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n**Results:**\r\n```\r\n{\r\n  &quot;statusCode&quot;: 405,\r\n  &quot;multiValueHeaders&quot;: {\r\n    &quot;Allow&quot;: [\r\n      &quot;POST&quot;\r\n    ],\r\n    &quot;Content-Type&quot;: [\r\n      &quot;application/json&quot;\r\n    ]\r\n  },\r\n  &quot;body&quot;: &quot;{\\&quot;message\\&quot;:\\&quot;Method Not Allowed\\&quot;,\\&quot;_links\\&quot;:{\\&quot;self\\&quot;:{\\&quot;href\\&quot;:\\&quot;https://nullnull\\&quot;,\\&quot;templated\\&quot;:false}},\\&quot;_embedded\\&quot;:{\\&quot;errors\\&quot;:[{\\&quot;message\\&quot;:\\&quot;Method [GET] not allowed for URI [https://nullnull]. Allowed methods: [POST]\\&quot;}]}}&quot;,\r\n  &quot;isBase64Encoded&quot;: false\r\n}\r\n```","title":"Micronaut with AWS Lambda and SQS","body":"<p>I have created simple application with Micronaut, and Graalvm and want to deploy it to the AWS Lambda and get it triggered from the SQS and process the messages. But somehow, it is not working as expected.</p>\n<p>To build this application, I use command:\n<code>gradlew buildNativeLambda </code></p>\n<p>Below is my setup:</p>\n<p><strong>Micronaut application:</strong></p>\n<p><strong>Trial 1: (not working)</strong></p>\n<pre><code>import com.example.services.TestService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport io.micronaut.http.MediaType;\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.annotation.Post;\nimport jakarta.inject.Inject;\n\nimport java.util.List;\nimport java.util.Map;\n\n@Controller\npublic class Controller {\n\n    @Inject\n    private TestService testService;\n\n    @Post(consumes = MediaType.APPLICATION_JSON, produces = MediaType.APPLICATION_JSON)\n    public Map&lt;String, Object&gt; indexPost(@Body List&lt;Map&lt;String, Object&gt;&gt; requestBody) throws JsonProcessingException {\n        return this.testService.handleRequest(requestBody.get(0));\n    }\n}\n</code></pre>\n<p>Prepare a build and upload it to Lambda and add the following handler: <code>io.micronaut.function.aws.proxy.MicronautLambdaHandler</code></p>\n<p><strong>It just works fine when I try to trigger the lambda from &quot;Test&quot; tab on lambda management console</strong>. However, when I add the SQS as trigger, and send the message to the SQS, the message does get disappeared from the queue (thus it is being read), but I see no logs in the lambda and the functionality is also not achieved. Thus it does not work with the SQS.</p>\n<p><strong>Trial 2: (not working)</strong></p>\n<pre><code>import com.amazonaws.services.lambda.runtime.events.SQSEvent;\nimport com.example.services.TestService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport io.micronaut.core.annotation.Introspected;\nimport io.micronaut.function.aws.MicronautRequestHandler;\nimport jakarta.inject.Inject;\n\nimport java.util.List;\n\n@Introspected\npublic class SQSEventHandler extends MicronautRequestHandler&lt;SQSEvent, Void&gt; {\n\n    @Inject\n    private TestService testService;\n\n    @Override\n    public Void execute(SQSEvent input) {\n        System.out.println(&quot;EVENT PROCESSING STARTS ===&gt;&quot;);\n        List&lt;SQSEvent.SQSMessage&gt; messages = input.getRecords();\n        System.out.println(&quot;Number of messages:::&quot; + messages.size());\n        for (SQSEvent.SQSMessage single: messages) {\n            try {\n                System.out.println(&quot;Message body::: &quot; + single.getBody());\n                this.testService.handleRequest(single.getBody());\n            } catch (JsonProcessingException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;&lt;=== EVENT PROCESSING ENDS&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>Prepare a build and upload it to Lambda and add the following handler: <code>com.example.eventHandlers.SQSEventHandler</code></p>\n<p>Now it does the same behavior with the SQS message as previous one, the message gets disappeared from the queue, but no effect in lambda.</p>\n<p><strong>Edit - 31-08-2022:</strong></p>\n<p>I use below body as an event to test from &quot;Test&quot; tab in lambda console, and\nthis is to check the AWS Gateway event and <strong>it does works fine</strong> as we have <code>@Controller</code> class. Without <code>@Controller</code> it fails.</p>\n<p><strong>Event data:</strong></p>\n<pre><code>{\n  &quot;path&quot;: &quot;/&quot;,\n  &quot;httpMethod&quot;: &quot;POST&quot;,\n  &quot;headers&quot;: {\n    &quot;Accept&quot;: &quot;application/json&quot;\n  },\n  &quot;body&quot;: &quot;&lt;my req body&gt;&quot;\n}\n</code></pre>\n<p>But when I try to test it with the SQS event, it fails. I have configured <code>com.example.eventHandlers.SQSEventHandler</code> as event handler in lambda for this test. Below is the event data which I used to test and the results:</p>\n<p><strong>Event data</strong>:</p>\n<pre><code>{\n    &quot;Records&quot;: [\n        {\n            &quot;messageId&quot;: &quot;059f36b4-87a3-44ab-83d2-661975830a7d&quot;,\n            &quot;receiptHandle&quot;: &quot;AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...&quot;,\n            &quot;body&quot;: &quot;{\\&quot;action\\&quot;: \\&quot;READ_ALL\\&quot;}&quot;,\n            &quot;attributes&quot;: {\n                &quot;ApproximateReceiveCount&quot;: &quot;1&quot;,\n                &quot;SentTimestamp&quot;: &quot;1545082649183&quot;,\n                &quot;SenderId&quot;: &quot;AIDAIENQZJOLO23YVJ4VO&quot;,\n                &quot;ApproximateFirstReceiveTimestamp&quot;: &quot;1545082649185&quot;\n            },\n            &quot;messageAttributes&quot;: {},\n            &quot;md5OfBody&quot;: &quot;e4e68fb7bd0e697a0ae8f1bb342846b3&quot;,\n            &quot;eventSource&quot;: &quot;aws:sqs&quot;,\n            &quot;eventSourceARN&quot;: &quot;arn:aws:sqs:us-east-2:123456789012:my-queue&quot;,\n            &quot;awsRegion&quot;: &quot;us-east-2&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Results:</strong></p>\n<pre><code>{\n  &quot;statusCode&quot;: 405,\n  &quot;multiValueHeaders&quot;: {\n    &quot;Allow&quot;: [\n      &quot;POST&quot;\n    ],\n    &quot;Content-Type&quot;: [\n      &quot;application/json&quot;\n    ]\n  },\n  &quot;body&quot;: &quot;{\\&quot;message\\&quot;:\\&quot;Method Not Allowed\\&quot;,\\&quot;_links\\&quot;:{\\&quot;self\\&quot;:{\\&quot;href\\&quot;:\\&quot;https://nullnull\\&quot;,\\&quot;templated\\&quot;:false}},\\&quot;_embedded\\&quot;:{\\&quot;errors\\&quot;:[{\\&quot;message\\&quot;:\\&quot;Method [GET] not allowed for URI [https://nullnull]. Allowed methods: [POST]\\&quot;}]}}&quot;,\n  &quot;isBase64Encoded&quot;: false\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":0,"creation_date":1674836919,"post_id":75257286,"comment_id":132805041,"body_markdown":"Be careful with `@GetMapping(&quot;/&quot;)`, it could effectively hijack the web site, if it answers all requests to the site root URL","body":"Be careful with <code>@GetMapping(&quot;&#47;&quot;)</code>, it could effectively hijack the web site, if it answers all requests to the site root URL"},{"owner":{"account_id":18398582,"reputation":71,"user_id":13402293,"display_name":"ojo"},"score":0,"creation_date":1675068930,"post_id":75257286,"comment_id":132841104,"body_markdown":"I am still getting the same error. `&quot;message&quot;: &quot;Missing Request Parameter Exception&quot;,\n    &quot;error&quot;: [\n        &quot;code parameter is missing&quot;\n    ]`","body":"I am still getting the same error. <code>&quot;message&quot;: &quot;Missing Request Parameter Exception&quot;,     &quot;error&quot;: [         &quot;code parameter is missing&quot;     ]</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675078713,"post_id":75257286,"comment_id":132844051,"body_markdown":"This is progress - it looks like your redirect-url is being called (it requires the &quot;code&quot; parameter). In your question you show the callback as including code. Does it still? It seems you have done something to make the &quot;code&quot; vanish. The &quot;response_type&quot; parameter in the initial call to idsandbox.nibss-plc.com.ng?","body":"This is progress - it looks like your redirect-url is being called (it requires the &quot;code&quot; parameter). In your question you show the callback as including code. Does it still? It seems you have done something to make the &quot;code&quot; vanish. The &quot;response_type&quot; parameter in the initial call to idsandbox.nibss-plc.com.ng?"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674817655,"creation_date":1674817655,"answer_id":75257286,"question_id":75254909,"body_markdown":"The `redirect_uri` that you are passing to the OAuth server is `https://www.accionmfb.com` which does not include the path `/redirect-url` so the redirect never hits your method.\r\n\r\nEither register and pass a callback uri like `redirect_uri=https://www.accionmfb.com/redirect-url`\r\n\r\nOr change `@GetMapping(&quot;/redirect-url&quot;)` to `@GetMapping(&quot;/&quot;)`","title":"How to pick values from a redirected_url using Springboot","body":"<p>The <code>redirect_uri</code> that you are passing to the OAuth server is <code>https://www.accionmfb.com</code> which does not include the path <code>/redirect-url</code> so the redirect never hits your method.</p>\n<p>Either register and pass a callback uri like <code>redirect_uri=https://www.accionmfb.com/redirect-url</code></p>\n<p>Or change <code>@GetMapping(&quot;/redirect-url&quot;)</code> to <code>@GetMapping(&quot;/&quot;)</code></p>\n"}],"owner":{"account_id":18398582,"reputation":71,"user_id":13402293,"display_name":"ojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75257286,"answer_count":1,"score":0,"last_activity_date":1687490512,"creation_date":1674802780,"question_id":75254909,"body_markdown":"\r\n\r\nI want to be able to fetch a param from the redirect url whenever it is automated. I am having difficulties doing this as I am getting a bad request after I created another endpoint to effect this. \r\n\r\nI have an endpoint that works fine. The endpoint is a get method. Loading the endpoint takes a user to a page where they need to provide some necessary details. Once these details have been verified, the user is redirected to my redirecr_uri. The redirect_uri now contains important information like session_id, code, etc. The  most important thing I need is the code. I need to pass the code into yet another endpoint which will return an access token.\r\n\r\nI have manually done this process and it works but I want it to be done automatically because I can&#39;t keep doing that when I push the code to staging or production.\r\n\r\nHere is the endpoint that redirects as well as the method.\r\n\r\n    @GetMapping(&quot;/get-token&quot;)\r\n        public RedirectView getBvn() throws UnirestException {\r\n            return nibss.getAccessToken();\r\n        }\r\n\r\nThis is the method that the controller calls\r\n\r\n    public RedirectView getAccessToken() throws UnirestException {\r\n            String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/authorize.htm?scope=profile&amp;acr_values=otp&amp;response&quot; +\r\n                    &quot;_type=code&amp;redirect_uri=https://www.accionmfb.com/&amp;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&quot;;\r\n    \r\n            RedirectView redirectView = new RedirectView();\r\n            redirectView.setUrl(url);\r\n            return redirectView;\r\n        }\r\n\r\nWhen the user provides the right information they are redirected to something like this \r\n\r\n    https://www.accionmfb.com/?code=9ad91f13-4698-4030-8a8f-a857e6a9907e&amp;acr_values=otp&amp;scope=profile&amp;session_state=fa525cabc5b62854c73315d0322fd830c12a5941b89fd8e6e518da369e386572.b78a3d21-e98e-4e9a-8d60-afca779d9fad&amp;sid=fd60ab92-ef37-4a5b-99b9-f8f52321985d\r\n\r\nIt is important to state that this 3rd party API I am trying to consume uses oath2.0 client authentication. \r\n\r\nI created this endpoint to get the code from the redirected_uri\r\n\r\n    @GetMapping(&quot;/redirect-url&quot;)\r\n        public void handleRedirect(@RequestParam(&quot;code&quot;) String code) throws UnirestException {\r\n            if(Objects.nonNull(code) || !code.isEmpty()){\r\n                nibss.getToken(code);\r\n                log.info(&quot;Code is not being passed {}&quot;, code);\r\n    \r\n            } else {\r\n                log.info(&quot;Code is not being passed {}&quot;, code);\r\n            }\r\n    \r\n        }\r\n\r\n    public String getToken(String code) throws UnirestException {\r\n            log.info(&quot;This is the code here oooooooooo {}&quot;, code);\r\n            String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/restv1/token&quot;;\r\n    \r\n            String parameters = &quot;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&amp;code=&quot;+code+&quot;&amp;redirect_uri=https://www.accionmfb.com/&amp;grant_type=authorization_code&quot;;\r\n    \r\n            HttpResponse&lt;String&gt; apiResponse = Unirest.post(url)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .header(&quot;Authorization&quot;, &quot;Basic MDkxNWNkMDAtNjdmMi00NzY4LTk5YWMtMWIyZmY5ZjFkYTJlOlRVRnEwcGFBQXRzbzBZOEcxMkl2WFZHUmx6WG5zaERiaGt1dzI1YUM=&quot;)\r\n                    .body(parameters)\r\n                    .asString();\r\n            //JSONObject apiJson = apiResponse.getBody().getObject();\r\n            //return apiJson.getString(&quot;access_token&quot;);\r\n            JSONObject json = new JSONObject(apiResponse.getBody());\r\n            String accessToken = json.getString(&quot;access_token&quot;);\r\n            log.info(accessToken);\r\n            return accessToken;\r\n    \r\n        }\r\n\r\nBut this is not working, I get 400 whenever I hit the second endpoint. What am I doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to pick values from a redirected_url using Springboot","body":"<p>I want to be able to fetch a param from the redirect url whenever it is automated. I am having difficulties doing this as I am getting a bad request after I created another endpoint to effect this.</p>\n<p>I have an endpoint that works fine. The endpoint is a get method. Loading the endpoint takes a user to a page where they need to provide some necessary details. Once these details have been verified, the user is redirected to my redirecr_uri. The redirect_uri now contains important information like session_id, code, etc. The  most important thing I need is the code. I need to pass the code into yet another endpoint which will return an access token.</p>\n<p>I have manually done this process and it works but I want it to be done automatically because I can't keep doing that when I push the code to staging or production.</p>\n<p>Here is the endpoint that redirects as well as the method.</p>\n<pre><code>@GetMapping(&quot;/get-token&quot;)\n    public RedirectView getBvn() throws UnirestException {\n        return nibss.getAccessToken();\n    }\n</code></pre>\n<p>This is the method that the controller calls</p>\n<pre><code>public RedirectView getAccessToken() throws UnirestException {\n        String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/authorize.htm?scope=profile&amp;acr_values=otp&amp;response&quot; +\n                &quot;_type=code&amp;redirect_uri=https://www.accionmfb.com/&amp;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&quot;;\n\n        RedirectView redirectView = new RedirectView();\n        redirectView.setUrl(url);\n        return redirectView;\n    }\n</code></pre>\n<p>When the user provides the right information they are redirected to something like this</p>\n<pre><code>https://www.accionmfb.com/?code=9ad91f13-4698-4030-8a8f-a857e6a9907e&amp;acr_values=otp&amp;scope=profile&amp;session_state=fa525cabc5b62854c73315d0322fd830c12a5941b89fd8e6e518da369e386572.b78a3d21-e98e-4e9a-8d60-afca779d9fad&amp;sid=fd60ab92-ef37-4a5b-99b9-f8f52321985d\n</code></pre>\n<p>It is important to state that this 3rd party API I am trying to consume uses oath2.0 client authentication.</p>\n<p>I created this endpoint to get the code from the redirected_uri</p>\n<pre><code>@GetMapping(&quot;/redirect-url&quot;)\n    public void handleRedirect(@RequestParam(&quot;code&quot;) String code) throws UnirestException {\n        if(Objects.nonNull(code) || !code.isEmpty()){\n            nibss.getToken(code);\n            log.info(&quot;Code is not being passed {}&quot;, code);\n\n        } else {\n            log.info(&quot;Code is not being passed {}&quot;, code);\n        }\n\n    }\n\npublic String getToken(String code) throws UnirestException {\n        log.info(&quot;This is the code here oooooooooo {}&quot;, code);\n        String url = &quot;https://idsandbox.nibss-plc.com.ng/oxauth/restv1/token&quot;;\n\n        String parameters = &quot;client_id=0915cd00-67f2-4768-99ac-1b2ff9f1da2e&amp;code=&quot;+code+&quot;&amp;redirect_uri=https://www.accionmfb.com/&amp;grant_type=authorization_code&quot;;\n\n        HttpResponse&lt;String&gt; apiResponse = Unirest.post(url)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .header(&quot;Authorization&quot;, &quot;Basic MDkxNWNkMDAtNjdmMi00NzY4LTk5YWMtMWIyZmY5ZjFkYTJlOlRVRnEwcGFBQXRzbzBZOEcxMkl2WFZHUmx6WG5zaERiaGt1dzI1YUM=&quot;)\n                .body(parameters)\n                .asString();\n        //JSONObject apiJson = apiResponse.getBody().getObject();\n        //return apiJson.getString(&quot;access_token&quot;);\n        JSONObject json = new JSONObject(apiResponse.getBody());\n        String accessToken = json.getString(&quot;access_token&quot;);\n        log.info(accessToken);\n        return accessToken;\n\n    }\n</code></pre>\n<p>But this is not working, I get 400 whenever I hit the second endpoint. What am I doing wrong?</p>\n"},{"tags":["java","grid","vaadin7","vaadin-grid"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1687341130,"post_id":76505634,"comment_id":134922162,"body_markdown":"You could add some code you&#39;re using, plus the specific versions that you are using for Vaadin and ComponentRenderer.","body":"You could add some code you&#39;re using, plus the specific versions that you are using for Vaadin and ComponentRenderer."},{"owner":{"account_id":13142077,"reputation":315,"user_id":9559371,"display_name":"Egor Vasilyev"},"score":0,"creation_date":1687489718,"post_id":76505634,"comment_id":134947256,"body_markdown":"It&#39;s difficult to give an example of the code, but I&#39;ll try. The question is supplemented.","body":"It&#39;s difficult to give an example of the code, but I&#39;ll try. The question is supplemented."}],"owner":{"account_id":13142077,"reputation":315,"user_id":9559371,"display_name":"Egor Vasilyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687489687,"creation_date":1687169538,"question_id":76505634,"body_markdown":"I&#39;m trying to create a component to configure the grid (sorting, filtering, pinning columns, and so on).\r\nEverything works well for standard speakers. I specify the number of frozen columns and they remain in place in any scenario.\r\nFor columns that use Components Renderer, frozen columns are reset whenever the dataset changes (sorting by any column, filtering).\r\nIf you freeze a regular column together with a column of components, the problem does not manifest itself.\r\n\r\nI can&#39;t find any reasons for this behavior in my code. When the grid data is changed (for example, when sorting is set), the `transform: translate3d(...)` property of the element styles is simply reset for columns with the component.\r\n\r\nI will be glad of any help or indication of the direction of the search.\r\n\r\n[Video showing the problem][1]\r\n\r\n\r\nVaadin version 7.7.15, ComponentRenderer version 1.0.3.\r\n\r\nThe item SetChangeListener hangs on the container, which calls updateVisibleColumns (updates column data). The ComponentRenderer is installed here:\r\n\r\n    protected void updateVisibleColumns() {\r\n        if (dataSource == null) {\r\n            return;\r\n        }\r\n        final Collection&lt;DataSourceColumn&gt; visibleColumns = dataSource.getVisibleColumns();\r\n        setColumns(visibleColumns.toArray());\r\n\r\n        Map&lt;String, ArrayList&lt;Object&gt;&gt; groupMap = new HashMap&lt;&gt;();\r\n\r\n        for (final DataSourceColumn column : visibleColumns) {\r\n            if (column.getGroup() != null) {\r\n                if (!groupMap.containsKey(column.getGroup())) {\r\n                    groupMap.put(column.getGroup(), new ArrayList&lt;&gt;());\r\n                }\r\n                groupMap.get(column.getGroup()).add(column);\r\n            }\r\n\r\n            final Column gridColumn = getColumn(column);\r\n            gridColumn.setHeaderCaption(column.getCaption());\r\n            if (column.getFormat() != null &amp;&amp; !Component.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setConverter(new DataSourceColumnConverter(column));\r\n            }\r\n            if (Resource.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setRenderer(new ImageRenderer());\r\n            } else if (Component.class.isAssignableFrom(column.getType())) {\r\n                gridColumn.setRenderer(new ComponentRenderer());\r\n            }\r\n        }\r\n        recalculateColumnWidths();\r\n    }\r\n\r\nIn the example, a Label wrapped in VerticalLayout is used as a component to listen for clicks:\r\n\r\n    public class ClickableLabelField extends VerticalLayout implements Field&lt;String&gt;\r\n\r\nColumns are frozen in a separate class to which a grid instance is passed. The frozen columns are installed in the setSettings method:\r\n\r\n    private final CheckBoxWithCaption fixFirstColumn\r\n            = new CheckBoxWithCaption(&quot;Закрепить первую колонку&quot;);\r\n    private final CheckBoxWithCaption severalFixColumn\r\n            = new CheckBoxWithCaption(&quot;Закрепить несколько колонок&quot;);\r\n    private final CheckBoxWithCaption showStripeRow\r\n            = new CheckBoxWithCaption(&quot;Отображать \\&quot;зебру\\&quot;&quot;);\r\n\r\n    public void setSettings() {\r\n        if (grid == null || grid.getColumns().isEmpty()) {\r\n            return;\r\n        }\r\n        if (Boolean.TRUE.equals(fixFirstColumn.getValue())) {\r\n            grid.setFrozenColumnCount(1);\r\n        } else if (Boolean.TRUE.equals(severalFixColumn.getValue())) {\r\n            Long fixColumn = getNumberColumnValue(columnNumberField.getValue());\r\n            if (fixColumn != null) {\r\n                grid.setFrozenColumnCount(fixColumn.intValue());\r\n            }\r\n        }\r\n\r\n        if (Boolean.TRUE.equals(showStripeRow.getValue())) {\r\n            grid.removeStyleName(EKPTheme.GRID_NO_STRIPE);\r\n        } else {\r\n            grid.addStyleName(EKPTheme.GRID_NO_STRIPE);\r\n        }\r\n    }\r\n\r\n  [1]: https://drive.google.com/file/d/1F9LnLF8avpyKO4_9u67vSHQ9O8PsNyok/view?usp=drive_link","title":"Vaadin 7 grid freezing drops the column with componentRenderer","body":"<p>I'm trying to create a component to configure the grid (sorting, filtering, pinning columns, and so on).\nEverything works well for standard speakers. I specify the number of frozen columns and they remain in place in any scenario.\nFor columns that use Components Renderer, frozen columns are reset whenever the dataset changes (sorting by any column, filtering).\nIf you freeze a regular column together with a column of components, the problem does not manifest itself.</p>\n<p>I can't find any reasons for this behavior in my code. When the grid data is changed (for example, when sorting is set), the <code>transform: translate3d(...)</code> property of the element styles is simply reset for columns with the component.</p>\n<p>I will be glad of any help or indication of the direction of the search.</p>\n<p><a href=\"https://drive.google.com/file/d/1F9LnLF8avpyKO4_9u67vSHQ9O8PsNyok/view?usp=drive_link\" rel=\"nofollow noreferrer\">Video showing the problem</a></p>\n<p>Vaadin version 7.7.15, ComponentRenderer version 1.0.3.</p>\n<p>The item SetChangeListener hangs on the container, which calls updateVisibleColumns (updates column data). The ComponentRenderer is installed here:</p>\n<pre><code>protected void updateVisibleColumns() {\n    if (dataSource == null) {\n        return;\n    }\n    final Collection&lt;DataSourceColumn&gt; visibleColumns = dataSource.getVisibleColumns();\n    setColumns(visibleColumns.toArray());\n\n    Map&lt;String, ArrayList&lt;Object&gt;&gt; groupMap = new HashMap&lt;&gt;();\n\n    for (final DataSourceColumn column : visibleColumns) {\n        if (column.getGroup() != null) {\n            if (!groupMap.containsKey(column.getGroup())) {\n                groupMap.put(column.getGroup(), new ArrayList&lt;&gt;());\n            }\n            groupMap.get(column.getGroup()).add(column);\n        }\n\n        final Column gridColumn = getColumn(column);\n        gridColumn.setHeaderCaption(column.getCaption());\n        if (column.getFormat() != null &amp;&amp; !Component.class.isAssignableFrom(column.getType())) {\n            gridColumn.setConverter(new DataSourceColumnConverter(column));\n        }\n        if (Resource.class.isAssignableFrom(column.getType())) {\n            gridColumn.setRenderer(new ImageRenderer());\n        } else if (Component.class.isAssignableFrom(column.getType())) {\n            gridColumn.setRenderer(new ComponentRenderer());\n        }\n    }\n    recalculateColumnWidths();\n}\n</code></pre>\n<p>In the example, a Label wrapped in VerticalLayout is used as a component to listen for clicks:</p>\n<pre><code>public class ClickableLabelField extends VerticalLayout implements Field&lt;String&gt;\n</code></pre>\n<p>Columns are frozen in a separate class to which a grid instance is passed. The frozen columns are installed in the setSettings method:</p>\n<pre><code>private final CheckBoxWithCaption fixFirstColumn\n        = new CheckBoxWithCaption(&quot;Закрепить первую колонку&quot;);\nprivate final CheckBoxWithCaption severalFixColumn\n        = new CheckBoxWithCaption(&quot;Закрепить несколько колонок&quot;);\nprivate final CheckBoxWithCaption showStripeRow\n        = new CheckBoxWithCaption(&quot;Отображать \\&quot;зебру\\&quot;&quot;);\n\npublic void setSettings() {\n    if (grid == null || grid.getColumns().isEmpty()) {\n        return;\n    }\n    if (Boolean.TRUE.equals(fixFirstColumn.getValue())) {\n        grid.setFrozenColumnCount(1);\n    } else if (Boolean.TRUE.equals(severalFixColumn.getValue())) {\n        Long fixColumn = getNumberColumnValue(columnNumberField.getValue());\n        if (fixColumn != null) {\n            grid.setFrozenColumnCount(fixColumn.intValue());\n        }\n    }\n\n    if (Boolean.TRUE.equals(showStripeRow.getValue())) {\n        grid.removeStyleName(EKPTheme.GRID_NO_STRIPE);\n    } else {\n        grid.addStyleName(EKPTheme.GRID_NO_STRIPE);\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","audio"],"owner":{"account_id":2667931,"reputation":776,"user_id":2305886,"accept_rate":29,"display_name":"user2305886"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687489052,"creation_date":1687489052,"question_id":76536832,"body_markdown":"Sound works fine when I do test:\r\n\r\n&gt; aplay -D hw:1,0 /usr/share/sounds/alsa/audio.wav\r\n\r\nHowever when I try to `getSourceDataLine` and then open it, I am getting the exception:\r\n\r\n   javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian not supported.\r\n\tat java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\r\n\tat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\r\n\tat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:357)\r\n\tat photoorganizer.formats.M4A$MP4Player.playLoop(M4A.java:204)\r\n\tat photoorganizer.formats.SimpleMediaFormat$SimpleMediaPlayer.run(SimpleMediaFormat.java:323)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThere is the code snippet:\r\n\r\n    //create audio format\r\n    fmt = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\r\n    line = AudioSystem.getSourceDataLine(fmt);\r\n    line.open();\r\n    line.start();\r\n\r\nI use Oracle JVM 17.7. Linux details:\r\n\r\n&gt; NAME=&quot;Ubuntu&quot;\r\n&gt; VERSION=&quot;20.04.6 LTS (Focal Fossa)&quot;\r\n&gt; ID=ubuntu\r\n&gt; ID_LIKE=debian\r\n&gt; PRETTY_NAME=&quot;Orange Pi 1.1.6 Focal&quot;\r\n&gt; VERSION_ID=&quot;20.04&quot;\r\n&gt; HOME_URL=&quot;https://www.ubuntu.com/&quot;\r\n&gt; SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\r\n&gt; BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\r\n&gt; PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\r\n&gt; VERSION_CODENAME=focal\r\n&gt; UBUNTU_CODENAME=focal\r\n\r\nJVM details:\r\n\r\n&gt; java.vm.specification.vendor\tOracle Corporation\r\n&gt; java.specification.name\tJava Platform API Specification\r\n&gt; sun.management.compiler\tHotSpot 64-Bit Tiered Compilers\r\n&gt; java.runtime.version\t17.0.7+8-LTS-224\r\n\r\n","title":"Can&#39;t play sound from Java on Orange Pi Ubuntu server","body":"<p>Sound works fine when I do test:</p>\n<blockquote>\n<p>aplay -D hw:1,0 /usr/share/sounds/alsa/audio.wav</p>\n</blockquote>\n<p>However when I try to <code>getSourceDataLine</code> and then open it, I am getting the exception:</p>\n<p>javax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian not supported.\nat java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\nat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\nat java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:357)\nat photoorganizer.formats.M4A$MP4Player.playLoop(M4A.java:204)\nat photoorganizer.formats.SimpleMediaFormat$SimpleMediaPlayer.run(SimpleMediaFormat.java:323)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>There is the code snippet:</p>\n<pre><code>//create audio format\nfmt = new AudioFormat(track.getSampleRate(), track.getSampleSize(), track.getChannelCount(), true, true);\nline = AudioSystem.getSourceDataLine(fmt);\nline.open();\nline.start();\n</code></pre>\n<p>I use Oracle JVM 17.7. Linux details:</p>\n<blockquote>\n<p>NAME=&quot;Ubuntu&quot;\nVERSION=&quot;20.04.6 LTS (Focal Fossa)&quot;\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=&quot;Orange Pi 1.1.6 Focal&quot;\nVERSION_ID=&quot;20.04&quot;\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\nVERSION_CODENAME=focal\nUBUNTU_CODENAME=focal</p>\n</blockquote>\n<p>JVM details:</p>\n<blockquote>\n<p>java.vm.specification.vendor  Oracle Corporation\njava.specification.name   Java Platform API Specification\nsun.management.compiler   HotSpot 64-Bit Tiered Compilers\njava.runtime.version  17.0.7+8-LTS-224</p>\n</blockquote>\n"},{"tags":["java","android","startactivityforresult","android-mediaprojection"],"owner":{"account_id":28864258,"reputation":1,"user_id":22107358,"display_name":"Bekhzod Abduraufov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687486228,"creation_date":1687486153,"question_id":76536708,"body_markdown":"I am developing an android app that requires screen capturing. I am using [MediaProjectionManager](https://developer.android.com/reference/android/media/projection/MediaProjectionManager) to take screen shots. The problem is the permission dialog is being displayed for a sec and **closing immediately**.\r\n[Permission Dialog](https://i.stack.imgur.com/TE4q8.png)\r\n\r\nThis is how I am calling the `startActivityForResult`\r\n\r\n```\r\n          Intent intent = ((MediaProjectionManager)     activity.getSystemService(Context.MEDIA_PROJECTION_SERVICE)).createScreenCaptureIntent();\r\n            intent.setFlags(0);\r\n            activity.startActivityForResult(intent, RUN_TEST_CODE);\r\n```\r\n\r\n\r\nSo far I&#39;ve tried \r\n   - setting `standard` or `singleTop ` launch mode in Activity.\r\n   - setting `Intent.FLAG_ACTIVITY_NEW_TASK` in Intent\r\n   - setting `in.setFlags(0);` in Intent\r\n","title":"Recording and Casting permission dialog is getting canceled immediately","body":"<p>I am developing an android app that requires screen capturing. I am using <a href=\"https://developer.android.com/reference/android/media/projection/MediaProjectionManager\" rel=\"nofollow noreferrer\">MediaProjectionManager</a> to take screen shots. The problem is the permission dialog is being displayed for a sec and <strong>closing immediately</strong>.\n<a href=\"https://i.stack.imgur.com/TE4q8.png\" rel=\"nofollow noreferrer\">Permission Dialog</a></p>\n<p>This is how I am calling the <code>startActivityForResult</code></p>\n<pre><code>          Intent intent = ((MediaProjectionManager)     activity.getSystemService(Context.MEDIA_PROJECTION_SERVICE)).createScreenCaptureIntent();\n            intent.setFlags(0);\n            activity.startActivityForResult(intent, RUN_TEST_CODE);\n</code></pre>\n<p>So far I've tried</p>\n<ul>\n<li>setting <code>standard</code> or <code>singleTop </code> launch mode in Activity.</li>\n<li>setting <code>Intent.FLAG_ACTIVITY_NEW_TASK</code> in Intent</li>\n<li>setting <code>in.setFlags(0);</code> in Intent</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1687484868,"post_id":76536621,"comment_id":134946922,"body_markdown":"I suggest that you use a debugger and step through the code.","body":"I suggest that you use a debugger and step through the code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687486700,"post_id":76536621,"comment_id":134947059,"body_markdown":"Each of those bracketed structures, `{ }`, are containers for data.  You can access the data of the containers, from other containers.","body":"Each of those bracketed structures, <code>{ }</code>, are containers for data.  You can access the data of the containers, from other containers."}],"answers":[{"comments":[{"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"score":0,"creation_date":1687485472,"post_id":76536674,"comment_id":134946971,"body_markdown":"I would like to see a little more understanding of the concept of inheritance in object-oriented languages.","body":"I would like to see a little more understanding of the concept of inheritance in object-oriented languages."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687654040,"post_id":76536674,"comment_id":134966807,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76536674/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687485389,"creation_date":1687485389,"answer_id":76536674,"question_id":76536621,"body_markdown":"call &quot;super constructor&quot;\r\n\r\nlike this....\r\n\r\n    class AquaticAnimal extends Animal {\r\n    \tpublic AquaticAnimal() {\r\n    \t\tSystem.out.println(&quot;AquaticAnimal!&quot;);\r\n    \t}\r\n    \tpublic AquaticAnimal(String name) {\r\n    \t\tthis(name, 0);\r\n    \t\tSystem.out.println(name);\r\n    \t}\r\n    \tpublic AquaticAnimal(String name, int legs) {\r\n            super(name, legs);\r\n    \t\tSystem.out.println(\r\n    \t\t\t\tname + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    \t}\r\n    }","title":"What is the flow of this program? I already know the output but I want to know how to get there","body":"<p>call &quot;super constructor&quot;</p>\n<p>like this....</p>\n<pre><code>class AquaticAnimal extends Animal {\n    public AquaticAnimal() {\n        System.out.println(&quot;AquaticAnimal!&quot;);\n    }\n    public AquaticAnimal(String name) {\n        this(name, 0);\n        System.out.println(name);\n    }\n    public AquaticAnimal(String name, int legs) {\n        super(name, legs);\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28876673,"reputation":21,"user_id":22117049,"display_name":"Jayden Morillo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687486101,"creation_date":1687484329,"question_id":76536621,"body_markdown":"```\r\npublic class MainClassInheritance {\r\n    public static void main(String[] args) {\r\n        Animal animal = new Animal(&quot;Animal&quot;);\r\n        Animal shark = new AquaticAnimal(&quot;Dolphin&quot;);\r\n        Animal horse = new TerrestialAnimal(&quot;Horse&quot;);\r\n        Animal lion = new WildAnimal(&quot;Tiger&quot;);\r\n        System.out.println(horse);\r\n    }\r\n}\r\nclass Animal {\r\n    public Animal() {\r\n        System.out.println(&quot;Animal!&quot;);\r\n    }\r\n    public Animal(String name) {\r\n        this(name, 0);\r\n    }\r\n    public Animal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;I&#39;m an animal!&quot;;\r\n    }\r\n}\r\nclass AquaticAnimal extends Animal {\r\n    public AquaticAnimal() {\r\n        System.out.println(&quot;AquaticAnimal!&quot;);\r\n    }\r\n    public AquaticAnimal(String name) {\r\n        this(name, 0);\r\n        System.out.println(name);\r\n    }\r\n    public AquaticAnimal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\nclass TerrestialAnimal extends Animal {\r\n    public TerrestialAnimal() {\r\n        System.out.println(&quot;TerrestialAnimal!&quot;);\r\n    }\r\n    public TerrestialAnimal(String name) {\r\n        this(name, 4);\r\n        System.out.println(name);\r\n    }\r\n    public TerrestialAnimal(String name, int legs) {\r\n        super(name, legs);\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\nclass WildAnimal extends TerrestialAnimal {\r\n    public WildAnimal() {\r\n        System.out.println(&quot;WildAnimal!&quot;);\r\n    }\r\n    public WildAnimal(String name) {\r\n        this(name, 4);\r\n        System.out.println(name);\r\n    }\r\n    public WildAnimal(String name, int legs) {\r\n        System.out.println(\r\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am genuinely interested in grasping the concepts of computer science problem-solving. I have a strong desire to explore the fascinating world of algorithms, data structures, and programming languages.\r\nI also tried chatGPT but it gave me the wrong answer.\r\nI want to understand the output of the program.\r\nwhich is:\r\n\r\n    Animal has no legs\r\n    Animal!\r\n    Dolphin has no legs\r\n    Dolphin\r\n    Horse has 4 legs\r\n    Horse has 4 legs\r\n    Horse\r\n    Animal!\r\n    TerrestialAnimal!\r\n    Tiger has 4 legs\r\n    Tiger\r\n    I&#39;m an animal!\r\n\r\n","title":"What is the flow of this program? I already know the output but I want to know how to get there","body":"<pre><code>public class MainClassInheritance {\n    public static void main(String[] args) {\n        Animal animal = new Animal(&quot;Animal&quot;);\n        Animal shark = new AquaticAnimal(&quot;Dolphin&quot;);\n        Animal horse = new TerrestialAnimal(&quot;Horse&quot;);\n        Animal lion = new WildAnimal(&quot;Tiger&quot;);\n        System.out.println(horse);\n    }\n}\nclass Animal {\n    public Animal() {\n        System.out.println(&quot;Animal!&quot;);\n    }\n    public Animal(String name) {\n        this(name, 0);\n    }\n    public Animal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n    @Override\n    public String toString() {\n        return &quot;I'm an animal!&quot;;\n    }\n}\nclass AquaticAnimal extends Animal {\n    public AquaticAnimal() {\n        System.out.println(&quot;AquaticAnimal!&quot;);\n    }\n    public AquaticAnimal(String name) {\n        this(name, 0);\n        System.out.println(name);\n    }\n    public AquaticAnimal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\nclass TerrestialAnimal extends Animal {\n    public TerrestialAnimal() {\n        System.out.println(&quot;TerrestialAnimal!&quot;);\n    }\n    public TerrestialAnimal(String name) {\n        this(name, 4);\n        System.out.println(name);\n    }\n    public TerrestialAnimal(String name, int legs) {\n        super(name, legs);\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\nclass WildAnimal extends TerrestialAnimal {\n    public WildAnimal() {\n        System.out.println(&quot;WildAnimal!&quot;);\n    }\n    public WildAnimal(String name) {\n        this(name, 4);\n        System.out.println(name);\n    }\n    public WildAnimal(String name, int legs) {\n        System.out.println(\n                name + &quot; has &quot; + (legs == 0 ? &quot;no&quot; : legs) + &quot; legs&quot;);\n    }\n}\n</code></pre>\n<p>I am genuinely interested in grasping the concepts of computer science problem-solving. I have a strong desire to explore the fascinating world of algorithms, data structures, and programming languages.\nI also tried chatGPT but it gave me the wrong answer.\nI want to understand the output of the program.\nwhich is:</p>\n<pre><code>Animal has no legs\nAnimal!\nDolphin has no legs\nDolphin\nHorse has 4 legs\nHorse has 4 legs\nHorse\nAnimal!\nTerrestialAnimal!\nTiger has 4 legs\nTiger\nI'm an animal!\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cxml"],"owner":{"account_id":7036349,"reputation":451,"user_id":5390315,"accept_rate":77,"display_name":"Bert Alfred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687486097,"creation_date":1500494343,"question_id":45199946,"body_markdown":"I am attempting to write a service to accept punch out data and am required to accept the data as [cXML][1]. I attempted to generate some models via the psd and bind that to misprint boot app. However, it does not unmarshall the data:\r\n\r\n&gt; Failed to read HTTP message: \r\n&gt; org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; Could  not unmarshal to [class com.a.internet.models.CXML]: null;\r\n&gt; nested exception is javax.xml.bind.UnmarshalException\r\n\r\nI&#39;m hoping I could fiddle with the binding but am unfamiliar with cXML or how to tweak this to accepts it. Any guidance is greatly appreciated.\r\n\r\n  [1]: http://xml.cxml.org/current/cXMLUsersGuide.pdf","title":"Spring boot to accepts cXML?","body":"<p>I am attempting to write a service to accept punch out data and am required to accept the data as <a href=\"http://xml.cxml.org/current/cXMLUsersGuide.pdf\" rel=\"nofollow noreferrer\">cXML</a>. I attempted to generate some models via the psd and bind that to misprint boot app. However, it does not unmarshall the data:</p>\n\n<blockquote>\n  <p>Failed to read HTTP message: \n  org.springframework.http.converter.HttpMessageNotReadableException:\n  Could  not unmarshal to [class com.a.internet.models.CXML]: null;\n  nested exception is javax.xml.bind.UnmarshalException</p>\n</blockquote>\n\n<p>I'm hoping I could fiddle with the binding but am unfamiliar with cXML or how to tweak this to accepts it. Any guidance is greatly appreciated.</p>\n"},{"tags":["java","regex","splunk"],"answers":[{"comments":[{"owner":{"account_id":3110,"reputation":32932,"user_id":4418,"accept_rate":94,"display_name":"warren"},"score":0,"creation_date":1687522045,"post_id":76536663,"comment_id":134952393,"body_markdown":"Even simpler (and 2x as efficient): `| rex &quot;statusCode\\D+(?&lt;statusCodeValue&gt;[\\d]+)&quot;`","body":"Even simpler (and 2x as efficient): <code>| rex &quot;statusCode\\D+(?&lt;statusCodeValue&gt;[\\d]+)&quot;</code>"},{"owner":{"account_id":1723011,"reputation":4272,"user_id":1578298,"accept_rate":47,"display_name":"Vijaya Pandey"},"score":0,"creation_date":1687528821,"post_id":76536663,"comment_id":134954012,"body_markdown":"@warren I agree, we can avoid initial `&quot;` and directly start from `statusCode`. Did you mean that using `\\D+`  instead of `\\&quot;:` is more efficient?","body":"@warren I agree, we can avoid initial <code>&quot;</code> and directly start from <code>statusCode</code>. Did you mean that using <code>\\D+</code>  instead of <code>\\&quot;:</code> is more efficient?"},{"owner":{"account_id":3110,"reputation":32932,"user_id":4418,"accept_rate":94,"display_name":"warren"},"score":0,"creation_date":1687537246,"post_id":76536663,"comment_id":134955938,"body_markdown":"yes - your regex takes 69 steps. Mine is 32 :) https://regex101.com/r/MdAxWN/1","body":"yes - your regex takes 69 steps. Mine is 32 :) <a href=\"https://regex101.com/r/MdAxWN/1\" rel=\"nofollow noreferrer\">regex101.com/r/MdAxWN/1</a>"},{"owner":{"account_id":1723011,"reputation":4272,"user_id":1578298,"accept_rate":47,"display_name":"Vijaya Pandey"},"score":0,"creation_date":1687540217,"post_id":76536663,"comment_id":134956543,"body_markdown":"actually just 33 if initial `&quot;` is skipped. Thanks for the insight.","body":"actually just 33 if initial <code>&quot;</code> is skipped. Thanks for the insight."}],"tags":[],"owner":{"account_id":1723011,"reputation":4272,"user_id":1578298,"accept_rate":47,"display_name":"Vijaya Pandey"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687485173,"creation_date":1687485173,"answer_id":76536663,"question_id":76536628,"body_markdown":"Although your regular expression `&quot;statusCode&quot;:([\\d]*)` is correct to capture the statusCode, I think it would work if you put escape characters for `&quot;` and specify a named group.\r\n\r\nSo, the regex would be: `\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)`\r\n\r\n\r\nSo, the final Splunk query would look like:\r\n\r\n    index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; \r\n    | rex &quot;\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)&quot; \r\n    | stats count by statusCode \r\n\r\n\r\nDemo for regex match and named capture group:\r\n[https://regex101.com/r/UWdib7/1][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/UWdib7/1","title":"Extract http status code from the log result in Splunk","body":"<p>Although your regular expression <code>&quot;statusCode&quot;:([\\d]*)</code> is correct to capture the statusCode, I think it would work if you put escape characters for <code>&quot;</code> and specify a named group.</p>\n<p>So, the regex would be: <code>\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)</code></p>\n<p>So, the final Splunk query would look like:</p>\n<pre><code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; \n| rex &quot;\\&quot;statusCode\\&quot;:(?&lt;statusCode&gt;[\\d]*)&quot; \n| stats count by statusCode \n</code></pre>\n<p>Demo for regex match and named capture group:\n<a href=\"https://regex101.com/r/UWdib7/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/UWdib7/1</a></p>\n"}],"owner":{"account_id":28877335,"reputation":23,"user_id":22117554,"display_name":"schanjr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76536663,"answer_count":1,"score":2,"last_activity_date":1687485173,"creation_date":1687484557,"question_id":76536628,"body_markdown":"I am using the following Splunk query to get all the response content and their corresponding response status code.\r\n\r\n`index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot;`\r\n\r\nSample response log from the above Splunk query looks like:\r\n\t\r\n`||INFO||||Response:{&quot;requestId:&quot;369018b6-0fd4-11ee-be56-0242ac120002&quot;,&quot;headers&quot;:{&quot;Content-Type&quot;:[&quot;application/json&quot;]},&quot;url&quot;:&quot;https://sample-service.abcCompany.com&quot;,&quot;statusCode&quot;:200,&quot;method&quot;:&quot;POST&quot;,&quot;timeTaken&quot;:98,&quot;body&quot;:{&quot;..&quot;:&quot;..&quot;,&quot;...&quot;:&quot;...&quot;}}`\r\n\r\nI am trying to extract the `statusCode `as a field so that I can see the number of occurrences of each http statusCode from the service response.\r\n\r\n\r\n\r\nHere is the regular expression I tried to extract statusCode:\r\n`&quot;statusCode&quot;:([\\d]*)`\r\n\r\nI tried using above regular expression in the Splunk query:\r\n`index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; | rex &quot;statusCode&quot;:([\\d]*)`\r\n\r\nBut got Error in the search parser:\r\n`Error in &#39;SearchParser&#39;: Missing a search command before &#39;\\&#39;.`\r\nNot sure how to implement this to extract the statusCode field so that I can visualize the number of occurrences of each statusCode.\r\n\r\nMy expected result sample is:\r\n\r\n| statusCode| count  |\r\n| --------  | -------|\r\n| 200       | 5000   |\r\n| 404       | 4      |\r\n\r\n\r\n\r\n","title":"Extract http status code from the log result in Splunk","body":"<p>I am using the following Splunk query to get all the response content and their corresponding response status code.</p>\n<p><code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot;</code></p>\n<p>Sample response log from the above Splunk query looks like:</p>\n<p><code>||INFO||||Response:{&quot;requestId:&quot;369018b6-0fd4-11ee-be56-0242ac120002&quot;,&quot;headers&quot;:{&quot;Content-Type&quot;:[&quot;application/json&quot;]},&quot;url&quot;:&quot;https://sample-service.abcCompany.com&quot;,&quot;statusCode&quot;:200,&quot;method&quot;:&quot;POST&quot;,&quot;timeTaken&quot;:98,&quot;body&quot;:{&quot;..&quot;:&quot;..&quot;,&quot;...&quot;:&quot;...&quot;}}</code></p>\n<p>I am trying to extract the <code>statusCode </code>as a field so that I can see the number of occurrences of each http statusCode from the service response.</p>\n<p>Here is the regular expression I tried to extract statusCode:\n<code>&quot;statusCode&quot;:([\\d]*)</code></p>\n<p>I tried using above regular expression in the Splunk query:\n<code>index=main env=nonprod sourcetype=&quot;*sample-service*&quot; &quot;response&quot; | rex &quot;statusCode&quot;:([\\d]*)</code></p>\n<p>But got Error in the search parser:\n<code>Error in 'SearchParser': Missing a search command before '\\'.</code>\nNot sure how to implement this to extract the statusCode field so that I can visualize the number of occurrences of each statusCode.</p>\n<p>My expected result sample is:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>statusCode</th>\n<th>count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>200</td>\n<td>5000</td>\n</tr>\n<tr>\n<td>404</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":1,"creation_date":1516652367,"post_id":37436540,"comment_id":83766908,"body_markdown":"For Mac users, it&#39;s usually `Cmd+Option+C`","body":"For Mac users, it&#39;s usually <code>Cmd+Option+C</code>"}],"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1687485131,"creation_date":1464177794,"answer_id":37436540,"question_id":37431594,"body_markdown":"After &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt;, press this shortcut again, which shows dialog with more options.\r\n\r\nThere is a visibility section. If you select private here, it will be the new default when extracting constants the next time.\r\n\r\nSee the IntelliJ IDEA documentation: https://www.jetbrains.com/help/idea/extract-constant.html\r\n\r\n[![introduce constant dialogue][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/N75WA.png","title":"How can I default constants in IntelliJ to private?","body":"<p>After <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>C</kbd>, press this shortcut again, which shows dialog with more options.</p>\n<p>There is a visibility section. If you select private here, it will be the new default when extracting constants the next time.</p>\n<p>See the IntelliJ IDEA documentation: <a href=\"https://www.jetbrains.com/help/idea/extract-constant.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/extract-constant.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/N75WA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N75WA.png\" alt=\"introduce constant dialogue\" /></a></p>\n"}],"owner":{"account_id":3698,"reputation":36043,"user_id":5363,"accept_rate":71,"display_name":"Grzenio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1916,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37436540,"answer_count":1,"score":14,"last_activity_date":1687485131,"creation_date":1464164639,"question_id":37431594,"body_markdown":"When I am creating a constant in IntelliJ (using Ctrl+Alt+C), by default it is `public static final`. How can I make it `private static final` instead?","title":"How can I default constants in IntelliJ to private?","body":"<p>When I am creating a constant in IntelliJ (using Ctrl+Alt+C), by default it is <code>public static final</code>. How can I make it <code>private static final</code> instead?</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","spring-test"],"comments":[{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1459414248,"post_id":36328213,"comment_id":60279263,"body_markdown":"Assuming you are using JUnit, then the start and stop server actions can take place in the setup and teardown methods. All tests in the same class can then use the server instance.","body":"Assuming you are using JUnit, then the start and stop server actions can take place in the setup and teardown methods. All tests in the same class can then use the server instance."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":1,"creation_date":1459414941,"post_id":36328213,"comment_id":60279804,"body_markdown":"You don&#39;t need setup or tear down, as Spring will do it for you. Question was about creating a set of classes under a single suite.","body":"You don&#39;t need setup or tear down, as Spring will do it for you. Question was about creating a set of classes under a single suite."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1459417248,"post_id":36328213,"comment_id":60281547,"body_markdown":"http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4","body":"<a href=\"http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4\" title=\"testsuite setup in junit 4\">stackoverflow.com/questions/6580670/testsuite-setup-in-junit&zwnj;&#8203;-4</a>"},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":0,"creation_date":1459420697,"post_id":36328213,"comment_id":60284021,"body_markdown":"That a nice option, but it needs a different runner, and so we won&#39;t able to use spring runner. But its a good option if we want to run the test server manually.","body":"That a nice option, but it needs a different runner, and so we won&#39;t able to use spring runner. But its a good option if we want to run the test server manually."},{"owner":{"account_id":1126637,"reputation":24248,"user_id":1113772,"accept_rate":100,"display_name":"Paul Sweatte"},"score":1,"creation_date":1481129853,"post_id":36328213,"comment_id":69253354,"body_markdown":"Possible duplicate of [If a Java EE application is designed to run in a Tomcat container, should all integration tests run in a similar container?](http://stackoverflow.com/questions/9657249/if-a-java-ee-application-is-designed-to-run-in-a-tomcat-container-should-all-in)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9657249/if-a-java-ee-application-is-designed-to-run-in-a-tomcat-container-should-all-in\">If a Java EE application is designed to run in a Tomcat container, should all integration tests run in a similar container?</a>"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1687484731,"creation_date":1459413434,"question_id":36328213,"body_markdown":"I am writing a set of integration tests and each test class start the server and stop the server, which takes long time. Is it possible to create a test suite, where a single instance of server can be used for a set of test classes?\r\n\r\nThanks,\r\nManish ","title":"Single server instance should run all the integration test in spring boot application","body":"<p>I am writing a set of integration tests and each test class start the server and stop the server, which takes long time. Is it possible to create a test suite, where a single instance of server can be used for a set of test classes?</p>\n\n<p>Thanks,\nManish </p>\n"},{"tags":["java","spring-boot","mybatis","typehandler"],"answers":[{"tags":[],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687484529,"creation_date":1687484529,"answer_id":76536625,"question_id":76526654,"body_markdown":"It looks like I ran into a MyBatis bug, where enums don&#39;t play nice if they override some method, like so\r\n\r\n```\r\npublic enum Foo {\r\n  VALUE_A(&quot;A&quot;),\r\n  VALUE_B(&quot;B&quot;) {\r\n    public String bar() {\r\n      return &quot;I am NOT a teapot&quot;;\r\n    }\r\n  };\r\n\r\n  String value;\r\n\r\n  public String bar() {\r\n    return &quot;I am a teapot&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nAfter much experimenting, I realized that `VALUE_A` works without issues, both reading from and writing to the database. I don&#39;t need the `@MappedJdbcTypes` annotation at all. `VALUE_B` on the other hand breaks everything.\r\nI refactored the enum and moved the method out to a utility class and life is good now.","title":"MyBatis enum type handler only works for either reads or writes, not both","body":"<p>It looks like I ran into a MyBatis bug, where enums don't play nice if they override some method, like so</p>\n<pre><code>public enum Foo {\n  VALUE_A(&quot;A&quot;),\n  VALUE_B(&quot;B&quot;) {\n    public String bar() {\n      return &quot;I am NOT a teapot&quot;;\n    }\n  };\n\n  String value;\n\n  public String bar() {\n    return &quot;I am a teapot&quot;;\n  }\n\n}\n</code></pre>\n<p>After much experimenting, I realized that <code>VALUE_A</code> works without issues, both reading from and writing to the database. I don't need the <code>@MappedJdbcTypes</code> annotation at all. <code>VALUE_B</code> on the other hand breaks everything.\nI refactored the enum and moved the method out to a utility class and life is good now.</p>\n"}],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687484529,"creation_date":1687376749,"question_id":76526654,"body_markdown":"I have a spring boot project using mybatis 3.5.9 and I&#39;m trying to add a custom type handler for an enum that looks like\r\n```\r\npublic enum Foo {\r\n  VALUE_A(&quot;A&quot;),\r\n  VALUE_B(&quot;B&quot;);\r\n\r\n  String value;\r\n  //getters and such...\r\n}\r\n```\r\n\r\nI added `mybatis.type-handlers-package` to application properties\r\n\r\nThe handler is a pretty standard\r\n```\r\n@MappedTypes(Foo.class)\r\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\r\n//the usual setParameter and getResult overrides\r\n}\r\n```\r\nWhen reading data this works fine, I can put a breakpoint in the handler and I see that it&#39;s being used and I get my enum. When writing, however, the type handler isn&#39;t being used, mybatis is trying to write the full &quot;VALUE_A&quot; to the DB column. \r\n\r\nOn the other hand, if I annotate it with the mapped JDBC type like\r\n```\r\n@MappedTypes(Foo.class)\r\n@MappedJdbcTypes(JdbcType.VARCHAR)\r\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\r\n//the usual setParameter and getResult overrides\r\n}\r\n```\r\nThen writing works fine but reading doesn&#39;t. \r\nI can solve the problem by getting rid of the jdbc type annotation and sticking an explicit `typeHandler=com.example.FooHandler}` into every SQL statement, but I have a lot of mappers and really this should just work globally, shouldn&#39;t it?","title":"MyBatis enum type handler only works for either reads or writes, not both","body":"<p>I have a spring boot project using mybatis 3.5.9 and I'm trying to add a custom type handler for an enum that looks like</p>\n<pre><code>public enum Foo {\n  VALUE_A(&quot;A&quot;),\n  VALUE_B(&quot;B&quot;);\n\n  String value;\n  //getters and such...\n}\n</code></pre>\n<p>I added <code>mybatis.type-handlers-package</code> to application properties</p>\n<p>The handler is a pretty standard</p>\n<pre><code>@MappedTypes(Foo.class)\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\n//the usual setParameter and getResult overrides\n}\n</code></pre>\n<p>When reading data this works fine, I can put a breakpoint in the handler and I see that it's being used and I get my enum. When writing, however, the type handler isn't being used, mybatis is trying to write the full &quot;VALUE_A&quot; to the DB column.</p>\n<p>On the other hand, if I annotate it with the mapped JDBC type like</p>\n<pre><code>@MappedTypes(Foo.class)\n@MappedJdbcTypes(JdbcType.VARCHAR)\npublic class FooHandler implements TypeHandler&lt;Foo&gt; {\n//the usual setParameter and getResult overrides\n}\n</code></pre>\n<p>Then writing works fine but reading doesn't.\nI can solve the problem by getting rid of the jdbc type annotation and sticking an explicit <code>typeHandler=com.example.FooHandler}</code> into every SQL statement, but I have a lot of mappers and really this should just work globally, shouldn't it?</p>\n"},{"tags":["java","sql","postgresql","spring-boot","testing"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687494819,"post_id":76337511,"comment_id":134947655,"body_markdown":"What wrong with using env vars to set query params?","body":"What wrong with using env vars to set query params?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1687497857,"post_id":76337511,"comment_id":134947911,"body_markdown":"@Bohemian I&#39;m not sure what you mean. You can use env variables to set query params, but I&#39;m talking SQL scripts","body":"@Bohemian I&#39;m not sure what you mean. You can use env variables to set query params, but I&#39;m talking SQL scripts"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687483816,"creation_date":1685072371,"question_id":76337511,"body_markdown":"Suppose, I have a script like this\r\n```sql\r\nINSERT INTO permissions(id, name, created_date, modified_date)\r\nVALUES (1, &#39;ADMIN&#39;, current_timestamp, current_timestamp),\r\n       (2, &#39;MODERATOR&#39;, current_timestamp, current_timestamp),\r\n       (3, &#39;USER&#39;, current_timestamp, current_timestamp);\r\n\r\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\r\nVALUES (1, &#39;mickey_m&#39;, &#39;$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e&#39;, true, current_timestamp,\r\n        current_timestamp),\r\n    (2, &#39;minerva_m&#39;, &#39;$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO&#39;, true, current_timestamp,\r\n     current_timestamp);\r\n\r\nINSERT INTO accounts_permissions(account_id, permission_id)\r\nVALUES (1, 3),\r\n       (2, 3);\r\n    &lt;!-- and so on --&gt;\r\n```\r\nI may then, for example, use it in an `@Sql` annotation\r\n```sql\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/before.sql&quot;)\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/after.sql&quot;)\r\n    @Test\r\n    public void createCommentTest() throws Exception {\r\n```\r\nThe values in the script are hard-coded, e.g. usernames, passwords. It&#39;s relatively straightforward to reference a properties file&#39;s keys in a Java file, though it&#39;s less clear to me how I can do the same thing in an SQL file. Perfunctory googling or searching on SO didn&#39;t help\r\n\r\n**How do I do it (if it&#39;s possible)?**","title":"Can I reference environment variables in my SQL script in a Spring Boot app? How?","body":"<p>Suppose, I have a script like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO permissions(id, name, created_date, modified_date)\nVALUES (1, 'ADMIN', current_timestamp, current_timestamp),\n       (2, 'MODERATOR', current_timestamp, current_timestamp),\n       (3, 'USER', current_timestamp, current_timestamp);\n\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\nVALUES (1, 'mickey_m', '$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e', true, current_timestamp,\n        current_timestamp),\n    (2, 'minerva_m', '$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO', true, current_timestamp,\n     current_timestamp);\n\nINSERT INTO accounts_permissions(account_id, permission_id)\nVALUES (1, 3),\n       (2, 3);\n    &lt;!-- and so on --&gt;\n</code></pre>\n<p>I may then, for example, use it in an <code>@Sql</code> annotation</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/before.sql&quot;)\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;CreateCommentTest/after.sql&quot;)\n    @Test\n    public void createCommentTest() throws Exception {\n</code></pre>\n<p>The values in the script are hard-coded, e.g. usernames, passwords. It's relatively straightforward to reference a properties file's keys in a Java file, though it's less clear to me how I can do the same thing in an SQL file. Perfunctory googling or searching on SO didn't help</p>\n<p><strong>How do I do it (if it's possible)?</strong></p>\n"},{"tags":["java","spring-boot","jdbc","camunda"],"owner":{"account_id":28877219,"reputation":1,"user_id":22117476,"display_name":"nikobinev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687483476,"creation_date":1687482497,"question_id":76536550,"body_markdown":"Hello I am doing a camunda springboot project for my university coursework. I am currently trying to connect MySQL database to the project. When i try to do that i get the following error : \r\n\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-23 01:56:29.878 ERROR 1400 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat com.example.workflow.Application.main(Application.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\r\n\tat com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:164) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:131) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\t... 20 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried adding every dependency that might&#39;ve worked on older version, however with no success. I the Camunda documentation and downloaded the Nexus files that are required for creating the MySQL tables and checked the version multiple times.\r\n\r\nHere is my application.yaml file:\r\n\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/camunda\r\n    username: root\r\n    password: Gu8S6LNECEmCXRV\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n\r\ncamunda.bpm.admin-user:\r\n  id: demo\r\n  password: demo\r\n```\r\n\r\nHere is my pom.xml file dependencies that are important :\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n","title":"Camunda Spring Boot project","body":"<p>Hello I am doing a camunda springboot project for my university coursework. I am currently trying to connect MySQL database to the project. When i try to do that i get the following error :</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-06-23 01:56:29.878 ERROR 1400 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\n    at com.example.workflow.Application.main(Application.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 19 common frames omitted\nCaused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc:mysql://localhost:3306/camunda\n    at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:164) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:131) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.9.jar:2.7.9]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 20 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I've tried adding every dependency that might've worked on older version, however with no success. I the Camunda documentation and downloaded the Nexus files that are required for creating the MySQL tables and checked the version multiple times.</p>\n<p>Here is my application.yaml file:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/camunda\n    username: root\n    password: Gu8S6LNECEmCXRV\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\ncamunda.bpm.admin-user:\n  id: demo\n  password: demo\n</code></pre>\n<p>Here is my pom.xml file dependencies that are important :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1507560196,"post_id":46644570,"comment_id":80247313,"body_markdown":"Related: [No glyph for U+000D in font Helvetica](https://stackoverflow.com/questions/43738550/no-glyph-for-u000d-in-font-helvetica)","body":"Related: <a href=\"https://stackoverflow.com/questions/43738550/no-glyph-for-u000d-in-font-helvetica\">No glyph for U+000D in font Helvetica</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1512991992,"post_id":46644570,"comment_id":82464240,"body_markdown":"If you want to print INTO pdf, use the TextToPDF tool, or use its source code.","body":"If you want to print INTO pdf, use the TextToPDF tool, or use its source code."}],"answers":[{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1507559961,"post_id":46644571,"comment_id":80247154,"body_markdown":"Depending on the use case at hand, you might want to replace with a single space instead of an empty string.","body":"Depending on the use case at hand, you might want to replace with a single space instead of an empty string."},{"owner":{"account_id":4972664,"reputation":247,"user_id":3999929,"display_name":"Sandeep M"},"score":0,"creation_date":1549434910,"post_id":46644571,"comment_id":95896014,"body_markdown":"I am not using \\n but still I see the below error  \n\njava.lang.IllegalArgumentException: U+FFFD (&#39;.notdef&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding\n\n\nError if text is  : Habitaci&#243;n\n\nbut works fine when : Habitaci\\u00F3n","body":"I am not using \\n but still I see the below error    java.lang.IllegalArgumentException: U+FFFD (&#39;.notdef&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding   Error if text is  : Habitaci&#243;n  but works fine when : Habitaci\\u00F3n"},{"owner":{"account_id":5599655,"reputation":2173,"user_id":4436276,"accept_rate":46,"display_name":"Piotr Żak"},"score":0,"creation_date":1576248163,"post_id":46644571,"comment_id":104848909,"body_markdown":"With \\r it&#39;s not working better use &lt;br&gt; if You are concatenating strings. For \\r error is: java.lang.IllegalArgumentException: U+000D (&#39;controlCR&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding","body":"With \\r it&#39;s not working better use &lt;br&gt; if You are concatenating strings. For \\r error is: java.lang.IllegalArgumentException: U+000D (&#39;controlCR&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding"}],"tags":[],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"comment_count":3,"down_vote_count":4,"up_vote_count":20,"is_accepted":true,"score":16,"last_activity_date":1507556964,"creation_date":1507545860,"answer_id":46644571,"question_id":46644570,"body_markdown":"[PROBLEM] The String you are trying to display contains a newline character.\r\n\r\n[SOLUTION] Replace the String with a new one and remove the newline:\r\n\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>[PROBLEM] The String you are trying to display contains a newline character.</p>\n\n<p>[SOLUTION] Replace the String with a new one and remove the newline:</p>\n\n<pre><code>text = text.replace(\"\\n\", \"\").replace(\"\\r\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512844960,"creation_date":1512844960,"answer_id":47731904,"question_id":46644570,"body_markdown":"if you are trying to set a new line using &quot;\\n&quot; in a string  . you can try         PDPageContentStream.newLineAtOffset(x,y)   to add a new line \r\n   \r\n      PDFont font =  PDType1Font.HELVETICA ; \r\n      \r\n      PDDocument doc    = new PDDocument();\r\n      PDPage page = new PDPage();\r\n      PDPageContentStream content = new PDPageContentStream(doc, page);\r\n      content.beginText();\r\n      content.moveTextPositionByAmount(10, 700);\r\n      content.setFont(font, 12);\r\n      content.drawString(&quot;start text   &quot;);\r\n      content.newLineAtOffset(0, -15);\r\n      content.drawString(&quot;text in new line  &quot;);        \r\n      content.endText();\r\n      content.close();\r\n      doc.addPage(page);\r\n      doc.save(&quot;file.pdf&quot;);\r\n\r\n\r\nand the pdf [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3xVf3.png","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>if you are trying to set a new line using \"\\n\" in a string  . you can try         PDPageContentStream.newLineAtOffset(x,y)   to add a new line </p>\n\n<pre><code>  PDFont font =  PDType1Font.HELVETICA ; \n\n  PDDocument doc    = new PDDocument();\n  PDPage page = new PDPage();\n  PDPageContentStream content = new PDPageContentStream(doc, page);\n  content.beginText();\n  content.moveTextPositionByAmount(10, 700);\n  content.setFont(font, 12);\n  content.drawString(\"start text   \");\n  content.newLineAtOffset(0, -15);\n  content.drawString(\"text in new line  \");        \n  content.endText();\n  content.close();\n  doc.addPage(page);\n  doc.save(\"file.pdf\");\n</code></pre>\n\n<p>and the pdf <a href=\"https://i.stack.imgur.com/3xVf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3xVf3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7458958,"reputation":19,"user_id":5671206,"display_name":"What Dong"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562656497,"creation_date":1562656497,"answer_id":56947178,"question_id":46644570,"body_markdown":"Sometimes you have to change a font like :\r\n```\r\nPDFont font = PDType0Font.load(document, new File(&quot;C:\\\\Users\\\\dw\\\\Desktop\\\\FZLTXHJW.TTF&quot;));\r\n\r\n```\r\nReplace &quot;FZLTXHJW.TTF&quot; with the font you have and it should support your text encoding.","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>Sometimes you have to change a font like :</p>\n\n<pre><code>PDFont font = PDType0Font.load(document, new File(\"C:\\\\Users\\\\dw\\\\Desktop\\\\FZLTXHJW.TTF\"));\n\n</code></pre>\n\n<p>Replace \"FZLTXHJW.TTF\" with the font you have and it should support your text encoding.</p>\n"},{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1567437940,"creation_date":1567437940,"answer_id":57759476,"question_id":46644570,"body_markdown":"If you&#39;d like to retain the newline addition, i.e you indeed want your text to split and appear the later part in new line, then you can simply replace the **\\n** with an HTML **break** tag, like below below .\r\n\r\n`        return text.replace(&quot;\\n&quot;,&quot;&lt;br&gt;&quot;);\r\n`\r\n\r\n:)\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>If you'd like to retain the newline addition, i.e you indeed want your text to split and appear the later part in new line, then you can simply replace the <strong>\\n</strong> with an HTML <strong>break</strong> tag, like below below .</p>\n\n<p><code>return text.replace(\"\\n\",\"&lt;br&gt;\");\n</code></p>\n\n<p>:)</p>\n"},{"comments":[{"owner":{"account_id":4503853,"reputation":536,"user_id":3661748,"display_name":"cody.tv.weber"},"score":0,"creation_date":1684365747,"post_id":57999336,"comment_id":134509766,"body_markdown":"Link doesn&#39;t exist anymore :/","body":"Link doesn&#39;t exist anymore :/"}],"tags":[],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1687482823,"creation_date":1568833523,"answer_id":57999336,"question_id":46644570,"body_markdown":"The answer selected for this post works, replacing all instances of \\n and \\r from your string, if you know that it&#39;s a \\n or \\r character that&#39;s causing your problem. I&#39;ve discovered that there are lots of different characters that will produce this error. Here&#39;s a sampling of those that I&#39;ve found:\r\n\r\n    U+2010 (&#39;hyphentwo&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2033 (&#39;second&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+00A0 (&#39;nbspace&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+FFFD (&#39;.notdef&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+03BC (&#39;mugreek&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+039C (&#39;Mu&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2212 (&#39;minus&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+0141 (&#39;Lslash&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+2103 (&#39;centigrade&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n    U+25AA (&#39;H18543&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n\r\nIn my case, I&#39;ve simply chosen to remove any special character that&#39;s not included in my font. I used the solution from this page:\r\n\r\nhttps://stackoverflow.com/questions/42228567/remove-illegal-characters-from-string-with-pdfbox\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>The answer selected for this post works, replacing all instances of \\n and \\r from your string, if you know that it's a \\n or \\r character that's causing your problem. I've discovered that there are lots of different characters that will produce this error. Here's a sampling of those that I've found:</p>\n<pre><code>U+2010 ('hyphentwo') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2033 ('second') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+FFFD ('.notdef') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+03BC ('mugreek') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+039C ('Mu') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2212 ('minus') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+0141 ('Lslash') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2103 ('centigrade') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+25AA ('H18543') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n<p>In my case, I've simply chosen to remove any special character that's not included in my font. I used the solution from this page:</p>\n<p><a href=\"https://stackoverflow.com/questions/42228567/remove-illegal-characters-from-string-with-pdfbox\">Remove illegal characters from string with PDFBox</a></p>\n"},{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1600942656,"post_id":64034655,"comment_id":113251140,"body_markdown":"That was this bug: https://issues.apache.org/jira/browse/PDFBOX-4891  There is a follow-up bug that will be fixed in 2.0.22  https://issues.apache.org/jira/browse/PDFBOX-4944","body":"That was this bug: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4891\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4891</a>  There is a follow-up bug that will be fixed in 2.0.22  <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4944\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4944</a>"}],"tags":[],"owner":{"account_id":1548204,"reputation":1114,"user_id":1441210,"display_name":"andre"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600887648,"creation_date":1600887648,"answer_id":64034655,"question_id":46644570,"body_markdown":"I was running into a similar issue too (using pdfbox 2.0.11), my error was:\r\n```\r\nU+00A0 (&#39;nbspace&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding\r\n```\r\nWhich was strange because checking the WinAnsiEncoding for the char name (int value 160) returned `space`, but the internal classes of pdfbox was returning the name `nbspace`.\r\n\r\nThe solution for me was upgrading to pdfbox 2.0.21.","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>I was running into a similar issue too (using pdfbox 2.0.11), my error was:</p>\n<pre><code>U+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n<p>Which was strange because checking the WinAnsiEncoding for the char name (int value 160) returned <code>space</code>, but the internal classes of pdfbox was returning the name <code>nbspace</code>.</p>\n<p>The solution for me was upgrading to pdfbox 2.0.21.</p>\n"},{"tags":[],"owner":{"account_id":13758560,"reputation":13,"user_id":9928822,"display_name":"Peer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685088557,"creation_date":1684480758,"answer_id":76286842,"question_id":46644570,"body_markdown":"To remove all chars that can not be encoded by the font you use for PDF writing you can do something like:\r\n\r\n    \r\n\tPDType1Font font = PDType1Font.HELVETICA;    \r\n    public static void erasesControlCharacters(List&lt;String&gt; values) {\r\n\t\tString charSet = font.getFontDescriptor().getCharSet();\r\n\t\tfor (int i = 0; i &lt; values.size(); i++) {\r\n\r\n\t        StringBuilder b = new StringBuilder();\r\n\t        String test = values.get(i);\r\n\t\t\tfor (int charIndex = 0; charIndex &lt; test.length(); charIndex++) {\r\n\t            if (WinAnsiEncoding.INSTANCE.contains(test.charAt(charIndex)) &amp;&amp; charSet.contains(test.substring(charIndex, charIndex + 1))) {\r\n\t                b.append(test.charAt(charIndex));\r\n\t            }\r\n\t        }\r\n\t        values.set(i, b.toString());\r\n\t\t}\r\n\t}\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>To remove all chars that can not be encoded by the font you use for PDF writing you can do something like:</p>\n<pre><code>PDType1Font font = PDType1Font.HELVETICA;    \npublic static void erasesControlCharacters(List&lt;String&gt; values) {\n    String charSet = font.getFontDescriptor().getCharSet();\n    for (int i = 0; i &lt; values.size(); i++) {\n\n        StringBuilder b = new StringBuilder();\n        String test = values.get(i);\n        for (int charIndex = 0; charIndex &lt; test.length(); charIndex++) {\n            if (WinAnsiEncoding.INSTANCE.contains(test.charAt(charIndex)) &amp;&amp; charSet.contains(test.substring(charIndex, charIndex + 1))) {\n                b.append(test.charAt(charIndex));\n            }\n        }\n        values.set(i, b.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687471863,"creation_date":1687471863,"answer_id":76535960,"question_id":46644570,"body_markdown":"One of thing we found and helped is -- while you are making a HTTP call with this special encoding data to an external system - make sure you encode your JSON (if json) body to utf-8 charset before doing a API post. something like this below \r\n\r\n    httpPost.setEntity(new StringEntity(bodyJsonParams, &quot;UTF-8&quot;));\r\n\r\n","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>One of thing we found and helped is -- while you are making a HTTP call with this special encoding data to an external system - make sure you encode your JSON (if json) body to utf-8 charset before doing a API post. something like this below</p>\n<pre><code>httpPost.setEntity(new StringEntity(bodyJsonParams, &quot;UTF-8&quot;));\n</code></pre>\n"}],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29767,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46644571,"answer_count":8,"score":18,"last_activity_date":1687482823,"creation_date":1507545860,"question_id":46644570,"body_markdown":"When trying to print a PDF page using Java and the `org.apache.pdfbox` library, I get this error:\r\n\r\n&gt; PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","title":"PDFBOX : U+000A (&#39;controlLF&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","body":"<p>When trying to print a PDF page using Java and the <code>org.apache.pdfbox</code> library, I get this error:</p>\n\n<blockquote>\n  <p>PDFBOX : U+000A ('controlLF') is not available in this font Helvetica encoding: WinAnsiEncoding</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","spring-boot","nginx","amazon-elastic-beanstalk"],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687481992,"creation_date":1687481992,"question_id":76536533,"body_markdown":"How can I configure NGINX to retry idempotent failed requests on a Spring Boot app deployed on AWS Elastic Beanstalk running Corretto 11 on 64-bit Amazon Linux 2?\r\n\r\nIf it is impossible to handle this with Nginx, can I handle it in the application?","title":"Configuring NGINX to Retry idempotent Failed Requests on AWS Elastic Beanstalk","body":"<p>How can I configure NGINX to retry idempotent failed requests on a Spring Boot app deployed on AWS Elastic Beanstalk running Corretto 11 on 64-bit Amazon Linux 2?</p>\n<p>If it is impossible to handle this with Nginx, can I handle it in the application?</p>\n"},{"tags":["java","arraylist","sub-array"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1554159115,"post_id":55464635,"comment_id":97641213,"body_markdown":"Java is an **Object-Oriented** language. Use it. Create classes, e.g. `Vehicle`, `Job`, and `Part`","body":"Java is an <b>Object-Oriented</b> language. Use it. Create classes, e.g. <code>Vehicle</code>, <code>Job</code>, and <code>Part</code>"},{"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"score":1,"creation_date":1554159255,"post_id":55464635,"comment_id":97641255,"body_markdown":"class Vehicle { ArrayList&lt;job&gt; jobs =new ArrayList&lt;&gt;();} class Job { ArrayList&lt;Part&gt; jobSpecifics = new ArrayList&lt;&gt;();}","body":"class Vehicle { ArrayList&lt;job&gt; jobs =new ArrayList&lt;&gt;();} class Job { ArrayList&lt;Part&gt; jobSpecifics = new ArrayList&lt;&gt;();}"},{"owner":{"account_id":12622934,"reputation":1254,"user_id":9478327,"display_name":"David Alvarez"},"score":0,"creation_date":1554159506,"post_id":55464635,"comment_id":97641306,"body_markdown":"Maybe : `ArrayList&lt;ArrayList&lt;String&gt;&gt; mainArray = new ArrayList()` ?\nNot sure of what you really want","body":"Maybe : <code>ArrayList&lt;ArrayList&lt;String&gt;&gt; mainArray = new ArrayList()</code> ? Not sure of what you really want"},{"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"score":0,"creation_date":1554159645,"post_id":55464635,"comment_id":97641343,"body_markdown":"I have the ArrayList to store the vehicle name.  I just don&#39;t know how to store the job and job specifics under a specific vehicle or specific job","body":"I have the ArrayList to store the vehicle name.  I just don&#39;t know how to store the job and job specifics under a specific vehicle or specific job"}],"answers":[{"comments":[{"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"score":0,"creation_date":1554159337,"post_id":55464661,"comment_id":97641267,"body_markdown":"Is there a way to fix my problem with ArrayLists?  My education in programming ends at grade 12.","body":"Is there a way to fix my problem with ArrayLists?  My education in programming ends at grade 12."},{"owner":{"account_id":2744020,"reputation":5754,"user_id":2407870,"accept_rate":82,"display_name":"Chris Middleton"},"score":0,"creation_date":1554159455,"post_id":55464661,"comment_id":97641295,"body_markdown":"I wouldn&#39;t recommend limiting yourself to a particular grade level of code. Classes and maps are programming 101 so if you dont learn them at some point, you&#39;re in for a rough time.","body":"I wouldn&#39;t recommend limiting yourself to a particular grade level of code. Classes and maps are programming 101 so if you dont learn them at some point, you&#39;re in for a rough time."},{"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"score":0,"creation_date":1554159575,"post_id":55464661,"comment_id":97641327,"body_markdown":"I will look into it.  I will not use programming in a future career, but I am open to learning!","body":"I will look into it.  I will not use programming in a future career, but I am open to learning!"},{"owner":{"account_id":2744020,"reputation":5754,"user_id":2407870,"accept_rate":82,"display_name":"Chris Middleton"},"score":0,"creation_date":1554160019,"post_id":55464661,"comment_id":97641409,"body_markdown":"I&#39;ve added a full example that builds up the structures and then prints them out in the same format you had in your question. You should be able to take the sample code, put it into a file named &quot;Example.java&quot;, compile it and run it.","body":"I&#39;ve added a full example that builds up the structures and then prints them out in the same format you had in your question. You should be able to take the sample code, put it into a file named &quot;Example.java&quot;, compile it and run it."},{"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"score":0,"creation_date":1554160251,"post_id":55464661,"comment_id":97641469,"body_markdown":"I will try it out.  Thanks a lot for your help and time!","body":"I will try it out.  Thanks a lot for your help and time!"}],"tags":[],"owner":{"account_id":2744020,"reputation":5754,"user_id":2407870,"accept_rate":82,"display_name":"Chris Middleton"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554159959,"creation_date":1554159179,"answer_id":55464661,"question_id":55464635,"body_markdown":"You could use a Map, specifically a HashMap to store the list of associations between keys and values, and use either a List or a Set, specifically a HashSet, to store the lists of values.\r\n\r\nBut as noted in the comments, it may be better to use a combination of that and classes.\r\n\r\nHere&#39;s one possible implementation. (You could make it shorter using utility classes for creating Sets and Maps, such as those from the Google Guava library or Apache Commons library.)\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.HashSet;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\r\n\tclass Job {\r\n\t\tString model;\r\n\t\tMap&lt;String, Set&lt;String&gt;&gt; areas;\r\n\t\r\n\t\tpublic Job(String model, Map&lt;String, Set&lt;String&gt;&gt; areas) {\r\n\t\t\tthis.model = model;\r\n\t\t\tthis.areas = areas;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\tpublic class Example {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMap&lt;String, Set&lt;String&gt;&gt; areas = new HashMap&lt;&gt;();\r\n\t\t\tSet&lt;String&gt; sandingProblems = new HashSet&lt;&gt;();\r\n\t\t\tsandingProblems.add(&quot;Hood&quot;);\r\n\t\t\tsandingProblems.add(&quot;Doors&quot;);\r\n\t\t\tareas.put(&quot;Sanding&quot;, sandingProblems);\r\n\t\t\tSet&lt;String&gt; engineProblems = new HashSet&lt;&gt;();\r\n\t\t\tengineProblems.add(&quot;Oil panel seal&quot;);\r\n\t\t\tareas.put(&quot;Engine&quot;, engineProblems);\r\n\t\t\tSet&lt;String&gt; electricalProblems = new HashSet&lt;&gt;();\r\n\t\t\telectricalProblems.add(&quot;Oil pressure light&quot;);\r\n\t\t\telectricalProblems.add(&quot;Headlight switch&quot;);\r\n\t\t\tareas.put(&quot;Electrical&quot;, electricalProblems);\r\n\t\t\tJob job = new Job(&quot;Blue Spitfire&quot;, areas);\r\n\r\n\t\t\tSystem.out.println(job.model);\r\n\t\t\tfor (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : areas.entrySet()) {\r\n\t\t\t\tSystem.out.println(&quot;\\t&quot; + entry.getKey());\r\n\t\t\t\tfor (String problem : entry.getValue()) {\r\n\t\t\t\t\tSystem.out.println(&quot;\\t\\t&quot; + problem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>You could use a Map, specifically a HashMap to store the list of associations between keys and values, and use either a List or a Set, specifically a HashSet, to store the lists of values.</p>\n\n<p>But as noted in the comments, it may be better to use a combination of that and classes.</p>\n\n<p>Here's one possible implementation. (You could make it shorter using utility classes for creating Sets and Maps, such as those from the Google Guava library or Apache Commons library.)</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nclass Job {\n    String model;\n    Map&lt;String, Set&lt;String&gt;&gt; areas;\n\n    public Job(String model, Map&lt;String, Set&lt;String&gt;&gt; areas) {\n        this.model = model;\n        this.areas = areas;\n    }\n\n}\n\npublic class Example {\n\n    public static void main(String[] args) {\n        Map&lt;String, Set&lt;String&gt;&gt; areas = new HashMap&lt;&gt;();\n        Set&lt;String&gt; sandingProblems = new HashSet&lt;&gt;();\n        sandingProblems.add(\"Hood\");\n        sandingProblems.add(\"Doors\");\n        areas.put(\"Sanding\", sandingProblems);\n        Set&lt;String&gt; engineProblems = new HashSet&lt;&gt;();\n        engineProblems.add(\"Oil panel seal\");\n        areas.put(\"Engine\", engineProblems);\n        Set&lt;String&gt; electricalProblems = new HashSet&lt;&gt;();\n        electricalProblems.add(\"Oil pressure light\");\n        electricalProblems.add(\"Headlight switch\");\n        areas.put(\"Electrical\", electricalProblems);\n        Job job = new Job(\"Blue Spitfire\", areas);\n\n        System.out.println(job.model);\n        for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry : areas.entrySet()) {\n            System.out.println(\"\\t\" + entry.getKey());\n            for (String problem : entry.getValue()) {\n                System.out.println(\"\\t\\t\" + problem);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1656713405,"post_id":55464805,"comment_id":128647422,"body_markdown":"Could you amend this code to spell `Vechicle` as `Vehicle`?","body":"Could you amend this code to spell <code>Vechicle</code> as <code>Vehicle</code>?"}],"tags":[],"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687480588,"creation_date":1554160240,"answer_id":55464805,"question_id":55464635,"body_markdown":"Try this:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    class Vehicle {\r\n    \t\r\n    \tVehicle(String vName) {\r\n    \t\tvehicleName= vName;\r\n    \t}\r\n    \tString vehicleName;\r\n    \tArrayList&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\r\n    \r\n    \tvoid addJob(Job j) {\r\n    \t\tjobs.add(j);\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString returnString = vehicleName ;\r\n    \t\tfor (Job j: jobs) {\r\n    \t\t\treturnString = returnString+ &quot;\\r\\n\\t&quot;+ j.jobName;\r\n    \t\t\tfor (String jobSpecifics: j.jobsSpecifics) {\r\n    \t\t\t\treturnString = returnString+ &quot;\\r\\n\\t\\t&quot;+ jobSpecifics;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn returnString;\r\n    \t}\r\n    }\r\n    \r\n    class Job {\r\n    \tString jobName;\r\n    \tArrayList&lt;String&gt; jobsSpecifics = new ArrayList&lt;&gt;();\r\n    \tJob(String jobName) {\r\n    \t\tthis.jobName= jobName;\r\n    \t}\r\n    \tvoid addJobSpecifics(String s) {\r\n    \t\tjobsSpecifics.add (s);\r\n    \t}\r\n    }\r\n    \r\n    public class VehicleMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tVehicle v = new Vehicle(&quot;Blue Spitfire&quot;);\r\n    \t\tJob j= new Job(&quot;Sanding&quot;);\r\n    \t\tj.addJobSpecifics(&quot;Hood&quot;);\r\n    \t\tj.addJobSpecifics(&quot;Doors&quot;);\r\n    \t\tv.addJob(j);\r\n    \t\tSystem.out.println(v);\r\n    \t\t}\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p9NOa.png","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>Try this:</p>\n<pre><code>import java.util.ArrayList;\n\nclass Vehicle {\n    \n    Vehicle(String vName) {\n        vehicleName= vName;\n    }\n    String vehicleName;\n    ArrayList&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\n\n    void addJob(Job j) {\n        jobs.add(j);\n    }\n    @Override\n    public String toString() {\n        // TODO Auto-generated method stub\n        String returnString = vehicleName ;\n        for (Job j: jobs) {\n            returnString = returnString+ &quot;\\r\\n\\t&quot;+ j.jobName;\n            for (String jobSpecifics: j.jobsSpecifics) {\n                returnString = returnString+ &quot;\\r\\n\\t\\t&quot;+ jobSpecifics;\n            }\n        }\n        return returnString;\n    }\n}\n\nclass Job {\n    String jobName;\n    ArrayList&lt;String&gt; jobsSpecifics = new ArrayList&lt;&gt;();\n    Job(String jobName) {\n        this.jobName= jobName;\n    }\n    void addJobSpecifics(String s) {\n        jobsSpecifics.add (s);\n    }\n}\n\npublic class VehicleMain {\n\n    public static void main(String[] args) {\n        \n        Vehicle v = new Vehicle(&quot;Blue Spitfire&quot;);\n        Job j= new Job(&quot;Sanding&quot;);\n        j.addJobSpecifics(&quot;Hood&quot;);\n        j.addJobSpecifics(&quot;Doors&quot;);\n        v.addJob(j);\n        System.out.println(v);\n        }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/p9NOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9NOa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14752876,"reputation":1,"user_id":10654446,"display_name":"Owen DeReus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687480588,"creation_date":1554158992,"question_id":55464635,"body_markdown":"I am trying to create a program to display vehicle &quot;to-do&quot; lists.  Here is an example of what I would want the output to look like.\r\n\r\n     Blue Spitfire\r\n          Sanding\r\n               Hood\r\n               Doors\r\n          Engine\r\n               Oil pan seal\r\n          Electrical\r\n               Oil pressure light\r\n               Headlight switch\r\n\r\nRight now, I have one ArrayList to store the vehicle name (Blue Spitfire).  I am wondering how to store the job names (sanding, engine, electrical) and the specifics (hood, doors, oil pan seal etc) under each job number.\r\n\r\nTo summarize, the vehicle name stores the jobs, and the jobs store the specifics.  How do I do this?\r\n\r\nAny help is appreciated.","title":"How to I create a &quot;sub array-list&quot; for an element of a main array-list?","body":"<p>I am trying to create a program to display vehicle \"to-do\" lists.  Here is an example of what I would want the output to look like.</p>\n\n<pre><code> Blue Spitfire\n      Sanding\n           Hood\n           Doors\n      Engine\n           Oil pan seal\n      Electrical\n           Oil pressure light\n           Headlight switch\n</code></pre>\n\n<p>Right now, I have one ArrayList to store the vehicle name (Blue Spitfire).  I am wondering how to store the job names (sanding, engine, electrical) and the specifics (hood, doors, oil pan seal etc) under each job number.</p>\n\n<p>To summarize, the vehicle name stores the jobs, and the jobs store the specifics.  How do I do this?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1684305600,"post_id":76267986,"comment_id":134496986,"body_markdown":"I&#39;d recommend you raise this issue at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development to discuss it with the IDEA team directly.","body":"I&#39;d recommend you raise this issue at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> to discuss it with the IDEA team directly."}],"answers":[{"tags":[],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687480051,"creation_date":1687480051,"answer_id":76536438,"question_id":76267986,"body_markdown":"Eventually it was answered at intelij support: https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used\r\nAll in all there is no trivial way to do this, but it&#39;s possible to iterate through the elements in the elements tree till you find `PsiMethod` and in general this should be it.\r\nHere is the code snippet which does the trick:\r\n```\r\nvar element = expression.getParent()\r\nwhile (element != null) {\r\n    if (element is PsiMethod) {\r\n        val method = element as PsiMethod\r\n        // do whatever you want to do with PsiMethod instance\r\n    } else {\r\n        element = element.getParent()\r\n    }\r\n}\r\n```","title":"Get method in which PsiMethodCallExpression is used","body":"<p>Eventually it was answered at intelij support: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/11522817858834-Get-method-in-which-PsiMethodCallExpression-is-used</a>\nAll in all there is no trivial way to do this, but it's possible to iterate through the elements in the elements tree till you find <code>PsiMethod</code> and in general this should be it.\nHere is the code snippet which does the trick:</p>\n<pre><code>var element = expression.getParent()\nwhile (element != null) {\n    if (element is PsiMethod) {\n        val method = element as PsiMethod\n        // do whatever you want to do with PsiMethod instance\n    } else {\n        element = element.getParent()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76536438,"answer_count":1,"score":0,"last_activity_date":1687480051,"creation_date":1684286166,"question_id":76267986,"body_markdown":"Currently I&#39;m writing a code inspection in which I need to identify certain methods usages. For this purpose I&#39;m using `visitCallExpression(expression: PsiCallExpression)` and it works fine. However I need to understand in which method `PsiCallExpression` was called in order to skip inspection in certain cases. For example I want my inspection to be skipped in test classes and some specific methods. I already tried using `getUseScope`, but it&#39;s completely unclear how to proceed with the result and get fully qualified method name from it.","title":"Get method in which PsiMethodCallExpression is used","body":"<p>Currently I'm writing a code inspection in which I need to identify certain methods usages. For this purpose I'm using <code>visitCallExpression(expression: PsiCallExpression)</code> and it works fine. However I need to understand in which method <code>PsiCallExpression</code> was called in order to skip inspection in certain cases. For example I want my inspection to be skipped in test classes and some specific methods. I already tried using <code>getUseScope</code>, but it's completely unclear how to proceed with the result and get fully qualified method name from it.</p>\n"},{"tags":["java","spring-boot","junit","mockito","wiremock"],"answers":[{"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":2,"creation_date":1569849577,"post_id":57627064,"comment_id":102718814,"body_markdown":"hmm still: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused). unit 5","body":"hmm still: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused). unit 5"},{"owner":{"account_id":10588046,"reputation":995,"user_id":7799677,"display_name":"billydh"},"score":25,"creation_date":1580349357,"post_id":57627064,"comment_id":106071643,"body_markdown":"hi @ses i recently just figured this out. i am using Kotlin and JUnit 5, but had that `HttpHostConnectException` issue. I resolved it by adding the actual `WireMockServer` instance to my `stubFor` or `verify` methods, i.e. `wireMockServer.stubFor()` or `wireMockServer.verify()`. After doing this, the tests work. Hope it helps.","body":"hi @ses i recently just figured this out. i am using Kotlin and JUnit 5, but had that <code>HttpHostConnectException</code> issue. I resolved it by adding the actual <code>WireMockServer</code> instance to my <code>stubFor</code> or <code>verify</code> methods, i.e. <code>wireMockServer.stubFor()</code> or <code>wireMockServer.verify()</code>. After doing this, the tests work. Hope it helps."},{"owner":{"account_id":939395,"reputation":312,"user_id":967748,"display_name":"Anly"},"score":3,"creation_date":1624808133,"post_id":57627064,"comment_id":120452916,"body_markdown":"For completeness, it&#39;s worth mentioning that you might have to also start the server. I went with option 2. with `new WireMockServer()` but forgot to call `wm.start()` and was getting `Connection refused`","body":"For completeness, it&#39;s worth mentioning that you might have to also start the server. I went with option 2. with <code>new WireMockServer()</code> but forgot to call <code>wm.start()</code> and was getting <code>Connection refused</code>"},{"owner":{"account_id":3156329,"reputation":5805,"user_id":2668666,"accept_rate":76,"display_name":"jmrah"},"score":0,"creation_date":1654818755,"post_id":57627064,"comment_id":128189105,"body_markdown":"@billydh, you should add your comment as an answer.  It worked for me, and I&#39;m sure a lot of other people too.  Thanks!","body":"@billydh, you should add your comment as an answer.  It worked for me, and I&#39;m sure a lot of other people too.  Thanks!"}],"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1637074108,"creation_date":1566565889,"answer_id":57627064,"question_id":57626072,"body_markdown":"# For Java users\r\nBased on the [`WireMock`](http://wiremock.org/docs/configuration/) docs.\r\n\r\nThere are 3 possibilities to use WireMock in your tests :\r\n\r\n 1. If you are using Wiremock as JUnit 4 rule to configure the port use :\r\n````\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\r\n\r\n...\r\n\r\n@Rule\r\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig().port(8888));\r\n````\r\n 2. If you are using new instance and start it from your Test class (for example `@Before`) :\r\n````\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\r\n\r\n...\r\n\r\npublic class Test {\r\n\r\n    WireMockServer wm;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        wm = new WireMockServer(options().port(8888));\r\n        wm.start();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        wm.stubFor(...);\r\n    }\r\n}\r\n````\r\n 3. With static configuration of default instance (not using new instance in your test) :\r\n````\r\nWireMock.configureFor(8888);\r\n````\r\n# For Kotlin users\r\n\r\nIf you are using kotlin you can add actual wiremock instance to `stubFor` and `verify` calls like `wm.stubFor()` and configure the port like in option 3 of this answer.","title":"Connection refused when using wiremock","body":"<h1>For Java users</h1>\n<p>Based on the <a href=\"http://wiremock.org/docs/configuration/\" rel=\"noreferrer\"><code>WireMock</code></a> docs.</p>\n<p>There are 3 possibilities to use WireMock in your tests :</p>\n<ol>\n<li>If you are using Wiremock as JUnit 4 rule to configure the port use :</li>\n</ol>\n<pre><code>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\n\n...\n\n@Rule\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig().port(8888));\n</code></pre>\n<ol start=\"2\">\n<li>If you are using new instance and start it from your Test class (for example <code>@Before</code>) :</li>\n</ol>\n<pre><code>import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\n\n...\n\npublic class Test {\n\n    WireMockServer wm;\n\n    @BeforeEach\n    void setUp() {\n        wm = new WireMockServer(options().port(8888));\n        wm.start();\n    }\n\n    @Test\n    void test() {\n        wm.stubFor(...);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>With static configuration of default instance (not using new instance in your test) :</li>\n</ol>\n<pre><code>WireMock.configureFor(8888);\n</code></pre>\n<h1>For Kotlin users</h1>\n<p>If you are using kotlin you can add actual wiremock instance to <code>stubFor</code> and <code>verify</code> calls like <code>wm.stubFor()</code> and configure the port like in option 3 of this answer.</p>\n"},{"tags":[],"owner":{"account_id":10588046,"reputation":995,"user_id":7799677,"display_name":"billydh"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1655005748,"creation_date":1655005748,"answer_id":72589358,"question_id":57626072,"body_markdown":"Posting my previous comment as an answer as it seems to have helped a few people. Thanks @jmrah. :)\r\n\r\nFor **Kotlin** and **JUnit5**, this can be resolved by adding the actual `WireMockServer` instance to the `stubFor` or `verify` method calls.\r\n\r\n```\r\nwireMockServer.stubFor()\r\n```\r\n\r\nor\r\n\r\n```\r\nwireMockServer.verify()\r\n```\r\n\r\nAfter adding this, the tests should work.","title":"Connection refused when using wiremock","body":"<p>Posting my previous comment as an answer as it seems to have helped a few people. Thanks @jmrah. :)</p>\n<p>For <strong>Kotlin</strong> and <strong>JUnit5</strong>, this can be resolved by adding the actual <code>WireMockServer</code> instance to the <code>stubFor</code> or <code>verify</code> method calls.</p>\n<pre><code>wireMockServer.stubFor()\n</code></pre>\n<p>or</p>\n<pre><code>wireMockServer.verify()\n</code></pre>\n<p>After adding this, the tests should work.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685184615,"post_id":76345988,"comment_id":134628233,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76345988/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4471980,"reputation":1,"user_id":3638071,"display_name":"user3638071"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685175872,"creation_date":1685175872,"answer_id":76345988,"question_id":57626072,"body_markdown":"You can also use this: @AutoConfigureWireMock(port = 0, httpsPort = xxxx)","title":"Connection refused when using wiremock","body":"<p>You can also use this: @AutoConfigureWireMock(port = 0, httpsPort = xxxx)</p>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687479446,"creation_date":1687479446,"answer_id":76536408,"question_id":57626072,"body_markdown":"You need to create a `WireMockServer` object and assign it to a variable say `wm`, then use this variable with the method like so `wm.stubFor(...)`. If you don&#39;t use the `wm` variable, you will get the error `connection refused`.","title":"Connection refused when using wiremock","body":"<p>You need to create a <code>WireMockServer</code> object and assign it to a variable say <code>wm</code>, then use this variable with the method like so <code>wm.stubFor(...)</code>. If you don't use the <code>wm</code> variable, you will get the error <code>connection refused</code>.</p>\n"}],"owner":{"account_id":16177233,"reputation":2579,"user_id":11679569,"display_name":"Sandro Rey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35330,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":57627064,"answer_count":4,"score":23,"last_activity_date":1687479446,"creation_date":1566562187,"question_id":57626072,"body_markdown":"I have this piece of code in a Junit, where I clearly set the port to 8888\r\n\r\n    when(clientUtils.getLinkUrl(eq(HOSTELS_MICROSERVICE.name()), eq(HOSTELS_MICROSERVICE.name()), anyMap()))\r\n    \t\t\t\t.thenReturn(&quot;http://localhost:8888/HOSTELS/HOSTELSMethods&quot;);\r\n    \r\n    stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(&quot;/HOSTELS/HOSTELS_LIST&quot;).willReturn(\r\n    \t\t\t\taResponse().withStatus(200)\r\n    \t\t\t\t\t\t.withHeader(&quot;Content-Type&quot;, APPLICATION_JSON_VALUE)\r\n    \t\t\t\t\t\t.withBody(ResourceUtils.getResourceFileAsString (&quot;__files/HOSTELS.json&quot;))));\r\n\r\nbut when I run the test I got this error on this line:\r\n\r\n    stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(&quot;/HOSTELS/HOSTELS_LIST&quot;).willReturn(..\r\n\r\nand the error:\r\n\r\n    wiremock.org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect","title":"Connection refused when using wiremock","body":"<p>I have this piece of code in a Junit, where I clearly set the port to 8888</p>\n\n<pre><code>when(clientUtils.getLinkUrl(eq(HOSTELS_MICROSERVICE.name()), eq(HOSTELS_MICROSERVICE.name()), anyMap()))\n                .thenReturn(\"http://localhost:8888/HOSTELS/HOSTELSMethods\");\n\nstubFor(com.github.tomakehurst.wiremock.client.WireMock.get(\"/HOSTELS/HOSTELS_LIST\").willReturn(\n                aResponse().withStatus(200)\n                        .withHeader(\"Content-Type\", APPLICATION_JSON_VALUE)\n                        .withBody(ResourceUtils.getResourceFileAsString (\"__files/HOSTELS.json\"))));\n</code></pre>\n\n<p>but when I run the test I got this error on this line:</p>\n\n<pre><code>stubFor(com.github.tomakehurst.wiremock.client.WireMock.get(\"/HOSTELS/HOSTELS_LIST\").willReturn(..\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>wiremock.org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\n</code></pre>\n"},{"tags":["java","rasa","rasa-nlu","rasa-core"],"owner":{"account_id":19829315,"reputation":88,"user_id":14524260,"display_name":"Meg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687479245,"creation_date":1687479245,"question_id":76536397,"body_markdown":"I am trying to create a rasa bot using Java in Springboot application. One of the use cases is that if a user is able to log in successfully by giving a command like “login:username password” to the rasa chatbot then the bot should respond “Login successful” else “Invalid credentials”. To verify the credentials, I am calling an API in another service that returns if the login is successful or not. How do I make the bot respond according to the situation? Is there any API that I can use to make the bot utter a particular response? As far as I can see, this API has been deprecated. Do we have an alternative? https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction\r\n\r\n```\r\nif(feignResponse.getStatusCode().value() == 200) {\r\n    System.out.println(&quot;YES&quot;);\r\n    rasaClient.makeBotUtterance(&quot;Login successful&quot;);\r\n }\r\n  else{ \r\n    System.out.println(&quot;NOPE&quot;);\r\n    rasaClient.makeBotUtterance(&quot;Invalid credentials&quot;);\r\n            }\r\n```\r\nWhich Rasa http api can I use inside makeBotUtterance?","title":"How to make Rasa bot utter a response using Java","body":"<p>I am trying to create a rasa bot using Java in Springboot application. One of the use cases is that if a user is able to log in successfully by giving a command like “login:username password” to the rasa chatbot then the bot should respond “Login successful” else “Invalid credentials”. To verify the credentials, I am calling an API in another service that returns if the login is successful or not. How do I make the bot respond according to the situation? Is there any API that I can use to make the bot utter a particular response? As far as I can see, this API has been deprecated. Do we have an alternative? <a href=\"https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction\" rel=\"nofollow noreferrer\">https://rasa.com/docs/rasa/pages/http-api#operation/executeConversationAction</a></p>\n<pre><code>if(feignResponse.getStatusCode().value() == 200) {\n    System.out.println(&quot;YES&quot;);\n    rasaClient.makeBotUtterance(&quot;Login successful&quot;);\n }\n  else{ \n    System.out.println(&quot;NOPE&quot;);\n    rasaClient.makeBotUtterance(&quot;Invalid credentials&quot;);\n            }\n</code></pre>\n<p>Which Rasa http api can I use inside makeBotUtterance?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":1,"creation_date":1340905899,"post_id":11250154,"comment_id":14784867,"body_markdown":"Nothing built into the Java language that I am aware of. You might want to look into apache-commons-math (http://commons.apache.org/math/), it has many helpful utilities classes for doing randomization. Also, you will likely get better answers to this question is you show people some code you&#39;ve tried writting to solve the problem, or at least a generic algorithm to show that you&#39;ve tryed to figure it out yourself. People don&#39;t usually appreciate questions where it appears you are asking us to do your work for you. ;)","body":"Nothing built into the Java language that I am aware of. You might want to look into apache-commons-math (<a href=\"http://commons.apache.org/math/\" rel=\"nofollow noreferrer\">commons.apache.org/math</a>), it has many helpful utilities classes for doing randomization. Also, you will likely get better answers to this question is you show people some code you&#39;ve tried writting to solve the problem, or at least a generic algorithm to show that you&#39;ve tryed to figure it out yourself. People don&#39;t usually appreciate questions where it appears you are asking us to do your work for you. ;)"},{"owner":{"account_id":377625,"reputation":47,"user_id":729875,"accept_rate":50,"display_name":"xlnc"},"score":0,"creation_date":1340906102,"post_id":11250154,"comment_id":14784956,"body_markdown":"Well I thought of a couple naive implementations that seemed to be fairly trivial yet expensive to use, sorry for not including my code! Thanks for the help, much appreciated :)","body":"Well I thought of a couple naive implementations that seemed to be fairly trivial yet expensive to use, sorry for not including my code! Thanks for the help, much appreciated :)"}],"answers":[{"tags":[],"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340905891,"creation_date":1340905891,"answer_id":11250234,"question_id":11250154,"body_markdown":"One way to do this would be to build an array with the items repeated as necessary to represent their probabilities. So if item A in the array had a probability of .3 and item B had a probability of .7, you could put them in an array of 10 items, with A being repeated 3 times and B being repeated 7. \r\n\r\nThen you could use a random number generator to select an index from the array.\r\n\r\nAn alternative solution would be instead load each of the items and their probabilities into a data structure, having each probability represented as a range (i.e. item A could represent the range .5-.8), then generate a random value from 0-1 and grab the value for whatever range the random number falls into.","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>One way to do this would be to build an array with the items repeated as necessary to represent their probabilities. So if item A in the array had a probability of .3 and item B had a probability of .7, you could put them in an array of 10 items, with A being repeated 3 times and B being repeated 7. </p>\n\n<p>Then you could use a random number generator to select an index from the array.</p>\n\n<p>An alternative solution would be instead load each of the items and their probabilities into a data structure, having each probability represented as a range (i.e. item A could represent the range .5-.8), then generate a random value from 0-1 and grab the value for whatever range the random number falls into.</p>\n"},{"comments":[{"owner":{"account_id":377625,"reputation":47,"user_id":729875,"accept_rate":50,"display_name":"xlnc"},"score":0,"creation_date":1340906497,"post_id":11250254,"comment_id":14785098,"body_markdown":"This seems like the best way to accomplish what I need, thank you very much :)","body":"This seems like the best way to accomplish what I need, thank you very much :)"}],"tags":[],"owner":{"account_id":197330,"reputation":1455,"user_id":441352,"accept_rate":80,"display_name":"Wivlaro"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340905970,"creation_date":1340905970,"answer_id":11250254,"question_id":11250154,"body_markdown":"One way is to use weighted probabilities like this:\r\n\r\n    MyClass getRandomElement(MyClass[] elements)\r\n    {\r\n        int totalWeight = 0;\r\n        for (MyClass element : elements)\r\n        {\r\n           totalWeight += element.weight;\r\n        }\r\n        \r\n        int position = new Random().nextInt(totalWeight);\r\n        \r\n        for (MyClass element : elements)\r\n        {\r\n           if (position &lt; element.weight)\r\n           {\r\n               return element;\r\n           }\r\n           position -= element.weight;\r\n        }\r\n        throw new IllegalStateException(&quot;Should never get here&quot;);\r\n    }","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>One way is to use weighted probabilities like this:</p>\n\n<pre><code>MyClass getRandomElement(MyClass[] elements)\n{\n    int totalWeight = 0;\n    for (MyClass element : elements)\n    {\n       totalWeight += element.weight;\n    }\n\n    int position = new Random().nextInt(totalWeight);\n\n    for (MyClass element : elements)\n    {\n       if (position &lt; element.weight)\n       {\n           return element;\n       }\n       position -= element.weight;\n    }\n    throw new IllegalStateException(\"Should never get here\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340910040,"creation_date":1340906174,"answer_id":11250309,"question_id":11250154,"body_markdown":"If you encode the probability weight of selecting an element in an array (probably via a member variable of the Objects in the array) you could do the following:\r\n\r\n1. Assume you have elements with weights as integers.\r\n2. Sum all of the elements&#39; weights.\r\n3. Create a random value between 1 and that weight.\r\n4. Walk through the array, counting up until you match the random value.  \r\n\r\nExample:\r\n\r\n[1, 3, 2, 5, 2]\r\nSum = 13\r\nRandom Roll = 5\r\n\r\nelement[0] .. (we have counted to 1)\r\n\r\nelement\\[1\\] .. (we have counted to 4)\r\n\r\nelement[2] .. (we have counted to 6)\r\n6 &gt; 5 thus we select 2.\r\n\r\nNow, this takes O(n) time where n is the number of values in the array.  A better way to do this for efficiency&#39;s sake is to place the values at the positions indicated by the values.  This is kind of like:\r\n\r\n[a, b, b, b, c, c, d, d, d, d, d, e, e].  \r\n\r\nLook up [counting sort][1] for better details on this; it allows for O(1) accessing.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Counting_sort","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>If you encode the probability weight of selecting an element in an array (probably via a member variable of the Objects in the array) you could do the following:</p>\n\n<ol>\n<li>Assume you have elements with weights as integers.</li>\n<li>Sum all of the elements' weights.</li>\n<li>Create a random value between 1 and that weight.</li>\n<li>Walk through the array, counting up until you match the random value.  </li>\n</ol>\n\n<p>Example:</p>\n\n<p>[1, 3, 2, 5, 2]\nSum = 13\nRandom Roll = 5</p>\n\n<p>element[0] .. (we have counted to 1)</p>\n\n<p>element[1] .. (we have counted to 4)</p>\n\n<p>element[2] .. (we have counted to 6)\n6 > 5 thus we select 2.</p>\n\n<p>Now, this takes O(n) time where n is the number of values in the array.  A better way to do this for efficiency's sake is to place the values at the positions indicated by the values.  This is kind of like:</p>\n\n<p>[a, b, b, b, c, c, d, d, d, d, d, e, e].  </p>\n\n<p>Look up <a href=\"http://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow\">counting sort</a> for better details on this; it allows for O(1) accessing.</p>\n"},{"tags":[],"owner":{"account_id":1151983,"reputation":744,"user_id":1133481,"display_name":"Oliver Coleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385672068,"creation_date":1385672068,"answer_id":20274588,"question_id":11250154,"body_markdown":"An O(log(n)) approach (this is ripped directly from an [answer to a very similar question][1]):\r\n\r\nThe usual technique is to transform the array into an array of cumulative sums:\r\n\r\n     [10 60 5 25]  --&gt; [10 70 75 100]\r\n\r\nPick a random number in the range from zero up to the cumulative total (in the example: ``0 &lt;= x &lt; 100``).  Then, use [bisection][2] on the cumulative array to locate the index into the original array:\r\n\r\n\r\n    Random variable x      Index in the Cumulative Array      Value in Original Array\r\n    -----------------      -----------------------------      ----------------------\r\n     0 &lt;= x &lt; 10                      0                            10\r\n    10 &lt;= x &lt; 70                      1                            60\r\n    70 &lt;= x &lt; 75                      2                             5\r\n    75 &lt;= x &lt; 100                     3                            25 \r\n\r\nFor example, if the random variable *x* is 4, bisecting the cumulative array gives a position index of 0 which corresponds to 10 in the original array. \r\n\r\nAnd, if the random variable *x* is 72, bisecting the cumulative array gives a position index of 2 which corresponds to 5 in the original array. \r\n\r\n  [1]: https://stackoverflow.com/a/16490300/1133481\r\n  [2]: http://en.wikipedia.org/wiki/Binary_search_algorithm","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>An O(log(n)) approach (this is ripped directly from an <a href=\"https://stackoverflow.com/a/16490300/1133481\">answer to a very similar question</a>):</p>\n\n<p>The usual technique is to transform the array into an array of cumulative sums:</p>\n\n<pre><code> [10 60 5 25]  --&gt; [10 70 75 100]\n</code></pre>\n\n<p>Pick a random number in the range from zero up to the cumulative total (in the example: <code>0 &lt;= x &lt; 100</code>).  Then, use <a href=\"http://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow noreferrer\">bisection</a> on the cumulative array to locate the index into the original array:</p>\n\n<pre><code>Random variable x      Index in the Cumulative Array      Value in Original Array\n-----------------      -----------------------------      ----------------------\n 0 &lt;= x &lt; 10                      0                            10\n10 &lt;= x &lt; 70                      1                            60\n70 &lt;= x &lt; 75                      2                             5\n75 &lt;= x &lt; 100                     3                            25 \n</code></pre>\n\n<p>For example, if the random variable <em>x</em> is 4, bisecting the cumulative array gives a position index of 0 which corresponds to 10 in the original array. </p>\n\n<p>And, if the random variable <em>x</em> is 72, bisecting the cumulative array gives a position index of 2 which corresponds to 5 in the original array. </p>\n"},{"tags":[],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594641432,"creation_date":1594638928,"answer_id":62874689,"question_id":11250154,"body_markdown":"I personally like an approach using a NavigableMap. Such an approach looks like this\r\n\r\n```\r\ninterface Weighted {\r\n    public double getWeight();\r\n}\r\n\r\nclass UnbalancedRandomizer &lt;E extends Weighted&gt; {\r\n    private NavigableMap&lt;Double, E&gt; container = new TreeMap&lt;&gt;();\r\n\r\n    UnbalancedRandomizer(E... elements) {\r\n        for (E element : elements) {\r\n            add(element);\r\n        }\r\n    }\r\n\r\n    public void add(E element) {\r\n        double offset = container.isEmpty() ? 0.0 : container.lastEntry().getKey();\r\n        container.put(offset + element.getWeight(), element);\r\n    }\r\n\r\n    public E getRandom() {\r\n        double rolled = container.lastEntry().getKey() * Math.random();\r\n        return container.ceilingEntry(rolled).getValue();\r\n    }\r\n}\r\n```\r\n\r\nThis, however, can become a little bit more tricky, when you want to remove an element or change the weight of an element. After all I believe in most usecases only add is really relevant. Those are mostly lookup tables for events to happen (e.g. slot machine symbol chance) or matchers for grouping properties like weight/size/age etc.\r\n\r\nExample usage\r\n```\r\nclass Foo implements Weighted {\r\n    private double weight;\r\n    private String name;\r\n\r\n    public Foo(double weight, String name) {\r\n        this.weight = weight;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Symbol{&quot; +\r\n                &quot;weight=&quot; + weight +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        UnbalancedRandomizer&lt;Foo&gt; randomizer = new UnbalancedRandomizer(\r\n                new Foo(10, &quot;A&quot;),\r\n                new Foo(30, &quot;B&quot;),\r\n                new Foo(50, &quot;C&quot;),\r\n                new Foo(50, &quot;D&quot;)\r\n        );\r\n\r\n        Stream.generate(randomizer::getRandom).limit(50).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nExample Output\r\n```\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=30.0, name=&#39;B&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=50.0, name=&#39;C&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\nSymbol{weight=10.0, name=&#39;A&#39;}\r\nSymbol{weight=50.0, name=&#39;D&#39;}\r\n```\r\n\r\n","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>I personally like an approach using a NavigableMap. Such an approach looks like this</p>\n<pre><code>interface Weighted {\n    public double getWeight();\n}\n\nclass UnbalancedRandomizer &lt;E extends Weighted&gt; {\n    private NavigableMap&lt;Double, E&gt; container = new TreeMap&lt;&gt;();\n\n    UnbalancedRandomizer(E... elements) {\n        for (E element : elements) {\n            add(element);\n        }\n    }\n\n    public void add(E element) {\n        double offset = container.isEmpty() ? 0.0 : container.lastEntry().getKey();\n        container.put(offset + element.getWeight(), element);\n    }\n\n    public E getRandom() {\n        double rolled = container.lastEntry().getKey() * Math.random();\n        return container.ceilingEntry(rolled).getValue();\n    }\n}\n</code></pre>\n<p>This, however, can become a little bit more tricky, when you want to remove an element or change the weight of an element. After all I believe in most usecases only add is really relevant. Those are mostly lookup tables for events to happen (e.g. slot machine symbol chance) or matchers for grouping properties like weight/size/age etc.</p>\n<p>Example usage</p>\n<pre><code>class Foo implements Weighted {\n    private double weight;\n    private String name;\n\n    public Foo(double weight, String name) {\n        this.weight = weight;\n        this.name = name;\n    }\n\n    @Override\n    public double getWeight() {\n        return weight;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Symbol{&quot; +\n                &quot;weight=&quot; + weight +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n    public static void main(String... args) {\n        UnbalancedRandomizer&lt;Foo&gt; randomizer = new UnbalancedRandomizer(\n                new Foo(10, &quot;A&quot;),\n                new Foo(30, &quot;B&quot;),\n                new Foo(50, &quot;C&quot;),\n                new Foo(50, &quot;D&quot;)\n        );\n\n        Stream.generate(randomizer::getRandom).limit(50).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Example Output</p>\n<pre><code>Symbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=30.0, name='B'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=50.0, name='C'}\nSymbol{weight=50.0, name='D'}\nSymbol{weight=10.0, name='A'}\nSymbol{weight=50.0, name='D'}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1687841994,"post_id":76536378,"comment_id":134989126,"body_markdown":"Answers that contain only code are discouraged. I think that you should try to explain how your code works and how it solves the question that was asked. Note how the other answers to this question include explanations as well as code.","body":"Answers that contain only code are discouraged. I think that you should try to explain how your code works and how it solves the question that was asked. Note how the other answers to this question include explanations as well as code."}],"tags":[],"owner":{"account_id":11315951,"reputation":29,"user_id":8297699,"display_name":"Адександр Мороз"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687478861,"creation_date":1687478861,"answer_id":76536378,"question_id":11250154,"body_markdown":"\tpublic int getRandomIndex(Random random, double[] probs) {\r\n\t\tdouble p = random.nextDouble();\r\n\t\tint i = 0;\r\n\t\tfor (double s = probs[0]; s &lt; p; s+= probs[++i]);\r\n\t\treturn i;\r\n\t}","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<pre><code>public int getRandomIndex(Random random, double[] probs) {\n    double p = random.nextDouble();\n    int i = 0;\n    for (double s = probs[0]; s &lt; p; s+= probs[++i]);\n    return i;\n}\n</code></pre>\n"}],"owner":{"account_id":377625,"reputation":47,"user_id":729875,"accept_rate":50,"display_name":"xlnc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11250254,"answer_count":6,"score":1,"last_activity_date":1687478861,"creation_date":1340905570,"question_id":11250154,"body_markdown":"I wish to select elements at random from an array, where each element has a specific probability of being chosen. Is there an efficient way to do this, or possibly something built into Java that already accomplishes this?","title":"Choosing an element from at random from an array with specific probabilities per element","body":"<p>I wish to select elements at random from an array, where each element has a specific probability of being chosen. Is there an efficient way to do this, or possibly something built into Java that already accomplishes this?</p>\n"},{"tags":["java","maven","pom.xml","maven-release-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687511848,"post_id":76536245,"comment_id":134950368,"body_markdown":"Why should those modules not being released as you made them part of your multi module structure? If those versions of those modules shouldn&#39;t be modified that why have you made them part of a multi module structure (the same version and the same time to release them is one of the foundation ideas behind that)...","body":"Why should those modules not being released as you made them part of your multi module structure? If those versions of those modules shouldn&#39;t be modified that why have you made them part of a multi module structure (the same version and the same time to release them is one of the foundation ideas behind that)..."}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687477275,"creation_date":1687477275,"answer_id":76536295,"question_id":76536245,"body_markdown":"You can use this plugin **multi-module-maven-release-plugin**:\r\n\r\n&gt; A module is only released if there are changes to it !\r\n\r\nAdd the following to your plugins section:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.github.danielflower.mavenplugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;multi-module-maven-release-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.6.4&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nRelease your project by running `mvn releaser:release`","title":"maven release plugin: how to skip releasing of submodule","body":"<p>You can use this plugin <strong>multi-module-maven-release-plugin</strong>:</p>\n<blockquote>\n<p>A module is only released if there are changes to it !</p>\n</blockquote>\n<p>Add the following to your plugins section:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.danielflower.mavenplugins&lt;/groupId&gt;\n    &lt;artifactId&gt;multi-module-maven-release-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.6.4&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Release your project by running <code>mvn releaser:release</code></p>\n"}],"owner":{"account_id":3683669,"reputation":11,"user_id":3067972,"display_name":"smacz76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687477275,"creation_date":1687476349,"question_id":76536245,"body_markdown":"I have a multi-module project with one git-submodule, following structure\r\n\r\n    &lt;modules&gt;\r\n       &lt;module&gt;common&lt;/module&gt;\r\n       &lt;module&gt;first&lt;/module&gt;\r\n       &lt;module&gt;second&lt;/module\r\n    &lt;/modules&gt;\r\n\r\nModule `common` is a git-submodule. \r\nDuring the release process, module `common` should not be released - meaning its version shall not change and it pom.xml shouldn&#39;t be modified. Other modules shall be released.\r\nI&#39;ve tried a lot of configuration of maven release:prepare plugin but nothing works. \r\n\r\nThe only option which works is to pass `-pl common` to maven command line - but the problem is that this code is build by gitlab which is using common release procedure and it&#39;s not easy to pass it.\r\n\r\nHow can I &quot;tell&quot; the maven release plugin to simply ignore this module? Or maybe there&#39;s a possibility to pass command line argument `-pl common` via pom.xml?\r\n\r\nThanks","title":"maven release plugin: how to skip releasing of submodule","body":"<p>I have a multi-module project with one git-submodule, following structure</p>\n<pre><code>&lt;modules&gt;\n   &lt;module&gt;common&lt;/module&gt;\n   &lt;module&gt;first&lt;/module&gt;\n   &lt;module&gt;second&lt;/module\n&lt;/modules&gt;\n</code></pre>\n<p>Module <code>common</code> is a git-submodule.\nDuring the release process, module <code>common</code> should not be released - meaning its version shall not change and it pom.xml shouldn't be modified. Other modules shall be released.\nI've tried a lot of configuration of maven release:prepare plugin but nothing works.</p>\n<p>The only option which works is to pass <code>-pl common</code> to maven command line - but the problem is that this code is build by gitlab which is using common release procedure and it's not easy to pass it.</p>\n<p>How can I &quot;tell&quot; the maven release plugin to simply ignore this module? Or maybe there's a possibility to pass command line argument <code>-pl common</code> via pom.xml?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","launch","background-service","foreground-service"],"answers":[{"comments":[{"owner":{"account_id":19951537,"reputation":1,"user_id":21713015,"display_name":"Shazer "},"score":0,"creation_date":1687527019,"post_id":76536291,"comment_id":134953581,"body_markdown":"So basically it is impossible to restart my app without user&#39;s interaction ?","body":"So basically it is impossible to restart my app without user&#39;s interaction ?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1687530017,"post_id":76536291,"comment_id":134954358,"body_markdown":"Correct.  What you should be asking is &quot;why did my app crash&quot; and fix that.","body":"Correct.  What you should be asking is &quot;why did my app crash&quot; and fix that."},{"owner":{"account_id":19951537,"reputation":1,"user_id":21713015,"display_name":"Shazer "},"score":0,"creation_date":1687530309,"post_id":76536291,"comment_id":134954448,"body_markdown":"its for a research purpose honestly. What if I create a foreground service that does the heavy load work for my app where as my app in general won&#39;t be using any significant memory. Under low memory conditions, will the android kill my whole app or just the foreground service. If I can somehow make OS just kill the service rather than APP, I can auto restart the service from APP using for example Broadcast receiver. I will really appreciate if you could answer this. TIA!!","body":"its for a research purpose honestly. What if I create a foreground service that does the heavy load work for my app where as my app in general won&#39;t be using any significant memory. Under low memory conditions, will the android kill my whole app or just the foreground service. If I can somehow make OS just kill the service rather than APP, I can auto restart the service from APP using for example Broadcast receiver. I will really appreciate if you could answer this. TIA!!"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1687531573,"post_id":76536291,"comment_id":134954756,"body_markdown":"@Shazer Use WorkManager.  That&#39;s the system that&#39;s been created for doing long background processing.  You should also consider whether Android is the proper OS to do something like this on.  Embedded Linux may be a better answer.","body":"@Shazer Use WorkManager.  That&#39;s the system that&#39;s been created for doing long background processing.  You should also consider whether Android is the proper OS to do something like this on.  Embedded Linux may be a better answer."},{"owner":{"account_id":19951537,"reputation":1,"user_id":21713015,"display_name":"Shazer "},"score":0,"creation_date":1687570179,"post_id":76536291,"comment_id":134960013,"body_markdown":"thanks alot for advising the work manager. I did some reading on it and it does seem to have potential to fulfil my tasks. Hopefully this might help. Once again thanks :)","body":"thanks alot for advising the work manager. I did some reading on it and it does seem to have potential to fulfil my tasks. Hopefully this might help. Once again thanks :)"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687477230,"creation_date":1687477230,"answer_id":76536291,"question_id":76535415,"body_markdown":"You can&#39;t.  This was a recent change in Android.  See https://developer.android.com/guide/components/activities/background-starts for the restrictions and brief times where you can launch things from the background.","title":"How to launch an app from foreground/background service?","body":"<p>You can't.  This was a recent change in Android.  See <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/background-starts</a> for the restrictions and brief times where you can launch things from the background.</p>\n"}],"owner":{"account_id":19951537,"reputation":1,"user_id":21713015,"display_name":"Shazer "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687477230,"creation_date":1687465529,"question_id":76535415,"body_markdown":"I am new to the android development in java so apologies if this question is so simple.\r\n\r\nBasically I am aiming for restarting the application after it crashes without user manually pressing the app icon or notification that app has failed via for example foreground service. I have tried launching app using getPackageManager in a &quot;Foreground service of another app&quot; , below is the code snipper of my foreground service as an example :\r\n\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        startLogging();\r\n\r\n\r\n        new Thread(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        PowerManager powerManager = null;\r\n                        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n                            powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n                        }\r\n                        PowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;MyApp::MyWakelockTag&quot;);\r\n                        wakeLock.acquire();\r\n\r\n                        while (true) {\r\n                            Log.d( &quot;Service&quot;, &quot;Service is running...&quot;);\r\n\r\n                            Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;app.tester.com&quot;);\r\n                            if (intent != null) {\r\n                                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                startActivity(intent);\r\n                            }\r\n..........\r\n..........\r\n\r\n\r\n}\r\n\r\nHowever, my foreground service is only able to launch the crashed app if the foreground&#39;s main activity is in foreground aswell i.e app whose foreground service is responsible for launching the crashing app is on user&#39;s screen. \r\n\r\nI can also work with if there&#39;s an app x which can launch this crashing app , if app x is even in recent task of phone. \r\n\r\nI would appreciate if there&#39;s any solution that can just restart this crashing app via another app which is in recent task or foreground service or even background service.\r\n\r\nThanks in advance !\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to launch an app from foreground/background service?","body":"<p>I am new to the android development in java so apologies if this question is so simple.</p>\n<p>Basically I am aiming for restarting the application after it crashes without user manually pressing the app icon or notification that app has failed via for example foreground service. I have tried launching app using getPackageManager in a &quot;Foreground service of another app&quot; , below is the code snipper of my foreground service as an example :</p>\n<pre><code>public int onStartCommand(Intent intent, int flags, int startId) {\n\n    startLogging();\n\n\n    new Thread(\n            new Runnable() {\n                @Override\n                public void run() {\n\n                    PowerManager powerManager = null;\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                        powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\n                    }\n                    PowerManager.WakeLock wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;MyApp::MyWakelockTag&quot;);\n                    wakeLock.acquire();\n\n                    while (true) {\n                        Log.d( &quot;Service&quot;, &quot;Service is running...&quot;);\n\n                        Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;app.tester.com&quot;);\n                        if (intent != null) {\n                            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            startActivity(intent);\n                        }\n</code></pre>\n<p>..........\n..........</p>\n<p>}</p>\n<p>However, my foreground service is only able to launch the crashed app if the foreground's main activity is in foreground aswell i.e app whose foreground service is responsible for launching the crashing app is on user's screen.</p>\n<p>I can also work with if there's an app x which can launch this crashing app , if app x is even in recent task of phone.</p>\n<p>I would appreciate if there's any solution that can just restart this crashing app via another app which is in recent task or foreground service or even background service.</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","spring-boot","rest","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687431177,"creation_date":1687431177,"answer_id":76531149,"question_id":76528803,"body_markdown":"Please take a look at the example in this picture:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EjD0j.jpg\r\n\r\nChange the Return Type to ResponseEntity.\r\n\r\nExplanation:\r\nPerform a get() requests with this uri and retrieve the resulting body as a Mono. Block() this method until the request is done.","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>Please take a look at the example in this picture:\n<a href=\"https://i.stack.imgur.com/EjD0j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjD0j.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Change the Return Type to ResponseEntity.</p>\n<p>Explanation:\nPerform a get() requests with this uri and retrieve the resulting body as a Mono. Block() this method until the request is done.</p>\n"},{"tags":[],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687476281,"creation_date":1687476281,"answer_id":76536241,"question_id":76528803,"body_markdown":"I realized that this question was just a lack of knowledge of Ssl, and what my api was meant to achieve. I secured my api in spring with a simple Ssl certificate, and it served getRequests properly","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>I realized that this question was just a lack of knowledge of Ssl, and what my api was meant to achieve. I secured my api in spring with a simple Ssl certificate, and it served getRequests properly</p>\n"}],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76536241,"answer_count":2,"score":1,"last_activity_date":1687476281,"creation_date":1687411450,"question_id":76528803,"body_markdown":"So I have been learning RequestMapping in Spring Boot 3 and I have gotten far along, however, for one project I have had, I needed to use a self-signed certificate, and this required that I move to something like RestTemplate. However I saw that RestTemplate will soon be deprecated as the upcomer WebClient has been taking its place (according to baeldung). Nonetheless, it is much more in-depth than what I have been learning, and despite seeing extremely basic tutorials, I have not seem to have solved my issue. \r\n\r\nMy issue is that I do not know how to properly map GET requests (and POST for that matter) for my application. I am building a react application and I am using my REST api to retrieve movies and information for the webapp. Before needing the SSL, I have taken the typical approach of having my controller:\r\n\r\nCONTROLLER:\r\n```\r\n@RestController\r\n@CrossOrigin(origins = {&quot;http://localhost:3000&quot;, allowedHeaders = &quot;*&quot;)\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\n@RequiredArgsConstructor\r\npublic class MovieController {\r\n\r\n    private final MovieService movieService;\r\n    private final WebClient webClient;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\r\n        return new ResponseEntity&lt;&gt;(movieService.getAllMovies(), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{imbdId}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Movie&gt;&gt; getSingleMovie(@PathVariable String imbdId){\r\n        return new ResponseEntity&lt;&gt;(movieService.getSingleMovie(imbdId), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nWhere my movieService bean very simply queries the MongoDB repo for movies.\r\n\r\nSERVICE\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MovieService {\r\n\r\n    private final MovieRepository movieRepository;\r\n\r\n    public List&lt;Movie&gt; getAllMovies(){\r\n        return movieRepository.findAll();\r\n    }\r\n\r\n    public Optional&lt;Movie&gt; getSingleMovie(String imbdId){\r\n        return movieRepository.findMovieByImdbId(imbdId);\r\n    }\r\n}\r\n```\r\n\r\nNow, given that I am now using WebClient as my Http client (as opposed to RestTemplate), I do not necessarily know how to approach this now. I understand I will most likely need to have another service specifically for WebClient to build these requests, but it is not straightforward for me when it comes to understanding it.\r\n\r\nI already have a WebClient bean customized and configured, which should be able to handle the requests. I understand the Mono/Flux API is quite important, since, for example, I want to respond with List of Movie(which I receive as JSON on the frontend), but how this is implemented is a bit tricky. How would I respond with the 200 OK, as well as a compatible list of movies in the nice JSON format I need supported. \r\n\r\nThank you for reading.","title":"Proper mapping for a GET/POST request using WebClient and SpringBoot 3, new to WebClient","body":"<p>So I have been learning RequestMapping in Spring Boot 3 and I have gotten far along, however, for one project I have had, I needed to use a self-signed certificate, and this required that I move to something like RestTemplate. However I saw that RestTemplate will soon be deprecated as the upcomer WebClient has been taking its place (according to baeldung). Nonetheless, it is much more in-depth than what I have been learning, and despite seeing extremely basic tutorials, I have not seem to have solved my issue.</p>\n<p>My issue is that I do not know how to properly map GET requests (and POST for that matter) for my application. I am building a react application and I am using my REST api to retrieve movies and information for the webapp. Before needing the SSL, I have taken the typical approach of having my controller:</p>\n<p>CONTROLLER:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = {&quot;http://localhost:3000&quot;, allowedHeaders = &quot;*&quot;)\n@RequestMapping(&quot;/api/v1/movies&quot;)\n@RequiredArgsConstructor\npublic class MovieController {\n\n    private final MovieService movieService;\n    private final WebClient webClient;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\n        return new ResponseEntity&lt;&gt;(movieService.getAllMovies(), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{imbdId}&quot;)\n    public ResponseEntity&lt;Optional&lt;Movie&gt;&gt; getSingleMovie(@PathVariable String imbdId){\n        return new ResponseEntity&lt;&gt;(movieService.getSingleMovie(imbdId), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Where my movieService bean very simply queries the MongoDB repo for movies.</p>\n<p>SERVICE</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MovieService {\n\n    private final MovieRepository movieRepository;\n\n    public List&lt;Movie&gt; getAllMovies(){\n        return movieRepository.findAll();\n    }\n\n    public Optional&lt;Movie&gt; getSingleMovie(String imbdId){\n        return movieRepository.findMovieByImdbId(imbdId);\n    }\n}\n</code></pre>\n<p>Now, given that I am now using WebClient as my Http client (as opposed to RestTemplate), I do not necessarily know how to approach this now. I understand I will most likely need to have another service specifically for WebClient to build these requests, but it is not straightforward for me when it comes to understanding it.</p>\n<p>I already have a WebClient bean customized and configured, which should be able to handle the requests. I understand the Mono/Flux API is quite important, since, for example, I want to respond with List of Movie(which I receive as JSON on the frontend), but how this is implemented is a bit tricky. How would I respond with the 200 OK, as well as a compatible list of movies in the nice JSON format I need supported.</p>\n<p>Thank you for reading.</p>\n"},{"tags":["java","java-14","jpackage"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1594353564,"post_id":62692322,"comment_id":111102276,"body_markdown":"Are you providing `jpackage/config` as the resource directory?","body":"Are you providing <code>jpackage&#47;config</code> as the resource directory?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1594369523,"post_id":62692322,"comment_id":111107497,"body_markdown":"jpackage is the resource dir, and below that on Windows it creates config, images and wixobj folders","body":"jpackage is the resource dir, and below that on Windows it creates config, images and wixobj folders"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1604883616,"post_id":62692322,"comment_id":114474677,"body_markdown":"Seems to be part of this open RFE: https://bugs.openjdk.java.net/browse/JDK-8236127","body":"Seems to be part of this open RFE: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8236127\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8236127</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687475174,"creation_date":1687475174,"answer_id":76536180,"question_id":62692322,"body_markdown":"A few years and OpenJDK releases later - and https://bugs.openjdk.org/browse/JDK-8236127 is set to be resolved in Java 17.\r\n\r\nIndeed I used JPackage on Linux using the `--icon` parameter with some .ico file in OpenJDK 17 and see the icon being used both on the installer (.exe) as well as on the desktop icon.\r\n\r\nBTW, you do not create a resources-dir running JPackage.\r\nIf you go for a one-step process you directly create the installer. See https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C\r\n\r\nIf you go for a two step process, you create an app-image. Then in the second step start from the app-image and create the installer. The two step process allows you to add/modify the files that will later go into the installer. See https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0\r\n\r\nThe resources directory however is just used to grab resources like (default) icons, text templates etc. See https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6","title":"Using JPackage how do I create the installer icon on Windows","body":"<p>A few years and OpenJDK releases later - and <a href=\"https://bugs.openjdk.org/browse/JDK-8236127\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8236127</a> is set to be resolved in Java 17.</p>\n<p>Indeed I used JPackage on Linux using the <code>--icon</code> parameter with some .ico file in OpenJDK 17 and see the icon being used both on the installer (.exe) as well as on the desktop icon.</p>\n<p>BTW, you do not create a resources-dir running JPackage.\nIf you go for a one-step process you directly create the installer. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/basic-packaging.html#GUID-1E2A4F61-1390-4FC3-955B-BD69A16FCA2C</a></p>\n<p>If you go for a two step process, you create an app-image. Then in the second step start from the app-image and create the installer. The two step process allows you to add/modify the files that will later go into the installer. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/image-and-runtime-modifications.html#GUID-70F25F63-DE4C-4DC0-83D5-76EB5C55BEF0</a></p>\n<p>The resources directory however is just used to grab resources like (default) icons, text templates etc. See <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6</a></p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76536180,"answer_count":1,"score":6,"last_activity_date":1687475174,"creation_date":1593679176,"question_id":62692322,"body_markdown":"I am using *JPackage* to install my Java application on Windows, I have my own application icon and I would also like this to also be used when I run the installer.\r\n\r\nI have followed the general approach described [here][1] to run jpackage twice, once creating a *resources-dir* and once using a *resources-dir*. \r\n\r\ne.g\r\n\r\n    jpackage @jpackage.txt --temp target/jpackage\r\n    jpackage @jpackage.txt --resource-dir target/jpackage\r\n\r\nHowever between the two calls I cannot see any installer icon to modify within target/jpackage resources dir created. Actually I can&#39;t see anything in particular I can sensibly change, I would be interested to know what people have changed for a Windows install.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62227695/is-there-a-way-to-change-icon-of-the-installer-file-using-jpackage/62229069#62229069\r\n  [2]: https://i.stack.imgur.com/nHHmD.png","title":"Using JPackage how do I create the installer icon on Windows","body":"<p>I am using <em>JPackage</em> to install my Java application on Windows, I have my own application icon and I would also like this to also be used when I run the installer.</p>\n<p>I have followed the general approach described <a href=\"https://stackoverflow.com/questions/62227695/is-there-a-way-to-change-icon-of-the-installer-file-using-jpackage/62229069#62229069\">here</a> to run jpackage twice, once creating a <em>resources-dir</em> and once using a <em>resources-dir</em>.</p>\n<p>e.g</p>\n<pre><code>jpackage @jpackage.txt --temp target/jpackage\njpackage @jpackage.txt --resource-dir target/jpackage\n</code></pre>\n<p>However between the two calls I cannot see any installer icon to modify within target/jpackage resources dir created. Actually I can't see anything in particular I can sensibly change, I would be interested to know what people have changed for a Windows install.</p>\n<p><a href=\"https://i.stack.imgur.com/nHHmD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nHHmD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687474141,"creation_date":1687474141,"answer_id":76536113,"question_id":64319479,"body_markdown":"The reason why removing protocols from the whitelist works is that it allows relative links to be preserved. When you remove the protocols from the whitelist, you are allowing all protocols to be used in the href attribute of an anchor tag.\r\n\r\nBy default, Jsoup removes all relative links when cleaning HTML. To preserve relative links, you can use the preserveRelativeLinks method of the Whitelist class1.\r\n\r\nHowever, in your case, you cannot specify a base URI as there are many domains. Specifying whitelist.preserveRelativeLinks(true) in this case doesn’t make any difference.\r\n\r\n\r\n","title":"Jsoup.clean - preserving relative links without base URI","body":"<p>The reason why removing protocols from the whitelist works is that it allows relative links to be preserved. When you remove the protocols from the whitelist, you are allowing all protocols to be used in the href attribute of an anchor tag.</p>\n<p>By default, Jsoup removes all relative links when cleaning HTML. To preserve relative links, you can use the preserveRelativeLinks method of the Whitelist class1.</p>\n<p>However, in your case, you cannot specify a base URI as there are many domains. Specifying whitelist.preserveRelativeLinks(true) in this case doesn’t make any difference.</p>\n"}],"owner":{"account_id":19716923,"reputation":21,"user_id":14436188,"display_name":"Larry Egar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687474141,"creation_date":1602511619,"question_id":64319479,"body_markdown":"I am using Jsoup 1.13.1 to clean a string to prevent XSS.  \r\nI would like to preserve relative links, but can&#39;t specify a base URI as there are many domains.  \r\nSpecifying whitelist.preserveRelativeLinks(true) in this case doesn&#39;t make any difference.  \r\nI notice that by *removing* protocols from the whitelist I get what I want.  \r\nI would like to understand if this has any other side-effects, and would also like to understand why this works.  \r\nBelow is some code which demonstrates this.\r\n```\r\npublic static void main(String[] args) {\r\n    String html = &quot;&lt;a href=\\&quot;https://absolute.link\\&quot;&gt;&lt;/a&gt;&lt;a href=\\&quot;relativeLink\\&quot;&gt;&lt;/a&gt;&quot;;\r\n    Whitelist whitelist = Whitelist.relaxed();\r\n\r\n    System.out.println(&quot;Whitelist.relaxed(): &quot; + Jsoup.clean(html, whitelist));\r\n\r\n    whitelist.removeProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;, &quot;https&quot;, &quot;mailto&quot;, &quot;ftp&quot;);\r\n\r\n    System.out.println(&quot;Protocols removed  : &quot; + Jsoup.clean(html, whitelist));\r\n}\r\n```\r\nThis produces the following output:\r\n```\r\nWhitelist.relaxed(): &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a&gt;&lt;/a&gt;\r\nProtocols removed  : &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a href=&quot;relativeLink&quot;&gt;&lt;/a&gt;\r\n```","title":"Jsoup.clean - preserving relative links without base URI","body":"<p>I am using Jsoup 1.13.1 to clean a string to prevent XSS.<br />\nI would like to preserve relative links, but can't specify a base URI as there are many domains.<br />\nSpecifying whitelist.preserveRelativeLinks(true) in this case doesn't make any difference.<br />\nI notice that by <em>removing</em> protocols from the whitelist I get what I want.<br />\nI would like to understand if this has any other side-effects, and would also like to understand why this works.<br />\nBelow is some code which demonstrates this.</p>\n<pre><code>public static void main(String[] args) {\n    String html = &quot;&lt;a href=\\&quot;https://absolute.link\\&quot;&gt;&lt;/a&gt;&lt;a href=\\&quot;relativeLink\\&quot;&gt;&lt;/a&gt;&quot;;\n    Whitelist whitelist = Whitelist.relaxed();\n\n    System.out.println(&quot;Whitelist.relaxed(): &quot; + Jsoup.clean(html, whitelist));\n\n    whitelist.removeProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;, &quot;https&quot;, &quot;mailto&quot;, &quot;ftp&quot;);\n\n    System.out.println(&quot;Protocols removed  : &quot; + Jsoup.clean(html, whitelist));\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>Whitelist.relaxed(): &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a&gt;&lt;/a&gt;\nProtocols removed  : &lt;a href=&quot;https://absolute.link&quot;&gt;&lt;/a&gt;&lt;a href=&quot;relativeLink&quot;&gt;&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","jaas"],"answers":[{"comments":[{"owner":{"account_id":7408114,"reputation":748,"user_id":5636416,"accept_rate":29,"display_name":"earl"},"score":1,"creation_date":1611769096,"post_id":40905883,"comment_id":116559207,"body_markdown":"How do we handle this for application written in python ? How to pass krb5.conf and jaas.conf properties in such case ?","body":"How do we handle this for application written in python ? How to pass krb5.conf and jaas.conf properties in such case ?"},{"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"score":2,"creation_date":1611828241,"post_id":40905883,"comment_id":116577648,"body_markdown":"Please open a separate question for this, as it is off-topic for this one.","body":"Please open a separate question for this, as it is off-topic for this one."}],"tags":[],"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1480581230,"creation_date":1480581230,"answer_id":40905883,"question_id":40890821,"body_markdown":"I&#39;d recommend to use the `KAFKA_OPTS` environment variable for this.\r\n\r\nThis environment variable is recognized by Kafka, and defaults to the empty string (= no settings).  See the following code snippet from [bin/kafka-run-class.sh](https://github.com/apache/kafka/blob/aad93840668ae895fce5762c2491b09c32bc3e0c/bin/kafka-run-class.sh#L176-L179) in the Kafka source code:\r\n\r\n    # Generic jvm settings you want to add\r\n    if [ -z &quot;$KAFKA_OPTS&quot; ]; then\r\n      KAFKA_OPTS=&quot;&quot;\r\n    fi\r\n\r\nSo, for example, you can do:\r\n\r\n    $ export KAFKA_OPTS=&quot;-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf&quot;\r\n    $ bin/kafka-server-start.sh\r\n\r\nor\r\n\r\n    $ KAFKA_OPTS=&quot;-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf&quot; bin/kafka-server-start.sh\r\n","title":"How to add JVM parameters to Apache Kafka?","body":"<p>I'd recommend to use the <code>KAFKA_OPTS</code> environment variable for this.</p>\n\n<p>This environment variable is recognized by Kafka, and defaults to the empty string (= no settings).  See the following code snippet from <a href=\"https://github.com/apache/kafka/blob/aad93840668ae895fce5762c2491b09c32bc3e0c/bin/kafka-run-class.sh#L176-L179\" rel=\"noreferrer\">bin/kafka-run-class.sh</a> in the Kafka source code:</p>\n\n<pre><code># Generic jvm settings you want to add\nif [ -z \"$KAFKA_OPTS\" ]; then\n  KAFKA_OPTS=\"\"\nfi\n</code></pre>\n\n<p>So, for example, you can do:</p>\n\n<pre><code>$ export KAFKA_OPTS=\"-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf\"\n$ bin/kafka-server-start.sh\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ KAFKA_OPTS=\"-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf\" bin/kafka-server-start.sh\n</code></pre>\n"}],"owner":{"account_id":5126879,"reputation":1733,"user_id":4108584,"accept_rate":43,"display_name":"Jakim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15018,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":40905883,"answer_count":1,"score":10,"last_activity_date":1687473385,"creation_date":1480515919,"question_id":40890821,"body_markdown":"When configuring authentication for kafka, the [document](https://kafka.apache.org/documentation#security_sasl) mentioned that JVM parameters need to be added when starting kafka server. like:\r\n\r\n`-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf`\r\n\r\nSince we are using bin/kafka-server-start.sh to start the server, the document didn&#39;t mention where to specify the JVM parameters.\r\n\r\nModifying the kafka-server-start.sh or kafka-server-class.sh is not a good idea, then what will be the right way to add the parameter at the start?","title":"How to add JVM parameters to Apache Kafka?","body":"<p>When configuring authentication for kafka, the <a href=\"https://kafka.apache.org/documentation#security_sasl\" rel=\"noreferrer\">document</a> mentioned that JVM parameters need to be added when starting kafka server. like:</p>\n\n<p><code>-Djava.security.auth.login.config=/etc/kafka/kafka_server_jaas.conf</code></p>\n\n<p>Since we are using bin/kafka-server-start.sh to start the server, the document didn't mention where to specify the JVM parameters.</p>\n\n<p>Modifying the kafka-server-start.sh or kafka-server-class.sh is not a good idea, then what will be the right way to add the parameter at the start?</p>\n"},{"tags":["java","maven","logging","plugins"],"answers":[{"comments":[{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":1,"creation_date":1687503951,"post_id":76536054,"comment_id":134948773,"body_markdown":"thank you, I cannot reproduce my problem, all ok, thank you. \n-debug seems to work as --debug.. I use maven 3.9.2","body":"thank you, I cannot reproduce my problem, all ok, thank you.  -debug seems to work as --debug.. I use maven 3.9.2"}],"tags":[],"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687473190,"creation_date":1687473190,"answer_id":76536054,"question_id":76295779,"body_markdown":"There is no `-debug` option. See `mvn --help`:\r\n```\r\n-X,--debug                             Produce execution debug output\r\n```\r\nNote the double hyphen.","title":"maven logging: info and error work but debug dont","body":"<p>There is no <code>-debug</code> option. See <code>mvn --help</code>:</p>\n<pre><code>-X,--debug                             Produce execution debug output\n</code></pre>\n<p>Note the double hyphen.</p>\n"}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76536054,"answer_count":1,"score":1,"last_activity_date":1687473190,"creation_date":1684593762,"question_id":76295779,"body_markdown":"\r\n\r\nI wrote a maven plugin and use also logging based on `org.apache.maven.plugin.logging.Log`. Info i sent and also errors do well, but no debug info although debug info from elsewhere can be seen. I use with `-e` option and with `-debug` option.\r\n\r\nI use both maven and the maven plugin api with version 3.9.1.\r\n","title":"maven logging: info and error work but debug dont","body":"<p>I wrote a maven plugin and use also logging based on <code>org.apache.maven.plugin.logging.Log</code>. Info i sent and also errors do well, but no debug info although debug info from elsewhere can be seen. I use with <code>-e</code> option and with <code>-debug</code> option.</p>\n<p>I use both maven and the maven plugin api with version 3.9.1.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":23218021,"reputation":26,"user_id":17310684,"display_name":"refactorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687472374,"creation_date":1687472309,"answer_id":76535997,"question_id":76533267,"body_markdown":"It depends on the complexity of your domain model. For simple, flat entities or very flat aggregates in a simple CRUD scenario, using persistence entities upwards the REST controller might be a feasible solution. As soon as your domain model becomes more complex and implements more complex business logic than just managing CRUD logic, persistence entities will not longer fit the need of the domain model (and I assure, they will. If not sooner, then later ;-) ). Then, it&#39;s time to work with persistence entities only behind the repository interface. The repository then returns real domain entities which implement behavior instead of just providing accessors to internal state, like POJO&#39;s do. In such a case, I highly recommend to separate persistence entities from domain entities. The REST controller then deals with simple DTO&#39;s which an ApplicationService converts into domain entities using a factory, and forwards them to a Repository which turns them into persistence entities and uses the hibernate Session, or the JPA EntityManager to deal with the persistence infrastructure.","title":"Shared entity module with quarkus","body":"<p>It depends on the complexity of your domain model. For simple, flat entities or very flat aggregates in a simple CRUD scenario, using persistence entities upwards the REST controller might be a feasible solution. As soon as your domain model becomes more complex and implements more complex business logic than just managing CRUD logic, persistence entities will not longer fit the need of the domain model (and I assure, they will. If not sooner, then later ;-) ). Then, it's time to work with persistence entities only behind the repository interface. The repository then returns real domain entities which implement behavior instead of just providing accessors to internal state, like POJO's do. In such a case, I highly recommend to separate persistence entities from domain entities. The REST controller then deals with simple DTO's which an ApplicationService converts into domain entities using a factory, and forwards them to a Repository which turns them into persistence entities and uses the hibernate Session, or the JPA EntityManager to deal with the persistence infrastructure.</p>\n"}],"owner":{"account_id":11779467,"reputation":109,"user_id":8619644,"display_name":"csphmay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687472374,"creation_date":1687446268,"question_id":76533267,"body_markdown":"I am currently starting to build my first project with quarkus and I would like to know if the following architecture would make sense.\r\n\r\nLet&#39;s say I have modules A and B which are simple JAX-RS Services built with quarkus-resteasy. Both of these modules use the same entities from module C.\r\n\r\nWould it be a good idea to add quarkus-hibernate-orm to module C and then add this module as a dependency to module A and B?","title":"Shared entity module with quarkus","body":"<p>I am currently starting to build my first project with quarkus and I would like to know if the following architecture would make sense.</p>\n<p>Let's say I have modules A and B which are simple JAX-RS Services built with quarkus-resteasy. Both of these modules use the same entities from module C.</p>\n<p>Would it be a good idea to add quarkus-hibernate-orm to module C and then add this module as a dependency to module A and B?</p>\n"},{"tags":["java","spring-security","spring-authorization-server"],"answers":[{"tags":[],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687448517,"creation_date":1687448517,"answer_id":76533584,"question_id":76528299,"body_markdown":"I found a way to get the username using the `ServerRequest` object such as follows from a Spring Security example: \r\n```\r\nserverRequest.principal()\r\n\t\t\t.map(Principal::getName)\r\n\t\t\t.flatMap(username -&gt;\r\n\t\t\t\tServerResponse.ok()..\r\n```","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I found a way to get the username using the <code>ServerRequest</code> object such as follows from a Spring Security example:</p>\n<pre><code>serverRequest.principal()\n            .map(Principal::getName)\n            .flatMap(username -&gt;\n                ServerResponse.ok()..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687472318,"creation_date":1687472318,"answer_id":76535998,"question_id":76528299,"body_markdown":"I wrote [an article on Baeldung][1] for unit and integration testing with mocked OAuth2 `Authentication`.\r\n\r\nIn resource servers with JWT decoders, the default `Authentication` implementation is `JwtAuthenticationToken`. So, unless you explicitly changed that with a JwtAuthenticationConverter, you should populate the security context with a `JwtAuthenticationToken` (and not a `UsernamePasswordAuthenticationToken`).\r\n\r\nWhen running a test with `WebTestClient` (or `WebMvc` in servlet apps), the security context is not built from the access token: it would require a real authorization server to serve an JWT public key or respond to introspection requests. The test security context is populated either by:\r\n- the test itself with `SecurityContextHolder.getContext().setAuthentication(jwtAuthenticationToken)`\r\n- a `WebTestClient` mutator (or `WebMvc` request post-processor): `webTestClient.mutateWith(SecurityMockServerConfigurers.mockJwt()...)`\r\n- a test annotation from [a lib I maintain][2]:\r\n```java\r\n@Test\r\n@WithMockJwt()\r\nvoid whenUserIsAuthenticated_whenSomeQuery_thenSomeExpectation() {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-oauth-testing-access-control\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I wrote <a href=\"https://www.baeldung.com/spring-oauth-testing-access-control\" rel=\"nofollow noreferrer\">an article on Baeldung</a> for unit and integration testing with mocked OAuth2 <code>Authentication</code>.</p>\n<p>In resource servers with JWT decoders, the default <code>Authentication</code> implementation is <code>JwtAuthenticationToken</code>. So, unless you explicitly changed that with a JwtAuthenticationConverter, you should populate the security context with a <code>JwtAuthenticationToken</code> (and not a <code>UsernamePasswordAuthenticationToken</code>).</p>\n<p>When running a test with <code>WebTestClient</code> (or <code>WebMvc</code> in servlet apps), the security context is not built from the access token: it would require a real authorization server to serve an JWT public key or respond to introspection requests. The test security context is populated either by:</p>\n<ul>\n<li>the test itself with <code>SecurityContextHolder.getContext().setAuthentication(jwtAuthenticationToken)</code></li>\n<li>a <code>WebTestClient</code> mutator (or <code>WebMvc</code> request post-processor): <code>webTestClient.mutateWith(SecurityMockServerConfigurers.mockJwt()...)</code></li>\n<li>a test annotation from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">a lib I maintain</a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockJwt()\nvoid whenUserIsAuthenticated_whenSomeQuery_thenSomeExpectation() {\n}\n</code></pre>\n"}],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687472318,"creation_date":1687401893,"question_id":76528299,"body_markdown":"I am trying to set or access the currently logged-in user information such as username.  My token is generated using client credential flow using Spring Authorization server.  So I am using the resource server specified in my test case like below:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:9000\r\n```\r\n\r\nWhen I run my test case in Spring WebFlux I am not able to access the logged-in user using a code like below in my handler:\r\n\r\n```java\r\nLOG.info(&quot;user logged in is {}&quot;, SecurityContextHolder.getContext().getAuthentication().getPrincipal());\r\n```\r\n  \r\nI want to do something like following which I used to do for a custom authentication provider.:\r\n\r\n```java\r\nUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                    new UsernamePasswordAuthenticationToken(jwt.getSubject(), null, list);\r\n\r\n            SecurityContextHolder.getContext()\r\n                    .setAuthentication(usernamePasswordAuthenticationToken);\r\n```\r\n\r\nBut now I am using the resource server to validate the token I am not sure how I can set the currently logged-in user.\r\n","title":"How to set the currently logged-in user information using spring security using a resource server?","body":"<p>I am trying to set or access the currently logged-in user information such as username.  My token is generated using client credential flow using Spring Authorization server.  So I am using the resource server specified in my test case like below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:9000\n</code></pre>\n<p>When I run my test case in Spring WebFlux I am not able to access the logged-in user using a code like below in my handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOG.info(&quot;user logged in is {}&quot;, SecurityContextHolder.getContext().getAuthentication().getPrincipal());\n</code></pre>\n<p>I want to do something like following which I used to do for a custom authentication provider.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                    new UsernamePasswordAuthenticationToken(jwt.getSubject(), null, list);\n\n            SecurityContextHolder.getContext()\n                    .setAuthentication(usernamePasswordAuthenticationToken);\n</code></pre>\n<p>But now I am using the resource server to validate the token I am not sure how I can set the currently logged-in user.</p>\n"},{"tags":["java","encoding","pdfbox"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1474967670,"post_id":39720305,"comment_id":66738838,"body_markdown":"There exist both `PDFTrueTypeFont.setFontEncoding(new WinAnsiEncoding());` and `~.setEncoding(COSName.WIN_ANSI_ENCODING);`","body":"There exist both <code>PDFTrueTypeFont.setFontEncoding(new WinAnsiEncoding());</code> and <code>~.setEncoding(COSName.WIN_ANSI_ENCODING);</code>"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474968372,"post_id":39720305,"comment_id":66739367,"body_markdown":"@JoopEggen Sorry I don&#39;t know what you are trying to tell me here. Do I need to set one or both? Or should I set it to something else?","body":"@JoopEggen Sorry I don&#39;t know what you are trying to tell me here. Do I need to set one or both? Or should I set it to something else?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1474968515,"post_id":39720305,"comment_id":66739475,"body_markdown":"I have seen it set both. Whether it helps I doubt, as the bug reports do no seem to mention setting both as a viable solution. But who knows?","body":"I have seen it set both. Whether it helps I doubt, as the bug reports do no seem to mention setting both as a viable solution. But who knows?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1474968994,"post_id":39720305,"comment_id":66739835,"body_markdown":"Please retry with 2.0.3. If it still doesn&#39;t work, then please open an issue in JIRA and attach your PDF and your code. I wonder where the U+FFFD comes from. &quot;&#228;&quot; is supported in WinAnsiEncoding.","body":"Please retry with 2.0.3. If it still doesn&#39;t work, then please open an issue in JIRA and attach your PDF and your code. I wonder where the U+FFFD comes from. &quot;&#228;&quot; is supported in WinAnsiEncoding."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1474978175,"post_id":39720305,"comment_id":66745920,"body_markdown":"@ST-DDT I just tried to reproduce the issue but I couldn&#39;t. Thus either there is something very peculiar in your PDF or your Java editor and your Java compiler have different assumptions concerning the encoding of your code. To investigate into the former option, please share the PDF in question. To check the latter one replace the &#39;&#228;&#39; with a &#39;\\u00E4&#39; as proposed in Simone&#39;s answer.","body":"@ST-DDT I just tried to reproduce the issue but I couldn&#39;t. Thus either there is something very peculiar in your PDF or your Java editor and your Java compiler have different assumptions concerning the encoding of your code. To investigate into the former option, please share the PDF in question. To check the latter one replace the &#39;&#228;&#39; with a &#39;\\u00E4&#39; as proposed in Simone&#39;s answer."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474981115,"post_id":39720305,"comment_id":66748025,"body_markdown":"@mkl I updated example code to better represent the problem. The value &quot;Ger&#228;t&quot; is provided by the user via a base64 encoded parameter.","body":"@mkl I updated example code to better represent the problem. The value &quot;Ger&#228;t&quot; is provided by the user via a base64 encoded parameter."},{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":0,"creation_date":1474981235,"post_id":39720305,"comment_id":66748115,"body_markdown":"Javascript uses UTF-16 encoded String so you might need to use:\n\n`new String(Base64.getDecoder().decode(base64devices), &quot;UTF-16&quot;);`","body":"Javascript uses UTF-16 encoded String so you might need to use:  <code>new String(Base64.getDecoder().decode(base64devices), &quot;UTF-16&quot;);</code>"},{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":1,"creation_date":1474981480,"post_id":39720305,"comment_id":66748296,"body_markdown":"You might be interested in this answer as well http://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings","body":"You might be interested in this answer as well <a href=\"http://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\" title=\"using javascripts atob to decode base64 doesnt properly decode utf 8 strings\">stackoverflow.com/questions/30106476/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1474983431,"post_id":39720305,"comment_id":66749715,"body_markdown":"@ST-DDT As you have accepted Simone&#39;s answer, I assume your issue is resolved.","body":"@ST-DDT As you have accepted Simone&#39;s answer, I assume your issue is resolved."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474984339,"post_id":39720305,"comment_id":66750388,"body_markdown":"@SimoneRondelli That link gave me the solution, please add it to your answer for completeness.","body":"@SimoneRondelli That link gave me the solution, please add it to your answer for completeness."},{"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"score":0,"creation_date":1687471924,"post_id":39720305,"comment_id":134945693,"body_markdown":"refer to this similar post here in the blog\nhttps://stackoverflow.com/a/76535960/6095444","body":"refer to this similar post here in the blog <a href=\"https://stackoverflow.com/a/76535960/6095444\">stackoverflow.com/a/76535960/6095444</a>"}],"answers":[{"comments":[{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474981164,"post_id":39721889,"comment_id":66748058,"body_markdown":"Sorry for not being precise enough in my example. The value &quot;Ger&#228;t&quot; is provided by the user. Via Base64 encoding. See updated example.","body":"Sorry for not being precise enough in my example. The value &quot;Ger&#228;t&quot; is provided by the user. Via Base64 encoding. See updated example."},{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":0,"creation_date":1474981709,"post_id":39721889,"comment_id":66748439,"body_markdown":"See my comments above, the problem it&#39;s probably in the encoding/decoding of the string. Have you tried to print out the decoded value of the string on the Console?","body":"See my comments above, the problem it&#39;s probably in the encoding/decoding of the string. Have you tried to print out the decoded value of the string on the Console?"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1474983495,"post_id":39721889,"comment_id":66749754,"body_markdown":"The input from the JS frontend is somewhy encoded in ISO-8859-1. I will try to fix it there. Thanks for the support. Any idea how I can strip that/any bad character from my string? `Pattern.compile(new String({0xFF, 0xFD},&quot;UTF-8&quot;).replaceAll(input)`?","body":"The input from the JS frontend is somewhy encoded in ISO-8859-1. I will try to fix it there. Thanks for the support. Any idea how I can strip that/any bad character from my string? <code>Pattern.compile(new String({0xFF, 0xFD},&quot;UTF-8&quot;).replaceAll(input)</code>?"}],"tags":[],"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474986668,"creation_date":1474970909,"answer_id":39721889,"question_id":39720305,"body_markdown":"U+FFFD is used to replace an incoming character whose value is unknown or unrepresentable in Unicode compare the use of U+001A as a control character to indicate the substitute function ([source][1]).\r\n\r\nThat said it is likely that that character gets messed up somewhere. Maybe the encoding of the file is not UTF-8 and that&#39;s why the character is messed up. \r\n\r\nAs a general rule you should only write ASCII characters in the source code. You can still represent the whole Unicode range using the escaped form \\uXXXX. In this case &#228; -&gt; `\\u00E4`.\r\n\r\n-- UPDATE --\r\n\r\nApparently the problem is in how the user input get encoded/decoded from client/server side using the JS function `btoa`. A solution to this problem can be found at this link:\r\n\r\nhttps://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/fffd/index.htm","title":"U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>U+FFFD is used to replace an incoming character whose value is unknown or unrepresentable in Unicode compare the use of U+001A as a control character to indicate the substitute function (<a href=\"http://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">source</a>).</p>\n\n<p>That said it is likely that that character gets messed up somewhere. Maybe the encoding of the file is not UTF-8 and that's why the character is messed up. </p>\n\n<p>As a general rule you should only write ASCII characters in the source code. You can still represent the whole Unicode range using the escaped form \\uXXXX. In this case ä -> <code>\\u00E4</code>.</p>\n\n<p>-- UPDATE --</p>\n\n<p>Apparently the problem is in how the user input get encoded/decoded from client/server side using the JS function <code>btoa</code>. A solution to this problem can be found at this link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\">Using Javascript&#39;s atob to decode base64 doesn&#39;t properly decode utf-8 strings</a></p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12594,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39721889,"answer_count":1,"score":3,"last_activity_date":1687472056,"creation_date":1474966528,"question_id":39720305,"body_markdown":"I&#39;m using PDFBox 2.0.1.\n\nI try to dynamically add some (user provided) UTF8 text to the form fields and show the result to the user. Unfortunately either the pdf library is not capable of properly encoding special characters such as &quot;&#228;&#246;&#252;&quot;... or I was not able find any useful documentation that could help me with this issue.\n\nCan someone tell me what is wrong with the given code sample?\n\n    try (PDDocument document = PDDocument.load(pdfTemplate)) {\n        PDDocumentCatalog catalog = document.getDocumentCatalog();\n        PDAcroForm form = catalog.getAcroForm();\n    \n        List&lt;PDField&gt; fields = form.getFields();\n        for (PDField field : fields) {\n            switch (field.getPartialName()) {\n                case &quot;devices&quot;:\n                    // Frontend (JS): userInput = btoa(&#39;Ger&#228;t&#39;)\n                    String userInput = ...\n                    String name = new String(Base64.getDecoder().decode(base64devices), &quot;UTF-8&quot;);\n                    field.setReadOnly(true);\n                    break;\n            }\n        }\n        form.flatten(fields, true);\n        document.save(bos);\n    }\n\nAnd here the stacktrace of the error:\n\n    java.lang.IllegalArgumentException: U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding\n        org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.encode(PDTrueTypeFont.java:368)\n        org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:286)\n        org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:315)\n        org.apache.pdfbox.pdmodel.interactive.form.PlainText$Paragraph.getLines(PlainText.java:169)\n        org.apache.pdfbox.pdmodel.interactive.form.PlainTextFormatter.format(PlainTextFormatter.java:182)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.insertGeneratedAppearance(AppearanceGeneratorHelper.java:373)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceContent(AppearanceGeneratorHelper.java:237)\n        org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:144)\n        org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:263)\n        org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.refreshAppearances(PDAcroForm.java:324)\n        org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.flatten(PDAcroForm.java:213)\n        my.application.service.PDFService.generatePDF(PDFService.java:201)\n\n------------------------------\n\nI also found those (related) issues on SO:\n\nhttps://stackoverflow.com/questions/38787188/pdfbox-is-not-available-in-this-fonts-encoding\nBut that does not help me choose the right encoding or how. IIRC Java uses UTF16 internally for character encoding why is the default not enough though?\nIs that an issue of the PDF-document itself or the code I use to set it?\n\n---------------------------\n\nhttps://stackoverflow.com/questions/22260344/pdfbox-encode-symbol-currency-euro\nWell its dynamic user input, so there are way to many things I would have to replace myself.\n\n&gt; Thus, if the PDFBox people decided to fix the broken PDFBox method, this seemingly clean work-around code here would start to fail as it would then feed the fixed method broken input data.\n&gt;\n&gt;Admittedly, I doubt they will fix this bug before 2.0.0 (and in 2.0.0 the fixed method has a different name), but one never knows...\n\nUnfortunately I was not able to find this other setter method, but it might also be a different scope it does apply to.\n\n**EDIT**\n\nUpdated example code to better represent the problem.","title":"U+FFFD is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>I'm using PDFBox 2.0.1.</p>\n<p>I try to dynamically add some (user provided) UTF8 text to the form fields and show the result to the user. Unfortunately either the pdf library is not capable of properly encoding special characters such as &quot;äöü&quot;... or I was not able find any useful documentation that could help me with this issue.</p>\n<p>Can someone tell me what is wrong with the given code sample?</p>\n<pre><code>try (PDDocument document = PDDocument.load(pdfTemplate)) {\n    PDDocumentCatalog catalog = document.getDocumentCatalog();\n    PDAcroForm form = catalog.getAcroForm();\n\n    List&lt;PDField&gt; fields = form.getFields();\n    for (PDField field : fields) {\n        switch (field.getPartialName()) {\n            case &quot;devices&quot;:\n                // Frontend (JS): userInput = btoa('Gerät')\n                String userInput = ...\n                String name = new String(Base64.getDecoder().decode(base64devices), &quot;UTF-8&quot;);\n                field.setReadOnly(true);\n                break;\n        }\n    }\n    form.flatten(fields, true);\n    document.save(bos);\n}\n</code></pre>\n<p>And here the stacktrace of the error:</p>\n<pre><code>java.lang.IllegalArgumentException: U+FFFD is not available in this font's encoding: WinAnsiEncoding\n    org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.encode(PDTrueTypeFont.java:368)\n    org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:286)\n    org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:315)\n    org.apache.pdfbox.pdmodel.interactive.form.PlainText$Paragraph.getLines(PlainText.java:169)\n    org.apache.pdfbox.pdmodel.interactive.form.PlainTextFormatter.format(PlainTextFormatter.java:182)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.insertGeneratedAppearance(AppearanceGeneratorHelper.java:373)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceContent(AppearanceGeneratorHelper.java:237)\n    org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:144)\n    org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:263)\n    org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.refreshAppearances(PDAcroForm.java:324)\n    org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.flatten(PDAcroForm.java:213)\n    my.application.service.PDFService.generatePDF(PDFService.java:201)\n</code></pre>\n<hr />\n<p>I also found those (related) issues on SO:</p>\n<p><a href=\"https://stackoverflow.com/questions/38787188/pdfbox-is-not-available-in-this-fonts-encoding\">pdfbox: ... is not available in this font&#39;s encoding</a>\nBut that does not help me choose the right encoding or how. IIRC Java uses UTF16 internally for character encoding why is the default not enough though?\nIs that an issue of the PDF-document itself or the code I use to set it?</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/questions/22260344/pdfbox-encode-symbol-currency-euro\">PdfBox encode symbol currency euro</a>\nWell its dynamic user input, so there are way to many things I would have to replace myself.</p>\n<blockquote>\n<p>Thus, if the PDFBox people decided to fix the broken PDFBox method, this seemingly clean work-around code here would start to fail as it would then feed the fixed method broken input data.</p>\n<p>Admittedly, I doubt they will fix this bug before 2.0.0 (and in 2.0.0 the fixed method has a different name), but one never knows...</p>\n</blockquote>\n<p>Unfortunately I was not able to find this other setter method, but it might also be a different scope it does apply to.</p>\n<p><strong>EDIT</strong></p>\n<p>Updated example code to better represent the problem.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-firefoxdriver","browser-automation"],"comments":[{"owner":{"account_id":291564,"reputation":2354,"user_id":593802,"accept_rate":62,"display_name":"Cosmin"},"score":0,"creation_date":1496747516,"post_id":44388268,"comment_id":75776405,"body_markdown":"`getTitle()` method looks for the `&lt;title&gt;` tag in the HTML and returns whatever it&#39;s there. Does your frame has a `&lt;title&gt;` tag? Please post the complete html of the page.","body":"<code>getTitle()</code> method looks for the <code>&lt;title&gt;</code> tag in the HTML and returns whatever it&#39;s there. Does your frame has a <code>&lt;title&gt;</code> tag? Please post the complete html of the page."},{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496748389,"post_id":44388268,"comment_id":75777026,"body_markdown":"Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;","body":"Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;"},{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496749170,"post_id":44388268,"comment_id":75777600,"body_markdown":"disregard my previous reply.\nYes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks \n&lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;   \n  &lt;html&gt;  \n    &lt;head&gt; \n      &lt;title&gt; xxxxxxx&lt;/title&gt;\n    &lt;/head&gt;\n   &lt;body&gt; \n       some element related tags within the frame \n   &lt;/body&gt; \n  &lt;/html&gt;  \n&lt;/iframe&gt;","body":"disregard my previous reply. Yes, it has &lt;title&gt; tag in &lt;head&gt; tag of the frame. though I can&#39;t post my full html code here, I can provide the overview of how it looks  &lt;iframe id=&quot;xxx&quot; width=&quot;xxx&quot; Style=&quot;xxxx&quot; &gt;      &lt;html&gt;       &lt;head&gt;        &lt;title&gt; xxxxxxx&lt;/title&gt;     &lt;/head&gt;    &lt;body&gt;         some element related tags within the frame     &lt;/body&gt;    &lt;/html&gt;   &lt;/iframe&gt;"}],"answers":[{"comments":[{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496751536,"post_id":44389005,"comment_id":75779208,"body_markdown":"Yes, it worked as expected. Thank you..\nif you don&#39;t think it is too much to ask, may I ask one more question like what exactly getAttribute() method retrieves? what is the purpose of it?","body":"Yes, it worked as expected. Thank you.. if you don&#39;t think it is too much to ask, may I ask one more question like what exactly getAttribute() method retrieves? what is the purpose of it?"},{"owner":{"account_id":407222,"reputation":3253,"user_id":777171,"accept_rate":27,"display_name":"Trimantra Software Solution"},"score":0,"creation_date":1496751878,"post_id":44389005,"comment_id":75779454,"body_markdown":"`getAttribute()` method in selenium allows us to get the attribute value of particular tag . e.g. I have one  anchor tag `&lt;a id=&quot;123456&quot; class=&quot;testclass&quot; /&gt;` and if you wanted to get the value `testclass` of class attribute the you can use this method like `getAttribute(&quot;class&quot;);`","body":"<code>getAttribute()</code> method in selenium allows us to get the attribute value of particular tag . e.g. I have one  anchor tag <code>&lt;a id=&quot;123456&quot; class=&quot;testclass&quot; &#47;&gt;</code> and if you wanted to get the value <code>testclass</code> of class attribute the you can use this method like <code>getAttribute(&quot;class&quot;);</code>"},{"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"score":0,"creation_date":1496784913,"post_id":44389005,"comment_id":75800225,"body_markdown":"Thank you for the information. This helped me a lot.","body":"Thank you for the information. This helped me a lot."}],"tags":[],"owner":{"account_id":407222,"reputation":3253,"user_id":777171,"accept_rate":27,"display_name":"Trimantra Software Solution"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496749041,"creation_date":1496749041,"answer_id":44389005,"question_id":44388268,"body_markdown":"Use Below code to achieve the same\r\n\r\n    // before switching frame\r\n    \r\n    driver.getTitle(); \r\n    //or\r\n\r\n    driver.find_element_by_tag_name(&quot;title&quot;).get_attribute(&quot;innerHTML&quot;)\r\n\r\nand after switching frame \r\n\r\n\r\n    driver.switchTo().frame(&quot;frame name/id&quot;);\r\n    driver.find_element_by_tag_name(&quot;title&quot;).get_attribute(&quot;innerHTML&quot;)\r\n\r\nHope This will help as I&#39;m able to do the same using this code\r\n   ","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>Use Below code to achieve the same</p>\n\n<pre><code>// before switching frame\n\ndriver.getTitle(); \n//or\n\ndriver.find_element_by_tag_name(\"title\").get_attribute(\"innerHTML\")\n</code></pre>\n\n<p>and after switching frame </p>\n\n<pre><code>driver.switchTo().frame(\"frame name/id\");\ndriver.find_element_by_tag_name(\"title\").get_attribute(\"innerHTML\")\n</code></pre>\n\n<p>Hope This will help as I'm able to do the same using this code</p>\n"},{"comments":[{"owner":{"account_id":15062967,"reputation":50571,"user_id":10871073,"display_name":"Adrian Mole"},"score":0,"creation_date":1626384988,"post_id":68398396,"comment_id":120886068,"body_markdown":"I don&#39;t see the C# tag in the question, or any mention of C# as a solution language. SO why post a C# solution?","body":"I don&#39;t see the C# tag in the question, or any mention of C# as a solution language. SO why post a C# solution?"},{"owner":{"account_id":18098574,"reputation":324,"user_id":13156642,"display_name":"Diego Montania"},"score":0,"creation_date":1626800610,"post_id":68398396,"comment_id":120988059,"body_markdown":"I most cases, this questions about &quot;selenium&quot; have comments with C#, Java, or Python to solve a specific problem. I am just trying help.","body":"I most cases, this questions about &quot;selenium&quot; have comments with C#, Java, or Python to solve a specific problem. I am just trying help."}],"tags":[],"owner":{"account_id":18098574,"reputation":324,"user_id":13156642,"display_name":"Diego Montania"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687471606,"creation_date":1626370372,"answer_id":68398396,"question_id":44388268,"body_markdown":"Using C#, I get the correct frame title:\r\n\r\n```c#\r\n//store all frames\r\nvar frames = _driver.FindElements(By.TagName(&quot;iframe&quot;));\r\n\r\n//loop through frames\r\nforeach (var frame in frames)\r\n{\r\n     //just do debug\r\n     Console.WriteLine(frame.GetAttribute(&quot;title&quot;));\r\n}\r\n\r\n//do your thing...\r\n```","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>Using C#, I get the correct frame title:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>//store all frames\nvar frames = _driver.FindElements(By.TagName(&quot;iframe&quot;));\n\n//loop through frames\nforeach (var frame in frames)\n{\n     //just do debug\n     Console.WriteLine(frame.GetAttribute(&quot;title&quot;));\n}\n\n//do your thing...\n</code></pre>\n"}],"owner":{"account_id":11046939,"reputation":31,"user_id":8112671,"accept_rate":25,"display_name":"Sri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44389005,"answer_count":2,"score":0,"last_activity_date":1687471606,"creation_date":1496746988,"question_id":44388268,"body_markdown":"In my program, I am trying to get the Title of the inner frame by switching the driver control to inner frame with the help of getTitle() method. But,it is still return the title of main page.\r\nplease find the below bit of code I tried with\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;url&quot;);\r\n    driver.switchTo().frame(&quot;frame name/id&quot;);\r\n    driver.getTitle();\r\n\r\n\r\nIs there any way to get the Title of the inner frame in selenium webdriver using Java.","title":"How to get the Title of inner frame in selenium webdriver?","body":"<p>In my program, I am trying to get the Title of the inner frame by switching the driver control to inner frame with the help of getTitle() method. But,it is still return the title of main page.\nplease find the below bit of code I tried with</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.get(\"url\");\ndriver.switchTo().frame(\"frame name/id\");\ndriver.getTitle();\n</code></pre>\n\n<p>Is there any way to get the Title of the inner frame in selenium webdriver using Java.</p>\n"},{"tags":["java","spring","junit","spring-test"],"comments":[{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1557179450,"post_id":47775560,"comment_id":98670651,"body_markdown":"Are you interested only on the response for Junit &lt;=4 or you want it for Junit 5 too?","body":"Are you interested only on the response for Junit &lt;=4 or you want it for Junit 5 too?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":2,"creation_date":1557209777,"post_id":47775560,"comment_id":98676929,"body_markdown":"always most recent version.","body":"always most recent version."}],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1513093598,"post_id":47776447,"comment_id":82514010,"body_markdown":"(This is untested because I don&#39;t have a Spring context or database to test it on, but I believe it should work)","body":"(This is untested because I don&#39;t have a Spring context or database to test it on, but I believe it should work)"},{"owner":{"account_id":2408213,"reputation":131,"user_id":2104049,"display_name":"waltron"},"score":0,"creation_date":1630543934,"post_id":47776447,"comment_id":121987964,"body_markdown":"A nice idea! I did try this and unfortunately it failed due to detail within SqlScriptsTestExecutionListener which required a TEST_METHOD to exist. It doesn&#39;t at the beforeClass level and so it fails. An alternative along the same lines is to use ScriptUtils.executeSqlScript directly within the listener rather than delegating to SqlScriptsTestExecutionListener - a bit of an extension to the answer from @adrhc","body":"A nice idea! I did try this and unfortunately it failed due to detail within SqlScriptsTestExecutionListener which required a TEST_METHOD to exist. It doesn&#39;t at the beforeClass level and so it fails. An alternative along the same lines is to use ScriptUtils.executeSqlScript directly within the listener rather than delegating to SqlScriptsTestExecutionListener - a bit of an extension to the answer from @adrhc"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513094399,"creation_date":1513093544,"answer_id":47776447,"question_id":47775560,"body_markdown":"You can&#39;t do that out-of-the-box. The [`@Sql` annotation](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html) only has [two modes](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.ExecutionPhase.html#BEFORE_TEST_METHOD) - `BEFORE_TEST_METHOD` and `AFTER_TEST_METHOD`.\r\n\r\nThe listener responsible for executing these scripts, [`SqlScriptsTestExecutionListener`](https://docs.spring.io/autorepo/docs/spring/4.1.1.RELEASE/javadoc-api/org/springframework/test/context/jdbc/SqlScriptsTestExecutionListener.html), does not implement before or after-class methods.\r\n\r\n---\r\n\r\nTo work around this, I&#39;d implement my own [`TestExecutionListener`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html), wrapping the default `SqlScriptsTestExecutionListener`. You can then declare on your test to use the new listener rather than the old ones.\r\n\r\n    public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener\r\n    {    \r\n        @Override\r\n        public void beforeTestClass(final TestContext testContext) throws Exception\r\n        {\r\n            // Note, we&#39;re deliberately calling beforeTest*Method*\r\n            new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\r\n        }\r\n    \r\n        @Override\r\n        public void prepareTestInstance(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void beforeTestMethod(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void afterTestMethod(final TestContext testContext) { }\r\n    \r\n        @Override\r\n        public void afterTestClass(final TestContext testContext) { }\r\n    }\r\n\r\nYour test would then become:\r\n\r\n    @TestExecutionListeners(\r\n        listeners = { BeforeClassSqlScriptsTestExecutionListener.class },\r\n        /* Here, we&#39;re replacing more than just SqlScriptsTestExecutionListener, so manually\r\n           include any of the default above if they&#39;re still needed: */\r\n        mergeMode = TestExecutionListeners.MergeMode.REPLACE_DEFAULTS\r\n    )\r\n    @org.springframework.test.context.jdbc.Sql(\r\n        scripts = &quot;classpath:schema-test.sql&quot;,\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\r\n    )\r\n    public class MyTest\r\n    {\r\n        @Test\r\n        public void test1() { }\r\n    \r\n        @Test\r\n        public void test2() { }\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>You can't do that out-of-the-box. The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\"><code>@Sql</code> annotation</a> only has <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.ExecutionPhase.html#BEFORE_TEST_METHOD\" rel=\"nofollow noreferrer\">two modes</a> - <code>BEFORE_TEST_METHOD</code> and <code>AFTER_TEST_METHOD</code>.</p>\n\n<p>The listener responsible for executing these scripts, <a href=\"https://docs.spring.io/autorepo/docs/spring/4.1.1.RELEASE/javadoc-api/org/springframework/test/context/jdbc/SqlScriptsTestExecutionListener.html\" rel=\"nofollow noreferrer\"><code>SqlScriptsTestExecutionListener</code></a>, does not implement before or after-class methods.</p>\n\n<hr>\n\n<p>To work around this, I'd implement my own <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html\" rel=\"nofollow noreferrer\"><code>TestExecutionListener</code></a>, wrapping the default <code>SqlScriptsTestExecutionListener</code>. You can then declare on your test to use the new listener rather than the old ones.</p>\n\n<pre><code>public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener\n{    \n    @Override\n    public void beforeTestClass(final TestContext testContext) throws Exception\n    {\n        // Note, we're deliberately calling beforeTest*Method*\n        new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\n    }\n\n    @Override\n    public void prepareTestInstance(final TestContext testContext) { }\n\n    @Override\n    public void beforeTestMethod(final TestContext testContext) { }\n\n    @Override\n    public void afterTestMethod(final TestContext testContext) { }\n\n    @Override\n    public void afterTestClass(final TestContext testContext) { }\n}\n</code></pre>\n\n<p>Your test would then become:</p>\n\n<pre><code>@TestExecutionListeners(\n    listeners = { BeforeClassSqlScriptsTestExecutionListener.class },\n    /* Here, we're replacing more than just SqlScriptsTestExecutionListener, so manually\n       include any of the default above if they're still needed: */\n    mergeMode = TestExecutionListeners.MergeMode.REPLACE_DEFAULTS\n)\n@org.springframework.test.context.jdbc.Sql(\n    scripts = \"classpath:schema-test.sql\",\n    executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\n)\npublic class MyTest\n{\n    @Test\n    public void test1() { }\n\n    @Test\n    public void test2() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3953719,"reputation":1153,"user_id":3263041,"display_name":"Florian Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550149230,"creation_date":1540297766,"answer_id":52949135,"question_id":47775560,"body_markdown":"This code throws an `IllegalStateException` (Spring 5.0.1) because of the `getTestMethod()` method in `DefaultTestContext.java`: \r\n\r\n    public final Method getTestMethod() {\r\n\t\tMethod testMethod = this.testMethod;\r\n\t\tAssert.state(testMethod != null, &quot;No test method&quot;);\r\n\t\treturn testMethod;\r\n\t}\r\n\r\nWhen calling the `beforeTestClass` method through your proposed implementation, the `textContext` does not contain a valid `testMethod` (which is normal at this stage):\r\n\r\n    public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener {\r\n\r\n        @Override\r\n        public void beforeTestClass(TestContext testContext) throws Exception {\r\n            new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\r\n        }\r\n    }\r\n\r\nWhen the code responsible of running SQL scripts (in the `SqlScriptsTestExecutionListener`) is executed, a valid `testMethod` is required: \r\n\r\n    Set&lt;Sql&gt; sqlAnnotations = AnnotatedElementUtils.getMergedRepeatableAnnotations(\r\n\t\t\t\ttestContext.getTestMethod(), Sql.class, SqlGroup.class);\r\n\r\nI ended up using this workaround:\r\n\r\n    @Before\r\n    public void setUp() {\r\n        // Manually initialize DB as @Sql annotation doesn&#39;t support class-level execution phase (actually executed before every test method)\r\n        // See https://jira.spring.io/browse/SPR-14357\r\n        if (!dbInitialized) {\r\n            final ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n            resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/sql/[...].sql&quot;));\r\n            resourceDatabasePopulator.execute(dataSource);\r\n            dbInitialized = true;\r\n        }\r\n        [...]\r\n    }\r\n","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>This code throws an <code>IllegalStateException</code> (Spring 5.0.1) because of the <code>getTestMethod()</code> method in <code>DefaultTestContext.java</code>: </p>\n\n<pre><code>public final Method getTestMethod() {\n    Method testMethod = this.testMethod;\n    Assert.state(testMethod != null, \"No test method\");\n    return testMethod;\n}\n</code></pre>\n\n<p>When calling the <code>beforeTestClass</code> method through your proposed implementation, the <code>textContext</code> does not contain a valid <code>testMethod</code> (which is normal at this stage):</p>\n\n<pre><code>public class BeforeClassSqlScriptsTestExecutionListener implements TestExecutionListener {\n\n    @Override\n    public void beforeTestClass(TestContext testContext) throws Exception {\n        new SqlScriptsTestExecutionListener().beforeTestMethod(testContext);\n    }\n}\n</code></pre>\n\n<p>When the code responsible of running SQL scripts (in the <code>SqlScriptsTestExecutionListener</code>) is executed, a valid <code>testMethod</code> is required: </p>\n\n<pre><code>Set&lt;Sql&gt; sqlAnnotations = AnnotatedElementUtils.getMergedRepeatableAnnotations(\n            testContext.getTestMethod(), Sql.class, SqlGroup.class);\n</code></pre>\n\n<p>I ended up using this workaround:</p>\n\n<pre><code>@Before\npublic void setUp() {\n    // Manually initialize DB as @Sql annotation doesn't support class-level execution phase (actually executed before every test method)\n    // See https://jira.spring.io/browse/SPR-14357\n    if (!dbInitialized) {\n        final ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n        resourceDatabasePopulator.addScript(new ClassPathResource(\"/sql/[...].sql\"));\n        resourceDatabasePopulator.execute(dataSource);\n        dbInitialized = true;\n    }\n    [...]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":920577,"reputation":2642,"user_id":952342,"accept_rate":56,"display_name":"user952342"},"score":2,"creation_date":1569008574,"post_id":56010435,"comment_id":102470684,"body_markdown":"Thanks!  This was a simple enough solution... it worked well for me!","body":"Thanks!  This was a simple enough solution... it worked well for me!"}],"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1687471457,"creation_date":1557166635,"answer_id":56010435,"question_id":47775560,"body_markdown":"For JUnit 5, the straight forward **clean** *solution*:  \r\n\r\n    @MyInMemoryDbConfig\r\n    //@Sql(value = {&quot;/appconfig.sql&quot;, &quot;/album.sql&quot;}) -&gt; code below is equivalent but at class level\r\n    class SomeServiceTest {\r\n    \t@BeforeAll\r\n    \tvoid setup(@Autowired DataSource dataSource) {\r\n    \t\ttry (Connection conn = dataSource.getConnection()) {\r\n    \t\t\t// you&#39;ll have to make sure conn.autoCommit = true (default for e.g. H2)\r\n    \t\t\t// e.g. url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL\r\n    \t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\r\n\t    \t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\r\n\t\t    }\r\n    \t}\r\n    \t// your @Test methods follow ...\r\n\r\nbut when your database connections are **not** configured with `autoCommit = true` you&#39;ll have to wrap all in a transaction:  \r\n\r\n    @RootInMemoryDbConfig\r\n    @Slf4j\r\n    class SomeServiceTest {\r\n    \t@BeforeAll\r\n    \tvoid setup(@Autowired DataSource dataSource,\r\n    \t\t\t@Autowired PlatformTransactionManager transactionManager) {\r\n    \t\tnew TransactionTemplate(transactionManager).execute((ts) -&gt; {\r\n    \t\t\ttry (Connection conn = dataSource.getConnection()) {\r\n    \t\t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\r\n    \t\t\t\tScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\r\n    \t\t\t\t// should work without manually commit but didn&#39;t for me (because of using AUTOCOMMIT=OFF)\r\n    \t\t\t\t// I use url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL;AUTOCOMMIT=OFF\r\n    \t\t\t\t// same will happen with DataSourceInitializer &amp; DatabasePopulator (at least with this setup)\r\n    \t\t\t\tconn.commit();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tSomeServiceTest.log.error(e.getMessage(), e);\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \t// your @Test methods follow ...\r\n\r\nWhy **clean** *solution*?  \r\n\r\nBecause according to [Script Configuration with @SqlConfig][1]:\r\n\r\n&gt; The configuration options provided by `@Sql` and `@SqlConfig` are\r\n&gt; equivalent to those supported by `ScriptUtils` and\r\n&gt; `ResourceDatabasePopulator` but are a superset of those provided by the `&lt;jdbc:initialize-database/&gt;` XML namespace element.\r\n\r\n**Bonus**\r\n\r\nYou can mix this approach with other `@Sql` declarations.\r\n \r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.2.0.M1/spring-framework-reference/testing.html#script-configuration-with-code-sqlconfig-code","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>For JUnit 5, the straight forward <strong>clean</strong> <em>solution</em>:</p>\n<pre><code>@MyInMemoryDbConfig\n//@Sql(value = {&quot;/appconfig.sql&quot;, &quot;/album.sql&quot;}) -&gt; code below is equivalent but at class level\nclass SomeServiceTest {\n    @BeforeAll\n    void setup(@Autowired DataSource dataSource) {\n        try (Connection conn = dataSource.getConnection()) {\n            // you'll have to make sure conn.autoCommit = true (default for e.g. H2)\n            // e.g. url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL\n            ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\n            ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\n        }\n    }\n    // your @Test methods follow ...\n</code></pre>\n<p>but when your database connections are <strong>not</strong> configured with <code>autoCommit = true</code> you'll have to wrap all in a transaction:</p>\n<pre><code>@RootInMemoryDbConfig\n@Slf4j\nclass SomeServiceTest {\n    @BeforeAll\n    void setup(@Autowired DataSource dataSource,\n            @Autowired PlatformTransactionManager transactionManager) {\n        new TransactionTemplate(transactionManager).execute((ts) -&gt; {\n            try (Connection conn = dataSource.getConnection()) {\n                ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;appconfig.sql&quot;));\n                ScriptUtils.executeSqlScript(conn, new ClassPathResource(&quot;album.sql&quot;));\n                // should work without manually commit but didn't for me (because of using AUTOCOMMIT=OFF)\n                // I use url=jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1;MODE=MySQL;AUTOCOMMIT=OFF\n                // same will happen with DataSourceInitializer &amp; DatabasePopulator (at least with this setup)\n                conn.commit();\n            } catch (SQLException e) {\n                SomeServiceTest.log.error(e.getMessage(), e);\n            }\n            return null;\n        });\n    }\n    // your @Test methods follow ...\n</code></pre>\n<p>Why <strong>clean</strong> <em>solution</em>?</p>\n<p>Because according to <a href=\"https://docs.spring.io/spring/docs/5.2.0.M1/spring-framework-reference/testing.html#script-configuration-with-code-sqlconfig-code\" rel=\"nofollow noreferrer\">Script Configuration with @SqlConfig</a>:</p>\n<blockquote>\n<p>The configuration options provided by <code>@Sql</code> and <code>@SqlConfig</code> are\nequivalent to those supported by <code>ScriptUtils</code> and\n<code>ResourceDatabasePopulator</code> but are a superset of those provided by the <code>&lt;jdbc:initialize-database/&gt;</code> XML namespace element.</p>\n</blockquote>\n<p><strong>Bonus</strong></p>\n<p>You can mix this approach with other <code>@Sql</code> declarations.</p>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1609760462,"creation_date":1575037449,"answer_id":59106533,"question_id":47775560,"body_markdown":"For JUnit 5 I second the solution by adrhc.\r\n\r\nFor Junit 4, you can do:\r\n\r\n```\r\n@Autowired\r\nprivate DataSource database;\r\n\r\nprivate static boolean dataLoaded = false;\r\n\r\n    @Before\r\n    public void setup() throws SQLException {\r\n        if(!dataLoaded) {\r\n            try (Connection con = database.getConnection()) {\r\n                ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;path/to/script.sql&quot;));\r\n                dataLoaded = true;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n(Again, assuming your connection has `autoCommit=true`, see post by adrhc.)\r\n\r\nIf you intend to run your tests in parallel then you&#39;ll want to make the method synchronized.","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>For JUnit 5 I second the solution by adrhc.</p>\n<p>For Junit 4, you can do:</p>\n<pre><code>@Autowired\nprivate DataSource database;\n\nprivate static boolean dataLoaded = false;\n\n    @Before\n    public void setup() throws SQLException {\n        if(!dataLoaded) {\n            try (Connection con = database.getConnection()) {\n                ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;path/to/script.sql&quot;));\n                dataLoaded = true;\n            }\n        }\n    }\n</code></pre>\n<p>(Again, assuming your connection has <code>autoCommit=true</code>, see post by adrhc.)</p>\n<p>If you intend to run your tests in parallel then you'll want to make the method synchronized.</p>\n"},{"tags":[],"owner":{"account_id":14345584,"reputation":21,"user_id":10362519,"display_name":"Yury Smuraha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613748808,"creation_date":1613748808,"answer_id":66280483,"question_id":47775560,"body_markdown":" @BeforeAll and @BeforeClass annotations require &#39;static&#39; methods. So it does not work.\r\nWhat about @PostConstruct in configuration file? It works for me fine.\r\n\r\n    @TestConfiguration\r\n    public class IntegrationTestConfiguration {\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @PostConstruct\r\n    public void initDB() throws SQLException {\r\n        try (Connection con = dataSource.getConnection()) {\r\n            ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;data.sql&quot;));\r\n        }\r\n    }\r\n    }\r\n\r\n    @ContextConfiguration(classes = {IntegrationTestConfiguration.class})\r\n    public class YourIntegrationTest {\r\n\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>@BeforeAll and @BeforeClass annotations require 'static' methods. So it does not work.\nWhat about @PostConstruct in configuration file? It works for me fine.</p>\n<pre><code>@TestConfiguration\npublic class IntegrationTestConfiguration {\n\n@Autowired\nprivate DataSource dataSource;\n\n@PostConstruct\npublic void initDB() throws SQLException {\n    try (Connection con = dataSource.getConnection()) {\n        ScriptUtils.executeSqlScript(con, new ClassPathResource(&quot;data.sql&quot;));\n    }\n}\n}\n\n@ContextConfiguration(classes = {IntegrationTestConfiguration.class})\npublic class YourIntegrationTest {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674786149,"creation_date":1674786149,"answer_id":75253556,"question_id":47775560,"body_markdown":"An alternative would be to do a setup and tear down for each method if it does not result in unacceptable test run time.\r\n```\r\n@Sql({&quot;/setup.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n@Sql({&quot;/teardown.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n```\r\n\r\nAnother way would be to place test data in the following files as explained by https://www.baeldung.com/spring-boot-data-sql-and-schema-sql:\r\n- src/test/resources/schema.sql\r\n- src/test/resources/data.sql","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>An alternative would be to do a setup and tear down for each method if it does not result in unacceptable test run time.</p>\n<pre><code>@Sql({&quot;/setup.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n@Sql({&quot;/teardown.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n</code></pre>\n<p>Another way would be to place test data in the following files as explained by <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-data-sql-and-schema-sql</a>:</p>\n<ul>\n<li>src/test/resources/schema.sql</li>\n<li>src/test/resources/data.sql</li>\n</ul>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16799,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":56010435,"answer_count":6,"score":19,"last_activity_date":1687471457,"creation_date":1513090618,"question_id":47775560,"body_markdown":"How can I tell the `@Sql` annotation to run only once for the class, and not for each `@Test` method?\r\n\r\nLike having the same behaviour as `@BeforeClass`?\r\n\r\n\r\n    @org.springframework.test.context.jdbc.Sql(\r\n         scripts = &quot;classpath:schema-test.sql&quot;,\r\n         executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\r\n    )\r\n    public class TestClass {\r\n          @Test\r\n          public void test1() {\r\n            //runs the @Sql script\r\n          }\r\n    \r\n          @Test\r\n          public void test2() {\r\n            //runs the @Sql script again\r\n          }\r\n    }","title":"How can Spring&#39;s test annotation @Sql behave like @BeforeClass?","body":"<p>How can I tell the <code>@Sql</code> annotation to run only once for the class, and not for each <code>@Test</code> method?</p>\n\n<p>Like having the same behaviour as <code>@BeforeClass</code>?</p>\n\n<pre><code>@org.springframework.test.context.jdbc.Sql(\n     scripts = \"classpath:schema-test.sql\",\n     executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD\n)\npublic class TestClass {\n      @Test\n      public void test1() {\n        //runs the @Sql script\n      }\n\n      @Test\n      public void test2() {\n        //runs the @Sql script again\n      }\n}\n</code></pre>\n"},{"tags":["java","sdkman"],"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1687470687,"post_id":57990157,"comment_id":134945570,"body_markdown":"I keep running across this question when I look up how to list currently installed versions of Java.  I&#39;ve updated the title to make it clear this question is not about that.","body":"I keep running across this question when I look up how to list currently installed versions of Java.  I&#39;ve updated the title to make it clear this question is not about that."}],"answers":[{"comments":[{"owner":{"account_id":2864992,"reputation":435,"user_id":2459485,"display_name":"Salailah"},"score":3,"creation_date":1611053506,"post_id":58052719,"comment_id":116320237,"body_markdown":"This also applies to Apple Silicon M1 (arm64). Run command in Rosetta 2 (x86_64)","body":"This also applies to Apple Silicon M1 (arm64). Run command in Rosetta 2 (x86_64)"}],"tags":[],"owner":{"account_id":16445397,"reputation":193,"user_id":11880340,"display_name":"Anders"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1569180488,"creation_date":1569180488,"answer_id":58052719,"question_id":57990157,"body_markdown":"I have now finally realised why I get these different lists. The new box is running a 32 bit version of Ubuntu. Only a small subset of pubished JDK&#39;s apparently support 32 bit. ","title":"How do I list all versions of Java available for install in sdkman?","body":"<p>I have now finally realised why I get these different lists. The new box is running a 32 bit version of Ubuntu. Only a small subset of pubished JDK's apparently support 32 bit. </p>\n"}],"owner":{"account_id":16445397,"reputation":193,"user_id":11880340,"display_name":"Anders"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22552,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58052719,"answer_count":1,"score":12,"last_activity_date":1687470652,"creation_date":1568801054,"question_id":57990157,"body_markdown":"On a newly installed Ubuntu 18.04 box with sdkman I only get a subset of the java versions available on my other (old) Ubuntu 18.04 box. Both are running SDKMAN 5.7.3+337. What am I missing? \r\n\r\nI checked the sdkman docs, but could not find som obvious config option I have missed. Also I found this post, which seems similar to mine - though the solution seems rather complex (and not in the spirit of sdkman): https://stackoverflow.com/questions/55809928/sdkman-is-missing-a-specific-java-version\r\n\r\n\r\nRunning sdkman I get the following differences in output:\r\n```\r\nNew box:\r\n$ sdk list java\r\n================================================================================\r\nAvailable Java Versions\r\n================================================================================\r\n Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n--------------------------------------------------------------------------------\r\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \r\n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \r\n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \r\n================================================================================\r\nUse the Identifier for installation:\r\n\r\n    $ sdk install java 11.0.3.hs-adpt\r\n================================================================================```\r\n\r\n\r\n\r\nOld box:\r\n\r\n$ sdk list java\r\n================================================================================\r\nAvailable Java Versions\r\n================================================================================\r\n Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n--------------------------------------------------------------------------------\r\n AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt      \r\n               |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt      \r\n               |     | 11.0.4.j9    | adpt    |            | 11.0.4.j9-adpt      \r\n               |     | 11.0.4.hs    | adpt    |            | 11.0.4.hs-adpt      \r\n               |     | 8.0.222.j9   | adpt    |            | 8.0.222.j9-adpt     \r\n               |     | 8.0.222.hs   | adpt    |            | 8.0.222.hs-adpt     \r\n Amazon        |     | 11.0.4       | amzn    |            | 11.0.4-amzn         \r\n               |     | 8.0.222      | amzn    |            | 8.0.222-amzn        \r\n Azul Zulu     |     | 12.0.2       | zulu    |            | 12.0.2-zulu         \r\n               |     | 11.0.4       | zulu    |            | 11.0.4-zulu         \r\n               |     | 11.0.1       | zulu    | local only | 11.0.1-zulu         \r\n               |     | 10.0.2       | zulu    |            | 10.0.2-zulu         \r\n               |     | 9.0.7        | zulu    |            | 9.0.7-zulu          \r\n               |     | 8.0.222      | zulu    |            | 8.0.222-zulu        \r\n               |     | 8.0.181      | zulu    | local only | 8.0.181-zulu        \r\n               |     | 7.0.232      | zulu    |            | 7.0.232-zulu        \r\n               | &gt;&gt;&gt; | 7.0.191      | zulu    | local only | 7.0.191-zulu        \r\n               |     | 6.0.119      | zulu    |            | 6.0.119-zulu        \r\n Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx       \r\n               |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx      \r\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \r\n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \r\n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \r\n GraalVM       |     | 19.2.0       | grl     |            | 19.2.0-grl          \r\n               |     | 19.2.0.1     | grl     |            | 19.2.0.1-grl        \r\n               |     | 19.1.1       | grl     |            | 19.1.1-grl          \r\n               |     | 19.0.2       | grl     |            | 19.0.2-grl          \r\n               |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl     \r\n Java.net      |     | 14.ea.14     | open    |            | 14.ea.14-open       \r\n               |     | 13.ea.33     | open    |            | 13.ea.33-open       \r\n               |     | 12.0.2       | open    |            | 12.0.2-open         \r\n               |     | 11.0.2       | open    |            | 11.0.2-open         \r\n               |     | 10.0.2       | open    |            | 10.0.2-open         \r\n               |     | 9.0.4        | open    |            | 9.0.4-open          \r\n SAP           |     | 12.0.2       | sapmchn |            | 12.0.2-sapmchn      \r\n               |     | 11.0.4       | sapmchn |            | 11.0.4-sapmchn      \r\n================================================================================\r\nUse the Identifier for installation:\r\n\r\n    $ sdk install java 11.0.3.hs-adpt\r\n================================================================================\r\n```\r\n\r\n\r\nAny ideas?","title":"How do I list all versions of Java available for install in sdkman?","body":"<p>On a newly installed Ubuntu 18.04 box with sdkman I only get a subset of the java versions available on my other (old) Ubuntu 18.04 box. Both are running SDKMAN 5.7.3+337. What am I missing? </p>\n\n<p>I checked the sdkman docs, but could not find som obvious config option I have missed. Also I found this post, which seems similar to mine - though the solution seems rather complex (and not in the spirit of sdkman): <a href=\"https://stackoverflow.com/questions/55809928/sdkman-is-missing-a-specific-java-version\">sdkman is missing a specific java version</a></p>\n\n<p>Running sdkman I get the following differences in output:</p>\n\n<pre><code>New box:\n$ sdk list java\n================================================================================\nAvailable Java Versions\n================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \n================================================================================\nUse the Identifier for installation:\n\n    $ sdk install java 11.0.3.hs-adpt\n================================================================================```\n\n\n\nOld box:\n\n$ sdk list java\n================================================================================\nAvailable Java Versions\n================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n AdoptOpenJDK  |     | 12.0.1.j9    | adpt    |            | 12.0.1.j9-adpt      \n               |     | 12.0.1.hs    | adpt    |            | 12.0.1.hs-adpt      \n               |     | 11.0.4.j9    | adpt    |            | 11.0.4.j9-adpt      \n               |     | 11.0.4.hs    | adpt    |            | 11.0.4.hs-adpt      \n               |     | 8.0.222.j9   | adpt    |            | 8.0.222.j9-adpt     \n               |     | 8.0.222.hs   | adpt    |            | 8.0.222.hs-adpt     \n Amazon        |     | 11.0.4       | amzn    |            | 11.0.4-amzn         \n               |     | 8.0.222      | amzn    |            | 8.0.222-amzn        \n Azul Zulu     |     | 12.0.2       | zulu    |            | 12.0.2-zulu         \n               |     | 11.0.4       | zulu    |            | 11.0.4-zulu         \n               |     | 11.0.1       | zulu    | local only | 11.0.1-zulu         \n               |     | 10.0.2       | zulu    |            | 10.0.2-zulu         \n               |     | 9.0.7        | zulu    |            | 9.0.7-zulu          \n               |     | 8.0.222      | zulu    |            | 8.0.222-zulu        \n               |     | 8.0.181      | zulu    | local only | 8.0.181-zulu        \n               |     | 7.0.232      | zulu    |            | 7.0.232-zulu        \n               | &gt;&gt;&gt; | 7.0.191      | zulu    | local only | 7.0.191-zulu        \n               |     | 6.0.119      | zulu    |            | 6.0.119-zulu        \n Azul ZuluFX   |     | 11.0.2       | zulufx  |            | 11.0.2-zulufx       \n               |     | 8.0.202      | zulufx  |            | 8.0.202-zulufx      \n BellSoft      |     | 12.0.2       | librca  |            | 12.0.2-librca       \n               |     | 11.0.4       | librca  |            | 11.0.4-librca       \n               |     | 8.0.222      | librca  |            | 8.0.222-librca      \n GraalVM       |     | 19.2.0       | grl     |            | 19.2.0-grl          \n               |     | 19.2.0.1     | grl     |            | 19.2.0.1-grl        \n               |     | 19.1.1       | grl     |            | 19.1.1-grl          \n               |     | 19.0.2       | grl     |            | 19.0.2-grl          \n               |     | 1.0.0        | grl     |            | 1.0.0-rc-16-grl     \n Java.net      |     | 14.ea.14     | open    |            | 14.ea.14-open       \n               |     | 13.ea.33     | open    |            | 13.ea.33-open       \n               |     | 12.0.2       | open    |            | 12.0.2-open         \n               |     | 11.0.2       | open    |            | 11.0.2-open         \n               |     | 10.0.2       | open    |            | 10.0.2-open         \n               |     | 9.0.4        | open    |            | 9.0.4-open          \n SAP           |     | 12.0.2       | sapmchn |            | 12.0.2-sapmchn      \n               |     | 11.0.4       | sapmchn |            | 11.0.4-sapmchn      \n================================================================================\nUse the Identifier for installation:\n\n    $ sdk install java 11.0.3.hs-adpt\n================================================================================\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","git","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1687323044,"post_id":76519900,"comment_id":134918547,"body_markdown":"Is the project already in a git repository&#39;s working directory? You&#39;ve cropped out all of those details.","body":"Is the project already in a git repository&#39;s working directory? You&#39;ve cropped out all of those details."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687323108,"post_id":76519900,"comment_id":134918559,"body_markdown":"According to your screenshot those files are `.gitignore`d.","body":"According to your screenshot those files are <code>.gitignore</code>d."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687323113,"post_id":76519900,"comment_id":134918560,"body_markdown":"yes! it is. It was working before. some settings changed, which I am not aware off.","body":"yes! it is. It was working before. some settings changed, which I am not aware off."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687323176,"post_id":76519900,"comment_id":134918563,"body_markdown":"why there files are gitignored? It should&#39;nt be1 How can I change this settings","body":"why there files are gitignored? It should&#39;nt be1 How can I change this settings"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687323833,"post_id":76519900,"comment_id":134918653,"body_markdown":"[`.gitignore`](https://git-scm.com/docs/gitignore) files are text files that can be edited and by default hidden as they start with `.`.","body":"<a href=\"https://git-scm.com/docs/gitignore\" rel=\"nofollow noreferrer\"><code>.gitignore</code></a> files are text files that can be edited and by default hidden as they start with <code>.</code>."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687324467,"post_id":76519900,"comment_id":134918727,"body_markdown":"how you will tell that the file is `.gitignore`.  How can I add all the files in `git staged` window?","body":"how you will tell that the file is <code>.gitignore</code>.  How can I add all the files in <code>git staged</code> window?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687328438,"post_id":76519900,"comment_id":134919329,"body_markdown":"I linked to the `.gitignore` documentation. `.gitignore`d files cannot be staged for reasons. Please show an uncropped screenshot and all relevant `.gitignore` files (there might be more than one).","body":"I linked to the <code>.gitignore</code> documentation. <code>.gitignore</code>d files cannot be staged for reasons. Please show an uncropped screenshot and all relevant <code>.gitignore</code> files (there might be more than one)."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687383398,"post_id":76519900,"comment_id":134930913,"body_markdown":"@howlger: - I added the new image, the yellow highlighted are the new files which are not being added to staged window.","body":"@howlger: - I added the new image, the yellow highlighted are the new files which are not being added to staged window."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687414201,"post_id":76519900,"comment_id":134933832,"body_markdown":"In the _Package Explorere_ view menu (the three dots) choose _Filters..._ and in the filters dialog uncheck _.* resoureces_ to make the `.gitignore` files visible. Add the content of the `.gitignore` files (there might be more than one) to your question. If you used Git also on the command line, in the _Git Staging_ view hit the refresh button.","body":"In the <i>Package Explorere</i> view menu (the three dots) choose <i>Filters...</i> and in the filters dialog uncheck <i>.* resoureces</i> to make the <code>.gitignore</code> files visible. Add the content of the <code>.gitignore</code> files (there might be more than one) to your question. If you used Git also on the command line, in the <i>Git Staging</i> view hit the refresh button."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687506890,"post_id":76519900,"comment_id":134949353,"body_markdown":"All `.gitignore` files, if any, starting from the root directory of the Git repository up to the directory containing the files matter.","body":"All <code>.gitignore</code> files, if any, starting from the root directory of the Git repository up to the directory containing the files matter."}],"answers":[{"comments":[{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1687324091,"post_id":76520041,"comment_id":134918679,"body_markdown":"I did update the eclipse! It is not valid in my case! I created a new file, still that file does not come up in git -staging.","body":"I did update the eclipse! It is not valid in my case! I created a new file, still that file does not come up in git -staging."}],"tags":[],"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687323086,"creation_date":1687323086,"answer_id":76520041,"question_id":76519900,"body_markdown":"Faced with similar issues in the past here is something is which worked for me.\r\n\r\nSo the first obvious thing you need to look at is .gitignore file which is causing this issue. \r\n\r\nA few months ago I was using Eclipse 2020-12 build and it had this weird issue where uncommitted changes were not visible until and unless I update the project and restart the Eclipse manually.\r\n\r\nI did a little research on the same but found nothing concrete. So the last resort option was to update the Eclipse version to the latest which indeed fixed the issue.\r\n\r\nHope this helps to you as well. ","title":"Eclipse - Git not showing new files in commit/staging","body":"<p>Faced with similar issues in the past here is something is which worked for me.</p>\n<p>So the first obvious thing you need to look at is .gitignore file which is causing this issue.</p>\n<p>A few months ago I was using Eclipse 2020-12 build and it had this weird issue where uncommitted changes were not visible until and unless I update the project and restart the Eclipse manually.</p>\n<p>I did a little research on the same but found nothing concrete. So the last resort option was to update the Eclipse version to the latest which indeed fixed the issue.</p>\n<p>Hope this helps to you as well.</p>\n"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687469763,"creation_date":1687320766,"question_id":76519900,"body_markdown":"I created multiple `java files`  in Eclipse &amp; I notices all new files &amp; even old files amended code are not showing in `git commit` window. I am not sure what is wrong with it.\r\n\r\nThe last action was that I converted this project to `Maven` &amp; reverted back to `Java Swing application` &amp; some settings were change which I am not aware off!\r\n\r\nTIA\r\n\r\nUpdated Image: ---\r\n[![enter image description here][1]][1]\r\n\r\nI used `Eclipse` tool for `Git` setup, including staging &amp; for other every action. I did not use `command line git`.\r\n\r\nContent of `.gitignore` file: -\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QjON4.png\r\n  [2]: https://i.stack.imgur.com/PsO50.png","title":"Eclipse - Git not showing new files in commit/staging","body":"<p>I created multiple <code>java files</code>  in Eclipse &amp; I notices all new files &amp; even old files amended code are not showing in <code>git commit</code> window. I am not sure what is wrong with it.</p>\n<p>The last action was that I converted this project to <code>Maven</code> &amp; reverted back to <code>Java Swing application</code> &amp; some settings were change which I am not aware off!</p>\n<p>TIA</p>\n<p>Updated Image: ---\n<a href=\"https://i.stack.imgur.com/QjON4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjON4.png\" alt=\"enter image description here\" /></a></p>\n<p>I used <code>Eclipse</code> tool for <code>Git</code> setup, including staging &amp; for other every action. I did not use <code>command line git</code>.</p>\n<p>Content of <code>.gitignore</code> file: -</p>\n<p><a href=\"https://i.stack.imgur.com/PsO50.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsO50.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1687332423,"post_id":76520498,"comment_id":134920115,"body_markdown":"Have you restored the default preference values on the relevant Content Assist preference pages?","body":"Have you restored the default preference values on the relevant Content Assist preference pages?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1687333241,"post_id":76520498,"comment_id":134920302,"body_markdown":"Does [one of the comments or the answer here](https://stackoverflow.com/q/76484336/6505250) help?","body":"Does <a href=\"https://stackoverflow.com/q/76484336/6505250\">one of the comments or the answer here</a> help?"},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":0,"creation_date":1687337584,"post_id":76520498,"comment_id":134921327,"body_markdown":"@nitind Yes I did restore defaults in preferences &gt; Java &gt; Editor &gt; Content assist but no luck. Also have imported all the classes again in the code but again no luck","body":"@nitind Yes I did restore defaults in preferences &gt; Java &gt; Editor &gt; Content assist but no luck. Also have imported all the classes again in the code but again no luck"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687340791,"post_id":76520498,"comment_id":134922070,"body_markdown":"[In my case, it was this](https://mastodon.social/@howlger/110462282002158739). In _General &gt; Keys_ select a command, set the focus into the field _Binding_ and hit Ctrl+Space. If Ctrl+Space is not shown, something is hijacking the shortcut so Eclipse and other applications do not get Ctrl+Space.","body":"<a href=\"https://mastodon.social/@howlger/110462282002158739\" rel=\"nofollow noreferrer\">In my case, it was this</a>. In <i>General &gt; Keys</i> select a command, set the focus into the field <i>Binding</i> and hit Ctrl+Space. If Ctrl+Space is not shown, something is hijacking the shortcut so Eclipse and other applications do not get Ctrl+Space."},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":1,"creation_date":1687428828,"post_id":76520498,"comment_id":134936941,"body_markdown":"@nitind Thank you. I did restore defaults in content assist &gt; advanced and it worked. I have done restore defaults in content assist and was checking. It was my bad.","body":"@nitind Thank you. I did restore defaults in content assist &gt; advanced and it worked. I have done restore defaults in content assist and was checking. It was my bad."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687508031,"post_id":76520498,"comment_id":134949582,"body_markdown":"@nitind I&#39;m pretty sure that&#39;s a [duplicate of this question](https://stackoverflow.com/q/76484336/6505250) you answered. Maybe it is related/caused by Mylyn being back in combination with an old workspace (@ Dish: with which Eclipse version did you create the workspace you currently use?). Unfortunately, [the question has been reopened by Selenium without comment](https://stackoverflow.com/posts/76520498/revisions). Could you close it again as I&#39;m not allowed to do and the other question provides more details. The number of views on both questions could indicate that it affects a lot users.","body":"@nitind I&#39;m pretty sure that&#39;s a <a href=\"https://stackoverflow.com/q/76484336/6505250\">duplicate of this question</a> you answered. Maybe it is related/caused by Mylyn being back in combination with an old workspace (@ Dish: with which Eclipse version did you create the workspace you currently use?). Unfortunately, <a href=\"https://stackoverflow.com/posts/76520498/revisions\">the question has been reopened by Selenium without comment</a>. Could you close it again as I&#39;m not allowed to do and the other question provides more details. The number of views on both questions could indicate that it affects a lot users."},{"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"score":0,"creation_date":1688712873,"post_id":76520498,"comment_id":135113290,"body_markdown":"@howlger I use eclipse kepler.  I actually tried to do restore defaults but it was my mistake in performing the action. When I again do the same properly, it worked. I tried to delete this question but as there are comments, I am not able to delete this question or close it. I am sorry.","body":"@howlger I use eclipse kepler.  I actually tried to do restore defaults but it was my mistake in performing the action. When I again do the same properly, it worked. I tried to delete this question but as there are comments, I am not able to delete this question or close it. I am sorry."}],"answers":[{"tags":[],"owner":{"account_id":28863536,"reputation":1,"user_id":22106790,"display_name":"sachin_01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687329319,"creation_date":1687329319,"answer_id":76520567,"question_id":76520498,"body_markdown":"once uninstall the IDE and then **re-install it**.\r\nhttps://www.eclipse.org/downloads/\r\n","title":"Not getting suggestions in eclipse","body":"<p>once uninstall the IDE and then <strong>re-install it</strong>.\n<a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/</a></p>\n"},{"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687333314,"post_id":76520924,"comment_id":134920320,"body_markdown":"This is a duplicate of the first comment and of [this answer](https://stackoverflow.com/a/76487093/6505250)","body":"This is a duplicate of the first comment and of <a href=\"https://stackoverflow.com/a/76487093/6505250\">this answer</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687510107,"post_id":76520924,"comment_id":134949999,"body_markdown":"You have **plagiarized** your answers from the [first comment](https://stackoverflow.com/questions/76520498/not-getting-suggestions-in-eclipse#comment134920115_76520498) and from the [duplicate question](https://stackoverflow.com/q/76484336/6505250). And you [reopened the question](https://stackoverflow.com/posts/76520498/revisions) so you can get votes for your plagiarized answer. Shame on you, as this question here is misleading in contrast to the original one.","body":"You have <b>plagiarized</b> your answers from the <a href=\"https://stackoverflow.com/questions/76520498/not-getting-suggestions-in-eclipse#comment134920115_76520498\">first comment</a> and from the <a href=\"https://stackoverflow.com/q/76484336/6505250\">duplicate question</a>. And you <a href=\"https://stackoverflow.com/posts/76520498/revisions\">reopened the question</a> so you can get votes for your plagiarized answer. Shame on you, as this question here is misleading in contrast to the original one."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1687332376,"creation_date":1687332376,"answer_id":76520924,"question_id":76520498,"body_markdown":"You need to restore back the _Content Assist_ default options from the Eclipse menu following the path:\r\n\r\n_Window_ -&gt; _Preferences_ -&gt; _Java_ -&gt; _Editor_ -&gt; _Content Assist_ -&gt; _Advanced_\r\n\r\nSnapshot:\r\n\r\n![ContentAssist](https://i.stack.imgur.com/kfIxU.png)","title":"Not getting suggestions in eclipse","body":"<p>You need to restore back the <em>Content Assist</em> default options from the Eclipse menu following the path:</p>\n<p><em>Window</em> -&gt; <em>Preferences</em> -&gt; <em>Java</em> -&gt; <em>Editor</em> -&gt; <em>Content Assist</em> -&gt; <em>Advanced</em></p>\n<p>Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/kfIxU.png\" alt=\"ContentAssist\" /></p>\n"},{"tags":[],"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687428971,"creation_date":1687428971,"answer_id":76530852,"question_id":76520498,"body_markdown":"This problem can be fixed via below steps (IT worked for me)\r\n\r\n 1. Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt;\r\n    Advanced\r\n 2. Scroll down till the end of the dialogue box where you can fine\r\n    Restore Defaults button.\r\n 3. Click on Restore Defaults and then check in your code.\r\n\r\nThe suggestions should be coming now.","title":"Not getting suggestions in eclipse","body":"<p>This problem can be fixed via below steps (IT worked for me)</p>\n<ol>\n<li>Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Content Assist &gt;\nAdvanced</li>\n<li>Scroll down till the end of the dialogue box where you can fine\nRestore Defaults button.</li>\n<li>Click on Restore Defaults and then check in your code.</li>\n</ol>\n<p>The suggestions should be coming now.</p>\n"}],"owner":{"account_id":8557915,"reputation":117,"user_id":6412779,"display_name":"Dish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76520924,"answer_count":3,"score":1,"last_activity_date":1687468817,"creation_date":1687328593,"question_id":76520498,"body_markdown":"I am using eclipse IDE for the coding of my automation test using selenium and java. It used to suggest me the methods and arguments when I use ctrl+space after &quot;.&quot; but now it is not giving any suggestions.","title":"Not getting suggestions in eclipse","body":"<p>I am using eclipse IDE for the coding of my automation test using selenium and java. It used to suggest me the methods and arguments when I use ctrl+space after &quot;.&quot; but now it is not giving any suggestions.</p>\n"},{"tags":["java","android","gradle","processing"],"answers":[{"comments":[{"owner":{"account_id":9062843,"reputation":123,"user_id":11009381,"display_name":"Math Machine"},"score":0,"creation_date":1687468834,"post_id":76535661,"comment_id":134945301,"body_markdown":"I made the recommended change. I went into wrapper/gradle-wrapper.properties and edited it from &quot;distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.1-bin.zip&quot; to &quot;distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip&quot;, saved it, then again entered ./gradlew assembleDebug. It still fails, however, giving the first error message about GradleWrapperMain. Also, side question, should I edit my original post to reflect that this right here has been attempted? Thank you","body":"I made the recommended change. I went into wrapper/gradle-wrapper.properties and edited it from &quot;distributionUrl=https\\://services.gradle.org/distributions/&zwnj;&#8203;gradle-7.4.1-bin.zip&zwnj;&#8203;&quot; to &quot;distributionUrl=https\\://services.gradle.org/distributions/&zwnj;&#8203;gradle-7.2-all.zip&quot;, saved it, then again entered ./gradlew assembleDebug. It still fails, however, giving the first error message about GradleWrapperMain. Also, side question, should I edit my original post to reflect that this right here has been attempted? Thank you"}],"tags":[],"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687468025,"creation_date":1687468025,"answer_id":76535661,"question_id":76535490,"body_markdown":"Have you upgraded gradle with the gradle wrapper as suggested by the error message?\r\n\r\n```\r\nIf using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\r\n```\r\n\r\nIn the `wrapper.properties` file, there should be a value for `distributionUrl`. Change the last part of the URL `gradle-7.2-all.zip`:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n```","title":"I&#39;m having difficulty exporting my Processing code into an APK","body":"<p>Have you upgraded gradle with the gradle wrapper as suggested by the error message?</p>\n<pre><code>If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\n</code></pre>\n<p>In the <code>wrapper.properties</code> file, there should be a value for <code>distributionUrl</code>. Change the last part of the URL <code>gradle-7.2-all.zip</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n"}],"owner":{"account_id":9062843,"reputation":123,"user_id":11009381,"display_name":"Math Machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687468025,"creation_date":1687466303,"question_id":76535490,"body_markdown":"So, I&#39;m using the Processing IDE to develop an android app. I&#39;m not publishing it to the play store, I just plan on installing it onto my phone and possibly a friend&#39;s phone if they ask for it. I expect the end result to be some file called `app-debug.apk`.\r\n\r\nI’m running Processing 4.2 on Linux Mint (Ubuntu), using Processing’s Android mode. I have tested this app by plugging my phone into my computer and using USB debugging to run the app on my phone. It works. So I&#39;m pretty sure that faulty code isn&#39;t the culprit, but I could be wrong.\r\n\r\nSo, from Processing, I selected File → Export Android Project. This created a directory in my sketch folder called &quot;android&quot;, which I then entered via the terminal and typed `./gradlew assembleDebug` into the terminal. Then, I got the error message\r\n\r\n```\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\n```\r\n\r\nI&#39;m not super great with gradle, so I looked this up, apparently the most likely cause for this is broken gradle files and gradle wrapper files within this directory. So I tried regenerating them by running `gradle wrapper` from the same directory. And it gave me the error\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/home/chris/sketchbook/Calculator_5_App/android/app/build.gradle&#39; line: 1\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n\r\n&gt;Failed to apply plugin \\[id &#39;com.android.internal.version-check&#39;\\]\r\n    &gt;Minimum supported Gradle version is 7.2. Current version is 4.4.1. If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n```\r\n\r\nSo, to make a long story short, this error message just means I’m expected to be using gradle version 7.2 or higher, even though I only have version 4.4.1 (at least I&#39;m pretty sure that&#39;s what it means). However, no matter how many times I use sudo apt update or sudo apt upgrade (which are commands that tell your system to update all packages that are installed, including gradle), gradle will never upgrade to a version past 4.4.1. So...that’s unfortunate. I read online that you can try manually downloading the newest version of gradle (which is currently 8.1.1) and then do some complicated root user magickery to use that to update it, but it seems very difficult and I’m not even sure if that’d work because I’m not completely sure if it’s the gradle file that’s broken or something else.\r\n\r\nUm, so yeah. I don’t really know what to do here. I’m not sure if it’s broken because it’s Processing for Android and that’s not as well maintained as the main java mode, or if it’s because I’m running it on Linux and the devs mainly focus on the Windows version (which is fair, I’m just glad they have a Linux version at all), or if it’s because I’m just stupid. It’s probably the last one.\r\n\r\nAnyways, if you need any more information, please don’t hesitate to ask. Also, because I’m sure it’ll be helpful, the android folder where I’m typing these commands from contains the files:\r\n\r\n- build.gradle\r\n- gradle.properties\r\n- gradlew\r\n- gradlew.bat\r\n- local.properties\r\n- settings.gradle\r\n\r\nand the folders:\r\n\r\n- app\r\n- wrapper\r\n\r\nThe app folder contains files `build.gradle` and `proguard-rules.pro`, and folders libs and src.\r\nThe wrapper folder contains the single file gradle-wrapper.properties\r\napp/libs contains the files `ComplexNumbers.jar` and `processing-core.jar`\r\napp/src contains the folder main, and there’s a big long directory tree structure from there.\r\n\r\nIf you want more information on said big long directory tree structure, I can give you the output of `ls -R`, which for those unfamiliar with Linux is a command which recursively shows all files, folders, and files and folders within those folders. I&#39;d also be more than happy to provide any other information you may need. Really, any help is appreciated.\r\n\r\nThank you!","title":"I&#39;m having difficulty exporting my Processing code into an APK","body":"<p>So, I'm using the Processing IDE to develop an android app. I'm not publishing it to the play store, I just plan on installing it onto my phone and possibly a friend's phone if they ask for it. I expect the end result to be some file called <code>app-debug.apk</code>.</p>\n<p>I’m running Processing 4.2 on Linux Mint (Ubuntu), using Processing’s Android mode. I have tested this app by plugging my phone into my computer and using USB debugging to run the app on my phone. It works. So I'm pretty sure that faulty code isn't the culprit, but I could be wrong.</p>\n<p>So, from Processing, I selected File → Export Android Project. This created a directory in my sketch folder called &quot;android&quot;, which I then entered via the terminal and typed <code>./gradlew assembleDebug</code> into the terminal. Then, I got the error message</p>\n<pre><code>Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\n</code></pre>\n<p>I'm not super great with gradle, so I looked this up, apparently the most likely cause for this is broken gradle files and gradle wrapper files within this directory. So I tried regenerating them by running <code>gradle wrapper</code> from the same directory. And it gave me the error</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/chris/sketchbook/Calculator_5_App/android/app/build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n\n&gt;Failed to apply plugin \\[id 'com.android.internal.version-check'\\]\n    &gt;Minimum supported Gradle version is 7.2. Current version is 4.4.1. If using the gradle wrapper, try editing the distributionUrl in /home/chris/sketchbook/Calculator_5_App/android/gradle/wrapper/gradle-wrapper.properties to gradle-7.2-all.zip\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n</code></pre>\n<p>So, to make a long story short, this error message just means I’m expected to be using gradle version 7.2 or higher, even though I only have version 4.4.1 (at least I'm pretty sure that's what it means). However, no matter how many times I use sudo apt update or sudo apt upgrade (which are commands that tell your system to update all packages that are installed, including gradle), gradle will never upgrade to a version past 4.4.1. So...that’s unfortunate. I read online that you can try manually downloading the newest version of gradle (which is currently 8.1.1) and then do some complicated root user magickery to use that to update it, but it seems very difficult and I’m not even sure if that’d work because I’m not completely sure if it’s the gradle file that’s broken or something else.</p>\n<p>Um, so yeah. I don’t really know what to do here. I’m not sure if it’s broken because it’s Processing for Android and that’s not as well maintained as the main java mode, or if it’s because I’m running it on Linux and the devs mainly focus on the Windows version (which is fair, I’m just glad they have a Linux version at all), or if it’s because I’m just stupid. It’s probably the last one.</p>\n<p>Anyways, if you need any more information, please don’t hesitate to ask. Also, because I’m sure it’ll be helpful, the android folder where I’m typing these commands from contains the files:</p>\n<ul>\n<li>build.gradle</li>\n<li>gradle.properties</li>\n<li>gradlew</li>\n<li>gradlew.bat</li>\n<li>local.properties</li>\n<li>settings.gradle</li>\n</ul>\n<p>and the folders:</p>\n<ul>\n<li>app</li>\n<li>wrapper</li>\n</ul>\n<p>The app folder contains files <code>build.gradle</code> and <code>proguard-rules.pro</code>, and folders libs and src.\nThe wrapper folder contains the single file gradle-wrapper.properties\napp/libs contains the files <code>ComplexNumbers.jar</code> and <code>processing-core.jar</code>\napp/src contains the folder main, and there’s a big long directory tree structure from there.</p>\n<p>If you want more information on said big long directory tree structure, I can give you the output of <code>ls -R</code>, which for those unfamiliar with Linux is a command which recursively shows all files, folders, and files and folders within those folders. I'd also be more than happy to provide any other information you may need. Really, any help is appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1687474300,"post_id":76535650,"comment_id":134945949,"body_markdown":"Either `Thread.setContextClassLoader` or `ServiceLoader.load(moduleLayer, javax.sql.Driver.class).forEach(d -&gt; {})` may help.","body":"Either <code>Thread.setContextClassLoader</code> or <code>ServiceLoader.load(moduleLayer, javax.sql.Driver.class).forEach(d -&gt; {})</code> may help."}],"owner":{"account_id":17348570,"reputation":79,"user_id":12567548,"display_name":"rheinert.leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687467869,"creation_date":1687467869,"question_id":76535650,"body_markdown":"I am facing a similar situation as [this post](https://stackoverflow.com/questions/50776796/how-to-load-jdk-module-programmatically), which includes a demonstrating example of the problem that occurs when trying to dynamically load a Java 9-modularized jar, which depends on a JDK module that is not loaded by default. Since I cannot phrase it any better, here is an excerpt of the main idea:\r\n\r\n&gt; Suppose we have module `A` that dynamically loads module `B` (using classes `ModuleFinder`, `ModuleLayer`, etc). Last one requires standard module `java.sql` that is not loaded into boot layer with module `A`. How to load required `java.sql` from JDK (or JRE) using java code?\r\n\r\nSpecifically, my plugin (module `B` in the generic scenario) tries to create a connection to a Mysql database. On its own, it work as expected, but when I initially tried to use it in the framework  (module `A` in the generic scenario) , it failed for the same reason as in the linked topic:\r\n\r\n`java.lang.module.FindException: Module java.sql not found, required by app.module.sql`\r\n\r\nIf my understanding is correct, there is no way to load modules from JDK on runtime (unlike third party modules). Therefore, the two option I found are:\r\n\r\n1. Have the framework already depend on `java.sql` so that is will be loaded explicitly\r\n2. Use `--add-modules ALL-SYSTEM`, which I prefer for not failing for other JDK modules in the future. However, I read that this has a drawback of loading too many modules, potentially two modules with the same name causing trouble.\r\n\r\nHowever, this does not solve everything: For some reason, the automatic loading of the mysql database driver hidden behind the `DriverManager.getConnection` method, also does not work. I need to explicitly call `Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)` beforehand.\r\n\r\nSo I wonder, if there is a better way by now (the post is four years old) or if the option two is fine for what it&#39;s worth.","title":"Is there a better way to load JDK modules dynamically than using `--add-modules ALL-SYSTEM`?","body":"<p>I am facing a similar situation as <a href=\"https://stackoverflow.com/questions/50776796/how-to-load-jdk-module-programmatically\">this post</a>, which includes a demonstrating example of the problem that occurs when trying to dynamically load a Java 9-modularized jar, which depends on a JDK module that is not loaded by default. Since I cannot phrase it any better, here is an excerpt of the main idea:</p>\n<blockquote>\n<p>Suppose we have module <code>A</code> that dynamically loads module <code>B</code> (using classes <code>ModuleFinder</code>, <code>ModuleLayer</code>, etc). Last one requires standard module <code>java.sql</code> that is not loaded into boot layer with module <code>A</code>. How to load required <code>java.sql</code> from JDK (or JRE) using java code?</p>\n</blockquote>\n<p>Specifically, my plugin (module <code>B</code> in the generic scenario) tries to create a connection to a Mysql database. On its own, it work as expected, but when I initially tried to use it in the framework  (module <code>A</code> in the generic scenario) , it failed for the same reason as in the linked topic:</p>\n<p><code>java.lang.module.FindException: Module java.sql not found, required by app.module.sql</code></p>\n<p>If my understanding is correct, there is no way to load modules from JDK on runtime (unlike third party modules). Therefore, the two option I found are:</p>\n<ol>\n<li>Have the framework already depend on <code>java.sql</code> so that is will be loaded explicitly</li>\n<li>Use <code>--add-modules ALL-SYSTEM</code>, which I prefer for not failing for other JDK modules in the future. However, I read that this has a drawback of loading too many modules, potentially two modules with the same name causing trouble.</li>\n</ol>\n<p>However, this does not solve everything: For some reason, the automatic loading of the mysql database driver hidden behind the <code>DriverManager.getConnection</code> method, also does not work. I need to explicitly call <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)</code> beforehand.</p>\n<p>So I wonder, if there is a better way by now (the post is four years old) or if the option two is fine for what it's worth.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7808,"page":354,"page_size":100}
