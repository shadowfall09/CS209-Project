{"items":[{"tags":["java","spring-boot","multithreading","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1685449123,"post_id":76363293,"comment_id":134658541,"body_markdown":"Note: `downloadExecutor.shutdownNow()` does not wait for the running task to complete. [All it does is](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow()) (a) remove any pending tasks (you have none), (b) interrupt any running task, and (c) set a flag to refuse any new tasks. **Q:** What will your `task` do when it is interrupted?","body":"Note: <code>downloadExecutor.shutdownNow()</code> does not wait for the running task to complete. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow()\" rel=\"nofollow noreferrer\">All it does is</a> (a) remove any pending tasks (you have none), (b) interrupt any running task, and (c) set a flag to refuse any new tasks. <b>Q:</b> What will your <code>task</code> do when it is interrupted?"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1685450922,"post_id":76363293,"comment_id":134659021,"body_markdown":"Action specific wait times are usually implemented by providing a timeout to the respective I/O operation. For instance, using `socket.setSoTimeout(timeout)` (see [related question](https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations)).","body":"Action specific wait times are usually implemented by providing a timeout to the respective I/O operation. For instance, using <code>socket.setSoTimeout(timeout)</code> (see <a href=\"https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations\">related question</a>)."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685449583,"creation_date":1685449583,"answer_id":76364819,"question_id":76363293,"body_markdown":"Style note:\r\n\r\nI would not duplicate the `messageSentToNextQueue = future.get(...)` call in three places. Nor would I encode the different timeouts in the `startDownloading` function. I would put them in the `downloadInfo` instead. \r\n\r\n``` lang-java\r\nmessageSentToNextQueue = future.get(\r\n    downloadInfo.getTimeoutValue(),\r\n    downloadInfo.getTimeoutUnit()\r\n);\r\n```","title":"Best way to use ExecutorService in case we need to handle timeout for each thread individually","body":"<p>Style note:</p>\n<p>I would not duplicate the <code>messageSentToNextQueue = future.get(...)</code> call in three places. Nor would I encode the different timeouts in the <code>startDownloading</code> function. I would put them in the <code>downloadInfo</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>messageSentToNextQueue = future.get(\n    downloadInfo.getTimeoutValue(),\n    downloadInfo.getTimeoutUnit()\n);\n</code></pre>\n"}],"owner":{"account_id":9238852,"reputation":55,"user_id":6862621,"display_name":"Noman Ellahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685449583,"creation_date":1685437951,"question_id":76363293,"body_markdown":"Below is my my code implementation using ExecutorService \r\n\r\n    \tpublic void startDownloading(DownloadInfo downloadInfo) {\r\n\t\tint messageSentToNextQueue = 0;\r\n\t\tExecutorService downloadExecutor = Executors.newSingleThreadExecutor();\r\n\t\ttry {\r\n\t\t\t\tCallable&lt;Integer&gt; task = () -&gt; {\r\n\t\t\t\t\treturn fileDownloader.downloadFromSourceLink(downloadInfo);\r\n\t\t\t\t};\r\n\t\t\t\tFuture&lt;Integer&gt; future = downloadExecutor.submit(task);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (downloadInfo.getExtension().equals(ScraperConstant.ZIP_EXTENSION)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(11, TimeUnit.HOURS);\r\n\r\n\t\t\t\t\t} else if (downloadInfo.getExtension().equals(ScraperConstant.HTML_EXTENSION)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(10, TimeUnit.MINUTES);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessageSentToNextQueue = future.get(30, TimeUnit.MINUTES);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlog.error(ex);\r\n\t\t\t\t\tdownloadExecutor.shutdownNow();\r\n\t\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(ex);\r\n\r\n\t\t} finally {\r\n\t\t\tif (!downloadExecutor.isShutdown()) {\r\n\t\t\t\tdownloadExecutor.shutdownNow();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nNow I&#39;m creating ExecutorService with SingleThreadExecutor on each method call beacuse in the case of timeOut I can shutdown the service to free all the underlying resources and stop any further processing. \r\n\r\nIf I use ThreadPoolExecutor and intialize it at class level and reuse it, it will definetly a better approach but in that case if time out happen I have to shutdown complete ExecutorService in order to free resources and it will cause other threads while in processing under that ExecutorService to be stop as well and I also have to Initialize ExecutorService after shutdown.\r\n\r\nIf Someone suggest some better approach it would be great.  ","title":"Best way to use ExecutorService in case we need to handle timeout for each thread individually","body":"<p>Below is my my code implementation using ExecutorService</p>\n<pre><code>    public void startDownloading(DownloadInfo downloadInfo) {\n    int messageSentToNextQueue = 0;\n    ExecutorService downloadExecutor = Executors.newSingleThreadExecutor();\n    try {\n            Callable&lt;Integer&gt; task = () -&gt; {\n                return fileDownloader.downloadFromSourceLink(downloadInfo);\n            };\n            Future&lt;Integer&gt; future = downloadExecutor.submit(task);\n            try {\n                if (downloadInfo.getExtension().equals(ScraperConstant.ZIP_EXTENSION)) {\n                        \n                    messageSentToNextQueue = future.get(11, TimeUnit.HOURS);\n\n                } else if (downloadInfo.getExtension().equals(ScraperConstant.HTML_EXTENSION)) {\n                        \n                    messageSentToNextQueue = future.get(10, TimeUnit.MINUTES);\n\n                } else {\n                    messageSentToNextQueue = future.get(30, TimeUnit.MINUTES);\n                }\n            } catch (Exception e) {\n                log.error(ex);\n                downloadExecutor.shutdownNow();\n            }\n    } catch (Exception ex) {\n        log.error(ex);\n\n    } finally {\n        if (!downloadExecutor.isShutdown()) {\n            downloadExecutor.shutdownNow();\n        }\n    }\n}\n</code></pre>\n<p>Now I'm creating ExecutorService with SingleThreadExecutor on each method call beacuse in the case of timeOut I can shutdown the service to free all the underlying resources and stop any further processing.</p>\n<p>If I use ThreadPoolExecutor and intialize it at class level and reuse it, it will definetly a better approach but in that case if time out happen I have to shutdown complete ExecutorService in order to free resources and it will cause other threads while in processing under that ExecutorService to be stop as well and I also have to Initialize ExecutorService after shutdown.</p>\n<p>If Someone suggest some better approach it would be great.</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685444580,"post_id":76363472,"comment_id":134657546,"body_markdown":"I&#39;d suggest using pyarrow or pyhdfs if you&#39;re not actually using Spark functions","body":"I&#39;d suggest using pyarrow or pyhdfs if you&#39;re not actually using Spark functions"},{"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"score":0,"creation_date":1685451849,"post_id":76363472,"comment_id":134659253,"body_markdown":"I also thought about using pyarrow on the driver only, but this would be not directly processed distributed on the hadoop cluster and would take some time to process all files. Distributing pyarrow via Dask on a Hadoop Cluster seems also quit challenging in particular without admin access to the infrastructure","body":"I also thought about using pyarrow on the driver only, but this would be not directly processed distributed on the hadoop cluster and would take some time to process all files. Distributing pyarrow via Dask on a Hadoop Cluster seems also quit challenging in particular without admin access to the infrastructure"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685460058,"post_id":76363472,"comment_id":134661443,"body_markdown":"You can use Oozie shell action to distribute the job via YARN. You could also use `subprocess.call([&#39;hdfs&#39;, &#39;-ls&#39;])`, for example, or use `distcp` for copying","body":"You can use Oozie shell action to distribute the job via YARN. You could also use <code>subprocess.call([&#39;hdfs&#39;, &#39;-ls&#39;])</code>, for example, or use <code>distcp</code> for copying"}],"answers":[{"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685449085,"creation_date":1685442204,"answer_id":76363841,"question_id":76363472,"body_markdown":"For this answer, I&#39;m looking at the Hadoop version that is used in the latest Spark version (`v3.4.0` at the time of this post): [version 3.3.4][1] (commit hash `a585a73c3e0`).\r\n\r\nIf you look at the function signature of [`FileUtil.list`][2]\r\n\r\n```java\r\npublic static String[] list(File dir) throws IOException {\r\n```\r\n\r\nand of [`FileUtil.copy`][3] (there are multiple ones, you&#39;ll have to choose):\r\n\r\n```java\r\npublic static boolean copy(FileSystem srcFS, Path src,\r\n                           FileSystem dstFS, Path dst,\r\n                           boolean deleteSource,\r\n                           Configuration conf) throws IOException {\r\n```\r\n\r\nor\r\n\r\n```java\r\npublic static boolean copy(FileSystem srcFS, Path[] srcs,\r\n                           FileSystem dstFS, Path dst,\r\n                           boolean deleteSource,\r\n                           boolean overwrite, Configuration conf)\r\n                           throws IOException {\r\n```\r\n\r\nor a few others.\r\n\r\nYou can start understanding what is going wrong: you are not supplying the correct input parameters. `FileUtil.list` for example needs one input parameter of type `File` but you are supplying an input parameter of type `String` (`path1` is a String).\r\n\r\nI&#39;m not super familiar with making Java objects inside of Pyspark with the underlying `_jvm` object but try to make a `java.io.File` and give that as input to the `FileUtil.list` function, something like this maybe?\r\n\r\n```python\r\nhadoopFu.list(spark._jvm.java.io.File(path1))\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/87a5442f7ed96b11051d8a9333476d080054e5a0/pom.xml#L122\r\n  [2]: https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1453\r\n  [3]: https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L336-L509","title":"How to access org.apache.hadoop.fs.FileUtil.copy() from Pyspark?","body":"<p>For this answer, I'm looking at the Hadoop version that is used in the latest Spark version (<code>v3.4.0</code> at the time of this post): <a href=\"https://github.com/apache/spark/blob/87a5442f7ed96b11051d8a9333476d080054e5a0/pom.xml#L122\" rel=\"nofollow noreferrer\">version 3.3.4</a> (commit hash <code>a585a73c3e0</code>).</p>\n<p>If you look at the function signature of <a href=\"https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1453\" rel=\"nofollow noreferrer\"><code>FileUtil.list</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] list(File dir) throws IOException {\n</code></pre>\n<p>and of <a href=\"https://github.com/apache/hadoop/blob/a585a73c3e02ac62350c136643a5e7f6095a3dbb/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L336-L509\" rel=\"nofollow noreferrer\"><code>FileUtil.copy</code></a> (there are multiple ones, you'll have to choose):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean copy(FileSystem srcFS, Path src,\n                           FileSystem dstFS, Path dst,\n                           boolean deleteSource,\n                           Configuration conf) throws IOException {\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean copy(FileSystem srcFS, Path[] srcs,\n                           FileSystem dstFS, Path dst,\n                           boolean deleteSource,\n                           boolean overwrite, Configuration conf)\n                           throws IOException {\n</code></pre>\n<p>or a few others.</p>\n<p>You can start understanding what is going wrong: you are not supplying the correct input parameters. <code>FileUtil.list</code> for example needs one input parameter of type <code>File</code> but you are supplying an input parameter of type <code>String</code> (<code>path1</code> is a String).</p>\n<p>I'm not super familiar with making Java objects inside of Pyspark with the underlying <code>_jvm</code> object but try to make a <code>java.io.File</code> and give that as input to the <code>FileUtil.list</code> function, something like this maybe?</p>\n<pre class=\"lang-py prettyprint-override\"><code>hadoopFu.list(spark._jvm.java.io.File(path1))\n</code></pre>\n"}],"owner":{"account_id":15323174,"reputation":1107,"user_id":11055042,"display_name":"Alex Ortner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685449085,"creation_date":1685439270,"question_id":76363472,"body_markdown":"I am trying to do some file operations of hdfs directly within a Pyspark Script. In particular I want to check\r\n\r\n1) does a path or a file exits (`org.apache.hadoop.fs.FileSystem`) --&gt; ok\r\n2) create folders/delete folders (`org.apache.hadoop.fs.FileSystem`) --&gt; ok\r\n3) move files from one path to another (`org.apache.hadoop.fs.FileUtil`)--&gt; FAILS - WHY\r\n\r\nSo my issue is only in the use of the last class\r\nMy Code\r\n\r\n```\r\n# get all the jvm Objects\r\nspark = SparkSession.builder.getOrCreate()\r\n\r\nhadoopPath = spark._jvm.org.apache.hadoop.fs.Path\r\nhadoopConfiguration = spark._jsc.hadoopConfiguration()\r\nhadoopFs   = spark._jvm.org.apache.hadoop.fs.FileSystem.get(hadoopConfiguration)\r\n\r\n# this import does not throw an error so far\r\nhadoopFu   = spark._jvm.org.apache.hadoop.fs.FileUtil\r\n```\r\nthe following functions working like charme\r\n```\r\npath1=&quot;hdfs://mycluster/somefolder&quot;\r\npath2=&quot;hdfs://mycluster/newfolder&quot;\r\n\r\n# check if folder exits and contains parquet files (returns list with or without files)\r\nhadoopFs.globStatus(hadoopPath(path + &quot;/*.parquet&quot;))\r\n\r\n# alternativ check only if path exists (returns true, false)\r\nhadoopFs.exists(hadoopPath(path))\r\n\r\n# create folder on hdfs\r\nhadoopFs.mkdirs(hadoopPath(path2))\r\n\r\n```\r\nBut as soon as I want to access methods from `FileUtil` there are not found. But I do not understand why, they should be part of standard hadoop/spark libraries\r\nhttps://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html \r\nThe following commands are failing\r\n```\r\nhadoopFu.list(path1)\r\n\r\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.list. Trace:\r\npy4j.Py4JException: Method list([class java.lang.String]) does not exist\r\n```\r\nalso \r\n```\r\nhadoopFu.copy(path1,path2)\r\n\r\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.copy. Trace:\r\npy4j.Py4JException: Method copy([class java.lang.String, class java.lang.String]) does not exist\r\n```\r\nWhy are they not found? I don&#39;t understand what I am doing wrong.\r\nImportant, I want to do this within Python/Pyspark wrapper\r\nThanks Alex\r\n","title":"How to access org.apache.hadoop.fs.FileUtil.copy() from Pyspark?","body":"<p>I am trying to do some file operations of hdfs directly within a Pyspark Script. In particular I want to check</p>\n<ol>\n<li>does a path or a file exits (<code>org.apache.hadoop.fs.FileSystem</code>) --&gt; ok</li>\n<li>create folders/delete folders (<code>org.apache.hadoop.fs.FileSystem</code>) --&gt; ok</li>\n<li>move files from one path to another (<code>org.apache.hadoop.fs.FileUtil</code>)--&gt; FAILS - WHY</li>\n</ol>\n<p>So my issue is only in the use of the last class\nMy Code</p>\n<pre><code># get all the jvm Objects\nspark = SparkSession.builder.getOrCreate()\n\nhadoopPath = spark._jvm.org.apache.hadoop.fs.Path\nhadoopConfiguration = spark._jsc.hadoopConfiguration()\nhadoopFs   = spark._jvm.org.apache.hadoop.fs.FileSystem.get(hadoopConfiguration)\n\n# this import does not throw an error so far\nhadoopFu   = spark._jvm.org.apache.hadoop.fs.FileUtil\n</code></pre>\n<p>the following functions working like charme</p>\n<pre><code>path1=&quot;hdfs://mycluster/somefolder&quot;\npath2=&quot;hdfs://mycluster/newfolder&quot;\n\n# check if folder exits and contains parquet files (returns list with or without files)\nhadoopFs.globStatus(hadoopPath(path + &quot;/*.parquet&quot;))\n\n# alternativ check only if path exists (returns true, false)\nhadoopFs.exists(hadoopPath(path))\n\n# create folder on hdfs\nhadoopFs.mkdirs(hadoopPath(path2))\n\n</code></pre>\n<p>But as soon as I want to access methods from <code>FileUtil</code> there are not found. But I do not understand why, they should be part of standard hadoop/spark libraries\n<a href=\"https://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/r3.3.5/api/org/apache/hadoop/fs/FileUtil.html</a>\nThe following commands are failing</p>\n<pre><code>hadoopFu.list(path1)\n\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.list. Trace:\npy4j.Py4JException: Method list([class java.lang.String]) does not exist\n</code></pre>\n<p>also</p>\n<pre><code>hadoopFu.copy(path1,path2)\n\nPy4JError: An error occurred while calling z:org.apache.hadoop.fs.FileUtil.copy. Trace:\npy4j.Py4JException: Method copy([class java.lang.String, class java.lang.String]) does not exist\n</code></pre>\n<p>Why are they not found? I don't understand what I am doing wrong.\nImportant, I want to do this within Python/Pyspark wrapper\nThanks Alex</p>\n"},{"tags":["java","json","mongodb","spring-boot","deserialization"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1685426591,"post_id":76359816,"comment_id":134653814,"body_markdown":"Why did your method `allPreferences()` return `UserPreferences` rather than `List&lt;Preference&gt;`?","body":"Why did your method <code>allPreferences()</code> return <code>UserPreferences</code> rather than <code>List&lt;Preference&gt;</code>?"},{"owner":{"account_id":28698055,"reputation":11,"user_id":21975839,"display_name":"maurice"},"score":0,"creation_date":1685448657,"post_id":76359816,"comment_id":134658417,"body_markdown":"@LHCHIN Hi there, thanks for pointing out my error. Yes, like I commented out before returning a string value, I originally returned a Collection(UserPreferences). I changed it for clarity.","body":"@LHCHIN Hi there, thanks for pointing out my error. Yes, like I commented out before returning a string value, I originally returned a Collection(UserPreferences). I changed it for clarity."}],"owner":{"account_id":28698055,"reputation":11,"user_id":21975839,"display_name":"maurice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685448555,"creation_date":1685387030,"question_id":76359816,"body_markdown":"The following components are part of a Spring Boot 3.0.8 application with Java 17 and Maven.\r\nThe controller makes a request to MongoDB. POST works just fine with the current setup.\r\n\r\nI have been trying to get the data of the list of Preferences for my UserPreferences object:\r\n```\r\n@Document\r\npublic class UserPreferences {\r\n    @Id\r\n    private Long userId;\r\n\r\n    private List&lt;Preference&gt; preferences;\r\n\r\n    public UserPreferences() {\r\n        \r\n    }\r\n\r\n    public UserPreferences(Long id, List&lt;Preference&gt; preferences) {\r\n        this.userId = id;\r\n        this.preferences = preferences;\r\n    }\r\n//getters and setters\r\n```\r\n\r\nThe Preference class, with jackson annotations.\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes.Type;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @Type(value = MoviePreference.class, name = &quot;movie&quot;),\r\n        @Type(value = GenrePreference.class, name = &quot;genre&quot;)\r\n})\r\n\r\npublic abstract class Preference {\r\n\r\n    protected Preference() {\r\n\r\n    }\r\n\r\n}\r\n```\r\nAnd the controller GetMapping request, which as of now doesn&#39;t work:\r\n```\r\n@GetMapping\r\n    Collection&lt;UserPreferences&gt; allPreferences() throws JsonProcessingException {\r\n        PolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\r\n                .allowIfSubType(&quot;com.partytime.userpreferencesservice&quot;)\r\n                .allowIfSubType(&quot;java.util.ArrayList&quot;)\r\n                .build();\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\r\n\r\n        String jsonDataString = mapper.writeValueAsString(repository.findAll());\r\n        UserPreferences deserializedResponse \r\n        = mapper.readValue(jsonDataString, UserPreferences.class);\r\n\r\n        //(Collection&lt;UserPreferences&gt;) repository.findAll();\r\n\r\n        return deserializedResponse;\r\n    }\r\n```\r\n\r\nIt seems like whatever I try, it always returns the following error: \r\n```\r\n2023-05-28T19:41:26.719+02:00 ERROR 21124 --- [nio-8082-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.partytime.userpreferencesservice.models.Preference]] with root cause\r\n```\r\n\r\nI have tried several possible solutions. For example, I exhausted the Jackson Inheritance article written by Baeldung, looked for similar problems here on stackoverflow, but nothing seems to work. It is possible that I&#39;m missing a crucial detail, but maybe somebody can help me fix this.","title":"Having trouble deserializing JSON to POJO with a REST API and MongoDB","body":"<p>The following components are part of a Spring Boot 3.0.8 application with Java 17 and Maven.\nThe controller makes a request to MongoDB. POST works just fine with the current setup.</p>\n<p>I have been trying to get the data of the list of Preferences for my UserPreferences object:</p>\n<pre><code>@Document\npublic class UserPreferences {\n    @Id\n    private Long userId;\n\n    private List&lt;Preference&gt; preferences;\n\n    public UserPreferences() {\n        \n    }\n\n    public UserPreferences(Long id, List&lt;Preference&gt; preferences) {\n        this.userId = id;\n        this.preferences = preferences;\n    }\n//getters and setters\n</code></pre>\n<p>The Preference class, with jackson annotations.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.annotation.JsonSubTypes.Type;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n        @Type(value = MoviePreference.class, name = &quot;movie&quot;),\n        @Type(value = GenrePreference.class, name = &quot;genre&quot;)\n})\n\npublic abstract class Preference {\n\n    protected Preference() {\n\n    }\n\n}\n</code></pre>\n<p>And the controller GetMapping request, which as of now doesn't work:</p>\n<pre><code>@GetMapping\n    Collection&lt;UserPreferences&gt; allPreferences() throws JsonProcessingException {\n        PolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\n                .allowIfSubType(&quot;com.partytime.userpreferencesservice&quot;)\n                .allowIfSubType(&quot;java.util.ArrayList&quot;)\n                .build();\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\n\n        String jsonDataString = mapper.writeValueAsString(repository.findAll());\n        UserPreferences deserializedResponse \n        = mapper.readValue(jsonDataString, UserPreferences.class);\n\n        //(Collection&lt;UserPreferences&gt;) repository.findAll();\n\n        return deserializedResponse;\n    }\n</code></pre>\n<p>It seems like whatever I try, it always returns the following error:</p>\n<pre><code>2023-05-28T19:41:26.719+02:00 ERROR 21124 --- [nio-8082-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.partytime.userpreferencesservice.models.Preference]] with root cause\n</code></pre>\n<p>I have tried several possible solutions. For example, I exhausted the Jackson Inheritance article written by Baeldung, looked for similar problems here on stackoverflow, but nothing seems to work. It is possible that I'm missing a crucial detail, but maybe somebody can help me fix this.</p>\n"},{"tags":["java","spring","mongodb","mongodb-query","aggregation-framework"],"owner":{"account_id":28533711,"reputation":1,"user_id":21840713,"display_name":"Arijit Chakrabarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685448265,"creation_date":1685448265,"question_id":76364620,"body_markdown":"How do I achieve this MongoDB update query in SpringBoot, using mongoTemplate and Aggregation?\r\n\r\n```\r\ndb.getCollection(&quot;dataBank&quot;).updateOne({_id: &quot;12345&quot;}, [\r\n    {\r\n      $set: {\r\n        &quot;indexed&quot;: true,\r\n        &quot;replicated&quot;: true\r\n      }\r\n    }, {\r\n      $set: {\r\n        status: {\r\n          $cond: {\r\n            &#39;if&#39;: {\r\n              $eq: [\r\n                {\r\n                  $and: [\r\n                    &#39;$replicated&#39;,\r\n                    &#39;$indexed&#39;\r\n                  ]\r\n                },\r\n                true\r\n              ]\r\n            },\r\n            &#39;then&#39;: &#39;COMPLETE&#39;,\r\n            &#39;else&#39;: &quot;$status&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ])\r\n```\r\n\r\nOn executing the above query in MongoDB, it updates the the indexed and replicated flags of the document with the given ID, and checks that if there are documents in the collection where both the flags are true, it set&#39;s their status to &quot;COMPLETE&quot;, else it remains as it is, which is &quot;INCOMPLETE&quot;.\r\n\r\nI have a simple entity and repository.\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport javax.persistence.Id;\r\n\r\n@Document(collection = &quot;dataBank&quot;)\r\n@Data\r\npublic class DataBankEntity {\r\n\r\n  @Id private String id;\r\n\r\n  private String status;\r\n\r\n  private String filePath;\r\n\r\n  private String url;\r\n\r\n  private String type;\r\n\r\n  private String taskName;\r\n\r\n  private boolean replicated;\r\n\r\n  private boolean indexed;\r\n}\r\n\r\n```\r\n\r\nAnd my Repository\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository\r\npublic interface DataBankRepository extends MongoRepository&lt;DataBankEntity, String&gt; {\r\n\r\n}\r\n```\r\n","title":"Updating multiple documents in MongoDB based on value of multiple fields in Java SpringBoot","body":"<p>How do I achieve this MongoDB update query in SpringBoot, using mongoTemplate and Aggregation?</p>\n<pre><code>db.getCollection(&quot;dataBank&quot;).updateOne({_id: &quot;12345&quot;}, [\n    {\n      $set: {\n        &quot;indexed&quot;: true,\n        &quot;replicated&quot;: true\n      }\n    }, {\n      $set: {\n        status: {\n          $cond: {\n            'if': {\n              $eq: [\n                {\n                  $and: [\n                    '$replicated',\n                    '$indexed'\n                  ]\n                },\n                true\n              ]\n            },\n            'then': 'COMPLETE',\n            'else': &quot;$status&quot;\n          }\n        }\n      }\n    }\n  ])\n</code></pre>\n<p>On executing the above query in MongoDB, it updates the the indexed and replicated flags of the document with the given ID, and checks that if there are documents in the collection where both the flags are true, it set's their status to &quot;COMPLETE&quot;, else it remains as it is, which is &quot;INCOMPLETE&quot;.</p>\n<p>I have a simple entity and repository.</p>\n<pre><code>package com.example.demo;\n\nimport lombok.Data;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport javax.persistence.Id;\n\n@Document(collection = &quot;dataBank&quot;)\n@Data\npublic class DataBankEntity {\n\n  @Id private String id;\n\n  private String status;\n\n  private String filePath;\n\n  private String url;\n\n  private String type;\n\n  private String taskName;\n\n  private boolean replicated;\n\n  private boolean indexed;\n}\n\n</code></pre>\n<p>And my Repository</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface DataBankRepository extends MongoRepository&lt;DataBankEntity, String&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","datetime","timezone","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685436560,"post_id":76363079,"comment_id":134655814,"body_markdown":"Have a look at [Convert date and time between timezone](https://mkyong.com/java/java-convert-date-and-time-between-timezone/)","body":"Have a look at <a href=\"https://mkyong.com/java/java-convert-date-and-time-between-timezone/\" rel=\"nofollow noreferrer\">Convert date and time between timezone</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685436976,"post_id":76363079,"comment_id":134655922,"body_markdown":"Try `ZonedDateTime zdt = ZonedDateTime.parse(date);ZonedDateTime zdtp = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;));`","body":"Try <code>ZonedDateTime zdt = ZonedDateTime.parse(date);ZonedDateTime zdtp = zdt.withZoneSameInstant(ZoneId.of(&quot;Europe&#47;Paris&quot;));</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685444607,"post_id":76363079,"comment_id":134657554,"body_markdown":"Unless you have very specific reasons, you should not want a `LocalDateTime` for the date and time in Paris time zone. The *local* in the class name means &quot;without time zone or UTC offset&quot;. Prefer a `ZonedDateTime` for a date and time in a specific time zone. You can do everything with it that you could have done with a `LocalDateTime` and more. So just `Instant.parse(date).atZone(ZoneId.of(&quot;Europe/Paris&quot;))` (a little bit simpler than what @g00se showed you, which works too).","body":"Unless you have very specific reasons, you should not want a <code>LocalDateTime</code> for the date and time in Paris time zone. The <i>local</i> in the class name means &quot;without time zone or UTC offset&quot;. Prefer a <code>ZonedDateTime</code> for a date and time in a specific time zone. You can do everything with it that you could have done with a <code>LocalDateTime</code> and more. So just <code>Instant.parse(date).atZone(ZoneId.of(&quot;Europe&#47;Paris&quot;))</code> (a little bit simpler than what @g00se showed you, which works too)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685461964,"post_id":76363079,"comment_id":134661892,"body_markdown":"Related/similar: [How to convert ISO 8601 formatted DateTime to another time zone in Java?](https://stackoverflow.com/questions/50748930/how-to-convert-iso-8601-formatted-datetime-to-another-time-zone-in-java)","body":"Related/similar: <a href=\"https://stackoverflow.com/questions/50748930/how-to-convert-iso-8601-formatted-datetime-to-another-time-zone-in-java\">How to convert ISO 8601 formatted DateTime to another time zone in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685448250,"creation_date":1685437106,"answer_id":76363194,"question_id":76363079,"body_markdown":"Thanks to @Ole V.V. &amp; @g00se \r\n\r\nThere is the why to cast a String to LocalDateTime with the right Zone :\r\n\r\n**Solution 1 :**\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(date);\r\n\r\n        ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\r\n        LocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(paris).toLocalDateTime();\r\n        System.out.println(localDateTime);\r\n\r\n**Solution 2 :**\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n\r\n        ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\r\n        LocalDateTime localDateTime = Instant.parse(date).atZone(paris).toLocalDateTime();\r\n        System.out.println(localDateTime);","title":"Java UTC String to Paris Time","body":"<p>Thanks to @Ole V.V. &amp; @g00se</p>\n<p>There is the why to cast a String to LocalDateTime with the right Zone :</p>\n<p><strong>Solution 1 :</strong></p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n    ZonedDateTime zonedDateTime = ZonedDateTime.parse(date);\n\n    ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\n\n    LocalDateTime localDateTime = zonedDateTime.withZoneSameInstant(paris).toLocalDateTime();\n    System.out.println(localDateTime);\n</code></pre>\n<p><strong>Solution 2 :</strong></p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n\n    ZoneId paris = ZoneId.of(&quot;Europe/Paris&quot;);\n\n    LocalDateTime localDateTime = Instant.parse(date).atZone(paris).toLocalDateTime();\n    System.out.println(localDateTime);\n</code></pre>\n"}],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685448250,"creation_date":1685436325,"question_id":76363079,"body_markdown":"From this time :\r\n\r\n    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n\r\nWhich is in zulu time (UTC). How can I get the `LocalDateTime` in Paris time ? which can be UTC+1 or UTC+2 depending on the offeset if it&#39;s Summer or Winter.\r\n\r\nI tried that but it doses not work :\r\n\r\n        String date = &quot;2023-01-31T23:00:00.000Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).withZone(ZoneOffset.UTC);\r\n        LocalDateTime datetime = LocalDateTime.parse(date, formatter);\r\n        System.out.println(datetime);\r\n        System.out.println(datetime.atZone(ZoneId.of(&quot;Europe/Paris&quot;)));\r\n\r\nThe output :\r\n\r\n    2023-01-31T23:00\r\n    2023-01-31T23:00+01:00[Europe/Paris]","title":"Java UTC String to Paris Time","body":"<p>From this time :</p>\n<pre><code>String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n</code></pre>\n<p>Which is in zulu time (UTC). How can I get the <code>LocalDateTime</code> in Paris time ? which can be UTC+1 or UTC+2 depending on the offeset if it's Summer or Winter.</p>\n<p>I tried that but it doses not work :</p>\n<pre><code>    String date = &quot;2023-01-31T23:00:00.000Z&quot;;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).withZone(ZoneOffset.UTC);\n    LocalDateTime datetime = LocalDateTime.parse(date, formatter);\n    System.out.println(datetime);\n    System.out.println(datetime.atZone(ZoneId.of(&quot;Europe/Paris&quot;)));\n</code></pre>\n<p>The output :</p>\n<pre><code>2023-01-31T23:00\n2023-01-31T23:00+01:00[Europe/Paris]\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","maven-3"],"owner":{"account_id":17116621,"reputation":61,"user_id":12385945,"display_name":"lbndvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685447515,"creation_date":1685445723,"question_id":76364286,"body_markdown":"\r\nI have a mongo script file fruitdata.js for inserting data to the mongo collection.I want to execute this script when we build the java application.\r\n\r\n    // Insert fruits into the &quot;fruit&quot; collection\r\n\r\n    use fruits;\r\n    db.fruit.insertMany([\r\n    { name: &quot;Apple&quot;, color: &quot;Red&quot;},\r\n    { name: \r\n     &quot;Banana&quot;,color:&quot;Yellow&quot; },\r\n    { name: &quot;Orange&quot;, color: \r\n    &quot;Orange&quot; }\r\n    ]);\r\nThe script file can be modified as required. could someone please suggest someways for making this possible. I have tried few solutions nothing is working. Thanks in advance.\r\n\r\n    ","title":"Automatically insert data from a MongoDB script file when the Java application is built","body":"<p>I have a mongo script file fruitdata.js for inserting data to the mongo collection.I want to execute this script when we build the java application.</p>\n<pre><code>// Insert fruits into the &quot;fruit&quot; collection\n\nuse fruits;\ndb.fruit.insertMany([\n{ name: &quot;Apple&quot;, color: &quot;Red&quot;},\n{ name: \n &quot;Banana&quot;,color:&quot;Yellow&quot; },\n{ name: &quot;Orange&quot;, color: \n&quot;Orange&quot; }\n]);\n</code></pre>\n<p>The script file can be modified as required. could someone please suggest someways for making this possible. I have tried few solutions nothing is working. Thanks in advance.</p>\n"},{"tags":["java","spring-batch","jdbctemplate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685004022,"post_id":76330271,"comment_id":134601065,"body_markdown":"your code is missing a &quot;. You do understand that this is already a custom reader, right? Just because you are using existing classes, doesn&#39;t mean the whole is not customized to your needs","body":"your code is missing a &quot;. You do understand that this is already a custom reader, right? Just because you are using existing classes, doesn&#39;t mean the whole is not customized to your needs"},{"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"score":0,"creation_date":1685004359,"post_id":76330271,"comment_id":134601144,"body_markdown":"Hi @Stultuske thanks for pointing out the missing &quot;. I am not very familiar with Spring Batch but what I am trying to do is to supply the var1 and var2 in the query dynamically.","body":"Hi @Stultuske thanks for pointing out the missing &quot;. I am not very familiar with Spring Batch but what I am trying to do is to supply the var1 and var2 in the query dynamically."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685006982,"post_id":76330271,"comment_id":134601711,"body_markdown":"How are these `var1` and `var2` passed to your job from the Resful API? Are they retrieved before the job is launched and passed to the job as parameters? Please share the code of where these variables are taken from to understand the dynamism you have and give you the correct answer. You basically need a step-scoped item reader, and the way to do that depends on your answer to the previous question.","body":"How are these <code>var1</code> and <code>var2</code> passed to your job from the Resful API? Are they retrieved before the job is launched and passed to the job as parameters? Please share the code of where these variables are taken from to understand the dynamism you have and give you the correct answer. You basically need a step-scoped item reader, and the way to do that depends on your answer to the previous question."},{"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"score":0,"creation_date":1685020331,"post_id":76330271,"comment_id":134604802,"body_markdown":"Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question","body":"Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685447487,"post_id":76330271,"comment_id":134658156,"body_markdown":"Thanks for the update. I added an answer with an example.","body":"Thanks for the update. I added an answer with an example."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685447458,"creation_date":1685447458,"answer_id":76364507,"question_id":76330271,"body_markdown":"&gt; Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question\r\n\r\nIn that case, you should make your item reader step-scoped in order to inject job parameters in its configuration dynamically. Here is an example:\r\n\r\n```\r\n @Bean\r\npublic ItemReader&lt;? extends Orders&gt; reader(\r\n                    @Value(&quot;#{jobParameters[&#39;var1&#39;]}&quot;) String var1,\r\n                    @Value(&quot;#{jobParameters[&#39;var2&#39;]}&quot;) String var2) {\r\n\r\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\r\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\r\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\r\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\r\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\r\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\r\n        &quot;where order_status=&quot; + var1 + &quot; and date &lt; &quot; + var2);\r\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\r\n\r\n    try {\r\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    reader.setDataSource(dataSource);\r\n    reader.setPageSize(3);\r\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\r\n    return reader;\r\n}\r\n```\r\n\r\nYou can find more details in the reference documentation here: [Late Binding of Job and Step Attributes](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#late-binding)","title":"Custom Item Reader that uses JdbcPagingItemReader?","body":"<blockquote>\n<p>Hi @MahmoudBenHassine, i want to pass it using job parameters, i added in the question</p>\n</blockquote>\n<p>In that case, you should make your item reader step-scoped in order to inject job parameters in its configuration dynamically. Here is an example:</p>\n<pre><code> @Bean\npublic ItemReader&lt;? extends Orders&gt; reader(\n                    @Value(&quot;#{jobParameters['var1']}&quot;) String var1,\n                    @Value(&quot;#{jobParameters['var2']}&quot;) String var2) {\n\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\n        &quot;where order_status=&quot; + var1 + &quot; and date &lt; &quot; + var2);\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\n\n    try {\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    reader.setDataSource(dataSource);\n    reader.setPageSize(3);\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\n    return reader;\n}\n</code></pre>\n<p>You can find more details in the reference documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#late-binding\" rel=\"nofollow noreferrer\">Late Binding of Job and Step Attributes</a></p>\n"}],"owner":{"account_id":24898352,"reputation":35,"user_id":18769331,"display_name":"Ooze"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364507,"answer_count":1,"score":0,"last_activity_date":1685447458,"creation_date":1685003197,"question_id":76330271,"body_markdown":"I am able to read from my db when this code snippet is in my batchConfig\r\n\r\n   \r\n\r\n     @Bean\r\n    public ItemReader&lt;? extends Orders&gt; reader() {\r\n    \r\n        JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\r\n        final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\r\n        sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\r\n        sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setWhereClause(\r\n            &quot;where order_status=var1 and date &lt; var2&quot;);\r\n        sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\r\n    \r\n        try {\r\n            reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        reader.setDataSource(dataSource);\r\n        reader.setPageSize(3);\r\n        reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\r\n        return reader;\r\n    }\r\n\r\nHowever, I am not able to pass variables to this ItemReader dynamically from my Restful API. From what I read, I should create a custom item reader however I am not sure how to create that leveraging JdbcPagingItemReader.\r\n\r\nWould any of you help me on this one? Thanks!\r\n\r\n\r\n\r\n    public void orderProcess(String var1) {\r\n            taskExecutor.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JobParameters jobParameters = new JobParametersBuilder()\r\n                            .addString(&quot;var1&quot;, var1)\r\n                            .addString(&quot;var&quot;, &quot;sampleValue1&quot;)\r\n                            .addString(&quot;time&quot;,\r\n                                new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;)\r\n                                    .format(Calendar.getInstance().getTime()))\r\n                            .addDate(&quot;date&quot;, new Date()).toJobParameters();\r\n                        jobLauncher.run(job, jobParameters);\r\n                    } catch (Exception e) {\r\n                        LogUtil.logError(LOGGER, &quot;ERROR IN STARTING JOB&quot;, e);\r\n                    }\r\n                }\r\n            });\r\n        }","title":"Custom Item Reader that uses JdbcPagingItemReader?","body":"<p>I am able to read from my db when this code snippet is in my batchConfig</p>\n<pre><code> @Bean\npublic ItemReader&lt;? extends Orders&gt; reader() {\n\n    JdbcPagingItemReader&lt;Orders&gt; reader = new JdbcPagingItemReader&lt;Orders&gt;();\n    final SqlPagingQueryProviderFactoryBean sqlPagingQueryProviderFactoryBean = new SqlPagingQueryProviderFactoryBean();\n    sqlPagingQueryProviderFactoryBean.setDataSource(dataSource);\n    sqlPagingQueryProviderFactoryBean.setSelectClause(&quot;select *&quot;);\n    sqlPagingQueryProviderFactoryBean.setFromClause(&quot;from orders&quot;);\n    sqlPagingQueryProviderFactoryBean.setWhereClause(\n        &quot;where order_status=var1 and date &lt; var2&quot;);\n    sqlPagingQueryProviderFactoryBean.setSortKey(&quot;date&quot;);\n\n    try {\n        reader.setQueryProvider(sqlPagingQueryProviderFactoryBean.getObject());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    reader.setDataSource(dataSource);\n    reader.setPageSize(3);\n    reader.setRowMapper(new BeanPropertyRowMapper&lt;Orders&gt;(Orders.class));\n    return reader;\n}\n</code></pre>\n<p>However, I am not able to pass variables to this ItemReader dynamically from my Restful API. From what I read, I should create a custom item reader however I am not sure how to create that leveraging JdbcPagingItemReader.</p>\n<p>Would any of you help me on this one? Thanks!</p>\n<pre><code>public void orderProcess(String var1) {\n        taskExecutor.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JobParameters jobParameters = new JobParametersBuilder()\n                        .addString(&quot;var1&quot;, var1)\n                        .addString(&quot;var&quot;, &quot;sampleValue1&quot;)\n                        .addString(&quot;time&quot;,\n                            new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.S&quot;)\n                                .format(Calendar.getInstance().getTime()))\n                        .addDate(&quot;date&quot;, new Date()).toJobParameters();\n                    jobLauncher.run(job, jobParameters);\n                } catch (Exception e) {\n                    LogUtil.logError(LOGGER, &quot;ERROR IN STARTING JOB&quot;, e);\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1685442649,"post_id":76363856,"comment_id":134657131,"body_markdown":"Java requires files to be in a directory structure that matches their package name. How would you in your case distinct between `foo.Main` and `bar.Main`?","body":"Java requires files to be in a directory structure that matches their package name. How would you in your case distinct between <code>foo.Main</code> and <code>bar.Main</code>?"},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1685442802,"post_id":76363856,"comment_id":134657156,"body_markdown":"Or maybe put differently: What is your use case, considering that every IDE should be capable of hiding common base packages?","body":"Or maybe put differently: What is your use case, considering that every IDE should be capable of hiding common base packages?"},{"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"score":0,"creation_date":1685442901,"post_id":76363856,"comment_id":134657179,"body_markdown":"@Marvin if I am not mistaken Java only cares about the structure inside the jar. I don&#39;t have a problem (in fact I want them to) for the files to be in their package directories in the final output. I just want them without the deep common folder in the source.","body":"@Marvin if I am not mistaken Java only cares about the structure inside the jar. I don&#39;t have a problem (in fact I want them to) for the files to be in their package directories in the final output. I just want them without the deep common folder in the source."},{"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"score":0,"creation_date":1685443007,"post_id":76363856,"comment_id":134657197,"body_markdown":"@Marvin yes, inside the IDE they are collapsed but many times I have to navigate to these folders from command line. It&#39;s not critical, just personal preference","body":"@Marvin yes, inside the IDE they are collapsed but many times I have to navigate to these folders from command line. It&#39;s not critical, just personal preference"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685633851,"post_id":76363856,"comment_id":134690941,"body_markdown":"The directory structure starting from `src/main/java/&lt;packageName&gt;` defined the package names within the resulting jar file and so in consequence you have to define the directories as the package structure or in other words the directory structure.","body":"The directory structure starting from <code>src&#47;main&#47;java&#47;&lt;packageName&gt;</code> defined the package names within the resulting jar file and so in consequence you have to define the directories as the package structure or in other words the directory structure."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685447110,"creation_date":1685446803,"answer_id":76364424,"question_id":76363856,"body_markdown":"No. Each package must be in a directory of the same name. It is a requirement of the language implementation for both compilation and execution, rather than an issue with Maven. \r\n\r\nWhile the [language specification][1] doesn&#39;t prevent some implementation to work differently I&#39;m not aware of any and it would remain to be seen if it would be compatible with Maven.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.2","title":"Omit base package directory structure in Maven","body":"<p>No. Each package must be in a directory of the same name. It is a requirement of the language implementation for both compilation and execution, rather than an issue with Maven.</p>\n<p>While the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.2\" rel=\"nofollow noreferrer\">language specification</a> doesn't prevent some implementation to work differently I'm not aware of any and it would remain to be seen if it would be compatible with Maven.</p>\n"}],"owner":{"account_id":28709312,"reputation":3,"user_id":21985095,"display_name":"Hagalaz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364424,"answer_count":1,"score":0,"last_activity_date":1685447110,"creation_date":1685442337,"question_id":76363856,"body_markdown":"Is there a way to omit the base package from the directory structure in Maven?\r\n\r\nFor example let&#39;s say we have a project with a base package `org.example.server` with 2 files :\r\n\r\n```\r\nMain.java (package: org.example.server)\r\nOther.java (package: org.example.server.modules)\r\n```\r\n\r\nI want them to have the following locations in my project\r\n\r\n```\r\nsrc/main/java/Main.java\r\nsrc/main/java/modules/Other.java\r\n```\r\n\r\nAnd the final Jar should be identical as if these files were placed according to the standard layout\r\n\r\n```\r\norg/example/server/Main.class\r\norg/example/server/modules/Other.class\r\n```","title":"Omit base package directory structure in Maven","body":"<p>Is there a way to omit the base package from the directory structure in Maven?</p>\n<p>For example let's say we have a project with a base package <code>org.example.server</code> with 2 files :</p>\n<pre><code>Main.java (package: org.example.server)\nOther.java (package: org.example.server.modules)\n</code></pre>\n<p>I want them to have the following locations in my project</p>\n<pre><code>src/main/java/Main.java\nsrc/main/java/modules/Other.java\n</code></pre>\n<p>And the final Jar should be identical as if these files were placed according to the standard layout</p>\n<pre><code>org/example/server/Main.class\norg/example/server/modules/Other.class\n</code></pre>\n"},{"tags":["java","hibernate","lucene","full-text-search","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685446876,"creation_date":1522055347,"answer_id":49487734,"question_id":49487444,"body_markdown":"In Hibernate Search 6+, set the configuration property `hibernate.search.enabled` to `false` for the application you don&#39;t want to use Hibernate Search in.\r\n\r\nIn Hibernate Search 5, set the configuration property `hibernate.search.autoregister_listeners` to `false` for the application you don&#39;t want to use Hibernate Search in.\r\n\r\nSource: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event","title":"Prevent initialization of Hibernate Search in Spring application","body":"<p>In Hibernate Search 6+, set the configuration property <code>hibernate.search.enabled</code> to <code>false</code> for the application you don't want to use Hibernate Search in.</p>\n<p>In Hibernate Search 5, set the configuration property <code>hibernate.search.autoregister_listeners</code> to <code>false</code> for the application you don't want to use Hibernate Search in.</p>\n<p>Source: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-configuration-event</a></p>\n"}],"owner":{"account_id":2168578,"reputation":45,"user_id":1921131,"display_name":"ashutoshagrawal1010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49487734,"answer_count":1,"score":0,"last_activity_date":1685446876,"creation_date":1522054304,"question_id":49487444,"body_markdown":"I have a Model class which is shared between two applications. One of the application needs to support full text search which has been implemented using [hibernate search][1]. The other application does not need this search capability. The problem is that when I startup my spring application the index directories are created automatically. Is there any way I can prevent these index directories from being created in the other application?\r\n\r\n\r\n  [1]: http://hibernate.org/search/","title":"Prevent initialization of Hibernate Search in Spring application","body":"<p>I have a Model class which is shared between two applications. One of the application needs to support full text search which has been implemented using <a href=\"http://hibernate.org/search/\" rel=\"nofollow noreferrer\">hibernate search</a>. The other application does not need this search capability. The problem is that when I startup my spring application the index directories are created automatically. Is there any way I can prevent these index directories from being created in the other application?</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":5232707,"reputation":372,"user_id":4182415,"display_name":"Alexandru Hodis"},"score":0,"creation_date":1487923869,"post_id":42433492,"comment_id":72011806,"body_markdown":"try `File -&gt; Invalidate Caches / Restart`","body":"try <code>File -&gt; Invalidate Caches &#47; Restart</code>"},{"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"score":0,"creation_date":1487924064,"post_id":42433492,"comment_id":72011906,"body_markdown":"I&#39;ve tried Invalidate Caches as you suggested, then rebuilding.  After the rebuild the editor still looks the same.  What&#39;s weird is that it rebuilds fine.","body":"I&#39;ve tried Invalidate Caches as you suggested, then rebuilding.  After the rebuild the editor still looks the same.  What&#39;s weird is that it rebuilds fine."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1487924386,"post_id":42433492,"comment_id":72012029,"body_markdown":"Have you reimported the gradle project in IntelliJ after adding the dependency (i.e. clicked on the reload icon at the top of the gradle tool window)?","body":"Have you reimported the gradle project in IntelliJ after adding the dependency (i.e. clicked on the reload icon at the top of the gradle tool window)?"},{"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"score":1,"creation_date":1487924626,"post_id":42433492,"comment_id":72012130,"body_markdown":"That worked!  Thanks!","body":"That worked!  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1605109338,"creation_date":1515017315,"answer_id":48085880,"question_id":42433492,"body_markdown":"I was able to successfully download json in my gradle dependencies:\r\n\r\n    implementation &#39;org.json:json:20171018&#39;","title":"Gradle build - not able to import org.json","body":"<p>I was able to successfully download json in my gradle dependencies:</p>\n<pre><code>implementation 'org.json:json:20171018'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7328793,"reputation":356,"user_id":5582402,"display_name":"Mohsenne"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553330597,"creation_date":1553277991,"answer_id":55305495,"question_id":42433492,"body_markdown":"As some mentioned, [mvnrepository][1] provides snippet for different Build systems.\r\nAfter you choose your desired version, in the middle of the page, select `Gradle` as build system, copy and paste the snippet in your `build.gradle` file, section `dependencies` in your java project. \r\n\r\n    \r\n    // https://mvnrepository.com/artifact/org.json/json\r\n    compile group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20180813&#39;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json","title":"Gradle build - not able to import org.json","body":"<p>As some mentioned, <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">mvnrepository</a> provides snippet for different Build systems.\nAfter you choose your desired version, in the middle of the page, select <code>Gradle</code> as build system, copy and paste the snippet in your <code>build.gradle</code> file, section <code>dependencies</code> in your java project. </p>\n\n<pre><code>// https://mvnrepository.com/artifact/org.json/json\ncompile group: 'org.json', name: 'json', version: '20180813'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339820,"reputation":1567,"user_id":669518,"accept_rate":0,"display_name":"FrankyHollywood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685446545,"creation_date":1685446545,"answer_id":76364391,"question_id":42433492,"body_markdown":"Make sure your dependency configuration is set correct in your build.gradle, especially important when running plugins like a test framework.\r\n\r\nFor example, I wanted to use JsonObject in a Gatling test. I needed to add the json dependency as follows\r\n\r\n    dependencies {\r\n      gatlingImplementation &#39;org.json:json:20230227&#39;\r\n    }\r\n\r\nTo see the available configurations run\r\n\r\n    gradle -q dependencies","title":"Gradle build - not able to import org.json","body":"<p>Make sure your dependency configuration is set correct in your build.gradle, especially important when running plugins like a test framework.</p>\n<p>For example, I wanted to use JsonObject in a Gatling test. I needed to add the json dependency as follows</p>\n<pre><code>dependencies {\n  gatlingImplementation 'org.json:json:20230227'\n}\n</code></pre>\n<p>To see the available configurations run</p>\n<pre><code>gradle -q dependencies\n</code></pre>\n"}],"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74119,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1685446545,"creation_date":1487923342,"question_id":42433492,"body_markdown":"I have a problem where I’m trying to include `org.json` as a dependency in my gradle/spring boot project.  In my build.gradle I have\r\n\r\n\r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n        compile(&quot;org.json:json:20141113&quot;)\r\n    }\r\n\r\nBut in the editor window it looks like IntelliJ is not able to import org.json - it’s unable to find the package\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat’s weird is that I can run the gradle ‘build’ task without errors in IntelliJ, and I can run\r\n\r\n\r\n    ./gradlew clean build &amp;&amp; java -jar build/libs/MyApp-0.1.0.jar\r\n\r\nand it works fine.\r\n\r\nIs this a ‘fat jar’ problem?  I’m not sure it is because `org.json` is definitely not in my class path on the command line.  Any advice appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AZb5j.png\r\n  [2]: https://i.stack.imgur.com/lhmtY.png","title":"Gradle build - not able to import org.json","body":"<p>I have a problem where I’m trying to include <code>org.json</code> as a dependency in my gradle/spring boot project.  In my build.gradle I have</p>\n\n<pre><code>dependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n    compile(\"org.springframework.boot:spring-boot-starter-security\")\n    compile(\"org.json:json:20141113\")\n}\n</code></pre>\n\n<p>But in the editor window it looks like IntelliJ is not able to import org.json - it’s unable to find the package</p>\n\n<p><a href=\"https://i.stack.imgur.com/AZb5j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AZb5j.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lhmtY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lhmtY.png\" alt=\"enter image description here\"></a></p>\n\n<p>What’s weird is that I can run the gradle ‘build’ task without errors in IntelliJ, and I can run</p>\n\n<pre><code>./gradlew clean build &amp;&amp; java -jar build/libs/MyApp-0.1.0.jar\n</code></pre>\n\n<p>and it works fine.</p>\n\n<p>Is this a ‘fat jar’ problem?  I’m not sure it is because <code>org.json</code> is definitely not in my class path on the command line.  Any advice appreciated.</p>\n"},{"tags":["java","spring","flutter","spring-boot","dart"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1685434828,"post_id":76362866,"comment_id":134655439,"body_markdown":"It would be easiest if you can just remove the millisecond part from the client. If that&#39;s not an option, you can keep a collection of acceptable formats and iterate over it, until one matches.","body":"It would be easiest if you can just remove the millisecond part from the client. If that&#39;s not an option, you can keep a collection of acceptable formats and iterate over it, until one matches."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1685435281,"post_id":76362866,"comment_id":134655534,"body_markdown":"Actually, custom `LocalDateTime` deserializer, using internally [this solution for variable length of second fraction](https://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length/30107522#30107522) is probably the most elegant way.","body":"Actually, custom <code>LocalDateTime</code> deserializer, using internally <a href=\"https://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length/30107522#30107522\">this solution for variable length of second fraction</a> is probably the most elegant way."},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1685435377,"post_id":76362866,"comment_id":134655555,"body_markdown":"Given your DTO tries to parse a String I would apply a substring for the Datetime string in your DTO that excludes the milliseconds so you could then parse it as a LocalDateTime","body":"Given your DTO tries to parse a String I would apply a substring for the Datetime string in your DTO that excludes the milliseconds so you could then parse it as a LocalDateTime"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685439482,"post_id":76362866,"comment_id":134656424,"body_markdown":"Try `@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss[.SSSSSS]&quot;)`","body":"Try <code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss[.SSSSSS]&quot;)</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1685446393,"post_id":76362866,"comment_id":134657939,"body_markdown":"@g00se I tried to use that pattern. However, I still get an error while parsing this date time: 2023-05-31 00:00:00.000&#39;","body":"@g00se I tried to use that pattern. However, I still get an error while parsing this date time: 2023-05-31 00:00:00.000&#39;"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685446479,"creation_date":1685434478,"question_id":76362866,"body_markdown":"I have a client written in Flutter and a server written in Spring Boot. The client sends the `DateTime` object in the format of `yyyy-MM-dd HH:mm:ss.SS`. The milliseconds part can change from &quot;.SS&quot; to &quot;.SSSS&quot;, sometimes to &quot;.SSS&quot;. So there is no stable format for the milliseconds part. The server accepts `LocalDateTime` object. How can I reconcile both sides with one DateTime format? Actually, I want the server accepts all kind of DateTime objects without looking at the milliseconds part because I don&#39;t need the milliseconds part. The accuracy of the DateTime should be up to seconds. What kind of logic should I follow?\r\n\r\nI think the best place to handle the format is in the server side `dtos`. I have found an annotation that accepts the given DateTime parameter. \r\n\r\n``@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)``. However, If the client sends the DateTime in the format of &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; or other than the given format inside the annotation. Java throws the following error.\r\n\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2023-05-30 11:08:32.832509&#39; could not be parsed, unparsed text found at index 23; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2023-05-30 11:08:32.832509&#39; could not be parsed, unparsed text found at index 23&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 320] (through reference chain: com.napsam.wo.dtos.EventCreateRequest[&quot;startingTime&quot;])]\r\n\r\n```\r\n\r\nWhat kind of logic should I follow?\r\n","title":"Dart&#39;s DateTime and Java&#39;s LocalDateTime handshake","body":"<p>I have a client written in Flutter and a server written in Spring Boot. The client sends the <code>DateTime</code> object in the format of <code>yyyy-MM-dd HH:mm:ss.SS</code>. The milliseconds part can change from &quot;.SS&quot; to &quot;.SSSS&quot;, sometimes to &quot;.SSS&quot;. So there is no stable format for the milliseconds part. The server accepts <code>LocalDateTime</code> object. How can I reconcile both sides with one DateTime format? Actually, I want the server accepts all kind of DateTime objects without looking at the milliseconds part because I don't need the milliseconds part. The accuracy of the DateTime should be up to seconds. What kind of logic should I follow?</p>\n<p>I think the best place to handle the format is in the server side <code>dtos</code>. I have found an annotation that accepts the given DateTime parameter.</p>\n<p><code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</code>. However, If the client sends the DateTime in the format of &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; or other than the given format inside the annotation. Java throws the following error.</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-05-30 11:08:32.832509' could not be parsed, unparsed text found at index 23; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2023-05-30 11:08:32.832509&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2023-05-30 11:08:32.832509' could not be parsed, unparsed text found at index 23&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 320] (through reference chain: com.napsam.wo.dtos.EventCreateRequest[&quot;startingTime&quot;])]\n\n</code></pre>\n<p>What kind of logic should I follow?</p>\n"},{"tags":["java","amazon-web-services","hadoop","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":2605791,"reputation":1307,"user_id":2256986,"accept_rate":92,"display_name":"Vitali Melamud"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685445864,"creation_date":1482679925,"answer_id":41322405,"question_id":41322404,"body_markdown":"As s3a is relatively new implementation (and works correctly from hadoop 2.7), you need to set to sets properties in hadoop configuration -\r\n\r\n\t\tconf.set(&quot;fs.s3a.access.key&quot;, access_key);\r\n\t\tconf.set(&quot;fs.s3a.secret.key&quot;, secret_key);\r\n\r\n(conf is hadoop configuration)\r\n\r\n","title":"How to set s3a configuration correctly in hadoop configuration?","body":"<p>As s3a is relatively new implementation (and works correctly from hadoop 2.7), you need to set to sets properties in hadoop configuration -</p>\n<pre><code>    conf.set(&quot;fs.s3a.access.key&quot;, access_key);\n    conf.set(&quot;fs.s3a.secret.key&quot;, secret_key);\n</code></pre>\n<p>(conf is hadoop configuration)</p>\n"}],"owner":{"account_id":2605791,"reputation":1307,"user_id":2256986,"accept_rate":92,"display_name":"Vitali Melamud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41322405,"answer_count":1,"score":2,"last_activity_date":1685445864,"creation_date":1482679925,"question_id":41322404,"body_markdown":"I get strange errors such as - cant&#39;t get aws credentials or Unable to load credentials from ...\r\n\r\nIs there any way to set explicitly the s3a credentials in hadoop configuration?","title":"How to set s3a configuration correctly in hadoop configuration?","body":"<p>I get strange errors such as - cant't get aws credentials or Unable to load credentials from ...</p>\n\n<p>Is there any way to set explicitly the s3a credentials in hadoop configuration?</p>\n"},{"tags":["java","jwt","rsa","auth0","jks"],"comments":[{"owner":{"account_id":15775589,"reputation":5741,"user_id":11383441,"display_name":"Kalana"},"score":0,"creation_date":1685169805,"post_id":76255333,"comment_id":134626888,"body_markdown":"I have done this with Node.JS. I can give you a heads-up on Java. Please refer [this](https://github.com/auth0/java-jwt).","body":"I have done this with Node.JS. I can give you a heads-up on Java. Please refer <a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"score":1,"creation_date":1685445637,"post_id":76255333,"comment_id":134657762,"body_markdown":"@Kalana - thanks.  I did actually resolve this myself and posted in my company&#39;s internal StackOverflow but I will also post the solution below now.","body":"@Kalana - thanks.  I did actually resolve this myself and posted in my company&#39;s internal StackOverflow but I will also post the solution below now."}],"answers":[{"tags":[],"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685445744,"creation_date":1685445744,"answer_id":76364288,"question_id":76255333,"body_markdown":"I came up with the following to be able to use within test cases:\r\n\r\n```java\r\n    public static String generateAndSignTestJwt() throws Exception {\r\n\r\n        String[] productsList = Arrays.asList(&quot;aProduct&quot;, &quot;anotherProduct&quot;)\r\n                .stream()\r\n                .map(Object::toString)\r\n                .toArray(String[]::new);\r\n\r\n        LocalDate localDate = LocalDate.now();\r\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        keyPairGenerator.initialize(2048);\r\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n        Algorithm algorithm = Algorithm.RSA256((\r\n                RSAPublicKey) keyPair.getPublic(), (RSAPrivateKey) keyPair.getPrivate());\r\n        return JWT.create()\r\n                .withExpiresAt(Date.from(LocalDateTime.now().plusSeconds(120).atZone(ZoneId.systemDefault()).toInstant()))\r\n                .withIssuer(&quot;testIssuer1&quot;)\r\n                .withAudience(&quot;testAudience1&quot;)\r\n                .withSubject(&quot;testSubject1&quot;)\r\n                .withIssuedAt(Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()))\r\n                .withJWTId(&quot;testing-token-123&quot;)\r\n                .withArrayClaim(&quot;products&quot;, productsList)\r\n                .sign(algorithm);\r\n    }\r\n```\r\n\r\nThis generates a key pair on the fly to use, which then signs the JWT.  Within my test cases I then use Mockito to pull in the test JWT generation method (`generateAndSignTestJwt()`) when the actual implementation (`generateAndSignJwt()`) is invoked...\r\n\r\n```java\r\n    JWTUtils jwtUtilsMock = mock(JWTUtils.class);\r\n\r\n    when(jwtUtilsMock.generateAndSignJwt(any(), anyString(), anyString(), anyString(), any(), anyInt(), anyString())).thenReturn(generateAndSignTestJwt());\r\n    ...\r\n```\r\n\r\nSo, there is no need for a path to the keys (`keyPath`), and so works perfectly in my unit tests and when running the build in GitLab.","title":"Issue signing JWT using generated keys and JKS","body":"<p>I came up with the following to be able to use within test cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String generateAndSignTestJwt() throws Exception {\n\n        String[] productsList = Arrays.asList(&quot;aProduct&quot;, &quot;anotherProduct&quot;)\n                .stream()\n                .map(Object::toString)\n                .toArray(String[]::new);\n\n        LocalDate localDate = LocalDate.now();\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        keyPairGenerator.initialize(2048);\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n        Algorithm algorithm = Algorithm.RSA256((\n                RSAPublicKey) keyPair.getPublic(), (RSAPrivateKey) keyPair.getPrivate());\n        return JWT.create()\n                .withExpiresAt(Date.from(LocalDateTime.now().plusSeconds(120).atZone(ZoneId.systemDefault()).toInstant()))\n                .withIssuer(&quot;testIssuer1&quot;)\n                .withAudience(&quot;testAudience1&quot;)\n                .withSubject(&quot;testSubject1&quot;)\n                .withIssuedAt(Date.from(LocalDateTime.now().atZone(ZoneId.systemDefault()).toInstant()))\n                .withJWTId(&quot;testing-token-123&quot;)\n                .withArrayClaim(&quot;products&quot;, productsList)\n                .sign(algorithm);\n    }\n</code></pre>\n<p>This generates a key pair on the fly to use, which then signs the JWT.  Within my test cases I then use Mockito to pull in the test JWT generation method (<code>generateAndSignTestJwt()</code>) when the actual implementation (<code>generateAndSignJwt()</code>) is invoked...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    JWTUtils jwtUtilsMock = mock(JWTUtils.class);\n\n    when(jwtUtilsMock.generateAndSignJwt(any(), anyString(), anyString(), anyString(), any(), anyInt(), anyString())).thenReturn(generateAndSignTestJwt());\n    ...\n</code></pre>\n<p>So, there is no need for a path to the keys (<code>keyPath</code>), and so works perfectly in my unit tests and when running the build in GitLab.</p>\n"}],"owner":{"account_id":1332387,"reputation":67,"user_id":1275989,"accept_rate":25,"display_name":"Richard C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76364288,"answer_count":1,"score":1,"last_activity_date":1685445744,"creation_date":1684162542,"question_id":76255333,"body_markdown":"I am looking to implement the accepted answer, which is generating my own RSA key pair to use within the unit tests.  I have written the following method to create the key pair:\r\n\r\n```java\r\n        private void generateKeyPair(String targetDir) throws Exception {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n            PublicKey pub = keyPair.getPublic();\r\n            PrivateKey pvt = keyPair.getPrivate();\r\n    \r\n            String outFile = targetDir + &quot;testKey&quot;;\r\n            OutputStream out = new FileOutputStream(outFile + &quot;.key&quot;);\r\n            out.write(pvt.getEncoded());\r\n            out.close();\r\n    \r\n            out = new FileOutputStream(outFile + &quot;.pub&quot;);\r\n            out.write(pub.getEncoded());\r\n            out.close();\r\n        }\r\n```\r\n\r\nCurrently, I am writing this out to `target` directory within the project.  I am then using the following code to generate JWKS file given the previously generated private key:\r\n\r\n```java\r\n        private void createJwk(String kid, String use, String targetDir) {\r\n            JSONObject json = new JSONObject();\r\n    \r\n            try {\r\n                //byte[] keyBytes = Files.readAllBytes(Paths.get(&quot;./private_key.der&quot;));\r\n                byte[] keyBytes = Files.readAllBytes(Paths.get(targetDir + &quot;testKey.key&quot;));\r\n                PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                PrivateKey privateKey = kf.generatePrivate(spec);\r\n                RSAPrivateCrtKey rsaPrivateKey = (RSAPrivateCrtKey) privateKey;\r\n                BigInteger mod = rsaPrivateKey.getModulus();\r\n                BigInteger pubExp = rsaPrivateKey.getPublicExponent();\r\n                BigInteger prvExp = rsaPrivateKey.getPrivateExponent();\r\n                BigInteger primeP = rsaPrivateKey.getPrimeP();\r\n                BigInteger primeExponentP = rsaPrivateKey.getPrimeExponentP();\r\n                BigInteger primeQ = rsaPrivateKey.getPrimeQ();\r\n                BigInteger primeExponentQ = rsaPrivateKey.getPrimeExponentQ();\r\n                BigInteger crtCoefficient = rsaPrivateKey.getCrtCoefficient();\r\n    \r\n                java.util.Base64.Encoder encoder = java.util.Base64.getUrlEncoder().withoutPadding();\r\n    \r\n                String n = encoder.encodeToString(mod.toByteArray());\r\n                String e = encoder.encodeToString(pubExp.toByteArray());\r\n                String d = encoder.encodeToString(prvExp.toByteArray());\r\n                String p = encoder.encodeToString(primeP.toByteArray());\r\n                String q = encoder.encodeToString(primeQ.toByteArray());\r\n                String dp = encoder.encodeToString(primeExponentP.toByteArray());\r\n                String dq = encoder.encodeToString(primeExponentQ.toByteArray());\r\n                String qi = encoder.encodeToString(crtCoefficient.toByteArray());\r\n    \r\n                json.put(&quot;n&quot;, n);\r\n                json.put(&quot;e&quot;, e);\r\n                json.put(&quot;d&quot;, d);\r\n                json.put(&quot;p&quot;, p);\r\n                json.put(&quot;q&quot;, q);\r\n                json.put(&quot;dp&quot;, dp);\r\n                json.put(&quot;dq&quot;, dq);\r\n                json.put(&quot;qi&quot;, qi);\r\n                json.put(&quot;alg&quot;, &quot;RS256&quot;);\r\n                json.put(&quot;kty&quot;, &quot;RSA&quot;);\r\n                json.put(&quot;kid&quot;, kid);\r\n                json.put(&quot;use&quot;, use);\r\n    \r\n                try (FileWriter file = new FileWriter(targetDir + &quot;jwks.json&quot;)) {\r\n                    file.write(json.toJSONString());\r\n                    file.flush();\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n```\r\n\r\nThe issue I face is when it comes to creating the JWT, and signing it.  I am using Auth0 library for JWT implementation:\r\n\r\n```java\r\n            RSAKeyProvider keyProvider = rsaUtils.getRSAKeyProvider(keyPath); \r\n            Date exp;\r\n            try {\r\n                Algorithm algo = Algorithm.RSA256(keyProvider);\r\n                Calendar c = Calendar.getInstance();\r\n                c.setTime(issuedAt);\r\n                c.add(Calendar.MONTH, ttl);\r\n                exp = c.getTime();\r\n    \r\n                String token = JWT.create()\r\n                        .withIssuer(issuer)\r\n                        .withAudience(audience)\r\n                        .withSubject(subject)\r\n                        .withIssuedAt(issuedAt)\r\n                        .withExpiresAt(exp)\r\n                        .withJWTId(jwtId)\r\n                        .withArrayClaim(&quot;products&quot;, someProducts)\r\n                        .sign(algo);\r\n            ...\r\n            }\r\n```\r\n\r\nIn the above, the value of `keyPath` refers to the `target` dir containing the previously generated keys.  On drilling down into the code, it fails when it comes to trying to retrieve the private key from the JWKS, this happens when calling `sign(algo)` as seen in code above.  The code in question sits in `com.auth0.jwt.algorithms.RSAAlgorithm` class:\r\n\r\n```java\r\n        public byte[] sign(byte[] headerBytes, byte[] payloadBytes) throws SignatureGenerationException {\r\n            try {\r\n                RSAPrivateKey privateKey = (RSAPrivateKey)this.keyProvider.getPrivateKey(); // here it is null \r\n                if (privateKey == null) {\r\n                    throw new IllegalStateException(&quot;The given Private Key is null.&quot;);\r\n                } else {\r\n                    return this.crypto.createSignatureFor(this.getDescription(), privateKey, headerBytes, payloadBytes);\r\n                }\r\n            } catch (SignatureException | InvalidKeyException | IllegalStateException | NoSuchAlgorithmException var4) {\r\n                throw new SignatureGenerationException(this, var4);\r\n            }\r\n        }\r\n```\r\n\r\nKeen to see whether this can be resolved in a programmatical way.  One thing that strikes me is that the generated keys might not be in the correct format.  I have seen references online to keys needing to be in .DER format, not JKS, in order for them to correctly generate a JWKS.json file from them.  If so, how can I amend the original key generation code to make it .DER format in a programmatical way?  Or are there any other suggestions to be able to resolve my issue using the format that the keys were already generated in?\r\n\r\nMany thanks","title":"Issue signing JWT using generated keys and JKS","body":"<p>I am looking to implement the accepted answer, which is generating my own RSA key pair to use within the unit tests.  I have written the following method to create the key pair:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private void generateKeyPair(String targetDir) throws Exception {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\n            PublicKey pub = keyPair.getPublic();\n            PrivateKey pvt = keyPair.getPrivate();\n    \n            String outFile = targetDir + &quot;testKey&quot;;\n            OutputStream out = new FileOutputStream(outFile + &quot;.key&quot;);\n            out.write(pvt.getEncoded());\n            out.close();\n    \n            out = new FileOutputStream(outFile + &quot;.pub&quot;);\n            out.write(pub.getEncoded());\n            out.close();\n        }\n</code></pre>\n<p>Currently, I am writing this out to <code>target</code> directory within the project.  I am then using the following code to generate JWKS file given the previously generated private key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private void createJwk(String kid, String use, String targetDir) {\n            JSONObject json = new JSONObject();\n    \n            try {\n                //byte[] keyBytes = Files.readAllBytes(Paths.get(&quot;./private_key.der&quot;));\n                byte[] keyBytes = Files.readAllBytes(Paths.get(targetDir + &quot;testKey.key&quot;));\n                PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n                PrivateKey privateKey = kf.generatePrivate(spec);\n                RSAPrivateCrtKey rsaPrivateKey = (RSAPrivateCrtKey) privateKey;\n                BigInteger mod = rsaPrivateKey.getModulus();\n                BigInteger pubExp = rsaPrivateKey.getPublicExponent();\n                BigInteger prvExp = rsaPrivateKey.getPrivateExponent();\n                BigInteger primeP = rsaPrivateKey.getPrimeP();\n                BigInteger primeExponentP = rsaPrivateKey.getPrimeExponentP();\n                BigInteger primeQ = rsaPrivateKey.getPrimeQ();\n                BigInteger primeExponentQ = rsaPrivateKey.getPrimeExponentQ();\n                BigInteger crtCoefficient = rsaPrivateKey.getCrtCoefficient();\n    \n                java.util.Base64.Encoder encoder = java.util.Base64.getUrlEncoder().withoutPadding();\n    \n                String n = encoder.encodeToString(mod.toByteArray());\n                String e = encoder.encodeToString(pubExp.toByteArray());\n                String d = encoder.encodeToString(prvExp.toByteArray());\n                String p = encoder.encodeToString(primeP.toByteArray());\n                String q = encoder.encodeToString(primeQ.toByteArray());\n                String dp = encoder.encodeToString(primeExponentP.toByteArray());\n                String dq = encoder.encodeToString(primeExponentQ.toByteArray());\n                String qi = encoder.encodeToString(crtCoefficient.toByteArray());\n    \n                json.put(&quot;n&quot;, n);\n                json.put(&quot;e&quot;, e);\n                json.put(&quot;d&quot;, d);\n                json.put(&quot;p&quot;, p);\n                json.put(&quot;q&quot;, q);\n                json.put(&quot;dp&quot;, dp);\n                json.put(&quot;dq&quot;, dq);\n                json.put(&quot;qi&quot;, qi);\n                json.put(&quot;alg&quot;, &quot;RS256&quot;);\n                json.put(&quot;kty&quot;, &quot;RSA&quot;);\n                json.put(&quot;kid&quot;, kid);\n                json.put(&quot;use&quot;, use);\n    \n                try (FileWriter file = new FileWriter(targetDir + &quot;jwks.json&quot;)) {\n                    file.write(json.toJSONString());\n                    file.flush();\n                } catch (IOException exp) {\n                    exp.printStackTrace();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>The issue I face is when it comes to creating the JWT, and signing it.  I am using Auth0 library for JWT implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            RSAKeyProvider keyProvider = rsaUtils.getRSAKeyProvider(keyPath); \n            Date exp;\n            try {\n                Algorithm algo = Algorithm.RSA256(keyProvider);\n                Calendar c = Calendar.getInstance();\n                c.setTime(issuedAt);\n                c.add(Calendar.MONTH, ttl);\n                exp = c.getTime();\n    \n                String token = JWT.create()\n                        .withIssuer(issuer)\n                        .withAudience(audience)\n                        .withSubject(subject)\n                        .withIssuedAt(issuedAt)\n                        .withExpiresAt(exp)\n                        .withJWTId(jwtId)\n                        .withArrayClaim(&quot;products&quot;, someProducts)\n                        .sign(algo);\n            ...\n            }\n</code></pre>\n<p>In the above, the value of <code>keyPath</code> refers to the <code>target</code> dir containing the previously generated keys.  On drilling down into the code, it fails when it comes to trying to retrieve the private key from the JWKS, this happens when calling <code>sign(algo)</code> as seen in code above.  The code in question sits in <code>com.auth0.jwt.algorithms.RSAAlgorithm</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public byte[] sign(byte[] headerBytes, byte[] payloadBytes) throws SignatureGenerationException {\n            try {\n                RSAPrivateKey privateKey = (RSAPrivateKey)this.keyProvider.getPrivateKey(); // here it is null \n                if (privateKey == null) {\n                    throw new IllegalStateException(&quot;The given Private Key is null.&quot;);\n                } else {\n                    return this.crypto.createSignatureFor(this.getDescription(), privateKey, headerBytes, payloadBytes);\n                }\n            } catch (SignatureException | InvalidKeyException | IllegalStateException | NoSuchAlgorithmException var4) {\n                throw new SignatureGenerationException(this, var4);\n            }\n        }\n</code></pre>\n<p>Keen to see whether this can be resolved in a programmatical way.  One thing that strikes me is that the generated keys might not be in the correct format.  I have seen references online to keys needing to be in .DER format, not JKS, in order for them to correctly generate a JWKS.json file from them.  If so, how can I amend the original key generation code to make it .DER format in a programmatical way?  Or are there any other suggestions to be able to resolve my issue using the format that the keys were already generated in?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","notifications","badge"],"owner":{"account_id":7147234,"reputation":11,"user_id":5462540,"display_name":"Aniz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685445626,"creation_date":1685419247,"question_id":76361537,"body_markdown":"I am sending NotificationCompat.Builder , it shows notification, but it does not update the count in the app icon badge. The badge is displayed without a count. I am using Android SDK 31. Any help would be appreciated.","title":"Unable to update notification badge count in Android","body":"<p>I am sending NotificationCompat.Builder , it shows notification, but it does not update the count in the app icon badge. The badge is displayed without a count. I am using Android SDK 31. Any help would be appreciated.</p>\n"},{"tags":["java","microservices","openapi","spring-cloud-gateway"],"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685445102,"creation_date":1685444416,"question_id":76364127,"body_markdown":"I want to integrate Open api to my gateway so that I can access all the swagger documentation of employee-service through the gateway. I have not used any service discovery \r\n\r\n \r\nIn gateway micro service , I have added\r\n  \r\n\r\n      &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n               &lt;version&gt;2021.0.1&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n               &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\r\n               &lt;version&gt;1.2.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n               &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n               &lt;version&gt;1.2.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI have added the routes of employee service in the application.yaml of gateway service .I am  able to access the api&#39;s of employee service from the gateway. ,\r\n  \r\n\r\n      spring:\r\n              cloud:\r\n                gateway:\r\n                  routes:\r\n                  - id: employee-service\r\n                    uri: http://localhost:8082\r\n                    predicates:\r\n                    - Path=/employee/**\r\n\r\nIn gateway, I have also configured\r\n\r\n    @Autowired\r\n    RouteDefinitionLocator locator;\r\n    \r\n    @Bean\r\n    public List&lt;GroupedOpenApi&gt; apis() {\r\n       List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\r\n       List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\r\n       definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\r\n          String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\r\n          GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).setGroup(name).build();\r\n       });\r\n       return groups;\r\n    }\r\n\r\n But the open api integration is not working. I see many instances of local host running . I have attached the image of the logs in the gateway service .\r\n\r\n[![gateway logs][1]][1]\r\nCan some one tell me how to fix this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hg9Pr.jpg","title":"Open API for spring gateway without service discovery","body":"<p>I want to integrate Open api to my gateway so that I can access all the swagger documentation of employee-service through the gateway. I have not used any service discovery</p>\n<p>In gateway micro service , I have added</p>\n<pre><code>  &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n           &lt;version&gt;2021.0.1&lt;/version&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n           &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\n           &lt;version&gt;1.2.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n           &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n           &lt;version&gt;1.2.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have added the routes of employee service in the application.yaml of gateway service .I am  able to access the api's of employee service from the gateway. ,</p>\n<pre><code>  spring:\n          cloud:\n            gateway:\n              routes:\n              - id: employee-service\n                uri: http://localhost:8082\n                predicates:\n                - Path=/employee/**\n</code></pre>\n<p>In gateway, I have also configured</p>\n<pre><code>@Autowired\nRouteDefinitionLocator locator;\n\n@Bean\npublic List&lt;GroupedOpenApi&gt; apis() {\n   List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\n   List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\n   definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\n      String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\n      GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).setGroup(name).build();\n   });\n   return groups;\n}\n</code></pre>\n<p>But the open api integration is not working. I see many instances of local host running . I have attached the image of the logs in the gateway service .</p>\n<p><a href=\"https://i.stack.imgur.com/hg9Pr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hg9Pr.jpg\" alt=\"gateway logs\" /></a>\nCan some one tell me how to fix this.</p>\n"},{"tags":["java","path","working-directory"],"comments":[{"owner":{"account_id":93700,"reputation":4353,"user_id":256218,"accept_rate":90,"display_name":"Matthew J Morrison"},"score":1,"creation_date":1277931568,"post_id":3153337,"comment_id":23803812,"body_markdown":"take a look at [this article](http://www.roseindia.net/java/java-get-example/get-class-location.shtml).","body":"take a look at <a href=\"http://www.roseindia.net/java/java-get-example/get-class-location.shtml\" rel=\"nofollow noreferrer\">this article</a>."},{"owner":{"account_id":44322,"reputation":3665,"user_id":130033,"accept_rate":60,"display_name":"Mattias Nilsson"},"score":1,"creation_date":1277931664,"post_id":3153337,"comment_id":3241513,"body_markdown":"What if your main class is in a jar file? What sort of result would you want then?","body":"What if your main class is in a jar file? What sort of result would you want then?"},{"owner":{"account_id":806,"reputation":123161,"user_id":1053,"accept_rate":81,"display_name":"Ed S."},"score":1,"creation_date":1277931871,"post_id":3153337,"comment_id":3241546,"body_markdown":"Why would you ever need to do this anyway?","body":"Why would you ever need to do this anyway?"},{"owner":{"display_name":"user177800"},"score":1,"creation_date":1277932841,"post_id":3153337,"comment_id":3241679,"body_markdown":"sounds like what you need is the directory the CSV files are in, and have the .jar file be able to reference that directory, see my answer if that is the case.","body":"sounds like what you need is the directory the CSV files are in, and have the .jar file be able to reference that directory, see my answer if that is the case."},{"owner":{"account_id":217807,"reputation":15134,"user_id":473792,"accept_rate":81,"display_name":"Kevin"},"score":0,"creation_date":1421793313,"post_id":3153337,"comment_id":44494562,"body_markdown":"possible duplicate of [Getting the Current Working Directory in Java](http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java\">Getting the Current Working Directory in Java</a>"},{"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"score":0,"creation_date":1422249112,"post_id":3153337,"comment_id":44661957,"body_markdown":"@Kevin: This was posted roughly a year before the linked post. Unsure if any information has become deprecated, however.","body":"@Kevin: This was posted roughly a year before the linked post. Unsure if any information has become deprecated, however."},{"owner":{"account_id":1252466,"reputation":79539,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1425338997,"post_id":3153337,"comment_id":45914527,"body_markdown":"@MatthewJMorrison, broken.","body":"@MatthewJMorrison, broken."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1277931782,"creation_date":1277931782,"answer_id":3153387,"question_id":3153337,"body_markdown":"Who says your main class is in a file on a local harddisk? Classes are more often bundled inside JAR files, and sometimes loaded over the network or even generated on the fly.\r\n\r\nSo what is it that you actually want to do? There is probably a way to do it that does not make assumptions about where classes come from.","title":"How to get current working directory in Java?","body":"<p>Who says your main class is in a file on a local harddisk? Classes are more often bundled inside JAR files, and sometimes loaded over the network or even generated on the fly.</p>\n\n<p>So what is it that you actually want to do? There is probably a way to do it that does not make assumptions about where classes come from.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1363797467,"creation_date":1277931991,"answer_id":3153413,"question_id":3153337,"body_markdown":"Use [`CodeSource#getLocation()`][1]. This works fine in JAR files as well. You can obtain `CodeSource` by [`ProtectionDomain#getCodeSource()`][2] and the `ProtectionDomain` in turn can be obtained by [`Class#getProtectionDomain()`][3].\r\n\r\n    public class Test {\r\n        public static void main(String... args) throws Exception {\r\n            URL location = Test.class.getProtectionDomain().getCodeSource().getLocation();\r\n            System.out.println(location.getFile());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Update** as per the comment of the OP: \r\n\r\n&gt; *I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.*\r\n\r\nThat would require hardcoding/knowing their relative path in your program. Rather consider adding its path to the classpath so that you can use `ClassLoader#getResource()`\r\n\r\n    File classpathRoot = new File(classLoader.getResource(&quot;&quot;).getPath());\r\n    File[] csvFiles = classpathRoot.listFiles(new FilenameFilter() {\r\n        @Override public boolean accept(File dir, String name) {\r\n            return name.endsWith(&quot;.csv&quot;);\r\n        }\r\n    });\r\n\r\nOr to pass its path as `main()` argument.\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/security/CodeSource.html#getLocation%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource%28%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain%28%29","title":"How to get current working directory in Java?","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/CodeSource.html#getLocation%28%29\" rel=\"noreferrer\"><code>CodeSource#getLocation()</code></a>. This works fine in JAR files as well. You can obtain <code>CodeSource</code> by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource%28%29\" rel=\"noreferrer\"><code>ProtectionDomain#getCodeSource()</code></a> and the <code>ProtectionDomain</code> in turn can be obtained by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain%28%29\" rel=\"noreferrer\"><code>Class#getProtectionDomain()</code></a>.</p>\n\n<pre><code>public class Test {\n    public static void main(String... args) throws Exception {\n        URL location = Test.class.getProtectionDomain().getCodeSource().getLocation();\n        System.out.println(location.getFile());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong> as per the comment of the OP: </p>\n\n<blockquote>\n  <p><em>I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.</em></p>\n</blockquote>\n\n<p>That would require hardcoding/knowing their relative path in your program. Rather consider adding its path to the classpath so that you can use <code>ClassLoader#getResource()</code></p>\n\n<pre><code>File classpathRoot = new File(classLoader.getResource(\"\").getPath());\nFile[] csvFiles = classpathRoot.listFiles(new FilenameFilter() {\n    @Override public boolean accept(File dir, String name) {\n        return name.endsWith(\".csv\");\n    }\n});\n</code></pre>\n\n<p>Or to pass its path as <code>main()</code> argument.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":160,"is_accepted":true,"score":160,"last_activity_date":1277933891,"creation_date":1277932320,"answer_id":3153440,"question_id":3153337,"body_markdown":"One way would be to use the [system property][1] `System.getProperty(&quot;user.dir&quot;);` this will give you &quot;The current working directory when the properties were initialized&quot;. This is probably what you want. to find out where the `java` command was issued, in your case in the directory with the files to process, even though the actual .jar file might reside somewhere else on the machine. Having the directory of the actual .jar file isn&#39;t that useful in most cases.\r\n\r\nThe following will print out the current directory from where the command was invoked regardless where the .class or .jar file the .class file is in.\r\n\r\n    public class Test\r\n    {\r\n        public static void main(final String[] args)\r\n        {\r\n            final String dir = System.getProperty(&quot;user.dir&quot;);\r\n            System.out.println(&quot;current dir = &quot; + dir);\r\n        }\r\n    }  \r\n\r\nif you are in `/User/me/` and your .jar file containing the above code is in `/opt/some/nested/dir/`\r\nthe command `java -jar /opt/some/nested/dir/test.jar Test` will output `current dir = /User/me`.\r\n\r\nYou should also as a bonus look at using a good object oriented command line argument parser.\r\nI highly recommend [JSAP][2], the Java Simple Argument Parser. This would let you use `System.getProperty(&quot;user.dir&quot;)` and alternatively pass in something else to over-ride the behavior. A much more maintainable solution. This would make passing in the directory to process very easy to do, and be able to fall back on `user.dir` if nothing was passed in.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperty%28java.lang.String%29\r\n  [2]: http://martiansoftware.com/jsap/","title":"How to get current working directory in Java?","body":"<p>One way would be to use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#getProperty%28java.lang.String%29\" rel=\"noreferrer\">system property</a> <code>System.getProperty(\"user.dir\");</code> this will give you \"The current working directory when the properties were initialized\". This is probably what you want. to find out where the <code>java</code> command was issued, in your case in the directory with the files to process, even though the actual .jar file might reside somewhere else on the machine. Having the directory of the actual .jar file isn't that useful in most cases.</p>\n\n<p>The following will print out the current directory from where the command was invoked regardless where the .class or .jar file the .class file is in.</p>\n\n<pre><code>public class Test\n{\n    public static void main(final String[] args)\n    {\n        final String dir = System.getProperty(\"user.dir\");\n        System.out.println(\"current dir = \" + dir);\n    }\n}  \n</code></pre>\n\n<p>if you are in <code>/User/me/</code> and your .jar file containing the above code is in <code>/opt/some/nested/dir/</code>\nthe command <code>java -jar /opt/some/nested/dir/test.jar Test</code> will output <code>current dir = /User/me</code>.</p>\n\n<p>You should also as a bonus look at using a good object oriented command line argument parser.\nI highly recommend <a href=\"http://martiansoftware.com/jsap/\" rel=\"noreferrer\">JSAP</a>, the Java Simple Argument Parser. This would let you use <code>System.getProperty(\"user.dir\")</code> and alternatively pass in something else to over-ride the behavior. A much more maintainable solution. This would make passing in the directory to process very easy to do, and be able to fall back on <code>user.dir</code> if nothing was passed in.</p>\n"},{"tags":[],"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1338908279,"creation_date":1338908279,"answer_id":10899693,"question_id":3153337,"body_markdown":"    File currentDirectory = new File(new File(&quot;.&quot;).getAbsolutePath());\r\n    System.out.println(currentDirectory.getCanonicalPath());\r\n    System.out.println(currentDirectory.getAbsolutePath());\r\n\r\nPrints something like:\r\n\r\n    /path/to/current/directory\r\n    /path/to/current/directory/.\r\n\r\nNote that `File.getCanonicalPath()` throws a checked IOException but it will remove things like  `../../../`","title":"How to get current working directory in Java?","body":"<pre><code>File currentDirectory = new File(new File(\".\").getAbsolutePath());\nSystem.out.println(currentDirectory.getCanonicalPath());\nSystem.out.println(currentDirectory.getAbsolutePath());\n</code></pre>\n\n<p>Prints something like:</p>\n\n<pre><code>/path/to/current/directory\n/path/to/current/directory/.\n</code></pre>\n\n<p>Note that <code>File.getCanonicalPath()</code> throws a checked IOException but it will remove things like  <code>../../../</code></p>\n"},{"tags":[],"owner":{"account_id":100576,"reputation":1195,"user_id":271051,"accept_rate":64,"display_name":"Peter De Winter"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1368627113,"creation_date":1368625900,"answer_id":16566931,"question_id":3153337,"body_markdown":"    this.getClass().getClassLoader().getResource(&quot;&quot;).getPath()","title":"How to get current working directory in Java?","body":"<pre><code>this.getClass().getClassLoader().getResource(\"\").getPath()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2886154,"reputation":59,"user_id":2476012,"display_name":"jmamatos"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1375100274,"creation_date":1375100274,"answer_id":17923816,"question_id":3153337,"body_markdown":"If you want the absolute path of the current source code, my suggestion is:\r\n\r\n    String internalPath = this.getClass().getName().replace(&quot;.&quot;, File.separator);\r\n    String externalPath = System.getProperty(&quot;user.dir&quot;)+File.separator+&quot;src&quot;;\r\n    String workDir = externalPath+File.separator+internalPath.substring(0, internalPath.lastIndexOf(File.separator));","title":"How to get current working directory in Java?","body":"<p>If you want the absolute path of the current source code, my suggestion is:</p>\n\n<pre><code>String internalPath = this.getClass().getName().replace(\".\", File.separator);\nString externalPath = System.getProperty(\"user.dir\")+File.separator+\"src\";\nString workDir = externalPath+File.separator+internalPath.substring(0, internalPath.lastIndexOf(File.separator));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4550982,"reputation":79,"user_id":3696181,"display_name":"user3696181"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1430265293,"creation_date":1430265293,"answer_id":29931958,"question_id":3153337,"body_markdown":"I just used:\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n...\r\n    \r\n    Path workingDirectory=Paths.get(&quot;.&quot;).toAbsolutePath();","title":"How to get current working directory in Java?","body":"<p>I just used:</p>\n\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Path workingDirectory=Paths.get(\".\").toAbsolutePath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10128720,"reputation":79,"user_id":7483026,"display_name":"rjrajsaha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518751702,"creation_date":1518751702,"answer_id":48819650,"question_id":3153337,"body_markdown":"If you want to get your current working directory then use the following line\r\n\r\n    System.out.println(new File(&quot;&quot;).getAbsolutePath());\r\n","title":"How to get current working directory in Java?","body":"<p>If you want to get your current working directory then use the following line</p>\n\n<pre><code>System.out.println(new File(\"\").getAbsolutePath());\n</code></pre>\n"}],"owner":{"account_id":156111,"reputation":3623,"user_id":373196,"accept_rate":92,"display_name":"Justian Meyer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386151,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":3153440,"answer_count":8,"score":120,"last_activity_date":1685444714,"creation_date":1277931379,"question_id":3153337,"body_markdown":"Let&#39;s say I have my main class in `C:\\Users\\Justian\\Documents\\`. How can I get my program to show that it&#39;s in `C:\\Users\\Justian\\Documents`?\r\n\r\nHard-Coding is not an option- it needs to be adaptable if it&#39;s moved to another location.\r\n\r\n**I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.**","title":"How to get current working directory in Java?","body":"<p>Let's say I have my main class in <code>C:\\Users\\Justian\\Documents\\</code>. How can I get my program to show that it's in <code>C:\\Users\\Justian\\Documents</code>?</p>\n\n<p>Hard-Coding is not an option- it needs to be adaptable if it's moved to another location.</p>\n\n<p><strong>I want to dump a bunch of CSV files in a folder, have the program recognize all the files, then load the data and manipulate them. I really just want to know how to navigate to that folder.</strong></p>\n"},{"tags":["java","junit","mockito","reflections"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685444282,"creation_date":1685444282,"answer_id":76364115,"question_id":76363803,"body_markdown":"It`s pretty simple to do. You need to call the method which uses your mapper and only then you could mock a behavior of your mock. Test should look like this:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ServiceTest {\r\n        @Mock\r\n        private UtilityServiceDTOMapper&lt;String&gt; serviceDTOMapper;\r\n    \r\n        @InjectMocks\r\n        private Service service;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            ReflectionTestUtils.setField(service, &quot;serviceDTOMapper&quot;, serviceDTOMapper);\r\n        }\r\n    \r\n        @Test\r\n        void testMapper() {\r\n            List&lt;Records&gt; someListOfValues = List.of(new Records(&quot;test&quot;));\r\n    \r\n            // Mock the behavior of the mapper method\r\n            when(serviceDTOMapper.mapper(anyString())).thenReturn(someListOfValues);\r\n    \r\n            // Call the method that uses the mapper\r\n            service.someMethod();\r\n    \r\n           // Do some verify\r\n           \r\n        }\r\n    }","title":"do a mock on Mocked object in Junit5","body":"<p>It`s pretty simple to do. You need to call the method which uses your mapper and only then you could mock a behavior of your mock. Test should look like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n    @Mock\n    private UtilityServiceDTOMapper&lt;String&gt; serviceDTOMapper;\n\n    @InjectMocks\n    private Service service;\n\n    @BeforeEach\n    void setUp() {\n        ReflectionTestUtils.setField(service, &quot;serviceDTOMapper&quot;, serviceDTOMapper);\n    }\n\n    @Test\n    void testMapper() {\n        List&lt;Records&gt; someListOfValues = List.of(new Records(&quot;test&quot;));\n\n        // Mock the behavior of the mapper method\n        when(serviceDTOMapper.mapper(anyString())).thenReturn(someListOfValues);\n\n        // Call the method that uses the mapper\n        service.someMethod();\n\n       // Do some verify\n       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685444298,"creation_date":1685441844,"question_id":76363803,"body_markdown":"I am trying to write a test case in `JUNIT5`.\r\n\r\nI want to do unit test on the below `class` \r\n```\r\nClass Service{\r\n\r\n@Autowired\r\nObjectHolder objectHolder;\r\n\r\n UtilityServiceDTOMapper&lt;T&gt; serviceDTOMapper = objectHolder.getImplementation();\r\n List&lt;Records&gt; recordList = serviceDTOMapper.mapper(&quot;Test&quot;);//Line I want to do unit test\r\n\r\n}\r\n```\r\n\r\nJunit \r\n\r\n```\r\n@Test\r\nvoid test(){\r\nReflectionTestUtils.setField(ObjectHolder, &quot;implementations&quot;, mock(DTOMapper.class)));\r\n}\r\n\r\n//---Now i want to do the unit test for the above line i mentioned.\r\n// I tried like \r\n\r\nwhen(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);\r\n//This is not working , getting an empty list not &#39;someListOfValues&#39;\r\n\r\n```\r\n\r\n* `DTOMapper.class` is of type `UtilityServiceDTOMapper` interface.\r\n* there is a method `mapper` inside `serviceDTOMapper`.\r\n* Now I want to do a mocking on this object `serviceDTOMapper` like below\r\n\r\n```when(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);```\r\n\r\nthe above code is what i tried, but its not working.\r\n\r\n\r\n\r\n\r\n\r\n","title":"do a mock on Mocked object in Junit5","body":"<p>I am trying to write a test case in <code>JUNIT5</code>.</p>\n<p>I want to do unit test on the below <code>class</code></p>\n<pre><code>Class Service{\n\n@Autowired\nObjectHolder objectHolder;\n\n UtilityServiceDTOMapper&lt;T&gt; serviceDTOMapper = objectHolder.getImplementation();\n List&lt;Records&gt; recordList = serviceDTOMapper.mapper(&quot;Test&quot;);//Line I want to do unit test\n\n}\n</code></pre>\n<p>Junit</p>\n<pre><code>@Test\nvoid test(){\nReflectionTestUtils.setField(ObjectHolder, &quot;implementations&quot;, mock(DTOMapper.class)));\n}\n\n//---Now i want to do the unit test for the above line i mentioned.\n// I tried like \n\nwhen(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);\n//This is not working , getting an empty list not 'someListOfValues'\n\n</code></pre>\n<ul>\n<li><code>DTOMapper.class</code> is of type <code>UtilityServiceDTOMapper</code> interface.</li>\n<li>there is a method <code>mapper</code> inside <code>serviceDTOMapper</code>.</li>\n<li>Now I want to do a mocking on this object <code>serviceDTOMapper</code> like below</li>\n</ul>\n<p><code>when(serviceDTOMapper.mapper(any())).thenReturn(someListOfValues);</code></p>\n<p>the above code is what i tried, but its not working.</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685426719,"post_id":76361949,"comment_id":134653830,"body_markdown":"the difference in hours is: 3. Do you see that line in your properties: spring.jpa.properties.hibernate.jdbc.time_zone=+03 ? What do you think that does?","body":"the difference in hours is: 3. Do you see that line in your properties: spring.jpa.properties.hibernate.jdbc.time_zone=+03 ? What do you think that does?"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1685426851,"post_id":76361949,"comment_id":134653844,"body_markdown":"@Stultuske thank you for answer! In fact, it adds the time I entered by 3 hours and saves it in the database. But if I remove +03 then the database will save time 3 less than my current time","body":"@Stultuske thank you for answer! In fact, it adds the time I entered by 3 hours and saves it in the database. But if I remove +03 then the database will save time 3 less than my current time"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685427108,"post_id":76361949,"comment_id":134653875,"body_markdown":"no, it won&#39;t. meaning somewhere you are using a different timezone which differs three hours from the one you want to be using","body":"no, it won&#39;t. meaning somewhere you are using a different timezone which differs three hours from the one you want to be using"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685432644,"post_id":76361949,"comment_id":134654951,"body_markdown":"What is the output of your code snippet?","body":"What is the output of your code snippet?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685435534,"post_id":76361949,"comment_id":134655589,"body_markdown":"Do you understand that `java.util.Date#toString`tells a lie? That method applies your JVM’s current default time zone, while the object’s value is in UTC (an offset of zero).","body":"Do you understand that <code>java.util.Date#toString</code>tells a lie? That method applies your JVM’s current default time zone, while the object’s value is in UTC (an offset of zero)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685435644,"post_id":76361949,"comment_id":134655612,"body_markdown":"You are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terribly flawed date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1685436910,"post_id":76361949,"comment_id":134655902,"body_markdown":"@BasilBourque What should be done now to solve this problem?","body":"@BasilBourque What should be done now to solve this problem?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447953,"post_id":76361949,"comment_id":134658258,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685460366,"post_id":76361949,"comment_id":134661513,"body_markdown":"@Yevgeniy What problem? You have not defined a problem. All you’ve done is mention a database, and shown two lines of code *without* any database-related code. [MCVE](https://stackoverflow.com/help/mcve). And I’m guessing your issue has already been addressed in existing Questions and Answers. But you’ve not bothered to search for those, otherwise you would have learned to avoid the obsolete legacy date-time classes.","body":"@Yevgeniy What problem? You have not defined a problem. All you’ve done is mention a database, and shown two lines of code <i>without</i> any database-related code. <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. And I’m guessing your issue has already been addressed in existing Questions and Answers. But you’ve not bothered to search for those, otherwise you would have learned to avoid the obsolete legacy date-time classes."}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685444276,"creation_date":1685426399,"question_id":76361949,"body_markdown":"I am using postgresql database. The date is entered correctly at +03, but is displayed when requesting a postman or a browser 3 hours less. What to do in such a situation. Checked the settings, everything is fine. Screenshots and code below. Help, thanks!\r\n\r\nDate in database: `2023-01-01 00:00:00.000000`  \r\nOutput: `2022-12-31 21:00:00.000`\r\n\r\n     @PostConstruct\r\n        public void init() {\r\n            TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Moscow&quot;));\r\n            System.out.println(&quot;Date in UTC: &quot; + new Date().toString());\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe data type of the PostgreSQL column is `timestamp`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mtstz.jpg","title":"Wrong date output from database at 3 o&#39;clock","body":"<p>I am using postgresql database. The date is entered correctly at +03, but is displayed when requesting a postman or a browser 3 hours less. What to do in such a situation. Checked the settings, everything is fine. Screenshots and code below. Help, thanks!</p>\n<p>Date in database: <code>2023-01-01 00:00:00.000000</code><br />\nOutput: <code>2022-12-31 21:00:00.000</code></p>\n<pre><code> @PostConstruct\n    public void init() {\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Moscow&quot;));\n        System.out.println(&quot;Date in UTC: &quot; + new Date().toString());\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mtstz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtstz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The data type of the PostgreSQL column is <code>timestamp</code>.</p>\n"},{"tags":["java","android","kotlin","jar"],"owner":{"account_id":24900932,"reputation":3,"user_id":18771614,"display_name":"Karthick G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685444042,"creation_date":1685432046,"question_id":76362523,"body_markdown":"I need to create a jar file from my old project, but i don&#39;t know which path is correct.\r\n\r\nThis is my code for create jar:\r\n\r\n```\r\ntask clearJar(type: Delete) {\r\n    delete &#39;libs/jars/logmanagementlib.jar&#39;\r\n}\r\n\r\ntask makeJar(type: Copy) {\r\n    from(&#39;build/intermediates/app_classes/release&#39;) // app_classes folder is not there\r\n    into(&#39;libs/&#39;)\r\n    include(&#39;classes.jar&#39;)\r\n    rename (&#39;classes.jar&#39;, &#39;logmanagementlib.jar&#39;)\r\n}\r\n\r\nmakeJar.dependsOn(clearJar, build)\r\n```\r\n\r\nThis is my available folders names:\r\n\r\n**\\\\app\\\\build\\\\intermediates**\r\n\r\n[image1](https://i.stack.imgur.com/aI11D.png)\r\n\r\n[image2](https://i.stack.imgur.com/tcqw9.png)","title":"I don&#39;t know From path is correct or not while create jar file","body":"<p>I need to create a jar file from my old project, but i don't know which path is correct.</p>\n<p>This is my code for create jar:</p>\n<pre><code>task clearJar(type: Delete) {\n    delete 'libs/jars/logmanagementlib.jar'\n}\n\ntask makeJar(type: Copy) {\n    from('build/intermediates/app_classes/release') // app_classes folder is not there\n    into('libs/')\n    include('classes.jar')\n    rename ('classes.jar', 'logmanagementlib.jar')\n}\n\nmakeJar.dependsOn(clearJar, build)\n</code></pre>\n<p>This is my available folders names:</p>\n<p><strong>\\app\\build\\intermediates</strong></p>\n<p><a href=\"https://i.stack.imgur.com/aI11D.png\" rel=\"nofollow noreferrer\">image1</a></p>\n<p><a href=\"https://i.stack.imgur.com/tcqw9.png\" rel=\"nofollow noreferrer\">image2</a></p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684962625,"post_id":76327367,"comment_id":134596056,"body_markdown":"@Reilas, your suggested question is `when source is null` and my question is `when target is null`","body":"@Reilas, your suggested question is <code>when source is null</code> and my question is <code>when target is null</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684963018,"post_id":76327367,"comment_id":134596121,"body_markdown":"Try this [question](https://stackoverflow.com/questions/59740439/mapstruct-map-fields-to-target-only-when-targets-fields-are-null).  They&#39;re referring to the `NullValuePropertyMappingStrategy` enum; another value possibly?","body":"Try this <a href=\"https://stackoverflow.com/questions/59740439/mapstruct-map-fields-to-target-only-when-targets-fields-are-null\">question</a>.  They&#39;re referring to the <code>NullValuePropertyMappingStrategy</code> enum; another value possibly?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684963330,"post_id":76327367,"comment_id":134596188,"body_markdown":"@Reilas, from your suggested question: What I am trying to achieve is only `map fields in source into target only when the fields in target are null`. I want to ignore instead.","body":"@Reilas, from your suggested question: What I am trying to achieve is only <code>map fields in source into target only when the fields in target are null</code>. I want to ignore instead."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1684963551,"post_id":76327367,"comment_id":134596206,"body_markdown":"Also `NullValuePropertyMappingStrategy` only control source but not target.","body":"Also <code>NullValuePropertyMappingStrategy</code> only control source but not target."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684964846,"post_id":76327367,"comment_id":134596375,"body_markdown":"Alright, so there is a similar [question](https://github.com/mapstruct/mapstruct/issues/1443) on GitHub, for setting values only when the fields in target are null.","body":"Alright, so there is a similar <a href=\"https://github.com/mapstruct/mapstruct/issues/1443\" rel=\"nofollow noreferrer\">question</a> on GitHub, for setting values only when the fields in target are null."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1685019707,"post_id":76327367,"comment_id":134604606,"body_markdown":"@Reilas, Thanks. so there is no native support from MapStruct and I leave my answer for reference.","body":"@Reilas, Thanks. so there is no native support from MapStruct and I leave my answer for reference."},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1685028795,"post_id":76327367,"comment_id":134607117,"body_markdown":"Which version of used Mapstruct?","body":"Which version of used Mapstruct?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1685035929,"post_id":76327367,"comment_id":134608702,"body_markdown":"@fatih 1.5.5.Final","body":"@fatih 1.5.5.Final"}],"answers":[{"tags":[],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685443970,"creation_date":1685019669,"answer_id":76332562,"question_id":76327367,"body_markdown":"We can use `ignore` and `@AfterMapping`.\r\n\r\n```java\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n    @Mapping(target = &quot;engine&quot;, ignore = &quot;true&quot;)\r\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\r\n\r\n    @AfterMapping\r\n    default void update(CarDto carDto, @MappingTarget Car car) {\r\n        if(car == null || carDto == null) {\r\n            return;\r\n        }\r\n\r\n        if(car.getEngine != null)\r\n            car.setEngine(carDto.getDevice);\r\n            \r\n    }\r\n}\r\n```","title":"Mapstruct - ingore mapping when target is null","body":"<p>We can use <code>ignore</code> and <code>@AfterMapping</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface CarMapper {\n\n    @Mapping(target = &quot;engine&quot;, ignore = &quot;true&quot;)\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\n\n    @AfterMapping\n    default void update(CarDto carDto, @MappingTarget Car car) {\n        if(car == null || carDto == null) {\n            return;\n        }\n\n        if(car.getEngine != null)\n            car.setEngine(carDto.getDevice);\n            \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76332562,"answer_count":1,"score":0,"last_activity_date":1685443970,"creation_date":1684961948,"question_id":76327367,"body_markdown":"Consider the below codes, if `engine` is null, I don&#39;t want to map it. How can I do it?\r\n\r\n```java\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n    @Mapping(target = &quot;engine&quot;, source = &quot;device&quot;)\r\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\r\n}\r\n```","title":"Mapstruct - ingore mapping when target is null","body":"<p>Consider the below codes, if <code>engine</code> is null, I don't want to map it. How can I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface CarMapper {\n\n    @Mapping(target = &quot;engine&quot;, source = &quot;device&quot;)\n    void updateCarFromDto(CarDto carDto, @MappingTarget Car car);\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automated-tests","cucumber"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685443378,"creation_date":1685443378,"answer_id":76363986,"question_id":76360858,"body_markdown":"As I often say, avoid using long Xpath expression every time. If you have an expression like &#39;div/span/div&#39; or &#39;div[1]/span[3]/../div[4]&#39; you are using a bad approach.  \r\n\r\nAlways prefer finding an element:\r\n* `By class: //div[@class=&quot;ClassValue&quot;]`\r\n* `By ID: //span[@id=&quot;TheID&quot;]`\r\n* `By test: //*[contains(text(),&#39;PartiralTextToFind&#39;)]`\r\n\r\nFollow my advice and you will get a more readable code and also more stable code for your problem.","title":"Elements in hamburger menu on amazon.ca are sometimes not located via xpath and causes inconsistencies","body":"<p>As I often say, avoid using long Xpath expression every time. If you have an expression like 'div/span/div' or 'div[1]/span[3]/../div[4]' you are using a bad approach.</p>\n<p>Always prefer finding an element:</p>\n<ul>\n<li><code>By class: //div[@class=&quot;ClassValue&quot;]</code></li>\n<li><code>By ID: //span[@id=&quot;TheID&quot;]</code></li>\n<li><code>By test: //*[contains(text(),'PartiralTextToFind')]</code></li>\n</ul>\n<p>Follow my advice and you will get a more readable code and also more stable code for your problem.</p>\n"}],"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685443378,"creation_date":1685403863,"question_id":76360858,"body_markdown":"I&#39;m trying to create a selenium/cucumber project that does the following:\r\n\r\n1. Go to `amazon.ca`\r\n2. Click on the hamburger menu (top left corner)\r\n3. Select Kindle under Digital Content and Devices\r\n4. Click Kindle under Kindle E-Reader\r\n5. Click Buy Now\r\n6. Verify User is asked for email or mobile number\r\n\r\nThere are 2 issues I&#39;m running into:\r\n\r\nThe amazon homepage is launching without a nav bar and hamburger menu\r\nThe Kindle elements in the hamburger menu sometimes aren&#39;t located properly\r\nHere is the project on GitHub: https://github.com/mahmood-alsaftawi/AmazonSelenium\r\n\r\n\r\n\r\nI believe the second issue may be caused by something dynamically changing in the xpath. I&#39;ve tried selecting the element by xpath, CSS selector, absolute path, text, etc. None seem to work consistently. At one point I got it working a few times in a row but eventually, it will always fail.\r\n\r\nHere&#39;s the snippet of code for that issue:\r\n\r\n    @Then(&quot;click on Kindle under Kindle E-Readers&quot;)\r\n    public void clickOnKindleUnderKindleEReaders() {\r\n        boolean kindleExists = driver.findElements(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).size() &gt; 0;\r\n        if (!kindleExists){\r\n            driver.findElement(By.xpath(&quot;/html/body/div[7]/div[2]/div/ul[4]/li[3]/a&quot;)).click();\r\n        }\r\n        else {\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).click();\r\n        }\r\n        logger.info(&quot;Click on Kindle Options under Kindle E-Readers&quot;);\r\n        logger.info(&quot;Wait for Kindle Page to render&quot;);\r\n    }\r\n\r\nI&#39;m pretty sure the if statement isn&#39;t the best way to go about this. The reason I was trying it was that I was getting 2 different xpaths when I inspected that element.","title":"Elements in hamburger menu on amazon.ca are sometimes not located via xpath and causes inconsistencies","body":"<p>I'm trying to create a selenium/cucumber project that does the following:</p>\n<ol>\n<li>Go to <code>amazon.ca</code></li>\n<li>Click on the hamburger menu (top left corner)</li>\n<li>Select Kindle under Digital Content and Devices</li>\n<li>Click Kindle under Kindle E-Reader</li>\n<li>Click Buy Now</li>\n<li>Verify User is asked for email or mobile number</li>\n</ol>\n<p>There are 2 issues I'm running into:</p>\n<p>The amazon homepage is launching without a nav bar and hamburger menu\nThe Kindle elements in the hamburger menu sometimes aren't located properly\nHere is the project on GitHub: <a href=\"https://github.com/mahmood-alsaftawi/AmazonSelenium\" rel=\"nofollow noreferrer\">https://github.com/mahmood-alsaftawi/AmazonSelenium</a></p>\n<p>I believe the second issue may be caused by something dynamically changing in the xpath. I've tried selecting the element by xpath, CSS selector, absolute path, text, etc. None seem to work consistently. At one point I got it working a few times in a row but eventually, it will always fail.</p>\n<p>Here's the snippet of code for that issue:</p>\n<pre><code>@Then(&quot;click on Kindle under Kindle E-Readers&quot;)\npublic void clickOnKindleUnderKindleEReaders() {\n    boolean kindleExists = driver.findElements(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).size() &gt; 0;\n    if (!kindleExists){\n        driver.findElement(By.xpath(&quot;/html/body/div[7]/div[2]/div/ul[4]/li[3]/a&quot;)).click();\n    }\n    else {\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div[2]/div/ul[5]/li[3]/a&quot;)).click();\n    }\n    logger.info(&quot;Click on Kindle Options under Kindle E-Readers&quot;);\n    logger.info(&quot;Wait for Kindle Page to render&quot;);\n}\n</code></pre>\n<p>I'm pretty sure the if statement isn't the best way to go about this. The reason I was trying it was that I was getting 2 different xpaths when I inspected that element.</p>\n"},{"tags":["java","multithreading","happens-before"],"answers":[{"tags":[],"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685369195,"creation_date":1685369195,"answer_id":76358040,"question_id":76357375,"body_markdown":"i found a way to fix it but i am not sure why it&#39;s behaving like this, still i am checking. check below code and follow my inline comments\r\n\r\n    {\r\n     static int x;\r\n        public static void main(String[] args) {\r\n            Thread t2 = new Thread(()-&gt;{\r\n                while(true) {\r\n                    if(Thread.currentThread().isInterrupted()) {\r\n                        System.out.println(x);\r\n                        break;\r\n                    }\r\n                  System.out.println(&quot;t2 completed&quot;);// if you add sop here then it&#39;s working as expected\r\n                }\r\n            },&quot;t2&quot;);\r\n            t2.start();\r\n            new Thread(()-&gt;{\r\n                sleep(1);\r\n                x = 10;\r\n                t2.interrupt();\r\n            },&quot;t1&quot;).start();\r\n            while(!t2.isInterrupted()) {\r\n                Thread.yield();\r\n            }\r\n            System.out.println(x);\r\n        }\r\n\r\ni am thinking thread t2 is not returning form the while loop as i called out still checking reason behind this\r\nThanks","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<p>i found a way to fix it but i am not sure why it's behaving like this, still i am checking. check below code and follow my inline comments</p>\n<pre><code>{\n static int x;\n    public static void main(String[] args) {\n        Thread t2 = new Thread(()-&gt;{\n            while(true) {\n                if(Thread.currentThread().isInterrupted()) {\n                    System.out.println(x);\n                    break;\n                }\n              System.out.println(&quot;t2 completed&quot;);// if you add sop here then it's working as expected\n            }\n        },&quot;t2&quot;);\n        t2.start();\n        new Thread(()-&gt;{\n            sleep(1);\n            x = 10;\n            t2.interrupt();\n        },&quot;t1&quot;).start();\n        while(!t2.isInterrupted()) {\n            Thread.yield();\n        }\n        System.out.println(x);\n    }\n</code></pre>\n<p>i am thinking thread t2 is not returning form the while loop as i called out still checking reason behind this\nThanks</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685432559,"creation_date":1685370323,"answer_id":76358151,"question_id":76357375,"body_markdown":"&lt;h2&gt;Live-Lock is the problem here and not Dead-Lock&lt;/h2&gt;\r\n\r\nYou don&#39;t have a **dead-lock**. You do have a **live-lock**. this means that the threads are not technically blocked, however they are caught in a condition, which blocks them making progress.\r\n\r\n&lt;h3&gt;Why you have a live-lock:&lt;/h3&gt;\r\n\r\nThe main thread you have goes into a loop to continually check out if Thread `t2` has been interrupted or not. The interruption call to Thread `t2` doesn&#39;t change Thread `t2` current status of interruption. This is because Thread `t2` is still running in the infinite loop and didn&#39;t reach the code where the status of interruption is checked.\r\n\r\nThe check of the main threads check of `t2.isInterrupted()` happens before Thread `t2` processes its interruption status. That is the reason for the infinite loop.\r\n\r\n&lt;h3&gt;Quick Fix:&lt;/h3&gt;\r\n\r\nJust replace the `t2.isInterrupted()` method in your main thread with the `t2.join()` method. This will make the main Thread wait for Thread `t2` to finish before going on.\r\n\r\n**Please check out following documentation:**\r\n[Java Thread Deadlock and Livelock][1]\r\n\r\nHere you have a code example with the `join()-method`:\r\n\r\n**Code Example:**\r\n    \r\n    // Variables\r\n    public static int x;\r\n    \r\n    // Main Method\r\n    public static void main(String[] args) {\r\n      Thread t2 = new Thread(() -&gt; {\r\n        while (true) {\r\n          if (Thread.currentThread().isInterrupted()) {\r\n            System.out.println(x);\r\n            break;\r\n          }\r\n        }\r\n      }, &quot;t2&quot;);\r\n      t2.start();\r\n      new Thread(() -&gt; {\r\n        sleep(1);\r\n        x = 10;\r\n        t2.interrupt();\r\n      }, &quot;t1&quot;).start();\r\n      try {\r\n        // Join method on Thread t2 to avoid live-lock\r\n        t2.join();\r\n      } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n      }\r\n      System.out.println(x);\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-deadlock-livelock","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<h2>Live-Lock is the problem here and not Dead-Lock</h2>\n<p>You don't have a <strong>dead-lock</strong>. You do have a <strong>live-lock</strong>. this means that the threads are not technically blocked, however they are caught in a condition, which blocks them making progress.</p>\n<h3>Why you have a live-lock:</h3>\n<p>The main thread you have goes into a loop to continually check out if Thread <code>t2</code> has been interrupted or not. The interruption call to Thread <code>t2</code> doesn't change Thread <code>t2</code> current status of interruption. This is because Thread <code>t2</code> is still running in the infinite loop and didn't reach the code where the status of interruption is checked.</p>\n<p>The check of the main threads check of <code>t2.isInterrupted()</code> happens before Thread <code>t2</code> processes its interruption status. That is the reason for the infinite loop.</p>\n<h3>Quick Fix:</h3>\n<p>Just replace the <code>t2.isInterrupted()</code> method in your main thread with the <code>t2.join()</code> method. This will make the main Thread wait for Thread <code>t2</code> to finish before going on.</p>\n<p><strong>Please check out following documentation:</strong>\n<a href=\"https://www.baeldung.com/java-deadlock-livelock\" rel=\"nofollow noreferrer\">Java Thread Deadlock and Livelock</a></p>\n<p>Here you have a code example with the <code>join()-method</code>:</p>\n<p><strong>Code Example:</strong></p>\n<pre><code>// Variables\npublic static int x;\n\n// Main Method\npublic static void main(String[] args) {\n  Thread t2 = new Thread(() -&gt; {\n    while (true) {\n      if (Thread.currentThread().isInterrupted()) {\n        System.out.println(x);\n        break;\n      }\n    }\n  }, &quot;t2&quot;);\n  t2.start();\n  new Thread(() -&gt; {\n    sleep(1);\n    x = 10;\n    t2.interrupt();\n  }, &quot;t1&quot;).start();\n  try {\n    // Join method on Thread t2 to avoid live-lock\n    t2.join();\n  } catch (InterruptedException e) {\n    e.printStackTrace();\n  }\n  System.out.println(x);\n}\n</code></pre>\n"}],"owner":{"account_id":25170911,"reputation":1,"user_id":19013745,"display_name":"dun mao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685443275,"creation_date":1685363179,"question_id":76357375,"body_markdown":"\r\n```\r\n{static int x;\r\n    public static void main(String[] args) {\r\n        Thread t2 = new Thread(()-&gt;{\r\n            while(true) {\r\n                if(Thread.currentThread().isInterrupted()) {\r\n                    System.out.println(x);\r\n                    break;\r\n                }\r\n            }\r\n        },&quot;t2&quot;);\r\n        t2.start();\r\n        new Thread(()-&gt;{\r\n            sleep(1);\r\n            x = 10;\r\n            t2.interrupt();\r\n        },&quot;t1&quot;).start();\r\n        while(!t2.isInterrupted()) {\r\n            Thread.yield();\r\n        }\r\n        System.out.println(x);\r\n    }\r\n```\r\n\r\n\r\nI verify the happen-before rule,I expect main-Thread and t2-Thread print value of x and exit,but the program is blocked in main thread.I tried to use jconsole to check dead lock and found no dead lock","title":"I checked with jconsole and found there is not dead lock,but program does not exit","body":"<pre><code>{static int x;\n    public static void main(String[] args) {\n        Thread t2 = new Thread(()-&gt;{\n            while(true) {\n                if(Thread.currentThread().isInterrupted()) {\n                    System.out.println(x);\n                    break;\n                }\n            }\n        },&quot;t2&quot;);\n        t2.start();\n        new Thread(()-&gt;{\n            sleep(1);\n            x = 10;\n            t2.interrupt();\n        },&quot;t1&quot;).start();\n        while(!t2.isInterrupted()) {\n            Thread.yield();\n        }\n        System.out.println(x);\n    }\n</code></pre>\n<p>I verify the happen-before rule,I expect main-Thread and t2-Thread print value of x and exit,but the program is blocked in main thread.I tried to use jconsole to check dead lock and found no dead lock</p>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685446935,"post_id":76363974,"comment_id":134658058,"body_markdown":"It is not clear if the query will have a defined number of conditions and parameters or the number will be varying from call to call. If the query has a constant form then it can be defined as a JPARepository method. If not then it can be build dynamically with CriteriaBuilder.","body":"It is not clear if the query will have a defined number of conditions and parameters or the number will be varying from call to call. If the query has a constant form then it can be defined as a JPARepository method. If not then it can be build dynamically with CriteriaBuilder."},{"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"score":0,"creation_date":1685534698,"post_id":76363974,"comment_id":134673045,"body_markdown":"it will change depending on each call. Can you provide an example of CriteriaBuilder?","body":"it will change depending on each call. Can you provide an example of CriteriaBuilder?"}],"owner":{"account_id":4196263,"reputation":372,"user_id":3437603,"display_name":"ourobor93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685443270,"creation_date":1685443270,"question_id":76363974,"body_markdown":"My use case is the following one, I need to create the following query in JPA:\r\n\r\n    SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2]) OR (column1 &gt;= [VALUE3] AND column1 &lt;= [VALUE4]) OR (column1 &gt;= [VALUE5] AND colum1 &lt;= [VALUE6]) OR ...\r\n\r\nAnd I want to use SpringBoot JPA using Repository annotation. Is there any way to define the function to allow this kind of query?\r\n\r\nThe only solution that comes to me is defining a function to query\r\n\r\n    SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2])\r\n\r\nthat could be\r\n\r\n    @Query(value = &quot;SELECT o FROM Object o WHERE o.column1 &gt;= $1 AND o.column2 &lt;= $2)\r\n    public List&lt;Object&gt; findByValues(Float value1, Float value2)\r\n\r\nBut this causes that I need to execute a query per each condition, and I want to retrieve the full data of all conditions in only one query.","title":"JPA Query with Multiple and Repeated Conditions based on object","body":"<p>My use case is the following one, I need to create the following query in JPA:</p>\n<pre><code>SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2]) OR (column1 &gt;= [VALUE3] AND column1 &lt;= [VALUE4]) OR (column1 &gt;= [VALUE5] AND colum1 &lt;= [VALUE6]) OR ...\n</code></pre>\n<p>And I want to use SpringBoot JPA using Repository annotation. Is there any way to define the function to allow this kind of query?</p>\n<p>The only solution that comes to me is defining a function to query</p>\n<pre><code>SELECT * FROM table WHERE (column1 &gt;= [VALUE1] AND colum1 &lt;= [VALUE2])\n</code></pre>\n<p>that could be</p>\n<pre><code>@Query(value = &quot;SELECT o FROM Object o WHERE o.column1 &gt;= $1 AND o.column2 &lt;= $2)\npublic List&lt;Object&gt; findByValues(Float value1, Float value2)\n</code></pre>\n<p>But this causes that I need to execute a query per each condition, and I want to retrieve the full data of all conditions in only one query.</p>\n"},{"tags":["java","log4j","properties-file"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640890116,"post_id":70535535,"comment_id":124685576,"body_markdown":"As you can guess by the name, the `ibuild.reports.FileNamePatternRollingFileAppender` is not a standard Log4j appender. Can you describe how your appender works? What are the names of the log files, how often it rotates them, etc.","body":"As you can guess by the name, the <code>ibuild.reports.FileNamePatternRollingFileAppender</code> is not a standard Log4j appender. Can you describe how your appender works? What are the names of the log files, how often it rotates them, etc."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640891032,"post_id":70535535,"comment_id":124685809,"body_markdown":"Thanks for the reply. You right, I forgot to mention - this class extends the standard &quot;RollingFileAppender&quot; class. And the configuration worked as it mentioned here. I just want to know how to new properties file (log4j2) will look like. It is also enough for me to see just implantation of the loggers and 1 appender because the other appender is pretty much the same as you can see, apart of few attributes. thanks.","body":"Thanks for the reply. You right, I forgot to mention - this class extends the standard &quot;RollingFileAppender&quot; class. And the configuration worked as it mentioned here. I just want to know how to new properties file (log4j2) will look like. It is also enough for me to see just implantation of the loggers and 1 appender because the other appender is pretty much the same as you can see, apart of few attributes. thanks."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640892180,"post_id":70535535,"comment_id":124686107,"body_markdown":"The problem is that Log4j 2.x does not support Log4j 1.x appenders. Therefore you need to rewrite it for Log4j 2.x or describe precisely what should it do (chances are, the Log4j 2.x `RollingFile` can emulate the same behavior).","body":"The problem is that Log4j 2.x does not support Log4j 1.x appenders. Therefore you need to rewrite it for Log4j 2.x or describe precisely what should it do (chances are, the Log4j 2.x <code>RollingFile</code> can emulate the same behavior)."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640893387,"post_id":70535535,"comment_id":124686468,"body_markdown":"https://logging.apache.org/log4j/2.x/manual/migration.html\nFrom looking here I can see that the RollingFileAppender is under the &quot;Supported Components&quot;. On &quot;Configuration Compatibility&quot; part.","body":"<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a> From looking here I can see that the RollingFileAppender is under the &quot;Supported Components&quot;. On &quot;Configuration Compatibility&quot; part."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640930149,"post_id":70535535,"comment_id":124692879,"body_markdown":"Yes, the `RollingFileAppender` can be converter automatically (see [this question](https://stackoverflow.com/q/70386274/11748454)), but classes derived from it can&#39;t.","body":"Yes, the <code>RollingFileAppender</code> can be converter automatically (see <a href=\"https://stackoverflow.com/q/70386274/11748454\">this question</a>), but classes derived from it can&#39;t."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640984576,"post_id":70535535,"comment_id":124704558,"body_markdown":"thanks. I did not see where it is documented that classes derived from it can&#39;t be automatically converted. Is there a way (easy one) to make it work with the derived class? If not, can you please assume the standard RollingFileAppender is being used (instead the FileNamePatternRollingFileAppender) and let me know how the properties file will look like with log4j2? (giving the above configuration in log4j1) thanks.","body":"thanks. I did not see where it is documented that classes derived from it can&#39;t be automatically converted. Is there a way (easy one) to make it work with the derived class? If not, can you please assume the standard RollingFileAppender is being used (instead the FileNamePatternRollingFileAppender) and let me know how the properties file will look like with log4j2? (giving the above configuration in log4j1) thanks."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1640991004,"post_id":70535535,"comment_id":124705560,"body_markdown":"Regardless to your answer if it is possible or not to use the derived class, I am adding here the output of the log4j1 file after I used the converter tool you recommended in the other post you mentioned.\nCan you confirm that the output is correct based on the above input?\nsuffix and simpleDateFormatpattern offcourse are missing because these are custom members of the derived class. I will add the code by editing my original question.","body":"Regardless to your answer if it is possible or not to use the derived class, I am adding here the output of the log4j1 file after I used the converter tool you recommended in the other post you mentioned. Can you confirm that the output is correct based on the above input? suffix and simpleDateFormatpattern offcourse are missing because these are custom members of the derived class. I will add the code by editing my original question."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641048701,"post_id":70535535,"comment_id":124711843,"body_markdown":"The configuration converter and configuration factory included in `log4j-1.2-api` do not analyze the bytecode of your customized appenders (so it can not know you extended a standard appender). It just converts the configuration of those appenders it knows (cf. [source code](https://github.com/apache/logging-log4j2/blob/84ba3f260153d4674bf8c1db9cb491bd82dcd41f/log4j-1.2-api/src/main/java/org/apache/log4j/config/Log4j1ConfigurationParser.java#L163)).","body":"The configuration converter and configuration factory included in <code>log4j-1.2-api</code> do not analyze the bytecode of your customized appenders (so it can not know you extended a standard appender). It just converts the configuration of those appenders it knows (cf. <a href=\"https://github.com/apache/logging-log4j2/blob/84ba3f260153d4674bf8c1db9cb491bd82dcd41f/log4j-1.2-api/src/main/java/org/apache/log4j/config/Log4j1ConfigurationParser.java#L163\" rel=\"nofollow noreferrer\">source code</a>)."},{"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"score":0,"creation_date":1641225612,"post_id":70535535,"comment_id":124745513,"body_markdown":"thanks, so I understand we can not use the derived class in log4j2. \nCan you please confirm the log4j2.xml that I have added with the original class of the appender, if that looks correct? thanks. I used the converter tool you recommended in the other thread.","body":"thanks, so I understand we can not use the derived class in log4j2.  Can you please confirm the log4j2.xml that I have added with the original class of the appender, if that looks correct? thanks. I used the converter tool you recommended in the other thread."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641232902,"post_id":70535535,"comment_id":124748143,"body_markdown":"Yes, custom Log4j 1.x components can not be used directly in Log4j 2.x. Your configuration looks Ok, you should post it as answer.","body":"Yes, custom Log4j 1.x components can not be used directly in Log4j 2.x. Your configuration looks Ok, you should post it as answer."}],"owner":{"account_id":23786881,"reputation":1,"user_id":17798817,"display_name":"Or123"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685442190,"creation_date":1640889849,"question_id":70535535,"body_markdown":"I have a log4j.properties file with 2 custom appenders and 2 custom loggers which I need to convert to log4j2.properties file.\r\nFileNamePatternRollingFileAppender is an extension of RollingFileAppender.\r\nRead the documentation and tried to use some conversion tools but it did not work.\r\nHow the log4j2.properties file will look like in this case?\r\n\r\n\r\n    log4j.logger.ibuild.reports.XML.XMLLogger=DEBUG,StatisticXmlAppender\r\n    log4j.logger.ibuild.reports.CSV.CSVLog=DEBUG,CsvRolledFileAppender\r\n    \r\n    log4j.appender.StatisticXmlAppender=ibuild.reports.FileNamePatternRollingFileAppender\r\n    log4j.appender.StatisticXmlAppender.File=IndexStat\r\n    log4j.appender.StatisticXmlAppender.suffix=.xml\r\n    log4j.appender.StatisticXmlAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\r\n    log4j.appender.StatisticXmlAppender.MaxFileSize=100MB\r\n    log4j.appender.StatisticXmlAppender.MaxBackupIndex=10\r\n    log4j.appender.StatisticXmlAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.StatisticXmlAppender.layout.ConversionPattern=%m%n\r\n    \r\n    log4j.appender.CsvRolledFileAppender=ibuild.reports.FileNamePatternRollingFileAppender\r\n    log4j.appender.CsvRolledFileAppender.File=CallProcInfo\r\n    log4j.appender.CsvRolledFileAppender.suffix=.csv\r\n    log4j.appender.CsvRolledFileAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\r\n    log4j.appender.CsvRolledFileAppender.MaxFileSize=100MB\r\n    log4j.appender.CsvRolledFileAppender.MaxBackupIndex=10\r\n    log4j.appender.CsvRolledFileAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.CsvRolledFileAppender.layout.ConversionPattern=%m%n\r\n\r\nThanks\r\n\r\nEDIT:\r\n\r\nThis is the log4j2.xml after using the recommended converter and with using the original class of RollingFileAppender.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;&lt;Configuration name=&quot;Log4j1&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile \r\n\t\t\tname=&quot;StatisticXmlAppender&quot;\r\n\t\t\tfileName=&quot;IndexStat&quot;\r\n\t\t\tfilePattern=&quot;IndexStat.%i&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t\t&lt;RollingFile\r\n\t\t\tname=&quot;CsvRolledFileAppender&quot;\r\n\t\t\tfileName=&quot;CallProcInfo&quot;\r\n\t\t\tfilePattern=&quot;CallProcInfo.%i&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger\r\n\t\t name=&quot;ibuild.reports.CSV.CSVLog&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t &lt;AppenderRef ref=&quot;CsvRolledFileAppender&quot;/&gt;\r\n\t\t &lt;/Logger&gt;\r\n\t\t &lt;Logger name=&quot;ibuild.reports.XML.XMLLogger&quot; level=&quot;DEBUG&quot;&gt;\r\n\t\t &lt;AppenderRef ref=&quot;StatisticXmlAppender&quot;/&gt;\r\n\t\t &lt;/Logger&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;","title":"Converting log4j.properties file to log4j2.properties file","body":"<p>I have a log4j.properties file with 2 custom appenders and 2 custom loggers which I need to convert to log4j2.properties file.\nFileNamePatternRollingFileAppender is an extension of RollingFileAppender.\nRead the documentation and tried to use some conversion tools but it did not work.\nHow the log4j2.properties file will look like in this case?</p>\n<pre><code>log4j.logger.ibuild.reports.XML.XMLLogger=DEBUG,StatisticXmlAppender\nlog4j.logger.ibuild.reports.CSV.CSVLog=DEBUG,CsvRolledFileAppender\n\nlog4j.appender.StatisticXmlAppender=ibuild.reports.FileNamePatternRollingFileAppender\nlog4j.appender.StatisticXmlAppender.File=IndexStat\nlog4j.appender.StatisticXmlAppender.suffix=.xml\nlog4j.appender.StatisticXmlAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\nlog4j.appender.StatisticXmlAppender.MaxFileSize=100MB\nlog4j.appender.StatisticXmlAppender.MaxBackupIndex=10\nlog4j.appender.StatisticXmlAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.StatisticXmlAppender.layout.ConversionPattern=%m%n\n\nlog4j.appender.CsvRolledFileAppender=ibuild.reports.FileNamePatternRollingFileAppender\nlog4j.appender.CsvRolledFileAppender.File=CallProcInfo\nlog4j.appender.CsvRolledFileAppender.suffix=.csv\nlog4j.appender.CsvRolledFileAppender.simpleDateFormatpattern=MM.dd.yy_HH.mm.ss.SSS\nlog4j.appender.CsvRolledFileAppender.MaxFileSize=100MB\nlog4j.appender.CsvRolledFileAppender.MaxBackupIndex=10\nlog4j.appender.CsvRolledFileAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CsvRolledFileAppender.layout.ConversionPattern=%m%n\n</code></pre>\n<p>Thanks</p>\n<p>EDIT:</p>\n<p>This is the log4j2.xml after using the recommended converter and with using the original class of RollingFileAppender.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;&lt;Configuration name=&quot;Log4j1&quot;&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile \n        name=&quot;StatisticXmlAppender&quot;\n        fileName=&quot;IndexStat&quot;\n        filePattern=&quot;IndexStat.%i&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n    &lt;/RollingFile&gt;\n    &lt;RollingFile\n        name=&quot;CsvRolledFileAppender&quot;\n        fileName=&quot;CallProcInfo&quot;\n        filePattern=&quot;CallProcInfo.%i&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Logger\n     name=&quot;ibuild.reports.CSV.CSVLog&quot; level=&quot;DEBUG&quot;&gt;\n     &lt;AppenderRef ref=&quot;CsvRolledFileAppender&quot;/&gt;\n     &lt;/Logger&gt;\n     &lt;Logger name=&quot;ibuild.reports.XML.XMLLogger&quot; level=&quot;DEBUG&quot;&gt;\n     &lt;AppenderRef ref=&quot;StatisticXmlAppender&quot;/&gt;\n     &lt;/Logger&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645829029,"creation_date":1645829029,"answer_id":71272473,"question_id":71269626,"body_markdown":"Your configuration seems alright.\r\n\r\nThe `MaxBackupIndex` property is not gone, but it was moved to the [rollover strategy](https://logging.apache.org/log4j/2.x/manual/appenders.html#Rollover_Strategies). You need to add to your appenders a `DefaultRolloverStrategy` with a `max` attribute:\r\n\r\n```\r\nappender.DEFAULT.strategy.type = DefaultRolloverStrategy\r\nappender.DEFAULT.strategy.max = 10\r\nappender.ERROR.strategy.type = DefaultRolloverStrategy\r\nappender.ERROR.strategy.max = 10\r\n```\r\n\r\nThe remaining properties are filters. There are many equivalent ways to add filters to components (cf. [filters documentation](https://logging.apache.org/log4j/2.x/manual/filters.html)):\r\n\r\n - the `log4j.threshold` property can be replaced by a global `ThresholdFilter`:\r\n\r\n   ```\r\n   filter.1.type = ThresholdFilter\r\n   filter.1.level = INFO\r\n   ```\r\n - in the same way you can add a `Threshold` filter to the appenders, but that can be done more efficiently by setting the `level` property on the `AppenderRef`s:\r\n\r\n   ```\r\n   rootLogger.appenderRef.ERROR.level = ERROR\r\n   ```\r\n\r\n - the `log4j.logger` prefix is used in Log4j 1.x to configure the loggers. In Log4j 2.x you can do it like:\r\n\r\n   ```\r\n   logger.1.name = org.apache\r\n   logger.1.level = INFO\r\n   logger.2.name = org.opensaml\r\n   logger.2.level = INFO\r\n   ```","title":"Changing log4j .properties to log4j2 .properties","body":"<p>Your configuration seems alright.</p>\n<p>The <code>MaxBackupIndex</code> property is not gone, but it was moved to the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#Rollover_Strategies\" rel=\"nofollow noreferrer\">rollover strategy</a>. You need to add to your appenders a <code>DefaultRolloverStrategy</code> with a <code>max</code> attribute:</p>\n<pre><code>appender.DEFAULT.strategy.type = DefaultRolloverStrategy\nappender.DEFAULT.strategy.max = 10\nappender.ERROR.strategy.type = DefaultRolloverStrategy\nappender.ERROR.strategy.max = 10\n</code></pre>\n<p>The remaining properties are filters. There are many equivalent ways to add filters to components (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html\" rel=\"nofollow noreferrer\">filters documentation</a>):</p>\n<ul>\n<li><p>the <code>log4j.threshold</code> property can be replaced by a global <code>ThresholdFilter</code>:</p>\n<pre><code>filter.1.type = ThresholdFilter\nfilter.1.level = INFO\n</code></pre>\n</li>\n<li><p>in the same way you can add a <code>Threshold</code> filter to the appenders, but that can be done more efficiently by setting the <code>level</code> property on the <code>AppenderRef</code>s:</p>\n<pre><code>rootLogger.appenderRef.ERROR.level = ERROR\n</code></pre>\n</li>\n<li><p>the <code>log4j.logger</code> prefix is used in Log4j 1.x to configure the loggers. In Log4j 2.x you can do it like:</p>\n<pre><code>logger.1.name = org.apache\nlogger.1.level = INFO\nlogger.2.name = org.opensaml\nlogger.2.level = INFO\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685442071,"creation_date":1685442071,"answer_id":76363821,"question_id":71269626,"body_markdown":"Not Exactly Related to this question, but if your are migrating from log4j to log4j2, i suggest reading my below stackoverflow answer.\r\nhttps://stackoverflow.com/a/76363764/2606228","title":"Changing log4j .properties to log4j2 .properties","body":"<p>Not Exactly Related to this question, but if your are migrating from log4j to log4j2, i suggest reading my below stackoverflow answer.\n<a href=\"https://stackoverflow.com/a/76363764/2606228\">https://stackoverflow.com/a/76363764/2606228</a></p>\n"}],"owner":{"account_id":7218356,"reputation":1,"user_id":18243533,"display_name":"SteirA "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685442071,"creation_date":1645810387,"question_id":71269626,"body_markdown":"    log4j.threshold=INFO\r\n    log4j.rootCategory=DEBUG, DEFAULT, ERROR\r\n    \r\n    log4j.appender.DEFAULT=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.DEFAULT.File=/logs/appname/${SERVER_NAME}/log.log\r\n    log4j.appender.DEFAULT.MaxFileSize=10MB\r\n    log4j.appender.DEFAULT.MaxBackupIndex=10\r\n    log4j.appender.DEFAULT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.DEFAULT.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    \r\n    log4j.appender.ERROR=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.ERROR.maxFileSize=10MB\r\n    log4j.appender.ERROR.maxBackupIndex=10\r\n    log4j.appender.ERROR.File=/logs/appname/${SERVER_NAME}/logError.log\r\n    log4j.appender.ERROR.threshold=ERROR\r\n    log4j.appender.ERROR.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.ERROR.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    \r\n    log4j.logger.org.apache = INFO\r\n    log4j.logger.org.opensaml = INFO\r\n\r\nHello. Could you please help me with migrating my log4j properties to log4j2? The first snippet of code is the original .properties, the second one is my attempt to create log4j2 .properties. \r\n\r\n\r\n\r\n    appender.DEFAULT.type = RollingFile\r\n    appender.DEFAULT.name = fileLogger1\r\n    appender.DEFAULT.fileName= /logs/appname/${SERVER_NAME}/log.log\r\n    appender.DEFAULT.layout.type = PatternLayout\r\n    appender.DEFAULT.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    appender.DEFAULT.policies.type = Policies\r\n    appender.DEFAULT.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.DEFAULT.policies.size.size = 10MB\r\n    \r\n    appender.ERROR.type = RollingFile\r\n    appender.ERROR.name = fileLogger2\r\n    appender.ERROR.fileName= /logs/appname/${SERVER_NAME}/logError.log\r\n    appender.ERROR.layout.type = PatternLayout\r\n    appender.ERROR.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\r\n    appender.ERROR.policies.type = Policies\r\n    appender.ERROR.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.ERROR.policies.size.size = 10MB\r\n    \r\n    rootLogger.appenderRefs = DEFAULT, ERROR\r\n    rootLogger.appenderRef.DEFAULT.ref = fileLogger1\r\n    rootLogger.appenderRef.ERROR.ref = fileLogger2\r\n\r\nIs the second snippet correct? How should I implement the following lines in log4j2?\r\n\r\n    log4j.threshold=INFO \r\n    log4j.appender.ERROR.threshold=ERROR\r\n    log4j.appender.DEFAULT.MaxBackupIndex=10\r\n    log4j.appender.ERROR.maxBackupIndex=10\r\n    log4j.logger.org.apache = INFO\r\n    log4j.logger.org.opensaml = INFO","title":"Changing log4j .properties to log4j2 .properties","body":"<pre><code>log4j.threshold=INFO\nlog4j.rootCategory=DEBUG, DEFAULT, ERROR\n\nlog4j.appender.DEFAULT=org.apache.log4j.RollingFileAppender\nlog4j.appender.DEFAULT.File=/logs/appname/${SERVER_NAME}/log.log\nlog4j.appender.DEFAULT.MaxFileSize=10MB\nlog4j.appender.DEFAULT.MaxBackupIndex=10\nlog4j.appender.DEFAULT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.DEFAULT.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\n\nlog4j.appender.ERROR=org.apache.log4j.RollingFileAppender\nlog4j.appender.ERROR.maxFileSize=10MB\nlog4j.appender.ERROR.maxBackupIndex=10\nlog4j.appender.ERROR.File=/logs/appname/${SERVER_NAME}/logError.log\nlog4j.appender.ERROR.threshold=ERROR\nlog4j.appender.ERROR.layout=org.apache.log4j.PatternLayout\nlog4j.appender.ERROR.layout.ConversionPattern=%d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\n\nlog4j.logger.org.apache = INFO\nlog4j.logger.org.opensaml = INFO\n</code></pre>\n<p>Hello. Could you please help me with migrating my log4j properties to log4j2? The first snippet of code is the original .properties, the second one is my attempt to create log4j2 .properties.</p>\n<pre><code>appender.DEFAULT.type = RollingFile\nappender.DEFAULT.name = fileLogger1\nappender.DEFAULT.fileName= /logs/appname/${SERVER_NAME}/log.log\nappender.DEFAULT.layout.type = PatternLayout\nappender.DEFAULT.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\nappender.DEFAULT.policies.type = Policies\nappender.DEFAULT.policies.size.type = SizeBasedTriggeringPolicy\nappender.DEFAULT.policies.size.size = 10MB\n\nappender.ERROR.type = RollingFile\nappender.ERROR.name = fileLogger2\nappender.ERROR.fileName= /logs/appname/${SERVER_NAME}/logError.log\nappender.ERROR.layout.type = PatternLayout\nappender.ERROR.layout.pattern = %d{dd.MM.yyyy HH:mm:ss.SSS} %-5p [%X{userName}][%X{myInterfaceName}][%t] %c - %m%n\nappender.ERROR.policies.type = Policies\nappender.ERROR.policies.size.type = SizeBasedTriggeringPolicy\nappender.ERROR.policies.size.size = 10MB\n\nrootLogger.appenderRefs = DEFAULT, ERROR\nrootLogger.appenderRef.DEFAULT.ref = fileLogger1\nrootLogger.appenderRef.ERROR.ref = fileLogger2\n</code></pre>\n<p>Is the second snippet correct? How should I implement the following lines in log4j2?</p>\n<pre><code>log4j.threshold=INFO \nlog4j.appender.ERROR.threshold=ERROR\nlog4j.appender.DEFAULT.MaxBackupIndex=10\nlog4j.appender.ERROR.maxBackupIndex=10\nlog4j.logger.org.apache = INFO\nlog4j.logger.org.opensaml = INFO\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","pojo"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440273,"post_id":76363429,"comment_id":134656607,"body_markdown":"Your `StudentService` is not autowired, so the default value becomes `null` and that is causing the issue.","body":"Your <code>StudentService</code> is not autowired, so the default value becomes <code>null</code> and that is causing the issue."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685440563,"post_id":76363429,"comment_id":134656665,"body_markdown":"But IDE shows that the &quot;Field injection is not recommended&quot; while placing the @Autowired over the `StudentService stdService`","body":"But IDE shows that the &quot;Field injection is not recommended&quot; while placing the @Autowired over the <code>StudentService stdService</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440823,"post_id":76363429,"comment_id":134656722,"body_markdown":"In the logger message it clearly says that `because &quot;this.stdService&quot; is null`. You can debug and see in that line whether `stdService` is null or not.","body":"In the logger message it clearly says that <code>because &quot;this.stdService&quot; is null</code>. You can debug and see in that line whether <code>stdService</code> is null or not."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685440903,"post_id":76363429,"comment_id":134656745,"body_markdown":"Also refer the answer by @Nandish Chauhan","body":"Also refer the answer by @Nandish Chauhan"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685441589,"post_id":76363429,"comment_id":134656891,"body_markdown":"Yeah tried with that. still didn&#39;t work. And also updated that in my question","body":"Yeah tried with that. still didn&#39;t work. And also updated that in my question"}],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685442041,"creation_date":1685440632,"answer_id":76363656,"question_id":76363429,"body_markdown":"You are not using [Dependency Injection (DI)](https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html). There are several ways to do this injection in Spring architecture. \r\n\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/student&quot;)\r\npublic class StudentController extends CreateStudentRequest\r\n{\r\n    private final StudentService stdService;\r\n\r\n    // a constructor so that the Spring container can inject a StudentService.\r\n    public StudentController(StudentService stdService) {\r\n        this.stdService = stdService;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nAdditionally, \r\n* You don&#39;t need to `extends CreateStudentRequest` in your [StudentController](https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java) class.\r\n* You need to add `@Service` annotation to your [StudentService](https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/service/StudentService.java) class.\r\n\r\nI forked your code and here is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdzzy.png","title":"NullPointerException Repository in Spring controller class","body":"<p>You are not using <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html\" rel=\"nofollow noreferrer\">Dependency Injection (DI)</a>. There are several ways to do this injection in Spring architecture.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/student&quot;)\npublic class StudentController extends CreateStudentRequest\n{\n    private final StudentService stdService;\n\n    // a constructor so that the Spring container can inject a StudentService.\n    public StudentController(StudentService stdService) {\n        this.stdService = stdService;\n    }\n\n    // ...\n}\n</code></pre>\n<p>Additionally,</p>\n<ul>\n<li>You don't need to <code>extends CreateStudentRequest</code> in your <a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java\" rel=\"nofollow noreferrer\">StudentController</a> class.</li>\n<li>You need to add <code>@Service</code> annotation to your <a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/service/StudentService.java\" rel=\"nofollow noreferrer\">StudentService</a> class.</li>\n</ul>\n<p>I forked your code and here is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/fdzzy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdzzy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28368661,"reputation":86,"user_id":21697614,"display_name":"Nandish Chauhan "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685440776,"creation_date":1685440758,"answer_id":76363673,"question_id":76363429,"body_markdown":"\r\nThere may be two issues here\r\n1) you need to annotate StudentService with @Service annotation\r\n2) you need to annotate stdService object with @Autowired annotation.\r\nFirst try this and then only we can debug further","title":"NullPointerException Repository in Spring controller class","body":"<p>There may be two issues here</p>\n<ol>\n<li>you need to annotate StudentService with @Service annotation</li>\n<li>you need to annotate stdService object with @Autowired annotation.\nFirst try this and then only we can debug further</li>\n</ol>\n"}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685440869,"accepted_answer_id":76363656,"answer_count":2,"score":0,"last_activity_date":1685442041,"creation_date":1685438921,"question_id":76363429,"body_markdown":"I&#39;m getting NullPointerException in the bellow code at controller itself. Before going to service class. I couldn&#39;t find where I go wrong. As I&#39;m new to spring.\r\n\r\n\r\n\r\n`java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null`\r\n\r\n\r\n    2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-05-30T13:13:08.198+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-05-30T13:22:44.633+05:30  WARN 11192 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m44s455ms305&#181;s600ns).\r\n    2023-05-30T13:22:55.734+05:30 ERROR 11192 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null] with root cause\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null\r\n    \tat com.sarathUniversity.controller.StudentController.createStudent(StudentController.java:17) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\r\nIn the bellow picture you can see the debug values. In that the\r\n\r\n    StudentRepository = null\r\n    AdressRepository = null\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPassing the body content in post method and also I can see those in debug console.\r\n\r\n`http://localhost:8080/api/student/create`\r\n\r\n    {\r\n      &quot;firstName&quot;:&quot;sarathdaa&quot;,\r\n      &quot;lastName&quot;: &quot;Kumarda&quot;,\r\n      &quot;email&quot;: &quot;silver@sarath.com&quot;,\r\n      &quot;street&quot;: &quot;Pall,Tvk,256&quot;,\r\n      &quot;city&quot;: &quot;chennai&quot;\r\n    }\r\n\r\n**UPDATE**\r\nTried @Autowired over StudentService\r\n@Service over StudentService class\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nShared the source link bellow.\r\n\r\nhttps://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17\r\n\r\n\r\nPlease help me to rectify this. Thanks in advance. If more detail needed, please comment bellow.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qmxbi.png\r\n  [2]: https://i.stack.imgur.com/BQ2VG.png\r\n  [3]: https://i.stack.imgur.com/PKbD5.png\r\n  [4]: https://i.stack.imgur.com/du7i1.png","title":"NullPointerException Repository in Spring controller class","body":"<p>I'm getting NullPointerException in the bellow code at controller itself. Before going to service class. I couldn't find where I go wrong. As I'm new to spring.</p>\n<p><code>java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null</code></p>\n<pre><code>2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-30T13:13:08.197+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-30T13:13:08.198+05:30  INFO 11192 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-05-30T13:22:44.633+05:30  WARN 11192 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m44s455ms305µs600ns).\n2023-05-30T13:22:55.734+05:30 ERROR 11192 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;com.sarathUniversity.service.StudentService.createStudentResponse(com.sarathUniversity.request.CreateStudentRequest)&quot; because &quot;this.stdService&quot; is null\n    at com.sarathUniversity.controller.StudentController.createStudent(StudentController.java:17) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n</code></pre>\n<p>In the bellow picture you can see the debug values. In that the</p>\n<pre><code>StudentRepository = null\nAdressRepository = null\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qmxbi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qmxbi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BQ2VG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQ2VG.png\" alt=\"enter image description here\" /></a></p>\n<p>Passing the body content in post method and also I can see those in debug console.</p>\n<p><code>http://localhost:8080/api/student/create</code></p>\n<pre><code>{\n  &quot;firstName&quot;:&quot;sarathdaa&quot;,\n  &quot;lastName&quot;: &quot;Kumarda&quot;,\n  &quot;email&quot;: &quot;silver@sarath.com&quot;,\n  &quot;street&quot;: &quot;Pall,Tvk,256&quot;,\n  &quot;city&quot;: &quot;chennai&quot;\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nTried @Autowired over StudentService\n@Service over StudentService class\n<a href=\"https://i.stack.imgur.com/PKbD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKbD5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/du7i1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/du7i1.png\" alt=\"enter image description here\" /></a></p>\n<p>Shared the source link bellow.</p>\n<p><a href=\"https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17\" rel=\"nofollow noreferrer\">https://github.com/sarath14kumar/SpringBootMicroService/blob/master/src/main/java/com/sarathUniversity/controller/StudentController.java#L17</a></p>\n<p>Please help me to rectify this. Thanks in advance. If more detail needed, please comment bellow.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":13702764,"reputation":113,"user_id":9887329,"display_name":"Chhaganlaal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685442034,"creation_date":1685441696,"question_id":76363784,"body_markdown":"I understand this question has been asked A LOT. But my case is a bit different.\\\r\nI am getting the error `Found shared references to a collection: ClassB.classA` intermittently and whenever I get this, a simple service restart fixes the issue most of the times.\r\n\r\nNo setter calls are ever made to ClassB.classA from the service methods and the only time I believe a setter is called is by Hibernate itself while retrieving the entities from the database.\r\n\r\nThe entities are defined as -\r\n\r\nClassA\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;tableA&quot;)\r\n@IdClass(ClassAId.class)\r\npublic class ClassA {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  private String id;\r\n\r\n  @Column(name = &quot;refId&quot;)\r\n  private int refId;\r\n\r\n  @Column(name = &quot;someprop&quot;)\r\n  private String someProp;\r\n}\r\n```\r\n\r\nClass B\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;tableB&quot;)\r\n@IdClass(ClassBId.class)\r\npublic class ClassB {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n  private int id;\r\n\r\n  @OneToMany(fetch = FetchType.Eager, targetEntity = TaxHours.class) \r\n  @JoinColumn(name = &quot;refId&quot;, referencedColumn = &quot;id&quot;, insertable = false, updatable = false)\r\n  @Where(clause = &quot;someprop NOT IN (...)&quot;)\r\n  @Fetch(FetchMode.SELECT)\r\n  @BatchSize(size = 100)\r\n  @NotFound(action = NotFoundAction.IGNORE)\r\n  private List&lt;ClassA&gt; classAList;\r\n}\r\n```\r\nDAO implementation\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic interface ClassBRepository extends JpaRepository&lt;ClassB, ClassBId&gt; {\r\n  @Query(&quot;SELECT b &quot;\r\n      + &quot;FROM ClassB b &quot;\r\n      + &quot;WHERE b.id in ?1&quot;)\r\n  List&lt;ClassB&gt; findAllById(List&lt;Integer&gt; classBIdList&gt;\r\n}\r\n```\r\nService implementation\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic void updateClassB(List&lt;Integer&gt; idList) {\r\n  List&lt;ClassB&gt; classBList = classBRepository.findAllById(idList);\r\n\r\n  /**\r\n  Make some updates to the properties of the above list items,\r\n  without ever touching classA list in the entities.\r\n  **/\r\n\r\n  classBRepository.saveAll(classBList);\r\n}\r\n```\r\n\r\nOne thing I have noticed is that I get this error only when the classAList property of ClassB comes out to be empty.\r\n\r\nspring-boot version: 2.5.12\\\r\nspring-data-jpa version: 2.5.10\\\r\nhibernate-envers version: 5.6.7.Final\\\r\nhibernate-jpamodelgen version: 5.6.7.Final\\\r\nhibernate-jpamodelgen version (annotationProcessor): 5.6.7.Final","title":"Intermittently getting HibernateException: Found shared references to a collection","body":"<p>I understand this question has been asked A LOT. But my case is a bit different.<br />\nI am getting the error <code>Found shared references to a collection: ClassB.classA</code> intermittently and whenever I get this, a simple service restart fixes the issue most of the times.</p>\n<p>No setter calls are ever made to ClassB.classA from the service methods and the only time I believe a setter is called is by Hibernate itself while retrieving the entities from the database.</p>\n<p>The entities are defined as -</p>\n<p>ClassA</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name = &quot;tableA&quot;)\n@IdClass(ClassAId.class)\npublic class ClassA {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  private String id;\n\n  @Column(name = &quot;refId&quot;)\n  private int refId;\n\n  @Column(name = &quot;someprop&quot;)\n  private String someProp;\n}\n</code></pre>\n<p>Class B</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name = &quot;tableB&quot;)\n@IdClass(ClassBId.class)\npublic class ClassB {\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false, updatable = false)\n  private int id;\n\n  @OneToMany(fetch = FetchType.Eager, targetEntity = TaxHours.class) \n  @JoinColumn(name = &quot;refId&quot;, referencedColumn = &quot;id&quot;, insertable = false, updatable = false)\n  @Where(clause = &quot;someprop NOT IN (...)&quot;)\n  @Fetch(FetchMode.SELECT)\n  @BatchSize(size = 100)\n  @NotFound(action = NotFoundAction.IGNORE)\n  private List&lt;ClassA&gt; classAList;\n}\n</code></pre>\n<p>DAO implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ClassBRepository extends JpaRepository&lt;ClassB, ClassBId&gt; {\n  @Query(&quot;SELECT b &quot;\n      + &quot;FROM ClassB b &quot;\n      + &quot;WHERE b.id in ?1&quot;)\n  List&lt;ClassB&gt; findAllById(List&lt;Integer&gt; classBIdList&gt;\n}\n</code></pre>\n<p>Service implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void updateClassB(List&lt;Integer&gt; idList) {\n  List&lt;ClassB&gt; classBList = classBRepository.findAllById(idList);\n\n  /**\n  Make some updates to the properties of the above list items,\n  without ever touching classA list in the entities.\n  **/\n\n  classBRepository.saveAll(classBList);\n}\n</code></pre>\n<p>One thing I have noticed is that I get this error only when the classAList property of ClassB comes out to be empty.</p>\n<p>spring-boot version: 2.5.12<br />\nspring-data-jpa version: 2.5.10<br />\nhibernate-envers version: 5.6.7.Final<br />\nhibernate-jpamodelgen version: 5.6.7.Final<br />\nhibernate-jpamodelgen version (annotationProcessor): 5.6.7.Final</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":7293087,"reputation":556,"user_id":5687130,"accept_rate":67,"display_name":"Iwavenice"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1457551360,"creation_date":1457551360,"answer_id":35900748,"question_id":35900555,"body_markdown":"Log4j2 supports .properties files but they have changed property syntax. You can check their [manual here][1] it covers all you need to create new configuration.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/manual/configuration.html#Properties","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>Log4j2 supports .properties files but they have changed property syntax. You can check their <a href=\"https://logging.apache.org/log4j/2.0/manual/configuration.html#Properties\" rel=\"nofollow\">manual here</a> it covers all you need to create new configuration.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1457551601,"creation_date":1457551601,"answer_id":35900831,"question_id":35900555,"body_markdown":"You can use this wonderful frontend web to convert you properties to a XML\nhttp://log4j-props2xml.appspot.com/\n\n# Resulting:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n        &lt;appender name=&quot;R&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n            &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\n            &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy-MM-dd&quot;/&gt;\n            &lt;param name=&quot;File&quot; value=&quot;/trace.log&quot;/&gt;\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %c{1} [%p] %m%n&quot;/&gt;\n            &lt;/layout&gt;\n        &lt;/appender&gt;\n        &lt;root&gt;\n            &lt;level value=&quot;INFO&quot;/&gt;\n            &lt;appender-ref ref=&quot;R&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/log4j:configuration&gt;\n\n---------\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>You can use this wonderful frontend web to convert you properties to a XML\n<a href=\"http://log4j-props2xml.appspot.com/\" rel=\"nofollow noreferrer\">http://log4j-props2xml.appspot.com/</a></p>\n<h1>Resulting:</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n    &lt;appender name=&quot;R&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\n        &lt;param name=&quot;DatePattern&quot; value=&quot;'.'yyyy-MM-dd&quot;/&gt;\n        &lt;param name=&quot;File&quot; value=&quot;/trace.log&quot;/&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %c{1} [%p] %m%n&quot;/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n        &lt;level value=&quot;INFO&quot;/&gt;\n        &lt;appender-ref ref=&quot;R&quot;/&gt;\n    &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n<hr />\n"},{"tags":[],"owner":{"account_id":5648677,"reputation":1257,"user_id":4469988,"accept_rate":100,"display_name":"Raju Guduri"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1612185774,"creation_date":1474895637,"answer_id":39703897,"question_id":35900555,"body_markdown":"Here is what I constructed after going through the documentation and worked.\r\n\r\n    rootLogger.level = INFO\r\n    property.filename = trace.log\r\n    appenders = R, console\r\n\r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d %5p [%t] (%F:%L) - %m%n\r\n\r\n    appender.R.type = RollingFile\r\n    appender.R.name = File\r\n    appender.R.fileName = ${filename}\r\n    appender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\r\n    appender.R.layout.type = PatternLayout\r\n    appender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n\r\n    appender.R.policies.type = Policies\r\n    appender.R.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.R.policies.time.interval = 1\r\n\r\n    rootLogger.appenderRefs = R, console\r\n\r\n    rootLogger.appenderRef.console.ref = STDOUT\r\n    rootLogger.appenderRef.R.ref = File\r\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>Here is what I constructed after going through the documentation and worked.</p>\n<pre><code>rootLogger.level = INFO\nproperty.filename = trace.log\nappenders = R, console\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d %5p [%t] (%F:%L) - %m%n\n\nappender.R.type = RollingFile\nappender.R.name = File\nappender.R.fileName = ${filename}\nappender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\nappender.R.layout.type = PatternLayout\nappender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n\nappender.R.policies.type = Policies\nappender.R.policies.time.type = TimeBasedTriggeringPolicy\nappender.R.policies.time.interval = 1\n\nrootLogger.appenderRefs = R, console\n\nrootLogger.appenderRef.console.ref = STDOUT\nrootLogger.appenderRef.R.ref = File\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323554,"reputation":1357,"user_id":643634,"accept_rate":58,"display_name":"Navin Israni"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1498498143,"creation_date":1498498143,"answer_id":44765288,"question_id":35900555,"body_markdown":"You can use this to convert from Log4J.properties (v1.2) to log4j2.xml as below:\r\n\r\n1) Convert from v1.2 properties to v1.2XML using this converter: https://log4j-props2xml.appspot.com/\r\n\r\n2) Convert from v1.2 XML to v2.0 XML (i.e. Log4j2.xml) using the procedure provided on this link: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>You can use this to convert from Log4J.properties (v1.2) to log4j2.xml as below:</p>\n\n<p>1) Convert from v1.2 properties to v1.2XML using this converter: <a href=\"https://log4j-props2xml.appspot.com/\" rel=\"noreferrer\">https://log4j-props2xml.appspot.com/</a></p>\n\n<p>2) Convert from v1.2 XML to v2.0 XML (i.e. Log4j2.xml) using the procedure provided on this link: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n"},{"tags":[],"owner":{"account_id":14994612,"reputation":156,"user_id":10824437,"display_name":"Artem Krosheninnikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578558197,"creation_date":1578558197,"answer_id":59659770,"question_id":35900555,"body_markdown":"I know it&#39;s an old issue but for the sake of history:\r\n\r\nSince Log4j2 2.13.0 there is an ***experimental*** feature for Log4j 1 configuration files:\r\nhttp://logging.apache.org/log4j/2.x/manual/compatibility.html\r\n\r\nRelated JIRA issue:\r\nhttps://issues.apache.org/jira/browse/LOG4J2-63","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>I know it's an old issue but for the sake of history:</p>\n\n<p>Since Log4j2 2.13.0 there is an <strong><em>experimental</em></strong> feature for Log4j 1 configuration files:\n<a href=\"http://logging.apache.org/log4j/2.x/manual/compatibility.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/compatibility.html</a></p>\n\n<p>Related JIRA issue:\n<a href=\"https://issues.apache.org/jira/browse/LOG4J2-63\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-63</a></p>\n"}],"owner":{"account_id":5648677,"reputation":1257,"user_id":4469988,"accept_rate":100,"display_name":"Raju Guduri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66199,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":39703897,"answer_count":5,"score":28,"last_activity_date":1685441784,"creation_date":1457550746,"question_id":35900555,"body_markdown":"I have a Java application which is using **log4j** configured as below.\r\n\r\nlog4j.properties:\r\n\r\n    \r\n    log4j.rootLogger=INFO, R\r\n    log4j.appender.R = org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.R.File = /trace.log\r\n    log4j.appender.R.Append = true\r\n    log4j.appender.R.DatePattern = &#39;.&#39;yyyy-MM-dd\r\n    log4j.appender.R.layout = org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern = %d{HH:mm:ss} %c{1} [%p] %m%n\r\n\r\nI would like to migrate to log4j2 with the same configuration as above. Haven&#39;t found anything related to log4j2 properties configuration file as this support recently included.\r\n\r\nHow would be my **log4j2.properties** file with the same configuration above ?\r\n","title":"Migrating from log4j to log4j2 - properties file configuration","body":"<p>I have a Java application which is using <strong>log4j</strong> configured as below.</p>\n<p>log4j.properties:</p>\n<pre><code>log4j.rootLogger=INFO, R\nlog4j.appender.R = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.R.File = /trace.log\nlog4j.appender.R.Append = true\nlog4j.appender.R.DatePattern = '.'yyyy-MM-dd\nlog4j.appender.R.layout = org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern = %d{HH:mm:ss} %c{1} [%p] %m%n\n</code></pre>\n<p>I would like to migrate to log4j2 with the same configuration as above. Haven't found anything related to log4j2 properties configuration file as this support recently included.</p>\n<p>How would be my <strong>log4j2.properties</strong> file with the same configuration above ?</p>\n"},{"tags":["java","incompatibletypeerror"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685377527,"post_id":76358751,"comment_id":134648537,"body_markdown":"`monthNumber` is an `int` type which cannot accept `String` type. You can declare a new `String` variable and assign the return of the `determineNameofMonth` method to it.","body":"<code>monthNumber</code> is an <code>int</code> type which cannot accept <code>String</code> type. You can declare a new <code>String</code> variable and assign the return of the <code>determineNameofMonth</code> method to it."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685376253,"creation_date":1685376253,"answer_id":76358780,"question_id":76358751,"body_markdown":"     monthNumber = determineNameofMonth(monthNumber);\r\n\r\nPer its declaration and intent, determineNameofMonth returns a String. Here you attempt to assign to an integer; the error message is telling you that an integer variable requires an integer value.\r\n\r\nUse something like:\r\n\r\n     String monthName = determineNameofMonth(monthNumber);\r\n\r\n(I assume you&#39;ll then want to write code to print out monthName, otherwise you&#39;re doing nothing with the result of the computation).\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<pre><code> monthNumber = determineNameofMonth(monthNumber);\n</code></pre>\n<p>Per its declaration and intent, determineNameofMonth returns a String. Here you attempt to assign to an integer; the error message is telling you that an integer variable requires an integer value.</p>\n<p>Use something like:</p>\n<pre><code> String monthName = determineNameofMonth(monthNumber);\n</code></pre>\n<p>(I assume you'll then want to write code to print out monthName, otherwise you're doing nothing with the result of the computation).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685376384,"creation_date":1685376384,"answer_id":76358795,"question_id":76358751,"body_markdown":"&gt; ```\r\n&gt; int monthNumber = scanner.nextInt();\r\n&gt; monthNumber = determineNameofMonth(monthNumber);\r\n&gt; ```\r\n\r\n`monthNumber` is a variable. It has been declared to be of type `int` - and that is for the lifetime of that variable (you can&#39;t &#39;re-type&#39; a variable in java). That means `monthNumber` is guaranteed to never hold anything that isn&#39;t an `int` value, and the compiler will refuse to compile code unless it can be 100% certain that rule holds.\r\n\r\n`determineNameofMonth(monthNumber)` is of type `String`, because the method `determineNameofMonth` has been declared as such. `String` is not an int, so, you can&#39;t do this.\r\n\r\nPresumably you want:\r\n\r\n```\r\nString monthName = determineNameofMonth(monthNumber);\r\n```\r\n\r\ni.e. make a new variable. The name `monthNumber` shouldn&#39;t hold a _name_ - then the variable is misnamed.\r\n\r\nNote that you don&#39;t need to do this stuff, java already has `Month`:\r\n\r\n```\r\nimport java.time.Month;\r\n\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Type Number for name of month&quot;);\r\n    int monthNumber = scanner.nextInt();\r\n    Month m = Month.of(monthNumber);\r\n    System.out.println(&quot;You chose: &quot; + m);\r\n}\r\n```\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<blockquote>\n<pre><code>int monthNumber = scanner.nextInt();\nmonthNumber = determineNameofMonth(monthNumber);\n</code></pre>\n</blockquote>\n<p><code>monthNumber</code> is a variable. It has been declared to be of type <code>int</code> - and that is for the lifetime of that variable (you can't 're-type' a variable in java). That means <code>monthNumber</code> is guaranteed to never hold anything that isn't an <code>int</code> value, and the compiler will refuse to compile code unless it can be 100% certain that rule holds.</p>\n<p><code>determineNameofMonth(monthNumber)</code> is of type <code>String</code>, because the method <code>determineNameofMonth</code> has been declared as such. <code>String</code> is not an int, so, you can't do this.</p>\n<p>Presumably you want:</p>\n<pre><code>String monthName = determineNameofMonth(monthNumber);\n</code></pre>\n<p>i.e. make a new variable. The name <code>monthNumber</code> shouldn't hold a <em>name</em> - then the variable is misnamed.</p>\n<p>Note that you don't need to do this stuff, java already has <code>Month</code>:</p>\n<pre><code>import java.time.Month;\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Type Number for name of month&quot;);\n    int monthNumber = scanner.nextInt();\n    Month m = Month.of(monthNumber);\n    System.out.println(&quot;You chose: &quot; + m);\n}\n</code></pre>\n"}],"owner":{"account_id":28703750,"reputation":13,"user_id":21980468,"display_name":"MasterSteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1685474333,"answer_count":2,"score":-2,"last_activity_date":1685441781,"creation_date":1685375948,"question_id":76358751,"body_markdown":"I&#39;m teaching myself java and I came across this error. I&#39;m trying to enter a number of a month and I have to use a switch case to return the &quot;answer&quot;. I get the follow error:\r\n\r\n```java\r\npackage javauebung5;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Type Number for name of month&quot;);\r\n        int monthNumber = scanner.nextInt();\r\n\r\n        monthNumber = determineNameofMonth(monthNumber);\r\n    }\r\n\r\n    private static String determineNameofMonth(int monthNumber) {\r\n        switch (monthNumber) {\r\n            case 1: return &quot;January&quot;;\r\n\r\n            case 2: return &quot;February&quot;;\r\n\r\n            case 3: return &quot;March&quot;;\r\n\r\n            case 4: return &quot;April&quot;;\r\n\r\n            case 5: return &quot;May&quot;;\r\n\r\n            case 6: return &quot;June&quot;;\r\n\r\n            case 7: return &quot;July&quot;;\r\n\r\n            case 8: return &quot;August&quot;;\r\n\r\n            case 9: return &quot;September&quot;;\r\n\r\n            case 10: return &quot;October&quot;;\r\n\r\n            case 11: return &quot;November&quot;;\r\n\r\n            case 12: return &quot;December&quot;;\r\n\r\n        }\r\n        return &quot;Invalid Month&quot;;\r\n    }\r\n}\r\n```\r\nThis is the error:\r\n&gt; Incompatible types. Found: &#39;java.lang.String&#39;, required: &#39;int&#39;\r\n","title":"How to fix &#39;Incompatible types&#39; error when converting String to int in Java?","body":"<p>I'm teaching myself java and I came across this error. I'm trying to enter a number of a month and I have to use a switch case to return the &quot;answer&quot;. I get the follow error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javauebung5;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Type Number for name of month&quot;);\n        int monthNumber = scanner.nextInt();\n\n        monthNumber = determineNameofMonth(monthNumber);\n    }\n\n    private static String determineNameofMonth(int monthNumber) {\n        switch (monthNumber) {\n            case 1: return &quot;January&quot;;\n\n            case 2: return &quot;February&quot;;\n\n            case 3: return &quot;March&quot;;\n\n            case 4: return &quot;April&quot;;\n\n            case 5: return &quot;May&quot;;\n\n            case 6: return &quot;June&quot;;\n\n            case 7: return &quot;July&quot;;\n\n            case 8: return &quot;August&quot;;\n\n            case 9: return &quot;September&quot;;\n\n            case 10: return &quot;October&quot;;\n\n            case 11: return &quot;November&quot;;\n\n            case 12: return &quot;December&quot;;\n\n        }\n        return &quot;Invalid Month&quot;;\n    }\n}\n</code></pre>\n<p>This is the error:</p>\n<blockquote>\n<p>Incompatible types. Found: 'java.lang.String', required: 'int'</p>\n</blockquote>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2056111,"reputation":386,"user_id":1833824,"display_name":"Markus Wilke"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1353256242,"creation_date":1353256242,"answer_id":13442060,"question_id":13438871,"body_markdown":"I had the same problem. After adding also **log4j-core-2.0-beta3.jar** to the classpath it worked.","title":"Log4j2 - configuring","body":"<p>I had the same problem. After adding also <strong>log4j-core-2.0-beta3.jar</strong> to the classpath it worked.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1428583086,"creation_date":1408435153,"answer_id":25378336,"question_id":13438871,"body_markdown":"In **Maven** you normally have this logging configuration:\r\n\r\n\t&lt;properties&gt;\t\r\n\t\t&lt;slf4j-version&gt;1.7.7&lt;/slf4j-version&gt;\r\n\t\t&lt;slf4j-log4j2-version&gt;2.0.1&lt;/slf4j-log4j2-version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${slf4j-version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${slf4j-log4j2-version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nTo add the log core lib you have to:\r\n\r\n1. Add the &lt;log4j2-version&gt;2.0.1&lt;/log4j2-version&gt; to the properties section\r\n2. Add the log core dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Log4j2 - configuring","body":"<p>In <strong>Maven</strong> you normally have this logging configuration:</p>\n\n<pre><code>&lt;properties&gt;    \n    &lt;slf4j-version&gt;1.7.7&lt;/slf4j-version&gt;\n    &lt;slf4j-log4j2-version&gt;2.0.1&lt;/slf4j-log4j2-version&gt;\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j-version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j-log4j2-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To add the log core lib you have to:</p>\n\n<ol>\n<li>Add the 2.0.1 to the properties section</li>\n<li><p>Add the log core dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479600922,"creation_date":1409630096,"answer_id":25615586,"question_id":13438871,"body_markdown":"![New icon](http://i.stack.imgur.com/OqmBc.gif) Updated to the version 2.7\r\n\r\nAdd the next jars to your project:\r\n\r\n- [`log4j-api-2.7.jar`][1]\r\n- [`log4j-core-2.7.jar`][2]\r\n\r\nIf you are using Maven, add the dependency:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-api/2.7/log4j-api-2.7.jar\r\n  [2]: http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-core/2.7/log4j-core-2.7.jar","title":"Log4j2 - configuring","body":"<p><img src=\"https://i.stack.imgur.com/OqmBc.gif\" alt=\"New icon\"> Updated to the version 2.7</p>\n\n<p>Add the next jars to your project:</p>\n\n<ul>\n<li><a href=\"http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-api/2.7/log4j-api-2.7.jar\" rel=\"noreferrer\"><code>log4j-api-2.7.jar</code></a></li>\n<li><a href=\"http://search.maven.org/remotecontent?filepath=org/apache/logging/log4j/log4j-core/2.7/log4j-core-2.7.jar\" rel=\"noreferrer\"><code>log4j-core-2.7.jar</code></a></li>\n</ul>\n\n<p>If you are using Maven, add the dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11675282,"reputation":188,"user_id":8549049,"display_name":"Wei Kleeff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504795936,"creation_date":1504795936,"answer_id":46099427,"question_id":13438871,"body_markdown":"I use log4j2.8.2 and I let it auto config successfully by putting log4j2.xml in the web classes folder (WEB-INF/classes/log4j2.xml)","title":"Log4j2 - configuring","body":"<p>I use log4j2.8.2 and I let it auto config successfully by putting log4j2.xml in the web classes folder (WEB-INF/classes/log4j2.xml)</p>\n"},{"tags":[],"owner":{"account_id":10228822,"reputation":67,"user_id":7550371,"display_name":"Shajitha Begum K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643087943,"creation_date":1643087943,"answer_id":70843760,"question_id":13438871,"body_markdown":"If it&#39;s maven project, you have to add the below dependency,\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the log4j2.xml or log4j2.properties file should be under src/main/resources folder. In that case you don&#39;t need to explicitly add folder or jars in classpath. It should do the trick.","title":"Log4j2 - configuring","body":"<p>If it's maven project, you have to add the below dependency,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And the log4j2.xml or log4j2.properties file should be under src/main/resources folder. In that case you don't need to explicitly add folder or jars in classpath. It should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685441754,"creation_date":1685441754,"answer_id":76363791,"question_id":13438871,"body_markdown":"Not Related to this question, but if your are migrating from log4j to log4j2, i suggest on reading my below stackoverflow answer.\r\nhttps://stackoverflow.com/a/76363764/2606228","title":"Log4j2 - configuring","body":"<p>Not Related to this question, but if your are migrating from log4j to log4j2, i suggest on reading my below stackoverflow answer.\n<a href=\"https://stackoverflow.com/a/76363764/2606228\">https://stackoverflow.com/a/76363764/2606228</a></p>\n"}],"owner":{"account_id":87000,"reputation":9338,"user_id":241552,"accept_rate":70,"display_name":"Ibolit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49157,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":13442060,"answer_count":6,"score":31,"last_activity_date":1685441754,"creation_date":1353230123,"question_id":13438871,"body_markdown":"I am trying to adopt Log4j2 in my new project, but I get my logs in &lt;code&gt;catalina.out&lt;/code&gt;, and the first one is always: &lt;code&gt;ERROR StatusLogger Unable to locate a logging implementation, using SimpleLogger&lt;/code&gt;. It seems that I have done everything according to Log4j2 docs, but still. \r\n\r\nHere is what I have actually done: \r\n&lt;ol&gt;\r\n&lt;li&gt;added &lt;code&gt;log4j-api-2.0-beta3.jar&lt;/code&gt; to my project&lt;/li&gt;\r\n&lt;li&gt;created a &lt;code&gt;log4j2.xml&lt;/code&gt; file and put it in a location that is on the classpath (currently, in &lt;code&gt;/usr/local/tomcat/home/lib&lt;/code&gt;. In fact, I took a sample file from Log4J2 web-page.&lt;/li&gt;\r\n&lt;li&gt;restarted tomcat.&lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\nI am using Tomcat 7, MacOS X 10.8, Java 7. \r\n\r\nWhat am I missing?\r\n\r\nJust in case, here is the log4j2.xml I am using:\r\n\r\n&lt;code&gt;&lt;pre&gt;\r\n&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&amp;lt;configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n  &amp;lt;appenders&gt;\r\n    &amp;lt;File name=&quot;MyFile&quot; fileName=&quot;logs/app.log&quot;&gt;\r\n      &amp;lt;PatternLayout&gt;\r\n        &amp;lt;pattern&gt;%d %p %C{1.} [%t] %m%n&amp;lt;/pattern&gt;\r\n      &amp;lt;/PatternLayout&gt;\r\n    &amp;lt;/File&gt;\r\n  &amp;lt;/appenders&gt;\r\n  &amp;lt;loggers&gt;\r\n    &amp;lt;root level=&quot;trace&quot;&gt;\r\n      &amp;lt;appender-ref ref=&quot;MyFile&quot;/&gt;\r\n    &amp;lt;/root&gt;\r\n  &amp;lt;/loggers&gt;\r\n&amp;lt;/configuration&gt;\r\n&lt;/pre&gt;&lt;/code&gt;","title":"Log4j2 - configuring","body":"<p>I am trying to adopt Log4j2 in my new project, but I get my logs in <code>catalina.out</code>, and the first one is always: <code>ERROR StatusLogger Unable to locate a logging implementation, using SimpleLogger</code>. It seems that I have done everything according to Log4j2 docs, but still. </p>\n\n<p>Here is what I have actually done: </p>\n\n<ol>\n<li>added <code>log4j-api-2.0-beta3.jar</code> to my project</li>\n<li>created a <code>log4j2.xml</code> file and put it in a location that is on the classpath (currently, in <code>/usr/local/tomcat/home/lib</code>. In fact, I took a sample file from Log4J2 web-page.</li>\n<li>restarted tomcat.</li>\n</ol>\n\n<p>I am using Tomcat 7, MacOS X 10.8, Java 7. </p>\n\n<p>What am I missing?</p>\n\n<p>Just in case, here is the log4j2.xml I am using:</p>\n\n<p><code><pre>\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;configuration status=\"warn\" name=\"MyApp\" packages=\"\">\n  &lt;appenders>\n    &lt;File name=\"MyFile\" fileName=\"logs/app.log\">\n      &lt;PatternLayout>\n        &lt;pattern>%d %p %C{1.} [%t] %m%n&lt;/pattern>\n      &lt;/PatternLayout>\n    &lt;/File>\n  &lt;/appenders>\n  &lt;loggers>\n    &lt;root level=\"trace\">\n      &lt;appender-ref ref=\"MyFile\"/>\n    &lt;/root>\n  &lt;/loggers>\n&lt;/configuration>\n</pre></code></p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"score":0,"creation_date":1685441379,"post_id":31023516,"comment_id":134656850,"body_markdown":"you might need to use log4j2 with slf4j for using LoggerFactory.","body":"you might need to use log4j2 with slf4j for using LoggerFactory."}],"answers":[{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685441564,"creation_date":1685441564,"answer_id":76363764,"question_id":31023516,"body_markdown":"Not Exactly related to the Question, But the below are my learning in log4j2 migration. hope it helps someone.\r\n\r\nSince the log4j vulnerability which was discovered in late 2021, \r\nmany organizations have upgraded to log4j2 to overcome it. and many developers needed to understand what exactly is log4j and what is the vulnerability.\r\nI recommend you to read about that, as it was a major vulnerability in software industry.\r\nI also migrated 2 applications to log4j2 and faced many issues in the migration.\r\nhence writing this here. i will write a detailed article on this later but for the time being, if anyone else is migrating to log4j2 from log4j i prefer \r\nreading my below learnings.\r\n\r\n1) This is a major change in the application, so be careful while doing it. it involves a change in almost all the files present.\r\n2) If you are making a change to a legacy application, you might need to change many other supported jars, hence understand that it&#39;s gonna take time.\r\n3) If there is a log4j.properties file, convert it to log4j.xml ,it might feel hard to convert but trust me you wont find much docs on properties file.\r\n4) A REPLACE ALL method wont always work, double check your work.\r\n5) There will be transitive dependencies, try to understand that and exclude them in pom.\r\n6) If you are changing versions of spring or any other framework, understand that there were many changes done in the new versions, refer docs.\r\n\r\ndocumentation for migrating from Log4j to Log4j2:\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat\r\n\r\n\r\nSome sites that helped me:\r\nhttps://stackify.com/log4j2-java/\r\nhttps://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders\r\nhttps://howtodoinjava.com/log4j2/log4j2-consoleappender-example/\r\nhttps://access.redhat.com/solutions/4347841\r\n","title":"log4j migration to log4j2","body":"<p>Not Exactly related to the Question, But the below are my learning in log4j2 migration. hope it helps someone.</p>\n<p>Since the log4j vulnerability which was discovered in late 2021,\nmany organizations have upgraded to log4j2 to overcome it. and many developers needed to understand what exactly is log4j and what is the vulnerability.\nI recommend you to read about that, as it was a major vulnerability in software industry.\nI also migrated 2 applications to log4j2 and faced many issues in the migration.\nhence writing this here. i will write a detailed article on this later but for the time being, if anyone else is migrating to log4j2 from log4j i prefer\nreading my below learnings.</p>\n<ol>\n<li>This is a major change in the application, so be careful while doing it. it involves a change in almost all the files present.</li>\n<li>If you are making a change to a legacy application, you might need to change many other supported jars, hence understand that it's gonna take time.</li>\n<li>If there is a log4j.properties file, convert it to log4j.xml ,it might feel hard to convert but trust me you wont find much docs on properties file.</li>\n<li>A REPLACE ALL method wont always work, double check your work.</li>\n<li>There will be transitive dependencies, try to understand that and exclude them in pom.</li>\n<li>If you are changing versions of spring or any other framework, understand that there were many changes done in the new versions, refer docs.</li>\n</ol>\n<p>documentation for migrating from Log4j to Log4j2:\n<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2ConfigurationFormat</a></p>\n<p>Some sites that helped me:\n<a href=\"https://stackify.com/log4j2-java/\" rel=\"nofollow noreferrer\">https://stackify.com/log4j2-java/</a>\n<a href=\"https://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/log4j2-example-tutorial-configuration-levels-appenders</a>\n<a href=\"https://howtodoinjava.com/log4j2/log4j2-consoleappender-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/log4j2/log4j2-consoleappender-example/</a>\n<a href=\"https://access.redhat.com/solutions/4347841\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/4347841</a></p>\n"}],"owner":{"account_id":425577,"reputation":61,"user_id":3793437,"display_name":"Arvind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1685441564,"creation_date":1435139980,"question_id":31023516,"body_markdown":"Log4j migration guide \r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\nstates that\r\n\r\nCalls to org.apache.log4j.Logger.getLogger that accept a LoggerFactory must remove the org.apache.log4j.spi.LoggerFactory and use one of Log4j 2&#39;s other extension mechanisms.\r\n\r\nWhat are the extension mechanisms available in log4j2 and how best to migrate a method like below in log4j2\r\n\r\n    private static TraceLoggerFactory stTraceFactory = new TraceLoggerFactory();\r\n    \r\n    public static Logger getTraceLogger(final String name) {\r\n    \treturn getLogger(name, stTraceFactory);\r\n    }\r\n    \r\n    \r\n    class TraceLoggerFactory implements LoggerFactory {\r\n    \t@Override\r\n    \tpublic Logger makeNewLoggerInstance(final String name) {\r\n    \t\treturn new TraceLogger(name);\r\n    \t}\r\n    }\r\n\r\n","title":"log4j migration to log4j2","body":"<p>Log4j migration guide </p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n\n<p>states that</p>\n\n<p>Calls to org.apache.log4j.Logger.getLogger that accept a LoggerFactory must remove the org.apache.log4j.spi.LoggerFactory and use one of Log4j 2's other extension mechanisms.</p>\n\n<p>What are the extension mechanisms available in log4j2 and how best to migrate a method like below in log4j2</p>\n\n<pre><code>private static TraceLoggerFactory stTraceFactory = new TraceLoggerFactory();\n\npublic static Logger getTraceLogger(final String name) {\n    return getLogger(name, stTraceFactory);\n}\n\n\nclass TraceLoggerFactory implements LoggerFactory {\n    @Override\n    public Logger makeNewLoggerInstance(final String name) {\n        return new TraceLogger(name);\n    }\n}\n</code></pre>\n"},{"tags":["java","game-development"],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685441435,"creation_date":1685441435,"answer_id":76363747,"question_id":76363430,"body_markdown":"    public void update(){\r\n        Apple.checkCollision();\r\n        Snake.checkSnakeCollision();\r\n        Snake.update();\r\n    }\r\n\r\n\r\nThis is the problem. When you are checking collision of apple and snake, you are adding new point same as head in snake body. after that you are checking for same point in body as head. It will match because you have added that head point in &quot;checkCollision&quot; method.\r\n\r\nYou need to call &quot;checkSnakeCollision&quot; after &quot;Snake.update&quot; once head is propagate to new position then you need to check for collision.","title":"Java Snake Game snakeCollision method issue","body":"<pre><code>public void update(){\n    Apple.checkCollision();\n    Snake.checkSnakeCollision();\n    Snake.update();\n}\n</code></pre>\n<p>This is the problem. When you are checking collision of apple and snake, you are adding new point same as head in snake body. after that you are checking for same point in body as head. It will match because you have added that head point in &quot;checkCollision&quot; method.</p>\n<p>You need to call &quot;checkSnakeCollision&quot; after &quot;Snake.update&quot; once head is propagate to new position then you need to check for collision.</p>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76363747,"answer_count":1,"score":1,"last_activity_date":1685441435,"creation_date":1685438925,"question_id":76363430,"body_markdown":"I am creating a simple snake game to help me learn some more java. I&#39;m running into an error however when trying to create a method that properly tracks whether the snake collides with itself or not. I created a simple print statement to check if the method is able to properly detect when my snake runs into itself, which it does. However, it seems to activate whenever the snake runs into an apple. Here is my code: \r\n\r\n```\r\nimport java.awt.*;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n    final static int SCREEN_HEIGHT = 780;\r\n    final static int SCREEN_WIDTH = 1435; \r\n    final int FPS = 10;\r\n    final static int UNIT_SIZE = 30;\r\n    Random random = new Random();\r\n\r\n    Thread GameThread;\r\n    KeyHandler keyH = new KeyHandler();\r\n\r\n    snake Snake = new snake(keyH);\r\n    apple Apple = new apple(Snake);\r\n\r\n    GamePanel() {\r\n        // panel set up\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.black);\r\n        this.setFocusable(true);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(keyH);\r\n    }\r\n\r\n    //starts the thread!\r\n    public void startGameThread() { \r\n        GameThread = new Thread(this);\r\n        GameThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        /* this is the game loop. drawinterval = one second (in the form of nanoseconds)\r\n         * divided by the FPS so that we get the amount (0.16 in seconds) the game should update per sec.\r\n         * We get the current time, subtract it by the last system time, divide that by this drawinterval\r\n         * which will be a very small decimal that is added to delta. Once delta is one or over, we can\r\n         * actually update the game.\r\n         */\r\n        double drawInterval = 1000000000/FPS;\r\n        double delta = 0; \r\n        long lastTime = System.nanoTime();\r\n        long currentTime; \r\n        long timer = 0;\r\n        int drawTime = 0;\r\n\r\n        while (GameThread != null) {\r\n            currentTime = System.nanoTime();\r\n            delta += (currentTime - lastTime) / drawInterval;\r\n            timer += currentTime - lastTime;\r\n            lastTime = currentTime;\r\n\r\n            if (delta &gt;= 1) {\r\n                update();\r\n                repaint();\r\n                delta--;\r\n                drawTime++;\r\n            }\r\n\r\n            if (timer &gt;= 1000000000) {\r\n                //System.out.println(&quot;FPS: &quot; + drawTime);\r\n                drawTime = 0;\r\n                timer = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void update(){\r\n        Apple.checkCollision();\r\n        Snake.checkSnakeCollision();\r\n        Snake.update();\r\n    }\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.WHITE);\r\n\r\n        // grid draw\r\n        // for (int i = 0; i &lt; (SCREEN_HEIGHT/UNIT_SIZE); i++) {\r\n            //g2.drawLine(0, i*UNIT_SIZE,SCREEN_WIDTH,i*UNIT_SIZE);\r\n        //}\r\n        //for (int i = 0; i &lt; SCREEN_WIDTH/UNIT_SIZE; i++) {\r\n            //g2.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\r\n        //}\r\n\r\n        Snake.draw(g2);\r\n        Apple.draw(g2);\r\n        \r\n\r\n        g2.dispose();\r\n    }\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.util.ArrayList;\r\n\r\npublic class snake {\r\n    KeyHandler kh;\r\n    int length = 0;\r\n    int xHead = 30;\r\n    int yHead = 30;\r\n    ArrayList&lt;Integer[]&gt; bodyParts = new ArrayList&lt;Integer[]&gt;();\r\n    apple myApple = new apple(this);\r\n\r\n    public snake(KeyHandler kh) {\r\n        this.kh = kh;\r\n    } \r\n\r\n    public void increaseLength() {\r\n        Integer[] newBodyPart = {xHead, yHead};\r\n        bodyParts.add(newBodyPart);\r\n        this.length++;\r\n    }\r\n\r\n    public void checkSnakeCollision() {\r\n        for (int i = 1; i &lt; bodyParts.size(); i++) {\r\n            Integer[] cords = bodyParts.get(i);\r\n            int xBody = cords[0];\r\n            int yBody = cords[1];\r\n            if (xHead == xBody &amp;&amp; yHead == yBody) {\r\n                System.out.println(&quot;OOF&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void update(){\r\n        if (kh.direction == (&quot;up&quot;)) {\r\n            yHead -= 30;\r\n        } else if (kh.direction == (&quot;down&quot;)) {\r\n            yHead += 30;\r\n        } else if (kh.direction == (&quot;left&quot;)) {\r\n            xHead -= 30;\r\n        } else if (kh.direction == (&quot;right&quot;)) {\r\n            xHead += 30;\r\n        }\r\n\r\n        for (int i = bodyParts.size() - 1; i &gt; 0; i--) {\r\n            Integer[] currentBodyPart = bodyParts.get(i);\r\n            Integer[] previousBodyPart = bodyParts.get(i - 1);\r\n            currentBodyPart[0] = previousBodyPart[0];\r\n            currentBodyPart[1] = previousBodyPart[1];\r\n        }\r\n        \r\n        // Update the first body part to the head position\r\n        if (bodyParts.size() &gt; 0) {\r\n            Integer[] firstBodyPart = bodyParts.get(0);\r\n            if (kh.direction == &quot;up&quot;) {\r\n                firstBodyPart[0] = xHead;\r\n                firstBodyPart[1] = yHead + GamePanel.UNIT_SIZE;\r\n            } else if (kh.direction == &quot;down&quot;) {\r\n                firstBodyPart[0] = xHead;\r\n                firstBodyPart[1] = yHead - GamePanel.UNIT_SIZE;\r\n            } else if (kh.direction == &quot;left&quot;) {\r\n                firstBodyPart[0] = xHead + GamePanel.UNIT_SIZE; \r\n                firstBodyPart[1] = yHead;\r\n            } else if (kh.direction == &quot;right&quot;) {\r\n                firstBodyPart[0] = xHead - GamePanel.UNIT_SIZE;\r\n                firstBodyPart[1] = yHead;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void draw(Graphics2D g2) {\r\n        //draw snake\r\n        g2.setColor(Color.GREEN);\r\n        g2.fillRect(xHead, yHead, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \r\n        for (Integer[] cords : bodyParts) {\r\n            int x = cords[0];\r\n            int y = cords[1];\r\n            g2.fillRect(x, y, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE);\r\n        }\r\n    }\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.util.Random;\r\n\r\npublic class apple {\r\n    Random random = new Random();\r\n    snake duck;\r\n\r\n    int appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\r\n    int appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\r\n\r\n    public apple(snake duck) {\r\n        this.duck = duck;\r\n    }\r\n\r\n    public void checkCollision() {\r\n        if (duck.xHead == appleX &amp;&amp; duck.yHead == appleY) {\r\n            duck.increaseLength();\r\n            update();\r\n        }\r\n    }\r\n\r\n    public int getAppleX() {\r\n        return appleX;\r\n    }\r\n\r\n    public int getAppleY() {\r\n        return appleY;\r\n    }\r\n\r\n    public void update() {\r\n        appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\r\n        appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\r\n    }\r\n\r\n    public void draw(Graphics2D g2) {\r\n        //draw apple\r\n        g2.setColor(Color.RED);\r\n        g2.fillRect(appleX, appleY, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \r\n    }\r\n\r\n}\r\n\r\nimport java.awt.RenderingHints.Key;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class KeyHandler implements KeyListener {\r\n\r\n    public boolean upPressed = false;\r\n    public boolean downPressed = false;\r\n    public boolean rightPressed = false;\r\n    public boolean leftPressed = false;\r\n    public String direction;\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        int i = e.getKeyCode();\r\n        if (i == KeyEvent.VK_D) {\r\n            rightPressed = true;\r\n            direction = &quot;right&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_A) {\r\n            leftPressed = true;\r\n            direction = &quot;left&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_S) {\r\n            downPressed = true;\r\n            direction = &quot;down&quot;;\r\n        }\r\n        if (i == KeyEvent.VK_W) {\r\n            upPressed = true;\r\n            direction = &quot;up&quot;;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        int i = e.getKeyCode();\r\n        if (i == KeyEvent.VK_D) {\r\n            rightPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_A){\r\n            leftPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_S) {\r\n            downPressed = false;\r\n        }\r\n        if (i == KeyEvent.VK_W) {\r\n            upPressed = false;\r\n        } \r\n    }\r\n\r\n}\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class main {\r\n    public static void main(String[] args) throws Exception {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.setTitle(&quot;Snake&quot;);\r\n\r\n        GamePanel panel = new GamePanel();\r\n        frame.add(panel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n\r\n        panel.startGameThread();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried increasing the i value for the for loop in the checkSnakeCollision() method to 1 and have tried to make sure the method activates if the snake head is not colliding with an apple, neither worked. ","title":"Java Snake Game snakeCollision method issue","body":"<p>I am creating a simple snake game to help me learn some more java. I'm running into an error however when trying to create a method that properly tracks whether the snake collides with itself or not. I created a simple print statement to check if the method is able to properly detect when my snake runs into itself, which it does. However, it seems to activate whenever the snake runs into an apple. Here is my code:</p>\n<pre><code>import java.awt.*;\nimport java.util.Random;\n\nimport javax.swing.*;\n\npublic class GamePanel extends JPanel implements Runnable {\n    final static int SCREEN_HEIGHT = 780;\n    final static int SCREEN_WIDTH = 1435; \n    final int FPS = 10;\n    final static int UNIT_SIZE = 30;\n    Random random = new Random();\n\n    Thread GameThread;\n    KeyHandler keyH = new KeyHandler();\n\n    snake Snake = new snake(keyH);\n    apple Apple = new apple(Snake);\n\n    GamePanel() {\n        // panel set up\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        this.setBackground(Color.black);\n        this.setFocusable(true);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyH);\n    }\n\n    //starts the thread!\n    public void startGameThread() { \n        GameThread = new Thread(this);\n        GameThread.start();\n    }\n\n    @Override\n    public void run() {\n        /* this is the game loop. drawinterval = one second (in the form of nanoseconds)\n         * divided by the FPS so that we get the amount (0.16 in seconds) the game should update per sec.\n         * We get the current time, subtract it by the last system time, divide that by this drawinterval\n         * which will be a very small decimal that is added to delta. Once delta is one or over, we can\n         * actually update the game.\n         */\n        double drawInterval = 1000000000/FPS;\n        double delta = 0; \n        long lastTime = System.nanoTime();\n        long currentTime; \n        long timer = 0;\n        int drawTime = 0;\n\n        while (GameThread != null) {\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime) / drawInterval;\n            timer += currentTime - lastTime;\n            lastTime = currentTime;\n\n            if (delta &gt;= 1) {\n                update();\n                repaint();\n                delta--;\n                drawTime++;\n            }\n\n            if (timer &gt;= 1000000000) {\n                //System.out.println(&quot;FPS: &quot; + drawTime);\n                drawTime = 0;\n                timer = 0;\n            }\n        }\n    }\n\n    public void update(){\n        Apple.checkCollision();\n        Snake.checkSnakeCollision();\n        Snake.update();\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.WHITE);\n\n        // grid draw\n        // for (int i = 0; i &lt; (SCREEN_HEIGHT/UNIT_SIZE); i++) {\n            //g2.drawLine(0, i*UNIT_SIZE,SCREEN_WIDTH,i*UNIT_SIZE);\n        //}\n        //for (int i = 0; i &lt; SCREEN_WIDTH/UNIT_SIZE; i++) {\n            //g2.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\n        //}\n\n        Snake.draw(g2);\n        Apple.draw(g2);\n        \n\n        g2.dispose();\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.util.ArrayList;\n\npublic class snake {\n    KeyHandler kh;\n    int length = 0;\n    int xHead = 30;\n    int yHead = 30;\n    ArrayList&lt;Integer[]&gt; bodyParts = new ArrayList&lt;Integer[]&gt;();\n    apple myApple = new apple(this);\n\n    public snake(KeyHandler kh) {\n        this.kh = kh;\n    } \n\n    public void increaseLength() {\n        Integer[] newBodyPart = {xHead, yHead};\n        bodyParts.add(newBodyPart);\n        this.length++;\n    }\n\n    public void checkSnakeCollision() {\n        for (int i = 1; i &lt; bodyParts.size(); i++) {\n            Integer[] cords = bodyParts.get(i);\n            int xBody = cords[0];\n            int yBody = cords[1];\n            if (xHead == xBody &amp;&amp; yHead == yBody) {\n                System.out.println(&quot;OOF&quot;);\n            }\n        }\n    }\n\n    public void update(){\n        if (kh.direction == (&quot;up&quot;)) {\n            yHead -= 30;\n        } else if (kh.direction == (&quot;down&quot;)) {\n            yHead += 30;\n        } else if (kh.direction == (&quot;left&quot;)) {\n            xHead -= 30;\n        } else if (kh.direction == (&quot;right&quot;)) {\n            xHead += 30;\n        }\n\n        for (int i = bodyParts.size() - 1; i &gt; 0; i--) {\n            Integer[] currentBodyPart = bodyParts.get(i);\n            Integer[] previousBodyPart = bodyParts.get(i - 1);\n            currentBodyPart[0] = previousBodyPart[0];\n            currentBodyPart[1] = previousBodyPart[1];\n        }\n        \n        // Update the first body part to the head position\n        if (bodyParts.size() &gt; 0) {\n            Integer[] firstBodyPart = bodyParts.get(0);\n            if (kh.direction == &quot;up&quot;) {\n                firstBodyPart[0] = xHead;\n                firstBodyPart[1] = yHead + GamePanel.UNIT_SIZE;\n            } else if (kh.direction == &quot;down&quot;) {\n                firstBodyPart[0] = xHead;\n                firstBodyPart[1] = yHead - GamePanel.UNIT_SIZE;\n            } else if (kh.direction == &quot;left&quot;) {\n                firstBodyPart[0] = xHead + GamePanel.UNIT_SIZE; \n                firstBodyPart[1] = yHead;\n            } else if (kh.direction == &quot;right&quot;) {\n                firstBodyPart[0] = xHead - GamePanel.UNIT_SIZE;\n                firstBodyPart[1] = yHead;\n            }\n        }\n    }\n\n    public void draw(Graphics2D g2) {\n        //draw snake\n        g2.setColor(Color.GREEN);\n        g2.fillRect(xHead, yHead, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \n        for (Integer[] cords : bodyParts) {\n            int x = cords[0];\n            int y = cords[1];\n            g2.fillRect(x, y, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE);\n        }\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.util.Random;\n\npublic class apple {\n    Random random = new Random();\n    snake duck;\n\n    int appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\n    int appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\n\n    public apple(snake duck) {\n        this.duck = duck;\n    }\n\n    public void checkCollision() {\n        if (duck.xHead == appleX &amp;&amp; duck.yHead == appleY) {\n            duck.increaseLength();\n            update();\n        }\n    }\n\n    public int getAppleX() {\n        return appleX;\n    }\n\n    public int getAppleY() {\n        return appleY;\n    }\n\n    public void update() {\n        appleX = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_WIDTH/GamePanel.UNIT_SIZE);\n        appleY = GamePanel.UNIT_SIZE * random.nextInt(GamePanel.SCREEN_HEIGHT/GamePanel.UNIT_SIZE);\n    }\n\n    public void draw(Graphics2D g2) {\n        //draw apple\n        g2.setColor(Color.RED);\n        g2.fillRect(appleX, appleY, GamePanel.UNIT_SIZE, GamePanel.UNIT_SIZE); \n    }\n\n}\n\nimport java.awt.RenderingHints.Key;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyHandler implements KeyListener {\n\n    public boolean upPressed = false;\n    public boolean downPressed = false;\n    public boolean rightPressed = false;\n    public boolean leftPressed = false;\n    public String direction;\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int i = e.getKeyCode();\n        if (i == KeyEvent.VK_D) {\n            rightPressed = true;\n            direction = &quot;right&quot;;\n        }\n        if (i == KeyEvent.VK_A) {\n            leftPressed = true;\n            direction = &quot;left&quot;;\n        }\n        if (i == KeyEvent.VK_S) {\n            downPressed = true;\n            direction = &quot;down&quot;;\n        }\n        if (i == KeyEvent.VK_W) {\n            upPressed = true;\n            direction = &quot;up&quot;;\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        int i = e.getKeyCode();\n        if (i == KeyEvent.VK_D) {\n            rightPressed = false;\n        }\n        if (i == KeyEvent.VK_A){\n            leftPressed = false;\n        }\n        if (i == KeyEvent.VK_S) {\n            downPressed = false;\n        }\n        if (i == KeyEvent.VK_W) {\n            upPressed = false;\n        } \n    }\n\n}\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class main {\n    public static void main(String[] args) throws Exception {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setTitle(&quot;Snake&quot;);\n\n        GamePanel panel = new GamePanel();\n        frame.add(panel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        panel.startGameThread();\n    }\n}\n\n</code></pre>\n<p>I tried increasing the i value for the for loop in the checkSnakeCollision() method to 1 and have tried to make sure the method activates if the snake head is not colliding with an apple, neither worked.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1685433192,"post_id":76362626,"comment_id":134655067,"body_markdown":"I don&#39;t really understand the question. Are you asking on how to schedule tasks in java without Spring (`ScheduledExecutorService`) or how to [make a thread interruptable](https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do)?","body":"I don&#39;t really understand the question. Are you asking on how to schedule tasks in java without Spring (<code>ScheduledExecutorService</code>) or how to <a href=\"https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do\">make a thread interruptable</a>?"},{"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"score":0,"creation_date":1685433734,"post_id":76362626,"comment_id":134655202,"body_markdown":"@daniu I mean I use annotation to start a cron job but I can&#39;t stop it during runtime. So I came up with an idea to use some library in addition to initializing that job with annotation. But I can&#39;t find a specific method to run the cron job and stop it at runtime (may be in catch block, or an api to stop it)","body":"@daniu I mean I use annotation to start a cron job but I can&#39;t stop it during runtime. So I came up with an idea to use some library in addition to initializing that job with annotation. But I can&#39;t find a specific method to run the cron job and stop it at runtime (may be in catch block, or an api to stop it)"},{"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"score":1,"creation_date":1685438711,"post_id":76362626,"comment_id":134656257,"body_markdown":"You can see a similar question [here](https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation).","body":"You can see a similar question <a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685433177,"creation_date":1685433177,"answer_id":76362682,"question_id":76362626,"body_markdown":"You can use the &quot;ThreadPoolTaskScheduler&quot;.\r\n\r\n    ScheduledFuture&lt;?&gt; schedule = taskScheduler.schedule(\r\n      createRunnable(),\r\n      new PeriodicTrigger(5, TimeUnit.SECONDS)\r\n    );\r\n    schedule.cancel(true);\r\n\r\nSee: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html","title":"Create cron job and stop it without @Scheduled Spring Boot","body":"<p>You can use the &quot;ThreadPoolTaskScheduler&quot;.</p>\n<pre><code>ScheduledFuture&lt;?&gt; schedule = taskScheduler.schedule(\n  createRunnable(),\n  new PeriodicTrigger(5, TimeUnit.SECONDS)\n);\nschedule.cancel(true);\n</code></pre>\n<p>See: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/scheduling.html</a></p>\n"}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76362682,"answer_count":1,"score":1,"last_activity_date":1685441352,"creation_date":1685432812,"question_id":76362626,"body_markdown":"I am using `@Scheduled` annotation to initialize a task scheduled in my Spring Boot project.\r\n\r\n```\r\n@Override\r\n@Scheduled(cron = &quot;#{scanningTime}&quot;)\r\npublic void execution() {\r\n    invitePlanScanner();\r\n}\r\n```\r\n\r\nBut I&#39;m have difficulty to stopping it at runtime. My idea is to initialize a cron job in addition to using annotations that able to dynamically use the methods of the library. But after a period of research, I don&#39;t see that java provides a specific way to initialize a job with cron schedule along with a stop method.\r\n\r\n  \r\nAny one have an idea for this problem?","title":"Create cron job and stop it without @Scheduled Spring Boot","body":"<p>I am using <code>@Scheduled</code> annotation to initialize a task scheduled in my Spring Boot project.</p>\n<pre><code>@Override\n@Scheduled(cron = &quot;#{scanningTime}&quot;)\npublic void execution() {\n    invitePlanScanner();\n}\n</code></pre>\n<p>But I'm have difficulty to stopping it at runtime. My idea is to initialize a cron job in addition to using annotations that able to dynamically use the methods of the library. But after a period of research, I don't see that java provides a specific way to initialize a job with cron schedule along with a stop method.</p>\n<p>Any one have an idea for this problem?</p>\n"},{"tags":["java","wildfly","pojo","infinispan"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644945732,"post_id":71130603,"comment_id":125737807,"body_markdown":"Does this answer your question? [Infinispan deserialization white list : Class &#39;\\[I&#39;](https://stackoverflow.com/questions/60437650/infinispan-deserialization-white-list-class-i)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60437650/infinispan-deserialization-white-list-class-i\">Infinispan deserialization white list : Class &#39;&#91;I&#39;</a>"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1644951900,"post_id":71130603,"comment_id":125740112,"body_markdown":"Does not work for me, but thanks anyway. ConfigurationBuilder builder = new ConfigurationBuilder();\n    \tbuilder.addServer()\n    \t         .host(&quot;server&quot;)\n    \t         .port(11222)\n    \t       .security().authentication()\n    \t         .username(&quot;admin&quot;)\n    \t         .password(&quot;password&quot;)\n    \t         .marshaller(new JavaSerializationMarshaller()).addJavaSerialAllowList(&quot;.*&quot;);\n    \tremoteCacheManager = new RemoteCacheManager(builder.build());\n        cache = remoteCacheManager.getCache(&quot;teste15Fev22&quot;);","body":"Does not work for me, but thanks anyway. ConfigurationBuilder builder = new ConfigurationBuilder();     \tbuilder.addServer()     \t         .host(&quot;server&quot;)     \t         .port(11222)     \t       .security().authentication()     \t         .username(&quot;admin&quot;)     \t         .password(&quot;password&quot;)     \t         .marshaller(new JavaSerializationMarshaller()).addJavaSerialAllowList(&quot;.*&quot;);     \tremoteCacheManager = new RemoteCacheManager(builder.build());         cache = remoteCacheManager.getCache(&quot;teste15Fev22&quot;);"},{"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"score":0,"creation_date":1645002878,"post_id":71130603,"comment_id":125752147,"body_markdown":"can you share the exception full stack trace?","body":"can you share the exception full stack trace?"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1645008143,"post_id":71130603,"comment_id":125754271,"body_markdown":"I share it above. Thanks!","body":"I share it above. Thanks!"},{"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"score":0,"creation_date":1645034555,"post_id":71130603,"comment_id":125765560,"body_markdown":"I update my ticket to became more readable. Thanks guys.","body":"I update my ticket to became more readable. Thanks guys."}],"answers":[{"tags":[],"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645112292,"creation_date":1645112292,"answer_id":71161059,"question_id":71130603,"body_markdown":"The answer is in the cache configuration. In earlier versions of Infinispan we need to define/create a cache. In older versions I use default cache and have no problem.\r\n\r\nMy working cache configuration:\r\n\r\n    {\r\n      &quot;distributed-cache&quot;: {\r\n        &quot;mode&quot;: &quot;SYNC&quot;,\r\n        &quot;statistics&quot;: true,\r\n        &quot;encoding&quot;: {\r\n          &quot;key&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nPermissions problem I had in past (**blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.**) accessing classes manifested itself when I had the following configuration media-type &quot;**application/x-java-object**&quot;. This configuration does not work!\r\n\r\nThanks for your help!","title":"Infinispan 13.0.6 - Error putting custom java classes (POJO) in cache via WildFly 26.0.1.Final","body":"<p>The answer is in the cache configuration. In earlier versions of Infinispan we need to define/create a cache. In older versions I use default cache and have no problem.</p>\n<p>My working cache configuration:</p>\n<pre><code>{\n  &quot;distributed-cache&quot;: {\n    &quot;mode&quot;: &quot;SYNC&quot;,\n    &quot;statistics&quot;: true,\n    &quot;encoding&quot;: {\n      &quot;key&quot;: {\n        &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\n      },\n      &quot;value&quot;: {\n        &quot;media-type&quot;: &quot;application/x-java-serialized-object&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Permissions problem I had in past (<strong>blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.</strong>) accessing classes manifested itself when I had the following configuration media-type &quot;<strong>application/x-java-object</strong>&quot;. This configuration does not work!</p>\n<p>Thanks for your help!</p>\n"}],"owner":{"account_id":3009707,"reputation":336,"user_id":2553486,"accept_rate":50,"display_name":"Manuel Franqueira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685441212,"creation_date":1644945170,"question_id":71130603,"body_markdown":"I&#39;m using WildFly26.0.1.Final to connect to Infinispan 13.0.6 and when I try to put an POJO object in a Infinispan cache I got this error:\r\n\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:\r\n    Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: \r\n    ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. \r\n    Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n\r\nMy configuration is:\r\n\r\n    ConfigurationBuilder builder =  new ConfigurationBuilder(); \r\n    \tbuilder.addServer().host(&quot;server&quot;)\r\n    \t\t\t.port(11222)\r\n    \t\t\t.security()\r\n    \t\t\t.authentication()\r\n    \t\t\t.username(&quot;admin&quot;)\r\n    \t\t\t.password(&quot;password&quot;)\r\n    \t\t\t.addJavaSerialWhiteList(&quot;pt.pe.sipe.*&quot;) //you can set the class name or use regex\r\n    \t\t\t.marshaller(JavaSerializationMarshaller.class);\r\n    \t\r\n    \tRemoteCacheManager rim = new RemoteCacheManager(builder.build());\r\n    \t\r\n    \tcache = rim.getCache(&quot;teste15Fev22&quot;);\r\n    \t\r\n    \tSampleDTO fd = new SampleDTO();\r\n    \tfd.setDescTipo(&quot;Franqueira&quot;);\r\n    \tSystem.out.println(&quot;A adicionar &#224; cache A&quot;);\r\n    \tcache.put(&quot;A&quot;, fd);\r\n    \tSystem.out.println(&quot;Em cache: &quot;+cache.get(&quot;A&quot;).getClass());\r\n\r\n\r\n**The full stack trace is:**\r\n\r\n    2022-02-16 17:41:51,825 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 215) MSC000001: Failed to start service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:170)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:141)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)\r\n\t... 8 more\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInNoTx(CMTTxInterceptor.java:239)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.supports(CMTTxInterceptor.java:446)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:70)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.weld@26.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:168)\r\n\t... 13 more\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.checkForErrorsInResponseStatus(Codec20.java:323)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.readHeader(Codec20.java:168)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HeaderDecoder.decode(HeaderDecoder.java:139)\r\n\tat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HintedReplayingDecoder.callDecode(HintedReplayingDecoder.java:94)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-codec-4.1.72.Final.jar//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-handler-4.1.72.Final.jar//io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n    2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n    Caused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\r\n    Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class &#39;pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO&#39; blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\r\n\r\n\r\nThanks, Manuel\r\n","title":"Infinispan 13.0.6 - Error putting custom java classes (POJO) in cache via WildFly 26.0.1.Final","body":"<p>I'm using WildFly26.0.1.Final to connect to Infinispan 13.0.6 and when I try to put an POJO object in a Infinispan cache I got this error:</p>\n<pre><code>Caused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:\nRequest for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: \nISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. \nAdjust the configuration serialization allow list regular expression to include this class.&quot;}}\n</code></pre>\n<p>My configuration is:</p>\n<pre><code>ConfigurationBuilder builder =  new ConfigurationBuilder(); \n    builder.addServer().host(&quot;server&quot;)\n            .port(11222)\n            .security()\n            .authentication()\n            .username(&quot;admin&quot;)\n            .password(&quot;password&quot;)\n            .addJavaSerialWhiteList(&quot;pt.pe.sipe.*&quot;) //you can set the class name or use regex\n            .marshaller(JavaSerializationMarshaller.class);\n    \n    RemoteCacheManager rim = new RemoteCacheManager(builder.build());\n    \n    cache = rim.getCache(&quot;teste15Fev22&quot;);\n    \n    SampleDTO fd = new SampleDTO();\n    fd.setDescTipo(&quot;Franqueira&quot;);\n    System.out.println(&quot;A adicionar à cache A&quot;);\n    cache.put(&quot;A&quot;, fd);\n    System.out.println(&quot;Em cache: &quot;+cache.get(&quot;A&quot;).getClass());\n</code></pre>\n<p><strong>The full stack trace is:</strong></p>\n<pre><code>2022-02-16 17:41:51,825 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 215) MSC000001: Failed to start service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;emporium-ear.ear&quot;.&quot;emporium-ejb.jar&quot;.component.CacheManager.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat java.base/java.lang.Thread.run(Thread.java:833)\nat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:170)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:141)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)\n... 8 more\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInNoTx(CMTTxInterceptor.java:239)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.supports(CMTTxInterceptor.java:446)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:70)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.weld@26.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.as.ejb3@26.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\nat org.jboss.invocation@1.7.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\nat org.jboss.as.ee@26.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:168)\n... 13 more\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.checkForErrorsInResponseStatus(Codec20.java:323)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.protocol.Codec20.readHeader(Codec20.java:168)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HeaderDecoder.decode(HeaderDecoder.java:139)\nat deployment.emporium-ear.ear.org.infinispan-infinispan-client-hotrod-13.0.6.Final.jar//org.infinispan.client.hotrod.impl.transport.netty.HintedReplayingDecoder.callDecode(HintedReplayingDecoder.java:94)\nat deployment.emporium-ear.ear.io.netty-netty-codec-4.1.72.Final.jar//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat deployment.emporium-ear.ear.io.netty-netty-handler-4.1.72.Final.jar//io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat deployment.emporium-ear.ear.io.netty-netty-transport-4.1.72.Final.jar//io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\nat deployment.emporium-ear.ear.io.netty-netty-common-4.1.72.Final.jar//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\n2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\n2022-02-16 17:41:51,826 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;full-replace-deployment&quot;) failed - address: ([]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;emporium-ear.ear\\&quot;.\\&quot;emporium-ejb.jar\\&quot;.component.CacheManager.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\nCaused by: javax.ejb.EJBException: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.\nCaused by: org.infinispan.client.hotrod.exceptions.HotRodClientException:Request for messageId=15 returned server error (status=0x85): org.infinispan.commons.CacheException: ISPN000936: Class 'pt.pe.sipe.storefrontmanager.api.artigo.SampleDTO' blocked by deserialization allow list. Adjust the configuration serialization allow list regular expression to include this class.&quot;}}\n</code></pre>\n<p>Thanks, Manuel</p>\n"},{"tags":["java","webapi","vuforia","vuforia-cloud-recognition"],"owner":{"account_id":15937376,"reputation":63,"user_id":11500163,"display_name":"oskar2771"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685440983,"creation_date":1685440983,"question_id":76363696,"body_markdown":"Triyng to integrate Vuforia Web API in Java...\r\n\r\nThese are the requirements to submit a recognition query from the official website https://library.vuforia.com/web-api/vuforia-query-web-api\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd this is the explanation of building the signature key for Authorization header https://library.vuforia.com/web-api/vuforia-web-api-authentication\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThey also provide a [sample][4] in Java where you can find whole process of setting request with Authorization Header \r\n\r\nFollowing the instructions of sample i wrote the following code\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URISyntaxException;\r\n    import java.security.SignatureException;\r\n    import java.util.Date;\r\n\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n    import org.apache.commons.codec.digest.DigestUtils;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n    import org.apache.http.entity.ContentType;\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.impl.cookie.DateUtils;\r\n    import org.apache.http.message.BasicHeader;\r\n    import org.apache.http.util.EntityUtils;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n\r\n\r\n    @Service\r\n    @Repository\r\n    public class VuforiaServices {\r\n\t\r\n\tprivate static final String BASE_URL = &quot;https://cloudreco.vuforia.com&quot;;\r\n\t\r\n    private static final String ACCESS_KEY = &quot;AGDPKY9CBAEVCKQENRZPX&quot;; // Replace with your Vuforia access key\r\n    private static final String SECRET_KEY = &quot;eLIsEsiqloSazCWpn9csRHnqso784wZSi&quot;; // Replace with your Vuforia secret key\r\n    private static final String DATABASE_ID = &quot;condivino&quot;; // Replace with your Vuforia database ID\r\n    \r\n\tpublic String tmsSignature(HttpUriRequest request, String secretKey) {\r\n\t\tString method = request.getMethod();\r\n\t\tString contentType = &quot;&quot;;\r\n\t\tString hexDigest = &quot;d41d8cd98f00b204e9800998ecf8427e&quot;; // Hex digest of an empty string\r\n\r\n\t\tif (method.equalsIgnoreCase(&quot;GET&quot;) || method.equalsIgnoreCase(&quot;DELETE&quot;)) {\r\n\t\t\t// Do nothing because the strings are already set correctly\r\n\t\t} else if (method.equalsIgnoreCase(&quot;POST&quot;) || method.equalsIgnoreCase(&quot;PUT&quot;)) {\r\n\t\t\tcontentType = &quot;application/json&quot;;\r\n\t\t\t// If this is a POST or PUT the request should have a request body\r\n\t\t\thexDigest = contentMD5((HttpEntityEnclosingRequestBase) request);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;ERROR: Invalid content type passed to Sig Builder&quot;);\r\n\t\t}\r\n\r\n\t\t// Date in the header and date used to calculate the hash must be the same\r\n\t\tString dateValue = request.getFirstHeader(&quot;Date&quot;).getValue();\r\n\t\tString requestPath = request.getURI().getPath();\r\n\t\tString toDigest = new String(method + &quot;\\n&quot; + hexDigest + &quot;\\n&quot; + contentType + &quot;\\n&quot; + dateValue + &quot;\\n&quot; + requestPath);\r\n\t\tString shaHashed = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(toDigest);\r\n\t\t\tshaHashed = calculateRFC2104HMAC(secretKey, toDigest);\r\n\t\t} catch (SignatureException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn new String(shaHashed);\r\n\t}\r\n\r\n\tprivate String contentMD5(HttpEntityEnclosingRequestBase httpMethod) {\r\n\t\tByteArrayOutputStream requestOutputStream = new ByteArrayOutputStream();\r\n\t\ttry {\r\n\t\t\thttpMethod.getEntity().writeTo(requestOutputStream);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: IOException caught when writing Content MD5 hash&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn DigestUtils.md5Hex(requestOutputStream.toByteArray()).toLowerCase();\r\n\t}\r\n\r\n\tpublic static String calculateRFC2104HMAC(String key, String data) throws java.security.SignatureException {\r\n\t\tString result = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\t// get an hmac_sha1 key from the raw key bytes\r\n\t\t\tSecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), &quot;HmacSHA1&quot;);\r\n\r\n\t\t\t// get an hmac_sha1 Mac instance and initialize with the signing key\r\n\t\t\tMac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n\t\t\tmac.init(signingKey);\r\n\r\n\t\t\t// compute the hmac on input data bytes\r\n\t\t\tbyte[] rawHmac = mac.doFinal(data.getBytes());\r\n\r\n\t\t\t// base64-encode the hmac\r\n\t\t\tresult = new String(org.apache.commons.codec.binary.Base64.encodeBase64(rawHmac, false));\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic void queryTargetRecognitionV2(String targetFilePath) throws URISyntaxException, ClientProtocolException, IOException {\r\n    \t String endpoint = &quot;/v1/query&quot;;\r\n         String url = BASE_URL + endpoint;\r\n         \r\n         HttpClient client = new DefaultHttpClient();\r\n         HttpPost postRequest = new HttpPost(url);\r\n\r\n\t\tsetBody(postRequest, targetFilePath);\r\n\t\tsetHeaders(postRequest);\r\n\t\t\r\n\t\tHttpResponse response = client.execute(postRequest);\r\n\t\tSystem.out.println(EntityUtils.toString(response.getEntity()));\r\n\t}\r\n\t\r\n\tprivate void setHeaders(HttpUriRequest request) {\r\n\t\trequest.setHeader(new BasicHeader(&quot;Date&quot;, DateUtils.formatDate(new Date()).replaceFirst(&quot;[+]00:00$&quot;, &quot;&quot;)));\r\n\t\trequest.setHeader(&quot;Authorization&quot;, &quot;VWS &quot; + ACCESS_KEY + &quot;:&quot; + tmsSignature(request, SECRET_KEY));\r\n\t}\r\n\t\r\n\tprivate void setBody(HttpPost postRequest, String imagePath) {\r\n\t\tFile imageFile = new File(imagePath);\r\n\t\t\r\n\t\t// Create the multipart request entity\r\n        MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\r\n        entityBuilder.addTextBody(&quot;database_id&quot;, DATABASE_ID);\r\n        entityBuilder.addBinaryBody(&quot;image&quot;, imageFile, ContentType.IMAGE_PNG, imageFile.getName());\r\n        postRequest.setEntity(entityBuilder.build());\r\n\t}\r\n    }\r\n\r\nAs result this is output from header\r\n\r\n    Method: POST\r\n    Content-MD5: 8b8fcc7b800a277a832ce87833038725\r\n    Content-Type: multipart/form-data\r\n    Date: Tue, 30 May 2023 09:19:41 GMT\r\n    Request-Path: /v1/query\r\n\r\nBut somehow the API respond to me with an 401 ( AuthenticationFailure ) error that should be generated when the signature key is malformatted.\r\n\r\n    {&quot;transaction_id&quot;:&quot;34e9ab80bd9f47989141c5844322255d&quot;,&quot;result_code&quot;:&quot;AuthenticationFailure&quot;}\r\n\r\n\r\nMaybe someone already integrated Vuforia Recognition Web API in Java and know to give me an answer to resolve this problem, the point is that the documentation on their website is not quite clear, or the sample that they provided is outdated? Of course I tried different approaches and tried to get some answers from their forum that now is readonly, but only thing i got is that I&#39;m not the only getting troubles with signature key.\r\n\r\n  [1]: https://i.stack.imgur.com/fIcVD.png\r\n  [2]: https://i.stack.imgur.com/uLad5.png\r\n  [3]: https://i.stack.imgur.com/6cEHL.png\r\n  [4]: https://developer.vuforia.com/downloads/samples","title":"AuthenticationFailure Vuforia Cloud Recognition using Java Spring","body":"<p>Triyng to integrate Vuforia Web API in Java...</p>\n<p>These are the requirements to submit a recognition query from the official website <a href=\"https://library.vuforia.com/web-api/vuforia-query-web-api\" rel=\"nofollow noreferrer\">https://library.vuforia.com/web-api/vuforia-query-web-api</a></p>\n<p><a href=\"https://i.stack.imgur.com/fIcVD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIcVD.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the explanation of building the signature key for Authorization header <a href=\"https://library.vuforia.com/web-api/vuforia-web-api-authentication\" rel=\"nofollow noreferrer\">https://library.vuforia.com/web-api/vuforia-web-api-authentication</a></p>\n<p><a href=\"https://i.stack.imgur.com/uLad5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLad5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6cEHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6cEHL.png\" alt=\"enter image description here\" /></a></p>\n<p>They also provide a <a href=\"https://developer.vuforia.com/downloads/samples\" rel=\"nofollow noreferrer\">sample</a> in Java where you can find whole process of setting request with Authorization Header</p>\n<p>Following the instructions of sample i wrote the following code</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.security.SignatureException;\nimport java.util.Date;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.digest.DigestUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.apache.http.entity.ContentType;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.impl.cookie.DateUtils;\nimport org.apache.http.message.BasicHeader;\nimport org.apache.http.util.EntityUtils;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\n\n@Service\n@Repository\npublic class VuforiaServices {\n\nprivate static final String BASE_URL = &quot;https://cloudreco.vuforia.com&quot;;\n\nprivate static final String ACCESS_KEY = &quot;AGDPKY9CBAEVCKQENRZPX&quot;; // Replace with your Vuforia access key\nprivate static final String SECRET_KEY = &quot;eLIsEsiqloSazCWpn9csRHnqso784wZSi&quot;; // Replace with your Vuforia secret key\nprivate static final String DATABASE_ID = &quot;condivino&quot;; // Replace with your Vuforia database ID\n\npublic String tmsSignature(HttpUriRequest request, String secretKey) {\n    String method = request.getMethod();\n    String contentType = &quot;&quot;;\n    String hexDigest = &quot;d41d8cd98f00b204e9800998ecf8427e&quot;; // Hex digest of an empty string\n\n    if (method.equalsIgnoreCase(&quot;GET&quot;) || method.equalsIgnoreCase(&quot;DELETE&quot;)) {\n        // Do nothing because the strings are already set correctly\n    } else if (method.equalsIgnoreCase(&quot;POST&quot;) || method.equalsIgnoreCase(&quot;PUT&quot;)) {\n        contentType = &quot;application/json&quot;;\n        // If this is a POST or PUT the request should have a request body\n        hexDigest = contentMD5((HttpEntityEnclosingRequestBase) request);\n    } else {\n        System.out.println(&quot;ERROR: Invalid content type passed to Sig Builder&quot;);\n    }\n\n    // Date in the header and date used to calculate the hash must be the same\n    String dateValue = request.getFirstHeader(&quot;Date&quot;).getValue();\n    String requestPath = request.getURI().getPath();\n    String toDigest = new String(method + &quot;\\n&quot; + hexDigest + &quot;\\n&quot; + contentType + &quot;\\n&quot; + dateValue + &quot;\\n&quot; + requestPath);\n    String shaHashed = &quot;&quot;;\n    try {\n        System.out.println(toDigest);\n        shaHashed = calculateRFC2104HMAC(secretKey, toDigest);\n    } catch (SignatureException e) {\n        e.printStackTrace();\n    }\n    return new String(shaHashed);\n}\n\nprivate String contentMD5(HttpEntityEnclosingRequestBase httpMethod) {\n    ByteArrayOutputStream requestOutputStream = new ByteArrayOutputStream();\n    try {\n        httpMethod.getEntity().writeTo(requestOutputStream);\n    } catch (IOException e) {\n        System.out.println(&quot;ERROR: IOException caught when writing Content MD5 hash&quot;);\n        e.printStackTrace();\n    }\n    return DigestUtils.md5Hex(requestOutputStream.toByteArray()).toLowerCase();\n}\n\npublic static String calculateRFC2104HMAC(String key, String data) throws java.security.SignatureException {\n    String result = &quot;&quot;;\n    try {\n        // get an hmac_sha1 key from the raw key bytes\n        SecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), &quot;HmacSHA1&quot;);\n\n        // get an hmac_sha1 Mac instance and initialize with the signing key\n        Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\n        mac.init(signingKey);\n\n        // compute the hmac on input data bytes\n        byte[] rawHmac = mac.doFinal(data.getBytes());\n\n        // base64-encode the hmac\n        result = new String(org.apache.commons.codec.binary.Base64.encodeBase64(rawHmac, false));\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n\npublic void queryTargetRecognitionV2(String targetFilePath) throws URISyntaxException, ClientProtocolException, IOException {\n     String endpoint = &quot;/v1/query&quot;;\n     String url = BASE_URL + endpoint;\n     \n     HttpClient client = new DefaultHttpClient();\n     HttpPost postRequest = new HttpPost(url);\n\n    setBody(postRequest, targetFilePath);\n    setHeaders(postRequest);\n    \n    HttpResponse response = client.execute(postRequest);\n    System.out.println(EntityUtils.toString(response.getEntity()));\n}\n\nprivate void setHeaders(HttpUriRequest request) {\n    request.setHeader(new BasicHeader(&quot;Date&quot;, DateUtils.formatDate(new Date()).replaceFirst(&quot;[+]00:00$&quot;, &quot;&quot;)));\n    request.setHeader(&quot;Authorization&quot;, &quot;VWS &quot; + ACCESS_KEY + &quot;:&quot; + tmsSignature(request, SECRET_KEY));\n}\n\nprivate void setBody(HttpPost postRequest, String imagePath) {\n    File imageFile = new File(imagePath);\n    \n    // Create the multipart request entity\n    MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\n    entityBuilder.addTextBody(&quot;database_id&quot;, DATABASE_ID);\n    entityBuilder.addBinaryBody(&quot;image&quot;, imageFile, ContentType.IMAGE_PNG, imageFile.getName());\n    postRequest.setEntity(entityBuilder.build());\n}\n}\n</code></pre>\n<p>As result this is output from header</p>\n<pre><code>Method: POST\nContent-MD5: 8b8fcc7b800a277a832ce87833038725\nContent-Type: multipart/form-data\nDate: Tue, 30 May 2023 09:19:41 GMT\nRequest-Path: /v1/query\n</code></pre>\n<p>But somehow the API respond to me with an 401 ( AuthenticationFailure ) error that should be generated when the signature key is malformatted.</p>\n<pre><code>{&quot;transaction_id&quot;:&quot;34e9ab80bd9f47989141c5844322255d&quot;,&quot;result_code&quot;:&quot;AuthenticationFailure&quot;}\n</code></pre>\n<p>Maybe someone already integrated Vuforia Recognition Web API in Java and know to give me an answer to resolve this problem, the point is that the documentation on their website is not quite clear, or the sample that they provided is outdated? Of course I tried different approaches and tried to get some answers from their forum that now is readonly, but only thing i got is that I'm not the only getting troubles with signature key.</p>\n"},{"tags":["java","spring","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":5430343,"reputation":131,"user_id":4321414,"display_name":"Julien Antony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440922,"creation_date":1685440922,"answer_id":76363692,"question_id":76362369,"body_markdown":"I assume the name of the procedure in the database is `Car.GetUsersByCity`. If that&#39;s the case, then replace your annotation with\r\n```java\r\n@Procedure(procedureName = &quot;Car.GetUsersByCity&quot;)\r\n```\r\n\r\nFrom the [javadoc](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/query/Procedure.html), &quot;name&quot; is dedicated to the name of the procedure in the EntityManager","title":"Mapping stored procedure result set to entity/POJO using Spring JPA with SQL Server - SQLGrammarException","body":"<p>I assume the name of the procedure in the database is <code>Car.GetUsersByCity</code>. If that's the case, then replace your annotation with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Procedure(procedureName = &quot;Car.GetUsersByCity&quot;)\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/query/Procedure.html\" rel=\"nofollow noreferrer\">javadoc</a>, &quot;name&quot; is dedicated to the name of the procedure in the EntityManager</p>\n"}],"owner":{"account_id":1597267,"reputation":399,"user_id":1479046,"accept_rate":81,"display_name":"Vawani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685440922,"creation_date":1685430610,"question_id":76362369,"body_markdown":"I am using Spring JPA to execute a stored procedure in my application. The stored procedure takes two parameters and returns a result set. I have a repository interface called CarRepository that extends JpaRepository&lt;Car, Integer&gt;. In the repository, I have a custom method getAllCars annotated with @Procedure to invoke the stored procedure.\r\n\r\nHere is the updated code snippet for the repository:\r\n\r\n    @Repository\r\n    public interface CarRepository extends JpaRepository&lt;Car, Integer&gt; {\r\n        @Procedure(name = &quot;Car.GetUsersByCity&quot;)\r\n        Object[] getAllCars(@Param(&quot;cityName&quot;) String city, @Param(&quot;countryName&quot;) String country);\r\n    }\r\nThe Car entity class is already defined.\r\n\r\nWhen I invoke the getAllCars method, I encounter the following exception:\r\n\r\n \r\n\r\n    SOL Error: 102, SQLState: S0001\r\n    2023-05-30 12:17:52.817 ERROR 1508 _.- [nio-8080-exec-1] o.h.engine. jdbc. spi.SqlExceptionHelper\r\n    :Incorrect syntax near .\r\n    2023-05-30 12:17:52.860 ERROR 1508--- (nio-8080-exec-1] o.a.c.c.c.[.(.(/].(dispatcherServlet]\r\n    : Servlet.service () for\r\n    servlet [dispatcherServlet] in context with path [J threw exception [Request processing failed: nested exception 13 org.springframework.dao. InvalidDataAccessResourceUsageException: could not extract ResultSet: SQL (n/a]: nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near\r\n    at com.microsoft.sqlserver. jdbc. SQLServerException.makeFromDatabaseError (SQLServerException. java:216)\r\n\r\n   \r\n\r\n\r\n\r\nI have verified that the stored procedure GetUsersByCity is correctly defined in my SQL Server database with the appropriate parameter names and data types. However, I am unable to identify the cause of the syntax error.\r\n\r\nI would appreciate any insights or suggestions on how to resolve this issue and successfully map the result set from the stored procedure to the desired entity or POJO class using Spring JPA and SQL Server.\r\n\r\nThank you for your assistance!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mapping stored procedure result set to entity/POJO using Spring JPA with SQL Server - SQLGrammarException","body":"<p>I am using Spring JPA to execute a stored procedure in my application. The stored procedure takes two parameters and returns a result set. I have a repository interface called CarRepository that extends JpaRepository&lt;Car, Integer&gt;. In the repository, I have a custom method getAllCars annotated with @Procedure to invoke the stored procedure.</p>\n<p>Here is the updated code snippet for the repository:</p>\n<pre><code>@Repository\npublic interface CarRepository extends JpaRepository&lt;Car, Integer&gt; {\n    @Procedure(name = &quot;Car.GetUsersByCity&quot;)\n    Object[] getAllCars(@Param(&quot;cityName&quot;) String city, @Param(&quot;countryName&quot;) String country);\n}\n</code></pre>\n<p>The Car entity class is already defined.</p>\n<p>When I invoke the getAllCars method, I encounter the following exception:</p>\n<pre><code>SOL Error: 102, SQLState: S0001\n2023-05-30 12:17:52.817 ERROR 1508 _.- [nio-8080-exec-1] o.h.engine. jdbc. spi.SqlExceptionHelper\n:Incorrect syntax near .\n2023-05-30 12:17:52.860 ERROR 1508--- (nio-8080-exec-1] o.a.c.c.c.[.(.(/].(dispatcherServlet]\n: Servlet.service () for\nservlet [dispatcherServlet] in context with path [J threw exception [Request processing failed: nested exception 13 org.springframework.dao. InvalidDataAccessResourceUsageException: could not extract ResultSet: SQL (n/a]: nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\ncom.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near\nat com.microsoft.sqlserver. jdbc. SQLServerException.makeFromDatabaseError (SQLServerException. java:216)\n</code></pre>\n<p>I have verified that the stored procedure GetUsersByCity is correctly defined in my SQL Server database with the appropriate parameter names and data types. However, I am unable to identify the cause of the syntax error.</p>\n<p>I would appreciate any insights or suggestions on how to resolve this issue and successfully map the result set from the stored procedure to the desired entity or POJO class using Spring JPA and SQL Server.</p>\n<p>Thank you for your assistance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11369964,"reputation":158,"user_id":8335779,"accept_rate":38,"display_name":"Atik Faysal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440762,"creation_date":1685440762,"answer_id":76363676,"question_id":76363391,"body_markdown":"I think you made a mistake. You add scroll listener to NestedScrollView, it should be add with RecyclerView.\r\n\r\nTry this \r\n\r\n    recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n                if (isLastItemDisplaying(recyclerView)) {\r\n                    //Calling the method getdata again\r\n                    page++;\r\n                    loadingPB.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n\r\nYou can check this [answare][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45908930/android-recyclerview-adding-pagination","title":"Page number is not working in onScroll view in android nested scroller view","body":"<p>I think you made a mistake. You add scroll listener to NestedScrollView, it should be add with RecyclerView.</p>\n<p>Try this</p>\n<pre><code>recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            if (isLastItemDisplaying(recyclerView)) {\n                //Calling the method getdata again\n                page++;\n                loadingPB.setVisibility(View.VISIBLE);\n            }\n        }\n    });\n</code></pre>\n<p>You can check this <a href=\"https://stackoverflow.com/questions/45908930/android-recyclerview-adding-pagination\">answare</a></p>\n"}],"owner":{"account_id":24685170,"reputation":55,"user_id":18578453,"display_name":"Milindi Senevirathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685440762,"creation_date":1685438721,"question_id":76363391,"body_markdown":"I am trying to add pagination to my code. As the first step, I am trying to fetch only 3 records for page = 1. When scrolling the page, I am trying to increase the page number using onScroll() method. But when I am scrolling page count is not increased. Why? \r\n\r\nThis is the code how I call onScroll method inside the onCreate method of my activity.\r\n```\r\nrecyclerView = findViewById(R.id.taskList);\r\n        loadingPB = findViewById(R.id.idPBLoading);\r\n        nestedSV = findViewById(R.id.idNestedSV);\r\n        page = 1;\r\n\r\n\r\n        nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                // on scroll change we are checking when users scroll as bottom.\r\n                if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\r\n                    // in this method we are incrementing page number,\r\n                    // making progress bar visible and calling get data method.\r\n                    page++;\r\n                    loadingPB.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nThis is how I fetch data from database.\r\n```\r\ndailyTaskViewModel.getAllTaskTemplatesByStatus(status).observe(this, new Observer&lt;List&lt;TaskTemplateWithTasks&gt;&gt;() {\r\n                @Override\r\n                public void onChanged(List&lt;TaskTemplateWithTasks&gt; templateWithTasks) {\r\n                    taskCount = templateWithTasks.size();\r\n                    if(templateWithTasks.size() == 0){\r\n                        messageText.setVisibility(View.VISIBLE);\r\n                    }\r\n                    else{\r\n                        messageText.setVisibility(View.GONE);\r\n                    }\r\n                    if (page == 1 &amp;&amp; templateWithTasks.size() &gt; 3) {\r\n                        List&lt;TaskTemplateWithTasks&gt; limitedList = templateWithTasks.subList(0, 3); // Get the first 3 elements\r\n                        dailyTaskListAdapter.setTaskTemplates(new ArrayList&lt;&gt;(limitedList));\r\n                    } else {\r\n                        dailyTaskListAdapter.setTaskTemplates(templateWithTasks);\r\n                    }\r\n                    dailyTaskListAdapter.notifyDataSetChanged();\r\n                    EditText search = findViewById(R.id.search);\r\n                    search.setText(&quot;&quot;);\r\n                    startAdapterFilter(searchText);\r\n\r\n                }\r\n            });\r\n```\r\n\r\nThis is activity.xml code.\r\n```\r\n&lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/idNestedSV&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                android:background=&quot;@drawable/outline&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;@dimen/content_padding&quot;&gt;\r\n\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;&gt;\r\n\r\n\r\n                    &lt;androidx.recyclerview.widget.RecyclerView\r\n                        android:id=&quot;@+id/taskList&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_marginRight=&quot;5dp&quot;\r\n                        app:layoutManager=&quot;LinearLayoutManager&quot;\r\n                        tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;\r\n                        tools:listitem=&quot;@layout/task_item&quot; /&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/message_text&quot;\r\n                        android:layout_marginTop=&quot;30dp&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:textSize=&quot;20sp&quot;\r\n                        android:visibility=&quot;gone&quot;\r\n                        android:text=&quot;@string/can_t_find_records&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n                    &lt;ProgressBar\r\n                        android:id=&quot;@+id/idPBLoading&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n``` ","title":"Page number is not working in onScroll view in android nested scroller view","body":"<p>I am trying to add pagination to my code. As the first step, I am trying to fetch only 3 records for page = 1. When scrolling the page, I am trying to increase the page number using onScroll() method. But when I am scrolling page count is not increased. Why?</p>\n<p>This is the code how I call onScroll method inside the onCreate method of my activity.</p>\n<pre><code>recyclerView = findViewById(R.id.taskList);\n        loadingPB = findViewById(R.id.idPBLoading);\n        nestedSV = findViewById(R.id.idNestedSV);\n        page = 1;\n\n\n        nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\n            @Override\n            public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n                // on scroll change we are checking when users scroll as bottom.\n                if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\n                    // in this method we are incrementing page number,\n                    // making progress bar visible and calling get data method.\n                    page++;\n                    loadingPB.setVisibility(View.VISIBLE);\n                }\n            }\n        });\n</code></pre>\n<p>This is how I fetch data from database.</p>\n<pre><code>dailyTaskViewModel.getAllTaskTemplatesByStatus(status).observe(this, new Observer&lt;List&lt;TaskTemplateWithTasks&gt;&gt;() {\n                @Override\n                public void onChanged(List&lt;TaskTemplateWithTasks&gt; templateWithTasks) {\n                    taskCount = templateWithTasks.size();\n                    if(templateWithTasks.size() == 0){\n                        messageText.setVisibility(View.VISIBLE);\n                    }\n                    else{\n                        messageText.setVisibility(View.GONE);\n                    }\n                    if (page == 1 &amp;&amp; templateWithTasks.size() &gt; 3) {\n                        List&lt;TaskTemplateWithTasks&gt; limitedList = templateWithTasks.subList(0, 3); // Get the first 3 elements\n                        dailyTaskListAdapter.setTaskTemplates(new ArrayList&lt;&gt;(limitedList));\n                    } else {\n                        dailyTaskListAdapter.setTaskTemplates(templateWithTasks);\n                    }\n                    dailyTaskListAdapter.notifyDataSetChanged();\n                    EditText search = findViewById(R.id.search);\n                    search.setText(&quot;&quot;);\n                    startAdapterFilter(searchText);\n\n                }\n            });\n</code></pre>\n<p>This is activity.xml code.</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/idNestedSV&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\n                android:background=&quot;@drawable/outline&quot;\n                android:orientation=&quot;vertical&quot;\n                android:padding=&quot;@dimen/content_padding&quot;&gt;\n\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;&gt;\n\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:id=&quot;@+id/taskList&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:layout_marginLeft=&quot;5dp&quot;\n                        android:layout_marginRight=&quot;5dp&quot;\n                        app:layoutManager=&quot;LinearLayoutManager&quot;\n                        tools:context=&quot;.view.activity.dailyTask.DailyTaskListActivity&quot;\n                        tools:listitem=&quot;@layout/task_item&quot; /&gt;\n\n\n                    &lt;TextView\n                        android:id=&quot;@+id/message_text&quot;\n                        android:layout_marginTop=&quot;30dp&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;20sp&quot;\n                        android:visibility=&quot;gone&quot;\n                        android:text=&quot;@string/can_t_find_records&quot;\n                        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n                    &lt;ProgressBar\n                        android:id=&quot;@+id/idPBLoading&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n\n\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":19,"creation_date":1339168155,"post_id":10950914,"comment_id":14293688,"body_markdown":"Many answers are suggesting using BigDecimal&#39;s .equals() method. But that method takes scale into consideration, so is not equivalent to using compareTo().","body":"Many answers are suggesting using BigDecimal&#39;s .equals() method. But that method takes scale into consideration, so is not equivalent to using compareTo()."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":651,"is_accepted":true,"score":651,"last_activity_date":1491491777,"creation_date":1339166324,"answer_id":10950967,"question_id":10950914,"body_markdown":"Use [`compareTo(BigDecimal.ZERO)`][1] instead of [`equals()`][2]:\r\n\r\n    if (price.compareTo(BigDecimal.ZERO) == 0) // see below\r\n\r\nComparing with the [`BigDecimal`][3] constant [`BigDecimal.ZERO`][4] avoids having to construct a `new BigDecimal(0)` every execution.\r\n\r\nFYI, `BigDecimal` also has constants [`BigDecimal.ONE`][5] and [`BigDecimal.TEN`][6] for your convenience.\r\n\r\n---\r\n\r\n## Note!\r\n\r\nThe reason you can&#39;t use [`BigDecimal#equals()`][7] is that it takes *scale* into consideration:\r\n\r\n    new BigDecimal(&quot;0&quot;).equals(BigDecimal.ZERO) // true\r\n    new BigDecimal(&quot;0.00&quot;).equals(BigDecimal.ZERO) // false!\r\n\r\nso it&#39;s unsuitable for a purely numeric comparison. However, [`BigDecimal.compareTo()`][8] doesn&#39;t consider scale when comparing:\r\n\r\n    new BigDecimal(&quot;0&quot;).compareTo(BigDecimal.ZERO) == 0 // true\r\n    new BigDecimal(&quot;0.00&quot;).compareTo(BigDecimal.ZERO) == 0 // true\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals-java.lang.Object-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ZERO\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ONE\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#TEN\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"noreferrer\"><code>compareTo(BigDecimal.ZERO)</code></a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals-java.lang.Object-\" rel=\"noreferrer\"><code>equals()</code></a>:</p>\n\n<pre><code>if (price.compareTo(BigDecimal.ZERO) == 0) // see below\n</code></pre>\n\n<p>Comparing with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> constant <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ZERO\" rel=\"noreferrer\"><code>BigDecimal.ZERO</code></a> avoids having to construct a <code>new BigDecimal(0)</code> every execution.</p>\n\n<p>FYI, <code>BigDecimal</code> also has constants <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ONE\" rel=\"noreferrer\"><code>BigDecimal.ONE</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#TEN\" rel=\"noreferrer\"><code>BigDecimal.TEN</code></a> for your convenience.</p>\n\n<hr>\n\n<h2>Note!</h2>\n\n<p>The reason you can't use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>BigDecimal#equals()</code></a> is that it takes <em>scale</em> into consideration:</p>\n\n<pre><code>new BigDecimal(\"0\").equals(BigDecimal.ZERO) // true\nnew BigDecimal(\"0.00\").equals(BigDecimal.ZERO) // false!\n</code></pre>\n\n<p>so it's unsuitable for a purely numeric comparison. However, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29\" rel=\"noreferrer\"><code>BigDecimal.compareTo()</code></a> doesn't consider scale when comparing:</p>\n\n<pre><code>new BigDecimal(\"0\").compareTo(BigDecimal.ZERO) == 0 // true\nnew BigDecimal(\"0.00\").compareTo(BigDecimal.ZERO) == 0 // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1385629257,"creation_date":1339166329,"answer_id":10950969,"question_id":10950914,"body_markdown":"There is a constant that you can check against:\r\n\r\n    someBigDecimal.compareTo(BigDecimal.ZERO) == 0\r\n","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>There is a constant that you can check against:</p>\n\n<pre><code>someBigDecimal.compareTo(BigDecimal.ZERO) == 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":13,"up_vote_count":3,"is_accepted":false,"score":-10,"last_activity_date":1339166348,"creation_date":1339166348,"answer_id":10950974,"question_id":10950914,"body_markdown":"There is a static constant that [represents 0][1]:\r\n\r\n    BigDecimal.ZERO.equals(selectPrice)\r\n\r\nYou should do this instead of:\r\n\r\n    selectPrice.equals(BigDecimal.ZERO)\r\n\r\nin order to avoid the case where `selectPrice` is `null`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ZERO","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>There is a static constant that <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ZERO\" rel=\"nofollow\">represents 0</a>:</p>\n\n<pre><code>BigDecimal.ZERO.equals(selectPrice)\n</code></pre>\n\n<p>You should do this instead of:</p>\n\n<pre><code>selectPrice.equals(BigDecimal.ZERO)\n</code></pre>\n\n<p>in order to avoid the case where <code>selectPrice</code> is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":386780,"reputation":966,"user_id":744734,"accept_rate":83,"display_name":"gpol"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339166389,"creation_date":1339166389,"answer_id":10950985,"question_id":10950914,"body_markdown":"I usually use the following:\r\n    \r\n    if (selectPrice.compareTo(BigDecimal.ZERO) == 0) { ... }\r\n\r\n","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>I usually use the following:</p>\n\n<pre><code>if (selectPrice.compareTo(BigDecimal.ZERO) == 0) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1605306269,"creation_date":1339166398,"answer_id":10950990,"question_id":10950914,"body_markdown":"You would want to use `equals()` since they are objects, and utilize the built in `ZERO` instance:\r\n\r\n    if (selectPrice.equals(BigDecimal.ZERO))\r\n\r\nNote that `.equals()` takes scale into account, so unless selectPrice is the same scale (0) as `.ZERO` then this will return false.\r\n\r\nTo take scale out of the equation as it were:\r\n\r\n    if (selectPrice.compareTo(BigDecimal.ZERO) == 0)\r\n\r\nI should note that for certain mathematical situations, `0.00 != 0`, which is why I imagine `.equals()` takes the scale into account. `0.00` gives precision to the hundredths place, whereas `0` is not that precise. Depending on the situation you may want to stick with `.equals()`.","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>You would want to use <code>equals()</code> since they are objects, and utilize the built in <code>ZERO</code> instance:</p>\n<pre><code>if (selectPrice.equals(BigDecimal.ZERO))\n</code></pre>\n<p>Note that <code>.equals()</code> takes scale into account, so unless selectPrice is the same scale (0) as <code>.ZERO</code> then this will return false.</p>\n<p>To take scale out of the equation as it were:</p>\n<pre><code>if (selectPrice.compareTo(BigDecimal.ZERO) == 0)\n</code></pre>\n<p>I should note that for certain mathematical situations, <code>0.00 != 0</code>, which is why I imagine <code>.equals()</code> takes the scale into account. <code>0.00</code> gives precision to the hundredths place, whereas <code>0</code> is not that precise. Depending on the situation you may want to stick with <code>.equals()</code>.</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1637848645,"creation_date":1339167074,"answer_id":10951168,"question_id":10950914,"body_markdown":"Alternatively, I think it is worth mentioning that the behavior of equals and compareTo methods in the class BigDecimal [are not consistent with each other][1].\r\n\r\nThis basically means that:\r\n\r\n    BigDecimal someValue = new BigDecimal(&quot;0.00&quot;);\r\n    System.out.println(someValue.compareTo(BigDecimal.ZERO) == 0); // true\r\n    System.out.println(someValue.equals(BigDecimal.ZERO)); // false\r\n\r\nTherefore, you have to be very careful with the scale in your `someValue` variable, otherwise you would get unexpected results.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>Alternatively, I think it is worth mentioning that the behavior of equals and compareTo methods in the class BigDecimal <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29\" rel=\"nofollow noreferrer\">are not consistent with each other</a>.</p>\n<p>This basically means that:</p>\n<pre><code>BigDecimal someValue = new BigDecimal(&quot;0.00&quot;);\nSystem.out.println(someValue.compareTo(BigDecimal.ZERO) == 0); // true\nSystem.out.println(someValue.equals(BigDecimal.ZERO)); // false\n</code></pre>\n<p>Therefore, you have to be very careful with the scale in your <code>someValue</code> variable, otherwise you would get unexpected results.</p>\n"},{"tags":[],"owner":{"account_id":317986,"reputation":1189,"user_id":634969,"display_name":"kman"},"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1469840869,"creation_date":1346362719,"answer_id":12205931,"question_id":10950914,"body_markdown":"Alternatively, [signum()][1] can be used:\r\n\r\n    if (price.signum() == 0) {\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#signum%28%29","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>Alternatively, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#signum%28%29\">signum()</a> can be used:</p>\n\n<pre><code>if (price.signum() == 0) {\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6324070,"reputation":386,"user_id":4911031,"accept_rate":100,"display_name":"DongHoon  Kim"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1491553735,"creation_date":1491553735,"answer_id":43273320,"question_id":10950914,"body_markdown":"    BigDecimal.ZERO.setScale(2).equals(new BigDecimal(&quot;0.00&quot;));","title":"How to check if BigDecimal variable == 0 in java?","body":"<pre><code>BigDecimal.ZERO.setScale(2).equals(new BigDecimal(\"0.00\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5493896,"reputation":2309,"user_id":4365688,"display_name":"Nokuap"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547708230,"creation_date":1547708230,"answer_id":54230539,"question_id":10950914,"body_markdown":"Just want to share here some helpful extensions for kotlin\r\n\r\n    fun BigDecimal.isZero() = compareTo(BigDecimal.ZERO) == 0\r\n    fun BigDecimal.isOne() = compareTo(BigDecimal.ONE) == 0\r\n    fun BigDecimal.isTen() = compareTo(BigDecimal.TEN) == 0","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>Just want to share here some helpful extensions for kotlin</p>\n\n<pre><code>fun BigDecimal.isZero() = compareTo(BigDecimal.ZERO) == 0\nfun BigDecimal.isOne() = compareTo(BigDecimal.ONE) == 0\nfun BigDecimal.isTen() = compareTo(BigDecimal.TEN) == 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559139595,"creation_date":1558710861,"answer_id":56295374,"question_id":10950914,"body_markdown":"GriffeyDog is definitely correct:\r\n\r\nCode:\r\n\r\n    BigDecimal myBigDecimal = new BigDecimal(&quot;00000000.000000&quot;);\r\n    System.out.println(&quot;bestPriceBigDecimal=&quot; + myBigDecimal);\r\n    System.out.println(&quot;BigDecimal.valueOf(0.000000)=&quot; + BigDecimal.valueOf(0.000000));\r\n    System.out.println(&quot; equals=&quot; + myBigDecimal.equals(BigDecimal.ZERO));\r\n    System.out.println(&quot;compare=&quot; + (0 == myBigDecimal.compareTo(BigDecimal.ZERO)));\r\n\r\nResults:\r\n\r\n    myBigDecimal=0.000000\r\n    BigDecimal.valueOf(0.000000)=0.0\r\n     equals=false\r\n    compare=true\r\n\r\nWhile I understand the advantages of the BigDecimal compare, I would not consider it an intuitive construct (like the ==, &lt;, &gt;, &lt;=, &gt;= operators are).\r\nWhen you are holding a million things (ok, seven things) in your head, then anything  you can reduce your cognitive load is a good thing. So I built some useful convenience functions:\r\n\r\n    public static boolean equalsZero(BigDecimal x) {\r\n\t\treturn (0 == x.compareTo(BigDecimal.ZERO));\r\n\t}\r\n\tpublic static boolean equals(BigDecimal x, BigDecimal y) {\r\n\t\treturn (0 == x.compareTo(y));\r\n\t}\r\n\tpublic static boolean lessThan(BigDecimal x, BigDecimal y) {\r\n\t\treturn (-1 == x.compareTo(y));\r\n\t}\r\n\tpublic static boolean lessThanOrEquals(BigDecimal x, BigDecimal y) {\r\n\t\treturn (x.compareTo(y) &lt;= 0);\r\n\t}\r\n\tpublic static boolean greaterThan(BigDecimal x, BigDecimal y) {\r\n\t\treturn (1 == x.compareTo(y));\r\n\t}\r\n\tpublic static boolean greaterThanOrEquals(BigDecimal x, BigDecimal y) {\r\n\t\treturn (x.compareTo(y) &gt;= 0);\r\n\t}\r\n\r\nHere is how to use them:\r\n\r\n    \tSystem.out.println(&quot;Starting main Utils&quot;);\r\n\t\tBigDecimal bigDecimal0 = new BigDecimal(00000.00);\r\n\t\tBigDecimal bigDecimal2 = new BigDecimal(2);\r\n\t\tBigDecimal bigDecimal4 = new BigDecimal(4);  \r\n\t\tBigDecimal bigDecimal20 = new BigDecimal(2.000);\r\n\t\tSystem.out.println(&quot;Positive cases:&quot;);\r\n\t\tSystem.out.println(&quot;bigDecimal0=&quot; + bigDecimal0 + &quot; == zero is &quot; + Utils.equalsZero(bigDecimal0));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &lt;  bigDecimal4=&quot; + bigDecimal4 + &quot; is &quot; + Utils.lessThan(bigDecimal2, bigDecimal4));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; == bigDecimal20=&quot; + bigDecimal20 + &quot; is &quot; + Utils.equals(bigDecimal2, bigDecimal20));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &lt;= bigDecimal20=&quot; + bigDecimal20 + &quot; is &quot; + Utils.equals(bigDecimal2, bigDecimal20));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &lt;= bigDecimal4=&quot; + bigDecimal4 + &quot; is &quot; + Utils.lessThanOrEquals(bigDecimal2, bigDecimal4));\r\n\t\tSystem.out.println(&quot;bigDecimal4=&quot; + bigDecimal4 + &quot; &gt;  bigDecimal2=&quot; + bigDecimal2 + &quot; is &quot; + Utils.greaterThan(bigDecimal4, bigDecimal2));\r\n\t\tSystem.out.println(&quot;bigDecimal4=&quot; + bigDecimal4 + &quot; &gt;= bigDecimal2=&quot; + bigDecimal2 + &quot; is &quot; + Utils.greaterThanOrEquals(bigDecimal4, bigDecimal2));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &gt;= bigDecimal20=&quot; + bigDecimal20 + &quot; is &quot; + Utils.greaterThanOrEquals(bigDecimal2, bigDecimal20));\r\n\t\tSystem.out.println(&quot;Negative cases:&quot;);\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; == zero is &quot; + Utils.equalsZero(bigDecimal2));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; == bigDecimal4=&quot; + bigDecimal4 + &quot; is &quot; + Utils.equals(bigDecimal2, bigDecimal4));\r\n\t\tSystem.out.println(&quot;bigDecimal4=&quot; + bigDecimal4 + &quot; &lt;  bigDecimal2=&quot; + bigDecimal2 + &quot; is &quot; + Utils.lessThan(bigDecimal4, bigDecimal2));\r\n\t\tSystem.out.println(&quot;bigDecimal4=&quot; + bigDecimal4 + &quot; &lt;= bigDecimal2=&quot; + bigDecimal2 + &quot; is &quot; + Utils.lessThanOrEquals(bigDecimal4, bigDecimal2));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &gt;  bigDecimal4=&quot; + bigDecimal4 + &quot; is &quot; + Utils.greaterThan(bigDecimal2, bigDecimal4));\r\n\t\tSystem.out.println(&quot;bigDecimal2=&quot; + bigDecimal2 + &quot; &gt;= bigDecimal4=&quot; + bigDecimal4 + &quot; is &quot; + Utils.greaterThanOrEquals(bigDecimal2, bigDecimal4));\r\n\r\nThe results look like this:\r\n\r\n    Positive cases:\r\n    bigDecimal0=0 == zero is true\r\n    bigDecimal2=2 &lt;  bigDecimal4=4 is true\r\n    bigDecimal2=2 == bigDecimal20=2 is true\r\n    bigDecimal2=2 &lt;= bigDecimal20=2 is true\r\n    bigDecimal2=2 &lt;= bigDecimal4=4 is true\r\n    bigDecimal4=4 &gt;  bigDecimal2=2 is true\r\n    bigDecimal4=4 &gt;= bigDecimal2=2 is true\r\n    bigDecimal2=2 &gt;= bigDecimal20=2 is true\r\n    Negative cases:\r\n    bigDecimal2=2 == zero is false\r\n    bigDecimal2=2 == bigDecimal4=4 is false\r\n    bigDecimal4=4 &lt;  bigDecimal2=2 is false\r\n    bigDecimal4=4 &lt;= bigDecimal2=2 is false\r\n    bigDecimal2=2 &gt;  bigDecimal4=4 is false\r\n    bigDecimal2=2 &gt;= bigDecimal4=4 is false\r\n\r\n","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>GriffeyDog is definitely correct:</p>\n\n<p>Code:</p>\n\n<pre><code>BigDecimal myBigDecimal = new BigDecimal(\"00000000.000000\");\nSystem.out.println(\"bestPriceBigDecimal=\" + myBigDecimal);\nSystem.out.println(\"BigDecimal.valueOf(0.000000)=\" + BigDecimal.valueOf(0.000000));\nSystem.out.println(\" equals=\" + myBigDecimal.equals(BigDecimal.ZERO));\nSystem.out.println(\"compare=\" + (0 == myBigDecimal.compareTo(BigDecimal.ZERO)));\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>myBigDecimal=0.000000\nBigDecimal.valueOf(0.000000)=0.0\n equals=false\ncompare=true\n</code></pre>\n\n<p>While I understand the advantages of the BigDecimal compare, I would not consider it an intuitive construct (like the ==, &lt;, >, &lt;=, >= operators are).\nWhen you are holding a million things (ok, seven things) in your head, then anything  you can reduce your cognitive load is a good thing. So I built some useful convenience functions:</p>\n\n<pre><code>public static boolean equalsZero(BigDecimal x) {\n    return (0 == x.compareTo(BigDecimal.ZERO));\n}\npublic static boolean equals(BigDecimal x, BigDecimal y) {\n    return (0 == x.compareTo(y));\n}\npublic static boolean lessThan(BigDecimal x, BigDecimal y) {\n    return (-1 == x.compareTo(y));\n}\npublic static boolean lessThanOrEquals(BigDecimal x, BigDecimal y) {\n    return (x.compareTo(y) &lt;= 0);\n}\npublic static boolean greaterThan(BigDecimal x, BigDecimal y) {\n    return (1 == x.compareTo(y));\n}\npublic static boolean greaterThanOrEquals(BigDecimal x, BigDecimal y) {\n    return (x.compareTo(y) &gt;= 0);\n}\n</code></pre>\n\n<p>Here is how to use them:</p>\n\n<pre><code>    System.out.println(\"Starting main Utils\");\n    BigDecimal bigDecimal0 = new BigDecimal(00000.00);\n    BigDecimal bigDecimal2 = new BigDecimal(2);\n    BigDecimal bigDecimal4 = new BigDecimal(4);  \n    BigDecimal bigDecimal20 = new BigDecimal(2.000);\n    System.out.println(\"Positive cases:\");\n    System.out.println(\"bigDecimal0=\" + bigDecimal0 + \" == zero is \" + Utils.equalsZero(bigDecimal0));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &lt;  bigDecimal4=\" + bigDecimal4 + \" is \" + Utils.lessThan(bigDecimal2, bigDecimal4));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" == bigDecimal20=\" + bigDecimal20 + \" is \" + Utils.equals(bigDecimal2, bigDecimal20));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &lt;= bigDecimal20=\" + bigDecimal20 + \" is \" + Utils.equals(bigDecimal2, bigDecimal20));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &lt;= bigDecimal4=\" + bigDecimal4 + \" is \" + Utils.lessThanOrEquals(bigDecimal2, bigDecimal4));\n    System.out.println(\"bigDecimal4=\" + bigDecimal4 + \" &gt;  bigDecimal2=\" + bigDecimal2 + \" is \" + Utils.greaterThan(bigDecimal4, bigDecimal2));\n    System.out.println(\"bigDecimal4=\" + bigDecimal4 + \" &gt;= bigDecimal2=\" + bigDecimal2 + \" is \" + Utils.greaterThanOrEquals(bigDecimal4, bigDecimal2));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &gt;= bigDecimal20=\" + bigDecimal20 + \" is \" + Utils.greaterThanOrEquals(bigDecimal2, bigDecimal20));\n    System.out.println(\"Negative cases:\");\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" == zero is \" + Utils.equalsZero(bigDecimal2));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" == bigDecimal4=\" + bigDecimal4 + \" is \" + Utils.equals(bigDecimal2, bigDecimal4));\n    System.out.println(\"bigDecimal4=\" + bigDecimal4 + \" &lt;  bigDecimal2=\" + bigDecimal2 + \" is \" + Utils.lessThan(bigDecimal4, bigDecimal2));\n    System.out.println(\"bigDecimal4=\" + bigDecimal4 + \" &lt;= bigDecimal2=\" + bigDecimal2 + \" is \" + Utils.lessThanOrEquals(bigDecimal4, bigDecimal2));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &gt;  bigDecimal4=\" + bigDecimal4 + \" is \" + Utils.greaterThan(bigDecimal2, bigDecimal4));\n    System.out.println(\"bigDecimal2=\" + bigDecimal2 + \" &gt;= bigDecimal4=\" + bigDecimal4 + \" is \" + Utils.greaterThanOrEquals(bigDecimal2, bigDecimal4));\n</code></pre>\n\n<p>The results look like this:</p>\n\n<pre><code>Positive cases:\nbigDecimal0=0 == zero is true\nbigDecimal2=2 &lt;  bigDecimal4=4 is true\nbigDecimal2=2 == bigDecimal20=2 is true\nbigDecimal2=2 &lt;= bigDecimal20=2 is true\nbigDecimal2=2 &lt;= bigDecimal4=4 is true\nbigDecimal4=4 &gt;  bigDecimal2=2 is true\nbigDecimal4=4 &gt;= bigDecimal2=2 is true\nbigDecimal2=2 &gt;= bigDecimal20=2 is true\nNegative cases:\nbigDecimal2=2 == zero is false\nbigDecimal2=2 == bigDecimal4=4 is false\nbigDecimal4=4 &lt;  bigDecimal2=2 is false\nbigDecimal4=4 &lt;= bigDecimal2=2 is false\nbigDecimal2=2 &gt;  bigDecimal4=4 is false\nbigDecimal2=2 &gt;= bigDecimal4=4 is false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13745492,"reputation":1429,"user_id":11474134,"display_name":"F&#233;lix Maroy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606766342,"creation_date":1606766342,"answer_id":65080327,"question_id":10950914,"body_markdown":"A simple and better way for your exemple is:\r\n```\r\nBigDecimal price;\r\n\r\nif(BigDecimal.ZERO.compareTo(price) == 0){\r\n    \r\n   //Returns TRUE\r\n\r\n}\r\n```","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>A simple and better way for your exemple is:</p>\n<pre><code>BigDecimal price;\n\nif(BigDecimal.ZERO.compareTo(price) == 0){\n    \n   //Returns TRUE\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620406803,"creation_date":1620405725,"answer_id":67438769,"question_id":10950914,"body_markdown":"    if(price.floatValue() == 0){\r\n       return true; //works for 0\\0.0\r\n    }","title":"How to check if BigDecimal variable == 0 in java?","body":"<pre><code>if(price.floatValue() == 0){\n   return true; //works for 0\\0.0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3819568,"reputation":581,"user_id":3167961,"display_name":"ismile47"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685440732,"creation_date":1685440732,"answer_id":76363670,"question_id":10950914,"body_markdown":"   \r\nWe can use  java.math.BigDecimal.signum()\r\n\r\n\r\nReturns the signum function of this BigDecimal.\r\n\r\nReturns:-1, 0, or 1 as the value of this BigDecimalis negative, zero, or positive.\r\n    \r\n    \r\n         BigDecimal price; // assigned elsewhere\r\n        \r\n         if (price.signum() == 0) {\r\n             return true;\r\n         }","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>We can use  java.math.BigDecimal.signum()</p>\n<p>Returns the signum function of this BigDecimal.</p>\n<p>Returns:-1, 0, or 1 as the value of this BigDecimalis negative, zero, or positive.</p>\n<pre><code>     BigDecimal price; // assigned elsewhere\n    \n     if (price.signum() == 0) {\n         return true;\n     }\n</code></pre>\n"}],"owner":{"account_id":198756,"reputation":4723,"user_id":443613,"accept_rate":86,"display_name":"JoJo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362549,"favorite_count":0,"down_vote_count":0,"up_vote_count":283,"accepted_answer_id":10950967,"answer_count":13,"score":283,"last_activity_date":1685440732,"creation_date":1339166172,"question_id":10950914,"body_markdown":"I have the following code in Java;\r\n\r\n    BigDecimal price; // assigned elsewhere\r\n\r\n\tif (price.compareTo(new BigDecimal(&quot;0.00&quot;)) == 0) {\r\n\t\treturn true;\r\n\t}\r\n\r\nWhat is the best way to write the if condition?","title":"How to check if BigDecimal variable == 0 in java?","body":"<p>I have the following code in Java;</p>\n\n<pre><code>BigDecimal price; // assigned elsewhere\n\nif (price.compareTo(new BigDecimal(\"0.00\")) == 0) {\n    return true;\n}\n</code></pre>\n\n<p>What is the best way to write the if condition?</p>\n"},{"tags":["java","mysql","spring","hibernate","maven"],"comments":[{"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"score":0,"creation_date":1475614606,"post_id":39861549,"comment_id":67011144,"body_markdown":"Does this server have the same java version of the others ? In the pom you have the mysql-connector dependency but I think it can not load that dependency so it can not determine what database to connect. Probably this behavior is due to the java version","body":"Does this server have the same java version of the others ? In the pom you have the mysql-connector dependency but I think it can not load that dependency so it can not determine what database to connect. Probably this behavior is due to the java version"},{"owner":{"account_id":7281098,"reputation":3024,"user_id":5550833,"accept_rate":56,"display_name":"MarioC"},"score":0,"creation_date":1475615238,"post_id":39861549,"comment_id":67011436,"body_markdown":"every server is made from the same image...","body":"every server is made from the same image..."},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1475615819,"post_id":39861549,"comment_id":67011715,"body_markdown":"is there a permission issue connecting to the database? either username/password or networking? it might not be possible to detect a few things since the connection is not working.","body":"is there a permission issue connecting to the database? either username/password or networking? it might not be possible to detect a few things since the connection is not working."},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475616076,"post_id":39861549,"comment_id":67011845,"body_markdown":"Did you put url and driver class name in spring.datasource section? Can you share this part of application.properties","body":"Did you put url and driver class name in spring.datasource section? Can you share this part of application.properties"},{"owner":{"account_id":7281098,"reputation":3024,"user_id":5550833,"accept_rate":56,"display_name":"MarioC"},"score":0,"creation_date":1475616257,"post_id":39861549,"comment_id":67011943,"body_markdown":"Edited the question to add other properties","body":"Edited the question to add other properties"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1475618629,"post_id":39861549,"comment_id":67012982,"body_markdown":"your Spring boot autoconfig the one included in your &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; doesnt seem to find your mysql driver in the classpath (the one from your pom.xml), so it assumes that you have embedded one wich is not the case . So it throws the error. I suspect that is because you havent specify the versions is your pom. So, try my answer i posted below or just add a version to your mysql dependy","body":"your Spring boot autoconfig the one included in your &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; doesnt seem to find your mysql driver in the classpath (the one from your pom.xml), so it assumes that you have embedded one wich is not the case . So it throws the error. I suspect that is because you havent specify the versions is your pom. So, try my answer i posted below or just add a version to your mysql dependy"}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475619850,"creation_date":1475616555,"answer_id":39862063,"question_id":39861549,"body_markdown":"I&#39;m not 100% sure but i would have replaced this :\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      ....\r\n    &lt;/dependency&gt;\r\n\r\n\r\nWith this: \r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    ...\r\n     &lt;/dependencies&gt;\r\n\r\nSee thus example below :\r\n\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-relational-data-access&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            ....\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n           \r\n            &lt;dependency&gt;\r\n               ....\r\n            &lt;/dependency&gt;\r\n           \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;[5,]&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nor else, just do this :  \r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                    &lt;version&gt;your version&lt;/version&gt;\r\n                &lt;/dependency&gt; ","title":"Spring boot application does not start","body":"<p>I'm not 100% sure but i would have replaced this :</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  ....\n&lt;/dependency&gt;\n</code></pre>\n\n<p>With this: </p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n...\n &lt;/dependencies&gt;\n</code></pre>\n\n<p>See thus example below :</p>\n\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-relational-data-access&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        ....\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n           ....\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;[5,]&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>or else, just do this :  </p>\n\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;your version&lt;/version&gt;\n            &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11898645,"reputation":21,"user_id":8707254,"display_name":"Thribhuvan Krishnamurthy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506931966,"creation_date":1506931966,"answer_id":46521775,"question_id":39861549,"body_markdown":"I ran into same problem. Then after cleaning my local maven repository the application was up and running. Clean your local maven repo (due to corrupted dependency) and try again!","title":"Spring boot application does not start","body":"<p>I ran into same problem. Then after cleaning my local maven repository the application was up and running. Clean your local maven repo (due to corrupted dependency) and try again!</p>\n"},{"tags":[],"owner":{"account_id":3798249,"reputation":501,"user_id":3152549,"accept_rate":0,"display_name":"Kimchy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440117,"creation_date":1529701296,"answer_id":50995546,"question_id":39861549,"body_markdown":"If in case you miss `application.properties` file in your project, then also you would face such issue. Check it&#39;s available in your classpath.","title":"Spring boot application does not start","body":"<p>If in case you miss <code>application.properties</code> file in your project, then also you would face such issue. Check it's available in your classpath.</p>\n"}],"owner":{"account_id":7281098,"reputation":3024,"user_id":5550833,"accept_rate":56,"display_name":"MarioC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29538,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1685440117,"creation_date":1475614353,"question_id":39861549,"body_markdown":"I have a Spring Boot application which we install in some little servers for our products. It has always worked. This evening we have installed it in one of our servers and it did not start.\r\n\r\nEvery server is an image from a common image, so the OS is the same.\r\n    \r\nWhen we launch the .jar we are getting:\r\n\r\n    Oct 05, 2016 11:16:45 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Tomcat\r\n    Oct 05, 2016 11:16:45 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/8.5.5\r\n    Oct 05, 2016 11:16:46 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring embedded WebApplicationContext\r\n    Oct 05, 2016 11:17:03 AM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Tomcat\r\n\r\nThis is our application.properties which regards hibernate\r\n\r\n    # Username and password\r\n    spring.datasource.username = parkuser\r\n    spring.datasource.password = xxxxxxxxxxxxxxxxxxxxxx\r\n    spring.datasource.url= jdbc:mysql://xxxxxxxxxxxxxxxxxxxxxxxxx:3306/SMARTPARK?useSSL=false\r\n    \r\n    # Keep the connection alive if idle for a long time (needed in production)\r\n    spring.datasource.testWhileIdle = true\r\n    spring.datasource.validationQuery = SELECT 1\r\n    spring.jpa.show-sql = false\r\n    \r\n    # Hibernate ddl auto (create, create-drop, update): with &quot;update&quot; the database\r\n    # schema will be automatically updated accordingly to java entities found in\r\n    # the project\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    # Naming strategy\r\n    spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    \r\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate4.SpringSessionContext\r\n\r\nIn our pom.xml we have\r\n\r\n   \r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n\r\nThis is our StartServer.class\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class StartServer extends SpringBootServletInitializer{\r\n    \tpublic static void main(String[] args){\r\n    \t\r\n    \t\tSpringApplication.run(StartServer.class, args);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \tpublic HibernateJpaSessionFactoryBean sessionFactory() {\r\n    \t    return new HibernateJpaSessionFactoryBean();\r\n    \t}\r\n    }\r\n\r\n\r\nI cannot understand why the same jar works in a device and gives this error in another one and i cannot understand which is the error...\r\n","title":"Spring boot application does not start","body":"<p>I have a Spring Boot application which we install in some little servers for our products. It has always worked. This evening we have installed it in one of our servers and it did not start.</p>\n\n<p>Every server is an image from a common image, so the OS is the same.</p>\n\n<p>When we launch the .jar we are getting:</p>\n\n<pre><code>Oct 05, 2016 11:16:45 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Tomcat\nOct 05, 2016 11:16:45 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/8.5.5\nOct 05, 2016 11:16:46 AM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\nOct 05, 2016 11:17:03 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Tomcat\n</code></pre>\n\n<p>This is our application.properties which regards hibernate</p>\n\n<pre><code># Username and password\nspring.datasource.username = parkuser\nspring.datasource.password = xxxxxxxxxxxxxxxxxxxxxx\nspring.datasource.url= jdbc:mysql://xxxxxxxxxxxxxxxxxxxxxxxxx:3306/SMARTPARK?useSSL=false\n\n# Keep the connection alive if idle for a long time (needed in production)\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\nspring.jpa.show-sql = false\n\n# Hibernate ddl auto (create, create-drop, update): with \"update\" the database\n# schema will be automatically updated accordingly to java entities found in\n# the project\nspring.jpa.hibernate.ddl-auto = update\n\n# Naming strategy\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\n\n# Allows Hibernate to generate SQL optimized for a particular DBMS\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate4.SpringSessionContext\n</code></pre>\n\n<p>In our pom.xml we have</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.3.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>This is our StartServer.class</p>\n\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class StartServer extends SpringBootServletInitializer{\n    public static void main(String[] args){\n\n        SpringApplication.run(StartServer.class, args);\n\n    }\n\n\n    @Bean\n    public HibernateJpaSessionFactoryBean sessionFactory() {\n        return new HibernateJpaSessionFactoryBean();\n    }\n}\n</code></pre>\n\n<p>I cannot understand why the same jar works in a device and gives this error in another one and i cannot understand which is the error...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1464759531,"post_id":37560121,"comment_id":62608798,"body_markdown":"If you calculate the percentage yourself from the DF output you don&#39;t get 69% either (instead the percentage is the same as in Java, minus a bit of rounding). Go ask on superuser where they may know of the idiosyncrasies of DF","body":"If you calculate the percentage yourself from the DF output you don&#39;t get 69% either (instead the percentage is the same as in Java, minus a bit of rounding). Go ask on superuser where they may know of the idiosyncrasies of DF"}],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464762641,"creation_date":1464762641,"answer_id":37561042,"question_id":37560121,"body_markdown":"The 69% of `df` is calculated as &quot;used / (used + available)&quot; which is `383 / (383 + 175) = 69%`. It&#39;s not calculated as &quot;used / size&quot;.\r\n\r\nYou don&#39;t have &quot;used&quot; in Java (it&#39;s not the same as &quot;size - available&quot;) so you can&#39;t make the same calculation.\r\n\r\nBut you can calculate &quot;available / size&quot; in both cases:\r\n\r\n1. 188 / 630 = 30%\r\n2. 209108 / 600772 = 30%\r\n\r\nThere is no bug. You were comparing different things.","title":"Why using getFreeSpace /getTotalSpace / getUsableSpace gives different output from df -H command","body":"<p>The 69% of <code>df</code> is calculated as \"used / (used + available)\" which is <code>383 / (383 + 175) = 69%</code>. It's not calculated as \"used / size\".</p>\n\n<p>You don't have \"used\" in Java (it's not the same as \"size - available\") so you can't make the same calculation.</p>\n\n<p>But you can calculate \"available / size\" in both cases:</p>\n\n<ol>\n<li>188 / 630 = 30%</li>\n<li>209108 / 600772 = 30%</li>\n</ol>\n\n<p>There is no bug. You were comparing different things.</p>\n"},{"tags":[],"owner":{"account_id":10031756,"reputation":1,"user_id":7417992,"display_name":"OuO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685439999,"creation_date":1685438341,"answer_id":76363346,"question_id":37560121,"body_markdown":"By default, `ext2/3/4` filesystems reserve `5%` of the space to be useable only by the superuser, `root`.\r\n\r\nI think in java `reserve space = free space - usable space`, in you example:\r\n\r\n    |------------- free ----------|\r\n              |-------usable------|----used-----|\r\n    |-reserve-|\r\n    |xxxxxxxxx|+++++++++++++++++++|=============|\r\n    |---------------- total --------------------|\r\n\r\n\r\n    total = 600772\r\n    usable = 178568\r\n    free = 209108\r\n\r\n    reserve = free - usable = 209108 - 178568 = 30540\r\n    \r\n    reserve / total = 30540 / 600772 = 0.05 = 5%\r\n\r\ncalculate `df` output by java:\r\n\r\n    size of df == total of java\r\n    587G == 600772MB / 1024\r\n\r\n    used of df == (total - free) of java\r\n    383G == (600772 - 209108)MB / 1024\r\n\r\n    avil of df == usable of java\r\n    175G == 178568MB / 1024\r\n\r\n    use% of df == (total - free) / (total - (free - usable))\r\n    69% == (600772 - 209108) / (600772 - (209108 - 178568))\r\n        == 391664 / 570232\r\n        == 0.6868\r\n    \r\n\r\n","title":"Why using getFreeSpace /getTotalSpace / getUsableSpace gives different output from df -H command","body":"<p>By default, <code>ext2/3/4</code> filesystems reserve <code>5%</code> of the space to be useable only by the superuser, <code>root</code>.</p>\n<p>I think in java <code>reserve space = free space - usable space</code>, in you example:</p>\n<pre><code>|------------- free ----------|\n          |-------usable------|----used-----|\n|-reserve-|\n|xxxxxxxxx|+++++++++++++++++++|=============|\n|---------------- total --------------------|\n\n\ntotal = 600772\nusable = 178568\nfree = 209108\n\nreserve = free - usable = 209108 - 178568 = 30540\n\nreserve / total = 30540 / 600772 = 0.05 = 5%\n</code></pre>\n<p>calculate <code>df</code> output by java:</p>\n<pre><code>size of df == total of java\n587G == 600772MB / 1024\n\nused of df == (total - free) of java\n383G == (600772 - 209108)MB / 1024\n\navil of df == usable of java\n175G == 178568MB / 1024\n\nuse% of df == (total - free) / (total - (free - usable))\n69% == (600772 - 209108) / (600772 - (209108 - 178568))\n    == 391664 / 570232\n    == 0.6868\n</code></pre>\n"}],"owner":{"display_name":"user5109370"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685439999,"creation_date":1464758880,"question_id":37560121,"body_markdown":"I have an external SSD disk (/dev/sda).\r\n\r\nwhen typing df -h:\r\n\r\n    size used avil use%\r\n    587G 383G 175G 69%\r\n\r\nwhen typing df -H:\r\n\r\n    size used avil use%\r\n    630G 411G 188G 69%\r\n\r\n\r\nWhen using `getTotalSpace() / (1024*1024)` I&#39;m getting: 600772\r\n\r\nWhen using `getUsableSpace() / (1024*1024)` I&#39;m getting: 178568\r\n\r\nWhen using `getFreeSpace() / (1024*1024)` I&#39;m getting: 209108\r\n\r\nIf I will try to calculate the usage in parentage I will not get 69%.\r\n\r\nWhat is the bug ?","title":"Why using getFreeSpace /getTotalSpace / getUsableSpace gives different output from df -H command","body":"<p>I have an external SSD disk (/dev/sda).</p>\n\n<p>when typing df -h:</p>\n\n<pre><code>size used avil use%\n587G 383G 175G 69%\n</code></pre>\n\n<p>when typing df -H:</p>\n\n<pre><code>size used avil use%\n630G 411G 188G 69%\n</code></pre>\n\n<p>When using <code>getTotalSpace() / (1024*1024)</code> I'm getting: 600772</p>\n\n<p>When using <code>getUsableSpace() / (1024*1024)</code> I'm getting: 178568</p>\n\n<p>When using <code>getFreeSpace() / (1024*1024)</code> I'm getting: 209108</p>\n\n<p>If I will try to calculate the usage in parentage I will not get 69%.</p>\n\n<p>What is the bug ?</p>\n"},{"tags":["java","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":14064591,"reputation":73,"user_id":10159797,"display_name":"FarhanNayyer"},"score":1,"creation_date":1581659914,"post_id":60219951,"comment_id":106518286,"body_markdown":"I think it is linked with how you are making the request from front-end while configuring the wildcard &quot;*&quot; &#39;Access-Control-Allow-Origin&#39; header in backend. The combination of backend and frontend configurations is not correct. Please have a look at this link for example. [https://stackoverflow.com/q/19743396/10159797](https://stackoverflow.com/q/19743396/10159797)","body":"I think it is linked with how you are making the request from front-end while configuring the wildcard &quot;*&quot; &#39;Access-Control-Allow-Origin&#39; header in backend. The combination of backend and frontend configurations is not correct. Please have a look at this link for example. <a href=\"https://stackoverflow.com/q/19743396/10159797\">https://stackoverflow.com/q/19743396/10159797</a>"}],"answers":[{"tags":[],"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581655185,"creation_date":1581655185,"answer_id":60220073,"question_id":60219951,"body_markdown":"I faced same issue earlier, I suppose it expect some other parameter also. \r\n\r\nSo that i place following code and it&#39;s working file for me.\r\n\r\n    package com.ecommerce.auth_service.service.jwt;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class SimpleCORSFilter implements Filter {\r\n    \r\n      private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\r\n    \r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n    \r\n        String check = &quot;xsrf-token,X-Total-Results,Authorization&quot;;\r\n    \r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me, Authorization&quot;);\r\n        response.setHeader(&quot;Access-Control-Expose-Headers&quot;,check);\r\n    \r\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n          log.debug(&quot;Request get method call status SC_OK.&quot;);\r\n          response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n          log.debug(&quot;Request get method not work chain start.&quot;);\r\n          chain.doFilter(req, res);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void init(FilterConfig filterConfig) {\r\n      }\r\n    \r\n      @Override\r\n      public void destroy() {\r\n      }\r\n    }\r\n","title":"CORS support in spring boot and security","body":"<p>I faced same issue earlier, I suppose it expect some other parameter also. </p>\n\n<p>So that i place following code and it's working file for me.</p>\n\n<pre><code>package com.ecommerce.auth_service.service.jwt;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SimpleCORSFilter implements Filter {\n\n  private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) res;\n\n    String check = \"xsrf-token,X-Total-Results,Authorization\";\n\n    response.setHeader(\"Access-Control-Allow-Origin\", request.getHeader(\"Origin\"));\n    response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, PUT, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With, remember-me, Authorization\");\n    response.setHeader(\"Access-Control-Expose-Headers\",check);\n\n    if (\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n      log.debug(\"Request get method call status SC_OK.\");\n      response.setStatus(HttpServletResponse.SC_OK);\n    } else {\n      log.debug(\"Request get method not work chain start.\");\n      chain.doFilter(req, res);\n    }\n  }\n\n  @Override\n  public void init(FilterConfig filterConfig) {\n  }\n\n  @Override\n  public void destroy() {\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685439948,"creation_date":1685439948,"answer_id":76363570,"question_id":60219951,"body_markdown":"I have given answer to the same question in this **Stackoverflow** Question\r\n\r\n[CORS errors using Spring Boot, Spring Security][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76363383/7660727","title":"CORS support in spring boot and security","body":"<p>I have given answer to the same question in this <strong>Stackoverflow</strong> Question</p>\n<p><a href=\"https://stackoverflow.com/a/76363383/7660727\">CORS errors using Spring Boot, Spring Security</a></p>\n"}],"owner":{"account_id":10531745,"reputation":571,"user_id":7760858,"accept_rate":25,"display_name":"Virat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685439948,"creation_date":1581654104,"question_id":60219951,"body_markdown":"I have configured `spring security` to enable `cors`.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Autowired\r\n        private CustomLogoutHandler logoutHandler;\r\n    \r\n        @Autowired\r\n        private HttpLogoutSuccessHandler logoutSuccessHandler;\r\n    \r\n        @Override\r\n        protected void configure( HttpSecurity http ) throws Exception\r\n        {\r\n            http.cors().and().csrf().disable()\r\n    \r\n                    .authorizeRequests()\r\n    \r\n                    .antMatchers(&quot;/rest/noauth/**&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/rest/login&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/rest/logout&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/static/**&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/ws/**&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/rest/razorpay/hook&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/rest/user/cc&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/v2/api-docs/**&quot;, &quot;/configuration/ui/**&quot;, &quot;/swagger-resources/**&quot;,\r\n                            &quot;/configuration/security/**&quot;, &quot;/swagger-ui.html/**&quot;, &quot;/webjars/**&quot;)\r\n                    .permitAll()\r\n    \r\n                    .anyRequest().authenticated()\r\n    \r\n                    .and()\r\n    \r\n                    .logout().addLogoutHandler(logoutHandler).logoutSuccessHandler(logoutSuccessHandler)\r\n                    .logoutUrl(&quot;/rest/logout&quot;)\r\n    \r\n                    .and()\r\n    \r\n                    .addFilterBefore(\r\n                            new JWTAuthenticationFilter(&quot;/rest/login&quot;, tokenService(), refreshTokenService,\r\n                                    authTokenModelRepository, userService, userActivitiesRepository,\r\n                                    handlerExceptionResolver, bCryptPasswordEncoder, redisTemplate),\r\n                            UsernamePasswordAuthenticationFilter.class)\r\n    \r\n                    .addFilterBefore(new JWTAuthorizationFilter(authenticationManager(), authTokenModelRepository,\r\n                            userSubscriptionRepository, handlerExceptionResolver, redisTemplate),\r\n                            UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure( AuthenticationManagerBuilder auth ) throws Exception\r\n        {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n      }\r\n\r\nand I have a rest controller,\r\n\r\n    @RestController\r\n    @RequestMapping( RestEndPoints.NO_AUTH_CONTROLLER )\r\n    @CrossOrigin(origins = &quot;http://0.0.0.0:3000&quot;)\r\n    public class OtpController extends AbstractController {\r\n    \r\n        @Autowired\r\n        private AuthService authService;\r\n    \r\n        @ApiOperation( value = &quot;Generate OTP to login using registered email address&quot;, response = UIResponse.class, notes = &quot;Please do validate and send only the organisation email address&quot; )\r\n        @ApiResponses( value = { @ApiResponse( code = 200, message = &quot;Otp generated for &lt;email_address&gt;&quot; ),\r\n                @ApiResponse( code = 400, message = &quot;Email address not registered as CC&quot;, response = UIErrorMessage.class ),\r\n                @ApiResponse( code = 500, message = &quot;Something went wrong&quot;, response = UIErrorMessage.class ) } )\r\n        @PostMapping( &quot;/otp/{email_address:.+}&quot; )\r\n        public ResponseEntity generateOtpToLogin( @PathVariable( &quot;email_address&quot; ) String emailAddress )\r\n        {\r\n            try\r\n            {\r\n                return buildResponse(authService.generateOtpForTheEmailAddress(emailAddress));\r\n            }\r\n            catch( DataException e )\r\n            {\r\n                return buildError(e);\r\n            }\r\n        }\r\n    }\r\n\r\nBut, when an API request is made from a frontend application to the `POST` method, the browser is making an `OPTIONS` call and that response headers as `Access-Control-Allowed-Origin:*` even though I am setting it to `0.0.0.0:3000` and the browser is getting the error,\r\n\r\n&gt; Access to XMLHttpRequest at\r\n&gt; &#39;http://192.168.1.3:8090/rest/noauth/otp/sandesha@test.com&#39; from\r\n&gt; origin &#39;http://0.0.0.0:3000&#39; has been blocked by CORS policy: The\r\n&gt; value of the &#39;Access-Control-Allow-Origin&#39; header in the response must\r\n&gt; not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is\r\n&gt; &#39;include&#39;. The credentials mode of requests initiated by the\r\n&gt; XMLHttpRequest is controlled by the withCredentials attribute.\r\n\r\nHow to resolve this issue?","title":"CORS support in spring boot and security","body":"<p>I have configured <code>spring security</code> to enable <code>cors</code>.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private CustomLogoutHandler logoutHandler;\n\n    @Autowired\n    private HttpLogoutSuccessHandler logoutSuccessHandler;\n\n    @Override\n    protected void configure( HttpSecurity http ) throws Exception\n    {\n        http.cors().and().csrf().disable()\n\n                .authorizeRequests()\n\n                .antMatchers(\"/rest/noauth/**\").permitAll()\n\n                .antMatchers(\"/rest/login\").permitAll()\n\n                .antMatchers(\"/rest/logout\").permitAll()\n\n                .antMatchers(\"/static/**\").permitAll()\n\n                .antMatchers(\"/ws/**\").permitAll()\n\n                .antMatchers(\"/rest/razorpay/hook\").permitAll()\n\n                .antMatchers(\"/rest/user/cc\").permitAll()\n\n                .antMatchers(\"/v2/api-docs/**\", \"/configuration/ui/**\", \"/swagger-resources/**\",\n                        \"/configuration/security/**\", \"/swagger-ui.html/**\", \"/webjars/**\")\n                .permitAll()\n\n                .anyRequest().authenticated()\n\n                .and()\n\n                .logout().addLogoutHandler(logoutHandler).logoutSuccessHandler(logoutSuccessHandler)\n                .logoutUrl(\"/rest/logout\")\n\n                .and()\n\n                .addFilterBefore(\n                        new JWTAuthenticationFilter(\"/rest/login\", tokenService(), refreshTokenService,\n                                authTokenModelRepository, userService, userActivitiesRepository,\n                                handlerExceptionResolver, bCryptPasswordEncoder, redisTemplate),\n                        UsernamePasswordAuthenticationFilter.class)\n\n                .addFilterBefore(new JWTAuthorizationFilter(authenticationManager(), authTokenModelRepository,\n                        userSubscriptionRepository, handlerExceptionResolver, redisTemplate),\n                        UsernamePasswordAuthenticationFilter.class);\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    }\n\n    @Override\n    public void configure( AuthenticationManagerBuilder auth ) throws Exception\n    {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n  }\n</code></pre>\n\n<p>and I have a rest controller,</p>\n\n<pre><code>@RestController\n@RequestMapping( RestEndPoints.NO_AUTH_CONTROLLER )\n@CrossOrigin(origins = \"http://0.0.0.0:3000\")\npublic class OtpController extends AbstractController {\n\n    @Autowired\n    private AuthService authService;\n\n    @ApiOperation( value = \"Generate OTP to login using registered email address\", response = UIResponse.class, notes = \"Please do validate and send only the organisation email address\" )\n    @ApiResponses( value = { @ApiResponse( code = 200, message = \"Otp generated for &lt;email_address&gt;\" ),\n            @ApiResponse( code = 400, message = \"Email address not registered as CC\", response = UIErrorMessage.class ),\n            @ApiResponse( code = 500, message = \"Something went wrong\", response = UIErrorMessage.class ) } )\n    @PostMapping( \"/otp/{email_address:.+}\" )\n    public ResponseEntity generateOtpToLogin( @PathVariable( \"email_address\" ) String emailAddress )\n    {\n        try\n        {\n            return buildResponse(authService.generateOtpForTheEmailAddress(emailAddress));\n        }\n        catch( DataException e )\n        {\n            return buildError(e);\n        }\n    }\n}\n</code></pre>\n\n<p>But, when an API request is made from a frontend application to the <code>POST</code> method, the browser is making an <code>OPTIONS</code> call and that response headers as <code>Access-Control-Allowed-Origin:*</code> even though I am setting it to <code>0.0.0.0:3000</code> and the browser is getting the error,</p>\n\n<blockquote>\n  <p>Access to XMLHttpRequest at\n  '<a href=\"http://192.168.1.3:8090/rest/noauth/otp/sandesha@test.com\" rel=\"nofollow noreferrer\">http://192.168.1.3:8090/rest/noauth/otp/sandesha@test.com</a>' from\n  origin '<a href=\"http://0.0.0.0:3000\" rel=\"nofollow noreferrer\">http://0.0.0.0:3000</a>' has been blocked by CORS policy: The\n  value of the 'Access-Control-Allow-Origin' header in the response must\n  not be the wildcard '*' when the request's credentials mode is\n  'include'. The credentials mode of requests initiated by the\n  XMLHttpRequest is controlled by the withCredentials attribute.</p>\n</blockquote>\n\n<p>How to resolve this issue?</p>\n"},{"tags":["java","macos","java-11","graphics2d"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":1,"creation_date":1685430744,"post_id":76362308,"comment_id":134654551,"body_markdown":"Maybe you can try `System.setProperty(&quot;apple.awt.textantialiasing&quot;, &quot;off&quot;)` on your Mac enviroment - or this answer maybe help you: https://stackoverflow.com/a/24592136/9434729","body":"Maybe you can try <code>System.setProperty(&quot;apple.awt.textantialiasing&quot;, &quot;off&quot;)</code> on your Mac enviroment - or this answer maybe help you: <a href=\"https://stackoverflow.com/a/24592136/9434729\">stackoverflow.com/a/24592136/9434729</a>"},{"owner":{"account_id":4239196,"reputation":1645,"user_id":3469592,"accept_rate":60,"display_name":"godfatherofpolka"},"score":0,"creation_date":1685438433,"post_id":76362308,"comment_id":134656202,"body_markdown":"@Jelmen Unfortunately, setting the `apple.awt.textantialiasing` system property to `off` does not seem to have an effect. I found https://bugs.openjdk.org/browse/JDK-8308148 which seems to indicate that this is a known problem?","body":"@Jelmen Unfortunately, setting the <code>apple.awt.textantialiasing</code> system property to <code>off</code> does not seem to have an effect. I found <a href=\"https://bugs.openjdk.org/browse/JDK-8308148\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8308148</a> which seems to indicate that this is a known problem?"},{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1685440357,"post_id":76362308,"comment_id":134656620,"body_markdown":"hm seems so - sorry that my hint did not work!","body":"hm seems so - sorry that my hint did not work!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1685442701,"post_id":76362308,"comment_id":134657142,"body_markdown":"That bug support sounds discouraging. And I’m a bit surprised that there should be no way to render things without the operating system; I thought there was an integration of FreeType or similar library. But I suppose, when you create a `BufferedImage` with [`TYPE_BYTE_BINARY`](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferedImage.html#TYPE_BYTE_BINARY), i.e. 1 bit per pixel, they can’t create gray pixels at all. You can draw that 1 bit image over another true color image afterwards…","body":"That bug support sounds discouraging. And I’m a bit surprised that there should be no way to render things without the operating system; I thought there was an integration of FreeType or similar library. But I suppose, when you create a <code>BufferedImage</code> with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferedImage.html#TYPE_BYTE_BINARY\" rel=\"nofollow noreferrer\"><code>TYPE_BYTE_BINARY</code></a>, i.e. 1 bit per pixel, they can’t create gray pixels at all. You can draw that 1 bit image over another true color image afterwards…"}],"owner":{"account_id":4239196,"reputation":1645,"user_id":3469592,"accept_rate":60,"display_name":"godfatherofpolka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1685439445,"creation_date":1685430079,"question_id":76362308,"body_markdown":"When running the code below with Java 11 on Mac OS X the results differ from running it on Linux: The left side shows the output on Linux (no text anti-aliasing), the right side shows the output on Mac OS X (notable text anti-aliasing).\r\n\r\n[![Left: Output on Linux without anti-aliasing, Right: Output on Mac OS X with anti-aliasing][1]][1]\r\n\r\nIs there a way to disable the text anti-aliasing on Mac OS X? \r\n\r\nOr, more generally, what is the recommended way to generate PNGs images with text and simple shapes using Java in an OS-independent, pixel-precise manner? \r\n\r\n(Looking at https://docs.oracle.com/javase/tutorial/2d/images/saveimage.html the recommended way seems to still be using `Graphics2D`, however that seems to lead to OS-dependent effects, e.g., the text anti-aliasing observed here).\r\n\r\nThe images above were created with the following sample code:\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Font font = loadFont();\r\n        BufferedImage bufferedImage = new BufferedImage(240, 60, BufferedImage.TYPE_3BYTE_BGR);\r\n        Graphics2D graphics = bufferedImage.createGraphics();\r\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_OFF);\r\n        graphics.setBackground(Color.WHITE);\r\n        graphics.clearRect(0, 0, 240, 60);\r\n        graphics.setFont(font);\r\n        graphics.setColor(Color.BLACK);\r\n        graphics.drawString(&quot;Hello, world!&quot;, 10, 50);\r\n        ImageIO.write(bufferedImage, &quot;png&quot;, new File(&quot;test-&quot; + System.getProperty(&quot;os.name&quot;) + &quot;.png&quot;));\r\n    }\r\n\r\n    private static Font loadFont() {\r\n        try (InputStream stream = TestAntiAliasing.class.getResourceAsStream(&quot;/LiberationSans-Regular.ttf&quot;)) {\r\n            return Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(Font.PLAIN, 40);\r\n        } catch (IOException | FontFormatException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThe code for Mac OS X was directly executed on Mac OS X Ventura 13.3.1 (a) with OpenJDK 64-Bit Server VM Temurin-11.0.19+7 (build 11.0.19+7, mixed mode). The code for Linux was executed inside a Docker container with image eclipse-temurin:11 and OpenJDK 64-Bit Server VM Temurin-11.0.19+7 (build 11.0.19+7, mixed mode, sharing).\r\n\r\n**Update**: It looks like this may be a known bug, see https://bugs.openjdk.org/browse/JDK-8308148 Looking at the source of `SunGraphics2D` it seems there&#39;s an explicit override for Mac OS X, essentially forcing the anti-aliasing to be always on\r\n\r\n        if (FontUtilities.isMacOSX14 &amp;&amp;\r\n            (aahint == SunHints.INTVAL_TEXT_ANTIALIAS_OFF))\r\n        {\r\n             aahint =  SunHints.INTVAL_TEXT_ANTIALIAS_ON;\r\n        }\r\n\r\nSee https://github.com/adoptium/jdk11u/blob/jdk-11.0.19+7/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774 This also does not seem to be fixed in more recent releases, e.g., https://github.com/adoptium/jdk11u/blob/jdk-11.0.20+4/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774 or https://github.com/adoptium/jdk20u/blob/jdk-20.0.1%2B9/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L775\r\n\r\nThis means it may not be possible to use the approach for generating PNGs outlined above without text anti-aliasing (and by extension, that this is not a portable approach). Therefore, the question is whether there is an alternative approach that can be used to generate PNGs without text anti-aliasing that works in a portable (i.e., OS-independent) way?\r\n\r\n  [1]: https://i.stack.imgur.com/Jl63W.png","title":"Create PNG without Text Anti-Aliasing in Java 11 on Mac OS X","body":"<p>When running the code below with Java 11 on Mac OS X the results differ from running it on Linux: The left side shows the output on Linux (no text anti-aliasing), the right side shows the output on Mac OS X (notable text anti-aliasing).</p>\n<p><a href=\"https://i.stack.imgur.com/Jl63W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jl63W.png\" alt=\"Left: Output on Linux without anti-aliasing, Right: Output on Mac OS X with anti-aliasing\" /></a></p>\n<p>Is there a way to disable the text anti-aliasing on Mac OS X?</p>\n<p>Or, more generally, what is the recommended way to generate PNGs images with text and simple shapes using Java in an OS-independent, pixel-precise manner?</p>\n<p>(Looking at <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/saveimage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/2d/images/saveimage.html</a> the recommended way seems to still be using <code>Graphics2D</code>, however that seems to lead to OS-dependent effects, e.g., the text anti-aliasing observed here).</p>\n<p>The images above were created with the following sample code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Font font = loadFont();\n    BufferedImage bufferedImage = new BufferedImage(240, 60, BufferedImage.TYPE_3BYTE_BGR);\n    Graphics2D graphics = bufferedImage.createGraphics();\n    graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_OFF);\n    graphics.setBackground(Color.WHITE);\n    graphics.clearRect(0, 0, 240, 60);\n    graphics.setFont(font);\n    graphics.setColor(Color.BLACK);\n    graphics.drawString(&quot;Hello, world!&quot;, 10, 50);\n    ImageIO.write(bufferedImage, &quot;png&quot;, new File(&quot;test-&quot; + System.getProperty(&quot;os.name&quot;) + &quot;.png&quot;));\n}\n\nprivate static Font loadFont() {\n    try (InputStream stream = TestAntiAliasing.class.getResourceAsStream(&quot;/LiberationSans-Regular.ttf&quot;)) {\n        return Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(Font.PLAIN, 40);\n    } catch (IOException | FontFormatException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>The code for Mac OS X was directly executed on Mac OS X Ventura 13.3.1 (a) with OpenJDK 64-Bit Server VM Temurin-11.0.19+7 (build 11.0.19+7, mixed mode). The code for Linux was executed inside a Docker container with image eclipse-temurin:11 and OpenJDK 64-Bit Server VM Temurin-11.0.19+7 (build 11.0.19+7, mixed mode, sharing).</p>\n<p><strong>Update</strong>: It looks like this may be a known bug, see <a href=\"https://bugs.openjdk.org/browse/JDK-8308148\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8308148</a> Looking at the source of <code>SunGraphics2D</code> it seems there's an explicit override for Mac OS X, essentially forcing the anti-aliasing to be always on</p>\n<pre><code>    if (FontUtilities.isMacOSX14 &amp;&amp;\n        (aahint == SunHints.INTVAL_TEXT_ANTIALIAS_OFF))\n    {\n         aahint =  SunHints.INTVAL_TEXT_ANTIALIAS_ON;\n    }\n</code></pre>\n<p>See <a href=\"https://github.com/adoptium/jdk11u/blob/jdk-11.0.19+7/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774\" rel=\"nofollow noreferrer\">https://github.com/adoptium/jdk11u/blob/jdk-11.0.19+7/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774</a> This also does not seem to be fixed in more recent releases, e.g., <a href=\"https://github.com/adoptium/jdk11u/blob/jdk-11.0.20+4/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774\" rel=\"nofollow noreferrer\">https://github.com/adoptium/jdk11u/blob/jdk-11.0.20+4/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L774</a> or <a href=\"https://github.com/adoptium/jdk20u/blob/jdk-20.0.1%2B9/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L775\" rel=\"nofollow noreferrer\">https://github.com/adoptium/jdk20u/blob/jdk-20.0.1%2B9/src/java.desktop/share/classes/sun/java2d/SunGraphics2D.java#L775</a></p>\n<p>This means it may not be possible to use the approach for generating PNGs outlined above without text anti-aliasing (and by extension, that this is not a portable approach). Therefore, the question is whether there is an alternative approach that can be used to generate PNGs without text anti-aliasing that works in a portable (i.e., OS-independent) way?</p>\n"},{"tags":["java","android","kotlin","android-camera","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605164939,"creation_date":1605164939,"answer_id":64799388,"question_id":64798927,"body_markdown":"I just removed This block \r\n```\r\nfuture?.addListener(Runnable {\r\n          val result = future?.get()\r\n          println(&quot;log result ---&gt; $result&quot;)\r\n       }, cameraExecutor)\r\n\r\n```\r\n\r\nand it&#39;s working fine. But I don&#39;t know is it right or wrong.\r\n\r\nIf anyone knows? please answer. currently I&#39;m marking this as answer as it worked.","title":"camera X Cancelled by another startFocusAndMetering","body":"<p>I just removed This block</p>\n<pre><code>future?.addListener(Runnable {\n          val result = future?.get()\n          println(&quot;log result ---&gt; $result&quot;)\n       }, cameraExecutor)\n\n</code></pre>\n<p>and it's working fine. But I don't know is it right or wrong.</p>\n<p>If anyone knows? please answer. currently I'm marking this as answer as it worked.</p>\n"},{"tags":[],"owner":{"account_id":8925249,"reputation":502,"user_id":6660064,"display_name":"Janwilx72"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626937298,"creation_date":1626936988,"answer_id":68480423,"question_id":64798927,"body_markdown":"Apologies for the java code here. But from my experience the future?.get() needs to be wrapped in a try, catch\r\n\r\n    future.addListener(() -&gt; {\r\n\r\n        try\r\n            {\r\n                FocusMeteringResult result = (FocusMeteringResult) future.get();\r\n                if(result.isFocusSuccessful())\r\n                {\r\n                    // Focus has succeeded\r\n                }\r\n                else\r\n                {\r\n                    // Focus has failed\r\n                }\r\n            }\r\n            catch (ExecutionException e) // Thrown exceptions\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            catch (InterruptedException e) // Thrown exceptions\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    }","title":"camera X Cancelled by another startFocusAndMetering","body":"<p>Apologies for the java code here. But from my experience the future?.get() needs to be wrapped in a try, catch</p>\n<pre><code>future.addListener(() -&gt; {\n\n    try\n        {\n            FocusMeteringResult result = (FocusMeteringResult) future.get();\n            if(result.isFocusSuccessful())\n            {\n                // Focus has succeeded\n            }\n            else\n            {\n                // Focus has failed\n            }\n        }\n        catch (ExecutionException e) // Thrown exceptions\n        {\n            e.printStackTrace();\n        }\n        catch (InterruptedException e) // Thrown exceptions\n        {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19779392,"reputation":61,"user_id":14484706,"display_name":"Harshit Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685438792,"creation_date":1685438792,"answer_id":76363409,"question_id":64798927,"body_markdown":"As you mentioned the problem is due to future?.addListener. To solve this you can define the future variable outside the viewFinder.setOnTouchListener as:\r\n\r\n    private var future: ListenableFuture&lt;FocusMeteringResult&gt;? = null\r\n\r\nand before calling the startFocusAndMetering(action) cancel the future\r\n\r\n    future?.cancel(true)\r\nSo your final code would look something like this:\r\n\r\n    private var future: ListenableFuture&lt;FocusMeteringResult&gt;? = null\r\n\r\n    viewFinder.setOnTouchListener { v, event -&gt;\r\n                return@setOnTouchListener when (event.action) {\r\n                    MotionEvent.ACTION_DOWN -&gt; {\r\n                        true\r\n                    }\r\n                    MotionEvent.ACTION_UP -&gt; {\r\n                       \r\n                        future?.cancel(true)\r\n\r\n                        // The below code is for focusing \r\n    \r\n                        val factory = SurfaceOrientedMeteringPointFactory(\r\n                            viewFinder.width.toFloat(),\r\n                            viewFinder.height.toFloat()\r\n                        )\r\n                        val point = factory.createPoint(event.x, event.y)\r\n                        try {\r\n                            val action = FocusMeteringAction.Builder(point, FocusMeteringAction.FLAG_AF)\r\n                                .apply {\r\n                                    disableAutoCancel() //focus only when the user tap the preview\r\n                                }.build()\r\n    \r\n                            future = cameraControl?.startFocusAndMetering(action)\r\n                            future?.addListener(Runnable {\r\n    ---&gt;line 66                 val result = future?.get()\r\n                                println(&quot;log result ---&gt; $result&quot;)\r\n                            }, cameraExecutor)\r\n    \r\n                        } catch (e: CameraInfoUnavailableException) {\r\n                            println(&quot;log error ---&gt; $e&quot;)\r\n                        }\r\n                        true\r\n                    }\r\n                    else -&gt; false // Unhandled event.\r\n                }\r\n            }\r\n\r\n\r\n","title":"camera X Cancelled by another startFocusAndMetering","body":"<p>As you mentioned the problem is due to future?.addListener. To solve this you can define the future variable outside the viewFinder.setOnTouchListener as:</p>\n<pre><code>private var future: ListenableFuture&lt;FocusMeteringResult&gt;? = null\n</code></pre>\n<p>and before calling the startFocusAndMetering(action) cancel the future</p>\n<pre><code>future?.cancel(true)\n</code></pre>\n<p>So your final code would look something like this:</p>\n<pre><code>private var future: ListenableFuture&lt;FocusMeteringResult&gt;? = null\n\nviewFinder.setOnTouchListener { v, event -&gt;\n            return@setOnTouchListener when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; {\n                    true\n                }\n                MotionEvent.ACTION_UP -&gt; {\n                   \n                    future?.cancel(true)\n\n                    // The below code is for focusing \n\n                    val factory = SurfaceOrientedMeteringPointFactory(\n                        viewFinder.width.toFloat(),\n                        viewFinder.height.toFloat()\n                    )\n                    val point = factory.createPoint(event.x, event.y)\n                    try {\n                        val action = FocusMeteringAction.Builder(point, FocusMeteringAction.FLAG_AF)\n                            .apply {\n                                disableAutoCancel() //focus only when the user tap the preview\n                            }.build()\n\n                        future = cameraControl?.startFocusAndMetering(action)\n                        future?.addListener(Runnable {\n---&gt;line 66                 val result = future?.get()\n                            println(&quot;log result ---&gt; $result&quot;)\n                        }, cameraExecutor)\n\n                    } catch (e: CameraInfoUnavailableException) {\n                        println(&quot;log error ---&gt; $e&quot;)\n                    }\n                    true\n                }\n                else -&gt; false // Unhandled event.\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64799388,"answer_count":3,"score":3,"last_activity_date":1685438792,"creation_date":1605162300,"question_id":64798927,"body_markdown":"I&#39;m implementing a custom camera using cameraX library. I&#39;m working on focusing and I did below things\r\n\r\n```\r\nviewFinder.setOnTouchListener { v, event -&gt;\r\n            return@setOnTouchListener when (event.action) {\r\n                MotionEvent.ACTION_DOWN -&gt; {\r\n                    true\r\n                }\r\n                MotionEvent.ACTION_UP -&gt; {\r\n                   // The below code is for focusing \r\n\r\n                    val factory = SurfaceOrientedMeteringPointFactory(\r\n                        viewFinder.width.toFloat(),\r\n                        viewFinder.height.toFloat()\r\n                    )\r\n                    val point = factory.createPoint(event.x, event.y)\r\n                    try {\r\n                        val action = FocusMeteringAction.Builder(point, FocusMeteringAction.FLAG_AF)\r\n                            .apply {\r\n                                disableAutoCancel() //focus only when the user tap the preview\r\n                            }.build()\r\n\r\n                        val future = cameraControl?.startFocusAndMetering(action)\r\n                        future?.addListener(Runnable {\r\n---&gt;line 66                 val result = future?.get()\r\n                            println(&quot;log result ---&gt; $result&quot;)\r\n                        }, cameraExecutor)\r\n\r\n                    } catch (e: CameraInfoUnavailableException) {\r\n                        println(&quot;log error ---&gt; $e&quot;)\r\n                    }\r\n                    true\r\n                }\r\n                else -&gt; false // Unhandled event.\r\n            }\r\n        }\r\n```\r\n\r\nNow, It is some what focusing the point I touched and it&#39;s not too accurate but it&#39;s ok. And while focusing after 5 to 6 times the app was crashing and closing. \r\n\r\n```\r\nFATAL EXCEPTION: pool-2-thread-1\r\n...\r\n...\r\njava.lang.Error: java.util.concurrent.ExecutionException: androidx.camera.core.CameraControl$OperationCanceledException: Cancelled by another startFocusAndMetering()\r\n...\r\n...\r\n...MainActivity$onCreate$2$1.run(MainActivity.kt:66)\r\n```  \r\n\r\nI&#39;m not getting why it&#39;s crashing and it is not frequently crashing. Sometimes it will crash and some times not. \r\n\r\nEdit 1 :-\r\n\r\nI got to know that when I tap focus multiple times this is happening. So, before start of focusing I need to clear the previous focus if in progress. But, how to clear previous focus I&#39;m not getting.\r\n\r\nEdit 2 :- \r\n\r\nI tried this ` cameraControl?.cancelFocusAndMetering()`, I just put it at first line of try block. but still problem exists.","title":"camera X Cancelled by another startFocusAndMetering","body":"<p>I'm implementing a custom camera using cameraX library. I'm working on focusing and I did below things</p>\n<pre><code>viewFinder.setOnTouchListener { v, event -&gt;\n            return@setOnTouchListener when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; {\n                    true\n                }\n                MotionEvent.ACTION_UP -&gt; {\n                   // The below code is for focusing \n\n                    val factory = SurfaceOrientedMeteringPointFactory(\n                        viewFinder.width.toFloat(),\n                        viewFinder.height.toFloat()\n                    )\n                    val point = factory.createPoint(event.x, event.y)\n                    try {\n                        val action = FocusMeteringAction.Builder(point, FocusMeteringAction.FLAG_AF)\n                            .apply {\n                                disableAutoCancel() //focus only when the user tap the preview\n                            }.build()\n\n                        val future = cameraControl?.startFocusAndMetering(action)\n                        future?.addListener(Runnable {\n---&gt;line 66                 val result = future?.get()\n                            println(&quot;log result ---&gt; $result&quot;)\n                        }, cameraExecutor)\n\n                    } catch (e: CameraInfoUnavailableException) {\n                        println(&quot;log error ---&gt; $e&quot;)\n                    }\n                    true\n                }\n                else -&gt; false // Unhandled event.\n            }\n        }\n</code></pre>\n<p>Now, It is some what focusing the point I touched and it's not too accurate but it's ok. And while focusing after 5 to 6 times the app was crashing and closing.</p>\n<pre><code>FATAL EXCEPTION: pool-2-thread-1\n...\n...\njava.lang.Error: java.util.concurrent.ExecutionException: androidx.camera.core.CameraControl$OperationCanceledException: Cancelled by another startFocusAndMetering()\n...\n...\n...MainActivity$onCreate$2$1.run(MainActivity.kt:66)\n</code></pre>\n<p>I'm not getting why it's crashing and it is not frequently crashing. Sometimes it will crash and some times not.</p>\n<p>Edit 1 :-</p>\n<p>I got to know that when I tap focus multiple times this is happening. So, before start of focusing I need to clear the previous focus if in progress. But, how to clear previous focus I'm not getting.</p>\n<p>Edit 2 :-</p>\n<p>I tried this <code> cameraControl?.cancelFocusAndMetering()</code>, I just put it at first line of try block. but still problem exists.</p>\n"},{"tags":["java","https"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685439045,"post_id":76363405,"comment_id":134656329,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26736065,"reputation":1,"user_id":20337622,"display_name":"user20337622"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685438785,"creation_date":1685438785,"question_id":76363405,"body_markdown":"when I use http client send a request to a https url in main method, it&#39;s ok, but when I use it in a springboot application with the same params and headers, there is a Exception &quot;javax.net.ssl.SSLException: Received fatal alert: internal_error&quot;\r\n\r\nhow to resolve the problem","title":"springboot javax.net.ssl.SSLException: Received fatal alert: internal_error","body":"<p>when I use http client send a request to a https url in main method, it's ok, but when I use it in a springboot application with the same params and headers, there is a Exception &quot;javax.net.ssl.SSLException: Received fatal alert: internal_error&quot;</p>\n<p>how to resolve the problem</p>\n"},{"tags":["java","spring-mvc","pagination","spring-data"],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1462879595,"creation_date":1462879595,"answer_id":37137170,"question_id":37136679,"body_markdown":"There is a [`Page` implementation][1] for that:\r\n\r\n    final Page&lt;Something&gt; page = new PageImpl&lt;&gt;(theListOfSomething);\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>There is a <a href=\"http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html\" rel=\"noreferrer\"><code>Page</code> implementation</a> for that:</p>\n\n<pre><code>final Page&lt;Something&gt; page = new PageImpl&lt;&gt;(theListOfSomething);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1634621374,"creation_date":1508140743,"answer_id":46765495,"question_id":37136679,"body_markdown":"There is one more [Constructor][1] :\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html#PageImpl-java.util.List-org.springframework.data.domain.Pageable-long-\r\n\r\n    Page&lt;Something&gt; page = new PageImpl&lt;&gt;(listOfsomething, pageable, listOfsomething.size());","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>There is one more <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html#PageImpl-java.util.List-org.springframework.data.domain.Pageable-long-\" rel=\"noreferrer\">Constructor</a> :</p>\n<pre><code>Page&lt;Something&gt; page = new PageImpl&lt;&gt;(listOfsomething, pageable, listOfsomething.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8533622,"reputation":458,"user_id":6396274,"display_name":"smndiaye"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1573785193,"creation_date":1573785193,"answer_id":58869533,"question_id":37136679,"body_markdown":"I think you will need to fetch the correct page content as well.\r\n\r\n```\r\n\r\nPageRequest pageRequest = PageRequest.of(offset, limit);\r\n\r\nList&lt;Product&gt; products = getProducts();\r\n\r\nint total = products.size();\r\nint start = toIntExact(pageRequest.getOffset());\r\nint end = Math.min((start + pageRequest.getPageSize()), total);\r\n\r\nList&lt;Product&gt; output = new ArrayList&lt;&gt;();\r\n\r\nif (start &lt;= end) {\r\n    output = products.subList(start, end);\r\n}\r\n\r\nreturn new PageImpl&lt;&gt;(\r\n    output,\r\n    pageRequest,\r\n    total\r\n);\r\n```","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>I think you will need to fetch the correct page content as well.</p>\n\n<pre><code>\nPageRequest pageRequest = PageRequest.of(offset, limit);\n\nList&lt;Product&gt; products = getProducts();\n\nint total = products.size();\nint start = toIntExact(pageRequest.getOffset());\nint end = Math.min((start + pageRequest.getPageSize()), total);\n\nList&lt;Product&gt; output = new ArrayList&lt;&gt;();\n\nif (start &lt;= end) {\n    output = products.subList(start, end);\n}\n\nreturn new PageImpl&lt;&gt;(\n    output,\n    pageRequest,\n    total\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17608628,"reputation":124,"user_id":12777161,"display_name":"davimargelo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612873882,"creation_date":1612873882,"answer_id":66119066,"question_id":37136679,"body_markdown":"You can pass a list to the function to make it a pageable object. If the start value of the sublist is less than the list size, it returns the empty content.\r\n\r\n      public Page&lt;?&gt; toPage(List&lt;?&gt; list, Pageable pageable) {\r\n            int start = (int) pageable.getOffset();\r\n            int end = Math.min((start + pageable.getPageSize()), list.size());\r\n            if(start &gt; list.size())\r\n                return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, list.size());\r\n            return new PageImpl&lt;&gt;(list.subList(start, end), pageable, list.size());\r\n        }","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>You can pass a list to the function to make it a pageable object. If the start value of the sublist is less than the list size, it returns the empty content.</p>\n<pre><code>  public Page&lt;?&gt; toPage(List&lt;?&gt; list, Pageable pageable) {\n        int start = (int) pageable.getOffset();\n        int end = Math.min((start + pageable.getPageSize()), list.size());\n        if(start &gt; list.size())\n            return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, list.size());\n        return new PageImpl&lt;&gt;(list.subList(start, end), pageable, list.size());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":963056,"reputation":994,"user_id":986966,"accept_rate":80,"display_name":"fall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617787648,"creation_date":1617787648,"answer_id":66983202,"question_id":37136679,"body_markdown":"The above answers all assume the list is what you wish to return. Here is what you can do to perform pagination on a list containing **total** records.\r\n\r\n    //pageNum starts with 1\r\n    //size: page size\r\n    //totalRecords, total records\r\n    Page&lt;Record&gt; myMethod(int pageNum, int size, List&lt;MyRecord&gt; totalRecords){\r\n        if(pageNum&lt;1){\r\n            pageNum = 1;\r\n        }\r\n        if(size &lt; 1){\r\n            size = 10;\r\n        }\r\n        //spring page starts with 0\r\n        Pageable pageable = new PageRequest(pageNum-1, size);\r\n        //when pageNum * size is too big(bigger than list.size()), totalRecords.subList() will throw a exception, we need to fix this\r\n        if(pageable.getOffset() &gt; list.size()){\r\n                pageable = new PageRequest(0, size);\r\n        }\r\n        List&lt;MyRecord&gt; pageRecords = totalRecords.subList(pageable.getOffset(), Math.min(pageable.getOffset() + pageable.getPageSize(), totalRecords.size()));\r\n        \r\n        Page springPage = new PageImpl&lt;&gt;(pageRecords, pageable, totalRecords.size());\r\n        return springPage;\r\n    }","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>The above answers all assume the list is what you wish to return. Here is what you can do to perform pagination on a list containing <strong>total</strong> records.</p>\n<pre><code>//pageNum starts with 1\n//size: page size\n//totalRecords, total records\nPage&lt;Record&gt; myMethod(int pageNum, int size, List&lt;MyRecord&gt; totalRecords){\n    if(pageNum&lt;1){\n        pageNum = 1;\n    }\n    if(size &lt; 1){\n        size = 10;\n    }\n    //spring page starts with 0\n    Pageable pageable = new PageRequest(pageNum-1, size);\n    //when pageNum * size is too big(bigger than list.size()), totalRecords.subList() will throw a exception, we need to fix this\n    if(pageable.getOffset() &gt; list.size()){\n            pageable = new PageRequest(0, size);\n    }\n    List&lt;MyRecord&gt; pageRecords = totalRecords.subList(pageable.getOffset(), Math.min(pageable.getOffset() + pageable.getPageSize(), totalRecords.size()));\n    \n    Page springPage = new PageImpl&lt;&gt;(pageRecords, pageable, totalRecords.size());\n    return springPage;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7143977,"reputation":61,"user_id":5460448,"display_name":"zhezha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685438553,"creation_date":1639157993,"answer_id":70308434,"question_id":37136679,"body_markdown":"Normally, controller should receive a `Pageable` object as parameter. The `Pageable` object contains page number, page size and sorting information.\r\n\r\nThen you can query all entities from `JpaRepository` with sorting and generate `Page` object:\r\n\r\n```\r\nList&lt;Entity&gt; allList = jpaRepository.findAll(pageable.getSort());\r\n\r\nList&lt;Entity&gt; pageList = allList.stream()\r\n    .skip(pageable.getOffset())\r\n    .limit(pageable.getPageSize())\r\n    .collect(Collectors.toList());\r\n\r\nreturn new PageImpl&lt;&gt;(pageList, pageable, allList.size());\r\n\r\n```\r\n","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>Normally, controller should receive a <code>Pageable</code> object as parameter. The <code>Pageable</code> object contains page number, page size and sorting information.</p>\n<p>Then you can query all entities from <code>JpaRepository</code> with sorting and generate <code>Page</code> object:</p>\n<pre><code>List&lt;Entity&gt; allList = jpaRepository.findAll(pageable.getSort());\n\nList&lt;Entity&gt; pageList = allList.stream()\n    .skip(pageable.getOffset())\n    .limit(pageable.getPageSize())\n    .collect(Collectors.toList());\n\nreturn new PageImpl&lt;&gt;(pageList, pageable, allList.size());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26874300,"reputation":1,"user_id":20455785,"display_name":"Abu Hasnat MD. Sayem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668225616,"creation_date":1667967237,"answer_id":74369862,"question_id":37136679,"body_markdown":"```\r\npublic static &lt;T&gt; PageData buildCustomPagedData(List&lt;T&gt; data, Pageable pageable) {\r\n    List&lt;T&gt; model = new ArrayList&lt;&gt;();\r\n    int start = VALUE_ZERO;\r\n    if (!Objects.equals(pageable.getPageNumber(), FIRST_INDEX)) {\r\n        start = (pageable.getPageNumber() * pageable.getPageSize());\r\n    }\r\n    for (int i = start; i &lt; start + pageable.getPageSize(); i++) {\r\n        if (i &lt; data.size()) {\r\n            model.add(data.get(i));\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n    return PageData.builder()\r\n            .model(model)\r\n            .totalElements(data.size())\r\n            .currentPage(pageable.getPageNumber() + INT_ONE)\r\n            .totalPages((data.size() / pageable.getPageSize()) + INT_ONE)\r\n            .build();\r\n}\r\n```","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<pre><code>public static &lt;T&gt; PageData buildCustomPagedData(List&lt;T&gt; data, Pageable pageable) {\n    List&lt;T&gt; model = new ArrayList&lt;&gt;();\n    int start = VALUE_ZERO;\n    if (!Objects.equals(pageable.getPageNumber(), FIRST_INDEX)) {\n        start = (pageable.getPageNumber() * pageable.getPageSize());\n    }\n    for (int i = start; i &lt; start + pageable.getPageSize(); i++) {\n        if (i &lt; data.size()) {\n            model.add(data.get(i));\n        } else {\n            break;\n        }\n    }\n    return PageData.builder()\n            .model(model)\n            .totalElements(data.size())\n            .currentPage(pageable.getPageNumber() + INT_ONE)\n            .totalPages((data.size() / pageable.getPageSize()) + INT_ONE)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":7901199,"reputation":1223,"user_id":5968171,"accept_rate":100,"display_name":"briantaurostack7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126687,"favorite_count":0,"down_vote_count":2,"up_vote_count":78,"accepted_answer_id":37137170,"answer_count":7,"score":76,"last_activity_date":1685438553,"creation_date":1462878243,"question_id":37136679,"body_markdown":"I have a `List` of entities.\r\nHow do I convert it to `Page` Object using Spring MVC 4 and Spring Data JPA?","title":"How to convert a list of enity object to page object in Spring MVC (JPA)?","body":"<p>I have a <code>List</code> of entities.\nHow do I convert it to <code>Page</code> Object using Spring MVC 4 and Spring Data JPA?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1685461382,"post_id":76363275,"comment_id":134661768,"body_markdown":"*&quot;And also is there a way of making a GUI faster and simpler?&quot;* =&gt; Yes, but that is both a much too generic question to get an answer here and completely unrelated to your actual question title.","body":"<i>&quot;And also is there a way of making a GUI faster and simpler?&quot;</i> =&gt; Yes, but that is both a much too generic question to get an answer here and completely unrelated to your actual question title."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1685461716,"post_id":76363275,"comment_id":134661831,"body_markdown":"*&quot;Is there a way to create an onclick event on my button?&quot;* -&gt; You can create a click event for a button by clicking on it, or by [firing](https://openjfx.io/javadoc/17/javafx.base/javafx/event/Event.html#fireEvent(javafx.event.EventTarget,javafx.event.Event)) a [`MOUSE_CLICKED`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/MouseEvent.html#MOUSE_CLICKED) event on the button.  But I have a feel that isn&#39;t what you really want to know.","body":"<i>&quot;Is there a way to create an onclick event on my button?&quot;</i> -&gt; You can create a click event for a button by clicking on it, or by <a href=\"https://openjfx.io/javadoc/17/javafx.base/javafx/event/Event.html#fireEvent(javafx.event.EventTarget,javafx.event.Event)\" rel=\"nofollow noreferrer\">firing</a> a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/MouseEvent.html#MOUSE_CLICKED\" rel=\"nofollow noreferrer\"><code>MOUSE_CLICKED</code></a> event on the button.  But I have a feel that isn&#39;t what you really want to know."}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685438284,"creation_date":1685438284,"answer_id":76363339,"question_id":76363275,"body_markdown":"You can use the `onAction` attribute of the button to bind the click to a method of your controller.\r\n\r\nIn your FXML :\r\n\r\n    &lt;Button fx:id=&quot;deleteButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;T&#246;rl&#233;s&quot; onAction=&quot;#onDeleteButtonClicked&quot; /&gt;\r\n\r\nIn your controller `HelloController` :\r\n\r\n    public void onDeleteButtonClicked(ActionEvent event) {\r\n       ...\r\n    }\r\n\r\nRegarding the question &quot;is there a way of making a GUI faster and simpler?&quot;, you could use [SceneBuilder][1].\r\n\r\n\r\n  [1]: https://gluonhq.com/products/scene-builder/","title":"Is there a way to create an onclick event on my button?","body":"<p>You can use the <code>onAction</code> attribute of the button to bind the click to a method of your controller.</p>\n<p>In your FXML :</p>\n<pre><code>&lt;Button fx:id=&quot;deleteButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Törlés&quot; onAction=&quot;#onDeleteButtonClicked&quot; /&gt;\n</code></pre>\n<p>In your controller <code>HelloController</code> :</p>\n<pre><code>public void onDeleteButtonClicked(ActionEvent event) {\n   ...\n}\n</code></pre>\n<p>Regarding the question &quot;is there a way of making a GUI faster and simpler?&quot;, you could use <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\">SceneBuilder</a>.</p>\n"}],"owner":{"account_id":28423510,"reputation":3,"user_id":21745241,"display_name":"TheCodeMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685696768,"accepted_answer_id":76363339,"answer_count":1,"score":-2,"last_activity_date":1685438284,"creation_date":1685437800,"question_id":76363275,"body_markdown":"This is my fxml file and i made an eventlistener for my button with the id of &quot;deletebutton&quot;:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox minHeight=&quot;600.0&quot; minWidth=&quot;800.0&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; fx:controller=&quot;com.example.carjava.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n   &lt;children&gt;\r\n      &lt;Button fx:id=&quot;deleteButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;T&#246;rl&#233;s&quot; /&gt;\r\n      &lt;TableView fx:id=&quot;carTable&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;licensePlateCol&quot; prefWidth=&quot;180.0&quot; text=&quot;Rendsz&#225;m&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;modelCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;180.0&quot; text=&quot;Model&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;brandCol&quot; prefWidth=&quot;180.0&quot; text=&quot;M&#225;rka&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;dailyCostCol&quot; prefWidth=&quot;180.0&quot; text=&quot;Napid&#237;j (Ft)&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nI tried making an event listener but i was hoping for something simpler. And also is there a way of making a GUI faster and simpler?","title":"Is there a way to create an onclick event on my button?","body":"<p>This is my fxml file and i made an eventlistener for my button with the id of &quot;deletebutton&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox minHeight=&quot;600.0&quot; minWidth=&quot;800.0&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; fx:controller=&quot;com.example.carjava.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;deleteButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Törlés&quot; /&gt;\n      &lt;TableView fx:id=&quot;carTable&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;200.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;licensePlateCol&quot; prefWidth=&quot;180.0&quot; text=&quot;Rendszám&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;modelCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;180.0&quot; text=&quot;Model&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;brandCol&quot; prefWidth=&quot;180.0&quot; text=&quot;Márka&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;dailyCostCol&quot; prefWidth=&quot;180.0&quot; text=&quot;Napidíj (Ft)&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>I tried making an event listener but i was hoping for something simpler. And also is there a way of making a GUI faster and simpler?</p>\n"},{"tags":["java","swing","if-statement","jbutton","jradiobutton"],"comments":[{"owner":{"account_id":1640971,"reputation":29,"user_id":1513402,"display_name":"dothackjhe"},"score":0,"creation_date":1349141375,"post_id":12683333,"comment_id":17118771,"body_markdown":"How do I post a  screenshot here?","body":"How do I post a  screenshot here?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1349141562,"post_id":12683333,"comment_id":17118802,"body_markdown":"You may not have enough rep to post images. Try posting the code from the action performed method as text (or snippet of)","body":"You may not have enough rep to post images. Try posting the code from the action performed method as text (or snippet of)"}],"answers":[{"tags":[],"owner":{"account_id":1299326,"reputation":83,"user_id":1249569,"accept_rate":80,"display_name":"user1249569"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349141276,"creation_date":1349141276,"answer_id":12683357,"question_id":12683333,"body_markdown":"Use `JTextField.setText(&quot;&quot;)` whenever you want to clean a text area.\r\nRegardind the main issue - Post some code..\r\n","title":"If-else condition within a JButton ActionEvent","body":"<p>Use <code>JTextField.setText(\"\")</code> whenever you want to clean a text area.\nRegardind the main issue - Post some code..</p>\n"},{"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349571562,"creation_date":1349147575,"answer_id":12684050,"question_id":12683333,"body_markdown":"I think if you are asking how to stop the action even once you hit the condition, all you need to do is add a return statement to your code. For example, if button 1 is pushed, display message, then add a return statement, that will result in the code exiting that method and not getting to the other if statement.\r\n\r\nMaybe you want to use something like a Hash, or List to store your choices and each time a choice is made, add it to the List. Then you can always find the last choice made by getting our last Element of the list. I&#39;m not real clear on what you are trying to make here, but maybe that will give you some ideas.\r\n\r\n\r\n----------\r\n\r\n\r\nI wrote a small program here that has 2 radio buttons and a submit. When you click submit it updates the text in the window based on the radio button selection.\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    \r\n    public class MyWindow extends JFrame {\r\n    \r\n    \tprivate JPanel contentPane;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tMyWindow frame = new MyWindow();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic MyWindow() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 450, 300);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(null);\r\n    \r\n    \t\tfinal JRadioButton rdbtnNewRadioButton = new JRadioButton(&quot;Choice 1&quot;);\r\n    \t\trdbtnNewRadioButton.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\trdbtnNewRadioButton.setSelected(true);\r\n    \t\trdbtnNewRadioButton.setBounds(5, 7, 424, 23);\r\n    \t\tcontentPane.add(rdbtnNewRadioButton);\r\n    \r\n    \t\tJRadioButton rdbtnNewRadioButton_1 = new JRadioButton(&quot;Choice 2&quot;);\r\n    \t\trdbtnNewRadioButton_1.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\trdbtnNewRadioButton_1.setBounds(5, 33, 109, 23);\r\n    \t\tcontentPane.add(rdbtnNewRadioButton_1);\r\n    \r\n    \t\tButtonGroup buttonGroup = new ButtonGroup();\r\n    \t\tbuttonGroup.add(rdbtnNewRadioButton);\r\n    \t\tbuttonGroup.add(rdbtnNewRadioButton_1);\r\n    \r\n    \t\tfinal JTextArea textArea = new JTextArea();\r\n    \t\ttextArea.setBounds(57, 80, 321, 94);\r\n    \t\tcontentPane.add(textArea);\r\n    \r\n    \t\tJButton btnNewButton = new JButton(&quot;Submit&quot;);\r\n    \t\tbtnNewButton.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tif (rdbtnNewRadioButton.isSelected()) {\r\n    \t\t\t\t\ttextArea.setText(&quot;Choice 1 Selected.&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ttextArea.setText(&quot;Choice 2 Selected.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tbtnNewButton.setBounds(135, 212, 89, 23);\r\n    \t\tcontentPane.add(btnNewButton);\r\n    \t}\r\n    }\r\n\r\n\r\n----------\r\nCheck out the Java Tutorials on using buttons. Specifically look at the How to use Radio Buttons section to see if that sheds any light on how you would design it.\r\n\r\n[How to use Radio Buttons][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/button.html","title":"If-else condition within a JButton ActionEvent","body":"<p>I think if you are asking how to stop the action even once you hit the condition, all you need to do is add a return statement to your code. For example, if button 1 is pushed, display message, then add a return statement, that will result in the code exiting that method and not getting to the other if statement.</p>\n\n<p>Maybe you want to use something like a Hash, or List to store your choices and each time a choice is made, add it to the List. Then you can always find the last choice made by getting our last Element of the list. I'm not real clear on what you are trying to make here, but maybe that will give you some ideas.</p>\n\n<hr>\n\n<p>I wrote a small program here that has 2 radio buttons and a submit. When you click submit it updates the text in the window based on the radio button selection.</p>\n\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextArea;\nimport javax.swing.border.EmptyBorder;\n\n\npublic class MyWindow extends JFrame {\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    MyWindow frame = new MyWindow();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public MyWindow() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n\n        final JRadioButton rdbtnNewRadioButton = new JRadioButton(\"Choice 1\");\n        rdbtnNewRadioButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        rdbtnNewRadioButton.setSelected(true);\n        rdbtnNewRadioButton.setBounds(5, 7, 424, 23);\n        contentPane.add(rdbtnNewRadioButton);\n\n        JRadioButton rdbtnNewRadioButton_1 = new JRadioButton(\"Choice 2\");\n        rdbtnNewRadioButton_1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        rdbtnNewRadioButton_1.setBounds(5, 33, 109, 23);\n        contentPane.add(rdbtnNewRadioButton_1);\n\n        ButtonGroup buttonGroup = new ButtonGroup();\n        buttonGroup.add(rdbtnNewRadioButton);\n        buttonGroup.add(rdbtnNewRadioButton_1);\n\n        final JTextArea textArea = new JTextArea();\n        textArea.setBounds(57, 80, 321, 94);\n        contentPane.add(textArea);\n\n        JButton btnNewButton = new JButton(\"Submit\");\n        btnNewButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if (rdbtnNewRadioButton.isSelected()) {\n                    textArea.setText(\"Choice 1 Selected.\");\n                } else {\n                    textArea.setText(\"Choice 2 Selected.\");\n                }\n            }\n        });\n\n        btnNewButton.setBounds(135, 212, 89, 23);\n        contentPane.add(btnNewButton);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Check out the Java Tutorials on using buttons. Specifically look at the How to use Radio Buttons section to see if that sheds any light on how you would design it.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow\">How to use Radio Buttons</a></p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349483354,"creation_date":1349483354,"answer_id":12755653,"question_id":12683333,"body_markdown":"&gt; How do I stop the ActionEvent method of a JButton from re-iterating the reading of the first layer of the nested if-else condition once the innermost line or last line of codes is read?\r\n\r\nIf I understand what you are asking, this is the whole point of an `if ... else if ... else if ... (etc) ... else` statement. When one of the conditions is matched, none of the other blocks is executed. So it looks like you just need to add `else`s to match your `if`s. For example:\r\n\r\n    // Strings of text displayed on the JTextArea is shown here\r\n    // prompting to choose between two options: example, left or right\r\n\r\n    jButton1.addActionListener(new ActionListener()\r\n    {\r\n        public void actionPerformed(ActionEvent e)\r\n        {\r\n           jButton1actionPerformed(e);\r\n        }\r\n    });\r\n\r\n\r\n    private void jButton1actionPerformed(ActionEvent e) \r\n    {                                             \r\n        if(jRadioButton1.isSelected()) \r\n        {     \r\n           // Display strings of text as response to the choice left\r\n           // Another options to choose from here:, example, up or down\r\n           JTextArea.setText(&quot;You&#39;ve chosen: &quot; );\r\n           JTextArea.append(&quot;Now choose between: &quot;);\r\n\r\n           if (jRadioButton1.isSelected())\r\n           {\r\n             JTextArea.append(&quot;From first choice, choose between: &quot;);\r\n             // stop from here\r\n           }\r\n\r\n           else if (jRadioButton2.isSelected())\r\n           {\r\n             //same as above\r\n           }\r\n         }\r\n        \r\n         else if (jRadioButton2.isSelected()) // ***** Note the &quot;else&quot; added here.\r\n         {\r\n            // Same as above\r\n         }\r\n    }\r\n\r\nHowever, there is a problem with your code. Why are you checking two times if `jRadioButton1` is selected? After the first if statement, you already know it is selected and don&#39;t need to check again.","title":"If-else condition within a JButton ActionEvent","body":"<blockquote>\n  <p>How do I stop the ActionEvent method of a JButton from re-iterating the reading of the first layer of the nested if-else condition once the innermost line or last line of codes is read?</p>\n</blockquote>\n\n<p>If I understand what you are asking, this is the whole point of an <code>if ... else if ... else if ... (etc) ... else</code> statement. When one of the conditions is matched, none of the other blocks is executed. So it looks like you just need to add <code>else</code>s to match your <code>if</code>s. For example:</p>\n\n<pre><code>// Strings of text displayed on the JTextArea is shown here\n// prompting to choose between two options: example, left or right\n\njButton1.addActionListener(new ActionListener()\n{\n    public void actionPerformed(ActionEvent e)\n    {\n       jButton1actionPerformed(e);\n    }\n});\n\n\nprivate void jButton1actionPerformed(ActionEvent e) \n{                                             \n    if(jRadioButton1.isSelected()) \n    {     \n       // Display strings of text as response to the choice left\n       // Another options to choose from here:, example, up or down\n       JTextArea.setText(\"You've chosen: \" );\n       JTextArea.append(\"Now choose between: \");\n\n       if (jRadioButton1.isSelected())\n       {\n         JTextArea.append(\"From first choice, choose between: \");\n         // stop from here\n       }\n\n       else if (jRadioButton2.isSelected())\n       {\n         //same as above\n       }\n     }\n\n     else if (jRadioButton2.isSelected()) // ***** Note the \"else\" added here.\n     {\n        // Same as above\n     }\n}\n</code></pre>\n\n<p>However, there is a problem with your code. Why are you checking two times if <code>jRadioButton1</code> is selected? After the first if statement, you already know it is selected and don't need to check again.</p>\n"},{"tags":[],"owner":{"account_id":14796876,"reputation":26,"user_id":10686305,"display_name":"S. Kafetzopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609521996,"creation_date":1609521996,"answer_id":65531976,"question_id":12683333,"body_markdown":"If I can understand what you are asking\r\n\r\nMaybe this will suffice:\r\n\r\n```\r\nprivate void jButton1actionPerformed(ActionEvent e) \r\n{                                             \r\n    if(jRadioButton1.isSelected()) \r\n    {     \r\n       // Display strings of text as response to the choice left\r\n       // Another options to choose from here:, example, up or down\r\n       JTextArea.setText(&quot;You&#39;ve chosen: &quot; );\r\n       JTextArea.append(&quot;Now choose between: &quot;);\r\n\r\n//       if (jRadioButton1.isSelected())\r\n//       {\r\n//         JTextArea.append(&quot;From first choice, choose between: &quot;);\r\n//        // stop from here\r\n//       }\r\n\r\n       else if (jRadioButton2.isSelected())\r\n       {\r\n         //same as above\r\n       }\r\n     }\r\n// The above else if block covers what you are doing bellow\r\n//     if (jRadioButton2.isSelected())\r\n//     {\r\n//        // Same as above\r\n//     }\r\n}\r\n```\r\n\r\nIf you want to do branching from the two different jRadioButton and having in mind the given code, I would suggest 4 possible paths\r\n\r\n1. if ( jRadioButton1.isSelected() &amp;&amp; jRadioButton2.isSelected())\r\n\r\n2. if( jRadioButton1.isSelected())\r\n\r\n3. if( jRadioButton2.isSelected())\r\n\r\n4. else ","title":"If-else condition within a JButton ActionEvent","body":"<p>If I can understand what you are asking</p>\n<p>Maybe this will suffice:</p>\n<pre><code>private void jButton1actionPerformed(ActionEvent e) \n{                                             \n    if(jRadioButton1.isSelected()) \n    {     \n       // Display strings of text as response to the choice left\n       // Another options to choose from here:, example, up or down\n       JTextArea.setText(&quot;You've chosen: &quot; );\n       JTextArea.append(&quot;Now choose between: &quot;);\n\n//       if (jRadioButton1.isSelected())\n//       {\n//         JTextArea.append(&quot;From first choice, choose between: &quot;);\n//        // stop from here\n//       }\n\n       else if (jRadioButton2.isSelected())\n       {\n         //same as above\n       }\n     }\n// The above else if block covers what you are doing bellow\n//     if (jRadioButton2.isSelected())\n//     {\n//        // Same as above\n//     }\n}\n</code></pre>\n<p>If you want to do branching from the two different jRadioButton and having in mind the given code, I would suggest 4 possible paths</p>\n<ol>\n<li><p>if ( jRadioButton1.isSelected() &amp;&amp; jRadioButton2.isSelected())</p>\n</li>\n<li><p>if( jRadioButton1.isSelected())</p>\n</li>\n<li><p>if( jRadioButton2.isSelected())</p>\n</li>\n<li><p>else</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1640971,"reputation":29,"user_id":1513402,"display_name":"dothackjhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1685438244,"creation_date":1349141057,"question_id":12683333,"body_markdown":"I&#39;ve just uploaded my progress into the program. Please have a look and see what is lacking in it. Also, please ignore the lame joke from the strings in it while you&#39;re at it. It can be downloaded from this link: http://www.mediafire.com/?n0sp8v22egfsx7t\r\n\r\nNote that I used NetBeans to easily make the program.\r\n\r\nEdited:\r\n\r\nHow do I stop the ActionEvent method of a JButton from re-iterating the reading of the first layer of the nested if-else condition once the innermost line or last line of codes is read?\r\n\r\nAlso, as an additional question, how do I prompt the system to choose between choices thus literally branch out from the other once a choice is given? Apparently what I&#39;m doing was just connect these block of strings together and not branch them out thus appear iterated once a new block of codes is to be displayed in connection to the previous block of code displayed. .  \r\n\r\nSnippet:\r\n\r\n    // Strings of text displayed on the JTextArea is shown here\r\n    // prompting to choose between two options: example, left or right\r\n\r\n    jButton1.addActionListener(new ActionListener()\r\n    {\r\n        public void actionPerformed(ActionEvent e)\r\n        {\r\n           jButton1actionPerformed(e);\r\n        }\r\n    });\r\n\r\n\r\n    private void jButton1actionPerformed(ActionEvent e) \r\n    {                                             \r\n        if(jRadioButton1.isSelected()) \r\n        {     \r\n           // Display strings of text as response to the choice left\r\n           // Another options to choose from here:, example, up or down\r\n           JTextArea.setText(&quot;You&#39;ve chosen: &quot; );\r\n           JTextArea.append(&quot;Now choose between: &quot;);\r\n\r\n           if (jRadioButton1.isSelected())\r\n           {\r\n             JTextArea.append(&quot;From first choice, choose between: &quot;);\r\n             // stop from here\r\n           }\r\n\r\n           else if (jRadioButton2.isSelected())\r\n           {\r\n             //same as above\r\n           }\r\n         }\r\n        \r\n         if (jRadioButton2.isSelected())\r\n         {\r\n            // Same as above\r\n         }\r\n    }","title":"If-else condition within a JButton ActionEvent","body":"<p>I've just uploaded my progress into the program. Please have a look and see what is lacking in it. Also, please ignore the lame joke from the strings in it while you're at it. It can be downloaded from this link: <a href=\"http://www.mediafire.com/?n0sp8v22egfsx7t\" rel=\"nofollow\">http://www.mediafire.com/?n0sp8v22egfsx7t</a></p>\n\n<p>Note that I used NetBeans to easily make the program.</p>\n\n<p>Edited:</p>\n\n<p>How do I stop the ActionEvent method of a JButton from re-iterating the reading of the first layer of the nested if-else condition once the innermost line or last line of codes is read?</p>\n\n<p>Also, as an additional question, how do I prompt the system to choose between choices thus literally branch out from the other once a choice is given? Apparently what I'm doing was just connect these block of strings together and not branch them out thus appear iterated once a new block of codes is to be displayed in connection to the previous block of code displayed. .  </p>\n\n<p>Snippet:</p>\n\n<pre><code>// Strings of text displayed on the JTextArea is shown here\n// prompting to choose between two options: example, left or right\n\njButton1.addActionListener(new ActionListener()\n{\n    public void actionPerformed(ActionEvent e)\n    {\n       jButton1actionPerformed(e);\n    }\n});\n\n\nprivate void jButton1actionPerformed(ActionEvent e) \n{                                             \n    if(jRadioButton1.isSelected()) \n    {     \n       // Display strings of text as response to the choice left\n       // Another options to choose from here:, example, up or down\n       JTextArea.setText(\"You've chosen: \" );\n       JTextArea.append(\"Now choose between: \");\n\n       if (jRadioButton1.isSelected())\n       {\n         JTextArea.append(\"From first choice, choose between: \");\n         // stop from here\n       }\n\n       else if (jRadioButton2.isSelected())\n       {\n         //same as above\n       }\n     }\n\n     if (jRadioButton2.isSelected())\n     {\n        // Same as above\n     }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","lua"],"owner":{"account_id":24921899,"reputation":1,"user_id":18790080,"display_name":"JanYork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685438237,"creation_date":1685438237,"question_id":76363332,"body_markdown":"In SpringBoot, I use RedisTemplate to execute the Lua script to implement the interface current limiter. The script is as follows：\r\n\r\n```\r\nlocal key = KEYS[1]\r\nlocal count = tonumber(ARGV[1])\r\nlocal expiration = tonumber(ARGV[2])\r\nif redis.call(&#39;EXISTS&#39;, key) == 0 then\r\n    redis.call(&#39;SET&#39;, key, 1)\r\n    redis.call(&#39;EXPIRE&#39;, key, expiration)\r\n    return 1\r\nelse\r\n    local current_count = tonumber(redis.call(&#39;GET&#39;, key))\r\n    if current_count == nil then\r\n        redis.log(redis.LOG_NOTICE, &#39;current_count is nil&#39;)\r\n        redis.log(redis.LOG_NOTICE, current_count)\r\n        return 10\r\n    end\r\n    if current_count &gt;= count then\r\n        return current_count\r\n    else\r\n        redis.call(&#39;INCR&#39;, key)\r\n        return current_count + 1\r\n    end\r\nend\r\n```\r\n\r\nWhat I don&#39;t understand is that it was normal for him to deposit in Redis for the first time, but this error occurred in the second accumulation:attempt to compare nil with number at org.springframework.data.redis.connection.lettuce.lettuceexceptionconverter.convert\r\n\r\nBut the fetched value should not be a nil, and I also judged whether the current_count is nil or not. Obviously, the program did not enter this judgment, which means it is not nil\r\n\r\nBut when executing this section of code: if current_count \\&gt;= count then ，I get an error that tells me that nil cannot be compared with type number? what&#39;s the situation? ? ? This surprised me.\r\n\r\nHas anyone specified why, please explain, thank you.\r\n\r\nno redundant operation.","title":"Using the Redis script in SpringBoot, an error is reported: attempt to compare nil with number at","body":"<p>In SpringBoot, I use RedisTemplate to execute the Lua script to implement the interface current limiter. The script is as follows：</p>\n<pre><code>local key = KEYS[1]\nlocal count = tonumber(ARGV[1])\nlocal expiration = tonumber(ARGV[2])\nif redis.call('EXISTS', key) == 0 then\n    redis.call('SET', key, 1)\n    redis.call('EXPIRE', key, expiration)\n    return 1\nelse\n    local current_count = tonumber(redis.call('GET', key))\n    if current_count == nil then\n        redis.log(redis.LOG_NOTICE, 'current_count is nil')\n        redis.log(redis.LOG_NOTICE, current_count)\n        return 10\n    end\n    if current_count &gt;= count then\n        return current_count\n    else\n        redis.call('INCR', key)\n        return current_count + 1\n    end\nend\n</code></pre>\n<p>What I don't understand is that it was normal for him to deposit in Redis for the first time, but this error occurred in the second accumulation:attempt to compare nil with number at org.springframework.data.redis.connection.lettuce.lettuceexceptionconverter.convert</p>\n<p>But the fetched value should not be a nil, and I also judged whether the current_count is nil or not. Obviously, the program did not enter this judgment, which means it is not nil</p>\n<p>But when executing this section of code: if current_count &gt;= count then ，I get an error that tells me that nil cannot be compared with type number? what's the situation? ? ? This surprised me.</p>\n<p>Has anyone specified why, please explain, thank you.</p>\n<p>no redundant operation.</p>\n"},{"tags":["java","spring","maven","spring-mvc","lombok"],"comments":[{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1650306254,"post_id":71915048,"comment_id":127079025,"body_markdown":"Have you configured Lombok to eclipse? Try to look at &quot;How to configure project Lombok to eclipse?&quot; chapter here: https://www.geeksforgeeks.org/introduction-to-project-lombok-in-java-and-how-to-get-started/","body":"Have you configured Lombok to eclipse? Try to look at &quot;How to configure project Lombok to eclipse?&quot; chapter here: <a href=\"https://www.geeksforgeeks.org/introduction-to-project-lombok-in-java-and-how-to-get-started/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24280118,"reputation":1,"user_id":18226776,"display_name":"Meric Cana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650382917,"creation_date":1650382917,"answer_id":71927674,"question_id":71915048,"body_markdown":"Remove the log4j,org.slf4j dependencies and just add the lombok dependency and use @Slf4j as the annotation I don&#39;t think there will be an error","title":"Java log cannot be resolved","body":"<p>Remove the log4j,org.slf4j dependencies and just add the lombok dependency and use @Slf4j as the annotation I don't think there will be an error</p>\n"},{"tags":[],"owner":{"account_id":28708780,"reputation":1,"user_id":21984659,"display_name":"Kiransai Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685437957,"creation_date":1685437957,"answer_id":76363294,"question_id":71915048,"body_markdown":"Go to lombok jar in .m2 repository in CMD and execute the command java -jar lombok version.jar and new pop up will open for installation of the particular jar on eclipse path click on install. And then go to eclipse and clean and build the project. ","title":"Java log cannot be resolved","body":"<p>Go to lombok jar in .m2 repository in CMD and execute the command java -jar lombok version.jar and new pop up will open for installation of the particular jar on eclipse path click on install. And then go to eclipse and clean and build the project.</p>\n"}],"owner":{"account_id":24987681,"reputation":1,"user_id":18849265,"display_name":"서언주"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685437957,"creation_date":1650302912,"question_id":71915048,"body_markdown":"I&#39;m studying a spring project at eclipse IDE. \r\n\r\nI met this error &#39;log cannot be resolved&#39; at all of &#39;log.info( ... );&#39;\r\n\r\n[enter image description here][1]\r\n\r\nand these are the solutions I found and worked on but didn&#39;t work.\r\n\r\n1. check Eclipse or STS installation path is not in English\r\n2. &#39;lombok.jar&#39; reinstall\r\n3. remove &#39;&lt;scope&gt;runtime&lt;/scope&gt;&#39; in the dependency of log4j in pom.xml\r\n4. remove and reinstall &#39;.m2&#39; file folder\r\n5. change &#39;@log4j&#39; to &#39;@Slf4j&#39;\r\n\r\nI saw many posts about this problem, but I can&#39;t fix. Please help me.\r\nand please let me know if I need to upload more code as this is my first time.\r\nThank you\r\n\r\ncode\r\n```\r\n..src/main/java/controller\r\n\r\n    package org.zerock.controller;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Date;\r\n    \r\n    import org.springframework.beans.propertyeditors.CustomDateEditor;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.WebDataBinder;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.InitBinder;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    import org.zerock.domain.SampleDTO;\r\n    import org.zerock.domain.SampleDTOList;\r\n    import org.zerock.domain.TodoDTO;\r\n    \r\n    import lombok.extern.log4j.Log4j;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/sample/*&quot;)\r\n    @Log4j\r\n    public class SampleController {\r\n    \r\n       @InitBinder \r\n       public void initBinder(WebDataBinder binder) {\r\n       SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n       binder.registerCustomEditor(Date.class, new CustomDateEditor(dateFormat, false));\r\n       }\r\n    \r\n       @RequestMapping(&quot;&quot;)   \r\n       public void basic() {\r\n    \r\n          **log.info(&quot;basic...................&quot;);** \r\n    \r\n       }\r\n    \r\n       @RequestMapping(value = &quot;/basic&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n       public void basicGet() {  \r\n    \r\n          **log.info(&quot;basic get...................&quot;);**\r\n    \r\n       }\r\n    \r\n       @GetMapping(&quot;/basicOnlyGet&quot;)\r\n       public void basicGet2() {\r\n    \r\n          **log.info(&quot;basic get only get...................&quot;);**\r\n    \r\n       }\r\n    \r\n    }\r\n\r\n```\r\npom.xml\r\n&lt;!-- Logging --&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t\t&lt;!--  &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/ocA0M.png","title":"Java log cannot be resolved","body":"<p>I'm studying a spring project at eclipse IDE.</p>\n<p>I met this error 'log cannot be resolved' at all of 'log.info( ... );'</p>\n<p>[enter image description here][1]</p>\n<p>and these are the solutions I found and worked on but didn't work.</p>\n<ol>\n<li>check Eclipse or STS installation path is not in English</li>\n<li>'lombok.jar' reinstall</li>\n<li>remove 'runtime' in the dependency of log4j in pom.xml</li>\n<li>remove and reinstall '.m2' file folder</li>\n<li>change '@log4j' to '@Slf4j'</li>\n</ol>\n<p>I saw many posts about this problem, but I can't fix. Please help me.\nand please let me know if I need to upload more code as this is my first time.\nThank you</p>\n<p>code</p>\n<pre><code>..src/main/java/controller\n\n    package org.zerock.controller;\n    \n    import java.text.SimpleDateFormat;\n    import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.Date;\n    \n    import org.springframework.beans.propertyeditors.CustomDateEditor;\n    import org.springframework.http.HttpHeaders;\n    import org.springframework.http.HttpStatus;\n    import org.springframework.http.ResponseEntity;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.WebDataBinder;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.InitBinder;\n    import org.springframework.web.bind.annotation.ModelAttribute;\n    import org.springframework.web.bind.annotation.PostMapping;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n    import org.springframework.web.bind.annotation.RequestParam;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    import org.springframework.web.multipart.MultipartFile;\n    import org.zerock.domain.SampleDTO;\n    import org.zerock.domain.SampleDTOList;\n    import org.zerock.domain.TodoDTO;\n    \n    import lombok.extern.log4j.Log4j;\n    \n    @Controller\n    @RequestMapping(&quot;/sample/*&quot;)\n    @Log4j\n    public class SampleController {\n    \n       @InitBinder \n       public void initBinder(WebDataBinder binder) {\n       SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n       binder.registerCustomEditor(Date.class, new CustomDateEditor(dateFormat, false));\n       }\n    \n       @RequestMapping(&quot;&quot;)   \n       public void basic() {\n    \n          **log.info(&quot;basic...................&quot;);** \n    \n       }\n    \n       @RequestMapping(value = &quot;/basic&quot;, method = { RequestMethod.GET, RequestMethod.POST })\n       public void basicGet() {  \n    \n          **log.info(&quot;basic get...................&quot;);**\n    \n       }\n    \n       @GetMapping(&quot;/basicOnlyGet&quot;)\n       public void basicGet2() {\n    \n          **log.info(&quot;basic get only get...................&quot;);**\n    \n       }\n    \n    }\n\n</code></pre>\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.16&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n            &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n            &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;!--  &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>\n  [1]: https://i.stack.imgur.com/ocA0M.png\n</code></pre>\n"},{"tags":["java","exception","constructor"],"comments":[{"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"score":29,"creation_date":1306044415,"post_id":6086334,"comment_id":7052517,"body_markdown":"Looks fine to me, but your duplication of code is bad practice. Just call setAge from your constructor to reduce a lot of duplicate code","body":"Looks fine to me, but your duplication of code is bad practice. Just call setAge from your constructor to reduce a lot of duplicate code"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":24,"creation_date":1306044611,"post_id":6086334,"comment_id":7052534,"body_markdown":"Might be a good idea to throw IllegalArgumentException in this case, makes it very explicit.","body":"Might be a good idea to throw IllegalArgumentException in this case, makes it very explicit."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":7,"creation_date":1306044814,"post_id":6086334,"comment_id":7052545,"body_markdown":"@Codemwnci: Not really a good idea if `setAge` is virtual (as is the case here).","body":"@Codemwnci: Not really a good idea if <code>setAge</code> is virtual (as is the case here)."},{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":0,"creation_date":1458611624,"post_id":6086334,"comment_id":59927535,"body_markdown":"@Mehrdad can you explain? why virtual method should not call inside Constructors?","body":"@Mehrdad can you explain? why virtual method should not call inside Constructors?"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":2,"creation_date":1458612764,"post_id":6086334,"comment_id":59927858,"body_markdown":"@UnKnown: It is explained [here](http://stackoverflow.com/a/13440536).","body":"@UnKnown: It is explained <a href=\"http://stackoverflow.com/a/13440536\">here</a>."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1607264234,"post_id":6086334,"comment_id":115211950,"body_markdown":"@Codemwnci no it&#39;s not a good idea to call setters from constructor. One simple case when this causes problems is when the class is abstract. In that case the compiler would not know which implementation of your setter to call.","body":"@Codemwnci no it&#39;s not a good idea to call setters from constructor. One simple case when this causes problems is when the class is abstract. In that case the compiler would not know which implementation of your setter to call."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1628065968,"post_id":6086334,"comment_id":121319542,"body_markdown":"@ACV - I don&#39;t understand that.  The compiler knows.  If the abstract class (or its superclass or interfaces) declare the setter, then the setter in the most derived class will be used.  Otherwise, it is a compilation error.  There is an issue that the abstract class constructor is calling a method on the subclass *before* the subclasses constructor body has been executed.  (It sort of breaks abstraction.)  But that&#39;s a problem with calling *any* method that could be overridden.","body":"@ACV - I don&#39;t understand that.  The compiler knows.  If the abstract class (or its superclass or interfaces) declare the setter, then the setter in the most derived class will be used.  Otherwise, it is a compilation error.  There is an issue that the abstract class constructor is calling a method on the subclass <i>before</i> the subclasses constructor body has been executed.  (It sort of breaks abstraction.)  But that&#39;s a problem with calling <i>any</i> method that could be overridden."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306044808,"creation_date":1306044808,"answer_id":6086369,"question_id":6086334,"body_markdown":"It is bad practice to throw Exception, as that requires anyone who calls your constructor to catch Exception which is a bad practice.\r\n\r\nIt is a good idea to have a constructor (or any method) throw an exception, generally speaking IllegalArgumentException, which is unchecked, and thus the compiler doesn&#39;t force you to catch it.\r\n\r\nYou should throw checked exceptions (things that extend from Exception, but not RuntimeException) if you want the caller to catch it.","title":"Is it good practice to make the constructor throw an exception?","body":"<p>It is bad practice to throw Exception, as that requires anyone who calls your constructor to catch Exception which is a bad practice.</p>\n\n<p>It is a good idea to have a constructor (or any method) throw an exception, generally speaking IllegalArgumentException, which is unchecked, and thus the compiler doesn't force you to catch it.</p>\n\n<p>You should throw checked exceptions (things that extend from Exception, but not RuntimeException) if you want the caller to catch it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":219,"is_accepted":false,"score":217,"last_activity_date":1685437875,"creation_date":1306045416,"answer_id":6086399,"question_id":6086334,"body_markdown":"Throwing exceptions in a constructor is not bad practice.  In fact, it is the *only* reasonable way for a constructor to indicate that there is a problem; e.g. that the parameters are invalid.\r\n\r\nI also think that throwing *checked* exceptions can be OK&lt;sup&gt;1&lt;/sup&gt;, assuming that the checked exception is 1) declared, 2) specific to the problem you are reporting, and 3) it is reasonable to expect the caller to deal with a checked exception for this&lt;sup&gt;2&lt;/sup&gt;. \r\n\r\nHowever explicitly declaring or throwing `java.lang.Exception` is almost always bad practice.\r\n\r\nYou should pick an exception class that matches the exceptional condition that has occurred.  If you throw `Exception` it is difficult for the caller to separate this exception from any number of other possible declared and undeclared exceptions.  This makes error recovery difficult, and if the caller chooses to propagate the Exception, the problem just spreads.\r\n\r\n------\r\n\r\n&lt;sup&gt;1 - Some people may disagree, but IMO there is no substantive difference between this case and the case of throwing exceptions in methods.  The standard checked vs unchecked advice applies equally to both cases.&lt;br&gt;\r\n2 - For example, the existing `FileInputStream` constructors will throw `FileNotFoundException` if you try to open a file that does not exist.  Assuming that it is reasonable for `FileNotFoundException` to be a checked exception&lt;sup&gt;3&lt;/sup&gt;, then the constructor is the *most appropriate place* for that exception to be thrown.  If we threw the `FileNotFoundException` the first time that (say) a `read` or `write` call was made, that is liable to make application logic more complicated.&lt;br&gt;\r\n3 - Given that this is one of the motivating examples for checked exceptions, if you don&#39;t accept this you are basically saying that all exceptions should be unchecked.  That is not practical ... if you are going to use Java.&lt;/sup&gt;\r\n\r\n------\r\n\r\nSomeone suggested using `assert` for checking arguments.  The problem with this is that checking of `assert` assertions can be turned on and off via a JVM command-line setting. Using assertions to check internal invariants is OK, but using them to implement argument checking that is specified in your javadoc is not a good idea ... because it means your method will only strictly implement the specification when assertion checking is enabled.\r\n\r\nThe second problem with `assert` is that if an assertion fails, then `AssertionError` will be thrown.  Received wisdom is that it is a *bad idea* to attempt to catch `Error` and any of its subtypes.  But  irrespective of that, you are still throwing an exception, albeit in an indirect way.","title":"Is it good practice to make the constructor throw an exception?","body":"<p>Throwing exceptions in a constructor is not bad practice.  In fact, it is the <em>only</em> reasonable way for a constructor to indicate that there is a problem; e.g. that the parameters are invalid.</p>\n<p>I also think that throwing <em>checked</em> exceptions can be OK<sup>1</sup>, assuming that the checked exception is 1) declared, 2) specific to the problem you are reporting, and 3) it is reasonable to expect the caller to deal with a checked exception for this<sup>2</sup>.</p>\n<p>However explicitly declaring or throwing <code>java.lang.Exception</code> is almost always bad practice.</p>\n<p>You should pick an exception class that matches the exceptional condition that has occurred.  If you throw <code>Exception</code> it is difficult for the caller to separate this exception from any number of other possible declared and undeclared exceptions.  This makes error recovery difficult, and if the caller chooses to propagate the Exception, the problem just spreads.</p>\n<hr />\n<p><sup>1 - Some people may disagree, but IMO there is no substantive difference between this case and the case of throwing exceptions in methods.  The standard checked vs unchecked advice applies equally to both cases.<br>\n2 - For example, the existing <code>FileInputStream</code> constructors will throw <code>FileNotFoundException</code> if you try to open a file that does not exist.  Assuming that it is reasonable for <code>FileNotFoundException</code> to be a checked exception<sup>3</sup>, then the constructor is the <em>most appropriate place</em> for that exception to be thrown.  If we threw the <code>FileNotFoundException</code> the first time that (say) a <code>read</code> or <code>write</code> call was made, that is liable to make application logic more complicated.<br>\n3 - Given that this is one of the motivating examples for checked exceptions, if you don't accept this you are basically saying that all exceptions should be unchecked.  That is not practical ... if you are going to use Java.</sup></p>\n<hr />\n<p>Someone suggested using <code>assert</code> for checking arguments.  The problem with this is that checking of <code>assert</code> assertions can be turned on and off via a JVM command-line setting. Using assertions to check internal invariants is OK, but using them to implement argument checking that is specified in your javadoc is not a good idea ... because it means your method will only strictly implement the specification when assertion checking is enabled.</p>\n<p>The second problem with <code>assert</code> is that if an assertion fails, then <code>AssertionError</code> will be thrown.  Received wisdom is that it is a <em>bad idea</em> to attempt to catch <code>Error</code> and any of its subtypes.  But  irrespective of that, you are still throwing an exception, albeit in an indirect way.</p>\n"},{"tags":[],"owner":{"account_id":64874,"reputation":1154,"user_id":191289,"accept_rate":72,"display_name":"ashays"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1306045899,"creation_date":1306045899,"answer_id":6086433,"question_id":6086334,"body_markdown":"I have never considered it to be a bad practice to throw an exception in the constructor.  When the class is designed, you have a certain idea in mind of what the structure for that class should be.  If someone else has a different idea and tries to execute that idea, then you should error accordingly, giving the user feedback on what the error is.  In your case, you might consider something like\r\n\r\n    if (age &lt; 0) throw new NegativeAgeException(&quot;The person you attempted &quot; +\r\n                           &quot;to construct must be given a positive age.&quot;);\r\n\r\nwhere `NegativeAgeException` is an exception class that you constructed yourself, possibly extending another exception like `IndexOutOfBoundsException` or something similar.\r\n\r\nAssertions don&#39;t exactly seem to be the way to go, either, since you&#39;re not trying to discover bugs in your code.  I would say terminating with an exception is absolutely the right thing to do here.\r\n\r\n","title":"Is it good practice to make the constructor throw an exception?","body":"<p>I have never considered it to be a bad practice to throw an exception in the constructor.  When the class is designed, you have a certain idea in mind of what the structure for that class should be.  If someone else has a different idea and tries to execute that idea, then you should error accordingly, giving the user feedback on what the error is.  In your case, you might consider something like</p>\n\n<pre><code>if (age &lt; 0) throw new NegativeAgeException(\"The person you attempted \" +\n                       \"to construct must be given a positive age.\");\n</code></pre>\n\n<p>where <code>NegativeAgeException</code> is an exception class that you constructed yourself, possibly extending another exception like <code>IndexOutOfBoundsException</code> or something similar.</p>\n\n<p>Assertions don't exactly seem to be the way to go, either, since you're not trying to discover bugs in your code.  I would say terminating with an exception is absolutely the right thing to do here.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1553876379,"creation_date":1306046843,"answer_id":6086483,"question_id":6086334,"body_markdown":"This is totally valid, I do it all the time.  I usually use IllegalArguemntException if it is a result of parameter checking.\r\n\r\nIn this case I wouldn&#39;t suggest asserts because they are turned off in a deployment build and you always want to stop this from happening, but they are valid if your group does ALL it&#39;s testing with asserts turned on and you think the chance of missing a parameter problem at runtime is more acceptable than throwing an exception that is maybe more likely to cause a runtime crash.  \r\n\r\nAlso, an assert would be more difficult for the caller to trap, this is easy.\r\n\r\nYou probably want to list it as a &quot;throws&quot; in your method&#39;s javadocs along with the reason so that callers aren&#39;t surprised.","title":"Is it good practice to make the constructor throw an exception?","body":"<p>This is totally valid, I do it all the time.  I usually use IllegalArguemntException if it is a result of parameter checking.</p>\n\n<p>In this case I wouldn't suggest asserts because they are turned off in a deployment build and you always want to stop this from happening, but they are valid if your group does ALL it's testing with asserts turned on and you think the chance of missing a parameter problem at runtime is more acceptable than throwing an exception that is maybe more likely to cause a runtime crash.  </p>\n\n<p>Also, an assert would be more difficult for the caller to trap, this is easy.</p>\n\n<p>You probably want to list it as a \"throws\" in your method's javadocs along with the reason so that callers aren't surprised.</p>\n"},{"tags":[],"owner":{"account_id":1465760,"reputation":177,"user_id":1378639,"display_name":"Spam Suppper"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1350733274,"creation_date":1336340669,"answer_id":10474564,"question_id":6086334,"body_markdown":"\r\nYou do not need to throw a checked exception.  This is a bug within the control of the program, so you want to throw an unchecked exception.  Use one of the unchecked exceptions already provided by the Java language, such as `IllegalArgumentException`, `IllegalStateException` or `NullPointerException`.  \r\n\r\nYou may also want to get rid of the setter.  You&#39;ve already provided a way to initiate `age` through the constructor.  Does it need to be updated once instantiated?  If not, skip the setter.  A good rule, do not make things more public than necessary.  Start with private or default, and secure your data with `final`.  Now everyone knows that `Person` has been constructed properly, and is immutable.  It can be used with confidence.\r\n\r\nMost likely this is what you really need:\r\n\r\n    class Person { \r\n\r\n      private final int age;   \r\n\r\n      Person(int age) {    \r\n\r\n        if (age &lt; 0) \r\n           throw new IllegalArgumentException(&quot;age less than zero: &quot; + age); \r\n\r\n        this.age = age;   \r\n      }\r\n\r\n      // setter removed\r\n\r\n\r\n","title":"Is it good practice to make the constructor throw an exception?","body":"<p>You do not need to throw a checked exception.  This is a bug within the control of the program, so you want to throw an unchecked exception.  Use one of the unchecked exceptions already provided by the Java language, such as <code>IllegalArgumentException</code>, <code>IllegalStateException</code> or <code>NullPointerException</code>.  </p>\n\n<p>You may also want to get rid of the setter.  You've already provided a way to initiate <code>age</code> through the constructor.  Does it need to be updated once instantiated?  If not, skip the setter.  A good rule, do not make things more public than necessary.  Start with private or default, and secure your data with <code>final</code>.  Now everyone knows that <code>Person</code> has been constructed properly, and is immutable.  It can be used with confidence.</p>\n\n<p>Most likely this is what you really need:</p>\n\n<pre><code>class Person { \n\n  private final int age;   \n\n  Person(int age) {    \n\n    if (age &lt; 0) \n       throw new IllegalArgumentException(\"age less than zero: \" + age); \n\n    this.age = age;   \n  }\n\n  // setter removed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323800,"reputation":5413,"user_id":644035,"accept_rate":74,"display_name":"Hazok"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1420674937,"creation_date":1420674937,"answer_id":27830805,"question_id":6086334,"body_markdown":"As mentioned in [another answer here][1], in Guideline 7-3 of the Java [Secure Coding Guidelines][2], throwing an exception in the constructor of a non-final class opens a potential attack vector:\r\n\r\n&gt; Guideline 7-3 / OBJECT-3: Defend against partially initialized\r\n&gt; instances of non-final classes When a constructor in a non-final class\r\n&gt; throws an exception, attackers can attempt to gain access to partially\r\n&gt; initialized instances of that class. Ensure that a non-final class\r\n&gt; remains totally unusable until its constructor completes successfully.\r\n&gt; \r\n&gt; From JDK 6 on, construction of a subclassable class can be prevented\r\n&gt; by throwing an exception before the Object constructor completes. To\r\n&gt; do this, perform the checks in an expression that is evaluated in a\r\n&gt; call to this() or super().\r\n&gt; \r\n&gt;         // non-final java.lang.ClassLoader\r\n&gt;         public abstract class ClassLoader {\r\n&gt;             protected ClassLoader() {\r\n&gt;                 this(securityManagerCheck());\r\n&gt;             }\r\n&gt;             private ClassLoader(Void ignored) {\r\n&gt;                 // ... continue initialization ...\r\n&gt;             }\r\n&gt;             private static Void securityManagerCheck() {\r\n&gt;                 SecurityManager security = System.getSecurityManager();\r\n&gt;                 if (security != null) {\r\n&gt;                     security.checkCreateClassLoader();\r\n&gt;                 }\r\n&gt;                 return null;\r\n&gt;             }\r\n&gt;         }\r\n&gt; \r\n&gt; For compatibility with older releases, a potential solution involves\r\n&gt; the use of an initialized flag. Set the flag as the last operation in\r\n&gt; a constructor before returning successfully. All methods providing a\r\n&gt; gateway to sensitive operations must first consult the flag before\r\n&gt; proceeding:\r\n&gt; \r\n&gt;         public abstract class ClassLoader {\r\n&gt; \r\n&gt;             private volatile boolean initialized;\r\n&gt; \r\n&gt;             protected ClassLoader() {\r\n&gt;                 // permission needed to create ClassLoader\r\n&gt;                 securityManagerCheck();\r\n&gt;                 init();\r\n&gt; \r\n&gt;                 // Last action of constructor.\r\n&gt;                 this.initialized = true;\r\n&gt;             }\r\n&gt;             protected final Class defineClass(...) {\r\n&gt;                 checkInitialized();\r\n&gt; \r\n&gt;                 // regular logic follows\r\n&gt;                 ...\r\n&gt;             }\r\n&gt; \r\n&gt;             private void checkInitialized() {\r\n&gt;                 if (!initialized) {\r\n&gt;                     throw new SecurityException(\r\n&gt;                         &quot;NonFinal not initialized&quot;\r\n&gt;                     );\r\n&gt;                 }\r\n&gt;             }\r\n&gt;         }\r\n&gt; \r\n&gt; Furthermore, any security-sensitive uses of such classes should check\r\n&gt; the state of the initialization flag. In the case of ClassLoader\r\n&gt; construction, it should check that its parent class loader is\r\n&gt; initialized.\r\n&gt; \r\n&gt; Partially initialized instances of a non-final class can be accessed\r\n&gt; via a finalizer attack. The attacker overrides the protected finalize\r\n&gt; method in a subclass and attempts to create a new instance of that\r\n&gt; subclass. This attempt fails (in the above example, the\r\n&gt; SecurityManager check in ClassLoader&#39;s constructor throws a security\r\n&gt; exception), but the attacker simply ignores any exception and waits\r\n&gt; for the virtual machine to perform finalization on the partially\r\n&gt; initialized object. When that occurs the malicious finalize method\r\n&gt; implementation is invoked, giving the attacker access to this, a\r\n&gt; reference to the object being finalized. Although the object is only\r\n&gt; partially initialized, the attacker can still invoke methods on it,\r\n&gt; thereby circumventing the SecurityManager check. While the initialized\r\n&gt; flag does not prevent access to the partially initialized object, it\r\n&gt; does prevent methods on that object from doing anything useful for the\r\n&gt; attacker.\r\n&gt; \r\n&gt; Use of an initialized flag, while secure, can be cumbersome. Simply\r\n&gt; ensuring that all fields in a public non-final class contain a safe\r\n&gt; value (such as null) until object initialization completes\r\n&gt; successfully can represent a reasonable alternative in classes that\r\n&gt; are not security-sensitive.\r\n&gt; \r\n&gt; A more robust, but also more verbose, approach is to use a &quot;pointer to\r\n&gt; implementation&quot; (or &quot;pimpl&quot;). The core of the class is moved into a\r\n&gt; non-public class with the interface class forwarding method calls. Any\r\n&gt; attempts to use the class before it is fully initialized will result\r\n&gt; in a NullPointerException. This approach is also good for dealing with\r\n&gt; clone and deserialization attacks.\r\n&gt; \r\n&gt;         public abstract class ClassLoader {\r\n&gt; \r\n&gt;             private final ClassLoaderImpl impl;\r\n&gt; \r\n&gt;             protected ClassLoader() {\r\n&gt;                 this.impl = new ClassLoaderImpl();\r\n&gt;             }\r\n&gt;             protected final Class defineClass(...) {\r\n&gt;                 return impl.defineClass(...);\r\n&gt;             }\r\n&gt;         }\r\n&gt; \r\n&gt;         /* pp */ class ClassLoaderImpl {\r\n&gt;             /* pp */ ClassLoaderImpl() {\r\n&gt;                 // permission needed to create ClassLoader\r\n&gt;                 securityManagerCheck();\r\n&gt;                 init();\r\n&gt;             }\r\n&gt; \r\n&gt;             /* pp */ Class defineClass(...) {\r\n&gt;                 // regular logic follows\r\n&gt;                 ...\r\n&gt;             }\r\n&gt;         }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1373419/644035\r\n  [2]: http://www.oracle.com/technetwork/java/seccodeguide-139067.html","title":"Is it good practice to make the constructor throw an exception?","body":"<p>As mentioned in <a href=\"https://stackoverflow.com/a/1373419/644035\">another answer here</a>, in Guideline 7-3 of the Java <a href=\"http://www.oracle.com/technetwork/java/seccodeguide-139067.html\" rel=\"noreferrer\">Secure Coding Guidelines</a>, throwing an exception in the constructor of a non-final class opens a potential attack vector:</p>\n\n<blockquote>\n  <p>Guideline 7-3 / OBJECT-3: Defend against partially initialized\n  instances of non-final classes When a constructor in a non-final class\n  throws an exception, attackers can attempt to gain access to partially\n  initialized instances of that class. Ensure that a non-final class\n  remains totally unusable until its constructor completes successfully.</p>\n  \n  <p>From JDK 6 on, construction of a subclassable class can be prevented\n  by throwing an exception before the Object constructor completes. To\n  do this, perform the checks in an expression that is evaluated in a\n  call to this() or super().</p>\n\n<pre><code>    // non-final java.lang.ClassLoader\n    public abstract class ClassLoader {\n        protected ClassLoader() {\n            this(securityManagerCheck());\n        }\n        private ClassLoader(Void ignored) {\n            // ... continue initialization ...\n        }\n        private static Void securityManagerCheck() {\n            SecurityManager security = System.getSecurityManager();\n            if (security != null) {\n                security.checkCreateClassLoader();\n            }\n            return null;\n        }\n    }\n</code></pre>\n  \n  <p>For compatibility with older releases, a potential solution involves\n  the use of an initialized flag. Set the flag as the last operation in\n  a constructor before returning successfully. All methods providing a\n  gateway to sensitive operations must first consult the flag before\n  proceeding:</p>\n\n<pre><code>    public abstract class ClassLoader {\n\n        private volatile boolean initialized;\n\n        protected ClassLoader() {\n            // permission needed to create ClassLoader\n            securityManagerCheck();\n            init();\n\n            // Last action of constructor.\n            this.initialized = true;\n        }\n        protected final Class defineClass(...) {\n            checkInitialized();\n\n            // regular logic follows\n            ...\n        }\n\n        private void checkInitialized() {\n            if (!initialized) {\n                throw new SecurityException(\n                    \"NonFinal not initialized\"\n                );\n            }\n        }\n    }\n</code></pre>\n  \n  <p>Furthermore, any security-sensitive uses of such classes should check\n  the state of the initialization flag. In the case of ClassLoader\n  construction, it should check that its parent class loader is\n  initialized.</p>\n  \n  <p>Partially initialized instances of a non-final class can be accessed\n  via a finalizer attack. The attacker overrides the protected finalize\n  method in a subclass and attempts to create a new instance of that\n  subclass. This attempt fails (in the above example, the\n  SecurityManager check in ClassLoader's constructor throws a security\n  exception), but the attacker simply ignores any exception and waits\n  for the virtual machine to perform finalization on the partially\n  initialized object. When that occurs the malicious finalize method\n  implementation is invoked, giving the attacker access to this, a\n  reference to the object being finalized. Although the object is only\n  partially initialized, the attacker can still invoke methods on it,\n  thereby circumventing the SecurityManager check. While the initialized\n  flag does not prevent access to the partially initialized object, it\n  does prevent methods on that object from doing anything useful for the\n  attacker.</p>\n  \n  <p>Use of an initialized flag, while secure, can be cumbersome. Simply\n  ensuring that all fields in a public non-final class contain a safe\n  value (such as null) until object initialization completes\n  successfully can represent a reasonable alternative in classes that\n  are not security-sensitive.</p>\n  \n  <p>A more robust, but also more verbose, approach is to use a \"pointer to\n  implementation\" (or \"pimpl\"). The core of the class is moved into a\n  non-public class with the interface class forwarding method calls. Any\n  attempts to use the class before it is fully initialized will result\n  in a NullPointerException. This approach is also good for dealing with\n  clone and deserialization attacks.</p>\n\n<pre><code>    public abstract class ClassLoader {\n\n        private final ClassLoaderImpl impl;\n\n        protected ClassLoader() {\n            this.impl = new ClassLoaderImpl();\n        }\n        protected final Class defineClass(...) {\n            return impl.defineClass(...);\n        }\n    }\n\n    /* pp */ class ClassLoaderImpl {\n        /* pp */ ClassLoaderImpl() {\n            // permission needed to create ClassLoader\n            securityManagerCheck();\n            init();\n        }\n\n        /* pp */ Class defineClass(...) {\n            // regular logic follows\n            ...\n        }\n    }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5735131,"reputation":1080,"user_id":4529546,"accept_rate":75,"display_name":"Richard"},"down_vote_count":3,"up_vote_count":45,"is_accepted":false,"score":42,"last_activity_date":1423069042,"creation_date":1423069042,"answer_id":28327058,"question_id":6086334,"body_markdown":"I&#39;ve always considered throwing checked exceptions in the constructor to be bad practice, or at least something that should be avoided.\r\n\r\nThe reason for this is that you cannot do this :\r\n\r\n    private SomeObject foo = new SomeObject();\r\n\r\nInstead you must do this :\r\n\r\n    private SomeObject foo;\r\n    public MyObject() {\r\n        try {\r\n    \t    foo = new SomeObject()\r\n        } Catch(PointlessCheckedException e) {\r\n    \t   throw new RuntimeException(&quot;ahhg&quot;,e);\r\n        }\r\n    }\r\n\r\nAt the point when I&#39;m constructing &lt;i&gt;SomeObject&lt;/i&gt; I know what it&#39;s parameters are\r\nso why should I be expected to wrap it in a try catch?\r\nAhh you say but if I&#39;m constructing an object from dynamic parameters I don&#39;t know if they&#39;re valid or not.\r\nWell, you could... validate the parameters before passing them to the constructor. That would be good practice.\r\nAnd if all you&#39;re concerned about is whether the parameters are valid then you can use IllegalArgumentException.\r\n\r\nSo instead of throwing checked exceptions just do\r\n\r\n    public SomeObject(final String param) {\r\n    \tif (param==null) throw new NullPointerException(&quot;please stop&quot;);\r\n    \tif (param.length()==0) throw new IllegalArgumentException(&quot;no really, please stop&quot;);\r\n    }\r\n\r\nOf course there are cases where it might just be reasonable to throw a checked exception\r\n\r\n    public SomeObject() {\r\n    \tif (todayIsWednesday) throw new YouKnowYouCannotDoThisOnAWednesday();\r\n    }\r\n\r\nBut how often is that likely?\r\n","title":"Is it good practice to make the constructor throw an exception?","body":"<p>I've always considered throwing checked exceptions in the constructor to be bad practice, or at least something that should be avoided.</p>\n\n<p>The reason for this is that you cannot do this :</p>\n\n<pre><code>private SomeObject foo = new SomeObject();\n</code></pre>\n\n<p>Instead you must do this :</p>\n\n<pre><code>private SomeObject foo;\npublic MyObject() {\n    try {\n        foo = new SomeObject()\n    } Catch(PointlessCheckedException e) {\n       throw new RuntimeException(\"ahhg\",e);\n    }\n}\n</code></pre>\n\n<p>At the point when I'm constructing <i>SomeObject</i> I know what it's parameters are\nso why should I be expected to wrap it in a try catch?\nAhh you say but if I'm constructing an object from dynamic parameters I don't know if they're valid or not.\nWell, you could... validate the parameters before passing them to the constructor. That would be good practice.\nAnd if all you're concerned about is whether the parameters are valid then you can use IllegalArgumentException.</p>\n\n<p>So instead of throwing checked exceptions just do</p>\n\n<pre><code>public SomeObject(final String param) {\n    if (param==null) throw new NullPointerException(\"please stop\");\n    if (param.length()==0) throw new IllegalArgumentException(\"no really, please stop\");\n}\n</code></pre>\n\n<p>Of course there are cases where it might just be reasonable to throw a checked exception</p>\n\n<pre><code>public SomeObject() {\n    if (todayIsWednesday) throw new YouKnowYouCannotDoThisOnAWednesday();\n}\n</code></pre>\n\n<p>But how often is that likely?</p>\n"},{"tags":[],"owner":{"account_id":5519662,"reputation":474,"user_id":4383083,"accept_rate":90,"display_name":"Vegaaaa"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1510739658,"creation_date":1510739121,"answer_id":47304028,"question_id":6086334,"body_markdown":"I am not for throwing Exceptions in the constructor since I am considering this as non-clean. There are several reasons for my opinion.\r\n\r\n 1. As Richard mentioned you cannot initialize an instance in an easy manner. Especially in tests it is really annoying to build a test-wide object only by surrounding it in a try-catch during initialization.\r\n\r\n 2. Constructors should be logic-free. There is no reason at all to encapsulate logic in a constructor, since you are always aiming for the Separation of Concerns and Single Responsibility Principle. Since the concern of the constructor is to &quot;construct an object&quot; it should not encapsulate any exception handling if following this approach.\r\n\r\n 4. It smells like bad design. Imho if I am forced to do exception handling in the constructor I am at first asking myself if I have any design frauds in my class. It is necessary sometimes, but then I outsource this to a builder or factory to keep the constructor as simple as possible.\r\n\r\nSo if it is necessary to do some exception handling in the constructor, why would you not outsource this logic to a Builder of Factory? It might be a few more lines of code but gives you the freedom to implement a far more robust and well suited exception handling since you can outsource the logic for the exception handling even more and are not sticked to the constructor, which will encapsulate too much logic. And the client does not need to know anything about your constructing logic if you delegate the exception handling properly.","title":"Is it good practice to make the constructor throw an exception?","body":"<p>I am not for throwing Exceptions in the constructor since I am considering this as non-clean. There are several reasons for my opinion.</p>\n\n<ol>\n<li><p>As Richard mentioned you cannot initialize an instance in an easy manner. Especially in tests it is really annoying to build a test-wide object only by surrounding it in a try-catch during initialization.</p></li>\n<li><p>Constructors should be logic-free. There is no reason at all to encapsulate logic in a constructor, since you are always aiming for the Separation of Concerns and Single Responsibility Principle. Since the concern of the constructor is to \"construct an object\" it should not encapsulate any exception handling if following this approach.</p></li>\n<li><p>It smells like bad design. Imho if I am forced to do exception handling in the constructor I am at first asking myself if I have any design frauds in my class. It is necessary sometimes, but then I outsource this to a builder or factory to keep the constructor as simple as possible.</p></li>\n</ol>\n\n<p>So if it is necessary to do some exception handling in the constructor, why would you not outsource this logic to a Builder of Factory? It might be a few more lines of code but gives you the freedom to implement a far more robust and well suited exception handling since you can outsource the logic for the exception handling even more and are not sticked to the constructor, which will encapsulate too much logic. And the client does not need to know anything about your constructing logic if you delegate the exception handling properly.</p>\n"}],"owner":{"account_id":749216,"reputation":2541,"user_id":742025,"accept_rate":33,"display_name":"ako"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200392,"favorite_count":0,"down_vote_count":1,"up_vote_count":209,"closed_date":1533126053,"answer_count":8,"score":208,"last_activity_date":1685437875,"creation_date":1306044058,"question_id":6086334,"body_markdown":"Is it a good practice to make the constructor throw an exception?\r\nFor example I have a class `Person` and I have `age` as its only attribute. Now\r\nI provide the class as\r\n\r\n    class Person{\r\n      int age;\r\n      Person(int age) throws Exception{\r\n       if (age&lt;0)\r\n           throw new Exception(&quot;invalid age&quot;);\r\n       this.age = age;\r\n      }\r\n    \r\n      public void setAge(int age) throws Exception{\r\n      if (age&lt;0)\r\n           throw new Exception(&quot;invalid age&quot;);\r\n       this.age = age;\r\n      }\r\n    }","title":"Is it good practice to make the constructor throw an exception?","body":"<p>Is it a good practice to make the constructor throw an exception?\nFor example I have a class <code>Person</code> and I have <code>age</code> as its only attribute. Now\nI provide the class as</p>\n\n<pre><code>class Person{\n  int age;\n  Person(int age) throws Exception{\n   if (age&lt;0)\n       throw new Exception(\"invalid age\");\n   this.age = age;\n  }\n\n  public void setAge(int age) throws Exception{\n  if (age&lt;0)\n       throw new Exception(\"invalid age\");\n   this.age = age;\n  }\n}\n</code></pre>\n"},{"tags":["java","port-scanning"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1685397543,"post_id":76360489,"comment_id":134651270,"body_markdown":"One idea is to split your application into smaller, easier to code tasks.  Create a `PortTest` getter/setter class that holds a port number and a status.  Scan your ports, creating a `PortTest` instance for each port tested.  Save these `PortTest` instances in a `java.util.List`.  After you&#39;ve scanned all the ports, read your `List` and condense the good and bad ports into ranges, which you output.  Empty the `List` and start over.","body":"One idea is to split your application into smaller, easier to code tasks.  Create a <code>PortTest</code> getter/setter class that holds a port number and a status.  Scan your ports, creating a <code>PortTest</code> instance for each port tested.  Save these <code>PortTest</code> instances in a <code>java.util.List</code>.  After you&#39;ve scanned all the ports, read your <code>List</code> and condense the good and bad ports into ranges, which you output.  Empty the <code>List</code> and start over."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685399315,"post_id":76360489,"comment_id":134651445,"body_markdown":"You say you want to print a range but then you want to print one good and one bad. You have to be clear on what you need.","body":"You say you want to print a range but then you want to print one good and one bad. You have to be clear on what you need."},{"owner":{"account_id":21659990,"reputation":3,"user_id":15979234,"display_name":"Klob"},"score":0,"creation_date":1685399748,"post_id":76360489,"comment_id":134651487,"body_markdown":"What I was trying to do was take the first bad or closed port, and then the most recent good port and then use those to make my range of closed ports. It would be like bad port to good port-1 are closed. Sorry for the confusion. I like your recommendation, Gilbert, and I&#39;ll give it a shot when I get home. For now I&#39;m just happy the initial program works.","body":"What I was trying to do was take the first bad or closed port, and then the most recent good port and then use those to make my range of closed ports. It would be like bad port to good port-1 are closed. Sorry for the confusion. I like your recommendation, Gilbert, and I&#39;ll give it a shot when I get home. For now I&#39;m just happy the initial program works."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685443441,"post_id":76360489,"comment_id":134657295,"body_markdown":"a more native idea: start a (OS) netstat/ss/lsof &quot;process&quot; from java... [win](https://stackoverflow.com/q/48198/592355), [x-like](https://www.cyberciti.biz/faq/how-to-check-open-ports-in-linux-using-the-cli/)","body":"a more native idea: start a (OS) netstat/ss/lsof &quot;process&quot; from java... <a href=\"https://stackoverflow.com/q/48198/592355\">win</a>, <a href=\"https://www.cyberciti.biz/faq/how-to-check-open-ports-in-linux-using-the-cli/\" rel=\"nofollow noreferrer\">x-like</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685444052,"post_id":76360489,"comment_id":134657437,"body_markdown":"&quot;algorithmically&quot; the problem is: your variables are useless/dead store! :) try a `List&lt;Integer&gt; goodPorts` (and &quot;badPorts&quot; accordingly) ...it must not be a list, but anything what can &quot;store&quot; you ~65k &quot;booleans&quot; (e.g. (boolean[65535]..)","body":"&quot;algorithmically&quot; the problem is: your variables are useless/dead store! :) try a <code>List&lt;Integer&gt; goodPorts</code> (and &quot;badPorts&quot; accordingly) ...it must not be a list, but anything what can &quot;store&quot; you ~65k &quot;booleans&quot; (e.g. (boolean[65535]..)"}],"answers":[{"tags":[],"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685437756,"creation_date":1685437756,"answer_id":76363269,"question_id":76360489,"body_markdown":"I think you can create a class to hold the port range and state:\r\n\r\n    public class PortRange {\r\n        public int min;\r\n        public int max;\r\n\r\n        public final boolean isPortBusy;\r\n\r\n        public PortRange(int minPort, boolean isPortBusy) {\r\n            this.min = minPort;\r\n            this.max = minPort;\r\n            this.isPortBusy = isPortBusy;\r\n        }\r\n    }\r\n\r\nThen do something like this in **main** method:\r\n\r\n    List&lt;PortRange&gt; portRanges = new LinkedList&lt;&gt;();\r\n    PortRange portRange = null;\r\n\r\n    for (int port = 0; port &lt; 65536; port++) {\r\n        boolean isPortBusy = isPortBusy(port);\r\n\r\n        if (portRange == null) {\r\n            portRange = new PortRange(port, isPortBusy);\r\n        } else if (portRange.isPortBusy == isPortBusy) {\r\n            portRange.max = port;\r\n        } else {\r\n            portRanges.add(portRange);\r\n            portRange = new PortRange(port, isPortBusy);\r\n        }\r\n    }\r\n\r\n    portRanges.add(portRange);\r\n\r\nIn this code, the static method `isPortBusy(port)` returns true or false depending on whether the port is busy or not.\r\n\r\nThen iterate through the collection and display the result:\r\n\r\n    portRanges.forEach(range -&gt; System.out.printf(&quot;Port range %d-%d : %s%n&quot;, range.min, range.max, (range.isPortBusy ? &quot;Busy&quot; : &quot;Free&quot;)));\r\n\r\nExample of output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nKwry.png","title":"Java port scanner: How to print all consecutive closed ports as a range on one line?","body":"<p>I think you can create a class to hold the port range and state:</p>\n<pre><code>public class PortRange {\n    public int min;\n    public int max;\n\n    public final boolean isPortBusy;\n\n    public PortRange(int minPort, boolean isPortBusy) {\n        this.min = minPort;\n        this.max = minPort;\n        this.isPortBusy = isPortBusy;\n    }\n}\n</code></pre>\n<p>Then do something like this in <strong>main</strong> method:</p>\n<pre><code>List&lt;PortRange&gt; portRanges = new LinkedList&lt;&gt;();\nPortRange portRange = null;\n\nfor (int port = 0; port &lt; 65536; port++) {\n    boolean isPortBusy = isPortBusy(port);\n\n    if (portRange == null) {\n        portRange = new PortRange(port, isPortBusy);\n    } else if (portRange.isPortBusy == isPortBusy) {\n        portRange.max = port;\n    } else {\n        portRanges.add(portRange);\n        portRange = new PortRange(port, isPortBusy);\n    }\n}\n\nportRanges.add(portRange);\n</code></pre>\n<p>In this code, the static method <code>isPortBusy(port)</code> returns true or false depending on whether the port is busy or not.</p>\n<p>Then iterate through the collection and display the result:</p>\n<pre><code>portRanges.forEach(range -&gt; System.out.printf(&quot;Port range %d-%d : %s%n&quot;, range.min, range.max, (range.isPortBusy ? &quot;Busy&quot; : &quot;Free&quot;)));\n</code></pre>\n<p>Example of output:</p>\n<p><a href=\"https://i.stack.imgur.com/nKwry.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nKwry.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21659990,"reputation":3,"user_id":15979234,"display_name":"Klob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76363269,"answer_count":1,"score":0,"last_activity_date":1685437756,"creation_date":1685396896,"question_id":76360489,"body_markdown":"Noob here trying to learn how to make a port scanner in Java.\r\nI want the code to take all consecutive closed ports and print on one line that they are closed, like &quot;ports 1000 to 4000 are closed&quot;.\r\nHere is my code so far:\r\n\r\n```\r\nimport java.net.*;\r\npublic class KalebPortScanner {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString host = &quot;localhost&quot;; // replace localhost with IP of device to scan from\r\n\r\n\t\tint startingPort = 0; \r\n\t\tint endingPort = 65535;\r\n\t\t\r\n\t\tfor (int port=startingPort;port&lt;=endingPort;port++) {\t\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\tSocket socket = new Socket();\r\n\t\t\tsocket.connect(new InetSocketAddress(host, port),100);\r\n\t\t\tSystem.out.println(+port+ &quot; open&quot;);\r\n\t\t\tsocket.close();\r\n\t\tint goodPort = port;\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: if port is closed\r\n\t\t\tint badPort = port;\r\n\t\t\t//System.out.println(+badPort+ &quot; to &quot; +port+ &quot; are closed&quot;);\r\n\t\t\t//System.out.println(+port+ &quot; closed&quot;);\r\n\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nIt&#39;s basically a mess but I&#39;m trying to understand how I can mark &quot;badPort&quot; as the lower of the closed ports and &quot;goodPort&quot; as the highest one, and then print it. I appreciate all advice for cleaning this up or ways to improve it. Thank you!\r\n\r\nTried making a variable &quot;goodPort&quot; which equals &quot;port&quot; as long as the port is open, and &quot;badPort&quot; which sets itself to &quot;port&quot; if it&#39;s closed, and then tries to put them in one System.out.println to give the user the range of closed ports.","title":"Java port scanner: How to print all consecutive closed ports as a range on one line?","body":"<p>Noob here trying to learn how to make a port scanner in Java.\nI want the code to take all consecutive closed ports and print on one line that they are closed, like &quot;ports 1000 to 4000 are closed&quot;.\nHere is my code so far:</p>\n<pre><code>import java.net.*;\npublic class KalebPortScanner {\n\n    public static void main(String[] args) {\n        String host = &quot;localhost&quot;; // replace localhost with IP of device to scan from\n\n        int startingPort = 0; \n        int endingPort = 65535;\n        \n        for (int port=startingPort;port&lt;=endingPort;port++) {   \n        \n            try {\n            Socket socket = new Socket();\n            socket.connect(new InetSocketAddress(host, port),100);\n            System.out.println(+port+ &quot; open&quot;);\n            socket.close();\n        int goodPort = port;\n        } catch (Exception e) {\n            // TODO: if port is closed\n            int badPort = port;\n            //System.out.println(+badPort+ &quot; to &quot; +port+ &quot; are closed&quot;);\n            //System.out.println(+port+ &quot; closed&quot;);\n        }\n        }\n\n    }\n\n}\n</code></pre>\n<p>It's basically a mess but I'm trying to understand how I can mark &quot;badPort&quot; as the lower of the closed ports and &quot;goodPort&quot; as the highest one, and then print it. I appreciate all advice for cleaning this up or ways to improve it. Thank you!</p>\n<p>Tried making a variable &quot;goodPort&quot; which equals &quot;port&quot; as long as the port is open, and &quot;badPort&quot; which sets itself to &quot;port&quot; if it's closed, and then tries to put them in one System.out.println to give the user the range of closed ports.</p>\n"},{"tags":["java","kotlin","junit5","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685437741,"creation_date":1685437741,"answer_id":76363267,"question_id":76363133,"body_markdown":"It turns out I can use:\r\n\r\n```kotlin\r\n@DisabledIfSystemProperty(named = &quot;os.arch&quot;, matches = &quot;.*aarch64.*&quot;)\r\n```","title":"Disable junit5 test when running on M1 Apple Silicon","body":"<p>It turns out I can use:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@DisabledIfSystemProperty(named = &quot;os.arch&quot;, matches = &quot;.*aarch64.*&quot;)\n</code></pre>\n"}],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76363267,"answer_count":1,"score":2,"last_activity_date":1685437754,"creation_date":1685436591,"question_id":76363133,"body_markdown":"Is there a way to disable specific tests when they&#39;re running on M1?\r\n\r\nI haven&#39;t found a relevant annotation for this.","title":"Disable junit5 test when running on M1 Apple Silicon","body":"<p>Is there a way to disable specific tests when they're running on M1?</p>\n<p>I haven't found a relevant annotation for this.</p>\n"},{"tags":["java","android","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":8611168,"reputation":1370,"user_id":6449592,"display_name":"sagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534881978,"creation_date":1534881978,"answer_id":51955967,"question_id":51951266,"body_markdown":"there are several characters, that could cause this error, for example an unvisible newline character, as stated in this github issue:\r\n\r\nhttps://github.com/square/retrofit/issues/1153 \r\n\r\nThis is forbidden by okhttp Client, which is utilized by retrofit to make http calls.\r\nI would recommend you log the lower case signaturer esult and check directly which character is causing the trouble. \r\n\r\nBest of luck!  ","title":"java.lang.IllegalArgumentException: Unexpected char 0x1d at 4 in signature value:","body":"<p>there are several characters, that could cause this error, for example an unvisible newline character, as stated in this github issue:</p>\n\n<p><a href=\"https://github.com/square/retrofit/issues/1153\" rel=\"nofollow noreferrer\">https://github.com/square/retrofit/issues/1153</a> </p>\n\n<p>This is forbidden by okhttp Client, which is utilized by retrofit to make http calls.\nI would recommend you log the lower case signaturer esult and check directly which character is causing the trouble. </p>\n\n<p>Best of luck!  </p>\n"},{"tags":[],"owner":{"account_id":5315490,"reputation":1112,"user_id":4240534,"display_name":"goemic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685437316,"creation_date":1685437316,"answer_id":76363221,"question_id":51951266,"body_markdown":"This can be only solved with retrofit starting with version `2.10.0` which is currently only available as a SNAPSHOT version (Pull-Request: https://github.com/square/retrofit/pull/3661). \r\n\r\nWith version 2.10.0 you can simply allow unsafe non-ascii values for your header:\r\n\r\n    @Header(&quot;Signature&quot;, allowUnsafeNonAsciiValues = true)\r\n\r\n\r\n\r\nIn order to use the SNAPSHPT version, you need to add sonatype as additional source in your root build.gradle:\r\n\r\n    repositories {\r\n        ...\r\n        \r\n        maven {\r\n            url &quot;https://s01.oss.sonatype.org/content/repositories/snapshots/&quot;\r\n        }\r\n    }\r\n\r\nFurthermore you need to use a snapshot version in yout module level build.gradle:\r\n\r\n    dependencies {    \r\n       ...\r\n\r\n       // as of today this is the latest SNAPSHOT version..\r\n       implementation &quot;com.squareup.retrofit2:retrofit:2.10.0-20230517.223446-56&quot;\r\n    }\r\n ","title":"java.lang.IllegalArgumentException: Unexpected char 0x1d at 4 in signature value:","body":"<p>This can be only solved with retrofit starting with version <code>2.10.0</code> which is currently only available as a SNAPSHOT version (Pull-Request: <a href=\"https://github.com/square/retrofit/pull/3661\" rel=\"nofollow noreferrer\">https://github.com/square/retrofit/pull/3661</a>).</p>\n<p>With version 2.10.0 you can simply allow unsafe non-ascii values for your header:</p>\n<pre><code>@Header(&quot;Signature&quot;, allowUnsafeNonAsciiValues = true)\n</code></pre>\n<p>In order to use the SNAPSHPT version, you need to add sonatype as additional source in your root build.gradle:</p>\n<pre><code>repositories {\n    ...\n    \n    maven {\n        url &quot;https://s01.oss.sonatype.org/content/repositories/snapshots/&quot;\n    }\n}\n</code></pre>\n<p>Furthermore you need to use a snapshot version in yout module level build.gradle:</p>\n<pre><code>dependencies {    \n   ...\n\n   // as of today this is the latest SNAPSHOT version..\n   implementation &quot;com.squareup.retrofit2:retrofit:2.10.0-20230517.223446-56&quot;\n}\n</code></pre>\n"}],"owner":{"display_name":"user10185525"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685437316,"creation_date":1534862682,"question_id":51951266,"body_markdown":"I&#39;m using retrofit for calling my services. One of my services has a header parameter that it signed by SHA256-RSA, but when I invoke my request, I&#39;ve got the error like this : \r\n\r\n    java.lang.IllegalArgumentException: Unexpected char 0x1d at 4 in signature value: &quot;|._\u001D趿s&lt;�ˠ&quot;\r\n\r\nmy request method is : \r\n\r\n    Call&lt;ResponseBody&gt; getToken(@Header(&quot;Signature&quot;) String Signature,@Header(&quot;signature&quot;) String signature,@Header(&quot;headers&quot;) String headers, @Field(&quot;username&quot;) String username, @Field(&quot;password&quot;) String password, @Field(&quot;grant_type&quot;) String grantType);\r\n\r\nand my signing method is : \r\n\r\n  \r\n\r\n     String pkcs8Pem = pkcs8Lines.toString();\r\n            pkcs8Pem = pkcs8Pem.replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\r\n            pkcs8Pem = pkcs8Pem.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n            pkcs8Pem = pkcs8Pem.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    \r\n            // Base64 decode the result\r\n    \r\n            byte[] pkcs8EncodedBytes = Base64.decode(pkcs8Pem, Base64.DEFAULT);\r\n    \r\n            // extract the private key\r\n    \r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8EncodedBytes);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privKey = kf.generatePrivate(keySpec);\r\n    \r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, privKey);\r\n            Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n            signature.initSign(privKey);\r\n            signature.update(message.getBytes());\r\n            return signature.sign();\r\n\r\n\r\ncould you help with that?\r\n","title":"java.lang.IllegalArgumentException: Unexpected char 0x1d at 4 in signature value:","body":"<p>I'm using retrofit for calling my services. One of my services has a header parameter that it signed by SHA256-RSA, but when I invoke my request, I've got the error like this : </p>\n\n<pre><code>java.lang.IllegalArgumentException: Unexpected char 0x1d at 4 in signature value: \"|._趿s&lt;�ˠ\"\n</code></pre>\n\n<p>my request method is : </p>\n\n<pre><code>Call&lt;ResponseBody&gt; getToken(@Header(\"Signature\") String Signature,@Header(\"signature\") String signature,@Header(\"headers\") String headers, @Field(\"username\") String username, @Field(\"password\") String password, @Field(\"grant_type\") String grantType);\n</code></pre>\n\n<p>and my signing method is : </p>\n\n<pre><code> String pkcs8Pem = pkcs8Lines.toString();\n        pkcs8Pem = pkcs8Pem.replace(\"-----BEGIN PRIVATE KEY-----\", \"\");\n        pkcs8Pem = pkcs8Pem.replace(\"-----END PRIVATE KEY-----\", \"\");\n        pkcs8Pem = pkcs8Pem.replaceAll(\"\\\\s+\", \"\");\n\n        // Base64 decode the result\n\n        byte[] pkcs8EncodedBytes = Base64.decode(pkcs8Pem, Base64.DEFAULT);\n\n        // extract the private key\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8EncodedBytes);\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        PrivateKey privKey = kf.generatePrivate(keySpec);\n\n        Cipher cipher = Cipher.getInstance(\"RSA\");\n        cipher.init(Cipher.ENCRYPT_MODE, privKey);\n        Signature signature = Signature.getInstance(\"SHA256withRSA\");\n        signature.initSign(privKey);\n        signature.update(message.getBytes());\n        return signature.sign();\n</code></pre>\n\n<p>could you help with that?</p>\n"},{"tags":["java","google-cloud-datastore"],"comments":[{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1685962044,"post_id":76361699,"comment_id":134729123,"body_markdown":"Let me know if below suggestion helped? or you are looking for something else?","body":"Let me know if below suggestion helped? or you are looking for something else?"}],"answers":[{"tags":[],"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685436550,"creation_date":1685436550,"answer_id":76363123,"question_id":76361699,"body_markdown":"As per the answer by @Dan Cornilescu on [this thread][1]. you have to call `.delete()` on the entity&#39;s key, instead of entity itself. I.e\r\n\r\n```\r\nDB.key.delete()\r\n```\r\nAlso check this [document][2]\r\n\r\n\r\n[1]: https://stackoverflow.com/a/50840164/18265570 \r\n[2]: https://cloud.google.com/appengine/docs/legacy/standard/python/ndb/creating-entities#Deleting_entities \r\n","title":"Google datastore delete entity does not immediately update, can access in next line with find()","body":"<p>As per the answer by @Dan Cornilescu on <a href=\"https://stackoverflow.com/a/50840164/18265570\">this thread</a>. you have to call <code>.delete()</code> on the entity's key, instead of entity itself. I.e</p>\n<pre><code>DB.key.delete()\n</code></pre>\n<p>Also check this <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/python/ndb/creating-entities#Deleting_entities\" rel=\"nofollow noreferrer\">document</a></p>\n"}],"owner":{"account_id":21230614,"reputation":49,"user_id":15615392,"display_name":"treesan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685436550,"creation_date":1685422322,"question_id":76361699,"body_markdown":"I am running into an issue where the datastore table does not immediately update when an entity is deleted, and can be accessed with DB.find.\r\n\r\nHere is the flow:\r\n```\r\n1. DB.find(key) --&gt; object\r\n2. DB.delete(object)\r\n3. DB.find(key) --&gt; object (not null) \r\n```\r\n\r\nI expect DB.find(key) to return null because the object was not deleted but that is not the case. However, after all logic completes and response has been returned I see that the entity has been successfully deleted. \r\n\r\nWhy is the entity still able to be found within the same function? \r\n\r\nAlso, each of the DB access steps are wrapped with ObjectifyService transaction, for example: \r\n\r\n```\r\nBoolean txnRes = ObjectifyService.ofy().transact(new Boolean() {\r\n            @Override\r\n            public Boolean run() {\r\n               object = DB.find(key)\r\n               return object != null\r\n            }\r\n        });\r\n```\r\n\r\n","title":"Google datastore delete entity does not immediately update, can access in next line with find()","body":"<p>I am running into an issue where the datastore table does not immediately update when an entity is deleted, and can be accessed with DB.find.</p>\n<p>Here is the flow:</p>\n<pre><code>1. DB.find(key) --&gt; object\n2. DB.delete(object)\n3. DB.find(key) --&gt; object (not null) \n</code></pre>\n<p>I expect DB.find(key) to return null because the object was not deleted but that is not the case. However, after all logic completes and response has been returned I see that the entity has been successfully deleted.</p>\n<p>Why is the entity still able to be found within the same function?</p>\n<p>Also, each of the DB access steps are wrapped with ObjectifyService transaction, for example:</p>\n<pre><code>Boolean txnRes = ObjectifyService.ofy().transact(new Boolean() {\n            @Override\n            public Boolean run() {\n               object = DB.find(key)\n               return object != null\n            }\n        });\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":18339857,"reputation":31,"user_id":17711139,"display_name":"avong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685436446,"creation_date":1685305815,"question_id":76353483,"body_markdown":"About 2months ago, I developed a simple GPS location indicator using google map template in Andriod Studio. I went back to improve but it does not compile.\r\n\r\nThere was update in android studio when ran general app update in my ubuntu. \r\n\r\nThe error point to function \r\n**findFragmentById(R.id.map);**\r\nIt says, \r\n&quot;cannot dereferenced an int&quot; \r\n\r\nWhat could be done please. \r\n\r\n\r\n\r\n\r\n\r\nI tried creating new project, then I noticed the map activity template was not among existing templates,  it has been removed.","title":"Having issues with Map Activity in Android Studio","body":"<p>About 2months ago, I developed a simple GPS location indicator using google map template in Andriod Studio. I went back to improve but it does not compile.</p>\n<p>There was update in android studio when ran general app update in my ubuntu.</p>\n<p>The error point to function\n<strong>findFragmentById(R.id.map);</strong>\nIt says,\n&quot;cannot dereferenced an int&quot;</p>\n<p>What could be done please.</p>\n<p>I tried creating new project, then I noticed the map activity template was not among existing templates,  it has been removed.</p>\n"},{"tags":["java","tomcat","xnat"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685217729,"post_id":76346418,"comment_id":134631930,"body_markdown":"What XNAT online documentation are you referring to? Can you share a link?","body":"What XNAT online documentation are you referring to? Can you share a link?"},{"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"score":0,"creation_date":1685220258,"post_id":76346418,"comment_id":134632201,"body_markdown":"https://wiki.xnat.org/documentation/getting-started-with-xnat/xnat-installation-guide","body":"<a href=\"https://wiki.xnat.org/documentation/getting-started-with-xnat/xnat-installation-guide\" rel=\"nofollow noreferrer\">wiki.xnat.org/documentation/getting-started-with-xnat/&hellip;</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685223643,"post_id":76346418,"comment_id":134632551,"body_markdown":"Thank you for the link. Maybe add that to the question. The instructions are fairly long - and if you are not sure which specific step is causing your Tomcat issue, it may be difficult to help you. Perhaps try the container solutions mentioned at the start of that page?","body":"Thank you for the link. Maybe add that to the question. The instructions are fairly long - and if you are not sure which specific step is causing your Tomcat issue, it may be difficult to help you. Perhaps try the container solutions mentioned at the start of that page?"},{"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"score":0,"creation_date":1685274513,"post_id":76346418,"comment_id":134636177,"body_markdown":"Thank you for helping. I have added my configs in the post. I am hoping that will point to the issue","body":"Thank you for helping. I have added my configs in the post. I am hoping that will point to the issue"},{"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"score":0,"creation_date":1685371249,"post_id":76346418,"comment_id":134647427,"body_markdown":"P.S tried container options today. For various reasons none work! (e.g., installing vm ends with a &#39;Bad gatway&#39; error.","body":"P.S tried container options today. For various reasons none work! (e.g., installing vm ends with a &#39;Bad gatway&#39; error."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685374232,"post_id":76346418,"comment_id":134648026,"body_markdown":"What is the exact version of Tomcat?","body":"What is the exact version of Tomcat?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685374601,"post_id":76346418,"comment_id":134648090,"body_markdown":"And have you modified META-INF/context.xml? Please also share the content of this file.","body":"And have you modified META-INF/context.xml? Please also share the content of this file."},{"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"score":0,"creation_date":1685379586,"post_id":76346418,"comment_id":134648849,"body_markdown":"Hi, tomcat 9 ( version 9.0.75, JVM Version : 1.8.0_372_b07, JVM Vendor: Temurin). I havent altered the context.xml file. I have pasted its contents at the bottom of my post. Thanks","body":"Hi, tomcat 9 ( version 9.0.75, JVM Version : 1.8.0_372_b07, JVM Vendor: Temurin). I havent altered the context.xml file. I have pasted its contents at the bottom of my post. Thanks"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685384436,"post_id":76346418,"comment_id":134649607,"body_markdown":"ReadWritePaths doesn&#39;t include the xnat home directory defined above`/data/xnat/home`. Could you try it?","body":"ReadWritePaths doesn&#39;t include the xnat home directory defined above<code>&#47;data&#47;xnat&#47;home</code>. Could you try it?"},{"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"score":0,"creation_date":1685387437,"post_id":76346418,"comment_id":134649975,"body_markdown":"Did it. No effect","body":"Did it. No effect"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685395321,"creation_date":1685395321,"answer_id":76360382,"question_id":76346418,"body_markdown":"In my opinion the problem is related to the fact that Tomcat is unable to process correctly the application resources defined in the `context.xml` file:\r\n\r\n```xml\r\n&lt;Resources&gt;\r\n  &lt;PreResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot; base=&quot;${xnat.home}/plugins&quot; webAppMount=&quot;/WEB-INF/lib&quot; /&gt;\r\n&lt;/Resources&gt;\r\n``` \r\n\r\nThe reason for that could be very likely that the `${xnat.home}` placeholder is not resolved successfully, probably because the system property with the same name is not properly defined.\r\n\r\nYou are try defining that system property in your unit file when defining the `CATALINA_OPTS` environment variable:\r\n\r\n```\r\nEnvironment=&quot;CATALINA_OPTS=&quot;-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\r\n```\r\n\r\nPlease, note that it is incorrectly defined, note the `&quot;` after `CATALINA_OPTS=`.\r\n\r\nIt should be:\r\n\r\n```\r\nEnvironment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\r\n```\r\n\r\nIt could be a typo but it may explain as well the problem.","title":"Errors while setting up xnat webapp in tomcat 9","body":"<p>In my opinion the problem is related to the fact that Tomcat is unable to process correctly the application resources defined in the <code>context.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Resources&gt;\n  &lt;PreResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot; base=&quot;${xnat.home}/plugins&quot; webAppMount=&quot;/WEB-INF/lib&quot; /&gt;\n&lt;/Resources&gt;\n</code></pre>\n<p>The reason for that could be very likely that the <code>${xnat.home}</code> placeholder is not resolved successfully, probably because the system property with the same name is not properly defined.</p>\n<p>You are try defining that system property in your unit file when defining the <code>CATALINA_OPTS</code> environment variable:</p>\n<pre><code>Environment=&quot;CATALINA_OPTS=&quot;-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\n</code></pre>\n<p>Please, note that it is incorrectly defined, note the <code>&quot;</code> after <code>CATALINA_OPTS=</code>.</p>\n<p>It should be:</p>\n<pre><code>Environment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\n</code></pre>\n<p>It could be a typo but it may explain as well the problem.</p>\n"}],"owner":{"account_id":1421342,"reputation":610,"user_id":1345882,"accept_rate":65,"display_name":"Maelstorm"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76360382,"answer_count":1,"score":6,"last_activity_date":1685436079,"creation_date":1685182826,"question_id":76346418,"body_markdown":"I have followed the online documentation on the xnat site (https://wiki.xnat.org/documentation/getting-started-with-xnat/xnat-installation-guide) and installed apache tomcat 9 ( version 9.0.75, JVM Version : 1.8.0_372_b07, JVM Vendor: Temurin). But when I click &#39;start&#39; on the xnat webapp, I get the error:\r\n\r\n```\r\nFAIL - Application at context path [/xnat-web-1.8.8] could not be started\r\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@35a50a4c]]\r\n```\r\n\r\nThe log file shows the following (truncated to allow it to post here):\r\n\r\n```                                                                                                                                                                                                                                                                                                                                                                                \r\n\r\n... org.apache.catalina.core.ApplicationContext.log HTMLManager: Error starting [/xnat-web-1.8.8]\r\n        org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@6dde5c8c]\r\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n              \r\n...\r\n...\r\n...\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                at java.lang.Thread.run(Thread.java:750)\r\n        Caused by: java.lang.NullPointerException\r\n                at java.lang.String.startsWith(String.java:1405)\r\n                at java.lang.String.startsWith(String.java:1434)\r\n                at org.apache.catalina.webresources.AbstractFileResourceSet.file(AbstractFileResourceSet.java:98)\r\n                at org.apache.catalina.webresources.DirResourceSet.getResource(DirResourceSet.java:94)\r\n                at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:272)\r\n                at org.apache.catalina.webresources.Cache.getResource(Cache.java:64)\r\n                at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:211)\r\n                at org.apache.catalina.webresources.StandardRoot.listResources(StandardRoot.java:347)\r\n                at org.apache.catalina.webresources.StandardRoot.processWebInfLib(StandardRoot.java:585)\r\n                at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:722)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n```\r\nAccording to ChatGPT:\r\n```\r\nBased on the provided log file, it appears that there is an error during the deployment of the web application &#39;/xnat-web-1.8.8&#39; in Tomcat. The error message indicates a NullPointerException and a LifecycleException related to the StandardRoot component.\r\n\r\nThe root cause of the issue seems to be the NullPointerException occurring within the AbstractFileResourceSet class. It specifically fails when attempting to access a file resource, likely due to a missing or invalid file path.\r\n```\r\n\r\nI am wondering if the issue is either in the unit file or in the postgresql config (TCP/IP connections) setup. I am only using tomcat on localhost. In my pg_hba.conf file i have just added the line ```listen_addresses = &#39;*&#39;```\r\nIf you look at the unit file below, I have given it multiple folders to readwrite. Tomcat is by default using /opt/tomcat. But the xnat documentation settings indicate I use /var/lib/tomcat, /var/log/tomcat, and /etc/tomcat/Catalina as ReadWritePaths. I have just added all those alongwith my installation default paths in my unit file. I am wondering if that&#39;s where the error is. \r\nMy tomcat unit file is :\r\n```\r\n\r\n[Unit]\r\nDescription=Apache Tomcat Web Application Container\r\nAfter=network.target\r\n[Service]\r\nType=forking\r\nUser=xnat\r\nGroup=xnat\r\nPrivateTmp=yes\r\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&quot;\r\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom -Djava.awt.headless=true&quot;\r\nEnvironment=&quot;CATALINA_BASE=/opt/tomcat&quot;\r\nEnvironment=&quot;CATALINA_HOME=/opt/tomcat&quot;\r\nEnvironment=&quot;CATALINA_PID=/opt/tomcat/temp/tomcat.pid&quot;\r\nEnvironment=&quot;CATALINA_OPTS=&quot;-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\r\nExecStart=/opt/tomcat/bin/startup.sh\r\nExecStop=/opt/tomcat/bin/shutdown.sh\r\n#AmbientCapabilities=CAP_NET_BIND_SERVICE\r\nNoNewPrivileges=true\r\nCacheDirectory=tomcat\r\nCacheDirectoryMode=750\r\n#ProtectSystem=strict\r\nReadWritePaths=/etc/tomcat/Catalina/\r\nReadWritePaths=/opt/tomcat/webapps/\r\nReadWritePaths=/var/lib/tomcat/webapps/\r\nReadWritePaths=/opt/log/tomcat/\r\nReadWritePaths=/var/log/tomcat/\r\nReadWritePaths=/data/xnat/home\r\nReadWritePaths=/home/xnat/\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\nThe context.xml file under /opt/tomcat/webapps/xnat-1.8.8/META-INF  is:\r\n\r\n\r\n```\r\nxml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--\r\n  ~ web: context.xml\r\n  ~ XNAT http://www.xnat.org\r\n  ~ Copyright (c) 2005-2021, Washington University School of Medicine and Howard Hughes Medical Institute\r\n  ~ All Rights Reserved\r\n  ~\r\n  ~ Released under the Simplified BSD.\r\n  --&gt;\r\n\r\n&lt;Context&gt;\r\n    &lt;!--\r\n    For Tomcat 7 compatibility, uncomment the &lt;Loader&gt; element and comment out the &lt;Resources&gt;\r\n    and &lt;CookieProcessor&gt; elements under that.\r\n    --&gt;\r\n    &lt;!-- Loader className=&quot;org.apache.catalina.loader.VirtualWebappLoader&quot; searchVirtualFirst=&quot;true&quot; virtualClasspath=&quot;${xnat.home}/plugins/*.jar&quot;/ --&gt;\r\n\r\n    &lt;!--\r\n    For Tomcat 8 compatibility, uncomment the &lt;Resources&gt; and &lt;CookieProcessor&gt; elements below and\r\n    comment out the &lt;Loader&gt; element below that.\r\n    --&gt;\r\n    &lt;Resources&gt;\r\n        &lt;PreResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot; base=&quot;${xnat.home}/plugins&quot; webAppMount=&quot;/WEB-INF/lib&quot; /&gt;\r\n    &lt;/Resources&gt;\r\n    &lt;CookieProcessor className=&quot;org.apache.tomcat.util.http.LegacyCookieProcessor&quot; /&gt;\r\n    &lt;JarScanner scanAllDirectories=&quot;true&quot; /&gt;\r\n    &lt;Parameter name=&quot;xnatHome&quot; value=&quot;${xnat.home}&quot;/&gt;\r\n    &lt;Manager pathname=&quot;&quot; /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nI have since also unsuccessfully tried to deploy xnat via vagrant and docker. \r\nI will be grateful for any help you can give me.","title":"Errors while setting up xnat webapp in tomcat 9","body":"<p>I have followed the online documentation on the xnat site (<a href=\"https://wiki.xnat.org/documentation/getting-started-with-xnat/xnat-installation-guide\" rel=\"nofollow noreferrer\">https://wiki.xnat.org/documentation/getting-started-with-xnat/xnat-installation-guide</a>) and installed apache tomcat 9 ( version 9.0.75, JVM Version : 1.8.0_372_b07, JVM Vendor: Temurin). But when I click 'start' on the xnat webapp, I get the error:</p>\n<pre><code>FAIL - Application at context path [/xnat-web-1.8.8] could not be started\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@35a50a4c]]\n</code></pre>\n<p>The log file shows the following (truncated to allow it to post here):</p>\n<pre><code>\n... org.apache.catalina.core.ApplicationContext.log HTMLManager: Error starting [/xnat-web-1.8.8]\n        org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@6dde5c8c]\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n              \n...\n...\n...\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n                at java.lang.Thread.run(Thread.java:750)\n        Caused by: java.lang.NullPointerException\n                at java.lang.String.startsWith(String.java:1405)\n                at java.lang.String.startsWith(String.java:1434)\n                at org.apache.catalina.webresources.AbstractFileResourceSet.file(AbstractFileResourceSet.java:98)\n                at org.apache.catalina.webresources.DirResourceSet.getResource(DirResourceSet.java:94)\n                at org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:272)\n                at org.apache.catalina.webresources.Cache.getResource(Cache.java:64)\n                at org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:211)\n                at org.apache.catalina.webresources.StandardRoot.listResources(StandardRoot.java:347)\n                at org.apache.catalina.webresources.StandardRoot.processWebInfLib(StandardRoot.java:585)\n                at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:722)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n</code></pre>\n<p>According to ChatGPT:</p>\n<pre><code>Based on the provided log file, it appears that there is an error during the deployment of the web application '/xnat-web-1.8.8' in Tomcat. The error message indicates a NullPointerException and a LifecycleException related to the StandardRoot component.\n\nThe root cause of the issue seems to be the NullPointerException occurring within the AbstractFileResourceSet class. It specifically fails when attempting to access a file resource, likely due to a missing or invalid file path.\n</code></pre>\n<p>I am wondering if the issue is either in the unit file or in the postgresql config (TCP/IP connections) setup. I am only using tomcat on localhost. In my pg_hba.conf file i have just added the line <code>listen_addresses = '*'</code>\nIf you look at the unit file below, I have given it multiple folders to readwrite. Tomcat is by default using /opt/tomcat. But the xnat documentation settings indicate I use /var/lib/tomcat, /var/log/tomcat, and /etc/tomcat/Catalina as ReadWritePaths. I have just added all those alongwith my installation default paths in my unit file. I am wondering if that's where the error is.\nMy tomcat unit file is :</p>\n<pre><code>\n[Unit]\nDescription=Apache Tomcat Web Application Container\nAfter=network.target\n[Service]\nType=forking\nUser=xnat\nGroup=xnat\nPrivateTmp=yes\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&quot;\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom -Djava.awt.headless=true&quot;\nEnvironment=&quot;CATALINA_BASE=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_HOME=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_PID=/opt/tomcat/temp/tomcat.pid&quot;\nEnvironment=&quot;CATALINA_OPTS=&quot;-Xms512M -Xmx1024M -server -XX:+UseParallelGC -Dxnat.home=/data/xnat/home&quot;\nExecStart=/opt/tomcat/bin/startup.sh\nExecStop=/opt/tomcat/bin/shutdown.sh\n#AmbientCapabilities=CAP_NET_BIND_SERVICE\nNoNewPrivileges=true\nCacheDirectory=tomcat\nCacheDirectoryMode=750\n#ProtectSystem=strict\nReadWritePaths=/etc/tomcat/Catalina/\nReadWritePaths=/opt/tomcat/webapps/\nReadWritePaths=/var/lib/tomcat/webapps/\nReadWritePaths=/opt/log/tomcat/\nReadWritePaths=/var/log/tomcat/\nReadWritePaths=/data/xnat/home\nReadWritePaths=/home/xnat/\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>The context.xml file under /opt/tomcat/webapps/xnat-1.8.8/META-INF  is:</p>\n<pre><code>xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--\n  ~ web: context.xml\n  ~ XNAT http://www.xnat.org\n  ~ Copyright (c) 2005-2021, Washington University School of Medicine and Howard Hughes Medical Institute\n  ~ All Rights Reserved\n  ~\n  ~ Released under the Simplified BSD.\n  --&gt;\n\n&lt;Context&gt;\n    &lt;!--\n    For Tomcat 7 compatibility, uncomment the &lt;Loader&gt; element and comment out the &lt;Resources&gt;\n    and &lt;CookieProcessor&gt; elements under that.\n    --&gt;\n    &lt;!-- Loader className=&quot;org.apache.catalina.loader.VirtualWebappLoader&quot; searchVirtualFirst=&quot;true&quot; virtualClasspath=&quot;${xnat.home}/plugins/*.jar&quot;/ --&gt;\n\n    &lt;!--\n    For Tomcat 8 compatibility, uncomment the &lt;Resources&gt; and &lt;CookieProcessor&gt; elements below and\n    comment out the &lt;Loader&gt; element below that.\n    --&gt;\n    &lt;Resources&gt;\n        &lt;PreResources className=&quot;org.apache.catalina.webresources.DirResourceSet&quot; base=&quot;${xnat.home}/plugins&quot; webAppMount=&quot;/WEB-INF/lib&quot; /&gt;\n    &lt;/Resources&gt;\n    &lt;CookieProcessor className=&quot;org.apache.tomcat.util.http.LegacyCookieProcessor&quot; /&gt;\n    &lt;JarScanner scanAllDirectories=&quot;true&quot; /&gt;\n    &lt;Parameter name=&quot;xnatHome&quot; value=&quot;${xnat.home}&quot;/&gt;\n    &lt;Manager pathname=&quot;&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>I have since also unsuccessfully tried to deploy xnat via vagrant and docker.\nI will be grateful for any help you can give me.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":11672847,"reputation":204,"user_id":8547372,"display_name":"Dharmeet Soni"},"score":0,"creation_date":1685424574,"post_id":76359162,"comment_id":134653564,"body_markdown":"Can you explain what exactly you want? As I understand you can directly put condition on click based on ID,name or anything you want and you can map it to the particular activity","body":"Can you explain what exactly you want? As I understand you can directly put condition on click based on ID,name or anything you want and you can map it to the particular activity"},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1685429360,"post_id":76359162,"comment_id":134654261,"body_markdown":"Can you also share your XML and also on which you want to add onclick","body":"Can you also share your XML and also on which you want to add onclick"}],"answers":[{"tags":[],"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429109,"creation_date":1685426150,"answer_id":76361932,"question_id":76359162,"body_markdown":"If you want to use an intent to convey a message. You can use `intent.putExtra()`\r\n\r\nIf you want to pass a bundle, you can use `intent.putExtras()`","title":"how to make all items in an adapter clickable?","body":"<p>If you want to use an intent to convey a message. You can use <code>intent.putExtra()</code></p>\n<p>If you want to pass a bundle, you can use <code>intent.putExtras()</code></p>\n"},{"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685432735,"creation_date":1685432735,"answer_id":76362609,"question_id":76359162,"body_markdown":"Pass extra arguments in your click listener:\r\n\r\n```java\r\n@Override\r\npublic void onBindViewHolder(@NonNull RecentsViewHolder holder, int position) {\r\n    DataItem item = recentsDataList.get(position); //Cleaner code\r\n\r\n    holder.countryName.setText(item.getCountryName());\r\n    holder.placeName.setText(item.getPlaceName());\r\n    holder.price.setText(item.getPrice());\r\n    holder.placeImage.setImageResource(item.getImageUrl());\r\n\r\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            Intent i = new Intent(context, DetailsActivity.class);\r\n            \r\n            //You can add more arguments here\r\n            i.putExtra(&quot;place_name&quot;, item.getPlaceName());\r\n\r\n            context.startActivity(i);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nAnd in your DetailsActivity.onCreate():\r\n\r\n```java\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    \r\n    //Get the place name and load the layout accordingly\r\n    String placeName = getIntent().getStringExtra(&quot;place_name&quot;);\r\n}\r\n```","title":"how to make all items in an adapter clickable?","body":"<p>Pass extra arguments in your click listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onBindViewHolder(@NonNull RecentsViewHolder holder, int position) {\n    DataItem item = recentsDataList.get(position); //Cleaner code\n\n    holder.countryName.setText(item.getCountryName());\n    holder.placeName.setText(item.getPlaceName());\n    holder.price.setText(item.getPrice());\n    holder.placeImage.setImageResource(item.getImageUrl());\n\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent i = new Intent(context, DetailsActivity.class);\n            \n            //You can add more arguments here\n            i.putExtra(&quot;place_name&quot;, item.getPlaceName());\n\n            context.startActivity(i);\n        }\n    });\n}\n</code></pre>\n<p>And in your DetailsActivity.onCreate():</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    //Get the place name and load the layout accordingly\n    String placeName = getIntent().getStringExtra(&quot;place_name&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":28704049,"reputation":1,"user_id":21980709,"display_name":"Mohamed bourhane eldine Siad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685436038,"creation_date":1685380037,"question_id":76359162,"body_markdown":"I made an app following a tutorial. The creator of the tutorial made a &quot;Recents&quot; row which contains photos of the places you can go to.  \r\nThe code was made to show the same &quot;details activity&quot; every time you click on a photo.\r\n\r\nThe problem: I already made 4 different Activities to each photo in the recents row and I want to link each photo to its Activity.\r\n\r\n[the DetailsActivity that keeps on showing](https://i.stack.imgur.com/DI3oF.jpg)\r\n[Recents-row](https://i.stack.imgur.com/0E12r.jpg) \r\n\r\n```java\r\npublic class RecentsAdapter extends RecyclerView.Adapter&lt;RecentsAdapter.RecentsViewHolder&gt; {\r\n    Context context;\r\n    List&lt;RecentsData&gt; recentsDataList;\r\n    //the RecentsAdapter code:\r\n\r\n    public RecentsAdapter(Context context, List&lt;RecentsData&gt; recentsDataList) {\r\n        this.context = context;\r\n        this.recentsDataList = recentsDataList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecentsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.recents_row_item, parent ,false);\r\n        return new RecentsViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecentsViewHolder holder, int position) {\r\n        holder.countryName.setText(recentsDataList.get(position).getCountryName());\r\n        holder.placeName.setText(recentsDataList.get(position).getPlaceName());\r\n        holder.price.setText(recentsDataList.get(position).getPrice());\r\n        holder.placeImage.setImageResource(recentsDataList.get(position).getImageUrl());\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i=new Intent(context, DetailsActivity.class);\r\n                context.startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return recentsDataList.size();\r\n    }\r\n\r\n    public static final class RecentsViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView placeImage;\r\n        TextView placeName,countryName,price;\r\n        public RecentsViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            placeImage = itemView.findViewById(R.id.place_image);\r\n            placeName = itemView.findViewById(R.id.place_name);\r\n            countryName = itemView.findViewById(R.id.country_name);\r\n            price = itemView.findViewById(R.id.price);\r\n        }\r\n    }\r\n}\r\n```","title":"how to make all items in an adapter clickable?","body":"<p>I made an app following a tutorial. The creator of the tutorial made a &quot;Recents&quot; row which contains photos of the places you can go to.<br />\nThe code was made to show the same &quot;details activity&quot; every time you click on a photo.</p>\n<p>The problem: I already made 4 different Activities to each photo in the recents row and I want to link each photo to its Activity.</p>\n<p><a href=\"https://i.stack.imgur.com/DI3oF.jpg\" rel=\"nofollow noreferrer\">the DetailsActivity that keeps on showing</a>\n<a href=\"https://i.stack.imgur.com/0E12r.jpg\" rel=\"nofollow noreferrer\">Recents-row</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecentsAdapter extends RecyclerView.Adapter&lt;RecentsAdapter.RecentsViewHolder&gt; {\n    Context context;\n    List&lt;RecentsData&gt; recentsDataList;\n    //the RecentsAdapter code:\n\n    public RecentsAdapter(Context context, List&lt;RecentsData&gt; recentsDataList) {\n        this.context = context;\n        this.recentsDataList = recentsDataList;\n    }\n\n    @NonNull\n    @Override\n    public RecentsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recents_row_item, parent ,false);\n        return new RecentsViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecentsViewHolder holder, int position) {\n        holder.countryName.setText(recentsDataList.get(position).getCountryName());\n        holder.placeName.setText(recentsDataList.get(position).getPlaceName());\n        holder.price.setText(recentsDataList.get(position).getPrice());\n        holder.placeImage.setImageResource(recentsDataList.get(position).getImageUrl());\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent i=new Intent(context, DetailsActivity.class);\n                context.startActivity(i);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return recentsDataList.size();\n    }\n\n    public static final class RecentsViewHolder extends RecyclerView.ViewHolder {\n        ImageView placeImage;\n        TextView placeName,countryName,price;\n        public RecentsViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            placeImage = itemView.findViewById(R.id.place_image);\n            placeName = itemView.findViewById(R.id.place_name);\n            countryName = itemView.findViewById(R.id.country_name);\n            price = itemView.findViewById(R.id.price);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","user-interface","tablelayout"],"owner":{"account_id":23461270,"reputation":1,"user_id":17516098,"display_name":"UnaiZelaia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685436023,"creation_date":1685431806,"question_id":76362497,"body_markdown":"I am developing an Android app and I created a TableLayout to display some information, but the table I created has a grey divider between the table header and the rest of the rows that **gets bigger the more records there are on the table**.\r\n\r\n[This is how the table looks with 20~ rows](https://i.stack.imgur.com/38sEU.png)\r\n\r\nI just created a TableLayout inside of some other containers like so:\r\n\r\n```xml\r\nFrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragmentos.TablaAsig&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;HorizontalScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;TableLayout\r\n                        android:id=&quot;@+id/tablaSinAsig&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;50dp&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginBottom=&quot;40dp&quot;\r\n                        android:divider=&quot;?android:listDivider&quot;\r\n                        android:paddingBottom=&quot;60dp&quot;\r\n                        android:showDividers=&quot;middle&quot;&gt;\r\n\r\n                        &lt;!-- Header de la tabla --&gt;\r\n\r\n                        &lt;TableRow\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_marginRight=&quot;10dp&quot;\r\n                            android:background=&quot;@android:color/holo_red_dark&quot;\r\n                            android:padding=&quot;10dp&quot;&gt;\r\n\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginRight=&quot;15dp&quot;\r\n                                android:text=&quot;Asignatu gabeko TAG-ak&quot; /&gt;\r\n                        &lt;/TableRow&gt;\r\n                    &lt;/TableLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/HorizontalScrollView&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nAnd I have a function that creates new TableRows to insert into this TableLayout:\r\n\r\n```\r\npublic void poblarTablaSinAsig(Context context, TableLayout tableLayout){\r\n        tagsSinAsig = new ArrayList&lt;String&gt;();\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        int filas = tableLayout.getChildCount();\r\n        for (int i = 1; i &lt; filas; i++) {\r\n            View child = tableLayout.getChildAt(i);\r\n            if (child instanceof TableRow) ((ViewGroup) child).removeAllViews();\r\n        }\r\n\r\n        for(int i = 0; i &lt; EventHandler.allTagData.size(); i++) {\r\n            TableRow nuevoReg = new TableRow(context);\r\n            TextView codTag = new TextView(context);\r\n\r\n            TableRow.LayoutParams parametros = new TableRow.LayoutParams(\r\n                    TableRow.LayoutParams.MATCH_PARENT,\r\n                    TableRow.LayoutParams.WRAP_CONTENT\r\n            );\r\n\r\n            parametros.setMargins(50, 15, 10, 15);\r\n            nuevoReg.setLayoutParams(parametros);\r\n\r\n\r\n            Cursor cursor = null;\r\n            String query = &quot;SELECT * FROM asignaciones WHERE CodigoChip = &#39;&quot; +  EventHandler.allTagData.get(i) + &quot;&#39;&quot;;\r\n            cursor = db.rawQuery(query, null);\r\n\r\n            if(cursor.getCount() &lt;= 0) {\r\n                codTag.setText(EventHandler.allTagData.get(i));\r\n                nuevoReg.addView(codTag, parametros);\r\n                tableLayout.addView(nuevoReg, parametros);\r\n                tagsSinAsig.add(EventHandler.allTagData.get(i));\r\n            } else {\r\n                tagsAsig.add(EventHandler.allTagData.get(i));\r\n                }\r\n            }\r\n    }\r\n```\r\n\r\nWhere is this weird divider being created? How can I solve the problem?","title":"Unwanted divider between header and table in Android","body":"<p>I am developing an Android app and I created a TableLayout to display some information, but the table I created has a grey divider between the table header and the rest of the rows that <strong>gets bigger the more records there are on the table</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/38sEU.png\" rel=\"nofollow noreferrer\">This is how the table looks with 20~ rows</a></p>\n<p>I just created a TableLayout inside of some other containers like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragmentos.TablaAsig&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;HorizontalScrollView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;TableLayout\n                        android:id=&quot;@+id/tablaSinAsig&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginLeft=&quot;50dp&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginBottom=&quot;40dp&quot;\n                        android:divider=&quot;?android:listDivider&quot;\n                        android:paddingBottom=&quot;60dp&quot;\n                        android:showDividers=&quot;middle&quot;&gt;\n\n                        &lt;!-- Header de la tabla --&gt;\n\n                        &lt;TableRow\n                            android:layout_marginLeft=&quot;10dp&quot;\n                            android:layout_marginRight=&quot;10dp&quot;\n                            android:background=&quot;@android:color/holo_red_dark&quot;\n                            android:padding=&quot;10dp&quot;&gt;\n\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginRight=&quot;15dp&quot;\n                                android:text=&quot;Asignatu gabeko TAG-ak&quot; /&gt;\n                        &lt;/TableRow&gt;\n                    &lt;/TableLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/HorizontalScrollView&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>And I have a function that creates new TableRows to insert into this TableLayout:</p>\n<pre><code>public void poblarTablaSinAsig(Context context, TableLayout tableLayout){\n        tagsSinAsig = new ArrayList&lt;String&gt;();\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        int filas = tableLayout.getChildCount();\n        for (int i = 1; i &lt; filas; i++) {\n            View child = tableLayout.getChildAt(i);\n            if (child instanceof TableRow) ((ViewGroup) child).removeAllViews();\n        }\n\n        for(int i = 0; i &lt; EventHandler.allTagData.size(); i++) {\n            TableRow nuevoReg = new TableRow(context);\n            TextView codTag = new TextView(context);\n\n            TableRow.LayoutParams parametros = new TableRow.LayoutParams(\n                    TableRow.LayoutParams.MATCH_PARENT,\n                    TableRow.LayoutParams.WRAP_CONTENT\n            );\n\n            parametros.setMargins(50, 15, 10, 15);\n            nuevoReg.setLayoutParams(parametros);\n\n\n            Cursor cursor = null;\n            String query = &quot;SELECT * FROM asignaciones WHERE CodigoChip = '&quot; +  EventHandler.allTagData.get(i) + &quot;'&quot;;\n            cursor = db.rawQuery(query, null);\n\n            if(cursor.getCount() &lt;= 0) {\n                codTag.setText(EventHandler.allTagData.get(i));\n                nuevoReg.addView(codTag, parametros);\n                tableLayout.addView(nuevoReg, parametros);\n                tagsSinAsig.add(EventHandler.allTagData.get(i));\n            } else {\n                tagsAsig.add(EventHandler.allTagData.get(i));\n                }\n            }\n    }\n</code></pre>\n<p>Where is this weird divider being created? How can I solve the problem?</p>\n"},{"tags":["java","eclipse","character-encoding","settings"],"comments":[{"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"score":0,"creation_date":1685432727,"post_id":76362570,"comment_id":134654969,"body_markdown":"You should probably provide a link for the github page, so we can try it on our machines as well...","body":"You should probably provide a link for the github page, so we can try it on our machines as well..."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":2,"creation_date":1685433228,"post_id":76362570,"comment_id":134655081,"body_markdown":"maybe is better if you don&#39;t use &quot;image&quot; link and include code in post instead","body":"maybe is better if you don&#39;t use &quot;image&quot; link and include code in post instead"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1685433583,"post_id":76362570,"comment_id":134655165,"body_markdown":"Does the font you are using for the console actually support those characters? It looks like it doesn&#39;t.","body":"Does the font you are using for the console actually support those characters? It looks like it doesn&#39;t."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685433586,"post_id":76362570,"comment_id":134655167,"body_markdown":"Make sure the font used in the _Console_ view supports these characters: in preferences _General &gt; Colors and Fonts &gt; Appearance: Debug &gt; Console font_","body":"Make sure the font used in the <i>Console</i> view supports these characters: in preferences <i>General &gt; Colors and Fonts &gt; Appearance: Debug &gt; Console font</i>"},{"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"score":0,"creation_date":1685433852,"post_id":76362570,"comment_id":134655229,"body_markdown":"@howlger Well but the default text font should support this, should&#39;nt it? And the correct path would be Appearance &gt; Colors and Fonts: Debug.","body":"@howlger Well but the default text font should support this, should&#39;nt it? And the correct path would be Appearance &gt; Colors and Fonts: Debug."},{"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"score":0,"creation_date":1685434243,"post_id":76362570,"comment_id":134655315,"body_markdown":"@P. Hammer Nick Have you tried this: https://stackoverflow.com/questions/4947484/how-to-set-eclipse-console-locale-language ? Changing it to vietnamese?","body":"@P. Hammer Nick Have you tried this: <a href=\"https://stackoverflow.com/questions/4947484/how-to-set-eclipse-console-locale-language\" title=\"how to set eclipse console locale language\">stackoverflow.com/questions/4947484/&hellip;</a> ? Changing it to vietnamese?"},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685434328,"post_id":76362570,"comment_id":134655339,"body_markdown":"I have tried changing fonts to the one that should support the character but the same issue still appears, and its my first post so I&#39;m not allowed to bring up images yet.","body":"I have tried changing fonts to the one that should support the character but the same issue still appears, and its my first post so I&#39;m not allowed to bring up images yet."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685434569,"post_id":76362570,"comment_id":134655400,"body_markdown":"@Eldinur Thanks for correcting the path. It depends on the system and the preferences. Please note, one wrongly displayed character is one character in the code, so it isn&#39;t an UTF-8 vs. code page encoding problem.","body":"@Eldinur Thanks for correcting the path. It depends on the system and the preferences. Please note, one wrongly displayed character is one character in the code, so it isn&#39;t an UTF-8 vs. code page encoding problem."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685434635,"post_id":76362570,"comment_id":134655409,"body_markdown":"@Eldinur well this will change all my script to Vietnamese and I wouldn&#39;t want it. I only want the output to render normally.","body":"@Eldinur well this will change all my script to Vietnamese and I wouldn&#39;t want it. I only want the output to render normally."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1685434781,"post_id":76362570,"comment_id":134655432,"body_markdown":"Copy the output from the _Console_ view and paste it into the Java editor (and vice versa). If the characters are shown correctly in the Java editor, but not in the _Console_, it&#39;s the _Console_ font.","body":"Copy the output from the <i>Console</i> view and paste it into the Java editor (and vice versa). If the characters are shown correctly in the Java editor, but not in the <i>Console</i>, it&#39;s the <i>Console</i> font."},{"owner":{"account_id":27908218,"reputation":420,"user_id":21310959,"display_name":"Eldinur the Kolibri"},"score":0,"creation_date":1685434912,"post_id":76362570,"comment_id":134655457,"body_markdown":"@howlger Yes I agree. This should probably fix it. (As an aside, cool videos)","body":"@howlger Yes I agree. This should probably fix it. (As an aside, cool videos)"},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685435051,"post_id":76362570,"comment_id":134655483,"body_markdown":"@howlger the characters can only show correctly in the editor when I code, and when I paste it back again from console to editor it doesn&#39;t revive the characters because the console has modified it already.","body":"@howlger the characters can only show correctly in the editor when I code, and when I paste it back again from console to editor it doesn&#39;t revive the characters because the console has modified it already."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685436175,"post_id":76362570,"comment_id":134655731,"body_markdown":"What exactly did you do change the text encoding to UTF-8? In the run configuration, which encoding is chosen in the _Common_ tab? Please include a minimal example that prints e.g. `&#212;` and the output, both as text in your question.","body":"What exactly did you do change the text encoding to UTF-8? In the run configuration, which encoding is chosen in the <i>Common</i> tab? Please include a minimal example that prints e.g. <code>&#212;</code> and the output, both as text in your question."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685526079,"post_id":76362570,"comment_id":134671227,"body_markdown":"@howlger Its by default, inherited from workspace, which is UTF-8. The example program prints &#212; as � which is of course an ambiguous character. I doubt if its actually UTF-8&#39;s fault, but actually my friends are not having that problem and they use UTF-8, so I can&#39;t really know why. It&#39;s why I create this post despite all the efforts trying to fix it.","body":"@howlger Its by default, inherited from workspace, which is UTF-8. The example program prints &#212; as � which is of course an ambiguous character. I doubt if its actually UTF-8&#39;s fault, but actually my friends are not having that problem and they use UTF-8, so I can&#39;t really know why. It&#39;s why I create this post despite all the efforts trying to fix it."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685533223,"post_id":76362570,"comment_id":134672692,"body_markdown":"How is `System.out.println(&quot;&#212;\\u00d4&quot;);` shown in your _Console_ view? I&#39;m getting `&#212;&#212;` as expected. If you get the same letter twice, then your problem is not related to your source code, but how you run the bytecode and/or the output is shown. In this case, please show the command line (in the run configuration, there is a _Show Command Line_ button for that) and tell with which Java version you run your code (be aware that Java 18 and higher behaves different than older versions because of [JEP 400](https://openjdk.org/jeps/400)).","body":"How is <code>System.out.println(&quot;&#212;\\u00d4&quot;);</code> shown in your <i>Console</i> view? I&#39;m getting <code>&#212;&#212;</code> as expected. If you get the same letter twice, then your problem is not related to your source code, but how you run the bytecode and/or the output is shown. In this case, please show the command line (in the run configuration, there is a <i>Show Command Line</i> button for that) and tell with which Java version you run your code (be aware that Java 18 and higher behaves different than older versions because of <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400</a>)."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685688313,"post_id":76362570,"comment_id":134698598,"body_markdown":"@howlger It&#39;s �� in the console, which is unable to display on the white console unless I copy and paste it here resulting in ambiguous character. \nThe command line in the configuration is too long to appear so I will have to split it into three comments. It seems yes I&#39;m running in JDK 18.0.2.\nC:\\Program Files\\Java\\jdk-18.0.2\\bin\\javaw.exe\n-Dfile.encoding=UTF-8\n-classpath &quot;C:\\Users\\admin\\Desktop\\VnCoreNLP-1.2\\target\\test-classes;C:\\Users\\admin\\Desktop\\VnCoreNLP-1.2\\target\\classes;C:\\Users\\admin\\.m2\\repository\\com\\optimaize\\languagedetector\\language-detector\\0.6\\language-detector-0.6.jar;","body":"@howlger It&#39;s �� in the console, which is unable to display on the white console unless I copy and paste it here resulting in ambiguous character.  The command line in the configuration is too long to appear so I will have to split it into three comments. It seems yes I&#39;m running in JDK 18.0.2. C:\\Program Files\\Java\\jdk-18.0.2\\bin\\javaw.exe -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\admin\\Desktop\\VnCoreNLP-1.2\\target\\test-classes;C:&zwnj;&#8203;\\Users\\admin\\Desktop&zwnj;&#8203;\\VnCoreNLP-1.2\\targe&zwnj;&#8203;t\\classes;C:\\Users\\a&zwnj;&#8203;dmin\\.m2\\repository\\&zwnj;&#8203;com\\optimaize\\langua&zwnj;&#8203;gedetector\\language-&zwnj;&#8203;detector\\0.6\\languag&zwnj;&#8203;e-detector-0.6.jar;"},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685688348,"post_id":76362570,"comment_id":134698606,"body_markdown":"C:\\Users\\admin\\.m2\\repository\\net\\arnx\\jsonic\\1.2.11\\jsonic-1.2.11.jar;C:\\Users\\admin\\.m2\\repository\\com\\intellij\\annotations\\12.0\\annotations-12.0.jar;C:\\Users\\admin\\.m2\\repository\\com\\google\\guava\\guava\\18.0\\guava-18.0.jar;C:\\Users\\admin\\.m2\\repository\\vncorenlp\\marmot\\1.0\\marmot-1.0.jar;C:\\Users\\admin\\.m2\\repository\\edu\\emory\\mathcs\\nlp\\nlp4j-api\\1.1.3\\nlp4j-api-1.1.3.jar;C:\\Users\\admin\\.m2\\repository\\org\\tukaani\\xz\\1.5\\xz-1.5.jar;C:\\Users\\admin\\.m2\\repository\\it\\unimi\\dsi\\fastutil\\7.0.12\\fastutil-7.0.12.jar;","body":"C:\\Users\\admin\\.m2\\repository\\net\\arnx\\jsonic\\1.2.11\\jsonic-&zwnj;&#8203;1.2.11.jar;C:\\Users\\&zwnj;&#8203;admin\\.m2\\repository&zwnj;&#8203;\\com\\intellij\\annota&zwnj;&#8203;tions\\12.0\\annotatio&zwnj;&#8203;ns-12.0.jar;C:\\Users&zwnj;&#8203;\\admin\\.m2\\repositor&zwnj;&#8203;y\\com\\google\\guava\\g&zwnj;&#8203;uava\\18.0\\guava-18.0&zwnj;&#8203;.jar;C:\\Users\\admin\\&zwnj;&#8203;.m2\\repository\\vncor&zwnj;&#8203;enlp\\marmot\\1.0\\marm&zwnj;&#8203;ot-1.0.jar;C:\\Users\\&zwnj;&#8203;admin\\.m2\\repository&zwnj;&#8203;\\edu\\emory\\mathcs\\nl&zwnj;&#8203;p\\nlp4j-api\\1.1.3\\nl&zwnj;&#8203;p4j-api-1.1.3.jar;C:&zwnj;&#8203;\\Users\\admin\\.m2\\rep&zwnj;&#8203;ository\\org\\tukaani\\&zwnj;&#8203;xz\\1.5\\xz-1.5.jar;C:&zwnj;&#8203;\\Users\\admin\\.m2\\rep&zwnj;&#8203;ository\\it\\unimi\\dsi&zwnj;&#8203;\\fastutil\\7.0.12\\fas&zwnj;&#8203;tutil-7.0.12.jar;"},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685688367,"post_id":76362570,"comment_id":134698612,"body_markdown":"C:\\Users\\admin\\.m2\\repository\\org\\magicwerk\\brownies-collections\\0.9.13\\brownies-collections-0.9.13.jar;C:\\Users\\admin\\.m2\\repository\\org\\apache\\commons\\commons-math3\\3.5\\commons-math3-3.5.jar;C:\\Users\\admin\\.m2\\repository\\org\\apache\\commons\\commons-csv\\1.2\\commons-csv-1.2.jar;C:\\Users\\admin\\.m2\\repository\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;C:\\Users\\admin\\.m2\\repository\\org\\slf4j\\slf4j-log4j12\\1.7.5\\slf4j-log4j12-1.7.5.jar;C:\\Users\\admin\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar&quot;\n-XX:+ShowCodeDetailsInExceptionMessages Test","body":"C:\\Users\\admin\\.m2\\repository\\org\\magicwerk\\brownies-collect&zwnj;&#8203;ions\\0.9.13\\brownies&zwnj;&#8203;-collections-0.9.13.&zwnj;&#8203;jar;C:\\Users\\admin\\.&zwnj;&#8203;m2\\repository\\org\\ap&zwnj;&#8203;ache\\commons\\commons&zwnj;&#8203;-math3\\3.5\\commons-m&zwnj;&#8203;ath3-3.5.jar;C:\\User&zwnj;&#8203;s\\admin\\.m2\\reposito&zwnj;&#8203;ry\\org\\apache\\common&zwnj;&#8203;s\\commons-csv\\1.2\\co&zwnj;&#8203;mmons-csv-1.2.jar;C:&zwnj;&#8203;\\Users\\admin\\.m2\\rep&zwnj;&#8203;ository\\log4j\\log4j\\&zwnj;&#8203;1.2.17\\log4j-1.2.17.&zwnj;&#8203;jar;C:\\Users\\admin\\.&zwnj;&#8203;m2\\repository\\org\\sl&zwnj;&#8203;f4j\\slf4j-log4j12\\1.&zwnj;&#8203;7.5\\slf4j-log4j12-1.&zwnj;&#8203;7.5.jar;C:\\Users\\adm&zwnj;&#8203;in\\.m2\\repository\\or&zwnj;&#8203;g\\slf4j\\slf4j-api\\1.&zwnj;&#8203;7.25\\slf4j-api-1.7.2&zwnj;&#8203;5.jar&quot; -XX:+ShowCodeDetailsInExceptionMessages Test"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685688829,"post_id":76362570,"comment_id":134698683,"body_markdown":"That proofs that in the font that you use in the _Console_ view, the character `&#212;` is missing. Consider to use [Source Code Pro](https://github.com/adobe-fonts/source-code-pro/tree/release/TTF) or a different font containing `&#212;`.","body":"That proofs that in the font that you use in the <i>Console</i> view, the character <code>&#212;</code> is missing. Consider to use <a href=\"https://github.com/adobe-fonts/source-code-pro/tree/release/TTF\" rel=\"nofollow noreferrer\">Source Code Pro</a> or a different font containing <code>&#212;</code>."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1685689952,"post_id":76362570,"comment_id":134698911,"body_markdown":"@howlger how does the font miss the character &#212; in the console while it&#39;s appearable in text editor.","body":"@howlger how does the font miss the character &#212; in the console while it&#39;s appearable in text editor."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685693004,"post_id":76362570,"comment_id":134699527,"body_markdown":"As far as I know, in the text editor, if a character is missing in a font, the character is taken from another font. I guess this is not the case in the _Console_ view. If it would be an encoding problem of the source code, then `\\u00d4` would work.","body":"As far as I know, in the text editor, if a character is missing in a font, the character is taken from another font. I guess this is not the case in the <i>Console</i> view. If it would be an encoding problem of the source code, then <code>\\u00d4</code> would work."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1686046338,"post_id":76362570,"comment_id":134742291,"body_markdown":"@howlger That is true for fonts that doesn&#39;t support the characters. But here I use a font that support the character, so the characters appear properly with it&#39;s font style in the text editor. But when it comes to the console it doesn&#39;t appear as intended anymore. Still not resolved :/","body":"@howlger That is true for fonts that doesn&#39;t support the characters. But here I use a font that support the character, so the characters appear properly with it&#39;s font style in the text editor. But when it comes to the console it doesn&#39;t appear as intended anymore. Still not resolved :/"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686049070,"post_id":76362570,"comment_id":134742801,"body_markdown":"I doubt that you use a font that supports the character `&#212;`. So please prove it. How does it look with the Source Code Pro font? As already proven, it cannot be a problem with the encoding of the source code as `\\u00d4` didn&#39;t show up correctly with the font you use either.","body":"I doubt that you use a font that supports the character <code>&#212;</code>. So please prove it. How does it look with the Source Code Pro font? As already proven, it cannot be a problem with the encoding of the source code as <code>\\u00d4</code> didn&#39;t show up correctly with the font you use either."},{"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"score":0,"creation_date":1686124792,"post_id":76362570,"comment_id":134754569,"body_markdown":"@howlger Just had a quick glance at the default Source Code Pro font and looks like it supports Vietnamese characters as I googled it. So here is how it looks with Source Code Pro font: https://imgur.com/a/wh5fzNB. You can clearly see that while the text editor rendered it properly, it&#39;s not the same for the console.","body":"@howlger Just had a quick glance at the default Source Code Pro font and looks like it supports Vietnamese characters as I googled it. So here is how it looks with Source Code Pro font: <a href=\"https://imgur.com/a/wh5fzNB\" rel=\"nofollow noreferrer\">imgur.com/a/wh5fzNB</a>. You can clearly see that while the text editor rendered it properly, it&#39;s not the same for the console."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686137003,"post_id":76362570,"comment_id":134757083,"body_markdown":"Okay, you are right, using the Source Code Pro font does not fix it. Could you please try a more up to date Java? You use Eclipse 2023-03, right? Keep in mind, UTF-8 by default (JEP 400) has been introduced in Java 18 and Eclipse also had to be adapted for JEP 400.","body":"Okay, you are right, using the Source Code Pro font does not fix it. Could you please try a more up to date Java? You use Eclipse 2023-03, right? Keep in mind, UTF-8 by default (JEP 400) has been introduced in Java 18 and Eclipse also had to be adapted for JEP 400."}],"owner":{"account_id":26112608,"reputation":1,"user_id":19806253,"display_name":"P. Hammer Nick"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685435802,"creation_date":1685432433,"question_id":76362570,"body_markdown":"I&#39;m trying to load a GitHub source code to my Eclipse but when I run it the output isn&#39;t as intended. What should I do to make the output appear normally?\r\n\r\n[Image][1]\r\n\r\n\r\nI have tried Window/Preference/General/Workspace, Window/Preference/General/Content Type and Edit/Set Encoding as well as reinstall Eclipse to try change the text encoding to UTF-8 but it still persists.\r\n\r\nI expected the output like this: [Intended result][2]\r\n\r\nThis is the Github project I&#39;m trying to run: https://github.com/vncorenlp/VnCoreNLP\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rK7cL.png\r\n  [2]: https://i.stack.imgur.com/n1c8x.png\r\n\r\nEdit: Thank you for the various ideas and solutions given to me, but the issues hasn&#39;t been resolved so this question is still open.","title":"Text encoding failed on Eclipse IDE","body":"<p>I'm trying to load a GitHub source code to my Eclipse but when I run it the output isn't as intended. What should I do to make the output appear normally?</p>\n<p><a href=\"https://i.stack.imgur.com/rK7cL.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I have tried Window/Preference/General/Workspace, Window/Preference/General/Content Type and Edit/Set Encoding as well as reinstall Eclipse to try change the text encoding to UTF-8 but it still persists.</p>\n<p>I expected the output like this: <a href=\"https://i.stack.imgur.com/n1c8x.png\" rel=\"nofollow noreferrer\">Intended result</a></p>\n<p>This is the Github project I'm trying to run: <a href=\"https://github.com/vncorenlp/VnCoreNLP\" rel=\"nofollow noreferrer\">https://github.com/vncorenlp/VnCoreNLP</a></p>\n<p>Edit: Thank you for the various ideas and solutions given to me, but the issues hasn't been resolved so this question is still open.</p>\n"},{"tags":["java","android","c++","cmake"],"comments":[{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1530041374,"post_id":51047978,"comment_id":89091322,"body_markdown":"How does this question differ from your [previous one](https://stackoverflow.com/questions/51030811/cmake-could-not-find-jni)?","body":"How does this question differ from your <a href=\"https://stackoverflow.com/questions/51030811/cmake-could-not-find-jni\">previous one</a>?"},{"owner":{"account_id":9764955,"reputation":340,"user_id":7238746,"display_name":"nalgenes"},"score":0,"creation_date":1530042061,"post_id":51047978,"comment_id":89091585,"body_markdown":"Becuase the last one was trying to compile a GitHub C++ repo which had a Java binding dependency and this one is just trying to figure out why CMake won&#39;t find JNI in Android Studio.","body":"Becuase the last one was trying to compile a GitHub C++ repo which had a Java binding dependency and this one is just trying to figure out why CMake won&#39;t find JNI in Android Studio."},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1530042396,"post_id":51047978,"comment_id":89091739,"body_markdown":"In the configuration output, `See also` message shouldn&#39;t break &quot;missing&quot; list of variables.","body":"In the configuration output, <code>See also</code> message shouldn&#39;t break &quot;missing&quot; list of variables."},{"owner":{"account_id":9764955,"reputation":340,"user_id":7238746,"display_name":"nalgenes"},"score":0,"creation_date":1530043246,"post_id":51047978,"comment_id":89092091,"body_markdown":"Sorry, I do not really understand your comment. What should not be breaking?","body":"Sorry, I do not really understand your comment. What should not be breaking?"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1530044170,"post_id":51047978,"comment_id":89092486,"body_markdown":"Lines `Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY`, `JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)` **compound single message**, so no &quot;See also &quot; line should come between them. Correct lines sequence can be observed in your previous(deleted) question.","body":"Lines <code>Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY</code>, <code>JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)</code> <b>compound single message</b>, so no &quot;See also &quot; line should come between them. Correct lines sequence can be observed in your previous(deleted) question."},{"owner":{"account_id":9764955,"reputation":340,"user_id":7238746,"display_name":"nalgenes"},"score":0,"creation_date":1530049022,"post_id":51047978,"comment_id":89094432,"body_markdown":"I just made a second edit where the output is consistent with the older one. I am not sure why it was different at first.","body":"I just made a second edit where the output is consistent with the older one. I am not sure why it was different at first."},{"owner":{"account_id":9764955,"reputation":340,"user_id":7238746,"display_name":"nalgenes"},"score":0,"creation_date":1530049092,"post_id":51047978,"comment_id":89094458,"body_markdown":"@Tsyvarev I also tried using the terminal in Android Studio to use cmake and it gives the same output as the cmd test. So I think the problem is somewhere in the linking of cmake and gradle, but I am not sure what the problem is.","body":"@Tsyvarev I also tried using the terminal in Android Studio to use cmake and it gives the same output as the cmd test. So I think the problem is somewhere in the linking of cmake and gradle, but I am not sure what the problem is."},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1599790970,"post_id":51047978,"comment_id":112889907,"body_markdown":"This problem appears when you use headless jdk","body":"This problem appears when you use headless jdk"}],"answers":[{"tags":[],"owner":{"account_id":2071881,"reputation":891,"user_id":1846177,"display_name":"psyill"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1533808963,"creation_date":1533808963,"answer_id":51764145,"question_id":51047978,"body_markdown":"As the CMake version bundled with Android tries to tell you, it can&#39;t find the JNI package because some parts were missing:\r\n&lt;pre&gt;missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH&lt;/pre&gt;\r\nChecking the documentation for FindJNI (https://cmake.org/cmake/help/latest/module/FindJNI.html) these variables are set to the locations of libraries and headers not shipped with the Android version of JNI (to little surprise, Android does not included the AWT library for instance).\r\nWhen running &lt;code&gt;find_package(JNI REQUIRED)&lt;/code&gt;, the FindJNI code checks if these variables are set and if not, issues an error.\r\n\r\nA workaround is to set these variables yourself, before calling &lt;code&gt;find_package&lt;/code&gt;:\r\n&lt;pre&gt;&lt;code&gt;# We are only interested in finding jni.h: we do not care about extended JVM\r\n# functionality or the AWT library.\r\nset(JAVA_AWT_LIBRARY NotNeeded)\r\nset(JAVA_JVM_LIBRARY NotNeeded)\r\nset(JAVA_INCLUDE_PATH2 NotNeeded)\r\nset(JAVA_AWT_INCLUDE_PATH NotNeeded)\r\nfind_package(JNI REQUIRED)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nBe aware though, that your code will only be able to use *jni.h* and its functionality: if it tries to access any other part of the JNI package it will fail (probably at compile time) because essentially, you have tricked CMake into thinking that the entire package was found, when in reality only a part of it exists in the Android setup. ","title":"CMake could not find JNI","body":"<p>As the CMake version bundled with Android tries to tell you, it can't find the JNI package because some parts were missing:</p>\n\n<pre>missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH</pre>\n\n<p>Checking the documentation for FindJNI (<a href=\"https://cmake.org/cmake/help/latest/module/FindJNI.html\" rel=\"noreferrer\">https://cmake.org/cmake/help/latest/module/FindJNI.html</a>) these variables are set to the locations of libraries and headers not shipped with the Android version of JNI (to little surprise, Android does not included the AWT library for instance).\nWhen running <code>find_package(JNI REQUIRED)</code>, the FindJNI code checks if these variables are set and if not, issues an error.</p>\n\n<p>A workaround is to set these variables yourself, before calling <code>find_package</code>:</p>\n\n<pre><code># We are only interested in finding jni.h: we do not care about extended JVM\n# functionality or the AWT library.\nset(JAVA_AWT_LIBRARY NotNeeded)\nset(JAVA_JVM_LIBRARY NotNeeded)\nset(JAVA_INCLUDE_PATH2 NotNeeded)\nset(JAVA_AWT_INCLUDE_PATH NotNeeded)\nfind_package(JNI REQUIRED)\n</code></pre>\n\n<p>Be aware though, that your code will only be able to use <em>jni.h</em> and its functionality: if it tries to access any other part of the JNI package it will fail (probably at compile time) because essentially, you have tricked CMake into thinking that the entire package was found, when in reality only a part of it exists in the Android setup. </p>\n"},{"tags":[],"owner":{"account_id":3150116,"reputation":1700,"user_id":2663734,"display_name":"angelo.mastro"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1557842315,"creation_date":1557842315,"answer_id":56132225,"question_id":51047978,"body_markdown":"```\r\nCould NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\r\n```\r\nSolved with \r\n\r\n```\r\nsudo apt-get install -y openjdk-8-jdk\r\nsudo apt-get install -y default-jdk\r\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n```","title":"CMake could not find JNI","body":"<pre><code>Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\n</code></pre>\n\n<p>Solved with </p>\n\n<pre><code>sudo apt-get install -y openjdk-8-jdk\nsudo apt-get install -y default-jdk\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582216296,"creation_date":1582216296,"answer_id":60324573,"question_id":51047978,"body_markdown":"Same on alpine:edge docker image, fixed using:\r\n\r\n```dockerfile\r\nENV JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk\r\nRUN apk add --no-cache openjdk8\r\n```\r\n\r\nref: https://pkgs.alpinelinux.org/contents?branch=edge&amp;name=openjdk8&amp;arch=x86_64&amp;repo=community\r\n","title":"CMake could not find JNI","body":"<p>Same on alpine:edge docker image, fixed using:</p>\n\n<pre><code>ENV JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk\nRUN apk add --no-cache openjdk8\n</code></pre>\n\n<p>ref: <a href=\"https://pkgs.alpinelinux.org/contents?branch=edge&amp;name=openjdk8&amp;arch=x86_64&amp;repo=community\" rel=\"nofollow noreferrer\">https://pkgs.alpinelinux.org/contents?branch=edge&amp;name=openjdk8&amp;arch=x86_64&amp;repo=community</a></p>\n"},{"tags":[],"owner":{"account_id":14054581,"reputation":1285,"user_id":10152334,"display_name":"Bensuperpc"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1666894931,"creation_date":1630566798,"answer_id":69025703,"question_id":51047978,"body_markdown":"I found a solution that works for me:\r\n\r\n``` cmake\r\ncmake_minimum_required(VERSION 3.10)\r\nproject(&quot;ktaglib&quot;)\r\n\r\nset(JAVA_AWT_LIBRARY &quot;$ENV{JAVA_HOME}/lib/libjawt.so&quot;)\r\nset(JAVA_JVM_LIBRARY &quot;$ENV{JAVA_HOME}/lib/server/libjvm.so&quot;)\r\n\r\nset(JAVA_INCLUDE_PATH &quot;$ENV{JAVA_HOME}/include&quot;)\r\nset(JAVA_INCLUDE_PATH2 &quot;$ENV{JAVA_HOME}/include/linux&quot;)\r\nset(JAVA_AWT_INCLUDE_PATH &quot;$ENV{JAVA_HOME}/include&quot;)\r\n\r\nfind_package(JNI REQUIRED)\r\n```\r\n\r\nYou must set the environment variable `JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;` beforehand.\r\n\r\nMore info: https://github.com/dockcross/dockcross/issues/576","title":"CMake could not find JNI","body":"<p>I found a solution that works for me:</p>\n<pre><code>cmake_minimum_required(VERSION 3.10)\nproject(&quot;ktaglib&quot;)\n\nset(JAVA_AWT_LIBRARY &quot;$ENV{JAVA_HOME}/lib/libjawt.so&quot;)\nset(JAVA_JVM_LIBRARY &quot;$ENV{JAVA_HOME}/lib/server/libjvm.so&quot;)\n\nset(JAVA_INCLUDE_PATH &quot;$ENV{JAVA_HOME}/include&quot;)\nset(JAVA_INCLUDE_PATH2 &quot;$ENV{JAVA_HOME}/include/linux&quot;)\nset(JAVA_AWT_INCLUDE_PATH &quot;$ENV{JAVA_HOME}/include&quot;)\n\nfind_package(JNI REQUIRED)\n</code></pre>\n<p>You must set the environment variable <code>JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;</code> beforehand.</p>\n<p>More info: <a href=\"https://github.com/dockcross/dockcross/issues/576\" rel=\"nofollow noreferrer\">https://github.com/dockcross/dockcross/issues/576</a></p>\n"},{"tags":[],"owner":{"account_id":13109291,"reputation":2682,"user_id":9470914,"display_name":"UdaraWanasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685435582,"creation_date":1685435582,"answer_id":76362986,"question_id":51047978,"body_markdown":"The `FindJNI` module in CMake determines if Java is installed and where the include files and libraries are. \r\nSome features like AWT are not in the Jvm bundled with the Android.\r\nThe solution is to remove the `REQUIRED` argument and check if your variable is set.\r\n\r\n```\r\nfind_package(JNI)\r\nif (NOT JAVA_INCLUDE_PATH)\r\n    message(FATAL_ERROR &quot;Failed to find Java include path.&quot;)\r\nendif()\r\n```\r\n\r\nStarting with CMake `3.24` this is no longer an issue. The latest CMake version detects if the platform is Android and marks components not in Android as not required. So that you can use `find_library(JNI REQUIRED)` as usual, consider updating the CMake version to the latest to avoid this issue.","title":"CMake could not find JNI","body":"<p>The <code>FindJNI</code> module in CMake determines if Java is installed and where the include files and libraries are.\nSome features like AWT are not in the Jvm bundled with the Android.\nThe solution is to remove the <code>REQUIRED</code> argument and check if your variable is set.</p>\n<pre><code>find_package(JNI)\nif (NOT JAVA_INCLUDE_PATH)\n    message(FATAL_ERROR &quot;Failed to find Java include path.&quot;)\nendif()\n</code></pre>\n<p>Starting with CMake <code>3.24</code> this is no longer an issue. The latest CMake version detects if the platform is Android and marks components not in Android as not required. So that you can use <code>find_library(JNI REQUIRED)</code> as usual, consider updating the CMake version to the latest to avoid this issue.</p>\n"}],"owner":{"account_id":9764955,"reputation":340,"user_id":7238746,"display_name":"nalgenes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32987,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":56132225,"answer_count":5,"score":22,"last_activity_date":1685435582,"creation_date":1530031955,"question_id":51047978,"body_markdown":"I created a new Android Studio Project with C++ support and did not add anything to it. The project builds, compiles and runs with CMake. I then added the following two lines of code to `CMakeLists.txt` at the bottom of the file and I get a CMake build error.\r\n\r\n    find_package(Java COMPONENTS Development)       # Line 47\r\n    find_package(JNI REQUIRED)                      # Line 48\r\n\r\nAnd this is the error I get when building the project\r\n\r\n    -- Found Java: /usr/lib/jvm/java-10-oracle/bin/java (found version &quot;10.0.1&quot;) found components:  Development \r\n    -- Configuring incomplete, errors occurred!\r\n    CMake Error at /home/xxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:148 (message):\r\n      Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\r\n    See also &quot;/home/xxxxx/AndroidStudioProjects/MyApplication/app/.externalNativeBuild/cmake/release/x86_64/CMakeFiles/CMakeOutput.log&quot;.\r\n      JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)\r\n    Call Stack (most recent call first):\r\n      /home/xxxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:388 (_FPHSA_FAILURE_MESSAGE)\r\n      /home/xxxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindJNI.cmake:314 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)\r\n      CMakeLists.txt:48 (find_package)\r\n    External native generate JSON release: JSON generation completed with problems\r\n\r\nCMake runs when being called form the command line, but fails inside Android Studio for some reason and I am not sure why. \r\n\r\n**EDIT 1**\r\n\r\nHere is the [CMakeOutput.log][1] file \r\n\r\n\r\n  [1]: https://pastebin.com/vZXfkPya\r\n\r\n**EDIT 2**\r\n\r\nThis is all that is in `CMakeLists.txt` file. It compiles in cmd with the command cmake.\r\n\r\n    cmake_minimum_required(VERSION 3.4.1)\r\n    \r\n    find_package(Java COMPONENTS Development)\r\n    find_package(JNI REQUIRED)\r\n\r\nThis is the cmd output\r\n\r\n        E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\build&gt;cmake ..\r\n    -- Configuring done\r\n    -- Generating done\r\n    -- Build files have been written to: E:/Users/xxxxx/AndroidStudioProjects/MyApplication/app/build\r\n\r\nWhen I try to add it compile it in Android Studio using gradle I get the following error on Windows 10 pro 64 bit\r\n\r\n    Microsoft Windows [Version 10.0.17134.112]\r\n    (c) 2018 Microsoft Corporation. All rights reserved.\r\n    \r\n    E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication&gt;gradlew build --stacktrace\r\n    \r\n    &gt; Task :app:generateJsonModelDebug \r\n    External native generate JSON debug: starting JSON generation\r\n    External native generate JSON debug: using platform version 24 for ABI ARMEABI_V7A and min SDK version 24\r\n    External native generate JSON debug: noticing that build file &#39;E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\CMakeLists.txt&#39; is out of date with respect to E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.extern\r\n    alNativeBuild\\cmake\\debug\\armeabi-v7a\\android_gradle_build.json\r\n    External native generate JSON debug: rebuilding JSON E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a\\android_gradle_build.json due to:\r\n    External native generate JSON debug: - a dependent build file changed\r\n    External native generate JSON debug: keeping json folder &#39;E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a&#39; but regenerating project\r\n    External native generate JSON debug: executing cmake Executable : E:\\Android\\SDK\\cmake\\3.6.4111459\\bin\\cmake.exe\r\n    arguments :\r\n    -HE:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\r\n    -BE:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a\r\n    -DANDROID_ABI=armeabi-v7a\r\n    -DANDROID_PLATFORM=android-24\r\n    -DCMAKE_LIBRARY_OUTPUT_DIRECTORY=E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\build\\intermediates\\cmake\\debug\\obj\\armeabi-v7a\r\n    -DCMAKE_BUILD_TYPE=Debug\r\n    -DANDROID_NDK=E:\\Android\\SDK\\ndk-bundle\r\n    -DCMAKE_CXX_FLAGS=\r\n    -DCMAKE_TOOLCHAIN_FILE=E:\\Android\\SDK\\ndk-bundle\\build\\cmake\\android.toolchain.cmake\r\n    -DCMAKE_MAKE_PROGRAM=E:\\Android\\SDK\\cmake\\3.6.4111459\\bin\\ninja.exe\r\n    -GAndroid Gradle - Ninja\r\n    jvmArgs :\r\n    \r\n    \r\n    CMake Error at E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:148 (message):\r\n      Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\r\n      JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)\r\n    Call Stack (most recent call first):\r\n      E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:388 (_FPHSA_FAILURE_MESSAGE)\r\n      E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindJNI.cmake:314 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)\r\n      CMakeLists.txt:4 (find_package)\r\n    -- Configuring incomplete, errors occurred!\r\n    See also &quot;E:/Users/xxxxx/AndroidStudioProjects/MyApplication/app/.externalNativeBuild/cmake/debug/armeabi-v7a/CMakeFiles/CMakeOutput.log&quot;.\r\n\r\n","title":"CMake could not find JNI","body":"<p>I created a new Android Studio Project with C++ support and did not add anything to it. The project builds, compiles and runs with CMake. I then added the following two lines of code to <code>CMakeLists.txt</code> at the bottom of the file and I get a CMake build error.</p>\n\n<pre><code>find_package(Java COMPONENTS Development)       # Line 47\nfind_package(JNI REQUIRED)                      # Line 48\n</code></pre>\n\n<p>And this is the error I get when building the project</p>\n\n<pre><code>-- Found Java: /usr/lib/jvm/java-10-oracle/bin/java (found version \"10.0.1\") found components:  Development \n-- Configuring incomplete, errors occurred!\nCMake Error at /home/xxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:148 (message):\n  Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\nSee also \"/home/xxxxx/AndroidStudioProjects/MyApplication/app/.externalNativeBuild/cmake/release/x86_64/CMakeFiles/CMakeOutput.log\".\n  JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)\nCall Stack (most recent call first):\n  /home/xxxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:388 (_FPHSA_FAILURE_MESSAGE)\n  /home/xxxxxx/Android/Sdk/cmake/3.6.4111459/share/cmake-3.6/Modules/FindJNI.cmake:314 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)\n  CMakeLists.txt:48 (find_package)\nExternal native generate JSON release: JSON generation completed with problems\n</code></pre>\n\n<p>CMake runs when being called form the command line, but fails inside Android Studio for some reason and I am not sure why. </p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>Here is the <a href=\"https://pastebin.com/vZXfkPya\" rel=\"noreferrer\">CMakeOutput.log</a> file </p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>This is all that is in <code>CMakeLists.txt</code> file. It compiles in cmd with the command cmake.</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.4.1)\n\nfind_package(Java COMPONENTS Development)\nfind_package(JNI REQUIRED)\n</code></pre>\n\n<p>This is the cmd output</p>\n\n<pre><code>    E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\build&gt;cmake ..\n-- Configuring done\n-- Generating done\n-- Build files have been written to: E:/Users/xxxxx/AndroidStudioProjects/MyApplication/app/build\n</code></pre>\n\n<p>When I try to add it compile it in Android Studio using gradle I get the following error on Windows 10 pro 64 bit</p>\n\n<pre><code>Microsoft Windows [Version 10.0.17134.112]\n(c) 2018 Microsoft Corporation. All rights reserved.\n\nE:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication&gt;gradlew build --stacktrace\n\n&gt; Task :app:generateJsonModelDebug \nExternal native generate JSON debug: starting JSON generation\nExternal native generate JSON debug: using platform version 24 for ABI ARMEABI_V7A and min SDK version 24\nExternal native generate JSON debug: noticing that build file 'E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\CMakeLists.txt' is out of date with respect to E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.extern\nalNativeBuild\\cmake\\debug\\armeabi-v7a\\android_gradle_build.json\nExternal native generate JSON debug: rebuilding JSON E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a\\android_gradle_build.json due to:\nExternal native generate JSON debug: - a dependent build file changed\nExternal native generate JSON debug: keeping json folder 'E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a' but regenerating project\nExternal native generate JSON debug: executing cmake Executable : E:\\Android\\SDK\\cmake\\3.6.4111459\\bin\\cmake.exe\narguments :\n-HE:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\n-BE:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\.externalNativeBuild\\cmake\\debug\\armeabi-v7a\n-DANDROID_ABI=armeabi-v7a\n-DANDROID_PLATFORM=android-24\n-DCMAKE_LIBRARY_OUTPUT_DIRECTORY=E:\\Users\\xxxxx\\AndroidStudioProjects\\MyApplication\\app\\build\\intermediates\\cmake\\debug\\obj\\armeabi-v7a\n-DCMAKE_BUILD_TYPE=Debug\n-DANDROID_NDK=E:\\Android\\SDK\\ndk-bundle\n-DCMAKE_CXX_FLAGS=\n-DCMAKE_TOOLCHAIN_FILE=E:\\Android\\SDK\\ndk-bundle\\build\\cmake\\android.toolchain.cmake\n-DCMAKE_MAKE_PROGRAM=E:\\Android\\SDK\\cmake\\3.6.4111459\\bin\\ninja.exe\n-GAndroid Gradle - Ninja\njvmArgs :\n\n\nCMake Error at E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:148 (message):\n  Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY\n  JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)\nCall Stack (most recent call first):\n  E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindPackageHandleStandardArgs.cmake:388 (_FPHSA_FAILURE_MESSAGE)\n  E:/Android/SDK/cmake/3.6.4111459/share/cmake-3.6/Modules/FindJNI.cmake:314 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)\n  CMakeLists.txt:4 (find_package)\n-- Configuring incomplete, errors occurred!\nSee also \"E:/Users/xxxxx/AndroidStudioProjects/MyApplication/app/.externalNativeBuild/cmake/debug/armeabi-v7a/CMakeFiles/CMakeOutput.log\".\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":27361740,"reputation":21,"user_id":20869239,"display_name":"ashwini r"},"score":0,"creation_date":1687337064,"post_id":76362228,"comment_id":134921195,"body_markdown":"This is working after adding additional configuration , chrome.additional.capabilities={&quot;chromeOptions&quot;:{&quot;ags&quot;:[&quot;--remote-debugging-port=9222&quot;]}} .But with this config I m not able to run parallel and sequential, can someone help me","body":"This is working after adding additional configuration , chrome.additional.capabilities={&quot;chromeOptions&quot;:{&quot;ags&quot;:[&quot;--r&zwnj;&#8203;emote-debugging-port&zwnj;&#8203;=9222&quot;]}} .But with this config I m not able to run parallel and sequential, can someone help me"}],"owner":{"account_id":27361740,"reputation":21,"user_id":20869239,"display_name":"ashwini r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685435080,"creation_date":1685429428,"question_id":76362228,"body_markdown":"I am running simple java selenium script to open google.com in chrome browser.  \r\nVersion of selenium is 3.141.59 and chrome browser version is 113.0.5672.127\r\n\r\n**Here is the code:**\r\n\r\n```\r\npackage demo;\r\n\r\nimport org.openqa.selenium.WebDriver; \r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class TestChrome { \r\n  public static void main(String[] args) {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\browser \r\n    driver\\chromedriver.exe&quot;); \r\n    ChromeDriver driver =new ChromeDriver(); \r\n    String url =&quot;http://www.google.com&quot;; \r\n    driver.get(url); \r\n    System.out.println(driver.getTitle()); \r\n  } \r\n}\r\n```\r\n\r\n**Error:**\r\n\r\n```\r\nStarting ChromeDriver 113.0.5672.63 (0e1a4471d5ae5bf128b1bd8f4d627c8cbd55f70c-refs/branch-heads/5672@{#912}) on port 2106\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: DevToolsActivePort file doesn&#39;t exist\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:53&#39;\r\nSystem info: host: &#39;MAVCHN1121310&#39;, ip: &#39;192.168.0.202&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: driver.version: ChromeDriver\r\nremote stacktrace: Backtrace:\r\n\tGetHandleVerifier [0x00E48893+48451]\r\n\t(No symbol) [0x00DDB8A1]\r\n\t(No symbol) [0x00CE5058]\r\n\t(No symbol) [0x00D05304]\r\n\t(No symbol) [0x00D01951]\r\n\t(No symbol) [0x00D00019]\r\n\t(No symbol) [0x00D30798]\r\n\t(No symbol) [0x00D3047C]\r\n\t(No symbol) [0x00D2A0B6]\r\n\t(No symbol) [0x00D07E08]\r\n\t(No symbol) [0x00D08F2D]\r\n\tGetHandleVerifier [0x010A8E3A+2540266]\r\n\tGetHandleVerifier [0x010E8959+2801161]\r\n\tGetHandleVerifier [0x010E295C+2776588]\r\n\tGetHandleVerifier [0x00ED2280+612144]\r\n\t(No symbol) [0x00DE4F6C]\r\n\t(No symbol) [0x00DE11D8]\r\n\t(No symbol) [0x00DE12BB]\r\n\t(No symbol) [0x00DD4857]\r\n\tBaseThreadInitThunk [0x75FA00C9+25]\r\n\tRtlGetAppContainerNamedObjectPath [0x77307B4E+286]\r\n\tRtlGetAppContainerNamedObjectPath [0x77307B1E+238]\r\n\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat demo.TestChrome.main(TestChrome.java:26)\r\n```\r\n\r\nTried to use ChromeOptions with different arguments to overcome the error: \r\n\r\n```\r\nChromeOptions options=new ChromeOptions();  options.addArguments(&quot;--remote-allow-origins=*&quot;); options.addArguments(&quot;--headless&quot;);  options.addArguments(&quot;--no-sandbox&quot;); options.addArguments(&quot;--disable-dev-shm-usage&quot;);  ChromeDriver driver = new ChromeDriver(options); \r\n```\r\n\r\nNothing helped out.\r\n\r\nCan you please provide solutions.","title":"Chrome browser not launching with selenium 3.141.59 and chrome browser version 113.0.5672.127","body":"<p>I am running simple java selenium script to open google.com in chrome browser.<br />\nVersion of selenium is 3.141.59 and chrome browser version is 113.0.5672.127</p>\n<p><strong>Here is the code:</strong></p>\n<pre><code>package demo;\n\nimport org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class TestChrome { \n  public static void main(String[] args) {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\browser \n    driver\\chromedriver.exe&quot;); \n    ChromeDriver driver =new ChromeDriver(); \n    String url =&quot;http://www.google.com&quot;; \n    driver.get(url); \n    System.out.println(driver.getTitle()); \n  } \n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>Starting ChromeDriver 113.0.5672.63 (0e1a4471d5ae5bf128b1bd8f4d627c8cbd55f70c-refs/branch-heads/5672@{#912}) on port 2106\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: DevToolsActivePort file doesn't exist\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53'\nSystem info: host: 'MAVCHN1121310', ip: '192.168.0.202', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.7'\nDriver info: driver.version: ChromeDriver\nremote stacktrace: Backtrace:\n    GetHandleVerifier [0x00E48893+48451]\n    (No symbol) [0x00DDB8A1]\n    (No symbol) [0x00CE5058]\n    (No symbol) [0x00D05304]\n    (No symbol) [0x00D01951]\n    (No symbol) [0x00D00019]\n    (No symbol) [0x00D30798]\n    (No symbol) [0x00D3047C]\n    (No symbol) [0x00D2A0B6]\n    (No symbol) [0x00D07E08]\n    (No symbol) [0x00D08F2D]\n    GetHandleVerifier [0x010A8E3A+2540266]\n    GetHandleVerifier [0x010E8959+2801161]\n    GetHandleVerifier [0x010E295C+2776588]\n    GetHandleVerifier [0x00ED2280+612144]\n    (No symbol) [0x00DE4F6C]\n    (No symbol) [0x00DE11D8]\n    (No symbol) [0x00DE12BB]\n    (No symbol) [0x00DD4857]\n    BaseThreadInitThunk [0x75FA00C9+25]\n    RtlGetAppContainerNamedObjectPath [0x77307B4E+286]\n    RtlGetAppContainerNamedObjectPath [0x77307B1E+238]\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at demo.TestChrome.main(TestChrome.java:26)\n</code></pre>\n<p>Tried to use ChromeOptions with different arguments to overcome the error:</p>\n<pre><code>ChromeOptions options=new ChromeOptions();  options.addArguments(&quot;--remote-allow-origins=*&quot;); options.addArguments(&quot;--headless&quot;);  options.addArguments(&quot;--no-sandbox&quot;); options.addArguments(&quot;--disable-dev-shm-usage&quot;);  ChromeDriver driver = new ChromeDriver(options); \n</code></pre>\n<p>Nothing helped out.</p>\n<p>Can you please provide solutions.</p>\n"},{"tags":["java","aws-lambda"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1655451209,"post_id":72655673,"comment_id":128339981,"body_markdown":"would using Lambda Layers help?https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html","body":"would using Lambda Layers help?<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/configuration-laye&zwnj;&#8203;rs.html</a>"},{"owner":{"account_id":4522145,"reputation":129,"user_id":3674993,"accept_rate":67,"display_name":"user3674993"},"score":1,"creation_date":1657684391,"post_id":72655673,"comment_id":128866537,"body_markdown":"Layering has helped quite a lot to reduce JAR size. Lambda execution time is much faster now, the slowness was due to cold starts from the looks of it. Thank you","body":"Layering has helped quite a lot to reduce JAR size. Lambda execution time is much faster now, the slowness was due to cold starts from the looks of it. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655454949,"creation_date":1655454949,"answer_id":72656506,"question_id":72655673,"body_markdown":"I think you&#39;ve accidentally included three copies of the same dependency. You just want the latest 2.x.x version of the Kinesis library.\r\n\r\nYou certainly don&#39;t need a 1.x.x SDK and a 2.x.x SDK.","title":"AWS Java Lambda dependency JAR size management with Maven","body":"<p>I think you've accidentally included three copies of the same dependency. You just want the latest 2.x.x version of the Kinesis library.</p>\n<p>You certainly don't need a 1.x.x SDK and a 2.x.x SDK.</p>\n"},{"tags":[],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667731463,"creation_date":1667474712,"answer_id":74302288,"question_id":72655673,"body_markdown":"This [article][1] does not reduce the size of your Lambda (which I am also struggling with), but it helps with cold starts without any code changes.\r\nIn their example it changed the start time from about 5 seconds to 2 seconds. It worked for me.\r\n\r\nSimply add an lambda environment variable:\r\n\r\n    Key: JAVA_TOOL_OPTIONS\r\n    Value: -XX:+TieredCompilation -XX:TieredStopAtLevel=1\r\n\r\nThere is also an [article][2] that describes how to remove Netty and Apache clients in favour of the built in JDK client. This reduces the size.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse the UrlConnectionHttpClient which wraps Java&#39;s HTTP client.\r\n\r\n    S3Client client = S3Client.builder()\r\n           .region(Region.US_WEST_2)\r\n           .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n           .httpClient(UrlConnectionHttpClient.builder().build())\r\n           .build();\r\n\r\nFinally you can use [Jackson-jr][3] which is a +- 100kb version of Jackson. \r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/lambda-optimize-starttime.html\r\n  [3]: https://github.com/FasterXML/jackson-jr","title":"AWS Java Lambda dependency JAR size management with Maven","body":"<p>This <a href=\"https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/\" rel=\"nofollow noreferrer\">article</a> does not reduce the size of your Lambda (which I am also struggling with), but it helps with cold starts without any code changes.\nIn their example it changed the start time from about 5 seconds to 2 seconds. It worked for me.</p>\n<p>Simply add an lambda environment variable:</p>\n<pre><code>Key: JAVA_TOOL_OPTIONS\nValue: -XX:+TieredCompilation -XX:TieredStopAtLevel=1\n</code></pre>\n<p>There is also an <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/lambda-optimize-starttime.html\" rel=\"nofollow noreferrer\">article</a> that describes how to remove Netty and Apache clients in favour of the built in JDK client. This reduces the size.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;s3&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use the UrlConnectionHttpClient which wraps Java's HTTP client.</p>\n<pre><code>S3Client client = S3Client.builder()\n       .region(Region.US_WEST_2)\n       .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n       .httpClient(UrlConnectionHttpClient.builder().build())\n       .build();\n</code></pre>\n<p>Finally you can use <a href=\"https://github.com/FasterXML/jackson-jr\" rel=\"nofollow noreferrer\">Jackson-jr</a> which is a +- 100kb version of Jackson.</p>\n"},{"tags":[],"owner":{"account_id":26159163,"reputation":81,"user_id":19845996,"display_name":"The_Real_Epk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685435054,"creation_date":1685434174,"answer_id":76362816,"question_id":72655673,"body_markdown":"You should be able to solve the issue of cold starts with the new [SnapStart](https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html) feature for AWS lambda written in Java. It basically creates a snapshot of the container used to spin up your java lambda after the initialization/first cold start and saves it. Next time you invoke the lambda it will &#39;restore&#39; the snapshot which typically takes a few hundred milliseconds rather than start completely cold which takes seconds.\r\n\r\nIf you are using the AWS CDK then here is an example of how you can configure snapstart on a lambda behind an API gateway. Basically you need to create a new lambda version with alias and apply snapstart to the published versions of your lambda. \r\n\r\n```\r\npackage com.snapstart.example;\r\n\r\nimport software.amazon.awscdk.Stack;\r\nimport software.amazon.awscdk.StackProps;\r\nimport software.amazon.awscdk.services.apigateway.LambdaIntegration;\r\nimport software.amazon.awscdk.services.apigateway.RestApi;\r\nimport software.amazon.awscdk.services.lambda.Runtime;\r\nimport software.amazon.awscdk.services.lambda.*;\r\nimport software.constructs.Construct;\r\n\r\nimport java.util.Map;\r\n\r\n\r\npublic class MyStack extends Stack {\r\n    public MyStack(final Construct scope, final String id, final StackProps props) {\r\n        super(scope, id, props);\r\n   \r\n\r\nFunctionProps functionProps = FunctionProps.builder().\r\n\t\thandler(&quot;com.snapstart.example.MyHandler::handleRequest&quot;)\r\n\t\t.code(Code.fromAsset(&quot;../software/target/software-1.0-SNAPSHOT.jar&quot;))\r\n\t\t.runtime(Runtime.JAVA_11).build();\r\n\r\nFunction function = new Function(this, &quot;lambda-with-snapstart&quot;, functionProps);\r\n\r\n// configure SnapStart on published versions of this lambda.\r\n((CfnFunction) function.getNode().getDefaultChild())\r\n\t\t.addPropertyOverride(&quot;SnapStart&quot;, Map.of(&quot;ApplyOn&quot;, &quot;PublishedVersions&quot;));\r\n\r\n// create a new lambda version with alias.\r\nVersion lambdaVersion = Version.Builder.create(this, &quot;snapstart-lambda-version&quot;)\r\n\t\t.lambda(function).build();\r\n\r\nAlias alias = Alias.Builder.create(this, &quot;snapstart-lambda-alias&quot;)\r\n\t\t.aliasName(&quot;snapstart-alias-name&quot;).version(lambdaVersion).build();\r\n\r\n// Use the lambda alias when creating the lambda integration rather than the function its self.\r\nLambdaIntegration lambdaIntegration = LambdaIntegration.Builder.create(alias).build();\r\n\r\nRestApi api = RestApi.Builder.create(this, &quot;java-with-snapstart-api&quot;)\r\n\t\t.description(&quot;An API for testing java SnapStart.&quot;).build();\r\n\r\napi.getRoot().resourceForPath(&quot;mypath&quot;).addMethod(&quot;POST&quot;, lambdaIntegration);\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"AWS Java Lambda dependency JAR size management with Maven","body":"<p>You should be able to solve the issue of cold starts with the new <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\" rel=\"nofollow noreferrer\">SnapStart</a> feature for AWS lambda written in Java. It basically creates a snapshot of the container used to spin up your java lambda after the initialization/first cold start and saves it. Next time you invoke the lambda it will 'restore' the snapshot which typically takes a few hundred milliseconds rather than start completely cold which takes seconds.</p>\n<p>If you are using the AWS CDK then here is an example of how you can configure snapstart on a lambda behind an API gateway. Basically you need to create a new lambda version with alias and apply snapstart to the published versions of your lambda.</p>\n<pre><code>package com.snapstart.example;\n\nimport software.amazon.awscdk.Stack;\nimport software.amazon.awscdk.StackProps;\nimport software.amazon.awscdk.services.apigateway.LambdaIntegration;\nimport software.amazon.awscdk.services.apigateway.RestApi;\nimport software.amazon.awscdk.services.lambda.Runtime;\nimport software.amazon.awscdk.services.lambda.*;\nimport software.constructs.Construct;\n\nimport java.util.Map;\n\n\npublic class MyStack extends Stack {\n    public MyStack(final Construct scope, final String id, final StackProps props) {\n        super(scope, id, props);\n   \n\nFunctionProps functionProps = FunctionProps.builder().\n        handler(&quot;com.snapstart.example.MyHandler::handleRequest&quot;)\n        .code(Code.fromAsset(&quot;../software/target/software-1.0-SNAPSHOT.jar&quot;))\n        .runtime(Runtime.JAVA_11).build();\n\nFunction function = new Function(this, &quot;lambda-with-snapstart&quot;, functionProps);\n\n// configure SnapStart on published versions of this lambda.\n((CfnFunction) function.getNode().getDefaultChild())\n        .addPropertyOverride(&quot;SnapStart&quot;, Map.of(&quot;ApplyOn&quot;, &quot;PublishedVersions&quot;));\n\n// create a new lambda version with alias.\nVersion lambdaVersion = Version.Builder.create(this, &quot;snapstart-lambda-version&quot;)\n        .lambda(function).build();\n\nAlias alias = Alias.Builder.create(this, &quot;snapstart-lambda-alias&quot;)\n        .aliasName(&quot;snapstart-alias-name&quot;).version(lambdaVersion).build();\n\n// Use the lambda alias when creating the lambda integration rather than the function its self.\nLambdaIntegration lambdaIntegration = LambdaIntegration.Builder.create(alias).build();\n\nRestApi api = RestApi.Builder.create(this, &quot;java-with-snapstart-api&quot;)\n        .description(&quot;An API for testing java SnapStart.&quot;).build();\n\napi.getRoot().resourceForPath(&quot;mypath&quot;).addMethod(&quot;POST&quot;, lambdaIntegration);\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":4522145,"reputation":129,"user_id":3674993,"accept_rate":67,"display_name":"user3674993"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1685435054,"creation_date":1655450498,"question_id":72655673,"body_markdown":"I have a Lambda function that takes around ~10 seconds to start up using Java-11. I did some googling and came across a number of posts that suggest that lowering the JAR size of the package may help with quicker start times (less redundant libraries loaded etc...).\r\n\r\nI also read in some posts that using below may help and tried to add \r\n\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n\r\nin the AWS related dependencies thinking that well...AWS Lambda would have AWS specific libraries present? Turns out that is not the case! adding scope provided does not work when trying to execute the function.\r\n\r\nMy current `pom.xml` is as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;REMOVED&lt;/groupId&gt;\r\n    &lt;artifactId&gt;REMOVED&lt;/artifactId&gt;\r\n    &lt;version&gt;REMOVED&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;30.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220320&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n\r\n        &lt;/dependency&gt;&lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-kinesis&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.228&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- &lt;dependency&gt;&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;&lt;artifactId&gt;firehose&lt;/artifactId&gt;&lt;version&gt;2.17.198&lt;/version&gt;&lt;/dependency&gt; --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/kinesis --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kinesis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.201&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/secretsmanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.204&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAWS Kinesis usage is just to create the KinesisClient and use PutRecordRequest and PutRecordResponse, with AWS Secret Manager , just to access specific secrets.\r\n\r\nI am not that versed in AWS API, from my understanding I am already including a limited amount of libraries required to perform those tasks based on the dependencies.\r\n\r\nThe JAR file is about 65 MB large. Would I be able to optimise dependency loads further? And I guess would lowering the JAR file increase start up time of the Lambda function?\r\n\r\nThank you,","title":"AWS Java Lambda dependency JAR size management with Maven","body":"<p>I have a Lambda function that takes around ~10 seconds to start up using Java-11. I did some googling and came across a number of posts that suggest that lowering the JAR size of the package may help with quicker start times (less redundant libraries loaded etc...).</p>\n<p>I also read in some posts that using below may help and tried to add</p>\n<pre><code>&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n<p>in the AWS related dependencies thinking that well...AWS Lambda would have AWS specific libraries present? Turns out that is not the case! adding scope provided does not work when trying to execute the function.</p>\n<p>My current <code>pom.xml</code> is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;REMOVED&lt;/groupId&gt;\n    &lt;artifactId&gt;REMOVED&lt;/artifactId&gt;\n    &lt;version&gt;REMOVED&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;30.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220320&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n\n        &lt;/dependency&gt;&lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-kinesis&lt;/artifactId&gt;\n        &lt;version&gt;1.12.228&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;&lt;artifactId&gt;firehose&lt;/artifactId&gt;&lt;version&gt;2.17.198&lt;/version&gt;&lt;/dependency&gt; --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/kinesis --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;kinesis&lt;/artifactId&gt;\n            &lt;version&gt;2.17.201&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/secretsmanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.17.204&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>AWS Kinesis usage is just to create the KinesisClient and use PutRecordRequest and PutRecordResponse, with AWS Secret Manager , just to access specific secrets.</p>\n<p>I am not that versed in AWS API, from my understanding I am already including a limited amount of libraries required to perform those tasks based on the dependencies.</p>\n<p>The JAR file is about 65 MB large. Would I be able to optimise dependency loads further? And I guess would lowering the JAR file increase start up time of the Lambda function?</p>\n<p>Thank you,</p>\n"},{"tags":["java","swing","nullpointerexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685430052,"post_id":76362288,"comment_id":134654413,"body_markdown":"does the file exist? does it exist where you think it exists? Where do you think that path will look for a file?","body":"does the file exist? does it exist where you think it exists? Where do you think that path will look for a file?"},{"owner":{"account_id":28707713,"reputation":1,"user_id":21983748,"display_name":"Sakshi"},"score":0,"creation_date":1685430234,"post_id":76362288,"comment_id":134654443,"body_markdown":"couldn&#39;t understand you","body":"couldn&#39;t understand you"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685430431,"post_id":76362288,"comment_id":134654485,"body_markdown":"most likely it&#39;s not looking in the directory you think it&#39;s looking","body":"most likely it&#39;s not looking in the directory you think it&#39;s looking"},{"owner":{"account_id":28707713,"reputation":1,"user_id":21983748,"display_name":"Sakshi"},"score":0,"creation_date":1685430580,"post_id":76362288,"comment_id":134654524,"body_markdown":"Please tell me a way to fix it","body":"Please tell me a way to fix it"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685430594,"post_id":76362288,"comment_id":134654527,"body_markdown":"put the file in the right directory","body":"put the file in the right directory"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685430677,"post_id":76362288,"comment_id":134654543,"body_markdown":"The error says `location` is `null`, but your code does not contain a variable or field named `location`. Please show the full error including the stack trace.","body":"The error says <code>location</code> is <code>null</code>, but your code does not contain a variable or field named <code>location</code>. Please show the full error including the stack trace."},{"owner":{"account_id":28707713,"reputation":1,"user_id":21983748,"display_name":"Sakshi"},"score":0,"creation_date":1685430816,"post_id":76362288,"comment_id":134654568,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:234)\n\tat HotelManagementSystem/HotelManagement.HotelManagementSystem.&lt;init&gt;(HotelManagementSystem.java:10)\n\tat HotelManagementSystem/HotelManagement.HotelManagementSystem.main(HotelManagementSystem.java:20)","body":"Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null \tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:234&zwnj;&#8203;) \tat HotelManagementSystem/HotelManagement.HotelManagementSystem.&zwnj;&#8203;&lt;init&gt;(HotelManageme&zwnj;&#8203;ntSystem.java:10) \tat HotelManagementSystem/HotelManagement.HotelManagementSystem.&zwnj;&#8203;main(HotelManagement&zwnj;&#8203;System.java:20)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685431260,"post_id":76362288,"comment_id":134654666,"body_markdown":"This `new ImageIcon(ClassLoader.getSystemResource(&quot;icons/hotel.jpg&quot;))` will be looking for the `hotel.jpg` in the `HotelManagement` package.  Depending on your IDE and build system will, however, change where you need to store it in order for it to be picked up","body":"This <code>new ImageIcon(ClassLoader.getSystemResource(&quot;icons&#47;hotel.jpg&quot;))</code> will be looking for the <code>hotel.jpg</code> in the <code>HotelManagement</code> package.  Depending on your IDE and build system will, however, change where you need to store it in order for it to be picked up"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685434522,"post_id":76362288,"comment_id":134655389,"body_markdown":"Your file is not a &quot;system resource&quot;.","body":"Your file is not a &quot;system resource&quot;."}],"answers":[{"tags":[],"owner":{"account_id":28171040,"reputation":5,"user_id":21529605,"display_name":"Harry"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1685430595,"creation_date":1685430595,"answer_id":76362366,"question_id":76362288,"body_markdown":"I guess that the problem exists in setLocation(100,100), which isn&#39;t\r\ndisplayed. If you show the code for that method, maybe we can help.\r\n\r\nAs Stultuske wrote, you can often suspect that a file is missing or\r\nis in the wrong place...","title":"I keep getting &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null.&quot;","body":"<p>I guess that the problem exists in setLocation(100,100), which isn't\ndisplayed. If you show the code for that method, maybe we can help.</p>\n<p>As Stultuske wrote, you can often suspect that a file is missing or\nis in the wrong place...</p>\n"}],"owner":{"account_id":28707713,"reputation":1,"user_id":21983748,"display_name":"Sakshi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685434606,"answer_count":1,"score":-1,"last_activity_date":1685434488,"creation_date":1685429945,"question_id":76362288,"body_markdown":"```\r\npackage HotelManagement;\r\n\r\nimport javax.swing.*; \r\n\r\npublic class HotelManagementSystem extends JFrame{\r\n\tHotelManagementSystem(){\r\n\t\tsetSize(1366,768);\r\n\t\tsetLocation(100,100);\r\n\t    ImageIcon i1 = new ImageIcon(ClassLoader.getSystemResource(&quot;icons/hotel.jpg&quot;));\r\n\t\tJLabel image = new JLabel(i1);\r\n\t\tadd(image);\r\n\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew HotelManagementSystem();\t\t\r\n\t}\r\n\r\n}\r\n```\r\nerror:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null.\r\n\r\nThis is my code and I have icons folder which contains hotel.jpg in src folder of the project in eclipse. I tried using &quot;System.getProperty(&quot;user.dir&quot;)&quot; and also tried using &quot;./icons/hotel&quot; and \r\n&quot;(System.getProperty(&quot;user.dir&quot;)+ &quot;.\\\\icons\\\\hotel.jpg&quot;)&quot; and everything I found on internet.","title":"I keep getting &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null.&quot;","body":"<pre><code>package HotelManagement;\n\nimport javax.swing.*; \n\npublic class HotelManagementSystem extends JFrame{\n    HotelManagementSystem(){\n        setSize(1366,768);\n        setLocation(100,100);\n        ImageIcon i1 = new ImageIcon(ClassLoader.getSystemResource(&quot;icons/hotel.jpg&quot;));\n        JLabel image = new JLabel(i1);\n        add(image);\n\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new HotelManagementSystem();        \n    }\n\n}\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null.</p>\n</blockquote>\n<p>This is my code and I have icons folder which contains hotel.jpg in src folder of the project in eclipse. I tried using &quot;System.getProperty(&quot;user.dir&quot;)&quot; and also tried using &quot;./icons/hotel&quot; and\n&quot;(System.getProperty(&quot;user.dir&quot;)+ &quot;.\\icons\\hotel.jpg&quot;)&quot; and everything I found on internet.</p>\n"},{"tags":["java","selenium-webdriver","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685454891,"post_id":76362832,"comment_id":134660072,"body_markdown":"It looks like `driver` is `null` when `new DiscoverObjects(driver)` is called.  The initialization  of `Test` (and of `ds`) happens before `setup()` is called.","body":"It looks like <code>driver</code> is <code>null</code> when <code>new DiscoverObjects(driver)</code> is called.  The initialization  of <code>Test</code> (and of <code>ds</code>) happens before <code>setup()</code> is called."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685523759,"post_id":76362832,"comment_id":134670763,"body_markdown":"Initialize `ds` in the `setup()` method ... AFTER you have created the driver and loaded the page whose objects you want to discover.","body":"Initialize <code>ds</code> in the <code>setup()</code> method ... AFTER you have created the driver and loaded the page whose objects you want to discover."}],"owner":{"account_id":20390648,"reputation":3,"user_id":14958659,"display_name":"Asad Atiq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685435065,"answer_count":0,"score":0,"last_activity_date":1685434358,"creation_date":1685434249,"question_id":76362832,"body_markdown":"I am getting `NullPointerException` for the above code. I am not able to understand where it is passing a null value. \r\n\r\nError:\r\n````\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n at com.example.PageObjects.DiscoverObjects.Splash_nextt(DiscoverObjects.java:60)\r\n at com.example.TestCases.Test.verify_open_application_land_on_disocver_tab(Test.java:37)\r\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n````\r\nCode:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHTsg.png","title":"Why am I getting null pointer exception in selenium webdriver?","body":"<p>I am getting <code>NullPointerException</code> for the above code. I am not able to understand where it is passing a null value.</p>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\n at com.example.PageObjects.DiscoverObjects.Splash_nextt(DiscoverObjects.java:60)\n at com.example.TestCases.Test.verify_open_application_land_on_disocver_tab(Test.java:37)\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>Code:\n<img src=\"https://i.stack.imgur.com/rHTsg.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","android-studio","android-emulator","boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671029273,"post_id":74798445,"comment_id":132009395,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671454168,"post_id":74798445,"comment_id":132095701,"body_markdown":"it will help to you:   https://stackoverflow.com/questions/32011025/cant-install-intel-haxm-for-android-studio-error-x86-emulation-currently-requi","body":"it will help to you:   <a href=\"https://stackoverflow.com/questions/32011025/cant-install-intel-haxm-for-android-studio-error-x86-emulation-currently-requi\" title=\"cant install intel haxm for android studio error x86 emulation currently requi\">stackoverflow.com/questions/32011025/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28708146,"reputation":11,"user_id":21984110,"display_name":"Lynne Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685434323,"creation_date":1685433209,"answer_id":76362686,"question_id":74798445,"body_markdown":"I have the same issue like you and I try to do the steps below and it helped me.\r\n\r\n1. Go to Turn Windows features on or off. Default, my laptop untick on Hyper-V.\r\n2. Tick on Hyper-V, click Ok. Then restart computer.\r\n3. Go to android studio and run app. It&#39;s ok for me!\r\n\r\nI hope this will help you.\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ipfXx.png","title":"How to update intel HAXM in android studio?","body":"<p>I have the same issue like you and I try to do the steps below and it helped me.</p>\n<ol>\n<li>Go to Turn Windows features on or off. Default, my laptop untick on Hyper-V.</li>\n<li>Tick on Hyper-V, click Ok. Then restart computer.</li>\n<li>Go to android studio and run app. It's ok for me!</li>\n</ol>\n<p>I hope this will help you.\n<a href=\"https://i.stack.imgur.com/ipfXx.png\" rel=\"nofollow noreferrer\">image</a></p>\n"}],"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685434323,"creation_date":1671021502,"question_id":74798445,"body_markdown":"I am trying to update intel HAXM x86 in my android studio because my emulator is running slow and stuck on booting screen (Google logo screen) and I think the version of HAXM is causing the problem, I have tried updating from SDK Manager but it is showing me version 7.6.5 but I searched on internet the latest version is 7.8.0 but I am unable to update it to latest version but I have already installed the latest version directly on windows outside of android studio, so if anyone know how to update and why my emulator is stuck on booting screen, Please help \r\n\r\nPlease help me solve this issue I am literally getting frustrated because of my emulator is stuck on booting screen and I am unable to code because of that.","title":"How to update intel HAXM in android studio?","body":"<p>I am trying to update intel HAXM x86 in my android studio because my emulator is running slow and stuck on booting screen (Google logo screen) and I think the version of HAXM is causing the problem, I have tried updating from SDK Manager but it is showing me version 7.6.5 but I searched on internet the latest version is 7.8.0 but I am unable to update it to latest version but I have already installed the latest version directly on windows outside of android studio, so if anyone know how to update and why my emulator is stuck on booting screen, Please help</p>\n<p>Please help me solve this issue I am literally getting frustrated because of my emulator is stuck on booting screen and I am unable to code because of that.</p>\n"},{"tags":["java","postgresql","jdbc","postgresql-9.5"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1685385165,"post_id":76359611,"comment_id":134649710,"body_markdown":"Please [reconsider your use of JDBC on Android](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android).","body":"Please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android\">reconsider your use of JDBC on Android</a>."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1685388418,"post_id":76359611,"comment_id":134650118,"body_markdown":"Are you actually developing for Android?  Or is that a bad tag and you&#39;re on your local machine?  A `main` like you have will not work on Android and certainly not to `localhost`.","body":"Are you actually developing for Android?  Or is that a bad tag and you&#39;re on your local machine?  A <code>main</code> like you have will not work on Android and certainly not to <code>localhost</code>."}],"answers":[{"tags":[],"owner":{"account_id":1448543,"reputation":24,"user_id":10291924,"display_name":"jalfonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685434296,"creation_date":1685392871,"answer_id":76360229,"question_id":76359611,"body_markdown":"If your project is a maven project you should add the driver to your pom.xml like this:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n        \r\nProbably should be helpful if you post your project structure.","title":"How to fix &#39;no suitable driver found&#39; error when connecting to a PostgreSQL database with Java and JDBC?","body":"<p>If your project is a maven project you should add the driver to your pom.xml like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Probably should be helpful if you post your project structure.</p>\n"}],"owner":{"account_id":16745022,"reputation":9,"user_id":12399561,"display_name":"Mikhail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685434253,"answer_count":1,"score":-1,"last_activity_date":1685434296,"creation_date":1685384907,"question_id":76359611,"body_markdown":"I&#39;m trying to connect to my postgresql database on my localhost with Java and JDBC. But getting error that is no suitable driver found for this. I successfully connected to the database in the IntelliJ IDEA through in the &quot;Database&quot; tab, but I cannot connect in the code. \r\n\r\nThis is my Main.java: \r\n\r\n    package org.example;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class Main {\r\n    \r\n        public static final String url=&quot;jdbc:postgresql://localhost:1234/testDatabase&quot;;\r\n        public static final String user=&quot;postgres&quot;;\r\n        public static final String password=&quot;1234maev&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            Connection connection = null;\r\n    \r\n            try {\r\n                connection = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve JDK version 1.8 and downloaded the .jar file with the postgresql JDBC driver version 42.6.0, included it in the libraries and in the modules (screenshots below). \r\n[![Screenshot from &quot;Modules&quot; tab](https://i.stack.imgur.com/Dc91H.png)](https://i.stack.imgur.com/Dc91H.png)\r\n[![Screenshot from &quot;Libraries&quot; tab](https://i.stack.imgur.com/U3KRL.png)](https://i.stack.imgur.com/U3KRL.png)\r\n\r\nHow can I fix it? \r\n\r\nI expected that my java app will connect to the database. I tried to add driver again, but it didn&#39;t work. Connection through the &quot;Databases&quot; tab in IntelliJ IDEA with host, port, user and password worked fine. ","title":"How to fix &#39;no suitable driver found&#39; error when connecting to a PostgreSQL database with Java and JDBC?","body":"<p>I'm trying to connect to my postgresql database on my localhost with Java and JDBC. But getting error that is no suitable driver found for this. I successfully connected to the database in the IntelliJ IDEA through in the &quot;Database&quot; tab, but I cannot connect in the code.</p>\n<p>This is my Main.java:</p>\n<pre><code>package org.example;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class Main {\n\n    public static final String url=&quot;jdbc:postgresql://localhost:1234/testDatabase&quot;;\n    public static final String user=&quot;postgres&quot;;\n    public static final String password=&quot;1234maev&quot;;\n\n    public static void main(String[] args) {\n        Connection connection = null;\n\n        try {\n            connection = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>I've JDK version 1.8 and downloaded the .jar file with the postgresql JDBC driver version 42.6.0, included it in the libraries and in the modules (screenshots below).\n<a href=\"https://i.stack.imgur.com/Dc91H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dc91H.png\" alt=\"Screenshot from &quot;Modules&quot; tab\" /></a>\n<a href=\"https://i.stack.imgur.com/U3KRL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3KRL.png\" alt=\"Screenshot from &quot;Libraries&quot; tab\" /></a></p>\n<p>How can I fix it?</p>\n<p>I expected that my java app will connect to the database. I tried to add driver again, but it didn't work. Connection through the &quot;Databases&quot; tab in IntelliJ IDEA with host, port, user and password worked fine.</p>\n"},{"tags":["java","reference"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1348489826,"creation_date":1348489826,"answer_id":12565075,"question_id":12565037,"body_markdown":"Yes, a reference is basically the same thing as a pointer. By the way, if you call a method  on a null reference, you get... a NullPointerException.\r\n\r\nNote that it doesn&#39;t have to be a memory address, though. A given object can be stored elsewhere during a program execution, and still keep the same reference. But you don&#39;t need to care, as pointer arithmetic doesn&#39;t exist in Java.","title":"What exactly is a reference in Java?","body":"<p>Yes, a reference is basically the same thing as a pointer. By the way, if you call a method  on a null reference, you get... a NullPointerException.</p>\n\n<p>Note that it doesn't have to be a memory address, though. A given object can be stored elsewhere during a program execution, and still keep the same reference. But you don't need to care, as pointer arithmetic doesn't exist in Java.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1348491726,"creation_date":1348489835,"answer_id":12565077,"question_id":12565037,"body_markdown":"`o1 == o2` is pretty much equivalent to comparing two pointers in C/C++, yes.\r\n\r\nBut there are a two main differences between references in Java and pointers in C/C++ that are quite important:\r\n\r\n- Java references can&#39;t do pointer arithmetic: you can&#39;t &quot;add 3&quot; to a reference, you can *only* let it point to another (known) object\r\n- Java references are stongly typed: you can&#39;t &quot;reinterpret&quot; what lies on the other end of a reference *unless* you reinterpret it as a type that *that object actually is*.\r\n\r\nAlso a short note about the word &quot;reference&quot;: C++ has references that act quite differently from both pointers in C and references in Java (but I don&#39;t know enough about C++ to tell you the specifics).\r\n\r\nFor a thorough discussion of this, see [this related question on programmers.SE][1].\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/141834/how-is-a-java-reference-different-from-a-c-pointer","title":"What exactly is a reference in Java?","body":"<p><code>o1 == o2</code> is pretty much equivalent to comparing two pointers in C/C++, yes.</p>\n\n<p>But there are a two main differences between references in Java and pointers in C/C++ that are quite important:</p>\n\n<ul>\n<li>Java references can't do pointer arithmetic: you can't \"add 3\" to a reference, you can <em>only</em> let it point to another (known) object</li>\n<li>Java references are stongly typed: you can't \"reinterpret\" what lies on the other end of a reference <em>unless</em> you reinterpret it as a type that <em>that object actually is</em>.</li>\n</ul>\n\n<p>Also a short note about the word \"reference\": C++ has references that act quite differently from both pointers in C and references in Java (but I don't know enough about C++ to tell you the specifics).</p>\n\n<p>For a thorough discussion of this, see <a href=\"https://softwareengineering.stackexchange.com/questions/141834/how-is-a-java-reference-different-from-a-c-pointer\">this related question on programmers.SE</a>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685433944,"creation_date":1348489916,"answer_id":12565100,"question_id":12565037,"body_markdown":"&gt; What exactly is a reference in Java? \r\n\r\nIt is an index of an object.  It can be thought of as like a pointer but it differs in the fact that it\r\n\r\n- can change at any time.\r\n- does not always have a direct relationship with memory addresses.\r\n- is usually 32-bit in a 64-bit JVM.\r\n- you can&#39;t re-interprete what the reference refers to. You can only change the type of the reference itself.\r\n\r\n&gt; Is the above comparison the equivalent of comparing two pointers in C++?\r\n\r\nYes.\r\n\r\n---\r\n\r\nOn Compresses Oops which allows a 64-bit JVM to sue 32-bit references.\r\n\r\n[Java HotSpot™ Virtual Machine Performance Enhancements - Compressed Oops][1]\r\n\r\n[Compressed oops in the Hotspot JVM][2]\r\n\r\n[IBM V6 - More effective heap usage using compressed references][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop\r\n  [2]: https://wikis.oracle.com/display/HotSpotInternals/CompressedOops\r\n  [3]: http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/index.jsp?topic=/com.ibm.java.doc.user.lnx.60/user/garbage_compressed_refs.html","title":"What exactly is a reference in Java?","body":"<blockquote>\n<p>What exactly is a reference in Java?</p>\n</blockquote>\n<p>It is an index of an object.  It can be thought of as like a pointer but it differs in the fact that it</p>\n<ul>\n<li>can change at any time.</li>\n<li>does not always have a direct relationship with memory addresses.</li>\n<li>is usually 32-bit in a 64-bit JVM.</li>\n<li>you can't re-interprete what the reference refers to. You can only change the type of the reference itself.</li>\n</ul>\n<blockquote>\n<p>Is the above comparison the equivalent of comparing two pointers in C++?</p>\n</blockquote>\n<p>Yes.</p>\n<hr />\n<p>On Compresses Oops which allows a 64-bit JVM to sue 32-bit references.</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop\" rel=\"nofollow noreferrer\">Java HotSpot™ Virtual Machine Performance Enhancements - Compressed Oops</a></p>\n<p><a href=\"https://wikis.oracle.com/display/HotSpotInternals/CompressedOops\" rel=\"nofollow noreferrer\">Compressed oops in the Hotspot JVM</a></p>\n<p><a href=\"http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/index.jsp?topic=/com.ibm.java.doc.user.lnx.60/user/garbage_compressed_refs.html\" rel=\"nofollow noreferrer\">IBM V6 - More effective heap usage using compressed references</a></p>\n"},{"tags":[],"owner":{"account_id":1685308,"reputation":93,"user_id":1548740,"display_name":"Clyde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348489984,"creation_date":1348489959,"answer_id":12565116,"question_id":12565037,"body_markdown":"A reference is a &quot;pointer&quot; to a memory address in Java, even though Java eleminates direct manipulation of pointers, unlike C++. Objects in Java are never passed to methods or returned by methods, it is always a reference that is being passed.","title":"What exactly is a reference in Java?","body":"<p>A reference is a \"pointer\" to a memory address in Java, even though Java eleminates direct manipulation of pointers, unlike C++. Objects in Java are never passed to methods or returned by methods, it is always a reference that is being passed.</p>\n"}],"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":12565077,"answer_count":4,"score":14,"last_activity_date":1685433944,"creation_date":1348489649,"question_id":12565037,"body_markdown":"What exactly is a reference in Java? Is it a memory address? Is a Java reference the equivalent of a dereferenced C++ pointer?\r\n\r\nIn other words, given the following:\r\n\r\n    Object o1 = new Object();\r\n    Object o2 = new Object();\r\n    \r\n    o1 == o2\r\n\r\nIs the above comparison the equivalent of comparing two pointers in C++?","title":"What exactly is a reference in Java?","body":"<p>What exactly is a reference in Java? Is it a memory address? Is a Java reference the equivalent of a dereferenced C++ pointer?</p>\n\n<p>In other words, given the following:</p>\n\n<pre><code>Object o1 = new Object();\nObject o2 = new Object();\n\no1 == o2\n</code></pre>\n\n<p>Is the above comparison the equivalent of comparing two pointers in C++?</p>\n"},{"tags":["java","spring","prometheus","spring-boot-actuator","micrometer"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685348212,"post_id":76355627,"comment_id":134643528,"body_markdown":"Prometheus is not really about traceability. If you want trace something like you described, and your in- and out- points are different, your best shot would be to pass either timestamp of start or duration of previous steps as additional parameters with your data, and create metrics at the last step.","body":"Prometheus is not really about traceability. If you want trace something like you described, and your in- and out- points are different, your best shot would be to pass either timestamp of start or duration of previous steps as additional parameters with your data, and create metrics at the last step."},{"owner":{"account_id":4745793,"reputation":923,"user_id":3837201,"display_name":"zohreh"},"score":1,"creation_date":1685433649,"post_id":76355627,"comment_id":134655178,"body_markdown":"If your flow is asynchronous, you need to customize monitoring flows. You can use a TrckerId in the request and then use it to collect latency asynchronous service metrics.","body":"If your flow is asynchronous, you need to customize monitoring flows. You can use a TrckerId in the request and then use it to collect latency asynchronous service metrics."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1685433999,"post_id":76355627,"comment_id":134655264,"body_markdown":"@zohreh what does TrckerId come from? I mean whether it come from another library like spring-cloud-sleuth or not","body":"@zohreh what does TrckerId come from? I mean whether it come from another library like spring-cloud-sleuth or not"},{"owner":{"account_id":4745793,"reputation":923,"user_id":3837201,"display_name":"zohreh"},"score":0,"creation_date":1685448737,"post_id":76355627,"comment_id":134658442,"body_markdown":"No, you have to define it. For example, you can create a UUID for each request and put it as a specific value in the metric report, and then aggregate it.","body":"No, you have to define it. For example, you can create a UUID for each request and put it as a specific value in the metric report, and then aggregate it."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1685527366,"post_id":76355627,"comment_id":134671525,"body_markdown":"@zohreh could you provide me some lines of example code? I&#39;m new to metrics/tracing so that i&#39;m not sure about &quot;aggregate it&quot;","body":"@zohreh could you provide me some lines of example code? I&#39;m new to metrics/tracing so that i&#39;m not sure about &quot;aggregate it&quot;"},{"owner":{"account_id":4745793,"reputation":923,"user_id":3837201,"display_name":"zohreh"},"score":0,"creation_date":1685700729,"post_id":76355627,"comment_id":134701063,"body_markdown":"Yes, sure. Please message my LinkedIn account for better communication. \nlinkedin.com/in/zohreh-batouei-713761a","body":"Yes, sure. Please message my LinkedIn account for better communication.  linkedin.com/in/zohreh-batouei-713761a"}],"answers":[{"tags":[],"owner":{"account_id":4745793,"reputation":923,"user_id":3837201,"display_name":"zohreh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373828,"creation_date":1685373828,"answer_id":76358523,"question_id":76355627,"body_markdown":"To measure the latency of an end-to-end flow involving multiple services in method X, you can define custom metrics using the **@Timed** annotation. Here&#39;s an optimized version of your answer:\r\n\r\n    @Timed(METRIC_NAME)\r\n    public Response methodX() {\r\n    // Service call 1\r\n    // ...\r\n    // Service call n\r\n    // Perform the necessary operations\r\n    \r\n    return response;\r\n    }\r\n\r\nBy annotating the **methodX()** with **@Timed** and providing a custom metric name (**METRIC_NAME**), you can capture the duration of the method execution. This allows you to measure the end-to-end latency of the flow.\r\n\r\nMake sure you have the necessary dependencies and configuration in place to enable metric collection, such as using Micrometer with Prometheus and Spring Boot Actuator.\r\n\r\nRemember to adjust the metric name (**METRIC_NAME**) to something that reflects the purpose and context of the measured operation.\r\n\r\nWith this optimization, you can easily track the performance of the end-to-end flow and gain insights into the latency of each service call within the method.","title":"How to do distributed metrics on Spring boot application","body":"<p>To measure the latency of an end-to-end flow involving multiple services in method X, you can define custom metrics using the <strong>@Timed</strong> annotation. Here's an optimized version of your answer:</p>\n<pre><code>@Timed(METRIC_NAME)\npublic Response methodX() {\n// Service call 1\n// ...\n// Service call n\n// Perform the necessary operations\n\nreturn response;\n}\n</code></pre>\n<p>By annotating the <strong>methodX()</strong> with <strong>@Timed</strong> and providing a custom metric name (<strong>METRIC_NAME</strong>), you can capture the duration of the method execution. This allows you to measure the end-to-end latency of the flow.</p>\n<p>Make sure you have the necessary dependencies and configuration in place to enable metric collection, such as using Micrometer with Prometheus and Spring Boot Actuator.</p>\n<p>Remember to adjust the metric name (<strong>METRIC_NAME</strong>) to something that reflects the purpose and context of the measured operation.</p>\n<p>With this optimization, you can easily track the performance of the end-to-end flow and gain insights into the latency of each service call within the method.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685433560,"creation_date":1685347455,"question_id":76355627,"body_markdown":"today I get requirements to apply metrics on our Spring boot app using Prometheus, Grafana, Actuator.\r\n\r\nHere is the detail:\r\n- Count the number of HTTP input of a HTTP API endpoint\r\n- Count the number of HTTP output of a HTTP API endpoint\r\n- Get latency of a HTTP API endpoint processing\r\n- And the last, get latency of a end to end flow (mean that when user hit the API endpoint, then it invoke another microservice by kafka, then go to next microservice blabla, and the latency is total time it took)\r\n\r\nI think first 3 requirement can be archived easily:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen:\r\n\r\n    Metrics.counter(name, tags).increment();\r\n    Metrics.timer(name, tags).record(duration.toMillis(), TimeUnit.MILLISECONDS);\r\n\r\nBut the last requirement is so difficult to me. I don&#39;t have any idea how to collect metrics across microservice.\r\n\r\nPlease give me some possible and acceptable solution. Thanks very much.\r\n","title":"How to do distributed metrics on Spring boot application","body":"<p>today I get requirements to apply metrics on our Spring boot app using Prometheus, Grafana, Actuator.</p>\n<p>Here is the detail:</p>\n<ul>\n<li>Count the number of HTTP input of a HTTP API endpoint</li>\n<li>Count the number of HTTP output of a HTTP API endpoint</li>\n<li>Get latency of a HTTP API endpoint processing</li>\n<li>And the last, get latency of a end to end flow (mean that when user hit the API endpoint, then it invoke another microservice by kafka, then go to next microservice blabla, and the latency is total time it took)</li>\n</ul>\n<p>I think first 3 requirement can be archived easily:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then:</p>\n<pre><code>Metrics.counter(name, tags).increment();\nMetrics.timer(name, tags).record(duration.toMillis(), TimeUnit.MILLISECONDS);\n</code></pre>\n<p>But the last requirement is so difficult to me. I don't have any idea how to collect metrics across microservice.</p>\n<p>Please give me some possible and acceptable solution. Thanks very much.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685433556,"creation_date":1685433556,"question_id":76362736,"body_markdown":"my table data looks like below,\r\n\r\n    Employee Table\r\n    EMP_ID   EMP_VERSION  EMP_STATUS  EMP_NAME\r\n      123          1          ACTIVE     Kathy\r\n      123          2          DRAFT      Kathy\r\n      245          1          DRAFT      Sally\r\n      389          1          ACTIVE     Adam  \r\n\r\nThere could be more than one version of a Employee record with same Id but different version. Primary key is EMP_ID and EMP_VERSION. At any case there will be only one version of Employee record that will be ACTIVE.\r\n\r\nMy requirement is to create a sql that returns either ACTIVE version of an Employee, in case if there is no ACTIVE version then highest version record should be returned for a EMP_ID.\r\n\r\nBelow is the query I have formed,\r\n\r\n    select * from myschema.employee t where t.EMP_ID=&#39;123&#39;\r\n    and ((not exists (select * from myschema.employee t1 where t1.EMP_ID=t.EMP_ID and t1.EMP_STATUS= &#39;ACTIVE&#39;) and t.EMP_VERSION = (select max(EMP_VERSION) from myschema.employee t2 where t2.EMP_ID = t.EMP_ID)) or t.EMP_STATUS = &#39;ACTIVE&#39;)\r\n\r\n \r\n\r\nIs the above SQL query looks good ? or any other efficient way of doing it ? I wanted to convert it to hibernate specification to retrieve using JPA. \r\n\r\n","title":"Spring Boot JPA Specification for Exists query","body":"<p>my table data looks like below,</p>\n<pre><code>Employee Table\nEMP_ID   EMP_VERSION  EMP_STATUS  EMP_NAME\n  123          1          ACTIVE     Kathy\n  123          2          DRAFT      Kathy\n  245          1          DRAFT      Sally\n  389          1          ACTIVE     Adam  \n</code></pre>\n<p>There could be more than one version of a Employee record with same Id but different version. Primary key is EMP_ID and EMP_VERSION. At any case there will be only one version of Employee record that will be ACTIVE.</p>\n<p>My requirement is to create a sql that returns either ACTIVE version of an Employee, in case if there is no ACTIVE version then highest version record should be returned for a EMP_ID.</p>\n<p>Below is the query I have formed,</p>\n<pre><code>select * from myschema.employee t where t.EMP_ID='123'\nand ((not exists (select * from myschema.employee t1 where t1.EMP_ID=t.EMP_ID and t1.EMP_STATUS= 'ACTIVE') and t.EMP_VERSION = (select max(EMP_VERSION) from myschema.employee t2 where t2.EMP_ID = t.EMP_ID)) or t.EMP_STATUS = 'ACTIVE')\n</code></pre>\n<p>Is the above SQL query looks good ? or any other efficient way of doing it ? I wanted to convert it to hibernate specification to retrieve using JPA.</p>\n"},{"tags":["java","testing","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1584714640,"creation_date":1584714640,"answer_id":60776131,"question_id":60774567,"body_markdown":"The reason for the observed behaviour is the fact that all extensions you add to a test class in Jupiter is inherited by all its children, be it test methods, or nested test classes. What you could do is check if the class the extension is used on is a top-level class:\r\n\r\n    class MyExtension implements BeforeAllCallback {\r\n    \r\n    \t@Override\r\n    \tpublic void beforeAll(final ExtensionContext extensionContext) throws Exception {\r\n    \t\tif (extensionContext.getTestClass().isPresent()) {\r\n    \t\t\tClass&lt;?&gt; currentClass = extensionContext.getTestClass().get();\r\n    \t\t\tif (isNestedClass(currentClass)) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Call beforeAll of extension&quot;);\r\n    \t}\r\n    \r\n    \tprivate boolean isNestedClass(Class&lt;?&gt; currentClass) {\r\n    \t\treturn !ModifierSupport.isStatic(currentClass) &amp;&amp; currentClass.isMemberClass();\r\n    \t}\r\n    \r\n    }\r\n\r\nAs far as I know Jupiter has no mechanism to restrict an extension to the location of the `@ExtendWith` annotation. You might open an issue to request this feature.","title":"BeforeAll / AfterAll callbacks of junit5 extension are executed for each nested test class. Is this expected?","body":"<p>The reason for the observed behaviour is the fact that all extensions you add to a test class in Jupiter is inherited by all its children, be it test methods, or nested test classes. What you could do is check if the class the extension is used on is a top-level class:</p>\n\n<pre><code>class MyExtension implements BeforeAllCallback {\n\n    @Override\n    public void beforeAll(final ExtensionContext extensionContext) throws Exception {\n        if (extensionContext.getTestClass().isPresent()) {\n            Class&lt;?&gt; currentClass = extensionContext.getTestClass().get();\n            if (isNestedClass(currentClass)) {\n                return;\n            }\n        }\n        System.out.println(\"Call beforeAll of extension\");\n    }\n\n    private boolean isNestedClass(Class&lt;?&gt; currentClass) {\n        return !ModifierSupport.isStatic(currentClass) &amp;&amp; currentClass.isMemberClass();\n    }\n\n}\n</code></pre>\n\n<p>As far as I know Jupiter has no mechanism to restrict an extension to the location of the <code>@ExtendWith</code> annotation. You might open an issue to request this feature.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685433417,"creation_date":1685433417,"answer_id":76362719,"question_id":60774567,"body_markdown":"The accepted answer is correct, but personally, for the same problem I used a different way to implement the logic allowing to know if it is an outer test class or not:\r\n\r\n```\r\npublic void beforeAll(final ExtensionContext extensionContext) {\r\n    if (isOuterTestClass(extensionContext)) {\r\n        // Do my custom initialization code once per outer test class\r\n    }\r\n}\r\n\r\n/**\r\n * Indicates whether the test class called is an outer class.\r\n *\r\n * @param  extensionContext JUnit&#39;s extension context\r\n * @return {@code true} if the test class called is an outer class, \r\n *         {@code false} otherwise.\r\n */\r\nprivate static boolean isOuterTestClass(ExtensionContext extensionContext) {\r\n    return extensionContext.getTestClass()\r\n        .map(aClass -&gt; aClass.getAnnotation(Nested.class) == null)\r\n        .orElse(true);\r\n}\r\n\r\n```","title":"BeforeAll / AfterAll callbacks of junit5 extension are executed for each nested test class. Is this expected?","body":"<p>The accepted answer is correct, but personally, for the same problem I used a different way to implement the logic allowing to know if it is an outer test class or not:</p>\n<pre><code>public void beforeAll(final ExtensionContext extensionContext) {\n    if (isOuterTestClass(extensionContext)) {\n        // Do my custom initialization code once per outer test class\n    }\n}\n\n/**\n * Indicates whether the test class called is an outer class.\n *\n * @param  extensionContext JUnit's extension context\n * @return {@code true} if the test class called is an outer class, \n *         {@code false} otherwise.\n */\nprivate static boolean isOuterTestClass(ExtensionContext extensionContext) {\n    return extensionContext.getTestClass()\n        .map(aClass -&gt; aClass.getAnnotation(Nested.class) == null)\n        .orElse(true);\n}\n\n</code></pre>\n"}],"owner":{"account_id":8633470,"reputation":188,"user_id":6464419,"display_name":"Claudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3170,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":60776131,"answer_count":2,"score":9,"last_activity_date":1685433417,"creation_date":1584708764,"question_id":60774567,"body_markdown":"I have a test class with multiple nested test classes inside. The outer test class uses an extension that implements BeforeAllCallback and AfterAllCallback. The methods of these interfaces are called for each nested class when executing the outer test class. Is this expected behaviour? I could not find any documentation specifying this explicitly.\r\n\r\nThe outer test class has @BeforeAll and @AfterAll methods as well. These are executed once when executing the outer test class. I kind of expected extensions to behave the same.\r\n\r\nIf this behaviour is indeed expected, is there a way to suppress it?\r\n\r\nHere is a minimal code example. Non-custom extensions e.g. SpringExtension show the same behaviour however:\r\n```java\r\n@ExtendWith(MyExtension.class)\r\npublic class SomeTest {\r\n\r\n    @BeforeAll\r\n    static void create() {\r\n        System.out.println(&quot;Call beforeAll of test class&quot;);\r\n    }\r\n\r\n    @AfterAll\r\n    static void destroy() {\r\n        System.out.println(&quot;Call afterAll of test class&quot;);\r\n    }\r\n\r\n    @Nested\r\n    class InnerTest1 {\r\n        @Test\r\n        void testingA() {\r\n            System.out.println(&quot;Test 1A&quot;);\r\n        }\r\n\r\n        @Test\r\n        void testingB() {\r\n            System.out.println(&quot;Test 1B&quot;);\r\n        }\r\n    }\r\n\r\n    @Nested\r\n    class InnerTest2 {\r\n        @Test\r\n        void testingA() {\r\n            System.out.println(&quot;Test 2A&quot;);\r\n        }\r\n\r\n        @Test\r\n        void testingB() {\r\n            System.out.println(&quot;Test 2B&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class MyExtension implements BeforeAllCallback, AfterAllCallback {\r\n\r\n    public MysqlMockExtension() {\r\n    }\r\n\r\n    @Override\r\n    public void beforeAll(final ExtensionContext extensionContext) throws Exception {\r\n        System.out.println(&quot;Call beforeAll of extension&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void afterAll(final ExtensionContext extensionContext) throws Exception {\r\n        System.out.println(&quot;Call afterAll of extension&quot;);\r\n    }\r\n}\r\n```\r\n\r\nLeads to output:\r\n```\r\nCall beforeAll of extension\r\nCall beforeAll of test class\r\n\r\nCall beforeAll of extension\r\nTest 2A\r\nTest 2B\r\nCall afteeAll of extension\r\n\r\nCall beforeAll of extension\r\nTest 1A\r\nTest 1B\r\nCall afteeAll of extension\r\n\r\nCall afterAll of test class\r\nCall afteeAll of extension\r\n```","title":"BeforeAll / AfterAll callbacks of junit5 extension are executed for each nested test class. Is this expected?","body":"<p>I have a test class with multiple nested test classes inside. The outer test class uses an extension that implements BeforeAllCallback and AfterAllCallback. The methods of these interfaces are called for each nested class when executing the outer test class. Is this expected behaviour? I could not find any documentation specifying this explicitly.</p>\n\n<p>The outer test class has @BeforeAll and @AfterAll methods as well. These are executed once when executing the outer test class. I kind of expected extensions to behave the same.</p>\n\n<p>If this behaviour is indeed expected, is there a way to suppress it?</p>\n\n<p>Here is a minimal code example. Non-custom extensions e.g. SpringExtension show the same behaviour however:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MyExtension.class)\npublic class SomeTest {\n\n    @BeforeAll\n    static void create() {\n        System.out.println(\"Call beforeAll of test class\");\n    }\n\n    @AfterAll\n    static void destroy() {\n        System.out.println(\"Call afterAll of test class\");\n    }\n\n    @Nested\n    class InnerTest1 {\n        @Test\n        void testingA() {\n            System.out.println(\"Test 1A\");\n        }\n\n        @Test\n        void testingB() {\n            System.out.println(\"Test 1B\");\n        }\n    }\n\n    @Nested\n    class InnerTest2 {\n        @Test\n        void testingA() {\n            System.out.println(\"Test 2A\");\n        }\n\n        @Test\n        void testingB() {\n            System.out.println(\"Test 2B\");\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyExtension implements BeforeAllCallback, AfterAllCallback {\n\n    public MysqlMockExtension() {\n    }\n\n    @Override\n    public void beforeAll(final ExtensionContext extensionContext) throws Exception {\n        System.out.println(\"Call beforeAll of extension\");\n    }\n\n    @Override\n    public void afterAll(final ExtensionContext extensionContext) throws Exception {\n        System.out.println(\"Call afterAll of extension\");\n    }\n}\n</code></pre>\n\n<p>Leads to output:</p>\n\n<pre><code>Call beforeAll of extension\nCall beforeAll of test class\n\nCall beforeAll of extension\nTest 2A\nTest 2B\nCall afteeAll of extension\n\nCall beforeAll of extension\nTest 1A\nTest 1B\nCall afteeAll of extension\n\nCall afterAll of test class\nCall afteeAll of extension\n</code></pre>\n"},{"tags":["java","ant","proguard","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684850227,"post_id":76315135,"comment_id":134575315,"body_markdown":"`.jmod` files are not `.jar` files. This `java-rt-jar-stubs-1.5.0.jar` file is not a standard artifact, so we can’t say anything about it…","body":"<code>.jmod</code> files are not <code>.jar</code> files. This <code>java-rt-jar-stubs-1.5.0.jar</code> file is not a standard artifact, so we can’t say anything about it…"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684876871,"post_id":76315135,"comment_id":134581084,"body_markdown":"Please provide the full proguard configuration.","body":"Please provide the full proguard configuration."}],"answers":[{"tags":[],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685433327,"creation_date":1685433327,"answer_id":76362704,"question_id":76315135,"body_markdown":"resolved the above issue by adding the ignore warnings in proguard definition","title":"Proguard 7.3.2 not able to find classes when using openjdk-11","body":"<p>resolved the above issue by adding the ignore warnings in proguard definition</p>\n"}],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685433327,"creation_date":1684847162,"question_id":76315135,"body_markdown":"I am using openjdk-11 and proguard version is 7.3.2 and while build one of the module i am getting many warnings as below:\r\n\r\n    [javac] Reading library jmod [/opt/jdk-11/jmods/java.base.jmod] (filtered)\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileStore]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtDirectoryStream]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtUtils]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.ExplodedImage]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystem]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath$2]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage$2]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.ExplodedImage$PathNode]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtDirectoryStream$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystem$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributes]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider$JrtFsLoader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView$AttrID]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$BufferReference]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStrings]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Resource]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReaderFactory$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.NativeImageBuffer]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$SharedImageReader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.StringSharingDecompressorFactory]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.CompressIndexes]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.CompressedResourceHeader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.SignatureParser$ParseResult]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressor]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressorFactory]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.StringSharingDecompressor]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.SignatureParser]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ZipDecompressorFactory]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ZipDecompressor]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressorRepository]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressor$StringsProvider]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.Decompressor]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStringsReader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$2]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Directory]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$SharedImageReader$LocationVisitor]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader$2]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageHeader]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageLocation]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReaderFactory]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$LinkNode]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.NativeImageBuffer$1]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Node]\r\n    17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStream]\r\n    17:33:35     [javac] Note: there were 57 duplicate class definitions.\r\n    17:33:35     [javac]       (https://www.guardsquare.com/proguard/manual/troubleshooting#duplicateclass)\r\n    17:33:35     [javac] Initializing...\r\n    com.test.UtilPanel: can&#39;t find superclass or interface javax.swing.JFrame\r\n    com.test.UtilPanel: can&#39;t find superclass or interface javax.swing.event.DocumentListener\r\n    com.test.UtilPanel: find referenced class com.test.StringUtils\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JFrame\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;java.awt.Container getContentPane()&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.Container\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;void pack()&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.Toolkit\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.Toolkit\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;java.awt.Dimension getPreferredSize()&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;void setLocation(int,int)&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;void setVisible(boolean)&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JFrame\r\n    com.test.UtilPanel: can&#39;t find referenced method &#39;void setDefaultCloseOperation(int)&#39; in program class com.test.UtilPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagLayout\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagLayout\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.BorderFactory\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.BorderFactory\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.BorderFactory\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JLabel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JLabel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JLabel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JPanel\r\n    com.test.UtilPanel: can&#39;t find referenced class javax.swing.JTextField\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextField\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextField\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.text.Document\r\n    com.test.Utils: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JScrollPane\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JScrollPane\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JScrollPane\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JScrollPane\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Container\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Toolkit\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.BorderFactory\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.text.Document\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JPanel\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextField\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.Utils: can&#39;t find referenced class java.awt.Dimension\r\n    com.test.Utils: can&#39;t find referenced class java.awt.GridBagConstraints\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JLabel\r\n    com.test.Utils: can&#39;t find referenced class javax.swing.JScrollPane\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.text.Document\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.text.Document\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.text.BadLocationException\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentListener\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.JTextArea\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.text.Document\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n    com.test.Utils: : can&#39;t find referenced class javax.swing.event.DocumentEvent\r\n\r\nThough i have added all the required JMODS in ant build file as below\r\n\r\noption:1\r\n\r\n    &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.base.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.desktop.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\r\n    \t\t\t&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.management.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\r\n\r\nOption 2:\r\nEven tried adding \r\n\r\n    &lt;libraryjar file=&quot;${libs.dir}/java-rt-jar-stubs-1.5.0.jar&quot; /&gt;\r\n\r\nwhich has all the required file but still same error\r\n \r\n\r\nCan anyone please assist on what can be the issue?","title":"Proguard 7.3.2 not able to find classes when using openjdk-11","body":"<p>I am using openjdk-11 and proguard version is 7.3.2 and while build one of the module i am getting many warnings as below:</p>\n<pre><code>[javac] Reading library jmod [/opt/jdk-11/jmods/java.base.jmod] (filtered)\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileStore]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtDirectoryStream]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtUtils]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.ExplodedImage]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystem]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath$2]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage$2]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtPath$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.ExplodedImage$PathNode]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtDirectoryStream$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystem$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributes]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileSystemProvider$JrtFsLoader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.JrtFileAttributeView$AttrID]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jrtfs.SystemImage$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$BufferReference]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStrings]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Resource]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReaderFactory$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.NativeImageBuffer]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$SharedImageReader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.StringSharingDecompressorFactory]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.CompressIndexes]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.CompressedResourceHeader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.SignatureParser$ParseResult]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressor]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressorFactory]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.StringSharingDecompressor]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.SignatureParser]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ZipDecompressorFactory]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ZipDecompressor]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressorRepository]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.ResourceDecompressor$StringsProvider]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.decompressor.Decompressor]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStringsReader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache$2]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Directory]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$SharedImageReader$LocationVisitor]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader$2]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.BasicImageReader$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageBufferCache]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageHeader]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageLocation]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReaderFactory]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$LinkNode]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.NativeImageBuffer$1]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageReader$Node]\n17:33:35     [javac] Note: duplicate definition of library class [jdk.internal.jimage.ImageStream]\n17:33:35     [javac] Note: there were 57 duplicate class definitions.\n17:33:35     [javac]       (https://www.guardsquare.com/proguard/manual/troubleshooting#duplicateclass)\n17:33:35     [javac] Initializing...\ncom.test.UtilPanel: can't find superclass or interface javax.swing.JFrame\ncom.test.UtilPanel: can't find superclass or interface javax.swing.event.DocumentListener\ncom.test.UtilPanel: find referenced class com.test.StringUtils\ncom.test.UtilPanel: can't find referenced class javax.swing.JFrame\ncom.test.UtilPanel: can't find referenced method 'java.awt.Container getContentPane()' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced class java.awt.Container\ncom.test.UtilPanel: can't find referenced method 'void pack()' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced class java.awt.Toolkit\ncom.test.UtilPanel: can't find referenced class java.awt.Toolkit\ncom.test.UtilPanel: can't find referenced method 'java.awt.Dimension getPreferredSize()' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced class java.awt.Dimension\ncom.test.UtilPanel: can't find referenced class java.awt.Dimension\ncom.test.UtilPanel: can't find referenced method 'void setLocation(int,int)' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced method 'void setVisible(boolean)' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced class javax.swing.JFrame\ncom.test.UtilPanel: can't find referenced method 'void setDefaultCloseOperation(int)' in program class com.test.UtilPanel\ncom.test.UtilPanel: can't find referenced class javax.swing.JPanel\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagLayout\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagLayout\ncom.test.UtilPanel: can't find referenced class javax.swing.JPanel\ncom.test.UtilPanel: can't find referenced class javax.swing.BorderFactory\ncom.test.UtilPanel: can't find referenced class javax.swing.BorderFactory\ncom.test.UtilPanel: can't find referenced class javax.swing.BorderFactory\ncom.test.UtilPanel: can't find referenced class javax.swing.JPanel\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class java.awt.GridBagConstraints\ncom.test.UtilPanel: can't find referenced class javax.swing.JLabel\ncom.test.UtilPanel: can't find referenced class javax.swing.JLabel\ncom.test.UtilPanel: can't find referenced class javax.swing.JLabel\ncom.test.UtilPanel: can't find referenced class javax.swing.JPanel\ncom.test.UtilPanel: can't find referenced class javax.swing.JTextField\ncom.test.Utils: can't find referenced class javax.swing.JTextField\ncom.test.Utils: can't find referenced class javax.swing.JTextField\ncom.test.Utils: can't find referenced class javax.swing.text.Document\ncom.test.Utils: can't find referenced class java.awt.GridBagConstraints\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class javax.swing.JScrollPane\ncom.test.Utils: can't find referenced class javax.swing.JScrollPane\ncom.test.Utils: can't find referenced class javax.swing.JScrollPane\ncom.test.Utils: can't find referenced class java.awt.Dimension\ncom.test.Utils: can't find referenced class java.awt.Dimension\ncom.test.Utils: can't find referenced class javax.swing.JScrollPane\ncom.test.Utils: can't find referenced class java.awt.Container\ncom.test.Utils: can't find referenced class java.awt.Toolkit\ncom.test.Utils: can't find referenced class javax.swing.BorderFactory\ncom.test.Utils: can't find referenced class javax.swing.text.Document\ncom.test.Utils: can't find referenced class javax.swing.JPanel\ncom.test.Utils: can't find referenced class javax.swing.JTextField\ncom.test.Utils: can't find referenced class javax.swing.JTextArea\ncom.test.Utils: can't find referenced class java.awt.Dimension\ncom.test.Utils: can't find referenced class java.awt.Dimension\ncom.test.Utils: can't find referenced class java.awt.GridBagConstraints\ncom.test.Utils: can't find referenced class javax.swing.JLabel\ncom.test.Utils: can't find referenced class javax.swing.JScrollPane\ncom.test.Utils: : can't find referenced class javax.swing.JTextArea\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.text.Document\ncom.test.Utils: : can't find referenced class javax.swing.text.Document\ncom.test.Utils: : can't find referenced class javax.swing.text.BadLocationException\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentListener\ncom.test.Utils: : can't find referenced class javax.swing.JTextArea\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.text.Document\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\ncom.test.Utils: : can't find referenced class javax.swing.event.DocumentEvent\n</code></pre>\n<p>Though i have added all the required JMODS in ant build file as below</p>\n<p>option:1</p>\n<pre><code>&lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.base.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\n            &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.desktop.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\n            &lt;libraryjar file=&quot;/opt/jdk-11/jmods/java.management.jmod&quot; jarfilter=&quot;!**.jar&quot; filter=&quot;!module-info.class&quot; /&gt;\n</code></pre>\n<p>Option 2:\nEven tried adding</p>\n<pre><code>&lt;libraryjar file=&quot;${libs.dir}/java-rt-jar-stubs-1.5.0.jar&quot; /&gt;\n</code></pre>\n<p>which has all the required file but still same error</p>\n<p>Can anyone please assist on what can be the issue?</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":1,"creation_date":1685082725,"post_id":76338068,"comment_id":134614296,"body_markdown":"Can you show your method?","body":"Can you show your method?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1685102257,"post_id":76338068,"comment_id":134618152,"body_markdown":"can you share the whole unit test? Also, if you mock the method call, why do you also need to `verify`? you should be able to assert the correctness of the tested code by checking how it uses this mocked data: `getContainerScreeningModel()`","body":"can you share the whole unit test? Also, if you mock the method call, why do you also need to <code>verify</code>? you should be able to assert the correctness of the tested code by checking how it uses this mocked data: <code>getContainerScreeningModel()</code>"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1685122190,"post_id":76338068,"comment_id":134622418,"body_markdown":"Welcome to Stack Overflow!\nPlease take the [tour](/tour), have a look around, and read through the [help center](/help), in particular How do [I ask a good question?](/help/how-to-ask) and [What topics can I ask about here?](/help/on-topic).\nFrom that second link: &quot;Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.&quot;\neven if it is no homework.\nPlease add a [Minimal, Complete, and Verifiable example](/help/mcve).","body":"Welcome to Stack Overflow! Please take the <a href=\"/tour\">tour</a>, have a look around, and read through the <a href=\"/help\">help center</a>, in particular How do <a href=\"/help/how-to-ask\">I ask a good question?</a> and <a href=\"/help/on-topic\">What topics can I ask about here?</a>. From that second link: &quot;Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it.&quot; even if it is no homework. Please add a <a href=\"/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"owner":{"account_id":28683556,"reputation":1,"user_id":21964245,"display_name":"Pratik Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685433070,"creation_date":1685081546,"question_id":76338068,"body_markdown":"mockito toomanyactualInvocations wanted 1 time but was 2 time but my method is being called only once do mockito considers 1 invocation in unit test and second at the real flow.\r\n\r\n```\r\nwhen(objectMapper.readValue(containerScreeningModelJsonString, ContainerScreeningModel.class))\r\n          .thenReturn(getContainerScreeningModel());\r\n```\r\n\r\nI&#39;ve mocked this `readValue` method which is being called inside `process()` method and when I&#39;m verifying method invocation it says it&#39;s being invoked 2 times but `readValue()` is invoked only one time inside `process()`\r\n\r\n```\r\nverify(objectMapper)\r\n          .readValue(containerScreeningModelJsonString, ContainerScreeningModel.class);\r\n```\r\n","title":"org.mockito.exceptions.verification.TooManyActualInvocations wanted 1 time but was 2 times","body":"<p>mockito toomanyactualInvocations wanted 1 time but was 2 time but my method is being called only once do mockito considers 1 invocation in unit test and second at the real flow.</p>\n<pre><code>when(objectMapper.readValue(containerScreeningModelJsonString, ContainerScreeningModel.class))\n          .thenReturn(getContainerScreeningModel());\n</code></pre>\n<p>I've mocked this <code>readValue</code> method which is being called inside <code>process()</code> method and when I'm verifying method invocation it says it's being invoked 2 times but <code>readValue()</code> is invoked only one time inside <code>process()</code></p>\n<pre><code>verify(objectMapper)\n          .readValue(containerScreeningModelJsonString, ContainerScreeningModel.class);\n</code></pre>\n"},{"tags":["java","spring-boot","java-platform-module-system"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1685437509,"post_id":76362551,"comment_id":134656034,"body_markdown":"Note `-jar &lt;file&gt;` will _always_ put the JAR file on the class-path. If it&#39;s a modular JAR file, and Spring can handle being on the module-path, then use `--module &lt;main-module&gt;/&lt;main-class&gt;`. The short name for `--module` is `-m`. The `/&lt;main-class&gt;` can be omitted if the module has been configured with a main class (e.g., when creating the JAR file, the `--main-class` option was specified).","body":"Note <code>-jar &lt;file&gt;</code> will <i>always</i> put the JAR file on the class-path. If it&#39;s a modular JAR file, and Spring can handle being on the module-path, then use <code>--module &lt;main-module&gt;&#47;&lt;main-class&gt;</code>. The short name for <code>--module</code> is <code>-m</code>. The <code>&#47;&lt;main-class&gt;</code> can be omitted if the module has been configured with a main class (e.g., when creating the JAR file, the <code>--main-class</code> option was specified)."}],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1685432307,"creation_date":1685432307,"question_id":76362551,"body_markdown":"I&#39;m trying to create a simple Spring Boot application and run it with Java Modules on the latest Java version. \r\n\r\nI have created a Main class:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main {\r\n\r\n  public static void main(final String[] args) {\r\n    System.out.println(&quot;Module: &quot; + Main.class.getModule());\r\n    SpringApplication.run(Main.class, args);\r\n  }\r\n}\r\n```\r\nAnd a `module-info.java`:\r\n```\r\nmodule spring.jpms {\r\n  requires spring.core;\r\n  requires spring.boot;\r\n  requires spring.boot.autoconfigure;\r\n  requires spring.context;\r\n  requires spring.beans;\r\n\r\n  opens org.example to\r\n      spring.core,\r\n      spring.beans,\r\n      spring.context;\r\n}\r\n\r\n```\r\n\r\nWhen I run the Main class using an IDE generated command with module path, it works fine, the name of my application module printed out.\r\n```\r\nModule: module spring.jpms\r\n...\r\n\r\n```\r\n\r\nWhen I run my application using `mvn spring-boot:run` or `java -jar &lt;target&gt;.jar`, the application is executed in the class-path mode. The module name is &quot;unnamed&quot;:\r\n```\r\n...\r\nModule: unnamed module @7923f745\r\n...\r\n```\r\n\r\nI would like to know if there is a way to run a .jar file built by the Spring Boot Maven plugin with Java Modules, that is so the .jar files are loaded via `module-path`\r\n\r\nSee the complete example here: https://github.com/agavrilov76/spring-jpms\r\n","title":"How to run Spring Boot .jar with Java Modules?","body":"<p>I'm trying to create a simple Spring Boot application and run it with Java Modules on the latest Java version.</p>\n<p>I have created a Main class:</p>\n<pre><code>package org.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n\n  public static void main(final String[] args) {\n    System.out.println(&quot;Module: &quot; + Main.class.getModule());\n    SpringApplication.run(Main.class, args);\n  }\n}\n</code></pre>\n<p>And a <code>module-info.java</code>:</p>\n<pre><code>module spring.jpms {\n  requires spring.core;\n  requires spring.boot;\n  requires spring.boot.autoconfigure;\n  requires spring.context;\n  requires spring.beans;\n\n  opens org.example to\n      spring.core,\n      spring.beans,\n      spring.context;\n}\n\n</code></pre>\n<p>When I run the Main class using an IDE generated command with module path, it works fine, the name of my application module printed out.</p>\n<pre><code>Module: module spring.jpms\n...\n\n</code></pre>\n<p>When I run my application using <code>mvn spring-boot:run</code> or <code>java -jar &lt;target&gt;.jar</code>, the application is executed in the class-path mode. The module name is &quot;unnamed&quot;:</p>\n<pre><code>...\nModule: unnamed module @7923f745\n...\n</code></pre>\n<p>I would like to know if there is a way to run a .jar file built by the Spring Boot Maven plugin with Java Modules, that is so the .jar files are loaded via <code>module-path</code></p>\n<p>See the complete example here: <a href=\"https://github.com/agavrilov76/spring-jpms\" rel=\"nofollow noreferrer\">https://github.com/agavrilov76/spring-jpms</a></p>\n"},{"tags":["java","postgresql","ssl","jdbc","ssl-certificate"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1684515711,"post_id":76287128,"comment_id":134533618,"body_markdown":"Does that connection string work with something else, such as `psql`?","body":"Does that connection string work with something else, such as <code>psql</code>?"},{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684535326,"post_id":76287128,"comment_id":134536674,"body_markdown":"are you running this as the root user?","body":"are you running this as the root user?"},{"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"score":0,"creation_date":1684732003,"post_id":76287128,"comment_id":134554104,"body_markdown":"@eduyayo I am not a root user. I am running this through a client machine 10.30.32.143 and host is 10.30.32.186 port 6432.","body":"@eduyayo I am not a root user. I am running this through a client machine 10.30.32.143 and host is 10.30.32.186 port 6432."},{"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"score":0,"creation_date":1684732340,"post_id":76287128,"comment_id":134554143,"body_markdown":"@jjanes from psql host side we just verified ssl using command - &quot;psql -h 10.30.32.186 -p 6432 -d postgres -U postgres&quot;. We didn&#39;t try using any string connection.","body":"@jjanes from psql host side we just verified ssl using command - &quot;psql -h 10.30.32.186 -p 6432 -d postgres -U postgres&quot;. We didn&#39;t try using any string connection."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1684759639,"post_id":76287128,"comment_id":134559274,"body_markdown":"Well, try it in psql with the connection string.  Obviously leave off the &#39;jdbc:&#39; at the start.","body":"Well, try it in psql with the connection string.  Obviously leave off the &#39;jdbc:&#39; at the start."},{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684823293,"post_id":76287128,"comment_id":134569041,"body_markdown":"The files are inside the root folder. You may not have permissions on them","body":"The files are inside the root folder. You may not have permissions on them"},{"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"score":0,"creation_date":1684832935,"post_id":76287128,"comment_id":134571102,"body_markdown":"@eduyayo I have changed the permissions as well and tried. Also tried placing those files at another location but that didn&#39;t worked.","body":"@eduyayo I have changed the permissions as well and tried. Also tried placing those files at another location but that didn&#39;t worked."},{"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"score":1,"creation_date":1685340060,"post_id":76287128,"comment_id":134642517,"body_markdown":"@jjanes I am able to connect now. Just changed the extension of key file from PEM to DER and it worked fine. \n\nSo please give answer and write same thing so I can accept your answer.","body":"@jjanes I am able to connect now. Just changed the extension of key file from PEM to DER and it worked fine.   So please give answer and write same thing so I can accept your answer."},{"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"score":1,"creation_date":1685340085,"post_id":76287128,"comment_id":134642519,"body_markdown":"@eduyayo  I am able to connect now. Just changed the extension of key file from PEM to DER and it worked fine. So please give answer and write same thing so I can accept your answer.","body":"@eduyayo  I am able to connect now. Just changed the extension of key file from PEM to DER and it worked fine. So please give answer and write same thing so I can accept your answer."}],"answers":[{"tags":[],"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685432274,"creation_date":1685432274,"answer_id":76362549,"question_id":76287128,"body_markdown":"The files are inside the root folder. You may not have permissions on them","title":"How to connect with PostgreSQL database with SSL using certificates and key from client Eclipse in Java","body":"<p>The files are inside the root folder. You may not have permissions on them</p>\n"}],"owner":{"account_id":27496581,"reputation":41,"user_id":20981004,"display_name":"sujay777"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76362549,"answer_count":1,"score":0,"last_activity_date":1685432274,"creation_date":1684483123,"question_id":76287128,"body_markdown":"I am trying to connect with PostgreSQL database from client with SSL enabled on server 10.30.32.186 port 6432 using below java code.\r\n\r\nI am using certificates ([server-cert.pem, server-key.pem, ca.cert] and [postgresql.crt, postgresql.pk8, root.crt]).\r\n\r\nIs there are any specific java understandable certificate and key file format?\r\n\r\n    package com.ssl;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n\r\n    public class DBConnect {\r\n\t\r\n\tprivate final String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres?sslmode=require&amp;sslcert=/root/.postgresql/postgresql.crt&amp;sslkey=/root/.postgresql/postgresql.pk8&amp;sslrootcert=/root/.postgresql/root.crt&amp;sslpassword=postgress&quot;;\r\n\r\n    private final String user = &quot;postgres&quot;;\r\n    private final String password = &quot;postgres123&quot;;\r\n\r\n    /**\r\n     * Connect to the PostgreSQL database\r\n     *\r\n     * @return a Connection object\r\n     */\r\n    public Connection connect() {\r\n        Connection conn = null;\r\n        try {\r\n            conn = DriverManager.getConnection(url, user, password);\r\n            System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n        return conn;\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDBConnect db = new DBConnect();\r\n\t\tdb.connect();\r\n\r\n\t}\r\n    }\r\n\r\nGives error:\r\n\r\n    SSL error: -1\r\n\r\n\r\nCode no 2:\r\n\r\n    package SSL_Enablement;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Properties;\r\n\r\n    public class PostgresSSLConnection {\r\n    public static void main(String[] args) {\r\n        Connection conn = null;\r\n        try {\r\n            // Set SSL properties\r\n            Properties props = new Properties();\r\n            props.setProperty(&quot;user&quot;, &quot;postgres&quot;);\r\n            props.setProperty(&quot;password&quot;, &quot;postgres123&quot;);\r\n            props.setProperty(&quot;ssl&quot;, &quot;true&quot;);\r\n            props.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n            props.setProperty(&quot;sslmode&quot;, &quot;Verify-CA&quot;);\r\n            props.setProperty(&quot;sslcert&quot;, &quot;/root/.postgresql/server-cert.pem&quot;);\r\n            props.setProperty(&quot;sslkey&quot;, &quot;/root/.postgresql/server-key.pem&quot;);\r\n            props.setProperty(&quot;sslrootcert&quot;, &quot;/root/.postgresql/ca.cert&quot;);\r\n\r\n            // Initialize SSL context\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres&quot;;\r\n            conn = DriverManager.getConnection(url, props);\r\n            System.out.println(&quot;Connected DB using SSL&quot;);\r\n            // Use the connection...\r\n            // ...\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (conn != null) {\r\n                    conn.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nGives error:\r\n\r\n        org.postgresql.util.PSQLException: Could not read SSL key file /root/.postgresql/server-key.pem.\r\n\t  at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284)\r\n\t  at sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1552)\r\n\t  at sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:220)\r\n\t  at sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:175)\r\n\t  at sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:88)\r\n\t  at sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1080)\r\n\t  at sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1101)\r\n\t  at sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\r\n\t  at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\r\n\t  at sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:989)\r\n\t  at sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:852)\r\n\t  at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\n\t  at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n\t  at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n\t  at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\t  at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n\t  at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\r\n\t  at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\r\n\t  at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n\t  at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\r\n\t  at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:584)\r\n\t  at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\r\n\t  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n\t  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n\t  at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\r\n\t  at org.postgresql.Driver.makeConnection(Driver.java:434)\r\n\t  at org.postgresql.Driver.connect(Driver.java:291)\r\n\t  at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\t  at java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\t  at SSL_Enablement.PostgresSSLConnection.main(PostgresSSLConnection.java:26)\r\n    Caused by: java.io.IOException: extra data given to DerValue constructor\r\n\t  at sun.security.util.DerValue.init(DerValue.java:423)\r\n\t  at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:306)\r\n\t  at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:347)\r\n\t  at sun.security.util.DerValue.wrap(DerValue.java:334)\r\n\t  at sun.security.util.DerValue.wrap(DerValue.java:319)\r\n\t  at javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:84)\r\n\t  at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236)\r\n\t  ... 29 more\r\n\r\n\r\nCode no 3:\r\n\r\n    package SSL_Enablement;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Properties;\r\n\r\n    public class PostgresSSLConnection {\r\n    public static void main(String[] args) {\r\n        Connection conn = null;\r\n        try {\r\n            // Set SSL properties\r\n            Properties props = new Properties();\r\n            props.setProperty(&quot;user&quot;, &quot;postgres&quot;);\r\n            props.setProperty(&quot;password&quot;, &quot;postgres123&quot;);\r\n            props.setProperty(&quot;ssl&quot;, &quot;true&quot;);\r\n            props.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n            props.setProperty(&quot;sslmode&quot;, &quot;Verify-CA&quot;);\r\n            props.setProperty(&quot;sslcert&quot;, &quot;/root/.postgresql/postgresql.crt&quot;);\r\n            props.setProperty(&quot;sslkey&quot;, &quot;/root/.postgresql/postgresql.pk8&quot;);\r\n            props.setProperty(&quot;sslrootcert&quot;, &quot;/root/.postgresql/root.crt&quot;);\r\n\r\n            // Initialize SSL context\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres&quot;;\r\n            conn = DriverManager.getConnection(url, props);\r\n            System.out.println(&quot;Connected DB using SSL&quot;);\r\n            // Use the connection...\r\n            // ...\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (conn != null) {\r\n                    conn.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nGives error:\r\n\r\n        org.postgresql.util.PSQLException: SSL error: -1\r\n\t    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43)\r\n\t    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:584)\r\n\t    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\r\n\t    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n\t    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n\t    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\r\n\t    at org.postgresql.Driver.makeConnection(Driver.java:434)\r\n\t    at org.postgresql.Driver.connect(Driver.java:291)\r\n\t    at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\t    at java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\t    at SSL_Enablement.PostgresSSLConnection.main(PostgresSSLConnection.java:26)\r\n    Caused by: javax.net.ssl.SSLException: -1\r\n\t\tat sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:331)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:274)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:269)\r\n\t\tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\r\n\t\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:446)\r\n\t\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\r\n\t\t... 10 more\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: -1\r\n\t\tat org.postgresql.ssl.LazyKeyManager.chooseClientAlias(LazyKeyManager.java:105)\r\n\t\tat sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1531)\r\n\t\tat sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:200)\r\n\t\tat sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:175)\r\n\t\tat sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:88)\r\n\t\tat sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1080)\r\n\t\tat sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1101)\r\n\t\tat sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\r\n\t\tat sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\r\n\t\tat sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:989)\r\n\t\tat sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:852)\r\n\t\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\n\t\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n\t\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n\t\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\t\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n\t\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\r\n\t\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\r\n\t\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n\t\t... 11 more\r\n\r\n","title":"How to connect with PostgreSQL database with SSL using certificates and key from client Eclipse in Java","body":"<p>I am trying to connect with PostgreSQL database from client with SSL enabled on server 10.30.32.186 port 6432 using below java code.</p>\n<p>I am using certificates ([server-cert.pem, server-key.pem, ca.cert] and [postgresql.crt, postgresql.pk8, root.crt]).</p>\n<p>Is there are any specific java understandable certificate and key file format?</p>\n<pre><code>package com.ssl;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class DBConnect {\n\nprivate final String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres?sslmode=require&amp;sslcert=/root/.postgresql/postgresql.crt&amp;sslkey=/root/.postgresql/postgresql.pk8&amp;sslrootcert=/root/.postgresql/root.crt&amp;sslpassword=postgress&quot;;\n\nprivate final String user = &quot;postgres&quot;;\nprivate final String password = &quot;postgres123&quot;;\n\n/**\n * Connect to the PostgreSQL database\n *\n * @return a Connection object\n */\npublic Connection connect() {\n    Connection conn = null;\n    try {\n        conn = DriverManager.getConnection(url, user, password);\n        System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n    }\n\n    return conn;\n}\n\npublic static void main(String[] args) {\n    \n    DBConnect db = new DBConnect();\n    db.connect();\n\n}\n}\n</code></pre>\n<p>Gives error:</p>\n<pre><code>SSL error: -1\n</code></pre>\n<p>Code no 2:</p>\n<pre><code>package SSL_Enablement;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class PostgresSSLConnection {\npublic static void main(String[] args) {\n    Connection conn = null;\n    try {\n        // Set SSL properties\n        Properties props = new Properties();\n        props.setProperty(&quot;user&quot;, &quot;postgres&quot;);\n        props.setProperty(&quot;password&quot;, &quot;postgres123&quot;);\n        props.setProperty(&quot;ssl&quot;, &quot;true&quot;);\n        props.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\n        props.setProperty(&quot;sslmode&quot;, &quot;Verify-CA&quot;);\n        props.setProperty(&quot;sslcert&quot;, &quot;/root/.postgresql/server-cert.pem&quot;);\n        props.setProperty(&quot;sslkey&quot;, &quot;/root/.postgresql/server-key.pem&quot;);\n        props.setProperty(&quot;sslrootcert&quot;, &quot;/root/.postgresql/ca.cert&quot;);\n\n        // Initialize SSL context\n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres&quot;;\n        conn = DriverManager.getConnection(url, props);\n        System.out.println(&quot;Connected DB using SSL&quot;);\n        // Use the connection...\n        // ...\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (conn != null) {\n                conn.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n}\n</code></pre>\n<p>Gives error:</p>\n<pre><code>    org.postgresql.util.PSQLException: Could not read SSL key file /root/.postgresql/server-key.pem.\n  at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:284)\n  at sun.security.ssl.AbstractKeyManagerWrapper.getPrivateKey(SSLContextImpl.java:1552)\n  at sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:220)\n  at sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:175)\n  at sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:88)\n  at sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1080)\n  at sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1101)\n  at sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\n  at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\n  at sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:989)\n  at sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:852)\n  at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\n  at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n  at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n  at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n  at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n  at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\n  at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\n  at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n  at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\n  at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:584)\n  at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\n  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n  at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\n  at org.postgresql.Driver.makeConnection(Driver.java:434)\n  at org.postgresql.Driver.connect(Driver.java:291)\n  at java.sql.DriverManager.getConnection(DriverManager.java:664)\n  at java.sql.DriverManager.getConnection(DriverManager.java:208)\n  at SSL_Enablement.PostgresSSLConnection.main(PostgresSSLConnection.java:26)\nCaused by: java.io.IOException: extra data given to DerValue constructor\n  at sun.security.util.DerValue.init(DerValue.java:423)\n  at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:306)\n  at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:347)\n  at sun.security.util.DerValue.wrap(DerValue.java:334)\n  at sun.security.util.DerValue.wrap(DerValue.java:319)\n  at javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:84)\n  at org.postgresql.ssl.LazyKeyManager.getPrivateKey(LazyKeyManager.java:236)\n  ... 29 more\n</code></pre>\n<p>Code no 3:</p>\n<pre><code>package SSL_Enablement;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class PostgresSSLConnection {\npublic static void main(String[] args) {\n    Connection conn = null;\n    try {\n        // Set SSL properties\n        Properties props = new Properties();\n        props.setProperty(&quot;user&quot;, &quot;postgres&quot;);\n        props.setProperty(&quot;password&quot;, &quot;postgres123&quot;);\n        props.setProperty(&quot;ssl&quot;, &quot;true&quot;);\n        props.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\n        props.setProperty(&quot;sslmode&quot;, &quot;Verify-CA&quot;);\n        props.setProperty(&quot;sslcert&quot;, &quot;/root/.postgresql/postgresql.crt&quot;);\n        props.setProperty(&quot;sslkey&quot;, &quot;/root/.postgresql/postgresql.pk8&quot;);\n        props.setProperty(&quot;sslrootcert&quot;, &quot;/root/.postgresql/root.crt&quot;);\n\n        // Initialize SSL context\n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        String url = &quot;jdbc:postgresql://10.30.32.186:6432/postgres&quot;;\n        conn = DriverManager.getConnection(url, props);\n        System.out.println(&quot;Connected DB using SSL&quot;);\n        // Use the connection...\n        // ...\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (conn != null) {\n                conn.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n}\n</code></pre>\n<p>Gives error:</p>\n<pre><code>    org.postgresql.util.PSQLException: SSL error: -1\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:584)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\n    at org.postgresql.Driver.makeConnection(Driver.java:434)\n    at org.postgresql.Driver.connect(Driver.java:291)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at SSL_Enablement.PostgresSSLConnection.main(PostgresSSLConnection.java:26)\nCaused by: javax.net.ssl.SSLException: -1\n    at sun.security.ssl.Alert.createSSLException(Alert.java:133)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:331)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:274)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:269)\n    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:446)\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)\n    ... 10 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: -1\n    at org.postgresql.ssl.LazyKeyManager.chooseClientAlias(LazyKeyManager.java:105)\n    at sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1531)\n    at sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:200)\n    at sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:175)\n    at sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:88)\n    at sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1080)\n    at sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1101)\n    at sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958)\n    at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\n    at sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:989)\n    at sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:852)\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    ... 11 more\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1685386109,"post_id":76359400,"comment_id":134649809,"body_markdown":"Just use lenient() for your when() which cause exception","body":"Just use lenient() for your when() which cause exception"},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1685387293,"post_id":76359400,"comment_id":134649952,"body_markdown":"does your Person class have equals() and hashCode() methods?","body":"does your Person class have equals() and hashCode() methods?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685425702,"post_id":76359400,"comment_id":134653686,"body_markdown":"Where are `getPersonById` and `isValid` called? Where does your test call `doSomething()`?","body":"Where are <code>getPersonById</code> and <code>isValid</code> called? Where does your test call <code>doSomething()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685431907,"creation_date":1685431907,"answer_id":76362509,"question_id":76359400,"body_markdown":"You have 2-3 options for solving this issue. The easiest solution would be to simply override the `equals` method from the `Person` class (or simply add lombok&#39;s `@EqualsAndHashcode` - but this will affect your production code (not only the test itself).\r\n\r\nAlternatively, you can use a more generic Mokito matcher here are some examples that would work:\r\n\r\n```java\r\n// check solely based on name/active fields\r\nwhen(validationService.isValid(\r\n      ArgumentMatchers.argThat(p -&gt; p.getName().equals(&quot;Name&quot;)))\r\n  )\r\n  .thenReturn(true);\r\n\r\n// or\r\nwhen(validationService.isValid(Mockito.any(Person.class)))\r\n  .thenReturn(true);\r\n\r\n// or simply\r\nwhen(validationService.isValid(Mockito.any()))\r\n  .thenReturn(true);\r\n\r\n```\r\n\r\nLastly, if validationService is not doing any I/O, you can try to write the code/test in such a way that mocking it is not necessary. In other words, if `validationService.isValid(p)` is just checking some state, maybe you can use the actual object and decide from `validationService` whether to return a valid or invalid `Person` object. \r\n\r\nIn my opinion, the fewer mocks the better... I would personally try this last approach if possible.\r\n","title":"How to avoid strict stubbing argument mismatch in java","body":"<p>You have 2-3 options for solving this issue. The easiest solution would be to simply override the <code>equals</code> method from the <code>Person</code> class (or simply add lombok's <code>@EqualsAndHashcode</code> - but this will affect your production code (not only the test itself).</p>\n<p>Alternatively, you can use a more generic Mokito matcher here are some examples that would work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// check solely based on name/active fields\nwhen(validationService.isValid(\n      ArgumentMatchers.argThat(p -&gt; p.getName().equals(&quot;Name&quot;)))\n  )\n  .thenReturn(true);\n\n// or\nwhen(validationService.isValid(Mockito.any(Person.class)))\n  .thenReturn(true);\n\n// or simply\nwhen(validationService.isValid(Mockito.any()))\n  .thenReturn(true);\n\n</code></pre>\n<p>Lastly, if validationService is not doing any I/O, you can try to write the code/test in such a way that mocking it is not necessary. In other words, if <code>validationService.isValid(p)</code> is just checking some state, maybe you can use the actual object and decide from <code>validationService</code> whether to return a valid or invalid <code>Person</code> object.</p>\n<p>In my opinion, the fewer mocks the better... I would personally try this last approach if possible.</p>\n"}],"owner":{"account_id":19890160,"reputation":91,"user_id":15374972,"display_name":"Java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76362509,"answer_count":1,"score":0,"last_activity_date":1685431907,"creation_date":1685382668,"question_id":76359400,"body_markdown":"I have an object like\r\n\r\n    @SuperBuilder(setterPrefix = &quot;set&quot;, toBuilder = true;\r\n    class Person {\r\n      private final String name;\r\n      private final boolean active;\r\n    \r\n    }\r\n\r\nI use this object in a method like\r\n\r\n    public SomeType doSomething(Long id) {\r\n       Person person = personService.getPersonById(id);\r\n       Person updatedPerson = updatePerson(person);\r\n       validationService.isValid(updatedPerson);\r\n        ......\r\n    }\r\n\r\n    private Person updatePerson(Person person) {\r\n      person.toBuilder()\r\n            .setActive(true)\r\n            .build();\r\n    }\r\n\r\nBut when I test this method I get a strict stubbing argument mismatch\r\n\r\n    void test() {\r\n     Person person = Person.builder()\r\n       .setName(&quot;Name&quot;)\r\n       .build();\r\n     Person updatedPerson = Person.builder()\r\n       .setName(&quot;Name&quot;)\r\n       .setActive(true)\r\n       .build();\r\n    when(personService.getPersonById(1L)).thenReturn(person);\r\n    when(validationService.isValid(updatedPerson)).thenReturn(false);\r\n   .......\r\n\r\nCan someone tell me how to avoid this problem- and create a correct argument?\r\nThanks for any help!\r\n","title":"How to avoid strict stubbing argument mismatch in java","body":"<p>I have an object like</p>\n<pre><code>@SuperBuilder(setterPrefix = &quot;set&quot;, toBuilder = true;\nclass Person {\n  private final String name;\n  private final boolean active;\n\n}\n</code></pre>\n<p>I use this object in a method like</p>\n<pre><code>public SomeType doSomething(Long id) {\n   Person person = personService.getPersonById(id);\n   Person updatedPerson = updatePerson(person);\n   validationService.isValid(updatedPerson);\n    ......\n}\n\nprivate Person updatePerson(Person person) {\n  person.toBuilder()\n        .setActive(true)\n        .build();\n}\n</code></pre>\n<p>But when I test this method I get a strict stubbing argument mismatch</p>\n<pre><code>void test() {\n Person person = Person.builder()\n   .setName(&quot;Name&quot;)\n   .build();\n Person updatedPerson = Person.builder()\n   .setName(&quot;Name&quot;)\n   .setActive(true)\n   .build();\nwhen(personService.getPersonById(1L)).thenReturn(person);\nwhen(validationService.isValid(updatedPerson)).thenReturn(false);\n</code></pre>\n<p>.......</p>\n<p>Can someone tell me how to avoid this problem- and create a correct argument?\nThanks for any help!</p>\n"},{"tags":["java","go"],"comments":[{"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":10,"creation_date":1442327524,"post_id":32588120,"comment_id":53031156,"body_markdown":"This is not how you should approach the problem. You should not do &quot;mirror&quot; translation but rather &quot;functional&quot; translation. Annotations in Java attach meta information to different source code elements. But by themselves they worth nothing if there isn&#39;t a code or framework that processes them and does different things based on that. What you should discover is what your Java libraries/frameworks will do with the method that is annotated with `@OnKeyWord` and try to implement that functionality in Go.","body":"This is not how you should approach the problem. You should not do &quot;mirror&quot; translation but rather &quot;functional&quot; translation. Annotations in Java attach meta information to different source code elements. But by themselves they worth nothing if there isn&#39;t a code or framework that processes them and does different things based on that. What you should discover is what your Java libraries/frameworks will do with the method that is annotated with <code>@OnKeyWord</code> and try to implement that functionality in Go."},{"owner":{"account_id":4357035,"reputation":3235,"user_id":3555300,"display_name":"Jiang YD"},"score":0,"creation_date":1442371458,"post_id":32588120,"comment_id":53050509,"body_markdown":"but, if golang can still add &#39;tag&#39; to struct and func, would be great.","body":"but, if golang can still add &#39;tag&#39; to struct and func, would be great."},{"owner":{"account_id":6851610,"reputation":21,"user_id":5268629,"display_name":"Sandeep Jaluthairya"},"score":1,"creation_date":1442382434,"post_id":32588120,"comment_id":53053726,"body_markdown":"**icza** you are right. I can implement @OnKeyWord functionality with _if_ statement but I was not feeling that this is the good approach. I wanted to know if there is any better method I can use for this.","body":"<b>icza</b> you are right. I can implement @OnKeyWord functionality with <i>if</i> statement but I was not feeling that this is the good approach. I wanted to know if there is any better method I can use for this."}],"answers":[{"tags":[],"owner":{"account_id":552904,"reputation":1780,"user_id":918176,"accept_rate":100,"display_name":"user918176"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447881477,"creation_date":1447881477,"answer_id":33790577,"question_id":32588120,"body_markdown":"After you have done the translation as @icza explained, you wish probably to move the functionality to a middleware ([example][1]) that gets run for all your requests. That way you can add the assisting logic (the &quot;if&quot; part) out of your business methods.\r\n\r\nThere is also no need to implement middlewares for HTTP frameworks yourself. Most web frameworks [include][2] one by [default][3]. \r\n\r\n\r\n  [1]: http://www.alexedwards.net/blog/making-and-using-middleware\r\n  [2]: http://beego.me/docs/mvc/controller/filter.md\r\n  [3]: https://revel.github.io/manual/filters.html","title":"how to convert java annotation to go code?","body":"<p>After you have done the translation as @icza explained, you wish probably to move the functionality to a middleware (<a href=\"http://www.alexedwards.net/blog/making-and-using-middleware\" rel=\"nofollow\">example</a>) that gets run for all your requests. That way you can add the assisting logic (the \"if\" part) out of your business methods.</p>\n\n<p>There is also no need to implement middlewares for HTTP frameworks yourself. Most web frameworks <a href=\"http://beego.me/docs/mvc/controller/filter.md\" rel=\"nofollow\">include</a> one by <a href=\"https://revel.github.io/manual/filters.html\" rel=\"nofollow\">default</a>. </p>\n"}],"owner":{"account_id":6851610,"reputation":21,"user_id":5268629,"display_name":"Sandeep Jaluthairya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685431267,"creation_date":1442325714,"question_id":32588120,"body_markdown":"I&#39;m changing my java project to golang. I&#39;m using a java annotation and want to convert it into go code. I want to know the best data structure in go to convert this annotation.\r\n\r\nMy code is as follows:\r\n\r\n    package main\r\n\r\n    import (\r\n        &quot;bytes&quot;\r\n        &quot;encoding/json&quot;\r\n        &quot;fmt&quot;\r\n        &quot;io/ioutil&quot;\r\n        &quot;net/http&quot;\r\n        &quot;strconv&quot;\r\n        &quot;time&quot;\r\n    )\r\n\r\n    func getBody(method string, Id string, auth string, body []byte,timeStamp int64) ([]byte, error) {\r\n\r\n\t    url := &quot;****************&quot;+Id+&quot;***********&quot;+strconv.FormatInt(timeStamp,10)\r\n        client := &amp;http.Client{}\r\n        req, err := http.NewRequest(method, url, bytes.NewReader(body))\r\n\r\n        if err != nil {\r\n            return nil, err\r\n        }\r\n\r\n\t    var header = make(map[string]string,2)\r\n\t    header[&quot;Accept&quot;]=&quot;*******************&quot;\r\n        header[&quot;Authorization&quot;]=auth\r\n        \r\n        for key, value := range header {\r\n            req.Header.Add(key, value)\r\n        }\r\n\r\n        res, err := client.Do(req)\r\n        defer res.Body.Close()\r\n\r\n        if err != nil {\r\n            return nil, err\r\n        }\r\n\r\n        var bodyBytes []byte\r\n\r\n        if res.StatusCode == 200 {\r\n            bodyBytes, err = ioutil.ReadAll(res.Body)\r\n        } else if err != nil {\r\n            return nil, err\r\n        } else {\r\n            return nil, fmt.Errorf(&quot;The remote end did not return a HTTP 200 (OK) response.&quot;)\r\n        }\r\n\r\n        return bodyBytes, nil\r\n\r\n    }\r\n\r\n    func main() {\r\n\t    \r\n\t    method := &quot;GET&quot;\r\n        auth:=&quot;************&quot;\r\n        var timeStamp int64 = 1441689793403\r\n        Id:=&quot;***********&quot;\r\n        fmt.Println(timeStamp)\r\n        var cs int64 = time.Now().UnixNano()/1000000\r\n        for{\r\n        \tcs = time.Now().UnixNano()/1000000\r\n\t        bodyBytes, err := getBody(method, Id, auth, nil,timeStamp)\r\n\t\t    if err != nil {\r\n\t            fmt.Errorf(&quot;unable to retrieve the response body from the Glance API server: %v&quot;, err)\r\n\t        }\r\n\t\t    \r\n\t\t    var obj []interface{}\r\n\t        err = json.Unmarshal(bodyBytes, &amp;obj)\r\n\t\t    \r\n\t        if err != nil {\r\n\t            fmt.Errorf(&quot;unable to parse the JSON response:&quot;, err)\r\n\t        }\r\n\r\n\t        for i,_:=range obj{\r\n\t        \tm := obj[i].(map[string]interface{})\r\n\t        \tfmt.Println(m[&quot;text&quot;])\r\n\r\n             /* @OnKeyWord(&quot;hi&quot;)\r\n              public void HelloWorld(TeamchatAPI api) {\r\n\t\t      System.out.println(&quot;Hello word&quot;);\r\n\t\t\t\t    );  */\r\n\r\n\r\n\t        }\r\n\t        \r\n\t        timeStamp = cs\r\n        }\r\n    }\r\n\r\n\r\nI want to convert the commented java code into go code.\r\n\r\nAlternatively you can take your own example to explain, if you want.","title":"how to convert java annotation to go code?","body":"<p>I'm changing my java project to golang. I'm using a java annotation and want to convert it into go code. I want to know the best data structure in go to convert this annotation.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>package main\n\nimport (\n    \"bytes\"\n    \"encoding/json\"\n    \"fmt\"\n    \"io/ioutil\"\n    \"net/http\"\n    \"strconv\"\n    \"time\"\n)\n\nfunc getBody(method string, Id string, auth string, body []byte,timeStamp int64) ([]byte, error) {\n\n    url := \"****************\"+Id+\"***********\"+strconv.FormatInt(timeStamp,10)\n    client := &amp;http.Client{}\n    req, err := http.NewRequest(method, url, bytes.NewReader(body))\n\n    if err != nil {\n        return nil, err\n    }\n\n    var header = make(map[string]string,2)\n    header[\"Accept\"]=\"*******************\"\n    header[\"Authorization\"]=auth\n\n    for key, value := range header {\n        req.Header.Add(key, value)\n    }\n\n    res, err := client.Do(req)\n    defer res.Body.Close()\n\n    if err != nil {\n        return nil, err\n    }\n\n    var bodyBytes []byte\n\n    if res.StatusCode == 200 {\n        bodyBytes, err = ioutil.ReadAll(res.Body)\n    } else if err != nil {\n        return nil, err\n    } else {\n        return nil, fmt.Errorf(\"The remote end did not return a HTTP 200 (OK) response.\")\n    }\n\n    return bodyBytes, nil\n\n}\n\nfunc main() {\n\n    method := \"GET\"\n    auth:=\"************\"\n    var timeStamp int64 = 1441689793403\n    Id:=\"***********\"\n    fmt.Println(timeStamp)\n    var cs int64 = time.Now().UnixNano()/1000000\n    for{\n        cs = time.Now().UnixNano()/1000000\n        bodyBytes, err := getBody(method, Id, auth, nil,timeStamp)\n        if err != nil {\n            fmt.Errorf(\"unable to retrieve the response body from the Glance API server: %v\", err)\n        }\n\n        var obj []interface{}\n        err = json.Unmarshal(bodyBytes, &amp;obj)\n\n        if err != nil {\n            fmt.Errorf(\"unable to parse the JSON response:\", err)\n        }\n\n        for i,_:=range obj{\n            m := obj[i].(map[string]interface{})\n            fmt.Println(m[\"text\"])\n\n         /* @OnKeyWord(\"hi\")\n          public void HelloWorld(TeamchatAPI api) {\n          System.out.println(\"Hello word\");\n                );  */\n\n\n        }\n\n        timeStamp = cs\n    }\n}\n</code></pre>\n\n<p>I want to convert the commented java code into go code.</p>\n\n<p>Alternatively you can take your own example to explain, if you want.</p>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":3423392,"reputation":6180,"user_id":2870088,"accept_rate":22,"display_name":"Anurag Singh"},"score":0,"creation_date":1487249862,"post_id":34314695,"comment_id":71705263,"body_markdown":"Post the code for retrofit api creation. Just for the information why don&#39;t you use latest version of retrofit with okhttp which has more support for redirect?","body":"Post the code for retrofit api creation. Just for the information why don&#39;t you use latest version of retrofit with okhttp which has more support for redirect?"},{"owner":{"account_id":2550419,"reputation":159,"user_id":2214286,"accept_rate":100,"display_name":"Napster"},"score":0,"creation_date":1487745474,"post_id":34314695,"comment_id":71917126,"body_markdown":"@lotfi can I see your reftrofitClient setup method, also the common service.","body":"@lotfi can I see your reftrofitClient setup method, also the common service."},{"owner":{"account_id":1630724,"reputation":2887,"user_id":1505341,"display_name":"Kerem"},"score":0,"creation_date":1487827858,"post_id":34314695,"comment_id":71962089,"body_markdown":"If you must use Retrofit 1.9, see my answer. Otherwise it seems to be the easier way to go with 2.0+ which handles the redirect on 307 automatically as i see.","body":"If you must use Retrofit 1.9, see my answer. Otherwise it seems to be the easier way to go with 2.0+ which handles the redirect on 307 automatically as i see."}],"answers":[{"tags":[],"owner":{"account_id":1630724,"reputation":2887,"user_id":1505341,"display_name":"Kerem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487836293,"creation_date":1487514522,"answer_id":42328422,"question_id":34314695,"body_markdown":"Edit: if you must not use Retrofit 1.9, switching to a newer version (ie 2.0+) should handle the solution covered below automatically.\n\n----\n\nLooks like your HTTP client (on Android side) should handle this redirection by reading the `Location` value in the response header you are receiving when this happens, which supposed to contain a target redirection URL you ought to hit from the client again.\r\n\r\nSee their comment [here][1].\r\n\r\n&gt; So for now you need to implement this at the application level (which\r\n&gt; is hard with Retrofit 1, easier with the forthcoming Retrofit 2) or\r\n&gt; wait until OkHttp 3.1(ish) when we implement the newest spec.\r\n\r\nSee also what [307][2] means.\r\n\r\n&gt; Fixing 307 errors - general The 307 response from the Web server\r\n&gt; should always include an alternative URL to which redirection should\r\n&gt; occur. If it does, a Web browser will immediately retry the\r\n&gt; alternative URL. So you never actually see a 307 error in a Web\r\n&gt; browser, unless perhaps you have a corrupt redirection chain e.g. URL\r\n&gt; A redirects to URL B which in turn redirects back to URL A. If your\r\n&gt; client is not a Web browser, it should behave in the same way as a Web\r\n&gt; browser i.e. immediately retry the alternative URL.\r\n&gt; \r\n&gt; If the Web server does not return an alternative URL with the 307\r\n&gt; response, then either the Web server sofware itself is defective or\r\n&gt; the Webmaster has not set up the URL redirection correctly.\r\n\r\nSee javadoc for Retrofit 1.9.0 to grab the Location header value(URL) from response;\r\n\r\nhttp://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--\r\n\r\n    // omitting null check for brevity\r\n    for (Header header : response.getHeaders())\r\n    {\r\n        if (header.getName().equals(&quot;Location&quot;)) {\r\n        \tredirectURL = header.getValue();\r\n        }\r\n    }\r\n    \r\n    // do a redirect to redirectURL\r\n\r\n  [1]: https://github.com/square/okhttp/issues/2131#issuecomment-166493791\r\n  [2]: http://www.checkupdown.com/status/E307.html","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>Edit: if you must not use Retrofit 1.9, switching to a newer version (ie 2.0+) should handle the solution covered below automatically.</p>\n\n<hr>\n\n<p>Looks like your HTTP client (on Android side) should handle this redirection by reading the <code>Location</code> value in the response header you are receiving when this happens, which supposed to contain a target redirection URL you ought to hit from the client again.</p>\n\n<p>See their comment <a href=\"https://github.com/square/okhttp/issues/2131#issuecomment-166493791\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>So for now you need to implement this at the application level (which\n  is hard with Retrofit 1, easier with the forthcoming Retrofit 2) or\n  wait until OkHttp 3.1(ish) when we implement the newest spec.</p>\n</blockquote>\n\n<p>See also what <a href=\"http://www.checkupdown.com/status/E307.html\" rel=\"nofollow noreferrer\">307</a> means.</p>\n\n<blockquote>\n  <p>Fixing 307 errors - general The 307 response from the Web server\n  should always include an alternative URL to which redirection should\n  occur. If it does, a Web browser will immediately retry the\n  alternative URL. So you never actually see a 307 error in a Web\n  browser, unless perhaps you have a corrupt redirection chain e.g. URL\n  A redirects to URL B which in turn redirects back to URL A. If your\n  client is not a Web browser, it should behave in the same way as a Web\n  browser i.e. immediately retry the alternative URL.</p>\n  \n  <p>If the Web server does not return an alternative URL with the 307\n  response, then either the Web server sofware itself is defective or\n  the Webmaster has not set up the URL redirection correctly.</p>\n</blockquote>\n\n<p>See javadoc for Retrofit 1.9.0 to grab the Location header value(URL) from response;</p>\n\n<p><a href=\"http://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--\" rel=\"nofollow noreferrer\">http://static.javadoc.io/com.squareup.retrofit/retrofit/1.9.0/retrofit/client/Response.html#getHeaders--</a></p>\n\n<pre><code>// omitting null check for brevity\nfor (Header header : response.getHeaders())\n{\n    if (header.getName().equals(\"Location\")) {\n        redirectURL = header.getValue();\n    }\n}\n\n// do a redirect to redirectURL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2550419,"reputation":159,"user_id":2214286,"accept_rate":100,"display_name":"Napster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489386327,"creation_date":1487745858,"answer_id":42384443,"question_id":34314695,"body_markdown":"You are Using Old dependency\r\n\r\nChange your dependency from\r\n &quot;com.squareup.retrofit:retrofit:1.9.0&quot;\r\n\r\nto\r\n\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.2.0&#39;\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.2.0&#39;\r\n    compile &#39;com.squareup.okhttp3:okhttp:3.4.1&#39;\r\n\r\nalso add this dependency to get full log\r\n\r\n    compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;.\r\n\r\nAdd this method in your Retrofit Client Class\r\n\r\n    HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n        httpClient.connectTimeout(&quot;Your_Time&quot;, TimeUnit.SECONDS);\r\n        httpClient.readTimeout(&quot;Your_Time&quot;, TimeUnit.SECONDS);\r\n        httpClient.addInterceptor(logging);\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;BASE URL&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(httpClient.build())\r\n                .build();\r\n\r\n\r\n \r\n\r\n    \r\n\r\nBelow code is to Handle the Http protocol Exception \r\n\r\n    public Response post(String url, String content) throws IOException {\r\n        RequestBody body = RequestBody.create(PROTOCOL, content);\r\n\r\n        Request.Builder requestBuilder = new Request.Builder().url(url).post(body);\r\n        Request request = requestBuilder.build();\r\n        Response response = this.client.newCall(request).execute();\r\n\r\n        if(response.code() == 307) {\r\n            String location = response.header(&quot;Location&quot;);\r\n            return post(location, content);\r\n        }\r\n\r\n        return response;\r\n    }","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>You are Using Old dependency</p>\n\n<p>Change your dependency from\n \"com.squareup.retrofit:retrofit:1.9.0\"</p>\n\n<p>to</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.2.0'\ncompile 'com.squareup.retrofit2:converter-gson:2.2.0'\ncompile 'com.squareup.okhttp3:okhttp:3.4.1'\n</code></pre>\n\n<p>also add this dependency to get full log</p>\n\n<pre><code>compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'.\n</code></pre>\n\n<p>Add this method in your Retrofit Client Class</p>\n\n<pre><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    httpClient.connectTimeout(\"Your_Time\", TimeUnit.SECONDS);\n    httpClient.readTimeout(\"Your_Time\", TimeUnit.SECONDS);\n    httpClient.addInterceptor(logging);\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(\"BASE URL\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(httpClient.build())\n            .build();\n</code></pre>\n\n<p>Below code is to Handle the Http protocol Exception </p>\n\n<pre><code>public Response post(String url, String content) throws IOException {\n    RequestBody body = RequestBody.create(PROTOCOL, content);\n\n    Request.Builder requestBuilder = new Request.Builder().url(url).post(body);\n    Request request = requestBuilder.build();\n    Response response = this.client.newCall(request).execute();\n\n    if(response.code() == 307) {\n        String location = response.header(\"Location\");\n        return post(location, content);\n    }\n\n    return response;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968019,"reputation":5631,"user_id":991094,"accept_rate":91,"display_name":"Sreehari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487756680,"creation_date":1487756269,"answer_id":42387776,"question_id":34314695,"body_markdown":"Try to put `HttpLoggingInterceptor` and check the logs. Also cross check with [Rest Client][1] if your server is returning back with proper response or not for provided input along with parameters.\r\n\r\nFor `HttpLoggingInterceptor`, this is the following way to configure\r\n\r\n    public RestClient() {\r\n            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n            logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n    \r\n            httpClient.addInterceptor(logging);\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;BASEURL&quot;)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(httpClient.build())\r\n                    .build();\r\n            //APIInterface initiation\r\n            service = retrofit.create(APIInterface.class);\r\n        }\r\n\r\n\r\nBelow are the dependencies for the same\r\n\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n    compile &#39;com.squareup.okhttp3:logging-interceptor:3.3.1&#39;\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n\r\nGo through this [Sample tutorial][2] of Retrofit, if you are following some other possibilities of initiating the rest client\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo\r\n  [2]: http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>Try to put <code>HttpLoggingInterceptor</code> and check the logs. Also cross check with <a href=\"https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo\" rel=\"nofollow noreferrer\">Rest Client</a> if your server is returning back with proper response or not for provided input along with parameters.</p>\n\n<p>For <code>HttpLoggingInterceptor</code>, this is the following way to configure</p>\n\n<pre><code>public RestClient() {\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n\n        httpClient.addInterceptor(logging);\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(\"BASEURL\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(httpClient.build())\n                .build();\n        //APIInterface initiation\n        service = retrofit.create(APIInterface.class);\n    }\n</code></pre>\n\n<p>Below are the dependencies for the same</p>\n\n<pre><code>compile 'com.squareup.retrofit2:converter-gson:2.1.0'\ncompile 'com.squareup.okhttp3:logging-interceptor:3.3.1'\ncompile 'com.squareup.retrofit2:retrofit:2.1.0'\n</code></pre>\n\n<p>Go through this <a href=\"http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\" rel=\"nofollow noreferrer\">Sample tutorial</a> of Retrofit, if you are following some other possibilities of initiating the rest client</p>\n"},{"tags":[],"owner":{"account_id":9166619,"reputation":3537,"user_id":6815931,"accept_rate":14,"display_name":"Ready Android"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501323290,"creation_date":1501323290,"answer_id":45388038,"question_id":34314695,"body_markdown":"I got the solution after a lot of efforts. May be this will help you. If you are getting this error **&quot;203 HTTP 307 Temporary Redirect&quot;** then this trick will help you. \r\nAppend **&#39;/&#39;** to your web service at the end and then check this error goes away. I don&#39;t know the reason behind this but it works for me.\r\n\r\nFor me, my old request web service: https://mydomain/rest/Search. \r\nUsing this URL I was getting **&quot;203 HTTP 307 Temporary Redirect&quot;** where I was able to get a response in POSTMAN and web browser.\r\n\r\nMy new request web service with the trick: https://mydomain/rest/Search/. \r\nThis **&#39;/&#39;** resolve the issue.","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I got the solution after a lot of efforts. May be this will help you. If you are getting this error <strong>\"203 HTTP 307 Temporary Redirect\"</strong> then this trick will help you. \nAppend <strong>'/'</strong> to your web service at the end and then check this error goes away. I don't know the reason behind this but it works for me.</p>\n\n<p>For me, my old request web service: <a href=\"https://mydomain/rest/Search\" rel=\"noreferrer\">https://mydomain/rest/Search</a>. \nUsing this URL I was getting <strong>\"203 HTTP 307 Temporary Redirect\"</strong> where I was able to get a response in POSTMAN and web browser.</p>\n\n<p>My new request web service with the trick: <a href=\"https://mydomain/rest/Search/\" rel=\"noreferrer\">https://mydomain/rest/Search/</a>. \nThis <strong>'/'</strong> resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2588319,"reputation":1759,"user_id":2243501,"accept_rate":75,"display_name":"Dusk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542096291,"creation_date":1542096291,"answer_id":53276391,"question_id":34314695,"body_markdown":"If you want to handle all 307 responses, you can create and add an `Interceptor` to do the job; This interceptor simply creates a new request with the new path which is indicated in the response header &quot;location&quot;.\r\n\r\n    val client = OkHttpClient.Builder()\r\n     .addInterceptor {\r\n                        val request = it.request()\r\n                        val response = it.proceed(request)\r\n                        if (response.code() == 307) {\r\n                            val url = HttpUrl.Builder()\r\n                                    .scheme(request.url().scheme())\r\n                                    .host(request.url().host())\r\n                                    .addPathSegment(response.header(&quot;location&quot;, request.url().url().path)?: &quot;&quot;)\r\n                                    .build()\r\n\r\n                            val newRequest = Request.Builder()\r\n                                    .method(request.method(), request.body())\r\n                                    .url(url)\r\n                                    .headers(request.headers())\r\n                                    .build()\r\n\r\n                            return@addInterceptor it.proceed(newRequest)\r\n                        }\r\n\r\n                        response\r\n                    }\r\n      .build()\r\n    \r\n    Retrofit.Builder().client(client).build()\r\n\r\n ","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>If you want to handle all 307 responses, you can create and add an <code>Interceptor</code> to do the job; This interceptor simply creates a new request with the new path which is indicated in the response header \"location\".</p>\n\n<pre><code>val client = OkHttpClient.Builder()\n .addInterceptor {\n                    val request = it.request()\n                    val response = it.proceed(request)\n                    if (response.code() == 307) {\n                        val url = HttpUrl.Builder()\n                                .scheme(request.url().scheme())\n                                .host(request.url().host())\n                                .addPathSegment(response.header(\"location\", request.url().url().path)?: \"\")\n                                .build()\n\n                        val newRequest = Request.Builder()\n                                .method(request.method(), request.body())\n                                .url(url)\n                                .headers(request.headers())\n                                .build()\n\n                        return@addInterceptor it.proceed(newRequest)\n                    }\n\n                    response\n                }\n  .build()\n\nRetrofit.Builder().client(client).build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8253190,"reputation":161,"user_id":6207124,"display_name":"renzherl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566823413,"creation_date":1566823413,"answer_id":57658161,"question_id":34314695,"body_markdown":"#Solution 1\r\nYou can create an extra interceptor to handle 307\r\n\r\n    private static class RedirectInterceptor implements Interceptor {\r\n\r\n    @Override\r\n    public Response intercept(Chain chain) throws IOException {\r\n        Request request = chain.request();\r\n        Response response = chain.proceed(chain.request());\r\n        if (response.code() == 307) {\r\n            request = request.newBuilder()\r\n                    .url(response.header(&quot;Location&quot;))\r\n                    .build();\r\n            response = chain.proceed(request);\r\n\r\n        }\r\n        return response;\r\n    }\r\n}\r\n\r\n\r\nand add the RedirectInterceptor to your okHttpClient(okhttp2 for example)\r\n\r\n    OkHttpClient okHttpClient = new OkHttpClient();\r\n    okHttpClient.interceptors().add(new RedirectInterceptor());\r\n    okHttpClient.setFollowRedirects(false);\r\n\r\n\r\n#Solution 2\r\nYou can create an ApacheClient with LaxRedirectStrategy\r\n\r\n    private ApacheClient createRedirectClient(){\r\n   \r\n        return new ApacheClient(HttpClients.custom()\r\n          .setRedirectStrategy(new LaxRedirectStrategy()).build());\r\n    }\r\n\r\n    RestAdapter.Builder builder = new RestAdapter.Builder()\r\n       .setEndpoint(&quot;http://yourendpoint&quot;)\r\n       .setClient(createRedirectClient());\r\n       .setLogLevel(RestAdapter.LogLevel.FULL)\r\n       .build();\r\n\r\n   ","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<h1>Solution 1</h1>\n\n<p>You can create an extra interceptor to handle 307</p>\n\n<pre><code>private static class RedirectInterceptor implements Interceptor {\n\n@Override\npublic Response intercept(Chain chain) throws IOException {\n    Request request = chain.request();\n    Response response = chain.proceed(chain.request());\n    if (response.code() == 307) {\n        request = request.newBuilder()\n                .url(response.header(\"Location\"))\n                .build();\n        response = chain.proceed(request);\n\n    }\n    return response;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and add the RedirectInterceptor to your okHttpClient(okhttp2 for example)</p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient();\nokHttpClient.interceptors().add(new RedirectInterceptor());\nokHttpClient.setFollowRedirects(false);\n</code></pre>\n\n<h1>Solution 2</h1>\n\n<p>You can create an ApacheClient with LaxRedirectStrategy</p>\n\n<pre><code>private ApacheClient createRedirectClient(){\n\n    return new ApacheClient(HttpClients.custom()\n      .setRedirectStrategy(new LaxRedirectStrategy()).build());\n}\n\nRestAdapter.Builder builder = new RestAdapter.Builder()\n   .setEndpoint(\"http://yourendpoint\")\n   .setClient(createRedirectClient());\n   .setLogLevel(RestAdapter.LogLevel.FULL)\n   .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7152814,"reputation":607,"user_id":5466248,"accept_rate":50,"display_name":"sudharsan chandrasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685430182,"creation_date":1685430182,"answer_id":76362317,"question_id":34314695,"body_markdown":"I have faced the same issue and cracked it by adding a few changes. You can use the HTTP client Interceptor and retain the previous records -&gt; Then update the new redirection URL and proceed with the same chain. Now the magic will happen in the same request call. Happing coding!!\r\n\r\n    public static Retrofit getClient(String url) {\r\n        if (retrofit == null) {\r\n\r\n            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n            logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n            httpClient.addInterceptor(logging);\r\n            httpClient.interceptors().add(new Interceptor() {\r\n                @Override\r\n                public Response intercept(Chain chain) throws IOException {\r\n                    Response response = chain.proceed(chain.request());\r\n                    RequestBody originalBody = chain.request().body();\r\n                    Request originalRequest = chain.request();\r\n                    if(response.code() == 307)\r\n                    {\r\n                        String location =  response.header(&quot;Location&quot;);\r\n                        Log.d(WTBConstant.TAG, &quot;newLoc: &quot;+ location);\r\n                        Request.Builder nwRequest = new Request.Builder().url(location).post(originalBody);\r\n                        Request request = nwRequest.build();\r\n                        return chain.proceed(request);\r\n\r\n                    }\r\n                    return response;\r\n                }\r\n            });\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(url)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(httpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I have faced the same issue and cracked it by adding a few changes. You can use the HTTP client Interceptor and retain the previous records -&gt; Then update the new redirection URL and proceed with the same chain. Now the magic will happen in the same request call. Happing coding!!</p>\n<pre><code>public static Retrofit getClient(String url) {\n    if (retrofit == null) {\n\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n        httpClient.addInterceptor(logging);\n        httpClient.interceptors().add(new Interceptor() {\n            @Override\n            public Response intercept(Chain chain) throws IOException {\n                Response response = chain.proceed(chain.request());\n                RequestBody originalBody = chain.request().body();\n                Request originalRequest = chain.request();\n                if(response.code() == 307)\n                {\n                    String location =  response.header(&quot;Location&quot;);\n                    Log.d(WTBConstant.TAG, &quot;newLoc: &quot;+ location);\n                    Request.Builder nwRequest = new Request.Builder().url(location).post(originalBody);\n                    Request request = nwRequest.build();\n                    return chain.proceed(request);\n\n                }\n                return response;\n            }\n        });\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(url)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(httpClient.build())\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n"}],"owner":{"account_id":921520,"reputation":425,"user_id":953146,"accept_rate":17,"display_name":"lotfi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5924,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1685430182,"creation_date":1450276404,"question_id":34314695,"body_markdown":"I am using the library `com.squareup.retrofit:retrofit:1.9.0`, in order to send data to my server from my android Application.\r\n\r\nIn fact,when I want to send a request to the server, I found this error:\r\n\r\n    failure : retrofit.RetrofitError: 307 Temporary Redirect\r\n\r\nI try many idea but the same problem persist.\r\n\r\nPlease Expert help me to resolve this issue.\r\n\r\nRegards\r\n","title":"failure : retrofit.RetrofitError: 307 Temporary Redirect?","body":"<p>I am using the library <code>com.squareup.retrofit:retrofit:1.9.0</code>, in order to send data to my server from my android Application.</p>\n\n<p>In fact,when I want to send a request to the server, I found this error:</p>\n\n<pre><code>failure : retrofit.RetrofitError: 307 Temporary Redirect\n</code></pre>\n\n<p>I try many idea but the same problem persist.</p>\n\n<p>Please Expert help me to resolve this issue.</p>\n\n<p>Regards</p>\n"},{"tags":["java","tomcat","networking","windows-server-2016"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447883,"post_id":76361979,"comment_id":134658238,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason. And remember that Stackoverflow is an English only site.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason. And remember that Stackoverflow is an English only site."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685447916,"post_id":76361979,"comment_id":134658250,"body_markdown":"What kind of network drive is it? Mapped letter, UNC?","body":"What kind of network drive is it? Mapped letter, UNC?"}],"owner":{"account_id":22487072,"reputation":1,"user_id":16685312,"display_name":"YongAn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685429810,"creation_date":1685426742,"question_id":76361979,"body_markdown":"I use Apache Tomcat as my web application services, and I installed service.bat .\r\nwhen my application access the network drive I get this trouble.\r\nfirstly the applicaiton logs notice that I dont login, so I changed the server setting\r\nthat run the server on  administrator , it also cant access the network drive , but the logs notice that I need change account password before I login.\r\n\r\n[this chinese mean that I need change account password befor i login](https://i.stack.imgur.com/grTza.png)\r\n\r\nI want my web application to access the network drive ","title":"How can I make my web application running on Windows Server access the network drive using Apache Tomcat?","body":"<p>I use Apache Tomcat as my web application services, and I installed service.bat .\nwhen my application access the network drive I get this trouble.\nfirstly the applicaiton logs notice that I dont login, so I changed the server setting\nthat run the server on  administrator , it also cant access the network drive , but the logs notice that I need change account password before I login.</p>\n<p><a href=\"https://i.stack.imgur.com/grTza.png\" rel=\"nofollow noreferrer\">this chinese mean that I need change account password befor i login</a></p>\n<p>I want my web application to access the network drive</p>\n"},{"tags":["java","curl"],"answers":[{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1427458582,"creation_date":1427457786,"answer_id":29300233,"question_id":29300172,"body_markdown":"It is the shell (or command processor) that locates a file among the directories defined in the PATH variable.\r\n\r\nSimply starting a subprocess with a path to a command and a list of arguments does not go through the shell, unless you explicitly code it to do so.\r\n\r\nIf you can&#39;t offload the exact position of curl into some system property, you may have to interpret PATH and try all directories and then call with the full pathname.\r\n\r\n\r\n    public static Path findAbsolutePath( String curl ){\r\n\t  String path = System.getenv( &quot;PATH&quot; );\r\n      String[] dirs = path.split( &quot;;&quot; );\r\n\t  for( String dir: dirs ){\r\n\t    Path toCurl = Paths.get( dir, curl );\r\n\t    File curlFile = new File( toCurl.toString() );\r\n\t    if( curlFile.canExecute() ) return toCurl;\r\n\t  }\r\n\t  return null;\r\n    }\r\n\r\nOr call the command processor.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>It is the shell (or command processor) that locates a file among the directories defined in the PATH variable.</p>\n\n<p>Simply starting a subprocess with a path to a command and a list of arguments does not go through the shell, unless you explicitly code it to do so.</p>\n\n<p>If you can't offload the exact position of curl into some system property, you may have to interpret PATH and try all directories and then call with the full pathname.</p>\n\n<pre><code>public static Path findAbsolutePath( String curl ){\n  String path = System.getenv( \"PATH\" );\n  String[] dirs = path.split( \";\" );\n  for( String dir: dirs ){\n    Path toCurl = Paths.get( dir, curl );\n    File curlFile = new File( toCurl.toString() );\n    if( curlFile.canExecute() ) return toCurl;\n  }\n  return null;\n}\n</code></pre>\n\n<p>Or call the command processor.</p>\n"},{"tags":[],"owner":{"account_id":1339795,"reputation":1145,"user_id":1281721,"display_name":"Shane Voisard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427458242,"creation_date":1427458242,"answer_id":29300363,"question_id":29300172,"body_markdown":"[ProcessBuilder#ProcessBuilder(String... command)][1] javadoc: \r\n\r\n&gt; It is not checked whether command corresponds to a valid operating\r\n&gt; system command.\r\n\r\nSo you need to build the absolute path to curl in the string you pass to the constructor.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder-java.lang.String...-","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder-java.lang.String...-\" rel=\"nofollow\">ProcessBuilder#ProcessBuilder(String... command)</a> javadoc: </p>\n\n<blockquote>\n  <p>It is not checked whether command corresponds to a valid operating\n  system command.</p>\n</blockquote>\n\n<p>So you need to build the absolute path to curl in the string you pass to the constructor.</p>\n"},{"tags":[],"owner":{"account_id":4354218,"reputation":568,"user_id":3553424,"display_name":"Naveen Thiyagarajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561136507,"creation_date":1561136507,"answer_id":56707713,"question_id":29300172,"body_markdown":"I am posting this answer because i was not able to fix this problem with all the existing answer:\r\n\r\nThis is one of the answers for any beginner.(mostly combination of all the existing answer).\r\n\r\n 1. In the Windows machine make sure `curl` is installed. (follow the google to install)\r\n 2. Make sure you add the `curl` `bin` path to environment system variable\r\n 3. Restart the machine. (Important!. Because i spent lot of time because the `processBuilder` was using the `PATH` that was not having the CURL in it. Restarting fixed it) This is reason for the original error in the question.\r\n 4. You can use `System.getenv( &quot;PATH&quot; )` to verify on the code.\r\n\r\n**Addon**:  If you are using `POST`, then make sure the post payload is escaped when running through WINDOWS. and NOT escaped when running through MAC. I really do not know the problem but it took lot time to debug.\r\nEscape in the sense: `&quot;` with `\\&quot;`.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I am posting this answer because i was not able to fix this problem with all the existing answer:</p>\n\n<p>This is one of the answers for any beginner.(mostly combination of all the existing answer).</p>\n\n<ol>\n<li>In the Windows machine make sure <code>curl</code> is installed. (follow the google to install)</li>\n<li>Make sure you add the <code>curl</code> <code>bin</code> path to environment system variable</li>\n<li>Restart the machine. (Important!. Because i spent lot of time because the <code>processBuilder</code> was using the <code>PATH</code> that was not having the CURL in it. Restarting fixed it) This is reason for the original error in the question.</li>\n<li>You can use <code>System.getenv( \"PATH\" )</code> to verify on the code.</li>\n</ol>\n\n<p><strong>Addon</strong>:  If you are using <code>POST</code>, then make sure the post payload is escaped when running through WINDOWS. and NOT escaped when running through MAC. I really do not know the problem but it took lot time to debug.\nEscape in the sense: <code>\"</code> with <code>\\\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429457,"creation_date":1685429457,"answer_id":76362232,"question_id":29300172,"body_markdown":"I made it work like this: Add &quot;cmd /c&quot; in front if running on Windows:\r\n\r\n```\r\nList&lt;String&gt; command = new ArrayList&lt;&gt;();\r\nif (System.getProperty(&quot;os.name&quot;).contains(&quot;indows&quot;)) {\r\n  // We need to add &quot;cmd /c&quot; on Windows so that applications on the path are found by ProcessBuilder\r\n  command.addAll(List.of(&quot;cmd&quot;, &quot;/c&quot;));\r\n}\r\ncommand.addAll(parameters);\r\nProcessBuilder builder = new ProcessBuilder(command);\r\n...\r\n```\r\n\r\nWhere `parameters` contains the actual program and arguments you want to run.","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I made it work like this: Add &quot;cmd /c&quot; in front if running on Windows:</p>\n<pre><code>List&lt;String&gt; command = new ArrayList&lt;&gt;();\nif (System.getProperty(&quot;os.name&quot;).contains(&quot;indows&quot;)) {\n  // We need to add &quot;cmd /c&quot; on Windows so that applications on the path are found by ProcessBuilder\n  command.addAll(List.of(&quot;cmd&quot;, &quot;/c&quot;));\n}\ncommand.addAll(parameters);\nProcessBuilder builder = new ProcessBuilder(command);\n...\n</code></pre>\n<p>Where <code>parameters</code> contains the actual program and arguments you want to run.</p>\n"}],"owner":{"account_id":4660419,"reputation":693,"user_id":3774834,"accept_rate":80,"display_name":"SMSk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8269,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29300233,"answer_count":4,"score":3,"last_activity_date":1685429457,"creation_date":1427457536,"question_id":29300172,"body_markdown":"I try to run `curl`from my java application. Here is my code:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;curl&quot;,\r\n                        &quot;-T&quot;,\r\n                        &quot;\\&quot;&quot; + tmp_dir + &quot;client-&quot; + node_id + &quot;.war\\&quot;&quot;,\r\n                        &quot;\\&quot;&quot; + tomcat_url + &quot;/deploy?path=/client&quot; + node_id + &quot;&amp;update=true\\&quot;&quot;);\r\n    Process p = pb.start();\r\n\r\nyet, it gives the exception:\r\n\r\n    java.io.IOException: Cannot run program &quot;curl&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\r\n`curl` is in my System PATH and user PATH, and when I run `curl` from `cmd` it works perfectly:\r\n\r\n![enter image description here][1]\r\n\r\nAlso, when I give ProcessBuilder absolute path to `curl` executable, it works, but I don&#39;t want to do that since my code should work with `curl` whatver directory it&#39;s installed into \r\n\r\nWhat am I doing wrong? \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0bp8Q.png","title":"Java ProcessBuilder can&#39;t find file in PATH","body":"<p>I try to run <code>curl</code>from my java application. Here is my code:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"curl\",\n                    \"-T\",\n                    \"\\\"\" + tmp_dir + \"client-\" + node_id + \".war\\\"\",\n                    \"\\\"\" + tomcat_url + \"/deploy?path=/client\" + node_id + \"&amp;update=true\\\"\");\nProcess p = pb.start();\n</code></pre>\n\n<p>yet, it gives the exception:</p>\n\n<pre><code>java.io.IOException: Cannot run program \"curl\": CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n\n<p><code>curl</code> is in my System PATH and user PATH, and when I run <code>curl</code> from <code>cmd</code> it works perfectly:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0bp8Q.png\" alt=\"enter image description here\"></p>\n\n<p>Also, when I give ProcessBuilder absolute path to <code>curl</code> executable, it works, but I don't want to do that since my code should work with <code>curl</code> whatver directory it's installed into </p>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["java","xml","maven","testng","appium"],"answers":[{"tags":[],"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429410,"creation_date":1685429410,"answer_id":76362223,"question_id":76358382,"body_markdown":"You can try adding the `parallel` keyword, equal to false in your test attribute.\r\n```xml\r\n&lt;test name=&quot;some name&quot; parallel=&quot;false&quot;&gt;\r\n```","title":"Appium (execute one more test class based on one device - not parallel)","body":"<p>You can try adding the <code>parallel</code> keyword, equal to false in your test attribute.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;test name=&quot;some name&quot; parallel=&quot;false&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2901678,"reputation":1,"user_id":2488180,"display_name":"Left Handed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685429410,"creation_date":1685372359,"question_id":76358382,"body_markdown":"I used appium v2.** (with device farm plugin)  and I have one more test class files.\r\nthis is my testng.xml file source code:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;Test Suite Name&quot;&gt;\r\n&lt;listeners&gt;\r\n&lt;listener class-name=&quot;Helpers.AnnotationTransformer&quot;/&gt;\r\n&lt;listener class-name=&quot;Helpers.Listener&quot;/&gt;\r\n\r\n&lt;/listeners&gt;\r\n&lt;test name=&quot;some name&quot;&gt;\r\n&lt;classes&gt;\r\n&lt;class name=&quot;testClass1&quot;/&gt;\r\n&lt;class name=&quot;testClass2&quot;/&gt;\r\n&lt;/classes&gt;\r\n&lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n```\r\n\r\n I have only one mobile device for testing.\r\nand I execute this testng file,  appium started search 2 mobile device for execute script.\r\ni wont to run all test file only one device  (class by class) not parallel.\r\nhow can do this? :frowning:\r\nthis problem started after appium update.\r\nAppium starts searching for as many devices as there are test files written here\r\n\r\n```\r\n&lt;class name=&quot;testClass1&quot;/&gt;\r\n&lt;class name=&quot;testClass2&quot;/&gt;\r\n```\r\n it&#39;s Base class method:\r\n```\r\n\r\n        public Base() throws MalformedURLException {\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\r\n        capabilities.setCapability(&quot;appium:deviceName&quot;, conf.read(&quot;deviceName&quot;));\r\n        capabilities.setCapability(&quot;appium:udid&quot;, conf.read(&quot;udid&quot;));\r\n        capabilities.setCapability(&quot;appium:appPackage&quot;, conf.read(&quot;appPackage&quot;));\r\n        capabilities.setCapability(&quot;appium:appActivity&quot;, conf.read(&quot;appActivity&quot;));\r\n        capabilities.setCapability(&quot;appium:autoGrantPermissions&quot;, true);\r\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\r\n        }\r\n```","title":"Appium (execute one more test class based on one device - not parallel)","body":"<p>I used appium v2.** (with device farm plugin)  and I have one more test class files.\nthis is my testng.xml file source code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;Test Suite Name&quot;&gt;\n&lt;listeners&gt;\n&lt;listener class-name=&quot;Helpers.AnnotationTransformer&quot;/&gt;\n&lt;listener class-name=&quot;Helpers.Listener&quot;/&gt;\n\n&lt;/listeners&gt;\n&lt;test name=&quot;some name&quot;&gt;\n&lt;classes&gt;\n&lt;class name=&quot;testClass1&quot;/&gt;\n&lt;class name=&quot;testClass2&quot;/&gt;\n&lt;/classes&gt;\n&lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n<p>I have only one mobile device for testing.\nand I execute this testng file,  appium started search 2 mobile device for execute script.\ni wont to run all test file only one device  (class by class) not parallel.\nhow can do this? :frowning:\nthis problem started after appium update.\nAppium starts searching for as many devices as there are test files written here</p>\n<pre><code>&lt;class name=&quot;testClass1&quot;/&gt;\n&lt;class name=&quot;testClass2&quot;/&gt;\n</code></pre>\n<p>it's Base class method:</p>\n<pre><code>\n        public Base() throws MalformedURLException {\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\n        capabilities.setCapability(&quot;appium:deviceName&quot;, conf.read(&quot;deviceName&quot;));\n        capabilities.setCapability(&quot;appium:udid&quot;, conf.read(&quot;udid&quot;));\n        capabilities.setCapability(&quot;appium:appPackage&quot;, conf.read(&quot;appPackage&quot;));\n        capabilities.setCapability(&quot;appium:appActivity&quot;, conf.read(&quot;appActivity&quot;));\n        capabilities.setCapability(&quot;appium:autoGrantPermissions&quot;, true);\n        driver = new AndroidDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), capabilities);\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","maven","log4j","owasp"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1681427081,"post_id":76010420,"comment_id":134058922,"body_markdown":"What’s the nature of the incompatibility?","body":"What’s the nature of the incompatibility?"},{"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"score":1,"creation_date":1681428618,"post_id":76010420,"comment_id":134059084,"body_markdown":"as a part of spring boot 3 many package names changed from something like javax.servlet to  jakarta.servlet.ServletResponse. OWASP uses that the old package names so it can&#39;t be used with the new spring version. more info here: https://github.com/ESAPI/esapi-java-legacy/discussions/768","body":"as a part of spring boot 3 many package names changed from something like javax.servlet to  jakarta.servlet.ServletResponse. OWASP uses that the old package names so it can&#39;t be used with the new spring version. more info here: <a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/discussions/768</a>"}],"answers":[{"tags":[],"owner":{"account_id":13885352,"reputation":21,"user_id":10024619,"display_name":"Ali Hussain Moosakhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429389,"creation_date":1685429389,"answer_id":76362219,"question_id":76010420,"body_markdown":"Hi You can add below explicit Dependency \r\n\r\n```\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n```\r\n\r\nwhich will solve your issue for NoCalssDef Error","title":"OWASP ESAPI Logger not working with Java 17/Spring boot 3","body":"<p>Hi You can add below explicit Dependency</p>\n<pre><code>    &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>which will solve your issue for NoCalssDef Error</p>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685429389,"creation_date":1681426658,"question_id":76010420,"body_markdown":"I have migrated a codebase from java 11/spring 2 to java 17/spring 3. However one of the dependencies that weren&#39;t compatible was the ESAPI logger which we implemented since we were trying to move away from log4j-core which had that critical vulnerability. What loggers are secure and can be used with Java 17? Is there a way we can continue to use the OWASP logging? Anyone else facing this issue?","title":"OWASP ESAPI Logger not working with Java 17/Spring boot 3","body":"<p>I have migrated a codebase from java 11/spring 2 to java 17/spring 3. However one of the dependencies that weren't compatible was the ESAPI logger which we implemented since we were trying to move away from log4j-core which had that critical vulnerability. What loggers are secure and can be used with Java 17? Is there a way we can continue to use the OWASP logging? Anyone else facing this issue?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1545149931,"post_id":53836776,"comment_id":94522217,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session\" title=\"lazyinitializationexception could not initialize proxy no session\">stackoverflow.com/questions/49894587/&hellip;</a>"},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1545151110,"post_id":53836776,"comment_id":94522930,"body_markdown":"Possible duplicate of [LazyInitializationException: could not initialize proxy - no Session](https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/49894587/lazyinitializationexception-could-not-initialize-proxy-no-session\">LazyInitializationException: could not initialize proxy - no Session</a>"},{"owner":{"account_id":5599633,"reputation":2115,"user_id":4436257,"display_name":"Aditya Narayan Dixit"},"score":0,"creation_date":1545155530,"post_id":53836776,"comment_id":94525302,"body_markdown":"Try annotating you `demo` method with `@Transactional` . So spring handles the session management.","body":"Try annotating you <code>demo</code> method with <code>@Transactional</code> . So spring handles the session management."}],"answers":[{"tags":[],"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1545154569,"creation_date":1545152128,"answer_id":53837745,"question_id":53836776,"body_markdown":"Because the `FetchType` of `Brand` is lazy, it will not automatically be loaded into the session with call to `fetchAll()`. To have it automatically load into the session, you need to:\r\n\r\nChange \r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\nto\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n\r\nEx\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\nIf you do not want to set the fetch type to eager, then you need to move your call to toString to a service method Ex\r\n\r\n    @Component\r\n    public CarService implements ICarService {\r\n    \r\n        @Autowired\r\n        CarRepository carRepository;\r\n    \r\n        @Transactional\r\n        public void printAllCars() {\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n        }   \r\n    }\r\n\r\n\r\nThe correct way to do this however would be to write a criteria query or hql","title":"LazyInitializationException Spring Boot","body":"<p>Because the <code>FetchType</code> of <code>Brand</code> is lazy, it will not automatically be loaded into the session with call to <code>fetchAll()</code>. To have it automatically load into the session, you need to:</p>\n\n<p>Change </p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n</code></pre>\n\n<p>Ex</p>\n\n<pre><code>@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<p>If you do not want to set the fetch type to eager, then you need to move your call to toString to a service method Ex</p>\n\n<pre><code>@Component\npublic CarService implements ICarService {\n\n    @Autowired\n    CarRepository carRepository;\n\n    @Transactional\n    public void printAllCars() {\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n    }   \n}\n</code></pre>\n\n<p>The correct way to do this however would be to write a criteria query or hql</p>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685351637,"creation_date":1631246690,"answer_id":69127137,"question_id":53836776,"body_markdown":"The default for the `@OneToMany` annotation is `FetchType.LAZY` so your collections are loaded lazily.&lt;p&gt;\r\nIn order to be able to access the collection after you&#39;ve retrieved the object you need to be in a transactional context (you need an open session)\r\n\r\nWhen you call:\r\n\r\n    carRepository.findAll();\r\n\r\ninternally a new session is created, the object is retrieved and as soon as the `findAll` method returns the session is closed.\r\n\r\nWhat you should do is make sure you have an open session whenever you access the lazy collection in your Car object (which the `toString` does).\r\n\r\nThe simplest way is to have another service handle the car loading and annotate the `showCars` method with `@Transactional`. The method is in another service because of the way AOP proxies are handled.\r\n\r\n    @Service\r\n    public CarService {\r\n    \r\n        final CarRepository carRepository;\r\n\r\n        public CarService(CarRepository carRepository) {\r\n            this.carRepository = carRepository;\r\n        }    \r\n\r\n        @Transactional\r\n        public void showCars(String... args) {\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n        }   \r\n    }\r\n\r\nand then you call:\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CarService carService) {\r\n        return (args) -&gt; service.showCars(args);\r\n    }\r\n\r\nAny method annotated with `@Transactional` will have an open session from the moment it is called right until it terminates in the caller.","title":"LazyInitializationException Spring Boot","body":"<p>The default for the <code>@OneToMany</code> annotation is <code>FetchType.LAZY</code> so your collections are loaded lazily.<p>\nIn order to be able to access the collection after you've retrieved the object you need to be in a transactional context (you need an open session)</p>\n<p>When you call:</p>\n<pre><code>carRepository.findAll();\n</code></pre>\n<p>internally a new session is created, the object is retrieved and as soon as the <code>findAll</code> method returns the session is closed.</p>\n<p>What you should do is make sure you have an open session whenever you access the lazy collection in your Car object (which the <code>toString</code> does).</p>\n<p>The simplest way is to have another service handle the car loading and annotate the <code>showCars</code> method with <code>@Transactional</code>. The method is in another service because of the way AOP proxies are handled.</p>\n<pre><code>@Service\npublic CarService {\n\n    final CarRepository carRepository;\n\n    public CarService(CarRepository carRepository) {\n        this.carRepository = carRepository;\n    }    \n\n    @Transactional\n    public void showCars(String... args) {\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n    }   \n}\n</code></pre>\n<p>and then you call:</p>\n<pre><code>@Bean\npublic CommandLineRunner demo(CarService carService) {\n    return (args) -&gt; service.showCars(args);\n}\n</code></pre>\n<p>Any method annotated with <code>@Transactional</code> will have an open session from the moment it is called right until it terminates in the caller.</p>\n"},{"tags":[],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685429350,"creation_date":1685270361,"answer_id":76351059,"question_id":53836776,"body_markdown":"In addition to the answers provided, since it&#39;s a read only operation, I would recommend to use `@Transactional(readOnly = true)`\r\n\r\nIt allows spring to make some optimizations.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()","title":"LazyInitializationException Spring Boot","body":"<p>In addition to the answers provided, since it's a read only operation, I would recommend to use <code>@Transactional(readOnly = true)</code></p>\n<p>It allows spring to make some optimizations.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#readOnly()</a></p>\n"}],"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12706,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69127137,"answer_count":3,"score":8,"last_activity_date":1685429350,"creation_date":1545148618,"question_id":53836776,"body_markdown":"I know there are a lot of similar threads out there but i just can&#39;t figure it out from those threads on how to overcome this problem.\r\n\r\nI have 3 classes Car, Brand, Color.\r\nA Car has just one Brand and a list of Colors.\r\nBrand has a List of Cars.\r\nColor does not have any relation.\r\n\r\nGetters, Setters, ToString and Constructors are not provided for simplicity sake.\r\nI&#39;m able to save objects into database and database is already populated.\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String model;\r\n\r\n    @ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinTable( name = &quot;car_color&quot;, catalog = &quot;spring_project&quot;,\r\n                joinColumns         = { @JoinColumn(name = &quot;car_id&quot;) },\r\n                inverseJoinColumns  = { @JoinColumn(name = &quot;colors_id&quot;) }\r\n    )\r\n    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;brand_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private Brand brand;\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Brand {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;brand&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n    @Entity\r\n    @Table(catalog = &quot;spring_project&quot;)\r\n    public class Color {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n--------------------------------------------------------------------------------\r\n\r\n\r\nEverything runs just fine if i fetch like Eager, but i know it is a bad practice and it should be used Lazy loading instead. But i keep getting the LazyInitializationException.\r\n\r\nI understand from the error that a session is required but i dont know how to provide one since im working with Spring Data JPA neither where i should declare one...\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SrpingJpaApplication {\r\n\r\n    private static final Logger log = \r\n    LoggerFactory.getLogger(SrpingJpaApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SrpingJpaApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CarRepository carRepository,\r\n                                  ColorRepository colorRepository,\r\n                                  BrandRepository brandRepository) {\r\n        return (args) -&gt; {\r\n\r\n            log.info(&quot;Reads all cars....&quot;);\r\n            for (Car c : carRepository.findAll()) {\r\n                System.out.println(c.toString());\r\n            }\r\n\r\n        };\r\n    }\r\n}\r\n\r\n\r\nThank you so much.\r\n\r\n\r\nEdited-----&gt;&gt;&gt;\r\n\r\nThe error is thrown on c.toString();\r\n\r\nError: Caused by: org.hibernate.LazyInitializationException: could not initialize \r\nproxy [com.readiness.moita.SrpingJPA.Models.Brand#1] - no Session\r\n\r\n","title":"LazyInitializationException Spring Boot","body":"<p>I know there are a lot of similar threads out there but i just can't figure it out from those threads on how to overcome this problem.</p>\n\n<p>I have 3 classes Car, Brand, Color.\nA Car has just one Brand and a list of Colors.\nBrand has a List of Cars.\nColor does not have any relation.</p>\n\n<p>Getters, Setters, ToString and Constructors are not provided for simplicity sake.\nI'm able to save objects into database and database is already populated.</p>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Car {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String model;\n\n@ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinTable( name = \"car_color\", catalog = \"spring_project\",\n            joinColumns         = { @JoinColumn(name = \"car_id\") },\n            inverseJoinColumns  = { @JoinColumn(name = \"colors_id\") }\n)\nprivate List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\n\n@ManyToOne(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name=\"brand_id\", referencedColumnName=\"id\")\nprivate Brand brand;\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Brand {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\n\n@OneToMany(mappedBy = \"brand\", fetch = FetchType.LAZY)\nprivate List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<pre><code>@Entity\n@Table(catalog = \"spring_project\")\npublic class Color {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\n</code></pre>\n\n<h2>--------------------------------------------------------------------------------</h2>\n\n<p>Everything runs just fine if i fetch like Eager, but i know it is a bad practice and it should be used Lazy loading instead. But i keep getting the LazyInitializationException.</p>\n\n<p>I understand from the error that a session is required but i dont know how to provide one since im working with Spring Data JPA neither where i should declare one...</p>\n\n<pre><code>@SpringBootApplication\npublic class SrpingJpaApplication {\n\nprivate static final Logger log = \nLoggerFactory.getLogger(SrpingJpaApplication.class);\n\npublic static void main(String[] args) {\n    SpringApplication.run(SrpingJpaApplication.class, args);\n}\n\n@Bean\npublic CommandLineRunner demo(CarRepository carRepository,\n                              ColorRepository colorRepository,\n                              BrandRepository brandRepository) {\n    return (args) -&gt; {\n\n        log.info(\"Reads all cars....\");\n        for (Car c : carRepository.findAll()) {\n            System.out.println(c.toString());\n        }\n\n    };\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thank you so much.</p>\n\n<p>Edited----->>></p>\n\n<p>The error is thrown on c.toString();</p>\n\n<p>Error: Caused by: org.hibernate.LazyInitializationException: could not initialize \nproxy [com.readiness.moita.SrpingJPA.Models.Brand#1] - no Session</p>\n"},{"tags":["java","json","date","glassfish","resteasy"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685345787,"creation_date":1685345165,"answer_id":76355398,"question_id":76355259,"body_markdown":"I can address part of your Question, explaining why the response is `1685343320152`.\r\n\r\n# Default is count from epoch\r\n\r\nApparently, Jackson defaults to serializing a `java.util.Date` object to a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC (1970-01-01T00:00Z). \r\n\r\n# ISO 8601\r\n\r\nBetter to serialize to [ISO 8601][1] format. Use `ObjectMapper` to change the format from that default to ISO 8601.\r\n\r\n```java\r\n// Source code from: https://www.baeldung.com/jackson-serialize-dates\r\nObjectMapper mapper = new ObjectMapper() ;\r\nmapper.disable( SerializationFeature.WRITE_DATES_AS_TIMESTAMPS ) ;\r\nmapper.setDateFormat( new StdDateFormat().withColonInTimeZone( true ) ) ;\r\n```\r\n\r\nSee [*Jackson Date*](https://www.baeldung.com/jackson-serialize-dates) by baeldung.\r\n\r\n# *java.time*\r\n\r\nYou are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nSpecifically, `java.util.Date` was replaced by [`Instant`][2]. Both represent a moment as seen with an offset of zero hours-minutes-seconds from UTC, but with a resolution of milliseconds versus nanoseconds respectively.\r\n\r\nI strongly suggest you consider replacing your use of the legacy classes with the modern ones. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html","title":"Problem of Java.util.Date in numeric format is resteasy client","body":"<p>I can address part of your Question, explaining why the response is <code>1685343320152</code>.</p>\n<h1>Default is count from epoch</h1>\n<p>Apparently, Jackson defaults to serializing a <code>java.util.Date</code> object to a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC (1970-01-01T00:00Z).</p>\n<h1>ISO 8601</h1>\n<p>Better to serialize to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. Use <code>ObjectMapper</code> to change the format from that default to ISO 8601.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Source code from: https://www.baeldung.com/jackson-serialize-dates\nObjectMapper mapper = new ObjectMapper() ;\nmapper.disable( SerializationFeature.WRITE_DATES_AS_TIMESTAMPS ) ;\nmapper.setDateFormat( new StdDateFormat().withColonInTimeZone( true ) ) ;\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/jackson-serialize-dates\" rel=\"nofollow noreferrer\"><em>Jackson Date</em></a> by baeldung.</p>\n<h1><em>java.time</em></h1>\n<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Specifically, <code>java.util.Date</code> was replaced by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. Both represent a moment as seen with an offset of zero hours-minutes-seconds from UTC, but with a resolution of milliseconds versus nanoseconds respectively.</p>\n<p>I strongly suggest you consider replacing your use of the legacy classes with the modern ones.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76355398,"answer_count":1,"score":0,"last_activity_date":1685429194,"creation_date":1685343653,"question_id":76355259,"body_markdown":"There is a sample of resteasy rest api.\r\n\r\nPart of pom.xml:\r\n```xml\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jersey DI and core--&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- add jackson as json provider --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nand the part of my resource class:\r\n```java\r\n@Path(&quot;/test&quot;)\r\n@GET\r\n@Produces(&quot;application/json&quot;)\r\n@Consumes(&quot;application/json&quot;)\r\npublic Date test() {\r\n    return new Date();\r\n}\r\n```\r\nSo when I request `http://localhost:8080/test`, the response is `1685343320152` instead of date format.\r\n\r\nWhere is wrong?","title":"Problem of Java.util.Date in numeric format is resteasy client","body":"<p>There is a sample of resteasy rest api.</p>\n<p>Part of pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jersey DI and core--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n        &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- add jackson as json provider --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.3.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n        &lt;version&gt;3.9.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>and the part of my resource class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/test&quot;)\n@GET\n@Produces(&quot;application/json&quot;)\n@Consumes(&quot;application/json&quot;)\npublic Date test() {\n    return new Date();\n}\n</code></pre>\n<p>So when I request <code>http://localhost:8080/test</code>, the response is <code>1685343320152</code> instead of date format.</p>\n<p>Where is wrong?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685383407,"post_id":76359180,"comment_id":134649426,"body_markdown":"Your entities/embeddables show get methods, but do you have set methods as well?","body":"Your entities/embeddables show get methods, but do you have set methods as well?"},{"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"score":0,"creation_date":1685387106,"post_id":76359180,"comment_id":134649922,"body_markdown":"No needs for a set methods because Hibernate will use reflection and proxies to instantiate the embeddable class, in other entity it is working well, And the class causing the problem need to be immutable. So no need for a setter.","body":"No needs for a set methods because Hibernate will use reflection and proxies to instantiate the embeddable class, in other entity it is working well, And the class causing the problem need to be immutable. So no need for a setter."},{"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"score":0,"creation_date":1685387619,"post_id":76359180,"comment_id":134650003,"body_markdown":"When I add a setter is not working.","body":"When I add a setter is not working."}],"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685428673,"creation_date":1685380223,"question_id":76359180,"body_markdown":"Got java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null, when trying to save an Entity using Hibernate.\r\n\r\nI&#39;m trying to save an entity object using hibernate and springboot.\r\n\r\n\r\nThis is the Product.class\r\n```\r\n@Entity\r\n@Table(name = &quot;products&quot;)\r\npublic class Product implements Serializable {\r\n\r\n  @ElementCollection\r\n  @CollectionTable(\r\n      name = &quot;value_of_specs&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;product_id&quot;)\r\n  )\r\n  private final Set&lt;ValueOfSpec&gt; valueOfSpecs = new HashSet&lt;&gt;();\r\n  private final AuditInformation auditInformation;\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\r\n  private Long id;\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;created_by_id&quot;)\r\n  private UserAccount createdBy;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;institution_id&quot;)\r\n  private Institution institution;\r\n\r\n  public Product() {\r\n    auditInformation = new AuditInformation();\r\n  }\r\n\r\n  A lot of methods here ...\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the ValueOfSpec.class\r\n\r\n```\r\n@Embeddable\r\npublic class ValueOfSpec implements Serializable {\r\n  private final Specification specification;\r\n  private final String value;\r\n\r\n  public ValueOfSpec(Specification specification, String value) {\r\n    this.specification = specification;\r\n    this.value = value;\r\n  }\r\n\r\n  public ValueOfSpec() {\r\n    this.value = null;\r\n    this.specification = null;\r\n  }\r\n\r\n  public Specification getSpecification() {\r\n    return specification;\r\n  }\r\n\r\n  public String getValue() {\r\n    return value;\r\n  }\r\n\r\n  A bunch of methods here\r\n  ...\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the Specification.class\r\n\r\n```\r\n\r\n@Embeddable\r\npublic class Specification implements Serializable {\r\n  private final String fieldName;\r\n  private final String fieldType;\r\n  private final boolean required;\r\n  private final boolean readOnly;\r\n\r\n  public Specification() {\r\n    this.fieldName = null;\r\n    this.fieldType = null;\r\n    this.required = false;\r\n    this.readOnly = false;\r\n  }\r\n\r\n  public Specification(String fieldName, String fieldType, boolean required, boolean readOnly) {\r\n    this.fieldName = fieldName;\r\n    this.fieldType = fieldType;\r\n    this.readOnly = readOnly;\r\n    this.required = required;\r\n  }\r\n\r\n  public String getFieldName() {\r\n    return fieldName;\r\n  }\r\n\r\n  public String getFieldType() {\r\n    return fieldType;\r\n  }\r\n\r\n  public boolean isReadOnly() {\r\n    return readOnly;\r\n  }\r\n\r\n  public boolean isRequired() {\r\n    return required;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof Specification that)) return false;\r\n    return isRequired() == that.isRequired() &amp;&amp; isReadOnly() == that.isReadOnly()\r\n        &amp;&amp; Objects.equals(getFieldName(), that.getFieldName())\r\n        &amp;&amp; Objects.equals(getFieldType(), that.getFieldType());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getFieldName(), getFieldType(), isRequired(), isReadOnly());\r\n  }\r\n}\r\n```\r\n\r\nThis is the repository class and dao interface\r\n\r\n```\r\n\r\n@Repository\r\npublic class ProductRepositoryImpl implements ProductRepository {\r\n  private final ProductDao dao;\r\n\r\n  public ProductRepositoryImpl(ProductDao dao) {\r\n    this.dao = dao;\r\n  }\r\n\r\n  @Override\r\n  public void save(Product product) {\r\n    dao.save(product);\r\n  }\r\n\r\n  @Override\r\n  public Optional&lt;Product&gt; findById(Long id) {\r\n    return dao.findById(id);\r\n  }\r\n}\r\n\r\npublic interface ProductDao extends JpaRepository&lt;Product, Long&gt; {\r\n}\r\n\r\n```\r\n\r\nwhen I&#39;m trying to save the product I got this error\r\n\r\n```\r\n2023-05-29T12:57:58.028-04:00 ERROR 22396 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not instantiate entity:  : ca.eynoc.application.office.category.domain.Specification] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null\r\n\tat org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.lambda$setValues$1(AbstractEmbeddableMapping.java:106) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.forEachAttributeMapping(EmbeddableMappingTypeImpl.java:731) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n```\r\n\r\nI don&#39;t know why I got this error.\r\n\r\n\r\n\r\n","title":"Element colletion with nested embeddable doesn&#39;t work","body":"<p>Got java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null, when trying to save an Entity using Hibernate.</p>\n<p>I'm trying to save an entity object using hibernate and springboot.</p>\n<p>This is the Product.class</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product implements Serializable {\n\n  @ElementCollection\n  @CollectionTable(\n      name = &quot;value_of_specs&quot;,\n      joinColumns = @JoinColumn(name = &quot;product_id&quot;)\n  )\n  private final Set&lt;ValueOfSpec&gt; valueOfSpecs = new HashSet&lt;&gt;();\n  private final AuditInformation auditInformation;\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\n  private Long id;\n  @ManyToOne\n  @JoinColumn(name = &quot;created_by_id&quot;)\n  private UserAccount createdBy;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;institution_id&quot;)\n  private Institution institution;\n\n  public Product() {\n    auditInformation = new AuditInformation();\n  }\n\n  A lot of methods here ...\n}\n\n</code></pre>\n<p>This is the ValueOfSpec.class</p>\n<pre><code>@Embeddable\npublic class ValueOfSpec implements Serializable {\n  private final Specification specification;\n  private final String value;\n\n  public ValueOfSpec(Specification specification, String value) {\n    this.specification = specification;\n    this.value = value;\n  }\n\n  public ValueOfSpec() {\n    this.value = null;\n    this.specification = null;\n  }\n\n  public Specification getSpecification() {\n    return specification;\n  }\n\n  public String getValue() {\n    return value;\n  }\n\n  A bunch of methods here\n  ...\n\n}\n\n</code></pre>\n<p>This is the Specification.class</p>\n<pre><code>\n@Embeddable\npublic class Specification implements Serializable {\n  private final String fieldName;\n  private final String fieldType;\n  private final boolean required;\n  private final boolean readOnly;\n\n  public Specification() {\n    this.fieldName = null;\n    this.fieldType = null;\n    this.required = false;\n    this.readOnly = false;\n  }\n\n  public Specification(String fieldName, String fieldType, boolean required, boolean readOnly) {\n    this.fieldName = fieldName;\n    this.fieldType = fieldType;\n    this.readOnly = readOnly;\n    this.required = required;\n  }\n\n  public String getFieldName() {\n    return fieldName;\n  }\n\n  public String getFieldType() {\n    return fieldType;\n  }\n\n  public boolean isReadOnly() {\n    return readOnly;\n  }\n\n  public boolean isRequired() {\n    return required;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Specification that)) return false;\n    return isRequired() == that.isRequired() &amp;&amp; isReadOnly() == that.isReadOnly()\n        &amp;&amp; Objects.equals(getFieldName(), that.getFieldName())\n        &amp;&amp; Objects.equals(getFieldType(), that.getFieldType());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getFieldName(), getFieldType(), isRequired(), isReadOnly());\n  }\n}\n</code></pre>\n<p>This is the repository class and dao interface</p>\n<pre><code>\n@Repository\npublic class ProductRepositoryImpl implements ProductRepository {\n  private final ProductDao dao;\n\n  public ProductRepositoryImpl(ProductDao dao) {\n    this.dao = dao;\n  }\n\n  @Override\n  public void save(Product product) {\n    dao.save(product);\n  }\n\n  @Override\n  public Optional&lt;Product&gt; findById(Long id) {\n    return dao.findById(id);\n  }\n}\n\npublic interface ProductDao extends JpaRepository&lt;Product, Long&gt; {\n}\n\n</code></pre>\n<p>when I'm trying to save the product I got this error</p>\n<pre><code>2023-05-29T12:57:58.028-04:00 ERROR 22396 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not instantiate entity:  : ca.eynoc.application.office.category.domain.Specification] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.hibernate.property.access.spi.Setter.set(Object, Object)&quot; because the return value of &quot;org.hibernate.property.access.spi.PropertyAccess.getSetter()&quot; is null\n    at org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.lambda$setValues$1(AbstractEmbeddableMapping.java:106) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.forEachAttributeMapping(EmbeddableMappingTypeImpl.java:731) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n</code></pre>\n<p>I don't know why I got this error.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685407931,"post_id":76360828,"comment_id":134652208,"body_markdown":"Don&#39;t use images for text information.","body":"Don&#39;t use images for text information."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685408288,"post_id":76360828,"comment_id":134652246,"body_markdown":"You should share the full pom. Try generating a dependencies tree to see if you have another dependency transitively pulling in log4j V1.","body":"You should share the full pom. Try generating a dependencies tree to see if you have another dependency transitively pulling in log4j V1."}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685415205,"creation_date":1685414542,"answer_id":76361310,"question_id":76360828,"body_markdown":"The first configuration is correct you can see the guide of migration from **log4j 1** to **log4j 2** to continue the migration : [https://logging.apache.org/log4j/2.x/manual/migration.html][1]\r\n\r\nAdd you should upgrade,delete or exclude the logkit and search when you use the dependency log4j:12.13\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>The first configuration is correct you can see the guide of migration from <strong>log4j 1</strong> to <strong>log4j 2</strong> to continue the migration : <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n<p>Add you should upgrade,delete or exclude the logkit and search when you use the dependency log4j:12.13</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685428524,"creation_date":1685428524,"answer_id":76362116,"question_id":76360828,"body_markdown":"Merely adding a dependency on log4j2 won&#39;t get rid of the dependency on log4j1. You also need to remove that dependency from your pom.\r\n\r\nIf you didn&#39;t add it explicitly, it&#39;s there as a transient dependency and being injected by something else. You&#39;ll need to figure out what that something else is, and add an exclusion of log4j to it (and then hope it still works, there are ways to proxy log4j2 to be accessible using log4j1 APIs but it&#39;s not automatic. Search for it in the documentation).","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>Merely adding a dependency on log4j2 won't get rid of the dependency on log4j1. You also need to remove that dependency from your pom.</p>\n<p>If you didn't add it explicitly, it's there as a transient dependency and being injected by something else. You'll need to figure out what that something else is, and add an exclusion of log4j to it (and then hope it still works, there are ways to proxy log4j2 to be accessible using log4j1 APIs but it's not automatic. Search for it in the documentation).</p>\n"}],"owner":{"account_id":26594418,"reputation":29,"user_id":20217050,"display_name":"what&#39;s_in_a_name"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76362116,"answer_count":2,"score":0,"last_activity_date":1685428524,"creation_date":1685403275,"question_id":76360828,"body_markdown":"How do I update the log4j version from 1.2 to 2.16 or higher? This is what I have in my pom.xml file right now(using maven) for job4j-api and job4j-core but nothing for just job4j\r\n``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI can see their current versions and that it is not updated in the shell view \r\n[here][1]. I tried adding the following snippet \r\n\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nbut didn&#39;t seem to work. Do i need to update the jar file somehwere? Any hints would be highly appreciated. Thanks. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RTw7G.png","title":"updating log4j version 1.2 version to 2.16.0 or later","body":"<p>How do I update the log4j version from 1.2 to 2.16 or higher? This is what I have in my pom.xml file right now(using maven) for job4j-api and job4j-core but nothing for just job4j</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I can see their current versions and that it is not updated in the shell view\n<a href=\"https://i.stack.imgur.com/RTw7G.png\" rel=\"nofollow noreferrer\">here</a>. I tried adding the following snippet</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but didn't seem to work. Do i need to update the jar file somehwere? Any hints would be highly appreciated. Thanks.</p>\n"},{"tags":["java","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":2093160,"reputation":3792,"user_id":1862500,"display_name":"Yohanes Gultom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535682864,"creation_date":1535682864,"answer_id":52107723,"question_id":52107608,"body_markdown":"You can simply pass an empty string as password:\r\n\r\n    // generate\r\n    wallet = WalletUtils.generateBip39Wallet(&quot;&quot;, tempDir);\r\n    \r\n    // restore using WalletUtils\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(&quot;&quot;, wallet.getMnemonic());\r\n    \r\n    // or using constructor (and empty dummy file)\r\n    File tempFile = Files.createTempFile(null, null).toFile();\r\n    wallet = new Bip39Wallet(tempFile.getName(), wallet.getMnemonic());\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>You can simply pass an empty string as password:</p>\n\n<pre><code>// generate\nwallet = WalletUtils.generateBip39Wallet(\"\", tempDir);\n\n// restore using WalletUtils\nCredentials credentials = WalletUtils.loadBip39Credentials(\"\", wallet.getMnemonic());\n\n// or using constructor (and empty dummy file)\nFile tempFile = Files.createTempFile(null, null).toFile();\nwallet = new Bip39Wallet(tempFile.getName(), wallet.getMnemonic());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25498157,"reputation":1,"user_id":19291916,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667904494,"creation_date":1667637970,"answer_id":74326336,"question_id":52107608,"body_markdown":"You need to use the bip44 encryption protocol to generate mnemonics and recover wallets.\r\nBecause imtoken and metamask wallets operate based on the bip44 protocol.\r\nIf you use the bip39 protocol, the result will be different from that of imtoken and metamask.\r\nRefer to the following example code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\nCredentials credentials = Bip44WalletUtils.loadBip44Credentials(&quot;&quot;, &quot;you mnemonic&quot;);\r\nString address = credentials.getAddress();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>You need to use the bip44 encryption protocol to generate mnemonics and recover wallets.\nBecause imtoken and metamask wallets operate based on the bip44 protocol.\nIf you use the bip39 protocol, the result will be different from that of imtoken and metamask.\nRefer to the following example code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Credentials credentials = Bip44WalletUtils.loadBip44Credentials(\"\", \"you mnemonic\");\nString address = credentials.getAddress();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14202510,"reputation":1,"user_id":10260058,"display_name":"chenhao597"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685427650,"creation_date":1535681737,"question_id":52107608,"body_markdown":"I use web3j to create my ethereum wallet.the Code just like down\r\n\r\n    import org.web3j.crypto.Bip39Wallet;\r\n    import org.web3j.crypto.Credentials;\r\n    import org.web3j.crypto.ECKeyPair;\r\n    import org.web3j.crypto.WalletUtils;\r\n\r\n    wallet = WalletUtils.generateBip39Wallet(password, new File(keystorePath));\r\n    // keystore&#39;s file name\r\n    String keystoreFileName = wallet.getFilename();\r\n    // my mnemonic\r\n    String mnemonic = wallet.getMnemonic();\r\n\r\n\r\nI can use this code get my address\r\n\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\r\n    String address = credentials.getAddress();\r\n\r\nI can import my wallet by this:\r\n\r\n    Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\r\n\r\nbut in this way I need password &amp; mnemonic,How I import or recovery my wallet by mnemonic without password,because some wallet app just like metamask or imtoken , they don&#39;t need the old password that I create my wallet and the can reset a new password.\r\n\r\nIn other words,recovery or import the wallet just need mnemonic,how I do it by web3j\r\n\r\nIs ereryone can tell me how to do it by web3j.thank u very much.\r\n\r\n","title":"How to use mnemonic to recovery my ethereum wallet","body":"<p>I use web3j to create my ethereum wallet.the Code just like down</p>\n\n<pre><code>import org.web3j.crypto.Bip39Wallet;\nimport org.web3j.crypto.Credentials;\nimport org.web3j.crypto.ECKeyPair;\nimport org.web3j.crypto.WalletUtils;\n\nwallet = WalletUtils.generateBip39Wallet(password, new File(keystorePath));\n// keystore's file name\nString keystoreFileName = wallet.getFilename();\n// my mnemonic\nString mnemonic = wallet.getMnemonic();\n</code></pre>\n\n<p>I can use this code get my address</p>\n\n<pre><code>Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\nString address = credentials.getAddress();\n</code></pre>\n\n<p>I can import my wallet by this:</p>\n\n<pre><code>Credentials credentials = WalletUtils.loadBip39Credentials(password, mnemonic);\n</code></pre>\n\n<p>but in this way I need password &amp; mnemonic,How I import or recovery my wallet by mnemonic without password,because some wallet app just like metamask or imtoken , they don't need the old password that I create my wallet and the can reset a new password.</p>\n\n<p>In other words,recovery or import the wallet just need mnemonic,how I do it by web3j</p>\n\n<p>Is ereryone can tell me how to do it by web3j.thank u very much.</p>\n"},{"tags":["java","minecraft-fabric"],"owner":{"account_id":28704941,"reputation":1,"user_id":21981451,"display_name":"leshaddow2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685427127,"creation_date":1685427127,"question_id":76362009,"body_markdown":"I&#39;ve been trying to make a Pickaxe that automatically smelts Blocks that you mine but my problem is that the blocks still drop the normal drop on top of the custom one.\r\nHere is the class of the pickaxe:\r\n\r\n```\r\nimport com.mojang.serialization.Decoder;\r\nimport net.fabricmc.fabric.api.item.v1.FabricItemSettings;\r\nimport net.minecraft.block.AbstractFurnaceBlock;\r\nimport net.minecraft.block.Block;\r\nimport net.minecraft.block.BlockState;\r\nimport net.minecraft.entity.LivingEntity;\r\nimport net.minecraft.inventory.SimpleInventory;\r\nimport net.minecraft.item.*;\r\nimport net.minecraft.recipe.Recipe;\r\nimport net.minecraft.recipe.RecipeType;\r\nimport net.minecraft.recipe.SmeltingRecipe;\r\nimport net.minecraft.server.network.ServerPlayerEntity;\r\nimport net.minecraft.server.world.ServerWorld;\r\nimport net.minecraft.util.Rarity;\r\nimport net.minecraft.util.math.BlockPos;\r\nimport net.minecraft.world.World;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic class FirePickaxe extends PickaxeItem {\r\n    public FirePickaxe(ToolMaterial material) {\r\n        super(material, 7, -2.8F, new Item.Settings().group(ItemGroup.TOOLS).fireproof().maxCount(1).maxDamage(1024).\r\n                rarity(Rarity.RARE));\r\n    }\r\n\r\n    @Override\r\n    public boolean postHit(ItemStack stack, LivingEntity target, LivingEntity attacker) {\r\n        target.setOnFireFor(5);\r\n        return super.postHit(stack, target, attacker);\r\n    }\r\n\r\n    @Override\r\n    public boolean postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner) {\r\n        if (!world.isClient) {\r\n            List&lt;ItemStack&gt; drops = Block.getDroppedStacks(state, (ServerWorld) world, pos, null, miner, stack);\r\n            List&lt;ItemStack&gt; modifiedDrops = new ArrayList&lt;&gt;();\r\n\r\n            for (ItemStack drop : drops) {\r\n                ItemStack smeltedResult = getSmeltedResult(world, drop);\r\n                if (!smeltedResult.isEmpty()) {\r\n                    modifiedDrops.add(smeltedResult);\r\n                }\r\n            }\r\n            drops.clear();\r\n\r\n            for (ItemStack modifiedDrop : modifiedDrops) {\r\n                Block.dropStack(world, pos, modifiedDrop);\r\n            }\r\n        }\r\n\r\n        return super.postMine(stack, world, state, pos, miner);\r\n    }\r\n\r\n    private ItemStack getSmeltedResult(World world, ItemStack itemStack) {\r\n        Optional&lt;SmeltingRecipe&gt; recipe = world.getRecipeManager().getFirstMatch(RecipeType.SMELTING, new SimpleInventory(itemStack), world);\r\n        if (recipe.isPresent()) {\r\n            ItemStack result = recipe.get().getOutput().copy();\r\n            if (result.getItem() instanceof BlockItem) {\r\n                result.removeSubTag(&quot;BlockEntityTag&quot;);\r\n            }\r\n            return result;\r\n        }\r\n        return ItemStack.EMPTY;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried a lot like rremoving the drop from the stack or calling the decrement function of that ItemStack but all methods had the same result.","title":"Can you change the Block Drops when mined with a custom Item in a Fabric 1.16.5 Minecraft Mod","body":"<p>I've been trying to make a Pickaxe that automatically smelts Blocks that you mine but my problem is that the blocks still drop the normal drop on top of the custom one.\nHere is the class of the pickaxe:</p>\n<pre><code>import com.mojang.serialization.Decoder;\nimport net.fabricmc.fabric.api.item.v1.FabricItemSettings;\nimport net.minecraft.block.AbstractFurnaceBlock;\nimport net.minecraft.block.Block;\nimport net.minecraft.block.BlockState;\nimport net.minecraft.entity.LivingEntity;\nimport net.minecraft.inventory.SimpleInventory;\nimport net.minecraft.item.*;\nimport net.minecraft.recipe.Recipe;\nimport net.minecraft.recipe.RecipeType;\nimport net.minecraft.recipe.SmeltingRecipe;\nimport net.minecraft.server.network.ServerPlayerEntity;\nimport net.minecraft.server.world.ServerWorld;\nimport net.minecraft.util.Rarity;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.world.World;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class FirePickaxe extends PickaxeItem {\n    public FirePickaxe(ToolMaterial material) {\n        super(material, 7, -2.8F, new Item.Settings().group(ItemGroup.TOOLS).fireproof().maxCount(1).maxDamage(1024).\n                rarity(Rarity.RARE));\n    }\n\n    @Override\n    public boolean postHit(ItemStack stack, LivingEntity target, LivingEntity attacker) {\n        target.setOnFireFor(5);\n        return super.postHit(stack, target, attacker);\n    }\n\n    @Override\n    public boolean postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner) {\n        if (!world.isClient) {\n            List&lt;ItemStack&gt; drops = Block.getDroppedStacks(state, (ServerWorld) world, pos, null, miner, stack);\n            List&lt;ItemStack&gt; modifiedDrops = new ArrayList&lt;&gt;();\n\n            for (ItemStack drop : drops) {\n                ItemStack smeltedResult = getSmeltedResult(world, drop);\n                if (!smeltedResult.isEmpty()) {\n                    modifiedDrops.add(smeltedResult);\n                }\n            }\n            drops.clear();\n\n            for (ItemStack modifiedDrop : modifiedDrops) {\n                Block.dropStack(world, pos, modifiedDrop);\n            }\n        }\n\n        return super.postMine(stack, world, state, pos, miner);\n    }\n\n    private ItemStack getSmeltedResult(World world, ItemStack itemStack) {\n        Optional&lt;SmeltingRecipe&gt; recipe = world.getRecipeManager().getFirstMatch(RecipeType.SMELTING, new SimpleInventory(itemStack), world);\n        if (recipe.isPresent()) {\n            ItemStack result = recipe.get().getOutput().copy();\n            if (result.getItem() instanceof BlockItem) {\n                result.removeSubTag(&quot;BlockEntityTag&quot;);\n            }\n            return result;\n        }\n        return ItemStack.EMPTY;\n    }\n}\n</code></pre>\n<p>I've tried a lot like rremoving the drop from the stack or calling the decrement function of that ItemStack but all methods had the same result.</p>\n"},{"tags":["java","maven","intellij-idea","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":42949,"reputation":1658,"user_id":125344,"display_name":"Kevin Condon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1427726817,"creation_date":1427494414,"answer_id":29311048,"question_id":29310760,"body_markdown":"Wow, Maven makes this difficult. Setting `-Xrunjdwp` in `MAVEN_OPTS` won&#39;t work, because `mvnDebug.bat` adds its own afterward, which will override `MAVEN_OPTS`. I would copy `mvnDebug.bat` to `myMvnDebug.bat` and comment out the line `set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000`. That way you can set `MAVEN_DEBUG_OPT` on the command line before running it.\r\n\r\n    C:\\somewhere&gt;set MAVEN_DEBUG_OPT=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001\r\n    C:\\somewhere&gt;myMvnDebug.bat","title":"Debugging in maven with mvnDebug command","body":"<p>Wow, Maven makes this difficult. Setting <code>-Xrunjdwp</code> in <code>MAVEN_OPTS</code> won't work, because <code>mvnDebug.bat</code> adds its own afterward, which will override <code>MAVEN_OPTS</code>. I would copy <code>mvnDebug.bat</code> to <code>myMvnDebug.bat</code> and comment out the line <code>set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</code>. That way you can set <code>MAVEN_DEBUG_OPT</code> on the command line before running it.</p>\n\n<pre><code>C:\\somewhere&gt;set MAVEN_DEBUG_OPT=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001\nC:\\somewhere&gt;myMvnDebug.bat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13600189,"reputation":1,"user_id":9811090,"display_name":"Neal Bamford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526638492,"creation_date":1526638492,"answer_id":50409015,"question_id":29310760,"body_markdown":"I changed @set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\r\n\r\nto\r\n\r\n@set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=%MAVEN_DEBUG_PORT%\r\n\r\nin mvnDebug.cmd then either set MAVEN_DEBUG_PORT in env variables or locally with set @set MAVEN_DEBUG_OPTS=8001 before you call mvnDebug xxx:run (I&#39;m using Jetty)","title":"Debugging in maven with mvnDebug command","body":"<p>I changed @set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</p>\n\n<p>to</p>\n\n<p>@set MAVEN_DEBUG_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=%MAVEN_DEBUG_PORT%</p>\n\n<p>in mvnDebug.cmd then either set MAVEN_DEBUG_PORT in env variables or locally with set @set MAVEN_DEBUG_OPTS=8001 before you call mvnDebug xxx:run (I'm using Jetty)</p>\n"},{"tags":[],"owner":{"account_id":26287725,"reputation":1,"user_id":19955141,"display_name":"winson huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685426358,"creation_date":1685426358,"answer_id":76361947,"question_id":29310760,"body_markdown":"Another answer under the question you mentioned is https://stackoverflow.com/a/2935474/19955141 . I think that solution match your need, just use exec goal in exec plugin:\r\n\r\n```\r\nmvn exec:exec -Dexec.executable=&quot;java&quot; -Dexec.args=&quot;-classpath %classpath -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 com.mycompany.app.App&quot;\r\n```\r\nYou can modify the address value to set port.","title":"Debugging in maven with mvnDebug command","body":"<p>Another answer under the question you mentioned is <a href=\"https://stackoverflow.com/a/2935474/19955141\">https://stackoverflow.com/a/2935474/19955141</a> . I think that solution match your need, just use exec goal in exec plugin:</p>\n<pre><code>mvn exec:exec -Dexec.executable=&quot;java&quot; -Dexec.args=&quot;-classpath %classpath -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044 com.mycompany.app.App&quot;\n</code></pre>\n<p>You can modify the address value to set port.</p>\n"}],"owner":{"account_id":2979780,"reputation":1206,"user_id":2530000,"accept_rate":81,"display_name":"Tai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21654,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29311048,"answer_count":3,"score":8,"last_activity_date":1685426358,"creation_date":1427493098,"question_id":29310760,"body_markdown":"I read this:\r\nhttps://stackoverflow.com/questions/2935375/debugging-in-maven\r\n\r\nI&#39;m running intellij remote debug and maven for a service I&#39;m trying to debug. \r\n\r\nI&#39;m running \r\n\r\n    mvnDebug tomcat7:run \r\n\r\nWhich gives me the following result\r\n\r\n    Preparing to Execute Maven in Debug Mode\r\n    Listening for transport dt_socket at address: 8000\r\n    ^Ctai-m:sb-api-internal-server tai$ m\r\n\r\nMy problem is that I want to change the port easily. I know that I can go into the pom.xml file and change it or that I can do the following in:\r\n\r\n\r\nmvnDebug.bat \r\n\r\n    @REM set MAVEN_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\r\n\r\n but I want to be able to specify my port on the command line. Is there any way to do this? I want to be able to debug multiple services on different addresses running at once and am under the impression that it would be a hassle to have to set and reset the debug file setting for each one.\r\n\r\nA friend said it should be possible but I can&#39;t seem to find a solution.\r\n\r\nEssentially Im looking for a way to easily switch the port a service is running on hopefully without modifying a file multiple times as I launch multiple services. Otherwise Is there another solution you can thing of? Ex having the first debug instance running on one port and then having the second on another (hard coded)?\r\n\r\nThanks","title":"Debugging in maven with mvnDebug command","body":"<p>I read this:\n<a href=\"https://stackoverflow.com/questions/2935375/debugging-in-maven\">Debugging in Maven?</a></p>\n\n<p>I'm running intellij remote debug and maven for a service I'm trying to debug. </p>\n\n<p>I'm running </p>\n\n<pre><code>mvnDebug tomcat7:run \n</code></pre>\n\n<p>Which gives me the following result</p>\n\n<pre><code>Preparing to Execute Maven in Debug Mode\nListening for transport dt_socket at address: 8000\n^Ctai-m:sb-api-internal-server tai$ m\n</code></pre>\n\n<p>My problem is that I want to change the port easily. I know that I can go into the pom.xml file and change it or that I can do the following in:</p>\n\n<p>mvnDebug.bat </p>\n\n<pre><code>@REM set MAVEN_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n</code></pre>\n\n<p>but I want to be able to specify my port on the command line. Is there any way to do this? I want to be able to debug multiple services on different addresses running at once and am under the impression that it would be a hassle to have to set and reset the debug file setting for each one.</p>\n\n<p>A friend said it should be possible but I can't seem to find a solution.</p>\n\n<p>Essentially Im looking for a way to easily switch the port a service is running on hopefully without modifying a file multiple times as I launch multiple services. Otherwise Is there another solution you can thing of? Ex having the first debug instance running on one port and then having the second on another (hard coded)?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","bidirectional"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685379188,"post_id":76358203,"comment_id":134648780,"body_markdown":"Not sure what you problem is. You have just provided a usage example. Can you please narrow down the problem?","body":"Not sure what you problem is. You have just provided a usage example. Can you please narrow down the problem?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685418373,"post_id":76358203,"comment_id":134652963,"body_markdown":"In this example which I have taken from Selenium website, they say that just create an object of NetworkInterceptor. aftger creating this object, I never used that object (interceptor) in my code, so I am curious, how the system know that this object has to be called by some internal process? \n\ninstead of NetworkInterceptor interceptor = new NetworkInterceptor(........)\nif I just use below statement\nnew NetworkInterceptor(...........)\nthen also it works..... so how this object is used internally ?","body":"In this example which I have taken from Selenium website, they say that just create an object of NetworkInterceptor. aftger creating this object, I never used that object (interceptor) in my code, so I am curious, how the system know that this object has to be called by some internal process?   instead of NetworkInterceptor interceptor = new NetworkInterceptor(........) if I just use below statement new NetworkInterceptor(...........) then also it works..... so how this object is used internally ?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685418886,"post_id":76358203,"comment_id":134653010,"body_markdown":"instead of NetworkInterceptor interceptor = new NetworkInterceptor(........)\nif I just use below statement\nnew NetworkInterceptor(...........), \nthen also it works..... so how this object is used internally ? \n\nI mean, suppose I create an object, then generally I use thatlike below\nObj a = new Obj();\na.dosomething()  or System.register(a) something of this sort, but in the above case I did nothing of that sort.\n\nso my question is how the system know that there is an object of NetworkInterceptor created and that has to be used?","body":"instead of NetworkInterceptor interceptor = new NetworkInterceptor(........) if I just use below statement new NetworkInterceptor(...........),  then also it works..... so how this object is used internally ?   I mean, suppose I create an object, then generally I use thatlike below Obj a = new Obj(); a.dosomething()  or System.register(a) something of this sort, but in the above case I did nothing of that sort.  so my question is how the system know that there is an object of NetworkInterceptor created and that has to be used?"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1685425843,"post_id":76358203,"comment_id":134653701,"body_markdown":"I just explored further and found that here the constructor of the class NetworkInterceptor plays the role, maybe either running a separate thread or a service.","body":"I just explored further and found that here the constructor of the class NetworkInterceptor plays the role, maybe either running a separate thread or a service."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685426304,"creation_date":1685425827,"answer_id":76361920,"question_id":76358203,"body_markdown":"If you look inside `NetworkInterceptor` sources:\r\n\r\n```java\r\n  public NetworkInterceptor(WebDriver driver, Filter filter) {\r\n    Require.nonNull(&quot;WebDriver&quot;, driver);\r\n    Require.nonNull(&quot;HTTP filter&quot;, filter);\r\n\r\n    if (!(driver instanceof HasDevTools)) {\r\n      throw new IllegalArgumentException(&quot;WebDriver instance must implement HasDevTools&quot;);\r\n    }\r\n\r\n    this.tools = ((HasDevTools) driver).getDevTools();\r\n    tools.createSessionIfThereIsNotOne();\r\n\r\n    tools.getDomains().network().interceptTrafficWith(filter);\r\n  }\r\n```\r\n\r\nyou will see that when you create an object with `new` it actually establishes a special kind of connection between your code and your driver:\r\n\r\n```java\r\nthis.tools = ((HasDevTools) driver).getDevTools();\r\ntools.createSessionIfThereIsNotOne()\r\n```\r\n\r\nand then configures &quot;stub&quot; on driver side through that connection:\r\n\r\n```java\r\ntools.getDomains().network().interceptTrafficWith(filter);\r\n```\r\n\r\nAfter that your client code does not need a reference to `NetworkInterceptor` (except of closing it but since it is `AutoCloseable` you should use it within `try with resources` block) because all the setup already configured for WebDriver.\r\n\r\nAlso what you can pick from those sources is that the interceptor won&#39;t always works. It only works with drivers supporting DevTools such as: Chrominum, Chrome, Edge, Firefox","title":"How Selenium 4 NetworkInterceptor works internally","body":"<p>If you look inside <code>NetworkInterceptor</code> sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public NetworkInterceptor(WebDriver driver, Filter filter) {\n    Require.nonNull(&quot;WebDriver&quot;, driver);\n    Require.nonNull(&quot;HTTP filter&quot;, filter);\n\n    if (!(driver instanceof HasDevTools)) {\n      throw new IllegalArgumentException(&quot;WebDriver instance must implement HasDevTools&quot;);\n    }\n\n    this.tools = ((HasDevTools) driver).getDevTools();\n    tools.createSessionIfThereIsNotOne();\n\n    tools.getDomains().network().interceptTrafficWith(filter);\n  }\n</code></pre>\n<p>you will see that when you create an object with <code>new</code> it actually establishes a special kind of connection between your code and your driver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.tools = ((HasDevTools) driver).getDevTools();\ntools.createSessionIfThereIsNotOne()\n</code></pre>\n<p>and then configures &quot;stub&quot; on driver side through that connection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tools.getDomains().network().interceptTrafficWith(filter);\n</code></pre>\n<p>After that your client code does not need a reference to <code>NetworkInterceptor</code> (except of closing it but since it is <code>AutoCloseable</code> you should use it within <code>try with resources</code> block) because all the setup already configured for WebDriver.</p>\n<p>Also what you can pick from those sources is that the interceptor won't always works. It only works with drivers supporting DevTools such as: Chrominum, Chrome, Edge, Firefox</p>\n"}],"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76361920,"answer_count":1,"score":0,"last_activity_date":1685426304,"creation_date":1685370865,"question_id":76358203,"body_markdown":"In Selenium 4 , there is provision to intercept network by below code:\r\n\r\n```java\r\nNetworkInterceptor interceptor = new NetworkInterceptor(\r\n      driver,\r\n      Route.matching(req -&gt; true)\r\n        .to(() -&gt; req -&gt; new HttpResponse()\r\n          .setStatus(200)\r\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\r\n          .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\r\n```\r\n\r\nmy question is that I never use that variable interceptor, then how or who usage it?\r\n\r\n","title":"How Selenium 4 NetworkInterceptor works internally","body":"<p>In Selenium 4 , there is provision to intercept network by below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NetworkInterceptor interceptor = new NetworkInterceptor(\n      driver,\n      Route.matching(req -&gt; true)\n        .to(() -&gt; req -&gt; new HttpResponse()\n          .setStatus(200)\n          .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\n          .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\n</code></pre>\n<p>my question is that I never use that variable interceptor, then how or who usage it?</p>\n"},{"tags":["java","audio","mp3"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1685369387,"post_id":76358043,"comment_id":134647101,"body_markdown":"Take the [tour], read [ask], and post a [mcve] please.","body":"Take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685369814,"answer_count":0,"score":0,"last_activity_date":1685426038,"creation_date":1685369239,"question_id":76358043,"body_markdown":"I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.\r\n\r\n    \r\n    import javazoom.jlgui.basicplayer.BasicPlayer;\r\n\r\n        @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                BasicPlayer player = new BasicPlayer();\r\n                try {\r\n                    player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\r\n                    player.play();\r\n                } catch (BasicPlayerException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\nHelp plis","title":"Where did the error &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot; come from?","body":"<p>I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.</p>\n<pre><code>import javazoom.jlgui.basicplayer.BasicPlayer;\n\n    @Override\n        public void keyPressed(KeyEvent e) {\n            BasicPlayer player = new BasicPlayer();\n            try {\n                player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\n                player.play();\n            } catch (BasicPlayerException ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n<p>Help plis</p>\n"},{"tags":["python","java","spring","jython-2.7"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685104553,"post_id":76338143,"comment_id":134618659,"body_markdown":"Does this answer your question? [How can I install various Python libraries in Jython?](https://stackoverflow.com/questions/6787015/how-can-i-install-various-python-libraries-in-jython)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6787015/how-can-i-install-various-python-libraries-in-jython\">How can I install various Python libraries in Jython?</a>"}],"owner":{"account_id":28683590,"reputation":1,"user_id":21964274,"display_name":"woojoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685425489,"creation_date":1685082451,"question_id":76338143,"body_markdown":"I need to help about the Spring project for Java in IntelliJ.\r\nIm gonna use Jython and moviepy in python code. I guess the error caused by these.\r\nActually I found numpy was not applied in Jython. But I have no idea about solved this PROBLEMS.\r\nPlease tell me how can I do!\r\n\r\nError Code\r\n\r\n```\r\nFile &quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;, line 4, in &lt;module&gt;\r\n    from moviepy.editor import VideoFileClip, concatenate_videoclips\r\n  File &quot;C:\\study\\Lib\\site-packages\\moviepy\\editor.py&quot;, line 24, in &lt;module&gt;\r\n    import imageio\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\__init__.py&quot;, line 24, in &lt;module&gt;\r\n    from .core import FormatManager, RETURN_BYTES\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\__init__.py&quot;, line 10, in &lt;module&gt;\r\n    from .util import Image, Array, Dict, asarray, image_as_uint, urlopen\r\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\util.py&quot;, line 10, in &lt;module&gt;\r\n    import numpy as np\r\nSyntaxError: (&quot;no viable alternative at input &#39;from&#39;&quot;, (&#39;C:\\\\study\\\\Lib\\\\site-packages\\\\numpy\\\\__init__.py&#39;, 130, 31, &#39;        raise ImportError(msg) from e\\n&#39;))\r\n] with root cause\r\n\r\norg.python.core.PySyntaxError: SyntaxError: no viable alternative at input &#39;from&#39; (__init__.py, line 130)\r\n\tat org.python.core.ParserFacade.fixParseError(ParserFacade.java:95) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ParserFacade.parse(ParserFacade.java:190) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.compileSource(imp.java:542) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromSource(imp.java:575) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:944) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importOneAs(imp.java:1564) ~[jython.jar:2.7.2]\r\n\tat imageio.core.util$py.f$0(C:/study/Lib/site-packages/imageio/core/util.py:542) ~[na:na]\r\n\tat imageio.core.util$py.call_function(C:/study/Lib/site-packages/imageio/core/util.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat imageio.core$py.f$0(C:/study/Lib/site-packages/imageio/core/__init__.py:16) ~[na:na]\r\n\tat imageio.core$py.call_function(C:/study/Lib/site-packages/imageio/core/__init__.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat imageio$py.f$0(C:/study/Lib/site-packages/imageio/__init__.py:100) ~[na:na]\r\n\tat imageio$py.call_function(C:/study/Lib/site-packages/imageio/__init__.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importOne(imp.java:1547) ~[jython.jar:2.7.2]\r\n\tat moviepy.editor$py.f$0(C:/study/Lib/site-packages/moviepy/editor.py:131) ~[na:na]\r\n\tat moviepy.editor$py.call_function(C:/study/Lib/site-packages/moviepy/editor.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_logic(imp.java:1278) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.import_module_level(imp.java:1369) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\r\n\tat org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\r\n\tat org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\r\n\tat org.python.pycode._pyx0.f$0(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py:9) ~[na:na]\r\n\tat org.python.pycode._pyx0.call_function(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py) ~[na:na]\r\n\tat org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\r\n\tat org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\r\n\tat org.python.core.Py.runCode(Py.java:1687) ~[jython.jar:2.7.2]\r\n\tat org.python.core.__builtin__.execfile_flags(__builtin__.java:535) ~[jython.jar:2.7.2]\r\n\tat org.python.util.PythonInterpreter.execfile(PythonInterpreter.java:287) ~[jython.jar:2.7.2]\r\n\tat com.woojoofolio.project.springboot.jython.JythonTest.getTest(JythonTest.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:86) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n```\r\n\r\n\r\nSource code in Java\r\n\r\n```\r\nprivate static PythonInterpreter intPre;\r\npublic String getTest() throws IOException, InterruptedException {\r\n intPre = new PythonInterpreter();\r\n intPre.execfile(&quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;);\r\n PyFunction pyFunction = (PyFunction) intPre.get(&quot;video_editor&quot;, PyFunction.class);\r\n \r\n String a = &quot;01.mp4&quot;;\r\n PyObject pyObject = pyFunction.__call__(new PyString(a));\r\n System.out.println(pyObject.toString());\r\n\r\n return pyObject.toString();\r\n}\r\n```\r\n\r\nSource cide in Python\r\n\r\n```\r\nimport sys\r\n\r\nsys.path.append(&#39;C:\\study\\Lib\\site-packages&#39;)\r\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips\r\n\r\nimport math\r\n\r\n\r\ndef video_editor(file):\r\n    video_path = file\r\n\r\n    threshold = 0.2\r\n    window_size = 0.5\r\n    video = VideoFileClip(video_path)\r\n    n_windows = math.floor(video.audio.end / window_size)\r\n\r\n    keep_clips = []\r\n\r\n    is_prev_silence = True\r\n    start_time = 0\r\n    end_time = 0\r\n\r\n    for i in range(n_windows):\r\n        s = video.audio.subclip(i * window_size, (i + 1) * window_size)\r\n\r\n        if s.max_volume() &gt;= threshold:\r\n            if is_prev_silence:\r\n                start_time = i * window_size\r\n\r\n            is_prev_silence = False\r\n\r\n        else:\r\n            if not is_prev_silence:\r\n                end_time = i * window_size\r\n                keep_clips.append(video.subclip(start_time, end_time))\r\n                print({start_time} - {end_time})\r\n\r\n            is_prev_silence = True\r\n\r\n    edited_video = concatenate_videoclips(keep_clips)\r\n\r\n    edited_video.write_videofile(\r\n        &#39;C:/own_project/woojoofolio/src/main/java/com/woojoofolio/project/springboot/jython/out.mp4&#39;,\r\n        audio_codec=&#39;aac&#39;,\r\n        threads=16\r\n    )\r\n\r\n    video.close()\r\n    edited_video.close()\r\n\r\n    return &quot;success&quot;\r\n\r\n```\r\n\r\n\r\n\r\nI expected moviepy library is worked.but I didn`t.","title":"How to deal with Jython and moviepy Error?","body":"<p>I need to help about the Spring project for Java in IntelliJ.\nIm gonna use Jython and moviepy in python code. I guess the error caused by these.\nActually I found numpy was not applied in Jython. But I have no idea about solved this PROBLEMS.\nPlease tell me how can I do!</p>\n<p>Error Code</p>\n<pre><code>File &quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;, line 4, in &lt;module&gt;\n    from moviepy.editor import VideoFileClip, concatenate_videoclips\n  File &quot;C:\\study\\Lib\\site-packages\\moviepy\\editor.py&quot;, line 24, in &lt;module&gt;\n    import imageio\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\__init__.py&quot;, line 24, in &lt;module&gt;\n    from .core import FormatManager, RETURN_BYTES\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\__init__.py&quot;, line 10, in &lt;module&gt;\n    from .util import Image, Array, Dict, asarray, image_as_uint, urlopen\n  File &quot;C:\\study\\Lib\\site-packages\\imageio\\core\\util.py&quot;, line 10, in &lt;module&gt;\n    import numpy as np\nSyntaxError: (&quot;no viable alternative at input 'from'&quot;, ('C:\\\\study\\\\Lib\\\\site-packages\\\\numpy\\\\__init__.py', 130, 31, '        raise ImportError(msg) from e\\n'))\n] with root cause\n\norg.python.core.PySyntaxError: SyntaxError: no viable alternative at input 'from' (__init__.py, line 130)\n    at org.python.core.ParserFacade.fixParseError(ParserFacade.java:95) ~[jython.jar:2.7.2]\n    at org.python.core.ParserFacade.parse(ParserFacade.java:190) ~[jython.jar:2.7.2]\n    at org.python.core.imp.compileSource(imp.java:542) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromSource(imp.java:575) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:944) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importOneAs(imp.java:1564) ~[jython.jar:2.7.2]\n    at imageio.core.util$py.f$0(C:/study/Lib/site-packages/imageio/core/util.py:542) ~[na:na]\n    at imageio.core.util$py.call_function(C:/study/Lib/site-packages/imageio/core/util.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at imageio.core$py.f$0(C:/study/Lib/site-packages/imageio/core/__init__.py:16) ~[na:na]\n    at imageio.core$py.call_function(C:/study/Lib/site-packages/imageio/core/__init__.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1350) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at imageio$py.f$0(C:/study/Lib/site-packages/imageio/__init__.py:100) ~[na:na]\n    at imageio$py.call_function(C:/study/Lib/site-packages/imageio/__init__.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1158) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_first(imp.java:1219) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1361) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importOne(imp.java:1547) ~[jython.jar:2.7.2]\n    at moviepy.editor$py.f$0(C:/study/Lib/site-packages/moviepy/editor.py:131) ~[na:na]\n    at moviepy.editor$py.call_function(C:/study/Lib/site-packages/moviepy/editor.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromCode(imp.java:630) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:312) ~[jython.jar:2.7.2]\n    at org.python.core.imp.createFromPyClass(imp.java:255) ~[jython.jar:2.7.2]\n    at org.python.core.imp.loadFromSource(imp.java:929) ~[jython.jar:2.7.2]\n    at org.python.core.imp.find_module(imp.java:769) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.findSubModule(PyModule.java:140) ~[jython.jar:2.7.2]\n    at org.python.core.PyModule.impAttr(PyModule.java:107) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_next(imp.java:1161) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_logic(imp.java:1278) ~[jython.jar:2.7.2]\n    at org.python.core.imp.import_module_level(imp.java:1369) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importName(imp.java:1528) ~[jython.jar:2.7.2]\n    at org.python.core.ImportFunction.__call__(__builtin__.java:1285) ~[jython.jar:2.7.2]\n    at org.python.core.PyObject.__call__(PyObject.java:433) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.__import__(__builtin__.java:1232) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFromAs(imp.java:1620) ~[jython.jar:2.7.2]\n    at org.python.core.imp.importFrom(imp.java:1595) ~[jython.jar:2.7.2]\n    at org.python.pycode._pyx0.f$0(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py:9) ~[na:na]\n    at org.python.pycode._pyx0.call_function(src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py) ~[na:na]\n    at org.python.core.PyTableCode.call(PyTableCode.java:173) ~[jython.jar:2.7.2]\n    at org.python.core.PyCode.call(PyCode.java:18) ~[jython.jar:2.7.2]\n    at org.python.core.Py.runCode(Py.java:1687) ~[jython.jar:2.7.2]\n    at org.python.core.__builtin__.execfile_flags(__builtin__.java:535) ~[jython.jar:2.7.2]\n    at org.python.util.PythonInterpreter.execfile(PythonInterpreter.java:287) ~[jython.jar:2.7.2]\n    at com.woojoofolio.project.springboot.jython.JythonTest.getTest(JythonTest.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:151) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:86) ~[spring-session-core-2.1.8.RELEASE.jar:2.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n</code></pre>\n<p>Source code in Java</p>\n<pre><code>private static PythonInterpreter intPre;\npublic String getTest() throws IOException, InterruptedException {\n intPre = new PythonInterpreter();\n intPre.execfile(&quot;src/main/java/com/woojoofolio/project/springboot/jython/VideoEditor.py&quot;);\n PyFunction pyFunction = (PyFunction) intPre.get(&quot;video_editor&quot;, PyFunction.class);\n \n String a = &quot;01.mp4&quot;;\n PyObject pyObject = pyFunction.__call__(new PyString(a));\n System.out.println(pyObject.toString());\n\n return pyObject.toString();\n}\n</code></pre>\n<p>Source cide in Python</p>\n<pre><code>import sys\n\nsys.path.append('C:\\study\\Lib\\site-packages')\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips\n\nimport math\n\n\ndef video_editor(file):\n    video_path = file\n\n    threshold = 0.2\n    window_size = 0.5\n    video = VideoFileClip(video_path)\n    n_windows = math.floor(video.audio.end / window_size)\n\n    keep_clips = []\n\n    is_prev_silence = True\n    start_time = 0\n    end_time = 0\n\n    for i in range(n_windows):\n        s = video.audio.subclip(i * window_size, (i + 1) * window_size)\n\n        if s.max_volume() &gt;= threshold:\n            if is_prev_silence:\n                start_time = i * window_size\n\n            is_prev_silence = False\n\n        else:\n            if not is_prev_silence:\n                end_time = i * window_size\n                keep_clips.append(video.subclip(start_time, end_time))\n                print({start_time} - {end_time})\n\n            is_prev_silence = True\n\n    edited_video = concatenate_videoclips(keep_clips)\n\n    edited_video.write_videofile(\n        'C:/own_project/woojoofolio/src/main/java/com/woojoofolio/project/springboot/jython/out.mp4',\n        audio_codec='aac',\n        threads=16\n    )\n\n    video.close()\n    edited_video.close()\n\n    return &quot;success&quot;\n\n</code></pre>\n<p>I expected moviepy library is worked.but I didn`t.</p>\n"},{"tags":["java","window","keystore","keytool"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685424987,"post_id":76361846,"comment_id":134653608,"body_markdown":"Hello there, can you please share full error message~","body":"Hello there, can you please share full error message~"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685424992,"post_id":76361846,"comment_id":134653609,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28707308,"reputation":1,"user_id":21983406,"display_name":"wook"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685424806,"creation_date":1685424806,"question_id":76361846,"body_markdown":"I&#39;m trying to use keytool in a window environment but I&#39;m getting an error that says the -keyalg option is mandatory, the guide I&#39;m looking at doesn&#39;t have a part that specifies keyalg, so I don&#39;t know which algorithm to specify.\r\nI want to know what algorithm value goes into when I didn&#39;t give the -keyalg value in java 1.6 version.\r\n\r\nI think in java1.6, DSA is used as the default, so I gave the -keyalg value to DSA and created a keystore","title":"What algorithm value do I use when -keyalg option is not specified in Java 1.6 keytool?","body":"<p>I'm trying to use keytool in a window environment but I'm getting an error that says the -keyalg option is mandatory, the guide I'm looking at doesn't have a part that specifies keyalg, so I don't know which algorithm to specify.\nI want to know what algorithm value goes into when I didn't give the -keyalg value in java 1.6 version.</p>\n<p>I think in java1.6, DSA is used as the default, so I gave the -keyalg value to DSA and created a keystore</p>\n"},{"tags":["java","android","android-studio","geolocation"],"answers":[{"tags":[],"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673015605,"creation_date":1673015605,"answer_id":75032280,"question_id":75032158,"body_markdown":"It&#39;s enough to start reading from official doc: https://developer.android.com/training/location &lt;br&gt;\r\nor from here ready solution https://www.geeksforgeeks.org/how-to-get-current-location-in-android/","title":"How to get a user&#39;s location in Android","body":"<p>It's enough to start reading from official doc: <a href=\"https://developer.android.com/training/location\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location</a> <br>\nor from here ready solution <a href=\"https://www.geeksforgeeks.org/how-to-get-current-location-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-get-current-location-in-android/</a></p>\n"}],"owner":{"account_id":20357191,"reputation":45,"user_id":14932446,"display_name":"AzeaL87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685424493,"creation_date":1673014999,"question_id":75032158,"body_markdown":"I have been trying to get user location in a weather app I am building. Since I&#39;m pretty new to android development this is quite tough and so I have tried finding sources on how to make this, though after trying many different things it always ends up being a way too outdated version that no longer works.\r\n\r\nSo my question is what is currently the best way the get a user&#39;s location.\r\n\r\nThanks in advance for anyone that can help me with this!","title":"How to get a user&#39;s location in Android","body":"<p>I have been trying to get user location in a weather app I am building. Since I'm pretty new to android development this is quite tough and so I have tried finding sources on how to make this, though after trying many different things it always ends up being a way too outdated version that no longer works.</p>\n<p>So my question is what is currently the best way the get a user's location.</p>\n<p>Thanks in advance for anyone that can help me with this!</p>\n"},{"tags":["java","keycloak","openid-connect","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685424261,"creation_date":1685424261,"answer_id":76361800,"question_id":76339819,"body_markdown":"You should use the `KeycloakOidcClient` and with this client, comes the `KeycloakRolesAuthorizationGenerator`: https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java which puts the Keycloak roles information as the roles of the pac4j authenticated user profile.\r\n\r\nAny other attribute can be retrieved via `getAttribute` method of the `UserProfile`.","title":"Retrieving user&#39;s groups from Keycloak via pac4j library","body":"<p>You should use the <code>KeycloakOidcClient</code> and with this client, comes the <code>KeycloakRolesAuthorizationGenerator</code>: <a href=\"https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java\" rel=\"nofollow noreferrer\">https://github.com/pac4j/pac4j/blob/5.7.x/pac4j-oidc/src/main/java/org/pac4j/oidc/authorization/generator/KeycloakRolesAuthorizationGenerator.java</a> which puts the Keycloak roles information as the roles of the pac4j authenticated user profile.</p>\n<p>Any other attribute can be retrieved via <code>getAttribute</code> method of the <code>UserProfile</code>.</p>\n"}],"owner":{"account_id":28684946,"reputation":1,"user_id":21965399,"display_name":"Arrigo Pierotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685424261,"creation_date":1685095890,"question_id":76339819,"body_markdown":"I&#39;m protecting a JavaEE running on Tomcat with the library `javaee-pac4j` with an OpenID Connect flow (with library `pac4j-oidc`) that is managed by a Keycloak istance.\r\n\r\nAfter a successful login in Keycloak for a protected resource, I obtain the `UserProfile` from the `WebContext` and `SessionStore` inherited by the default pac4j logics. I&#39;m able to obtain various like roles, permissions, attributes, etc.. but I see no clear way to retrieve the groups where the user is in inside Keycloak.\r\n\r\nIs there any method of the `pac4j-oidc` library that returns me said group list, or should I create a custom mapper in the Keycloak client configuration?","title":"Retrieving user&#39;s groups from Keycloak via pac4j library","body":"<p>I'm protecting a JavaEE running on Tomcat with the library <code>javaee-pac4j</code> with an OpenID Connect flow (with library <code>pac4j-oidc</code>) that is managed by a Keycloak istance.</p>\n<p>After a successful login in Keycloak for a protected resource, I obtain the <code>UserProfile</code> from the <code>WebContext</code> and <code>SessionStore</code> inherited by the default pac4j logics. I'm able to obtain various like roles, permissions, attributes, etc.. but I see no clear way to retrieve the groups where the user is in inside Keycloak.</p>\n<p>Is there any method of the <code>pac4j-oidc</code> library that returns me said group list, or should I create a custom mapper in the Keycloak client configuration?</p>\n"},{"tags":["java","junit","reflection"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685424066,"creation_date":1685424066,"answer_id":76361787,"question_id":76361345,"body_markdown":"I just did a little example. I wrote a class with a List and using reflection set to this list a value:\r\n\r\n    public class ABC {\r\n    \r\n        public static List entityList = new ArrayList();\r\n    \r\n        public void method() {\r\n            System.out.println(entityList);\r\n        }\r\n    }\r\n\r\nand junit test \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ABCTest {\r\n    \r\n        @InjectMocks\r\n        ABC abc;\r\n    \r\n        @Test\r\n        void myTest() throws NoSuchFieldException, IllegalAccessException {\r\n            List&lt;ABC&gt; staticEntityList = List.of(new ABC(), new ABC());\r\n    \r\n    // Using reflection to set the value of entityList\r\n            Field entityListField = ABC.class.getDeclaredField(&quot;entityList&quot;);\r\n            entityListField.setAccessible(true);\r\n            entityListField.set(abc, staticEntityList);\r\n            abc.method();\r\n    \r\n        }\r\n    }\r\n\r\nSo size of it become to [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rYIqq.png","title":"Use of ReflectionTestUtils.setField() in Junit testing to set a List of objects","body":"<p>I just did a little example. I wrote a class with a List and using reflection set to this list a value:</p>\n<pre><code>public class ABC {\n\n    public static List entityList = new ArrayList();\n\n    public void method() {\n        System.out.println(entityList);\n    }\n}\n</code></pre>\n<p>and junit test</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ABCTest {\n\n    @InjectMocks\n    ABC abc;\n\n    @Test\n    void myTest() throws NoSuchFieldException, IllegalAccessException {\n        List&lt;ABC&gt; staticEntityList = List.of(new ABC(), new ABC());\n\n// Using reflection to set the value of entityList\n        Field entityListField = ABC.class.getDeclaredField(&quot;entityList&quot;);\n        entityListField.setAccessible(true);\n        entityListField.set(abc, staticEntityList);\n        abc.method();\n\n    }\n}\n</code></pre>\n<p>So size of it become to <a href=\"https://i.stack.imgur.com/rYIqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rYIqq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76361787,"answer_count":1,"score":0,"last_activity_date":1685424066,"creation_date":1685415406,"question_id":76361345,"body_markdown":"in my implementation , i have \r\n\r\n```List&lt;recordEntity&gt; entityList = service.mapper(parameter1,parameter2);```\r\n\r\ni need to set the value for this ```entityList``` with a static value for my unit testing,\r\ni know that using ``ReflectionsTestUtils`` we can set value, even i have used this for another scenaro, \r\n\r\n```ReflectionTestUtils.setField(classObject, &quot;implementations&quot;, Collections.singletonMap(&quot;mapper&quot;, new DTOMapper()));```\r\n\r\nbut am not sure how to set a ```list```","title":"Use of ReflectionTestUtils.setField() in Junit testing to set a List of objects","body":"<p>in my implementation , i have</p>\n<p><code>List&lt;recordEntity&gt; entityList = service.mapper(parameter1,parameter2);</code></p>\n<p>i need to set the value for this <code>entityList</code> with a static value for my unit testing,\ni know that using <code>ReflectionsTestUtils</code> we can set value, even i have used this for another scenaro,</p>\n<p><code>ReflectionTestUtils.setField(classObject, &quot;implementations&quot;, Collections.singletonMap(&quot;mapper&quot;, new DTOMapper()));</code></p>\n<p>but am not sure how to set a <code>list</code></p>\n"},{"tags":["java","eclipse","maven","log4j","dependencies"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1440577593,"post_id":32221203,"comment_id":52325966,"body_markdown":"Right click on your project folder-&gt;build path-&gt;configure build path-&gt;under the library tab click on (add external jar)-&gt;apply","body":"Right click on your project folder-&gt;build path-&gt;configure build path-&gt;under the library tab click on (add external jar)-&gt;apply"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1440578461,"post_id":32221203,"comment_id":52326479,"body_markdown":"@hermit that&#39;s not how you add dependencies in a mavenized project, any manual library configuration will be removed again upon syncing project settings when those dependencies are not in the pom configuration.","body":"@hermit that&#39;s not how you add dependencies in a mavenized project, any manual library configuration will be removed again upon syncing project settings when those dependencies are not in the pom configuration."},{"owner":{"account_id":2185371,"reputation":2917,"user_id":1933888,"accept_rate":58,"display_name":"user1933888"},"score":1,"creation_date":1440579252,"post_id":32221203,"comment_id":52326990,"body_markdown":"Did you run *mvn clean install* ?, after this what jars did you find are downloaded in local maven repository, forget about eclipse for now.","body":"Did you run <i>mvn clean install</i> ?, after this what jars did you find are downloaded in local maven repository, forget about eclipse for now."}],"answers":[{"tags":[],"owner":{"account_id":4607949,"reputation":500,"user_id":3736889,"display_name":"szefuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440578222,"creation_date":1440578222,"answer_id":32221736,"question_id":32221203,"body_markdown":"You also need dependency to `slf4j-api` \r\n\r\nAlso, if you use eclipse, it might be the case - try to update project.\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>You also need dependency to <code>slf4j-api</code> </p>\n\n<p>Also, if you use eclipse, it might be the case - try to update project.</p>\n"},{"tags":[],"owner":{"account_id":2185371,"reputation":2917,"user_id":1933888,"accept_rate":58,"display_name":"user1933888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440581192,"creation_date":1440581192,"answer_id":32222781,"question_id":32221203,"body_markdown":"You said you are new to Maven and have added the dependency in POM.\r\nNow I am assuming that, you are assuming that, just because you added something in *pom.xml*, the dependent jars will be available for build.\r\n\r\nMaven does not work that way. It points to a common repository from where you have to download the dependent jars (which happens when you do an *mvn install*)\r\n\r\nAfter you mvn install works fine, you may use this src to setup in your eclipse IDE either by using *mvn eclipse:eclipse* or using an eclipse maven plugin.\r\n\r\nSo, after you added the dependency, run following command from where your project is located\r\n\r\n    mvn clean install;\r\n\r\nYour jars should be downloaded from maven to your local directory something like:\r\n\r\n&gt; C:\\Users\\user\\.m2\\repository\r\n\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>You said you are new to Maven and have added the dependency in POM.\nNow I am assuming that, you are assuming that, just because you added something in <em>pom.xml</em>, the dependent jars will be available for build.</p>\n\n<p>Maven does not work that way. It points to a common repository from where you have to download the dependent jars (which happens when you do an <em>mvn install</em>)</p>\n\n<p>After you mvn install works fine, you may use this src to setup in your eclipse IDE either by using <em>mvn eclipse:eclipse</em> or using an eclipse maven plugin.</p>\n\n<p>So, after you added the dependency, run following command from where your project is located</p>\n\n<pre><code>mvn clean install;\n</code></pre>\n\n<p>Your jars should be downloaded from maven to your local directory something like:</p>\n\n<blockquote>\n  <p>C:\\Users\\user.m2\\repository</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":426701,"reputation":3719,"user_id":2209304,"display_name":"Laszlo Lugosi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556116586,"creation_date":1556116586,"answer_id":55832668,"question_id":32221203,"body_markdown":"As I had run to very similar issue, I write what my problem was:\r\n\r\nI copied a wrong maven dependency from the internet (example).\r\nIt was only in test scope.. Oh Dear..\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\nSo after remove scope test section started to work as expected. :)\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>As I had run to very similar issue, I write what my problem was:</p>\n\n<p>I copied a wrong maven dependency from the internet (example).\nIt was only in test scope.. Oh Dear..</p>\n\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n\n<p>So after remove scope test section started to work as expected. :)</p>\n"},{"tags":[],"owner":{"account_id":10480311,"reputation":39,"user_id":7725500,"display_name":"Kaji Rafiqul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685423284,"creation_date":1685423284,"answer_id":76361746,"question_id":32221203,"body_markdown":"****** It&#39;s working for me.****\r\n\r\nJust add below dependencyin pom.xml under dependencies\r\n  \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jcl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>****** It's working for me.****</p>\n<p>Just add below dependencyin pom.xml under dependencies</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-jcl&lt;/artifactId&gt;\n    &lt;version&gt;1.7.5&lt;/version&gt;\n&lt;/dependency&gt;     \n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4606543,"reputation":527,"user_id":3735871,"accept_rate":78,"display_name":"user3735871"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25014,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1685423284,"creation_date":1440576574,"question_id":32221203,"body_markdown":"I am learning to use Maven and Log4J. In the POM file I&#39;ve added the below dependencies:\r\n\r\n      &lt;dependencies&gt;\r\n  \t     &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;1.7.12&lt;/version&gt;\r\n\t     &lt;/dependency&gt;\r\n\t     &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;1.2.17&lt;/version&gt;\r\n\t     &lt;/dependency&gt;\t \r\n      &lt;/dependencies&gt;\r\nWhen I tried to import `import org.slf4j.Logger` in my main class, Eclipse says &quot;The import org.slf4j cannot be resolved&quot;. I searched a while for an solution, and it seems that I need to download the distribution file here http://www.slf4j.org/download.html and &quot;add the jar to the classpath&quot;? I am confused: wouldn&#39;t Maven download that automatically? How can I &quot;add the jar to the classpath&quot;? I am a real beginner here. Many thanks for your help!","title":"Fail to import org.slf4j.Logger- how to add the jar to classpath?","body":"<p>I am learning to use Maven and Log4J. In the POM file I've added the below dependencies:</p>\n\n<pre><code>  &lt;dependencies&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n       &lt;version&gt;1.7.12&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n       &lt;version&gt;1.2.17&lt;/version&gt;\n     &lt;/dependency&gt;   \n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>When I tried to import <code>import org.slf4j.Logger</code> in my main class, Eclipse says \"The import org.slf4j cannot be resolved\". I searched a while for an solution, and it seems that I need to download the distribution file here <a href=\"http://www.slf4j.org/download.html\" rel=\"noreferrer\">http://www.slf4j.org/download.html</a> and \"add the jar to the classpath\"? I am confused: wouldn't Maven download that automatically? How can I \"add the jar to the classpath\"? I am a real beginner here. Many thanks for your help!</p>\n"},{"tags":["java","if-statement","while-loop","conditional-statements"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685420124,"post_id":76361551,"comment_id":134653117,"body_markdown":"`next` is going to wait for a valid input, or as the docs say *&quot;Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext() returned true.&quot;* - so a &quot;empty&quot; (or new line) input is not valid in this case.  Consider using `nextLine` instead","body":"<code>next</code> is going to wait for a valid input, or as the docs say <i>&quot;Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext() returned true.&quot;</i> - so a &quot;empty&quot; (or new line) input is not valid in this case.  Consider using <code>nextLine</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685421435,"creation_date":1685421435,"answer_id":76361656,"question_id":76361551,"body_markdown":"The _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class uses a delimiter to capture the values returned by the _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_ method.\r\n\r\nThe JavaDoc for _Scanner_ states the following.\r\n\r\n&gt; _A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. ..._  \r\n&gt;\r\n&gt; ... _The default whitespace delimiter used by a scanner is as recognized by [Character.isWhitespace()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isWhitespace(char))_\r\n\r\nSo, I presume you&#39;re expecting that when the enter-key is pressed, a newline should terminate the process.\r\n\r\nThis is not the case&amp;mdash;since the _Scanner_ will have not captured a delimiter, yet.\r\n\r\nIf you&#39;re looking to capture the entire line provided by the user, and not just one value at a time, use the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_ method.\r\n\r\nThis will be effective when checking for a length of 0.\r\n\r\nThus, assigning _false_ to _valid_, and exiting the loop upon the re-iteration  evaluation.","title":"While loop doesn&#39;t break if there is no input","body":"<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class uses a delimiter to capture the values returned by the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em> method.</p>\n<p>The JavaDoc for <em>Scanner</em> states the following.</p>\n<blockquote>\n<p><em>A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. ...</em></p>\n<p>... <em>The default whitespace delimiter used by a scanner is as recognized by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isWhitespace(char)\" rel=\"nofollow noreferrer\">Character.isWhitespace()</a></em></p>\n</blockquote>\n<p>So, I presume you're expecting that when the enter-key is pressed, a newline should terminate the process.</p>\n<p>This is not the case—since the <em>Scanner</em> will have not captured a delimiter, yet.</p>\n<p>If you're looking to capture the entire line provided by the user, and not just one value at a time, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em> method.</p>\n<p>This will be effective when checking for a length of 0.</p>\n<p>Thus, assigning <em>false</em> to <em>valid</em>, and exiting the loop upon the re-iteration  evaluation.</p>\n"}],"owner":{"account_id":26429167,"reputation":1,"user_id":20075614,"display_name":"theinkykangawoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685421435,"creation_date":1685419507,"question_id":76361551,"body_markdown":"I want to leave the while loop if the user doesn&#39;t input any value. But, when the user doen&#39;t input anything, nothing happens, and it also doesn&#39;t seem to exit the while loop, because it doen&#39;t print the end statement.\r\n\r\nI tried to make an if statement that says if the length of the input is equal to 0, valid becomes false. Here&#39;s my full code.\r\n```\r\nboolean valid = true;\r\n\t\tString exp =&quot; &quot;;\r\n\t\twhile(valid) {\r\n\t\t\tSystem.out.println(&quot;CS211 Spring Quarter 2023&quot;);\r\n\t\t\tSystem.out.print(&quot;Enter a math expression : &quot;); \r\n\t\t\texp = s.next();\r\n\t\t\tif(exp.length()==0) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\t//only when the expression is valid, the code proceeds to convert it to postfix, and evaluate the expression\t\t\t\r\n\t\t\tif(evaluationofexpression.evalexpress(exp)) {\r\n\t\t\t\t System.out.println();\r\n\t\t\t\t String postfix = infixtopostfix.infix2postfix(exp);\t\t\t \r\n\t\t\t\t String evaluated = String.valueOf(evalpostfix.evaluatePostfix(postfix));\t\t\t\t \r\n\t\t\t\t System.out.println(&quot;infix expression:&quot;+ exp);\r\n\t\t\t\t System.out.println(&quot;postfix expression:&quot;+ postfix);\r\n\t\t\t     System.out.println(&quot;evaluated expression:&quot;+ evaluated);\r\n\t\t\t     System.out.println();\r\n\t\t\t}\r\n\t\t\t//if the expression is false, it will ask you to try again and repeat the code\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Try again&quot;);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;bye&quot;);\r\n\t\t\r\n```\r\n","title":"While loop doesn&#39;t break if there is no input","body":"<p>I want to leave the while loop if the user doesn't input any value. But, when the user doen't input anything, nothing happens, and it also doesn't seem to exit the while loop, because it doen't print the end statement.</p>\n<p>I tried to make an if statement that says if the length of the input is equal to 0, valid becomes false. Here's my full code.</p>\n<pre><code>boolean valid = true;\n        String exp =&quot; &quot;;\n        while(valid) {\n            System.out.println(&quot;CS211 Spring Quarter 2023&quot;);\n            System.out.print(&quot;Enter a math expression : &quot;); \n            exp = s.next();\n            if(exp.length()==0) {\n                valid = false;\n                \n                \n            }           \n            //only when the expression is valid, the code proceeds to convert it to postfix, and evaluate the expression            \n            if(evaluationofexpression.evalexpress(exp)) {\n                 System.out.println();\n                 String postfix = infixtopostfix.infix2postfix(exp);             \n                 String evaluated = String.valueOf(evalpostfix.evaluatePostfix(postfix));                \n                 System.out.println(&quot;infix expression:&quot;+ exp);\n                 System.out.println(&quot;postfix expression:&quot;+ postfix);\n                 System.out.println(&quot;evaluated expression:&quot;+ evaluated);\n                 System.out.println();\n            }\n            //if the expression is false, it will ask you to try again and repeat the code\n            else {\n                System.out.println(&quot;Try again&quot;);\n                System.out.println();\n            }\n        }\n        System.out.println(&quot;bye&quot;);\n        \n</code></pre>\n"},{"tags":["java","wso2","jakarta-mail","wso2-enterprise-integrator","wso2-micro-integrator"],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685421189,"creation_date":1685298683,"answer_id":76353023,"question_id":76329770,"body_markdown":"Here is a working Class Mediator to send Emails with a body and an attachment. I tested this on JDK 8. This should work with JavaX dependencies on JDK 11 as well. \r\n\r\n```java\r\npackage org.ycr;\r\n\r\nimport org.apache.synapse.MessageContext;\r\nimport org.apache.synapse.mediators.AbstractMediator;\r\n\r\nimport java.util.*;\r\nimport javax.mail.*;\r\nimport javax.mail.internet.*;\r\n\r\npublic class MailSend extends AbstractMediator { \r\n\r\n\tpublic boolean mediate(MessageContext context) {\r\n\t\tlog.info(&quot;Starting Main sending&quot;);\r\n        // Storing the current class loader of the thread, so we can restore it later. \r\n\t\tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\t\ttry {\r\n\t\t\tString host = &quot;smtp.gmail.com&quot;;\r\n\t\t\tint port = 587;\r\n\t\t\tfinal String username = &quot;xxxx@gmail.com&quot;;\r\n\t\t\tfinal String password = &quot;xxxx&quot;;\r\n\t\t\tfinal String atachmentFilePath = &quot;/home/xx/xx/xxxx/log.txt&quot;;\r\n\t\t\tfinal String toAddress = &quot;xxxx@gmail.com&quot;;\r\n\r\n            // Setting a new class loader so Javax is able to find the Mime dependencies.\t\r\n            Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\r\n\r\n\t\t\tProperties props = new Properties();\r\n\t\t\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n\t\t\tprops.put(&quot;mail.smtp.port&quot;, port);\r\n\t\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\t\t\tSession session = Session.getInstance(props, new Authenticator() {\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Create a new message\r\n\t\t\tMimeMessage message = new MimeMessage(session);\r\n\t\t\tmessage.setFrom(new InternetAddress(username));\r\n\t\t\tmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toAddress));\r\n\t\t\tmessage.setSubject(&quot;Email Sample&quot;);\r\n\r\n\t\t\tMultipart multipart = new MimeMultipart();\r\n\r\n\t\t\t// Create the HTML body part\r\n\t\t\tMimeBodyPart htmlPart = new MimeBodyPart();\r\n\t\t\tString htmlContent = &quot;&lt;h1&gt;Sample&lt;/h1&gt;&quot;\r\n\t\t\t\t\t+ &quot;&lt;p&gt;This is an Sample Mail&lt;/p&gt;&quot;;\r\n\t\t\thtmlPart.setContent(htmlContent, &quot;text/html&quot;);\r\n\r\n\t\t\t// Add the HTML body part to the multipart message\r\n\t\t\tmultipart.addBodyPart(htmlPart);\r\n\r\n\t\t\t// File attaching\r\n\t\t\tMimeBodyPart attachmentPart = new MimeBodyPart();\r\n\t\t\tattachmentPart.attachFile(atachmentFilePath);\r\n\r\n\t\t\t// Add the attachment part to the multipart message\r\n\t\t\tmultipart.addBodyPart(attachmentPart);\r\n\r\n\t\t\t// Set the content of the message to the multipart message\r\n\t\t\tmessage.setContent(multipart);\r\n\t\t\tTransport.send(message);\r\n\r\n\t\t\tlog.info(&quot;Done sending Email&quot;);\r\n\t\t\treturn true;\r\n\r\n\t\t}catch (Exception e){\r\n\t\t\thandleException(&quot;Error occurred.&quot;, context);\r\n\t\t}finally {\r\n\t\t\tThread.currentThread().setContextClassLoader(classLoader);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nOn a side note, I&#39;m not sure why you are trying this with a class mediator, but you can do the same without the class mediator as well. Either by using the Email COnnector or by using Email Transport. \r\n\r\n  [1]: https://i.stack.imgur.com/UhCvl.png","title":"Java Email is sent with no content and not attachment when sending email from WSO2","body":"<p>Here is a working Class Mediator to send Emails with a body and an attachment. I tested this on JDK 8. This should work with JavaX dependencies on JDK 11 as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.ycr;\n\nimport org.apache.synapse.MessageContext;\nimport org.apache.synapse.mediators.AbstractMediator;\n\nimport java.util.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\npublic class MailSend extends AbstractMediator { \n\n    public boolean mediate(MessageContext context) {\n        log.info(&quot;Starting Main sending&quot;);\n        // Storing the current class loader of the thread, so we can restore it later. \n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        try {\n            String host = &quot;smtp.gmail.com&quot;;\n            int port = 587;\n            final String username = &quot;xxxx@gmail.com&quot;;\n            final String password = &quot;xxxx&quot;;\n            final String atachmentFilePath = &quot;/home/xx/xx/xxxx/log.txt&quot;;\n            final String toAddress = &quot;xxxx@gmail.com&quot;;\n\n            // Setting a new class loader so Javax is able to find the Mime dependencies.   \n            Thread.currentThread().setContextClassLoader(javax.mail.Message.class.getClassLoader());\n\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n            Session session = Session.getInstance(props, new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n            });\n\n            // Create a new message\n            MimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(username));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toAddress));\n            message.setSubject(&quot;Email Sample&quot;);\n\n            Multipart multipart = new MimeMultipart();\n\n            // Create the HTML body part\n            MimeBodyPart htmlPart = new MimeBodyPart();\n            String htmlContent = &quot;&lt;h1&gt;Sample&lt;/h1&gt;&quot;\n                    + &quot;&lt;p&gt;This is an Sample Mail&lt;/p&gt;&quot;;\n            htmlPart.setContent(htmlContent, &quot;text/html&quot;);\n\n            // Add the HTML body part to the multipart message\n            multipart.addBodyPart(htmlPart);\n\n            // File attaching\n            MimeBodyPart attachmentPart = new MimeBodyPart();\n            attachmentPart.attachFile(atachmentFilePath);\n\n            // Add the attachment part to the multipart message\n            multipart.addBodyPart(attachmentPart);\n\n            // Set the content of the message to the multipart message\n            message.setContent(multipart);\n            Transport.send(message);\n\n            log.info(&quot;Done sending Email&quot;);\n            return true;\n\n        }catch (Exception e){\n            handleException(&quot;Error occurred.&quot;, context);\n        }finally {\n            Thread.currentThread().setContextClassLoader(classLoader);\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UhCvl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UhCvl.png\" alt=\"enter image description here\" /></a></p>\n<p>On a side note, I'm not sure why you are trying this with a class mediator, but you can do the same without the class mediator as well. Either by using the Email COnnector or by using Email Transport.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76353023,"answer_count":1,"score":0,"last_activity_date":1685421189,"creation_date":1684999245,"question_id":76329770,"body_markdown":"I am trying to send email from WSO2 class mediator, when sending the email with no attachment it works fine but when sending with attachment I get the following exception:\r\n\r\n    javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed;\r\n\r\nI am using **micro-integrator 4.1.0**\r\n\r\nThe java code to send the email with attachment is as follows:\r\n\r\n        emailHostSMTPs = getConfig(&quot;email.host.smtps&quot;);\r\n\t\temailHostSMTP = getConfig(&quot;email.host.smtp&quot;);\r\n\t\temailProtocol = getConfig(&quot;email.protocol&quot;);\r\n\t\tsenderEmail = getConfig(&quot;email.sender&quot;);\r\n\t\tsenderPassword = Encryptor.decrypt(getConfig(&quot;email.password&quot;));\r\n\t\tsenderUser = getConfig(&quot;email.sender.user&quot;);\r\n\t\temailPort = getConfig(&quot;email.port&quot;);\r\n\t\t\r\n\r\n\t\tMimeMultipart multipart = new MimeMultipart();\r\n\t\tAuthenticator authenticator = new SMTPAuthenticator();\r\n\t\tMailSSLSocketFactory sslSocketFactory = new MailSSLSocketFactory();\r\n\t\tMimeBodyPart bodyPart = new MimeBodyPart();\r\n\r\n\t\tString html = &quot;&quot;;\r\n\r\n\t\tProperties props = System.getProperties();\r\n\r\n\t\tprops.put(&quot;mail.transport.protocol&quot;, emailProtocol);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, emailHostSMTP);\r\n\t\tprops.put(&quot;mail.&quot; + emailProtocol + &quot;.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, emailPort);\r\n\r\n\t\tsslSocketFactory.setTrustAllHosts(true);\r\n\t\tprops.put(&quot;mail.smtp.ssl.socketFactory&quot;, sslSocketFactory);\r\n\r\n\t\tSession session = Session.getInstance(props, authenticator);\r\n\r\n\t\thtml = &quot;&lt;html&gt;&lt;body dir=&#39;rtl&#39; style=&#39;font-size:12pt;color:#000000;background-color:#FFFFFF;font-family:Calibri,Arial,Helvetica,sans-serif;&#39;&gt; &quot;\r\n\t\t\t\t+ emailBody + &quot; &lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\tbodyPart.setContent(html, &quot;text/html; charset=UTF-8&quot;);\r\n\t\tmultipart.addBodyPart(bodyPart);\r\n\r\n\t\tMimeMessage message = new MimeMessage(session);\r\n\r\n\t\tmessage.setFrom(new InternetAddress(senderEmail, fromDisplayName));\r\n\t\tmessage.setReplyTo(new Address[] { new InternetAddress(fromEmail) });\r\n\r\n\t\tif (toList != null &amp;&amp; toList.size() &gt; 0) {\r\n\t\t\tfor (String to : toList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new Exception(&quot;List of users to send email to is empty&quot;);\r\n\t\t}\r\n\r\n\t\tif (ccList != null &amp;&amp; ccList.size() &gt; 0) {\r\n\t\t\tfor (String cc : ccList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.CC, new InternetAddress(cc));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (bccList != null &amp;&amp; bccList.size() &gt; 0) {\r\n\t\t\tfor (String bcc : bccList) {\r\n\t\t\t\tmessage.addRecipient(Message.RecipientType.BCC, new InternetAddress(bcc));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t\tMimeBodyPart mimeBodyPart = new PreencodedMimeBodyPart(&quot;base64&quot;);\r\n\t\tmimeBodyPart.setContent(fileDataStrBase64, &quot;application/*&quot;);\r\n\t\tmimeBodyPart.setFileName(MimeUtility.encodeText(fileName, &quot;utf-8&quot;, &quot;B&quot;));\r\n\t\tmultipart.addBodyPart(mimeBodyPart);\r\n\r\n\t\t\r\n\t\tmessage.setSubject(subject, &quot;UTF-8&quot;);\r\n\t\tmessage.setContent(multipart);\r\n\t\tmessage.setSentDate(new Date());\r\n\r\n\t\tTransport transport = session.getTransport(emailProtocol);\r\n\t\ttransport.connect(senderEmail, senderPassword);\r\n\t\ttransport.sendMessage(message, message.getAllRecipients());\r\n\r\nMy **class mediator** is deployed as jar file inside **MI_HOME/lib**\r\n\r\njars used:\r\n\r\n- **javax.mail-1.6.2.jar**\r\n- **activation-1.1.1.jar**\r\n\r\n**JDK Version : 11.0.8**\r\n\r\n**EDIT:**\r\n\r\nAfter adding the following code (from another post) the email is sent but I get no email content and no attachment just subject !\r\n\r\n    MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\r\n    mc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\r\n    mc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\r\n    mc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\r\n    mc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\r\n    mc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\r\n    mc.addMailcap(&quot;multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report&quot;);\r\n    mc.addMailcap(&quot;message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus&quot;);\r\n    mc.addMailcap(&quot;message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification&quot;);\r\n    mc.addMailcap(&quot;text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers&quot;);\r\n\r\nBelow is the mail debug:\r\n\r\n    DEBUG: failed to load any providers, using defaults\r\n    DEBUG: Tables of loaded providers from javamail.providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\r\n    DEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2]\r\n    DEBUG SMTP: need username and password for authentication\r\n    DEBUG SMTP: protocolConnect returning false, host=mail.mydomain.com, user=myemail, password=&lt;null&gt;\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;mail.mydomain.com&quot;, port 587, isSSL false\r\n    220 MyMailServer Microsoft ESMTP MAIL Service ready at Sun, 28 May 2023 14:33:31 +0300\r\n    DEBUG SMTP: connected to host &quot;mail.mydomain.com&quot;, port: 587\r\n    EHLO host.docker.internal\r\n    250-MyMailServer Hello [10.x.x.x]\r\n    250-SIZE 41943040\r\n    250-PIPELINING\r\n    250-DSN\r\n    250-ENHANCEDSTATUSCODES\r\n    250-STARTTLS\r\n    250-AUTH GSSAPI NTLM\r\n    250-8BITMIME\r\n    250-BINARYMIME\r\n    250 CHUNKING\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 2.0.0 SMTP server ready\r\n    EHLO host.docker.internal\r\n    250-MyMailServer Hello [10.x.x.x]\r\n    250-SIZE 41943040\r\n    250-PIPELINING\r\n    250-DSN\r\n    250-ENHANCEDSTATUSCODES\r\n    250-AUTH GSSAPI NTLM LOGIN\r\n    250-8BITMIME\r\n    250-BINARYMIME\r\n    250 CHUNKING\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: protocolConnect login, host=mail.mydomain.com, user=mysenderemail, password=&lt;non-null&gt;\r\n    DEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\n    DEBUG SMTP: Using mechanism LOGIN\r\n    DEBUG SMTP: AUTH LOGIN command trace suppressed\r\n    DEBUG SMTP: AUTH LOGIN succeeded\r\n    DEBUG SMTP: use8bit false\r\n    MAIL FROM:&lt;mysenderemail@mydomin.com&gt;\r\n    250 2.1.0 Sender OK\r\n    RCPT TO:&lt;myemail@mydomin.com&gt;\r\n    250 2.1.5 Recipient OK\r\n    DEBUG SMTP: Verified Addresses\r\n    DEBUG SMTP:   myemail@mydomin.com\r\n    DATA\r\n    354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;\r\n    Date: Sun, 28 May 2023 14:33:31 +0300 (AST)\r\n    From: mysenderemail@mydomin.com\r\n    To: myemail@mydomin.com\r\n    Message-ID: &lt;1628804451.7.1685273611450@host.docker.internal&gt;\r\n    Subject: test attachment localhost 2.24\r\n    MIME-Version: 1.0\r\n    Content-Type: multipart/mixed; \r\n    \tboundary=&quot;----=_Part_6_2147206188.1685273611445&quot;\r\n    \r\n    .\r\n    250 2.6.0 &lt;1628804451.7.1685273611450@host.docker.internal&gt; [InternalId=91379724192809, Hostname=MyMailServer2] 1339 bytes in 0.293, 4.462 KB/sec Queued mail for delivery\r\n    DEBUG SMTP: message successfully delivered to mail server\r\n    QUIT\r\n    221 2.0.0 Service closing transmission channel","title":"Java Email is sent with no content and not attachment when sending email from WSO2","body":"<p>I am trying to send email from WSO2 class mediator, when sending the email with no attachment it works fine but when sending with attachment I get the following exception:</p>\n<pre><code>javax.mail.MessagingException: IOException while sending message;\n  nested exception is:\njavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed;\n</code></pre>\n<p>I am using <strong>micro-integrator 4.1.0</strong></p>\n<p>The java code to send the email with attachment is as follows:</p>\n<pre><code>    emailHostSMTPs = getConfig(&quot;email.host.smtps&quot;);\n    emailHostSMTP = getConfig(&quot;email.host.smtp&quot;);\n    emailProtocol = getConfig(&quot;email.protocol&quot;);\n    senderEmail = getConfig(&quot;email.sender&quot;);\n    senderPassword = Encryptor.decrypt(getConfig(&quot;email.password&quot;));\n    senderUser = getConfig(&quot;email.sender.user&quot;);\n    emailPort = getConfig(&quot;email.port&quot;);\n    \n\n    MimeMultipart multipart = new MimeMultipart();\n    Authenticator authenticator = new SMTPAuthenticator();\n    MailSSLSocketFactory sslSocketFactory = new MailSSLSocketFactory();\n    MimeBodyPart bodyPart = new MimeBodyPart();\n\n    String html = &quot;&quot;;\n\n    Properties props = System.getProperties();\n\n    props.put(&quot;mail.transport.protocol&quot;, emailProtocol);\n    props.put(&quot;mail.smtp.host&quot;, emailHostSMTP);\n    props.put(&quot;mail.&quot; + emailProtocol + &quot;.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, emailPort);\n\n    sslSocketFactory.setTrustAllHosts(true);\n    props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sslSocketFactory);\n\n    Session session = Session.getInstance(props, authenticator);\n\n    html = &quot;&lt;html&gt;&lt;body dir='rtl' style='font-size:12pt;color:#000000;background-color:#FFFFFF;font-family:Calibri,Arial,Helvetica,sans-serif;'&gt; &quot;\n            + emailBody + &quot; &lt;/body&gt;&lt;/html&gt;&quot;;\n    bodyPart.setContent(html, &quot;text/html; charset=UTF-8&quot;);\n    multipart.addBodyPart(bodyPart);\n\n    MimeMessage message = new MimeMessage(session);\n\n    message.setFrom(new InternetAddress(senderEmail, fromDisplayName));\n    message.setReplyTo(new Address[] { new InternetAddress(fromEmail) });\n\n    if (toList != null &amp;&amp; toList.size() &gt; 0) {\n        for (String to : toList) {\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        }\n    } else {\n        throw new Exception(&quot;List of users to send email to is empty&quot;);\n    }\n\n    if (ccList != null &amp;&amp; ccList.size() &gt; 0) {\n        for (String cc : ccList) {\n            message.addRecipient(Message.RecipientType.CC, new InternetAddress(cc));\n        }\n    }\n\n    if (bccList != null &amp;&amp; bccList.size() &gt; 0) {\n        for (String bcc : bccList) {\n            message.addRecipient(Message.RecipientType.BCC, new InternetAddress(bcc));\n        }\n    }\n\n    \n\n    \n    MimeBodyPart mimeBodyPart = new PreencodedMimeBodyPart(&quot;base64&quot;);\n    mimeBodyPart.setContent(fileDataStrBase64, &quot;application/*&quot;);\n    mimeBodyPart.setFileName(MimeUtility.encodeText(fileName, &quot;utf-8&quot;, &quot;B&quot;));\n    multipart.addBodyPart(mimeBodyPart);\n\n    \n    message.setSubject(subject, &quot;UTF-8&quot;);\n    message.setContent(multipart);\n    message.setSentDate(new Date());\n\n    Transport transport = session.getTransport(emailProtocol);\n    transport.connect(senderEmail, senderPassword);\n    transport.sendMessage(message, message.getAllRecipients());\n</code></pre>\n<p>My <strong>class mediator</strong> is deployed as jar file inside <strong>MI_HOME/lib</strong></p>\n<p>jars used:</p>\n<ul>\n<li><strong>javax.mail-1.6.2.jar</strong></li>\n<li><strong>activation-1.1.1.jar</strong></li>\n</ul>\n<p><strong>JDK Version : 11.0.8</strong></p>\n<p><strong>EDIT:</strong></p>\n<p>After adding the following code (from another post) the email is sent but I get no email content and no attachment just subject !</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap();\nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;);\nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;);\nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;);\nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;);\nmc.addMailcap(&quot;message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822&quot;);\nmc.addMailcap(&quot;multipart/report;;  x-java-content-handler=com.sun.mail.dsn.multipart_report&quot;);\nmc.addMailcap(&quot;message/delivery-status;; x-java-content-handler=com.sun.mail.dsn.message_deliverystatus&quot;);\nmc.addMailcap(&quot;message/disposition-notification;; x-java-content-handler=com.sun.mail.dsn.message_dispositionnotification&quot;);\nmc.addMailcap(&quot;text/rfc822-headers;;   x-java-content-handler=com.sun.mail.dsn.text_rfc822headers&quot;);\n</code></pre>\n<p>Below is the mail debug:</p>\n<pre><code>DEBUG: failed to load any providers, using defaults\nDEBUG: Tables of loaded providers from javamail.providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle,1.6.2], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle,1.6.2], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle,1.6.2], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle,1.6.2], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle,1.6.2]}\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle,1.6.2]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=mail.mydomain.com, user=myemail, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;mail.mydomain.com&quot;, port 587, isSSL false\n220 MyMailServer Microsoft ESMTP MAIL Service ready at Sun, 28 May 2023 14:33:31 +0300\nDEBUG SMTP: connected to host &quot;mail.mydomain.com&quot;, port: 587\nEHLO host.docker.internal\n250-MyMailServer Hello [10.x.x.x]\n250-SIZE 41943040\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-AUTH GSSAPI NTLM\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 SMTP server ready\nEHLO host.docker.internal\n250-MyMailServer Hello [10.x.x.x]\n250-SIZE 41943040\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-AUTH GSSAPI NTLM LOGIN\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;41943040&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: protocolConnect login, host=mail.mydomain.com, user=mysenderemail, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;mysenderemail@mydomin.com&gt;\n250 2.1.0 Sender OK\nRCPT TO:&lt;myemail@mydomin.com&gt;\n250 2.1.5 Recipient OK\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   myemail@mydomin.com\nDATA\n354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;\nDate: Sun, 28 May 2023 14:33:31 +0300 (AST)\nFrom: mysenderemail@mydomin.com\nTo: myemail@mydomin.com\nMessage-ID: &lt;1628804451.7.1685273611450@host.docker.internal&gt;\nSubject: test attachment localhost 2.24\nMIME-Version: 1.0\nContent-Type: multipart/mixed; \n    boundary=&quot;----=_Part_6_2147206188.1685273611445&quot;\n\n.\n250 2.6.0 &lt;1628804451.7.1685273611450@host.docker.internal&gt; [InternalId=91379724192809, Hostname=MyMailServer2] 1339 bytes in 0.293, 4.462 KB/sec Queued mail for delivery\nDEBUG SMTP: message successfully delivered to mail server\nQUIT\n221 2.0.0 Service closing transmission channel\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1685442235,"post_id":76361576,"comment_id":134657029,"body_markdown":"I can&#39;t imagine why this is useful, but the code looks like it should have the desired effect. How are you testing it?","body":"I can&#39;t imagine why this is useful, but the code looks like it should have the desired effect. How are you testing it?"},{"owner":{"account_id":27571550,"reputation":11,"user_id":21042644,"display_name":"emce"},"score":0,"creation_date":1686743161,"post_id":76361576,"comment_id":134840382,"body_markdown":"This is usefull because all of my window is triggering at the same time and it cannot process all of them at the same time. I do not use shifting my windows because we don&#39;t want to change our data in the window. I am debugging it with sending data to my process function. It is triggering at the end of window directly. It does not have desired effect.","body":"This is usefull because all of my window is triggering at the same time and it cannot process all of them at the same time. I do not use shifting my windows because we don&#39;t want to change our data in the window. I am debugging it with sending data to my process function. It is triggering at the end of window directly. It does not have desired effect."}],"owner":{"account_id":27571550,"reputation":11,"user_id":21042644,"display_name":"emce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685420022,"creation_date":1685420022,"question_id":76361576,"body_markdown":"I&#39;m working with Apache Flink 1.16.0 and I&#39;m trying to trigger my window with a latency. I tried to use a Custom Trigger for that, but it doesn&#39;t work.\r\nHere is my custom trigger:\r\n\r\n```\r\npublic class TriggerWithLatency extends Trigger&lt;Object, TimeWindow&gt; {\r\n\r\n    //delay 20 seconds\r\n    private long DELAY = 1000*60*60;\r\n    private TriggerWithLatency(long delay) {\r\n        this.DELAY = delay;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onElement(Object o, long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        long triggerTime = window.getEnd() + this.DELAY;\r\n        triggerContext.registerProcessingTimeTimer(triggerTime);\r\n        return TriggerResult.CONTINUE;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onEventTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        // I don&#39;t use TumblingEventTimeWindows so I continue\r\n        return TriggerResult.CONTINUE;\r\n    }\r\n\r\n    @Override\r\n    public TriggerResult onProcessingTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\r\n        //It should come here with 1 hour latency, but it comes with window end time\r\n        return TriggerResult.FIRE;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void clear(TimeWindow timeWindow, TriggerContext triggerContext) throws Exception {\r\n        //I clear timer\r\n        long triggerTime = timeWindow.getEnd() + this.DELAY;\r\n        triggerContext.deleteProcessingTimeTimer(triggerTime);\r\n    }\r\n    public static TriggerWithLatency create(long delay) {\r\n        return new TriggerWithLatency(delay);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere is how I create my window\r\n\r\n```\r\nSingleOutputStreamOperator&lt;Result&gt; results = keyedStream\r\n        .window(TumblingProcessingTimeWindows.of(Time.hours(3)))\r\n\t    .trigger(TriggerWithLatency.create(1000*60*60));\r\n```\r\n\r\nAfter that I&#39;m trying to use ProcessWindowFunction, there is no latency on triggering. It is triggered at the and of window. Where is the problem? Could someone help me with that?","title":"How can I trigger my window with 1 hour latency in apache flink","body":"<p>I'm working with Apache Flink 1.16.0 and I'm trying to trigger my window with a latency. I tried to use a Custom Trigger for that, but it doesn't work.\nHere is my custom trigger:</p>\n<pre><code>public class TriggerWithLatency extends Trigger&lt;Object, TimeWindow&gt; {\n\n    //delay 20 seconds\n    private long DELAY = 1000*60*60;\n    private TriggerWithLatency(long delay) {\n        this.DELAY = delay;\n    }\n\n    @Override\n    public TriggerResult onElement(Object o, long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        long triggerTime = window.getEnd() + this.DELAY;\n        triggerContext.registerProcessingTimeTimer(triggerTime);\n        return TriggerResult.CONTINUE;\n    }\n\n    @Override\n    public TriggerResult onEventTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        // I don't use TumblingEventTimeWindows so I continue\n        return TriggerResult.CONTINUE;\n    }\n\n    @Override\n    public TriggerResult onProcessingTime(long time, TimeWindow window, TriggerContext triggerContext) throws Exception {\n        //It should come here with 1 hour latency, but it comes with window end time\n        return TriggerResult.FIRE;\n    }\n\n\n    @Override\n    public void clear(TimeWindow timeWindow, TriggerContext triggerContext) throws Exception {\n        //I clear timer\n        long triggerTime = timeWindow.getEnd() + this.DELAY;\n        triggerContext.deleteProcessingTimeTimer(triggerTime);\n    }\n    public static TriggerWithLatency create(long delay) {\n        return new TriggerWithLatency(delay);\n    }\n\n}\n\n</code></pre>\n<p>Here is how I create my window</p>\n<pre><code>SingleOutputStreamOperator&lt;Result&gt; results = keyedStream\n        .window(TumblingProcessingTimeWindows.of(Time.hours(3)))\n        .trigger(TriggerWithLatency.create(1000*60*60));\n</code></pre>\n<p>After that I'm trying to use ProcessWindowFunction, there is no latency on triggering. It is triggered at the and of window. Where is the problem? Could someone help me with that?</p>\n"},{"tags":["java","class","arraylist","subclass"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685415741,"post_id":76361354,"comment_id":134652761,"body_markdown":"Not sure why you would need to - `ArrayList#contains` will use `Object#equals` to compare the `Object` and elements together","body":"Not sure why you would need to - <code>ArrayList#contains</code> will use <code>Object#equals</code> to compare the <code>Object</code> and elements together"},{"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"score":0,"creation_date":1685416190,"post_id":76361354,"comment_id":134652802,"body_markdown":"The issue was without it for some reason it didnt work. So if the ArrayList&lt;String&gt; str contains &quot;ab&quot; and &quot;ba&quot; and i typed str.contains(&quot;ab&quot;) it gave me false as a return value","body":"The issue was without it for some reason it didnt work. So if the ArrayList&lt;String&gt; str contains &quot;ab&quot; and &quot;ba&quot; and i typed str.contains(&quot;ab&quot;) it gave me false as a return value"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685416228,"post_id":76361354,"comment_id":134652803,"body_markdown":"Here are a few resources.  _[Lesson: Introduction to Collections (The Java™ Tutorials &gt; Collections)](https://docs.oracle.com/javase/tutorial/collections/intro/index.html)_, and [Lesson: Custom Collection Implementations (The Java™ Tutorials &gt; Collections)](https://docs.oracle.com/javase/tutorial/collections/custom-implementations/index.html).","body":"Here are a few resources.  <i><a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"nofollow noreferrer\">Lesson: Introduction to Collections (The Java™ Tutorials &gt; Collections)</a></i>, and <a href=\"https://docs.oracle.com/javase/tutorial/collections/custom-implementations/index.html\" rel=\"nofollow noreferrer\">Lesson: Custom Collection Implementations (The Java™ Tutorials &gt; Collections)</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685416318,"post_id":76361354,"comment_id":134652808,"body_markdown":"The quick test I did worked just fine - must be something else going on in your code","body":"The quick test I did worked just fine - must be something else going on in your code"},{"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"score":0,"creation_date":1685416719,"post_id":76361354,"comment_id":134652834,"body_markdown":"I edited and added the code which didnt work without it idk what was the issue though","body":"I edited and added the code which didnt work without it idk what was the issue though"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1685416743,"post_id":76361354,"comment_id":134652835,"body_markdown":"If a class is not declared final it can be subclassed. If a method is declared final it cannot be overridden.","body":"If a class is not declared final it can be subclassed. If a method is declared final it cannot be overridden."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1685417507,"post_id":76361354,"comment_id":134652906,"body_markdown":"It works, but it&#39;s not generally a good idea to subclass it.","body":"It works, but it&#39;s not generally a good idea to subclass it."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1685419610,"post_id":76361354,"comment_id":134653074,"body_markdown":"@IvoryAlpaca, when passing the _star.contains_ method a value, you are adding two _char_ values, which will not produce a concatenation, and instead will add the _integer_ values of the _char_ values.","body":"@IvoryAlpaca, when passing the <i>star.contains</i> method a value, you are adding two <i>char</i> values, which will not produce a concatenation, and instead will add the <i>integer</i> values of the <i>char</i> values."}],"answers":[{"tags":[],"owner":{"account_id":9777766,"reputation":290,"user_id":7247064,"display_name":"JamieNguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685416671,"creation_date":1685416671,"answer_id":76361413,"question_id":76361354,"body_markdown":"Is ArrayList a class? Well it is a *generic* class. Please read the following to learn more about generic type: https://docs.oracle.com/javase/tutorial/java/generics/types.html. You probably want to extend the ArrayList&lt;E&gt; generic class. Please provide more context of what you really want to accomplish. Extending a generic class maybe an overkill solution and not what you needed. ","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Is ArrayList a class? Well it is a <em>generic</em> class. Please read the following to learn more about generic type: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/types.html</a>. You probably want to extend the ArrayList generic class. Please provide more context of what you really want to accomplish. Extending a generic class maybe an overkill solution and not what you needed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685419892,"creation_date":1685419516,"answer_id":76361553,"question_id":76361354,"body_markdown":"Yes, the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ is a class, it extends _[AbstractList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractList.html)_, and implements _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_&amp;mdash;among others.\r\n\r\nHere is the _[OpenJDK](https://openjdk.org/)_ source-code for _[ArrayList](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java)_, _[AbstractList](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java)_, and _[List](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/List.java)_.\r\n\r\nThe _ArrayList_ is not a _final_ class, so, yes, it can be sub-classed.  \r\nAn _ArrayList\\&lt;String\\&gt;_ is the same class&amp;mdash;just, declared with a generic-type parameter.\r\n\r\nThe _ArrayList_ class is what&#39;s called a _parameterized class_; it makes use of a _[generic-type](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_, introduced in Java 5. \r\n\r\nWhen you create an instance of _ArrayList_, without specifying a _generic-type_, you&#39;re essentially passing in _Object_; as opposed to _String_, in this case.\r\n\r\nFor example, the following two statements are equivalent.\r\n\r\n```java\r\nArrayList list = new ArrayList&lt;&gt;();\r\n```\r\n```java\r\nArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n```\r\n\r\nGenerally, you would want to supply the _generic-type_, although it is not required.\r\n\r\nThere is a subtle error in your code, in the inner for-loop.\r\n\r\n```java\r\nif (!star.contains(str.charAt(seq) + str.charAt(seq + 1)))\r\n```\r\n\r\nWhen adding _char_ values, they will not be concatenated&amp;mdash;like _String_ objects.\r\n\r\nInstead they will be converted to _int_ values.\r\n\r\nIn this case, if I use _&quot;abc&quot;_ as an example, on the first iteration, the value being passed to _star#contains_ is _195_, and not _&quot;ab&quot;_.  \r\n\r\nHere is an evaluation.\r\n\r\n```java\r\nstr.charAt(seq)     = &#39;a&#39; /* 0x61, 97 */\r\nstr.charAt(seq + 1) = &#39;b&#39; /* 0x62, 98 */\r\n                          /* 97 + 98 = 195 */\r\n```\r\n\r\nThus, a _false_ is being returned.\r\n\r\nThere are a few ways to correct the error.\r\n\r\nThe most common approach would be to use a _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(char))_ call, which will return a _char_ value as a _String_.  \r\nAs a note, since adding a _String_ and a _char_ together will result in concatenation, you only have to parse one of the values.\r\n\r\n```java\r\nif (!star.contains(String.valueOf(str.charAt(seq)) + str.charAt(seq + 1)))\r\n```\r\n\r\nYour _star#add_ call is already achieving the same result by using an initial empty-string.\r\n\r\n```java\r\nstar.add(&quot;&quot; + str.charAt(seq) + str.charAt(seq + 1));\r\n```\r\n\r\nIs equivalent to \r\n\r\n```java\r\nstar.add((&quot;&quot; + str.charAt(seq)) + str.charAt(seq + 1));\r\n```\r\n\r\nAs a recommendation, although it is not required, you can create a local variable to hold the concatenated value, since you&#39;re using it more than once.\r\n\r\nIn this example, I created a new variable, _String string_.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\n//System.out.print(&quot;enter test case no&quot;);\r\nString string;\r\nint t = sc.nextInt();\r\nfor (int test_case = t; test_case &gt;= 1; test_case--) {//System.out.print(&quot;enter length of string&quot;);\r\n    int n = sc.nextInt();\r\n    //System.out.print(&quot;enter string&quot;);\r\n    String str = sc.next();\r\n    ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\r\n    for (int seq = 0; seq &lt; str.length() - 2; seq++) {\r\n        //System.out.print(&quot;inside for loop&quot;);\r\n        string = String.valueOf(str.charAt(seq)) + str.charAt(seq + 1);\r\n        if (!star.contains(string)) star.add(string);\r\n    }\r\n    System.out.println(star.size());\r\n}\r\n```\r\n\r\nInput\r\n\r\n```none\r\n1\r\n3\r\nabc\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1\r\n```","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Yes, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> is a class, it extends <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">AbstractList</a></em>, and implements <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>—among others.</p>\n<p>Here is the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em> source-code for <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">ArrayList</a></em>, <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java\" rel=\"nofollow noreferrer\">AbstractList</a></em>, and <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/List.java\" rel=\"nofollow noreferrer\">List</a></em>.</p>\n<p>The <em>ArrayList</em> is not a <em>final</em> class, so, yes, it can be sub-classed.<br />\nAn <em>ArrayList&lt;String&gt;</em> is the same class—just, declared with a generic-type parameter.</p>\n<p>The <em>ArrayList</em> class is what's called a <em>parameterized class</em>; it makes use of a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generic-type</a></em>, introduced in Java 5.</p>\n<p>When you create an instance of <em>ArrayList</em>, without specifying a <em>generic-type</em>, you're essentially passing in <em>Object</em>; as opposed to <em>String</em>, in this case.</p>\n<p>For example, the following two statements are equivalent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList list = new ArrayList&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Generally, you would want to supply the <em>generic-type</em>, although it is not required.</p>\n<p>There is a subtle error in your code, in the inner for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!star.contains(str.charAt(seq) + str.charAt(seq + 1)))\n</code></pre>\n<p>When adding <em>char</em> values, they will not be concatenated—like <em>String</em> objects.</p>\n<p>Instead they will be converted to <em>int</em> values.</p>\n<p>In this case, if I use <em>&quot;abc&quot;</em> as an example, on the first iteration, the value being passed to <em>star#contains</em> is <em>195</em>, and not <em>&quot;ab&quot;</em>.</p>\n<p>Here is an evaluation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.charAt(seq)     = 'a' /* 0x61, 97 */\nstr.charAt(seq + 1) = 'b' /* 0x62, 98 */\n                          /* 97 + 98 = 195 */\n</code></pre>\n<p>Thus, a <em>false</em> is being returned.</p>\n<p>There are a few ways to correct the error.</p>\n<p>The most common approach would be to use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(char)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> call, which will return a <em>char</em> value as a <em>String</em>.<br />\nAs a note, since adding a <em>String</em> and a <em>char</em> together will result in concatenation, you only have to parse one of the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!star.contains(String.valueOf(str.charAt(seq)) + str.charAt(seq + 1)))\n</code></pre>\n<p>Your <em>star#add</em> call is already achieving the same result by using an initial empty-string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>star.add(&quot;&quot; + str.charAt(seq) + str.charAt(seq + 1));\n</code></pre>\n<p>Is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>star.add((&quot;&quot; + str.charAt(seq)) + str.charAt(seq + 1));\n</code></pre>\n<p>As a recommendation, although it is not required, you can create a local variable to hold the concatenated value, since you're using it more than once.</p>\n<p>In this example, I created a new variable, <em>String string</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\n//System.out.print(&quot;enter test case no&quot;);\nString string;\nint t = sc.nextInt();\nfor (int test_case = t; test_case &gt;= 1; test_case--) {//System.out.print(&quot;enter length of string&quot;);\n    int n = sc.nextInt();\n    //System.out.print(&quot;enter string&quot;);\n    String str = sc.next();\n    ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\n    for (int seq = 0; seq &lt; str.length() - 2; seq++) {\n        //System.out.print(&quot;inside for loop&quot;);\n        string = String.valueOf(str.charAt(seq)) + str.charAt(seq + 1);\n        if (!star.contains(string)) star.add(string);\n    }\n    System.out.println(star.size());\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n3\nabc\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n</code></pre>\n"}],"owner":{"account_id":22667122,"reputation":9,"user_id":21982866,"display_name":"IvoryAlpaca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685419892,"creation_date":1685415542,"question_id":76361354,"body_markdown":"\r\nIs `ArrayList&lt;String&gt;` a class? If not, why does `public static class StringArrayList extends ArrayList&lt;String&gt;` work?\r\n\r\nTo compare two strings in `ArrayList&lt;String&gt;` I had to override the ArrayList.contains() method (that is not the question). I did the following:\r\n\r\n \r\n\r\n    public static class StringArrayList extends ArrayList&lt;String&gt; {\r\n\r\n        @Override\r\n        public boolean contains(Object o) {\r\n            if (o instanceof String) {\r\n                String element = (String) o;\r\n                for (String str : this) {\r\n                    if (str.equals(element)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis works. My question is, is ArrayListString a class that can be extended? Is it not an object of type ArrayList? Should the class not be ArrayList instead?\r\n\r\nEdit: I am adding the code where contains() didn&#39;t work for some reason\r\n```\r\nimport java.util.*;\r\nimport java.util.ArrayList;\r\npublic class star\r\n{\r\npublic static void main(String args[])\r\n{\r\n    Scanner sc=new Scanner(System.in);\r\n    //System.out.print(&quot;enter test case no&quot;);\r\n    int t=sc.nextInt();\r\n    for (int test_case=t;test_case&gt;=1;test_case--)\r\n    {//System.out.print(&quot;enter length of string&quot;);\r\n        int n=sc.nextInt();\r\n        //System.out.print(&quot;enter string&quot;);\r\n        String str=sc.next();\r\n        ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\r\n      \r\n        for(int seq=0;seq&lt;str.length()-2;seq++)\r\n        {\r\n            //System.out.print(&quot;inside for loop&quot;);\r\n           if(!star.contains(str.charAt(seq)+str.charAt(seq+1)))\r\n           star.add(&quot;&quot;+str.charAt(seq)+str.charAt(seq+1));\r\n        }\r\n    System.out.println(star.size());\r\n}\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is ArrayList&lt;String&gt; an extendable class or should it be replaced with ArrayList?","body":"<p>Is <code>ArrayList&lt;String&gt;</code> a class? If not, why does <code>public static class StringArrayList extends ArrayList&lt;String&gt;</code> work?</p>\n<p>To compare two strings in <code>ArrayList&lt;String&gt;</code> I had to override the ArrayList.contains() method (that is not the question). I did the following:</p>\n<pre><code>public static class StringArrayList extends ArrayList&lt;String&gt; {\n\n    @Override\n    public boolean contains(Object o) {\n        if (o instanceof String) {\n            String element = (String) o;\n            for (String str : this) {\n                if (str.equals(element)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>This works. My question is, is ArrayListString a class that can be extended? Is it not an object of type ArrayList? Should the class not be ArrayList instead?</p>\n<p>Edit: I am adding the code where contains() didn't work for some reason</p>\n<pre><code>import java.util.*;\nimport java.util.ArrayList;\npublic class star\n{\npublic static void main(String args[])\n{\n    Scanner sc=new Scanner(System.in);\n    //System.out.print(&quot;enter test case no&quot;);\n    int t=sc.nextInt();\n    for (int test_case=t;test_case&gt;=1;test_case--)\n    {//System.out.print(&quot;enter length of string&quot;);\n        int n=sc.nextInt();\n        //System.out.print(&quot;enter string&quot;);\n        String str=sc.next();\n        ArrayList&lt;String&gt; star = new ArrayList&lt;String&gt;();\n      \n        for(int seq=0;seq&lt;str.length()-2;seq++)\n        {\n            //System.out.print(&quot;inside for loop&quot;);\n           if(!star.contains(str.charAt(seq)+str.charAt(seq+1)))\n           star.add(&quot;&quot;+str.charAt(seq)+str.charAt(seq+1));\n        }\n    System.out.println(star.size());\n}\n}\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9590,"page":402,"page_size":100}
