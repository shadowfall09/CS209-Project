{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":72841,"reputation":53668,"user_id":210102,"accept_rate":78,"display_name":"Steve Townsend"},"score":0,"creation_date":1309525240,"post_id":6548157,"comment_id":7714592,"body_markdown":"What&#39;s your desired output for this input?","body":"What&#39;s your desired output for this input?"},{"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"score":0,"creation_date":1309525349,"post_id":6548157,"comment_id":7714632,"body_markdown":"You code looks like it is reading a text file into an array. Is that what you actually mean?","body":"You code looks like it is reading a text file into an array. Is that what you actually mean?"},{"owner":{"account_id":435757,"reputation":2323,"user_id":822516,"accept_rate":100,"display_name":"Ricky"},"score":0,"creation_date":1309525918,"post_id":6548157,"comment_id":7714779,"body_markdown":"my code is reading a file and then tokenize it and store those tokens in an arraylist. now i want to write this arraylist into a file.","body":"my code is reading a file and then tokenize it and store those tokens in an arraylist. now i want to write this arraylist into a file."},{"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"score":0,"creation_date":1309532636,"post_id":6548157,"comment_id":7716594,"body_markdown":"The answers all assume a different type of output. Can you give an example of how you want the output to look (or does it just need to be readable?)","body":"The answers all assume a different type of output. Can you give an example of how you want the output to look (or does it just need to be readable?)"},{"owner":{"account_id":435757,"reputation":2323,"user_id":822516,"accept_rate":100,"display_name":"Ricky"},"score":0,"creation_date":1309865736,"post_id":6548157,"comment_id":7762311,"body_markdown":"@kathy: I was trying to write this arraylist in a text file. Anyways, I have done that already with the help of Andrey&#39;s code. Thanks for replying.","body":"@kathy: I was trying to write this arraylist in a text file. Anyways, I have done that already with the help of Andrey&#39;s code. Thanks for replying."}],"answers":[{"comments":[{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1309527321,"post_id":6548204,"comment_id":7715162,"body_markdown":"define your array as: ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();","body":"define your array as: ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();"},{"owner":{"account_id":3628960,"reputation":211,"user_id":3065332,"accept_rate":65,"display_name":"Hustl3r28"},"score":0,"creation_date":1391515942,"post_id":6548204,"comment_id":32547522,"body_markdown":"what do you meann by arr?","body":"what do you meann by arr?"},{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":3,"creation_date":1391535652,"post_id":6548204,"comment_id":32561257,"body_markdown":"it&#39;s the name of the variable that holds reference to array","body":"it&#39;s the name of the variable that holds reference to array"},{"owner":{"account_id":338201,"reputation":705,"user_id":666929,"accept_rate":59,"display_name":"Zac"},"score":1,"creation_date":1514266939,"post_id":6548204,"comment_id":82917977,"body_markdown":"Where exactly would output.txt be situated in this case? Internal storage? - i.e. how to retrieve this file?","body":"Where exactly would output.txt be situated in this case? Internal storage? - i.e. how to retrieve this file?"},{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1514279948,"post_id":6548204,"comment_id":82921650,"body_markdown":"in current working directory (i.e. directory from which you started your java program)","body":"in current working directory (i.e. directory from which you started your java program)"}],"tags":[],"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"comment_count":5,"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1561490875,"creation_date":1309524746,"answer_id":6548204,"question_id":6548157,"body_markdown":"    \r\n    import java.io.FileWriter;\r\n    ...\r\n    FileWriter writer = new FileWriter(&quot;output.txt&quot;); \r\n    for(String str: arr) {\r\n      writer.write(str + System.lineSeparator());\r\n    }\r\n    writer.close();","title":"How to write an ArrayList of Strings into a text file?","body":"<pre><code>import java.io.FileWriter;\n...\nFileWriter writer = new FileWriter(\"output.txt\"); \nfor(String str: arr) {\n  writer.write(str + System.lineSeparator());\n}\nwriter.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":435757,"reputation":2323,"user_id":822516,"accept_rate":100,"display_name":"Ricky"},"score":0,"creation_date":1309525692,"post_id":6548246,"comment_id":7714723,"body_markdown":"I just want to add each item to a file but its showing an error message of incompatible type.","body":"I just want to add each item to a file but its showing an error message of incompatible type."}],"tags":[],"owner":{"account_id":409961,"reputation":2400,"user_id":781509,"accept_rate":30,"display_name":"ribram"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309525035,"creation_date":1309525035,"answer_id":6548246,"question_id":6548157,"body_markdown":"If you want to serialize the ArrayList object to a file so you can read it back in again later use ObjectOuputStream/ObjectInputStream writeObject()/readObject() since ArrayList implements [Serializable][1].  It&#39;s not clear to me from your question if you want to do this or just write each individual item.  If so then Andrey&#39;s answer will do that.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/io/Serializable.html","title":"How to write an ArrayList of Strings into a text file?","body":"<p>If you want to serialize the ArrayList object to a file so you can read it back in again later use ObjectOuputStream/ObjectInputStream writeObject()/readObject() since ArrayList implements <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/io/Serializable.html\" rel=\"nofollow\">Serializable</a>.  It's not clear to me from your question if you want to do this or just write each individual item.  If so then Andrey's answer will do that.</p>\n"},{"tags":[],"owner":{"account_id":329794,"reputation":5980,"user_id":653511,"accept_rate":86,"display_name":"stemm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309526198,"creation_date":1309525384,"answer_id":6548292,"question_id":6548157,"body_markdown":"You might use ArrayList overloaded method `toString()`\r\n\r\n    String tmp=arr.toString();\r\n    PrintWriter pw=new PrintWriter(new FileOutputStream(file));\r\n    pw.println(tmp.substring(1,tmp.length()-1));\r\n","title":"How to write an ArrayList of Strings into a text file?","body":"<p>You might use ArrayList overloaded method <code>toString()</code></p>\n\n<pre><code>String tmp=arr.toString();\nPrintWriter pw=new PrintWriter(new FileOutputStream(file));\npw.println(tmp.substring(1,tmp.length()-1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3017514,"reputation":144,"user_id":2559228,"accept_rate":100,"display_name":"don_Gunner94"},"score":0,"creation_date":1594546085,"post_id":25022191,"comment_id":111158543,"body_markdown":"what is Files, what package is it from?","body":"what is Files, what package is it from?"},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":0,"creation_date":1594824895,"post_id":25022191,"comment_id":111263412,"body_markdown":"java.nio.file.Files, standard Java class since 1.7","body":"java.nio.file.Files, standard Java class since 1.7"},{"owner":{"account_id":10573991,"reputation":726,"user_id":10145774,"display_name":"JuBaer AD"},"score":0,"creation_date":1616041744,"post_id":25022191,"comment_id":117880728,"body_markdown":"Nice and simple.","body":"Nice and simple."}],"tags":[],"owner":{"account_id":4817023,"reputation":711,"user_id":3888839,"display_name":"gabinetex"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1697867973,"creation_date":1406657567,"answer_id":25022191,"question_id":6548157,"body_markdown":"# Java NIO\r\n\r\nYou can do that with a single line of code nowadays [using Java NIO][1].\r\n\r\nCreate the arrayList and the `Path` object representing the file where you want to write into:\r\n\r\n    Path out = Paths.get(&quot;output.txt&quot;);\r\n    List&lt;String&gt; arrayList = new ArrayList&lt;&gt; ( Arrays.asList ( &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ) );\r\n\r\nCreate the actual file, and fill it with the text in the ArrayList by calling on [`java.nio.file.Files`][2] utility class. \r\n\r\n    Files.write(out,arrayList,Charset.defaultCharset());\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Files.html","title":"How to write an ArrayList of Strings into a text file?","body":"<h1>Java NIO</h1>\n<p>You can do that with a single line of code nowadays <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">using Java NIO</a>.</p>\n<p>Create the arrayList and the <code>Path</code> object representing the file where you want to write into:</p>\n<pre><code>Path out = Paths.get(&quot;output.txt&quot;);\nList&lt;String&gt; arrayList = new ArrayList&lt;&gt; ( Arrays.asList ( &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ) );\n</code></pre>\n<p>Create the actual file, and fill it with the text in the ArrayList by calling on <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>java.nio.file.Files</code></a> utility class.</p>\n<pre><code>Files.write(out,arrayList,Charset.defaultCharset());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1457651896,"post_id":35929098,"comment_id":59516991,"body_markdown":"What if you open the same file and continue writing to it? I think have the last newline character is useful.","body":"What if you open the same file and continue writing to it? I think have the last newline character is useful."},{"owner":{"account_id":1470985,"reputation":2227,"user_id":1382577,"display_name":"Joseph Selvaraj"},"score":0,"creation_date":1457678755,"post_id":35929098,"comment_id":59524669,"body_markdown":"Yes it will be useful for append mode. Just comment the if condition and will work fine.","body":"Yes it will be useful for append mode. Just comment the if condition and will work fine."}],"tags":[],"owner":{"account_id":1470985,"reputation":2227,"user_id":1382577,"display_name":"Joseph Selvaraj"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457650983,"creation_date":1457650983,"answer_id":35929098,"question_id":6548157,"body_markdown":"If you need to create each ArrayList item in a single line then you can use this code\r\n\r\n    private void createFile(String file, ArrayList&lt;String&gt; arrData)\r\n    \t\t\tthrows IOException {\r\n    \t\tFileWriter writer = new FileWriter(file + &quot;.txt&quot;);\r\n    \t\tint size = arrData.size();\r\n    \t\tfor (int i=0;i&lt;size;i++) {\r\n    \t\t\tString str = arrData.get(i).toString();\r\n    \t\t\twriter.write(str);\r\n    \t\t\tif(i &lt; size-1)**//This prevent creating a blank like at the end of the file**\r\n    \t\t\t\twriter.write(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\twriter.close();\r\n    \t}","title":"How to write an ArrayList of Strings into a text file?","body":"<p>If you need to create each ArrayList item in a single line then you can use this code</p>\n\n<pre><code>private void createFile(String file, ArrayList&lt;String&gt; arrData)\n            throws IOException {\n        FileWriter writer = new FileWriter(file + \".txt\");\n        int size = arrData.size();\n        for (int i=0;i&lt;size;i++) {\n            String str = arrData.get(i).toString();\n            writer.write(str);\n            if(i &lt; size-1)**//This prevent creating a blank like at the end of the file**\n                writer.write(\"\\n\");\n        }\n        writer.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646546,"reputation":808,"user_id":3764651,"accept_rate":100,"display_name":"chao_chang"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1512008935,"creation_date":1512008935,"answer_id":47564945,"question_id":6548157,"body_markdown":"I would suggest using FileUtils from Apache Commons IO library.It will create the parent folders of the output file,if they don&#39;t exist.while  `Files.write(out,arrayList,Charset.defaultCharset()); ` will not do this,throwing exception if the parent directories don&#39;t exist.\r\n \r\n    FileUtils.writeLines(new File(&quot;output.txt&quot;), encoding, list);","title":"How to write an ArrayList of Strings into a text file?","body":"<p>I would suggest using FileUtils from Apache Commons IO library.It will create the parent folders of the output file,if they don't exist.while  <code>Files.write(out,arrayList,Charset.defaultCharset());</code> will not do this,throwing exception if the parent directories don't exist.</p>\n\n<pre><code>FileUtils.writeLines(new File(\"output.txt\"), encoding, list);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11589053,"reputation":81,"user_id":8490102,"display_name":"Kaiser Keister"},"score":2,"creation_date":1555122968,"post_id":50236466,"comment_id":98010994,"body_markdown":"This answer literally has nothing to do with ArrayLists of Strings, which is what the original poster was asking about.","body":"This answer literally has nothing to do with ArrayLists of Strings, which is what the original poster was asking about."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1557879076,"post_id":50236466,"comment_id":98910840,"body_markdown":"@Kaiser Keister But all that&#39;s needed is to convert the `ArrayLIst` to a `String` which is easy to do in a loop with `StringBuilder`?","body":"@Kaiser Keister But all that&#39;s needed is to convert the <code>ArrayLIst</code> to a <code>String</code> which is easy to do in a loop with <code>StringBuilder</code>?"}],"tags":[],"owner":{"account_id":13321386,"reputation":49,"user_id":9616316,"display_name":"Sahar "},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525790961,"creation_date":1525790961,"answer_id":50236466,"question_id":6548157,"body_markdown":"I think you can also use BufferedWriter :\r\n\r\n    BufferedWriter writer = new BufferedWriter(new FileWriter(new File(&quot;note.txt&quot;)));\r\n\r\n\tString stuffToWrite = info;\r\n\r\n\twriter.write(stuffToWrite);\r\n\r\n\twriter.close();\r\n\r\nand before that remember too add\r\n\r\n    import java.io.BufferedWriter;\r\n    \r\n\r\n","title":"How to write an ArrayList of Strings into a text file?","body":"<p>I think you can also use BufferedWriter :</p>\n\n<pre><code>BufferedWriter writer = new BufferedWriter(new FileWriter(new File(\"note.txt\")));\n\nString stuffToWrite = info;\n\nwriter.write(stuffToWrite);\n\nwriter.close();\n</code></pre>\n\n<p>and before that remember too add</p>\n\n<pre><code>import java.io.BufferedWriter;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":3,"creation_date":1670786807,"post_id":74763762,"comment_id":131948824,"body_markdown":"Are you affiliated with the site? How is this better or worse than the other answers here?","body":"Are you affiliated with the site? How is this better or worse than the other answers here?"}],"tags":[],"owner":{"account_id":7318440,"reputation":11,"user_id":5575199,"display_name":"Sanjay singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670786407,"creation_date":1670786307,"answer_id":74763762,"question_id":6548157,"body_markdown":"[Write a array list to text file using JAVA][1]\r\n\r\n\r\n  [1]: https://latestjavafeatures.blogspot.com/2022/12/write-array-list-to-text-file-using-java.html\r\n\r\n\tpublic void writeFile(List&lt;String&gt; listToWrite,String filePath) {\r\n\r\n\t\ttry {\r\n\t\t\tFileWriter myWriter = new FileWriter(filePath);\r\n\t\t\tfor (String string : listToWrite) {\r\n\t\t\t\tmyWriter.write(string);\r\n\t\t\t\tmyWriter.write(&quot;\\r\\n&quot;);\r\n\t\t\t}\r\n\t\t\tmyWriter.close();\r\n\t\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"How to write an ArrayList of Strings into a text file?","body":"<p><a href=\"https://latestjavafeatures.blogspot.com/2022/12/write-array-list-to-text-file-using-java.html\" rel=\"nofollow noreferrer\">Write a array list to text file using JAVA</a></p>\n<pre><code>public void writeFile(List&lt;String&gt; listToWrite,String filePath) {\n\n    try {\n        FileWriter myWriter = new FileWriter(filePath);\n        for (String string : listToWrite) {\n            myWriter.write(string);\n            myWriter.write(&quot;\\r\\n&quot;);\n        }\n        myWriter.close();\n        System.out.println(&quot;Successfully wrote to the file.&quot;);\n    } catch (IOException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":435757,"reputation":2323,"user_id":822516,"accept_rate":100,"display_name":"Ricky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279240,"favorite_count":0,"down_vote_count":1,"up_vote_count":67,"accepted_answer_id":6548204,"answer_count":8,"score":66,"last_activity_date":1697867973,"creation_date":1309524492,"question_id":6548157,"body_markdown":"I want to write an `ArrayList&lt;String&gt;` into a text file. \r\n\r\nThe `ArrayList` is created with the code:\r\n\r\n    ArrayList arr = new ArrayList();\r\n    \r\n    StringTokenizer st = new StringTokenizer(\r\n        line, &quot;:Mode set - Out of Service In Service&quot;);\r\n\r\n    while(st.hasMoreTokens()){\r\n        arr.add(st.nextToken());\t\r\n    }","title":"How to write an ArrayList of Strings into a text file?","body":"<p>I want to write an <code>ArrayList&lt;String&gt;</code> into a text file. </p>\n\n<p>The <code>ArrayList</code> is created with the code:</p>\n\n<pre><code>ArrayList arr = new ArrayList();\n\nStringTokenizer st = new StringTokenizer(\n    line, \":Mode set - Out of Service In Service\");\n\nwhile(st.hasMoreTokens()){\n    arr.add(st.nextToken());    \n}\n</code></pre>\n"},{"tags":["java","this","token"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1417195103,"post_id":27193390,"comment_id":42872244,"body_markdown":"When do you think that `for` loop, in the middle of the class body, should be executed? Why do you think so?","body":"When do you think that <code>for</code> loop, in the middle of the class body, should be executed? Why do you think so?"},{"owner":{"account_id":4120421,"reputation":1580,"user_id":3380951,"accept_rate":77,"display_name":"XoXo"},"score":0,"creation_date":1417195207,"post_id":27193390,"comment_id":42872289,"body_markdown":"Why is the loop `for(int i = 0; i &lt; im.length; i++)` not in a method?","body":"Why is the loop <code>for(int i = 0; i &lt; im.length; i++)</code> not in a method?"}],"answers":[{"comments":[{"owner":{"account_id":4120421,"reputation":1580,"user_id":3380951,"accept_rate":77,"display_name":"XoXo"},"score":0,"creation_date":1417201406,"post_id":27193532,"comment_id":42874497,"body_markdown":"Also, `allCards` needs to be initialized first","body":"Also, <code>allCards</code> needs to be initialized first"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417201619,"creation_date":1417195801,"answer_id":27193532,"question_id":27193390,"body_markdown":"The problem is the first for loop. In Java, you cannot just put code under a class - it needs to be in a method, constructor or anonymous block. Since this seems like intinialization code, a constructor seems appropriate:\r\n\r\n    public class Memory {\r\n    \r\n        File folder = (new File(&quot;mypictures&quot;));\r\n        File[] pictures = folder.listFiles();\r\n        ImageIcon im = new ImageIcon();\r\n        Card[] allCards;\r\n        Random random = new Random();\r\n    \r\n        /** Defaylt constructor to initialize allCards: */\r\n        public Memory() {\r\n            allCards = new Crad[im.length];\r\n            for(int i = 0; i &lt; im.length; i++) {\r\n                allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\r\n            }\r\n        }\r\n    \r\n        // rest of the class","title":"&quot;Syntax error on token *********, annotationName expected after this token&quot;","body":"<p>The problem is the first for loop. In Java, you cannot just put code under a class - it needs to be in a method, constructor or anonymous block. Since this seems like intinialization code, a constructor seems appropriate:</p>\n\n<pre><code>public class Memory {\n\n    File folder = (new File(\"mypictures\"));\n    File[] pictures = folder.listFiles();\n    ImageIcon im = new ImageIcon();\n    Card[] allCards;\n    Random random = new Random();\n\n    /** Defaylt constructor to initialize allCards: */\n    public Memory() {\n        allCards = new Crad[im.length];\n        for(int i = 0; i &lt; im.length; i++) {\n            allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\n        }\n    }\n\n    // rest of the class\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4928747,"reputation":347,"user_id":3969239,"accept_rate":71,"display_name":"Rewbert"},"score":0,"creation_date":1417280842,"post_id":27193789,"comment_id":42891997,"body_markdown":"Excellent answer, now that you put it that way it makes perfect sense as to why it didn&#39;t work. Thanks!","body":"Excellent answer, now that you put it that way it makes perfect sense as to why it didn&#39;t work. Thanks!"}],"tags":[],"owner":{"account_id":5363988,"reputation":290,"user_id":4274476,"display_name":"Gabriel Oliveira"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417197097,"creation_date":1417197097,"answer_id":27193789,"question_id":27193390,"body_markdown":"Your first loop needs to be put inside a method of the class. In case you want that loop to be executed upon the creation of an object of such class, you must write a constructor method like this:\r\n\r\n    public Memory() {\r\n        for(int i = 0; i &lt; im.length; i++) {\r\n            allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\r\n        }\r\n    }\r\n\r\nHowever, you can&#39;t assign values to an array this way, because `allCards` is just an empty variable holding `null`. You must initialize the variable like this:\r\n\r\n    Card [] allCards = new allCards[desiredLength];","title":"&quot;Syntax error on token *********, annotationName expected after this token&quot;","body":"<p>Your first loop needs to be put inside a method of the class. In case you want that loop to be executed upon the creation of an object of such class, you must write a constructor method like this:</p>\n\n<pre><code>public Memory() {\n    for(int i = 0; i &lt; im.length; i++) {\n        allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\n    }\n}\n</code></pre>\n\n<p>However, you can't assign values to an array this way, because <code>allCards</code> is just an empty variable holding <code>null</code>. You must initialize the variable like this:</p>\n\n<pre><code>Card [] allCards = new allCards[desiredLength];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29720812,"reputation":1,"user_id":22778127,"display_name":"Pankaj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697867914,"creation_date":1697867914,"answer_id":77334909,"question_id":27193390,"body_markdown":"Right click on project -&gt; configure build path -&gt;  Libraries-&gt; add select execution environment as JavaSE-11(jre)\r\n\r\n","title":"&quot;Syntax error on token *********, annotationName expected after this token&quot;","body":"<p>Right click on project -&gt; configure build path -&gt;  Libraries-&gt; add select execution environment as JavaSE-11(jre)</p>\n"}],"owner":{"account_id":4928747,"reputation":347,"user_id":3969239,"accept_rate":71,"display_name":"Rewbert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29332,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":27193789,"answer_count":3,"score":1,"last_activity_date":1697867914,"creation_date":1417195065,"question_id":27193390,"body_markdown":"i am having two errors i can not solve, google didn&#39;t give me a clear idea of what the problem was.\r\nI get two compiling errors, one on the line\r\n        \r\n    Random random = new Random();\r\nright after the ;, saying { expected. The next error is at this line\r\n\r\n    public void newGame() {\r\nsaying &quot;Syntax error on token newGame, annotationName expected after this token&quot;. What does this mean? I have an extra } at the bottom of my code, the compiler (Eclipse) complains if i remove this. It says } expected on the last } if i remove it. \r\n\r\nAny pointers in the right direction is welcome, but no spoonfeeding please. :) I want to learn. If i am breaking java convention anywhere, please point that out aswell. Thanks!\r\n\r\nwhole code:\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import java.util.Random;\r\n\r\n    public class Memory {\r\n\r\n        File folder = (new File(&quot;mypictures&quot;));\r\n        File[] pictures = folder.listFiles();\r\n        ImageIcon im = new ImageIcon();\r\n        Card[] allCards;\r\n        Random random = new Random();\r\n\r\n        for(int i = 0; i &lt; im.length; i++) {\r\n            allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\r\n        }\r\n\r\n        public void newGame() {\r\n            int row = Integer.parseInt\r\n                    (JOptionPane.showInputDialog(&quot;How many rows?&quot;));\r\n            int column = Integer.parseInt\r\n                    (JOptionPane.showInputDialog(&quot;How many columns?&quot;));\r\n\r\n            Card[] game = new Card[row*column];\r\n\r\n            for(i = 0; i &lt; game.length; i++) {\r\n                int ranint = random.nextInt(game.length);\r\n                game[i] = allCards[ranint];\r\n                Card c = game[i].copy();\r\n                game[i+game.length/2] = c;\r\n            }\r\n\r\n            for(i = 0; i &lt; 5; i++) { // Randomizing a few times.\r\n                Tools.randomOrder(game);\r\n            }\r\n\r\n            JFrame jf = new JFrame(&quot;Memory&quot;);\r\n            jf.setLayout (new GridLayout (row, column));\r\n\r\n            for(i = 0; i &lt; game.length; i++) { // Adds the cards to our grid.\r\n                jf.add(game[1]);\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"&quot;Syntax error on token *********, annotationName expected after this token&quot;","body":"<p>i am having two errors i can not solve, google didn't give me a clear idea of what the problem was.\nI get two compiling errors, one on the line</p>\n\n<pre><code>Random random = new Random();\n</code></pre>\n\n<p>right after the ;, saying { expected. The next error is at this line</p>\n\n<pre><code>public void newGame() {\n</code></pre>\n\n<p>saying \"Syntax error on token newGame, annotationName expected after this token\". What does this mean? I have an extra } at the bottom of my code, the compiler (Eclipse) complains if i remove this. It says } expected on the last } if i remove it. </p>\n\n<p>Any pointers in the right direction is welcome, but no spoonfeeding please. :) I want to learn. If i am breaking java convention anywhere, please point that out aswell. Thanks!</p>\n\n<p>whole code:</p>\n\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport javax.swing.*;\nimport java.util.Random;\n\npublic class Memory {\n\n    File folder = (new File(\"mypictures\"));\n    File[] pictures = folder.listFiles();\n    ImageIcon im = new ImageIcon();\n    Card[] allCards;\n    Random random = new Random();\n\n    for(int i = 0; i &lt; im.length; i++) {\n        allCards[i] = new Card(new ImageIcon(pictures[i].getPath()));\n    }\n\n    public void newGame() {\n        int row = Integer.parseInt\n                (JOptionPane.showInputDialog(\"How many rows?\"));\n        int column = Integer.parseInt\n                (JOptionPane.showInputDialog(\"How many columns?\"));\n\n        Card[] game = new Card[row*column];\n\n        for(i = 0; i &lt; game.length; i++) {\n            int ranint = random.nextInt(game.length);\n            game[i] = allCards[ranint];\n            Card c = game[i].copy();\n            game[i+game.length/2] = c;\n        }\n\n        for(i = 0; i &lt; 5; i++) { // Randomizing a few times.\n            Tools.randomOrder(game);\n        }\n\n        JFrame jf = new JFrame(\"Memory\");\n        jf.setLayout (new GridLayout (row, column));\n\n        for(i = 0; i &lt; game.length; i++) { // Adds the cards to our grid.\n            jf.add(game[1]);\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","azure","azureservicebus","servicebus"],"comments":[{"owner":{"account_id":29693223,"reputation":11,"user_id":22757141,"display_name":"cristian2342341"},"score":0,"creation_date":1697803099,"post_id":77328935,"comment_id":136328886,"body_markdown":"I didn&#39;t want to put the connection string here, I checked the one I used and it&#39;s fine, the only thing is that you&#39;re telling me that I put it in the wrong place.","body":"I didn&#39;t want to put the connection string here, I checked the one I used and it&#39;s fine, the only thing is that you&#39;re telling me that I put it in the wrong place."}],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697867879,"creation_date":1697867879,"answer_id":77334906,"question_id":77328935,"body_markdown":"***I tried the below Java code to receive messages from two topics with two subscriptions from each.***\r\n\r\n**Code** :\r\n\r\n```java\r\nimport com.azure.messaging.servicebus.ServiceBusClientBuilder;\r\nimport com.azure.messaging.servicebus.ServiceBusProcessorClient;\r\nimport com.azure.messaging.servicebus.models.ServiceBusReceiveMode;\r\n\r\npublic class TopicConsumer {\r\n    public static void main(String[] args) {\r\n\r\n        String connection1 = &quot;&lt;topic1_connec_String&gt;&quot;;\r\n        String topic1 = &quot;topic1&quot;;\r\n        String subscription1 = &quot;&lt;topic1_subsrciptionName&gt;&quot;;\r\n\r\n        String connection2 = &quot;&lt;topic2_connec_String&gt;&quot;;\r\n        String topic2 = &quot;topic2&quot;;\r\n        String subscription2 = &quot;&lt;topic2_subsrciptionName&gt;&quot;;\r\n\r\n        String connection3 = &quot;&lt;topic1_connec_String&gt;&quot;;\r\n        String subscription3 = &quot;&lt;topic1_subsrciptionName&gt;&quot;;\r\n\r\n        String connection4 = &quot;&lt;topic2_connec_String&gt;&quot;;\r\n        String subscription4 = &quot;&lt;topic2_subsrciptionName&gt;&quot;;\r\n\r\n        ServiceBusProcessorClient processor1 = createProcessor(connection1, topic1, subscription1);\r\n        ServiceBusProcessorClient processor2 = createProcessor(connection2, topic2, subscription2);\r\n\r\n        ServiceBusProcessorClient processor3 = createProcessor(connection3, topic1, subscription3);\r\n        ServiceBusProcessorClient processor4 = createProcessor(connection4, topic2, subscription4);\r\n\r\n        startProcessor(processor1, &quot;Topic 1, Subscription 1&quot;);\r\n        startProcessor(processor2, &quot;Topic 2, Subscription 2&quot;);\r\n        startProcessor(processor3, &quot;Topic 1, Subscription 3&quot;);\r\n        startProcessor(processor4, &quot;Topic 2, Subscription 4&quot;);\r\n\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            stopProcessor(processor1, &quot;Topic 1, Subscription 1&quot;);\r\n            stopProcessor(processor2, &quot;Topic 2, Subscription 2&quot;);\r\n            stopProcessor(processor3, &quot;Topic 1, Subscription 3&quot;);\r\n            stopProcessor(processor4, &quot;Topic 2, Subscription 4&quot;);\r\n        }));\r\n    }\r\n\r\n    private static ServiceBusProcessorClient createProcessor(String connection, String topic, String subscription) {\r\n        return new ServiceBusClientBuilder()\r\n                .connectionString(connection)\r\n                .processor()\r\n                .topicName(topic)\r\n                .subscriptionName(subscription)\r\n                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n                .processMessage(context -&gt; {\r\n                    System.out.printf(&quot;Received message from %s, %s: %s%n&quot;, topic, subscription, context.getMessage().getBody().toString());\r\n                    context.complete();\r\n                })\r\n                .processError(context -&gt; {\r\n                    System.err.printf(&quot;Error occurred: %s%n&quot;, context.getException());\r\n                })\r\n                .buildProcessorClient();\r\n    }\r\n\r\n    private static void startProcessor(ServiceBusProcessorClient processor, String processorName) {\r\n        System.out.println(&quot;Starting the processor for &quot; + processorName + &quot;...&quot;);\r\n        processor.start();\r\n    }\r\n\r\n    private static void stopProcessor(ServiceBusProcessorClient processor, String processorName) {\r\n        System.out.println(&quot;Stopping the processor for &quot; + processorName + &quot;...&quot;);\r\n        processor.stop();\r\n    }\r\n}\r\n```\r\n\r\n**pom.xml** :\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI created two topics with two subscriptions in each and send messages to it, as below in Azure Service Bus.\r\n\r\n**Topic1 :**\r\n\r\n![enter image description here](https://i.imgur.com/xORhmL9.png)\r\n\r\n**Topic2 :**\r\n\r\n![enter image description here](https://i.imgur.com/5JpRoKZ.png)\r\n\r\n**Output** :\r\n\r\nIt runs successfully and has received each message from the four subscriptions in the two topics as below.\r\n\r\n![enter image description here](https://i.imgur.com/ceUThc4.png)","title":"I want to consume two bus service topics","body":"<p><em><strong>I tried the below Java code to receive messages from two topics with two subscriptions from each.</strong></em></p>\n<p><strong>Code</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.messaging.servicebus.ServiceBusClientBuilder;\nimport com.azure.messaging.servicebus.ServiceBusProcessorClient;\nimport com.azure.messaging.servicebus.models.ServiceBusReceiveMode;\n\npublic class TopicConsumer {\n    public static void main(String[] args) {\n\n        String connection1 = &quot;&lt;topic1_connec_String&gt;&quot;;\n        String topic1 = &quot;topic1&quot;;\n        String subscription1 = &quot;&lt;topic1_subsrciptionName&gt;&quot;;\n\n        String connection2 = &quot;&lt;topic2_connec_String&gt;&quot;;\n        String topic2 = &quot;topic2&quot;;\n        String subscription2 = &quot;&lt;topic2_subsrciptionName&gt;&quot;;\n\n        String connection3 = &quot;&lt;topic1_connec_String&gt;&quot;;\n        String subscription3 = &quot;&lt;topic1_subsrciptionName&gt;&quot;;\n\n        String connection4 = &quot;&lt;topic2_connec_String&gt;&quot;;\n        String subscription4 = &quot;&lt;topic2_subsrciptionName&gt;&quot;;\n\n        ServiceBusProcessorClient processor1 = createProcessor(connection1, topic1, subscription1);\n        ServiceBusProcessorClient processor2 = createProcessor(connection2, topic2, subscription2);\n\n        ServiceBusProcessorClient processor3 = createProcessor(connection3, topic1, subscription3);\n        ServiceBusProcessorClient processor4 = createProcessor(connection4, topic2, subscription4);\n\n        startProcessor(processor1, &quot;Topic 1, Subscription 1&quot;);\n        startProcessor(processor2, &quot;Topic 2, Subscription 2&quot;);\n        startProcessor(processor3, &quot;Topic 1, Subscription 3&quot;);\n        startProcessor(processor4, &quot;Topic 2, Subscription 4&quot;);\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            stopProcessor(processor1, &quot;Topic 1, Subscription 1&quot;);\n            stopProcessor(processor2, &quot;Topic 2, Subscription 2&quot;);\n            stopProcessor(processor3, &quot;Topic 1, Subscription 3&quot;);\n            stopProcessor(processor4, &quot;Topic 2, Subscription 4&quot;);\n        }));\n    }\n\n    private static ServiceBusProcessorClient createProcessor(String connection, String topic, String subscription) {\n        return new ServiceBusClientBuilder()\n                .connectionString(connection)\n                .processor()\n                .topicName(topic)\n                .subscriptionName(subscription)\n                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                .processMessage(context -&gt; {\n                    System.out.printf(&quot;Received message from %s, %s: %s%n&quot;, topic, subscription, context.getMessage().getBody().toString());\n                    context.complete();\n                })\n                .processError(context -&gt; {\n                    System.err.printf(&quot;Error occurred: %s%n&quot;, context.getException());\n                })\n                .buildProcessorClient();\n    }\n\n    private static void startProcessor(ServiceBusProcessorClient processor, String processorName) {\n        System.out.println(&quot;Starting the processor for &quot; + processorName + &quot;...&quot;);\n        processor.start();\n    }\n\n    private static void stopProcessor(ServiceBusProcessorClient processor, String processorName) {\n        System.out.println(&quot;Stopping the processor for &quot; + processorName + &quot;...&quot;);\n        processor.stop();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong> :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n     &lt;dependency&gt;\n          &lt;groupId&gt;com.azure&lt;/groupId&gt;\n          &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\n          &lt;version&gt;7.0.0&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I created two topics with two subscriptions in each and send messages to it, as below in Azure Service Bus.</p>\n<p><strong>Topic1 :</strong></p>\n<p><img src=\"https://i.imgur.com/xORhmL9.png\" alt=\"enter image description here\" /></p>\n<p><strong>Topic2 :</strong></p>\n<p><img src=\"https://i.imgur.com/5JpRoKZ.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output</strong> :</p>\n<p>It runs successfully and has received each message from the four subscriptions in the two topics as below.</p>\n<p><img src=\"https://i.imgur.com/ceUThc4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29693223,"reputation":11,"user_id":22757141,"display_name":"cristian2342341"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697867879,"creation_date":1697785694,"question_id":77328935,"body_markdown":"I have two topics in the Bus service with 2 subscriptions each and from the same project I want to consume all four. I tried to consume the topics separately and it works well, I consume both subscriptions of the topic, both of one and the other, the problem is to do both at the same time. It gives me this error: &#39;fullyQualifiedNamespace&#39; can&#39;t be null. But even if I put this with the correct namespaces, it overwrites it to null anyway\r\n\r\n\r\n`\r\ncloud:\r\n azure:\r\n  servicebus:\r\n   topic1:\r\n    bindings:\r\n     consumeSuscripcionUno-in-0:\r\n      group: topic1\r\n     consumeSuscripcionDos-in-0:\r\n      group: topic1\r\n     connection-string: &quot;connection-string&quot;\r\n     enabled: true\r\n   topic2:\r\n    bindings:\r\n     consumeSuscripcionUno-in-0:\r\n      group: topic2\r\n     connection-string: &quot;connection-string&quot;\r\n     enabled: true\r\n`\r\n\r\nesta es una parte de la config donde intento configurarlo","title":"I want to consume two bus service topics","body":"<p>I have two topics in the Bus service with 2 subscriptions each and from the same project I want to consume all four. I tried to consume the topics separately and it works well, I consume both subscriptions of the topic, both of one and the other, the problem is to do both at the same time. It gives me this error: 'fullyQualifiedNamespace' can't be null. But even if I put this with the correct namespaces, it overwrites it to null anyway</p>\n<p><code>cloud: azure: servicebus: topic1: bindings: consumeSuscripcionUno-in-0: group: topic1 consumeSuscripcionDos-in-0: group: topic1 connection-string: &quot;connection-string&quot; enabled: true topic2: bindings: consumeSuscripcionUno-in-0: group: topic2 connection-string: &quot;connection-string&quot; enabled: true</code></p>\n<p>esta es una parte de la config donde intento configurarlo</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1697898349,"post_id":77334716,"comment_id":136338652,"body_markdown":"this question needs more clarification. Paste your test class and the class you are testing separately. Is `sendRequest` the method you are trying to test? I don&#39;t see it being called. When you say `test.execute...`, is `test` a mock or spy object?","body":"this question needs more clarification. Paste your test class and the class you are testing separately. Is <code>sendRequest</code> the method you are trying to test? I don&#39;t see it being called. When you say <code>test.execute...</code>, is <code>test</code> a mock or spy object?"}],"owner":{"account_id":16391939,"reputation":89,"user_id":11840493,"display_name":"andrew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697867317,"creation_date":1697861525,"question_id":77334716,"body_markdown":"While executing the junit and when it is going to sendRequest at highlighted line(marked as **) method getting below error. \r\n\r\n&gt; Unexpected character (S) at position 16.\r\n\r\nAlso i want to parameterize this createResponse method so that i can use that for different test cases, that&#39;s why i am passing different parameters to this method and json is created.\r\n\r\n\tprivate HttpResponse&lt;String&gt; createResponse(int status, String message, String errorCode, String errorMessage,\r\n\t\t\tlong number, long amount, String firstName, String lastName) {\r\n\t\treturn new HttpResponse&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int statusCode() {\r\n\t\t\t\treturn status;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic HttpRequest request() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Optional&lt;HttpResponse&lt;String&gt;&gt; previousResponse() {\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic HttpHeaders headers() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String body() {\r\n\t\t\t\t\r\n\t\t\t\treturn &quot;{&quot; +\r\n                &quot;\\&quot;responseCode\\&quot;:&quot; +statusMessage+&quot;,&quot;+\r\n                &quot;\\&quot;responseDescription\\&quot;:null&quot; +\r\n                &quot;}&quot;;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Optional&lt;SSLSession&gt; sslSession() {\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic URI uri() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic HttpClient.Version version() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\t@Test\r\n\tpublic void testGoodValidateResp() {\r\n\t\tHttpResponse&lt;String&gt; response = createResponse(200, &quot;SUCCESS&quot;, null, null, 997494, 500, &quot;A&quot;, &quot;AB&quot;);\r\n\t\tMockito.doReturn(response).when(test).transmit(Mockito.anyString());\r\n\t\ttry {\r\n\t\t\tresponse= test.execute(qcRequest);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\tassertEquals(&quot;Success&quot;, response.getStatus());\r\n\t}\r\n\r\n\r\n    private Response sendRequest(String strUrl) {\r\n    \t\tHttpResponse&lt;String&gt; httpResponse;\r\n    \t\ttry {\r\n    \t\t\thttpResponse = transmit(strUrl.trim());\r\n    \t\t\tif (httpResponse.statusCode() == 200) {\r\n    \t\t\t\tJSONParser jsonParser = new JSONParser();\r\n    \t\t\t\tString body = httpResponse.body();\r\n    \t\t\t\t**JSONObject jsonObject = (JSONObject) jsonParser.parse(httpResponse.body());**\r\n    \t\t\t\tString status = jsonObject.get(&quot;status&quot;).toString();\r\n    \t\t\t\tif (&quot;SUCCESS&quot;.equalsIgnoreCase(status)) {\r\n    \t                return finalizeResponse(true);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn processHTTPFailure(httpResponse);\r\n    \t\t\t} else {\r\n    \t\t\t\treturn processHTTPFailure(httpResponse);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn finalizeResponse(false);\r\n    \r\n    \t\t}\r\n    \t}\r\n\r\n","title":"Customizing the json response for multiple testcases and validating it","body":"<p>While executing the junit and when it is going to sendRequest at highlighted line(marked as **) method getting below error.</p>\n<blockquote>\n<p>Unexpected character (S) at position 16.</p>\n</blockquote>\n<p>Also i want to parameterize this createResponse method so that i can use that for different test cases, that's why i am passing different parameters to this method and json is created.</p>\n<pre><code>private HttpResponse&lt;String&gt; createResponse(int status, String message, String errorCode, String errorMessage,\n        long number, long amount, String firstName, String lastName) {\n    return new HttpResponse&lt;String&gt;() {\n        @Override\n        public int statusCode() {\n            return status;\n        }\n\n        @Override\n        public HttpRequest request() {\n            return null;\n        }\n\n        @Override\n        public Optional&lt;HttpResponse&lt;String&gt;&gt; previousResponse() {\n            return Optional.empty();\n        }\n\n        @Override\n        public HttpHeaders headers() {\n            return null;\n        }\n\n        @Override\n        public String body() {\n            \n            return &quot;{&quot; +\n            &quot;\\&quot;responseCode\\&quot;:&quot; +statusMessage+&quot;,&quot;+\n            &quot;\\&quot;responseDescription\\&quot;:null&quot; +\n            &quot;}&quot;;\n        }\n\n        @Override\n        public Optional&lt;SSLSession&gt; sslSession() {\n            return Optional.empty();\n        }\n\n        @Override\n        public URI uri() {\n            return null;\n        }\n\n        @Override\n        public HttpClient.Version version() {\n            return null;\n        }\n    };\n}\n\n\n@Test\npublic void testGoodValidateResp() {\n    HttpResponse&lt;String&gt; response = createResponse(200, &quot;SUCCESS&quot;, null, null, 997494, 500, &quot;A&quot;, &quot;AB&quot;);\n    Mockito.doReturn(response).when(test).transmit(Mockito.anyString());\n    try {\n        response= test.execute(qcRequest);\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n    assertEquals(&quot;Success&quot;, response.getStatus());\n}\n\n\nprivate Response sendRequest(String strUrl) {\n        HttpResponse&lt;String&gt; httpResponse;\n        try {\n            httpResponse = transmit(strUrl.trim());\n            if (httpResponse.statusCode() == 200) {\n                JSONParser jsonParser = new JSONParser();\n                String body = httpResponse.body();\n                **JSONObject jsonObject = (JSONObject) jsonParser.parse(httpResponse.body());**\n                String status = jsonObject.get(&quot;status&quot;).toString();\n                if (&quot;SUCCESS&quot;.equalsIgnoreCase(status)) {\n                    return finalizeResponse(true);\n                }\n                return processHTTPFailure(httpResponse);\n            } else {\n                return processHTTPFailure(httpResponse);\n            }\n\n        } catch (Exception e) {\n            return finalizeResponse(false);\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","performance","spring-data","spring-data-jdbc"],"owner":{"account_id":9352211,"reputation":45,"user_id":6941510,"display_name":"Khusayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697866757,"creation_date":1697866757,"question_id":77334868,"body_markdown":"Question: I&#39;m currently working with Spring Data JDBC and have observed that PersistentPropertyAccessor relies on reflection for property access. I&#39;ve read that reflection can impact performance, and I&#39;d like to delve deeper into this aspect.\r\n\r\nWhat are the reasons behind using reflection in PersistentPropertyAccessor for getting field values in Spring Data JDBC? Has it been considered replaced with code generation approach(f.e. MapStruct)?","title":"What if replace reflection with code generation for getting entity values in Spring Data JDBC&#39;s PersistentPropertyAccessor class?","body":"<p>Question: I'm currently working with Spring Data JDBC and have observed that PersistentPropertyAccessor relies on reflection for property access. I've read that reflection can impact performance, and I'd like to delve deeper into this aspect.</p>\n<p>What are the reasons behind using reflection in PersistentPropertyAccessor for getting field values in Spring Data JDBC? Has it been considered replaced with code generation approach(f.e. MapStruct)?</p>\n"},{"tags":["java","maven","cassandra","apache-atlas"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697877283,"post_id":77334859,"comment_id":136336908,"body_markdown":"A bit more the output would be helpful...","body":"A bit more the output would be helpful..."}],"owner":{"account_id":22367812,"reputation":1,"user_id":16583321,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697866406,"creation_date":1697866406,"question_id":77334859,"body_markdown":"I cloned the official code of Apache Atlas. I tried to package it using Cassandra in embedded mode, but I encountered an error.\r\n\r\n\r\n\r\nAtlas: 2.3.0\r\n\r\nJava :Java version: 1.8.0_251\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\nmaven: 3.6.3 \r\n\r\nThe command is `mvn clean -DskipTests package -Pdist,embedded-cassandra-solr`.\r\nAnd here is the error:\r\n\r\n```\r\norg.apache.maven.InternalErrorException: Internal error: java.lang.NullPointerException\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:120)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.NullPointerException\r\n    at java.util.Hashtable$Entry.setValue (Hashtable.java:1286)\r\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:1429)\r\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:1027)\r\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:170)\r\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator.interpolateModel (StringVisitorModelInterpolator.java:107)\r\n    at org.apache.maven.model.building.DefaultModelBuilder.interpolateModel (DefaultModelBuilder.java:789)\r\n    at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:393)\r\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:448)\r\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:414)\r\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:377)\r\n    at org.apache.maven.graph.DefaultGraphBuilder.collectProjects (DefaultGraphBuilder.java:414)\r\n    at org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor (DefaultGraphBuilder.java:405)\r\n    at org.apache.maven.graph.DefaultGraphBuilder.build (DefaultGraphBuilder.java:82)\r\n    at org.apache.maven.DefaultMaven.buildGraph (DefaultMaven.java:507)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:219)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/InternalErrorException\r\n```","title":"NullPointerException while packaging with Apache Atlas official command","body":"<p>I cloned the official code of Apache Atlas. I tried to package it using Cassandra in embedded mode, but I encountered an error.</p>\n<p>Atlas: 2.3.0</p>\n<p>Java :Java version: 1.8.0_251\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\nmaven: 3.6.3</p>\n<p>The command is <code>mvn clean -DskipTests package -Pdist,embedded-cassandra-solr</code>.\nAnd here is the error:</p>\n<pre><code>org.apache.maven.InternalErrorException: Internal error: java.lang.NullPointerException\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:120)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at java.util.Hashtable$Entry.setValue (Hashtable.java:1286)\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:1429)\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:1027)\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit (StringVisitorModelInterpolator.java:170)\n    at org.apache.maven.model.interpolation.StringVisitorModelInterpolator.interpolateModel (StringVisitorModelInterpolator.java:107)\n    at org.apache.maven.model.building.DefaultModelBuilder.interpolateModel (DefaultModelBuilder.java:789)\n    at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:393)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:448)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:414)\n    at org.apache.maven.project.DefaultProjectBuilder.build (DefaultProjectBuilder.java:377)\n    at org.apache.maven.graph.DefaultGraphBuilder.collectProjects (DefaultGraphBuilder.java:414)\n    at org.apache.maven.graph.DefaultGraphBuilder.getProjectsForMavenReactor (DefaultGraphBuilder.java:405)\n    at org.apache.maven.graph.DefaultGraphBuilder.build (DefaultGraphBuilder.java:82)\n    at org.apache.maven.DefaultMaven.buildGraph (DefaultMaven.java:507)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:219)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/InternalErrorException\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":8,"creation_date":1581422394,"post_id":60167635,"comment_id":106420193,"body_markdown":"`resultList != null &amp;&amp; !resultList.isEmpty()`","body":"<code>resultList != null &amp;&amp; !resultList.isEmpty()</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1581423969,"post_id":60167635,"comment_id":106421058,"body_markdown":"I strongly advise you to make sure a list is never `null`, if you can. It should be empty in such case.","body":"I strongly advise you to make sure a list is never <code>null</code>, if you can. It should be empty in such case."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1581424126,"post_id":60167635,"comment_id":106421140,"body_markdown":"@MCEmperor I agree, but I have come across some cases when deserializing (XML wiht JAXB, JSON with Jackson) that had a default behavior of not initializing a member if the field was not present in the incoming data, and you had to jump through some ugly hoops to enforce this.","body":"@MCEmperor I agree, but I have come across some cases when deserializing (XML wiht JAXB, JSON with Jackson) that had a default behavior of not initializing a member if the field was not present in the incoming data, and you had to jump through some ugly hoops to enforce this."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1581424183,"post_id":60167635,"comment_id":106421168,"body_markdown":"@MCEmperor That&#39;s often a good idea, but wasteful of memory if you have a `Map&lt;K, List&lt;V&gt;&gt;` with hundreds of thousands of keys associated with empty lists.","body":"@MCEmperor That&#39;s often a good idea, but wasteful of memory if you have a <code>Map&lt;K, List&lt;V&gt;&gt;</code> with hundreds of thousands of keys associated with empty lists."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1581424827,"post_id":60167635,"comment_id":106421533,"body_markdown":"@kaya3 Hundreds of thousands of keys associated with the same empty list instance (such as `Collections.emptyList()`) do not need any more memory than hundreds of thousands of keys associated with `null`. But why not leave these keys out of the Map altogether, and do `map.getOrDefault(key, emptyList)` ?","body":"@kaya3 Hundreds of thousands of keys associated with the same empty list instance (such as <code>Collections.emptyList()</code>) do not need any more memory than hundreds of thousands of keys associated with <code>null</code>. But why not leave these keys out of the Map altogether, and do <code>map.getOrDefault(key, emptyList)</code> ?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1581424865,"post_id":60167635,"comment_id":106421555,"body_markdown":"@kaya3 Well in that case, setting a mapping with a `null` value would mean that you don&#39;t map the key at all (some `Map` implementations don&#39;t even allow `map.put(key, null)`).","body":"@kaya3 Well in that case, setting a mapping with a <code>null</code> value would mean that you don&#39;t map the key at all (some <code>Map</code> implementations don&#39;t even allow <code>map.put(key, null)</code>)."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1581424884,"post_id":60167635,"comment_id":106421565,"body_markdown":"@Thilo But then when you want to add something to one of those lists, you need to check if it&#39;s a `Collections.emptyList()` and replace it with a fresh mutable list, rather than just doing `computeIfAbsent`. And of course you save the memory by not having those keys in the map at all.","body":"@Thilo But then when you want to add something to one of those lists, you need to check if it&#39;s a <code>Collections.emptyList()</code> and replace it with a fresh mutable list, rather than just doing <code>computeIfAbsent</code>. And of course you save the memory by not having those keys in the map at all."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1581424930,"post_id":60167635,"comment_id":106421589,"body_markdown":"@daniu Yes, precisely; so when you do `List&lt;V&gt; values = map.get(key);` then you will have to check if `values != null` before using it. That&#39;s the point I&#39;m making.","body":"@daniu Yes, precisely; so when you do <code>List&lt;V&gt; values = map.get(key);</code> then you will have to check if <code>values != null</code> before using it. That&#39;s the point I&#39;m making."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1581424940,"post_id":60167635,"comment_id":106421592,"body_markdown":"ah... Don&#39;t get me started on mutable lists :-)","body":"ah... Don&#39;t get me started on mutable lists :-)"}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1581424376,"post_id":60167710,"comment_id":106421270,"body_markdown":"or just `retVal = resultList != null &amp;&amp; !resultList.isEmpty()`","body":"or just <code>retVal = resultList != null &amp;&amp; !resultList.isEmpty()</code>"},{"owner":{"account_id":2393630,"reputation":82,"user_id":2092946,"display_name":"Paul_MT"},"score":0,"creation_date":1581427949,"post_id":60167710,"comment_id":106423368,"body_markdown":"I know, but the question was how to do that &quot;using Java 8 features of Streams or Optional&quot;","body":"I know, but the question was how to do that &quot;using Java 8 features of Streams or Optional&quot;"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1581429279,"post_id":60167710,"comment_id":106424166,"body_markdown":"And the proper answer to that is: Don&#39;t, there is no need for it.","body":"And the proper answer to that is: Don&#39;t, there is no need for it."}],"tags":[],"owner":{"account_id":2393630,"reputation":82,"user_id":2092946,"display_name":"Paul_MT"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1581420141,"creation_date":1581420141,"answer_id":60167710,"question_id":60167635,"body_markdown":"```java\r\nretVal = Optional.ofNullable(resultList).filter(l -&gt; !l.isEmpty()).isPresent();\r\n```","title":"Null and Empty List Check in Java 8","body":"<pre class=\"lang-java prettyprint-override\"><code>retVal = Optional.ofNullable(resultList).filter(l -&gt; !l.isEmpty()).isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581424447,"creation_date":1581424447,"answer_id":60168897,"question_id":60167635,"body_markdown":"Avoid null.\r\n\r\n    return resultList == null ? Collections.emptyList() : resultList;\r\n\r\nAnd then check the list with `list.isEmpty()`.\r\n\r\n`Optional` is redundant and more or less functions as a collection of 0/1 elements, as unpacking is needed, and then one still has a collection.\r\n\r\nOne might sometimes consider returning a Stream, if the result must be requeried every time.\r\n\r\n    return result == null ? Stream.empty() : resultList.stream();\r\n","title":"Null and Empty List Check in Java 8","body":"<p>Avoid null.</p>\n\n<pre><code>return resultList == null ? Collections.emptyList() : resultList;\n</code></pre>\n\n<p>And then check the list with <code>list.isEmpty()</code>.</p>\n\n<p><code>Optional</code> is redundant and more or less functions as a collection of 0/1 elements, as unpacking is needed, and then one still has a collection.</p>\n\n<p>One might sometimes consider returning a Stream, if the result must be requeried every time.</p>\n\n<pre><code>return result == null ? Stream.empty() : resultList.stream();\n</code></pre>\n"}],"owner":{"account_id":17362123,"reputation":21,"user_id":12578121,"display_name":"techsusahu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697864510,"creation_date":1581419823,"question_id":60167635,"body_markdown":"I want to write an equivalent code for  this using Java 8 features of Streams or Optional \r\nMy idea is basically to check if the List has some value returned from a Query or null /empty\r\n\r\n    if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\r\n    \t\t\t\tretVal = true;\r\n    \t\t\t}\r\n\r\n","title":"Null and Empty List Check in Java 8","body":"<p>I want to write an equivalent code for  this using Java 8 features of Streams or Optional \nMy idea is basically to check if the List has some value returned from a Query or null /empty</p>\n\n<pre><code>if (resultList != null &amp;&amp; resultList.size() &gt; 0) {\n                retVal = true;\n            }\n</code></pre>\n"},{"tags":["java","json","salesforce"],"comments":[{"owner":{"account_id":7353149,"reputation":454,"user_id":5598629,"accept_rate":88,"display_name":"A. Wali"},"score":1,"creation_date":1466148931,"post_id":37875607,"comment_id":63206895,"body_markdown":"Are you sure the JSON is valid? How are you generating it ?","body":"Are you sure the JSON is valid? How are you generating it ?"},{"owner":{"account_id":18188,"reputation":18860,"user_id":41455,"accept_rate":71,"display_name":"superfell"},"score":0,"creation_date":1466193957,"post_id":37875607,"comment_id":63233647,"body_markdown":"The error says its expecting a json boolean, but has a string value of &quot;Yes&quot;. How are you generating the JSON?","body":"The error says its expecting a json boolean, but has a string value of &quot;Yes&quot;. How are you generating the JSON?"}],"answers":[{"tags":[],"owner":{"account_id":1167924,"reputation":7073,"user_id":1145792,"accept_rate":92,"display_name":"Hleb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466325448,"creation_date":1466325448,"answer_id":37905383,"question_id":37875607,"body_markdown":"Seems, your JSON is invalid, because JSON-deserializer expects Boolean value (true or false), but it get String (&quot;Yes&quot;), error message say it.\r\n\r\nHow do you generate this JSON?","title":"Cannot deserialize instance of boolean from VALUE_STRING value Yes or request may be missing a required field","body":"<p>Seems, your JSON is invalid, because JSON-deserializer expects Boolean value (true or false), but it get String (\"Yes\"), error message say it.</p>\n\n<p>How do you generate this JSON?</p>\n"},{"tags":[],"owner":{"account_id":17083382,"reputation":1,"user_id":12361279,"display_name":"Pooja jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573569114,"creation_date":1573566004,"answer_id":58819991,"question_id":37875607,"body_markdown":"Please check the JSON you&#39;re getting; it must be an invalid field value.\r\nI had gotten the same issue, due to invalid data in fields. Particularly check for the `Date` field. If you check the JSON through postman you will see the issue.","title":"Cannot deserialize instance of boolean from VALUE_STRING value Yes or request may be missing a required field","body":"<p>Please check the JSON you're getting; it must be an invalid field value.\nI had gotten the same issue, due to invalid data in fields. Particularly check for the <code>Date</code> field. If you check the JSON through postman you will see the issue.</p>\n"}],"owner":{"account_id":6746900,"reputation":861,"user_id":5198256,"accept_rate":13,"display_name":"Asif Billa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697864510,"creation_date":1466148533,"question_id":37875607,"body_markdown":"I am having issue while updating object in Sales force using Force API.\r\n\r\nObject that I am going to update:\r\n\r\n    {id=null, accountId=null, contactId=null, status=STATUS_COMPLETED, category=null, type=null, createdDate=null, origin=null, submittedDate=null, paperDeclarationRequested=false, targetPolicy=null, policyNumber=null, caseStatus=STATUS_COMPLETED, recordType=null, sdpStatus=null, dipDate=null, unabletoLinkDate=null, currentDate=null, recordTypeId=null, investmentFundName=SBI Fund, dateOfLatestConsent=Fri Jun 17 05:30:00 IST 2016, dataConsentIndicator=true, subject=null, paperDocumentsRequested=true, title=Personal Details, firstName=Asif, surname=Billa, dateOfBirth=Thu Oct 25 05:30:00 IST 1990, nationalInsuranceNumber=123456, countryOfNationality=India, ukResidentIndicator=Yes, crownServiceOrArmedForcesEmployeeIndicator=crownService, countryOfTaxResidency=United Kingdom, taxReferenceNumber=wert234, townOfBirth=London, nonUkResidentIndicator=Yes, addressLine1=yemlur, addressLine2=abc, addressLine3=karnataka, town=London, country=United Kingdom, postCode=B46 5EW, previousAddressLine1=null, previousAddressLine2=null, previousAddressLine3=null, previousTown=null, previousCountry=null, previousPostCode=null, contactTelephoneNumber=123345, accountName=Prashant, accountNumber=123142342, buildingSocietyRollNumber=12345, sortCode=null, singlePaymentAmount=5000, regularMonthlyPaymentAmount=5000, regularMonthlyPaymentStartDate=Thu May 26 04:04:51 IST 2016, withdrawalAmount=5000, frequency=Monthly, withdrawalStartDate=Thu May 26 04:04:51 IST 2016, declarationsAccepted=true, declarationsAcceptedDate=Thu May 26 04:04:51 IST 2016, directDebitDocumentName=null}\r\n\r\nException that I am getting is :\r\n\r\n    com.force.api.ApiException: [{&quot;message&quot;:&quot;Cannot deserialize instance of boolean from VALUE_STRING value Yes or request may be missing a required field at [line:1, column:448]&quot;,&quot;errorCode&quot;:&quot;JSON_PARSER_ERROR&quot;}]\r\n\r\nAt the specified line &amp; column , the property is a Boolean &amp; I am using true as value over there, so Ideally there shouldn&#39;t be any problems.\r\n\r\nPlease help","title":"Cannot deserialize instance of boolean from VALUE_STRING value Yes or request may be missing a required field","body":"<p>I am having issue while updating object in Sales force using Force API.</p>\n\n<p>Object that I am going to update:</p>\n\n<pre><code>{id=null, accountId=null, contactId=null, status=STATUS_COMPLETED, category=null, type=null, createdDate=null, origin=null, submittedDate=null, paperDeclarationRequested=false, targetPolicy=null, policyNumber=null, caseStatus=STATUS_COMPLETED, recordType=null, sdpStatus=null, dipDate=null, unabletoLinkDate=null, currentDate=null, recordTypeId=null, investmentFundName=SBI Fund, dateOfLatestConsent=Fri Jun 17 05:30:00 IST 2016, dataConsentIndicator=true, subject=null, paperDocumentsRequested=true, title=Personal Details, firstName=Asif, surname=Billa, dateOfBirth=Thu Oct 25 05:30:00 IST 1990, nationalInsuranceNumber=123456, countryOfNationality=India, ukResidentIndicator=Yes, crownServiceOrArmedForcesEmployeeIndicator=crownService, countryOfTaxResidency=United Kingdom, taxReferenceNumber=wert234, townOfBirth=London, nonUkResidentIndicator=Yes, addressLine1=yemlur, addressLine2=abc, addressLine3=karnataka, town=London, country=United Kingdom, postCode=B46 5EW, previousAddressLine1=null, previousAddressLine2=null, previousAddressLine3=null, previousTown=null, previousCountry=null, previousPostCode=null, contactTelephoneNumber=123345, accountName=Prashant, accountNumber=123142342, buildingSocietyRollNumber=12345, sortCode=null, singlePaymentAmount=5000, regularMonthlyPaymentAmount=5000, regularMonthlyPaymentStartDate=Thu May 26 04:04:51 IST 2016, withdrawalAmount=5000, frequency=Monthly, withdrawalStartDate=Thu May 26 04:04:51 IST 2016, declarationsAccepted=true, declarationsAcceptedDate=Thu May 26 04:04:51 IST 2016, directDebitDocumentName=null}\n</code></pre>\n\n<p>Exception that I am getting is :</p>\n\n<pre><code>com.force.api.ApiException: [{\"message\":\"Cannot deserialize instance of boolean from VALUE_STRING value Yes or request may be missing a required field at [line:1, column:448]\",\"errorCode\":\"JSON_PARSER_ERROR\"}]\n</code></pre>\n\n<p>At the specified line &amp; column , the property is a Boolean &amp; I am using true as value over there, so Ideally there shouldn't be any problems.</p>\n\n<p>Please help</p>\n"},{"tags":["java","database-performance","griddb"],"owner":{"account_id":23056205,"reputation":21,"user_id":17172209,"display_name":"Toyry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697864466,"creation_date":1697864337,"question_id":77334804,"body_markdown":"I am working on a Java project that utilizes GridDB for data management, and I&#39;m encountering a performance issue when dealing with large transactions. Here&#39;s a detailed description of the problem.\r\n\r\n- When attempting to process large transactions in GridDB, I&#39;ve observed a substantial degradation in performance.\r\n- The slowdown is most pronounced when performing bulk inserts, updates, or deletes on a sizable dataset.\r\n- This performance issue is negatively impacting the responsiveness and efficiency of our application.\r\n\r\n**Environment:**\r\n- GridDB version: GridDB version 4.2.1\r\n- Programming language: Java\r\n- Server specifications: Intel Core i7 CPU, 16GB RAM, 1TB SSD\r\n\r\n**Additional Information:**\r\n- I&#39;m seeking insights, suggestions, or specific techniques to optimize GridDB&#39;s performance when dealing with large transactions.\r\n- Are there particular GridDB configuration settings that I should adjust?\r\n- Is there a recommended approach for efficiently handling large data loads?\r\n- Any advice on improving GridDB&#39;s overall performance in such scenarios would be greatly appreciated.\r\n\r\nMy Code:\r\nHere&#39;s a simplified code sample of how I&#39;m working with GridDB:\r\n\r\n\r\n    import com.toshiba.mwcloud.gs.*;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class GridDBPerformanceIssue {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                GridStoreFactory factory = GridStoreFactory.getInstance();\r\n                GridStore store = factory.getStore(new GridStoreInfo());\r\n                // ... (rest of your code)\r\n            } catch (GSException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n- I&#39;ve optimized the database schema to the best of my knowledge.\r\n- I&#39;ve fine-tuned SQL queries to minimize the impact.\r\n- I&#39;ve reviewed the GridDB documentation and tried to apply recommended best practices.\r\n","title":"GridDB Java - Performance degradation with large transactions","body":"<p>I am working on a Java project that utilizes GridDB for data management, and I'm encountering a performance issue when dealing with large transactions. Here's a detailed description of the problem.</p>\n<ul>\n<li>When attempting to process large transactions in GridDB, I've observed a substantial degradation in performance.</li>\n<li>The slowdown is most pronounced when performing bulk inserts, updates, or deletes on a sizable dataset.</li>\n<li>This performance issue is negatively impacting the responsiveness and efficiency of our application.</li>\n</ul>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>GridDB version: GridDB version 4.2.1</li>\n<li>Programming language: Java</li>\n<li>Server specifications: Intel Core i7 CPU, 16GB RAM, 1TB SSD</li>\n</ul>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li>I'm seeking insights, suggestions, or specific techniques to optimize GridDB's performance when dealing with large transactions.</li>\n<li>Are there particular GridDB configuration settings that I should adjust?</li>\n<li>Is there a recommended approach for efficiently handling large data loads?</li>\n<li>Any advice on improving GridDB's overall performance in such scenarios would be greatly appreciated.</li>\n</ul>\n<p>My Code:\nHere's a simplified code sample of how I'm working with GridDB:</p>\n<pre><code>import com.toshiba.mwcloud.gs.*;\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class GridDBPerformanceIssue {\n\n    public static void main(String[] args) {\n        try {\n            GridStoreFactory factory = GridStoreFactory.getInstance();\n            GridStore store = factory.getStore(new GridStoreInfo());\n            // ... (rest of your code)\n        } catch (GSException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>I've optimized the database schema to the best of my knowledge.</li>\n<li>I've fine-tuned SQL queries to minimize the impact.</li>\n<li>I've reviewed the GridDB documentation and tried to apply recommended best practices.</li>\n</ul>\n"},{"tags":["java","performance","oracle","jdbc"],"answers":[{"comments":[{"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"score":0,"creation_date":1251364794,"post_id":1339615,"comment_id":1174535,"body_markdown":"i know that apliying an function on a column can prevent the use of the column index, but the extrange thing is that it only happens when the query is parametrized","body":"i know that apliying an function on a column can prevent the use of the column index, but the extrange thing is that it only happens when the query is parametrized"},{"owner":{"account_id":41181,"reputation":67025,"user_id":119634,"display_name":"Vincent Malgrat"},"score":0,"creation_date":1251366224,"post_id":1339615,"comment_id":1174624,"body_markdown":"@Telcontar: What might happen is that the datatype of your constant (with Toad or with a dynamicly built sql) and the datatype of your parameter are different. This could lead to a situation where the plan for a parametrized query is suboptimal because of implicit conversion. Can you give us a simple exemple of a query where you encouter this issue ?","body":"@Telcontar: What might happen is that the datatype of your constant (with Toad or with a dynamicly built sql) and the datatype of your parameter are different. This could lead to a situation where the plan for a parametrized query is suboptimal because of implicit conversion. Can you give us a simple exemple of a query where you encouter this issue ?"},{"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"score":0,"creation_date":1251366896,"post_id":1339615,"comment_id":1174673,"body_markdown":"The query is \n\nSELECT * FROM V_DAT_AJPR_CON_DESCRIP_C WHERE ENTIDAD=7777 AND TO_NUMBER(CFPERIOD)=TO_NUMBER(251) AND CFSUBGRP=&#39;S0000&#39; AND ID_VERSION=6\n\nwhere the four values are dinamic\n\nthe view use multiple joins with other tables of the form CFPERIOD, ID, FIELD_1, ... FIELD_N and the pk is (CFPERIOD,ID)\n\nand the join with the view is\nTO_NUMBER(V.CFPERIOD)=TO_NUMBER(T.CFPERIOD) AND\nV.ID=T.ID","body":"The query is   SELECT * FROM V_DAT_AJPR_CON_DESCRIP_C WHERE ENTIDAD=7777 AND TO_NUMBER(CFPERIOD)=TO_NUMBER(251) AND CFSUBGRP=&#39;S0000&#39; AND ID_VERSION=6  where the four values are dinamic  the view use multiple joins with other tables of the form CFPERIOD, ID, FIELD_1, ... FIELD_N and the pk is (CFPERIOD,ID)  and the join with the view is TO_NUMBER(V.CFPERIOD)=TO_NUMBER(T.CFPERIOD) AND V.ID=T.ID"}],"tags":[],"owner":{"account_id":41181,"reputation":67025,"user_id":119634,"display_name":"Vincent Malgrat"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251361152,"creation_date":1251361152,"answer_id":1339615,"question_id":1339549,"body_markdown":"without additional information, we can only assume that an index isn&#39;t being used with the to_number() function is applied to the column. As shown in [this SO question][1], a type conversion can prevent the optimizer from using an index. \n\nIn general:\n\n * when you add a function to a column (i-e: `to_number(id)`) the optimizer won&#39;t be able to use the regular indexes on that column,\n * if it is possible, you should use the column raw. For exemple: instead of `WHERE trunc(col) = DATE &#39;2009-08-27&#39;` you should use: `WHERE col &gt;= DATE &#39;2009-08-27&#39; AND col &lt; DATE &#39;2009-08-28&#39;`\n * if you really have to apply a function to a column, you can use a [function-based index][2]\n\n\n\n  [1]: https://stackoverflow.com/questions/1158188/index-not-used-due-to-type-conversion \n&quot;Index not used due to type conversion?&quot;\n\n  [2]: http://download.oracle.com/docs/cd/B19306_01/server.102/b14200/statements_5010.htm#i2078649 &quot;FBI -- Oracle 10g Doc&quot;","title":"Slow query in Java by JDBC but not in other systems (TOAD)","body":"<p>without additional information, we can only assume that an index isn't being used with the to_number() function is applied to the column. As shown in <a href=\"https://stackoverflow.com/questions/1158188/index-not-used-due-to-type-conversion\" title=\"Index not used due to type conversion?\">this SO question</a>, a type conversion can prevent the optimizer from using an index.</p>\n<p>In general:</p>\n<ul>\n<li>when you add a function to a column (i-e: <code>to_number(id)</code>) the optimizer won't be able to use the regular indexes on that column,</li>\n<li>if it is possible, you should use the column raw. For exemple: instead of <code>WHERE trunc(col) = DATE '2009-08-27'</code> you should use: <code>WHERE col &gt;= DATE '2009-08-27' AND col &lt; DATE '2009-08-28'</code></li>\n<li>if you really have to apply a function to a column, you can use a <a href=\"http://download.oracle.com/docs/cd/B19306_01/server.102/b14200/statements_5010.htm#i2078649\" rel=\"nofollow noreferrer\" title=\"FBI -- Oracle 10g Doc\">function-based index</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"score":0,"creation_date":1251883064,"post_id":1340605,"comment_id":1204782,"body_markdown":"the datatype comparation is between numbers and strings, some of the strings start with 0&#39;s which i can&#39;t remove from the tables of the view (i can`t write to them)","body":"the datatype comparation is between numbers and strings, some of the strings start with 0&#39;s which i can&#39;t remove from the tables of the view (i can`t write to them)"},{"owner":{"account_id":24575,"reputation":11665,"user_id":62608,"accept_rate":60,"display_name":"dpbradley"},"score":1,"creation_date":1251892098,"post_id":1340605,"comment_id":1205274,"body_markdown":"I&#39;ve added some information in my original answer about tracing the execution which should help you/us analyze what&#39;s actually happening.","body":"I&#39;ve added some information in my original answer about tracing the execution which should help you/us analyze what&#39;s actually happening."},{"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"score":0,"creation_date":1256291173,"post_id":1340605,"comment_id":1478547,"body_markdown":"Sry i have forgotten this question (which is already unanswerd), but i can&#39;t do the test you suggest, i &#39;m not the dba and i can only create tables/views, procedures, packages... but not trace querys. I pass it to the DBA but i don&#39;t think he do anything","body":"Sry i have forgotten this question (which is already unanswerd), but i can&#39;t do the test you suggest, i &#39;m not the dba and i can only create tables/views, procedures, packages... but not trace querys. I pass it to the DBA but i don&#39;t think he do anything"}],"tags":[],"owner":{"account_id":24575,"reputation":11665,"user_id":62608,"accept_rate":60,"display_name":"dpbradley"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251892006,"creation_date":1251374196,"answer_id":1340605,"question_id":1339549,"body_markdown":"Check that the data type of the Java variable passed in the parameter is compatible with the Oracle data type.  I have seen symptoms similar to yours when passing Java TIMESTAMP&#39;s through a bind variable that was being compared to Oracle DATE columns - literal string query OK, test case in PL/SQL with (date) bind OK, Java code w/ mismatch not OK.\r\n\r\n[Edit]\r\nI think you&#39;ve provided some additional information since the original posting.  The best way to understand what is happening with the slightly different forms (binds vs. literals) of the query from different environments (Java vs. Toad) is to enable tracing during the execution and compare the execution paths from the resulting trace files.  This will require that you have access to the database host to retrieve the files.\r\n\r\n - In Toad, open an interactive SQL\r\n   window (I don&#39;t use Toad but I&#39;m sure\r\n   you&#39;ll understand what I mean) and\r\n   issue the SQL command &quot;alter session\r\n   set sql_trace=true&quot;\r\n - Run your query - it would be a good\r\n   idea to add a comment to the query\r\n   such as &quot;/* Toad with literals */&quot;\r\n - For the Java test, build a test case\r\n   that issues the &quot;alter session...&quot;\r\n   statement and then runs the query. \r\n   Again, add a comment to the query to\r\n   identify it as coming from the Java\r\n   test.\r\n - Don&#39;t worry about turning the tracing\r\n   off - this will happen when the\r\n   sessions are disconnected and in some\r\n   cases the disconnection method of\r\n   stopping the trace is preferred.\r\n - Find out where your trace files on\r\n   the database host are by &quot;select\r\n   value from v$parameter where name\r\n   like &#39;user_dump_dest&#39; &quot;\r\n - Find the .trc files by searching for\r\n   the query comment strings\r\n - Use the TKPROF utility from the OS\r\n   command line to process the trace\r\n   file - &quot; tkprof filename.trc tkprof\r\n   filename.out &quot;\r\n - Examine/post the execution paths and\r\n   times that you see.\r\n\r\n","title":"Slow query in Java by JDBC but not in other systems (TOAD)","body":"<p>Check that the data type of the Java variable passed in the parameter is compatible with the Oracle data type.  I have seen symptoms similar to yours when passing Java TIMESTAMP's through a bind variable that was being compared to Oracle DATE columns - literal string query OK, test case in PL/SQL with (date) bind OK, Java code w/ mismatch not OK.</p>\n\n<p>[Edit]\nI think you've provided some additional information since the original posting.  The best way to understand what is happening with the slightly different forms (binds vs. literals) of the query from different environments (Java vs. Toad) is to enable tracing during the execution and compare the execution paths from the resulting trace files.  This will require that you have access to the database host to retrieve the files.</p>\n\n<ul>\n<li>In Toad, open an interactive SQL\nwindow (I don't use Toad but I'm sure\nyou'll understand what I mean) and\nissue the SQL command \"alter session\nset sql_trace=true\"</li>\n<li>Run your query - it would be a good\nidea to add a comment to the query\nsuch as \"/* Toad with literals */\"</li>\n<li>For the Java test, build a test case\nthat issues the \"alter session...\"\nstatement and then runs the query. \nAgain, add a comment to the query to\nidentify it as coming from the Java\ntest.</li>\n<li>Don't worry about turning the tracing\noff - this will happen when the\nsessions are disconnected and in some\ncases the disconnection method of\nstopping the trace is preferred.</li>\n<li>Find out where your trace files on\nthe database host are by \"select\nvalue from v$parameter where name\nlike 'user_dump_dest' \"</li>\n<li>Find the .trc files by searching for\nthe query comment strings</li>\n<li>Use the TKPROF utility from the OS\ncommand line to process the trace\nfile - \" tkprof filename.trc tkprof\nfilename.out \"</li>\n<li>Examine/post the execution paths and\ntimes that you see.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382074216,"creation_date":1382074216,"answer_id":19442262,"question_id":1339549,"body_markdown":"Check to make sure someone hasn&#39;t set the property oracle.jdbc.defaultNChar=true\r\n\r\nThis is sometimes done to resolve unicode problems but it means all columns are treated as nvarchars. If you have an index on a varchar column, it won&#39;t be used because oracle has to use a function to convert the character encoding.","title":"Slow query in Java by JDBC but not in other systems (TOAD)","body":"<p>Check to make sure someone hasn't set the property oracle.jdbc.defaultNChar=true</p>\n\n<p>This is sometimes done to resolve unicode problems but it means all columns are treated as nvarchars. If you have an index on a varchar column, it won't be used because oracle has to use a function to convert the character encoding.</p>\n"},{"tags":[],"owner":{"account_id":12846840,"reputation":11,"user_id":9440669,"display_name":"kswen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697863415,"creation_date":1697863415,"answer_id":77334774,"question_id":1339549,"body_markdown":"This actual an issue relate with ORACLE server side configuration, just change Cursor_Sharing to EXACT if origin is FORCE","title":"Slow query in Java by JDBC but not in other systems (TOAD)","body":"<p>This actual an issue relate with ORACLE server side configuration, just change Cursor_Sharing to EXACT if origin is FORCE</p>\n"}],"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9837,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1697863415,"creation_date":1251360147,"question_id":1339549,"body_markdown":"Hello i have a query to an Oracle System which involves a view which joins other tables by apliying an TO_NUMBER() to the tables primary key.\r\n\r\nIf i do the query using TOAD the query is very fast (1 sec for 800 regs). If i do the same query in a java program by JDBC with a String literal (not a parametrized query), the time is good too.\r\n\r\nBut if i use a parametriced query by an PreparedStatement the query takes 1 min to fetch the same registers. I know that using constant values produce distinct execution plan than using parameters... but if i remove the TO_NUMBER funcions in the joins of the view, the parametriced query is fast too.\r\n\r\n - Is the parameters / TO_NUMBER() union preventing to use the PK index of the joined tables?    \r\n - is there a workaround to solve this (i need the parameters on the query and also the TO_NUMBER function)?\r\n\r\nP.D. sry for my bad english","title":"Slow query in Java by JDBC but not in other systems (TOAD)","body":"<p>Hello i have a query to an Oracle System which involves a view which joins other tables by apliying an TO_NUMBER() to the tables primary key.</p>\n\n<p>If i do the query using TOAD the query is very fast (1 sec for 800 regs). If i do the same query in a java program by JDBC with a String literal (not a parametrized query), the time is good too.</p>\n\n<p>But if i use a parametriced query by an PreparedStatement the query takes 1 min to fetch the same registers. I know that using constant values produce distinct execution plan than using parameters... but if i remove the TO_NUMBER funcions in the joins of the view, the parametriced query is fast too.</p>\n\n<ul>\n<li>Is the parameters / TO_NUMBER() union preventing to use the PK index of the joined tables?    </li>\n<li>is there a workaround to solve this (i need the parameters on the query and also the TO_NUMBER function)?</li>\n</ul>\n\n<p>P.D. sry for my bad english</p>\n"},{"tags":["java","audio","volume","microphone","siri"],"owner":{"account_id":25070542,"reputation":11,"user_id":18924411,"display_name":"Marvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697862255,"creation_date":1697862255,"question_id":77334737,"body_markdown":"I am creating an app for Android devices that allows you to use your microphone like Siri but I am having trouble with the annoying microphone activation and deactivation beep sound.  I can mute the beep sound, however, it mutes my notification and call volume control, as new devices place the notification and call volume as one setting.  Is there a way to disable the beep sound without altering the device sound controls?\r\n\r\n---\r\n\r\n\r\n\r\nHere is what I am using:\r\n\r\n---\r\n\r\n```\r\n@RequiresApi(api = VERSION_CODES.M)\r\n    private void muteBeepSoundOfRecorder() {\r\n        AudioManager amanager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n        if (amanager != null) {\r\n            amanager.adjustStreamVolume(AudioManager.STREAM_NOTIFICATION, AudioManager.ADJUST_MUTE, 0);\r\n            amanager.adjustStreamVolume(AudioManager.STREAM_SYSTEM, AudioManager.ADJUST_MUTE, 0);\r\n        }\r\n    }\r\n```\r\n\r\n---\r\n and on my start command I used a try and catch as the following:\r\n\r\n---\r\n\r\n```\r\ntry {\r\n                ((AudioManager) Objects.requireNonNull(\r\n                        getSystemService(Context.AUDIO_SERVICE))).setStreamMute(AudioManager.STREAM_NOTIFICATION, true);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n---\r\nNothing seems to work to turn off the beep sound without muting the phone settings.\r\n","title":"How to disable the microphone beep sound without muting the phone settings?","body":"<p>I am creating an app for Android devices that allows you to use your microphone like Siri but I am having trouble with the annoying microphone activation and deactivation beep sound.  I can mute the beep sound, however, it mutes my notification and call volume control, as new devices place the notification and call volume as one setting.  Is there a way to disable the beep sound without altering the device sound controls?</p>\n<hr />\n<p>Here is what I am using:</p>\n<hr />\n<pre><code>@RequiresApi(api = VERSION_CODES.M)\n    private void muteBeepSoundOfRecorder() {\n        AudioManager amanager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n        if (amanager != null) {\n            amanager.adjustStreamVolume(AudioManager.STREAM_NOTIFICATION, AudioManager.ADJUST_MUTE, 0);\n            amanager.adjustStreamVolume(AudioManager.STREAM_SYSTEM, AudioManager.ADJUST_MUTE, 0);\n        }\n    }\n</code></pre>\n<hr />\n<p>and on my start command I used a try and catch as the following:</p>\n<hr />\n<pre><code>try {\n                ((AudioManager) Objects.requireNonNull(\n                        getSystemService(Context.AUDIO_SERVICE))).setStreamMute(AudioManager.STREAM_NOTIFICATION, true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<hr />\n<p>Nothing seems to work to turn off the beep sound without muting the phone settings.</p>\n"},{"tags":["java","android-studio","opencv","memory-leaks"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1697885099,"post_id":77334736,"comment_id":136337479,"body_markdown":"crosspost: https://forum.opencv.org/t/android-studio-still-memory-leak-even-release/14943","body":"crosspost: <a href=\"https://forum.opencv.org/t/android-studio-still-memory-leak-even-release/14943\" rel=\"nofollow noreferrer\">forum.opencv.org/t/&hellip;</a>"}],"owner":{"account_id":25585400,"reputation":31,"user_id":19363240,"display_name":"yolopoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697862231,"creation_date":1697862231,"question_id":77334736,"body_markdown":"I am working on OpenCV in Android Studio. I convert RGB to HSV and find that app crash after running 30 seconds. I found that it is beacuase of memory leak and someone say after adding `.release()` and `System.gc();`  will be ok. However, I still get memory leak after adding these two lines.\r\n\r\n[The memory profile picture][1]\r\n\r\nMy code\r\n\r\n    public class MainActivity extends CameraActivity {\r\n\r\n        CameraBridgeViewBase cameraBridgeViewBase;\r\n\r\n        Mat bwIMG;\r\n        cameraBridgeViewBase = findViewById(R.id.cameraViewer);\r\n        cameraBridgeViewBase.setCvCameraViewListener(new CameraBridgeViewBase.CvCameraViewListener2() {\r\n            @Override\r\n            public void onCameraViewStarted(int width, int height) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCameraViewStopped() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n                Mat image = inputFrame.rgba();\r\n                bwIMG = new Mat();\r\n                bwIMG.release();\r\n                System.gc();\r\n                Imgproc.cvtColor(image, bwIMG, COLOR_RGB2HSV);\r\n                image.release();\r\n                return bwIMG;\r\n            }\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6u95w.png","title":"OpenCV in Android Studio still memory leak even release()","body":"<p>I am working on OpenCV in Android Studio. I convert RGB to HSV and find that app crash after running 30 seconds. I found that it is beacuase of memory leak and someone say after adding <code>.release()</code> and <code>System.gc();</code>  will be ok. However, I still get memory leak after adding these two lines.</p>\n<p><a href=\"https://i.stack.imgur.com/6u95w.png\" rel=\"nofollow noreferrer\">The memory profile picture</a></p>\n<p>My code</p>\n<pre><code>public class MainActivity extends CameraActivity {\n\n    CameraBridgeViewBase cameraBridgeViewBase;\n\n    Mat bwIMG;\n    cameraBridgeViewBase = findViewById(R.id.cameraViewer);\n    cameraBridgeViewBase.setCvCameraViewListener(new CameraBridgeViewBase.CvCameraViewListener2() {\n        @Override\n        public void onCameraViewStarted(int width, int height) {\n\n        }\n\n        @Override\n        public void onCameraViewStopped() {\n\n        }\n\n        @Override\n        public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n            Mat image = inputFrame.rgba();\n            bwIMG = new Mat();\n            bwIMG.release();\n            System.gc();\n            Imgproc.cvtColor(image, bwIMG, COLOR_RGB2HSV);\n            image.release();\n            return bwIMG;\n        }\n    });\n  }\n}\n</code></pre>\n"},{"tags":["java","android","image","image-cropper"],"owner":{"account_id":6660808,"reputation":1,"user_id":6048519,"display_name":"skyye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697861264,"creation_date":1697861264,"question_id":77334707,"body_markdown":"i have been encoutering errors in getting acurate values of the area that needs to be cropped.the cropped image is usually too much to the left and bottom. .It even shows negative width and height if you zoom too much.\r\n\r\nexample of when `if(left \\&gt;= 0 &amp;&amp; top \\&gt;= 0 &amp;&amp; width \\&gt; 0 &amp;&amp; height \\&gt; 0)` is false:\r\n\r\n```\r\nleft = 2303.7014  \r\ntop = 1823.5114  \r\nright = 1080.0 \r\n bottom = 1080.0  \r\nwidth = -1223 \r\n height = -743\r\n```\r\n\r\n```\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentResolver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Matrix;\r\nimport android.graphics.RectF;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.ScaleGestureDetector;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class CropImageActivity extends AppCompatActivity {\r\n\r\n    private ImageView imageView;\r\n    private ScaleGestureDetector scaleGestureDetector;\r\n    private Matrix matrix = new Matrix();\r\n    private TextView saveButton;\r\n    private float scaleFactor = 1.0f;\r\n    \r\n    private Uri imageUri;\r\n    private float lastX, lastY;\r\n    private String TAG =&quot;CropImage Activity&quot;;\r\n    private ActivityResultLauncher&lt;Intent&gt; selectImageLauncher;\r\n    private TextView backButton;\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_crop_image);\r\n        imageView = findViewById(R.id.crop_image_image_view);\r\n        saveButton = findViewById(R.id.crop_image_save_button);\r\n        backButton = findViewById(R.id.crop_image_select_button);\r\n        scaleGestureDetector = new ScaleGestureDetector(this, new ScaleListener());\r\n        imageView.setScaleType(ImageView.ScaleType.MATRIX);\r\n        selectImageLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt;{\r\n    \r\n            try {\r\n                assert result.getData() != null;\r\n                Log.d(TAG, result.toString());\r\n                imageUri = result.getData().getData();\r\n                Picasso.get().load(imageUri).into(imageView);\r\n            }catch (Exception e){\r\n    \r\n                Log.d(TAG, Objects.requireNonNull(e.getMessage()));\r\n    \r\n            }\r\n    \r\n        });\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;image/*&quot;);\r\n        selectImageLauncher.launch(intent);\r\n    \r\n        backButton.setOnClickListener(view-&gt;{\r\n    \r\n            Intent intentAgaim = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intentAgaim.setType(&quot;image/*&quot;);\r\n            selectImageLauncher.launch(intentAgaim);\r\n    \r\n        });\r\n    \r\n        imageView.setOnTouchListener((v, event) -&gt; {\r\n            scaleGestureDetector.onTouchEvent(event);\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    lastX = event.getX();\r\n                    lastY = event.getY();\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    float deltaX = event.getX() - lastX;\r\n                    float deltaY = event.getY() - lastY;\r\n    \r\n                    // Get the current matrix of the ImageView\r\n                    matrix.set(imageView.getImageMatrix());\r\n    \r\n                    // Translate the matrix by the change in X and Y\r\n                    Log.d(TAG, &quot;deltX = &quot;+deltaX+&quot; deltaY = &quot;+deltaY);\r\n                    matrix.postTranslate(deltaX, deltaY);\r\n    \r\n                    // Apply the new matrix to the ImageView\r\n                    imageView.setImageMatrix(matrix);\r\n                    imageView.invalidate();\r\n    \r\n                    // Update the last touch coordinates\r\n                    lastX = event.getX();\r\n                    lastY = event.getY();\r\n                    break;\r\n            }\r\n    \r\n            return true;\r\n        });\r\n    \r\n        saveButton.setOnClickListener(view -&gt;{\r\n    \r\n            if (cropImage() == null){\r\n    \r\n                Toast.makeText(this, &quot;cropping failed&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }else {\r\n    \r\n                Intent resultIntent = new Intent();\r\n                resultIntent.putExtra(&quot;cropped_image&quot;, cropImage());\r\n                setResult(RESULT_OK, resultIntent);\r\n                finish();\r\n    \r\n            }\r\n    \r\n        });\r\n    \r\n    \r\n    }\r\n    \r\n    private Uri cropImage() {\r\n        RectF visibleRect = new RectF();\r\n        Matrix imageMatrix = imageView.getImageMatrix();\r\n        imageMatrix.mapRect(visibleRect);\r\n        Bitmap croppedBitmap;\r\n        Drawable drawable = imageView.getDrawable();\r\n        if (drawable != null) {\r\n            int imageWidth = drawable.getIntrinsicWidth();\r\n            int imageHeight = drawable.getIntrinsicHeight();\r\n    \r\n            float[] matrixValues = new float[9];\r\n            imageMatrix.getValues(matrixValues);\r\n            float imageX = matrixValues[Matrix.MTRANS_X];\r\n            float imageY = matrixValues[Matrix.MTRANS_Y];\r\n    \r\n            // Calculate the adjusted cropping area\r\n            float left = Math.max(0, -visibleRect.left / matrixValues[Matrix.MSCALE_X] - imageX);\r\n            float top = Math.max(0, -visibleRect.top / matrixValues[Matrix.MSCALE_Y] - imageY);\r\n            float right = Math.min(imageWidth, (imageWidth - visibleRect.left) / matrixValues[Matrix.MSCALE_X] - imageX);\r\n            float bottom = Math.min(imageHeight, (imageHeight - visibleRect.top) / matrixValues[Matrix.MSCALE_Y] - imageY);\r\n    \r\n            int width = (int) (right - left);\r\n            int height = (int) (bottom - top);\r\n    \r\n            Bitmap sourceBitmap = ((BitmapDrawable) drawable).getBitmap();\r\n            if (left &gt;= 0 &amp;&amp; top &gt;= 0 &amp;&amp; width &gt; 0 &amp;&amp; height &gt; 0) {\r\n                try {\r\n                    // Create a cropped bitmap from the source bitmap using the calculated area\r\n                    croppedBitmap = Bitmap.createBitmap(sourceBitmap, (int) left, (int) top, width, height);\r\n    \r\n                    // Check if the croppedBitmap is not null before attempting to compress it\r\n                    if (croppedBitmap != null) {\r\n                        // Create a temporary file to save the cropped bitmap\r\n                        File tempFile = createTempImageFile(this);\r\n    \r\n                        if (tempFile != null) {\r\n                            try {\r\n                                // Write the cropped bitmap to the file\r\n                                FileOutputStream fos = new FileOutputStream(tempFile);\r\n                                croppedBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                                fos.close();\r\n    \r\n                                // Create a Uri from the temporary file\r\n                                Uri croppedImageUri = Uri.fromFile(tempFile);\r\n                                return croppedImageUri;\r\n    \r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                                return null;\r\n                            }\r\n                        } else {\r\n                            Log.d(TAG, &quot;croppedBitmap is = null&quot;);\r\n                            return null;\r\n                        }\r\n                    } else {\r\n                        Log.d(TAG, &quot;croppedBitmap is = null&quot;);\r\n                        return null;\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return null;\r\n                }\r\n            } else {\r\n                Log.d(TAG, &quot;if(left &gt;= 0 &amp;&amp; top &gt;= 0 &amp;&amp; width &gt; 0 &amp;&amp; height &gt; 0) failed&quot;);\r\n                Log.d(TAG, &quot;left = &quot; + left);\r\n                Log.d(TAG, &quot;top = &quot; + top);\r\n                Log.d(TAG, &quot;right = &quot; + right);\r\n                Log.d(TAG, &quot;bottom = &quot; + bottom);\r\n                Log.d(TAG, &quot;width = &quot; + width);\r\n                Log.d(TAG, &quot;height = &quot; + height);\r\n                Toast.makeText(this, &quot;Invalid cropping area&quot;, Toast.LENGTH_SHORT).show();\r\n                return null;\r\n            }\r\n        } else {\r\n            Log.d(TAG, &quot;drawable equals null&quot;);\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    public class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {\r\n        private float scaleFactor = 1.0f;\r\n    \r\n        @Override\r\n        public boolean onScale(ScaleGestureDetector detector) {\r\n            scaleFactor *= detector.getScaleFactor();\r\n            scaleFactor = Math.max(1.0f, Math.min(scaleFactor, 3.0f));\r\n    \r\n            // Adjust the matrix to apply zoom\r\n            matrix.setScale(scaleFactor, scaleFactor, detector.getFocusX(), detector.getFocusY());\r\n            imageView.setImageMatrix(matrix);\r\n    \r\n            return true;\r\n        }\r\n    }\r\n    \r\n    \r\n    private File createTempImageFile(Context context) {\r\n        try {\r\n            // Create a temporary file in the app&#39;s cache directory\r\n            File cacheDir = context.getCacheDir();\r\n            File tempFile = File.createTempFile(&quot;temp_image&quot;, &quot;.png&quot;, cacheDir);\r\n            return tempFile;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\n`// Calculate the adjusted cropping area within the image boundaries float left = Math.max(0, visibleRect.left / scaleFactor); float top = Math.max(0, visibleRect.top / scaleFactor); float right = Math.min(imageWidth, (imageWidth - visibleRect.left) / scaleFactor); float bottom = Math.min(imageHeight, (imageHeight - visibleRect.top) / scaleFactor); `\r\n\r\nThis resulted in i same values, so width and height became zero.","title":"building a custom crop image activity","body":"<p>i have been encoutering errors in getting acurate values of the area that needs to be cropped.the cropped image is usually too much to the left and bottom. .It even shows negative width and height if you zoom too much.</p>\n<p>example of when <code>if(left \\&gt;= 0 &amp;&amp; top \\&gt;= 0 &amp;&amp; width \\&gt; 0 &amp;&amp; height \\&gt; 0)</code> is false:</p>\n<pre><code>left = 2303.7014  \ntop = 1823.5114  \nright = 1080.0 \n bottom = 1080.0  \nwidth = -1223 \n height = -743\n</code></pre>\n<pre><code>import androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Matrix;\nimport android.graphics.RectF;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.ScaleGestureDetector;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.squareup.picasso.Picasso;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class CropImageActivity extends AppCompatActivity {\n\n    private ImageView imageView;\n    private ScaleGestureDetector scaleGestureDetector;\n    private Matrix matrix = new Matrix();\n    private TextView saveButton;\n    private float scaleFactor = 1.0f;\n    \n    private Uri imageUri;\n    private float lastX, lastY;\n    private String TAG =&quot;CropImage Activity&quot;;\n    private ActivityResultLauncher&lt;Intent&gt; selectImageLauncher;\n    private TextView backButton;\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_crop_image);\n        imageView = findViewById(R.id.crop_image_image_view);\n        saveButton = findViewById(R.id.crop_image_save_button);\n        backButton = findViewById(R.id.crop_image_select_button);\n        scaleGestureDetector = new ScaleGestureDetector(this, new ScaleListener());\n        imageView.setScaleType(ImageView.ScaleType.MATRIX);\n        selectImageLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt;{\n    \n            try {\n                assert result.getData() != null;\n                Log.d(TAG, result.toString());\n                imageUri = result.getData().getData();\n                Picasso.get().load(imageUri).into(imageView);\n            }catch (Exception e){\n    \n                Log.d(TAG, Objects.requireNonNull(e.getMessage()));\n    \n            }\n    \n        });\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;image/*&quot;);\n        selectImageLauncher.launch(intent);\n    \n        backButton.setOnClickListener(view-&gt;{\n    \n            Intent intentAgaim = new Intent(Intent.ACTION_GET_CONTENT);\n            intentAgaim.setType(&quot;image/*&quot;);\n            selectImageLauncher.launch(intentAgaim);\n    \n        });\n    \n        imageView.setOnTouchListener((v, event) -&gt; {\n            scaleGestureDetector.onTouchEvent(event);\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    lastX = event.getX();\n                    lastY = event.getY();\n                    break;\n                case MotionEvent.ACTION_MOVE:\n                    float deltaX = event.getX() - lastX;\n                    float deltaY = event.getY() - lastY;\n    \n                    // Get the current matrix of the ImageView\n                    matrix.set(imageView.getImageMatrix());\n    \n                    // Translate the matrix by the change in X and Y\n                    Log.d(TAG, &quot;deltX = &quot;+deltaX+&quot; deltaY = &quot;+deltaY);\n                    matrix.postTranslate(deltaX, deltaY);\n    \n                    // Apply the new matrix to the ImageView\n                    imageView.setImageMatrix(matrix);\n                    imageView.invalidate();\n    \n                    // Update the last touch coordinates\n                    lastX = event.getX();\n                    lastY = event.getY();\n                    break;\n            }\n    \n            return true;\n        });\n    \n        saveButton.setOnClickListener(view -&gt;{\n    \n            if (cropImage() == null){\n    \n                Toast.makeText(this, &quot;cropping failed&quot;, Toast.LENGTH_SHORT).show();\n    \n            }else {\n    \n                Intent resultIntent = new Intent();\n                resultIntent.putExtra(&quot;cropped_image&quot;, cropImage());\n                setResult(RESULT_OK, resultIntent);\n                finish();\n    \n            }\n    \n        });\n    \n    \n    }\n    \n    private Uri cropImage() {\n        RectF visibleRect = new RectF();\n        Matrix imageMatrix = imageView.getImageMatrix();\n        imageMatrix.mapRect(visibleRect);\n        Bitmap croppedBitmap;\n        Drawable drawable = imageView.getDrawable();\n        if (drawable != null) {\n            int imageWidth = drawable.getIntrinsicWidth();\n            int imageHeight = drawable.getIntrinsicHeight();\n    \n            float[] matrixValues = new float[9];\n            imageMatrix.getValues(matrixValues);\n            float imageX = matrixValues[Matrix.MTRANS_X];\n            float imageY = matrixValues[Matrix.MTRANS_Y];\n    \n            // Calculate the adjusted cropping area\n            float left = Math.max(0, -visibleRect.left / matrixValues[Matrix.MSCALE_X] - imageX);\n            float top = Math.max(0, -visibleRect.top / matrixValues[Matrix.MSCALE_Y] - imageY);\n            float right = Math.min(imageWidth, (imageWidth - visibleRect.left) / matrixValues[Matrix.MSCALE_X] - imageX);\n            float bottom = Math.min(imageHeight, (imageHeight - visibleRect.top) / matrixValues[Matrix.MSCALE_Y] - imageY);\n    \n            int width = (int) (right - left);\n            int height = (int) (bottom - top);\n    \n            Bitmap sourceBitmap = ((BitmapDrawable) drawable).getBitmap();\n            if (left &gt;= 0 &amp;&amp; top &gt;= 0 &amp;&amp; width &gt; 0 &amp;&amp; height &gt; 0) {\n                try {\n                    // Create a cropped bitmap from the source bitmap using the calculated area\n                    croppedBitmap = Bitmap.createBitmap(sourceBitmap, (int) left, (int) top, width, height);\n    \n                    // Check if the croppedBitmap is not null before attempting to compress it\n                    if (croppedBitmap != null) {\n                        // Create a temporary file to save the cropped bitmap\n                        File tempFile = createTempImageFile(this);\n    \n                        if (tempFile != null) {\n                            try {\n                                // Write the cropped bitmap to the file\n                                FileOutputStream fos = new FileOutputStream(tempFile);\n                                croppedBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n                                fos.close();\n    \n                                // Create a Uri from the temporary file\n                                Uri croppedImageUri = Uri.fromFile(tempFile);\n                                return croppedImageUri;\n    \n                            } catch (IOException e) {\n                                e.printStackTrace();\n                                return null;\n                            }\n                        } else {\n                            Log.d(TAG, &quot;croppedBitmap is = null&quot;);\n                            return null;\n                        }\n                    } else {\n                        Log.d(TAG, &quot;croppedBitmap is = null&quot;);\n                        return null;\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    return null;\n                }\n            } else {\n                Log.d(TAG, &quot;if(left &gt;= 0 &amp;&amp; top &gt;= 0 &amp;&amp; width &gt; 0 &amp;&amp; height &gt; 0) failed&quot;);\n                Log.d(TAG, &quot;left = &quot; + left);\n                Log.d(TAG, &quot;top = &quot; + top);\n                Log.d(TAG, &quot;right = &quot; + right);\n                Log.d(TAG, &quot;bottom = &quot; + bottom);\n                Log.d(TAG, &quot;width = &quot; + width);\n                Log.d(TAG, &quot;height = &quot; + height);\n                Toast.makeText(this, &quot;Invalid cropping area&quot;, Toast.LENGTH_SHORT).show();\n                return null;\n            }\n        } else {\n            Log.d(TAG, &quot;drawable equals null&quot;);\n            return null;\n        }\n    }\n    \n    \n    \n    public class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {\n        private float scaleFactor = 1.0f;\n    \n        @Override\n        public boolean onScale(ScaleGestureDetector detector) {\n            scaleFactor *= detector.getScaleFactor();\n            scaleFactor = Math.max(1.0f, Math.min(scaleFactor, 3.0f));\n    \n            // Adjust the matrix to apply zoom\n            matrix.setScale(scaleFactor, scaleFactor, detector.getFocusX(), detector.getFocusY());\n            imageView.setImageMatrix(matrix);\n    \n            return true;\n        }\n    }\n    \n    \n    private File createTempImageFile(Context context) {\n        try {\n            // Create a temporary file in the app's cache directory\n            File cacheDir = context.getCacheDir();\n            File tempFile = File.createTempFile(&quot;temp_image&quot;, &quot;.png&quot;, cacheDir);\n            return tempFile;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    \n        return null;\n    }\n\n}\n</code></pre>\n<p><code>// Calculate the adjusted cropping area within the image boundaries float left = Math.max(0, visibleRect.left / scaleFactor); float top = Math.max(0, visibleRect.top / scaleFactor); float right = Math.min(imageWidth, (imageWidth - visibleRect.left) / scaleFactor); float bottom = Math.min(imageHeight, (imageHeight - visibleRect.top) / scaleFactor); </code></p>\n<p>This resulted in i same values, so width and height became zero.</p>\n"},{"tags":["java","angular","spring-boot","angular-ui-bootstrap"],"answers":[{"tags":[],"owner":{"account_id":4463542,"reputation":2889,"user_id":3631743,"accept_rate":81,"display_name":"BSeitkazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532026301,"creation_date":1532026301,"answer_id":51429937,"question_id":41461336,"body_markdown":"In your Controller declaration just delete `produces`, and `HttpServletRequest request`. The simple example of Controller would look like:\r\n\r\n    @RequestMapping(value = &quot;/export&quot;, method = RequestMethod.POST)\r\n\tpublic void export(HttpServletResponse response) {\r\n\t\tList&lt;Person&gt; persons = personRepository.findAll();\r\n\t\tList&lt;String&gt; headers = Arrays.asList(&quot;First Name&quot;, &quot;Last Name&quot;);\r\n\t\ttry {\r\n\t\t\tresponse.addHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=People.xlsx&quot;);\r\n\t\t\tresponse.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n\t\t\tnew SimpleExporter().gridExport(headers, persons, &quot;firstName, lastName, &quot;, response.getOutputStream());\r\n\t\t\tresponse.flushBuffer();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.warn(e.getMessage(), e);\r\n\t\t}\r\n\t}","title":"How to export a excel file in Spring boot using Angular 2?","body":"<p>In your Controller declaration just delete <code>produces</code>, and <code>HttpServletRequest request</code>. The simple example of Controller would look like:</p>\n\n<pre><code>@RequestMapping(value = \"/export\", method = RequestMethod.POST)\npublic void export(HttpServletResponse response) {\n    List&lt;Person&gt; persons = personRepository.findAll();\n    List&lt;String&gt; headers = Arrays.asList(\"First Name\", \"Last Name\");\n    try {\n        response.addHeader(\"Content-disposition\", \"attachment; filename=People.xlsx\");\n        response.setContentType(\"application/vnd.ms-excel\");\n        new SimpleExporter().gridExport(headers, persons, \"firstName, lastName, \", response.getOutputStream());\n        response.flushBuffer();\n    } catch (IOException e) {\n        log.warn(e.getMessage(), e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1947911,"reputation":939,"user_id":1752650,"accept_rate":87,"display_name":"Teekam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697861065,"creation_date":1483525040,"question_id":41461336,"body_markdown":"In my project i need to export Customer data in a excel file. I am using table structure using Hybernate build.\r\n\r\nmy controller is as:\r\n\r\n     @RequestMapping(value=&quot;exporttoexcel&quot;, method= RequestMethod.GET, produces={ MediaType.APPLICATION_JSON_VALUE })\r\n        public void  getMyData(HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n            List&lt;Course&gt; listCourses = new ArrayList&lt;Course&gt;();\r\n            listCourses.add(new Course(1, &quot;Polarfrosch100&quot;, new Date()));\r\n            listCourses.add(new Course(2, &quot;Polarfrosch101&quot;, new Date()));\r\n            listCourses.add(new Course(3, &quot;Polarfrosch102&quot;, new Date()));\r\n            HashMap&lt;String, Object&gt; model = new HashMap&lt;&gt;();\r\n            model.put(&quot;courses&quot;, listCourses);\r\n            new ExcelUtilsHelper().renderMergedOutputModel(model, request, response);\r\n        }\r\n\r\nMy Helper file is as:\r\n\r\n    public class ExcelUtilsHelper {\r\n    \r\n    \r\n        private static final DateFormat DATE_FORMAT = DateFormat.getDateInstance(DateFormat.SHORT);\r\n    \r\n        private String contentType;\r\n    \r\n        public ExcelUtilsHelper() {\r\n            this.setContentType(&quot;application/vnd.ms-excel&quot;);\r\n        }\r\n    \r\n        public final void renderMergedOutputModel(Map&lt;String, Object&gt; model, HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n            Workbook workbook = this.createWorkbook(model, request);\r\n            this.buildExcelDocument(model, workbook, request, response);\r\n            response.setContentType(this.getContentType());\r\n            this.renderWorkbook(workbook, response);\r\n        }\r\n    \r\n        protected Workbook createWorkbook(Map&lt;String, Object&gt; model, HttpServletRequest request) {\r\n            return new HSSFWorkbook();\r\n        }\r\n    \r\n        protected void renderWorkbook(Workbook workbook, HttpServletResponse response) throws IOException {\r\n            ServletOutputStream out = response.getOutputStream();\r\n            workbook.write(out);\r\n        }\r\n    \r\n        public void setContentType(String contentType) {\r\n            this.contentType = contentType;\r\n        }\r\n    \r\n        public String getContentType() {\r\n            return contentType;\r\n        }\r\n    \r\n        protected void buildExcelDocument(Map&lt;String, Object&gt; model,\r\n                                          Workbook workbook,\r\n                                          HttpServletRequest request,\r\n                                          HttpServletResponse response) throws Exception {\r\n    \r\n            // change the file name\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;my-xls-file.xls\\&quot;&quot;);\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            List&lt;Course&gt; courses = (List&lt;Course&gt;) model.get(&quot;courses&quot;);\r\n    \r\n            // create excel xls sheet\r\n            Sheet sheet = workbook.createSheet(&quot;Spring MVC AbstractXlsView&quot;);\r\n    \r\n            // create header row\r\n            Row header = sheet.createRow(0);\r\n            header.createCell(0).setCellValue(&quot;ID&quot;);\r\n            header.createCell(1).setCellValue(&quot;Name&quot;);\r\n            header.createCell(2).setCellValue(&quot;Date&quot;);\r\n    \r\n            // Create data cells\r\n            int rowCount = 1;\r\n            for (Course course : courses){\r\n                Row courseRow = sheet.createRow(rowCount++);\r\n                courseRow.createCell(0).setCellValue(course.getId());\r\n                courseRow.createCell(1).setCellValue(course.getName());\r\n                courseRow.createCell(2).setCellValue(DATE_FORMAT.format(course.getDate()));\r\n            }\r\n        }\r\n    }\r\n\r\nAnd Cource is as:\r\n\r\n    public class Course {\r\n        int Id;\r\n        String Name;\r\n        Date Date;\r\n    // Getter and setter \r\n    }\r\n\r\nMy list on UI part is as:\r\n\r\n    &lt;div class=&quot;panel-heading&quot;&gt;\r\n        &lt;h6 class=&quot;panel-title&quot;&gt;All Customers&lt;/h6&gt;\r\n        &lt;button (click)=&quot;addCustomer()&quot; class=&quot;btn btn-xs  bg-primary&quot; title=&quot;Add&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n        &lt;button (click)=&quot;exportToExcel()&quot; class=&quot;btn btn-xs  bg-danger&quot; title=&quot;Add&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\nin service code is as:\r\n\r\n      exportToExcel(){\r\n        console.log(&quot;in exportToExcel&quot;);\r\n        this.customerService.getCustomersExcelData().subscribe(result =&gt; {\r\n            console.log(&quot;DataResult&quot;);\r\n            console.log(result)\r\n          },\r\n          error =&gt; {\r\n            console.log(error);\r\n          });\r\n      }\r\n\r\nand\r\n\r\n      getCustomersExcelData(){\r\n        return this.http.get(ApiConfig.apiRoot+ApiConfig.excelDataCustomer)\r\n          .map((response: Response) =&gt; {\r\n            this.downloadFile(response),\r\n              error =&gt; console.log(&quot;Error downloading the file.&quot;),\r\n              () =&gt; console.info(&quot;OK&quot;);\r\n          }).catch(this.commonMethods.handleError);\r\n      }\r\n\r\nwhen i run this it gives below out put:\r\n\r\n    Response with status: 200 OK for URL: http://localhost:9966/api/customer/exporttoexcel\r\n\r\nProblem is, i am unable to export the given data in excel format.  \r\n","title":"How to export a excel file in Spring boot using Angular 2?","body":"<p>In my project i need to export Customer data in a excel file. I am using table structure using Hybernate build.</p>\n\n<p>my controller is as:</p>\n\n<pre><code> @RequestMapping(value=\"exporttoexcel\", method= RequestMethod.GET, produces={ MediaType.APPLICATION_JSON_VALUE })\n    public void  getMyData(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        List&lt;Course&gt; listCourses = new ArrayList&lt;Course&gt;();\n        listCourses.add(new Course(1, \"Polarfrosch100\", new Date()));\n        listCourses.add(new Course(2, \"Polarfrosch101\", new Date()));\n        listCourses.add(new Course(3, \"Polarfrosch102\", new Date()));\n        HashMap&lt;String, Object&gt; model = new HashMap&lt;&gt;();\n        model.put(\"courses\", listCourses);\n        new ExcelUtilsHelper().renderMergedOutputModel(model, request, response);\n    }\n</code></pre>\n\n<p>My Helper file is as:</p>\n\n<pre><code>public class ExcelUtilsHelper {\n\n\n    private static final DateFormat DATE_FORMAT = DateFormat.getDateInstance(DateFormat.SHORT);\n\n    private String contentType;\n\n    public ExcelUtilsHelper() {\n        this.setContentType(\"application/vnd.ms-excel\");\n    }\n\n    public final void renderMergedOutputModel(Map&lt;String, Object&gt; model, HttpServletRequest request, HttpServletResponse response) throws Exception {\n        Workbook workbook = this.createWorkbook(model, request);\n        this.buildExcelDocument(model, workbook, request, response);\n        response.setContentType(this.getContentType());\n        this.renderWorkbook(workbook, response);\n    }\n\n    protected Workbook createWorkbook(Map&lt;String, Object&gt; model, HttpServletRequest request) {\n        return new HSSFWorkbook();\n    }\n\n    protected void renderWorkbook(Workbook workbook, HttpServletResponse response) throws IOException {\n        ServletOutputStream out = response.getOutputStream();\n        workbook.write(out);\n    }\n\n    public void setContentType(String contentType) {\n        this.contentType = contentType;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    protected void buildExcelDocument(Map&lt;String, Object&gt; model,\n                                      Workbook workbook,\n                                      HttpServletRequest request,\n                                      HttpServletResponse response) throws Exception {\n\n        // change the file name\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"my-xls-file.xls\\\"\");\n\n        @SuppressWarnings(\"unchecked\")\n        List&lt;Course&gt; courses = (List&lt;Course&gt;) model.get(\"courses\");\n\n        // create excel xls sheet\n        Sheet sheet = workbook.createSheet(\"Spring MVC AbstractXlsView\");\n\n        // create header row\n        Row header = sheet.createRow(0);\n        header.createCell(0).setCellValue(\"ID\");\n        header.createCell(1).setCellValue(\"Name\");\n        header.createCell(2).setCellValue(\"Date\");\n\n        // Create data cells\n        int rowCount = 1;\n        for (Course course : courses){\n            Row courseRow = sheet.createRow(rowCount++);\n            courseRow.createCell(0).setCellValue(course.getId());\n            courseRow.createCell(1).setCellValue(course.getName());\n            courseRow.createCell(2).setCellValue(DATE_FORMAT.format(course.getDate()));\n        }\n    }\n}\n</code></pre>\n\n<p>And Cource is as:</p>\n\n<pre><code>public class Course {\n    int Id;\n    String Name;\n    Date Date;\n// Getter and setter \n}\n</code></pre>\n\n<p>My list on UI part is as:</p>\n\n<pre><code>&lt;div class=\"panel-heading\"&gt;\n    &lt;h6 class=\"panel-title\"&gt;All Customers&lt;/h6&gt;\n    &lt;button (click)=\"addCustomer()\" class=\"btn btn-xs  bg-primary\" title=\"Add\"&gt;&lt;i class=\"glyphicon glyphicon-edit\"&gt;&lt;/i&gt;&lt;/button&gt;\n    &lt;button (click)=\"exportToExcel()\" class=\"btn btn-xs  bg-danger\" title=\"Add\"&gt;&lt;i class=\"glyphicon glyphicon-edit\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>in service code is as:</p>\n\n<pre><code>  exportToExcel(){\n    console.log(\"in exportToExcel\");\n    this.customerService.getCustomersExcelData().subscribe(result =&gt; {\n        console.log(\"DataResult\");\n        console.log(result)\n      },\n      error =&gt; {\n        console.log(error);\n      });\n  }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>  getCustomersExcelData(){\n    return this.http.get(ApiConfig.apiRoot+ApiConfig.excelDataCustomer)\n      .map((response: Response) =&gt; {\n        this.downloadFile(response),\n          error =&gt; console.log(\"Error downloading the file.\"),\n          () =&gt; console.info(\"OK\");\n      }).catch(this.commonMethods.handleError);\n  }\n</code></pre>\n\n<p>when i run this it gives below out put:</p>\n\n<pre><code>Response with status: 200 OK for URL: http://localhost:9966/api/customer/exporttoexcel\n</code></pre>\n\n<p>Problem is, i am unable to export the given data in excel format.  </p>\n"},{"tags":["java","arduino","serial-port","processing"],"answers":[{"comments":[{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1697827699,"post_id":77333046,"comment_id":136333235,"body_markdown":"I may have not understood your question correctly.  It appears that you may want the reverse of this demo, ie sending an array from Processing to an arduino.  Is this correct?","body":"I may have not understood your question correctly.  It appears that you may want the reverse of this demo, ie sending an array from Processing to an arduino.  Is this correct?"},{"owner":{"account_id":29445173,"reputation":3,"user_id":22775725,"display_name":"Bradbut"},"score":0,"creation_date":1697838503,"post_id":77333046,"comment_id":136334610,"body_markdown":"That is correct yes! Thank you for the current code but I am indeed trying to send an array from Processing to an Arduino, I apologize for the bad formatting on my question","body":"That is correct yes! Thank you for the current code but I am indeed trying to send an array from Processing to an Arduino, I apologize for the bad formatting on my question"},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1697840858,"post_id":77333046,"comment_id":136334886,"body_markdown":"See edited answer.","body":"See edited answer."},{"owner":{"account_id":29445173,"reputation":3,"user_id":22775725,"display_name":"Bradbut"},"score":0,"creation_date":1697841758,"post_id":77333046,"comment_id":136334984,"body_markdown":"Your code looks incredible and is working well on the processing side of things, processings console is displaying                                                                  =============\n[0] 1\n[1] 0\n[2] 0\n[3] 0\n=============                                                                                                          and that first value changes as I move the trigger. I do still have an issue on my receiving side but I think its just how I&#39;m sending it, will work on it, thank you!","body":"Your code looks incredible and is working well on the processing side of things, processings console is displaying                                                                  ============= [0] 1 [1] 0 [2] 0 [3] 0 =============                                                                                                          and that first value changes as I move the trigger. I do still have an issue on my receiving side but I think its just how I&#39;m sending it, will work on it, thank you!"},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1697858971,"post_id":77333046,"comment_id":136335893,"body_markdown":"See edited answer for alternate Processing solution with accompanying Arduino code. Original answer edited to convert array integer to string before writing to Arduino.","body":"See edited answer for alternate Processing solution with accompanying Arduino code. Original answer edited to convert array integer to string before writing to Arduino."}],"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697858722,"creation_date":1697826114,"answer_id":77333046,"question_id":77332498,"body_markdown":"The following source code will send a string of random state values from an integer array in Processing to Arduino as comma separated values; the end of the string is terminated by a line feed.\r\n*Addendum:* Original answer edited to convert array integer to a string prior to writing to Arduino, ie str(myState[i]).\r\n\r\n**Processing code:**\r\n```\r\nimport processing.serial.*;\r\n\r\nint[] myState = new int[4];\r\nSerial myPort;\r\n\r\nvoid setup() {\r\n  // Output is in console\r\n  surface.setVisible(false);\r\n  printArray(Serial.list());\r\n // Set port number for your system\r\n  myPort = new Serial(this, Serial.list()[3], 9600);\r\n}\r\n\r\nvoid draw() {\r\n  if (frameCount % 60 == 0) {\r\n    myState[0] = int(random(4));\r\n    myState[1] = int(random(4));\r\n    myState[2] = int(random(4));\r\n    myState[3] = int(random(4));\r\n    for (int i = 0; i &lt; myState.length-1; i++) {\r\n      myPort.write(str(myState[i]));\r\n      myPort.write(&#39;,&#39;);\r\n    }\r\n    myPort.write(str(myState[3]) + &#39;\\n&#39;);\r\n    printArray(myState);\r\n    println(&quot;=============&quot;);\r\n  }\r\n   \r\n}\r\n```\r\n**Alternate Solution:**\r\nFollowing source code uses an alternate method of sending array string.  It works well with Arduino code which follows.  An LED was added to the project to demonstrate that array really is being used on the Arduino side since we can&#39;t use Serial Monitor (port is tied up by Processing).  You can delete the LED code if you don&#39;t want to use it.\r\n```\r\nimport processing.serial.*;\r\n\r\nint[] myState = new int[4];\r\nSerial myPort;\r\nString inStr;\r\nString outStr;\r\nint x1, x2, x3, x4;\r\nvoid setup() {\r\n  // Output is in console\r\n  surface.setVisible(false);\r\n  printArray(Serial.list());\r\n  // Set port number for your system\r\n  myPort = new Serial(this, Serial.list()[3], 9600);\r\n}\r\n\r\nvoid draw() {\r\n  if (frameCount % 60 == 0) {\r\n    myState[0] = int(random(4));\r\n    myState[1] = int(random(4));\r\n    myState[2] = int(random(4));\r\n    myState[3] = int(random(4));\r\n    outStr = str(myState[0]) + &quot;,&quot; + str(myState[1]) + &quot;,&quot; + str(myState[2]) + &quot;,&quot; + str(myState[3]) + &quot;\\n&quot;;\r\n    myPort.write(outStr);\r\n    printArray(myState);\r\n    println(&quot;=============&quot;);\r\n  }   \r\n}\r\n\r\nvoid serialEvent(Serial p) {\r\n  inStr = p.readStringUntil(&#39;\\n&#39;);\r\n  if (inStr != null) {\r\n    String trimStr = trim(inStr);\r\n    println(&quot;receivedBack : &quot; + trimStr);   \r\n}\r\n}\r\n\r\n```\r\n**Arduino Code:**\r\n```\r\nconst int LED = 12;\r\n\r\nint myState[4];\r\n\r\nString inStr;\r\n\r\nvoid setup() {\r\n  Serial.begin(9600);\r\n  pinMode(LED, OUTPUT);\r\n}\r\n\r\nvoid loop() {\r\n  if (Serial.available() &gt; 0) {\r\n    inStr = Serial.readStringUntil(&#39;\\n&#39;);\r\n    myState[0] = Serial.parseInt(); \r\n    Serial.println(&quot;state[0]&quot;); \r\n    myState[1] = Serial.parseInt();\r\n    Serial.println(&quot;state[1]&quot;); \r\n    myState[2] = Serial.parseInt(); \r\n    Serial.println(&quot;state[2]&quot;);\r\n    myState[3] = Serial.parseInt();\r\n    Serial.println(&quot;state[3]&quot;);\r\n  }\r\n  \r\n  if(myState[3] == 2){\r\n    digitalWrite(LED, HIGH); \r\n    delay(2000);\r\n  } else {\r\n    digitalWrite(LED, LOW);\r\n    delay(2000);\r\n  }\r\n  }\r\n\r\n```\r\n","title":"How to modify arrays in Processing and send them from serial to Arduino?","body":"<p>The following source code will send a string of random state values from an integer array in Processing to Arduino as comma separated values; the end of the string is terminated by a line feed.\n<em>Addendum:</em> Original answer edited to convert array integer to a string prior to writing to Arduino, ie str(myState[i]).</p>\n<p><strong>Processing code:</strong></p>\n<pre><code>import processing.serial.*;\n\nint[] myState = new int[4];\nSerial myPort;\n\nvoid setup() {\n  // Output is in console\n  surface.setVisible(false);\n  printArray(Serial.list());\n // Set port number for your system\n  myPort = new Serial(this, Serial.list()[3], 9600);\n}\n\nvoid draw() {\n  if (frameCount % 60 == 0) {\n    myState[0] = int(random(4));\n    myState[1] = int(random(4));\n    myState[2] = int(random(4));\n    myState[3] = int(random(4));\n    for (int i = 0; i &lt; myState.length-1; i++) {\n      myPort.write(str(myState[i]));\n      myPort.write(',');\n    }\n    myPort.write(str(myState[3]) + '\\n');\n    printArray(myState);\n    println(&quot;=============&quot;);\n  }\n   \n}\n</code></pre>\n<p><strong>Alternate Solution:</strong>\nFollowing source code uses an alternate method of sending array string.  It works well with Arduino code which follows.  An LED was added to the project to demonstrate that array really is being used on the Arduino side since we can't use Serial Monitor (port is tied up by Processing).  You can delete the LED code if you don't want to use it.</p>\n<pre><code>import processing.serial.*;\n\nint[] myState = new int[4];\nSerial myPort;\nString inStr;\nString outStr;\nint x1, x2, x3, x4;\nvoid setup() {\n  // Output is in console\n  surface.setVisible(false);\n  printArray(Serial.list());\n  // Set port number for your system\n  myPort = new Serial(this, Serial.list()[3], 9600);\n}\n\nvoid draw() {\n  if (frameCount % 60 == 0) {\n    myState[0] = int(random(4));\n    myState[1] = int(random(4));\n    myState[2] = int(random(4));\n    myState[3] = int(random(4));\n    outStr = str(myState[0]) + &quot;,&quot; + str(myState[1]) + &quot;,&quot; + str(myState[2]) + &quot;,&quot; + str(myState[3]) + &quot;\\n&quot;;\n    myPort.write(outStr);\n    printArray(myState);\n    println(&quot;=============&quot;);\n  }   \n}\n\nvoid serialEvent(Serial p) {\n  inStr = p.readStringUntil('\\n');\n  if (inStr != null) {\n    String trimStr = trim(inStr);\n    println(&quot;receivedBack : &quot; + trimStr);   \n}\n}\n\n</code></pre>\n<p><strong>Arduino Code:</strong></p>\n<pre><code>const int LED = 12;\n\nint myState[4];\n\nString inStr;\n\nvoid setup() {\n  Serial.begin(9600);\n  pinMode(LED, OUTPUT);\n}\n\nvoid loop() {\n  if (Serial.available() &gt; 0) {\n    inStr = Serial.readStringUntil('\\n');\n    myState[0] = Serial.parseInt(); \n    Serial.println(&quot;state[0]&quot;); \n    myState[1] = Serial.parseInt();\n    Serial.println(&quot;state[1]&quot;); \n    myState[2] = Serial.parseInt(); \n    Serial.println(&quot;state[2]&quot;);\n    myState[3] = Serial.parseInt();\n    Serial.println(&quot;state[3]&quot;);\n  }\n  \n  if(myState[3] == 2){\n    digitalWrite(LED, HIGH); \n    delay(2000);\n  } else {\n    digitalWrite(LED, LOW);\n    delay(2000);\n  }\n  }\n\n</code></pre>\n"}],"owner":{"account_id":29445173,"reputation":3,"user_id":22775725,"display_name":"Bradbut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77333046,"answer_count":1,"score":0,"last_activity_date":1697858722,"creation_date":1697819491,"question_id":77332498,"body_markdown":"I have a code that currently takes values from a controller input in Processing, sends those values over serial to an Arduino Uno that sends those values over radio to another Arduino Uno. I am attempting to change format to send an array for better communication and this is my current failed attempt at that\r\n\r\nCurrent processing code\r\n\r\n     int status[] = {0, 0, 0, 0, 0}\r\n     void draw\r\n     if (thumblefty &gt; .2)\r\n     {\r\n     status[0]=3;\r\n     }\r\n     if (thumblefty &lt; -.2)\r\n     {\r\n     status[0]=0;\r\n     }\r\n     if (thumbleftx&gt;.2)\r\n     {\r\n     status[0]=1;\r\n     }\r\n     if (thumbleftx&lt;-.2)\r\n     {\r\n     status[1]=2;\r\n     }\r\n     //etc etc on the if statements\r\n     myPort.write(status);\r\n     }\r\nThis however produces an error line on the myPort.write that says The function write() expects parameters like: write(byte[]). I do not wish to send a byte, as I want to do more than 1&#39;s and 0&#39;s in this array. Even when I do modify the code to make it \r\n\r\n    byte status[]={0,0,0,0,0}\r\nI do not get the expected results on my receiving arduino\r\n\r\nTransmitter code (Arduino)\r\n\r\n    byte state[4];\r\n    void loop\r\n    state[4] = Serial.read();\r\n    radio.write(&amp;state, sizeof(state));\r\nReceiving code (Arduino)\r\n\r\n    byte state[4];\r\n    void loop\r\n    radio.read(&amp;state, sizeof(state));\r\n    Serial.println(state[4]);\r\nWhen the controller is in it&#39;s up position, I expect an output on the receiving serial of [3,0,0,0,0], but instead the serial port is full of random integers that have no change based on controller position and are not in a byte or array form\r\n\r\nI would like help configuring my processing code to send an array, and help figuring out how I can interpret that array over serial and sending over RF24. The end goal is to have the receiving Arduino be able to look at the values in each position of the array, say\r\n\r\n    if state[3]==2\r\n    {\r\n    motor 2 full power\r\n    }\r\nAnd be able to do that for all positions of the array, to have all possible inputs encoded in the array to be deciphered, but I first need my serial port to even receive the array itself\r\n\r\n\r\n\r\n","title":"How to modify arrays in Processing and send them from serial to Arduino?","body":"<p>I have a code that currently takes values from a controller input in Processing, sends those values over serial to an Arduino Uno that sends those values over radio to another Arduino Uno. I am attempting to change format to send an array for better communication and this is my current failed attempt at that</p>\n<p>Current processing code</p>\n<pre><code> int status[] = {0, 0, 0, 0, 0}\n void draw\n if (thumblefty &gt; .2)\n {\n status[0]=3;\n }\n if (thumblefty &lt; -.2)\n {\n status[0]=0;\n }\n if (thumbleftx&gt;.2)\n {\n status[0]=1;\n }\n if (thumbleftx&lt;-.2)\n {\n status[1]=2;\n }\n //etc etc on the if statements\n myPort.write(status);\n }\n</code></pre>\n<p>This however produces an error line on the myPort.write that says The function write() expects parameters like: write(byte[]). I do not wish to send a byte, as I want to do more than 1's and 0's in this array. Even when I do modify the code to make it</p>\n<pre><code>byte status[]={0,0,0,0,0}\n</code></pre>\n<p>I do not get the expected results on my receiving arduino</p>\n<p>Transmitter code (Arduino)</p>\n<pre><code>byte state[4];\nvoid loop\nstate[4] = Serial.read();\nradio.write(&amp;state, sizeof(state));\n</code></pre>\n<p>Receiving code (Arduino)</p>\n<pre><code>byte state[4];\nvoid loop\nradio.read(&amp;state, sizeof(state));\nSerial.println(state[4]);\n</code></pre>\n<p>When the controller is in it's up position, I expect an output on the receiving serial of [3,0,0,0,0], but instead the serial port is full of random integers that have no change based on controller position and are not in a byte or array form</p>\n<p>I would like help configuring my processing code to send an array, and help figuring out how I can interpret that array over serial and sending over RF24. The end goal is to have the receiving Arduino be able to look at the values in each position of the array, say</p>\n<pre><code>if state[3]==2\n{\nmotor 2 full power\n}\n</code></pre>\n<p>And be able to do that for all positions of the array, to have all possible inputs encoded in the array to be deciphered, but I first need my serial port to even receive the array itself</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697858310,"post_id":77334502,"comment_id":136335856,"body_markdown":"We can&#39;t answer this.  The assertion is failing because `TestsSupport.isCorrect` is returning `false`.  That is a method provided by your teacher.  We don&#39;t *know* what it does.  (Though I can guess.)  To fix this, you first need to find out what it does (e.g. look at its source code or specification) ... then work out why it returns `false`.","body":"We can&#39;t answer this.  The assertion is failing because <code>TestsSupport.isCorrect</code> is returning <code>false</code>.  That is a method provided by your teacher.  We don&#39;t <i>know</i> what it does.  (Though I can guess.)  To fix this, you first need to find out what it does (e.g. look at its source code or specification) ... then work out why it returns <code>false</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697858437,"post_id":77334502,"comment_id":136335866,"body_markdown":"My guess is that it (the `isCorrect` method) is comparing the `answer` string against the content of a file.  So you would need to look at the value in `answer` and in the file ... and work out where / why they are different.  *That* will most likely give you a clue as to what your actual error is.","body":"My guess is that it (the <code>isCorrect</code> method) is comparing the <code>answer</code> string against the content of a file.  So you would need to look at the value in <code>answer</code> and in the file ... and work out where / why they are different.  <i>That</i> will most likely give you a clue as to what your actual error is."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697858597,"post_id":77334502,"comment_id":136335874,"body_markdown":"In order to help you debug your code, I need to reproduce your problem - which I can&#39;t do based on the code in your question - and I very much doubt that anyone will be able to help you just by looking at the code that you did post. I suggest that you [edit] your question and post a [mcve]. Also, in order to reproduce your problem, do I have to use the same images as you, or can I use any image?","body":"In order to help you debug your code, I need to reproduce your problem - which I can&#39;t do based on the code in your question - and I very much doubt that anyone will be able to help you just by looking at the code that you did post. I suggest that you <a href=\"https://stackoverflow.com/posts/77334502/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, in order to reproduce your problem, do I have to use the same images as you, or can I use any image?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697858824,"post_id":77334502,"comment_id":136335886,"body_markdown":"Abra is correct ... but I doubt that a minrep is actually feasible in this case.  There is most likely too much code for an SO question. That is the basis for my suggested approach which is that you need to figure it out for yourself.","body":"Abra is correct ... but I doubt that a minrep is actually feasible in this case.  There is most likely too much code for an SO question. That is the basis for my suggested approach which is that you need to figure it out for yourself."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697859097,"post_id":77334502,"comment_id":136335900,"body_markdown":"But if you are simply trying to create a test case ... you could easily modify the one you have there to add a `System.out.println` (or whatever) to print out `answer`.  Or run the existing test in a debugger, set a breakpoint at the appropriate place, single step it, and look at the relevant variables.  (Once again this is advice on how &gt;you&lt; can find the solution!!)","body":"But if you are simply trying to create a test case ... you could easily modify the one you have there to add a <code>System.out.println</code> (or whatever) to print out <code>answer</code>.  Or run the existing test in a debugger, set a breakpoint at the appropriate place, single step it, and look at the relevant variables.  (Once again this is advice on how &gt;you&lt; can find the solution!!)"},{"owner":{"account_id":29495992,"reputation":1,"user_id":22604027,"display_name":"Frank"},"score":0,"creation_date":1697866100,"post_id":77334502,"comment_id":136336190,"body_markdown":"@StephenC Thank you I found the problem. I created the test case and found that the results weren&#39;t similar because I forgot to add one word. Thank you once again!","body":"@StephenC Thank you I found the problem. I created the test case and found that the results weren&#39;t similar because I forgot to add one word. Thank you once again!"}],"owner":{"account_id":29495992,"reputation":1,"user_id":22604027,"display_name":"Frank"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697857501,"creation_date":1697853650,"question_id":77334502,"body_markdown":"I have to create a PhotoProcessingSys class. These are the methods I have to use in the class\r\n\r\n- **Constructor** - Takes as parameters a customer&#39;s name (string), and customer&#39;s address (four string values representing street, city, state, and zip code). An Address object will be created and used to initialize an Address instance variable. To practice exceptions, make sure you catch the IllegalArgumentException while creating the Address object. If an invalid address is provided, just use the default address associated with the Address class. Notice you do not need to generate any error message in this case. There are other tasks associated with the constructor (e.g., initializing balance to 0) that you need to figure out as part of your project.\r\n\r\n- **Default Constructor** - Uses &quot;NONAME&quot; for the customer&#39;s name and relies on the default address associated with the Address class.\r\n\r\n- **toString** - Prints the customer&#39;s name, address, and balance. Each piece of information is printed on a line by itself using the messages &quot;Customer Name: &quot;, &quot;Customer Address: &quot;, &quot;Balance: &quot;. See the public tests for format information.\r\n\r\n- **imageTransaction** - Takes an image&#39;s name (imageName), a task description string (task), a task options string (taskOptions), and a boolean value (graphicalMode). This method is responsible for processing image requests.\r\n\r\n  - The method will first call PictureManager.graphicalModeOn() if graphicalMode is true and PictureManager.graphicalModeOff() otherwise.\r\n\r\n  - Process the specified task. The tasks we can have are:\r\n\r\n    1. **display** - Displays the picture associated with imageName.\r\n\r\n    2. **clear** - Clears the screen of any pictures that have been displayed.\r\n\r\n    3. **displaylast** - Displays the last picture that was displayed.\r\n\r\n    4. **blackandwhite** - Displays a black and white version of imageName.\r\n\r\n    5. **posterize** - Displays a posterized version of imageName.\r\n\r\n    6. **blackandwhiteposterize** - Displays a version of imageName that is in black and white and posterized.\r\n\r\n    7. **selectcolors** - The taskOptions includes the colors that will be selected. We will use r or R to select red, g or G for green, and b or B for blue. Notice that many instances can appear in the string and spaces can appear anywhere. Here some examples of strings: &quot;rb&quot;, &quot;rBrrrrG&quot;,  \r\n       &quot;&#160;&#160;&#160;r R&#160;&#160;&#160;&#160;&#160;G&#160;&#160;&quot;. Once any character appears, that color will be selected.\r\n\r\n    8. **Invalid option** - If one of the above options is not provided, the method will not do any processing.\r\n\r\n  - **showMessageDialog message** - After one of the seven image processing options has been processed (or an invalid option has been provided) your program must display the message &quot;Continue&quot; using JOptionPage.showMessageDialog. **Only call JOptionPane.showMessageDialog if graphicalMode is true.**\r\n\r\n  - **Return value** - The method will return a string that describes the task that took place. For all the seven image processing options the string to return is the string returned by the corresponding PictureManager method. If an invalid image processing option was provided, the method will return &quot;Invalid photoProcessing option&quot;.\r\n\r\n  - **Cost** - Each image processing transaction cost $1.00 except selectcolors which is worth $2.00. You must keep track of the balance associated with all the image processing requests.\r\n\r\n  - **Transaction&#39;s log** - After each image processing transaction, you need to store the string (see return value above) in a StringBuffer. This string will be preceded by &quot;Transaction #{NUMBER}&quot; where {NUMBER} represents the transaction&#39;s number. Transaction numbers start at 1. Notice that an invalid transaction counts as a transaction.\r\n\r\n- **getTransactions** - Returns a String (not StringBuffer) with the transactions.\r\n\r\n- **getBalance** - Returns the balance.\r\n\r\n- Feel free to add any private methods you understand are needed.\r\n\r\nthis is my code for the class\r\n\r\n```\r\npackage sysutilities;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class PhotoProcessingSys {\r\n\r\n\tprivate String customerName;\r\n\tprivate Address customerAddress;\r\n\tprivate double balance;\r\n\tprivate int transactionNumber;\r\n\tprivate StringBuffer transactionLog;\r\n\tprivate static int selectColorsCost = 2;\r\n\r\n\tpublic PhotoProcessingSys(String name, String street, String city, String state, String zipCode) {\r\n\t\ttry {\r\n\t\t\tcustomerAddress = new Address(street, city, state, zipCode);\r\n\t\t} catch (IllegalArgumentException e) {\r\n\t\t\tcustomerAddress = new Address();\r\n\t\t}\r\n\r\n\t\tcustomerName = name;\r\n\t\tbalance = 0.0;\r\n\t\ttransactionNumber = 1;\r\n\t\ttransactionLog = new StringBuffer();\r\n\t}\r\n\r\n\tpublic PhotoProcessingSys() {\r\n\t\tthis(&quot;NONAME&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n\t}\r\n\r\n\tpublic String getCustomerName() {\r\n\t\treturn customerName;\r\n\t}\r\n\r\n\tpublic Address getCustomerAddress() {\r\n\t\treturn customerAddress;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;Customer Name: &quot; + customerName + &quot;\\n&quot; + &quot;Customer Address: &quot; + customerAddress + &quot;\\n&quot; + &quot;Balance: &quot;\r\n\t\t\t\t+ balance;\r\n\t}\r\n\r\n\tpublic String imageTransaction(String imageName, String task, String taskOptions, boolean graphicalMode) {\r\n\t\ttransactionNumber++;\r\n\t\tString transactionDescription = &quot;Transaction #&quot; + transactionNumber + &quot;: &quot;;\r\n\t\tif (graphicalMode) {\r\n\t\t\tPictureManager.graphicalModeOn();\r\n\t\t} else {\r\n\t\t\tPictureManager.graphicalModeOff();\r\n\t\t}\r\n\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tif (task.equalsIgnoreCase(&quot;display&quot;)) {\r\n\t\t\tresult = PictureManager.displayPicture(imageName);\r\n\t\t\tbalance += 1.0;\r\n\t\t} else if (task.equalsIgnoreCase(&quot;clear&quot;)) {\r\n\t\t\tresult = PictureManager.clearScreen();\r\n\t\t\tbalance += 1.0;\r\n\t\t} else if (task.equalsIgnoreCase(&quot;displaylast&quot;)) {\r\n\t\t\tresult = PictureManager.displayLastPicture();\r\n\t\t\tbalance += 1.0;\r\n\t\t} else if (task.equalsIgnoreCase(&quot;blackandwhite&quot;) || task.equalsIgnoreCase(&quot;posterize&quot;)\r\n\t\t\t\t|| task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;)) {\r\n\t\t\tboolean isBlackAndWhite = task.equalsIgnoreCase(&quot;blackandwhite&quot;)\r\n\t\t\t\t\t|| task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;);\r\n\t\t\tboolean isPosterize = task.equalsIgnoreCase(&quot;posterize&quot;) || task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;);\r\n\t\t\tresult = PictureManager.displayPictureBlackWhitePosterize(imageName, isBlackAndWhite, isPosterize);\r\n\t\t\tbalance += 1.0;\r\n\t\t} else if (task.equalsIgnoreCase(&quot;selectcolors&quot;)) {\r\n\t\t\tboolean red = true;\r\n\t\t\tboolean green = true;\r\n\t\t\tboolean blue = false;\r\n\t\t\tif (taskOptions != null &amp;&amp; taskOptions.length() &gt;= 3) {\r\n\t\t\t\tred = taskOptions.charAt(0) == &#39;t&#39; || taskOptions.charAt(0) == &#39;T&#39;;\r\n\t\t\t\tgreen = taskOptions.charAt(1) == &#39;t&#39; || taskOptions.charAt(1) == &#39;T&#39;;\r\n\t\t\t\tblue = taskOptions.charAt(2) == &#39;t&#39; || taskOptions.charAt(2) == &#39;T&#39;;\r\n\t\t\t}\r\n\t\t\tresult = PictureManager.displayPictureSelectRedGreenBlue(imageName, red, green, blue);\r\n\t\t\tbalance += 2.0;\r\n\t\t} else {\r\n\t\t\tresult = &quot;Invalid photoProcessing option&quot;;\r\n\t\t}\r\n\r\n\t\ttransactionLog.append(transactionDescription).append(result).append(&quot;\\n&quot;);\r\n\r\n\t\tif (graphicalMode) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Continue&quot;);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic String getTransactions() {\r\n\t\treturn transactionLog.toString();\r\n\r\n\t}\r\n\t\t\r\n\t\r\n\tpublic double getBalance() {\r\n\t\treturn balance;\r\n\r\n\t}\r\n```\r\n\r\nthis is the PictureManager class associated with the PhotoProcessingSys class\r\n\r\n```\r\npackage sysutilities;\r\n\r\nimport javax.swing.*;\r\nimport cmsc131PictureLib.*;\r\n\r\npublic class PictureManager {\r\n\tprivate static boolean GRAPHICAL_MODE = true;\r\n\r\n\tpublic static void graphicalModeOff() {\r\n\t\tGRAPHICAL_MODE = false;\r\n\t}\r\n\r\n\tpublic static void graphicalModeOn() {\r\n\t\tGRAPHICAL_MODE = true;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tgraphicDemo();\r\n\t\tnonGraphicDemo();\r\n\t}\r\n\r\n\tpublic static void graphicDemo() {\r\n\t\tPictureManager.displayPicture(&quot;testudo.jpg&quot;);\r\n\t\tPictureManager.displayPicture(&quot;http://www.cs.umd.edu/~nelson/classes/resources/cmsc131/imagesForProjects/logo.png&quot;);\r\n\t\tJOptionPane.showMessageDialog(null, &quot;Press OK to clear screen&quot;);\r\n\t\tPictureManager.clearScreen();\r\n\t\tJOptionPane.showMessageDialog(null, &quot;Press OK to display last picture&quot;);\r\n\t\tPictureManager.displayLastPicture();\r\n\t\tPictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, false);\r\n\t\tPictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, true);\r\n\t\tPictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, false);\r\n\t\tPictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, true);\r\n\t\tPictureManager.displayPictureSelectRedGreenBlue(&quot;testudo.jpg&quot;, true, false, false);\r\n\t}\r\n\r\n\tpublic static void nonGraphicDemo() {\r\n\t\tStringBuffer activity = new StringBuffer();\r\n\t\tPictureManager.graphicalModeOff();\r\n\r\n\t\tactivity.append(PictureManager.displayPicture(&quot;testudo.jpg&quot;));\r\n\t\tactivity.append(PictureManager.displayPicture(&quot;http://www.cs.umd.edu/sites/all/themes/cs/logo.png&quot;));\r\n\t\tJOptionPane.showMessageDialog(null, &quot;Press OK to clear screen&quot;);\r\n\t\tPictureManager.clearScreen();\r\n\t\tJOptionPane.showMessageDialog(null, &quot;Press OK to display last picture&quot;);\r\n\t\tactivity.append(PictureManager.displayLastPicture());\r\n\t\tactivity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, false));\r\n\t\tactivity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, true));\r\n\t\tactivity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, false));\r\n\t\tactivity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, true));\r\n\t\tactivity.append(PictureManager.displayPictureSelectRedGreenBlue(&quot;testudo.jpg&quot;, true, false, false));\r\n\r\n\t\tSystem.out.println(activity);\r\n\t}\r\n\r\n\tpublic static String displayPicture(String name) {\r\n\t\tif (GRAPHICAL_MODE) {\r\n\t\t\tPictureUtil.show(new Image(name));\r\n\t\t}\r\n\r\n\t\treturn &quot;Display &quot; + name + &quot;\\n&quot;;\r\n\t}\r\n\r\n\tpublic static String clearScreen() {\r\n\t\tif (GRAPHICAL_MODE) {\r\n\t\t\tPictureUtil.clearScreen();\r\n\t\t}\r\n\r\n\t\treturn &quot;clearScreen\\n&quot;;\r\n\t}\r\n\r\n\tpublic static String displayLastPicture() {\r\n\t\tif (GRAPHICAL_MODE) {\r\n\t\t\tPictureUtil.show(PictureUtil.getLastPicDisplayed());\r\n\t\t}\r\n\r\n\t\treturn &quot;displayLastPicture\\n&quot;;\r\n\t}\r\n\r\n\tpublic static String displayPictureBlackWhitePosterize(String name, boolean blackAndWhite, boolean posterize) {\r\n\t\tif (GRAPHICAL_MODE) {\r\n\t\t\tPicture result = new Image(name);\r\n\t\t\tif (blackAndWhite) {\r\n\t\t\t\tresult = new BlackAndWhite(result);\r\n\t\t\t}\r\n\t\t\tif (posterize) {\r\n\t\t\t\tresult = new Posterize(result);\r\n\t\t\t}\r\n\t\t\tPictureUtil.show(result);\r\n\t\t}\r\n\r\n\t\treturn &quot;displayPictureBlackWhitePosterize: &quot; + name + &quot;, &quot; + blackAndWhite + posterize + &quot;\\n&quot;;\r\n\t}\r\n\r\n\tpublic static String displayPictureSelectRedGreenBlue(String name, boolean red, boolean green, boolean blue) {\r\n\t\tif (GRAPHICAL_MODE) {\r\n\t\t\tPictureUtil.show(new SelectComponents(new Image(name), red, green, blue));\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;displayPictureSelectRedGreenBlue: &quot; + name + &quot;, &quot; + red + green + blue + &quot;\\n&quot;;\r\n\t}\r\n\r\n\t\r\n\t}\r\n\r\n\t\r\n```\r\n\r\nThis is the PublicTest Provided\r\n\r\n```\r\n@Test\r\n\tpublic void test11() {\r\n\t\t/* getTransactions */\r\n\t\tString answer = &quot;&quot;;\r\n\t\t\r\n\t\tPhotoProcessingSys photoProcessingSys = new PhotoProcessingSys(&quot;John&quot;, &quot;8134 Java St.&quot;, &quot;Silver Spring&quot;, &quot;VA&quot;, &quot;21567&quot;);\r\n\t\tanswer += photoProcessingSys.imageTransaction(null, &quot;clear&quot;, null, GRAPHICAL_MODE_FLAG);\r\n\t\tanswer += photoProcessingSys.imageTransaction(&quot;umcp1.jpg&quot;, &quot;display&quot;, null, GRAPHICAL_MODE_FLAG);\r\n\t\tanswer += photoProcessingSys.imageTransaction(&quot;umcp1.jpg&quot;, &quot;selectcolors&quot;, &quot;rG&quot;, GRAPHICAL_MODE_FLAG);\r\n\t\tanswer += photoProcessingSys.getTransactions();\r\n\t\t\r\n\t\tanswer += TESTS_TAG;\r\n\t\tassertTrue(TestsSupport.isCorrect(&quot;pubTest11.txt&quot;, answer));\r\n\t}\r\n}\r\n```\r\n\r\nThe reason why I only provided the code for Test11 of the PublicTest is because that is the only one I&#39;m failing with an assertion error. Can someone help create a test case to see the result printed or let me know where in my code is the problem.","title":"Where in Test11 is causing the assertion error?","body":"<p>I have to create a PhotoProcessingSys class. These are the methods I have to use in the class</p>\n<ul>\n<li><p><strong>Constructor</strong> - Takes as parameters a customer's name (string), and customer's address (four string values representing street, city, state, and zip code). An Address object will be created and used to initialize an Address instance variable. To practice exceptions, make sure you catch the IllegalArgumentException while creating the Address object. If an invalid address is provided, just use the default address associated with the Address class. Notice you do not need to generate any error message in this case. There are other tasks associated with the constructor (e.g., initializing balance to 0) that you need to figure out as part of your project.</p>\n</li>\n<li><p><strong>Default Constructor</strong> - Uses &quot;NONAME&quot; for the customer's name and relies on the default address associated with the Address class.</p>\n</li>\n<li><p><strong>toString</strong> - Prints the customer's name, address, and balance. Each piece of information is printed on a line by itself using the messages &quot;Customer Name: &quot;, &quot;Customer Address: &quot;, &quot;Balance: &quot;. See the public tests for format information.</p>\n</li>\n<li><p><strong>imageTransaction</strong> - Takes an image's name (imageName), a task description string (task), a task options string (taskOptions), and a boolean value (graphicalMode). This method is responsible for processing image requests.</p>\n<ul>\n<li><p>The method will first call PictureManager.graphicalModeOn() if graphicalMode is true and PictureManager.graphicalModeOff() otherwise.</p>\n</li>\n<li><p>Process the specified task. The tasks we can have are:</p>\n<ol>\n<li><p><strong>display</strong> - Displays the picture associated with imageName.</p>\n</li>\n<li><p><strong>clear</strong> - Clears the screen of any pictures that have been displayed.</p>\n</li>\n<li><p><strong>displaylast</strong> - Displays the last picture that was displayed.</p>\n</li>\n<li><p><strong>blackandwhite</strong> - Displays a black and white version of imageName.</p>\n</li>\n<li><p><strong>posterize</strong> - Displays a posterized version of imageName.</p>\n</li>\n<li><p><strong>blackandwhiteposterize</strong> - Displays a version of imageName that is in black and white and posterized.</p>\n</li>\n<li><p><strong>selectcolors</strong> - The taskOptions includes the colors that will be selected. We will use r or R to select red, g or G for green, and b or B for blue. Notice that many instances can appear in the string and spaces can appear anywhere. Here some examples of strings: &quot;rb&quot;, &quot;rBrrrrG&quot;,<br />\n&quot;r RG&quot;. Once any character appears, that color will be selected.</p>\n</li>\n<li><p><strong>Invalid option</strong> - If one of the above options is not provided, the method will not do any processing.</p>\n</li>\n</ol>\n</li>\n<li><p><strong>showMessageDialog message</strong> - After one of the seven image processing options has been processed (or an invalid option has been provided) your program must display the message &quot;Continue&quot; using JOptionPage.showMessageDialog. <strong>Only call JOptionPane.showMessageDialog if graphicalMode is true.</strong></p>\n</li>\n<li><p><strong>Return value</strong> - The method will return a string that describes the task that took place. For all the seven image processing options the string to return is the string returned by the corresponding PictureManager method. If an invalid image processing option was provided, the method will return &quot;Invalid photoProcessing option&quot;.</p>\n</li>\n<li><p><strong>Cost</strong> - Each image processing transaction cost $1.00 except selectcolors which is worth $2.00. You must keep track of the balance associated with all the image processing requests.</p>\n</li>\n<li><p><strong>Transaction's log</strong> - After each image processing transaction, you need to store the string (see return value above) in a StringBuffer. This string will be preceded by &quot;Transaction #{NUMBER}&quot; where {NUMBER} represents the transaction's number. Transaction numbers start at 1. Notice that an invalid transaction counts as a transaction.</p>\n</li>\n</ul>\n</li>\n<li><p><strong>getTransactions</strong> - Returns a String (not StringBuffer) with the transactions.</p>\n</li>\n<li><p><strong>getBalance</strong> - Returns the balance.</p>\n</li>\n<li><p>Feel free to add any private methods you understand are needed.</p>\n</li>\n</ul>\n<p>this is my code for the class</p>\n<pre><code>package sysutilities;\n\nimport javax.swing.JOptionPane;\n\npublic class PhotoProcessingSys {\n\n    private String customerName;\n    private Address customerAddress;\n    private double balance;\n    private int transactionNumber;\n    private StringBuffer transactionLog;\n    private static int selectColorsCost = 2;\n\n    public PhotoProcessingSys(String name, String street, String city, String state, String zipCode) {\n        try {\n            customerAddress = new Address(street, city, state, zipCode);\n        } catch (IllegalArgumentException e) {\n            customerAddress = new Address();\n        }\n\n        customerName = name;\n        balance = 0.0;\n        transactionNumber = 1;\n        transactionLog = new StringBuffer();\n    }\n\n    public PhotoProcessingSys() {\n        this(&quot;NONAME&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public Address getCustomerAddress() {\n        return customerAddress;\n    }\n\n    public String toString() {\n        return &quot;Customer Name: &quot; + customerName + &quot;\\n&quot; + &quot;Customer Address: &quot; + customerAddress + &quot;\\n&quot; + &quot;Balance: &quot;\n                + balance;\n    }\n\n    public String imageTransaction(String imageName, String task, String taskOptions, boolean graphicalMode) {\n        transactionNumber++;\n        String transactionDescription = &quot;Transaction #&quot; + transactionNumber + &quot;: &quot;;\n        if (graphicalMode) {\n            PictureManager.graphicalModeOn();\n        } else {\n            PictureManager.graphicalModeOff();\n        }\n\n        String result = &quot;&quot;;\n\n        if (task.equalsIgnoreCase(&quot;display&quot;)) {\n            result = PictureManager.displayPicture(imageName);\n            balance += 1.0;\n        } else if (task.equalsIgnoreCase(&quot;clear&quot;)) {\n            result = PictureManager.clearScreen();\n            balance += 1.0;\n        } else if (task.equalsIgnoreCase(&quot;displaylast&quot;)) {\n            result = PictureManager.displayLastPicture();\n            balance += 1.0;\n        } else if (task.equalsIgnoreCase(&quot;blackandwhite&quot;) || task.equalsIgnoreCase(&quot;posterize&quot;)\n                || task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;)) {\n            boolean isBlackAndWhite = task.equalsIgnoreCase(&quot;blackandwhite&quot;)\n                    || task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;);\n            boolean isPosterize = task.equalsIgnoreCase(&quot;posterize&quot;) || task.equalsIgnoreCase(&quot;blackandwhiteposterize&quot;);\n            result = PictureManager.displayPictureBlackWhitePosterize(imageName, isBlackAndWhite, isPosterize);\n            balance += 1.0;\n        } else if (task.equalsIgnoreCase(&quot;selectcolors&quot;)) {\n            boolean red = true;\n            boolean green = true;\n            boolean blue = false;\n            if (taskOptions != null &amp;&amp; taskOptions.length() &gt;= 3) {\n                red = taskOptions.charAt(0) == 't' || taskOptions.charAt(0) == 'T';\n                green = taskOptions.charAt(1) == 't' || taskOptions.charAt(1) == 'T';\n                blue = taskOptions.charAt(2) == 't' || taskOptions.charAt(2) == 'T';\n            }\n            result = PictureManager.displayPictureSelectRedGreenBlue(imageName, red, green, blue);\n            balance += 2.0;\n        } else {\n            result = &quot;Invalid photoProcessing option&quot;;\n        }\n\n        transactionLog.append(transactionDescription).append(result).append(&quot;\\n&quot;);\n\n        if (graphicalMode) {\n            JOptionPane.showMessageDialog(null, &quot;Continue&quot;);\n        }\n\n        return result;\n    }\n\n    public String getTransactions() {\n        return transactionLog.toString();\n\n    }\n        \n    \n    public double getBalance() {\n        return balance;\n\n    }\n</code></pre>\n<p>this is the PictureManager class associated with the PhotoProcessingSys class</p>\n<pre><code>package sysutilities;\n\nimport javax.swing.*;\nimport cmsc131PictureLib.*;\n\npublic class PictureManager {\n    private static boolean GRAPHICAL_MODE = true;\n\n    public static void graphicalModeOff() {\n        GRAPHICAL_MODE = false;\n    }\n\n    public static void graphicalModeOn() {\n        GRAPHICAL_MODE = true;\n    }\n\n    public static void main(String[] args) {\n        graphicDemo();\n        nonGraphicDemo();\n    }\n\n    public static void graphicDemo() {\n        PictureManager.displayPicture(&quot;testudo.jpg&quot;);\n        PictureManager.displayPicture(&quot;http://www.cs.umd.edu/~nelson/classes/resources/cmsc131/imagesForProjects/logo.png&quot;);\n        JOptionPane.showMessageDialog(null, &quot;Press OK to clear screen&quot;);\n        PictureManager.clearScreen();\n        JOptionPane.showMessageDialog(null, &quot;Press OK to display last picture&quot;);\n        PictureManager.displayLastPicture();\n        PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, false);\n        PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, true);\n        PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, false);\n        PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, true);\n        PictureManager.displayPictureSelectRedGreenBlue(&quot;testudo.jpg&quot;, true, false, false);\n    }\n\n    public static void nonGraphicDemo() {\n        StringBuffer activity = new StringBuffer();\n        PictureManager.graphicalModeOff();\n\n        activity.append(PictureManager.displayPicture(&quot;testudo.jpg&quot;));\n        activity.append(PictureManager.displayPicture(&quot;http://www.cs.umd.edu/sites/all/themes/cs/logo.png&quot;));\n        JOptionPane.showMessageDialog(null, &quot;Press OK to clear screen&quot;);\n        PictureManager.clearScreen();\n        JOptionPane.showMessageDialog(null, &quot;Press OK to display last picture&quot;);\n        activity.append(PictureManager.displayLastPicture());\n        activity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, false));\n        activity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, true, true));\n        activity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, false));\n        activity.append(PictureManager.displayPictureBlackWhitePosterize(&quot;testudo.jpg&quot;, false, true));\n        activity.append(PictureManager.displayPictureSelectRedGreenBlue(&quot;testudo.jpg&quot;, true, false, false));\n\n        System.out.println(activity);\n    }\n\n    public static String displayPicture(String name) {\n        if (GRAPHICAL_MODE) {\n            PictureUtil.show(new Image(name));\n        }\n\n        return &quot;Display &quot; + name + &quot;\\n&quot;;\n    }\n\n    public static String clearScreen() {\n        if (GRAPHICAL_MODE) {\n            PictureUtil.clearScreen();\n        }\n\n        return &quot;clearScreen\\n&quot;;\n    }\n\n    public static String displayLastPicture() {\n        if (GRAPHICAL_MODE) {\n            PictureUtil.show(PictureUtil.getLastPicDisplayed());\n        }\n\n        return &quot;displayLastPicture\\n&quot;;\n    }\n\n    public static String displayPictureBlackWhitePosterize(String name, boolean blackAndWhite, boolean posterize) {\n        if (GRAPHICAL_MODE) {\n            Picture result = new Image(name);\n            if (blackAndWhite) {\n                result = new BlackAndWhite(result);\n            }\n            if (posterize) {\n                result = new Posterize(result);\n            }\n            PictureUtil.show(result);\n        }\n\n        return &quot;displayPictureBlackWhitePosterize: &quot; + name + &quot;, &quot; + blackAndWhite + posterize + &quot;\\n&quot;;\n    }\n\n    public static String displayPictureSelectRedGreenBlue(String name, boolean red, boolean green, boolean blue) {\n        if (GRAPHICAL_MODE) {\n            PictureUtil.show(new SelectComponents(new Image(name), red, green, blue));\n        }\n        \n        return &quot;displayPictureSelectRedGreenBlue: &quot; + name + &quot;, &quot; + red + green + blue + &quot;\\n&quot;;\n    }\n\n    \n    }\n\n    \n</code></pre>\n<p>This is the PublicTest Provided</p>\n<pre><code>@Test\n    public void test11() {\n        /* getTransactions */\n        String answer = &quot;&quot;;\n        \n        PhotoProcessingSys photoProcessingSys = new PhotoProcessingSys(&quot;John&quot;, &quot;8134 Java St.&quot;, &quot;Silver Spring&quot;, &quot;VA&quot;, &quot;21567&quot;);\n        answer += photoProcessingSys.imageTransaction(null, &quot;clear&quot;, null, GRAPHICAL_MODE_FLAG);\n        answer += photoProcessingSys.imageTransaction(&quot;umcp1.jpg&quot;, &quot;display&quot;, null, GRAPHICAL_MODE_FLAG);\n        answer += photoProcessingSys.imageTransaction(&quot;umcp1.jpg&quot;, &quot;selectcolors&quot;, &quot;rG&quot;, GRAPHICAL_MODE_FLAG);\n        answer += photoProcessingSys.getTransactions();\n        \n        answer += TESTS_TAG;\n        assertTrue(TestsSupport.isCorrect(&quot;pubTest11.txt&quot;, answer));\n    }\n}\n</code></pre>\n<p>The reason why I only provided the code for Test11 of the PublicTest is because that is the only one I'm failing with an assertion error. Can someone help create a test case to see the result printed or let me know where in my code is the problem.</p>\n"},{"tags":["java","spring","spring-boot","datasource","quartz"],"comments":[{"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"score":1,"creation_date":1490104823,"post_id":42924740,"comment_id":72955946,"body_markdown":"problem was I put `org.quartz.jobStore.dataSource = myDs` instead of `org.quartz.jobStore.dataSource = myDS`. I changed it, and its working","body":"problem was I put <code>org.quartz.jobStore.dataSource = myDs</code> instead of <code>org.quartz.jobStore.dataSource = myDS</code>. I changed it, and its working"},{"owner":{"account_id":8947834,"reputation":1896,"user_id":6674574,"display_name":"jasonleakey"},"score":0,"creation_date":1491882825,"post_id":42924740,"comment_id":73736711,"body_markdown":"Haha, I used the same source from the web. Thanks for figuring out.","body":"Haha, I used the same source from the web. Thanks for figuring out."}],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490095630,"creation_date":1490095630,"answer_id":42925781,"question_id":42924740,"body_markdown":"I would imagine that you should be using a LocalDataSourceJobStore to allow Quartz to use a Spring created datasource.","title":"Quartz Scheduler : Failed to obtain DB connection from data source","body":"<p>I would imagine that you should be using a LocalDataSourceJobStore to allow Quartz to use a Spring created datasource.</p>\n"}],"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22975,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697857465,"creation_date":1490092808,"question_id":42924740,"body_markdown":"I trying to implement `Quartz-Scheduler` in `Spring-Boot` application. \r\n\r\nBut when I&#39;m trying to schedule job, I&#39;getting this exception:\r\n\r\n    2017-03-21 15:57:42.817  INFO 12069 --- [o-8080-exec-178] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;QuartzScheduler&#39; initialized from default resource file in Quartz package: &#39;quartz.properties&#39;\r\n    2017-03-21 15:57:42.817  INFO 12069 --- [o-8080-exec-178] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.1\r\n    org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.JobPersistenceException: Failed to obtain DB connection from data source &#39;myDs&#39;: java.sql.SQLException: There is no DataSource named &#39;myDs&#39; [See nested exception: java.sql.SQLException: There is no DataSource named &#39;myDs&#39;]]\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.schedulerStarted(JobStoreSupport.java:692)\r\n    \tat org.quartz.core.QuartzScheduler.start(QuartzScheduler.java:567)\r\n    \tat org.quartz.impl.StdScheduler.start(StdScheduler.java:142)\r\n    \tat com.example.controller.StudentController.getAllStudents(StudentController.java:62)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115)\r\n    \tat org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59)\r\n    \tat org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:620)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.quartz.JobPersistenceException: Failed to obtain DB connection from data source &#39;myDs&#39;: java.sql.SQLException: There is no DataSource named &#39;myDs&#39; [See nested exception: java.sql.SQLException: There is no DataSource named &#39;myDs&#39;]\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.getConnection(JobStoreSupport.java:778)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreTX.getNonManagedTXConnection(JobStoreTX.java:71)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3784)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.recoverJobs(JobStoreSupport.java:834)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.schedulerStarted(JobStoreSupport.java:690)\r\n    \t... 65 more\r\n    Caused by: java.sql.SQLException: There is no DataSource named &#39;myDs&#39;\r\n    \tat org.quartz.utils.DBConnectionManager.getConnection(DBConnectionManager.java:104)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.getConnection(JobStoreSupport.java:775)\r\n    \t... 69 more\r\n\r\n\r\nquartz.properties:\r\n\r\n    #============================================================================\r\n    # Configure Main Scheduler Properties\r\n    #============================================================================\r\n     \r\n    org.quartz.scheduler.instanceId = AUTO\r\n    org.quartz.scheduler.makeSchedulerThreadDaemon = true\r\n     \r\n    #============================================================================\r\n    # Configure ThreadPool\r\n    #============================================================================\r\n     \r\n    org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\r\n    org.quartz.threadPool.makeThreadsDaemons = true\r\n    org.quartz.threadPool.threadCount: 20\r\n    org.quartz.threadPool.threadPriority: 5\r\n     \r\n    #============================================================================\r\n    # Configure JobStore\r\n    #============================================================================\r\n     \r\n    org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX \r\n    org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\r\n    org.quartz.jobStore.dataSource = myDs\r\n    org.quartz.jobStore.tablePrefix = QRTZ_\r\n    org.quartz.jobStore.isClustered = false\r\n    org.quartz.jobStore.dataSource = myDs\r\n    org.quartz.jobStore.misfireThreshold = 25000\r\n     \r\n     \r\n    #============================================================================\r\n    # Configure DataSources  \r\n    #============================================================================\r\n     \r\n    org.quartz.dataSource.myDS.driver = com.mysql.jdbc.Driver\r\n    org.quartz.dataSource.myDS.URL = jdbc:mysql://localhost:3306/quartz\r\n    org.quartz.dataSource.myDS.user = root\r\n    org.quartz.dataSource.myDS.password = root\r\n    org.quartz.dataSource.myDS.maxConnections = 5\r\n    org.quartz.dataSource.myDS.validationQuery = select 1\r\n\r\nI do have a database named quartz and all the quartz tables loaded into it.\r\n\r\napplication.properties:\r\n\r\n    #disbale Spring banner\r\n    spring.main.banner-mode=off\r\n    \r\n    # Loads SQL scripts? schema.sql and data.sql\r\n    #spring.datasource.initialize=true\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/career_focus\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    quartz.enabled=true\r\n    \r\n    # HikariCP settings\r\n    # spring.datasource.hikari.*\r\n    \r\n    #60 sec\r\n    spring.datasource.hikari.connection-timeout=60000\r\n    # max 5\r\n    spring.datasource.hikari.maximum-pool-size=5\r\n\r\nThis is how I&#39;m trying to Schedule a job:\r\n\r\n\tJobDetail detail = JobBuilder.newJob().ofType(JobRunner.class).withIdentity(&quot;jobName123&quot;, &quot;jobGroup123&quot;)\r\n\t\t\t\t.storeDurably().withDescription(&quot;Invoke Sample Job service...&quot;).build();\r\n\t\t\r\n\tString cronExpr = &quot;0/10 * * * * ?&quot;;\r\n\ttry {\r\n\t\tScheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n\t\tTrigger trigger = TriggerBuilder.newTrigger()\r\n\t\t\t\t.withIdentity(&quot;trigger3&quot;, &quot;group1&quot;)\r\n\t\t\t\t.withSchedule(CronScheduleBuilder.cronSchedule(cronExpr))\r\n\t\t\t\t.forJob(&quot;jobName123&quot;, &quot;jobGroup123&quot;)\r\n\t\t\t\t.build();\r\n\t\tscheduler.start();\r\n\t\tscheduler.scheduleJob(detail, trigger);\r\n\t} catch (SchedulerException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n**EDIT:**\r\n\r\nSchedulerConfig.java\r\n\r\n    @Configuration\r\n    @ConditionalOnProperty(name = &quot;quartz.enabled&quot;)\r\n    public class SchedulerConfig {\r\n    \t//\r\n    \t// @Autowired\r\n    \t// List&lt;Trigger&gt; listOfTrigger;\r\n    \r\n    \t@Bean\r\n    \tpublic JobFactory jobFactory(ApplicationContext applicationContext) {\r\n    \t\tAutowiringSpringBeanJobFactory jobFactory = new AutowiringSpringBeanJobFactory();\r\n    \t\tjobFactory.setApplicationContext(applicationContext);\r\n    \t\treturn jobFactory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SchedulerFactoryBean schedulerFactoryBean(DataSource dataSource, JobFactory jobFactory) throws IOException {\r\n    \t\tSchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n    \t\tfactory.setOverwriteExistingJobs(true);\r\n    \t\tfactory.setAutoStartup(true);\r\n    \t\tfactory.setDataSource(dataSource);\r\n    \t\tfactory.setJobFactory(jobFactory);\r\n    \t\tfactory.setQuartzProperties(quartzProperties());\r\n    \t\t// Here we will set all the trigger beans we have defined.\r\n    \t\t// if (!AppUtil.isObjectEmpty(listOfTrigger)) {\r\n    \t\t// factory.setTriggers(listOfTrigger.toArray(new\r\n    \t\t// Trigger[listOfTrigger.size()]));\r\n    \t\t// }\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Properties quartzProperties() throws IOException {\r\n    \t\tPropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\r\n    \t\tpropertiesFactoryBean.setLocation(new ClassPathResource(&quot;/quartz.properties&quot;));\r\n    \t\tpropertiesFactoryBean.afterPropertiesSet();\r\n    \t\treturn propertiesFactoryBean.getObject();\r\n    \t}\r\n    \r\n    \tpublic static SimpleTriggerFactoryBean createTrigger(JobDetail jobDetail, long pollFrequencyMs) {\r\n    \t\tSimpleTriggerFactoryBean factoryBean = new SimpleTriggerFactoryBean();\r\n    \t\tfactoryBean.setJobDetail(jobDetail);\r\n    \t\tfactoryBean.setStartDelay(0L);\r\n    \t\tfactoryBean.setRepeatInterval(pollFrequencyMs);\r\n    \t\tfactoryBean.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\r\n    \t\t// in case of misfire, ignore all missed triggers and continue :\r\n    \t\tfactoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT);\r\n    \t\treturn factoryBean;\r\n    \t}\r\n    \r\n    \t// Use this method for creating cron triggers instead of simple triggers:\r\n    \tpublic static CronTriggerFactoryBean createCronTrigger(JobDetail jobDetail, String cronExpression) {\r\n    \t\tCronTriggerFactoryBean factoryBean = new CronTriggerFactoryBean();\r\n    \t\tfactoryBean.setJobDetail(jobDetail);\r\n    \t\tfactoryBean.setCronExpression(cronExpression);\r\n    \t\tfactoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n    \t\treturn factoryBean;\r\n    \t}\r\n    \r\n    \tpublic static JobDetailFactoryBean createJobDetail(Class jobClass) {\r\n    \t\tJobDetailFactoryBean factoryBean = new JobDetailFactoryBean();\r\n    \t\tfactoryBean.setJobClass(jobClass);\r\n    \t\t// job has to be durable to be stored in DB:\r\n    \t\tfactoryBean.setDurability(true);\r\n    \t\treturn factoryBean;\r\n    \t}\r\n    \r\n    }\r\n\r\nAutowiringSpringBeanJobFactory.java \r\n\r\n    public final class AutowiringSpringBeanJobFactory extends SpringBeanJobFactory implements\r\n            ApplicationContextAware {\r\n    \r\n        private transient AutowireCapableBeanFactory beanFactory;\r\n    \r\n        @Override\r\n        public void setApplicationContext(final ApplicationContext context) {\r\n            beanFactory = context.getAutowireCapableBeanFactory();\r\n        }\r\n    \r\n        @Override\r\n        protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\r\n            final Object job = super.createJobInstance(bundle);\r\n            beanFactory.autowireBean(job);\r\n            return job;\r\n        }\r\n    }","title":"Quartz Scheduler : Failed to obtain DB connection from data source","body":"<p>I trying to implement <code>Quartz-Scheduler</code> in <code>Spring-Boot</code> application. </p>\n\n<p>But when I'm trying to schedule job, I'getting this exception:</p>\n\n<pre><code>2017-03-21 15:57:42.817  INFO 12069 --- [o-8080-exec-178] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'QuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'\n2017-03-21 15:57:42.817  INFO 12069 --- [o-8080-exec-178] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.1\norg.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.JobPersistenceException: Failed to obtain DB connection from data source 'myDs': java.sql.SQLException: There is no DataSource named 'myDs' [See nested exception: java.sql.SQLException: There is no DataSource named 'myDs']]\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.schedulerStarted(JobStoreSupport.java:692)\n    at org.quartz.core.QuartzScheduler.start(QuartzScheduler.java:567)\n    at org.quartz.impl.StdScheduler.start(StdScheduler.java:142)\n    at com.example.controller.StudentController.getAllStudents(StudentController.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:115)\n    at org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:59)\n    at org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:90)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:108)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:620)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.quartz.JobPersistenceException: Failed to obtain DB connection from data source 'myDs': java.sql.SQLException: There is no DataSource named 'myDs' [See nested exception: java.sql.SQLException: There is no DataSource named 'myDs']\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.getConnection(JobStoreSupport.java:778)\n    at org.quartz.impl.jdbcjobstore.JobStoreTX.getNonManagedTXConnection(JobStoreTX.java:71)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3784)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.recoverJobs(JobStoreSupport.java:834)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.schedulerStarted(JobStoreSupport.java:690)\n    ... 65 more\nCaused by: java.sql.SQLException: There is no DataSource named 'myDs'\n    at org.quartz.utils.DBConnectionManager.getConnection(DBConnectionManager.java:104)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.getConnection(JobStoreSupport.java:775)\n    ... 69 more\n</code></pre>\n\n<p>quartz.properties:</p>\n\n<pre><code>#============================================================================\n# Configure Main Scheduler Properties\n#============================================================================\n\norg.quartz.scheduler.instanceId = AUTO\norg.quartz.scheduler.makeSchedulerThreadDaemon = true\n\n#============================================================================\n# Configure ThreadPool\n#============================================================================\n\norg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.makeThreadsDaemons = true\norg.quartz.threadPool.threadCount: 20\norg.quartz.threadPool.threadPriority: 5\n\n#============================================================================\n# Configure JobStore\n#============================================================================\n\norg.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX \norg.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\norg.quartz.jobStore.dataSource = myDs\norg.quartz.jobStore.tablePrefix = QRTZ_\norg.quartz.jobStore.isClustered = false\norg.quartz.jobStore.dataSource = myDs\norg.quartz.jobStore.misfireThreshold = 25000\n\n\n#============================================================================\n# Configure DataSources  \n#============================================================================\n\norg.quartz.dataSource.myDS.driver = com.mysql.jdbc.Driver\norg.quartz.dataSource.myDS.URL = jdbc:mysql://localhost:3306/quartz\norg.quartz.dataSource.myDS.user = root\norg.quartz.dataSource.myDS.password = root\norg.quartz.dataSource.myDS.maxConnections = 5\norg.quartz.dataSource.myDS.validationQuery = select 1\n</code></pre>\n\n<p>I do have a database named quartz and all the quartz tables loaded into it.</p>\n\n<p>application.properties:</p>\n\n<pre><code>#disbale Spring banner\nspring.main.banner-mode=off\n\n# Loads SQL scripts? schema.sql and data.sql\n#spring.datasource.initialize=true\n\nspring.datasource.url=jdbc:mysql://localhost:3306/career_focus\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\nquartz.enabled=true\n\n# HikariCP settings\n# spring.datasource.hikari.*\n\n#60 sec\nspring.datasource.hikari.connection-timeout=60000\n# max 5\nspring.datasource.hikari.maximum-pool-size=5\n</code></pre>\n\n<p>This is how I'm trying to Schedule a job:</p>\n\n<pre><code>JobDetail detail = JobBuilder.newJob().ofType(JobRunner.class).withIdentity(\"jobName123\", \"jobGroup123\")\n            .storeDurably().withDescription(\"Invoke Sample Job service...\").build();\n\nString cronExpr = \"0/10 * * * * ?\";\ntry {\n    Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n    Trigger trigger = TriggerBuilder.newTrigger()\n            .withIdentity(\"trigger3\", \"group1\")\n            .withSchedule(CronScheduleBuilder.cronSchedule(cronExpr))\n            .forJob(\"jobName123\", \"jobGroup123\")\n            .build();\n    scheduler.start();\n    scheduler.scheduleJob(detail, trigger);\n} catch (SchedulerException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>SchedulerConfig.java</p>\n\n<pre><code>@Configuration\n@ConditionalOnProperty(name = \"quartz.enabled\")\npublic class SchedulerConfig {\n    //\n    // @Autowired\n    // List&lt;Trigger&gt; listOfTrigger;\n\n    @Bean\n    public JobFactory jobFactory(ApplicationContext applicationContext) {\n        AutowiringSpringBeanJobFactory jobFactory = new AutowiringSpringBeanJobFactory();\n        jobFactory.setApplicationContext(applicationContext);\n        return jobFactory;\n    }\n\n    @Bean\n    public SchedulerFactoryBean schedulerFactoryBean(DataSource dataSource, JobFactory jobFactory) throws IOException {\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\n        factory.setOverwriteExistingJobs(true);\n        factory.setAutoStartup(true);\n        factory.setDataSource(dataSource);\n        factory.setJobFactory(jobFactory);\n        factory.setQuartzProperties(quartzProperties());\n        // Here we will set all the trigger beans we have defined.\n        // if (!AppUtil.isObjectEmpty(listOfTrigger)) {\n        // factory.setTriggers(listOfTrigger.toArray(new\n        // Trigger[listOfTrigger.size()]));\n        // }\n\n        return factory;\n    }\n\n    @Bean\n    public Properties quartzProperties() throws IOException {\n        PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\n        propertiesFactoryBean.setLocation(new ClassPathResource(\"/quartz.properties\"));\n        propertiesFactoryBean.afterPropertiesSet();\n        return propertiesFactoryBean.getObject();\n    }\n\n    public static SimpleTriggerFactoryBean createTrigger(JobDetail jobDetail, long pollFrequencyMs) {\n        SimpleTriggerFactoryBean factoryBean = new SimpleTriggerFactoryBean();\n        factoryBean.setJobDetail(jobDetail);\n        factoryBean.setStartDelay(0L);\n        factoryBean.setRepeatInterval(pollFrequencyMs);\n        factoryBean.setRepeatCount(SimpleTrigger.REPEAT_INDEFINITELY);\n        // in case of misfire, ignore all missed triggers and continue :\n        factoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT);\n        return factoryBean;\n    }\n\n    // Use this method for creating cron triggers instead of simple triggers:\n    public static CronTriggerFactoryBean createCronTrigger(JobDetail jobDetail, String cronExpression) {\n        CronTriggerFactoryBean factoryBean = new CronTriggerFactoryBean();\n        factoryBean.setJobDetail(jobDetail);\n        factoryBean.setCronExpression(cronExpression);\n        factoryBean.setMisfireInstruction(SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n        return factoryBean;\n    }\n\n    public static JobDetailFactoryBean createJobDetail(Class jobClass) {\n        JobDetailFactoryBean factoryBean = new JobDetailFactoryBean();\n        factoryBean.setJobClass(jobClass);\n        // job has to be durable to be stored in DB:\n        factoryBean.setDurability(true);\n        return factoryBean;\n    }\n\n}\n</code></pre>\n\n<p>AutowiringSpringBeanJobFactory.java </p>\n\n<pre><code>public final class AutowiringSpringBeanJobFactory extends SpringBeanJobFactory implements\n        ApplicationContextAware {\n\n    private transient AutowireCapableBeanFactory beanFactory;\n\n    @Override\n    public void setApplicationContext(final ApplicationContext context) {\n        beanFactory = context.getAutowireCapableBeanFactory();\n    }\n\n    @Override\n    protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\n        final Object job = super.createJobInstance(bundle);\n        beanFactory.autowireBean(job);\n        return job;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","live-connect-sdk"],"comments":[{"owner":{"account_id":3445913,"reputation":179,"user_id":2886745,"display_name":"Gernan"},"score":0,"creation_date":1697858131,"post_id":77330349,"comment_id":136335841,"body_markdown":"I&#39;m trying to connect to a Samsung smart TV using connectsdk and facing the same problems. \n\nI&#39;m able to list devices (same device is being listed multiple times), but after connect to a device: I&#39;m not able to do any kind of pairing (even though I set pairing ON and to MIXED type). \n\nI&#39;m also not able to get any kind of capabilities except for VolumeControl to test to true and when I try to execute a Volume command I get Internal Server Error. \n\nUnfortunately there is no much information about connectsdk, thinking on my next move, maybe I will try to connect to the tv using websockets.","body":"I&#39;m trying to connect to a Samsung smart TV using connectsdk and facing the same problems.   I&#39;m able to list devices (same device is being listed multiple times), but after connect to a device: I&#39;m not able to do any kind of pairing (even though I set pairing ON and to MIXED type).   I&#39;m also not able to get any kind of capabilities except for VolumeControl to test to true and when I try to execute a Volume command I get Internal Server Error.   Unfortunately there is no much information about connectsdk, thinking on my next move, maybe I will try to connect to the tv using websockets."},{"owner":{"account_id":29715460,"reputation":9,"user_id":22774086,"display_name":"Najam JAS"},"score":0,"creation_date":1698037182,"post_id":77330349,"comment_id":136349540,"body_markdown":"@Gernan same issue I&#39;m facing too, it looks a clean and save platform to attach device to TV but has many ambiguities, and complexities to be handled. Thanks for sharing,","body":"@Gernan same issue I&#39;m facing too, it looks a clean and save platform to attach device to TV but has many ambiguities, and complexities to be handled. Thanks for sharing,"}],"owner":{"account_id":29715460,"reputation":9,"user_id":22774086,"display_name":"Najam JAS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697856115,"creation_date":1697799256,"question_id":77330349,"body_markdown":"Android Tv remote, pairing connection and utilization of Connect SDK to operate keys.\r\n\r\nI&#39;m working to develop android App that is use as a **TV-REMOTE-CONTROL** over same Wifi,\r\n\r\nFor this I&#39;m using and following guidelines by **Connect-SDK-For-Android** documented here (https://connectsdk.com/en/latest/). I&#39;m utilizing sample provided to test the SDK provided here **Connect SDK Android Sample.** I found this method is simple and fast to be achieve my requirement.\r\n\r\nIssue why I&#39;m here that Connect SDK is calling for TV Capabilities to perform remote functions, when I run this code it is showing me connected TV&#39;s list over same WIFI. But when I choose or select TV option it directly connect to TV without asking for pairing code that should be enabled on TV. Indirect connection it only allows me to change TV VOLUME through connected protocol.\r\n\r\nSecondly, Connect SDK is using multiple service&#39;s like Chromecast, DIAL, DLNS etc.; for single device and when listing Connected TV, it list single TV multiple times depending on Services enabled.\r\n\r\nI required to enable Number Keys and Key Control (up,down,right,left) Power Control Key, Connect-SDK utilizing CapabilityMethods and other interfaces to enable the all keys functionality.\r\n\r\nI required guide how could I achieve my required functionality TV-Remote-Control, any other way to get my solution would be appreciated but I&#39;m prioritizing Connect-SDK method.","title":"Android Phone as Remote Control for Android Tv Device, using WIFI","body":"<p>Android Tv remote, pairing connection and utilization of Connect SDK to operate keys.</p>\n<p>I'm working to develop android App that is use as a <strong>TV-REMOTE-CONTROL</strong> over same Wifi,</p>\n<p>For this I'm using and following guidelines by <strong>Connect-SDK-For-Android</strong> documented here (<a href=\"https://connectsdk.com/en/latest/\" rel=\"nofollow noreferrer\">https://connectsdk.com/en/latest/</a>). I'm utilizing sample provided to test the SDK provided here <strong>Connect SDK Android Sample.</strong> I found this method is simple and fast to be achieve my requirement.</p>\n<p>Issue why I'm here that Connect SDK is calling for TV Capabilities to perform remote functions, when I run this code it is showing me connected TV's list over same WIFI. But when I choose or select TV option it directly connect to TV without asking for pairing code that should be enabled on TV. Indirect connection it only allows me to change TV VOLUME through connected protocol.</p>\n<p>Secondly, Connect SDK is using multiple service's like Chromecast, DIAL, DLNS etc.; for single device and when listing Connected TV, it list single TV multiple times depending on Services enabled.</p>\n<p>I required to enable Number Keys and Key Control (up,down,right,left) Power Control Key, Connect-SDK utilizing CapabilityMethods and other interfaces to enable the all keys functionality.</p>\n<p>I required guide how could I achieve my required functionality TV-Remote-Control, any other way to get my solution would be appreciated but I'm prioritizing Connect-SDK method.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1697820226,"post_id":77332523,"comment_id":136332101,"body_markdown":"Hi @Christian Termo, I can understand you want to show the error highlighted in IDE. But its a good practice to avoid pasting code as image.  Please refer - https://stackoverflow.com/help/how-to-ask","body":"Hi @Christian Termo, I can understand you want to show the error highlighted in IDE. But its a good practice to avoid pasting code as image.  Please refer - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1697820660,"post_id":77332523,"comment_id":136332192,"body_markdown":"Looks like Maven is used as build tool in IntelliJ. Ensure 1) the source directory structure is src/main/java 2) Running command -  `mvn dependency:tree` shows the commons-csv:1.8 library","body":"Looks like Maven is used as build tool in IntelliJ. Ensure 1) the source directory structure is src/main/java 2) Running command -  <code>mvn dependency:tree</code> shows the commons-csv:1.8 library"},{"owner":{"account_id":29160461,"reputation":25,"user_id":22339333,"display_name":"Christian Termo"},"score":0,"creation_date":1697821077,"post_id":77332523,"comment_id":136332248,"body_markdown":"directory structure is that, I&#39;ve runned your command and I share you the logs but I don&#39;t see the library","body":"directory structure is that, I&#39;ve runned your command and I share you the logs but I don&#39;t see the library"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1697821387,"post_id":77332523,"comment_id":136332307,"body_markdown":"Two steps: 1) Press Ctrl+Shift+A to find actions, and input &quot;reload&quot;, you will find the &quot;Reload All Maven Projects&quot;. On a Mac, use ++A instead. [Reference](https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies) 2) Try running `mvn clean package`","body":"Two steps: 1) Press Ctrl+Shift+A to find actions, and input &quot;reload&quot;, you will find the &quot;Reload All Maven Projects&quot;. On a Mac, use ++A instead. <a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\">Reference</a> 2) Try running <code>mvn clean package</code>"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1697821519,"post_id":77332523,"comment_id":136332331,"body_markdown":"noticed you added tag to this question `spring-boot` which is not relevant as this is related to `Maven`, `IntelliJ` and `Java`","body":"noticed you added tag to this question <code>spring-boot</code> which is not relevant as this is related to <code>Maven</code>, <code>IntelliJ</code> and <code>Java</code>"},{"owner":{"account_id":29160461,"reputation":25,"user_id":22339333,"display_name":"Christian Termo"},"score":1,"creation_date":1697821874,"post_id":77332523,"comment_id":136332398,"body_markdown":"This solved my problem thank you","body":"This solved my problem thank you"}],"answers":[{"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697826065,"creation_date":1697826065,"answer_id":77333038,"question_id":77332523,"body_markdown":"**This is how to reload dependencies in IntelliJ manually:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Here you can configure the automatic reload:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**(Re)building with maven is also possible from the IDE:**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uQ6Pt.png\r\n  [2]: https://i.stack.imgur.com/RB3bS.png\r\n  [3]: https://i.stack.imgur.com/sfOxG.png\r\n  [4]: https://i.stack.imgur.com/eV3up.png","title":"I can&#39;t import csv dependencies in my spring boot application","body":"<p><strong>This is how to reload dependencies in IntelliJ manually:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uQ6Pt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQ6Pt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here you can configure the automatic reload:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/RB3bS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RB3bS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sfOxG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfOxG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>(Re)building with maven is also possible from the IDE:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/eV3up.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eV3up.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29160461,"reputation":25,"user_id":22339333,"display_name":"Christian Termo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77333038,"answer_count":1,"score":1,"last_activity_date":1697852310,"creation_date":1697819712,"question_id":77332523,"body_markdown":"I&#39;m trying to do an application that take data from a csv file and store it in db.\r\nSo I&#39;ve added the dependency in my pom.xml\r\n``` \r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependencies&gt;\r\n``` \r\n\r\nBut when I try to import csv in my project it can&#39;t be found as you can see in image[![enter image description here][1]][1]\r\nall csv classes are signed red\r\n\r\n**My code (Helper Class):**\r\nall csv classes are signed red\r\n\r\n``` \r\npackage com.example.FlorenceConsulting.Helper;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.example.FlorenceConsulting.Model.User;\r\nimport org.apache.commons.csv.CSVFormat;\r\nimport org.apache.commons.csv.CSVParser;\r\nimport org.apache.commons.csv.CSVRecord;\r\nimport org.springframework.web.multipart.MultipartFile;\r\npublic class CSVHelper {\r\n    public static String TYPE = &quot;text/csv&quot;;\r\n    static String[] HEADERs = { &quot;nome&quot;, &quot;cognome&quot;, &quot;mail&quot;, &quot;indirizzo&quot; };\r\n\r\n    public static boolean hasCSVFormat(MultipartFile file) {\r\n\r\n        if (!TYPE.equals(file.getContentType())) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static List&lt;User&gt; csvToTutorials(InputStream is) {\r\n        try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n             CSVParser csvParser = new CSVParser(fileReader,\r\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\r\n\r\n            List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n\r\n            Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\r\n\r\n            for (CSVRecord csvRecord : csvRecords) {\r\n                User user = new User(\r\n                        Long.parseLong(csvRecord.get(&quot;nome&quot;)),\r\n                        csvRecord.get(&quot;cognome&quot;),\r\n                        csvRecord.get(&quot;mail&quot;),\r\n                        csvRecord.get(&quot;indirizzo&quot;)\r\n                );\r\n\r\n                users.add(user);\r\n            }\r\n\r\n            return users;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;fail to parse CSV file: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\n**Maven Dependency tree (mvn dependency:tree)**\r\n\r\n``` \r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] -------------------&lt; com.example:FlorenceConsulting &gt;-------------------\r\n[INFO] Building FlorenceConsulting 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ FlorenceConsulting ---\r\n[INFO] com.example:FlorenceConsulting:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.5:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.5:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.13:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.20:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.5:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.13:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.2.13.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.3.Final:runtime\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n[INFO] |  |  +- io.smallrye:jandex:jar:3.0.5:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.9:runtime\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\r\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\r\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\r\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\r\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.5:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.5:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.13:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.13:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.13:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.13:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.9:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.5:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.5:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.5:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.5:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.11:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.11:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.9:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.5:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.3:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.5:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.15:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.15:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.15:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.13:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.5:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.5:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.13:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-docker-compose:jar:3.1.5:runtime\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.5:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.3:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.3:compile\r\n[INFO] |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.3:compile\r\n[INFO] +- org.apache.commons:commons-csv:jar:1.8:compile\r\n[INFO] +- com.mysql:mysql-connector-j:jar:8.0.33:runtime\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.5:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.5:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.5:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.8.0:test\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.1:runtime\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\r\n[INFO]    +- net.minidev:json-smart:jar:2.4.11:test\r\n[INFO]    |  \\- net.minidev:accessors-smart:jar:2.4.11:test\r\n[INFO]    |     \\- org.ow2.asm:asm:jar:9.3:test\r\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\r\n[INFO]    +- org.mockito:mockito-core:jar:5.3.1:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.9:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.13:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.13:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.13:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.723 s\r\n[INFO] Finished at: 2023-10-20T18:57:05+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n``` \r\n  [1]: https://i.stack.imgur.com/4boXB.png","title":"I can&#39;t import csv dependencies in my spring boot application","body":"<p>I'm trying to do an application that take data from a csv file and store it in db.\nSo I've added the dependency in my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n<p>But when I try to import csv in my project it can't be found as you can see in image<a href=\"https://i.stack.imgur.com/4boXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4boXB.png\" alt=\"enter image description here\" /></a>\nall csv classes are signed red</p>\n<p><strong>My code (Helper Class):</strong>\nall csv classes are signed red</p>\n<pre><code>package com.example.FlorenceConsulting.Helper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.example.FlorenceConsulting.Model.User;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVParser;\nimport org.apache.commons.csv.CSVRecord;\nimport org.springframework.web.multipart.MultipartFile;\npublic class CSVHelper {\n    public static String TYPE = &quot;text/csv&quot;;\n    static String[] HEADERs = { &quot;nome&quot;, &quot;cognome&quot;, &quot;mail&quot;, &quot;indirizzo&quot; };\n\n    public static boolean hasCSVFormat(MultipartFile file) {\n\n        if (!TYPE.equals(file.getContentType())) {\n            return false;\n        }\n\n        return true;\n    }\n\n    public static List&lt;User&gt; csvToTutorials(InputStream is) {\n        try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n             CSVParser csvParser = new CSVParser(fileReader,\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\n\n            List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n            Iterable&lt;CSVRecord&gt; csvRecords = csvParser.getRecords();\n\n            for (CSVRecord csvRecord : csvRecords) {\n                User user = new User(\n                        Long.parseLong(csvRecord.get(&quot;nome&quot;)),\n                        csvRecord.get(&quot;cognome&quot;),\n                        csvRecord.get(&quot;mail&quot;),\n                        csvRecord.get(&quot;indirizzo&quot;)\n                );\n\n                users.add(user);\n            }\n\n            return users;\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;fail to parse CSV file: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>Maven Dependency tree (mvn dependency:tree)</strong></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------&lt; com.example:FlorenceConsulting &gt;-------------------\n[INFO] Building FlorenceConsulting 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ FlorenceConsulting ---\n[INFO] com.example:FlorenceConsulting:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.5:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.13:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.20:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.5:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.13:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.2.13.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.3.Final:runtime\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  |  +- io.smallrye:jandex:jar:3.0.5:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.9:runtime\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.13:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.13:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.13:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.13:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.9:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.5:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.5:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.11:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.11:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.9:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.5:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.15:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.15:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.15:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.13:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.5:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.5:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.13:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.13:compile\n[INFO] +- org.springframework.boot:spring-boot-docker-compose:jar:3.1.5:runtime\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.5:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.3:compile\n[INFO] |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.3:compile\n[INFO] +- org.apache.commons:commons-csv:jar:1.8:compile\n[INFO] +- com.mysql:mysql-connector-j:jar:8.0.33:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.5:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.5:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.5:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.8.0:test\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.1:runtime\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\n[INFO]    +- net.minidev:json-smart:jar:2.4.11:test\n[INFO]    |  \\- net.minidev:accessors-smart:jar:2.4.11:test\n[INFO]    |     \\- org.ow2.asm:asm:jar:9.3:test\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\n[INFO]    +- org.mockito:mockito-core:jar:5.3.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.9:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.13:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.13:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.13:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.723 s\n[INFO] Finished at: 2023-10-20T18:57:05+02:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697921248,"post_id":77334436,"comment_id":136340861,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1698100823,"post_id":77334436,"comment_id":136360160,"body_markdown":"you shouldn&#39;t need robot class... you can send keys of the path to the file to the &lt;input type=&quot;file&quot;&gt; element and then submit the form.","body":"you shouldn&#39;t need robot class... you can send keys of the path to the file to the &lt;input type=&quot;file&quot;&gt; element and then submit the form."}],"owner":{"account_id":29719896,"reputation":1,"user_id":22777467,"display_name":"Jasti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697851547,"creation_date":1697851272,"question_id":77334436,"body_markdown":"I&#39;m trying to automate uploading an image functionality. It is working in Windows in my local using Robotclass. Our Jenkins use Linux and it&#39;s not working on Linux OS. \r\n\r\nI tried both AutoIT and Robotclass. Looking for a solution that helps automating upload an image/file that works on both Windows and Linux.","title":"Selenium - Automate &#39;Upload an image/file&#39; functionality that works on both Windows and Linux","body":"<p>I'm trying to automate uploading an image functionality. It is working in Windows in my local using Robotclass. Our Jenkins use Linux and it's not working on Linux OS.</p>\n<p>I tried both AutoIT and Robotclass. Looking for a solution that helps automating upload an image/file that works on both Windows and Linux.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":3,"creation_date":1697846605,"post_id":77334270,"comment_id":136335308,"body_markdown":"The type parameter? Impossible, and that is by design. But if you pass in a variable that is type T, that is possible. If that is acceptable, I can type up an answer for you.","body":"The type parameter? Impossible, and that is by design. But if you pass in a variable that is type T, that is possible. If that is acceptable, I can type up an answer for you."},{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":2,"creation_date":1697846920,"post_id":77334270,"comment_id":136335326,"body_markdown":"&quot;Type erasure&quot; ensures that types are only available before compilation. Thus, your &quot;T&quot; is not available when running the code.","body":"&quot;Type erasure&quot; ensures that types are only available before compilation. Thus, your &quot;T&quot; is not available when running the code."},{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1697847377,"post_id":77334270,"comment_id":136335350,"body_markdown":"What about *this.getClass() == String.class* ?","body":"What about <i>this.getClass() == String.class</i> ?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1697848109,"post_id":77334270,"comment_id":136335393,"body_markdown":"@GyroGearloose *What about this.getClass() == String.class ?* -- This will not work unless you have an instance of `T` sitting around. If `this` is an instance of `T`, then yes, that might work. But if that was true, you should already know the answer to that question, and it wouldn&#39;t make much sense to ask it. It would be like asking myself &quot;***Hello me - what is your name?***&quot; I already know my name.","body":"@GyroGearloose <i>What about this.getClass() == String.class ?</i> -- This will not work unless you have an instance of <code>T</code> sitting around. If <code>this</code> is an instance of <code>T</code>, then yes, that might work. But if that was true, you should already know the answer to that question, and it wouldn&#39;t make much sense to ask it. It would be like asking myself &quot;<b><i>Hello me - what is your name?</i></b>&quot; I already know my name."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697851430,"post_id":77334270,"comment_id":136335545,"body_markdown":"More specifically, how does _T_ apply to the _method_.  You may be able to _[bound](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)_ _T_.","body":"More specifically, how does <i>T</i> apply to the <i>method</i>.  You may be able to <i><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">bound</a></i> <i>T</i>."},{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1698172894,"post_id":77334270,"comment_id":136370794,"body_markdown":"@davidalayachew Yes, T might be available *indirectly*, not by design  but haphazardly because when some type T is used, there is a fair chance that some object of that calss is hanging around somewhere.","body":"@davidalayachew Yes, T might be available <i>indirectly</i>, not by design  but haphazardly because when some type T is used, there is a fair chance that some object of that calss is hanging around somewhere."}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1697850198,"post_id":77334385,"comment_id":136335489,"body_markdown":"This is definitely another way to do it. Arguably the most convenient way, but not always possible. Where do I go to look up information about type tokens? Google is not being very helpful.","body":"This is definitely another way to do it. Arguably the most convenient way, but not always possible. Where do I go to look up information about type tokens? Google is not being very helpful."},{"owner":{"account_id":1702181,"reputation":11523,"user_id":1561937,"accept_rate":68,"display_name":"Mando"},"score":0,"creation_date":1697858839,"post_id":77334385,"comment_id":136335887,"body_markdown":"hm... so I need to change the signature of my method to accept that parameter, It&#39;s not ideal, but it&#39;s doable. Is that the only `convenient` way?","body":"hm... so I need to change the signature of my method to accept that parameter, It&#39;s not ideal, but it&#39;s doable. Is that the only <code>convenient</code> way?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697933025,"post_id":77334385,"comment_id":136341669,"body_markdown":"I&#39;m afraid so. Unless you have a reference to an object that is an instance of the type, in which case you could inspect that.","body":"I&#39;m afraid so. Unless you have a reference to an object that is an instance of the type, in which case you could inspect that."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697849524,"creation_date":1697849524,"answer_id":77334385,"question_id":77334270,"body_markdown":"Due to erasure, the only way is to pass a type token:\r\n\r\n```\r\npublic &lt;T&gt; T readSomething(Class&lt;T&gt; clazz) {\r\n   if (clazz == String.class) {\r\n       ...\r\n   }\r\n}\r\n```\r\n","title":"How to compare generic parameter type with another specific type in Java?","body":"<p>Due to erasure, the only way is to pass a type token:</p>\n<pre><code>public &lt;T&gt; T readSomething(Class&lt;T&gt; clazz) {\n   if (clazz == String.class) {\n       ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1702181,"reputation":11523,"user_id":1561937,"accept_rate":68,"display_name":"Mando"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77334385,"answer_count":1,"score":0,"last_activity_date":1697849524,"creation_date":1697845955,"question_id":77334270,"body_markdown":"I have a generic method in my Android app using Java. How in the method body I can check that the generic parameter is of a given type? I want to do something like following: \r\n\r\n```Java\r\npublic &lt;T&gt; T readSomething() {\r\n   if (T == String.class) {\r\n       ...\r\n   }\r\n}\r\n```","title":"How to compare generic parameter type with another specific type in Java?","body":"<p>I have a generic method in my Android app using Java. How in the method body I can check that the generic parameter is of a given type? I want to do something like following:</p>\n<pre><code>public &lt;T&gt; T readSomething() {\n   if (T == String.class) {\n       ...\n   }\n}\n</code></pre>\n"},{"tags":["java","android","android-alertdialog","onbackpressed","ime"],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697847525,"creation_date":1697847525,"question_id":77334326,"body_markdown":"If we have a customized AlertDialog containing some input field, selection of that component would prompt the IME virtual keyboard of the device to pop up. Now, if we dismiss the entire AlertDialog by simply clicking anywhere outside of its bounds (NOT by pressing the back navigation key/ gesture), LogCat logs the following error:\r\n```\r\nIme callback not found. Ignoring unregisterReceivedCallback.\r\n```\r\n\r\nThis seemingly doesn&#39;t affect anything, since it&#39;s just ignored a mentioned by the log message, but I&#39;m not sure of it and would rather it not appear. But I&#39;m unable to find a way to attach a callback method for the IME on the component. To be exact, I am unable to identify the actual method to override or set and whether to do this on the Component level, ActivityLevel, or on the InputMethodManager instance itself.\r\n\r\nSome searches on this indicated I might have to do something at ```OnBackPressedDispatcher``` but I could not find exactly what to do there.\r\n\r\nMost searches also yield Kotlin code, which is interesting because the callback pattern has mostly been used in Kotlin coded apps. So perhaps this is a Kotlin specific thing, much like coroutines?\r\n\r\nI&#39;ve also tried attaching an ```OnEditorActionListener``` to my component to no avail\r\n```\r\n.setOnEditorActionListener(new TextView.OnEditorActionListener()\r\n{\r\n\t@Override\r\n\tpublic boolean onEditorAction(TextView v, int actionId, KeyEvent event)\r\n\t{\r\n\t\tif(actionId == EditorInfo.SOME_CODE)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n});\r\n```\r\n\r\nI&#39;ve tried setting a custom ```OnDismissListener``` on my custom AlertDialog without results. The thing is, we cannot solve it without first knowing _what_ to solve. On that aspect, I found some code relating to ```unregisterReceivedCallback``` [here](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/window/ImeOnBackInvokedDispatcher.java;drc=28e295395471b33e662b7116378d15f1e88f0864;l=224). However, the class containing the method (```ImeOnBackInvokedDispatcher```) is not extended by any of the classes involved in my issue that I can identify - not the AlertDialog, not the EditText, not Activity, nor InputMethodManager.\r\n\r\nMost likely, the method is abstract and has to be made concrete at ```getOnBackPressedDispatcher().addCallback(...``` (as the code in the above link implements the OnBackInvokedDispatcher interface class) but so far I&#39;m unable to figure out how to move forward.\r\n\r\nAny advice is much appreciated.","title":"Android Ime callback not found issue on AlertDialog dismiss","body":"<p>If we have a customized AlertDialog containing some input field, selection of that component would prompt the IME virtual keyboard of the device to pop up. Now, if we dismiss the entire AlertDialog by simply clicking anywhere outside of its bounds (NOT by pressing the back navigation key/ gesture), LogCat logs the following error:</p>\n<pre><code>Ime callback not found. Ignoring unregisterReceivedCallback.\n</code></pre>\n<p>This seemingly doesn't affect anything, since it's just ignored a mentioned by the log message, but I'm not sure of it and would rather it not appear. But I'm unable to find a way to attach a callback method for the IME on the component. To be exact, I am unable to identify the actual method to override or set and whether to do this on the Component level, ActivityLevel, or on the InputMethodManager instance itself.</p>\n<p>Some searches on this indicated I might have to do something at <code>OnBackPressedDispatcher</code> but I could not find exactly what to do there.</p>\n<p>Most searches also yield Kotlin code, which is interesting because the callback pattern has mostly been used in Kotlin coded apps. So perhaps this is a Kotlin specific thing, much like coroutines?</p>\n<p>I've also tried attaching an <code>OnEditorActionListener</code> to my component to no avail</p>\n<pre><code>.setOnEditorActionListener(new TextView.OnEditorActionListener()\n{\n    @Override\n    public boolean onEditorAction(TextView v, int actionId, KeyEvent event)\n    {\n        if(actionId == EditorInfo.SOME_CODE)\n        {\n            return true;\n        }\n        return false;\n    }\n});\n</code></pre>\n<p>I've tried setting a custom <code>OnDismissListener</code> on my custom AlertDialog without results. The thing is, we cannot solve it without first knowing <em>what</em> to solve. On that aspect, I found some code relating to <code>unregisterReceivedCallback</code> <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/window/ImeOnBackInvokedDispatcher.java;drc=28e295395471b33e662b7116378d15f1e88f0864;l=224\" rel=\"nofollow noreferrer\">here</a>. However, the class containing the method (<code>ImeOnBackInvokedDispatcher</code>) is not extended by any of the classes involved in my issue that I can identify - not the AlertDialog, not the EditText, not Activity, nor InputMethodManager.</p>\n<p>Most likely, the method is abstract and has to be made concrete at <code>getOnBackPressedDispatcher().addCallback(...</code> (as the code in the above link implements the OnBackInvokedDispatcher interface class) but so far I'm unable to figure out how to move forward.</p>\n<p>Any advice is much appreciated.</p>\n"},{"tags":["java","spring","spring-mvc","dependency-injection"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1362668946,"post_id":15274547,"comment_id":21548648,"body_markdown":"Take a look at this: http://stackoverflow.com/questions/13248066/how-to-reload-properties-with-spring. Once Spring has loaded the beans, I don&#39;t know if it can go modify them or replace them.","body":"Take a look at this: <a href=\"http://stackoverflow.com/questions/13248066/how-to-reload-properties-with-spring\" title=\"how to reload properties with spring\">stackoverflow.com/questions/13248066/&hellip;</a>. Once Spring has loaded the beans, I don&#39;t know if it can go modify them or replace them."},{"owner":{"account_id":7917932,"reputation":199,"user_id":5979804,"display_name":"asfmlr"},"score":0,"creation_date":1569268283,"post_id":15274547,"comment_id":102534264,"body_markdown":"you should use refershScope:\nhttps://static.javadoc.io/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/scope/refresh/RefreshScope.html","body":"you should use refershScope: <a href=\"https://static.javadoc.io/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/scope/refresh/RefreshScope.html\" rel=\"nofollow noreferrer\">static.javadoc.io/org.springframework.cloud/&hellip;</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1621361219,"post_id":15274547,"comment_id":119471524,"body_markdown":"If you use `@Configuration Properties`, you should at least be able to do it &quot;manually&quot;, ie use the setters for the fields read from file.","body":"If you use <code>@Configuration Properties</code>, you should at least be able to do it &quot;manually&quot;, ie use the setters for the fields read from file."}],"answers":[{"comments":[{"owner":{"account_id":936447,"reputation":2921,"user_id":965294,"accept_rate":32,"display_name":"jsf"},"score":1,"creation_date":1362671143,"post_id":15274855,"comment_id":21550253,"body_markdown":"The problem with this approach is I&#39;ll have to restart the application everytime I make a change in one of my application.properties file. The solution I&#39;m looking for is - to be able to refresh/reload new values from application.properties file at runtime without have to restart the application.","body":"The problem with this approach is I&#39;ll have to restart the application everytime I make a change in one of my application.properties file. The solution I&#39;m looking for is - to be able to refresh/reload new values from application.properties file at runtime without have to restart the application."},{"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"score":1,"creation_date":1362671616,"post_id":15274855,"comment_id":21550604,"body_markdown":"This might help then - http://www.morgan-design.com/2012/08/reloadable-application-properties-with.html","body":"This might help then - <a href=\"http://www.morgan-design.com/2012/08/reloadable-application-properties-with.html\" rel=\"nofollow noreferrer\">morgan-design.com/2012/08/&hellip;</a>"}],"tags":[],"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362669614,"creation_date":1362669614,"answer_id":15274855,"question_id":15274547,"body_markdown":"On a standalone spring application in the main class you can do something like this: \r\n\r\n     //load the appcontext with refresh value as false\r\n    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\r\n    \t\t\t\t\tnew String[] { &quot;classpath:appcontext.xml&quot; }, false);\r\n    //add the props file\r\n    context.getEnvironment().getPropertySources().addFirst(new ResourcePropertySource(&quot;classpath:app.properties&quot;));\r\n    //refresh the context\r\n    context.refresh();\r\n\r\nWhat this does is to load the spring context with the properties defined in the all the properties which is called inside the appcontext.xml file, but does not refresh at load time. Then it says to load the **app.properties** as first. At that time only the values in app.properties is considered. And then the context is refreshed. Now the property values in app.properties file is loaded. With this you do not need to rebuild the application, you can just change the values and restart the application","title":"Spring how to reload the values from application.properties at runtime","body":"<p>On a standalone spring application in the main class you can do something like this: </p>\n\n<pre><code> //load the appcontext with refresh value as false\nClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\n                    new String[] { \"classpath:appcontext.xml\" }, false);\n//add the props file\ncontext.getEnvironment().getPropertySources().addFirst(new ResourcePropertySource(\"classpath:app.properties\"));\n//refresh the context\ncontext.refresh();\n</code></pre>\n\n<p>What this does is to load the spring context with the properties defined in the all the properties which is called inside the appcontext.xml file, but does not refresh at load time. Then it says to load the <strong>app.properties</strong> as first. At that time only the values in app.properties is considered. And then the context is refreshed. Now the property values in app.properties file is loaded. With this you do not need to rebuild the application, you can just change the values and restart the application</p>\n"},{"tags":[],"owner":{"account_id":4354066,"reputation":1065,"user_id":3553312,"accept_rate":0,"display_name":"K M Dilshan Udara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631981662,"creation_date":1631981431,"answer_id":69236348,"question_id":15274547,"body_markdown":"You can&#39;t reload the properties in application.properties once the application context has started unless the java process has closed and you need to build and run again. Ideal option is to use a session or cache or any event driven messaging framework like Kafka. It&#39;s totally depend on your requirement and frameworks that you are capable to use. ","title":"Spring how to reload the values from application.properties at runtime","body":"<p>You can't reload the properties in application.properties once the application context has started unless the java process has closed and you need to build and run again. Ideal option is to use a session or cache or any event driven messaging framework like Kafka. It's totally depend on your requirement and frameworks that you are capable to use.</p>\n"}],"owner":{"account_id":936447,"reputation":2921,"user_id":965294,"accept_rate":32,"display_name":"jsf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8772,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1697847101,"creation_date":1362668692,"question_id":15274547,"body_markdown":"In my Spring application I load `application.properties` file from outside the application e.g. `/user/home/properties/application.properties`. The values in the file are injected via @Value annotation in the beans. The new requirement I&#39;ve is to be able to change values in `application.properties` file and reload (or reinject) the new values in the beans.\r\n\r\nIs something like this possible in Spring 3.2?","title":"Spring how to reload the values from application.properties at runtime","body":"<p>In my Spring application I load <code>application.properties</code> file from outside the application e.g. <code>/user/home/properties/application.properties</code>. The values in the file are injected via @Value annotation in the beans. The new requirement I've is to be able to change values in <code>application.properties</code> file and reload (or reinject) the new values in the beans.</p>\n\n<p>Is something like this possible in Spring 3.2?</p>\n"},{"tags":["java","sql","oracle","gradle","liquibase"],"answers":[{"tags":[],"owner":{"account_id":15153355,"reputation":367,"user_id":10935011,"display_name":"Aditi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624375431,"creation_date":1624375431,"answer_id":68086390,"question_id":67964148,"body_markdown":"as far as I know, you might want to have 2 different `liquibase.properties` file specifying the database url. Also, if you are using only 1 changelog file, you can make use of [labels][1], that will allow only labeled changesets to run against specified database.\r\n\r\n\r\n  [1]: https://docs.liquibase.com/concepts/advanced/labels.html","title":"Is it possible to change database connections between changesets in Liquibase?","body":"<p>as far as I know, you might want to have 2 different <code>liquibase.properties</code> file specifying the database url. Also, if you are using only 1 changelog file, you can make use of <a href=\"https://docs.liquibase.com/concepts/advanced/labels.html\" rel=\"nofollow noreferrer\">labels</a>, that will allow only labeled changesets to run against specified database.</p>\n"},{"tags":[],"owner":{"account_id":21070300,"reputation":206,"user_id":15486677,"display_name":"Daryl Doak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624386194,"creation_date":1624386194,"answer_id":68088984,"question_id":67964148,"body_markdown":"I also answered this on the Liquibase forum...\r\n\r\nYou cant change connections within an execution of Liquibase.\r\n\r\nI would suggest separating into two changelogs and running two Liquibase deployments, one for DB1, and one for DB2.","title":"Is it possible to change database connections between changesets in Liquibase?","body":"<p>I also answered this on the Liquibase forum...</p>\n<p>You cant change connections within an execution of Liquibase.</p>\n<p>I would suggest separating into two changelogs and running two Liquibase deployments, one for DB1, and one for DB2.</p>\n"},{"tags":[],"owner":{"account_id":11406822,"reputation":21,"user_id":8362038,"display_name":"praskutti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697847091,"creation_date":1697847091,"answer_id":77334311,"question_id":67964148,"body_markdown":"I know this an old thread but for someone looking for a way, here is what I did \r\n1. Kept the connection string (jdbc url) in the properties to master (or any db of your preferene)\r\n``` \r\nEnter the Target database &#39;url&#39; information\r\nliquibase.command.url=jdbc:sqlserver://localhost;**database=master**;applicationname=LiquibasePoC;encrypt=false;trustServerCertificate=false\r\n```\r\n2. Used &lt;sql&gt; tag to flip the database for each changeset. Like this:   \r\n``` xml\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog&gt;\r\n       &lt;changeSet author=&quot;user&quot; id=&quot;BaseObjects&quot;&gt;\r\n            **&lt;sql&gt;use liquibasePOC1;&lt;/sql&gt; &lt;!-- flip to DB 1 --&gt;**\r\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/tables/dbo.Table1.sql&quot; \r\n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\r\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/tables/dbo.Table2.sql&quot; \r\n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\r\n            **&lt;sql&gt;use liquibasePOC2;&lt;/sql&gt; &lt;!-- flip to DB 2 --&gt;**\r\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/procedures/dbo.SP1.sql&quot; \r\n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\r\n            **&lt;sql&gt;use master;&lt;/sql&gt; &lt;!-- back to connection string db so that DATACHANGELOG gets updated properly --&gt;**\r\n        &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n```\r\n ","title":"Is it possible to change database connections between changesets in Liquibase?","body":"<p>I know this an old thread but for someone looking for a way, here is what I did</p>\n<ol>\n<li>Kept the connection string (jdbc url) in the properties to master (or any db of your preferene)</li>\n</ol>\n<pre><code>Enter the Target database 'url' information\nliquibase.command.url=jdbc:sqlserver://localhost;**database=master**;applicationname=LiquibasePoC;encrypt=false;trustServerCertificate=false\n</code></pre>\n<ol start=\"2\">\n<li>Used  tag to flip the database for each changeset. Like this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;databaseChangeLog&gt;\n       &lt;changeSet author=&quot;user&quot; id=&quot;BaseObjects&quot;&gt;\n            **&lt;sql&gt;use liquibasePOC1;&lt;/sql&gt; &lt;!-- flip to DB 1 --&gt;**\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/tables/dbo.Table1.sql&quot; \n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/tables/dbo.Table2.sql&quot; \n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\n            **&lt;sql&gt;use liquibasePOC2;&lt;/sql&gt; &lt;!-- flip to DB 2 --&gt;**\n            &lt;sqlFile dbms=&quot;mssql&quot; encoding=&quot;UTF-8&quot; endDelimiter=&quot;\\nGO&quot; path=&quot;./changesets/liquibasepocdb/procedures/dbo.SP1.sql&quot; \n                    relativeToChangelogFile=&quot;false&quot; splitStatements=&quot;true&quot; stripComments=&quot;true&quot; /&gt;\n            **&lt;sql&gt;use master;&lt;/sql&gt; &lt;!-- back to connection string db so that DATACHANGELOG gets updated properly --&gt;**\n        &lt;/changeSet&gt;\n    &lt;/databaseChangeLog&gt;\n</code></pre>\n"}],"owner":{"account_id":11998390,"reputation":371,"user_id":8779124,"display_name":"eastmael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697847091,"creation_date":1623637834,"question_id":67964148,"body_markdown":"I&#39;ve looked into Liquibase [`changesets`](https://docs.liquibase.com/concepts/basic/changeset.html), [`customChange`](https://docs.liquibase.com/change-types/community/custom-change.html), and [`contexts`](https://docs.liquibase.com/concepts/advanced/contexts.html), but after reading through materials these couple of days, I still haven&#39;t found an answer that could help me accomplish what I want to do.\r\n\r\nBasically, I have database change scripts that I want to run through Liquibase. This is what I have.\r\n\r\n1. `script1.sql`\r\n    * `DROP MATERIALIZED VIEW LOG on TABLE1`\r\n2. `script2.sql`\r\n    * `DROP MATERIALIZED VIEW TABLE1`\r\n\r\n`script1.sql` should be run on a certain `DB1`, while `script2.sql` should be run on a certain `DB2`. The database URLs for `DB1` and `DB2` are:\r\n\r\n1. `DB1`: `&#39;jdbc:oracle:thin:@db_host:1521:DB1&#39;`\r\n2. `DB2`: `&#39;jdbc:oracle:thin:@db_host:1521:DB2&#39;`\r\n\r\nI have the ff. defined in `build.gradle`:\r\n\r\n```gradle\r\nliquibase {\r\n  activities {\r\n    main {\r\n      changeLogFile &quot;$projectDir/src/main/db/main-changelogs.xml&quot;\r\n      url &#39;jdbc:oracle:thin:@db_host:1521:DB1&#39;\r\n      username &#39;root&#39;\r\n      password &#39;root&#39;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMy changelog is defined as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n\r\n&lt;databaseChangeLog  \r\n  xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; \r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n  xmlns:pro=&quot;http://www.liquibase.org/xml/ns/pro&quot;\r\n  xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.0.xsd\r\n      http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd&quot;&gt;  \r\n\r\n    &lt;changeSet id=&quot;1&quot; author=&quot;bob&quot;&gt;  \r\n        &lt;sqlFile dbms=&quot;oracle&quot;\r\n          path=&quot;my/path/script1.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;  \r\n    &lt;changeSet id=&quot;2&quot; author=&quot;bob&quot;&gt;  \r\n        &lt;sqlFile dbms=&quot;oracle&quot;\r\n          path=&quot;my/path/script2.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;  \r\n\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\n**My question thus is, how do I switch connection between `DB1` and `DB2` within my changelog?**","title":"Is it possible to change database connections between changesets in Liquibase?","body":"<p>I've looked into Liquibase <a href=\"https://docs.liquibase.com/concepts/basic/changeset.html\" rel=\"nofollow noreferrer\"><code>changesets</code></a>, <a href=\"https://docs.liquibase.com/change-types/community/custom-change.html\" rel=\"nofollow noreferrer\"><code>customChange</code></a>, and <a href=\"https://docs.liquibase.com/concepts/advanced/contexts.html\" rel=\"nofollow noreferrer\"><code>contexts</code></a>, but after reading through materials these couple of days, I still haven't found an answer that could help me accomplish what I want to do.</p>\n<p>Basically, I have database change scripts that I want to run through Liquibase. This is what I have.</p>\n<ol>\n<li><code>script1.sql</code>\n<ul>\n<li><code>DROP MATERIALIZED VIEW LOG on TABLE1</code></li>\n</ul>\n</li>\n<li><code>script2.sql</code>\n<ul>\n<li><code>DROP MATERIALIZED VIEW TABLE1</code></li>\n</ul>\n</li>\n</ol>\n<p><code>script1.sql</code> should be run on a certain <code>DB1</code>, while <code>script2.sql</code> should be run on a certain <code>DB2</code>. The database URLs for <code>DB1</code> and <code>DB2</code> are:</p>\n<ol>\n<li><code>DB1</code>: <code>'jdbc:oracle:thin:@db_host:1521:DB1'</code></li>\n<li><code>DB2</code>: <code>'jdbc:oracle:thin:@db_host:1521:DB2'</code></li>\n</ol>\n<p>I have the ff. defined in <code>build.gradle</code>:</p>\n<pre><code>liquibase {\n  activities {\n    main {\n      changeLogFile &quot;$projectDir/src/main/db/main-changelogs.xml&quot;\n      url 'jdbc:oracle:thin:@db_host:1521:DB1'\n      username 'root'\n      password 'root'\n    }\n  }\n}\n</code></pre>\n<p>My changelog is defined as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \n\n&lt;databaseChangeLog  \n  xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot; \n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n  xmlns:pro=&quot;http://www.liquibase.org/xml/ns/pro&quot;\n  xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.0.xsd\n      http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd&quot;&gt;  \n\n    &lt;changeSet id=&quot;1&quot; author=&quot;bob&quot;&gt;  \n        &lt;sqlFile dbms=&quot;oracle&quot;\n          path=&quot;my/path/script1.sql&quot; /&gt;\n    &lt;/changeSet&gt;  \n    &lt;changeSet id=&quot;2&quot; author=&quot;bob&quot;&gt;  \n        &lt;sqlFile dbms=&quot;oracle&quot;\n          path=&quot;my/path/script2.sql&quot; /&gt;\n    &lt;/changeSet&gt;  \n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p><strong>My question thus is, how do I switch connection between <code>DB1</code> and <code>DB2</code> within my changelog?</strong></p>\n"},{"tags":["java","c++","performance","fsm"],"answers":[{"tags":[],"owner":{"account_id":705947,"reputation":49,"user_id":599067,"display_name":"just me"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1296593594,"creation_date":1296593594,"answer_id":4867821,"question_id":4088439,"body_markdown":"What are the &quot;benefits&quot; of Java, for your purposes? What specific problem does that platform solve that you need? What is the performance constraint you must consider? Were the &quot;comparisons&quot; fair, because Java is actually extremely difficult to benchmark. So is C++, but you can at least get some algorithmic boundary guarantees from STL.\r\n\r\nI suggest you look at OpenFst and the AT&amp;T finite-state transducer tools. There are others out there, but I think your worry about Java puts the cart before the horse-- focus on what solves your problem well. \r\n\r\nGood luck!\r\n","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>What are the \"benefits\" of Java, for your purposes? What specific problem does that platform solve that you need? What is the performance constraint you must consider? Were the \"comparisons\" fair, because Java is actually extremely difficult to benchmark. So is C++, but you can at least get some algorithmic boundary guarantees from STL.</p>\n\n<p>I suggest you look at OpenFst and the AT&amp;T finite-state transducer tools. There are others out there, but I think your worry about Java puts the cart before the horse-- focus on what solves your problem well. </p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":20256,"reputation":4211,"user_id":48206,"accept_rate":75,"display_name":"Paul Dixon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313040767,"creation_date":1313040767,"answer_id":7021231,"question_id":4088439,"body_markdown":"http://jautomata.sourceforge.net/ and http://www.cs.duke.edu/csed/jflap/ are based Java finite state machine libraries, although I don&#39;t have experience using them so I cannot comment on the efficiency.","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p><a href=\"http://jautomata.sourceforge.net/\" rel=\"nofollow\">http://jautomata.sourceforge.net/</a> and <a href=\"http://www.cs.duke.edu/csed/jflap/\" rel=\"nofollow\">http://www.cs.duke.edu/csed/jflap/</a> are based Java finite state machine libraries, although I don't have experience using them so I cannot comment on the efficiency.</p>\n"},{"tags":[],"owner":{"account_id":451351,"reputation":1330,"user_id":847202,"display_name":"Florent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328464378,"creation_date":1328464378,"answer_id":9151510,"question_id":4088439,"body_markdown":"The problem here is the minimum size of your objects in Java. In C++, without virtual methods and run time type identification, your objects weight exactly their content. And the time your automata take to manipulate memory has a big impact on performance.\r\n\r\nI think that should be the main reason for choosing C++ over Java.\r\n\r\n","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>The problem here is the minimum size of your objects in Java. In C++, without virtual methods and run time type identification, your objects weight exactly their content. And the time your automata take to manipulate memory has a big impact on performance.</p>\n\n<p>I think that should be the main reason for choosing C++ over Java.</p>\n"},{"tags":[],"owner":{"account_id":1580297,"reputation":21,"user_id":1465804,"display_name":"Marcin Mikowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340094100,"creation_date":1340094100,"answer_id":11097069,"question_id":4088439,"body_markdown":"I&#39;m one of the developers of the [morfologik-stemming][1] library. It&#39;s pure Java and its performance is very good, both when you build the automaton and when you use it. We use it for morphological analysis in LanguageTool.\r\n\r\n\r\n  [1]: https://sourceforge.net/projects/morfologik/","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>I'm one of the developers of the <a href=\"https://sourceforge.net/projects/morfologik/\" rel=\"nofollow\">morfologik-stemming</a> library. It's pure Java and its performance is very good, both when you build the automaton and when you use it. We use it for morphological analysis in LanguageTool.</p>\n"},{"tags":[],"owner":{"account_id":336222,"reputation":1234,"user_id":663759,"accept_rate":40,"display_name":"steve_ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432779600,"creation_date":1413259890,"answer_id":26352527,"question_id":4088439,"body_markdown":"OpenFST is a C++ finite state transducer framework that is really comprehensive.  Some people from CMU ported it to Java for use in their natural language processing.  \r\n\r\nA blog post series [describing it][1].  \r\nThe code is located [on svn][2].\r\n\r\nUpdate:\r\nI ported it to java [here][3]\r\n\r\n  [1]: http://cmusphinx.sourceforge.net/2012/05/porting-openfst-to-java-part-1/\r\n  [2]: https://svn.code.sf.net/p/cmusphinx/code/branches/g2p/fst/\r\n  [3]: https://github.com/steveash/jopenfst","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>OpenFST is a C++ finite state transducer framework that is really comprehensive.  Some people from CMU ported it to Java for use in their natural language processing.  </p>\n\n<p>A blog post series <a href=\"http://cmusphinx.sourceforge.net/2012/05/porting-openfst-to-java-part-1/\" rel=\"nofollow\">describing it</a>.<br>\nThe code is located <a href=\"https://svn.code.sf.net/p/cmusphinx/code/branches/g2p/fst/\" rel=\"nofollow\">on svn</a>.</p>\n\n<p>Update:\nI ported it to java <a href=\"https://github.com/steveash/jopenfst\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1167867,"reputation":5014,"user_id":1145750,"accept_rate":69,"display_name":"Gary Gauh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626577778,"creation_date":1626577778,"answer_id":68425691,"question_id":4088439,"body_markdown":"Lucene has a excellent [implementation](https://lucene.apache.org/core/8_4_0/core/org/apache/lucene/util/fst/package-summary.html) of FST, which is easy to use and high performance, making query engines like Elasticsearch, Solr deliver very fast sub-second term based query.Let me take an example:\r\n\r\n```\r\nimport com.google.common.base.Preconditions;\r\nimport org.apache.lucene.store.ByteArrayDataInput;\r\nimport org.apache.lucene.store.DataInput;\r\nimport org.apache.lucene.store.GrowableByteArrayDataOutput;\r\nimport org.apache.lucene.util.BytesRef;\r\nimport org.apache.lucene.util.IntsRefBuilder;\r\nimport org.apache.lucene.util.fst.Builder;\r\nimport org.apache.lucene.util.fst.FST;\r\nimport org.apache.lucene.util.fst.PositiveIntOutputs;\r\nimport org.apache.lucene.util.fst.Util;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class T {\r\n\r\n    private final String inputValues[] = {&quot;cat&quot;, &quot;dog&quot;, &quot;dogs&quot;};\r\n    private final long outputValues[] = {5, 7, 12};\r\n\r\n    // https://lucene.apache.org/core/8_4_0/core/org/apache/lucene/util/fst/package-summary.html\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        T t = new T();\r\n\r\n        FST&lt;Long&gt; fst = t.buildFSTInMemory();\r\n        System.out.println(String.format(&quot;memory used for fst is %d bytes&quot;, fst.ramBytesUsed()));\r\n        t.searchFST(fst);\r\n        byte[] bytes = t.serialize(fst);\r\n        System.out.println(String.format(&quot;length of serialized fst is %d bytes&quot;, bytes.length));\r\n        fst = t.deserialize(bytes);\r\n        t.searchFST(fst);\r\n    }\r\n\r\n    private FST&lt;Long&gt; buildFSTInMemory() throws IOException {\r\n        // Input values (keys). These must be provided to Builder in Unicode sorted order! Use Collections.sort() to sort inputValues first.\r\n\r\n        PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\r\n        Builder&lt;Long&gt; builder = new Builder&lt;Long&gt;(FST.INPUT_TYPE.BYTE1, outputs);\r\n        BytesRef scratchBytes = new BytesRef();\r\n        IntsRefBuilder scratchInts = new IntsRefBuilder();\r\n        for (int i = 0; i &lt; inputValues.length; i++) {\r\n//            scratchBytes.copyChars(inputValues[i]);\r\n            scratchBytes.bytes = inputValues[i].getBytes();\r\n            scratchBytes.offset = 0;\r\n            scratchBytes.length = inputValues[i].length();\r\n            builder.add(Util.toIntsRef(scratchBytes, scratchInts), outputValues[i]);\r\n        }\r\n        FST&lt;Long&gt; fst = builder.finish();\r\n\r\n        return fst;\r\n    }\r\n\r\n    private FST&lt;Long&gt; deserialize(byte[] bytes) throws IOException {\r\n        DataInput in = new ByteArrayDataInput(bytes);\r\n        PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\r\n        FST&lt;Long&gt; fst = new FST&lt;Long&gt;(in, outputs);\r\n        return fst;\r\n    }\r\n\r\n    private byte[] serialize(FST&lt;Long&gt; fst) throws IOException {\r\n        final int capicity = 32;\r\n        GrowableByteArrayDataOutput out = new GrowableByteArrayDataOutput(capicity);\r\n        fst.save(out);\r\n\r\n        return out.getBytes();\r\n    }\r\n\r\n    private void searchFST(FST&lt;Long&gt; fst) throws IOException {\r\n        for (int i = 0; i &lt; inputValues.length; i++) {\r\n            Long value = Util.get(fst, new BytesRef(inputValues[i]));\r\n            Preconditions.checkState(value == outputValues[i], &quot;fatal error&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>Lucene has a excellent <a href=\"https://lucene.apache.org/core/8_4_0/core/org/apache/lucene/util/fst/package-summary.html\" rel=\"nofollow noreferrer\">implementation</a> of FST, which is easy to use and high performance, making query engines like Elasticsearch, Solr deliver very fast sub-second term based query.Let me take an example:</p>\n<pre><code>import com.google.common.base.Preconditions;\nimport org.apache.lucene.store.ByteArrayDataInput;\nimport org.apache.lucene.store.DataInput;\nimport org.apache.lucene.store.GrowableByteArrayDataOutput;\nimport org.apache.lucene.util.BytesRef;\nimport org.apache.lucene.util.IntsRefBuilder;\nimport org.apache.lucene.util.fst.Builder;\nimport org.apache.lucene.util.fst.FST;\nimport org.apache.lucene.util.fst.PositiveIntOutputs;\nimport org.apache.lucene.util.fst.Util;\n\nimport java.io.IOException;\n\npublic class T {\n\n    private final String inputValues[] = {&quot;cat&quot;, &quot;dog&quot;, &quot;dogs&quot;};\n    private final long outputValues[] = {5, 7, 12};\n\n    // https://lucene.apache.org/core/8_4_0/core/org/apache/lucene/util/fst/package-summary.html\n    public static void main(String[] args) throws IOException {\n\n        T t = new T();\n\n        FST&lt;Long&gt; fst = t.buildFSTInMemory();\n        System.out.println(String.format(&quot;memory used for fst is %d bytes&quot;, fst.ramBytesUsed()));\n        t.searchFST(fst);\n        byte[] bytes = t.serialize(fst);\n        System.out.println(String.format(&quot;length of serialized fst is %d bytes&quot;, bytes.length));\n        fst = t.deserialize(bytes);\n        t.searchFST(fst);\n    }\n\n    private FST&lt;Long&gt; buildFSTInMemory() throws IOException {\n        // Input values (keys). These must be provided to Builder in Unicode sorted order! Use Collections.sort() to sort inputValues first.\n\n        PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n        Builder&lt;Long&gt; builder = new Builder&lt;Long&gt;(FST.INPUT_TYPE.BYTE1, outputs);\n        BytesRef scratchBytes = new BytesRef();\n        IntsRefBuilder scratchInts = new IntsRefBuilder();\n        for (int i = 0; i &lt; inputValues.length; i++) {\n//            scratchBytes.copyChars(inputValues[i]);\n            scratchBytes.bytes = inputValues[i].getBytes();\n            scratchBytes.offset = 0;\n            scratchBytes.length = inputValues[i].length();\n            builder.add(Util.toIntsRef(scratchBytes, scratchInts), outputValues[i]);\n        }\n        FST&lt;Long&gt; fst = builder.finish();\n\n        return fst;\n    }\n\n    private FST&lt;Long&gt; deserialize(byte[] bytes) throws IOException {\n        DataInput in = new ByteArrayDataInput(bytes);\n        PositiveIntOutputs outputs = PositiveIntOutputs.getSingleton();\n        FST&lt;Long&gt; fst = new FST&lt;Long&gt;(in, outputs);\n        return fst;\n    }\n\n    private byte[] serialize(FST&lt;Long&gt; fst) throws IOException {\n        final int capicity = 32;\n        GrowableByteArrayDataOutput out = new GrowableByteArrayDataOutput(capicity);\n        fst.save(out);\n\n        return out.getBytes();\n    }\n\n    private void searchFST(FST&lt;Long&gt; fst) throws IOException {\n        for (int i = 0; i &lt; inputValues.length; i++) {\n            Long value = Util.get(fst, new BytesRef(inputValues[i]));\n            Preconditions.checkState(value == outputValues[i], &quot;fatal error&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25909915,"reputation":1,"user_id":19635184,"display_name":"Jrte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697847076,"creation_date":1697847076,"answer_id":77334310,"question_id":4088439,"body_markdown":"Try [ginr][1]. It can compile very complex regular expressions and relations. Regular relations that are 1-1 specify single-valued partial word functions (FSTs). See also [ribose][2], which builds FSTs from ginr automata for use in the Java VM.\r\n\r\n\r\n  [1]: https://github.com/ntozubod/ginr\r\n  [2]: https://github.com/jrte/ribose","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>Try <a href=\"https://github.com/ntozubod/ginr\" rel=\"nofollow noreferrer\">ginr</a>. It can compile very complex regular expressions and relations. Regular relations that are 1-1 specify single-valued partial word functions (FSTs). See also <a href=\"https://github.com/jrte/ribose\" rel=\"nofollow noreferrer\">ribose</a>, which builds FSTs from ginr automata for use in the Java VM.</p>\n"}],"owner":{"account_id":231587,"reputation":89,"user_id":495903,"display_name":"Cdiniz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4432,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":7,"score":8,"last_activity_date":1697847076,"creation_date":1288796725,"question_id":4088439,"body_markdown":"I have a problem to solve using FSTs. \r\nBasically, I&#39;ll make a morphological parser, and in this moment i have to work with large transducers. The performance is The Big issue here.\r\n\r\nRecently, i worked in c++ in other projects where the performance matters, but now, i&#39;am considering java, because the java&#39;s benefits and because java is getting better.\r\n\r\nI studied some comparisons between java and c++, but I cannot decide what language i should use for this specific problem because it depends on lib in use.\r\n\r\nI can&#180;t find much information about java&#39;s libs, so, my question is: Are there any open source java libs in which the performance is good, like [The RWTH FSA Toolkit][1] that i read in an article that is the fastest c++ lib?\r\n\r\nThanks all.\r\n\r\n\r\n  [1]: http://www-i6.informatik.rwth-aachen.de/~kanthak/fsa.html","title":"FST (Finite-state transducers) Libraries, C++ or java","body":"<p>I have a problem to solve using FSTs. \nBasically, I'll make a morphological parser, and in this moment i have to work with large transducers. The performance is The Big issue here.</p>\n\n<p>Recently, i worked in c++ in other projects where the performance matters, but now, i'am considering java, because the java's benefits and because java is getting better.</p>\n\n<p>I studied some comparisons between java and c++, but I cannot decide what language i should use for this specific problem because it depends on lib in use.</p>\n\n<p>I cant find much information about java's libs, so, my question is: Are there any open source java libs in which the performance is good, like <a href=\"http://www-i6.informatik.rwth-aachen.de/~kanthak/fsa.html\" rel=\"noreferrer\">The RWTH FSA Toolkit</a> that i read in an article that is the fastest c++ lib?</p>\n\n<p>Thanks all.</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697838204,"post_id":77333883,"comment_id":136334581,"body_markdown":"the indexing starts from 0 and for collection that have 18 items in it the length will be 18 but that index of last item will be 17, starting from 0","body":"the indexing starts from 0 and for collection that have 18 items in it the length will be 18 but that index of last item will be 17, starting from 0"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697838243,"post_id":77333883,"comment_id":136334587,"body_markdown":"Which of the two files is giving you an error? Please post a [example], not a de-contextualized method with two different input files. Chances are the problem is not even in the piece of code you posted.","body":"Which of the two files is giving you an error? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not a de-contextualized method with two different input files. Chances are the problem is not even in the piece of code you posted."},{"owner":{"account_id":28690731,"reputation":7,"user_id":21970027,"display_name":"Utkarsh Jain"},"score":0,"creation_date":1697838923,"post_id":77333883,"comment_id":136334654,"body_markdown":"that delivery file gives me error when i am trying to access it","body":"that delivery file gives me error when i am trying to access it"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697841132,"post_id":77333883,"comment_id":136334917,"body_markdown":"are you sure the error is in posted code? I see no indexed access","body":"are you sure the error is in posted code? I see no indexed access"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697841537,"post_id":77333883,"comment_id":136334961,"body_markdown":"And the first file has 21 columns in the header but most rows have 18 columns filled and (coincidence?) the error is trying to access the 19th  value... BTW (or not) the one-argument `split` will ignore all empty *cells* at the end of the input string, not appropriate for reading CSV-files/tables","body":"And the first file has 21 columns in the header but most rows have 18 columns filled and (coincidence?) the error is trying to access the 19th  value... BTW (or not) the one-argument <code>split</code> will ignore all empty <i>cells</i> at the end of the input string, not appropriate for reading CSV-files/tables"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1697841538,"post_id":77333883,"comment_id":136334962,"body_markdown":"`line.split(&quot;,&quot;)` is a completely inappropriate way to parse a CSV file. CSV files can have embedded commas inside double-quoted strings, escaped double quotes inside them, even line breaks inside them. Use a proper CSV library like Apache Commons CSV. Parsing CSV files yourself is one of those things programmers always think they can just throw together and it always ends in tears.","body":"<code>line.split(&quot;,&quot;)</code> is a completely inappropriate way to parse a CSV file. CSV files can have embedded commas inside double-quoted strings, escaped double quotes inside them, even line breaks inside them. Use a proper CSV library like Apache Commons CSV. Parsing CSV files yourself is one of those things programmers always think they can just throw together and it always ends in tears."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697841708,"post_id":77333883,"comment_id":136334977,"body_markdown":"Here is the [CSV file standard, RFC 4180](https://datatracker.ietf.org/doc/html/rfc4180), if you want to implement it, but why would you when Apache Commons has already done it for you?","body":"Here is the <a href=\"https://datatracker.ietf.org/doc/html/rfc4180\" rel=\"nofollow noreferrer\">CSV file standard, RFC 4180</a>, if you want to implement it, but why would you when Apache Commons has already done it for you?"}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697844794,"post_id":77334175,"comment_id":136335190,"body_markdown":"&quot;`String.split&quot;,&quot;)` will return an array with length equal to the number of fields found&quot; is not *exactly correct* - it not return empty fields at the end of the input (e.g. `&quot;1,2,,&quot;.split(&quot;,&quot;)` returns `String[2] { &quot;1&quot;, &quot;2&quot; }` - the string has 4 fields; 3 commas; but the resulting array only 2 elements) || [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)): &quot;*Trailing empty strings are therefore not included in the resulting array.*&quot;","body":"&quot;<code>String.split&quot;,&quot;)</code> will return an array with length equal to the number of fields found&quot; is not <i>exactly correct</i> - it not return empty fields at the end of the input (e.g. <code>&quot;1,2,,&quot;.split(&quot;,&quot;)</code> returns <code>String[2] { &quot;1&quot;, &quot;2&quot; }</code> - the string has 4 fields; 3 commas; but the resulting array only 2 elements) || <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>Trailing empty strings are therefore not included in the resulting array.</i>&quot;"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1697845024,"post_id":77334175,"comment_id":136335209,"body_markdown":"I just checked, it depends on the `limit` parameter which is optional. If you `split(&quot;,&quot;, 20)` you will get all fields, but if it&#39;s 0 or omitted, you&#39;re right, the trailing ones will be omitted. That could be the source of the original problem.","body":"I just checked, it depends on the <code>limit</code> parameter which is optional. If you <code>split(&quot;,&quot;, 20)</code> you will get all fields, but if it&#39;s 0 or omitted, you&#39;re right, the trailing ones will be omitted. That could be the source of the original problem."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697845708,"post_id":77334175,"comment_id":136335259,"body_markdown":"BTW speaking of &quot;*not exactly coherent.*&quot;, that file has 21 columns in the header (A - U), not 20 ... just saying :-/","body":"BTW speaking of &quot;<i>not exactly coherent.</i>&quot;, that file has 21 columns in the header (A - U), not 20 ... just saying :-/"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1697846021,"post_id":77334175,"comment_id":136335283,"body_markdown":"Okay, adding another correction...","body":"Okay, adding another correction..."}],"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697846088,"creation_date":1697843693,"answer_id":77334175,"question_id":77333883,"body_markdown":"The comments have the answer, but they&#39;re not exactly coherent.\r\n\r\n`String.split(&quot;,&quot;, limit)` will return an array with length equal to the number of fields found up to `limit` (corrected based on a comment below), so if there are 17 commas, it will be an array with index [0] to [17], length 18. If `limit` is 0 or omitted, any empty fields at the end will be omitted. The file delivery.csv has headers with 21 fields, but not all lines are the same length. That&#39;s the first problem, you should specify the expected limit, and all lines should have 20 commas (any short lines should have empty fields at the end like &quot;abc,def,qrs,tuv,,,&quot;).\r\n\r\nOn the other hand, your software should also be able to deal with errors like this. If you use a package that&#39;s been developed for reading CSV files, that&#39;s probably already been done. If you want to use `split()` in this way, you have to check the length of the returned array before trying to access it.\r\n\r\nAlso you might need to validate the CSV file in other ways, it might omit fields in the middle (e.g. instead of &quot;abc,,ghi&quot; it might have &quot;abc,ghi&quot;). If that&#39;s the case, try to get a file that&#39;s formatted correctly, or you might need to encode special cases to correct these problems.\r\n\r\nAlso, make sure the file doesn&#39;t have cases like &quot;`abc,&quot;d,f&quot;,ghi`&quot; or &quot;`abc,d\\,f,ghi`&quot; which have commas in the data. CSV parsing packages can deal with those cases, it will be harder for you to add code to handle that always correctly.","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 18 out of bounds for length 18","body":"<p>The comments have the answer, but they're not exactly coherent.</p>\n<p><code>String.split(&quot;,&quot;, limit)</code> will return an array with length equal to the number of fields found up to <code>limit</code> (corrected based on a comment below), so if there are 17 commas, it will be an array with index [0] to [17], length 18. If <code>limit</code> is 0 or omitted, any empty fields at the end will be omitted. The file delivery.csv has headers with 21 fields, but not all lines are the same length. That's the first problem, you should specify the expected limit, and all lines should have 20 commas (any short lines should have empty fields at the end like &quot;abc,def,qrs,tuv,,,&quot;).</p>\n<p>On the other hand, your software should also be able to deal with errors like this. If you use a package that's been developed for reading CSV files, that's probably already been done. If you want to use <code>split()</code> in this way, you have to check the length of the returned array before trying to access it.</p>\n<p>Also you might need to validate the CSV file in other ways, it might omit fields in the middle (e.g. instead of &quot;abc,,ghi&quot; it might have &quot;abc,ghi&quot;). If that's the case, try to get a file that's formatted correctly, or you might need to encode special cases to correct these problems.</p>\n<p>Also, make sure the file doesn't have cases like &quot;<code>abc,&quot;d,f&quot;,ghi</code>&quot; or &quot;<code>abc,d\\,f,ghi</code>&quot; which have commas in the data. CSV parsing packages can deal with those cases, it will be harder for you to add code to handle that always correctly.</p>\n"}],"owner":{"account_id":28690731,"reputation":7,"user_id":21970027,"display_name":"Utkarsh Jain"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1697892434,"answer_count":1,"score":-2,"last_activity_date":1697846088,"creation_date":1697837757,"question_id":77333883,"body_markdown":"```\r\nclass CSVFileParser {\r\n    ArrayList&lt;String[]&gt; convertCSVToArrayList(String filePath) {\r\n        String line = &quot;&quot;;\r\n        ArrayList&lt;String[]&gt; rows = new ArrayList&lt;&gt;();\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(filePath));\r\n            while ((line = br.readLine()) != null) {\r\n                String[] row = line.split(&quot;,&quot;);\r\n                rows.add(row);\r\n            }\r\n            br.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return rows;\r\n    }\r\n}\r\n```\r\nPlease help me why its not working. When i try to add 18th index this error come, till 17th its working fine, anyone fix this for me, where I am doing mistake\r\n\r\n[delivery.csv file](https://drive.google.com/file/d/18gxnHRaFujUjun9i76AQfsVaKxuheT59/view?usp=share_link)\r\n[matches.csv file](https://drive.google.com/file/d/1YVarYi2qWGxp5hVqsmGQVzCRiAPNg5Cq/view?usp=share_link)","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 18 out of bounds for length 18","body":"<pre><code>class CSVFileParser {\n    ArrayList&lt;String[]&gt; convertCSVToArrayList(String filePath) {\n        String line = &quot;&quot;;\n        ArrayList&lt;String[]&gt; rows = new ArrayList&lt;&gt;();\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(filePath));\n            while ((line = br.readLine()) != null) {\n                String[] row = line.split(&quot;,&quot;);\n                rows.add(row);\n            }\n            br.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return rows;\n    }\n}\n</code></pre>\n<p>Please help me why its not working. When i try to add 18th index this error come, till 17th its working fine, anyone fix this for me, where I am doing mistake</p>\n<p><a href=\"https://drive.google.com/file/d/18gxnHRaFujUjun9i76AQfsVaKxuheT59/view?usp=share_link\" rel=\"nofollow noreferrer\">delivery.csv file</a>\n<a href=\"https://drive.google.com/file/d/1YVarYi2qWGxp5hVqsmGQVzCRiAPNg5Cq/view?usp=share_link\" rel=\"nofollow noreferrer\">matches.csv file</a></p>\n"},{"tags":["java","spring-boot","spring-webflux","r2dbc"],"answers":[{"comments":[{"owner":{"display_name":"user15440295"},"score":0,"creation_date":1616256849,"post_id":66723714,"comment_id":117947649,"body_markdown":"I need reactive programming so I have to write with reactivecrudrepository","body":"I need reactive programming so I have to write with reactivecrudrepository"},{"owner":{"display_name":"user15440295"},"score":0,"creation_date":1616256898,"post_id":66723714,"comment_id":117947659,"body_markdown":"In the example given to me, it is given with the due one to one relationship, so it should be like that.","body":"In the example given to me, it is given with the due one to one relationship, so it should be like that."},{"owner":{"display_name":"user15440295"},"score":0,"creation_date":1616256974,"post_id":66723714,"comment_id":117947682,"body_markdown":"I think the problem is about these, but thanks for your help","body":"I think the problem is about these, but thanks for your help"}],"tags":[],"owner":{"account_id":21012058,"reputation":11,"user_id":15440441,"display_name":"ubt3"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1616256541,"creation_date":1616256541,"answer_id":66723714,"question_id":66723610,"body_markdown":"Alright mate, firstly, why exactly does this &quot;Due&quot; entity need to be its own entity?\r\nI mean, a task may have a deadline and it may be recurring. Keep it simple. \r\n\r\nRegarding the code, irrespective of domain modelling aspects:\r\n\r\nUse Long or UUID as ID field types. Personally, I&#39;ve never seen int in production.\r\n\r\nCreate a CrudRepo for those &quot;Due&quot; entities to check out whether you can query them on their own. Write a test to verify that.\r\n\r\nMy guess is that the &quot;JoinTable&quot; annotation is somehow redundant and/or misconfigured. Try &quot;Due.ID&quot; instead of &quot;Due_ID&quot; to tell it which field of the Due object it should take.","title":"Webflux R2dbc problem one-to-one relation tables","body":"<p>Alright mate, firstly, why exactly does this &quot;Due&quot; entity need to be its own entity?\nI mean, a task may have a deadline and it may be recurring. Keep it simple.</p>\n<p>Regarding the code, irrespective of domain modelling aspects:</p>\n<p>Use Long or UUID as ID field types. Personally, I've never seen int in production.</p>\n<p>Create a CrudRepo for those &quot;Due&quot; entities to check out whether you can query them on their own. Write a test to verify that.</p>\n<p>My guess is that the &quot;JoinTable&quot; annotation is somehow redundant and/or misconfigured. Try &quot;Due.ID&quot; instead of &quot;Due_ID&quot; to tell it which field of the Due object it should take.</p>\n"},{"comments":[{"owner":{"display_name":"user15440295"},"score":0,"creation_date":1616262801,"post_id":66724718,"comment_id":117949383,"body_markdown":"Then will it be non blocking?","body":"Then will it be non blocking?"},{"owner":{"display_name":"user15440295"},"score":0,"creation_date":1616263002,"post_id":66724718,"comment_id":117949435,"body_markdown":"So I have to use mapping when the code block is too big","body":"So I have to use mapping when the code block is too big"},{"owner":{"account_id":8263976,"reputation":1032,"user_id":6214284,"accept_rate":50,"display_name":"sawim"},"score":1,"creation_date":1616263425,"post_id":66724718,"comment_id":117949572,"body_markdown":"It will be nonblocking if you write it properly ;) you could create a TaskDto class, which contains all fields you want to send in response, change `Due due` field in Task class to `Integer dueId` and then in `TaskManager` select and map all required data: `tasksRepository.findAll().flatMap(task -&gt; dueRepository.findById(task.getDueId()).map(due -&gt; new TaskDto(...)))`","body":"It will be nonblocking if you write it properly ;) you could create a TaskDto class, which contains all fields you want to send in response, change <code>Due due</code> field in Task class to <code>Integer dueId</code> and then in <code>TaskManager</code> select and map all required data: <code>tasksRepository.findAll().flatMap(task -&gt; dueRepository.findById(task.getDueId()).map(due -&gt; new TaskDto(...)))</code>"},{"owner":{"account_id":8263976,"reputation":1032,"user_id":6214284,"accept_rate":50,"display_name":"sawim"},"score":0,"creation_date":1616263497,"post_id":66724718,"comment_id":117949590,"body_markdown":"Alternatively consider merging Task with Due table since its one-to-one relationship","body":"Alternatively consider merging Task with Due table since its one-to-one relationship"},{"owner":{"account_id":557120,"reputation":1151,"user_id":919456,"display_name":"Dzmitry Hubin"},"score":0,"creation_date":1661811128,"post_id":66724718,"comment_id":129855924,"body_markdown":"looks interesting! Just afraid to trigger N+1 problem by inner looping dependent entities here.","body":"looks interesting! Just afraid to trigger N+1 problem by inner looping dependent entities here."}],"tags":[],"owner":{"account_id":8263976,"reputation":1032,"user_id":6214284,"accept_rate":50,"display_name":"sawim"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1616262587,"creation_date":1616262587,"answer_id":66724718,"question_id":66723610,"body_markdown":"R2DBC does not support relationships, so `JoinColumn` annotation won&#39;t work. Instead you can create a `DueRepository` and fetch this entity manually.","title":"Webflux R2dbc problem one-to-one relation tables","body":"<p>R2DBC does not support relationships, so <code>JoinColumn</code> annotation won't work. Instead you can create a <code>DueRepository</code> and fetch this entity manually.</p>\n"},{"tags":[],"owner":{"account_id":29719544,"reputation":1,"user_id":22777205,"display_name":"Luis Alejandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697845404,"creation_date":1697845290,"answer_id":77334237,"question_id":66723610,"body_markdown":"I came across this case when I was doing some queries in a service.\r\nTaking into account that &quot;R2DBC&quot; does not support &quot;JoinColumn&quot;, I did was to build a custom query in the repository.\r\n\r\n    @Query(&quot;SELECT * FROM task INNER JOIN due USING (id) WHERE id=:id&quot;)\r\n    Mono&lt;NewDto&gt; getCompleteTrx(String id);\r\n\r\nBut the important thing is that you have a Dto with the objects of the two tables that you are going to join, but it will not have the &quot;table&quot; annotations.\r\n\r\n      @Getter\r\n      @Setter\r\n      @Entity\r\n      public class NewDto { // depends on the relation you need\r\n    \r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;comment_count&quot;)\r\n        private Integer comment_count;\r\n    \r\n        @Column(name = &quot;completed&quot;)\r\n        private Boolean completed;\r\n    \r\n        @Column(name = &quot;content&quot;)\r\n        private String  content;\r\n    \r\n        @Column(name = &quot;url&quot;)\r\n        private String  url;\r\n    \r\n        @Column(name = &quot;orderdata&quot;)\r\n        private Integer orderdata;\r\n    \r\n        @Column(name = &quot;priority&quot;)\r\n        private Integer priority;\r\n    \r\n        @Column(name = &quot;date_data&quot;)\r\n        private Date date_Data;\r\n\r\n        @Column(name = &quot;string_data&quot;)\r\n        private String string_data;\r\n        ...\r\n    }\r\n    \r\nBy doing this, I could solve the problem I had, because I needed to join 3 tables, and I didn&#39;t want to do 3 queries, with this only one query is needed. then you can map the DTO to the object you need from your business layer.","title":"Webflux R2dbc problem one-to-one relation tables","body":"<p>I came across this case when I was doing some queries in a service.\nTaking into account that &quot;R2DBC&quot; does not support &quot;JoinColumn&quot;, I did was to build a custom query in the repository.</p>\n<pre><code>@Query(&quot;SELECT * FROM task INNER JOIN due USING (id) WHERE id=:id&quot;)\nMono&lt;NewDto&gt; getCompleteTrx(String id);\n</code></pre>\n<p>But the important thing is that you have a Dto with the objects of the two tables that you are going to join, but it will not have the &quot;table&quot; annotations.</p>\n<pre><code>  @Getter\n  @Setter\n  @Entity\n  public class NewDto { // depends on the relation you need\n\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;comment_count&quot;)\n    private Integer comment_count;\n\n    @Column(name = &quot;completed&quot;)\n    private Boolean completed;\n\n    @Column(name = &quot;content&quot;)\n    private String  content;\n\n    @Column(name = &quot;url&quot;)\n    private String  url;\n\n    @Column(name = &quot;orderdata&quot;)\n    private Integer orderdata;\n\n    @Column(name = &quot;priority&quot;)\n    private Integer priority;\n\n    @Column(name = &quot;date_data&quot;)\n    private Date date_Data;\n\n    @Column(name = &quot;string_data&quot;)\n    private String string_data;\n    ...\n}\n</code></pre>\n<p>By doing this, I could solve the problem I had, because I needed to join 3 tables, and I didn't want to do 3 queries, with this only one query is needed. then you can map the DTO to the object you need from your business layer.</p>\n"}],"owner":{"display_name":"user15440295"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66724718,"answer_count":3,"score":1,"last_activity_date":1697845404,"creation_date":1616255904,"question_id":66723610,"body_markdown":"**Hi everyone I am write Rest api project with R2dbc (non-blocking) but problem is table relation**\r\n\r\n**Task model**\r\n\r\n     @Getter\r\n     @Setter\r\n     @Entity(name = &quot;task&quot;)\r\n     @Table(name = &quot;task&quot;)\r\n     public class Task {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;,unique = true,nullable = false)\r\n        private Integer id;\r\n\r\n        @Column(name = &quot;comment_count&quot;)\r\n        private Integer comment_count;\r\n\r\n        @Column(name = &quot;completed&quot;)\r\n        private Boolean completed;\r\n\r\n        @Column(name = &quot;content&quot;)\r\n        private String  content;\r\n\r\n        @Column(name = &quot;url&quot;)\r\n        private String  url;\r\n\r\n        @Column(name = &quot;orderdata&quot;)\r\n        private Integer orderdata;\r\n\r\n        @Column(name = &quot;priority&quot;)\r\n        private Integer priority;\r\n\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;due_id&quot;)//this is relation table Due but this relation retunr response null\r\n        private Due due;\r\n\r\n     }\r\n\r\n**Due model**\r\n\r\n\r\n      @Getter\r\n      @Setter//Lombok library\r\n      @Entity\r\n      @Table(name = &quot;due&quot;)\r\n      public class Due {\r\n\r\n        @Id\r\n        @Column(nullable = false, unique = true, updatable = false)\r\n        private Integer id;\r\n\r\n       @Column(name = &quot;date_data&quot;)\r\n       private Date date_Data;\r\n\r\n       @Column\r\n       private Boolean recurring;\r\n\r\n       @Column(name = &quot;string_data&quot;)\r\n      private String string_data;\r\n\r\n\r\n    }\r\n\r\n**Tasks Repository**//this reactive crud repositroy\r\n\r\n         @Repository\r\n         public interface TasksRepository extends ReactiveCrudRepository&lt;Task,Integer&gt; {\r\n\r\n          }\r\n\r\n**Task Manager**//this is business layer \r\n\r\n       @Component\r\n       @Slf4j\r\n       @RequiredArgsConstructor\r\n       public class  TaskManager {\r\n\r\n              private final TasksRepository tasksRepository;\r\n\r\n              public Flux&lt;Task&gt; findAll() {\r\n               return tasksRepository.findAll();\r\n              }\r\n\r\n          }\r\n\r\n\r\n**Task Service**//this is service layer\r\n\r\n        @Service\r\n        @RequiredArgsConstructor\r\n        public class TasksService {\r\n\r\n\r\n            private final TaskManager taskManager;\r\n\r\n\r\n              public Flux&lt;Task&gt; getAll() {\r\n                return taskManager.findAll();\r\n          }\r\n        }\r\n   \r\n**Task Controller**\r\n\r\n      @RestController\r\n      @RequestMapping(&quot;/api/tasks&quot;)\r\n      @RequiredArgsConstructor\r\n      public class TasksController {\r\n\r\n  \r\n            private final TasksService tasksService;\r\n\r\n             @GetMapping\r\n             public Flux&lt;Task&gt; getAllTasks(){\r\n              return tasksService.getAll();\r\n           }\r\n         }\r\n\r\nTask Response\r\n      \r\nMy Rest Api Response Task\r\n\r\n         {\r\n            &quot;id&quot;: 1,\r\n            &quot;comment_count&quot;: 10,\r\n            &quot;completed&quot;: false,\r\n            &quot;content&quot;: &quot;new content&quot;,\r\n            &quot;url&quot;: &quot;http:8085.com&quot;,\r\n            &quot;orderdata&quot;: 5,\r\n            &quot;priority&quot;: 5,\r\n            &quot;due&quot;: {\r\n                 &quot;id&quot;: 3,\r\n                 &quot;date_Data&quot;: null,\r\n                 &quot;recurring&quot;: null,\r\n                 &quot;string_data&quot;: null\r\n     \r\n          } \r\n\r\n  \r\n**Problem One to One Relation Reponse null What is the problem ???  Please help me Thanks**\r\n\r\nError Trace \r\n\r\n\r\n      2021-03-20 20:49:57.161 ERROR 13652 --- [actor-tcp-nio-1] \r\n       r.n.channel.ChannelOperationsHandler     : [id: 0x1126662b, \r\n        L:/127.0.0.1:55827 - R:localhost/127.0.0.1:5432] Error was received while \r\n         reading the incoming data. The connection will be closed.\r\n\r\n        java.lang.StackOverflowError: null\r\n\t      at  io.netty.util.internal.ReferenceCountUpdater\r\n         .isLiveNonVolatile(ReferenceCountUpdt \r\n         er.java:88) ~[netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\t         at \r\n          io.netty.buffer.AbstractReferenceCountedByteBuf\r\n          .isAccessible(AbstractReferenceCountedByteBuf.java:56) ~[netty-buffer- \r\n           4.1.59.Final.jar:4.1.59.Final]\r\n\t       at io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1455) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.checkIndex(AbstractByteBuf.java:1385) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.UnsafeByteBufUtil.getBytes(UnsafeByteBufUtil.java:481) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.PooledUnsafeDirectByteBuf.getBytes(PooledUnsafeDirectByteBuf.java:130) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.PooledSlicedByteBuf.getBytes(PooledSlicedByteBuf.java:235) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.ByteBufUtil.decodeString(ByteBufUtil.java:1147) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.toString(AbstractByteBuf.java:1248) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.getCharSequence(AbstractByteBuf.java:515) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.readCharSequence(AbstractByteBuf.java:520) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.r2dbc.postgresql.util.ByteBufUtils.decode(ByteBufUtils.java:42) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.AbstractNumericCodec.decodeNumber(AbstractNumericCodec.java:122) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.AbstractNumericCodec.decodeNumber(AbstractNumericCodec.java:89) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.IntegerCodec.doDecode(IntegerCodec.java:49) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.IntegerCodec.doDecode(IntegerCodec.java:30) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.AbstractCodec.decode(AbstractCodec.java:82) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.codec.DefaultCodecs.decode(DefaultCodecs.java:149) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.PostgresqlRow.decode(PostgresqlRow.java:90) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.postgresql.PostgresqlRow.get(PostgresqlRow.java:77) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\r\n\tat io.r2dbc.spi.Row.get(Row.java:76) ~[r2dbc-spi-0.8.3.RELEASE.jar:na]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:173) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\r\n","title":"Webflux R2dbc problem one-to-one relation tables","body":"<p><strong>Hi everyone I am write Rest api project with R2dbc (non-blocking) but problem is table relation</strong></p>\n<p><strong>Task model</strong></p>\n<pre><code> @Getter\n @Setter\n @Entity(name = &quot;task&quot;)\n @Table(name = &quot;task&quot;)\n public class Task {\n\n    @Id\n    @Column(name = &quot;id&quot;,unique = true,nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;comment_count&quot;)\n    private Integer comment_count;\n\n    @Column(name = &quot;completed&quot;)\n    private Boolean completed;\n\n    @Column(name = &quot;content&quot;)\n    private String  content;\n\n    @Column(name = &quot;url&quot;)\n    private String  url;\n\n    @Column(name = &quot;orderdata&quot;)\n    private Integer orderdata;\n\n    @Column(name = &quot;priority&quot;)\n    private Integer priority;\n\n    @OneToOne\n    @JoinColumn(name = &quot;due_id&quot;)//this is relation table Due but this relation retunr response null\n    private Due due;\n\n }\n</code></pre>\n<p><strong>Due model</strong></p>\n<pre><code>  @Getter\n  @Setter//Lombok library\n  @Entity\n  @Table(name = &quot;due&quot;)\n  public class Due {\n\n    @Id\n    @Column(nullable = false, unique = true, updatable = false)\n    private Integer id;\n\n   @Column(name = &quot;date_data&quot;)\n   private Date date_Data;\n\n   @Column\n   private Boolean recurring;\n\n   @Column(name = &quot;string_data&quot;)\n  private String string_data;\n\n\n}\n</code></pre>\n<p><strong>Tasks Repository</strong>//this reactive crud repositroy</p>\n<pre><code>     @Repository\n     public interface TasksRepository extends ReactiveCrudRepository&lt;Task,Integer&gt; {\n\n      }\n</code></pre>\n<p><strong>Task Manager</strong>//this is business layer</p>\n<pre><code>   @Component\n   @Slf4j\n   @RequiredArgsConstructor\n   public class  TaskManager {\n\n          private final TasksRepository tasksRepository;\n\n          public Flux&lt;Task&gt; findAll() {\n           return tasksRepository.findAll();\n          }\n\n      }\n</code></pre>\n<p><strong>Task Service</strong>//this is service layer</p>\n<pre><code>    @Service\n    @RequiredArgsConstructor\n    public class TasksService {\n\n\n        private final TaskManager taskManager;\n\n\n          public Flux&lt;Task&gt; getAll() {\n            return taskManager.findAll();\n      }\n    }\n</code></pre>\n<p><strong>Task Controller</strong></p>\n<pre><code>  @RestController\n  @RequestMapping(&quot;/api/tasks&quot;)\n  @RequiredArgsConstructor\n  public class TasksController {\n\n\n        private final TasksService tasksService;\n\n         @GetMapping\n         public Flux&lt;Task&gt; getAllTasks(){\n          return tasksService.getAll();\n       }\n     }\n</code></pre>\n<p>Task Response</p>\n<p>My Rest Api Response Task</p>\n<pre><code>     {\n        &quot;id&quot;: 1,\n        &quot;comment_count&quot;: 10,\n        &quot;completed&quot;: false,\n        &quot;content&quot;: &quot;new content&quot;,\n        &quot;url&quot;: &quot;http:8085.com&quot;,\n        &quot;orderdata&quot;: 5,\n        &quot;priority&quot;: 5,\n        &quot;due&quot;: {\n             &quot;id&quot;: 3,\n             &quot;date_Data&quot;: null,\n             &quot;recurring&quot;: null,\n             &quot;string_data&quot;: null\n \n      } \n</code></pre>\n<p><strong>Problem One to One Relation Reponse null What is the problem ???  Please help me Thanks</strong></p>\n<p>Error Trace</p>\n<pre><code>  2021-03-20 20:49:57.161 ERROR 13652 --- [actor-tcp-nio-1] \n   r.n.channel.ChannelOperationsHandler     : [id: 0x1126662b, \n    L:/127.0.0.1:55827 - R:localhost/127.0.0.1:5432] Error was received while \n     reading the incoming data. The connection will be closed.\n\n    java.lang.StackOverflowError: null\n      at  io.netty.util.internal.ReferenceCountUpdater\n     .isLiveNonVolatile(ReferenceCountUpdt \n     er.java:88) ~[netty-common-4.1.59.Final.jar:4.1.59.Final]\n         at \n      io.netty.buffer.AbstractReferenceCountedByteBuf\n      .isAccessible(AbstractReferenceCountedByteBuf.java:56) ~[netty-buffer- \n       4.1.59.Final.jar:4.1.59.Final]\n       at io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1455) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.AbstractByteBuf.checkIndex(AbstractByteBuf.java:1385) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.UnsafeByteBufUtil.getBytes(UnsafeByteBufUtil.java:481) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.PooledUnsafeDirectByteBuf.getBytes(PooledUnsafeDirectByteBuf.java:130) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.PooledSlicedByteBuf.getBytes(PooledSlicedByteBuf.java:235) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.ByteBufUtil.decodeString(ByteBufUtil.java:1147) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.AbstractByteBuf.toString(AbstractByteBuf.java:1248) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.AbstractByteBuf.getCharSequence(AbstractByteBuf.java:515) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.netty.buffer.AbstractByteBuf.readCharSequence(AbstractByteBuf.java:520) ~[netty-buffer-4.1.59.Final.jar:4.1.59.Final]\nat io.r2dbc.postgresql.util.ByteBufUtils.decode(ByteBufUtils.java:42) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.AbstractNumericCodec.decodeNumber(AbstractNumericCodec.java:122) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.AbstractNumericCodec.decodeNumber(AbstractNumericCodec.java:89) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.IntegerCodec.doDecode(IntegerCodec.java:49) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.IntegerCodec.doDecode(IntegerCodec.java:30) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.AbstractCodec.decode(AbstractCodec.java:82) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.codec.DefaultCodecs.decode(DefaultCodecs.java:149) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.PostgresqlRow.decode(PostgresqlRow.java:90) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.postgresql.PostgresqlRow.get(PostgresqlRow.java:77) ~[r2dbc-postgresql-0.8.6.RELEASE.jar:0.8.6.RELEASE]\nat io.r2dbc.spi.Row.get(Row.java:76) ~[r2dbc-spi-0.8.3.RELEASE.jar:na]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:173) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readEntityFrom(MappingR2dbcConverter.java:294) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\nat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.readFrom(MappingR2dbcConverter.java:166) ~[spring-data-r2dbc-1.2.5.jar:1.2.5]\n</code></pre>\n"},{"tags":["java","ssl","java-11","java-http-client"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":1,"creation_date":1595363639,"post_id":63022464,"comment_id":111447701,"body_markdown":"You will need to create a SSLContext with your certificates and setup SSLParameters like param = new SSLParameters(); param.setNeedClientAuth(true); HttpClient.newBuilder(). sslContext(context).sslParameters(param)","body":"You will need to create a SSLContext with your certificates and setup SSLParameters like param = new SSLParameters(); param.setNeedClientAuth(true); HttpClient.newBuilder(). sslContext(context).sslParameters(param)"},{"owner":{"account_id":7837472,"reputation":1017,"user_id":5924962,"display_name":"fafrd"},"score":1,"creation_date":1595444031,"post_id":63022464,"comment_id":111480093,"body_markdown":"@JEY That&#39;s a good start, but I also need to set the certificate+key. It&#39;s not clear how to do this with SSLParametrs or SSLContext","body":"@JEY That&#39;s a good start, but I also need to set the certificate+key. It&#39;s not clear how to do this with SSLParametrs or SSLContext"}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1595621541,"post_id":63080443,"comment_id":111549272,"body_markdown":"crazy! I had to do that like 1/2 a day ago... `sslCtx.init(keyMgrFactory.getKeyManagers(), null, null);` - you are passing a null trust manager. is that really what you want?","body":"crazy! I had to do that like 1/2 a day ago... <code>sslCtx.init(keyMgrFactory.getKeyManagers(), null, null);</code> - you are passing a null trust manager. is that really what you want?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1595638251,"post_id":63080443,"comment_id":111553300,"body_markdown":"@Eugene: SSLContext.init(,trustmgr=null,) uses the _default_ trustmanager whcih in turn uses the default truststore which unless overridden is the file JRE/lib/security/cacerts, which is prepopulated with the &#39;usual suspects&#39; like Digicert GoDaddy LetsEncrypt. So usually yes you want that.","body":"@Eugene: SSLContext.init(,trustmgr=null,) uses the <i>default</i> trustmanager whcih in turn uses the default truststore which unless overridden is the file JRE/lib/security/cacerts, which is prepopulated with the &#39;usual suspects&#39; like Digicert GoDaddy LetsEncrypt. So usually yes you want that."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1595639001,"post_id":63080443,"comment_id":111553399,"body_markdown":"@dave_thompson_085 I am so glad you came up with this comment, I saw you answers and comments on this subject. The reasons I asked was because I had to create and empty `TrustManager` ( as opposed to a `null/default` one), otherwise I would always get a handshake failure. My knowledge is somehow limited in this area, so was wondering if you would bring some light... I received a private key and a client certificate in a pem file, and the only way for to connect was via an empty trust manager instead of a null, which looks like Ive done something fishy, at best.","body":"@dave_thompson_085 I am so glad you came up with this comment, I saw you answers and comments on this subject. The reasons I asked was because I had to create and empty <code>TrustManager</code> ( as opposed to a <code>null&#47;default</code> one), otherwise I would always get a handshake failure. My knowledge is somehow limited in this area, so was wondering if you would bring some light... I received a private key and a client certificate in a pem file, and the only way for to connect was via an empty trust manager instead of a null, which looks like Ive done something fishy, at best."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1595902804,"post_id":63080443,"comment_id":111628208,"body_markdown":"@Eugene: if you mean empty as in no trust anchors, that would work only with &#39;anonymous&#39; suites which are _very_ rare (and gone in TLS1.3). If you mean the oft-posted &#39;check-nothing/accept-everything&#39; stub code, that is insecure except in an environment where active attacks are fully prevented by other methods, which may well count as piscine. In any case, that&#39;s (1) a completely different issue than this Q, and A, and Stack comments not related to the Q&amp;A can be and often are deleted and (2) likely too complicated to handle in comments anyway. You may want to ask a Question.","body":"@Eugene: if you mean empty as in no trust anchors, that would work only with &#39;anonymous&#39; suites which are <i>very</i> rare (and gone in TLS1.3). If you mean the oft-posted &#39;check-nothing/accept-everything&#39; stub code, that is insecure except in an environment where active attacks are fully prevented by other methods, which may well count as piscine. In any case, that&#39;s (1) a completely different issue than this Q, and A, and Stack comments not related to the Q&amp;A can be and often are deleted and (2) likely too complicated to handle in comments anyway. You may want to ask a Question."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Kraso"},"score":2,"creation_date":1601712290,"post_id":63080443,"comment_id":113495604,"body_markdown":"Amount of code that is needed to make such a basic request is staggering. I think there should be a factory method that would allow a way to simply provide a two files (one with certificate and one with private key).","body":"Amount of code that is needed to make such a basic request is staggering. I think there should be a factory method that would allow a way to simply provide a two files (one with certificate and one with private key)."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Kraso"},"score":1,"creation_date":1601712928,"post_id":63080443,"comment_id":113495753,"body_markdown":"The line `final Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData));` does not work for X.509 encoded key, which is assumed in first lines of this fragment.","body":"The line <code>final Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData));</code> does not work for X.509 encoded key, which is assumed in first lines of this fragment."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697845768,"post_id":63080443,"comment_id":136335267,"body_markdown":"You don&#39;t need any of this. You can do it all with system properties as documented in the JSSE Reference Guide, unless you are dealing with self-signed certificates, in which case the cost i code here is obviously far higher than the saving. The key and certificate should already be in the keystore, which you can accomplish with the `keytool`, rather than having to load it every time in code here.","body":"You don&#39;t need any of this. You can do it all with system properties as documented in the JSSE Reference Guide, unless you are dealing with self-signed certificates, in which case the cost i code here is obviously far higher than the saving. The key and certificate should already be in the keystore, which you can accomplish with the <code>keytool</code>, rather than having to load it every time in code here."}],"tags":[],"owner":{"account_id":7837472,"reputation":1017,"user_id":5924962,"display_name":"fafrd"},"comment_count":7,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1595619667,"creation_date":1595619667,"answer_id":63080443,"question_id":63022464,"body_markdown":"Figured it out. Create an HttpClient, then pass in SSLContext and SSLParameters objects.\r\n\r\nLoad cert/key into SSLContext:\r\n\r\n     // cert+key data. assuming X509 pem format\r\n    final byte[] publicData = your_cert_data; // -----BEGIN CERTIFICATE----- ...\r\n    final byte[] privateData = your_key_data; // -----BEGIN PRIVATE KEY----- ...\r\n\r\n    // parse certificate\r\n    final CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    final Collection&lt;? extends Certificate&gt; chain = certificateFactory.generateCertificates(\r\n            new ByteArrayInputStream(publicData));\r\n\r\n    LOG.info(&quot;Successfully loaded the client cert certificate chain {}&quot;, String.join(&quot; -&gt; &quot;, chain\r\n            .stream()\r\n            .map(certificate -&gt; {\r\n                if (certificate instanceof X509Certificate) {\r\n                    final X509Certificate x509Cert = (X509Certificate) certificate;\r\n                    return x509Cert.getSubjectDN().toString();\r\n                } else {\r\n                    return certificate.getType();\r\n                }\r\n            }).collect(Collectors.toList())));\r\n\r\n    // parse key\r\n    final Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData));\r\n\r\n    // place cert+key into KeyStore\r\n    KeyStore clientKeyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n    final char[] pwdChars = KEYSTORE_PASSWORD.toCharArray(); // use a random string, like from java.security.SecureRandom\r\n    clientKeyStore.load(null, null);\r\n    clientKeyStore.setKeyEntry(YOUR_SERVICE_NAME, key, pwdChars, chain.toArray(new Certificate[0]));\r\n\r\n    // initialize KeyManagerFactory\r\n    KeyManagerFactory keyMgrFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    keyMgrFactory.init(clientKeyStore, pwdChars);\r\n\r\n    // populate SSLContext with key manager\r\n    SSLContext sslCtx = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    sslCtx.init(keyMgrFactory.getKeyManagers(), null, null);\r\n\r\nCreate ssl parameters, set needClientAuth to true: \r\n\r\n    SSLParameters sslParam = new SSLParameters();\r\n    sslParam.setNeedClientAuth(true);\r\n\r\nfinally, create the HttpClient:\r\n\r\n    HttpClient client = HttpClient.newBuilder()\r\n        .sslContext(sslCtx)\r\n        .sslParameters(sslParam)\r\n        .build();","title":"JDK11 HttpClient mutual tls","body":"<p>Figured it out. Create an HttpClient, then pass in SSLContext and SSLParameters objects.</p>\n<p>Load cert/key into SSLContext:</p>\n<pre><code> // cert+key data. assuming X509 pem format\nfinal byte[] publicData = your_cert_data; // -----BEGIN CERTIFICATE----- ...\nfinal byte[] privateData = your_key_data; // -----BEGIN PRIVATE KEY----- ...\n\n// parse certificate\nfinal CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\nfinal Collection&lt;? extends Certificate&gt; chain = certificateFactory.generateCertificates(\n        new ByteArrayInputStream(publicData));\n\nLOG.info(&quot;Successfully loaded the client cert certificate chain {}&quot;, String.join(&quot; -&gt; &quot;, chain\n        .stream()\n        .map(certificate -&gt; {\n            if (certificate instanceof X509Certificate) {\n                final X509Certificate x509Cert = (X509Certificate) certificate;\n                return x509Cert.getSubjectDN().toString();\n            } else {\n                return certificate.getType();\n            }\n        }).collect(Collectors.toList())));\n\n// parse key\nfinal Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData));\n\n// place cert+key into KeyStore\nKeyStore clientKeyStore = KeyStore.getInstance(&quot;jks&quot;);\nfinal char[] pwdChars = KEYSTORE_PASSWORD.toCharArray(); // use a random string, like from java.security.SecureRandom\nclientKeyStore.load(null, null);\nclientKeyStore.setKeyEntry(YOUR_SERVICE_NAME, key, pwdChars, chain.toArray(new Certificate[0]));\n\n// initialize KeyManagerFactory\nKeyManagerFactory keyMgrFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\nkeyMgrFactory.init(clientKeyStore, pwdChars);\n\n// populate SSLContext with key manager\nSSLContext sslCtx = SSLContext.getInstance(&quot;TLSv1.2&quot;);\nsslCtx.init(keyMgrFactory.getKeyManagers(), null, null);\n</code></pre>\n<p>Create ssl parameters, set needClientAuth to true:</p>\n<pre><code>SSLParameters sslParam = new SSLParameters();\nsslParam.setNeedClientAuth(true);\n</code></pre>\n<p>finally, create the HttpClient:</p>\n<pre><code>HttpClient client = HttpClient.newBuilder()\n    .sslContext(sslCtx)\n    .sslParameters(sslParam)\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29719577,"reputation":11,"user_id":22777230,"display_name":"fba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697845076,"creation_date":1697845076,"answer_id":77334232,"question_id":63022464,"body_markdown":"&#39; The line final Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData)); does not work for X.509 encoded key, which is assumed in first lines of this fragment. &#39;\r\n\r\nReplace:\r\n\r\n    final byte[] privateData = your_key_data; // -----BEGIN PRIVATE KEY----- ...\r\n\r\nBy:\r\n\r\n    final String privateDataString = &quot;-----BEGIN PRIVATE KEY-----\\n[...]\\n-----END PRIVATE KEY-----&quot;\r\n    final byte[] privateData = Base64.getDecoder().decode(privateDataString.replaceAll(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replaceAll(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;).replaceAll(&quot;\\\\n&quot;, &quot;&quot;));","title":"JDK11 HttpClient mutual tls","body":"<p>' The line final Key key = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateData)); does not work for X.509 encoded key, which is assumed in first lines of this fragment. '</p>\n<p>Replace:</p>\n<pre><code>final byte[] privateData = your_key_data; // -----BEGIN PRIVATE KEY----- ...\n</code></pre>\n<p>By:</p>\n<pre><code>final String privateDataString = &quot;-----BEGIN PRIVATE KEY-----\\n[...]\\n-----END PRIVATE KEY-----&quot;\nfinal byte[] privateData = Base64.getDecoder().decode(privateDataString.replaceAll(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replaceAll(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;).replaceAll(&quot;\\\\n&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":7837472,"reputation":1017,"user_id":5924962,"display_name":"fafrd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7041,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1697845076,"creation_date":1595362785,"question_id":63022464,"body_markdown":"I&#39;m looking to use the [new HttpClient provided in java 11][1]. It&#39;s not clear how to do mutual TLS (2 way auth, where both client and server present a certificate.)\r\n\r\nCould someone provide an example of mutual TLS with HttpClient?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html","title":"JDK11 HttpClient mutual tls","body":"<p>I'm looking to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\">new HttpClient provided in java 11</a>. It's not clear how to do mutual TLS (2 way auth, where both client and server present a certificate.)</p>\n<p>Could someone provide an example of mutual TLS with HttpClient?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-mvc"],"owner":{"account_id":25696055,"reputation":85,"user_id":19456723,"display_name":"nikolaPantelic98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697843009,"creation_date":1697842593,"question_id":77334121,"body_markdown":"On the frontend I use react, on the backend I use spring boot.\r\n\r\nI want to display icons from the server on the frontend. On the server side, I used the following code to display the icons:\r\n```\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    /**\r\n     * Registers resource handlers for resources like category icons.\r\n     *\r\n     * @param registry ResourceHandlerRegistry object that contains the resource mappings\r\n     */\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        String categoryIconsDirName = &quot;category-icons&quot;;\r\n        Path categoryIconsDir = Paths.get(categoryIconsDirName);\r\n        String categoryIconsPath = categoryIconsDir.toFile().getAbsolutePath();\r\n        registry.addResourceHandler(&quot;/category-icons/**&quot;).addResourceLocations(&quot;file:/&quot; + categoryIconsPath + &quot;/&quot;);\r\n    }\r\n}\r\n```\r\nIn the CategoryIcon entity, I use the transient field to get the icon path:\r\n```\r\n@Transient\r\n    public String getIconPath() {\r\n        return &quot;/category-icons/&quot; + this.id + &quot;/&quot; + this.icon;\r\n    }\r\n```\r\nSince my endpoint in the rest controller is mapped to `/icons/all` (controller that returns all icons), I use that endpoint in axios to forward the endpoint to the frontend:\r\n```\r\nconst [icons, setIcons] = useState([]);\r\nconst token = localStorage.getItem(&quot;token&quot;);\r\n\r\nconst headers = {\r\n    &#39;Authorization&#39;: `Bearer ${token}`\r\n};\r\n\r\nuseEffect(() =&gt; {\r\n    axios.get(&#39;http://localhost:8080/icons/all&#39;, { headers })\r\n        .then(response =&gt; {\r\n            setIcons(response.data);\r\n        })\r\n        .catch(error =&gt; console.error(&#39;Error fetching icons:&#39;, error));\r\n}, []);\r\n```\r\nAnd finally, I&#39;m trying to access the icons via the `&lt;Avatar&gt;` component as follows (`categoryIcon` is from `icons.map`):\r\n```\r\n&lt;Avatar className=&quot;w-8 h-8 rounded-full&quot; src={categoryIcon.iconPath} alt={categoryIcon.icon} /&gt;\r\n```\r\nThe problem is that the icons are not displayed. Where am I wrong? How to solve the problem?","title":"How to display icons from Spring Boot backend on React frontend?","body":"<p>On the frontend I use react, on the backend I use spring boot.</p>\n<p>I want to display icons from the server on the frontend. On the server side, I used the following code to display the icons:</p>\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    /**\n     * Registers resource handlers for resources like category icons.\n     *\n     * @param registry ResourceHandlerRegistry object that contains the resource mappings\n     */\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        String categoryIconsDirName = &quot;category-icons&quot;;\n        Path categoryIconsDir = Paths.get(categoryIconsDirName);\n        String categoryIconsPath = categoryIconsDir.toFile().getAbsolutePath();\n        registry.addResourceHandler(&quot;/category-icons/**&quot;).addResourceLocations(&quot;file:/&quot; + categoryIconsPath + &quot;/&quot;);\n    }\n}\n</code></pre>\n<p>In the CategoryIcon entity, I use the transient field to get the icon path:</p>\n<pre><code>@Transient\n    public String getIconPath() {\n        return &quot;/category-icons/&quot; + this.id + &quot;/&quot; + this.icon;\n    }\n</code></pre>\n<p>Since my endpoint in the rest controller is mapped to <code>/icons/all</code> (controller that returns all icons), I use that endpoint in axios to forward the endpoint to the frontend:</p>\n<pre><code>const [icons, setIcons] = useState([]);\nconst token = localStorage.getItem(&quot;token&quot;);\n\nconst headers = {\n    'Authorization': `Bearer ${token}`\n};\n\nuseEffect(() =&gt; {\n    axios.get('http://localhost:8080/icons/all', { headers })\n        .then(response =&gt; {\n            setIcons(response.data);\n        })\n        .catch(error =&gt; console.error('Error fetching icons:', error));\n}, []);\n</code></pre>\n<p>And finally, I'm trying to access the icons via the <code>&lt;Avatar&gt;</code> component as follows (<code>categoryIcon</code> is from <code>icons.map</code>):</p>\n<pre><code>&lt;Avatar className=&quot;w-8 h-8 rounded-full&quot; src={categoryIcon.iconPath} alt={categoryIcon.icon} /&gt;\n</code></pre>\n<p>The problem is that the icons are not displayed. Where am I wrong? How to solve the problem?</p>\n"},{"tags":["java","resources","classpath"],"comments":[{"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"score":1,"creation_date":1431245307,"post_id":3923129,"comment_id":48406026,"body_markdown":"Related answer: http://stackoverflow.com/a/30149061/4102160","body":"Related answer: <a href=\"http://stackoverflow.com/a/30149061/4102160\">stackoverflow.com/a/30149061/4102160</a>"}],"answers":[{"comments":[{"owner":{"account_id":173378,"reputation":4592,"user_id":402008,"accept_rate":100,"display_name":"Jeroen Rosenberg"},"score":3,"creation_date":1286970871,"post_id":3923182,"comment_id":4184467,"body_markdown":"Questioner knows how to implement it using standard java classes, but he wants to know how he can utilize existing (Spring, Apache Commons) libraries.","body":"Questioner knows how to implement it using standard java classes, but he wants to know how he can utilize existing (Spring, Apache Commons) libraries."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1286972776,"post_id":3923182,"comment_id":4184801,"body_markdown":"@Jeroen Rosenberg There is also another way given which has been selected finally :)","body":"@Jeroen Rosenberg There is also another way given which has been selected finally :)"},{"owner":{"account_id":115099,"reputation":12468,"user_id":302343,"accept_rate":90,"display_name":"Tim"},"score":10,"creation_date":1317132335,"post_id":3923182,"comment_id":9178581,"body_markdown":"I find this solution useful for cases you don&#39;t use Spring - it would be ridiculous to add a dependency on Spring becuase of this feature only. So, thank you! &quot;Dirty&quot; but useful :) P.S. One might want to use ``File.pathSeparator`` instead of hard-coded ``:`` in ``getResources`` method.","body":"I find this solution useful for cases you don&#39;t use Spring - it would be ridiculous to add a dependency on Spring becuase of this feature only. So, thank you! &quot;Dirty&quot; but useful :) P.S. One might want to use <code>File.pathSeparator</code> instead of hard-coded <code>:</code> in <code>getResources</code> method."},{"owner":{"account_id":147944,"reputation":4762,"user_id":359396,"accept_rate":67,"display_name":"dcompiled"},"score":5,"creation_date":1329684819,"post_id":3923182,"comment_id":11808431,"body_markdown":"The code example is system dependent, use this instead:\n\n     `final String[] classPathElements = classPath.split(System.pathSeparator);`","body":"The code example is system dependent, use this instead:       <code>final String[] classPathElements = classPath.split(System.pathSeparator);</code>"},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1408620356,"post_id":3923182,"comment_id":39663374,"body_markdown":"Examples can be found here - http://www.programcreek.com/java-api-examples/index.php?api=org.springframework.core.io.support.PathMatchingResourcePatternResolver","body":"Examples can be found here - <a href=\"http://www.programcreek.com/java-api-examples/index.php?api=org.springframework.core.io.support.PathMatchingResourcePatternResolver\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1454972382,"post_id":3923182,"comment_id":58273438,"body_markdown":"Caveat: The java.class.path system property may not contain the actual classpath you&#39;re running under. You could alternatively look at the class loader and interrogate it for what URLs it&#39;s loading classes from. The other caveat of course is that if you&#39;re doing this under a SecurityManager, the ZipFile constructor can reject your access to the file, so you should be catching that.","body":"Caveat: The java.class.path system property may not contain the actual classpath you&#39;re running under. You could alternatively look at the class loader and interrogate it for what URLs it&#39;s loading classes from. The other caveat of course is that if you&#39;re doing this under a SecurityManager, the ZipFile constructor can reject your access to the file, so you should be catching that."},{"owner":{"account_id":2235635,"reputation":722,"user_id":1972095,"accept_rate":22,"display_name":"Shashank"},"score":0,"creation_date":1516610755,"post_id":3923182,"comment_id":83741883,"body_markdown":"This one is working with desktop app but with webapp &quot;target\\classes&quot; is missing. Please help. I posted my problem here : https://stackoverflow.com/questions/48376728/java-code-missing-classpath-from-webapp-but-no-issues-in-desktop-app","body":"This one is working with desktop app but with webapp &quot;target\\classes&quot; is missing. Please help. I posted my problem here : <a href=\"https://stackoverflow.com/questions/48376728/java-code-missing-classpath-from-webapp-but-no-issues-in-desktop-app\" title=\"java code missing classpath from webapp but no issues in desktop app\">stackoverflow.com/questions/48376728/&hellip;</a>"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":7,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1447408473,"creation_date":1286969837,"answer_id":3923182,"question_id":3923129,"body_markdown":"Here is the code  \r\n**Source**: forums.devx.com/showthread.php?t=153784\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Enumeration;\r\n    import java.util.regex.Pattern;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipException;\r\n    import java.util.zip.ZipFile;\r\n    \r\n    /**\r\n     * list resources available from the classpath @ *\r\n     */\r\n    public class ResourceList{\r\n    \r\n        /**\r\n         * for all elements of java.class.path get a Collection of resources Pattern\r\n         * pattern = Pattern.compile(&quot;.*&quot;); gets all resources\r\n         * \r\n         * @param pattern\r\n         *            the pattern to match\r\n         * @return the resources in the order they are found\r\n         */\r\n        public static Collection&lt;String&gt; getResources(\r\n            final Pattern pattern){\r\n            final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\r\n            final String classPath = System.getProperty(&quot;java.class.path&quot;, &quot;.&quot;);\r\n            final String[] classPathElements = classPath.split(System.getProperty(&quot;path.separator&quot;));\r\n            for(final String element : classPathElements){\r\n                retval.addAll(getResources(element, pattern));\r\n            }\r\n            return retval;\r\n        }\r\n    \r\n        private static Collection&lt;String&gt; getResources(\r\n            final String element,\r\n            final Pattern pattern){\r\n            final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\r\n            final File file = new File(element);\r\n            if(file.isDirectory()){\r\n                retval.addAll(getResourcesFromDirectory(file, pattern));\r\n            } else{\r\n                retval.addAll(getResourcesFromJarFile(file, pattern));\r\n            }\r\n            return retval;\r\n        }\r\n    \r\n        private static Collection&lt;String&gt; getResourcesFromJarFile(\r\n            final File file,\r\n            final Pattern pattern){\r\n            final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\r\n            ZipFile zf;\r\n            try{\r\n                zf = new ZipFile(file);\r\n            } catch(final ZipException e){\r\n                throw new Error(e);\r\n            } catch(final IOException e){\r\n                throw new Error(e);\r\n            }\r\n            final Enumeration e = zf.entries();\r\n            while(e.hasMoreElements()){\r\n                final ZipEntry ze = (ZipEntry) e.nextElement();\r\n                final String fileName = ze.getName();\r\n                final boolean accept = pattern.matcher(fileName).matches();\r\n                if(accept){\r\n                    retval.add(fileName);\r\n                }\r\n            }\r\n            try{\r\n                zf.close();\r\n            } catch(final IOException e1){\r\n                throw new Error(e1);\r\n            }\r\n            return retval;\r\n        }\r\n    \r\n        private static Collection&lt;String&gt; getResourcesFromDirectory(\r\n            final File directory,\r\n            final Pattern pattern){\r\n            final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\r\n            final File[] fileList = directory.listFiles();\r\n            for(final File file : fileList){\r\n                if(file.isDirectory()){\r\n                    retval.addAll(getResourcesFromDirectory(file, pattern));\r\n                } else{\r\n                    try{\r\n                        final String fileName = file.getCanonicalPath();\r\n                        final boolean accept = pattern.matcher(fileName).matches();\r\n                        if(accept){\r\n                            retval.add(fileName);\r\n                        }\r\n                    } catch(final IOException e){\r\n                        throw new Error(e);\r\n                    }\r\n                }\r\n            }\r\n            return retval;\r\n        }\r\n    \r\n        /**\r\n         * list the resources that match args[0]\r\n         * \r\n         * @param args\r\n         *            args[0] is the pattern to match, or list all resources if\r\n         *            there are no args\r\n         */\r\n        public static void main(final String[] args){\r\n            Pattern pattern;\r\n            if(args.length &lt; 1){\r\n                pattern = Pattern.compile(&quot;.*&quot;);\r\n            } else{\r\n                pattern = Pattern.compile(args[0]);\r\n            }\r\n            final Collection&lt;String&gt; list = ResourceList.getResources(pattern);\r\n            for(final String name : list){\r\n                System.out.println(name);\r\n            }\r\n        }\r\n    }  \r\n\r\nIf you are using Spring Have a look at [**PathMatchingResourcePatternResolver**][1]\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html","title":"Get a list of resources from classpath directory","body":"<p>Here is the code<br>\n<strong>Source</strong>: forums.devx.com/showthread.php?t=153784</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Enumeration;\nimport java.util.regex.Pattern;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipException;\nimport java.util.zip.ZipFile;\n\n/**\n * list resources available from the classpath @ *\n */\npublic class ResourceList{\n\n    /**\n     * for all elements of java.class.path get a Collection of resources Pattern\n     * pattern = Pattern.compile(\".*\"); gets all resources\n     * \n     * @param pattern\n     *            the pattern to match\n     * @return the resources in the order they are found\n     */\n    public static Collection&lt;String&gt; getResources(\n        final Pattern pattern){\n        final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\n        final String classPath = System.getProperty(\"java.class.path\", \".\");\n        final String[] classPathElements = classPath.split(System.getProperty(\"path.separator\"));\n        for(final String element : classPathElements){\n            retval.addAll(getResources(element, pattern));\n        }\n        return retval;\n    }\n\n    private static Collection&lt;String&gt; getResources(\n        final String element,\n        final Pattern pattern){\n        final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\n        final File file = new File(element);\n        if(file.isDirectory()){\n            retval.addAll(getResourcesFromDirectory(file, pattern));\n        } else{\n            retval.addAll(getResourcesFromJarFile(file, pattern));\n        }\n        return retval;\n    }\n\n    private static Collection&lt;String&gt; getResourcesFromJarFile(\n        final File file,\n        final Pattern pattern){\n        final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\n        ZipFile zf;\n        try{\n            zf = new ZipFile(file);\n        } catch(final ZipException e){\n            throw new Error(e);\n        } catch(final IOException e){\n            throw new Error(e);\n        }\n        final Enumeration e = zf.entries();\n        while(e.hasMoreElements()){\n            final ZipEntry ze = (ZipEntry) e.nextElement();\n            final String fileName = ze.getName();\n            final boolean accept = pattern.matcher(fileName).matches();\n            if(accept){\n                retval.add(fileName);\n            }\n        }\n        try{\n            zf.close();\n        } catch(final IOException e1){\n            throw new Error(e1);\n        }\n        return retval;\n    }\n\n    private static Collection&lt;String&gt; getResourcesFromDirectory(\n        final File directory,\n        final Pattern pattern){\n        final ArrayList&lt;String&gt; retval = new ArrayList&lt;String&gt;();\n        final File[] fileList = directory.listFiles();\n        for(final File file : fileList){\n            if(file.isDirectory()){\n                retval.addAll(getResourcesFromDirectory(file, pattern));\n            } else{\n                try{\n                    final String fileName = file.getCanonicalPath();\n                    final boolean accept = pattern.matcher(fileName).matches();\n                    if(accept){\n                        retval.add(fileName);\n                    }\n                } catch(final IOException e){\n                    throw new Error(e);\n                }\n            }\n        }\n        return retval;\n    }\n\n    /**\n     * list the resources that match args[0]\n     * \n     * @param args\n     *            args[0] is the pattern to match, or list all resources if\n     *            there are no args\n     */\n    public static void main(final String[] args){\n        Pattern pattern;\n        if(args.length &lt; 1){\n            pattern = Pattern.compile(\".*\");\n        } else{\n            pattern = Pattern.compile(args[0]);\n        }\n        final Collection&lt;String&gt; list = ResourceList.getResources(pattern);\n        for(final String name : list){\n            System.out.println(name);\n        }\n    }\n}  \n</code></pre>\n\n<p>If you are using Spring Have a look at <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"noreferrer\"><strong>PathMatchingResourcePatternResolver</strong></a></p>\n"},{"comments":[{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":0,"creation_date":1337832823,"post_id":3923685,"comment_id":13940083,"body_markdown":"Reflections looks like a great idea, but without IDE integration its a bit limiting.","body":"Reflections looks like a great idea, but without IDE integration its a bit limiting."},{"owner":{"account_id":1525852,"reputation":1543,"user_id":1424321,"display_name":"zapp"},"score":13,"creation_date":1363439774,"post_id":3923685,"comment_id":21858315,"body_markdown":"if using Reflections, all you actually need: `new Reflections(&quot;my.package&quot;, new ResourcesScanner()).getResources(pattern)`","body":"if using Reflections, all you actually need: <code>new Reflections(&quot;my.package&quot;, new ResourcesScanner()).getResources(pattern)</code>"},{"owner":{"account_id":2293612,"reputation":279,"user_id":2015682,"accept_rate":50,"display_name":"Valentina Chumak"},"score":41,"creation_date":1475756892,"post_id":3923685,"comment_id":67077535,"body_markdown":"Does first solution works when it executed from jar file? For me - it doesn&#39;t. I can read file by this way, but can&#39;t read directory.","body":"Does first solution works when it executed from jar file? For me - it doesn&#39;t. I can read file by this way, but can&#39;t read directory."},{"owner":{"account_id":295449,"reputation":458,"user_id":599862,"display_name":"Jeff Tsay"},"score":3,"creation_date":1475957548,"post_id":3923685,"comment_id":67155595,"body_markdown":"In my case I wanted to list non-classfile resources in a path, but only the class files were showing up. So I had to move them to a different directory that doesn&#39;t have any classes in the corresponding package.","body":"In my case I wanted to list non-classfile resources in a path, but only the class files were showing up. So I had to move them to a different directory that doesn&#39;t have any classes in the corresponding package."},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1484150322,"post_id":3923685,"comment_id":70393447,"body_markdown":"The API linked uses Google Reflections but is not a Google project. It is another project on GitHub that happens to use Google libraries. Should the link be changed?","body":"The API linked uses Google Reflections but is not a Google project. It is another project on GitHub that happens to use Google libraries. Should the link be changed?"},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":6,"creation_date":1505719288,"post_id":3923685,"comment_id":79509775,"body_markdown":"The first method described in this answer -- reading the path as a resource, does not seem to work when the resources are in the same JAR as the executable code, at least with OpenJDK 1.8. The failure is rather odd -- a NullPointerException is thrown from deep in the JVM&#39;s file processing logic. It&#39;s as if the designers didn&#39;t really anticipate this use of resources, and there is only a partial implementation. Even if it works on some JDKs or environments, this doesn&#39;t seem to be documented behaviour.","body":"The first method described in this answer -- reading the path as a resource, does not seem to work when the resources are in the same JAR as the executable code, at least with OpenJDK 1.8. The failure is rather odd -- a NullPointerException is thrown from deep in the JVM&#39;s file processing logic. It&#39;s as if the designers didn&#39;t really anticipate this use of resources, and there is only a partial implementation. Even if it works on some JDKs or environments, this doesn&#39;t seem to be documented behaviour."},{"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"score":11,"creation_date":1510735073,"post_id":3923685,"comment_id":81556292,"body_markdown":"You cant read directory like this, since there is no directory but file streams. This answer is half wrong.","body":"You cant read directory like this, since there is no directory but file streams. This answer is half wrong."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":4,"creation_date":1512602075,"post_id":3923685,"comment_id":82329723,"body_markdown":"The first method doesn&#39;t appear to work -- at least when running from the development environment, prior to jarring up the resources. The call to `getResourceAsStream()` with a relative path to a directory leads to a FileInputStream(File), which is defined to throw FileNotFoundException if the file is a directory.","body":"The first method doesn&#39;t appear to work -- at least when running from the development environment, prior to jarring up the resources. The call to <code>getResourceAsStream()</code> with a relative path to a directory leads to a FileInputStream(File), which is defined to throw FileNotFoundException if the file is a directory."},{"owner":{"account_id":986655,"reputation":1959,"user_id":1004981,"accept_rate":43,"display_name":"Abhendra Singh"},"score":1,"creation_date":1526008324,"post_id":3923685,"comment_id":87585088,"body_markdown":"@ValentinaChumak - How did you read directory when executed from jar? Any solution?","body":"@ValentinaChumak - How did you read directory when executed from jar? Any solution?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1555494569,"post_id":3923685,"comment_id":98128262,"body_markdown":"`PathMatchingResourcePatternResolver` only seems to return resources in the same Jar as the calling code. Can it also be used to get resources from all the Jars?","body":"<code>PathMatchingResourcePatternResolver</code> only seems to return resources in the same Jar as the calling code. Can it also be used to get resources from all the Jars?"},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":4,"creation_date":1570271808,"post_id":3923685,"comment_id":102865994,"body_markdown":"You really don&#39;t want to write your own scanner, if you care about your code working in a wide array of classpath environments, as well as the new JPMS module path. The number of different classpath specification mechanisms is bewildering: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms Instead, consider using ClassGraph, it takes care of all this for you. (I am the author.)","body":"You really don&#39;t want to write your own scanner, if you care about your code working in a wide array of classpath environments, as well as the new JPMS module path. The number of different classpath specification mechanisms is bewildering: <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/wiki/&hellip;</a> Instead, consider using ClassGraph, it takes care of all this for you. (I am the author.)"},{"owner":{"account_id":1954717,"reputation":3014,"user_id":1757994,"accept_rate":67,"display_name":"DoctorPangloss"},"score":4,"creation_date":1581111214,"post_id":3923685,"comment_id":106334305,"body_markdown":"It&#39;s kind of baffling how highly ranked of a response it is, considering that this will basically not work for any real use case at all.","body":"It&#39;s kind of baffling how highly ranked of a response it is, considering that this will basically not work for any real use case at all."},{"owner":{"account_id":1702365,"reputation":1137,"user_id":1562087,"display_name":"KenIchi"},"score":0,"creation_date":1600858538,"post_id":3923685,"comment_id":113219036,"body_markdown":"Dear @Lena Bru, you&#39;re apparently not aware of Java7&#39;s try-with-resource and edited the answer to use the traditional try-catch structure, can you tell the reason behind this or can you revert it back please?","body":"Dear @Lena Bru, you&#39;re apparently not aware of Java7&#39;s try-with-resource and edited the answer to use the traditional try-catch structure, can you tell the reason behind this or can you revert it back please?"}],"tags":[],"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"comment_count":13,"down_vote_count":19,"up_vote_count":218,"is_accepted":true,"score":199,"last_activity_date":1610403355,"creation_date":1286973523,"answer_id":3923685,"question_id":3923129,"body_markdown":"# Custom Scanner\r\n\r\nImplement your own scanner. For example:\r\n\r\n([limitations of this solution are mentioned in the comments][1])\r\n\r\n    private List&lt;String&gt; getResourceFiles(String path) throws IOException {\r\n        List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\r\n    \r\n        try (\r\n                InputStream in = getResourceAsStream(path);\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(in))) {\r\n            String resource;\r\n    \r\n            while ((resource = br.readLine()) != null) {\r\n                filenames.add(resource);\r\n            }\r\n        }\r\n    \r\n        return filenames;\r\n    }\r\n    \r\n    private InputStream getResourceAsStream(String resource) {\r\n        final InputStream in\r\n                = getContextClassLoader().getResourceAsStream(resource);\r\n    \r\n        return in == null ? getClass().getResourceAsStream(resource) : in;\r\n    }\r\n    \r\n    private ClassLoader getContextClassLoader() {\r\n        return Thread.currentThread().getContextClassLoader();\r\n    }\r\n\r\n# Spring Framework\r\n\r\nUse [`PathMatchingResourcePatternResolver`][2] from Spring Framework.\r\n\r\n# Ronmamo Reflections\r\n\r\nThe other techniques might be slow at runtime for huge CLASSPATH values. A faster solution is to use ronmamo&#39;s [Reflections API][3], which precompiles the search at compile time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory#comment67155595_3923685\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\r\n  [3]: https://github.com/ronmamo/reflections","title":"Get a list of resources from classpath directory","body":"<h1>Custom Scanner</h1>\n<p>Implement your own scanner. For example:</p>\n<p>(<a href=\"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory#comment67155595_3923685\">limitations of this solution are mentioned in the comments</a>)</p>\n<pre><code>private List&lt;String&gt; getResourceFiles(String path) throws IOException {\n    List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\n\n    try (\n            InputStream in = getResourceAsStream(path);\n            BufferedReader br = new BufferedReader(new InputStreamReader(in))) {\n        String resource;\n\n        while ((resource = br.readLine()) != null) {\n            filenames.add(resource);\n        }\n    }\n\n    return filenames;\n}\n\nprivate InputStream getResourceAsStream(String resource) {\n    final InputStream in\n            = getContextClassLoader().getResourceAsStream(resource);\n\n    return in == null ? getClass().getResourceAsStream(resource) : in;\n}\n\nprivate ClassLoader getContextClassLoader() {\n    return Thread.currentThread().getContextClassLoader();\n}\n</code></pre>\n<h1>Spring Framework</h1>\n<p>Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"noreferrer\"><code>PathMatchingResourcePatternResolver</code></a> from Spring Framework.</p>\n<h1>Ronmamo Reflections</h1>\n<p>The other techniques might be slow at runtime for huge CLASSPATH values. A faster solution is to use ronmamo's <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections API</a>, which precompiles the search at compile time.</p>\n"},{"comments":[{"owner":{"account_id":1437280,"reputation":5393,"user_id":1358376,"display_name":"Rob"},"score":4,"creation_date":1387468984,"post_id":20072687,"comment_id":30978337,"body_markdown":"Sure, resources may not always be files but the question was about resources originating from files/directories. So use the example code if you want to check different location e.g. if you have a config.xml in your resources for some default configuration and it should be possible to load an external config.xml instead if it exists...","body":"Sure, resources may not always be files but the question was about resources originating from files/directories. So use the example code if you want to check different location e.g. if you have a config.xml in your resources for some default configuration and it should be possible to load an external config.xml instead if it exists..."},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":2,"creation_date":1495092023,"post_id":20072687,"comment_id":75108153,"body_markdown":"And why resourses are not files? Resourses are files archived into zip archive. Those are loaded into memory and accessed in specific way but I can&#39;t see why they are not files. Any exaple of resource that is not &#39;a file within archive&#39;?","body":"And why resourses are not files? Resourses are files archived into zip archive. Those are loaded into memory and accessed in specific way but I can&#39;t see why they are not files. Any exaple of resource that is not &#39;a file within archive&#39;?"},{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":21,"creation_date":1498521108,"post_id":20072687,"comment_id":76521400,"body_markdown":"Not working (NullPointerException) when the target resource is a directory that resides inside a JAR File (i.e. the JAR contains the Main app and the target directory)","body":"Not working (NullPointerException) when the target resource is a directory that resides inside a JAR File (i.e. the JAR contains the Main app and the target directory)"}],"tags":[],"owner":{"account_id":1437280,"reputation":5393,"user_id":1358376,"display_name":"Rob"},"comment_count":3,"down_vote_count":12,"up_vote_count":37,"is_accepted":false,"score":25,"last_activity_date":1542405824,"creation_date":1384867339,"answer_id":20072687,"question_id":3923129,"body_markdown":"If you use apache commonsIO you can use for the filesystem (optionally with extension filter): \r\n\r\n    Collection&lt;File&gt; files = FileUtils.listFiles(new File(&quot;directory/&quot;), null, false);\r\n\r\nand for resources/classpath:\r\n\r\n    List&lt;String&gt; files = IOUtils.readLines(MyClass.class.getClassLoader().getResourceAsStream(&quot;directory/&quot;), Charsets.UTF_8);\r\n\r\n\r\n\r\nIf you don&#39;t know if &quot;directoy/&quot; is in the filesystem or in resources you may add a \r\n\r\n    if (new File(&quot;directory/&quot;).isDirectory())\r\nor\r\n    \r\n    if (MyClass.class.getClassLoader().getResource(&quot;directory/&quot;) != null)\r\n\r\nbefore the calls and use both in combination... ","title":"Get a list of resources from classpath directory","body":"<p>If you use apache commonsIO you can use for the filesystem (optionally with extension filter): </p>\n\n<pre><code>Collection&lt;File&gt; files = FileUtils.listFiles(new File(\"directory/\"), null, false);\n</code></pre>\n\n<p>and for resources/classpath:</p>\n\n<pre><code>List&lt;String&gt; files = IOUtils.readLines(MyClass.class.getClassLoader().getResourceAsStream(\"directory/\"), Charsets.UTF_8);\n</code></pre>\n\n<p>If you don't know if \"directoy/\" is in the filesystem or in resources you may add a </p>\n\n<pre><code>if (new File(\"directory/\").isDirectory())\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (MyClass.class.getClassLoader().getResource(\"directory/\") != null)\n</code></pre>\n\n<p>before the calls and use both in combination... </p>\n"},{"comments":[{"owner":{"account_id":3048069,"reputation":2704,"user_id":2583229,"accept_rate":29,"display_name":"revau.lt"},"score":2,"creation_date":1546954282,"post_id":29539977,"comment_id":95017713,"body_markdown":"just a small addition if you want to search all possible resources in all the classpath you need to use `classpath*:config/*.xml`","body":"just a small addition if you want to search all possible resources in all the classpath you need to use <code>classpath*:config&#47;*.xml</code>"}],"tags":[],"owner":{"account_id":1303343,"reputation":544,"user_id":1252835,"accept_rate":100,"display_name":"Pavel Kotlov"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1542405834,"creation_date":1428586372,"answer_id":29539977,"question_id":3923129,"body_markdown":"So in terms of the PathMatchingResourcePatternResolver this is what is needed in the code:\r\n\r\n\r\n    @Autowired\r\n    ResourcePatternResolver resourceResolver;\r\n\r\n    public void getResources() {\r\n      resourceResolver.getResources(&quot;classpath:config/*.xml&quot;);\r\n    }","title":"Get a list of resources from classpath directory","body":"<p>So in terms of the PathMatchingResourcePatternResolver this is what is needed in the code:</p>\n\n<pre><code>@Autowired\nResourcePatternResolver resourceResolver;\n\npublic void getResources() {\n  resourceResolver.getResources(\"classpath:config/*.xml\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":2,"creation_date":1578227016,"post_id":29952419,"comment_id":105363671,"body_markdown":"how to get *all*  resources:  i.e. starting with either `/&#39;  or `.` or `./` none of which actually worked","body":"how to get <i>all</i>  resources:  i.e. starting with either <code>&#47;&#39;  or </code>.` or <code>.&#47;</code> none of which actually worked"},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1696000183,"post_id":29952419,"comment_id":136102129,"body_markdown":"the IOUtils.readLines() call fails with NPE for any resource path I can think of.  Using JDK17.","body":"the IOUtils.readLines() call fails with NPE for any resource path I can think of.  Using JDK17."}],"tags":[],"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"comment_count":2,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1643114008,"creation_date":1430334366,"answer_id":29952419,"question_id":3923129,"body_markdown":"Used a combination of Rob&#39;s response. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    final String resourceDir = &quot;resourceDirectory/&quot;;\r\n    List&lt;String&gt; files = IOUtils.readLines(Thread.currentThread().getClass().getClassLoader().getResourceAsStream(resourceDir), Charsets.UTF_8);\r\n    \r\n    for (String f : files) {\r\n      String data = IOUtils.toString(Thread.currentThread().getClass().getClassLoader().getResourceAsStream(resourceDir + f));\r\n      // ... process data\r\n    }","title":"Get a list of resources from classpath directory","body":"<p>Used a combination of Rob's response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String resourceDir = &quot;resourceDirectory/&quot;;\nList&lt;String&gt; files = IOUtils.readLines(Thread.currentThread().getClass().getClassLoader().getResourceAsStream(resourceDir), Charsets.UTF_8);\n\nfor (String f : files) {\n  String data = IOUtils.toString(Thread.currentThread().getClass().getClassLoader().getResourceAsStream(resourceDir + f));\n  // ... process data\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1551824733,"post_id":34273085,"comment_id":96779836,"body_markdown":"is there any way to achieve the same without having to import the google dependency? I&#39;d like to avoid to have this dependency just to perform this task.","body":"is there any way to achieve the same without having to import the google dependency? I&#39;d like to avoid to have this dependency just to perform this task."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":4,"creation_date":1570271510,"post_id":34273085,"comment_id":102865920,"body_markdown":"Reflections is not a Google library.","body":"Reflections is not a Google library."},{"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"score":0,"creation_date":1570387219,"post_id":34273085,"comment_id":102889140,"body_markdown":"Maybe it was in the past.  My answer is from 2015 and I did find some reference to the library using the phrase &quot;Google Reflections&quot; before 2015.  I see the code has moved around a bit and has moved from code.google.com [here](https://code.google.com/archive/p/reflections/) to github [here](https://github.com/ronmamo/reflections)","body":"Maybe it was in the past.  My answer is from 2015 and I did find some reference to the library using the phrase &quot;Google Reflections&quot; before 2015.  I see the code has moved around a bit and has moved from code.google.com <a href=\"https://code.google.com/archive/p/reflections/\" rel=\"nofollow noreferrer\">here</a> to github <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1578424869,"post_id":34273085,"comment_id":105431736,"body_markdown":"@NSduToit that was probably an artifact of hosting the code on Google Code (not an uncommon mistake), not a claim of authorship by Google.","body":"@NSduToit that was probably an artifact of hosting the code on Google Code (not an uncommon mistake), not a claim of authorship by Google."},{"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"score":0,"creation_date":1624975400,"post_id":34273085,"comment_id":120500366,"body_markdown":"it doesn&#39;t work. You need to add better examples. It fails with org.reflections.ReflectionsException: Scanner ResourcesScanner was not configured for me.","body":"it doesn&#39;t work. You need to add better examples. It fails with org.reflections.ReflectionsException: Scanner ResourcesScanner was not configured for me."},{"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"score":0,"creation_date":1625168893,"post_id":34273085,"comment_id":120563344,"body_markdown":"@expert This answer was given in 2015 so probably used [Reflections 0.9.10](https://mvnrepository.com/artifact/org.reflections/reflections).  The latest version is 0.9.12 - seems a few things has changed because I&#39;m also having problems even running their own examples...  I&#39;m also no longer having success with the preceding version in the context of a [Gradle](https://gradle.org/) project...  Disappointing.","body":"@expert This answer was given in 2015 so probably used <a href=\"https://mvnrepository.com/artifact/org.reflections/reflections\" rel=\"nofollow noreferrer\">Reflections 0.9.10</a>.  The latest version is 0.9.12 - seems a few things has changed because I&#39;m also having problems even running their own examples...  I&#39;m also no longer having success with the preceding version in the context of a <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> project...  Disappointing."},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":0,"creation_date":1643801307,"post_id":34273085,"comment_id":125434019,"body_markdown":"how can I figure out which resources come from the &quot;src/test/resources/&quot; directory ?","body":"how can I figure out which resources come from the &quot;src/test/resources/&quot; directory ?"},{"owner":{"account_id":175417,"reputation":695,"user_id":405418,"display_name":"Yasser"},"score":0,"creation_date":1686003322,"post_id":34273085,"comment_id":134737249,"body_markdown":"Here is an example of how to do it with the latest version:\n\nReflections reflections = new Reflections(new ConfigurationBuilder().setUrls(ClasspathHelper.forPackage(&quot;&quot;)).setScanners(Scanners.Resources));\nSet&lt;String&gt; resourceList = reflections.getResources(&quot;.*&quot;);","body":"Here is an example of how to do it with the latest version:  Reflections reflections = new Reflections(new ConfigurationBuilder().setUrls(ClasspathHelper.forPackage(&quot;&quot;&zwnj;&#8203;)).setScanners(Scann&zwnj;&#8203;ers.Resources)); Set&lt;String&gt; resourceList = reflections.getResources(&quot;.*&quot;);"},{"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"score":0,"creation_date":1686150832,"post_id":34273085,"comment_id":134760487,"body_markdown":"@Yasser That only returns resources for me. How does one get the latest Reflections to return all the classes on the classpath?","body":"@Yasser That only returns resources for me. How does one get the latest Reflections to return all the classes on the classpath?"}],"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"comment_count":9,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1684497680,"creation_date":1450114069,"answer_id":34273085,"question_id":3923129,"body_markdown":"Using [Reflections](https://github.com/ronmamo/reflections)\r\n\r\nGet everything on the classpath:\r\n\r\n    Reflections reflections = new Reflections(null, new ResourcesScanner());\r\n\tSet&lt;String&gt; resourceList = reflections.getResources(x -&gt; true);\r\n\r\nAnother example - get all files with extension *.csv* from *some.package*:\r\n\r\n    Reflections reflections = new Reflections(&quot;some.package&quot;, new ResourcesScanner());\r\n    Set&lt;String&gt; resourceList = reflections.getResources(Pattern.compile(&quot;.*\\\\.csv&quot;));\r\n\r\n**Please note: (update)**\r\n\r\nThis answer was written in 2015 and probably used [Reflections 0.9.10](https://mvnrepository.com/artifact/org.reflections/reflections).  Subsequently I&#39;ve tried the later versions of the Reflections library and struggled getting this answer to work. I also struggled to get examples from their own documentation to work... Personally I&#39;m not sure what the maintainers of the project is doing... Maybe it&#39;s an error on my part.\r\n\r\nThe [Reflections](https://github.com/ronmamo/reflections) project was migrated from the [Google Code Archive](https://code.google.com/archive/) at version 0.9.9-RC1 as is evident [[here]](https://code.google.com/archive/p/reflections/). The project is currently being maintained on github [[here]](https://github.com/ronmamo/reflections).","title":"Get a list of resources from classpath directory","body":"<p>Using <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections</a></p>\n<p>Get everything on the classpath:</p>\n<pre><code>Reflections reflections = new Reflections(null, new ResourcesScanner());\nSet&lt;String&gt; resourceList = reflections.getResources(x -&gt; true);\n</code></pre>\n<p>Another example - get all files with extension <em>.csv</em> from <em>some.package</em>:</p>\n<pre><code>Reflections reflections = new Reflections(&quot;some.package&quot;, new ResourcesScanner());\nSet&lt;String&gt; resourceList = reflections.getResources(Pattern.compile(&quot;.*\\\\.csv&quot;));\n</code></pre>\n<p><strong>Please note: (update)</strong></p>\n<p>This answer was written in 2015 and probably used <a href=\"https://mvnrepository.com/artifact/org.reflections/reflections\" rel=\"nofollow noreferrer\">Reflections 0.9.10</a>.  Subsequently I've tried the later versions of the Reflections library and struggled getting this answer to work. I also struggled to get examples from their own documentation to work... Personally I'm not sure what the maintainers of the project is doing... Maybe it's an error on my part.</p>\n<p>The <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections</a> project was migrated from the <a href=\"https://code.google.com/archive/\" rel=\"nofollow noreferrer\">Google Code Archive</a> at version 0.9.9-RC1 as is evident <a href=\"https://code.google.com/archive/p/reflections/\" rel=\"nofollow noreferrer\">[here]</a>. The project is currently being maintained on github <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">[here]</a>.</p>\n"},{"tags":[],"owner":{"account_id":409632,"reputation":1129,"user_id":780998,"accept_rate":76,"display_name":"Deven Phillips"},"comment_count":0,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1463349505,"creation_date":1463349505,"answer_id":37244103,"question_id":3923129,"body_markdown":"Based on @rob &#39;s information above, I created the implementation which I am releasing to the public domain:\r\n\r\n    private static List&lt;String&gt; getClasspathEntriesByPath(String path) throws IOException {\r\n        InputStream is = Main.class.getClassLoader().getResourceAsStream(path);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (is.available()&gt;0) {\r\n            byte[] buffer = new byte[1024];\r\n            sb.append(new String(buffer, Charset.defaultCharset()));\r\n        }\r\n\r\n        return Arrays\r\n                .asList(sb.toString().split(&quot;\\n&quot;))          // Convert StringBuilder to individual lines\r\n                .stream()                                   // Stream the list\r\n                .filter(line -&gt; line.trim().length()&gt;0)     // Filter out empty lines\r\n                .collect(Collectors.toList());              // Collect remaining lines into a List again\r\n    }\r\n\r\nWhile I would not have expected `getResourcesAsStream` to work like that on a directory, it really does and it works well.","title":"Get a list of resources from classpath directory","body":"<p>Based on @rob 's information above, I created the implementation which I am releasing to the public domain:</p>\n\n<pre><code>private static List&lt;String&gt; getClasspathEntriesByPath(String path) throws IOException {\n    InputStream is = Main.class.getClassLoader().getResourceAsStream(path);\n\n    StringBuilder sb = new StringBuilder();\n    while (is.available()&gt;0) {\n        byte[] buffer = new byte[1024];\n        sb.append(new String(buffer, Charset.defaultCharset()));\n    }\n\n    return Arrays\n            .asList(sb.toString().split(\"\\n\"))          // Convert StringBuilder to individual lines\n            .stream()                                   // Stream the list\n            .filter(line -&gt; line.trim().length()&gt;0)     // Filter out empty lines\n            .collect(Collectors.toList());              // Collect remaining lines into a List again\n}\n</code></pre>\n\n<p>While I would not have expected <code>getResourcesAsStream</code> to work like that on a directory, it really does and it works well.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1515254199,"creation_date":1515254199,"answer_id":48129086,"question_id":3923129,"body_markdown":"The `Spring framework`&#39;s `PathMatchingResourcePatternResolver` is really awesome for these things:\r\n\r\n    private Resource[] getXMLResources() throws IOException\r\n    {\r\n    \tClassLoader classLoader = MethodHandles.lookup().getClass().getClassLoader();\r\n    \tPathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n    \r\n    \treturn resolver.getResources(&quot;classpath:x/y/z/*.xml&quot;);\r\n    }\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Get a list of resources from classpath directory","body":"<p>The <code>Spring framework</code>'s <code>PathMatchingResourcePatternResolver</code> is really awesome for these things:</p>\n\n<pre><code>private Resource[] getXMLResources() throws IOException\n{\n    ClassLoader classLoader = MethodHandles.lookup().getClass().getClassLoader();\n    PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n\n    return resolver.getResources(\"classpath:x/y/z/*.xml\");\n}\n</code></pre>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1551835653,"creation_date":1515597566,"answer_id":48190582,"question_id":3923129,"body_markdown":"This should work (if spring is not an option):\r\n\r\n    public static List&lt;String&gt; getFilenamesForDirnameFromCP(String directoryName) throws URISyntaxException, UnsupportedEncodingException, IOException {\r\n\t\tList&lt;String&gt; filenames = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tURL url = Thread.currentThread().getContextClassLoader().getResource(directoryName);\r\n\t\tif (url != null) {\r\n\t\t\tif (url.getProtocol().equals(&quot;file&quot;)) {\r\n\t\t\t\tFile file = Paths.get(url.toURI()).toFile();\r\n\t\t\t\tif (file != null) {\r\n\t\t\t\t\tFile[] files = file.listFiles();\r\n\t\t\t\t\tif (files != null) {\r\n\t\t\t\t\t\tfor (File filename : files) {\r\n\t\t\t\t\t\t\tfilenames.add(filename.toString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (url.getProtocol().equals(&quot;jar&quot;)) {\r\n\t\t\t\tString dirname = directoryName + &quot;/&quot;;\r\n\t\t\t\tString path = url.getPath();\r\n\t\t\t\tString jarPath = path.substring(5, path.indexOf(&quot;!&quot;));\r\n\t\t\t\ttry (JarFile jar = new JarFile(URLDecoder.decode(jarPath, StandardCharsets.UTF_8.name()))) {\r\n\t\t\t\t\tEnumeration&lt;JarEntry&gt; entries = jar.entries();\r\n\t\t\t\t\twhile (entries.hasMoreElements()) {\r\n\t\t\t\t\t\tJarEntry entry = entries.nextElement();\r\n\t\t\t\t\t\tString name = entry.getName();\r\n\t\t\t\t\t\tif (name.startsWith(dirname) &amp;&amp; !dirname.equals(name)) {\r\n\t\t\t\t\t\t\tURL resource = Thread.currentThread().getContextClassLoader().getResource(name);\r\n\t\t\t\t\t\t\tfilenames.add(resource.toString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filenames;\r\n\t}","title":"Get a list of resources from classpath directory","body":"<p>This should work (if spring is not an option):</p>\n\n<pre><code>public static List&lt;String&gt; getFilenamesForDirnameFromCP(String directoryName) throws URISyntaxException, UnsupportedEncodingException, IOException {\n    List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\n\n    URL url = Thread.currentThread().getContextClassLoader().getResource(directoryName);\n    if (url != null) {\n        if (url.getProtocol().equals(\"file\")) {\n            File file = Paths.get(url.toURI()).toFile();\n            if (file != null) {\n                File[] files = file.listFiles();\n                if (files != null) {\n                    for (File filename : files) {\n                        filenames.add(filename.toString());\n                    }\n                }\n            }\n        } else if (url.getProtocol().equals(\"jar\")) {\n            String dirname = directoryName + \"/\";\n            String path = url.getPath();\n            String jarPath = path.substring(5, path.indexOf(\"!\"));\n            try (JarFile jar = new JarFile(URLDecoder.decode(jarPath, StandardCharsets.UTF_8.name()))) {\n                Enumeration&lt;JarEntry&gt; entries = jar.entries();\n                while (entries.hasMoreElements()) {\n                    JarEntry entry = entries.nextElement();\n                    String name = entry.getName();\n                    if (name.startsWith(dirname) &amp;&amp; !dirname.equals(name)) {\n                        URL resource = Thread.currentThread().getContextClassLoader().getResource(name);\n                        filenames.add(resource.toString());\n                    }\n                }\n            }\n        }\n    }\n    return filenames;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1530277,"reputation":3916,"user_id":1427624,"display_name":"P-S"},"score":2,"creation_date":1551272417,"post_id":53193318,"comment_id":96579197,"body_markdown":"I want to get the folder names under /BOOT-INF/classes/static/stories. I try your code with @Value(&quot;classpath:static/stories/*&quot;) and it returns an empty list when running the JAR. It works for resources in the classpath, but not when they are in the JAR.","body":"I want to get the folder names under /BOOT-INF/classes/static/stories. I try your code with @Value(&quot;classpath:static/stories/*&quot;) and it returns an empty list when running the JAR. It works for resources in the classpath, but not when they are in the JAR."},{"owner":{"account_id":3104972,"reputation":2363,"user_id":2628048,"accept_rate":42,"display_name":"Rudolf Schmidt"},"score":0,"creation_date":1553854143,"post_id":53193318,"comment_id":97548918,"body_markdown":"@Value(&quot;classpath:x/y/z/*&quot;)\n    private Resource[] resources;\ndid the trick to me. Have search hours for that! Thanks!","body":"@Value(&quot;classpath:x/y/z/*&quot;)     private Resource[] resources; did the trick to me. Have search hours for that! Thanks!"}],"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1541606794,"creation_date":1541606794,"answer_id":53193318,"question_id":3923129,"body_markdown":"With Spring it&#39;s easy. Be it a file, or folder, or even multiple files, there are chances, you can do it via injection.\r\n\r\nThis example demonstrates the injection of multiple files located in `x/y/z` folder.\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class StackoverflowService {\r\n        @Value(&quot;classpath:x/y/z/*&quot;)\r\n        private Resource[] resources;\r\n    \r\n        public List&lt;String&gt; getResourceNames() {\r\n            return Arrays.stream(resources)\r\n                    .map(Resource::getFilename)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nIt does work for resources in the filesystem as well as in JARs.","title":"Get a list of resources from classpath directory","body":"<p>With Spring it's easy. Be it a file, or folder, or even multiple files, there are chances, you can do it via injection.</p>\n\n<p>This example demonstrates the injection of multiple files located in <code>x/y/z</code> folder.</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.core.io.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class StackoverflowService {\n    @Value(\"classpath:x/y/z/*\")\n    private Resource[] resources;\n\n    public List&lt;String&gt; getResourceNames() {\n        return Arrays.stream(resources)\n                .map(Resource::getFilename)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>It does work for resources in the filesystem as well as in JARs.</p>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553812341,"creation_date":1553812341,"answer_id":55407823,"question_id":3923129,"body_markdown":"I think you can leverage the [_Zip File System Provider_][1] to achieve this. When using `FileSystems.newFileSystem` it looks like you can treat the objects in that ZIP as a &quot;regular&quot; file.\r\n\r\nIn the linked documentation above:\r\n\r\n&gt; Specify the configuration options for the zip file system in the java.util.Map object passed to the `FileSystems.newFileSystem` method. See the [Zip File System Properties][2] topic for information about the provider-specific configuration properties for the zip file system.\r\n&gt;\r\n&gt; Once you have an instance of a zip file system, you can invoke the methods of the [`java.nio.file.FileSystem`][3] and [`java.nio.file.Path`][4] classes to perform operations such as copying, moving, and renaming files, as well as modifying file attributes.\r\n\r\nThe documentation for the `jdk.zipfs` module in [Java 11 states][5]:\r\n\r\n&gt; The zip file system provider treats a zip or JAR file as a file system and provides the ability to manipulate the contents of the file. The zip file system provider can be created by [`FileSystems.newFileSystem`][6] if installed.\r\n\r\nHere is a contrived example I did using your example resources. Note that a `.zip` is a `.jar`, but you could adapt your code to instead use classpath resources:\r\n\r\n*Setup*\r\n\r\n    cd /tmp\r\n    mkdir -p x/y/z\r\n    touch x/y/z/{a,b,c}.html\r\n    echo &#39;hello world&#39; &gt; x/y/z/d\r\n    zip -r example.zip x\r\n\r\n*Java*\r\n\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.nio.file.FileSystem;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.Files;\r\n    import java.util.Collections;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class MkobitZipRead {\r\n\r\n      public static void main(String[] args) throws IOException {\r\n        final URI uri = URI.create(&quot;jar:file:/tmp/example.zip&quot;);\r\n        try (\r\n            final FileSystem zipfs = FileSystems.newFileSystem(uri, Collections.emptyMap());\r\n        ) {\r\n          Files.walk(zipfs.getPath(&quot;/&quot;)).forEach(path -&gt; System.out.println(&quot;Files in zip:&quot; + path));\r\n          System.out.println(&quot;-----&quot;);\r\n          final String manifest = Files.readAllLines(\r\n              zipfs.getPath(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;).resolve(&quot;d&quot;)\r\n          ).stream().collect(Collectors.joining(System.lineSeparator()));\r\n          System.out.println(manifest);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n*Output*\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Files in zip:/\r\n    Files in zip:/x/\r\n    Files in zip:/x/y/\r\n    Files in zip:/x/y/z/\r\n    Files in zip:/x/y/z/c.html\r\n    Files in zip:/x/y/z/b.html\r\n    Files in zip:/x/y/z/a.html\r\n    Files in zip:/x/y/z/d\r\n    -----\r\n    hello world","title":"Get a list of resources from classpath directory","body":"<p>I think you can leverage the [<em>Zip File System Provider</em>][1] to achieve this. When using <code>FileSystems.newFileSystem</code> it looks like you can treat the objects in that ZIP as a \"regular\" file.</p>\n\n<p>In the linked documentation above:</p>\n\n<blockquote>\n  <p>Specify the configuration options for the zip file system in the java.util.Map object passed to the <code>FileSystems.newFileSystem</code> method. See the [Zip File System Properties][2] topic for information about the provider-specific configuration properties for the zip file system.</p>\n  \n  <p>Once you have an instance of a zip file system, you can invoke the methods of the [<code>java.nio.file.FileSystem</code>][3] and [<code>java.nio.file.Path</code>][4] classes to perform operations such as copying, moving, and renaming files, as well as modifying file attributes.</p>\n</blockquote>\n\n<p>The documentation for the <code>jdk.zipfs</code> module in [Java 11 states][5]:</p>\n\n<blockquote>\n  <p>The zip file system provider treats a zip or JAR file as a file system and provides the ability to manipulate the contents of the file. The zip file system provider can be created by [<code>FileSystems.newFileSystem</code>][6] if installed.</p>\n</blockquote>\n\n<p>Here is a contrived example I did using your example resources. Note that a <code>.zip</code> is a <code>.jar</code>, but you could adapt your code to instead use classpath resources:</p>\n\n<p><em>Setup</em></p>\n\n<pre><code>cd /tmp\nmkdir -p x/y/z\ntouch x/y/z/{a,b,c}.html\necho 'hello world' &gt; x/y/z/d\nzip -r example.zip x\n</code></pre>\n\n<p><em>Java</em></p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.nio.file.FileSystem;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.util.Collections;\nimport java.util.stream.Collectors;\n\npublic class MkobitZipRead {\n\n  public static void main(String[] args) throws IOException {\n    final URI uri = URI.create(\"jar:file:/tmp/example.zip\");\n    try (\n        final FileSystem zipfs = FileSystems.newFileSystem(uri, Collections.emptyMap());\n    ) {\n      Files.walk(zipfs.getPath(\"/\")).forEach(path -&gt; System.out.println(\"Files in zip:\" + path));\n      System.out.println(\"-----\");\n      final String manifest = Files.readAllLines(\n          zipfs.getPath(\"x\", \"y\", \"z\").resolve(\"d\")\n      ).stream().collect(Collectors.joining(System.lineSeparator()));\n      System.out.println(manifest);\n    }\n  }\n\n}\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Files in zip:/\nFiles in zip:/x/\nFiles in zip:/x/y/\nFiles in zip:/x/y/z/\nFiles in zip:/x/y/z/c.html\nFiles in zip:/x/y/z/b.html\nFiles in zip:/x/y/z/a.html\nFiles in zip:/x/y/z/d\n-----\nhello world\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2776794,"reputation":4509,"user_id":2390219,"accept_rate":84,"display_name":"kukis"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1563441129,"creation_date":1563441129,"answer_id":57091001,"question_id":3923129,"body_markdown":"Neither of answers worked for me even though I had my resources put in resources folders  and followed the above answers. What did make a trick was:\r\n\r\n    @Value(&quot;file:*/**/resources/**/schema/*.json&quot;)\r\n\tprivate Resource[] resources;","title":"Get a list of resources from classpath directory","body":"<p>Neither of answers worked for me even though I had my resources put in resources folders  and followed the above answers. What did make a trick was:</p>\n\n<pre><code>@Value(\"file:*/**/resources/**/schema/*.json\")\nprivate Resource[] resources;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"score":4,"creation_date":1652239782,"post_id":58247499,"comment_id":127555797,"body_markdown":"Very well done Mr. Hutchison! Perhaps the easiest and most direct way of discovering available resources that I&#39;ve ever found in Java world. Thank you for an amazing library!","body":"Very well done Mr. Hutchison! Perhaps the easiest and most direct way of discovering available resources that I&#39;ve ever found in Java world. Thank you for an amazing library!"}],"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1652314200,"creation_date":1570271763,"answer_id":58247499,"question_id":3923129,"body_markdown":"The most robust mechanism for listing all resources in the classpath is currently [to use this pattern with ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author of ClassGraph.)\r\n\r\n    List&lt;String&gt; resourceNames;\r\n    try (ScanResult scanResult = new ClassGraph().acceptPaths(&quot;x/y/z&quot;).scan()) {\r\n        resourceNames = scanResult.getAllResources().getNames();\r\n    }\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms","title":"Get a list of resources from classpath directory","body":"<p>The most robust mechanism for listing all resources in the classpath is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\" rel=\"noreferrer\">to use this pattern with ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author of ClassGraph.)</p>\n<pre><code>List&lt;String&gt; resourceNames;\ntry (ScanResult scanResult = new ClassGraph().acceptPaths(&quot;x/y/z&quot;).scan()) {\n    resourceNames = scanResult.getAllResources().getNames();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1723311,"reputation":151,"user_id":1578548,"display_name":"error1009"},"score":6,"creation_date":1588148986,"post_id":58640751,"comment_id":108785601,"body_markdown":"doesn&#39;t work, when you run a jar:\njava.nio.file.FileSystemNotFoundException at Paths.get(uri)","body":"doesn&#39;t work, when you run a jar: java.nio.file.FileSystemNotFoundException at Paths.get(uri)"},{"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"score":0,"creation_date":1688794623,"post_id":58640751,"comment_id":135124710,"body_markdown":"I&#39;ve encountered `FileSystemNotFoundException` before when I wanted to `Paths.get(URI)` a file that was within a Jar. I can&#39;t remember the exact details but I guess I got a URI somehow of a resource, but it was actually a resource in a Jar...so visible on the classpath, but on the physical disk it was in a Jar - and Java couldn&#39;t load the resource because it considered the Jar as a &quot;file system&quot; it didn&#39;t know about it. You can actually create that &quot;file system&quot; using some of the methods in [FileSystem](https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystems.html).","body":"I&#39;ve encountered <code>FileSystemNotFoundException</code> before when I wanted to <code>Paths.get(URI)</code> a file that was within a Jar. I can&#39;t remember the exact details but I guess I got a URI somehow of a resource, but it was actually a resource in a Jar...so visible on the classpath, but on the physical disk it was in a Jar - and Java couldn&#39;t load the resource because it considered the Jar as a &quot;file system&quot; it didn&#39;t know about it. You can actually create that &quot;file system&quot; using some of the methods in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystems.html\" rel=\"nofollow noreferrer\">FileSystem</a>."},{"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"score":0,"creation_date":1688794675,"post_id":58640751,"comment_id":135124712,"body_markdown":"I have all my File manipulation code abstracted away in one class and instead of `Paths.get(URI)` I use the following: [code snippet](https://pastebin.com/dn0K6ftQ).  When it tried to `get` one of those resources from a new Jar, it would add the required [FileSystem](https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html).","body":"I have all my File manipulation code abstracted away in one class and instead of <code>Paths.get(URI)</code> I use the following: <a href=\"https://pastebin.com/dn0K6ftQ\" rel=\"nofollow noreferrer\">code snippet</a>.  When it tried to <code>get</code> one of those resources from a new Jar, it would add the required <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html\" rel=\"nofollow noreferrer\">FileSystem</a>."}],"tags":[],"owner":{"account_id":4431896,"reputation":1819,"user_id":3608867,"display_name":"Jacques Koorts"},"comment_count":3,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1572515828,"creation_date":1572515828,"answer_id":58640751,"question_id":3923129,"body_markdown":"My way, no Spring, used during a unit test:\r\n\r\n    URI uri = TestClass.class.getResource(&quot;/resources&quot;).toURI();\r\n    Path myPath = Paths.get(uri);\r\n    Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\r\n    for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext(); ) {\r\n        Path filename = it.next();   \r\n        System.out.println(filename);\r\n    }","title":"Get a list of resources from classpath directory","body":"<p>My way, no Spring, used during a unit test:</p>\n\n<pre><code>URI uri = TestClass.class.getResource(\"/resources\").toURI();\nPath myPath = Paths.get(uri);\nStream&lt;Path&gt; walk = Files.walk(myPath, 1);\nfor (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext(); ) {\n    Path filename = it.next();   \n    System.out.println(filename);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652242754,"creation_date":1652242754,"answer_id":72195371,"question_id":3923129,"body_markdown":"Expanding on [Luke Hutchinsons](https://stackoverflow.com/users/3950982/luke-hutchison) answer above, using his [ClassGraph](https://github.com/classgraph) library, I was able to easily get a list of all files in a Resource folder with almost no effort at all.\r\n\r\nLet&#39;s say that in your resource folder, you have a folder called ```MyImages```. This is how easy it is to get a URL list of all the files in that folder:\r\n\r\n\r\n    import io.github.classgraph.ClassGraph;\r\n    import io.github.classgraph.ResourceList;\r\n    import io.github.classgraph.ScanResult;\r\n    \r\n    public static LinkedList&lt;URL&gt; getURLList (String folder) {\r\n    \tLinkedList&lt;URL&gt; urlList    = new LinkedList&lt;&gt;();\r\n    \tScanResult      scanResult = new ClassGraph().enableAllInfo().scan();\r\n    \tResourceList    resources  = scanResult.getAllResources();\r\n    \tfor (URL url : resources.getURLs()) {\r\n    \t\tif (url.toString().contains(folder)) {\r\n    \t\t\turlList.addLast(url);\r\n    \t\t}\r\n    \t}\r\n    \treturn urlList;\r\n    }\r\n\r\n\r\nThen you simply do this:\r\n\r\n\r\n    LinkedList&lt;URL&gt; myURLFileList = getURLList(&quot;MyImages&quot;);\r\n\r\n\r\nThe URLs can then be loaded into streams or use Apache&#39;s FileUtils to copy the files somewhere else like this:\r\n\r\n\r\n    String outPath = &quot;/My/Output/Path&quot;;\r\n    for(URL url : myURLFileList) {\r\n        FileUtils.copyURLToFile(url, new File(outPath, url.getFile()));\r\n    }\r\n\r\n\r\nI think ClassGraph is a pretty slick library for making tasks like this very simple and easy to comprehend.","title":"Get a list of resources from classpath directory","body":"<p>Expanding on <a href=\"https://stackoverflow.com/users/3950982/luke-hutchison\">Luke Hutchinsons</a> answer above, using his <a href=\"https://github.com/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a> library, I was able to easily get a list of all files in a Resource folder with almost no effort at all.</p>\n<p>Let's say that in your resource folder, you have a folder called <code>MyImages</code>. This is how easy it is to get a URL list of all the files in that folder:</p>\n<pre><code>import io.github.classgraph.ClassGraph;\nimport io.github.classgraph.ResourceList;\nimport io.github.classgraph.ScanResult;\n\npublic static LinkedList&lt;URL&gt; getURLList (String folder) {\n    LinkedList&lt;URL&gt; urlList    = new LinkedList&lt;&gt;();\n    ScanResult      scanResult = new ClassGraph().enableAllInfo().scan();\n    ResourceList    resources  = scanResult.getAllResources();\n    for (URL url : resources.getURLs()) {\n        if (url.toString().contains(folder)) {\n            urlList.addLast(url);\n        }\n    }\n    return urlList;\n}\n</code></pre>\n<p>Then you simply do this:</p>\n<pre><code>LinkedList&lt;URL&gt; myURLFileList = getURLList(&quot;MyImages&quot;);\n</code></pre>\n<p>The URLs can then be loaded into streams or use Apache's FileUtils to copy the files somewhere else like this:</p>\n<pre><code>String outPath = &quot;/My/Output/Path&quot;;\nfor(URL url : myURLFileList) {\n    FileUtils.copyURLToFile(url, new File(outPath, url.getFile()));\n}\n</code></pre>\n<p>I think ClassGraph is a pretty slick library for making tasks like this very simple and easy to comprehend.</p>\n"},{"tags":[],"owner":{"account_id":12554710,"reputation":150,"user_id":9134906,"display_name":"SecretX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684948978,"creation_date":1684948978,"answer_id":76326006,"question_id":3923129,"body_markdown":"# path-matching-resource-pattern-resolver\r\n\r\nI extracted Spring Framework&#39;s `PathMatchingResourcePatternResolver` into a standalone library for those that can&#39;t or don&#39;t want to import the whole Spring Framework library.\r\n\r\n### GitHub\r\nhttps://github.com/SecretX33/path-matching-resource-pattern-resolver\r\n\r\n## Add the dependency\r\n\r\n### Maven\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.secretx33&lt;/groupId&gt;\r\n    &lt;artifactId&gt;path-matching-resource-pattern-resolver&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Gradle\r\n\r\n```\r\nimplementation &#39;io.github.secretx33:path-matching-resource-pattern-resolver:0.1&#39;\r\n```\r\n\r\n### Gradle (KTS)\r\n```\r\nimplementation(&quot;io.github.secretx33:path-matching-resource-pattern-resolver:0.1&quot;)\r\n```\r\n\r\n## Usage example\r\n\r\n### Find a single resource\r\n\r\n```\r\nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\nResource resource = resolver.getResource(&quot;classpath:com/example/config.properties&quot;);\r\n\r\nif (resource.exists()) {\r\n    // Process the resource\r\n}\r\n```\r\n\r\n### Find multiple resources\r\n```\r\nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\nResource[] resources = resolver.getResources(&quot;classpath:com/example/**/*.xml&quot;);\r\n\r\nfor (Resource resource : resources) {\r\n    // Process the resource\r\n}\r\n```","title":"Get a list of resources from classpath directory","body":"<h1>path-matching-resource-pattern-resolver</h1>\n<p>I extracted Spring Framework's <code>PathMatchingResourcePatternResolver</code> into a standalone library for those that can't or don't want to import the whole Spring Framework library.</p>\n<h3>GitHub</h3>\n<p><a href=\"https://github.com/SecretX33/path-matching-resource-pattern-resolver\" rel=\"nofollow noreferrer\">https://github.com/SecretX33/path-matching-resource-pattern-resolver</a></p>\n<h2>Add the dependency</h2>\n<h3>Maven</h3>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.secretx33&lt;/groupId&gt;\n    &lt;artifactId&gt;path-matching-resource-pattern-resolver&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Gradle</h3>\n<pre><code>implementation 'io.github.secretx33:path-matching-resource-pattern-resolver:0.1'\n</code></pre>\n<h3>Gradle (KTS)</h3>\n<pre><code>implementation(&quot;io.github.secretx33:path-matching-resource-pattern-resolver:0.1&quot;)\n</code></pre>\n<h2>Usage example</h2>\n<h3>Find a single resource</h3>\n<pre><code>ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\nResource resource = resolver.getResource(&quot;classpath:com/example/config.properties&quot;);\n\nif (resource.exists()) {\n    // Process the resource\n}\n</code></pre>\n<h3>Find multiple resources</h3>\n<pre><code>ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\nResource[] resources = resolver.getResources(&quot;classpath:com/example/**/*.xml&quot;);\n\nfor (Resource resource : resources) {\n    // Process the resource\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":0,"creation_date":1701123166,"post_id":77334100,"comment_id":136733966,"body_markdown":"This is the best solution actually","body":"This is the best solution actually"}],"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697842062,"creation_date":1697842062,"answer_id":77334100,"question_id":3923129,"body_markdown":"For root directory:\r\n\r\n    List&lt;String&gt; fileNames = IOUtils.readLines(MyClass.class.getClassLoader().getResourceAsStream(&quot;.&quot;), StandardCharsets.UTF_8);","title":"Get a list of resources from classpath directory","body":"<p>For root directory:</p>\n<pre><code>List&lt;String&gt; fileNames = IOUtils.readLines(MyClass.class.getClassLoader().getResourceAsStream(&quot;.&quot;), StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":54627,"reputation":6427,"user_id":163498,"accept_rate":88,"display_name":"Marat Salikhov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353009,"favorite_count":0,"down_vote_count":0,"up_vote_count":329,"accepted_answer_id":3923685,"answer_count":17,"score":329,"last_activity_date":1697842062,"creation_date":1286969347,"question_id":3923129,"body_markdown":"I am looking for a way to get a list of all resource names from a given classpath directory, something like a method `List&lt;String&gt; getResourceNames (String directoryName)`.\r\n\r\nFor example, given a classpath directory `x/y/z` containing files `a.html`, `b.html`, `c.html` and a subdirectory `d`, `getResourceNames(&quot;x/y/z&quot;)` should return a `List&lt;String&gt;` containing the following strings:`[&#39;a.html&#39;, &#39;b.html&#39;, &#39;c.html&#39;, &#39;d&#39;]`.\r\n\r\nIt should work both for resources in filesystem and jars.\r\n\r\nI know that I can write a quick snippet with `File`s, `JarFile`s and `URL`s, but I do not want to reinvent the wheel. My question is, given existing publicly available libraries, what is the quickest way to implement `getResourceNames`? Spring and Apache Commons stacks are both feasible.","title":"Get a list of resources from classpath directory","body":"<p>I am looking for a way to get a list of all resource names from a given classpath directory, something like a method <code>List&lt;String&gt; getResourceNames (String directoryName)</code>.</p>\n\n<p>For example, given a classpath directory <code>x/y/z</code> containing files <code>a.html</code>, <code>b.html</code>, <code>c.html</code> and a subdirectory <code>d</code>, <code>getResourceNames(\"x/y/z\")</code> should return a <code>List&lt;String&gt;</code> containing the following strings:<code>['a.html', 'b.html', 'c.html', 'd']</code>.</p>\n\n<p>It should work both for resources in filesystem and jars.</p>\n\n<p>I know that I can write a quick snippet with <code>File</code>s, <code>JarFile</code>s and <code>URL</code>s, but I do not want to reinvent the wheel. My question is, given existing publicly available libraries, what is the quickest way to implement <code>getResourceNames</code>? Spring and Apache Commons stacks are both feasible.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1698160917,"post_id":77334085,"comment_id":136368589,"body_markdown":"If the file name is passed as a job parameter, then the mapper could be made step scoped to inject the file name from parameters at runtime. Same thing for the execution id.","body":"If the file name is passed as a job parameter, then the mapper could be made step scoped to inject the file name from parameters at runtime. Same thing for the execution id."},{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1698245817,"post_id":77334085,"comment_id":136381365,"body_markdown":"True. Thanks for the suggestion","body":"True. Thanks for the suggestion"}],"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697841710,"creation_date":1697841710,"answer_id":77334085,"question_id":77333098,"body_markdown":"Since the requirement is to store the entire line as text in the &quot;line_content&quot; column.\r\n\r\n    public class CustomLineMapper implements LineMapper&lt;MyDomainObject&gt; {\r\n        @Override\r\n        public MyDomainObject mapLine(String line, int lineNumber) throws Exception {\r\n            MyDomainObject domainObject = new MyDomainObject();\r\n            domainObject.setLineContent(line);\r\n            return domainObject;\r\n        }\r\n    }\r\n    \r\n    @Bean\r\n    public LineMapper&lt;MyDomainObject&gt; lineMapper() {\r\n        return new CustomLineMapper();\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    public FlatFileItemReader&lt;MyDomainObject&gt; itemReader() {\r\n        return new FlatFileItemReaderBuilder&lt;MyDomainObject&gt;()\r\n            .name(&quot;itemReader&quot;)\r\n            .resource(new FileSystemResource(&quot;data.csv&quot;))\r\n            .lineMapper(lineMapper())\r\n            .build();\r\n    }","title":"Spring Batch - Custom Line Mapper to store csv content line by line in a column","body":"<p>Since the requirement is to store the entire line as text in the &quot;line_content&quot; column.</p>\n<pre><code>public class CustomLineMapper implements LineMapper&lt;MyDomainObject&gt; {\n    @Override\n    public MyDomainObject mapLine(String line, int lineNumber) throws Exception {\n        MyDomainObject domainObject = new MyDomainObject();\n        domainObject.setLineContent(line);\n        return domainObject;\n    }\n}\n\n@Bean\npublic LineMapper&lt;MyDomainObject&gt; lineMapper() {\n    return new CustomLineMapper();\n}\n\n\n@Bean\npublic FlatFileItemReader&lt;MyDomainObject&gt; itemReader() {\n    return new FlatFileItemReaderBuilder&lt;MyDomainObject&gt;()\n        .name(&quot;itemReader&quot;)\n        .resource(new FileSystemResource(&quot;data.csv&quot;))\n        .lineMapper(lineMapper())\n        .build();\n}\n</code></pre>\n"}],"owner":{"account_id":17729565,"reputation":3,"user_id":12872507,"display_name":"Ardoise012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697841710,"creation_date":1697826730,"question_id":77333098,"body_markdown":"I am working with Spring Batch and am new to it. The idea is to read a CSV file line by line and write it to a database. Each line should be stored in a single column called line_content. There are other fields - file_name, execution_id\r\n\r\nThe tutorials I have gone through delimit based on a separator and map to the domain object. My understanding is that:  \r\n\r\nFlatFileItemReader is configured to read from a CSV file.\r\nLineMapper defines how each line is mapped to a domain object.\r\nDelimitedLineTokenizer specifies the delimiter (&quot;,&quot; in this case).\r\nBeanWrapperFieldSetMapper is used to map fields to a domain object.\r\n\r\n\r\nHow to create a custom line mapper that allows the mapping to the domain object? Also, what is the best way to approach this?\r\n\r\n\r\n\r\nAlready tried the following\r\n\r\n```\r\n@Bean\r\npublic FlatFileItemReader&lt;MyDomainObject&gt; itemReader() {\r\n    return new FlatFileItemReaderBuilder&lt;MyDomainObject&gt;()\r\n        .name(&quot;itemReader&quot;)\r\n        .resource(new FileSystemResource(&quot;data.csv&quot;))\r\n        .names(new String[] {&quot;file_name&quot;, &quot;line_content&quot;, &quot;execution_id&quot;})\r\n        .lineMapper(lineMapper())\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic LineMapper&lt;MyDomainObject&gt; lineMapper() {\r\n    DefaultLineMapper&lt;MyDomainObject&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    lineTokenizer.setDelimiter(null);\r\n    lineTokenizer.setNames(new String[] {&quot;file_name&quot;, &quot;line_content&quot;, &quot;execution_id&quot;});\r\n    \r\n    lineMapper.setLineTokenizer(lineTokenizer);\r\n    lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyDomainObject&gt;() {{\r\n        setTargetType(MyDomainObject.class);\r\n    });\r\n    \r\n    return lineMapper;\r\n}\r\n```","title":"Spring Batch - Custom Line Mapper to store csv content line by line in a column","body":"<p>I am working with Spring Batch and am new to it. The idea is to read a CSV file line by line and write it to a database. Each line should be stored in a single column called line_content. There are other fields - file_name, execution_id</p>\n<p>The tutorials I have gone through delimit based on a separator and map to the domain object. My understanding is that:</p>\n<p>FlatFileItemReader is configured to read from a CSV file.\nLineMapper defines how each line is mapped to a domain object.\nDelimitedLineTokenizer specifies the delimiter (&quot;,&quot; in this case).\nBeanWrapperFieldSetMapper is used to map fields to a domain object.</p>\n<p>How to create a custom line mapper that allows the mapping to the domain object? Also, what is the best way to approach this?</p>\n<p>Already tried the following</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;MyDomainObject&gt; itemReader() {\n    return new FlatFileItemReaderBuilder&lt;MyDomainObject&gt;()\n        .name(&quot;itemReader&quot;)\n        .resource(new FileSystemResource(&quot;data.csv&quot;))\n        .names(new String[] {&quot;file_name&quot;, &quot;line_content&quot;, &quot;execution_id&quot;})\n        .lineMapper(lineMapper())\n        .build();\n}\n\n@Bean\npublic LineMapper&lt;MyDomainObject&gt; lineMapper() {\n    DefaultLineMapper&lt;MyDomainObject&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n    lineTokenizer.setDelimiter(null);\n    lineTokenizer.setNames(new String[] {&quot;file_name&quot;, &quot;line_content&quot;, &quot;execution_id&quot;});\n    \n    lineMapper.setLineTokenizer(lineTokenizer);\n    lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyDomainObject&gt;() {{\n        setTargetType(MyDomainObject.class);\n    });\n    \n    return lineMapper;\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697830781,"post_id":77332958,"comment_id":136333640,"body_markdown":"one-to-one and ano-to-many relationships are conceptually different, hibernate does not do that, the many-to-many relationship is defined using two one-to-many relationships only, so please make sure you delete the existing database(if it is possible) and then run code to create tables again, and if you can please provide some more code parts of your project like configurations , etc","body":"one-to-one and ano-to-many relationships are conceptually different, hibernate does not do that, the many-to-many relationship is defined using two one-to-many relationships only, so please make sure you delete the existing database(if it is possible) and then run code to create tables again, and if you can please provide some more code parts of your project like configurations , etc"},{"owner":{"account_id":29718170,"reputation":1,"user_id":22776165,"display_name":"Micha Zajc"},"score":0,"creation_date":1697920224,"post_id":77332958,"comment_id":136340755,"body_markdown":"I have deleted &amp; executed code few times (deleting db tables in the meantime), using different configurations, and all of them created one to many relationship in MySQL db structure (examples from one-to-one tutorial: https://www.baeldung.com/jpa-one-to-one). So does it mean that Hibernate is unable to create actual one to one relationship?","body":"I have deleted &amp; executed code few times (deleting db tables in the meantime), using different configurations, and all of them created one to many relationship in MySQL db structure (examples from one-to-one tutorial: <a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">baeldung.com/jpa-one-to-one</a>). So does it mean that Hibernate is unable to create actual one to one relationship?"}],"answers":[{"comments":[{"owner":{"account_id":29718170,"reputation":1,"user_id":22776165,"display_name":"Micha Zajc"},"score":0,"creation_date":1697920476,"post_id":77334069,"comment_id":136340777,"body_markdown":"I know that it is possible in MySQL, I just wanted to define whole db with Hibernate. So does it mean that i can&#39;t define one-to-one relationship, that will be set this way in MySQL, with just hibernate?","body":"I know that it is possible in MySQL, I just wanted to define whole db with Hibernate. So does it mean that i can&#39;t define one-to-one relationship, that will be set this way in MySQL, with just hibernate?"},{"owner":{"account_id":27491027,"reputation":1,"user_id":20976392,"display_name":"Baranovich"},"score":0,"creation_date":1697921770,"post_id":77334069,"comment_id":136340921,"body_markdown":"Yes, it does mean this","body":"Yes, it does mean this"}],"tags":[],"owner":{"account_id":27491027,"reputation":1,"user_id":20976392,"display_name":"Baranovich"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697841437,"creation_date":1697841376,"answer_id":77334069,"question_id":77332958,"body_markdown":"The relationship in your MySQL database doesn&#39;t depend on Hibernate relationship definition. Hibernate annotation @OneToOne is used to specify particular relationship for your program - due to that Hibernate will expect one-to-one relationship for accordance tables, already existing in your database. If you want to get one-to-one relationship in database, just drop old tables with one-to-many relationship and create new with one-to-one (use this tutorial - https://dotnettutorials.net/lesson/database-relationships-in-mysql/) - you don&#39;t need Hibernate for this.","title":"hibernate creates one to many relationship in mysql db, while one to one specified","body":"<p>The relationship in your MySQL database doesn't depend on Hibernate relationship definition. Hibernate annotation @OneToOne is used to specify particular relationship for your program - due to that Hibernate will expect one-to-one relationship for accordance tables, already existing in your database. If you want to get one-to-one relationship in database, just drop old tables with one-to-many relationship and create new with one-to-one (use this tutorial - <a href=\"https://dotnettutorials.net/lesson/database-relationships-in-mysql/\" rel=\"nofollow noreferrer\">https://dotnettutorials.net/lesson/database-relationships-in-mysql/</a>) - you don't need Hibernate for this.</p>\n"}],"owner":{"account_id":29718170,"reputation":1,"user_id":22776165,"display_name":"Micha Zajc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697841437,"creation_date":1697825025,"question_id":77332958,"body_markdown":"After defining @OneToOne relationship using Hibernate, I have one to many relationship in MySQL db.\r\n\r\none to many relationship:\r\n\r\n[![one to many relationship][1]][1]\r\n\r\nIs it an errror or the way Hibernate manages one to one relationship?\r\n\r\nI have even tried this with obvious example from site explaining relationships: https://www.baeldung.com/jpa-hibernate-associations\r\n\r\nCode:\r\n\r\n```java\r\n    @Entity\r\n    public class Employee {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;parking_spot_id&quot;)\r\n        private ParkingSpot parkingSpot;\r\n     \r\n    }\r\n    \r\n    @Entity\r\n    public class ParkingSpot {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n    }\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/1sMMK.png","title":"hibernate creates one to many relationship in mysql db, while one to one specified","body":"<p>After defining @OneToOne relationship using Hibernate, I have one to many relationship in MySQL db.</p>\n<p>one to many relationship:</p>\n<p><a href=\"https://i.stack.imgur.com/1sMMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1sMMK.png\" alt=\"one to many relationship\" /></a></p>\n<p>Is it an errror or the way Hibernate manages one to one relationship?</p>\n<p>I have even tried this with obvious example from site explaining relationships: <a href=\"https://www.baeldung.com/jpa-hibernate-associations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-hibernate-associations</a></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    public class Employee {\n     \n        @Id\n        private Long id;\n     \n        @OneToOne\n        @JoinColumn(name = &quot;parking_spot_id&quot;)\n        private ParkingSpot parkingSpot;\n     \n    }\n    \n    @Entity\n    public class ParkingSpot {\n     \n        @Id\n        private Long id;\n     \n    }\n</code></pre>\n"},{"tags":["java","eclipse","javafx","gluon"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697825251,"post_id":77330722,"comment_id":136332906,"body_markdown":"I am not sure how `SceneBuilder` factors in here. What is your question?","body":"I am not sure how <code>SceneBuilder</code> factors in here. What is your question?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1697825547,"post_id":77330722,"comment_id":136332946,"body_markdown":"I would suggest starting at https://openjfx.io/openjfx-docs/. I personally like `JavaFX and Netbeans - Non-Modular with Maven`. If you don&#39;t use any non-modular dependency, I suggest `JavaFX and Netbeans - Modular with Maven` and `Java with Maven -&gt; FXML JavaFX Maven Archetype`. You can configure `SceneBuilder` with `Netbeans`, and it should open FXML files with no problems.","body":"I would suggest starting at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>. I personally like <code>JavaFX and Netbeans - Non-Modular with Maven</code>. If you don&#39;t use any non-modular dependency, I suggest <code>JavaFX and Netbeans - Modular with Maven</code> and <code>Java with Maven -&gt; FXML JavaFX Maven Archetype</code>. You can configure <code>SceneBuilder</code> with <code>Netbeans</code>, and it should open FXML files with no problems."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697825761,"post_id":77330722,"comment_id":136332979,"body_markdown":"`Caused by: java.lang.ClassNotFoundException: com.gluonhq.charm.glisten.control.Avatar` makes me think you are missing some dependencies(s) or haven&#39;t added a dependency to `module-info.java` &lt;- That&#39;s assuming that your project is modular.","body":"<code>Caused by: java.lang.ClassNotFoundException: com.gluonhq.charm.glisten.control.Avatar</code> makes me think you are missing some dependencies(s) or haven&#39;t added a dependency to <code>module-info.java</code> &lt;- That&#39;s assuming that your project is modular."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1697838196,"post_id":77330722,"comment_id":136334580,"body_markdown":"[Gluon Charm](https://docs.gluonhq.com/charm/2.0.0/) is a 3rd party framework (I haven&#39;t used it and the documentation I linked is old so may be outdated).  Gluon charm is not part of JavaFX, though it does use JavaFX.  [Recent information on using Gluon products](https://docs.gluonhq.com/#_getting_started).  If you wish to use Gluon components, you may consider requesting [support from Gluon](https://gluonhq.com/developers/).  I added the [gluon tag](https://stackoverflow.com/questions/tagged/gluon) to your question, in case a Gluon developer chooses to assist you with your question here.","body":"<a href=\"https://docs.gluonhq.com/charm/2.0.0/\" rel=\"nofollow noreferrer\">Gluon Charm</a> is a 3rd party framework (I haven&#39;t used it and the documentation I linked is old so may be outdated).  Gluon charm is not part of JavaFX, though it does use JavaFX.  <a href=\"https://docs.gluonhq.com/#_getting_started\" rel=\"nofollow noreferrer\">Recent information on using Gluon products</a>.  If you wish to use Gluon components, you may consider requesting <a href=\"https://gluonhq.com/developers/\" rel=\"nofollow noreferrer\">support from Gluon</a>.  I added the <a href=\"https://stackoverflow.com/questions/tagged/gluon\">gluon tag</a> to your question, in case a Gluon developer chooses to assist you with your question here."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1697838525,"post_id":77330722,"comment_id":136334615,"body_markdown":"As you have &quot;just started using JavaFX&quot;, I recommend using only standard JavaFX components, e.g. following openjfx.io getting started documentation and, perhaps, the [Makery tutorial](https://code.makery.ch/library/javafx-tutorial/).  After which, you can expand into using third party libraries once you are more familiar with the basic technology.","body":"As you have &quot;just started using JavaFX&quot;, I recommend using only standard JavaFX components, e.g. following openjfx.io getting started documentation and, perhaps, the <a href=\"https://code.makery.ch/library/javafx-tutorial/\" rel=\"nofollow noreferrer\">Makery tutorial</a>.  After which, you can expand into using third party libraries once you are more familiar with the basic technology."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697808932,"creation_date":1697808566,"answer_id":77331313,"question_id":77330722,"body_markdown":"**Solution**\r\n\r\nIf you are new to JavaFX I recommend you to check out this preconfigured non modular project and configure it to your needs:\r\n\r\nhttps://github.com/davidweber411/SimpleJavaFxAppWithoutModules\r\n\r\nJust download, extract, start, profit!\r\nEverything ist configured out of the box!\r\n\r\n\r\n**Alternative**\r\n\r\nYou can create a running JavaFX project with this project generator:\r\n\r\nGitHub link:\r\n\r\nhttps://github.com/davidweber411/JavaFxProjectGenerator\r\n\r\nHomepage:\r\n\r\nhttps://wedasoft.com/projects/javafx-project-generator/#\r\n\r\n**Note**\r\n\r\nI am the author of both.\r\n\r\nThere is a gradle task for creating am executable fat jar.","title":"i cant use scene builder when i execute my code","body":"<p><strong>Solution</strong></p>\n<p>If you are new to JavaFX I recommend you to check out this preconfigured non modular project and configure it to your needs:</p>\n<p><a href=\"https://github.com/davidweber411/SimpleJavaFxAppWithoutModules\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/SimpleJavaFxAppWithoutModules</a></p>\n<p>Just download, extract, start, profit!\nEverything ist configured out of the box!</p>\n<p><strong>Alternative</strong></p>\n<p>You can create a running JavaFX project with this project generator:</p>\n<p>GitHub link:</p>\n<p><a href=\"https://github.com/davidweber411/JavaFxProjectGenerator\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxProjectGenerator</a></p>\n<p>Homepage:</p>\n<p><a href=\"https://wedasoft.com/projects/javafx-project-generator/#\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/javafx-project-generator/#</a></p>\n<p><strong>Note</strong></p>\n<p>I am the author of both.</p>\n<p>There is a gradle task for creating am executable fat jar.</p>\n"}],"owner":{"account_id":21537519,"reputation":1,"user_id":15875816,"display_name":"Riad Xploz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697838226,"creation_date":1697802828,"question_id":77330722,"body_markdown":"I got a problem that I absolutely can&#39;t solve on my own because I have just started using JAVA FX.\r\nhelp me please.\r\nthe error\r\n\r\n```\r\njavafx.fxml.LoadException: \r\n/C:/Users/DELL/eclipse-workspace/RiadFxProject/bin/application/RiadFxml.fxml\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2986)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2830)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2765)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2631)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2555)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3368)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3292)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3264)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3240)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3233)\r\n\tat RiadFxProject/application.Main.start(Main.java:24)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.ClassNotFoundException: com.gluonhq.charm.glisten.control.Avatar\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:3054)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:3043)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2984)\r\n\t... 20 more\r\n```\r\n\r\nmain.java\r\n\r\n```\r\npackage application;\r\n\t\r\nimport javafx.scene.text.*;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\npublic class Main extends Application {\r\n\r\n\tpublic static void main(String []args)\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//Group root=new Group();\r\n\t\ttry {\r\n\t\tAnchorPane root = (AnchorPane) FXMLLoader.load(Main.class.getResource(&quot;/application/RiadFxml.fxml&quot;));\r\n\t\tScene scene=new Scene(root,400,400);\t\r\n\t    \r\n\t\tstage.setScene(scene);\t\r\n\t\tstage.show();\r\n\t\t}catch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\nRiadFxml.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import com.gluonhq.charm.glisten.control.Avatar?&gt;\r\n&lt;?import com.gluonhq.charm.glisten.control.BottomNavigationButton?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.shape.Arc?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;.FXMLController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Avatar layoutX=&quot;47.0&quot; layoutY=&quot;52.0&quot; /&gt;\r\n      &lt;BottomNavigationButton layoutX=&quot;397.0&quot; layoutY=&quot;39.0&quot; /&gt;\r\n      &lt;Arc fill=&quot;DODGERBLUE&quot; layoutX=&quot;126.0&quot; layoutY=&quot;200.0&quot; length=&quot;270.0&quot; radiusX=&quot;100.0&quot; radiusY=&quot;100.0&quot; startAngle=&quot;45.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; type=&quot;ROUND&quot; /&gt;\r\n      &lt;Button layoutX=&quot;222.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n      &lt;Button layoutX=&quot;353.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n\r\nI tried some of the solutions previously suggested here. I followed the steps of Pro Code on YouTube, but the problem was not solvedI tried some of the solutions previously suggested here. I followed the steps of Pro Code on YouTube, but the problem was not solved","title":"i cant use scene builder when i execute my code","body":"<p>I got a problem that I absolutely can't solve on my own because I have just started using JAVA FX.\nhelp me please.\nthe error</p>\n<pre><code>javafx.fxml.LoadException: \n/C:/Users/DELL/eclipse-workspace/RiadFxProject/bin/application/RiadFxml.fxml\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2986)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2830)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2765)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2631)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2555)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3368)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3292)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3264)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3240)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3233)\n    at RiadFxProject/application.Main.start(Main.java:24)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.ClassNotFoundException: com.gluonhq.charm.glisten.control.Avatar\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:3054)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:3043)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2984)\n    ... 20 more\n</code></pre>\n<p>main.java</p>\n<pre><code>package application;\n    \nimport javafx.scene.text.*;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Group;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\npublic class Main extends Application {\n\n    public static void main(String []args)\n    {\n        launch(args);\n    }\n    @Override\n    public void start(Stage stage) throws Exception {\n        // TODO Auto-generated method stub\n        //Group root=new Group();\n        try {\n        AnchorPane root = (AnchorPane) FXMLLoader.load(Main.class.getResource(&quot;/application/RiadFxml.fxml&quot;));\n        Scene scene=new Scene(root,400,400);    \n        \n        stage.setScene(scene);  \n        stage.show();\n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p>RiadFxml.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import com.gluonhq.charm.glisten.control.Avatar?&gt;\n&lt;?import com.gluonhq.charm.glisten.control.BottomNavigationButton?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.shape.Arc?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;.FXMLController&quot;&gt;\n   &lt;children&gt;\n      &lt;Avatar layoutX=&quot;47.0&quot; layoutY=&quot;52.0&quot; /&gt;\n      &lt;BottomNavigationButton layoutX=&quot;397.0&quot; layoutY=&quot;39.0&quot; /&gt;\n      &lt;Arc fill=&quot;DODGERBLUE&quot; layoutX=&quot;126.0&quot; layoutY=&quot;200.0&quot; length=&quot;270.0&quot; radiusX=&quot;100.0&quot; radiusY=&quot;100.0&quot; startAngle=&quot;45.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; type=&quot;ROUND&quot; /&gt;\n      &lt;Button layoutX=&quot;222.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n      &lt;Button layoutX=&quot;353.0&quot; layoutY=&quot;188.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>I tried some of the solutions previously suggested here. I followed the steps of Pro Code on YouTube, but the problem was not solvedI tried some of the solutions previously suggested here. I followed the steps of Pro Code on YouTube, but the problem was not solved</p>\n"},{"tags":["java","spring-mvc","exception"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697833357,"post_id":77333515,"comment_id":136333961,"body_markdown":"one argument to separate the classes is that for example in future you may want to have many custom exceptions like MyException and for each one you will add one static class in ExceptionHandler? it will make your code unreadable and difficult to maintain.","body":"one argument to separate the classes is that for example in future you may want to have many custom exceptions like MyException and for each one you will add one static class in ExceptionHandler? it will make your code unreadable and difficult to maintain."},{"owner":{"account_id":24034908,"reputation":15,"user_id":18015298,"display_name":"duriz"},"score":0,"creation_date":1697836087,"post_id":77333515,"comment_id":136334312,"body_markdown":"The idea was to have all specifically handled exceptions, or rather their handlers, in the SpecializedExceptionHandler together. I really just need the DefaultExceptionHandler separated with a lower priority because of CompletionExceptions getting wrapped around exceptions from a certain part of the code.","body":"The idea was to have all specifically handled exceptions, or rather their handlers, in the SpecializedExceptionHandler together. I really just need the DefaultExceptionHandler separated with a lower priority because of CompletionExceptions getting wrapped around exceptions from a certain part of the code."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697837662,"post_id":77333515,"comment_id":136334519,"body_markdown":"Static inner is a contradiction in terms.","body":"Static inner is a contradiction in terms."}],"answers":[{"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697834010,"post_id":77333559,"comment_id":136334054,"body_markdown":"Why did you put the excpetion handling method in interface, is there need for that, why not just call that static method and not overload code with &quot;implements BaseExceptionHandler&quot; for each Exception handler class?","body":"Why did you put the excpetion handling method in interface, is there need for that, why not just call that static method and not overload code with &quot;implements BaseExceptionHandler&quot; for each Exception handler class?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1697835663,"post_id":77333559,"comment_id":136334259,"body_markdown":"@Black I chose a style that I felt most closely reflected OP&#39;s intention. I&#39;ve added other styles to my answer. They are all &quot;OK&quot; IMHO.","body":"@Black I chose a style that I felt most closely reflected OP&#39;s intention. I&#39;ve added other styles to my answer. They are all &quot;OK&quot; IMHO."},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697835793,"post_id":77333559,"comment_id":136334279,"body_markdown":"Thanks for the update!","body":"Thanks for the update!"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697835467,"creation_date":1697832803,"answer_id":77333559,"question_id":77333515,"body_markdown":"The general wisdom is for code units (classes in Java) to have a single purpose. Although the implementations are technically single purpose, they&#39;re unnecessarily entangled by coexisting in the same file.\r\n\r\nIt would be better to split them up, something like this:\r\n\r\n```\r\npublic interface BaseExceptionHandler {\r\n\r\n    default ResponseEntity handleError(Exception ex, String message) { \r\n        // shared exception handling \r\n    }\r\n}\r\n\r\n@ControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class SpecializedExceptionHandler implements BaseExceptionHandler {\r\n    \r\n    @ExceptionHandler\r\n    ResponseEntity handleMyException(MyException ex){\r\n        return handleError(ex, &quot;Custom Exception&quot;);\r\n    }\r\n}\r\n\r\n@ControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class DefaultExceptionHandler implements BaseExceptionHandler {\r\n    \r\n    @ExceptionHandler\r\n    ResponseEntity handleAllOtherExceptions(Exception ex){\r\n        return handleError(ex, &quot;Other Exception&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis also removes the use of `static`, making them more conventional.\r\n\r\nIf you prefer inheritance style:\r\n\r\n```\r\npublic abstract class BaseExceptionHandler {\r\n\r\n    ResponseEntity handleError(Exception ex, String message) { \r\n        // shared exception handling \r\n    }\r\n}\r\n\r\npublic class SpecializedExceptionHandler extends BaseExceptionHandler {\r\n   ...\r\n```\r\n\r\nIf you prefer `static` method style:\r\n\r\n```\r\npublic final class ExceptionHandlerUtils {\r\n\r\n    public static ResponseEntity handleError(Exception ex, String message) { \r\n        // shared exception handling \r\n    }\r\n}\r\n\r\npublic class SpecializedExceptionHandler extends BaseExceptionHandler {\r\n    // impl uses ExceptionHandlerUtils.handleError()\r\n```\r\n","title":"Is it bad practice to use @ControllerAdvice on static nested classes?","body":"<p>The general wisdom is for code units (classes in Java) to have a single purpose. Although the implementations are technically single purpose, they're unnecessarily entangled by coexisting in the same file.</p>\n<p>It would be better to split them up, something like this:</p>\n<pre><code>public interface BaseExceptionHandler {\n\n    default ResponseEntity handleError(Exception ex, String message) { \n        // shared exception handling \n    }\n}\n\n@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SpecializedExceptionHandler implements BaseExceptionHandler {\n    \n    @ExceptionHandler\n    ResponseEntity handleMyException(MyException ex){\n        return handleError(ex, &quot;Custom Exception&quot;);\n    }\n}\n\n@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class DefaultExceptionHandler implements BaseExceptionHandler {\n    \n    @ExceptionHandler\n    ResponseEntity handleAllOtherExceptions(Exception ex){\n        return handleError(ex, &quot;Other Exception&quot;);\n    }\n}\n</code></pre>\n<p>This also removes the use of <code>static</code>, making them more conventional.</p>\n<p>If you prefer inheritance style:</p>\n<pre><code>public abstract class BaseExceptionHandler {\n\n    ResponseEntity handleError(Exception ex, String message) { \n        // shared exception handling \n    }\n}\n\npublic class SpecializedExceptionHandler extends BaseExceptionHandler {\n   ...\n</code></pre>\n<p>If you prefer <code>static</code> method style:</p>\n<pre><code>public final class ExceptionHandlerUtils {\n\n    public static ResponseEntity handleError(Exception ex, String message) { \n        // shared exception handling \n    }\n}\n\npublic class SpecializedExceptionHandler extends BaseExceptionHandler {\n    // impl uses ExceptionHandlerUtils.handleError()\n</code></pre>\n"}],"owner":{"account_id":24034908,"reputation":15,"user_id":18015298,"display_name":"duriz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77333559,"answer_count":1,"score":0,"last_activity_date":1697837654,"creation_date":1697832291,"question_id":77333515,"body_markdown":"I need two separate ControllerAdvice-annotated classes in my application: one of them handles specific exceptions, the other one is a default-handler with lower @Order for all unexpected exceptions. However, they share some custom logic for building a ResponseEntity from the handled exceptions.\r\n\r\n\r\nIn order to keep the code in one place and make the shared logic available to them, I thought to put both classes as static nested classes into one outer class, like so:\r\n\r\n```\r\npublic class ExceptionHandler {\r\n\r\n  private static ResponseEntity handleError(Exception ex, String message){ \r\n    // shared exception handling \r\n  }\r\n  \r\n  @ControllerAdvice\r\n  @Order(Ordered.HIGHEST_PRECEDENCE)\r\n  static class SpecializedExceptionHandler {\r\n    \r\n    @ExceptionHandler\r\n    ResponseEntity handleMyException(MyException ex){\r\n      return handleError(ex, &quot;Custom Exception&quot;);\r\n    }\r\n  }\r\n\r\n  @ControllerAdvice\r\n  static class DefaultExceptionHandler {\r\n    \r\n    @ExceptionHandler\r\n    ResponseEntity handleAllOtherExceptions(Exception ex){\r\n      return handleError(ex, &quot;Other Exception&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\nThis seems to work fine and I couldn&#39;t come up with arguments against it on my own, so maybe you can help me out.","title":"Is it bad practice to use @ControllerAdvice on static nested classes?","body":"<p>I need two separate ControllerAdvice-annotated classes in my application: one of them handles specific exceptions, the other one is a default-handler with lower @Order for all unexpected exceptions. However, they share some custom logic for building a ResponseEntity from the handled exceptions.</p>\n<p>In order to keep the code in one place and make the shared logic available to them, I thought to put both classes as static nested classes into one outer class, like so:</p>\n<pre><code>public class ExceptionHandler {\n\n  private static ResponseEntity handleError(Exception ex, String message){ \n    // shared exception handling \n  }\n  \n  @ControllerAdvice\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  static class SpecializedExceptionHandler {\n    \n    @ExceptionHandler\n    ResponseEntity handleMyException(MyException ex){\n      return handleError(ex, &quot;Custom Exception&quot;);\n    }\n  }\n\n  @ControllerAdvice\n  static class DefaultExceptionHandler {\n    \n    @ExceptionHandler\n    ResponseEntity handleAllOtherExceptions(Exception ex){\n      return handleError(ex, &quot;Other Exception&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This seems to work fine and I couldn't come up with arguments against it on my own, so maybe you can help me out.</p>\n"},{"tags":["java","android","okhttp","libraries"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697921220,"post_id":77333488,"comment_id":136340859,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697837626,"creation_date":1697837626,"answer_id":77333872,"question_id":77333488,"body_markdown":"## Step 0:\r\nGo to https://mvnrepository.com and search for the library you want for example [okhttp](https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp/) select version you want, in maven section find some information like this, save it you will need it next steps.\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n## step 1: Click on file icon\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## Step 2: Click on Library manager\r\n[![enter image description here][2]][2]\r\n\r\n## Step 3: Click on add icon\r\n[![enter image description here][3]][3]\r\n\r\n## step 4: Fill with library info that you want to add for example okhttp\r\n[![enter image description here][4]][4]\r\n\r\n## step 5: Click Refresh module\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UsjSX.jpg\r\n  [2]: https://i.stack.imgur.com/tDLiT.jpg\r\n  [3]: https://i.stack.imgur.com/cFKpB.jpg\r\n  [4]: https://i.stack.imgur.com/tNwtJ.jpg\r\n  [5]: https://i.stack.imgur.com/RcFuY.jpg","title":"Difficulty in adding libraries to codeassist app","body":"<h2>Step 0:</h2>\n<p>Go to <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a> and search for the library you want for example <a href=\"https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp/\" rel=\"nofollow noreferrer\">okhttp</a> select version you want, in maven section find some information like this, save it you will need it next steps.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;4.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>step 1: Click on file icon</h2>\n<p><a href=\"https://i.stack.imgur.com/UsjSX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UsjSX.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>Step 2: Click on Library manager</h2>\n<p><a href=\"https://i.stack.imgur.com/tDLiT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDLiT.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>Step 3: Click on add icon</h2>\n<p><a href=\"https://i.stack.imgur.com/cFKpB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cFKpB.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>step 4: Fill with library info that you want to add for example okhttp</h2>\n<p><a href=\"https://i.stack.imgur.com/tNwtJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNwtJ.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>step 5: Click Refresh module</h2>\n<p><a href=\"https://i.stack.imgur.com/RcFuY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcFuY.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10350412,"reputation":13,"user_id":7633994,"display_name":"Akanimoh Oton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77333872,"answer_count":1,"score":0,"last_activity_date":1697837626,"creation_date":1697831917,"question_id":77333488,"body_markdown":"I have been looking for ways to add OkHttp, or any other library, to the codeassist app. I do hope there is a solution to this? \r\n\r\nGoogling, asking experienced programmers in my locality. I really do hope to gain from your experience. ","title":"Difficulty in adding libraries to codeassist app","body":"<p>I have been looking for ways to add OkHttp, or any other library, to the codeassist app. I do hope there is a solution to this?</p>\n<p>Googling, asking experienced programmers in my locality. I really do hope to gain from your experience.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","pom.xml"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697836729,"post_id":77333747,"comment_id":136334390,"body_markdown":"Can you also show the entity class ?","body":"Can you also show the entity class ?"},{"owner":{"account_id":27419372,"reputation":5,"user_id":20918068,"display_name":"Ovidio Rossi"},"score":0,"creation_date":1697837256,"post_id":77333747,"comment_id":136334462,"body_markdown":"@AndreiLisa add on top :) thx ...","body":"@AndreiLisa add on top :) thx ..."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697837356,"post_id":77333747,"comment_id":136334475,"body_markdown":"I wrote an answer, one more time I will say and here remove all `javax` dependency from maven imports","body":"I wrote an answer, one more time I will say and here remove all <code>javax</code> dependency from maven imports"},{"owner":{"account_id":27419372,"reputation":5,"user_id":20918068,"display_name":"Ovidio Rossi"},"score":1,"creation_date":1697838243,"post_id":77333747,"comment_id":136334586,"body_markdown":"Now it work, thx so much Andrei Lisa ^^ and especially thanks for explanations!","body":"Now it work, thx so much Andrei Lisa ^^ and especially thanks for explanations!"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697837245,"creation_date":1697836524,"answer_id":77333803,"question_id":77333747,"body_markdown":"The problem is in dependency injection that you are using in Service class(it not work so, please read the [documentation][1]). \r\n\r\nInstead of: \r\n\r\n    private PlayerRepository playerRepository;\r\n      \r\n      @Autowired\r\n      public PlayerServiceImpl(PlayerRepository playerRepository){\r\n        this.playerRepository = playerRepository;\r\n      }\r\n\r\nWrite field injection \r\n\r\n    @Autowired\r\n    private PlayerRepository playerRepository;\r\n\r\nOr Constructor Injection:\r\n\r\n    private final PlayerRepository playerRepository;\r\n      \r\n      \r\n      public PlayerServiceImpl(PlayerRepository playerRepository){\r\n        this.playerRepository = playerRepository;\r\n      }\r\n\r\nAnd also the second problem is here \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nBecause you are using spring boot &gt; 3.x that are using Jakarta.persistence not javax just remove that dependency and follow next one steps. \r\n\r\nTo fix it replace \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nTo \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd in `Entity` class replace all `javax.` imports to `jakarta.`\r\n\r\nIt is going to fix the problem.\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html#:~:text=Dependency%20injection%20(DI)%20is%20a,returned%20from%20a%20factory%20method.","title":"bean required in Spring application with JPARepository","body":"<p>The problem is in dependency injection that you are using in Service class(it not work so, please read the <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html#:%7E:text=Dependency%20injection%20(DI)%20is%20a,returned%20from%20a%20factory%20method.\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>Instead of:</p>\n<pre><code>private PlayerRepository playerRepository;\n  \n  @Autowired\n  public PlayerServiceImpl(PlayerRepository playerRepository){\n    this.playerRepository = playerRepository;\n  }\n</code></pre>\n<p>Write field injection</p>\n<pre><code>@Autowired\nprivate PlayerRepository playerRepository;\n</code></pre>\n<p>Or Constructor Injection:</p>\n<pre><code>private final PlayerRepository playerRepository;\n  \n  \n  public PlayerServiceImpl(PlayerRepository playerRepository){\n    this.playerRepository = playerRepository;\n  }\n</code></pre>\n<p>And also the second problem is here</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Because you are using spring boot &gt; 3.x that are using Jakarta.persistence not javax just remove that dependency and follow next one steps.</p>\n<p>To fix it replace</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>To</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And in <code>Entity</code> class replace all <code>javax.</code> imports to <code>jakarta.</code></p>\n<p>It is going to fix the problem.</p>\n"}],"owner":{"account_id":27419372,"reputation":5,"user_id":20918068,"display_name":"Ovidio Rossi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77333803,"answer_count":1,"score":0,"last_activity_date":1697837369,"creation_date":1697835617,"question_id":77333747,"body_markdown":"I have a problem with bean instantiation.\r\n\r\nParameter 0 of constructor in `table.football.play.service.impl.PlayerServiceImpl` required a bean of type `&#39;table.football.play.repository.PlayerRepository&#39;` that could not be found.\r\n\r\n[error](https://i.stack.imgur.com/N9VLp.png)\r\n\r\nthis is my class\r\n\r\n\r\n```\r\npackage table.football.play.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport table.football.play.entity.Player;\r\n\r\n@Repository\r\npublic interface PlayerRepository extends JpaRepository&lt;Player,Long&gt; {\r\n  \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nand this is service implementation : \r\n\r\n```\r\npackage table.football.play.service.impl;\r\n\r\nimport static table.football.play.util.ConvertEntityToDto.convertListPlayerEntityToListPlayerDto;\r\n\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport table.football.play.dto.PlayerDTO;\r\nimport table.football.play.entity.Player;\r\nimport table.football.play.repository.PlayerRepository;\r\nimport table.football.play.service.interf.PlayerService;\r\n\r\n@Service\r\npublic class PlayerServiceImpl implements PlayerService{\r\n  \r\n  private PlayerRepository playerRepository;\r\n  \r\n  @Autowired\r\n  public PlayerServiceImpl(PlayerRepository playerRepository){\r\n    this.playerRepository = playerRepository;\r\n  }\r\n  \r\n  @Override\r\n  public List&lt;PlayerDTO&gt; findAll(){\r\n    List&lt;Player&gt; listPlayer = playerRepository.findAll();\r\n    List&lt;PlayerDTO&gt; playerDTOList = convertListPlayerEntityToListPlayerDto(listPlayer);\r\n    return playerDTOList;\r\n  }\r\n\r\n\r\n}\r\n```\r\nthere a entity class\r\n```\r\npackage table.football.play.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;players&quot;)\r\npublic class Player {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n  \r\n  @Column(name=&quot;name&quot;)\r\n  private String name;\r\n  @Column(name=&quot;surname&quot;)\r\n  private String surname;\r\n  \r\n}\r\n```\r\nlastly this is my pom.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;table.football&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;play&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;game&lt;/name&gt;\r\n\t&lt;description&gt;calcio balilla project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI try @Autowired also on field (it&#39;s a better practice? or it&#39;s good to post @Autowired on constructor? or it the same?) \r\n\r\n\r\nI have read about some people talk about create a default constructor ... \r\nBut Repository is an interface , how can i resolve it?\r\n\r\nCan someone also explain me the theory behind this error ? It is not enough for me just that it works, I would like to understand.\r\n\r\nThank you very much!","title":"bean required in Spring application with JPARepository","body":"<p>I have a problem with bean instantiation.</p>\n<p>Parameter 0 of constructor in <code>table.football.play.service.impl.PlayerServiceImpl</code> required a bean of type <code>'table.football.play.repository.PlayerRepository'</code> that could not be found.</p>\n<p><a href=\"https://i.stack.imgur.com/N9VLp.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>this is my class</p>\n<pre><code>package table.football.play.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport table.football.play.entity.Player;\n\n@Repository\npublic interface PlayerRepository extends JpaRepository&lt;Player,Long&gt; {\n  \n}\n\n</code></pre>\n<p>and this is service implementation :</p>\n<pre><code>package table.football.play.service.impl;\n\nimport static table.football.play.util.ConvertEntityToDto.convertListPlayerEntityToListPlayerDto;\n\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport table.football.play.dto.PlayerDTO;\nimport table.football.play.entity.Player;\nimport table.football.play.repository.PlayerRepository;\nimport table.football.play.service.interf.PlayerService;\n\n@Service\npublic class PlayerServiceImpl implements PlayerService{\n  \n  private PlayerRepository playerRepository;\n  \n  @Autowired\n  public PlayerServiceImpl(PlayerRepository playerRepository){\n    this.playerRepository = playerRepository;\n  }\n  \n  @Override\n  public List&lt;PlayerDTO&gt; findAll(){\n    List&lt;Player&gt; listPlayer = playerRepository.findAll();\n    List&lt;PlayerDTO&gt; playerDTOList = convertListPlayerEntityToListPlayerDto(listPlayer);\n    return playerDTOList;\n  }\n\n\n}\n</code></pre>\n<p>there a entity class</p>\n<pre><code>package table.football.play.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport lombok.Data;\n\n@Data\n@Entity\n@Table(name=&quot;players&quot;)\npublic class Player {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  \n  @Column(name=&quot;name&quot;)\n  private String name;\n  @Column(name=&quot;surname&quot;)\n  private String surname;\n  \n}\n</code></pre>\n<p>lastly this is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;table.football&lt;/groupId&gt;\n    &lt;artifactId&gt;play&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;game&lt;/name&gt;\n    &lt;description&gt;calcio balilla project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I try @Autowired also on field (it's a better practice? or it's good to post @Autowired on constructor? or it the same?)</p>\n<p>I have read about some people talk about create a default constructor ...\nBut Repository is an interface , how can i resolve it?</p>\n<p>Can someone also explain me the theory behind this error ? It is not enough for me just that it works, I would like to understand.</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","android","firebase-authentication","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1697837030,"post_id":77333477,"comment_id":136334433,"body_markdown":"Also posted on https://github.com/firebase/FirebaseUI-Android/issues/2144","body":"Also posted on <a href=\"https://github.com/firebase/FirebaseUI-Android/issues/2144\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android/issues/2144</a>"}],"owner":{"account_id":22791464,"reputation":1,"user_id":18255626,"display_name":"StudentMarat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697836994,"creation_date":1697831770,"question_id":77333477,"body_markdown":"I am writing a test application on Firebase (Android+Java). I was faced with what problem. I use from Firebaseui for registration/authentication (https://firebase.google.com/docs/adroid/firebaseui?hl=en&amp;authuser=0). As Sign In Method, the Google account and email/password set. So. With Google, everything works without problems and registration and authentication. And with Email/Password I registered without problems. Registered user appeared in Firebase Console, for example Test@mail.ru. But, if I try to go under a previously registered user Test@mail.ru, then I have a form of registration. Although I expect to see that I just ask me to enter a password, because This user has already been registered earlier. How to fix this bug? Or I, maybe something overlooked, for example, did not connect any library?\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.firebase.ui.auth.AuthUI;\r\nimport com.firebase.ui.auth.FirebaseAuthUIActivityResultContract;\r\nimport com.firebase.ui.auth.IdpResponse;\r\nimport com.firebase.ui.auth.data.model.FirebaseAuthUIAuthenticationResult;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private FirebaseAuth mAuth;\r\n\r\n    private final ActivityResultLauncher&lt;Intent&gt; signInLauncher = registerForActivityResult(\r\n            new FirebaseAuthUIActivityResultContract(),\r\n            new ActivityResultCallback&lt;FirebaseAuthUIAuthenticationResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(FirebaseAuthUIAuthenticationResult result) {\r\n                    onSignInResult(result);\r\n                }\r\n            }\r\n    );\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseApp.initializeApp(this);\r\n        if (mAuth.getCurrentUser() != null) {\r\n            Toast.makeText(this, &quot;Logged&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            signOut();\r\n        }\r\n    }\r\n\r\n    private void onSignInResult(FirebaseAuthUIAuthenticationResult result) {\r\n        IdpResponse response = result.getIdpResponse();\r\n        if (result.getResultCode() == RESULT_OK) {\r\n            // Successfully signed in\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (user != null) {\r\n                Toast.makeText(this, user.getDisplayName(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        } else {\r\n            if (response != null) {\r\n                Toast.makeText(this, &quot;Error: &quot; + response.getError(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void signOut(){\r\n        AuthUI.getInstance()\r\n                .signOut(this)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        List&lt;AuthUI.IdpConfig&gt; providers = Arrays.asList(\r\n                                new AuthUI.IdpConfig.EmailBuilder().build(),\r\n                                new AuthUI.IdpConfig.GoogleBuilder().build());\r\n\r\n// Create and launch sign-in intent\r\n                        Intent signInIntent = AuthUI.getInstance()\r\n                                .createSignInIntentBuilder()\r\n                                .setAvailableProviders(providers)\r\n                                .build();\r\n                        signInLauncher.launch(signInIntent);\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    public void onClickLogout(View view) {\r\n        signOut();\r\n    }\r\n}\r\n```\r\n\r\nNo autentification FireBaseUI with email/password","title":"FireBaseUI java","body":"<p>I am writing a test application on Firebase (Android+Java). I was faced with what problem. I use from Firebaseui for registration/authentication (<a href=\"https://firebase.google.com/docs/adroid/firebaseui?hl=en&amp;authuser=0\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/adroid/firebaseui?hl=en&amp;authuser=0</a>). As Sign In Method, the Google account and email/password set. So. With Google, everything works without problems and registration and authentication. And with Email/Password I registered without problems. Registered user appeared in Firebase Console, for example Test@mail.ru. But, if I try to go under a previously registered user Test@mail.ru, then I have a form of registration. Although I expect to see that I just ask me to enter a password, because This user has already been registered earlier. How to fix this bug? Or I, maybe something overlooked, for example, did not connect any library?</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.firebase.ui.auth.AuthUI;\nimport com.firebase.ui.auth.FirebaseAuthUIActivityResultContract;\nimport com.firebase.ui.auth.IdpResponse;\nimport com.firebase.ui.auth.data.model.FirebaseAuthUIAuthenticationResult;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    private FirebaseAuth mAuth;\n\n    private final ActivityResultLauncher&lt;Intent&gt; signInLauncher = registerForActivityResult(\n            new FirebaseAuthUIActivityResultContract(),\n            new ActivityResultCallback&lt;FirebaseAuthUIAuthenticationResult&gt;() {\n                @Override\n                public void onActivityResult(FirebaseAuthUIAuthenticationResult result) {\n                    onSignInResult(result);\n                }\n            }\n    );\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseApp.initializeApp(this);\n        if (mAuth.getCurrentUser() != null) {\n            Toast.makeText(this, &quot;Logged&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            signOut();\n        }\n    }\n\n    private void onSignInResult(FirebaseAuthUIAuthenticationResult result) {\n        IdpResponse response = result.getIdpResponse();\n        if (result.getResultCode() == RESULT_OK) {\n            // Successfully signed in\n            FirebaseUser user = mAuth.getCurrentUser();\n            if (user != null) {\n                Toast.makeText(this, user.getDisplayName(), Toast.LENGTH_SHORT).show();\n            }\n        } else {\n            if (response != null) {\n                Toast.makeText(this, &quot;Error: &quot; + response.getError(), Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private void signOut(){\n        AuthUI.getInstance()\n                .signOut(this)\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        List&lt;AuthUI.IdpConfig&gt; providers = Arrays.asList(\n                                new AuthUI.IdpConfig.EmailBuilder().build(),\n                                new AuthUI.IdpConfig.GoogleBuilder().build());\n\n// Create and launch sign-in intent\n                        Intent signInIntent = AuthUI.getInstance()\n                                .createSignInIntentBuilder()\n                                .setAvailableProviders(providers)\n                                .build();\n                        signInLauncher.launch(signInIntent);\n                    }\n                });\n\n    }\n\n    public void onClickLogout(View view) {\n        signOut();\n    }\n}\n</code></pre>\n<p>No autentification FireBaseUI with email/password</p>\n"},{"tags":["java","datetime","timezone","datetime-conversion"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1697807171,"post_id":77331124,"comment_id":136329622,"body_markdown":"related [Is it possible to determine the UTC offset from two timestamps?](https://stackoverflow.com/q/45871744/85421) ?","body":"related <a href=\"https://stackoverflow.com/q/45871744/85421\">Is it possible to determine the UTC offset from two timestamps?</a> ?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697819249,"post_id":77331124,"comment_id":136331929,"body_markdown":"Typo? Did you intend to include a `Z` on the end of query_time_utc = 2023-06-01 06:59:59? This makes your question quite confusing.","body":"Typo? Did you intend to include a <code>Z</code> on the end of query_time_utc = 2023-06-01 06:59:59? This makes your question quite confusing."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697825931,"post_id":77331124,"comment_id":136333007,"body_markdown":"It may sound straightforward. It is not. We know that your unknown time zone is at UTC offset -07:00 on 1 May, but because of a summer time transition or other time anomaly, it is probably at a different UTC offset at some other time (realistically not on 1 June the same year, but you want your code to work for other dates too).","body":"It may sound straightforward. It is not. We know that your unknown time zone is at UTC offset -07:00 on 1 May, but because of a summer time transition or other time anomaly, it is probably at a different UTC offset at some other time (realistically not on 1 June the same year, but you want your code to work for other dates too)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697826423,"post_id":77331124,"comment_id":136333078,"body_markdown":"An option is to iterate all time zones that have the UTC offset defined and apply each to the new UTC timestamp to obtain candidate local times. In most cases you will probably end up with just 2 or 3 different possible local times and sometimes with only 1.","body":"An option is to iterate all time zones that have the UTC offset defined and apply each to the new UTC timestamp to obtain candidate local times. In most cases you will probably end up with just 2 or 3 different possible local times and sometimes with only 1."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697836600,"creation_date":1697819568,"answer_id":77332507,"question_id":77331124,"body_markdown":"## Many time zones may share an offset\r\n\r\n\r\n&gt;denote the offset, and thus the timezone\r\n\r\nNo, an offset does not indicate the time zone. [Many time zones][1] can share a particular offset. \r\n\r\nFor example, an offset of seven hours behind UTC (-07:00) may be used by time zones such as America/Inuvik, America/Boise, America/Yellowknife, America/Cambridge_Bay, America/Ciudad_Juarez, America/Phoenix, America/Dawson, America/Dawson_Creek, America/Edmonton, America/Fort_Nelson, America/Hermosillo, America/Mazatlan, America/Denver, America/Whitehorse, America/Tijuana, America/Los_Angeles, and America/Vancouver.\r\n\r\n\r\n## Offset versus time zone\r\n\r\nAn offset is a merely a number of hours-minutes-seconds ahead or behind a temporal meridian such as UTC. \r\n\r\nA time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians. \r\n\r\n## Moment\r\n\r\nA `Z` on the end of a date-time string is a standard abbreviation of `+00:00`, an offset of zero hours-minutes-seconds from the temporal meridian of UTC. \r\n\r\nParse a `Z` string in standard ISO 8601 format as a `Instant`. \r\n\r\n    Instant instant = Instant.parse( &quot;2023-05-01T14:00:23.021Z&quot; ) ;\r\n\r\nTo view the moment through the wall-clock/calendar used by the people of a particular region, apply a time zone (`ZoneId`) to get a `ZonedDateTime`. \r\n\r\n    ZoneId zTokyo = ZoneId .of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdtTokyo = instant.atZone( zTokyo ) ;\r\n\r\n    ZoneId zDawsonCreek = ZoneId .of( &quot;America/Dawson_Creek&quot; ) ;\r\n    ZonedDateTime zdtDawsonCreek = instant.atZone( zDawsonCreek ) ;\r\n\r\nThese three objects, `instant`, `zdtTokyo`, and `zdtDawsonCreek` all represent the same simultaneous moment, the exact **same point on the timeline**. \r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n```none\r\ninstant.toString() = 2023-05-01T14:00:23.021Z\r\nzdtTokyo.toString() = 2023-05-01T23:00:23.021+09:00[Asia/Tokyo]\r\nzdtDawsonCreek.toString() = 2023-05-01T07:00:23.021-07:00[America/Dawson_Creek]\r\n```\r\n\r\n## Not a moment \r\n\r\nA date-with-time string lacking an indicator of offset or zone is parsed as a `LocalDateTime` object. \r\n\r\nReplace the SPACE in the middle with a `T` to comply with [ISO 8601][3] standard. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2023-05-01 07:00:23.021&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\r\n\r\nThe `LocalDateTime` class does *not* represent a moment, is *not* a point on the timeline. So, a **`LocalDateTime` object is inherently ambiguous**. In your example we see 7 AM on the first of the month. But have no way of knowing if that means 7 AM in Tokyo, 7 AM in Toulouse, or 7 AM IN Toledo Ohio US  three different moments, several hours apart. \r\n\r\nIf you are *certain* that such a string lacking in zone/offset is meant to represent a momoet as seen in a particular time zone, you can apply that zone. \r\n\r\n    ZonedDateTime zdtTokyo = ldt.atZone( zTokyo );\r\n\r\nBut the ideal solution is to educate the publisher of your data about including at least the offset per the ISO 8601 standard. Even better, also append the name of the time zone in square brackets per the wise extension to ISO 8601 format as used in the `java.time.ZonedDateTime` class. \r\n\r\n## Converting\r\n\r\n&gt;convert another time  from UTC to local\r\n\r\n\r\nYes, you can adjust from a moment as seen in UTC to a boost as seen in a particular time zone. This was shown above. But you will need to know the time zone. \r\n\r\nYou cannot *assume* the offset. People do change their offset, with the change driven by the whims of politicians. Those whims can vary at any moment. So you have **no way of knowing the offset** that may be in effect in the future. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://ideone.com/GPJl2C\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to get timezone from local and UTC timestamps java","body":"<h2>Many time zones may share an offset</h2>\n<blockquote>\n<p>denote the offset, and thus the timezone</p>\n</blockquote>\n<p>No, an offset does not indicate the time zone. <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Many time zones</a> can share a particular offset.</p>\n<p>For example, an offset of seven hours behind UTC (-07:00) may be used by time zones such as America/Inuvik, America/Boise, America/Yellowknife, America/Cambridge_Bay, America/Ciudad_Juarez, America/Phoenix, America/Dawson, America/Dawson_Creek, America/Edmonton, America/Fort_Nelson, America/Hermosillo, America/Mazatlan, America/Denver, America/Whitehorse, America/Tijuana, America/Los_Angeles, and America/Vancouver.</p>\n<h2>Offset versus time zone</h2>\n<p>An offset is a merely a number of hours-minutes-seconds ahead or behind a temporal meridian such as UTC.</p>\n<p>A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians.</p>\n<h2>Moment</h2>\n<p>A <code>Z</code> on the end of a date-time string is a standard abbreviation of <code>+00:00</code>, an offset of zero hours-minutes-seconds from the temporal meridian of UTC.</p>\n<p>Parse a <code>Z</code> string in standard ISO 8601 format as a <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2023-05-01T14:00:23.021Z&quot; ) ;\n</code></pre>\n<p>To view the moment through the wall-clock/calendar used by the people of a particular region, apply a time zone (<code>ZoneId</code>) to get a <code>ZonedDateTime</code>.</p>\n<pre><code>ZoneId zTokyo = ZoneId .of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdtTokyo = instant.atZone( zTokyo ) ;\n\nZoneId zDawsonCreek = ZoneId .of( &quot;America/Dawson_Creek&quot; ) ;\nZonedDateTime zdtDawsonCreek = instant.atZone( zDawsonCreek ) ;\n</code></pre>\n<p>These three objects, <code>instant</code>, <code>zdtTokyo</code>, and <code>zdtDawsonCreek</code> all represent the same simultaneous moment, the exact <strong>same point on the timeline</strong>.</p>\n<p>See that <a href=\"https://ideone.com/GPJl2C\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>instant.toString() = 2023-05-01T14:00:23.021Z\nzdtTokyo.toString() = 2023-05-01T23:00:23.021+09:00[Asia/Tokyo]\nzdtDawsonCreek.toString() = 2023-05-01T07:00:23.021-07:00[America/Dawson_Creek]\n</code></pre>\n<h2>Not a moment</h2>\n<p>A date-with-time string lacking an indicator of offset or zone is parsed as a <code>LocalDateTime</code> object.</p>\n<p>Replace the SPACE in the middle with a <code>T</code> to comply with <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2023-05-01 07:00:23.021&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n</code></pre>\n<p>The <code>LocalDateTime</code> class does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. So, a <strong><code>LocalDateTime</code> object is inherently ambiguous</strong>. In your example we see 7 AM on the first of the month. But have no way of knowing if that means 7 AM in Tokyo, 7 AM in Toulouse, or 7 AM IN Toledo Ohio US  three different moments, several hours apart.</p>\n<p>If you are <em>certain</em> that such a string lacking in zone/offset is meant to represent a momoet as seen in a particular time zone, you can apply that zone.</p>\n<pre><code>ZonedDateTime zdtTokyo = ldt.atZone( zTokyo );\n</code></pre>\n<p>But the ideal solution is to educate the publisher of your data about including at least the offset per the ISO 8601 standard. Even better, also append the name of the time zone in square brackets per the wise extension to ISO 8601 format as used in the <code>java.time.ZonedDateTime</code> class.</p>\n<h2>Converting</h2>\n<blockquote>\n<p>convert another time  from UTC to local</p>\n</blockquote>\n<p>Yes, you can adjust from a moment as seen in UTC to a boost as seen in a particular time zone. This was shown above. But you will need to know the time zone.</p>\n<p>You cannot <em>assume</em> the offset. People do change their offset, with the change driven by the whims of politicians. Those whims can vary at any moment. So you have <strong>no way of knowing the offset</strong> that may be in effect in the future.</p>\n"}],"owner":{"account_id":8073250,"reputation":200,"user_id":6085246,"display_name":"saurabh.kg001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77332507,"answer_count":1,"score":0,"last_activity_date":1697836600,"creation_date":1697806890,"question_id":77331124,"body_markdown":"I have a use case where the data coming as input does not specify the timezone, however we have two separate fields &quot;local&quot; and &quot;utc&quot;, which can in practice denote the offset, and thus the timezone.\r\n\r\nI would like to get the timezone, so that I am able to convert another time, provided in UTC, to corresponding local time.\r\n\r\nInput:\r\n\r\n| transaction_date_local | transaction_date_utc | \r\n|-----------------------| ----------------------|\r\n|2023-05-01 07:00:23.021 | 2023-05-01T14:00:23.021Z |\r\n\r\n\r\nBased on this, I would like to convert another time `query_time_utc` from UTC to local  \r\nE.g. `query_time_utc` = `2023-06-01 06:59:59` , should be converted to local time (`query_time_local`)\r\n\r\nHow can we accomplish this ? I am thinking of getting the diff between local and UTC time, then apply that diff to the available UTC time to get local time. However, wanted to check if there is a higher level API available.\r\n\r\nAppreciate support on this (preferably Java / Scala)\r\n\r\n","title":"How to get timezone from local and UTC timestamps java","body":"<p>I have a use case where the data coming as input does not specify the timezone, however we have two separate fields &quot;local&quot; and &quot;utc&quot;, which can in practice denote the offset, and thus the timezone.</p>\n<p>I would like to get the timezone, so that I am able to convert another time, provided in UTC, to corresponding local time.</p>\n<p>Input:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>transaction_date_local</th>\n<th>transaction_date_utc</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2023-05-01 07:00:23.021</td>\n<td>2023-05-01T14:00:23.021Z</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Based on this, I would like to convert another time <code>query_time_utc</code> from UTC to local<br />\nE.g. <code>query_time_utc</code> = <code>2023-06-01 06:59:59</code> , should be converted to local time (<code>query_time_local</code>)</p>\n<p>How can we accomplish this ? I am thinking of getting the diff between local and UTC time, then apply that diff to the available UTC time to get local time. However, wanted to check if there is a higher level API available.</p>\n<p>Appreciate support on this (preferably Java / Scala)</p>\n"},{"tags":["java","types","casting","covariance"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1663745886,"post_id":73796982,"comment_id":130309083,"body_markdown":"`int` and `long` variables are not &quot;reference variables&quot;.","body":"<code>int</code> and <code>long</code> variables are not &quot;reference variables&quot;."},{"owner":{"account_id":15903012,"reputation":191,"user_id":11521880,"display_name":"bridgemnc"},"score":0,"creation_date":1663746038,"post_id":73796982,"comment_id":130309135,"body_markdown":"Yes, I know that. But what confuses me is this part &quot;This rule applies to primitive types and object types alike.&quot; So I am not sure how this would apply to primitive types.","body":"Yes, I know that. But what confuses me is this part &quot;This rule applies to primitive types and object types alike.&quot; So I am not sure how this would apply to primitive types."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1663746904,"post_id":73796982,"comment_id":130309449,"body_markdown":"perhaps the author meant wrapper objects, like `Integer`, `Booean`, etc","body":"perhaps the author meant wrapper objects, like <code>Integer</code>, <code>Booean</code>, etc"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1663746930,"post_id":73796982,"comment_id":130309459,"body_markdown":"[JLS 8.4.8.3](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.3) is the official reference for this. It talks about &quot;return type substitutable&quot; ([JLS 8.4.5](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.5)). 8.4.5 specifically says that for primitive types, the return type of the overriding method must be identical to the return type of the overridden method.","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.3\" rel=\"nofollow noreferrer\">JLS 8.4.8.3</a> is the official reference for this. It talks about &quot;return type substitutable&quot; (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.5\" rel=\"nofollow noreferrer\">JLS 8.4.5</a>). 8.4.5 specifically says that for primitive types, the return type of the overriding method must be identical to the return type of the overridden method."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1663747007,"post_id":73796982,"comment_id":130309482,"body_markdown":"And your example seems to be backwards: the method in `Class1` should be `int` while in `Class2` it should be `long`. But even if you do that, it won&#39;t work. Looks like this is an error in the OCP book.","body":"And your example seems to be backwards: the method in <code>Class1</code> should be <code>int</code> while in <code>Class2</code> it should be <code>long</code>. But even if you do that, it won&#39;t work. Looks like this is an error in the OCP book."}],"answers":[{"tags":[],"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663750417,"creation_date":1663750064,"answer_id":73797866,"question_id":73796982,"body_markdown":"Your problem has nothing to do with typecasting, but with inheritance. You are trying to override a method and change the return type to an incompatible type. This is not possible, but if it was, it would be very dangerous. The method signature, including the return type is kind of a contract you&#39;re not allowed to break. \r\nYour calling class is depending on that contract, so if it was possible to override the primitive type, you might end up with the simple problem that your calling class doesn&#39;t know the actual return type. But it&#39;s usual to work with polymorphism, so at compile time, you have to depend on the contract of the reference type you are using. See the following simple example (doesn&#39;t compile due to the last line):\r\n\r\n    public class Class1 {\r\n    \r\n        long method() {\r\n            return 3; //int, but cast before the value is returned\r\n        }\r\n    }\r\n\r\n    class Class2 extends Class1 {\r\n        public static void main(String[] args) {\r\n            int B = 1;\r\n            long A = B; // no cast\r\n        }\r\n\r\n        int method2() { //renamed to get this compiled\r\n            return 3;\r\n        }\r\n    }\r\n\r\n    class SimpleClass {\r\n        public static void main(String[] args) {\r\n           int i = 1;\r\n           long j = 2;\r\n           long l = i + j; //this compiles because int is implicitly cast to long\r\n           //int k = i + j; // This doesn&#39;t compile because long can&#39;t be cast\r\n           //implicitly to int\r\n        }\r\n    }\r\n\r\n    class Class3 {\r\n\r\n        void whatIsTheResult() {\r\n            Class1 class1 = new Class1();\r\n            Class1 class12 = new Class2(); //No problem due to  polymorphism, both   \r\n            //objects have the reference type Class1,\r\n        // but actually, class12 is of type Class2\r\n            Class2 class2 = new Class2(); \r\n\r\n            long a = class1.method() + class2.method2(); //By contract, method \r\n            //returns a long, method2 returns an int\r\n            int b = class1.method() + class2.method2(); // Same contract, but long \r\n            //can&#39;t be &#39;cast down&#39; to int, so doesn&#39;t compile\r\n        }\r\n    }","title":"covariant return types and primitives in Java","body":"<p>Your problem has nothing to do with typecasting, but with inheritance. You are trying to override a method and change the return type to an incompatible type. This is not possible, but if it was, it would be very dangerous. The method signature, including the return type is kind of a contract you're not allowed to break.\nYour calling class is depending on that contract, so if it was possible to override the primitive type, you might end up with the simple problem that your calling class doesn't know the actual return type. But it's usual to work with polymorphism, so at compile time, you have to depend on the contract of the reference type you are using. See the following simple example (doesn't compile due to the last line):</p>\n<pre><code>public class Class1 {\n\n    long method() {\n        return 3; //int, but cast before the value is returned\n    }\n}\n\nclass Class2 extends Class1 {\n    public static void main(String[] args) {\n        int B = 1;\n        long A = B; // no cast\n    }\n\n    int method2() { //renamed to get this compiled\n        return 3;\n    }\n}\n\nclass SimpleClass {\n    public static void main(String[] args) {\n       int i = 1;\n       long j = 2;\n       long l = i + j; //this compiles because int is implicitly cast to long\n       //int k = i + j; // This doesn't compile because long can't be cast\n       //implicitly to int\n    }\n}\n\nclass Class3 {\n\n    void whatIsTheResult() {\n        Class1 class1 = new Class1();\n        Class1 class12 = new Class2(); //No problem due to  polymorphism, both   \n        //objects have the reference type Class1,\n    // but actually, class12 is of type Class2\n        Class2 class2 = new Class2(); \n\n        long a = class1.method() + class2.method2(); //By contract, method \n        //returns a long, method2 returns an int\n        int b = class1.method() + class2.method2(); // Same contract, but long \n        //can't be 'cast down' to int, so doesn't compile\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15903012,"reputation":191,"user_id":11521880,"display_name":"bridgemnc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73797866,"answer_count":1,"score":1,"last_activity_date":1697836586,"creation_date":1663745771,"question_id":73796982,"body_markdown":"In OCP book I have read that there is this rule for covariance: \r\n\r\n*Given an inherited return type A and an overriding return type B, can you assign an instance of B to a reference variable for A without a cast? If so, then they are covariant. This rule **applies to primitive types** and object types alike.* \r\n\r\nIf the rule applies to primitive types and I can assign int value to long variable without a cast (so they are covariant) then why the code does not compile (covariant return types)? I assume there is something wrong with this sentence or with my understanding of it?\r\n\r\n    class Class1\r\n    {\r\n        long method()\r\n        {\r\n            return 1L;\r\n        }\r\n    }\r\n    class Class2 extends Class1\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int B = 1;\r\n            long A = B; // no cast\r\n        }\r\n    \r\n    //    @Override\r\n    //    int method() { return 1; } // does not compile // &#39;method()&#39; in &#39;B&#39; clashes with &#39;method()&#39; in &#39;A&#39;; attempting to use incompatible return type\r\n    }\r\n\r\n","title":"covariant return types and primitives in Java","body":"<p>In OCP book I have read that there is this rule for covariance:</p>\n<p><em>Given an inherited return type A and an overriding return type B, can you assign an instance of B to a reference variable for A without a cast? If so, then they are covariant. This rule <strong>applies to primitive types</strong> and object types alike.</em></p>\n<p>If the rule applies to primitive types and I can assign int value to long variable without a cast (so they are covariant) then why the code does not compile (covariant return types)? I assume there is something wrong with this sentence or with my understanding of it?</p>\n<pre><code>class Class1\n{\n    long method()\n    {\n        return 1L;\n    }\n}\nclass Class2 extends Class1\n{\n    public static void main(String[] args)\n    {\n        int B = 1;\n        long A = B; // no cast\n    }\n\n//    @Override\n//    int method() { return 1; } // does not compile // 'method()' in 'B' clashes with 'method()' in 'A'; attempting to use incompatible return type\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1697816409,"post_id":77332167,"comment_id":136331492,"body_markdown":"[This](https://stackoverflow.com/a/39857876/6650475) should help.","body":"<a href=\"https://stackoverflow.com/a/39857876/6650475\">This</a> should help."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1697816573,"post_id":77332167,"comment_id":136331516,"body_markdown":"Please, tell me where the Spring doc page that you linked says that the injected dependency cannot be an interface.","body":"Please, tell me where the Spring doc page that you linked says that the injected dependency cannot be an interface."},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1697817133,"post_id":77332167,"comment_id":136331606,"body_markdown":"Your Spring beans can absolutely be interfaces so not sure the claim Spring has a &quot;lack of interface-based DI&quot;","body":"Your Spring beans can absolutely be interfaces so not sure the claim Spring has a &quot;lack of interface-based DI&quot;"},{"owner":{"account_id":7129503,"reputation":126,"user_id":5451295,"display_name":"ww2406"},"score":0,"creation_date":1697817229,"post_id":77332167,"comment_id":136331617,"body_markdown":"@Pino There are three types of dependency injection (https://www.martinfowler.com/articles/injection.html#FormsOfDependencyInjection), constructor, setter, and interface. When the documentation specifically calls out 2 of those 3, it&#39;s a reasonable conclusion, no?","body":"@Pino There are three types of dependency injection (<a href=\"https://www.martinfowler.com/articles/injection.html#FormsOfDependencyInjection\" rel=\"nofollow noreferrer\">martinfowler.com/articles/&hellip;</a>), constructor, setter, and interface. When the documentation specifically calls out 2 of those 3, it&#39;s a reasonable conclusion, no?"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697817353,"post_id":77332167,"comment_id":136331631,"body_markdown":"It could be just a different classification.","body":"It could be just a different classification."},{"owner":{"account_id":7129503,"reputation":126,"user_id":5451295,"display_name":"ww2406"},"score":0,"creation_date":1697817368,"post_id":77332167,"comment_id":136331637,"body_markdown":"If there&#39;s something I&#39;m missing, I guess how does one link an interface injection to its specific dependency?","body":"If there&#39;s something I&#39;m missing, I guess how does one link an interface injection to its specific dependency?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":2,"creation_date":1697818116,"post_id":77332167,"comment_id":136331747,"body_markdown":"`@Configuration public class MyConfiguration { @Bean public MyDaoService myDaoService() { return new MyDaoServiceImpl(); } }`","body":"<code>@Configuration public class MyConfiguration { @Bean public MyDaoService myDaoService() { return new MyDaoServiceImpl(); } }</code>"},{"owner":{"account_id":7129503,"reputation":126,"user_id":5451295,"display_name":"ww2406"},"score":0,"creation_date":1697821727,"post_id":77332167,"comment_id":136332367,"body_markdown":"Thanks so very much, Zack -- that&#39;s exactly what I was hoping to see!","body":"Thanks so very much, Zack -- that&#39;s exactly what I was hoping to see!"}],"answers":[{"tags":[],"owner":{"account_id":1880361,"reputation":144,"user_id":1700716,"display_name":"Nikolaj Hansen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697827099,"creation_date":1697827099,"answer_id":77333129,"question_id":77332167,"body_markdown":"You can use Interfaces as injection objects in Java Spring. The spring injection will lookup up any implementations for said interface and return an instance.\r\n\r\nIf you have more than one implementation you will have to give a qualifier annotation to select the implementation you need.","title":"Designing for substitutable dependences in Spring","body":"<p>You can use Interfaces as injection objects in Java Spring. The spring injection will lookup up any implementations for said interface and return an instance.</p>\n<p>If you have more than one implementation you will have to give a qualifier annotation to select the implementation you need.</p>\n"},{"comments":[{"owner":{"account_id":7129503,"reputation":126,"user_id":5451295,"display_name":"ww2406"},"score":1,"creation_date":1697838481,"post_id":77333795,"comment_id":136334606,"body_markdown":"thanks so much for this incredibly thorough response and references! Spring has a lot of options in terms of how to accomplish something and this really helped clarify everything for me!","body":"thanks so much for this incredibly thorough response and references! Spring has a lot of options in terms of how to accomplish something and this really helped clarify everything for me!"},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697838554,"post_id":77333795,"comment_id":136334619,"body_markdown":"oh, happy to help :)","body":"oh, happy to help :)"}],"tags":[],"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697836379,"creation_date":1697836379,"answer_id":77333795,"question_id":77332167,"body_markdown":"1. Related to 3 tier part of question.\r\nYou are able to implement n-tier(3 or more) architecture by organizing for example each tier in a separate package or for example in a separate source directory.\r\nYou can have one package for the presentation layer and put your controllers in it.\r\nAnother layer for business logic(put all abstraction in this layer) and putting all services in this layer with their implementations.\r\nAnother layer for data access(Data access layer) putting all your entities and repositories in there.\r\n\r\n2. Related to substitutable interfaces/components.\r\nIt does not matter where you work but you want to have interfaces and implementations to make it easier to substitute the implementations,\r\nso in Spring boot you could have a controller(presentation layer) that uses the service interface(service layer) as a type for the service implementation instance\r\nand pass in it an implementation that is provided(injecting implementation object for example using [@Autowired annotation][1]), if there is more than one implementation for concrete service you would want to use the\r\n[@Qualifier annotation][2]\r\n\r\nconsider the code provided below\r\n\r\nThis controller uses the EmployeeService interface as a type for the service implementation object(note that in this example the framework injects the EmployeeService instance automatically without the use of Autowired annotations, this is another method of injecting objects that the platform allows you)\r\n\r\n\r\nRest Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class EmployeeRestController {\r\n        private EmployeeService employeeService;\r\n        \r\n        public EmployeeRestController(EmployeeService employeeService) {\r\n            this.employeeService = employeeService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/employees&quot;)\r\n        public List&lt;Employee&gt; findAll() {\r\n            return employeeService.findAll();\r\n        }\r\n    ...\r\n    }\r\n\r\nService Interface:\r\n\r\n    public interface EmployeeService {\r\n        public List&lt;Employee&gt; findAll();\r\n        \r\n        public Employee findById(int theId);\r\n        \r\n    ...\r\n    }\r\n\r\nService Implementation:\r\n\r\n    @Service\r\n    public class EmployeeServiceImpl implements EmployeeService {\r\n        private EmployeeDAO employeeDAO;\r\n    \r\n        @Autowired\r\n        public EmployeeServiceImpl(EmployeeDAO employeeDAO) {\r\n            this.employeeDAO = employeeDAO;\r\n        }\r\n    \r\n        @Override\r\n        @Transactional\r\n        public List&lt;Employee&gt; findAll() {\r\n            return employeeDAO.findAll();\r\n        }\r\n        ...\r\n    }\r\n\r\nIf you want to have many implementations for EmployeeService check out this [post][3]. \r\nIt clearly answers to the question of having many implementations of service and injecting desired one in to the desired place using above mentioned @Qualifier annotation\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-autowire\r\n  [2]: https://www.baeldung.com/spring-qualifier-annotation\r\n  [3]: https://stackoverflow.com/questions/51766013/spring-boot-autowiring-an-interface-with-multiple-implementations","title":"Designing for substitutable dependences in Spring","body":"<ol>\n<li><p>Related to 3 tier part of question.\nYou are able to implement n-tier(3 or more) architecture by organizing for example each tier in a separate package or for example in a separate source directory.\nYou can have one package for the presentation layer and put your controllers in it.\nAnother layer for business logic(put all abstraction in this layer) and putting all services in this layer with their implementations.\nAnother layer for data access(Data access layer) putting all your entities and repositories in there.</p>\n</li>\n<li><p>Related to substitutable interfaces/components.\nIt does not matter where you work but you want to have interfaces and implementations to make it easier to substitute the implementations,\nso in Spring boot you could have a controller(presentation layer) that uses the service interface(service layer) as a type for the service implementation instance\nand pass in it an implementation that is provided(injecting implementation object for example using <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">@Autowired annotation</a>), if there is more than one implementation for concrete service you would want to use the\n<a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">@Qualifier annotation</a></p>\n</li>\n</ol>\n<p>consider the code provided below</p>\n<p>This controller uses the EmployeeService interface as a type for the service implementation object(note that in this example the framework injects the EmployeeService instance automatically without the use of Autowired annotations, this is another method of injecting objects that the platform allows you)</p>\n<p>Rest Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class EmployeeRestController {\n    private EmployeeService employeeService;\n    \n    public EmployeeRestController(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; findAll() {\n        return employeeService.findAll();\n    }\n...\n}\n</code></pre>\n<p>Service Interface:</p>\n<pre><code>public interface EmployeeService {\n    public List&lt;Employee&gt; findAll();\n    \n    public Employee findById(int theId);\n    \n...\n}\n</code></pre>\n<p>Service Implementation:</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n    private EmployeeDAO employeeDAO;\n\n    @Autowired\n    public EmployeeServiceImpl(EmployeeDAO employeeDAO) {\n        this.employeeDAO = employeeDAO;\n    }\n\n    @Override\n    @Transactional\n    public List&lt;Employee&gt; findAll() {\n        return employeeDAO.findAll();\n    }\n    ...\n}\n</code></pre>\n<p>If you want to have many implementations for EmployeeService check out this <a href=\"https://stackoverflow.com/questions/51766013/spring-boot-autowiring-an-interface-with-multiple-implementations\">post</a>.\nIt clearly answers to the question of having many implementations of service and injecting desired one in to the desired place using above mentioned @Qualifier annotation</p>\n"}],"owner":{"account_id":7129503,"reputation":126,"user_id":5451295,"display_name":"ww2406"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77333795,"answer_count":2,"score":0,"last_activity_date":1697836379,"creation_date":1697815889,"question_id":77332167,"body_markdown":"I&#39;ve been diving into Spring to get back into Java (my professional experience is C#, ASP.NET Core). One item that&#39;s somewhat different is Spring&#39;s lack of interface-based DI (at least from [here](https://stackoverflow.com/questions/10248000/spring-interface-injection-example) and more recent Spring documentation [here](https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html)). In .NET, for example, I might have a 3-tier application arranged like this:\r\n\r\n-API Project  \r\n----Controllers\\WeatherController.cs  \r\n-Core Project  \r\n----IWeatherService.cs  \r\n-Data Project  \r\n----OpenWeatherMapWeatherService.cs\r\n\r\nIn the DI container configuration, I&#39;d then associate IWeatherService dependencies with OpenWeatherMapWeatherService. If I later want to use the Weather Channel, I could add WeatherChannelWeatherService.cs and update the configuration for IWeatherService to point to WeatherChannelWeatherService.\r\n\r\nIs there a common way in Spring to allow dependencies to be substituted in this manner? Or does constructor/setter DI not really provide a mechanism to do this?\r\n","title":"Designing for substitutable dependences in Spring","body":"<p>I've been diving into Spring to get back into Java (my professional experience is C#, ASP.NET Core). One item that's somewhat different is Spring's lack of interface-based DI (at least from <a href=\"https://stackoverflow.com/questions/10248000/spring-interface-injection-example\">here</a> and more recent Spring documentation <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-collaborators.html\" rel=\"nofollow noreferrer\">here</a>). In .NET, for example, I might have a 3-tier application arranged like this:</p>\n<p>-API Project<br />\n----Controllers\\WeatherController.cs<br />\n-Core Project<br />\n----IWeatherService.cs<br />\n-Data Project<br />\n----OpenWeatherMapWeatherService.cs</p>\n<p>In the DI container configuration, I'd then associate IWeatherService dependencies with OpenWeatherMapWeatherService. If I later want to use the Weather Channel, I could add WeatherChannelWeatherService.cs and update the configuration for IWeatherService to point to WeatherChannelWeatherService.</p>\n<p>Is there a common way in Spring to allow dependencies to be substituted in this manner? Or does constructor/setter DI not really provide a mechanism to do this?</p>\n"},{"tags":["java","android","android-intent"],"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697836288,"creation_date":1697836288,"question_id":77333789,"body_markdown":"I have a few online delivery apps installed on my phone that create heads up notifications for new offers. When you tap the notification, that app opens directly to the new offer. If you were to say tap the app icon instead. You would have to take a few more steps to view the offer. My goal is to recreate the intent of the heads up notification from my app and skip the extra steps if I miss the notification. I have done this for a few apps and it works great! However, one in particular is a bit tricky.\r\n\r\nThis is the call made when you press the heads up notification logged via ADB:\r\n\r\n    10-20 15:42:15.167  1838  9696 W ActivityTaskManager: startActivity called from non-Activity context; forcing Intent.FLAG_ACTIVITY_NEW_TASK for: Intent { flg=0x24800000 cmp=com.driver.app/.blue.global.view.OfferActivity }\r\n\r\nThis is the manifest entry for that driver app:\r\n\r\n    &lt;activity android:theme=&quot;@style/AppTheme.Fullscreen&quot; android:name=&quot;com.driver.app.blue.global.view.OfferActivity&quot; android:taskAffinity=&quot;com.driver.app.offers&quot; android:excludeFromRecents=&quot;true&quot; android:screenOrientation=&quot;portrait&quot; android:noHistory=&quot;true&quot;/&gt;\r\n\r\nMy Java code:\r\n\r\n\tIntent i = new Intent(Intent.ACTION_VIEW);\r\n\ti.setComponent(new ComponentName(utils.grubPackage(), &quot;com.driver.app.blue.global.view.OfferActivity&quot;));\r\n\ti.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\tcontext.startActivity(i);\r\n\r\nOf course, I&#39;ve tried a few variations. But the exception:\r\n\r\n    java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.VIEW flg=0x10000000 cmp=com.driver.app/.blue.global.view.OfferActivity } from ProcessRecord{ced60d0 659:com.please.myapp/u0a307} (pid=659, uid=10307) not exported from uid 10312\r\n\r\nHow would I call this intent? I understand the activity is not exported. However, I have to imagine it is possible given the user can send the intent by tapping the heads up notification.","title":"Recreating a heads up notification intent. Permission Denial","body":"<p>I have a few online delivery apps installed on my phone that create heads up notifications for new offers. When you tap the notification, that app opens directly to the new offer. If you were to say tap the app icon instead. You would have to take a few more steps to view the offer. My goal is to recreate the intent of the heads up notification from my app and skip the extra steps if I miss the notification. I have done this for a few apps and it works great! However, one in particular is a bit tricky.</p>\n<p>This is the call made when you press the heads up notification logged via ADB:</p>\n<pre><code>10-20 15:42:15.167  1838  9696 W ActivityTaskManager: startActivity called from non-Activity context; forcing Intent.FLAG_ACTIVITY_NEW_TASK for: Intent { flg=0x24800000 cmp=com.driver.app/.blue.global.view.OfferActivity }\n</code></pre>\n<p>This is the manifest entry for that driver app:</p>\n<pre><code>&lt;activity android:theme=&quot;@style/AppTheme.Fullscreen&quot; android:name=&quot;com.driver.app.blue.global.view.OfferActivity&quot; android:taskAffinity=&quot;com.driver.app.offers&quot; android:excludeFromRecents=&quot;true&quot; android:screenOrientation=&quot;portrait&quot; android:noHistory=&quot;true&quot;/&gt;\n</code></pre>\n<p>My Java code:</p>\n<pre><code>Intent i = new Intent(Intent.ACTION_VIEW);\ni.setComponent(new ComponentName(utils.grubPackage(), &quot;com.driver.app.blue.global.view.OfferActivity&quot;));\ni.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(i);\n</code></pre>\n<p>Of course, I've tried a few variations. But the exception:</p>\n<pre><code>java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.VIEW flg=0x10000000 cmp=com.driver.app/.blue.global.view.OfferActivity } from ProcessRecord{ced60d0 659:com.please.myapp/u0a307} (pid=659, uid=10307) not exported from uid 10312\n</code></pre>\n<p>How would I call this intent? I understand the activity is not exported. However, I have to imagine it is possible given the user can send the intent by tapping the heads up notification.</p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1423811759,"post_id":28494360,"comment_id":45308716,"body_markdown":"Please provide the complete stacktrace.","body":"Please provide the complete stacktrace."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1423812073,"post_id":28494360,"comment_id":45308820,"body_markdown":"Did you actually write the url `**********` there? Or are you trying to hide the URL from us? Because it appears that the URL is the problem.","body":"Did you actually write the url <code>**********</code> there? Or are you trying to hide the URL from us? Because it appears that the URL is the problem."},{"owner":{"account_id":58163,"reputation":14175,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":0,"creation_date":1423812104,"post_id":28494360,"comment_id":45308829,"body_markdown":"possible duplicate of [HTTP 500 - Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;](http://stackoverflow.com/questions/21031603/http-500-cannot-create-jdbc-driver-of-class-for-connect-url-null)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/21031603/http-500-cannot-create-jdbc-driver-of-class-for-connect-url-null\">HTTP 500 - Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;</a>"},{"owner":{"account_id":1593643,"reputation":185,"user_id":1476397,"accept_rate":35,"display_name":"Peter"},"score":0,"creation_date":1423815824,"post_id":28494360,"comment_id":45310315,"body_markdown":"@RealSkeptic : I am writing actual url there but I am hiding here .","body":"@RealSkeptic : I am writing actual url there but I am hiding here ."},{"owner":{"account_id":1593643,"reputation":185,"user_id":1476397,"accept_rate":35,"display_name":"Peter"},"score":0,"creation_date":1423817556,"post_id":28494360,"comment_id":45311066,"body_markdown":"@LuiggiMendoza : added stacktrace.","body":"@LuiggiMendoza : added stacktrace."}],"answers":[{"comments":[{"owner":{"account_id":1593643,"reputation":185,"user_id":1476397,"accept_rate":35,"display_name":"Peter"},"score":0,"creation_date":1423816440,"post_id":28494778,"comment_id":45310595,"body_markdown":"I tried with driverClassName but getting same error.","body":"I tried with driverClassName but getting same error."}],"tags":[],"owner":{"account_id":5670123,"reputation":1557,"user_id":4485032,"accept_rate":100,"display_name":"jmcg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423813665,"creation_date":1423813665,"answer_id":28494778,"question_id":28494360,"body_markdown":"Try `driverClassName` instead of `driverClass`:\r\n\r\n    driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;","title":"Getting Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null in spring tomcat application","body":"<p>Try <code>driverClassName</code> instead of <code>driverClass</code>:</p>\n\n<pre><code>driverClassName=\"oracle.jdbc.driver.OracleDriver\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"score":0,"creation_date":1523873509,"post_id":49591895,"comment_id":86723891,"body_markdown":"so, what caused the problem?","body":"so, what caused the problem?"},{"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"score":0,"creation_date":1523912603,"post_id":49591895,"comment_id":86747779,"body_markdown":"I see two things:\n1. He does not declared the context in application, but in tomcat context.\n2. I don&#39;t know if he declared the Resource in the server.xml tomcat between GlobalNamingResources tags.\nI put my solution for he compare with he has and figureout whats is happing.","body":"I see two things: 1. He does not declared the context in application, but in tomcat context. 2. I don&#39;t know if he declared the Resource in the server.xml tomcat between GlobalNamingResources tags. I put my solution for he compare with he has and figureout whats is happing."},{"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"score":0,"creation_date":1524000099,"post_id":49591895,"comment_id":86791330,"body_markdown":"A third thing: try &lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/testdb&quot;  resource-ref=&quot;true&quot; /&gt;","body":"A third thing: try &lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/testdb&quot;  resource-ref=&quot;true&quot; /&gt;"}],"tags":[],"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524000383,"creation_date":1522526596,"answer_id":49591895,"question_id":28494360,"body_markdown":"&gt; I am using Eclipse STS 3.9.3, tomcat 8.5 and Spring Boot 2.0.0.RELEASE\r\n\r\nI spent my entire morning about this problem.\r\nSo, I did a lot of things to solve:\r\n\r\n1. Remove jdbc dependence from my pom.\r\n\r\n            &lt;!-- dependency&gt;\r\n               &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n               &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n               &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency--&gt;\r\n2. Declaration resource TOMCAT_HOME/CONF/server.xml whit factory:\r\n\r\n        &lt;GlobalNamingResources&gt;\r\n         ...\r\n           &lt;Resource name=&quot;jdbc/postgres_jndi&quot;\r\n                      auth=&quot;Container&quot;\r\n                      type=&quot;javax.sql.DataSource&quot;\r\n                      driverClassName=&quot;org.postgresql.Driver&quot;\r\n                      url=&quot;jdbc:postgresql://xxx.xxx.xx.xxx:5432/db&quot;\r\n                      factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n                      removeAbandonedOnBorrow=&quot;true&quot;\r\n                      removeAbandonedOnMaintenance=&quot;true&quot;\r\n                      timeBetweenEvictionRunsMillis=&quot;10000&quot;\r\n                      removeAbandonedTimeout=&quot;60&quot;\r\n                      logAbandoned=&quot;true&quot;\r\n                      username=&quot;xxx&quot;\r\n                      password=&quot;xxxxxx&quot;\r\n                      maxTotal=&quot;20&quot;\r\n                      maxIdle=&quot;10&quot;\r\n                      maxWaitMillis=&quot;-1&quot;/&gt;\r\n         ...\r\n        &lt;/GlobalNamingResources&gt;\r\nI realized that I was using Eclipse STS. The tomcat resource on server.xml only works after I put the resource declaration in server.xml inside of &quot;Tomcat v8.5 Server at localhost-config&quot; folder in my Server project. Did not work on TOMCAT_HOME/conf folder in server.xml file.\r\n\r\n3. Change my application.yml to:\r\n\r\n        spring:\r\n          datasource:\r\n            platform: postgres\r\n            jndi-name: java:comp/env/jdbc/postgres_jndi\r\n            type: javax.sql.DataSource\r\n            driver-class-name: org.postgresql.Driver\r\n          jpa:\r\n            hibernate:\r\n              ddl-auto: validate\r\n            database-platform: org.hibernate.dialect.PostgreSQL9Dialect\r\n            database: POSTGRESQL\r\n            show-sql: true\r\n            #Method org.postgresql.jdbc.PgConnection.createClob() is not yet implemented.\r\n            properties:\r\n              hibernate:\r\n                temp:\r\n                  use_jdbc_metadata_defaults: false\r\n\r\nI think that you miss **java:comp/env/** yours will be like this:    \r\n```&lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;java:comp/env/jdbc/testdb&quot; resource-ref=&quot;true&quot; /&gt;```\r\n\r\nA application.properties will be like:\r\n\r\n        spring.datasource.platform= postgres\r\n        spring.datasource.jndi-name= java:comp/env/jdbc/postgres_jndi\r\n        spring.datasource.type= javax.sql.DataSource\r\n        spring.datasource.driver-class-name= org.postgresql.Driver\r\n        spring.jpa.hibernate.ddl-auto= validate\r\n        spring.jpa.hibernatedatabase-platform= org.hibernate.dialect.PostgreSQL9Dialect\r\n        spring.jpa.database= POSTGRESQL\r\n        spring.jpa.show-sql= true\r\n        spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\n\r\n4. Define a context.xml file in src/main/webapp/META-INF/context.xml with definition:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;Context path=&quot;/myapp&quot;&gt;\r\n            &lt;ResourceLink global=&quot;jdbc/postgres_jndi&quot; name=&quot;jdbc/postgres_jni&quot; type=&quot;javax.sql.DataSource&quot;/&gt;\r\n        &lt;/Context&gt;\r\n\r\n5. Put the file postgresql-42.2.2.jar in the TOMCAT_HOME/lib","title":"Getting Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null in spring tomcat application","body":"<blockquote>\n  <p>I am using Eclipse STS 3.9.3, tomcat 8.5 and Spring Boot 2.0.0.RELEASE</p>\n</blockquote>\n\n<p>I spent my entire morning about this problem.\nSo, I did a lot of things to solve:</p>\n\n<ol>\n<li><p>Remove jdbc dependence from my pom.</p>\n\n<pre><code>    &lt;!-- dependency&gt;\n       &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n       &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n       &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency--&gt;\n</code></pre></li>\n<li><p>Declaration resource TOMCAT_HOME/CONF/server.xml whit factory:</p>\n\n<pre><code>&lt;GlobalNamingResources&gt;\n ...\n   &lt;Resource name=\"jdbc/postgres_jndi\"\n              auth=\"Container\"\n              type=\"javax.sql.DataSource\"\n              driverClassName=\"org.postgresql.Driver\"\n              url=\"jdbc:postgresql://xxx.xxx.xx.xxx:5432/db\"\n              factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\"\n              removeAbandonedOnBorrow=\"true\"\n              removeAbandonedOnMaintenance=\"true\"\n              timeBetweenEvictionRunsMillis=\"10000\"\n              removeAbandonedTimeout=\"60\"\n              logAbandoned=\"true\"\n              username=\"xxx\"\n              password=\"xxxxxx\"\n              maxTotal=\"20\"\n              maxIdle=\"10\"\n              maxWaitMillis=\"-1\"/&gt;\n ...\n&lt;/GlobalNamingResources&gt;\n</code></pre>\n\n<p>I realized that I was using Eclipse STS. The tomcat resource on server.xml only works after I put the resource declaration in server.xml inside of \"Tomcat v8.5 Server at localhost-config\" folder in my Server project. Did not work on TOMCAT_HOME/conf folder in server.xml file.</p></li>\n<li><p>Change my application.yml to:</p>\n\n<pre><code>spring:\n  datasource:\n    platform: postgres\n    jndi-name: java:comp/env/jdbc/postgres_jndi\n    type: javax.sql.DataSource\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: validate\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\n    database: POSTGRESQL\n    show-sql: true\n    #Method org.postgresql.jdbc.PgConnection.createClob() is not yet implemented.\n    properties:\n      hibernate:\n        temp:\n          use_jdbc_metadata_defaults: false\n</code></pre></li>\n</ol>\n\n<p>I think that you miss <strong>java:comp/env/</strong> yours will be like this:<br>\n<code>&lt;jee:jndi-lookup id=\"dataSource\" jndi-name=\"java:comp/env/jdbc/testdb\" resource-ref=\"true\" /&gt;</code></p>\n\n<p>A application.properties will be like:</p>\n\n<pre><code>    spring.datasource.platform= postgres\n    spring.datasource.jndi-name= java:comp/env/jdbc/postgres_jndi\n    spring.datasource.type= javax.sql.DataSource\n    spring.datasource.driver-class-name= org.postgresql.Driver\n    spring.jpa.hibernate.ddl-auto= validate\n    spring.jpa.hibernatedatabase-platform= org.hibernate.dialect.PostgreSQL9Dialect\n    spring.jpa.database= POSTGRESQL\n    spring.jpa.show-sql= true\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\n</code></pre>\n\n<ol start=\"4\">\n<li><p>Define a context.xml file in src/main/webapp/META-INF/context.xml with definition:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Context path=\"/myapp\"&gt;\n    &lt;ResourceLink global=\"jdbc/postgres_jndi\" name=\"jdbc/postgres_jni\" type=\"javax.sql.DataSource\"/&gt;\n&lt;/Context&gt;\n</code></pre></li>\n<li><p>Put the file postgresql-42.2.2.jar in the TOMCAT_HOME/lib</p></li>\n</ol>\n"}],"owner":{"account_id":1593643,"reputation":185,"user_id":1476397,"accept_rate":35,"display_name":"Peter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8869,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1697835695,"creation_date":1423811700,"question_id":28494360,"body_markdown":"I am getting the following exception while getting datasource through jndi:\r\n   \r\n&lt;pre&gt;Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException:\r\n     Could not get JDBC Connection; nested exception is\r\n     org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&lt;/pre&gt;\r\n\r\nTomcat&#39;s server.xml :\r\n\r\n         &lt;Resource name=&quot;jdbc/testdb&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n              username=&quot;test&quot; password=&quot;test1234&quot;\r\n         \t  url=&quot;*********&quot;\r\n              driverClass=&quot;oracle.jdbc.driver.OracleDriver&quot;\r\n              initialSize=&quot;5&quot; maxWait=&quot;5000&quot;\r\n              maxActive=&quot;120&quot; maxIdle=&quot;5&quot;\r\n              validationQuery=&quot;select 1&quot;\r\n              poolPreparedStatements=&quot;true&quot;/&gt;    \r\n\r\nTomcat&#39;s Context.xml :\r\n                 \r\n    &lt;ResourceLink name=&quot;jdbc/testdb&quot; global=&quot;jdbc/testdb&quot;\r\n\ttype=&quot;javax.sql.DataSource&quot; /&gt;     \r\n                    \r\nSpring&#39;s servlet xml :\r\n\r\n\t&lt;jee:jndi-lookup id=&quot;dataSource&quot; jndi-name=&quot;jdbc/testdb&quot;  resource-ref=&quot;true&quot; /&gt;\r\n\r\nand final Web.xml :\r\n\r\n       &lt;resource-ref&gt;\r\n\t\t   &lt;description&gt;Resource reference to database&lt;/description&gt;\r\n\t\t   &lt;res-ref-name&gt;jdbc/testdb&lt;/res-ref-name&gt;\r\n\t\t   &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n\t       &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n\t       &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n\t&lt;/resource-ref&gt;\r\n\t   \r\n\r\nCould somebody please help me?\r\n\r\nError Stack trace :\r\n                        \r\n      Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;","title":"Getting Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null in spring tomcat application","body":"<p>I am getting the following exception while getting datasource through jndi:</p>\n\n<pre>Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException:\n     Could not get JDBC Connection; nested exception is\n     org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver of class '' for connect URL 'null</pre>\n\n<p>Tomcat's server.xml :</p>\n\n<pre><code>     &lt;Resource name=\"jdbc/testdb\" auth=\"Container\" type=\"javax.sql.DataSource\"\n          username=\"test\" password=\"test1234\"\n          url=\"*********\"\n          driverClass=\"oracle.jdbc.driver.OracleDriver\"\n          initialSize=\"5\" maxWait=\"5000\"\n          maxActive=\"120\" maxIdle=\"5\"\n          validationQuery=\"select 1\"\n          poolPreparedStatements=\"true\"/&gt;    \n</code></pre>\n\n<p>Tomcat's Context.xml :</p>\n\n<pre><code>&lt;ResourceLink name=\"jdbc/testdb\" global=\"jdbc/testdb\"\ntype=\"javax.sql.DataSource\" /&gt;     \n</code></pre>\n\n<p>Spring's servlet xml :</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"dataSource\" jndi-name=\"jdbc/testdb\"  resource-ref=\"true\" /&gt;\n</code></pre>\n\n<p>and final Web.xml :</p>\n\n<pre><code>   &lt;resource-ref&gt;\n       &lt;description&gt;Resource reference to database&lt;/description&gt;\n       &lt;res-ref-name&gt;jdbc/testdb&lt;/res-ref-name&gt;\n       &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n       &lt;res-auth&gt;Container&lt;/res-auth&gt;\n       &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p>Could somebody please help me?</p>\n\n<p>Error Stack trace :</p>\n\n<pre><code>  Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver of class '' for connect URL 'null'\n</code></pre>\n"},{"tags":["java","web-services","spring","jax-ws","javabeans"],"comments":[{"owner":{"display_name":"user781268"},"score":0,"creation_date":1307024927,"post_id":4183624,"comment_id":7239634,"body_markdown":"Hi dds, Were you able to resolve this issue ?\nI am having the same problem with JBoss 5.1, Spring 3.0.3 and Mule embedded inside webapp. -Om","body":"Hi dds, Were you able to resolve this issue ? I am having the same problem with JBoss 5.1, Spring 3.0.3 and Mule embedded inside webapp. -Om"},{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1307683888,"post_id":4183624,"comment_id":7362780,"body_markdown":"hi, yes I overcame this error but unfortunately I forgot how to do it :(","body":"hi, yes I overcame this error but unfortunately I forgot how to do it :("},{"owner":{"account_id":113933,"reputation":5618,"user_id":299843,"accept_rate":88,"display_name":"redben"},"score":0,"creation_date":1331840554,"post_id":4183624,"comment_id":12367756,"body_markdown":"By adding &lt;import resource=&quot;classpath:META-INF/cxf/cxf-extension-jaxws.xml&quot; /&gt; to your beans.xml ?","body":"By adding &lt;import resource=&quot;classpath:META-INF/cxf/cxf-extension-jaxws.xml&quot; /&gt; to your beans.xml ?"}],"answers":[{"comments":[{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1289819679,"post_id":4183688,"comment_id":4520469,"body_markdown":"I have com.springframework.beans-3.0.3.RELEASE.jar is that the one you talking about..","body":"I have com.springframework.beans-3.0.3.RELEASE.jar is that the one you talking about.."},{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1289820865,"post_id":4183688,"comment_id":4520656,"body_markdown":"well I have download and replace beans.jar but the error remains the same. any other idea?","body":"well I have download and replace beans.jar but the error remains the same. any other idea?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1289821738,"post_id":4183688,"comment_id":4520795,"body_markdown":"@dds then check if there isn&#39;t another such jar, that&#39;s older. Better - give the directory structure of your lib folder","body":"@dds then check if there isn&#39;t another such jar, that&#39;s older. Better - give the directory structure of your lib folder"},{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1289822543,"post_id":4183688,"comment_id":4520915,"body_markdown":"@Bozho I havent seen any lib duplicate. I have edit my question to show my lib folder. can you see anything wrong?","body":"@Bozho I havent seen any lib duplicate. I have edit my question to show my lib folder. can you see anything wrong?"},{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1289823609,"post_id":4183688,"comment_id":4521067,"body_markdown":"actually it is external jar added to my classpath, the first list I gave was the WEB-INF/lib folder. Now I added the external jars..","body":"actually it is external jar added to my classpath, the first list I gave was the WEB-INF/lib folder. Now I added the external jars.."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1289823896,"post_id":4183688,"comment_id":4521102,"body_markdown":"Well, all seems fine. Clean-build, redeploy.. and see again. And make sure the mentionted class is indeed in the beans jar (browse it with rar)","body":"Well, all seems fine. Clean-build, redeploy.. and see again. And make sure the mentionted class is indeed in the beans jar (browse it with rar)"},{"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"score":0,"creation_date":1289824125,"post_id":4183688,"comment_id":4521152,"body_markdown":"Thanks a lot for your consideration. I have verified the jar and cleaned-rebuild-redeployed smoothly. But when the server starts up the error still sits there...","body":"Thanks a lot for your consideration. I have verified the jar and cleaned-rebuild-redeployed smoothly. But when the server starts up the error still sits there..."},{"owner":{"account_id":1899956,"reputation":184,"user_id":1716011,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1388393522,"post_id":4183688,"comment_id":31250199,"body_markdown":"anyone got solution on this issue?","body":"anyone got solution on this issue?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289821710,"creation_date":1289819085,"answer_id":4183688,"question_id":4183624,"body_markdown":"It appears that either you are missing a spring jar, or you have an older version of it. Try to get the latest `spring-beans.jar` on the classpath. Also make sure there isn&#39;t another such jar on the classpath that&#39;s older.","title":"spring webservice Invalid NamespaceHandler problem (jaxws)","body":"<p>It appears that either you are missing a spring jar, or you have an older version of it. Try to get the latest <code>spring-beans.jar</code> on the classpath. Also make sure there isn't another such jar on the classpath that's older.</p>\n"},{"tags":[],"owner":{"account_id":19422105,"reputation":11,"user_id":14204424,"display_name":"nrd_000002"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600790248,"creation_date":1600789863,"answer_id":64013331,"question_id":4183624,"body_markdown":"So, I have stumbled on this error too, and it really got on my nerves. So, without further due\r\n\r\n&gt; environment:\r\n&gt; \r\n&gt; Wildfly 20.0.1.Final \r\n&gt;\r\n&gt; Java 11\r\n\r\nobjectives:\r\n\r\nI just want to add cxf so that I could use cxf - spring descriptors (in particular jaxws:endpoint) in my applicationContext.xml, i.e\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd&quot;&gt;\r\n    \t&lt;!-- one or more jaxws:endpoint POJO declarations --&gt;\r\n    \t&lt;jaxws:endpoint id=&quot;POJOEndpoint&quot; address=&quot;/test&quot; implementor=&quot;com.test.myRandomPojoEndpoint&quot;&gt;\r\n    \t\t&lt;jaxws:invoker&gt;\r\n    \t\t\t&lt;bean class=&quot;org.jboss.wsf.stack.cxf.InvokerJSE&quot;/&gt;\r\n    \t\t&lt;/jaxws:invoker&gt;\r\n    \t&lt;/jaxws:endpoint&gt;\r\n    &lt;/beans&gt;\r\n\r\nissue: \r\n\r\nbut all I get is\r\n\r\n&gt; Invalid NamespaceHandler class\r\n&gt; [org.apache.cxf.jaxws.spring.NamespaceHandler] for namespace\r\n&gt; [http://cxf.apache.org/jaxws]: problem with handler class file or\r\n&gt; dependent class; nested exception is java.lang.NoClassDefFoundError:\r\n&gt; org/springframework/beans/factory/xml/NamespaceHandlerSupport\r\n\r\nSolution:\r\n\r\nbefore you begin you **SHOULD KNOW** that for this stuff to work you have to **INSTALL SPRING LIBRARIES** to your wildfly application server and so... \r\n\r\nThe list of spring libraries in my wildfly environment:\r\n\r\n    spring-aop-5.2.9.RELEASE.jar\r\n    spring-beans-5.2.9.RELEASE.jar\r\n    spring-context-5.2.9.RELEASE.jar\r\n    spring-core-5.2.9.RELEASE.jar\r\n    spring-expression-5.2.9.RELEASE.jar\r\n    spring-jcl-5.2.9.RELEASE.jar\r\n    spring-tx-5.2.9.RELEASE.jar\r\n    spring-web-5.2.9.RELEASE.jar\r\n\r\nInstallation path is as follows\r\n\r\n**wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\springframework\\spring\\main**\r\n\r\njust put spring libraries in this path and add module.txt (that same folder as spring libraries) as follows\r\n\r\nmodule.txt\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      ~ JBoss, Home of Professional Open Source.\r\n      ~ Copyright 2010, Red Hat, Inc., and individual contributors\r\n      ~ as indicated by the @author tags. See the copyright.txt file in the\r\n      ~ distribution for a full listing of individual contributors.\r\n      ~\r\n      ~ This is free software; you can redistribute it and/or modify it\r\n      ~ under the terms of the GNU Lesser General Public License as\r\n      ~ published by the Free Software Foundation; either version 2.1 of\r\n      ~ the License, or (at your option) any later version.\r\n      ~\r\n      ~ This software is distributed in the hope that it will be useful,\r\n      ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n      ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\r\n      ~ Lesser General Public License for more details.\r\n      ~\r\n      ~ You should have received a copy of the GNU Lesser General Public\r\n      ~ License along with this software; if not, write to the Free\r\n      ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\r\n      ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.\r\n      --&gt;\r\n    &lt;module name=&quot;org.springframework.spring&quot; xmlns=&quot;urn:jboss:module:1.6&quot;&gt;\r\n    \r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;spring-aop-5.2.9.RELEASE.jar&quot;/&gt;\r\n    \t\t&lt;resource-root path=&quot;spring-beans-5.2.9.RELEASE.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;spring-context-5.2.9.RELEASE.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;spring-core-5.2.9.RELEASE.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;spring-expression-5.2.9.RELEASE.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;spring-jcl-5.2.9.RELEASE.jar&quot;/&gt;\r\n    \t\t&lt;resource-root path=&quot;spring-tx-5.2.9.RELEASE.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;spring-web-5.2.9.RELEASE.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n    \t    &lt;module name=&quot;org.reactivestreams&quot; /&gt;\r\n    \t\t    &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\r\n                &lt;module name=&quot;javaee.api&quot;/&gt;\r\n                &lt;module name=&quot;javax.api&quot; export=&quot;true&quot; /&gt;\r\n                &lt;module name=&quot;javax.servlet.api&quot; /&gt;\r\n                &lt;module name=&quot;org.jboss.vfs&quot; /&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n**======THE END==========**\r\n\r\n\r\nNOTES:\r\n\r\nSo, if that is so simple why did I fail? WHY?\r\n\r\nAt first I installed spring libraries in \r\n\r\n**wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\spring\\main**\r\n\r\nand that cause a lot of misery, because\r\n\r\nif you looked at \r\n**wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\apache\\cxf\\impl\\main\\module.xml**, you would see that it has a dependency on spring, i.e\r\n\r\n        &lt;module name=&quot;org.springframework.spring&quot; optional=&quot;true&quot;&gt;\r\n            &lt;imports&gt;\r\n                &lt;include path=&quot;META-INF&quot;/&gt;\r\n            &lt;/imports&gt;\r\n        &lt;/module&gt;\r\n\r\nhowever, I installed spring libraries under different name which was **org.spring** and not **org.springframework.spring**, so that was the root of my failure.\r\n\r\nmy jboss-deployment-structure.xml (in WEB-INF folder) is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n    \t&lt;deployment&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;module name=&quot;org.springframework.spring&quot;&gt;\r\n    \t\t\t\t&lt;imports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/imports&gt;\r\n    \t\t\t\t&lt;exports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/exports&gt;\r\n    \t\t\t&lt;/module&gt;\r\n    \t\t\t&lt;module name=&quot;org.apache.cxf&quot;&gt;\r\n    \t\t\t\t&lt;imports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF/cxf&quot;/&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/imports&gt;\r\n    \t\t\t\t&lt;exports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF/cxf&quot;/&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/exports&gt;\r\n    \t\t\t&lt;/module&gt;\r\n    \t\t\t&lt;module name=&quot;org.apache.cxf.impl&quot;&gt;\r\n    \t\t\t\t&lt;imports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF/cxf&quot;/&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/imports&gt;\r\n    \t\t\t\t&lt;exports&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF/cxf&quot;/&gt;\r\n    \t\t\t\t\t&lt;include path=&quot;META-INF&quot;/&gt;\r\n    \t\t\t\t&lt;/exports&gt;\r\n    \t\t\t&lt;/module&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nRelated threads (to name a few)\r\n\r\n    https://stackoverflow.com/questions/44033999/jboss-eap-7-exclude-webservices-subsystem-gives-noclassdeffounderror-failed-to\r\n    \r\n    http://www.mastertheboss.com/javaee/jboss-web-services/using-spring-cxf-descriptors-in-wildfly\r\n    \r\n    http://www.mastertheboss.com/javaee/jboss-web-services/using-spring-cxf-descriptors-in-wildfly\r\n    \r\n    https://cxf.apache.org/docs/embedding-cxf-inside-spring.html\r\n\r\nHope it helps other lost souls.","title":"spring webservice Invalid NamespaceHandler problem (jaxws)","body":"<p>So, I have stumbled on this error too, and it really got on my nerves. So, without further due</p>\n<blockquote>\n<p>environment:</p>\n<p>Wildfly 20.0.1.Final</p>\n<p>Java 11</p>\n</blockquote>\n<p>objectives:</p>\n<p>I just want to add cxf so that I could use cxf - spring descriptors (in particular jaxws:endpoint) in my applicationContext.xml, i.e</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd&quot;&gt;\n    &lt;!-- one or more jaxws:endpoint POJO declarations --&gt;\n    &lt;jaxws:endpoint id=&quot;POJOEndpoint&quot; address=&quot;/test&quot; implementor=&quot;com.test.myRandomPojoEndpoint&quot;&gt;\n        &lt;jaxws:invoker&gt;\n            &lt;bean class=&quot;org.jboss.wsf.stack.cxf.InvokerJSE&quot;/&gt;\n        &lt;/jaxws:invoker&gt;\n    &lt;/jaxws:endpoint&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>issue:</p>\n<p>but all I get is</p>\n<blockquote>\n<p>Invalid NamespaceHandler class\n[org.apache.cxf.jaxws.spring.NamespaceHandler] for namespace\n[http://cxf.apache.org/jaxws]: problem with handler class file or\ndependent class; nested exception is java.lang.NoClassDefFoundError:\norg/springframework/beans/factory/xml/NamespaceHandlerSupport</p>\n</blockquote>\n<p>Solution:</p>\n<p>before you begin you <strong>SHOULD KNOW</strong> that for this stuff to work you have to <strong>INSTALL SPRING LIBRARIES</strong> to your wildfly application server and so...</p>\n<p>The list of spring libraries in my wildfly environment:</p>\n<pre><code>spring-aop-5.2.9.RELEASE.jar\nspring-beans-5.2.9.RELEASE.jar\nspring-context-5.2.9.RELEASE.jar\nspring-core-5.2.9.RELEASE.jar\nspring-expression-5.2.9.RELEASE.jar\nspring-jcl-5.2.9.RELEASE.jar\nspring-tx-5.2.9.RELEASE.jar\nspring-web-5.2.9.RELEASE.jar\n</code></pre>\n<p>Installation path is as follows</p>\n<p><strong>wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\springframework\\spring\\main</strong></p>\n<p>just put spring libraries in this path and add module.txt (that same folder as spring libraries) as follows</p>\n<p>module.txt</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n  ~ JBoss, Home of Professional Open Source.\n  ~ Copyright 2010, Red Hat, Inc., and individual contributors\n  ~ as indicated by the @author tags. See the copyright.txt file in the\n  ~ distribution for a full listing of individual contributors.\n  ~\n  ~ This is free software; you can redistribute it and/or modify it\n  ~ under the terms of the GNU Lesser General Public License as\n  ~ published by the Free Software Foundation; either version 2.1 of\n  ~ the License, or (at your option) any later version.\n  ~\n  ~ This software is distributed in the hope that it will be useful,\n  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n  ~ Lesser General Public License for more details.\n  ~\n  ~ You should have received a copy of the GNU Lesser General Public\n  ~ License along with this software; if not, write to the Free\n  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n  --&gt;\n&lt;module name=&quot;org.springframework.spring&quot; xmlns=&quot;urn:jboss:module:1.6&quot;&gt;\n\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;spring-aop-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-beans-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-context-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-core-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-expression-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-jcl-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-tx-5.2.9.RELEASE.jar&quot;/&gt;\n        &lt;resource-root path=&quot;spring-web-5.2.9.RELEASE.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;org.reactivestreams&quot; /&gt;\n            &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\n            &lt;module name=&quot;javaee.api&quot;/&gt;\n            &lt;module name=&quot;javax.api&quot; export=&quot;true&quot; /&gt;\n            &lt;module name=&quot;javax.servlet.api&quot; /&gt;\n            &lt;module name=&quot;org.jboss.vfs&quot; /&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p><strong>======THE END==========</strong></p>\n<p>NOTES:</p>\n<p>So, if that is so simple why did I fail? WHY?</p>\n<p>At first I installed spring libraries in</p>\n<p><strong>wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\spring\\main</strong></p>\n<p>and that cause a lot of misery, because</p>\n<p>if you looked at\n<strong>wildfly-20.0.1.Final\\modules\\system\\layers\\base\\org\\apache\\cxf\\impl\\main\\module.xml</strong>, you would see that it has a dependency on spring, i.e</p>\n<pre><code>    &lt;module name=&quot;org.springframework.spring&quot; optional=&quot;true&quot;&gt;\n        &lt;imports&gt;\n            &lt;include path=&quot;META-INF&quot;/&gt;\n        &lt;/imports&gt;\n    &lt;/module&gt;\n</code></pre>\n<p>however, I installed spring libraries under different name which was <strong>org.spring</strong> and not <strong>org.springframework.spring</strong>, so that was the root of my failure.</p>\n<p>my jboss-deployment-structure.xml (in WEB-INF folder) is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;org.springframework.spring&quot;&gt;\n                &lt;imports&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/imports&gt;\n                &lt;exports&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/exports&gt;\n            &lt;/module&gt;\n            &lt;module name=&quot;org.apache.cxf&quot;&gt;\n                &lt;imports&gt;\n                    &lt;include path=&quot;META-INF/cxf&quot;/&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/imports&gt;\n                &lt;exports&gt;\n                    &lt;include path=&quot;META-INF/cxf&quot;/&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/exports&gt;\n            &lt;/module&gt;\n            &lt;module name=&quot;org.apache.cxf.impl&quot;&gt;\n                &lt;imports&gt;\n                    &lt;include path=&quot;META-INF/cxf&quot;/&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/imports&gt;\n                &lt;exports&gt;\n                    &lt;include path=&quot;META-INF/cxf&quot;/&gt;\n                    &lt;include path=&quot;META-INF&quot;/&gt;\n                &lt;/exports&gt;\n            &lt;/module&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>Related threads (to name a few)</p>\n<pre><code>https://stackoverflow.com/questions/44033999/jboss-eap-7-exclude-webservices-subsystem-gives-noclassdeffounderror-failed-to\n\nhttp://www.mastertheboss.com/javaee/jboss-web-services/using-spring-cxf-descriptors-in-wildfly\n\nhttp://www.mastertheboss.com/javaee/jboss-web-services/using-spring-cxf-descriptors-in-wildfly\n\nhttps://cxf.apache.org/docs/embedding-cxf-inside-spring.html\n</code></pre>\n<p>Hope it helps other lost souls.</p>\n"}],"owner":{"account_id":81966,"reputation":548,"user_id":230812,"accept_rate":40,"display_name":"dds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12650,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1697835695,"creation_date":1289818617,"question_id":4183624,"body_markdown":"I am building a web service with spring. I can build and deploy the project to tomcat but when the server starts up I am getting following error:\r\n\r\n&gt; Invalid NamespaceHandler class\r\n&gt; [org.apache.cxf.jaxws.spring.NamespaceHandler]\r\n&gt; for namespace\r\n&gt; [http://cxf.apache.org/jaxws]: problem\r\n&gt; with handler class file or dependent\r\n&gt; class; nested exception is\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; org/springframework/beans/factory/xml/NamespaceHandlerSupport\r\n\r\nI have already included the cxf-rt-frontend-jaxws.jar in my classpath.\r\n\r\nMy bean definition are here:\r\n\r\n     &lt;jaxws:endpoint id=&quot;helloWebservice&quot;\r\n      implementor=&quot;#com.xxx.impl.HelloWebserviceImpl&quot;\r\n      address=&quot;/hellows&quot;&gt;\r\n     &lt;/jaxws:endpoint&gt;\r\n\r\nMy lib folder contains(WEB-INF/lib):\r\n\r\n    antlr-2.7.6.jar\r\n    asinus-api.jar\r\n    asinus-ri.jar\r\n    aspectjrt.jar\r\n    aspectjweaver.jar\r\n    backport-util-concurrent-3.0.jar\r\n    cglib-nodep-2.1_3.jar\r\n    commons-beanutils-1.6.jar\r\n    commons-codec-1.4.jar\r\n    commons-collections-3.2.1.jar\r\n    commons-fileupload-1.2.jar\r\n    commons-httpclient-3.1.jar\r\n    commons-io-1.4.jar\r\n    commons-lang-2.4.jar\r\n    commons-logging-1.1.1.jar\r\n    com.springsource.javax.validation-1.0.0.GA.jar\r\n    com.springsource.org.aopalliance-1.0.0.jar\r\n    dom4j-1.6.1.jar\r\n    ehcache-core-1.7.2.jar\r\n    ezmorph-1.0.4.jar\r\n    freemarker-2.3.15.jar\r\n    hibernate3.jar\r\n    hibernate-validator-4.0.2.GA.jar\r\n    javassist.jar\r\n    jdom.jar\r\n    jpa-api-2.0-cr-1.jar\r\n    json-lib-2.2.jar\r\n    jta-spec1_0_1.jar\r\n    lib.txt\r\n    log4j-1.2.15.jar\r\n    memcached-2.4.2.jar\r\n    org.springframework.aop-3.0.2.RELEASE.jar\r\n    org.springframework.asm-3.0.2.RELEASE.jar\r\n    org.springframework.aspects-3.0.2.RELEASE.jar\r\n    org.springframework.beans-3.0.2.RELEASE.jar\r\n    org.springframework.context-3.0.2.RELEASE.jar\r\n    org.springframework.context.support-3.0.2.RELEASE.jar\r\n    org.springframework.core-3.0.2.RELEASE.jar\r\n    org.springframework.expression-3.0.2.RELEASE.jar\r\n    org.springframework.jdbc-3.0.2.RELEASE.jar\r\n    org.springframework.orm-3.0.2.RELEASE.jar\r\n    org.springframework.test-3.0.2.RELEASE.jar\r\n    org.springframework.transaction-3.0.2.RELEASE.jar\r\n    org.springframework.web-3.0.2.RELEASE.jar\r\n    owasp.jar\r\n    quartz-1.7.3.jar\r\n    rome-1.0.jar\r\n    slf4j-api-1.5.6.jar\r\n    slf4j-log4j12-1.5.6.jar\r\n    spring-modules-cache.jar\r\n\r\nand my external jars:\r\n\r\n    cxf-2.2.5.jar\r\n    geronimo-activation_1.1_spec-1.0.2.jar\r\n    geronimo-jaxws_2.1_spec-1.0.jar\r\n    geronimo-ws-metadata_2.0_spec-1.1.2.jar\r\n    jaxb-api-2.1.jar\r\n    jaxb-impl-2.1.12.jar\r\n    neethi-2.0.4.jar\r\n    saaj-api-1.3.jar\r\n    saaj-impl-1.3.2.jar\r\n    stax-api-1.0.1.jar\r\n    wsdl4j-1.6.2.jar\r\n    wss4j-1.5.8.jar\r\n    wstx-asl-3.2.9.jar\r\n    xml-resolver-1.2.jar\r\n    XmlSchema-1.4.5.jar\r\n    xmlsec-1.4.3.jar\r\n    WEB-INF/lib/cxf-rt-frontend-jaxws.jar","title":"spring webservice Invalid NamespaceHandler problem (jaxws)","body":"<p>I am building a web service with spring. I can build and deploy the project to tomcat but when the server starts up I am getting following error:</p>\n\n<blockquote>\n  <p>Invalid NamespaceHandler class\n  [org.apache.cxf.jaxws.spring.NamespaceHandler]\n  for namespace\n  [http://cxf.apache.org/jaxws]: problem\n  with handler class file or dependent\n  class; nested exception is\n  java.lang.NoClassDefFoundError:\n  org/springframework/beans/factory/xml/NamespaceHandlerSupport</p>\n</blockquote>\n\n<p>I have already included the cxf-rt-frontend-jaxws.jar in my classpath.</p>\n\n<p>My bean definition are here:</p>\n\n<pre><code> &lt;jaxws:endpoint id=\"helloWebservice\"\n  implementor=\"#com.xxx.impl.HelloWebserviceImpl\"\n  address=\"/hellows\"&gt;\n &lt;/jaxws:endpoint&gt;\n</code></pre>\n\n<p>My lib folder contains(WEB-INF/lib):</p>\n\n<pre><code>antlr-2.7.6.jar\nasinus-api.jar\nasinus-ri.jar\naspectjrt.jar\naspectjweaver.jar\nbackport-util-concurrent-3.0.jar\ncglib-nodep-2.1_3.jar\ncommons-beanutils-1.6.jar\ncommons-codec-1.4.jar\ncommons-collections-3.2.1.jar\ncommons-fileupload-1.2.jar\ncommons-httpclient-3.1.jar\ncommons-io-1.4.jar\ncommons-lang-2.4.jar\ncommons-logging-1.1.1.jar\ncom.springsource.javax.validation-1.0.0.GA.jar\ncom.springsource.org.aopalliance-1.0.0.jar\ndom4j-1.6.1.jar\nehcache-core-1.7.2.jar\nezmorph-1.0.4.jar\nfreemarker-2.3.15.jar\nhibernate3.jar\nhibernate-validator-4.0.2.GA.jar\njavassist.jar\njdom.jar\njpa-api-2.0-cr-1.jar\njson-lib-2.2.jar\njta-spec1_0_1.jar\nlib.txt\nlog4j-1.2.15.jar\nmemcached-2.4.2.jar\norg.springframework.aop-3.0.2.RELEASE.jar\norg.springframework.asm-3.0.2.RELEASE.jar\norg.springframework.aspects-3.0.2.RELEASE.jar\norg.springframework.beans-3.0.2.RELEASE.jar\norg.springframework.context-3.0.2.RELEASE.jar\norg.springframework.context.support-3.0.2.RELEASE.jar\norg.springframework.core-3.0.2.RELEASE.jar\norg.springframework.expression-3.0.2.RELEASE.jar\norg.springframework.jdbc-3.0.2.RELEASE.jar\norg.springframework.orm-3.0.2.RELEASE.jar\norg.springframework.test-3.0.2.RELEASE.jar\norg.springframework.transaction-3.0.2.RELEASE.jar\norg.springframework.web-3.0.2.RELEASE.jar\nowasp.jar\nquartz-1.7.3.jar\nrome-1.0.jar\nslf4j-api-1.5.6.jar\nslf4j-log4j12-1.5.6.jar\nspring-modules-cache.jar\n</code></pre>\n\n<p>and my external jars:</p>\n\n<pre><code>cxf-2.2.5.jar\ngeronimo-activation_1.1_spec-1.0.2.jar\ngeronimo-jaxws_2.1_spec-1.0.jar\ngeronimo-ws-metadata_2.0_spec-1.1.2.jar\njaxb-api-2.1.jar\njaxb-impl-2.1.12.jar\nneethi-2.0.4.jar\nsaaj-api-1.3.jar\nsaaj-impl-1.3.2.jar\nstax-api-1.0.1.jar\nwsdl4j-1.6.2.jar\nwss4j-1.5.8.jar\nwstx-asl-3.2.9.jar\nxml-resolver-1.2.jar\nXmlSchema-1.4.5.jar\nxmlsec-1.4.3.jar\nWEB-INF/lib/cxf-rt-frontend-jaxws.jar\n</code></pre>\n"},{"tags":["java","inheritance","java-16"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1697840612,"post_id":77333739,"comment_id":136334848,"body_markdown":"For one, unknown state can be imposed by introducing a field to a parent class without the VBC knowing about it, which facilitates violating another tenet listed there: *the class&#39;s methods treat instances as &lt;em&gt;freely substitutable&lt;/em&gt;\n        when equal, meaning that interchanging any two instances &lt;code&gt;x&lt;/code&gt; and\n        &lt;code&gt;y&lt;/code&gt; that are equal according to &lt;code&gt;equals()&lt;/code&gt; produces no\n        visible change in the behavior of the class&#39;s methods;*","body":"For one, unknown state can be imposed by introducing a field to a parent class without the VBC knowing about it, which facilitates violating another tenet listed there: <i>the class&#39;s methods treat instances as &lt;em&gt;freely substitutable&lt;/em&gt;         when equal, meaning that interchanging any two instances &lt;code&gt;x&lt;/code&gt; and         &lt;code&gt;y&lt;/code&gt; that are equal according to &lt;code&gt;equals()&lt;/code&gt; produces no         visible change in the behavior of the class&#39;s methods;</i>"},{"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"score":0,"creation_date":1697844039,"post_id":77333739,"comment_id":136335146,"body_markdown":"Great point! But the same argument applies even to today&#39;s contract, doesn&#39;t it? - we can have a no-field superclass that is changes to now have a field. It feels like if we wanted to avoid changes then we&#39;d need to inherit from Object directly, as we can&#39;t ever stop the base from being changed in an unpredictable fashion. Practice being different: just make it sealed and document the contract.","body":"Great point! But the same argument applies even to today&#39;s contract, doesn&#39;t it? - we can have a no-field superclass that is changes to now have a field. It feels like if we wanted to avoid changes then we&#39;d need to inherit from Object directly, as we can&#39;t ever stop the base from being changed in an unpredictable fashion. Practice being different: just make it sealed and document the contract."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1697844320,"post_id":77333739,"comment_id":136335164,"body_markdown":"TBH Java&#39;s `record` type supplants this line of thought.","body":"TBH Java&#39;s <code>record</code> type supplants this line of thought."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697887767,"post_id":77333739,"comment_id":136337677,"body_markdown":"This document is [part of the published official documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/doc-files/ValueBased.html), so you can link to there rather than github.","body":"This document is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/doc-files/ValueBased.html\" rel=\"nofollow noreferrer\">part of the published official documentation</a>, so you can link to there rather than github."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1697888092,"post_id":77333739,"comment_id":136337705,"body_markdown":"@Bohemian except for *the class does not declare (or has deprecated any) accessible constructors* for value types while records force the existence of such a constructor. The closest you can get when you want value type semantics with `record` types, is to have a non-`public` `record` type and provide access to it via an interface having the `record` types instance methods and a `static` factory method.","body":"@Bohemian except for <i>the class does not declare (or has deprecated any) accessible constructors</i> for value types while records force the existence of such a constructor. The closest you can get when you want value type semantics with <code>record</code> types, is to have a non-<code>public</code> <code>record</code> type and provide access to it via an interface having the <code>record</code> types instance methods and a <code>static</code> factory method."}],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697835490,"creation_date":1697835490,"question_id":77333739,"body_markdown":"The final qualifier specced out at https://github.com/openjdk/jdk/blob/jdk-16-ga/src/java.base/share/classes/java/lang/doc-files/ValueBased.html#L55 is:\r\n```\r\n    &lt;li&gt;the class is final, and extends either &lt;code&gt;Object&lt;/code&gt; or a hierarchy of\r\n        abstract classes that declare no instance fields or instance initializers\r\n        and whose constructors are empty.&lt;/li&gt;\r\n```\r\n\r\nThis means that a simple case:\r\n\r\n```\r\npublic abstract class Base {\r\n  protected final int f1;\r\n  protected Base(int f1) { this.f1 = f1; }\r\n}\r\n\r\npublic final class Child extends Base {\r\n  private final int f2;\r\n  public static Child create(int f1, int f2) { return new Child(f1, f2); }\r\n  private Child(int f1, int f2) { super(f1); this.f2 = f2; }\r\n  // equals, hashCode over f1, f2\r\n}\r\n```\r\nwhile the &quot;inlined&quot; version would be VBC:\r\n```\r\npublic final class Inlined {\r\n  private final int f1;\r\n  private final int f2;\r\n  public static Inlined create(int f1, int f2) { return new Inlined(f1, f2); }\r\n  private Inlined(int f1, int f2) { this.f1 = f1; this.f2 = f2; }\r\n  // equals, hashCode over f1, f2\r\n}\r\n```\r\n\r\nWhat was the rationale for making such a harsh restriction to be a VBC, instead of relaxing it towards &quot;all instance fields (including the ones from parent class) need to participate in equals/hashCode etc.&quot; ? ","title":"What&#39;s the rationale behind value-based classes not being able to inherit from base class with instance fields","body":"<p>The final qualifier specced out at <a href=\"https://github.com/openjdk/jdk/blob/jdk-16-ga/src/java.base/share/classes/java/lang/doc-files/ValueBased.html#L55\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/jdk-16-ga/src/java.base/share/classes/java/lang/doc-files/ValueBased.html#L55</a> is:</p>\n<pre><code>    &lt;li&gt;the class is final, and extends either &lt;code&gt;Object&lt;/code&gt; or a hierarchy of\n        abstract classes that declare no instance fields or instance initializers\n        and whose constructors are empty.&lt;/li&gt;\n</code></pre>\n<p>This means that a simple case:</p>\n<pre><code>public abstract class Base {\n  protected final int f1;\n  protected Base(int f1) { this.f1 = f1; }\n}\n\npublic final class Child extends Base {\n  private final int f2;\n  public static Child create(int f1, int f2) { return new Child(f1, f2); }\n  private Child(int f1, int f2) { super(f1); this.f2 = f2; }\n  // equals, hashCode over f1, f2\n}\n</code></pre>\n<p>while the &quot;inlined&quot; version would be VBC:</p>\n<pre><code>public final class Inlined {\n  private final int f1;\n  private final int f2;\n  public static Inlined create(int f1, int f2) { return new Inlined(f1, f2); }\n  private Inlined(int f1, int f2) { this.f1 = f1; this.f2 = f2; }\n  // equals, hashCode over f1, f2\n}\n</code></pre>\n<p>What was the rationale for making such a harsh restriction to be a VBC, instead of relaxing it towards &quot;all instance fields (including the ones from parent class) need to participate in equals/hashCode etc.&quot; ?</p>\n"},{"tags":["java","http","sha256","hmac"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697844349,"post_id":76148553,"comment_id":136335167,"body_markdown":"`setDoOutput()` sets the request method to POST. See the Javadoc. You need to do it *before* setting the request method.","body":"<code>setDoOutput()</code> sets the request method to POST. See the Javadoc. You need to do it <i>before</i> setting the request method."}],"owner":{"account_id":6352248,"reputation":9,"user_id":4930887,"display_name":"ApatheticFire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697835448,"creation_date":1682958883,"question_id":76148553,"body_markdown":"I have the following code I created which works to open a trade on the Phemex API via HMAC-SHA256 encrypted request signature. It needs to be a POST request.\r\n\r\n```\r\npublic void openTradeByLimit(double size, double price, int id) throws Exception {\r\n        String path = &quot;/orders&quot;;\r\n        String query = &quot;&quot;;\r\n        String body = &quot;&quot;;\r\n        if(size&gt;0){\r\n            body = &quot;{\\&quot;symbol\\&quot;:\\&quot;uBTCUSD\\&quot;, \\&quot;clOrdID\\&quot;:&quot; + id + &quot;,\\&quot;side\\&quot;:\\&quot;Buy\\&quot;,\\&quot;orderQty\\&quot;:&quot; + size + &quot;,\\&quot;ordType\\&quot;:\\&quot;Limit\\&quot;,\\&quot;priceEp\\&quot;:&quot; + price*10000 +  &quot;,\\&quot;reduceOnly\\&quot;:false,\\&quot;timeInForce\\&quot;:\\&quot;GoodTillCancel\\&quot;}&quot;; //json parsed body\r\n        } else {\r\n            body = &quot;{\\&quot;symbol\\&quot;:\\&quot;uBTCUSD\\&quot;, \\&quot;clOrdID\\&quot;:&quot; + id + &quot;,\\&quot;side\\&quot;:\\&quot;Sell\\&quot;,\\&quot;orderQty\\&quot;:&quot; + Math.abs(size) + &quot;,\\&quot;ordType\\&quot;:\\&quot;Limit\\&quot;,\\&quot;priceEp\\&quot;:&quot; + price*10000 +  &quot;,\\&quot;reduceOnly\\&quot;:false,\\&quot;timeInForce\\&quot;:\\&quot;GoodTillCancel\\&quot;}&quot;; //json parsed body\r\n        }\r\n        String ts = String.valueOf((System.currentTimeMillis() / 1000));\r\n        int expiry = Integer.parseInt(ts) + 600; //600 second expiry from current unix epoch time\r\n\r\n        String requestSignature = HashString.getRequestSignature(path, query, expiry, body, PHEMEX_SECRET);\r\n\r\n        String accessToken = PHEMEX_KEY;\r\n\r\n        String requestExpiry = String.valueOf(expiry);\r\n\r\n        URL url = new URL (&quot;https://api.phemex.com/orders&quot;);\r\n\r\n        HttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n\r\n        connection.setRequestMethod(&quot;POST&quot;);\r\n\r\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n        connection.setRequestProperty(&quot;x-phemex-request-expiry&quot;, requestExpiry);\r\n        connection.setRequestProperty(&quot;x-phemex-request-signature&quot;, requestSignature);\r\n        connection.setRequestProperty(&quot;x-phemex-access-token&quot;, accessToken);\r\n\r\n        connection.setDoOutput(true);\r\n        connection.setDoInput(true);\r\n\r\n        connection.connect();\r\n\r\n        try(OutputStream os = connection.getOutputStream()){\r\n            byte[] input = body.getBytes(&quot;utf-8&quot;);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n\r\n        try(BufferedReader br = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream(), &quot;utf-8&quot;))) {\r\n            StringBuilder response = new StringBuilder();\r\n            String responseLine = null;\r\n\r\n            while((responseLine = br.readLine()) != null){\r\n                response.append(responseLine.trim());\r\n            }\r\n\r\n            System.out.println(response.toString());\r\n        }\r\n\r\n\r\n    }\r\n````\r\n\r\nThis code works fine, and I am confident that the helper methods of HashString work correctly given they are provided the proper path, query, and body.\r\n\r\nFor reference, this call needs the following fields in the body: symbol, clOrderId, side, orderQty, ordType, priceEp, reduceOnly, timeInForce, and GoodTillCancel. For more reference visit https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#signatureexample3\r\n\r\nHowever, when I replace the `connection.setRequestMethod(&quot;POST&quot;);` to `        connection.setRequestMethod(&quot;DELETE&quot;);`, delete the body, and add in the path `?symbol=uBTCUSD&#39;`, I am doing the wrong API call. The request I need to send is\r\n`DELETE /orders/all?symbol=&lt;symbol&gt;`\r\n\r\nSince it is a DELETE request, if I am not mistaken the body should be empty.\r\n\r\nFor more reference, please visit https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#cancelall\r\n\r\nI am using the following code, which I am having trouble debugging.\r\n\r\n\r\n```\r\npublic void cancelAllOrders() throws Exception {\r\n        String path = &quot;/orders/all&quot;;\r\n        String query = &quot;?symbols=uBTCUSD&quot;;\r\n        String body = &quot;&quot;; //json parsed body\r\n\r\n        String ts = String.valueOf((System.currentTimeMillis() / 1000));\r\n        int expiry = Integer.parseInt(ts) + 600; //600 second expiry from current unix epoch time\r\n\r\n        String requestSignature = HashString.getRequestSignature(path, query, expiry, body, PHEMEX_SECRET);\r\n\r\n        String accessToken = PHEMEX_KEY;\r\n\r\n        String requestExpiry = String.valueOf(expiry);\r\n\r\n        URL url = new URL (&quot;https://api.phemex.com/orders/all&quot;);\r\n\r\n        HttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n\r\n        connection.setRequestMethod(&quot;DELETE&quot;);\r\n\r\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n        connection.setRequestProperty(&quot;x-phemex-request-expiry&quot;, requestExpiry);\r\n        connection.setRequestProperty(&quot;x-phemex-request-signature&quot;, requestSignature);\r\n        connection.setRequestProperty(&quot;x-phemex-access-token&quot;, accessToken);\r\n\r\n        connection.setDoOutput(true);\r\n        connection.setDoInput(true);\r\n\r\n        connection.connect();\r\n\r\n        try(OutputStream os = connection.getOutputStream()){\r\n            byte[] input = body.getBytes(&quot;utf-8&quot;);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n\r\n        try(BufferedReader br = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream(), &quot;utf-8&quot;))) {\r\n            StringBuilder response = new StringBuilder();\r\n            String responseLine = null;\r\n\r\n            while((responseLine = br.readLine()) != null){\r\n                response.append(responseLine.trim());\r\n            }\r\n\r\n            System.out.println(response.toString());\r\n        }\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nIn addition, here is the HashString class in case I am doing something incorrect which works for a body but not for a path.\r\n\r\n```\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SignatureException;\r\nimport java.util.Formatter;\r\n\r\npublic class HashString {\r\n\r\n    private static final String HMAC_SHA256 = &quot;HmacSHA256&quot;;\r\n\r\n    public static String toHexString(byte[] bytes) {\r\n        Formatter formatter = new Formatter();\r\n        for (byte b : bytes) {\r\n            formatter.format(&quot;%02x&quot;, b);\r\n        }\r\n        return formatter.toString();\r\n    }\r\n\r\n    public static String calculateHMAC(String data, String key) throws SignatureException, NoSuchAlgorithmException, InvalidKeyException\r\n    {\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(), HMAC_SHA256);\r\n        Mac mac = Mac.getInstance(HMAC_SHA256);\r\n        mac.init(secretKeySpec);\r\n        return toHexString(mac.doFinal(data.getBytes()));\r\n    }\r\n\r\n    // returns valid request signature needed for Phemex authentication header &#39;x-phemex-request-signature&#39;\r\n    public static String getRequestSignature(String Path, String Query, int expiry, String body, String secret){\r\n        String secretKey = secret;\r\n        String signatureString = Path + Query + expiry + body;\r\n\r\n        String hmac = &quot;&quot;;\r\n        try {\r\n            hmac = calculateHMAC(signatureString, secretKey);\r\n        } catch(Exception e) {\r\n            hmac = &quot;-1&quot;;\r\n            System.out.println(&quot;Could not create HMAC SHA256!&quot;);\r\n        }\r\n\r\n        return hmac;\r\n    }\r\n\r\n    public HashString(){\r\n    }\r\n\r\n    public static void main(String[] args){\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nTried replacing the type of request to DELETE from POST and updating the path, but the request signature is invalid.","title":"POST request works, DELETE request does not","body":"<p>I have the following code I created which works to open a trade on the Phemex API via HMAC-SHA256 encrypted request signature. It needs to be a POST request.</p>\n<pre><code>public void openTradeByLimit(double size, double price, int id) throws Exception {\n        String path = &quot;/orders&quot;;\n        String query = &quot;&quot;;\n        String body = &quot;&quot;;\n        if(size&gt;0){\n            body = &quot;{\\&quot;symbol\\&quot;:\\&quot;uBTCUSD\\&quot;, \\&quot;clOrdID\\&quot;:&quot; + id + &quot;,\\&quot;side\\&quot;:\\&quot;Buy\\&quot;,\\&quot;orderQty\\&quot;:&quot; + size + &quot;,\\&quot;ordType\\&quot;:\\&quot;Limit\\&quot;,\\&quot;priceEp\\&quot;:&quot; + price*10000 +  &quot;,\\&quot;reduceOnly\\&quot;:false,\\&quot;timeInForce\\&quot;:\\&quot;GoodTillCancel\\&quot;}&quot;; //json parsed body\n        } else {\n            body = &quot;{\\&quot;symbol\\&quot;:\\&quot;uBTCUSD\\&quot;, \\&quot;clOrdID\\&quot;:&quot; + id + &quot;,\\&quot;side\\&quot;:\\&quot;Sell\\&quot;,\\&quot;orderQty\\&quot;:&quot; + Math.abs(size) + &quot;,\\&quot;ordType\\&quot;:\\&quot;Limit\\&quot;,\\&quot;priceEp\\&quot;:&quot; + price*10000 +  &quot;,\\&quot;reduceOnly\\&quot;:false,\\&quot;timeInForce\\&quot;:\\&quot;GoodTillCancel\\&quot;}&quot;; //json parsed body\n        }\n        String ts = String.valueOf((System.currentTimeMillis() / 1000));\n        int expiry = Integer.parseInt(ts) + 600; //600 second expiry from current unix epoch time\n\n        String requestSignature = HashString.getRequestSignature(path, query, expiry, body, PHEMEX_SECRET);\n\n        String accessToken = PHEMEX_KEY;\n\n        String requestExpiry = String.valueOf(expiry);\n\n        URL url = new URL (&quot;https://api.phemex.com/orders&quot;);\n\n        HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n\n        connection.setRequestMethod(&quot;POST&quot;);\n\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\n        connection.setRequestProperty(&quot;x-phemex-request-expiry&quot;, requestExpiry);\n        connection.setRequestProperty(&quot;x-phemex-request-signature&quot;, requestSignature);\n        connection.setRequestProperty(&quot;x-phemex-access-token&quot;, accessToken);\n\n        connection.setDoOutput(true);\n        connection.setDoInput(true);\n\n        connection.connect();\n\n        try(OutputStream os = connection.getOutputStream()){\n            byte[] input = body.getBytes(&quot;utf-8&quot;);\n            os.write(input, 0, input.length);\n        }\n\n\n        try(BufferedReader br = new BufferedReader(\n                new InputStreamReader(connection.getInputStream(), &quot;utf-8&quot;))) {\n            StringBuilder response = new StringBuilder();\n            String responseLine = null;\n\n            while((responseLine = br.readLine()) != null){\n                response.append(responseLine.trim());\n            }\n\n            System.out.println(response.toString());\n        }\n\n\n    }\n</code></pre>\n<p>This code works fine, and I am confident that the helper methods of HashString work correctly given they are provided the proper path, query, and body.</p>\n<p>For reference, this call needs the following fields in the body: symbol, clOrderId, side, orderQty, ordType, priceEp, reduceOnly, timeInForce, and GoodTillCancel. For more reference visit <a href=\"https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#signatureexample3\" rel=\"nofollow noreferrer\">https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#signatureexample3</a></p>\n<p>However, when I replace the <code>connection.setRequestMethod(&quot;POST&quot;);</code> to <code>        connection.setRequestMethod(&quot;DELETE&quot;);</code>, delete the body, and add in the path <code>?symbol=uBTCUSD'</code>, I am doing the wrong API call. The request I need to send is\n<code>DELETE /orders/all?symbol=&lt;symbol&gt;</code></p>\n<p>Since it is a DELETE request, if I am not mistaken the body should be empty.</p>\n<p>For more reference, please visit <a href=\"https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#cancelall\" rel=\"nofollow noreferrer\">https://github.com/phemex/phemex-api-docs/blob/master/Public-Contract-API-en.md#cancelall</a></p>\n<p>I am using the following code, which I am having trouble debugging.</p>\n<pre><code>public void cancelAllOrders() throws Exception {\n        String path = &quot;/orders/all&quot;;\n        String query = &quot;?symbols=uBTCUSD&quot;;\n        String body = &quot;&quot;; //json parsed body\n\n        String ts = String.valueOf((System.currentTimeMillis() / 1000));\n        int expiry = Integer.parseInt(ts) + 600; //600 second expiry from current unix epoch time\n\n        String requestSignature = HashString.getRequestSignature(path, query, expiry, body, PHEMEX_SECRET);\n\n        String accessToken = PHEMEX_KEY;\n\n        String requestExpiry = String.valueOf(expiry);\n\n        URL url = new URL (&quot;https://api.phemex.com/orders/all&quot;);\n\n        HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n\n        connection.setRequestMethod(&quot;DELETE&quot;);\n\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\n        connection.setRequestProperty(&quot;x-phemex-request-expiry&quot;, requestExpiry);\n        connection.setRequestProperty(&quot;x-phemex-request-signature&quot;, requestSignature);\n        connection.setRequestProperty(&quot;x-phemex-access-token&quot;, accessToken);\n\n        connection.setDoOutput(true);\n        connection.setDoInput(true);\n\n        connection.connect();\n\n        try(OutputStream os = connection.getOutputStream()){\n            byte[] input = body.getBytes(&quot;utf-8&quot;);\n            os.write(input, 0, input.length);\n        }\n\n\n        try(BufferedReader br = new BufferedReader(\n                new InputStreamReader(connection.getInputStream(), &quot;utf-8&quot;))) {\n            StringBuilder response = new StringBuilder();\n            String responseLine = null;\n\n            while((responseLine = br.readLine()) != null){\n                response.append(responseLine.trim());\n            }\n\n            System.out.println(response.toString());\n        }\n\n\n    }\n</code></pre>\n<p>In addition, here is the HashString class in case I am doing something incorrect which works for a body but not for a path.</p>\n<pre><code>import javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SignatureException;\nimport java.util.Formatter;\n\npublic class HashString {\n\n    private static final String HMAC_SHA256 = &quot;HmacSHA256&quot;;\n\n    public static String toHexString(byte[] bytes) {\n        Formatter formatter = new Formatter();\n        for (byte b : bytes) {\n            formatter.format(&quot;%02x&quot;, b);\n        }\n        return formatter.toString();\n    }\n\n    public static String calculateHMAC(String data, String key) throws SignatureException, NoSuchAlgorithmException, InvalidKeyException\n    {\n        SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(), HMAC_SHA256);\n        Mac mac = Mac.getInstance(HMAC_SHA256);\n        mac.init(secretKeySpec);\n        return toHexString(mac.doFinal(data.getBytes()));\n    }\n\n    // returns valid request signature needed for Phemex authentication header 'x-phemex-request-signature'\n    public static String getRequestSignature(String Path, String Query, int expiry, String body, String secret){\n        String secretKey = secret;\n        String signatureString = Path + Query + expiry + body;\n\n        String hmac = &quot;&quot;;\n        try {\n            hmac = calculateHMAC(signatureString, secretKey);\n        } catch(Exception e) {\n            hmac = &quot;-1&quot;;\n            System.out.println(&quot;Could not create HMAC SHA256!&quot;);\n        }\n\n        return hmac;\n    }\n\n    public HashString(){\n    }\n\n    public static void main(String[] args){\n\n    }\n\n}\n</code></pre>\n<p>Tried replacing the type of request to DELETE from POST and updating the path, but the request signature is invalid.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697818876,"post_id":77331576,"comment_id":136331878,"body_markdown":"What is the meaning of MOD?","body":"What is the meaning of MOD?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697818954,"post_id":77331576,"comment_id":136331889,"body_markdown":"I fixed your code formatting for you this time. Study that so youll know next time.","body":"I fixed your code formatting for you this time. Study that so youll know next time."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697821329,"post_id":77331576,"comment_id":136332294,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour), and see [How To Ask](https://stackoverflow.com/help/how-to-ask), and other pages in the help center.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, and see <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask</a>, and other pages in the help center."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697821550,"post_id":77331576,"comment_id":136332338,"body_markdown":"*&quot;Can this be done in a simpler way&quot;* Can *what* be done in a simpler way? You need to explain what your program is *intended* to do. If the code shown doesn&#39;t work as intended, you shouldn&#39;t rely on us to interpret the intention from the code. Then, explain why you think your code is not working as intended. Include examples. Each example should have input, expected output, and actual output. It also  helps to tell us what you have done to debug your code.","body":"<i>&quot;Can this be done in a simpler way&quot;</i> Can <i>what</i> be done in a simpler way? You need to explain what your program is <i>intended</i> to do. If the code shown doesn&#39;t work as intended, you shouldn&#39;t rely on us to interpret the intention from the code. Then, explain why you think your code is not working as intended. Include examples. Each example should have input, expected output, and actual output. It also  helps to tell us what you have done to debug your code."},{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697826186,"post_id":77331576,"comment_id":136333040,"body_markdown":"@OldDogProgrammer ok got it, I`ll take the tour... I thought it was easy to read what I was trying to do, that is why I didn`t explain much I guess. I`ll make sure next time to add  more information.","body":"@OldDogProgrammer ok got it, I<code>ll take the tour... I thought it was easy to read what I was trying to do, that is why I didn</code>t explain much I guess. I`ll make sure next time to add  more information."},{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697826262,"post_id":77331576,"comment_id":136333050,"body_markdown":"@BasilBourque  MOD is for modulate. I thought I could round them up or down but I don`t think it works the same like with &quot;time&quot;. Can`t see where you fixed the code, not sure how to access that.","body":"@BasilBourque  MOD is for modulate. I thought I could round them up or down but I don<code>t think it works the same like with &quot;time&quot;. Can</code>t see where you fixed the code, not sure how to access that."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1697819199,"post_id":77332283,"comment_id":136331920,"body_markdown":"double math has rounding errors and therefore is __entirely__ inappropriate for anything cash-related. This answer &#39;works&#39;, but misleads, and is therefore dangerous. Don&#39;t do any of this stuff.","body":"double math has rounding errors and therefore is <b>entirely</b> inappropriate for anything cash-related. This answer &#39;works&#39;, but misleads, and is therefore dangerous. Don&#39;t do any of this stuff."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697822056,"post_id":77332283,"comment_id":136332435,"body_markdown":"@rzwitserloot this is a beginner&#39;s exercise, not a financial application. I did say at the end that they should eventually learn to use BigDecimal. By the way, most accountants use Excel, and Excel uses floating point.","body":"@rzwitserloot this is a beginner&#39;s exercise, not a financial application. I did say at the end that they should eventually learn to use BigDecimal. By the way, most accountants use Excel, and Excel uses floating point."},{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697826755,"post_id":77332283,"comment_id":136333122,"body_markdown":"@k314159 Many thanks to you too for the help and guidance and code. I`ll definitely study BD for the future.","body":"@k314159 Many thanks to you too for the help and guidance and code. I`ll definitely study BD for the future."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697856250,"post_id":77332283,"comment_id":136335776,"body_markdown":"@k314159 Indeed, an exercise. It&#39;s not useful to learn techniques that aren&#39;t ever appropriate. My comment stands.","body":"@k314159 Indeed, an exercise. It&#39;s not useful to learn techniques that aren&#39;t ever appropriate. My comment stands."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697817208,"creation_date":1697817208,"answer_id":77332283,"question_id":77331576,"body_markdown":"The `/` operator, when applied to operands that are both integral, does _integer division_. This means that the result is truncated to an integer value.\r\n\r\nWhat you are doing in your code is not correct. Imagine the amount is 104. You print 104/100 which is 1, followed by 104%100 which is 4. So your output is &quot;1.4&quot; but you need it to be &quot;1.04&quot;.\r\n\r\nYou can use floating-point division by casting at least one of the operands to `double`:\r\n\r\n    System.out.println(&quot;\\nTotal change is &#163;&quot; + (double)count / 100);\r\n\r\nor\r\n\r\n    System.out.println(&quot;\\nTotal change is &#163;&quot; + count / 100.0);\r\n\r\nThis may work most of the time, but there is a risk (with different numbers) of getting more than 2 decimal places due to the fact that floating-point numbers are stored in binary, and therefore don&#39;t precisely represent decimal floating points. You should therefore use a formatter to limit your output to 2dp:\r\n\r\n    System.out.printf(&quot;\\nTotal change is &#163;%.2f%n&quot;, count / 100.0);\r\n\r\nHowever, as you get more advanced with Java, you should learn to use the `BigDecimal` class, which is more appropriate when dealing with monetary amounts.","title":"To mod or not to mod pounds &amp; pennies","body":"<p>The <code>/</code> operator, when applied to operands that are both integral, does <em>integer division</em>. This means that the result is truncated to an integer value.</p>\n<p>What you are doing in your code is not correct. Imagine the amount is 104. You print 104/100 which is 1, followed by 104%100 which is 4. So your output is &quot;1.4&quot; but you need it to be &quot;1.04&quot;.</p>\n<p>You can use floating-point division by casting at least one of the operands to <code>double</code>:</p>\n<pre><code>System.out.println(&quot;\\nTotal change is &quot; + (double)count / 100);\n</code></pre>\n<p>or</p>\n<pre><code>System.out.println(&quot;\\nTotal change is &quot; + count / 100.0);\n</code></pre>\n<p>This may work most of the time, but there is a risk (with different numbers) of getting more than 2 decimal places due to the fact that floating-point numbers are stored in binary, and therefore don't precisely represent decimal floating points. You should therefore use a formatter to limit your output to 2dp:</p>\n<pre><code>System.out.printf(&quot;\\nTotal change is %.2f%n&quot;, count / 100.0);\n</code></pre>\n<p>However, as you get more advanced with Java, you should learn to use the <code>BigDecimal</code> class, which is more appropriate when dealing with monetary amounts.</p>\n"},{"comments":[{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697826503,"post_id":77332528,"comment_id":136333089,"body_markdown":"many thanks for that lengthy explanation, I really appreciate it., it really helps me understand better and helps with a better coding technique for sure. Many thanks","body":"many thanks for that lengthy explanation, I really appreciate it., it really helps me understand better and helps with a better coding technique for sure. Many thanks"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697969322,"post_id":77332528,"comment_id":136343741,"body_markdown":"This is a good answer, but if you say that monetary amounts should use integer values representing the minor unit (pence, cents etc) you might want to also explain what to do when, for example, my local petrol station sells petrol at 152.95 pence per litre.","body":"This is a good answer, but if you say that monetary amounts should use integer values representing the minor unit (pence, cents etc) you might want to also explain what to do when, for example, my local petrol station sells petrol at 152.95 pence per litre."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697981798,"post_id":77332528,"comment_id":136344852,"body_markdown":"@k314159 I already do, in the paragraph that starts with __Unless you do__. The question isn&#39;t asking about petrol prices, hence, it merely needs to ensure the reader knows where to look when that&#39;s their actual need. At some point &#39;answer could be improved if it explains mostly unrelated issue ABC&#39; means the answer balloons into 150 pages and has buried the actual thing the reader is looking for. I disagree that the answer would be improved if any further words are written about BD here.","body":"@k314159 I already do, in the paragraph that starts with <b>Unless you do</b>. The question isn&#39;t asking about petrol prices, hence, it merely needs to ensure the reader knows where to look when that&#39;s their actual need. At some point &#39;answer could be improved if it explains mostly unrelated issue ABC&#39; means the answer balloons into 150 pages and has buried the actual thing the reader is looking for. I disagree that the answer would be improved if any further words are written about BD here."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697835015,"creation_date":1697819738,"answer_id":77332528,"question_id":77331576,"body_markdown":"`double` math [introduces rounding errors][1] and it is hard to know when and how those rounding errors affect your math. There&#39;s a good reason for that: If I ask you to write &#39;1 / 3&#39; on a piece of paper with a pen, in decimal, you can&#39;t do it. You can write, maybe, 0.33333333333333 but you run out of room eventually and you are forced to round.\r\n\r\nYour computer works the same way, except, it&#39;s binary, not decimal. Which means anything not nicely divisible in 2s has the &#39;1/3&#39; problem. For example, 1/10th isn&#39;t nicely divisible by 2. In decimal, it&#39;s &#39;0.1&#39;, easy. In computerese, it&#39;s like 0.3333333 - it&#39;s not quite right. We can trivially witness some truly bizarro errors with it quite easily:\r\n\r\n```\r\ndouble v = 0;\r\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\r\nSystem.out.println(1.0 == v);\r\n```\r\n\r\nThat prints.. `false`. So, apparently then, 10 * 0.1 is not the same as 1.0, I guess.\r\n\r\nThat&#39;s `double` math errors for ya.\r\n\r\nSo, the lesson is simple: _If `double` is anywhere near anything related to finances, __you did it wrong___.\r\n\r\nHence, your mindset here is wrong. You seem to be labouring under the presumption that using ints/longs to do finance stuff and then using mods and division to print it is &#39;cheating&#39; and that a &#39;proper&#39; take is to use a `double`, but you have it _precisely the wrong way around_. It&#39;s `double` + finances that&#39;s cheating / wrong, and sticking with integer math which is correct.\r\n\r\nNote that this matches the financial systems. You can&#39;t, generally, pay half a cent. The right way to do finance math is almost always to store atomic finance units in an `int` or `long`. For yen, that&#39;s yen. For bitcoin, it&#39;s satoshis. For dollars or euros its cents. For pounds, its pennies. You don&#39;t _want_ to be able to represent half a cent.\r\n\r\nUnless you do (it&#39;s rare, but it happens) where you either want a different atomic unit, or, `BigDecimal`, which doesn&#39;t error, but note that in bigdecimalese, `1/3` is an error (because you can&#39;t do that without error), unless you tell BD how to deal with it which is all very complicated. Don&#39;t do finance stuff with BD unless you really know what you are doing (and don&#39;t do finance stuff with `double`. ever).\r\n\r\n## But your code is still broken\r\n\r\nThe primary issue is printing `x % 100` which could be, say 4 cents, which prints as 4, but you want it to print as 04. Here&#39;s the nice way to do that:\r\n\r\n```\r\nSystem.out.printf(&quot;\\nTotal change is &#163;%d.%02d&quot;, count / 100, count % 100);\r\n```\r\n\r\n`printf` is the print version of `String.format` - the first argument is a template string, which contains placeholders. Then the remaining arguments are the values for those placeholders. `%d` means &#39;a decimal (i.e. whole) number, and `%02d` is involving 2 &#39;modifiers&#39;. The 0 means: 0-pad it up if the value is smaller than the amount of &#39;room&#39; for this parameter, and the &#39;2&#39; means: Use 2 or more characters to represent the value.\r\n\r\nHence, `String.format(&quot;%02d&quot;, 9)` is the string &quot;09&quot;. Because we asked for at least 2 characters, and we asked to 0-pad it to ensure it&#39;s at least 2. It&#39;s what you want here.\r\n\r\nNote that for negative numbers, `%` might not do what you want. `-5 % 100` is.. -5. Generally to render negative numbers with such a mod/division system, you isolate out the minus sign and print it, then print the rest as positive number. Hence, to be complete:\r\n\r\n```\r\npublic String formatPennies(int pennies) {\r\n  String minus = &quot;&quot;;\r\n  if (pennies &lt; 0) {\r\n    minus = &quot;-&quot;;\r\n    pennies = -pennies;\r\n  }\r\n  int pounds = pennies / 100;\r\n  pennies = pennies % 100;\r\n  return String.format(&quot;&#163;%s%d.%02d&quot;, minus, pounds, pennies);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems","title":"To mod or not to mod pounds &amp; pennies","body":"<p><code>double</code> math <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">introduces rounding errors</a> and it is hard to know when and how those rounding errors affect your math. There's a good reason for that: If I ask you to write '1 / 3' on a piece of paper with a pen, in decimal, you can't do it. You can write, maybe, 0.33333333333333 but you run out of room eventually and you are forced to round.</p>\n<p>Your computer works the same way, except, it's binary, not decimal. Which means anything not nicely divisible in 2s has the '1/3' problem. For example, 1/10th isn't nicely divisible by 2. In decimal, it's '0.1', easy. In computerese, it's like 0.3333333 - it's not quite right. We can trivially witness some truly bizarro errors with it quite easily:</p>\n<pre><code>double v = 0;\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\nSystem.out.println(1.0 == v);\n</code></pre>\n<p>That prints.. <code>false</code>. So, apparently then, 10 * 0.1 is not the same as 1.0, I guess.</p>\n<p>That's <code>double</code> math errors for ya.</p>\n<p>So, the lesson is simple: <em>If <code>double</code> is anywhere near anything related to finances, <strong>you did it wrong</strong></em>.</p>\n<p>Hence, your mindset here is wrong. You seem to be labouring under the presumption that using ints/longs to do finance stuff and then using mods and division to print it is 'cheating' and that a 'proper' take is to use a <code>double</code>, but you have it <em>precisely the wrong way around</em>. It's <code>double</code> + finances that's cheating / wrong, and sticking with integer math which is correct.</p>\n<p>Note that this matches the financial systems. You can't, generally, pay half a cent. The right way to do finance math is almost always to store atomic finance units in an <code>int</code> or <code>long</code>. For yen, that's yen. For bitcoin, it's satoshis. For dollars or euros its cents. For pounds, its pennies. You don't <em>want</em> to be able to represent half a cent.</p>\n<p>Unless you do (it's rare, but it happens) where you either want a different atomic unit, or, <code>BigDecimal</code>, which doesn't error, but note that in bigdecimalese, <code>1/3</code> is an error (because you can't do that without error), unless you tell BD how to deal with it which is all very complicated. Don't do finance stuff with BD unless you really know what you are doing (and don't do finance stuff with <code>double</code>. ever).</p>\n<h2>But your code is still broken</h2>\n<p>The primary issue is printing <code>x % 100</code> which could be, say 4 cents, which prints as 4, but you want it to print as 04. Here's the nice way to do that:</p>\n<pre><code>System.out.printf(&quot;\\nTotal change is %d.%02d&quot;, count / 100, count % 100);\n</code></pre>\n<p><code>printf</code> is the print version of <code>String.format</code> - the first argument is a template string, which contains placeholders. Then the remaining arguments are the values for those placeholders. <code>%d</code> means 'a decimal (i.e. whole) number, and <code>%02d</code> is involving 2 'modifiers'. The 0 means: 0-pad it up if the value is smaller than the amount of 'room' for this parameter, and the '2' means: Use 2 or more characters to represent the value.</p>\n<p>Hence, <code>String.format(&quot;%02d&quot;, 9)</code> is the string &quot;09&quot;. Because we asked for at least 2 characters, and we asked to 0-pad it to ensure it's at least 2. It's what you want here.</p>\n<p>Note that for negative numbers, <code>%</code> might not do what you want. <code>-5 % 100</code> is.. -5. Generally to render negative numbers with such a mod/division system, you isolate out the minus sign and print it, then print the rest as positive number. Hence, to be complete:</p>\n<pre><code>public String formatPennies(int pennies) {\n  String minus = &quot;&quot;;\n  if (pennies &lt; 0) {\n    minus = &quot;-&quot;;\n    pennies = -pennies;\n  }\n  int pounds = pennies / 100;\n  pennies = pennies % 100;\n  return String.format(&quot;%s%d.%02d&quot;, minus, pounds, pennies);\n}\n</code></pre>\n"}],"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697835015,"creation_date":1697810690,"question_id":77331576,"body_markdown":"Can this be done in a simpler way. I wanted to use MOD for my Pounds and Pennies, but I can&#39;t convert int to double.\r\n\r\nI had to trick the console if you would, with formatting, but it isn&#39;t putting out a true decimal no. \r\n\r\nIs my code the only way? Is my code the shortest way of doing this?\r\n\r\n```java\r\npublic class Question4 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner key = new Scanner(System.in);\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tint coins [] = new int [8];\r\n\t\tint [] pennies = {200, 100, 50, 20, 10, 5, 2, 1};\r\n\t\t\r\n\t\tString [] coinTxt = {&quot;&#163;2 =&quot;,&quot;&#163;1 =&quot;, &quot;50p =&quot;, &quot;20p =&quot;, &quot;10p =&quot;, &quot;5p =&quot;, &quot;2p =&quot;, &quot;1p =&quot;};\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter your coins\\n&quot;);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt;coinTxt.length; i++) {\r\n\t\t\tSystem.out.print( coinTxt[i]+&quot;\\t&quot;);\r\n\t\t\t\r\n\t\t\tcoins [i] = key.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i=0;  i &lt;coins.length; i++) {\r\n\t\t\t//System.out.print(coins[i]);\r\n\t\t\t\r\n\t\t\tcount = coins[i]*pennies[i]+count;\r\n\t\t}\r\n\t\t\r\n\t\t//System.out.print(&quot;\\n\\n&quot;+count);\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\nTotal change is &#163;&quot;+count/100+&quot;.&quot;);\r\n\t\t\r\n\t\tSystem.out.print(count%100);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"To mod or not to mod pounds &amp; pennies","body":"<p>Can this be done in a simpler way. I wanted to use MOD for my Pounds and Pennies, but I can't convert int to double.</p>\n<p>I had to trick the console if you would, with formatting, but it isn't putting out a true decimal no.</p>\n<p>Is my code the only way? Is my code the shortest way of doing this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question4 {\n\n    public static void main(String[] args) {\n        Scanner key = new Scanner(System.in);\n        \n        int count = 0;\n        int coins [] = new int [8];\n        int [] pennies = {200, 100, 50, 20, 10, 5, 2, 1};\n        \n        String [] coinTxt = {&quot;2 =&quot;,&quot;1 =&quot;, &quot;50p =&quot;, &quot;20p =&quot;, &quot;10p =&quot;, &quot;5p =&quot;, &quot;2p =&quot;, &quot;1p =&quot;};\n        \n        System.out.println(&quot;Enter your coins\\n&quot;);\n        \n        for (int i = 0; i &lt;coinTxt.length; i++) {\n            System.out.print( coinTxt[i]+&quot;\\t&quot;);\n            \n            coins [i] = key.nextInt();\n        }\n        \n        for (int i=0;  i &lt;coins.length; i++) {\n            //System.out.print(coins[i]);\n            \n            count = coins[i]*pennies[i]+count;\n        }\n        \n        //System.out.print(&quot;\\n\\n&quot;+count);\n        \n        System.out.print(&quot;\\nTotal change is &quot;+count/100+&quot;.&quot;);\n        \n        System.out.print(count%100);\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1539679192,"post_id":52829507,"comment_id":92578938,"body_markdown":"Please mentioned the PDFBox version, add the code for saveIncrementalForSign, and the code for signing. If possible share the signed PDF.","body":"Please mentioned the PDFBox version, add the code for saveIncrementalForSign, and the code for signing. If possible share the signed PDF."},{"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"score":0,"creation_date":1539680967,"post_id":52829507,"comment_id":92579988,"body_markdown":"Yes I have add saveincremental code &amp; my pdf box version is 2.0.12","body":"Yes I have add saveincremental code &amp; my pdf box version is 2.0.12"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1539687347,"post_id":52829507,"comment_id":92583661,"body_markdown":"Please also share a sample signed PDF. There is so much code it most likely is easier to analyze the PDF first to know what is wrong.","body":"Please also share a sample signed PDF. There is so much code it most likely is easier to analyze the PDF first to know what is wrong."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1539689081,"post_id":52829507,"comment_id":92584663,"body_markdown":"Thanks! The problem immediately was obvious when inspecting the PDF.","body":"Thanks! The problem immediately was obvious when inspecting the PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1629526733,"post_id":52829507,"comment_id":121714393,"body_markdown":"Your recent edit is not really an improvement.","body":"Your recent edit is not really an improvement."}],"answers":[{"comments":[{"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"score":0,"creation_date":1539692646,"post_id":52834362,"comment_id":92586843,"body_markdown":"I tried to applying one signature to multiple place. Is it possible??","body":"I tried to applying one signature to multiple place. Is it possible??"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1539692945,"post_id":52834362,"comment_id":92587032,"body_markdown":"*&quot;hi mkl wishify.in/signed_one.pdf&quot;* - That PDF has a hybrid cross references structure (MS Word style). Please first try with a different PDF with only a cross reference table or only a cross reference stream. These hybrids can make PDFBox work incorrectly.","body":"<i>&quot;hi mkl wishify.in/signed_one.pdf&quot;</i> - That PDF has a hybrid cross references structure (MS Word style). Please first try with a different PDF with only a cross reference table or only a cross reference stream. These hybrids can make PDFBox work incorrectly."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1539693041,"post_id":52834362,"comment_id":92587091,"body_markdown":"*&quot;I tried to applying one signature to multiple place. Is it possible??&quot;* - It&#39;s not desired by the PDF specification teams. There are tricks valid in PDF 1.x but forbidden in PDF 2.0. You should not do that.","body":"<i>&quot;I tried to applying one signature to multiple place. Is it possible??&quot;</i> - It&#39;s not desired by the PDF specification teams. There are tricks valid in PDF 1.x but forbidden in PDF 2.0. You should not do that."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1539859233,"post_id":52834362,"comment_id":92657850,"body_markdown":"@RahulKharade he wrote it. For each signature, you need to open the pdf, sign, then do an incremental save, close. Create a class that does all this, but only for ONE signature. Then call this class for each signature. The two example classes in the PDFBox source code download do this.","body":"@RahulKharade he wrote it. For each signature, you need to open the pdf, sign, then do an incremental save, close. Create a class that does all this, but only for ONE signature. Then call this class for each signature. The two example classes in the PDFBox source code download do this."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1539870883,"post_id":52834362,"comment_id":92664777,"body_markdown":"@Rahul as mentioned before, there can only be a single signature per revision. Your output image might be the result of applying a trick which most likely is not allowed anymore in pdf 2. For further analysis please share the pdf.","body":"@Rahul as mentioned before, there can only be a single signature per revision. Your output image might be the result of applying a trick which most likely is not allowed anymore in pdf 2. For further analysis please share the pdf."},{"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"score":0,"creation_date":1540015931,"post_id":52834362,"comment_id":92717227,"body_markdown":"@Tilman , I don&#39;t under the above link which you shared, can to help me to explain.","body":"@Tilman , I don&#39;t under the above link which you shared, can to help me to explain."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1540016836,"post_id":52834362,"comment_id":92717373,"body_markdown":"The link won&#39;t help you much, it was for @mkl to show that his suggestion was put into work. The fix in 2.0.13 is that you&#39;ll get an exception if you are trying to call `addSignature` twice, and the javadoc also warns against doing this. I looked at your PDF... the signature contents are the same, which is of course not correct, but is a result of you trying to sign several times. So please sign only once. Then save incremental, close, reopen the signed PDF etc if you wan to sign more than once.","body":"The link won&#39;t help you much, it was for @mkl to show that his suggestion was put into work. The fix in 2.0.13 is that you&#39;ll get an exception if you are trying to call <code>addSignature</code> twice, and the javadoc also warns against doing this. I looked at your PDF... the signature contents are the same, which is of course not correct, but is a result of you trying to sign several times. So please sign only once. Then save incremental, close, reopen the signed PDF etc if you wan to sign more than once."},{"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"score":0,"creation_date":1541485964,"post_id":52834362,"comment_id":93223491,"body_markdown":"Signature not validating using above method @mkl","body":"Signature not validating using above method @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1541492364,"post_id":52834362,"comment_id":93225983,"body_markdown":"@Rahul i tested that code and the signature was validating. Can you share a copy of your result pdf file analysis?","body":"@Rahul i tested that code and the signature was validating. Can you share a copy of your result pdf file analysis?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1542018573,"post_id":52834362,"comment_id":93404745,"body_markdown":"@RahulKharade Your example PDF was not signed at all. Thus, I ran it through the signing test code described and referenced in my answer and the result validates ok: [screen shot](https://i.stack.imgur.com/nvK5I.png). Thus, if your output does not, you in some relevant way deviate from what I describe in my answer.","body":"@RahulKharade Your example PDF was not signed at all. Thus, I ran it through the signing test code described and referenced in my answer and the result validates ok: <a href=\"https://i.stack.imgur.com/nvK5I.png\" rel=\"nofollow noreferrer\">screen shot</a>. Thus, if your output does not, you in some relevant way deviate from what I describe in my answer."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1542100440,"post_id":52834362,"comment_id":93436986,"body_markdown":"@Rahul Usually there is a way to adapt the `sign` method to use arbitrary signature creation APIs. How exactly you should do this, depends on the signature creation API used. Thus, please supply details in that regard. And please do so in a new question, this one already is pretty loaded.","body":"@Rahul Usually there is a way to adapt the <code>sign</code> method to use arbitrary signature creation APIs. How exactly you should do this, depends on the signature creation API used. Thus, please supply details in that regard. And please do so in a new question, this one already is pretty loaded."},{"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"score":0,"creation_date":1542185714,"post_id":52834362,"comment_id":93473327,"body_markdown":"@mkl I want to remove that invisible signature , https://stackoverflow.com/questions/53295461/how-to-remove-extra-invisible-signature-in-pdfbox, I am new in pdf related development","body":"@mkl I want to remove that invisible signature , <a href=\"https://stackoverflow.com/questions/53295461/how-to-remove-extra-invisible-signature-in-pdfbox\" title=\"how to remove extra invisible signature in pdfbox\">stackoverflow.com/questions/53295461/&hellip;</a>, I am new in pdf related development"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1542186867,"post_id":52834362,"comment_id":93474055,"body_markdown":"@rak Look at the code in `testCreateSignatureWithMultipleVisualizations`. It is based on the standard samples for generating an invisible signature. You simply have to use the standard sample code for a visible signature as base instead and add the `for` loop there (with one less iteration as the base code already creates one visible signature).","body":"@rak Look at the code in <code>testCreateSignatureWithMultipleVisualizations</code>. It is based on the standard samples for generating an invisible signature. You simply have to use the standard sample code for a visible signature as base instead and add the <code>for</code> loop there (with one less iteration as the base code already creates one visible signature)."},{"owner":{"account_id":5735741,"reputation":103,"user_id":4529984,"display_name":"Daniel Facciabene"},"score":0,"creation_date":1659735213,"post_id":52834362,"comment_id":129373685,"body_markdown":"In my case I&#39;m using a JPG file as the signature picture so the example code wasn&#39;t useful for me, but the concept itself was. This answer was really helpful.\nI basically replicated the &quot;addSignature&quot; method removing some code so it only added a PDSignatureField, and called it for every page.\nAs a sidenote this results in multiple signatures appearing in the signatures tab when opening the PDF file in Acrobat Reader, but they all points to the same revision so I think this is the desired outcome.","body":"In my case I&#39;m using a JPG file as the signature picture so the example code wasn&#39;t useful for me, but the concept itself was. This answer was really helpful. I basically replicated the &quot;addSignature&quot; method removing some code so it only added a PDSignatureField, and called it for every page. As a sidenote this results in multiple signatures appearing in the signatures tab when opening the PDF file in Acrobat Reader, but they all points to the same revision so I think this is the desired outcome."},{"owner":{"account_id":6804549,"reputation":120,"user_id":5236780,"accept_rate":83,"display_name":"Qazazaz"},"score":0,"creation_date":1684915626,"post_id":52834362,"comment_id":134585625,"body_markdown":"Thanks @mkl , Using the approach 3 mentioned above, I was able to add multiple approval signature visualisations (with corresponding different fields) on different pages where all of them pointing to same signature dictionary. But when I tried the same for Certification signatures (by adding DocMDP), All signatures except the last one are shown as unverified in acrobat for all kinds of DocMDP permissions. Is it happening due to the fact that &quot;there can be only one certification signature which should be the first one in the document&quot;?","body":"Thanks @mkl , Using the approach 3 mentioned above, I was able to add multiple approval signature visualisations (with corresponding different fields) on different pages where all of them pointing to same signature dictionary. But when I tried the same for Certification signatures (by adding DocMDP), All signatures except the last one are shown as unverified in acrobat for all kinds of DocMDP permissions. Is it happening due to the fact that &quot;there can be only one certification signature which should be the first one in the document&quot;?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684926611,"post_id":52834362,"comment_id":134588088,"body_markdown":"@Qazazaz *Is it happening due to the fact that &quot;there can be only one certification signature which should be the first one in the document&quot;?* - that&#39;s probable. Adobe Acrobat is not open source, so I cannot be sure, though.","body":"@Qazazaz <i>Is it happening due to the fact that &quot;there can be only one certification signature which should be the first one in the document&quot;?</i> - that&#39;s probable. Adobe Acrobat is not open source, so I cannot be sure, though."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":16,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1542106266,"creation_date":1539689004,"answer_id":52834362,"question_id":52829507,"body_markdown":"In a comment you clarified what you want to achieve:\n\n&gt; I tried to applying one signature to multiple place.\n\nAs discussed in the first section below this is not what your code does: your code attempts to apply *multiple signatures* to *one place each* in a *single revision* which is impossible as also explained there.\n\nApplying a *single signature* to *multiple places* in a *single revision*, on the other hand, is not desired by the PDF specification team and some approaches to implement this have been made invalid by the specification, but it is possible as explained in the second section below.\n\n\n### Your approach, and why it cannot work\n\nYou appear to try to apply multiple signatures in one pass:\n\n    if (isPasswordPresent) {\n        documentFinal = PDDocument.load(new File(PDFpath), pdfPasswordForEncryption);\n    } else {\n        documentFinal = PDDocument.load(new File(PDFpath));\n    }\n\n    for (int i = 1; i &lt; 4; i++) {\n        FileInputStream image2 = new FileInputStream(tickImagePath);\n\n        PDSignature pdsignature = new PDSignature();\n\n        [...]\n\n        try {\n            [...]\n\n            if (visibleSignatureProp.isVisualSignEnabled()) {\n                [...]\n                documentFinal.addSignature(pdsignature, this, this.options);\n            } else {\n                documentFinal.addSignature(pdsignature, this);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Inside getSignOnPdf sub exception block at addSignature:&quot; + e + &quot;error :&quot; + e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n    synchronized (this) {\n        [...]\n        saveIncrementalForSign(saveIncrementalSignObject);\n    }\n\nThis cannot work.\n\nIn PDFs multiple signatures are applied one after the other in separate PDF revisions, not all in parallel in the same revision:\n\n![image][1]\n\nYou can find some backgrounds in [this answer][2] and the documents referenced from there.\n\nThus, in pseudo code what you have to do instead is:\n\n    for (int i = 1; i &lt; 4; i++) {\n        load current version of the PDF;\n        apply the i&#39;th signature;\n        save and sign as new current version of the PDF;\n    }\n\nThe method name `PDDocument.addSignature` might be a little misleading here as it might be assumed to imply that multiple signatures may be added. This is not the case; all signatures will be created as signature fields with their widgets but only the field of the last added `PDSignature` will actually be signed, so only this last added signature field will actually have a sensible value.\n\n@Tilman - there probably should be a test in `PDDocument.addSignature` throwing an exception if a signature already has been added since loading the document.\n\n### A discussion of your actual task\n\nThe path of PDF objects from a signature visualization on a PDF page to the actual signature (the CMS signature container in case of CMS based subfilters) is not immediate. Instead we have\n\n* the PDF page, in its annotations referencing \n* the signature field widget (the signature visualization) belonging to\n* the signature field referencing\n* the signature value dictionary into which the CMS signature container is embedded.\n\nFor the implementation of your actual task,\n\n&gt; applying one signature to multiple places,\n\ntherefore, there appear to be a number of options to get from multiple pages with signature appearances to the single signature container:\n\n1. All pages with signature visualizations pointing to the same single widget annotation of the single signature field with the value dictionary containing the signature container.\n2. Each page with signature visualizations pointing to their own widget, but all widgets belonging to the same single signature field with the value dictionary containing the signature container.\n3. Each page with signature visualizations pointing to their own widget, each widget belonging to a separate signature field, but all of them pointing to the same value dictionary containing the signature container.\n\nLet&#39;s now look at the PDF specification ISO 32000-2. First of all it warns against having single signatures with multiple visualizations:\n\n&gt; The location of a signature within a document can have a bearing on its legal meaning. [...]\n&gt;\n&gt; If more than one location is associated with a signature, the meaning can become ambiguous.\n\n*(ISO 32000-2, section 12.7.5.5 &quot;Signature fields&quot;)*\n\nConsequentially, the specification attempts to forbid single signatures with multiple visualizations:\n\n&gt; A given annotation dictionary shall be referenced from the **Annots** array of only one page.\n\n*(ISO 32000-2, section 12.5.2 &quot;Annotation dictionaries&quot;)*\n\nThis forbids option 1 above.\n\n&gt; signature fields shall never refer to more than one annotation\n\n*(ISO 32000-2, section 12.7.5.5 &quot;Signature fields&quot;)*\n\nThis forbids option 2.\n\nApparently, though, option 3 is not explicitly forbidden. For generic form fields value object sharing is even explicitly allowed as the form field value is inheritable!\n\nThus, strictly speaking creating signatures with multiple visualizations is possible using option 3.\n\nPlease be aware, though, that it clearly was not intended by the PDF specification team to allow them, it most likely was an oversight. Thus, you have to reckon that some upcoming corrigenda to the specification will eventually forbid option 3, too.\n\nIf you want to try nonetheless, it should be possible to tweak or patch PDFBox to create single signatures with multiple visualizations using the approach of option 3.\n\nIt has already proven possible for e.g. iText, cf. [this answer][3].\n\nFurthermore, the sample document you shared makes use of this option.\n\n### A proof of concept\n\nAs it turns out, it is pretty easy to create a multi-visualization PDF signature using PDFBox along the lines of option 3. In particular it is easier than doing this with iText, cf. [the answer referenced above][3], because the signature value dictionary here is an object one creates and handles oneself while in iText it is created under the hood and just in time.\n\nAll one has to do is to create one `PDSignature` object and generate one signature with it normally (using `PDDocument.addSignature`) and then add as many other signature fields as one wants, setting the signature value properties of those fields to the single `PDSignature` object create at the start.\n\nE.g. you can use a method like this to add additional signature fields:\n\n    void addSignatureField(PDDocument pdDocument, PDPage pdPage, PDRectangle rectangle, PDSignature signature) throws IOException {\n        PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n        List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n\n        PDSignatureField signatureField = new PDSignatureField(acroForm);\n        signatureField.setSignature(signature);\n        PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n        acroFormFields.add(signatureField);\n\n        widget.setRectangle(rectangle);\n        widget.setPage(pdPage);\n\n        // from PDVisualSigBuilder.createHolderForm()\n        PDStream stream = new PDStream(pdDocument);\n        PDFormXObject form = new PDFormXObject(stream);\n        PDResources res = new PDResources();\n        form.setResources(res);\n        form.setFormType(1);\n        PDRectangle bbox = new PDRectangle(rectangle.getWidth(), rectangle.getHeight());\n        float height = bbox.getHeight();\n\n        form.setBBox(bbox);\n        PDFont font = PDType1Font.HELVETICA_BOLD;\n\n        // from PDVisualSigBuilder.createAppearanceDictionary()\n        PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n        appearance.getCOSObject().setDirect(true);\n        PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\n        appearance.setNormalAppearance(appearanceStream);\n        widget.setAppearance(appearance);\n\n        try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream))\n        {\n            // show background (just for debugging, to see the rect size + position)\n            cs.setNonStrokingColor(Color.yellow);\n            cs.addRect(-5000, -5000, 10000, 10000);\n            cs.fill();\n\n            float fontSize = 10;\n            float leading = fontSize * 1.5f;\n            cs.beginText();\n            cs.setFont(font, fontSize);\n            cs.setNonStrokingColor(Color.black);\n            cs.newLineAtOffset(fontSize, height - leading);\n            cs.setLeading(leading);\n            cs.showText(&quot;Signature text&quot;);\n            cs.newLine();\n            cs.showText(&quot;some additional Information&quot;);\n            cs.newLine();\n            cs.showText(&quot;let&#39;s keep talking&quot;);\n            cs.endText();\n        }\n\n        pdPage.getAnnotations().add(widget);\n        \n        COSDictionary pageTreeObject = pdPage.getCOSObject(); \n        while (pageTreeObject != null) {\n            pageTreeObject.setNeedToBeUpdated(true);\n            pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\n        }\n    }\n\n*([CreateMultipleVisualizations][4] helper method)*\n\n(This method actually is based on the `CreateVisibleSignature2.createVisualSignatureTemplate` method from the pdfbox examples artifact but severely simplified and now used to create the actual signature fields, not merely a template to copy from.)\n\nUsed like this\n\n    try (   InputStream resource = PDF_SOURCE_STREAM;\n            OutputStream result = PDF_TARGET_STREAM;\n            PDDocument pdDocument = PDDocument.load(resource)   )\n    {\n        PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n        if (acroForm == null) {\n            pdDocument.getDocumentCatalog().setAcroForm(acroForm = new PDAcroForm(pdDocument));\n        }\n        acroForm.setSignaturesExist(true);\n        acroForm.setAppendOnly(true);\n        acroForm.getCOSObject().setDirect(true);\n\n        PDRectangle rectangle = new PDRectangle(100, 600, 300, 100);\n        PDSignature signature = new PDSignature();\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n        signature.setName(&quot;Example User&quot;);\n        signature.setLocation(&quot;Los Angeles, CA&quot;);\n        signature.setReason(&quot;Testing&quot;);\n        signature.setSignDate(Calendar.getInstance());\n        pdDocument.addSignature(signature, this);\n\n        for (PDPage pdPage : pdDocument.getPages()) {\n            addSignatureField(pdDocument, pdPage, rectangle, signature);\n        }\n\n        pdDocument.saveIncremental(result);\n    }\n\n*([CreateMultipleVisualizations][5] test `testCreateSignatureWithMultipleVisualizations`)*\n\none retrieves a PDF with a signature visualization on each page of the result document (and an extra invisible one because I was a bit lazy) but only a single actual signature value (given that `this` implements `SignatureInterface` with the `byte[] sign(InputStream)` method).\n\nBeware, though:\n\n* The `PDSignatureField` method `setSignature` has been deprecated in PDFBox 3.0.0-SNAPSHOT. You might eventually have to inject the `PDSignature` object using more low-level techniques.\n* This kind of multi-visualization signature is not wanted by the PDF specification teams. Chances are that they eventually will be forbidden.\n\n  [1]: https://i.stack.imgur.com/GKdYw.jpg\n  [2]: https://security.stackexchange.com/a/35131/16096\n  [3]: https://stackoverflow.com/a/47762053/1729265\n  [4]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L130\n  [5]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L95","title":"Multiple signs using PDFBox 2.0.12 Java","body":"<p>In a comment you clarified what you want to achieve:</p>\n<blockquote>\n<p>I tried to applying one signature to multiple place.</p>\n</blockquote>\n<p>As discussed in the first section below this is not what your code does: your code attempts to apply <em>multiple signatures</em> to <em>one place each</em> in a <em>single revision</em> which is impossible as also explained there.</p>\n<p>Applying a <em>single signature</em> to <em>multiple places</em> in a <em>single revision</em>, on the other hand, is not desired by the PDF specification team and some approaches to implement this have been made invalid by the specification, but it is possible as explained in the second section below.</p>\n<h3>Your approach, and why it cannot work</h3>\n<p>You appear to try to apply multiple signatures in one pass:</p>\n<pre><code>if (isPasswordPresent) {\n    documentFinal = PDDocument.load(new File(PDFpath), pdfPasswordForEncryption);\n} else {\n    documentFinal = PDDocument.load(new File(PDFpath));\n}\n\nfor (int i = 1; i &lt; 4; i++) {\n    FileInputStream image2 = new FileInputStream(tickImagePath);\n\n    PDSignature pdsignature = new PDSignature();\n\n    [...]\n\n    try {\n        [...]\n\n        if (visibleSignatureProp.isVisualSignEnabled()) {\n            [...]\n            documentFinal.addSignature(pdsignature, this, this.options);\n        } else {\n            documentFinal.addSignature(pdsignature, this);\n        }\n    } catch (Exception e) {\n        System.out.println(&quot;Inside getSignOnPdf sub exception block at addSignature:&quot; + e + &quot;error :&quot; + e.getMessage());\n        e.printStackTrace();\n    }\n}\n\nsynchronized (this) {\n    [...]\n    saveIncrementalForSign(saveIncrementalSignObject);\n}\n</code></pre>\n<p>This cannot work.</p>\n<p>In PDFs multiple signatures are applied one after the other in separate PDF revisions, not all in parallel in the same revision:</p>\n<p><img src=\"https://i.stack.imgur.com/GKdYw.jpg\" alt=\"image\" /></p>\n<p>You can find some backgrounds in <a href=\"https://security.stackexchange.com/a/35131/16096\">this answer</a> and the documents referenced from there.</p>\n<p>Thus, in pseudo code what you have to do instead is:</p>\n<pre><code>for (int i = 1; i &lt; 4; i++) {\n    load current version of the PDF;\n    apply the i'th signature;\n    save and sign as new current version of the PDF;\n}\n</code></pre>\n<p>The method name <code>PDDocument.addSignature</code> might be a little misleading here as it might be assumed to imply that multiple signatures may be added. This is not the case; all signatures will be created as signature fields with their widgets but only the field of the last added <code>PDSignature</code> will actually be signed, so only this last added signature field will actually have a sensible value.</p>\n<p>@Tilman - there probably should be a test in <code>PDDocument.addSignature</code> throwing an exception if a signature already has been added since loading the document.</p>\n<h3>A discussion of your actual task</h3>\n<p>The path of PDF objects from a signature visualization on a PDF page to the actual signature (the CMS signature container in case of CMS based subfilters) is not immediate. Instead we have</p>\n<ul>\n<li>the PDF page, in its annotations referencing</li>\n<li>the signature field widget (the signature visualization) belonging to</li>\n<li>the signature field referencing</li>\n<li>the signature value dictionary into which the CMS signature container is embedded.</li>\n</ul>\n<p>For the implementation of your actual task,</p>\n<blockquote>\n<p>applying one signature to multiple places,</p>\n</blockquote>\n<p>therefore, there appear to be a number of options to get from multiple pages with signature appearances to the single signature container:</p>\n<ol>\n<li>All pages with signature visualizations pointing to the same single widget annotation of the single signature field with the value dictionary containing the signature container.</li>\n<li>Each page with signature visualizations pointing to their own widget, but all widgets belonging to the same single signature field with the value dictionary containing the signature container.</li>\n<li>Each page with signature visualizations pointing to their own widget, each widget belonging to a separate signature field, but all of them pointing to the same value dictionary containing the signature container.</li>\n</ol>\n<p>Let's now look at the PDF specification ISO 32000-2. First of all it warns against having single signatures with multiple visualizations:</p>\n<blockquote>\n<p>The location of a signature within a document can have a bearing on its legal meaning. [...]</p>\n<p>If more than one location is associated with a signature, the meaning can become ambiguous.</p>\n</blockquote>\n<p><em>(ISO 32000-2, section 12.7.5.5 &quot;Signature fields&quot;)</em></p>\n<p>Consequentially, the specification attempts to forbid single signatures with multiple visualizations:</p>\n<blockquote>\n<p>A given annotation dictionary shall be referenced from the <strong>Annots</strong> array of only one page.</p>\n</blockquote>\n<p><em>(ISO 32000-2, section 12.5.2 &quot;Annotation dictionaries&quot;)</em></p>\n<p>This forbids option 1 above.</p>\n<blockquote>\n<p>signature fields shall never refer to more than one annotation</p>\n</blockquote>\n<p><em>(ISO 32000-2, section 12.7.5.5 &quot;Signature fields&quot;)</em></p>\n<p>This forbids option 2.</p>\n<p>Apparently, though, option 3 is not explicitly forbidden. For generic form fields value object sharing is even explicitly allowed as the form field value is inheritable!</p>\n<p>Thus, strictly speaking creating signatures with multiple visualizations is possible using option 3.</p>\n<p>Please be aware, though, that it clearly was not intended by the PDF specification team to allow them, it most likely was an oversight. Thus, you have to reckon that some upcoming corrigenda to the specification will eventually forbid option 3, too.</p>\n<p>If you want to try nonetheless, it should be possible to tweak or patch PDFBox to create single signatures with multiple visualizations using the approach of option 3.</p>\n<p>It has already proven possible for e.g. iText, cf. <a href=\"https://stackoverflow.com/a/47762053/1729265\">this answer</a>.</p>\n<p>Furthermore, the sample document you shared makes use of this option.</p>\n<h3>A proof of concept</h3>\n<p>As it turns out, it is pretty easy to create a multi-visualization PDF signature using PDFBox along the lines of option 3. In particular it is easier than doing this with iText, cf. <a href=\"https://stackoverflow.com/a/47762053/1729265\">the answer referenced above</a>, because the signature value dictionary here is an object one creates and handles oneself while in iText it is created under the hood and just in time.</p>\n<p>All one has to do is to create one <code>PDSignature</code> object and generate one signature with it normally (using <code>PDDocument.addSignature</code>) and then add as many other signature fields as one wants, setting the signature value properties of those fields to the single <code>PDSignature</code> object create at the start.</p>\n<p>E.g. you can use a method like this to add additional signature fields:</p>\n<pre><code>void addSignatureField(PDDocument pdDocument, PDPage pdPage, PDRectangle rectangle, PDSignature signature) throws IOException {\n    PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n    List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n\n    PDSignatureField signatureField = new PDSignatureField(acroForm);\n    signatureField.setSignature(signature);\n    PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n    acroFormFields.add(signatureField);\n\n    widget.setRectangle(rectangle);\n    widget.setPage(pdPage);\n\n    // from PDVisualSigBuilder.createHolderForm()\n    PDStream stream = new PDStream(pdDocument);\n    PDFormXObject form = new PDFormXObject(stream);\n    PDResources res = new PDResources();\n    form.setResources(res);\n    form.setFormType(1);\n    PDRectangle bbox = new PDRectangle(rectangle.getWidth(), rectangle.getHeight());\n    float height = bbox.getHeight();\n\n    form.setBBox(bbox);\n    PDFont font = PDType1Font.HELVETICA_BOLD;\n\n    // from PDVisualSigBuilder.createAppearanceDictionary()\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n    appearance.getCOSObject().setDirect(true);\n    PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\n    appearance.setNormalAppearance(appearanceStream);\n    widget.setAppearance(appearance);\n\n    try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream))\n    {\n        // show background (just for debugging, to see the rect size + position)\n        cs.setNonStrokingColor(Color.yellow);\n        cs.addRect(-5000, -5000, 10000, 10000);\n        cs.fill();\n\n        float fontSize = 10;\n        float leading = fontSize * 1.5f;\n        cs.beginText();\n        cs.setFont(font, fontSize);\n        cs.setNonStrokingColor(Color.black);\n        cs.newLineAtOffset(fontSize, height - leading);\n        cs.setLeading(leading);\n        cs.showText(&quot;Signature text&quot;);\n        cs.newLine();\n        cs.showText(&quot;some additional Information&quot;);\n        cs.newLine();\n        cs.showText(&quot;let's keep talking&quot;);\n        cs.endText();\n    }\n\n    pdPage.getAnnotations().add(widget);\n    \n    COSDictionary pageTreeObject = pdPage.getCOSObject(); \n    while (pageTreeObject != null) {\n        pageTreeObject.setNeedToBeUpdated(true);\n        pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L130\" rel=\"nofollow noreferrer\">CreateMultipleVisualizations</a> helper method)</em></p>\n<p>(This method actually is based on the <code>CreateVisibleSignature2.createVisualSignatureTemplate</code> method from the pdfbox examples artifact but severely simplified and now used to create the actual signature fields, not merely a template to copy from.)</p>\n<p>Used like this</p>\n<pre><code>try (   InputStream resource = PDF_SOURCE_STREAM;\n        OutputStream result = PDF_TARGET_STREAM;\n        PDDocument pdDocument = PDDocument.load(resource)   )\n{\n    PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n    if (acroForm == null) {\n        pdDocument.getDocumentCatalog().setAcroForm(acroForm = new PDAcroForm(pdDocument));\n    }\n    acroForm.setSignaturesExist(true);\n    acroForm.setAppendOnly(true);\n    acroForm.getCOSObject().setDirect(true);\n\n    PDRectangle rectangle = new PDRectangle(100, 600, 300, 100);\n    PDSignature signature = new PDSignature();\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n    signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n    signature.setName(&quot;Example User&quot;);\n    signature.setLocation(&quot;Los Angeles, CA&quot;);\n    signature.setReason(&quot;Testing&quot;);\n    signature.setSignDate(Calendar.getInstance());\n    pdDocument.addSignature(signature, this);\n\n    for (PDPage pdPage : pdDocument.getPages()) {\n        addSignatureField(pdDocument, pdPage, rectangle, signature);\n    }\n\n    pdDocument.saveIncremental(result);\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L95\" rel=\"nofollow noreferrer\">CreateMultipleVisualizations</a> test <code>testCreateSignatureWithMultipleVisualizations</code>)</em></p>\n<p>one retrieves a PDF with a signature visualization on each page of the result document (and an extra invisible one because I was a bit lazy) but only a single actual signature value (given that <code>this</code> implements <code>SignatureInterface</code> with the <code>byte[] sign(InputStream)</code> method).</p>\n<p>Beware, though:</p>\n<ul>\n<li>The <code>PDSignatureField</code> method <code>setSignature</code> has been deprecated in PDFBox 3.0.0-SNAPSHOT. You might eventually have to inject the <code>PDSignature</code> object using more low-level techniques.</li>\n<li>This kind of multi-visualization signature is not wanted by the PDF specification teams. Chances are that they eventually will be forbidden.</li>\n</ul>\n"}],"owner":{"account_id":7008044,"reputation":58,"user_id":5371830,"display_name":"rak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2836,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52834362,"answer_count":1,"score":0,"last_activity_date":1697834193,"creation_date":1539672843,"question_id":52829507,"body_markdown":"I was trying to add multiple signatures in a single PDF on stamper. I am able to add multiple stampers. In my case on one, I was getting the error\r\n\r\n&gt; at least one signature is invalid.\r\n&gt; Also need to make valid all signature.\r\n\r\nHow can I want to add multiple valid signs in a single PDF document?\r\n\r\nIn the image, only one sign is valid and other signs are invalid, so what am I doing wrong?\r\n\r\nMy code snapshot is below:\r\n\r\n    public void getSignOnPdf(Map&lt;Integer, byte[]&gt; PdfSigneture1, List&lt;Long&gt; documentIds, List&lt;String&gt; calTimeStamp,\r\n            String originalPdfReadServerPath, String tickImagePath, int serverTime, int pageNumberToInsertStamp,\r\n            String name, String location, String reasonForSign, int xCo_ordinates, int yCo_ordinates,\r\n            int signatureWidth, int signatureHeight, String pdfPassword, String internal_outputFinalPdfPath)\r\n            throws Exception {\r\n        String pdfReadServerPath = null;\r\n        String l_slash = new String();\r\n        String originalPDFPath = new String(originalPdfReadServerPath.trim());\r\n\r\n        boolean isCorrectPDFOutputPath = false;\r\n        String aspOutputPdfServerPath = null;\r\n        synchronized (this) {\r\n            if ((internal_outputFinalPdfPath != null) &amp;&amp; (!internal_outputFinalPdfPath.trim().isEmpty())) {\r\n                System.out.println(&quot;[&quot; + EsignCommonFuntion.generateTimeStampForLog()\r\n                        + &quot;] :1--&gt;  outputFinalPdfPath is: &quot; + internal_outputFinalPdfPath);\r\n                if (!(new File(internal_outputFinalPdfPath)).isFile()) {\r\n                    isCorrectPDFOutputPath = true;\r\n                    aspOutputPdfServerPath = internal_outputFinalPdfPath;\r\n                } else {\r\n                    System.out.println(&quot;1--&gt; Please provide directory path for outputFinalPdfPath: &quot;\r\n                            .concat(String.valueOf(internal_outputFinalPdfPath)));\r\n                }\r\n            } else {\r\n                System.out.println(&quot; 1--&gt; outputFinalPdfPath is empty or null: &quot;\r\n                        .concat(String.valueOf(internal_outputFinalPdfPath)));\r\n            }\r\n        }\r\n        boolean isPasswordPresent = false;\r\n        String pdfPasswordForEncryption;\r\n        synchronized (this) {\r\n            if ((pdfPassword != null) &amp;&amp; (!pdfPassword.trim().isEmpty())) {\r\n                pdfPasswordForEncryption = pdfPassword.trim();\r\n                isPasswordPresent = true;\r\n            } else {\r\n                pdfPasswordForEncryption = null;\r\n            }\r\n            String pdfOriginalName = (new File(originalPDFPath)).getName();\r\n            String pdfAbsolutePath = originalPDFPath.substring(0, originalPDFPath.lastIndexOf(l_slash));\r\n            if (isPasswordPresent) {\r\n                pdfAbsolutePath = getEncryptedPdfName(originalPDFPath, pdfAbsolutePath + l_slash,\r\n                        pdfPasswordForEncryption, pdfOriginalName);\r\n                pdfReadServerPath = new String(pdfAbsolutePath);\r\n            } else {\r\n                pdfReadServerPath = originalPDFPath;\r\n            }\r\n        }\r\n        ArrayList&lt;String&gt; unSignedFilesList = new ArrayList&lt;String&gt;();\r\n\r\n        Map&lt;Integer, byte[]&gt; l_PdfSigneture = PdfSigneture1;\r\n\r\n        int actual_pageNumForStamp = 1;\r\n\r\n        String pdfFileName = (new File(pdfReadServerPath)).getName();\r\n\r\n        FileOutputStream fos = null;\r\n\r\n        String nameToShowInSignature = name;\r\n        String locationToShowInSignature = location;\r\n        String reasonForSignatureSign = reasonForSign;\r\n\r\n        PDDocument documentFinal = null;\r\n        try {\r\n            pdfReadServerPath = pdfReadServerPath.substring(0, pdfReadServerPath.lastIndexOf(l_slash));\r\n            System.out.println(&quot;inside getSignOnMethod pdfAbsolutePath:&quot;.concat(String.valueOf(pdfReadServerPath)));\r\n            unSignedFilesList.add(pdfFileName);\r\n            System.out.println(&quot;inside getSignOnMethod pdfFileName:&quot;.concat(String.valueOf(pdfFileName)));\r\n\r\n            String PDFpath = pdfReadServerPath + l_slash + (String) (unSignedFilesList).get(0);\r\n\r\n            System.out.println(&quot;Inside for PDFpath: &quot;.concat(String.valueOf(PDFpath)));\r\n\r\n            String finalOutputPdfName = ((String) (unSignedFilesList).get(0)).substring(0,\r\n                    ((String) (unSignedFilesList).get(0)).lastIndexOf(&quot;.&quot;)) + &quot;_signedFinal.pdf&quot;;\r\n\r\n            File outFile2 = null;\r\n\r\n            if (isCorrectPDFOutputPath) {\r\n                System.out.println(&quot;if condition Final signed PDF ouptut Path: &quot; + aspOutputPdfServerPath + l_slash\r\n                        + finalOutputPdfName);\r\n                outFile2 = new File(aspOutputPdfServerPath + l_slash + finalOutputPdfName);\r\n                fos = new FileOutputStream(outFile2);\r\n            } else {\r\n                outFile2 = new File(pdfReadServerPath + l_slash + outFile2);\r\n                fos = new FileOutputStream(outFile2);\r\n            }\r\n\r\n            documentFinal = PDDocument.load(new File(PDFpath));\r\n\r\n            for (int i = 1; i &lt; 4; i++) {\r\n                FileInputStream image2 = new FileInputStream(tickImagePath);\r\n\r\n                PDSignature pdsignature = new PDSignature();\r\n                pdsignature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n                pdsignature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n\r\n                Calendar cal = GregorianCalendar.getInstance();\r\n                SimpleDateFormat l_simpleDateFormater = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\r\n                String timeStamp = (String) calTimeStamp.get(i - 1);\r\n\r\n                try {\r\n                    cal.setTime(l_simpleDateFormater.parse(timeStamp));\r\n                } catch (ParseException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n\r\n                cal.add(12, serverTime);\r\n                pdsignature.setSignDate(cal);\r\n                documentFinal.setDocumentId((Long) documentIds.get(i - 1));\r\n\r\n                String dateToShowInSignature = cal.getTime().toString();\r\n\r\n                Float saveIncrementalObj1 = null;\r\n                saveIncrementalObj1 = new Float((float) xCo_ordinates, (float) yCo_ordinates, (float) signatureWidth,\r\n                        (float) signatureHeight);\r\n\r\n                PDRectangle rect = getPDRectangle(documentFinal, saveIncrementalObj1, i);\r\n                PDVisibleSignDesigner visibleSig;\r\n                (visibleSig = new PDVisibleSignDesigner(documentFinal, image2, i)).xAxis(xCo_ordinates)\r\n                        .yAxis(yCo_ordinates).zoom(-95.0F).signatureFieldName(&quot;signature&quot;);\r\n\r\n                PDVisibleSigProperties visibleSignatureProp = new PDVisibleSigProperties();\r\n\r\n                visibleSignatureProp.signerName(&quot;name&quot;).signerLocation(&quot;location&quot;).signatureReason(&quot;Security&quot;)\r\n                        .preferredSize(0).page(i - 1).visualSignEnabled(true).setPdVisibleSignature(visibleSig)\r\n                        .buildSignature();\r\n                try {\r\n                    PdfSigneture = new TreeMap&lt;&gt;();\r\n                    // PdfSigneture.clear();\r\n                    PdfSigneture = l_PdfSigneture;\r\n\r\n                    if (visibleSignatureProp.isVisualSignEnabled()) {\r\n                        this.options = new SignatureOptions();\r\n                        this.options.setVisualSignature(visibleSignatureProp);\r\n                        this.options.setPage(visibleSignatureProp.getPage());\r\n                        this.options.setVisualSignature(\r\n                                getInputStream(documentFinal, i, rect, tickImagePath, nameToShowInSignature,\r\n                                        locationToShowInSignature, dateToShowInSignature, reasonForSignatureSign));\r\n                        documentFinal.addSignature(pdsignature, this, this.options);\r\n                    } else {\r\n                        documentFinal.addSignature(pdsignature, this);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            synchronized (this) {\r\n                SaveIncrementalSignObject saveIncrementalSignObject;\r\n                (saveIncrementalSignObject = new SaveIncrementalSignObject()).setFos(fos);\r\n                saveIncrementalSignObject.setPDDocumentFromFile(documentFinal);\r\n\r\n                saveIncrementalForSign(saveIncrementalSignObject);\r\n            }\r\n        } catch (Exception localException2) {\r\n            System.out.println(&quot;Insidemethod -- Exception block&quot; + localException2.getMessage());\r\n            return;\r\n        } finally {\r\n            fos.flush();\r\n            if (fos != null) {\r\n                fos.close();\r\n            }\r\n            documentFinal.close();\r\n        }\r\n    }\r\n\r\n    public static synchronized void saveIncrementalForSign(SaveIncrementalSignObject p_SaveIncrementalObj) {\r\n        PDDocument documentFinal = null;\r\n        try {\r\n            (documentFinal = p_SaveIncrementalObj.getPDDocumentFromFile())\r\n                    .saveIncremental(p_SaveIncrementalObj.getFos());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            try {\r\n            //                documentFinal.close();\r\n                return;\r\n            } catch (Exception eX) {\r\n                eX.printStackTrace();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Multiple signs using PDFBox 2.0.12 Java","body":"<p>I was trying to add multiple signatures in a single PDF on stamper. I am able to add multiple stampers. In my case on one, I was getting the error</p>\n<blockquote>\n<p>at least one signature is invalid.\nAlso need to make valid all signature.</p>\n</blockquote>\n<p>How can I want to add multiple valid signs in a single PDF document?</p>\n<p>In the image, only one sign is valid and other signs are invalid, so what am I doing wrong?</p>\n<p>My code snapshot is below:</p>\n<pre><code>public void getSignOnPdf(Map&lt;Integer, byte[]&gt; PdfSigneture1, List&lt;Long&gt; documentIds, List&lt;String&gt; calTimeStamp,\n        String originalPdfReadServerPath, String tickImagePath, int serverTime, int pageNumberToInsertStamp,\n        String name, String location, String reasonForSign, int xCo_ordinates, int yCo_ordinates,\n        int signatureWidth, int signatureHeight, String pdfPassword, String internal_outputFinalPdfPath)\n        throws Exception {\n    String pdfReadServerPath = null;\n    String l_slash = new String();\n    String originalPDFPath = new String(originalPdfReadServerPath.trim());\n\n    boolean isCorrectPDFOutputPath = false;\n    String aspOutputPdfServerPath = null;\n    synchronized (this) {\n        if ((internal_outputFinalPdfPath != null) &amp;&amp; (!internal_outputFinalPdfPath.trim().isEmpty())) {\n            System.out.println(&quot;[&quot; + EsignCommonFuntion.generateTimeStampForLog()\n                    + &quot;] :1--&gt;  outputFinalPdfPath is: &quot; + internal_outputFinalPdfPath);\n            if (!(new File(internal_outputFinalPdfPath)).isFile()) {\n                isCorrectPDFOutputPath = true;\n                aspOutputPdfServerPath = internal_outputFinalPdfPath;\n            } else {\n                System.out.println(&quot;1--&gt; Please provide directory path for outputFinalPdfPath: &quot;\n                        .concat(String.valueOf(internal_outputFinalPdfPath)));\n            }\n        } else {\n            System.out.println(&quot; 1--&gt; outputFinalPdfPath is empty or null: &quot;\n                    .concat(String.valueOf(internal_outputFinalPdfPath)));\n        }\n    }\n    boolean isPasswordPresent = false;\n    String pdfPasswordForEncryption;\n    synchronized (this) {\n        if ((pdfPassword != null) &amp;&amp; (!pdfPassword.trim().isEmpty())) {\n            pdfPasswordForEncryption = pdfPassword.trim();\n            isPasswordPresent = true;\n        } else {\n            pdfPasswordForEncryption = null;\n        }\n        String pdfOriginalName = (new File(originalPDFPath)).getName();\n        String pdfAbsolutePath = originalPDFPath.substring(0, originalPDFPath.lastIndexOf(l_slash));\n        if (isPasswordPresent) {\n            pdfAbsolutePath = getEncryptedPdfName(originalPDFPath, pdfAbsolutePath + l_slash,\n                    pdfPasswordForEncryption, pdfOriginalName);\n            pdfReadServerPath = new String(pdfAbsolutePath);\n        } else {\n            pdfReadServerPath = originalPDFPath;\n        }\n    }\n    ArrayList&lt;String&gt; unSignedFilesList = new ArrayList&lt;String&gt;();\n\n    Map&lt;Integer, byte[]&gt; l_PdfSigneture = PdfSigneture1;\n\n    int actual_pageNumForStamp = 1;\n\n    String pdfFileName = (new File(pdfReadServerPath)).getName();\n\n    FileOutputStream fos = null;\n\n    String nameToShowInSignature = name;\n    String locationToShowInSignature = location;\n    String reasonForSignatureSign = reasonForSign;\n\n    PDDocument documentFinal = null;\n    try {\n        pdfReadServerPath = pdfReadServerPath.substring(0, pdfReadServerPath.lastIndexOf(l_slash));\n        System.out.println(&quot;inside getSignOnMethod pdfAbsolutePath:&quot;.concat(String.valueOf(pdfReadServerPath)));\n        unSignedFilesList.add(pdfFileName);\n        System.out.println(&quot;inside getSignOnMethod pdfFileName:&quot;.concat(String.valueOf(pdfFileName)));\n\n        String PDFpath = pdfReadServerPath + l_slash + (String) (unSignedFilesList).get(0);\n\n        System.out.println(&quot;Inside for PDFpath: &quot;.concat(String.valueOf(PDFpath)));\n\n        String finalOutputPdfName = ((String) (unSignedFilesList).get(0)).substring(0,\n                ((String) (unSignedFilesList).get(0)).lastIndexOf(&quot;.&quot;)) + &quot;_signedFinal.pdf&quot;;\n\n        File outFile2 = null;\n\n        if (isCorrectPDFOutputPath) {\n            System.out.println(&quot;if condition Final signed PDF ouptut Path: &quot; + aspOutputPdfServerPath + l_slash\n                    + finalOutputPdfName);\n            outFile2 = new File(aspOutputPdfServerPath + l_slash + finalOutputPdfName);\n            fos = new FileOutputStream(outFile2);\n        } else {\n            outFile2 = new File(pdfReadServerPath + l_slash + outFile2);\n            fos = new FileOutputStream(outFile2);\n        }\n\n        documentFinal = PDDocument.load(new File(PDFpath));\n\n        for (int i = 1; i &lt; 4; i++) {\n            FileInputStream image2 = new FileInputStream(tickImagePath);\n\n            PDSignature pdsignature = new PDSignature();\n            pdsignature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            pdsignature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n\n            Calendar cal = GregorianCalendar.getInstance();\n            SimpleDateFormat l_simpleDateFormater = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\n            String timeStamp = (String) calTimeStamp.get(i - 1);\n\n            try {\n                cal.setTime(l_simpleDateFormater.parse(timeStamp));\n            } catch (ParseException ex) {\n                ex.printStackTrace();\n            }\n\n            cal.add(12, serverTime);\n            pdsignature.setSignDate(cal);\n            documentFinal.setDocumentId((Long) documentIds.get(i - 1));\n\n            String dateToShowInSignature = cal.getTime().toString();\n\n            Float saveIncrementalObj1 = null;\n            saveIncrementalObj1 = new Float((float) xCo_ordinates, (float) yCo_ordinates, (float) signatureWidth,\n                    (float) signatureHeight);\n\n            PDRectangle rect = getPDRectangle(documentFinal, saveIncrementalObj1, i);\n            PDVisibleSignDesigner visibleSig;\n            (visibleSig = new PDVisibleSignDesigner(documentFinal, image2, i)).xAxis(xCo_ordinates)\n                    .yAxis(yCo_ordinates).zoom(-95.0F).signatureFieldName(&quot;signature&quot;);\n\n            PDVisibleSigProperties visibleSignatureProp = new PDVisibleSigProperties();\n\n            visibleSignatureProp.signerName(&quot;name&quot;).signerLocation(&quot;location&quot;).signatureReason(&quot;Security&quot;)\n                    .preferredSize(0).page(i - 1).visualSignEnabled(true).setPdVisibleSignature(visibleSig)\n                    .buildSignature();\n            try {\n                PdfSigneture = new TreeMap&lt;&gt;();\n                // PdfSigneture.clear();\n                PdfSigneture = l_PdfSigneture;\n\n                if (visibleSignatureProp.isVisualSignEnabled()) {\n                    this.options = new SignatureOptions();\n                    this.options.setVisualSignature(visibleSignatureProp);\n                    this.options.setPage(visibleSignatureProp.getPage());\n                    this.options.setVisualSignature(\n                            getInputStream(documentFinal, i, rect, tickImagePath, nameToShowInSignature,\n                                    locationToShowInSignature, dateToShowInSignature, reasonForSignatureSign));\n                    documentFinal.addSignature(pdsignature, this, this.options);\n                } else {\n                    documentFinal.addSignature(pdsignature, this);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        synchronized (this) {\n            SaveIncrementalSignObject saveIncrementalSignObject;\n            (saveIncrementalSignObject = new SaveIncrementalSignObject()).setFos(fos);\n            saveIncrementalSignObject.setPDDocumentFromFile(documentFinal);\n\n            saveIncrementalForSign(saveIncrementalSignObject);\n        }\n    } catch (Exception localException2) {\n        System.out.println(&quot;Insidemethod -- Exception block&quot; + localException2.getMessage());\n        return;\n    } finally {\n        fos.flush();\n        if (fos != null) {\n            fos.close();\n        }\n        documentFinal.close();\n    }\n}\n\npublic static synchronized void saveIncrementalForSign(SaveIncrementalSignObject p_SaveIncrementalObj) {\n    PDDocument documentFinal = null;\n    try {\n        (documentFinal = p_SaveIncrementalObj.getPDDocumentFromFile())\n                .saveIncremental(p_SaveIncrementalObj.getFos());\n    } catch (Exception e) {\n        e.printStackTrace();\n        try {\n        //                documentFinal.close();\n            return;\n        } catch (Exception eX) {\n            eX.printStackTrace();\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jfrog-cli","jfrog-xray"],"answers":[{"comments":[{"owner":{"account_id":26466408,"reputation":31,"user_id":20107530,"display_name":"Inderjeet Chawla"},"score":0,"creation_date":1698231420,"post_id":77333612,"comment_id":136378100,"body_markdown":"This Rate limit exceeded error . doesn&#39;t it seem like that the api call is not even accepted as , in rate limit on no of calls that can be made in a specific time ? Row error should throw a different message , ig no?","body":"This Rate limit exceeded error . doesn&#39;t it seem like that the api call is not even accepted as , in rate limit on no of calls that can be made in a specific time ? Row error should throw a different message , ig no?"}],"tags":[],"owner":{"account_id":21820300,"reputation":66,"user_id":16116584,"display_name":"Dor Tambour"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697833572,"creation_date":1697833572,"answer_id":77333612,"question_id":77323164,"body_markdown":"There are 2 possible reasons for this error:\r\n\r\n**Row limit:** \r\nXray is limiting reports to 100,000 rows by default. larger reports will fail. In order to fix that you can increase the value in the [system.yaml][1] file ($JFROG_HOME/var/etc):\r\n\r\n    server:\r\n      reports:\r\n        rowLimit: 1000000 \r\n\r\nAnother option is to use more filtered results for your report using the API payload.\r\n\r\n**Number of reports limit**: \r\nXray is limiting the reports that are in the database to 100 to prevent performance issues in the work against the database.\r\nYou can increase the number but it&#39;s not recommended, instead, you can export old reports and delete them in order to generate new reports.  \r\n\r\n\r\n\r\n  [1]: https://jfrog.com/help/r/jfrog-installation-setup-documentation/xray-system-yaml","title":"Getting rate limit error in Jfrog xrays report api","body":"<p>There are 2 possible reasons for this error:</p>\n<p><strong>Row limit:</strong>\nXray is limiting reports to 100,000 rows by default. larger reports will fail. In order to fix that you can increase the value in the <a href=\"https://jfrog.com/help/r/jfrog-installation-setup-documentation/xray-system-yaml\" rel=\"nofollow noreferrer\">system.yaml</a> file ($JFROG_HOME/var/etc):</p>\n<pre><code>server:\n  reports:\n    rowLimit: 1000000 \n</code></pre>\n<p>Another option is to use more filtered results for your report using the API payload.</p>\n<p><strong>Number of reports limit</strong>:\nXray is limiting the reports that are in the database to 100 to prevent performance issues in the work against the database.\nYou can increase the number but it's not recommended, instead, you can export old reports and delete them in order to generate new reports.</p>\n"}],"owner":{"account_id":26466408,"reputation":31,"user_id":20107530,"display_name":"Inderjeet Chawla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697833572,"creation_date":1697712834,"question_id":77323164,"body_markdown":"whenever i try to hit this request end point. &quot;/xray/api/v1/reports/vulnerabilities&quot;\r\n. I am getting Java&#39;s IoException . with the message of\r\n Rate limit detected, retrying later . \r\nAny idea what could be causing this , or in which direction to look ? \r\nCan&#39;t find much about this on internet , also it is coming in customer&#39;s account. \r\nSo not sure about what could be causing this .\r\nAny help is appreciated .","title":"Getting rate limit error in Jfrog xrays report api","body":"<p>whenever i try to hit this request end point. &quot;/xray/api/v1/reports/vulnerabilities&quot;\n. I am getting Java's IoException . with the message of\nRate limit detected, retrying later .\nAny idea what could be causing this , or in which direction to look ?\nCan't find much about this on internet , also it is coming in customer's account.\nSo not sure about what could be causing this .\nAny help is appreciated .</p>\n"},{"tags":["java","swing","jar","exe","executable-jar"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1363353330,"post_id":15433424,"comment_id":21829018,"body_markdown":"There is no standard for running Java through .exe launchers. You posed a very specific question, asking for general advice.","body":"There is no standard for running Java through .exe launchers. You posed a very specific question, asking for general advice."},{"owner":{"account_id":369779,"reputation":25497,"user_id":717341,"accept_rate":93,"display_name":"Lukas Knuth"},"score":3,"creation_date":1363353491,"post_id":15433424,"comment_id":21829140,"body_markdown":"The problem might be that the &quot;other&quot; computer does not have a JRE installed.","body":"The problem might be that the &quot;other&quot; computer does not have a JRE installed."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1363354086,"post_id":15433424,"comment_id":21829542,"body_markdown":"Do check the JAVA version installed on the other machines and your machine too. Hope both of them are using the same version.","body":"Do check the JAVA version installed on the other machines and your machine too. Hope both of them are using the same version."},{"owner":{"account_id":1626958,"reputation":87,"user_id":1502308,"accept_rate":0,"display_name":"user1502308"},"score":1,"creation_date":1363357974,"post_id":15433424,"comment_id":21832084,"body_markdown":"Yes java is installed and the version are same jdk 1.6 and jre6 :)","body":"Yes java is installed and the version are same jdk 1.6 and jre6 :)"}],"answers":[{"comments":[{"owner":{"account_id":1626958,"reputation":87,"user_id":1502308,"accept_rate":0,"display_name":"user1502308"},"score":0,"creation_date":1363354160,"post_id":15433525,"comment_id":21829603,"body_markdown":"How do I add the java run time environment ?","body":"How do I add the java run time environment ?"},{"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"score":0,"creation_date":1363354721,"post_id":15433525,"comment_id":21829936,"body_markdown":"You will need to read that product&#39;s manuals etc for information there, I don&#39;t know it specifically I&#39;m afraid","body":"You will need to read that product&#39;s manuals etc for information there, I don&#39;t know it specifically I&#39;m afraid"}],"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363353541,"creation_date":1363353541,"answer_id":15433525,"question_id":15433424,"body_markdown":"I would pretty much expect something like Launch4j to take care of all your packaging requirements; did it give you options to &quot;include all dependencies&quot; that you didn&#39;t click &quot;YES&quot; to...? \r\n\r\nIt sounds like it&#39;s packaged your app, but possibly not the Java runtime envt it needs to run your app.","title":"How to run a java executable file on other computer","body":"<p>I would pretty much expect something like Launch4j to take care of all your packaging requirements; did it give you options to \"include all dependencies\" that you didn't click \"YES\" to...? </p>\n\n<p>It sounds like it's packaged your app, but possibly not the Java runtime envt it needs to run your app.</p>\n"},{"comments":[{"owner":{"account_id":1626958,"reputation":87,"user_id":1502308,"accept_rate":0,"display_name":"user1502308"},"score":0,"creation_date":1363420498,"post_id":15433626,"comment_id":21853632,"body_markdown":"Hey! Thank you so much . It is running using Excelsior JET. Thanks once again. :) ( because It takes in all the corresponding files with it and create a proper package ).","body":"Hey! Thank you so much . It is running using Excelsior JET. Thanks once again. :) ( because It takes in all the corresponding files with it and create a proper package )."}],"tags":[],"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363353862,"creation_date":1363353862,"answer_id":15433626,"question_id":15433424,"body_markdown":"Try giving him the JAR file and see if he can run that. If he can, It&#39;s a problem with Launch4j, if he can&#39;t it&#39;s a problem with Java.\r\n\r\nAlternatively try something like Excelsior JET instead.","title":"How to run a java executable file on other computer","body":"<p>Try giving him the JAR file and see if he can run that. If he can, It's a problem with Launch4j, if he can't it's a problem with Java.</p>\n\n<p>Alternatively try something like Excelsior JET instead.</p>\n"},{"comments":[{"owner":{"account_id":1626958,"reputation":87,"user_id":1502308,"accept_rate":0,"display_name":"user1502308"},"score":0,"creation_date":1363357933,"post_id":15433630,"comment_id":21832057,"body_markdown":"No there is only one jar of the whole project that I created using Netbeans and the &#39;dont wrap jar is not ticked &#39; :)","body":"No there is only one jar of the whole project that I created using Netbeans and the &#39;dont wrap jar is not ticked &#39; :)"}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363353881,"creation_date":1363353881,"answer_id":15433630,"question_id":15433424,"body_markdown":"&gt; Class NewJframe.firstfile couldnot be found\r\n\r\nLaunch4J only bundles your application&#39;s main JAR file inside the .exe (or not even that if you select &quot;don&#39;t wrap JAR&quot;) - any other JARs that the main one depends on must be present in the same relative locations, you can&#39;t necessarily copy _just_ the .exe.","title":"How to run a java executable file on other computer","body":"<blockquote>\n  <p>Class NewJframe.firstfile couldnot be found</p>\n</blockquote>\n\n<p>Launch4J only bundles your application's main JAR file inside the .exe (or not even that if you select \"don't wrap JAR\") - any other JARs that the main one depends on must be present in the same relative locations, you can't necessarily copy <em>just</em> the .exe.</p>\n"}],"owner":{"account_id":1626958,"reputation":87,"user_id":1502308,"accept_rate":0,"display_name":"user1502308"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3235,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697833527,"creation_date":1363353182,"question_id":15433424,"body_markdown":"I made a small application using Java Swings and then created a jar file of the project using &#39;clean and build&#39; option in Netbeans. Then, I converted that .jar file in a .exe file using the software &#39;Launch4j&#39; and it was perfectly running on my laptop. However when I tried running that exe file on other laptop. It displayed the error: Class NewJframe.firstfile couldnot be found.\r\n( I made the database on the other laptop also with MySql Connection).\r\n\r\nPlease help me clarify why I am getting this error.\r\nAlso, I would like to know what all are the requirements to run an .exe file on other computer  which I made from a .jar file?\r\n","title":"How to run a java executable file on other computer","body":"<p>I made a small application using Java Swings and then created a jar file of the project using 'clean and build' option in Netbeans. Then, I converted that .jar file in a .exe file using the software 'Launch4j' and it was perfectly running on my laptop. However when I tried running that exe file on other laptop. It displayed the error: Class NewJframe.firstfile couldnot be found.\n( I made the database on the other laptop also with MySql Connection).</p>\n\n<p>Please help me clarify why I am getting this error.\nAlso, I would like to know what all are the requirements to run an .exe file on other computer  which I made from a .jar file?</p>\n"},{"tags":["java","maven","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1697717940,"post_id":77323614,"comment_id":136316615,"body_markdown":"Maven has only a minimum required JDK version (8) for Maven 3.9.X (https://maven.apache.org/docs/history.html) Maven will run up to JDK 21 ...https://github.com/khmarbaise/jdk21 / https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/","body":"Maven has only a minimum required JDK version (8) for Maven 3.9.X (<a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>) Maven will run up to JDK 21 ...<a href=\"https://github.com/khmarbaise/jdk21\" rel=\"nofollow noreferrer\">github.com/khmarbaise/jdk21</a> / <a href=\"https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/\" rel=\"nofollow noreferrer\">blog.soebes.io/posts/2023/06/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1697717946,"post_id":77323614,"comment_id":136316616,"body_markdown":"I don&#39;t think this is answerable ... since compatibility is also going to depend on the versions of the maven plugins that you could possibly be using.","body":"I don&#39;t think this is answerable ... since compatibility is also going to depend on the versions of the maven plugins that you could possibly be using."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697718282,"post_id":77323614,"comment_id":136316696,"body_markdown":"All of the most recent plugin versions (https://maven.apache.org/plugins/) working... also can be checked via https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html","body":"All of the most recent plugin versions (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) working... also can be checked via <a href=\"https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html\" rel=\"nofollow noreferrer\">ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-t&zwnj;&#8203;ool/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1697718339,"post_id":77323614,"comment_id":136316710,"body_markdown":"Maybe the author of the post can explain what is meant by compatibility and what kind of problems you have?","body":"Maybe the author of the post can explain what is meant by compatibility and what kind of problems you have?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1697782769,"post_id":77323614,"comment_id":136325330,"body_markdown":"What is the underlying reason you need to know this?","body":"What is the underlying reason you need to know this?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":3,"creation_date":1697790832,"post_id":77323614,"comment_id":136326644,"body_markdown":"There is usually no reason to use a Maven version before 3.8.x.","body":"There is usually no reason to use a Maven version before 3.8.x."}],"answers":[{"comments":[{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":0,"creation_date":1697834304,"post_id":77333532,"comment_id":136334088,"body_markdown":"PS: The default plugin versions per release can be found under a page with the bulky name &quot;Plugin Bindings for default Lifecycle&quot;: https://maven.apache.org/ref/3.9.5/maven-core/default-bindings.html","body":"PS: The default plugin versions per release can be found under a page with the bulky name &quot;Plugin Bindings for default Lifecycle&quot;: <a href=\"https://maven.apache.org/ref/3.9.5/maven-core/default-bindings.html\" rel=\"nofollow noreferrer\">maven.apache.org/ref/3.9.5/maven-core/default-bindings.html</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697970184,"post_id":77333532,"comment_id":136343810,"body_markdown":"There is one misconception in this answer. Mixing the support of particular features (the mentioned one not related)  and building with JDK21 or other versions..Also I wrote the most recent versions... Some words about maven-shade-plugin and JPMS could not work and will not because the maven-shade-plugin will break the idea of JPMS (intentionally it does so)... so it does not make sense...The usage of https instead of http for central is based on security and is not related to JDK version... (https://blog.sonatype.com/central-repository-moving-to-https) nor with Maven itself...","body":"There is one misconception in this answer. Mixing the support of particular features (the mentioned one not related)  and building with JDK21 or other versions..Also I wrote the most recent versions... Some words about maven-shade-plugin and JPMS could not work and will not because the maven-shade-plugin will break the idea of JPMS (intentionally it does so)... so it does not make sense...The usage of https instead of http for central is based on security and is not related to JDK version... (<a href=\"https://blog.sonatype.com/central-repository-moving-to-https\" rel=\"nofollow noreferrer\">blog.sonatype.com/central-repository-moving-to-https</a>) nor with Maven itself..."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1698133987,"post_id":77333532,"comment_id":136363287,"body_markdown":"A very clear answer for a question that can&#39;t be answered clearly ;)","body":"A very clear answer for a question that can&#39;t be answered clearly ;)"}],"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697833276,"creation_date":1697832512,"answer_id":77333532,"question_id":77323614,"body_markdown":"This question cannot be answered clearly. The reason is, that [Maven][1] is organized in [plugins][2]. And the plugins are responsible for executing the corresponding tools of the JDK and other tasks. For example:\r\n\r\n* [`maven-compiler-plugin`][3]: executes `javac` (or more specifically uses `javax.tools.JavaCompiler` by default).\r\n* [`maven-jar-plugin`][4]: assembles the `.jar` (it does that autonomously without using the `jar` command).\r\n* etc.\r\n\r\nIt is also a common (and good) practice to have the plugin versions explicitly defined in the `pom.xml`.\r\n\r\nSince Java has been quite gentle regarding backwards compatibility of artifacts so far (that strategy seems to [shift a bit][5] for the sake of security) it is able to execute Maven releases from ages ago. So there are uncountable options of version combinations (actually the root cause is that Java lacks of shipping it&#39;s own proper build tool and does not have a default repo like `nodejs` has with `npm` - a gap that Maven and [Gradle][6] are filling up).\r\n\r\nAt the same time Maven is very gentle regarding upwards compatibility of its plugins as long as the same model version is used (which has been version 3 for a long time now) and other dependencies are compatible, most importantly [Plexus][7].\r\n\r\nFor example you can run Maven and compile Java 17 sources using the [oldest Maven 3 version available][8] - which is **3.0**, dating back to 2010. Even a `modules-info.java` is compiled correctly, because Java is responsible for it - not Maven. However this version has configured central repositories [using `http` instead of `https`][9], which is rejected by the servers by now, but you could change that configuration of course.\r\n\r\nSupported features is another thing. For example the [`--release`][10] option added to `javac` with Java 9 is supported by `maven-compiler-plugin` from 3.6.x and newer (specified through `maven.compiler.release`). However even with Maven 3.0 you can use `maven-compiler-plugin` 3.10.1, which has been released 12 years later (it stops working with 3.11.0, though).\r\n\r\nLets take another feature example: Java 9 Modules. There are still some Maven plugins, that do not fully support it, like the [`maven-shade-plugin`][11]. It can modify regular classes, but [not a `modules-info.class`][12].\r\n\r\nFinally let me rephrase your questions to\r\n\r\n&gt; What is the oldest Maven version usable out of the box without configuration changes?*\r\n\r\n**3.2.3**\r\n\r\n&gt; Is it compatible with Java 17?\r\n\r\nBasically, yes\r\n\r\n&gt; Is it recommended to be used?\r\n\r\nDefinitely, no\r\n\r\n&gt; What is the recommended version?\r\n\r\nThe latest, **3.9.5***\r\n\r\n&gt; Do **all** Maven plugins around have a version fully compatible with the latest Java version?\r\n\r\nNo. There will never be.\r\n\r\n\\* as the time of writing\r\n\r\n\r\n  [1]: https://maven.apache.org/index.html\r\n  [2]: https://maven.apache.org/plugins/index.html\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/index.html\r\n  [4]: https://maven.apache.org/plugins/maven-jar-plugin/\r\n  [5]: https://openjdk.org/jeps/451\r\n  [6]: https://gradle.org/\r\n  [7]: https://codehaus-plexus.github.io/\r\n  [8]: https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.0/\r\n  [9]: https://maven.apache.org/docs/3.2.3/release-notes.html#switch-access-to-maven-central-to-https-mng-5672\r\n  [10]: https://docs.oracle.com/javase/9/tools/javac.htm#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-D343F6B4-3FDD-43A8-AD24-43DD70214471\r\n  [11]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [12]: https://issues.apache.org/jira/browse/MSHADE-234","title":"Minimum and maximum version of Maven compatible with Java 17","body":"<p>This question cannot be answered clearly. The reason is, that <a href=\"https://maven.apache.org/index.html\" rel=\"nofollow noreferrer\">Maven</a> is organized in <a href=\"https://maven.apache.org/plugins/index.html\" rel=\"nofollow noreferrer\">plugins</a>. And the plugins are responsible for executing the corresponding tools of the JDK and other tasks. For example:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/index.html\" rel=\"nofollow noreferrer\"><code>maven-compiler-plugin</code></a>: executes <code>javac</code> (or more specifically uses <code>javax.tools.JavaCompiler</code> by default).</li>\n<li><a href=\"https://maven.apache.org/plugins/maven-jar-plugin/\" rel=\"nofollow noreferrer\"><code>maven-jar-plugin</code></a>: assembles the <code>.jar</code> (it does that autonomously without using the <code>jar</code> command).</li>\n<li>etc.</li>\n</ul>\n<p>It is also a common (and good) practice to have the plugin versions explicitly defined in the <code>pom.xml</code>.</p>\n<p>Since Java has been quite gentle regarding backwards compatibility of artifacts so far (that strategy seems to <a href=\"https://openjdk.org/jeps/451\" rel=\"nofollow noreferrer\">shift a bit</a> for the sake of security) it is able to execute Maven releases from ages ago. So there are uncountable options of version combinations (actually the root cause is that Java lacks of shipping it's own proper build tool and does not have a default repo like <code>nodejs</code> has with <code>npm</code> - a gap that Maven and <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> are filling up).</p>\n<p>At the same time Maven is very gentle regarding upwards compatibility of its plugins as long as the same model version is used (which has been version 3 for a long time now) and other dependencies are compatible, most importantly <a href=\"https://codehaus-plexus.github.io/\" rel=\"nofollow noreferrer\">Plexus</a>.</p>\n<p>For example you can run Maven and compile Java 17 sources using the <a href=\"https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.0/\" rel=\"nofollow noreferrer\">oldest Maven 3 version available</a> - which is <strong>3.0</strong>, dating back to 2010. Even a <code>modules-info.java</code> is compiled correctly, because Java is responsible for it - not Maven. However this version has configured central repositories <a href=\"https://maven.apache.org/docs/3.2.3/release-notes.html#switch-access-to-maven-central-to-https-mng-5672\" rel=\"nofollow noreferrer\">using <code>http</code> instead of <code>https</code></a>, which is rejected by the servers by now, but you could change that configuration of course.</p>\n<p>Supported features is another thing. For example the <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-D343F6B4-3FDD-43A8-AD24-43DD70214471\" rel=\"nofollow noreferrer\"><code>--release</code></a> option added to <code>javac</code> with Java 9 is supported by <code>maven-compiler-plugin</code> from 3.6.x and newer (specified through <code>maven.compiler.release</code>). However even with Maven 3.0 you can use <code>maven-compiler-plugin</code> 3.10.1, which has been released 12 years later (it stops working with 3.11.0, though).</p>\n<p>Lets take another feature example: Java 9 Modules. There are still some Maven plugins, that do not fully support it, like the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\"><code>maven-shade-plugin</code></a>. It can modify regular classes, but <a href=\"https://issues.apache.org/jira/browse/MSHADE-234\" rel=\"nofollow noreferrer\">not a <code>modules-info.class</code></a>.</p>\n<p>Finally let me rephrase your questions to</p>\n<blockquote>\n<p>What is the oldest Maven version usable out of the box without configuration changes?*</p>\n</blockquote>\n<p><strong>3.2.3</strong></p>\n<blockquote>\n<p>Is it compatible with Java 17?</p>\n</blockquote>\n<p>Basically, yes</p>\n<blockquote>\n<p>Is it recommended to be used?</p>\n</blockquote>\n<p>Definitely, no</p>\n<blockquote>\n<p>What is the recommended version?</p>\n</blockquote>\n<p>The latest, <strong>3.9.5</strong>*</p>\n<blockquote>\n<p>Do <strong>all</strong> Maven plugins around have a version fully compatible with the latest Java version?</p>\n</blockquote>\n<p>No. There will never be.</p>\n<p>* as the time of writing</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77333532,"answer_count":1,"score":-1,"last_activity_date":1697833276,"creation_date":1697717178,"question_id":77323614,"body_markdown":"As of the title, I am searching the range of Maven versions that ensures compatibility with Java 17, but I can&#39;t find anything on web or in Maven documentation.","title":"Minimum and maximum version of Maven compatible with Java 17","body":"<p>As of the title, I am searching the range of Maven versions that ensures compatibility with Java 17, but I can't find anything on web or in Maven documentation.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1697830989,"post_id":77333405,"comment_id":136333664,"body_markdown":"Based on the error and your code, you are probably running out of memory, by trying to hold an entire base64-encoded large PDF in memory at once. Instead, try streaming the content: read some, convert that portion, write out that portion, and continue from there.","body":"Based on the error and your code, you are probably running out of memory, by trying to hold an entire base64-encoded large PDF in memory at once. Instead, try streaming the content: read some, convert that portion, write out that portion, and continue from there."},{"owner":{"account_id":19839090,"reputation":632,"user_id":14551576,"display_name":"pilotman"},"score":0,"creation_date":1697838164,"post_id":77333405,"comment_id":136334577,"body_markdown":"@CommonsWare thanks for the input. The only issue with splitting it bit by bit is the base 64 contains the formatting of the PDF as well. So trying to write it differently will result in corrupted formatting.","body":"@CommonsWare thanks for the input. The only issue with splitting it bit by bit is the base 64 contains the formatting of the PDF as well. So trying to write it differently will result in corrupted formatting."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1697842978,"post_id":77333405,"comment_id":136335066,"body_markdown":"While base64 encoding has been obsolete for a very long time, it was designed to be decoded in chunks.","body":"While base64 encoding has been obsolete for a very long time, it was designed to be decoded in chunks."}],"owner":{"account_id":19839090,"reputation":632,"user_id":14551576,"display_name":"pilotman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697830765,"creation_date":1697830765,"question_id":77333405,"body_markdown":"I have a ionic capacitor and my app is deployed on android. In the app the use can generate PDF reports, which on the angular side seemed to crash the app for large files due to webview memory limitations. \r\n\r\nSo instead I decided to use the native android side utilising the Capacitor bridge like so: \r\n\r\n```\r\n@CapacitorPlugin(name = &quot;Echo&quot;)\r\npublic class EchoPlugin extends Plugin {\r\n\r\n\r\n  private final StringBuilder base64StringBuilder = new StringBuilder();\r\n\r\n  @PluginMethod()\r\n  public void echo(PluginCall call) throws IOException {\r\n    String base64Chunk = call.getString(&quot;value&quot;);\r\n\r\n    if (base64Chunk != null) {\r\n      String base64WithoutPrefix = base64Chunk.replaceFirst(&quot;data:application/pdf;base64,&quot;, &quot;&quot;);\r\n\r\n      if (base64WithoutPrefix.equals(&quot;LAST_CHUNK_SIGNAL&quot;)) {\r\n        // This is the signal for the last chunk\r\n        String completeBase64Data = base64StringBuilder.toString();\r\n        base64StringBuilder.setLength(0); // Clear the StringBuilder for the next data\r\n\r\n        // Now, `completeBase64Data` contains all chunks\r\n        JSObject ret = new JSObject();\r\n        File outputFile = new File(getContext().getFilesDir(), &quot;output.pdf&quot;);\r\n\r\n        FileOutputStream fos = new FileOutputStream(outputFile);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n          fos.write(Base64.getDecoder().decode(completeBase64Data));\r\n        }\r\n        fos.close();\r\n\r\n        ret.put(&quot;value&quot;, outputFile.getAbsolutePath());\r\n        openPdf(outputFile.getAbsolutePath());\r\n        call.resolve(ret);\r\n      } else {\r\n        base64StringBuilder.append(base64WithoutPrefix);\r\n\r\n        JSObject ret = new JSObject();\r\n        ret.put(&quot;value&quot;, &quot;Chunk processed.&quot;);\r\n        call.resolve(ret);\r\n      }\r\n    } else {\r\n      call.reject(&quot;Invalid chunk.&quot;);\r\n    }\r\n  }\r\n\r\n  public void openPdf(String param) {\r\n\r\n    try {\r\n      Intent intent = new Intent(Intent.ACTION_VIEW);\r\n      File file = new File(param);\r\n      Uri fileUri = FileProvider.getUriForFile(getContext(), &quot;com.gmail.myapp.myapp.fileprovider&quot;, file);\r\n\r\n      intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n      intent.setDataAndType(fileUri, &quot;application/pdf&quot;);\r\n\r\n      this.getContext().startActivity(intent);\r\n    } catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nFor smaller files this works perfectly. For larger files it also works without crashing, all until I try to open it in openPdf in which case the pdf will open but the app will crash with the following error in logcat: \r\n\r\n```\r\n[INFO:render_frame_host_impl.cc(11505)] RenderFrameHostImpl::MaybeGenerateCrashReport url = http://localhost/nav/reports, status = 0, exit_code = 0\r\n\r\n[ERROR:aw_browser_terminator.cc(156)] Renderer process (13517) crash detected (code -1).\r\n\r\n[ERROR:aw_browser_terminator.cc(112)] Render process (13517) kill (OOM or update) wasn&#39;t handed by all associated webviews, killing application.\r\n```\r\n\r\n\r\nWondering if anyone can think of any solutions. If I don&#39;t try to open it then no issues. (Note these pdf files can be around 100mb in side in extreme scenarios) For the majority of my users its on the lower end \r\n\r\n\r\nThanks ","title":"Opening a large file crashes my android application","body":"<p>I have a ionic capacitor and my app is deployed on android. In the app the use can generate PDF reports, which on the angular side seemed to crash the app for large files due to webview memory limitations.</p>\n<p>So instead I decided to use the native android side utilising the Capacitor bridge like so:</p>\n<pre><code>@CapacitorPlugin(name = &quot;Echo&quot;)\npublic class EchoPlugin extends Plugin {\n\n\n  private final StringBuilder base64StringBuilder = new StringBuilder();\n\n  @PluginMethod()\n  public void echo(PluginCall call) throws IOException {\n    String base64Chunk = call.getString(&quot;value&quot;);\n\n    if (base64Chunk != null) {\n      String base64WithoutPrefix = base64Chunk.replaceFirst(&quot;data:application/pdf;base64,&quot;, &quot;&quot;);\n\n      if (base64WithoutPrefix.equals(&quot;LAST_CHUNK_SIGNAL&quot;)) {\n        // This is the signal for the last chunk\n        String completeBase64Data = base64StringBuilder.toString();\n        base64StringBuilder.setLength(0); // Clear the StringBuilder for the next data\n\n        // Now, `completeBase64Data` contains all chunks\n        JSObject ret = new JSObject();\n        File outputFile = new File(getContext().getFilesDir(), &quot;output.pdf&quot;);\n\n        FileOutputStream fos = new FileOutputStream(outputFile);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n          fos.write(Base64.getDecoder().decode(completeBase64Data));\n        }\n        fos.close();\n\n        ret.put(&quot;value&quot;, outputFile.getAbsolutePath());\n        openPdf(outputFile.getAbsolutePath());\n        call.resolve(ret);\n      } else {\n        base64StringBuilder.append(base64WithoutPrefix);\n\n        JSObject ret = new JSObject();\n        ret.put(&quot;value&quot;, &quot;Chunk processed.&quot;);\n        call.resolve(ret);\n      }\n    } else {\n      call.reject(&quot;Invalid chunk.&quot;);\n    }\n  }\n\n  public void openPdf(String param) {\n\n    try {\n      Intent intent = new Intent(Intent.ACTION_VIEW);\n      File file = new File(param);\n      Uri fileUri = FileProvider.getUriForFile(getContext(), &quot;com.gmail.myapp.myapp.fileprovider&quot;, file);\n\n      intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n      intent.setDataAndType(fileUri, &quot;application/pdf&quot;);\n\n      this.getContext().startActivity(intent);\n    } catch (Exception e) {\n      System.out.println(e);\n    }\n  }\n}\n\n\n\n</code></pre>\n<p>For smaller files this works perfectly. For larger files it also works without crashing, all until I try to open it in openPdf in which case the pdf will open but the app will crash with the following error in logcat:</p>\n<pre><code>[INFO:render_frame_host_impl.cc(11505)] RenderFrameHostImpl::MaybeGenerateCrashReport url = http://localhost/nav/reports, status = 0, exit_code = 0\n\n[ERROR:aw_browser_terminator.cc(156)] Renderer process (13517) crash detected (code -1).\n\n[ERROR:aw_browser_terminator.cc(112)] Render process (13517) kill (OOM or update) wasn't handed by all associated webviews, killing application.\n</code></pre>\n<p>Wondering if anyone can think of any solutions. If I don't try to open it then no issues. (Note these pdf files can be around 100mb in side in extreme scenarios) For the majority of my users its on the lower end</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle","jacoco"],"comments":[{"owner":{"account_id":1208913,"reputation":309,"user_id":1177850,"display_name":"mascha"},"score":2,"creation_date":1531236887,"post_id":51267421,"comment_id":89516657,"body_markdown":"Are the CSV or XML reports generated if you enable them?","body":"Are the CSV or XML reports generated if you enable them?"},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1531240666,"post_id":51267421,"comment_id":89518796,"body_markdown":"Thanks @mascha (+1) but **no**, when I enable XML/CSV reporting they aren&#39;t generated either with `./gradlew clean build`.","body":"Thanks @mascha (+1) but <b>no</b>, when I enable XML/CSV reporting they aren&#39;t generated either with <code>.&#47;gradlew clean build</code>."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"score":0,"creation_date":1648555257,"post_id":51267421,"comment_id":126649025,"body_markdown":"If the problem continues despite of applying the workarounds, you may have a look at my answer on [maven jacoco: not generating code coverage report](https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614).","body":"If the problem continues despite of applying the workarounds, you may have a look at my answer on <a href=\"https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614\">maven jacoco: not generating code coverage report</a>."}],"answers":[{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":3,"creation_date":1531240923,"post_id":51269243,"comment_id":89518931,"body_markdown":"Thank you @mascha (+1) - but adding `html.destination file(&quot;${buildDir}/jacocoHtml&quot;)` to my `reports` closure doesn&#39;t do anything either. **Interestingly enough** when I invoke Gradle via `./gradlew clean build jacocoTestReport`, if I have adequate test coverage, then the report gets generated! Its only when I run `./gradlew clean build jacocoTestReport` **AND** coverage doesn&#39;t meet my 70% threshold that the build just fails and no reports are generated under `build/reports`!!!","body":"Thank you @mascha (+1) - but adding <code>html.destination file(&quot;${buildDir}&#47;jacocoHtml&quot;)</code> to my <code>reports</code> closure doesn&#39;t do anything either. <b>Interestingly enough</b> when I invoke Gradle via <code>.&#47;gradlew clean build jacocoTestReport</code>, if I have adequate test coverage, then the report gets generated! Its only when I run <code>.&#47;gradlew clean build jacocoTestReport</code> <b>AND</b> coverage doesn&#39;t meet my 70% threshold that the build just fails and no reports are generated under <code>build&#47;reports</code>!!!"}],"tags":[],"owner":{"account_id":1208913,"reputation":309,"user_id":1177850,"display_name":"mascha"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531236848,"creation_date":1531236848,"answer_id":51269243,"question_id":51267421,"body_markdown":"From the docu https://docs.gradle.org/current/userguide/jacoco_plugin.html\r\nThe HTML report is enabled by default. So it is not necessary to put `html.enabled` in the configuration. Also, the docu shows how to specify a destination folder. You could try to set it to some known folder to check if it works at all, e.g. `html.destination file(&quot;${buildDir}/jacocoHtml&quot;)`. The default report directory where the HTML report should end up is `$buildDir/reports/jacoco/test`\r\nSetting the Jacoco report directory to some explicit value could also help to identify any configuration issues `reportsDir`.","title":"Gradle Jacoco plugin not generating reports","body":"<p>From the docu <a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/jacoco_plugin.html</a>\nThe HTML report is enabled by default. So it is not necessary to put <code>html.enabled</code> in the configuration. Also, the docu shows how to specify a destination folder. You could try to set it to some known folder to check if it works at all, e.g. <code>html.destination file(\"${buildDir}/jacocoHtml\")</code>. The default report directory where the HTML report should end up is <code>$buildDir/reports/jacoco/test</code>\nSetting the Jacoco report directory to some explicit value could also help to identify any configuration issues <code>reportsDir</code>.</p>\n"},{"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1531253058,"creation_date":1531252424,"answer_id":51273048,"question_id":51267421,"body_markdown":"Please note, that the Gradle Jacoco plugin does provide two totally unrelated functionalities:\r\n\r\n - It can generate coverage reports (task type [`JacocoReport`](https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html))\r\n - It can enforce code metrics, e.g. by letting the build fail (task type [`JacocoCoverageVerification`](https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoCoverageVerification.html))\r\n\r\nIf the plugin is applied together with the Java Plugin, a task of each of the mentioned types is created, namely `jacocoTestReport` and `jacocoTestCoverageVerification`. As you can see by the name both of them are associated with the `test` task. \r\n\r\nHowever, none of those tasks is automatically included into the regular Gradle `build` lifecycle. The reason for not including the report task is simply because it&#39;s not necessary for actually building the actual software. For the same reason, the `javadoc` task is not included in the `build` lifecycle (it might be when creating a javadoc jar). The reason for not including the verification task is trickier, but let&#39;s simply quote the docs:\r\n\r\n&gt; The `JacocoCoverageVerification` task is not a task dependency of the `check` task provided by the Java plugin. There is a good reason for it. The task is currently not incremental as it doesn&#39;t declare any outputs. Any violation of the declared rules would automatically result in a failed build when executing the check task. This behavior might not be desirable for all users. Future versions of Gradle might change the behavior.\r\n\r\nYou already solved this problem by adding `check.dependsOn jacocoTestCoverageVerification` to your build file. This way, the code coverage will be checked with each build (and fail if not sufficient). Now you want to generate the report in all builds, even if it fails due to unsufficient code coverage. You need to ensure that the report is generated **before** the build might fail. You could use:\r\n\r\n    jacocoTestCoverageVerification.dependsOn jacocoTestReport","title":"Gradle Jacoco plugin not generating reports","body":"<p>Please note, that the Gradle Jacoco plugin does provide two totally unrelated functionalities:</p>\n\n<ul>\n<li>It can generate coverage reports (task type <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html\" rel=\"noreferrer\"><code>JacocoReport</code></a>)</li>\n<li>It can enforce code metrics, e.g. by letting the build fail (task type <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoCoverageVerification.html\" rel=\"noreferrer\"><code>JacocoCoverageVerification</code></a>)</li>\n</ul>\n\n<p>If the plugin is applied together with the Java Plugin, a task of each of the mentioned types is created, namely <code>jacocoTestReport</code> and <code>jacocoTestCoverageVerification</code>. As you can see by the name both of them are associated with the <code>test</code> task. </p>\n\n<p>However, none of those tasks is automatically included into the regular Gradle <code>build</code> lifecycle. The reason for not including the report task is simply because it's not necessary for actually building the actual software. For the same reason, the <code>javadoc</code> task is not included in the <code>build</code> lifecycle (it might be when creating a javadoc jar). The reason for not including the verification task is trickier, but let's simply quote the docs:</p>\n\n<blockquote>\n  <p>The <code>JacocoCoverageVerification</code> task is not a task dependency of the <code>check</code> task provided by the Java plugin. There is a good reason for it. The task is currently not incremental as it doesn't declare any outputs. Any violation of the declared rules would automatically result in a failed build when executing the check task. This behavior might not be desirable for all users. Future versions of Gradle might change the behavior.</p>\n</blockquote>\n\n<p>You already solved this problem by adding <code>check.dependsOn jacocoTestCoverageVerification</code> to your build file. This way, the code coverage will be checked with each build (and fail if not sufficient). Now you want to generate the report in all builds, even if it fails due to unsufficient code coverage. You need to ensure that the report is generated <strong>before</strong> the build might fail. You could use:</p>\n\n<pre><code>jacocoTestCoverageVerification.dependsOn jacocoTestReport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29718665,"reputation":1,"user_id":22776531,"display_name":"prakash aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697830150,"creation_date":1697830150,"answer_id":77333372,"question_id":51267421,"body_markdown":"in gradle 8.0+  version the syntax has changed \r\ntry using below code it works for me \r\n\r\n    jacocoTestReport {\r\n        reports {\r\n            xml.required = true\r\n            csv.required = true\r\n            html.required = true\r\n        }\r\n    }\r\n\r\n","title":"Gradle Jacoco plugin not generating reports","body":"<p>in gradle 8.0+  version the syntax has changed\ntry using below code it works for me</p>\n<pre><code>jacocoTestReport {\n    reports {\n        xml.required = true\n        csv.required = true\n        html.required = true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24462,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":51273048,"answer_count":3,"score":11,"last_activity_date":1697830150,"creation_date":1531231748,"question_id":51267421,"body_markdown":"Java 8 and Gradle 4.6 here. I&#39;m trying to configure my Gradle build to use the [Jacoco Plugin](https://docs.gradle.org/current/userguide/jacoco_plugin.html) but am having some difficulty. I&#39;ve already got it working with Checkstyle and Findbugs, such that running `./gradlew clean build` invokes the Checkstyle and Findbugs tasks because they&#39;re dependencies of the `check` task.\r\n\r\nI&#39;m now trying to get Jacoco working such that:\r\n\r\n1. It excludes my `com.me.myapp.domain.model` package and all of its contents; and\r\n2. It fails my build if code coverage on the non-excluded classes falls below 70%; and\r\n3. Pass or fail, I want an HTML version of the Jacoco report generated under the `build/` directory; and\r\n4. **Ideally** I could just use the same Gradle command invocation of `./gradlew clean build` to get Jacoco working like this\r\n\r\nMy best attempt thus far:\r\n\r\n    plugins {\r\n        id &#39;java-library&#39;\r\n        id &#39;checkstyle&#39;\r\n        id &#39;findbugs&#39;\r\n        id &#39;jacoco&#39;\r\n    }\r\n\r\n    dependencies {\r\n        compile(\r\n            &#39;org.hibernate:hibernate-core:5.0.12.Final&#39;\r\n            ,&#39;com.fasterxml.jackson.core:jackson-core:2.8.10&#39;\r\n            ,&#39;com.fasterxml.jackson.core:jackson-databind:2.8.10&#39;\r\n            ,&#39;com.fasterxml.jackson.core:jackson-annotations:2.8.0&#39;\r\n        )\r\n\r\n        testCompile(\r\n            &#39;junit:junit:4.12&#39;\r\n        )\r\n    }\r\n\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    checkstyle {\r\n        config = rootProject.resources.text.fromFile(&#39;buildConfig/checkstyle/checkstyle.xml&#39;)\r\n        toolVersion = &#39;8.11&#39;\r\n    }\r\n\r\n    tasks.withType(FindBugs) {\r\n        reports {\r\n            xml.enabled false\r\n            html.enabled true\r\n        }\r\n    }\r\n\r\n    findbugs {\r\n        excludeFilter = file(&#39;buildConfig/findbugs/findbugs-exclude.xml&#39;)\r\n    }\r\n\r\n    jacocoTestReport {\r\n        reports {\r\n            xml.enabled false\r\n            csv.enabled false\r\n            html.enabled true\r\n        }\r\n\r\n        afterEvaluate {\r\n            classDirectories = files(classDirectories.files.collect {\r\n                fileTree(dir: it,\r\n                    exclude: [\r\n                        &#39;com/me/myapp/domain/model/**&#39;\r\n                    ]\r\n                )\r\n            })\r\n        }\r\n    }\r\n\r\n    jacocoTestCoverageVerification {\r\n        violationRules {\r\n            rule {\r\n                limit {\r\n                    minimum = 0.7\r\n                }\r\n\r\n                failOnViolation true\r\n            }\r\n        }\r\n    }\r\n\r\n    jacoco {\r\n        toolVersion = &quot;0.8.1&quot;\r\n    }\r\n\r\n    // to run coverage verification during the build (and fail when appropriate)\r\n    check.dependsOn jacocoTestCoverageVerification\r\n\r\nWhen I run `./gradlew clean build` with the following `build.gradle` above (^^^) Jacoco *does* fail the build if my coverage is less than 70%. **However** it does not generate any HTML report for me, which is not helpful at all in terms of fixing it.\r\n\r\n**Any ideas?**","title":"Gradle Jacoco plugin not generating reports","body":"<p>Java 8 and Gradle 4.6 here. I'm trying to configure my Gradle build to use the <a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html\" rel=\"noreferrer\">Jacoco Plugin</a> but am having some difficulty. I've already got it working with Checkstyle and Findbugs, such that running <code>./gradlew clean build</code> invokes the Checkstyle and Findbugs tasks because they're dependencies of the <code>check</code> task.</p>\n\n<p>I'm now trying to get Jacoco working such that:</p>\n\n<ol>\n<li>It excludes my <code>com.me.myapp.domain.model</code> package and all of its contents; and</li>\n<li>It fails my build if code coverage on the non-excluded classes falls below 70%; and</li>\n<li>Pass or fail, I want an HTML version of the Jacoco report generated under the <code>build/</code> directory; and</li>\n<li><strong>Ideally</strong> I could just use the same Gradle command invocation of <code>./gradlew clean build</code> to get Jacoco working like this</li>\n</ol>\n\n<p>My best attempt thus far:</p>\n\n<pre><code>plugins {\n    id 'java-library'\n    id 'checkstyle'\n    id 'findbugs'\n    id 'jacoco'\n}\n\ndependencies {\n    compile(\n        'org.hibernate:hibernate-core:5.0.12.Final'\n        ,'com.fasterxml.jackson.core:jackson-core:2.8.10'\n        ,'com.fasterxml.jackson.core:jackson-databind:2.8.10'\n        ,'com.fasterxml.jackson.core:jackson-annotations:2.8.0'\n    )\n\n    testCompile(\n        'junit:junit:4.12'\n    )\n}\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ncheckstyle {\n    config = rootProject.resources.text.fromFile('buildConfig/checkstyle/checkstyle.xml')\n    toolVersion = '8.11'\n}\n\ntasks.withType(FindBugs) {\n    reports {\n        xml.enabled false\n        html.enabled true\n    }\n}\n\nfindbugs {\n    excludeFilter = file('buildConfig/findbugs/findbugs-exclude.xml')\n}\n\njacocoTestReport {\n    reports {\n        xml.enabled false\n        csv.enabled false\n        html.enabled true\n    }\n\n    afterEvaluate {\n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it,\n                exclude: [\n                    'com/me/myapp/domain/model/**'\n                ]\n            )\n        })\n    }\n}\n\njacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            limit {\n                minimum = 0.7\n            }\n\n            failOnViolation true\n        }\n    }\n}\n\njacoco {\n    toolVersion = \"0.8.1\"\n}\n\n// to run coverage verification during the build (and fail when appropriate)\ncheck.dependsOn jacocoTestCoverageVerification\n</code></pre>\n\n<p>When I run <code>./gradlew clean build</code> with the following <code>build.gradle</code> above (^^^) Jacoco <em>does</em> fail the build if my coverage is less than 70%. <strong>However</strong> it does not generate any HTML report for me, which is not helpful at all in terms of fixing it.</p>\n\n<p><strong>Any ideas?</strong></p>\n"},{"tags":["java","neovim","neovim-plugin","nvim-lspconfig"],"owner":{"account_id":23985353,"reputation":1,"user_id":17972232,"display_name":"hx84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697830128,"creation_date":1697830128,"question_id":77333370,"body_markdown":"for my many tries to configure JDTLS (in past I do it and it work very well) I can&#39;t do that. Something weird I observed that java standard packages (java.util.*, java.lang.* etc) aren&#39;t indexed. What can be a problem? [LSP outoup](https://i.stack.imgur.com/0cJ37.png)\r\n\r\nI used standard nvim-jdtls config:\r\n```lua\r\nlocal config = {\r\n    cmd = {&#39;/path/to/jdt-language-server/bin/jdtls&#39;},\r\n    root_dir = vim.fs.dirname(vim.fs.find({&#39;gradlew&#39;, &#39;.git&#39;, &#39;mvnw&#39;}, { upward = true })[1]),\r\n}\r\nrequire(&#39;jdtls&#39;).start_or_attach(config)\r\n```\r\n\r\nI tried Coc-jdtls, my own jdtls config, nvim-jdtls, java-language-server and every time problem is the same: standard java packages aren&#39;t indexed.","title":"NeoVim JDTLS configuration","body":"<p>for my many tries to configure JDTLS (in past I do it and it work very well) I can't do that. Something weird I observed that java standard packages (java.util.<em>, java.lang.</em> etc) aren't indexed. What can be a problem? <a href=\"https://i.stack.imgur.com/0cJ37.png\" rel=\"nofollow noreferrer\">LSP outoup</a></p>\n<p>I used standard nvim-jdtls config:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>local config = {\n    cmd = {'/path/to/jdt-language-server/bin/jdtls'},\n    root_dir = vim.fs.dirname(vim.fs.find({'gradlew', '.git', 'mvnw'}, { upward = true })[1]),\n}\nrequire('jdtls').start_or_attach(config)\n</code></pre>\n<p>I tried Coc-jdtls, my own jdtls config, nvim-jdtls, java-language-server and every time problem is the same: standard java packages aren't indexed.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7794680,"reputation":837,"user_id":5896263,"accept_rate":50,"display_name":"Conde"},"score":0,"creation_date":1693238854,"post_id":76900884,"comment_id":135731071,"body_markdown":"do you have any solution for this? I have the same error on Linux.","body":"do you have any solution for this? I have the same error on Linux."},{"owner":{"account_id":7794680,"reputation":837,"user_id":5896263,"accept_rate":50,"display_name":"Conde"},"score":0,"creation_date":1693239901,"post_id":76900884,"comment_id":135731266,"body_markdown":"UPDATE: Very strange, I changed the installation from my SSD to my HDD and it worked","body":"UPDATE: Very strange, I changed the installation from my SSD to my HDD and it worked"}],"answers":[{"tags":[],"owner":{"account_id":17430501,"reputation":11,"user_id":12634538,"display_name":"Brian Boynton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697829019,"creation_date":1697829019,"answer_id":77333292,"question_id":76900884,"body_markdown":"I had the same issue on Linux and finally deleted the entire Android Studio folder and reinstalled. I had updated into the previous folder and so suspect some old files were still in place causing issues. So a fresh install after deleting all past files worked for me.","title":"android studio does not start, dies with stack trace, how to find what is causing this","body":"<p>I had the same issue on Linux and finally deleted the entire Android Studio folder and reinstalled. I had updated into the previous folder and so suspect some old files were still in place causing issues. So a fresh install after deleting all past files worked for me.</p>\n"}],"owner":{"account_id":40384,"reputation":327,"user_id":117026,"display_name":"ms4720"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697829019,"creation_date":1692032836,"question_id":76900884,"body_markdown":"I am trying to learn/write flutter apps and android studio keeps blowing up on start up.  Below are the first couple of errors that android studio prints when it starts and next is the error that pops up in the popup that android studio displays with an ok button.  this is repeatable and happens across multiple versions after reinstalling on my laptop.  Using this guide I tried to delete anything that could be causing the problem as well, https://www.geeksforgeeks.org/how-to-completely-uninstall-android-studio-on-windows/ , and it is not working.  Java is spitting out ovw 2000 lines of errors messages and stack traces, this is confusing.  I looked at https://code.google.com/p/android/issues for help and I did not find anything that helped. Thanks for the help \r\n\r\n- OS: windows 10\r\n- Android Studio: 2022.3.1.18\r\n- Android studio JRE: 17.0.6+0-b2043.56-10027231 amd64 (JetBrains s.r.o.)\r\n\r\n\r\n```\r\nbin $ .\\studio.bat\r\nCompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\r\n2023-08-14 12:02:31,575 [   6419]   WARN - #c.i.i.p.PluginManager - `include` is supported only on a root level ([row,col,system-id]: [176,5,&quot;C:\\Users\\ms472\\scoop\\apps\\android-studio\\2022.3.1.18\\plugins\\Kotlin\\lib\\kotlin-idea.jar&quot;])\r\n2023-08-14 12:02:32,374 [   7218] SEVERE - #c.i.i.ApplicationLoader - Receiver class com.android.tools.idea.startup.AndroidPluginInitializer does not define or inherit an implementation of the resolved method &#39;abstract void beforeApplicationLoaded(com.intellij.openapi.application.Application, java.nio.file.Path)&#39; of interface com.intellij.ide.ApplicationLoadListener.\r\njava.lang.AbstractMethodError: Receiver class com.android.tools.idea.startup.AndroidPluginInitializer does not define or inherit an implementation of the resolved method &#39;abstract void beforeApplicationLoaded(com.intellij.openapi.application.Application, java.nio.file.Path)&#39; of interface com.intellij.ide.ApplicationLoadListener.\r\n        at com.intellij.idea.ApplicationLoader.initConfigurationStore(ApplicationLoader.kt:387)\r\n        at com.intellij.idea.ApplicationLoader$doInitApplication$4.invokeSuspend(ApplicationLoader.kt:85)\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n        at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\r\n        at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\n2023-08-14 12:02:32,396 [   7240] SEVERE - #c.i.i.ApplicationLoader - Android Studio Giraffe | 2022.3.1  Build #AI-223.8836.35.2231.10406996\r\n2023-08-14 12:02:32,396 [   7240] SEVERE - #c.i.i.ApplicationLoader - JDK: 17.0.6; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\r\n2023-08-14 12:02:32,402 [   7246] SEVERE - #c.i.i.ApplicationLoader - OS: Windows 10\r\n2023-08-14 12:02:32,455 [   7299] SEVERE - #c.i.i.ApplicationLoader - com/intellij/configurationStore/StateStorageManager$DefaultImpls\r\njava.lang.NoClassDefFoundError: com/intellij/configurationStore/StateStorageManager$DefaultImpls\r\n        at org.jetbrains.settingsRepository.IcsManager.beforeApplicationLoaded(IcsManager.kt:145)\r\n        at org.jetbrains.settingsRepository.IcsApplicationLoadListener.beforeApplicationLoaded(IcsManager.kt:259)\r\n        at com.intellij.idea.ApplicationLoader.initConfigurationStore(ApplicationLoader.kt:387)\r\n        at com.intellij.idea.ApplicationLoader$doInitApplication$4.invokeSuspend(ApplicationLoader.kt:85)\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n        at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\r\n        at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\n```\r\n\r\nfrom the popup android studio displays:\r\n\r\n```\r\nInternal error. Please refer to https://code.google.com/p/android/issues\r\n\r\njava.lang.RuntimeException: call to AndroidStudioAnalytics before initialization\r\n    at com.intellij.analytics.AndroidStudioAnalytics.getInstance(AndroidStudioAnalytics.java:38)\r\n    at com.intellij.internal.statistic.persistence.UsageStatisticsPersistenceComponent.isAllowed(UsageStatisticsPersistenceComponent.java:137)\r\n    at com.intellij.internal.statistic.utils.StatisticsUploadAssistant.isSendAllowed(StatisticsUploadAssistant.java:34)\r\n    at com.android.tools.idea.stats.AndroidStudioStatisticsJobScheduler.componentsInitialized(AndroidStudioStatisticsJobScheduler.kt:38)\r\n    at com.intellij.ide.ApplicationInitializedListener.execute$suspendImpl(ApplicationInitializedListener.kt:21)\r\n    at com.intellij.ide.ApplicationInitializedListener.execute(ApplicationInitializedListener.kt)\r\n    at com.intellij.idea.ApplicationLoader$callAppInitialized$1.invokeSuspend(ApplicationLoader.kt:436)\r\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\n\r\n-----\r\nYour JRE: 17.0.6+0-b2043.56-10027231 amd64 (JetBrains s.r.o.)\r\nC:\\Users\\[REDACTED]\\scoop\\apps\\android-studio\\2022.3.1.18\\jbr\r\n```","title":"android studio does not start, dies with stack trace, how to find what is causing this","body":"<p>I am trying to learn/write flutter apps and android studio keeps blowing up on start up.  Below are the first couple of errors that android studio prints when it starts and next is the error that pops up in the popup that android studio displays with an ok button.  this is repeatable and happens across multiple versions after reinstalling on my laptop.  Using this guide I tried to delete anything that could be causing the problem as well, <a href=\"https://www.geeksforgeeks.org/how-to-completely-uninstall-android-studio-on-windows/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-completely-uninstall-android-studio-on-windows/</a> , and it is not working.  Java is spitting out ovw 2000 lines of errors messages and stack traces, this is confusing.  I looked at <a href=\"https://code.google.com/p/android/issues\" rel=\"nofollow noreferrer\">https://code.google.com/p/android/issues</a> for help and I did not find anything that helped. Thanks for the help</p>\n<ul>\n<li>OS: windows 10</li>\n<li>Android Studio: 2022.3.1.18</li>\n<li>Android studio JRE: 17.0.6+0-b2043.56-10027231 amd64 (JetBrains s.r.o.)</li>\n</ul>\n<pre><code>bin $ .\\studio.bat\nCompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\n2023-08-14 12:02:31,575 [   6419]   WARN - #c.i.i.p.PluginManager - `include` is supported only on a root level ([row,col,system-id]: [176,5,&quot;C:\\Users\\ms472\\scoop\\apps\\android-studio\\2022.3.1.18\\plugins\\Kotlin\\lib\\kotlin-idea.jar&quot;])\n2023-08-14 12:02:32,374 [   7218] SEVERE - #c.i.i.ApplicationLoader - Receiver class com.android.tools.idea.startup.AndroidPluginInitializer does not define or inherit an implementation of the resolved method 'abstract void beforeApplicationLoaded(com.intellij.openapi.application.Application, java.nio.file.Path)' of interface com.intellij.ide.ApplicationLoadListener.\njava.lang.AbstractMethodError: Receiver class com.android.tools.idea.startup.AndroidPluginInitializer does not define or inherit an implementation of the resolved method 'abstract void beforeApplicationLoaded(com.intellij.openapi.application.Application, java.nio.file.Path)' of interface com.intellij.ide.ApplicationLoadListener.\n        at com.intellij.idea.ApplicationLoader.initConfigurationStore(ApplicationLoader.kt:387)\n        at com.intellij.idea.ApplicationLoader$doInitApplication$4.invokeSuspend(ApplicationLoader.kt:85)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n        at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n2023-08-14 12:02:32,396 [   7240] SEVERE - #c.i.i.ApplicationLoader - Android Studio Giraffe | 2022.3.1  Build #AI-223.8836.35.2231.10406996\n2023-08-14 12:02:32,396 [   7240] SEVERE - #c.i.i.ApplicationLoader - JDK: 17.0.6; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\n2023-08-14 12:02:32,402 [   7246] SEVERE - #c.i.i.ApplicationLoader - OS: Windows 10\n2023-08-14 12:02:32,455 [   7299] SEVERE - #c.i.i.ApplicationLoader - com/intellij/configurationStore/StateStorageManager$DefaultImpls\njava.lang.NoClassDefFoundError: com/intellij/configurationStore/StateStorageManager$DefaultImpls\n        at org.jetbrains.settingsRepository.IcsManager.beforeApplicationLoaded(IcsManager.kt:145)\n        at org.jetbrains.settingsRepository.IcsApplicationLoadListener.beforeApplicationLoaded(IcsManager.kt:259)\n        at com.intellij.idea.ApplicationLoader.initConfigurationStore(ApplicationLoader.kt:387)\n        at com.intellij.idea.ApplicationLoader$doInitApplication$4.invokeSuspend(ApplicationLoader.kt:85)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n        at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n</code></pre>\n<p>from the popup android studio displays:</p>\n<pre><code>Internal error. Please refer to https://code.google.com/p/android/issues\n\njava.lang.RuntimeException: call to AndroidStudioAnalytics before initialization\n    at com.intellij.analytics.AndroidStudioAnalytics.getInstance(AndroidStudioAnalytics.java:38)\n    at com.intellij.internal.statistic.persistence.UsageStatisticsPersistenceComponent.isAllowed(UsageStatisticsPersistenceComponent.java:137)\n    at com.intellij.internal.statistic.utils.StatisticsUploadAssistant.isSendAllowed(StatisticsUploadAssistant.java:34)\n    at com.android.tools.idea.stats.AndroidStudioStatisticsJobScheduler.componentsInitialized(AndroidStudioStatisticsJobScheduler.kt:38)\n    at com.intellij.ide.ApplicationInitializedListener.execute$suspendImpl(ApplicationInitializedListener.kt:21)\n    at com.intellij.ide.ApplicationInitializedListener.execute(ApplicationInitializedListener.kt)\n    at com.intellij.idea.ApplicationLoader$callAppInitialized$1.invokeSuspend(ApplicationLoader.kt:436)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n\n-----\nYour JRE: 17.0.6+0-b2043.56-10027231 amd64 (JetBrains s.r.o.)\nC:\\Users\\[REDACTED]\\scoop\\apps\\android-studio\\2022.3.1.18\\jbr\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1544052239,"post_id":53642287,"comment_id":94143961,"body_markdown":"Perhaps show a snippet of your code that provokes the `java.lang.NoClassDefFoundError`. Something like a [MCVE](https://stackoverflow.com/help/mcve).","body":"Perhaps show a snippet of your code that provokes the <code>java.lang.NoClassDefFoundError</code>. Something like a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1544052557,"post_id":53642287,"comment_id":94144055,"body_markdown":"It looks like you forgot to include [jaxws-api](https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.2).","body":"It looks like you forgot to include <a href=\"https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.2\" rel=\"nofollow noreferrer\">jaxws-api</a>."}],"answers":[{"comments":[{"owner":{"account_id":2177868,"reputation":315,"user_id":1928106,"accept_rate":74,"display_name":"Waqas"},"score":6,"creation_date":1600061613,"post_id":53642394,"comment_id":112957797,"body_markdown":"If you are using Microsoft EWS Library and you get the same exception this dependency helps resolve the issue.","body":"If you are using Microsoft EWS Library and you get the same exception this dependency helps resolve the issue."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":1,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1697828802,"creation_date":1544052625,"answer_id":53642394,"question_id":53642287,"body_markdown":"Switch to `jakarta.xml.ws.handler.soap.SOAPHandler` and include [`jakarta.xml.ws-api`](https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api) in your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you are still on versions that use `javax` instead of `jakarta`, include [`jaxws-api`](https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api) in your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJakarta EE 9, which moved the API namespace from `javax` to `jakarta`, was [released on December 8, 2020](https://en.wikipedia.org/wiki/Jakarta_EE#History) which happens to fall between the [releases of Java 15 and Java 16](https://en.wikipedia.org/wiki/Java_version_history#Release_table), but it will really depend more on your other dependencies than the version of Java you&#39;re using.\r\n","title":"JDK 11: java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler","body":"<p>Switch to <code>jakarta.xml.ws.handler.soap.SOAPHandler</code> and include <a href=\"https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api\" rel=\"nofollow noreferrer\"><code>jakarta.xml.ws-api</code></a> in your dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you are still on versions that use <code>javax</code> instead of <code>jakarta</code>, include <a href=\"https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api\" rel=\"nofollow noreferrer\"><code>jaxws-api</code></a> in your dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Jakarta EE 9, which moved the API namespace from <code>javax</code> to <code>jakarta</code>, was <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE#History\" rel=\"nofollow noreferrer\">released on December 8, 2020</a> which happens to fall between the <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Release_table\" rel=\"nofollow noreferrer\">releases of Java 15 and Java 16</a>, but it will really depend more on your other dependencies than the version of Java you're using.</p>\n"},{"tags":[],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1591065606,"creation_date":1591065606,"answer_id":62143937,"question_id":53642287,"body_markdown":"The `javax` APIs were transitioned to `Jakarta`, so in 2020 the proper dependency is the following:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHere&#39;s an article summarizing what happened:\r\n[Java Magazine - Transition from Java EE to Jakarta EE][1]\r\n\r\nAnd here&#39;s a [very useful table with mappings][2] between the old artifacts and the new one.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/transition-from-java-ee-to-jakarta-ee?source=:em:nw:mt::RC_WWMK190726P00001:NSL400052571\r\n  [2]: https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates","title":"JDK 11: java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler","body":"<p>The <code>javax</code> APIs were transitioned to <code>Jakarta</code>, so in 2020 the proper dependency is the following:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Here's an article summarizing what happened:\n<a href=\"https://blogs.oracle.com/javamagazine/transition-from-java-ee-to-jakarta-ee?source=:em:nw:mt::RC_WWMK190726P00001:NSL400052571\" rel=\"noreferrer\">Java Magazine - Transition from Java EE to Jakarta EE</a></p>\n\n<p>And here's a <a href=\"https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates\" rel=\"noreferrer\">very useful table with mappings</a> between the old artifacts and the new one.</p>\n"},{"tags":[],"owner":{"account_id":4873380,"reputation":442,"user_id":3929185,"display_name":"froque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619448567,"creation_date":1619448567,"answer_id":67268860,"question_id":53642287,"body_markdown":"Since this is the first result on google, my issue was due to having a jar, that required `javax.xml.ws` classes, on the Tomcat common folder `/usr/local/tomcat/lib`.\r\n\r\nThe [Tomcat classloader hierarchy][1] is \r\n```\r\n      Bootstrap\r\n          |\r\n       System\r\n          |\r\n       Common\r\n       /     \\\r\n  Webapp1   Webapp2 ...\r\n```\r\n\r\nOn Java 8 the common classloader can load these classes since they are on Java JRE itself, but on Java 11, the `javax.xml.ws` classes are on Webapp1, and the Tomcat common classloader can not load these. \r\n\r\nFor me, the solution was to no longer deploy the jar into the Tomcat common lib folder. \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html","title":"JDK 11: java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler","body":"<p>Since this is the first result on google, my issue was due to having a jar, that required <code>javax.xml.ws</code> classes, on the Tomcat common folder <code>/usr/local/tomcat/lib</code>.</p>\n<p>The <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Tomcat classloader hierarchy</a> is</p>\n<pre><code>      Bootstrap\n          |\n       System\n          |\n       Common\n       /     \\\n  Webapp1   Webapp2 ...\n</code></pre>\n<p>On Java 8 the common classloader can load these classes since they are on Java JRE itself, but on Java 11, the <code>javax.xml.ws</code> classes are on Webapp1, and the Tomcat common classloader can not load these.</p>\n<p>For me, the solution was to no longer deploy the jar into the Tomcat common lib folder.</p>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70959,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":53642394,"answer_count":3,"score":34,"last_activity_date":1697828802,"creation_date":1544051967,"question_id":53642287,"body_markdown":"We are migrating to openjdk 11 from jdk 8. Some of our projects that uses soap to call third party apis are failing with error:\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler\r\n\r\nAfter doing some research, I tried by adding dependencies :\r\n\r\n[\r\n**references:** \r\n\r\n - https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\r\n\r\n - https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\r\n\r\n]\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nDid not work. may I get an idea on the alternatives?","title":"JDK 11: java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler","body":"<p>We are migrating to openjdk 11 from jdk 8. Some of our projects that uses soap to call third party apis are failing with error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/ws/handler/soap/SOAPHandler\n</code></pre>\n\n<p>After doing some research, I tried by adding dependencies :</p>\n\n<p>[\n<strong>references:</strong> </p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a></p></li>\n</ul>\n\n<p>]</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Did not work. may I get an idea on the alternatives?</p>\n"},{"tags":["java","spring","hibernate","many-to-one"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697110700,"post_id":77280160,"comment_id":136239940,"body_markdown":"`AbstractNetworkObject` is not a `MeteredPoint` which is what the error is telling yuo, it needs at least be an `abstractMeteredPoint` to create a proper proxy.","body":"<code>AbstractNetworkObject</code> is not a <code>MeteredPoint</code> which is what the error is telling yuo, it needs at least be an <code>abstractMeteredPoint</code> to create a proper proxy."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697189692,"post_id":77280160,"comment_id":136251495,"body_markdown":"tried changing it to be abstractMeteredPoint that was passed into the query but didnt work","body":"tried changing it to be abstractMeteredPoint that was passed into the query but didnt work"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1697532669,"post_id":77280160,"comment_id":136288417,"body_markdown":"This is antipattern, but before setting try `Hibernate.unproxy(meteredPoint)`...just you know if it works or not...later you can find why it doesn&#39;t work. I guess that your meteredpoint is not loaded properly (lazy loaded) and thus it&#39;s proxied.","body":"This is antipattern, but before setting try <code>Hibernate.unproxy(meteredPoint)</code>...just you know if it works or not...later you can find why it doesn&#39;t work. I guess that your meteredpoint is not loaded properly (lazy loaded) and thus it&#39;s proxied."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697536610,"post_id":77280160,"comment_id":136289268,"body_markdown":"@bilak yeah tried this - updated the post with what i done - is this what you were meaning?","body":"@bilak yeah tried this - updated the post with what i done - is this what you were meaning?"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697616936,"post_id":77280160,"comment_id":136300868,"body_markdown":"@dynamo can you try creating constructor for AbstractHydrocarbonDataImpl class","body":"@dynamo can you try creating constructor for AbstractHydrocarbonDataImpl class"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1697633503,"post_id":77280160,"comment_id":136304208,"body_markdown":"@dynamo interesting. What kind of object is `Hibernate.unproxy(hydrocarbonData.getMeteredPoint())` returning? can you create a reproducible example an upload it to some github repo?","body":"@dynamo interesting. What kind of object is <code>Hibernate.unproxy(hydrocarbonData.getMeteredPoint())</code> returning? can you create a reproducible example an upload it to some github repo?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697794990,"post_id":77280160,"comment_id":136327414,"body_markdown":"@bilak managed to fix this - just changed the field on abstractHydrocarbonData to be another interface which extended very far backwards.","body":"@bilak managed to fix this - just changed the field on abstractHydrocarbonData to be another interface which extended very far backwards."}],"answers":[{"comments":[{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":1,"creation_date":1698048941,"post_id":77333223,"comment_id":136351047,"body_markdown":"yup, you hit the nail on the head. I ended up figuring this out and changing the field in AbstractHydrocarbonDataImpl to be a type of NetworkObject. Bounty awarded lol","body":"yup, you hit the nail on the head. I ended up figuring this out and changing the field in AbstractHydrocarbonDataImpl to be a type of NetworkObject. Bounty awarded lol"}],"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697828202,"creation_date":1697828202,"answer_id":77333223,"question_id":77280160,"body_markdown":"If I got it right, in your configuration, you have declared MeteredPoint as an interface and AbstractNetworkObject as its implementation. In Hibernate, the proxy doesn&#39;t actually extend the real object, it implements the same interfaces as the real object.\r\n\r\nWhen Hibernate proxies AbstractNetworkObject, it returns a NetworkObject proxy, which implements the MeteredPoint interface. This is fine unless you try to set it on meteredPoint in AbstractHydrocarbonDataImpl, which expects an object of type MeteredPoint. As the proxy is not a subclass of AbstractNetworkObject, the assignment fails.\r\n\r\nMaybe it helps, that meteredPoint in AbstractHydrocarbonDataImpl is declared as an interface (or abstract class) that *both* the proxy and the actual object can be cast to?\r\n\r\nOr did you try to change Hibernate mapping to avoid proxying by setting lazy=&quot;false&quot;?\r\n\r\nOr maybe it helps to set the @Target Hibernate annotation on MeteredPoint to specify the implementation class?","title":"Can not set field value by reflection error - hibernate proxy object","body":"<p>If I got it right, in your configuration, you have declared MeteredPoint as an interface and AbstractNetworkObject as its implementation. In Hibernate, the proxy doesn't actually extend the real object, it implements the same interfaces as the real object.</p>\n<p>When Hibernate proxies AbstractNetworkObject, it returns a NetworkObject proxy, which implements the MeteredPoint interface. This is fine unless you try to set it on meteredPoint in AbstractHydrocarbonDataImpl, which expects an object of type MeteredPoint. As the proxy is not a subclass of AbstractNetworkObject, the assignment fails.</p>\n<p>Maybe it helps, that meteredPoint in AbstractHydrocarbonDataImpl is declared as an interface (or abstract class) that <em>both</em> the proxy and the actual object can be cast to?</p>\n<p>Or did you try to change Hibernate mapping to avoid proxying by setting lazy=&quot;false&quot;?</p>\n<p>Or maybe it helps to set the @Target Hibernate annotation on MeteredPoint to specify the implementation class?</p>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77333223,"answer_count":1,"score":2,"last_activity_date":1697828202,"creation_date":1697110181,"question_id":77280160,"body_markdown":"I am having real trouble with trying to initialize a proxy hibernate object. \r\n\r\nThis is the error i am getting:\r\n``` \r\n Can not set com.application.network.domain.MeteredPoint field com.application.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.application.network.domain.AbstractNetworkObject$HibernateProxy$xzIea2nD\r\n```\r\n\r\nsome info on the project setup before i go into some of the solutions i have tried. \r\n\r\n**MonthlyHydrocarbonDataImpl** extends **AbstractHydrocarbonDataImpl** \r\n\r\n**abstractMeteredPoint** extends **AbstractNetworkObject** and implements **MeteredPoint** \r\n\r\n**MeterdPoint** extends **NgcNetworkObject**\r\n\r\nhere is the MonthlyHydrocarbonDataImpl class\r\n```\r\npublic class MonthlyHydrocarbonDataImpl extends AbstractHydrocarbonDataImpl {\r\n\r\n\tMonthlyHydrocarbonDataImpl() {\r\n\t\tsuper();\r\n\t}\r\n```\r\n\r\nhere is the AbstractHydrocarbonDataImpl class\r\n\r\n``` \r\npublic class AbstractHydrocarbonDataImpl extends AbstractDomainObject&lt;Long&gt; implements HydrocarbonData {\r\n\r\n\tprotected MeteredPoint meteredPoint;\r\n\r\n.....\r\n\tpublic void setMeteredPoint(MeteredPoint meteredPoint) {\r\n\t    this.meteredPoint = meteredPoint;\r\n\t}\r\n\r\n\tpublic MeteredPoint getMeteredPoint() {\r\n\t\treturn meteredPoint;\r\n\t}\r\n ```\r\n\r\n**The problem and solutions tried:**\r\n\r\nso i am getting the error\r\n``` \r\nfield com.app.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.app.network.domain.AbstractNetworkObject$HibernateProxy$VmMKGVdU\r\n ```\r\nThis is the query that is returning the error\r\n``` \r\n\t@Override\r\n\tpublic HydrocarbonData findByMeteredPointProductAndGasDay(MeteredPoint meteredPoint, Product product, LocalDate gasDay) {\r\n\r\n\t\tCriteria criteria = createCriteria();\r\n\r\n\t\tcriteria.add(Restrictions.eq(&quot;meteredPoint&quot;, meteredPoint));\r\n\t\tcriteria.setFetchMode(&quot;meteredPoint&quot;, FetchMode.JOIN);\r\n\t\tcriteria.add(Restrictions.eq(&quot;product&quot;, product));\r\n\t\tcriteria.add(Restrictions.eq(&quot;gasDay&quot;, gasDay));\r\n\r\n\t\treturn (HydrocarbonData) criteria.uniqueResult();\r\n\t}\r\n ```\r\nAs you can see, i am using the fetchMode.join in my query to try force hibernate to load the entity eagerly instead of lazy loading it but this didn&#39;t fix my issue. \r\n\r\nI have also tried enabling eager loading by adding fetch=&quot;join&quot; into my hbm file but this didn&#39;t work either.\r\n\r\nmonthlyhydrocarbondata.hbm.xml\r\n``` \r\n...\r\n    &lt;class name=&quot;com.amor.ngc.application.network.domain.MonthlyHydrocarbonDataImpl&quot; table=&quot;MONTHLY_HYDROCARBON_DATA&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n        \t    &lt;param name=&quot;sequence&quot;&gt;MONTHLY_HC_DATA_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;many-to-one name=&quot;meteredPoint&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\r\n        \t&lt;column name=&quot;METERED_POINT_ID&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/many-to-one&gt;\r\n....\r\n ```\r\n\r\nthis is the networkobject.hbm.xml - i have not included the config for the joined subclasses but i can if needed. Hopefully this is enough tho\r\n```\r\n    &lt;class name=&quot;com.app.network.domain.AbstractNetworkObject&quot;\r\n       proxy=&quot;com.app.network.domain.NetworkObject&quot; \r\n       table=&quot;NETWORK_OBJECT&quot; abstract=&quot;true&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n        \t    &lt;param name=&quot;sequence&quot;&gt;NETWORK_OBJECT_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt;\r\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n```\r\n\r\nThe service class which runs the operations/methods has @Transactional annotation aswell as the method where it is run also having the @Transactional annotation. I do not pass the meteredPoint object outside any layers so i dont think this is the issue. \r\n\r\nI have fiddled around with the query to manually intialise each MeteredPoint property returned in the list using Hibernate.initialize() but this didnt resolve the issue either. \r\n\r\nif you require further detail, let me know and i can post the needed code\r\n\r\nReally struggling with this. If anyone has any ideas, would be greatly appreciated. \r\n\r\nhere is the full stacktrace incase this helps more:\r\n\r\n```\r\n\r\nAn error occurred during execution of handler: com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController#display()\r\norg.springframework.orm.hibernate5.HibernateSystemException: Could not set field value [DeliveryPointImpl[name=some value]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint; nested exception is org.hibernate.PropertyAccessException: Could not set field value [DeliveryPointImpl[name=BG Beachfield]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:300)\r\n\tat org.springframework.orm.hibernate5.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:102)\r\n\tat org.springframework.orm.hibernate5.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:73)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy69.findByMeteredPointProductAndGasDay(Unknown Source)\r\n\tat com.application.network.domain.AbstractMeteredPoint.getDailyHydrocarbonData(AbstractMeteredPoint.java:71)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56)\r\n\tat org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95)\r\n\tat com.application.network.domain.DeliveryPointImpl$HibernateProxy$P9QY3Fk5.getDailyHydrocarbonData(Unknown Source)\r\n\tat com.application.composition.domain.CompositionDataRootImpl.getDailyHydrocarbonData(CompositionDataRootImpl.java:87)\r\n\tat com.service.reports.ReportingServiceImpl.isDailyComponentDeliveryReportAvailable_aroundBody10(ReportingServiceImpl.java:459)\r\n\tat com.service.reports.ReportingServiceImpl$AjcClosure11.run(ReportingServiceImpl.java:1)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\r\n\tat com.service.reports.ReportingServiceImpl.isDailyComponentDeliveryReportAvailable(ReportingServiceImpl.java:433)\r\n\tat com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController.refresh(ViewDailyComponentDeliveryReportController.java:104)\r\n\tat com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController.display(ViewDailyComponentDeliveryReportController.java:98)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.hibernate.PropertyAccessException: Could not set field value [DeliveryPointImpl[name=some value]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:72)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:681)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:144)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:5118)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityFromEntityEntryLoadedState(TwoPhaseLoad.java:282)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:183)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:151)\r\n\tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1200)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:1001)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:959)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2832)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2664)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2659)\r\n\tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1877)\r\n\tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:370)\r\n\tat org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:392)\r\n\tat com.application.network.dao.hibernate.MonthlyDeliveryPointHydrocarbonDataHibernateDao.findByMeteredPointProductAndGasDay(MonthlyDeliveryPointHydrocarbonDataHibernateDao.java:42)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\t.. 99 more\r\nCaused by: java.lang.IllegalArgumentException: Can not set com.application.network.domain.MeteredPoint field com.application.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.application.network.domain.AbstractNetworkObject$HibernateProxy$xzIea2nD\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n\tat java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81)\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:780)\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:52)\r\n\t.. 126 more\r\n\r\n```\r\n\r\nedited:\r\nfor bilak\r\n\r\nupdated the query to unproxy the meteredPoint object. \r\n\r\nI did try this and it didnt work - the error occurs when setting `(HydrocarbonData) criteria.uniqueResult();`\r\n\r\n```\r\n\tpublic HydrocarbonData findByMeteredPointProductAndGasDay(MeteredPoint meteredPoint, Product product, LocalDate gasDay) {\r\n\r\n\t\tCriteria criteria = createCriteria();\r\n\r\n\t\tcriteria.add(Restrictions.eq(&quot;meteredPoint&quot;, meteredPoint));\r\n\t\tcriteria.add(Restrictions.eq(&quot;product&quot;, product));\r\n\t\tcriteria.add(Restrictions.eq(&quot;gasDay&quot;, gasDay));\r\n\r\n\t    HydrocarbonData hydrocarbonData = (HydrocarbonData) criteria.uniqueResult();\r\n\r\n\t    // Unproxy the meteredPoint property if it&#39;s not null\r\n\t    if (hydrocarbonData != null &amp;&amp; hydrocarbonData.getMeteredPoint() != null) {\r\n\t        hydrocarbonData.setMeteredPoint((MeteredPoint) Hibernate.unproxy(hydrocarbonData.getMeteredPoint()));\r\n\t    }\r\n\r\n\t    return hydrocarbonData;\r\n\t}\r\n```","title":"Can not set field value by reflection error - hibernate proxy object","body":"<p>I am having real trouble with trying to initialize a proxy hibernate object.</p>\n<p>This is the error i am getting:</p>\n<pre><code> Can not set com.application.network.domain.MeteredPoint field com.application.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.application.network.domain.AbstractNetworkObject$HibernateProxy$xzIea2nD\n</code></pre>\n<p>some info on the project setup before i go into some of the solutions i have tried.</p>\n<p><strong>MonthlyHydrocarbonDataImpl</strong> extends <strong>AbstractHydrocarbonDataImpl</strong></p>\n<p><strong>abstractMeteredPoint</strong> extends <strong>AbstractNetworkObject</strong> and implements <strong>MeteredPoint</strong></p>\n<p><strong>MeterdPoint</strong> extends <strong>NgcNetworkObject</strong></p>\n<p>here is the MonthlyHydrocarbonDataImpl class</p>\n<pre><code>public class MonthlyHydrocarbonDataImpl extends AbstractHydrocarbonDataImpl {\n\n    MonthlyHydrocarbonDataImpl() {\n        super();\n    }\n</code></pre>\n<p>here is the AbstractHydrocarbonDataImpl class</p>\n<pre><code>public class AbstractHydrocarbonDataImpl extends AbstractDomainObject&lt;Long&gt; implements HydrocarbonData {\n\n    protected MeteredPoint meteredPoint;\n\n.....\n    public void setMeteredPoint(MeteredPoint meteredPoint) {\n        this.meteredPoint = meteredPoint;\n    }\n\n    public MeteredPoint getMeteredPoint() {\n        return meteredPoint;\n    }\n</code></pre>\n<p><strong>The problem and solutions tried:</strong></p>\n<p>so i am getting the error</p>\n<pre><code>field com.app.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.app.network.domain.AbstractNetworkObject$HibernateProxy$VmMKGVdU\n</code></pre>\n<p>This is the query that is returning the error</p>\n<pre><code>    @Override\n    public HydrocarbonData findByMeteredPointProductAndGasDay(MeteredPoint meteredPoint, Product product, LocalDate gasDay) {\n\n        Criteria criteria = createCriteria();\n\n        criteria.add(Restrictions.eq(&quot;meteredPoint&quot;, meteredPoint));\n        criteria.setFetchMode(&quot;meteredPoint&quot;, FetchMode.JOIN);\n        criteria.add(Restrictions.eq(&quot;product&quot;, product));\n        criteria.add(Restrictions.eq(&quot;gasDay&quot;, gasDay));\n\n        return (HydrocarbonData) criteria.uniqueResult();\n    }\n</code></pre>\n<p>As you can see, i am using the fetchMode.join in my query to try force hibernate to load the entity eagerly instead of lazy loading it but this didn't fix my issue.</p>\n<p>I have also tried enabling eager loading by adding fetch=&quot;join&quot; into my hbm file but this didn't work either.</p>\n<p>monthlyhydrocarbondata.hbm.xml</p>\n<pre><code>...\n    &lt;class name=&quot;com.amor.ngc.application.network.domain.MonthlyHydrocarbonDataImpl&quot; table=&quot;MONTHLY_HYDROCARBON_DATA&quot;&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;MONTHLY_HC_DATA_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=&quot;meteredPoint&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\n            &lt;column name=&quot;METERED_POINT_ID&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/many-to-one&gt;\n....\n</code></pre>\n<p>this is the networkobject.hbm.xml - i have not included the config for the joined subclasses but i can if needed. Hopefully this is enough tho</p>\n<pre><code>    &lt;class name=&quot;com.app.network.domain.AbstractNetworkObject&quot;\n       proxy=&quot;com.app.network.domain.NetworkObject&quot; \n       table=&quot;NETWORK_OBJECT&quot; abstract=&quot;true&quot;&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;NETWORK_OBJECT_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt;\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n</code></pre>\n<p>The service class which runs the operations/methods has @Transactional annotation aswell as the method where it is run also having the @Transactional annotation. I do not pass the meteredPoint object outside any layers so i dont think this is the issue.</p>\n<p>I have fiddled around with the query to manually intialise each MeteredPoint property returned in the list using Hibernate.initialize() but this didnt resolve the issue either.</p>\n<p>if you require further detail, let me know and i can post the needed code</p>\n<p>Really struggling with this. If anyone has any ideas, would be greatly appreciated.</p>\n<p>here is the full stacktrace incase this helps more:</p>\n<pre><code>\nAn error occurred during execution of handler: com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController#display()\norg.springframework.orm.hibernate5.HibernateSystemException: Could not set field value [DeliveryPointImpl[name=some value]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint; nested exception is org.hibernate.PropertyAccessException: Could not set field value [DeliveryPointImpl[name=BG Beachfield]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:300)\n    at org.springframework.orm.hibernate5.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:102)\n    at org.springframework.orm.hibernate5.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:73)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy69.findByMeteredPointProductAndGasDay(Unknown Source)\n    at com.application.network.domain.AbstractMeteredPoint.getDailyHydrocarbonData(AbstractMeteredPoint.java:71)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56)\n    at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95)\n    at com.application.network.domain.DeliveryPointImpl$HibernateProxy$P9QY3Fk5.getDailyHydrocarbonData(Unknown Source)\n    at com.application.composition.domain.CompositionDataRootImpl.getDailyHydrocarbonData(CompositionDataRootImpl.java:87)\n    at com.service.reports.ReportingServiceImpl.isDailyComponentDeliveryReportAvailable_aroundBody10(ReportingServiceImpl.java:459)\n    at com.service.reports.ReportingServiceImpl$AjcClosure11.run(ReportingServiceImpl.java:1)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\n    at com.service.reports.ReportingServiceImpl.isDailyComponentDeliveryReportAvailable(ReportingServiceImpl.java:433)\n    at com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController.refresh(ViewDailyComponentDeliveryReportController.java:104)\n    at com.web.mvc.reports.component.ViewDailyComponentDeliveryReportController.display(ViewDailyComponentDeliveryReportController.java:98)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.hibernate.PropertyAccessException: Could not set field value [DeliveryPointImpl[name=some value]] value by reflection : [class com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint] setter of com.application.network.domain.MonthlyHydrocarbonDataImpl.meteredPoint\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:72)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:681)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:144)\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:5118)\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityFromEntityEntryLoadedState(TwoPhaseLoad.java:282)\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:183)\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:151)\n    at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1200)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:1001)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:959)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.doList(Loader.java:2832)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2664)\n    at org.hibernate.loader.Loader.list(Loader.java:2659)\n    at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:109)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1877)\n    at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:370)\n    at org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:392)\n    at com.application.network.dao.hibernate.MonthlyDeliveryPointHydrocarbonDataHibernateDao.findByMeteredPointProductAndGasDay(MonthlyDeliveryPointHydrocarbonDataHibernateDao.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    .. 99 more\nCaused by: java.lang.IllegalArgumentException: Can not set com.application.network.domain.MeteredPoint field com.application.network.domain.AbstractHydrocarbonDataImpl.meteredPoint to com.application.network.domain.AbstractNetworkObject$HibernateProxy$xzIea2nD\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81)\n    at java.base/java.lang.reflect.Field.set(Field.java:780)\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:52)\n    .. 126 more\n\n</code></pre>\n<p>edited:\nfor bilak</p>\n<p>updated the query to unproxy the meteredPoint object.</p>\n<p>I did try this and it didnt work - the error occurs when setting <code>(HydrocarbonData) criteria.uniqueResult();</code></p>\n<pre><code>    public HydrocarbonData findByMeteredPointProductAndGasDay(MeteredPoint meteredPoint, Product product, LocalDate gasDay) {\n\n        Criteria criteria = createCriteria();\n\n        criteria.add(Restrictions.eq(&quot;meteredPoint&quot;, meteredPoint));\n        criteria.add(Restrictions.eq(&quot;product&quot;, product));\n        criteria.add(Restrictions.eq(&quot;gasDay&quot;, gasDay));\n\n        HydrocarbonData hydrocarbonData = (HydrocarbonData) criteria.uniqueResult();\n\n        // Unproxy the meteredPoint property if it's not null\n        if (hydrocarbonData != null &amp;&amp; hydrocarbonData.getMeteredPoint() != null) {\n            hydrocarbonData.setMeteredPoint((MeteredPoint) Hibernate.unproxy(hydrocarbonData.getMeteredPoint()));\n        }\n\n        return hydrocarbonData;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","prometheus","spring-boot-actuator"],"owner":{"account_id":13399376,"reputation":41,"user_id":9669384,"display_name":"Michael Zaleskovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697827904,"creation_date":1697827904,"question_id":77333196,"body_markdown":"I have a project based on SpringBoot 3.1.4 in microservice architecture. I use Declarative Rest Client: \r\n\r\n    public interface AccountsApi {\r\n        @HttpExchange(\r\n            method = &quot;GET&quot;,\r\n            value = &quot;/accounts&quot;,\r\n            accept = {&quot;application/json&quot;}\r\n        )\r\n        ResponseEntity&lt;List&lt;Account&gt;&gt; accountsGetList(\r\n            @RequestParam(value = &quot;accounts&quot;, required = true) List&lt;String&gt; accs);\r\n    }\r\n\r\nto sending request to another service:\r\n\r\n    ResponseEntity&lt;List&lt;Account&gt;&gt; responseEntity = accountsApi.accountsGetList(\r\n                    accountNumbers);\r\nI am getting Prometheus metrics, generated by Actuator for every outcoming request:\r\n\r\n    http_client_requests_seconds_count{client_name=&quot;localhost&quot;,error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/accounts&quot;} 1.0\r\nSince I have several clients I need to customize tags for this metric - add the name http client class, in this case something like **http_client=&quot;AccountsAPI&quot;**\r\n\r\nI find how to customize metric using customizer:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class PrometheusConfiguration {\r\n    \r\n        class ExtendedClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\r\n            @Override\r\n            public KeyValues getLowCardinalityKeyValues(ClientRequestObservationContext context) {\r\n                return KeyValues.of(\r\n    //                    httpClient(context),\r\n                        clientName(context), exception(context), method(context), outcome(context), status(context), uri(context)\r\n                );\r\n            }\r\n    \r\n            protected KeyValue httpClient(ClientRequestObservationContext context) {\r\n                return KeyValue.of(&quot;http_client&quot;, getHttpClientClassName(context));\r\n            }\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public ExtendedClientRequestObservationConvention extendedClientRequestObservationConvention() {\r\n            return new ExtendedClientRequestObservationConvention();\r\n        }\r\n    \r\n        public String getHttpClientClassName(ClientRequestObservationContext context) {\r\n            return ???????;\r\n        }\r\n    }\r\nBut I can not find the way how to get class name of client?\r\n\r\n\r\n","title":"How to customize Prometheus metrics http_client_requests generated by SpringBoot actuator","body":"<p>I have a project based on SpringBoot 3.1.4 in microservice architecture. I use Declarative Rest Client:</p>\n<pre><code>public interface AccountsApi {\n    @HttpExchange(\n        method = &quot;GET&quot;,\n        value = &quot;/accounts&quot;,\n        accept = {&quot;application/json&quot;}\n    )\n    ResponseEntity&lt;List&lt;Account&gt;&gt; accountsGetList(\n        @RequestParam(value = &quot;accounts&quot;, required = true) List&lt;String&gt; accs);\n}\n</code></pre>\n<p>to sending request to another service:</p>\n<pre><code>ResponseEntity&lt;List&lt;Account&gt;&gt; responseEntity = accountsApi.accountsGetList(\n                accountNumbers);\n</code></pre>\n<p>I am getting Prometheus metrics, generated by Actuator for every outcoming request:</p>\n<pre><code>http_client_requests_seconds_count{client_name=&quot;localhost&quot;,error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/accounts&quot;} 1.0\n</code></pre>\n<p>Since I have several clients I need to customize tags for this metric - add the name http client class, in this case something like <strong>http_client=&quot;AccountsAPI&quot;</strong></p>\n<p>I find how to customize metric using customizer:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class PrometheusConfiguration {\n\n    class ExtendedClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\n        @Override\n        public KeyValues getLowCardinalityKeyValues(ClientRequestObservationContext context) {\n            return KeyValues.of(\n//                    httpClient(context),\n                    clientName(context), exception(context), method(context), outcome(context), status(context), uri(context)\n            );\n        }\n\n        protected KeyValue httpClient(ClientRequestObservationContext context) {\n            return KeyValue.of(&quot;http_client&quot;, getHttpClientClassName(context));\n        }\n\n    }\n\n    @Bean\n    public ExtendedClientRequestObservationConvention extendedClientRequestObservationConvention() {\n        return new ExtendedClientRequestObservationConvention();\n    }\n\n    public String getHttpClientClassName(ClientRequestObservationContext context) {\n        return ???????;\n    }\n}\n</code></pre>\n<p>But I can not find the way how to get class name of client?</p>\n"},{"tags":["java","aws-java-sdk","aws-java-sdk-2.x"],"answers":[{"tags":[],"owner":{"account_id":14519073,"reputation":1,"user_id":10487224,"display_name":"Lexus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697826860,"creation_date":1697826860,"answer_id":77333107,"question_id":77288317,"body_markdown":"Managed to resolved the issue by separating the volume and instance\r\n\r\n    TagSpecification tagVolume = TagSpecification.builder().resourceType(ResourceType.VOLUME).tags(tags).build();\r\n    \r\n    TagSpecification tagInstance = TagSpecification.builder().resourceType(ResourceType.INSTANCE).tags(tags).build();\r\n    \r\n    RunInstancesRequest runRequest = RunInstancesRequest.builder()\r\n    .imageId(&quot;ami-xxxxx&quot;)\r\n    .instanceType(InstanceType.C5_2_XLARGE)\r\n    .keyName(&quot;xxx&quot;)\r\n    .subnetId(&quot;subnet-xxxxx&quot;)\r\n    .iamInstanceProfile(iamSpec)\r\n    .securityGroupIds(&quot;sg-xxxxxxx&quot;)\r\n    .tagSpecifications(tagVolume, tagInstance)\r\n    .maxCount(1).minCount(1).build();","title":"AWS SDK Java Tagging Run Instances","body":"<p>Managed to resolved the issue by separating the volume and instance</p>\n<pre><code>TagSpecification tagVolume = TagSpecification.builder().resourceType(ResourceType.VOLUME).tags(tags).build();\n\nTagSpecification tagInstance = TagSpecification.builder().resourceType(ResourceType.INSTANCE).tags(tags).build();\n\nRunInstancesRequest runRequest = RunInstancesRequest.builder()\n.imageId(&quot;ami-xxxxx&quot;)\n.instanceType(InstanceType.C5_2_XLARGE)\n.keyName(&quot;xxx&quot;)\n.subnetId(&quot;subnet-xxxxx&quot;)\n.iamInstanceProfile(iamSpec)\n.securityGroupIds(&quot;sg-xxxxxxx&quot;)\n.tagSpecifications(tagVolume, tagInstance)\n.maxCount(1).minCount(1).build();\n</code></pre>\n"}],"owner":{"account_id":14519073,"reputation":1,"user_id":10487224,"display_name":"Lexus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77333107,"answer_count":1,"score":0,"last_activity_date":1697826860,"creation_date":1697205158,"question_id":77288317,"body_markdown":"Our AWS team enabled tags in INSTANCE and VOLUME and now we have to modify our codes to add tagging. I tried to tag an EC2 instance but I got the following error below and hopefully someone can point me in the right direction.\r\n\r\nThe Issue:\r\nThe error is saying the instance or the volume is missing mandatory tags.\r\n\r\n\r\nThis is my sample code, if tagging is turned off this code will work.\r\n\r\n```\r\ntry {\r\nString accessKey = &quot;XXXXXX&quot;;\r\nString secretKey = &quot;XXXXXX&quot;;\r\nAwsBasicCredentials credentials = AwsBasicCredentials.create(accessKey, secretKey);\r\n\r\nEc2Client ec2 = Ec2Client.builder().region(Region.of(&quot;ca-central-1&quot;)).credentialsProvider(StaticCredentialsProvider.create(credentials)).build();\r\n\r\nIamInstanceProfileSpecification iamSpec = IamInstanceProfileSpecification.builder().name(&quot;PROFILE1&quot;).build();\r\n\r\nList&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\r\n\r\ntags.add(Tag.builder().key(&quot;Department&quot;).value(&quot;IT&quot;).build());\r\ntags.add(Tag.builder().key(&quot;Team&quot;).value(&quot;DEV&quot;).build());\r\n\r\nTagSpecification tagSpecs = TagSpecification.builder()\r\n.resourceType(ResourceType.VOLUME)\r\n.resourceType(ResourceType.INSTANCE)\r\n.tags(tags)\r\n.build();\r\n\r\nRunInstancesRequest runRequest = RunInstancesRequest.builder()\r\n.imageId(&quot;ami-xxxxx&quot;)\r\n.instanceType(InstanceType.C5_2_XLARGE)\r\n.keyName(&quot;xxx&quot;)\r\n.subnetId(&quot;subnet-xxxxx&quot;)\r\n.iamInstanceProfile(iamSpec)\r\n.securityGroupIds(&quot;sg-xxxxxxx&quot;)\r\n.tagSpecifications(tagSpecs)\r\n.maxCount(1).minCount(1).build();\r\n\r\nRunInstancesResponse response = ec2.runInstances(runRequest);\r\n\r\nif (response.sdkHttpResponse().isSuccessful()) {\r\nSystem.out.println(&quot;Successful&quot;);\r\n} else {\r\nSystem.out.println(&quot;Not Successful&quot;);\r\n}\r\n} catch (Exception e) {\r\nSystem.out.println(e.getMessage());\r\n}\r\n```","title":"AWS SDK Java Tagging Run Instances","body":"<p>Our AWS team enabled tags in INSTANCE and VOLUME and now we have to modify our codes to add tagging. I tried to tag an EC2 instance but I got the following error below and hopefully someone can point me in the right direction.</p>\n<p>The Issue:\nThe error is saying the instance or the volume is missing mandatory tags.</p>\n<p>This is my sample code, if tagging is turned off this code will work.</p>\n<pre><code>try {\nString accessKey = &quot;XXXXXX&quot;;\nString secretKey = &quot;XXXXXX&quot;;\nAwsBasicCredentials credentials = AwsBasicCredentials.create(accessKey, secretKey);\n\nEc2Client ec2 = Ec2Client.builder().region(Region.of(&quot;ca-central-1&quot;)).credentialsProvider(StaticCredentialsProvider.create(credentials)).build();\n\nIamInstanceProfileSpecification iamSpec = IamInstanceProfileSpecification.builder().name(&quot;PROFILE1&quot;).build();\n\nList&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\n\ntags.add(Tag.builder().key(&quot;Department&quot;).value(&quot;IT&quot;).build());\ntags.add(Tag.builder().key(&quot;Team&quot;).value(&quot;DEV&quot;).build());\n\nTagSpecification tagSpecs = TagSpecification.builder()\n.resourceType(ResourceType.VOLUME)\n.resourceType(ResourceType.INSTANCE)\n.tags(tags)\n.build();\n\nRunInstancesRequest runRequest = RunInstancesRequest.builder()\n.imageId(&quot;ami-xxxxx&quot;)\n.instanceType(InstanceType.C5_2_XLARGE)\n.keyName(&quot;xxx&quot;)\n.subnetId(&quot;subnet-xxxxx&quot;)\n.iamInstanceProfile(iamSpec)\n.securityGroupIds(&quot;sg-xxxxxxx&quot;)\n.tagSpecifications(tagSpecs)\n.maxCount(1).minCount(1).build();\n\nRunInstancesResponse response = ec2.runInstances(runRequest);\n\nif (response.sdkHttpResponse().isSuccessful()) {\nSystem.out.println(&quot;Successful&quot;);\n} else {\nSystem.out.println(&quot;Not Successful&quot;);\n}\n} catch (Exception e) {\nSystem.out.println(e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697824072,"post_id":77332841,"comment_id":136332756,"body_markdown":"Remove all the hibernate dependencies. starter-jpa is enough","body":"Remove all the hibernate dependencies. starter-jpa is enough"},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697832709,"post_id":77332841,"comment_id":136333876,"body_markdown":"it is impossible to read your codes because of long names , please in the examples you provided update your question and make class and method names  short/simple","body":"it is impossible to read your codes because of long names , please in the examples you provided update your question and make class and method names  short/simple"},{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1697841245,"post_id":77332841,"comment_id":136334930,"body_markdown":"can you provide the screenshot of your package structure, I am guessing spring boot component scan is not reaching your package.","body":"can you provide the screenshot of your package structure, I am guessing spring boot component scan is not reaching your package."},{"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"score":0,"creation_date":1697841539,"post_id":77332841,"comment_id":136334963,"body_markdown":"Your code is not complete. The repository LogisticaGLGLDocumentosRepository references the class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocumentos which is not an entity known to hibernate causes the error.","body":"Your code is not complete. The repository LogisticaGLGLDocumentosRepository references the class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocum&zwnj;&#8203;entos which is not an entity known to hibernate causes the error."}],"owner":{"account_id":4675621,"reputation":190,"user_id":5225000,"display_name":"user11890"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697826296,"creation_date":1697823705,"question_id":77332841,"body_markdown":"I have a project in Spring boot, Java 17, maven with a connection SQL Server and I am running with IDE Intellij 2023.\r\n\r\nThis project was changed from Java 1.8 to Java 17, I changed all dependencies and versions, and I fixed some problems, but now I am receiving two kinds of errors:\r\n\r\nFirst - If I don&#39;t use annotation `@Autowired` in my class `Service`:\r\n\r\n```\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;/sc/documentosNaoProtocolados&#39;: Unsatisfied dependency expressed through field &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarServices&#39;: Error creating bean with name &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarServices&#39;: Unsatisfied dependency expressed through field &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarRepository&#39;: Error creating bean with name &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarRepository&#39; defined in br.coopercarga.com.br.repository.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisar \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:716) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:696) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarServices&#39;: Unsatisfied dependency expressed through field &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarRepository&#39;: Error creating bean with name &#39;viwLogisticaDocumentosNaoProtocoladosPesquisarRepository&#39; defined in br.coopercarga.com.br.repository.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisar \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:716) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:696) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\r\n```\r\n\r\n```\r\n    @Service\r\n    public class ViwLogisticaDocumentosNaoProtocoladosPesquisarServices {\r\n    \r\n        ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository viwLogisticaDocumentosNaoProtocoladosPesquisarRepository;\r\n    \r\n        public Collection&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar&gt; load(FiltroDocumentosNaoProtocolados filtroDocumentosNaoProtocolados){\r\n            return viwLogisticaDocumentosNaoProtocoladosPesquisarRepository.load(filtroDocumentosNaoProtocolados.getCodigoSistemaUsuariosFiliais(),\r\n                    filtroDocumentosNaoProtocolados.getDataInicial(),\r\n                    filtroDocumentosNaoProtocolados.getDataFinal(),\r\n                    filtroDocumentosNaoProtocolados.getContratoFreteNumero());\r\n        }\r\n    }\r\n```\r\n\r\nThe second kind error, occurs when I use an annotation `@Autowired`:\r\n\r\n \r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;logisticaGLGLDocumentosRepository&#39; defined in br.coopercarga.com.br.repository.Logistica.LogisticaGLGLDocumentosRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocumentos \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11] \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocumentos \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final] \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final] \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final] \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.2.jar:3.1.2] \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.2.jar:3.1.2] \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n```\r\n\r\nMy repository:\r\n\r\n```\r\n    @Repository\r\n    public interface ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository extends JpaRepository&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar, Long&gt; {\r\n        @Query(nativeQuery = true,\r\n                value = &quot;SELECT *\\n &quot; +\r\n                        &quot;FROM viwLogistica_DocumentosNaoProtocolados_Pesquisar AS VIW\\n &quot; +\r\n                        &quot;WHERE VIW.PessoaCodigo IN (:listaCodigoGNPessoas) AND\\n &quot; +\r\n                        &quot;VIW.ContratoFreteDataEmissao &gt;= :DataInicial AND VIW.ContratoFreteDataEmissao &lt;= :DataFinal AND\\n &quot; +\r\n                        &quot;VIW.ContratoFreteNumero = CASE WHEN :ContratoFreteNumero IS NOT NULL AND :ContratoFreteNumero &lt;&gt; &#39;&#39; THEN :ContratoFreteNumero ELSE VIW.ContratoFreteNumero END\\n&quot; +\r\n                        &quot;ORDER BY NDias, ContratoFreteDataEmissao&quot;)\r\n        Collection&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar&gt; load(@Param(&quot;listaCodigoGNPessoas&quot;) List&lt;Long&gt; listaCodigoGNPessoas,\r\n                                                                        @Param(&quot;DataInicial&quot;) String dataInicial,\r\n                                                                        @Param(&quot;DataFinal&quot;) String dataFinal,\r\n                                                                        @Param(&quot;ContratoFreteNumero&quot;) String contratoFreteNumero);\r\n    \r\n    }\r\n```\r\n\r\nMy entity:\r\n```\r\n    @Entity\r\n    @Table(name = &quot;viwlogisticaDocumentosnaoprotocoladosPesquisar&quot;\r\n            , schema = &quot;dbo&quot;\r\n    \r\n    )\r\n    public class ViwLogisticaDocumentosNaoProtocoladosPesquisar {\r\n        private Long pessoaCodigo;\r\n        private String pessoaNome;\r\n        private String pessoaCPFCNPJ;\r\n        private Long contratoFreteCodigo;\r\n        private String contratoFreteNumero;\r\n        private Date contratoFreteDataEmissao;\r\n        private Long documentoCodigo;\r\n        private String documentoNumero;\r\n        private String documentoCliente;\r\n        private String documentoSerie;\r\n        private String cavaloPlaca;\r\n        private String carretaPlaca;\r\n        private String motorista;\r\n        private String origem;\r\n        private String destino;\r\n        private String filial;\r\n        private String nDias;\r\n    \r\n        public ViwLogisticaDocumentosNaoProtocoladosPesquisar() {\r\n        }\r\n    \r\n        public ViwLogisticaDocumentosNaoProtocoladosPesquisar(Long pessoaCodigo, String pessoaNome, String pessoaCPFCNPJ, Long contratoFreteCodigo, String contratoFreteNumero, Date contratoFreteDataEmissao, Long documentoCodigo, String documentoNumero, String documentoCliente, String documentoSerie, String cavaloPlaca, String carretaPlaca, String motorista, String origem, String destino, String filial, String nDias) {\r\n            this.pessoaCodigo = pessoaCodigo;\r\n            this.pessoaNome = pessoaNome;\r\n            this.pessoaCPFCNPJ = pessoaCPFCNPJ;\r\n            this.contratoFreteCodigo = contratoFreteCodigo;\r\n            this.contratoFreteNumero = contratoFreteNumero;\r\n            this.contratoFreteDataEmissao = contratoFreteDataEmissao;\r\n            this.documentoCodigo = documentoCodigo;\r\n            this.documentoNumero = documentoNumero;\r\n            this.documentoCliente = documentoCliente;\r\n            this.documentoSerie = documentoSerie;\r\n            this.cavaloPlaca = cavaloPlaca;\r\n            this.carretaPlaca = carretaPlaca;\r\n            this.motorista = motorista;\r\n            this.origem = origem;\r\n            this.destino = destino;\r\n            this.filial = filial;\r\n            this.nDias = nDias;\r\n        }\r\n    \r\n        @Id\r\n        @Column(name = &quot;Documentocodigo&quot;, unique = true, nullable = false)\r\n        public Long getDocumentoCodigo() {\r\n            return documentoCodigo;\r\n        }\r\n    \r\n        public void setDocumentoCodigo(Long documentoCodigo) {\r\n            this.documentoCodigo = documentoCodigo;\r\n        }\r\n    \r\n        @Column(name = &quot;Pessoacodigo&quot;)\r\n        public Long getPessoaCodigo() {\r\n            return pessoaCodigo;\r\n        }\r\n    \r\n        public void setPessoaCodigo(Long pessoaCodigo) {\r\n            this.pessoaCodigo = pessoaCodigo;\r\n        }\r\n    \r\n        @Column(name = &quot;Pessoanome&quot;)\r\n        public String getPessoaNome() {\r\n            return pessoaNome;\r\n        }\r\n    \r\n        public void setPessoaNome(String pessoaNome) {\r\n            this.pessoaNome = pessoaNome;\r\n        }\r\n    \r\n        @Column(name = &quot;Pessoacpfcnpj&quot;)\r\n        public String getPessoaCPFCNPJ() {\r\n            return pessoaCPFCNPJ;\r\n        }\r\n    \r\n        public void setPessoaCPFCNPJ(String pessoaCPFCNPJ) {\r\n            this.pessoaCPFCNPJ = pessoaCPFCNPJ;\r\n        }\r\n    \r\n        @Column(name = &quot;Contratofretecodigo&quot;)\r\n        public Long getContratoFreteCodigo() {\r\n            return contratoFreteCodigo;\r\n        }\r\n    \r\n        public void setContratoFreteCodigo(Long contratoFreteCodigo) {\r\n            this.contratoFreteCodigo = contratoFreteCodigo;\r\n        }\r\n    \r\n        @Column(name = &quot;Contratofretenumero&quot;)\r\n        public String getContratoFreteNumero() {\r\n            return contratoFreteNumero;\r\n        }\r\n    \r\n        public void setContratoFreteNumero(String contratoFreteNumero) {\r\n            this.contratoFreteNumero = contratoFreteNumero;\r\n        }\r\n    \r\n        @Column(name = &quot;Contratofretedataemissao&quot;)\r\n        public Date getContratoFreteDataEmissao() {\r\n            return contratoFreteDataEmissao;\r\n        }\r\n    \r\n        public void setContratoFreteDataEmissao(Date contratoFreteDataEmissao) {\r\n            this.contratoFreteDataEmissao = contratoFreteDataEmissao;\r\n        }\r\n    \r\n        @Column(name = &quot;Documentonumero&quot;)\r\n        public String getDocumentoNumero() {\r\n            return documentoNumero;\r\n        }\r\n    \r\n        public void setDocumentoNumero(String documentoNumero) {\r\n            this.documentoNumero = documentoNumero;\r\n        }\r\n    \r\n        @Column(name = &quot;Documentocliente&quot;)\r\n        public String getDocumentoCliente() {\r\n            return documentoCliente;\r\n        }\r\n    \r\n        public void setDocumentoCliente(String documentoCliente) {\r\n            this.documentoCliente = documentoCliente;\r\n        }\r\n    \r\n        @Column(name = &quot;Documentoserie&quot;)\r\n        public String getDocumentoSerie() {\r\n            return documentoSerie;\r\n        }\r\n    \r\n        public void setDocumentoSerie(String documentoSerie) {\r\n            this.documentoSerie = documentoSerie;\r\n        }\r\n    \r\n        @Column(name = &quot;Cavaloplaca&quot;)\r\n        public String getCavaloPlaca() {\r\n            return cavaloPlaca;\r\n        }\r\n    \r\n        public void setCavaloPlaca(String cavaloPlaca) {\r\n            this.cavaloPlaca = cavaloPlaca;\r\n        }\r\n    \r\n        @Column(name = &quot;Carretaplaca&quot;)\r\n        public String getCarretaPlaca() {\r\n            return carretaPlaca;\r\n        }\r\n    \r\n        public void setCarretaPlaca(String carretaPlaca) {\r\n            this.carretaPlaca = carretaPlaca;\r\n        }\r\n    \r\n        @Column(name = &quot;Motorista&quot;)\r\n        public String getMotorista() {\r\n            return motorista;\r\n        }\r\n    \r\n        public void setMotorista(String motorista) {\r\n            this.motorista = motorista;\r\n        }\r\n    \r\n        @Column(name = &quot;Origem&quot;)\r\n        public String getOrigem() {\r\n            return origem;\r\n        }\r\n    \r\n        public void setOrigem(String origem) {\r\n            this.origem = origem;\r\n        }\r\n    \r\n        @Column(name = &quot;Destino&quot;)\r\n        public String getDestino() {\r\n            return destino;\r\n        }\r\n    \r\n        public void setDestino(String destino) {\r\n            this.destino = destino;\r\n        }\r\n    \r\n        @Column(name = &quot;Filial&quot;)\r\n        public String getFilial() {\r\n            return filial;\r\n        }\r\n    \r\n        public void setFilial(String filial) {\r\n            this.filial = filial;\r\n        }\r\n    \r\n        @Column(name = &quot;Ndias&quot;)\r\n        public String getnDias() {\r\n            return nDias;\r\n        }\r\n    \r\n        public void setnDias(String nDias) {\r\n            this.nDias = nDias;\r\n        }\r\n    }\r\n```\r\nMy application:\r\n\r\n```\r\n    @SpringBootApplication\r\n    public class SistemacolaborativoApplication {\r\n        @Bean\r\n        public FilterRegistrationBean getFilterJWT() {\r\n            FilterRegistrationBean frb = new FilterRegistrationBean();\r\n            frb.setFilter(new TokenFilter());\r\n            frb.addUrlPatterns(&quot;/#/*&quot;);\r\n    \r\n            return frb;\r\n        }\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SistemacolaborativoApplication.class, args);\r\n        }\r\n    }\r\n```\r\nMy pom.xml:\r\n\r\n```\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;11.2.3.jre17&lt;/version&gt;\r\n    &lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;6.20.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;!--            &lt;version&gt;4.3.8.RELEASE&lt;/version&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    &lt;!--            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-remoting&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;20.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n```\r\n\r\nWhen I correct an error, the second one happens, and the same situation happens in several classes, I couldn&#39;t find any solution on the internet","title":"Spring boot - Error creating bean with name Repository","body":"<p>I have a project in Spring boot, Java 17, maven with a connection SQL Server and I am running with IDE Intellij 2023.</p>\n<p>This project was changed from Java 1.8 to Java 17, I changed all dependencies and versions, and I fixed some problems, but now I am receiving two kinds of errors:</p>\n<p>First - If I don't use annotation <code>@Autowired</code> in my class <code>Service</code>:</p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/sc/documentosNaoProtocolados': Unsatisfied dependency expressed through field 'viwLogisticaDocumentosNaoProtocoladosPesquisarServices': Error creating bean with name 'viwLogisticaDocumentosNaoProtocoladosPesquisarServices': Unsatisfied dependency expressed through field 'viwLogisticaDocumentosNaoProtocoladosPesquisarRepository': Error creating bean with name 'viwLogisticaDocumentosNaoProtocoladosPesquisarRepository' defined in br.coopercarga.com.br.repository.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisar     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:716) ~[spring-beans-6.0.11.jar:6.0.11]   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:696) ~[spring-beans-6.0.11.jar:6.0.11]  at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\n    \n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'viwLogisticaDocumentosNaoProtocoladosPesquisarServices': Unsatisfied dependency expressed through field 'viwLogisticaDocumentosNaoProtocoladosPesquisarRepository': Error creating bean with name 'viwLogisticaDocumentosNaoProtocoladosPesquisarRepository' defined in br.coopercarga.com.br.repository.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.ViwLogisticaDocumentosNaoProtocoladosPesquisar  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:716) ~[spring-beans-6.0.11.jar:6.0.11]   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:696) ~[spring-beans-6.0.11.jar:6.0.11]  at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\n</code></pre>\n<pre><code>    @Service\n    public class ViwLogisticaDocumentosNaoProtocoladosPesquisarServices {\n    \n        ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository viwLogisticaDocumentosNaoProtocoladosPesquisarRepository;\n    \n        public Collection&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar&gt; load(FiltroDocumentosNaoProtocolados filtroDocumentosNaoProtocolados){\n            return viwLogisticaDocumentosNaoProtocoladosPesquisarRepository.load(filtroDocumentosNaoProtocolados.getCodigoSistemaUsuariosFiliais(),\n                    filtroDocumentosNaoProtocolados.getDataInicial(),\n                    filtroDocumentosNaoProtocolados.getDataFinal(),\n                    filtroDocumentosNaoProtocolados.getContratoFreteNumero());\n        }\n    }\n</code></pre>\n<p>The second kind error, occurs when I use an annotation <code>@Autowired</code>:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'logisticaGLGLDocumentosRepository' defined in br.coopercarga.com.br.repository.Logistica.LogisticaGLGLDocumentosRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocumentos   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class br.coopercarga.com.br.domain.Logistica.TblLogisticaGlgldocumentos  at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]  at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]  at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]   at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.2.jar:3.1.2]   at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.2.jar:3.1.2]     at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n</code></pre>\n<p>My repository:</p>\n<pre><code>    @Repository\n    public interface ViwLogisticaDocumentosNaoProtocoladosPesquisarRepository extends JpaRepository&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar, Long&gt; {\n        @Query(nativeQuery = true,\n                value = &quot;SELECT *\\n &quot; +\n                        &quot;FROM viwLogistica_DocumentosNaoProtocolados_Pesquisar AS VIW\\n &quot; +\n                        &quot;WHERE VIW.PessoaCodigo IN (:listaCodigoGNPessoas) AND\\n &quot; +\n                        &quot;VIW.ContratoFreteDataEmissao &gt;= :DataInicial AND VIW.ContratoFreteDataEmissao &lt;= :DataFinal AND\\n &quot; +\n                        &quot;VIW.ContratoFreteNumero = CASE WHEN :ContratoFreteNumero IS NOT NULL AND :ContratoFreteNumero &lt;&gt; '' THEN :ContratoFreteNumero ELSE VIW.ContratoFreteNumero END\\n&quot; +\n                        &quot;ORDER BY NDias, ContratoFreteDataEmissao&quot;)\n        Collection&lt;ViwLogisticaDocumentosNaoProtocoladosPesquisar&gt; load(@Param(&quot;listaCodigoGNPessoas&quot;) List&lt;Long&gt; listaCodigoGNPessoas,\n                                                                        @Param(&quot;DataInicial&quot;) String dataInicial,\n                                                                        @Param(&quot;DataFinal&quot;) String dataFinal,\n                                                                        @Param(&quot;ContratoFreteNumero&quot;) String contratoFreteNumero);\n    \n    }\n</code></pre>\n<p>My entity:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;viwlogisticaDocumentosnaoprotocoladosPesquisar&quot;\n            , schema = &quot;dbo&quot;\n    \n    )\n    public class ViwLogisticaDocumentosNaoProtocoladosPesquisar {\n        private Long pessoaCodigo;\n        private String pessoaNome;\n        private String pessoaCPFCNPJ;\n        private Long contratoFreteCodigo;\n        private String contratoFreteNumero;\n        private Date contratoFreteDataEmissao;\n        private Long documentoCodigo;\n        private String documentoNumero;\n        private String documentoCliente;\n        private String documentoSerie;\n        private String cavaloPlaca;\n        private String carretaPlaca;\n        private String motorista;\n        private String origem;\n        private String destino;\n        private String filial;\n        private String nDias;\n    \n        public ViwLogisticaDocumentosNaoProtocoladosPesquisar() {\n        }\n    \n        public ViwLogisticaDocumentosNaoProtocoladosPesquisar(Long pessoaCodigo, String pessoaNome, String pessoaCPFCNPJ, Long contratoFreteCodigo, String contratoFreteNumero, Date contratoFreteDataEmissao, Long documentoCodigo, String documentoNumero, String documentoCliente, String documentoSerie, String cavaloPlaca, String carretaPlaca, String motorista, String origem, String destino, String filial, String nDias) {\n            this.pessoaCodigo = pessoaCodigo;\n            this.pessoaNome = pessoaNome;\n            this.pessoaCPFCNPJ = pessoaCPFCNPJ;\n            this.contratoFreteCodigo = contratoFreteCodigo;\n            this.contratoFreteNumero = contratoFreteNumero;\n            this.contratoFreteDataEmissao = contratoFreteDataEmissao;\n            this.documentoCodigo = documentoCodigo;\n            this.documentoNumero = documentoNumero;\n            this.documentoCliente = documentoCliente;\n            this.documentoSerie = documentoSerie;\n            this.cavaloPlaca = cavaloPlaca;\n            this.carretaPlaca = carretaPlaca;\n            this.motorista = motorista;\n            this.origem = origem;\n            this.destino = destino;\n            this.filial = filial;\n            this.nDias = nDias;\n        }\n    \n        @Id\n        @Column(name = &quot;Documentocodigo&quot;, unique = true, nullable = false)\n        public Long getDocumentoCodigo() {\n            return documentoCodigo;\n        }\n    \n        public void setDocumentoCodigo(Long documentoCodigo) {\n            this.documentoCodigo = documentoCodigo;\n        }\n    \n        @Column(name = &quot;Pessoacodigo&quot;)\n        public Long getPessoaCodigo() {\n            return pessoaCodigo;\n        }\n    \n        public void setPessoaCodigo(Long pessoaCodigo) {\n            this.pessoaCodigo = pessoaCodigo;\n        }\n    \n        @Column(name = &quot;Pessoanome&quot;)\n        public String getPessoaNome() {\n            return pessoaNome;\n        }\n    \n        public void setPessoaNome(String pessoaNome) {\n            this.pessoaNome = pessoaNome;\n        }\n    \n        @Column(name = &quot;Pessoacpfcnpj&quot;)\n        public String getPessoaCPFCNPJ() {\n            return pessoaCPFCNPJ;\n        }\n    \n        public void setPessoaCPFCNPJ(String pessoaCPFCNPJ) {\n            this.pessoaCPFCNPJ = pessoaCPFCNPJ;\n        }\n    \n        @Column(name = &quot;Contratofretecodigo&quot;)\n        public Long getContratoFreteCodigo() {\n            return contratoFreteCodigo;\n        }\n    \n        public void setContratoFreteCodigo(Long contratoFreteCodigo) {\n            this.contratoFreteCodigo = contratoFreteCodigo;\n        }\n    \n        @Column(name = &quot;Contratofretenumero&quot;)\n        public String getContratoFreteNumero() {\n            return contratoFreteNumero;\n        }\n    \n        public void setContratoFreteNumero(String contratoFreteNumero) {\n            this.contratoFreteNumero = contratoFreteNumero;\n        }\n    \n        @Column(name = &quot;Contratofretedataemissao&quot;)\n        public Date getContratoFreteDataEmissao() {\n            return contratoFreteDataEmissao;\n        }\n    \n        public void setContratoFreteDataEmissao(Date contratoFreteDataEmissao) {\n            this.contratoFreteDataEmissao = contratoFreteDataEmissao;\n        }\n    \n        @Column(name = &quot;Documentonumero&quot;)\n        public String getDocumentoNumero() {\n            return documentoNumero;\n        }\n    \n        public void setDocumentoNumero(String documentoNumero) {\n            this.documentoNumero = documentoNumero;\n        }\n    \n        @Column(name = &quot;Documentocliente&quot;)\n        public String getDocumentoCliente() {\n            return documentoCliente;\n        }\n    \n        public void setDocumentoCliente(String documentoCliente) {\n            this.documentoCliente = documentoCliente;\n        }\n    \n        @Column(name = &quot;Documentoserie&quot;)\n        public String getDocumentoSerie() {\n            return documentoSerie;\n        }\n    \n        public void setDocumentoSerie(String documentoSerie) {\n            this.documentoSerie = documentoSerie;\n        }\n    \n        @Column(name = &quot;Cavaloplaca&quot;)\n        public String getCavaloPlaca() {\n            return cavaloPlaca;\n        }\n    \n        public void setCavaloPlaca(String cavaloPlaca) {\n            this.cavaloPlaca = cavaloPlaca;\n        }\n    \n        @Column(name = &quot;Carretaplaca&quot;)\n        public String getCarretaPlaca() {\n            return carretaPlaca;\n        }\n    \n        public void setCarretaPlaca(String carretaPlaca) {\n            this.carretaPlaca = carretaPlaca;\n        }\n    \n        @Column(name = &quot;Motorista&quot;)\n        public String getMotorista() {\n            return motorista;\n        }\n    \n        public void setMotorista(String motorista) {\n            this.motorista = motorista;\n        }\n    \n        @Column(name = &quot;Origem&quot;)\n        public String getOrigem() {\n            return origem;\n        }\n    \n        public void setOrigem(String origem) {\n            this.origem = origem;\n        }\n    \n        @Column(name = &quot;Destino&quot;)\n        public String getDestino() {\n            return destino;\n        }\n    \n        public void setDestino(String destino) {\n            this.destino = destino;\n        }\n    \n        @Column(name = &quot;Filial&quot;)\n        public String getFilial() {\n            return filial;\n        }\n    \n        public void setFilial(String filial) {\n            this.filial = filial;\n        }\n    \n        @Column(name = &quot;Ndias&quot;)\n        public String getnDias() {\n            return nDias;\n        }\n    \n        public void setnDias(String nDias) {\n            this.nDias = nDias;\n        }\n    }\n</code></pre>\n<p>My application:</p>\n<pre><code>    @SpringBootApplication\n    public class SistemacolaborativoApplication {\n        @Bean\n        public FilterRegistrationBean getFilterJWT() {\n            FilterRegistrationBean frb = new FilterRegistrationBean();\n            frb.setFilter(new TokenFilter());\n            frb.addUrlPatterns(&quot;/#/*&quot;);\n    \n            return frb;\n        }\n        public static void main(String[] args) {\n            SpringApplication.run(SistemacolaborativoApplication.class, args);\n        }\n    }\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>    &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n    \n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n                &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n                &lt;version&gt;11.2.3.jre17&lt;/version&gt;\n    &lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                &lt;version&gt;0.9.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n                &lt;version&gt;6.20.6&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n                &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n                &lt;version&gt;2.6.12&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n                &lt;version&gt;1.0.1.Final&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;!--            &lt;version&gt;4.3.8.RELEASE&lt;/version&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n                &lt;version&gt;1.5.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;!--            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-remoting&lt;/artifactId&gt;\n                &lt;version&gt;2.0.8&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n                &lt;version&gt;20.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;6.2.6.Final&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n</code></pre>\n<p>When I correct an error, the second one happens, and the same situation happens in several classes, I couldn't find any solution on the internet</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697822758,"post_id":77332726,"comment_id":136332553,"body_markdown":"127.0.0.1:9042 is not accessible. This is not a spring problem.","body":"127.0.0.1:9042 is not accessible. This is not a spring problem."},{"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"score":0,"creation_date":1697823121,"post_id":77332726,"comment_id":136332619,"body_markdown":"Thanks Anish, Are you sure? I thought it&#39;s looking for a bean","body":"Thanks Anish, Are you sure? I thought it&#39;s looking for a bean"},{"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"score":0,"creation_date":1697823136,"post_id":77332726,"comment_id":136332622,"body_markdown":"Is there a way I can disable this to access","body":"Is there a way I can disable this to access"}],"answers":[{"comments":[{"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"score":0,"creation_date":1697823759,"post_id":77332784,"comment_id":136332707,"body_markdown":"My mistake, my application is not a spring boot application","body":"My mistake, my application is not a spring boot application"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697823814,"post_id":77332784,"comment_id":136332714,"body_markdown":"@saurabhkumar Please edit your question. Question is unclear.","body":"@saurabhkumar Please edit your question. Question is unclear."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697825587,"post_id":77332784,"comment_id":136332955,"body_markdown":"@saurabhkumar Does this helps now?","body":"@saurabhkumar Does this helps now?"},{"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"score":0,"creation_date":1697827460,"post_id":77332784,"comment_id":136333207,"body_markdown":"Unfortunately no","body":"Unfortunately no"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697829675,"post_id":77332784,"comment_id":136333476,"body_markdown":"@saurabhkumar Let me try to reproduce om my end. Tomorrow I will update you.","body":"@saurabhkumar Let me try to reproduce om my end. Tomorrow I will update you."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697851613,"post_id":77332784,"comment_id":136335558,"body_markdown":"@saurabhkumar I have tested on my local. it&#39;s working. I don&#39;t know what have you done.","body":"@saurabhkumar I have tested on my local. it&#39;s working. I don&#39;t know what have you done."},{"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"score":0,"creation_date":1697985537,"post_id":77332784,"comment_id":136345247,"body_markdown":"yes it worked, but this is external project which i cant edit, is there anything we can do in parent project?","body":"yes it worked, but this is external project which i cant edit, is there anything we can do in parent project?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697987398,"post_id":77332784,"comment_id":136345424,"body_markdown":"@saurabhkumar I&#39;m confused at this moment. How are you accessing the external project in the parent project?","body":"@saurabhkumar I&#39;m confused at this moment. How are you accessing the external project in the parent project?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697987446,"post_id":77332784,"comment_id":136345432,"body_markdown":"@saurabhkumar Please edit the question to add more details.","body":"@saurabhkumar Please edit the question to add more details."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697825381,"creation_date":1697823035,"answer_id":77332784,"question_id":77332726,"body_markdown":"Exclude the `CassandraAutoConfiguration` class completely to disable.\r\n\r\nTry this:\r\n\r\n    var context = new SpringApplicationBuilder(Application.class)\r\n    \t\t\t\t.properties(&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration&quot;)\r\n    \t\t        .web(WebApplicationType.NONE).profiles(&quot;batch&quot;)\r\n    \t\t\t\t.run(args);\r\n\r\n\r\nSee if this works.","title":"Getting this &#39;org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration&#39;: Unsatisfied dependency","body":"<p>Exclude the <code>CassandraAutoConfiguration</code> class completely to disable.</p>\n<p>Try this:</p>\n<pre><code>var context = new SpringApplicationBuilder(Application.class)\n                .properties(&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration&quot;)\n                .web(WebApplicationType.NONE).profiles(&quot;batch&quot;)\n                .run(args);\n</code></pre>\n<p>See if this works.</p>\n"}],"owner":{"account_id":13794268,"reputation":103,"user_id":9955833,"display_name":"saurabh kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697826219,"creation_date":1697822226,"question_id":77332726,"body_markdown":"I am getting error at the start of my Spring Boot application.\r\n\r\nI don&#39;t have access to the Spring Boot Main class as this is present in an external dependency. \r\n\r\nI am trying to add a spring batch which is external to my spring  project. \r\n\r\nI tried to disable this via this property `spring.data.cassandra.repositories.enabled=false`.\r\n\r\nHowever, this didn&#39;t help. It&#39;s not a Spring Boot application.\r\n\r\n**Error Logs:** \r\n        \r\n    2023-10-20T09:44:48.481-05:00  INFO 1052 --- [  restartedMain] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobRegistry already defined in the application context, skipping the registration of a jobRegistry\r\n    2023-10-20T09:44:48.482-05:00  INFO 1052 --- [  restartedMain] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 3 ms.\r\n    2023-10-20T09:44:48.907-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Cassandra repositories in DEFAULT mode.\r\n    2023-10-20T09:44:48.963-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Reactive Cassandra repository interfaces.\r\n    2023-10-20T09:44:48.968-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Cassandra repositories in DEFAULT mode.\r\n    2023-10-20T09:44:48.982-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Cassandra repository interfaces.\r\n    2023-10-20T09:44:49.658-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;apiCallContext&#39; of type [org.springframework.aop.scope.ScopedProxyFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.659-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;apiCallContext&#39; of type [com..api.ApiCallContext$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.695-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;correlationId&#39; of type [com..api.CorrelationId] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.717-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;encryptionLogic&#39; of type [com..api.crypto.EncryptionLogic] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.722-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;BatchApiCallContext&#39; of type [com..batch.BatchApiCallContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.723-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;BatchConfigurer&#39; of type [com..batch.BatchConfigurer$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:49.732-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;jobRegistry&#39; of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2023-10-20T09:44:50.928-05:00  INFO 1052 --- [  restartedMain] c..api.cache.CacheConfigurer   : using heap memory for caching\r\n    2023-10-20T09:44:52.497-05:00  INFO 1052 --- [  restartedMain] c..batch.BatchConfigurer    : disabling scheduled task execution\r\n    2023-10-20T09:44:53.108-05:00  INFO 1052 --- [  restartedMain] c.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.15.0\r\n    2023-10-20T09:44:53.675-05:00  INFO 1052 --- [     s0-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\r\n    2023-10-20T09:44:53.860-05:00  WARN 1052 --- [     s0-admin-1] c.d.o.d.i.c.control.ControlConnection    : [s0] Error connecting to Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77), trying next node (ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException))\r\n    2023-10-20T09:44:55.951-05:00  WARN 1052 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method &#39;cassandraSession&#39; threw exception with message: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n    2023-10-20T09:44:58.040-05:00  WARN 1052 --- [  restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : \r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method &#39;cassandraSession&#39; threw exception with message: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\r\n    \tat com..batch.BatchLauncher.main(BatchLauncher.java:53)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method &#39;cassandraSession&#39; threw exception with message: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\r\n    \t... 22 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method &#39;cassandraSession&#39; threw exception with message: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n    \t... 36 common frames omitted\r\n    Caused by: com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n    \tat com.datastax.oss.driver.api.core.AllNodesFailedException.copy(AllNodesFailedException.java:141)\r\n    \tat com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\r\n    \tat com.datastax.oss.driver.api.core.session.SessionBuilder.build(SessionBuilder.java:835)\r\n    \tat org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration.cassandraSession(CassandraAutoConfiguration.java:87)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \t... 37 common frames omitted\r\n    \tSuppressed: com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.fail(ProtocolInitHandler.java:356)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.writeListener(ChannelHandlerRequest.java:87)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:185)\r\n    \t\tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\r\n    \t\tat io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.send(ChannelHandlerRequest.java:76)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.send(ProtocolInitHandler.java:193)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler.onRealConnect(ProtocolInitHandler.java:124)\r\n    \t\tat com.datastax.oss.driver.internal.core.channel.ConnectInitHandler.lambda$connect$0(ConnectInitHandler.java:57)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\r\n    \t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n    \t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \t\tSuppressed: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:9042\r\n    \t\tCaused by: java.net.ConnectException: Connection refused: no further information\r\n    \t\t\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n    \t\t\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n    \t\t\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)\r\n    \t\t\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)\r\n    \t\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n    \t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\r\n    \t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n    \t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n    \t\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n    \t\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \t\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \t\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \tCaused by: io.netty.channel.StacklessClosedChannelException: null\r\n    \t\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0()(Unknown Source)\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\nI am using the following code below to start the application: \r\n\r\n    var context = new SpringApplicationBuilder(Application.class).web(WebApplicationType.NONE).profiles(&quot;batch&quot;)\r\n    \t\t\t\t.run(args);\r\n\r\n\r\n","title":"Getting this &#39;org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration&#39;: Unsatisfied dependency","body":"<p>I am getting error at the start of my Spring Boot application.</p>\n<p>I don't have access to the Spring Boot Main class as this is present in an external dependency.</p>\n<p>I am trying to add a spring batch which is external to my spring  project.</p>\n<p>I tried to disable this via this property <code>spring.data.cassandra.repositories.enabled=false</code>.</p>\n<p>However, this didn't help. It's not a Spring Boot application.</p>\n<p><strong>Error Logs:</strong></p>\n<pre><code>2023-10-20T09:44:48.481-05:00  INFO 1052 --- [  restartedMain] o.s.b.c.c.annotation.BatchRegistrar      : Bean jobRegistry already defined in the application context, skipping the registration of a jobRegistry\n2023-10-20T09:44:48.482-05:00  INFO 1052 --- [  restartedMain] o.s.b.c.c.annotation.BatchRegistrar      : Finished Spring Batch infrastructure beans configuration in 3 ms.\n2023-10-20T09:44:48.907-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Cassandra repositories in DEFAULT mode.\n2023-10-20T09:44:48.963-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Reactive Cassandra repository interfaces.\n2023-10-20T09:44:48.968-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Cassandra repositories in DEFAULT mode.\n2023-10-20T09:44:48.982-05:00  INFO 1052 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Cassandra repository interfaces.\n2023-10-20T09:44:49.658-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'apiCallContext' of type [org.springframework.aop.scope.ScopedProxyFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.659-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'apiCallContext' of type [com..api.ApiCallContext$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.695-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'correlationId' of type [com..api.CorrelationId] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.717-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'encryptionLogic' of type [com..api.crypto.EncryptionLogic] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.722-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'BatchApiCallContext' of type [com..batch.BatchApiCallContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.723-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'BatchConfigurer' of type [com..batch.BatchConfigurer$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:49.732-05:00  INFO 1052 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-10-20T09:44:50.928-05:00  INFO 1052 --- [  restartedMain] c..api.cache.CacheConfigurer   : using heap memory for caching\n2023-10-20T09:44:52.497-05:00  INFO 1052 --- [  restartedMain] c..batch.BatchConfigurer    : disabling scheduled task execution\n2023-10-20T09:44:53.108-05:00  INFO 1052 --- [  restartedMain] c.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.15.0\n2023-10-20T09:44:53.675-05:00  INFO 1052 --- [     s0-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\n2023-10-20T09:44:53.860-05:00  WARN 1052 --- [     s0-admin-1] c.d.o.d.i.c.control.ControlConnection    : [s0] Error connecting to Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77), trying next node (ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException))\n2023-10-20T09:44:55.951-05:00  WARN 1052 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cassandraSession' defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method 'cassandraSession' threw exception with message: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n2023-10-20T09:44:58.040-05:00  WARN 1052 --- [  restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : \n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cassandraSession' defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method 'cassandraSession' threw exception with message: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\n    at com..batch.BatchLauncher.main(BatchLauncher.java:53)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cassandraSession' defined in class path resource [org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.class]: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method 'cassandraSession' threw exception with message: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.datastax.oss.driver.api.core.CqlSession]: Factory method 'cassandraSession' threw exception with message: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n    ... 36 common frames omitted\nCaused by: com.datastax.oss.driver.api.core.AllNodesFailedException: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=2bcf1e77): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n    at com.datastax.oss.driver.api.core.AllNodesFailedException.copy(AllNodesFailedException.java:141)\n    at com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\n    at com.datastax.oss.driver.api.core.session.SessionBuilder.build(SessionBuilder.java:835)\n    at org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration.cassandraSession(CassandraAutoConfiguration.java:87)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 37 common frames omitted\n    Suppressed: com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)\n        at com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.fail(ProtocolInitHandler.java:356)\n        at com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.writeListener(ChannelHandlerRequest.java:87)\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n        at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:185)\n        at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\n        at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\n        at com.datastax.oss.driver.internal.core.channel.ChannelHandlerRequest.send(ChannelHandlerRequest.java:76)\n        at com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler$InitRequest.send(ProtocolInitHandler.java:193)\n        at com.datastax.oss.driver.internal.core.channel.ProtocolInitHandler.onRealConnect(ProtocolInitHandler.java:124)\n        at com.datastax.oss.driver.internal.core.channel.ConnectInitHandler.lambda$connect$0(ConnectInitHandler.java:57)\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n        at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\n        at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\n        at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        Suppressed: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:9042\n        Caused by: java.net.ConnectException: Connection refused: no further information\n            at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n            at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n            at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)\n            at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)\n            at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n            at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: io.netty.channel.StacklessClosedChannelException: null\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0()(Unknown Source)\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I am using the following code below to start the application:</p>\n<pre><code>var context = new SpringApplicationBuilder(Application.class).web(WebApplicationType.NONE).profiles(&quot;batch&quot;)\n                .run(args);\n</code></pre>\n"},{"tags":["java","avro","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697826074,"creation_date":1697826074,"answer_id":77333039,"question_id":77327571,"body_markdown":"The namespace isn&#39;t part of the schema resolution spec. Mostly only field names and their types are. \r\n\r\nhttps://avro.apache.org/docs/1.11.1/specification/#schema-resolution\r\n\r\nJava, on the other hand, generates classes on the classpath for the namespace, so it is required there for JVM package generation. \r\n\r\nPython Avro client does not care about namespaces, for example, since there is no such structure or concept of package visibility / scope. \r\n\r\nThe registry is **not** *client specific*, and namespaces aren&#39;t really used during registration any more than `doc` comments or other metadata. \r\n\r\nYou&#39;d fix your **Java** error by [using aliases](https://avro.apache.org/docs/1.11.1/specification/#aliases) to refer to the &quot;old&quot; namespace name. Or, you can use GenericRecord, not a SpecificRecord type. Otherwise, you need to compile your consumer code to include the Avro producer&#39;s &quot;writer schema&quot;. Ideally, you do this with a Maven dependency, rather than copy around AVSC files, otherwise, you can use [Schema Registry Maven Plugin](https://docs.confluent.io/platform/current/schema-registry/develop/maven-plugin.html) `download` goal, alongside avro-maven-plugin to create the SpecificRecord type that the producer had registered.","title":"Expecting compatibility Error on Confluent Schema when changing Namespace","body":"<p>The namespace isn't part of the schema resolution spec. Mostly only field names and their types are.</p>\n<p><a href=\"https://avro.apache.org/docs/1.11.1/specification/#schema-resolution\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/1.11.1/specification/#schema-resolution</a></p>\n<p>Java, on the other hand, generates classes on the classpath for the namespace, so it is required there for JVM package generation.</p>\n<p>Python Avro client does not care about namespaces, for example, since there is no such structure or concept of package visibility / scope.</p>\n<p>The registry is <strong>not</strong> <em>client specific</em>, and namespaces aren't really used during registration any more than <code>doc</code> comments or other metadata.</p>\n<p>You'd fix your <strong>Java</strong> error by <a href=\"https://avro.apache.org/docs/1.11.1/specification/#aliases\" rel=\"nofollow noreferrer\">using aliases</a> to refer to the &quot;old&quot; namespace name. Or, you can use GenericRecord, not a SpecificRecord type. Otherwise, you need to compile your consumer code to include the Avro producer's &quot;writer schema&quot;. Ideally, you do this with a Maven dependency, rather than copy around AVSC files, otherwise, you can use <a href=\"https://docs.confluent.io/platform/current/schema-registry/develop/maven-plugin.html\" rel=\"nofollow noreferrer\">Schema Registry Maven Plugin</a> <code>download</code> goal, alongside avro-maven-plugin to create the SpecificRecord type that the producer had registered.</p>\n"}],"owner":{"account_id":11764857,"reputation":1,"user_id":8609789,"display_name":"Razi Levin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697826074,"creation_date":1697758804,"question_id":77327571,"body_markdown":"Does anyone know why a namespace change in an Avro schema using backwards compatibility would not trigger an error in confluent schema registry when adding a new version of a schema.\r\n\r\nWhat happened was we registered a new version of a schema with a namespace change. While the producer was updated with the new code (new namespace) the consumer was not, triggering a de-serialization exception on each read.\r\n\r\n``\r\nCould not find class X specified in writer&#39;s schema whilst finding reader&#39;s schema for a Specific Record.\r\n``\r\n\r\nI would expect this to trigger an error when adding a new version of a schema into Confluent Schema Registry but it was not.","title":"Expecting compatibility Error on Confluent Schema when changing Namespace","body":"<p>Does anyone know why a namespace change in an Avro schema using backwards compatibility would not trigger an error in confluent schema registry when adding a new version of a schema.</p>\n<p>What happened was we registered a new version of a schema with a namespace change. While the producer was updated with the new code (new namespace) the consumer was not, triggering a de-serialization exception on each read.</p>\n<p><code>Could not find class X specified in writer's schema whilst finding reader's schema for a Specific Record.</code></p>\n<p>I would expect this to trigger an error when adding a new version of a schema into Confluent Schema Registry but it was not.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1697822881,"post_id":77332645,"comment_id":136332571,"body_markdown":"Jackson view or custom serializer?","body":"Jackson view or custom serializer?"}],"answers":[{"tags":[],"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697824773,"creation_date":1697824773,"answer_id":77332937,"question_id":77332645,"body_markdown":"You can user Views.\r\n\r\n**Views**\r\n```java\r\npublic class Views {\r\n\r\n    public static class Foo {\r\n    }\r\n\r\n    public static class Bar {\r\n    }\r\n}\r\n```\r\n\r\n**DTO**\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonView;\r\n\r\npublic class User {\r\n    @JsonView(Views.Foo.class)\r\n    @JsonProperty(&quot;name&quot;)\r\n    public String name;\r\n\r\n    @JsonView(Views.Bar.class)\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    public String firstName;\r\n\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    public String lastName;\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.name = this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n\r\n**Test**\r\n```java\r\nclass JacksonViewTest {\r\n\r\n    @Test\r\n    void viewFoo() throws IOException {\r\n        User user = new User();\r\n        user.setFirstName(&quot;John&quot;);\r\n        user.setLastName(&quot;Doe&quot;);\r\n\r\n        String json = new ObjectMapper()\r\n                .writerWithView(Views.Foo.class)\r\n                .writeValueAsString(user);\r\n\r\n        assertSame(&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;}&quot;, json);\r\n    }\r\n\r\n    @Test\r\n    void viewBar() throws IOException {\r\n        User user = new User();\r\n        user.setFirstName(&quot;John&quot;);\r\n        user.setLastName(&quot;Doe&quot;);\r\n\r\n        String json = new ObjectMapper()\r\n                .writerWithView(Views.Bar.class)\r\n                .writeValueAsString(user);\r\n\r\n        assertSame(&quot;{\\&quot;firstName\\&quot;:\\&quot;John\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;}&quot;, json);\r\n    }\r\n\r\n}\r\n```","title":"Java Multiple json names for same object field during serialisation","body":"<p>You can user Views.</p>\n<p><strong>Views</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n\n    public static class Foo {\n    }\n\n    public static class Bar {\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonView;\n\npublic class User {\n    @JsonView(Views.Foo.class)\n    @JsonProperty(&quot;name&quot;)\n    public String name;\n\n    @JsonView(Views.Bar.class)\n    @JsonProperty(&quot;firstName&quot;)\n    public String firstName;\n\n    @JsonProperty(&quot;lastName&quot;)\n    public String lastName;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.name = this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class JacksonViewTest {\n\n    @Test\n    void viewFoo() throws IOException {\n        User user = new User();\n        user.setFirstName(&quot;John&quot;);\n        user.setLastName(&quot;Doe&quot;);\n\n        String json = new ObjectMapper()\n                .writerWithView(Views.Foo.class)\n                .writeValueAsString(user);\n\n        assertSame(&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;}&quot;, json);\n    }\n\n    @Test\n    void viewBar() throws IOException {\n        User user = new User();\n        user.setFirstName(&quot;John&quot;);\n        user.setLastName(&quot;Doe&quot;);\n\n        String json = new ObjectMapper()\n                .writerWithView(Views.Bar.class)\n                .writeValueAsString(user);\n\n        assertSame(&quot;{\\&quot;firstName\\&quot;:\\&quot;John\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;}&quot;, json);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":244916,"reputation":1317,"user_id":518066,"accept_rate":33,"display_name":"user518066"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697824773,"creation_date":1697821241,"question_id":77332645,"body_markdown":"For serialising a java object&#39;s name field in json, if I have a java class:\r\n```\r\nClass Test {\r\n  private String name;\r\n\r\n}\r\n```\r\n\r\nWhen I create the Test object with a name.\r\n\r\nIn scenario one, when I serialise the test object, I would like the name field to be represented as name.\r\n```\r\n{ &quot;name&quot;: &quot;Bob&quot;}\r\n```\r\nIn scenario two , when I serialise the test object, I would like the name field to be represented as firstName.\r\n```\r\n{ &quot;firstName&quot;: &quot;Bob&quot;}\r\n```\r\n\r\nHow can I achieve this with jackson.\r\n\r\nThanks","title":"Java Multiple json names for same object field during serialisation","body":"<p>For serialising a java object's name field in json, if I have a java class:</p>\n<pre><code>Class Test {\n  private String name;\n\n}\n</code></pre>\n<p>When I create the Test object with a name.</p>\n<p>In scenario one, when I serialise the test object, I would like the name field to be represented as name.</p>\n<pre><code>{ &quot;name&quot;: &quot;Bob&quot;}\n</code></pre>\n<p>In scenario two , when I serialise the test object, I would like the name field to be represented as firstName.</p>\n<pre><code>{ &quot;firstName&quot;: &quot;Bob&quot;}\n</code></pre>\n<p>How can I achieve this with jackson.</p>\n<p>Thanks</p>\n"},{"tags":["java","parsing","antlr","antlr4"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697823839,"creation_date":1697818986,"answer_id":77332452,"question_id":77331562,"body_markdown":"The problem is that your STRING rule is greedy, and doesn&#39;t exclude &#39;=&#39; for example, so everything up to the final brace is consumed by that rule.\r\n\r\nOne way to fix that is to limit what can appear in a field name, e.g. limit to just alphabetic characters. The Antlr grammar shown below does exactly that. You can test it [here][1]. For your sample input:\r\n\r\n    {foo=123,bar=abc}\r\n\r\nit produces a successful parse tree.\r\n\r\nFull grammar:\r\n\r\n    grammar JSON;\r\n    \r\n    json\r\n       : value EOF\r\n       ;\r\n    \r\n    obj\r\n       : &#39;{&#39; pair (&#39;,&#39; pair)* &#39;}&#39;\r\n       | &#39;{&#39; &#39;}&#39;\r\n       ;\r\n    \r\n    pair\r\n       : STRING &#39;=&#39; value\r\n       ;\r\n    \r\n    value\r\n       : STRING\r\n       | NUMBER\r\n       | obj\r\n       ;\r\n    \r\n    STRING\r\n       : [a-zA-Z]+\r\n       ;\r\n    \r\n    fragment ESC\r\n       : &#39;\\\\&#39; ([&quot;\\\\/bfnrt] | UNICODE)\r\n       ;\r\n    \r\n    fragment UNICODE\r\n       : &#39;u&#39; HEX HEX HEX HEX\r\n       ;\r\n    \r\n    fragment HEX\r\n       : [0-9a-fA-F]\r\n       ;\r\n    \r\n    fragment SAFECODEPOINT\r\n       : ~ [&quot;\\\\\\u0000-\\u001F]\r\n       ;\r\n    \r\n    NUMBER\r\n       : &#39;-&#39;? INT (&#39;.&#39; [0-9] +)? EXP?\r\n       ;\r\n    \r\n    fragment INT\r\n       : &#39;0&#39; | [1-9] [0-9]*\r\n       ;\r\n    \r\n    fragment EXP\r\n       : [Ee] [+\\-]? [0-9]+\r\n       ;\r\n    \r\n    WS\r\n       : [ \\t\\n\\r] + -&gt; skip\r\n       ;\r\n\r\n\r\n  [1]: http://lab.antlr.org/","title":"customized grammar similar to json","body":"<p>The problem is that your STRING rule is greedy, and doesn't exclude '=' for example, so everything up to the final brace is consumed by that rule.</p>\n<p>One way to fix that is to limit what can appear in a field name, e.g. limit to just alphabetic characters. The Antlr grammar shown below does exactly that. You can test it <a href=\"http://lab.antlr.org/\" rel=\"nofollow noreferrer\">here</a>. For your sample input:</p>\n<pre><code>{foo=123,bar=abc}\n</code></pre>\n<p>it produces a successful parse tree.</p>\n<p>Full grammar:</p>\n<pre><code>grammar JSON;\n\njson\n   : value EOF\n   ;\n\nobj\n   : '{' pair (',' pair)* '}'\n   | '{' '}'\n   ;\n\npair\n   : STRING '=' value\n   ;\n\nvalue\n   : STRING\n   | NUMBER\n   | obj\n   ;\n\nSTRING\n   : [a-zA-Z]+\n   ;\n\nfragment ESC\n   : '\\\\' ([&quot;\\\\/bfnrt] | UNICODE)\n   ;\n\nfragment UNICODE\n   : 'u' HEX HEX HEX HEX\n   ;\n\nfragment HEX\n   : [0-9a-fA-F]\n   ;\n\nfragment SAFECODEPOINT\n   : ~ [&quot;\\\\\\u0000-\\u001F]\n   ;\n\nNUMBER\n   : '-'? INT ('.' [0-9] +)? EXP?\n   ;\n\nfragment INT\n   : '0' | [1-9] [0-9]*\n   ;\n\nfragment EXP\n   : [Ee] [+\\-]? [0-9]+\n   ;\n\nWS\n   : [ \\t\\n\\r] + -&gt; skip\n   ;\n</code></pre>\n"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77332452,"answer_count":1,"score":0,"last_activity_date":1697823839,"creation_date":1697810610,"question_id":77331562,"body_markdown":"I&#39;m trying to create a grammar that is similar to json but not exactly, the data is like this:\r\n\r\n    {foo=123,bar=abc}\r\n\r\nbasically, names and strings do not have double quotes and equal sign instead of comma for key value seperator, I have the grammar based off the [json v4][1] grammar, except I have following modifications:\r\n\r\n    pair\r\n       : STRING &#39;=&#39; value\r\n       ;\r\n\r\n    value\r\n       : STRING\r\n       |  NUMBER ....;\r\n\r\n    STRING\r\n        : (ESC | SAFECODEPOINT)+\r\n        ;\r\n\r\nBut parsing above data snippet, the parser will treat the  whol string as a single value, without break it into tokens. I think the problem is STRING definition. How can I fix the STRING token definition?\r\n\r\n  [1]: https://github.com/antlr/grammars-v4/blob/master/json/JSON.g4","title":"customized grammar similar to json","body":"<p>I'm trying to create a grammar that is similar to json but not exactly, the data is like this:</p>\n<pre><code>{foo=123,bar=abc}\n</code></pre>\n<p>basically, names and strings do not have double quotes and equal sign instead of comma for key value seperator, I have the grammar based off the <a href=\"https://github.com/antlr/grammars-v4/blob/master/json/JSON.g4\" rel=\"nofollow noreferrer\">json v4</a> grammar, except I have following modifications:</p>\n<pre><code>pair\n   : STRING '=' value\n   ;\n\nvalue\n   : STRING\n   |  NUMBER ....;\n\nSTRING\n    : (ESC | SAFECODEPOINT)+\n    ;\n</code></pre>\n<p>But parsing above data snippet, the parser will treat the  whol string as a single value, without break it into tokens. I think the problem is STRING definition. How can I fix the STRING token definition?</p>\n"},{"tags":["java","spring-boot","junit5"],"answers":[{"comments":[{"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"score":0,"creation_date":1697827356,"post_id":77332833,"comment_id":136333194,"body_markdown":"It resolve my problem, thank you.","body":"It resolve my problem, thank you."}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697823670,"creation_date":1697823670,"answer_id":77332833,"question_id":77332752,"body_markdown":"looks like `/api` is context path and you don&#39;t need to have context path in `mockMvc.perform(get(&quot;/api/user&quot;))`, remove the context path as below should work\r\n\r\n    mockMvc.perform(get(&quot;/user&quot;))\r\n            .andExpect(status().isOk())\r\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(content().json(&quot;[{&#39;id&#39;: 1, &#39;name&#39;: &#39;Alice&#39;, &#39;email&#39;: &#39;alice@example.com&#39;}]&quot;));\r\n\r\n ","title":"SpringBootTest mockMvc returns 404 instead of 200","body":"<p>looks like <code>/api</code> is context path and you don't need to have context path in <code>mockMvc.perform(get(&quot;/api/user&quot;))</code>, remove the context path as below should work</p>\n<pre><code>mockMvc.perform(get(&quot;/user&quot;))\n        .andExpect(status().isOk())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(content().json(&quot;[{'id': 1, 'name': 'Alice', 'email': 'alice@example.com'}]&quot;));\n</code></pre>\n"}],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77332833,"answer_count":1,"score":0,"last_activity_date":1697823745,"creation_date":1697822485,"question_id":77332752,"body_markdown":"I&#39;m testing some end points. They are return what&#39;s is supposed to if i hit in bowser.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo, i building tests for them.\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class UserControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n    \r\n    @MockBean\r\n    private UserRepository userRepository;\r\n\r\n    private List&lt;UserEntity&gt; sampleUsers;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).dispatchOptions(true).build();\r\n        this.sampleUsers = Arrays.asList(\r\n                new UserEntity(1, &quot;Alice&quot;, &quot;alice@example.com&quot;, &quot;alicePassword&quot;),\r\n                new UserEntity(2, &quot;Bob&quot;, &quot;bob@example.com&quot;, &quot;bobPassword&quot;)\r\n        );\r\n    }\r\n\r\n    @Test\r\n    public void getAllUsers_shouldReturnUsers() throws Exception {\r\n        given(userRepository.findAll()).willReturn(sampleUsers);\r\n\r\n        mockMvc.perform(get(&quot;/api/user&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(content().json(&quot;[{&#39;id&#39;: 1, &#39;name&#39;: &#39;Alice&#39;, &#39;email&#39;: &#39;alice@example.com&#39;}]&quot;));\r\n    }\r\n\r\nbut when execute this test, it&#39;s return this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrVQV.png\r\n  [2]: https://i.stack.imgur.com/6StAt.png\r\n\r\nI don&#39;t know why this is. Someone could help me?\r\n\r\nThere the controller and repository classes:\r\n\r\n**This is my controller:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    @Api(value = &quot;User Management System&quot;)\r\n    public class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @ApiOperation(value = &quot;Get a user by Id&quot;, response = UserEntity.class)\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;UserEntity&gt; getUserById(@PathVariable int id) {\r\n        UserEntity user = userRepository.findById(id);\r\n        if(user != null) {\r\n            return ResponseEntity.ok(user);\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n    @ApiOperation(value = &quot;Get all users&quot;, response = List.class)\r\n    @GetMapping\r\n    public List&lt;UserEntity&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n-----------------------\r\n**This is my service class**\r\n\r\n    @Service\r\n    public class UserRepositoryImpl implements UserRepository {\r\n\r\n    @Autowired\r\n    private DSLContext dsl;\r\n\r\n    @Override\r\n    public UserEntity findById(int id) {\r\n        UsersRecord record = dsl.selectFrom(USERS)\r\n                .where(USERS.ID.eq(id))\r\n                .fetchOne();\r\n        if (record != null) {\r\n            return record.into(UserEntity.class);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;UserEntity&gt; findAll() {\r\n        return dsl.selectFrom(USERS).fetchInto(UserEntity.class);\r\n    }\r\n\r\n_________________________\r\n**This is my repository**\r\n\r\n    @Repository\r\n    public interface UserRepository  {\r\n\r\n    UserEntity findById(int id);\r\n    List&lt;UserEntity&gt; findAll();\r\n    UserEntity save(UserEntity user);\r\n    void delete(int id);\r\n    }","title":"SpringBootTest mockMvc returns 404 instead of 200","body":"<p>I'm testing some end points. They are return what's is supposed to if i hit in bowser.</p>\n<p><a href=\"https://i.stack.imgur.com/hrVQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrVQV.png\" alt=\"enter image description here\" /></a></p>\n<p>So, i building tests for them.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class UserControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@Autowired\nprivate WebApplicationContext webApplicationContext;\n\n@MockBean\nprivate UserRepository userRepository;\n\nprivate List&lt;UserEntity&gt; sampleUsers;\n\n@BeforeEach\npublic void setUp() {\n    this.mockMvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).dispatchOptions(true).build();\n    this.sampleUsers = Arrays.asList(\n            new UserEntity(1, &quot;Alice&quot;, &quot;alice@example.com&quot;, &quot;alicePassword&quot;),\n            new UserEntity(2, &quot;Bob&quot;, &quot;bob@example.com&quot;, &quot;bobPassword&quot;)\n    );\n}\n\n@Test\npublic void getAllUsers_shouldReturnUsers() throws Exception {\n    given(userRepository.findAll()).willReturn(sampleUsers);\n\n    mockMvc.perform(get(&quot;/api/user&quot;))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n            .andExpect(content().json(&quot;[{'id': 1, 'name': 'Alice', 'email': 'alice@example.com'}]&quot;));\n}\n</code></pre>\n<p>but when execute this test, it's return this:</p>\n<p><a href=\"https://i.stack.imgur.com/6StAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6StAt.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know why this is. Someone could help me?</p>\n<p>There the controller and repository classes:</p>\n<p><strong>This is my controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\n@Api(value = &quot;User Management System&quot;)\npublic class UserController {\n\n@Autowired\nprivate UserRepository userRepository;\n\n@ApiOperation(value = &quot;Get a user by Id&quot;, response = UserEntity.class)\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;UserEntity&gt; getUserById(@PathVariable int id) {\n    UserEntity user = userRepository.findById(id);\n    if(user != null) {\n        return ResponseEntity.ok(user);\n    } else {\n        return ResponseEntity.notFound().build();\n    }\n}\n\n@ApiOperation(value = &quot;Get all users&quot;, response = List.class)\n@GetMapping\npublic List&lt;UserEntity&gt; getAllUsers() {\n    return userRepository.findAll();\n}\n</code></pre>\n<hr />\n<p><strong>This is my service class</strong></p>\n<pre><code>@Service\npublic class UserRepositoryImpl implements UserRepository {\n\n@Autowired\nprivate DSLContext dsl;\n\n@Override\npublic UserEntity findById(int id) {\n    UsersRecord record = dsl.selectFrom(USERS)\n            .where(USERS.ID.eq(id))\n            .fetchOne();\n    if (record != null) {\n        return record.into(UserEntity.class);\n    }\n    return null;\n}\n\n@Override\npublic List&lt;UserEntity&gt; findAll() {\n    return dsl.selectFrom(USERS).fetchInto(UserEntity.class);\n}\n</code></pre>\n<hr />\n<p><strong>This is my repository</strong></p>\n<pre><code>@Repository\npublic interface UserRepository  {\n\nUserEntity findById(int id);\nList&lt;UserEntity&gt; findAll();\nUserEntity save(UserEntity user);\nvoid delete(int id);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1692684754,"post_id":76950491,"comment_id":135653585,"body_markdown":"&quot;when I build&quot; How exactly are you building? Perhaps you don&#39;t have Lombok set up properly.","body":"&quot;when I build&quot; How exactly are you building? Perhaps you don&#39;t have Lombok set up properly."},{"owner":{"account_id":25835459,"reputation":1,"user_id":19571934,"display_name":"Yun"},"score":0,"creation_date":1692684845,"post_id":76950491,"comment_id":135653601,"body_markdown":"I have built using IntelliJ. Thanks for your comment. I will check for Lombok setup.","body":"I have built using IntelliJ. Thanks for your comment. I will check for Lombok setup."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692684853,"post_id":76950491,"comment_id":135653602,"body_markdown":"And I don&#39;t understand your second question. What&#39;s &quot;the User file&quot;? What is &quot;it&quot;?","body":"And I don&#39;t understand your second question. What&#39;s &quot;the User file&quot;? What is &quot;it&quot;?"},{"owner":{"account_id":25835459,"reputation":1,"user_id":19571934,"display_name":"Yun"},"score":0,"creation_date":1692684998,"post_id":76950491,"comment_id":135653624,"body_markdown":"&quot;the User file&quot; is User.java file.","body":"&quot;the User file&quot; is User.java file."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1692686623,"post_id":76950491,"comment_id":135653887,"body_markdown":"Error 2. is related to error 1. Fix Lombok first. Jackson needs properly functioning setters to deserialize object.","body":"Error 2. is related to error 1. Fix Lombok first. Jackson needs properly functioning setters to deserialize object."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":1,"creation_date":1692695287,"post_id":76950491,"comment_id":135655618,"body_markdown":"User is a very common class name, make sure you have imported your User class. Also as others suggested, remove the Data annotation and make your own getters and setters if that works indeed it is a Lombok setup issue.","body":"User is a very common class name, make sure you have imported your User class. Also as others suggested, remove the Data annotation and make your own getters and setters if that works indeed it is a Lombok setup issue."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1692695366,"post_id":76950491,"comment_id":135655632,"body_markdown":"What IDEA are you using? Are the methods marked red?","body":"What IDEA are you using? Are the methods marked red?"},{"owner":{"account_id":25835459,"reputation":1,"user_id":19571934,"display_name":"Yun"},"score":0,"creation_date":1692862298,"post_id":76950491,"comment_id":135682164,"body_markdown":"I&#39;m using IneliiJ and problems was solved. Lombok setting was the cause.","body":"I&#39;m using IneliiJ and problems was solved. Lombok setting was the cause."}],"owner":{"account_id":25835459,"reputation":1,"user_id":19571934,"display_name":"Yun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697822537,"creation_date":1692684571,"question_id":76950491,"body_markdown":"I created a Spring Boot project for a simple test and tried to verify it, but I couldn&#39;t resolve the issue, so I&#39;m reaching out with a question.\r\n\r\nThe code below is essentially all there is:\r\n\r\n\r\n\r\n    //UserController.java\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n\r\n        @PostMapping(&quot;/hello&quot;)\r\n        public String hello(@RequestBody User user) {\r\n\r\n            //error: cannot find symbol\r\n            //        System.out.println(user.getName());\r\n            System.out.println(user.getName());\r\n            System.out.println(user.getMessage());\r\n            return &quot;Hello &quot;;\r\n        }\r\n    }\r\n\r\n    // User.java\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n\r\n        @JsonProperty\r\n        private String name;\r\n\r\n        @JsonProperty\r\n        private String message;\r\n    }\r\n\r\n\r\n\r\n1) When I build, I get the error: cannot find symbol error at the `user.getName()` and `user.getMessage()` parts. These are clearly existing member variables, so why am I getting this error?\r\n\r\n2) When testing the API, if there&#39;s no `@JsonProperty `in the User file, it gets set to null. I didnt start the member variable with a capital letter, so why is this happening?\r\n\r\n\r\n","title":"Why is the &quot;find symbol error&quot; occurring, and why is data set to null in Spring Boot?","body":"<p>I created a Spring Boot project for a simple test and tried to verify it, but I couldn't resolve the issue, so I'm reaching out with a question.</p>\n<p>The code below is essentially all there is:</p>\n<pre><code>//UserController.java\n@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @PostMapping(&quot;/hello&quot;)\n    public String hello(@RequestBody User user) {\n\n        //error: cannot find symbol\n        //        System.out.println(user.getName());\n        System.out.println(user.getName());\n        System.out.println(user.getMessage());\n        return &quot;Hello &quot;;\n    }\n}\n\n// User.java\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @JsonProperty\n    private String name;\n\n    @JsonProperty\n    private String message;\n}\n</code></pre>\n<ol>\n<li><p>When I build, I get the error: cannot find symbol error at the <code>user.getName()</code> and <code>user.getMessage()</code> parts. These are clearly existing member variables, so why am I getting this error?</p>\n</li>\n<li><p>When testing the API, if there's no <code>@JsonProperty </code>in the User file, it gets set to null. I didnt start the member variable with a capital letter, so why is this happening?</p>\n</li>\n</ol>\n"},{"tags":["java","android","json","retrofit2"],"comments":[{"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"score":0,"creation_date":1655104357,"post_id":72598874,"comment_id":128242075,"body_markdown":"Try `Gson().toJson(your_object)`","body":"Try <code>Gson().toJson(your_object)</code>"},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655104678,"post_id":72598874,"comment_id":128242163,"body_markdown":"@Kartik What I want to know is how to pass the object by using Request body","body":"@Kartik What I want to know is how to pass the object by using Request body"},{"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"score":0,"creation_date":1655106158,"post_id":72598874,"comment_id":128242641,"body_markdown":"What is your requirement? To pass the jsonObject as string or pass the jsonObject directly?","body":"What is your requirement? To pass the jsonObject as string or pass the jsonObject directly?"},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655106191,"post_id":72598874,"comment_id":128242653,"body_markdown":"@Kartik to pass JsonObject Directly","body":"@Kartik to pass JsonObject Directly"},{"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"score":0,"creation_date":1655106726,"post_id":72598874,"comment_id":128242801,"body_markdown":"Did you try `@Body` in a `@POST` request? Just pass this object as an `@Body` param and see if that works.","body":"Did you try <code>@Body</code> in a <code>@POST</code> request? Just pass this object as an <code>@Body</code> param and see if that works."},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655107095,"post_id":72598874,"comment_id":128242899,"body_markdown":"Tried but even that doesn&#39;t work it gives error, i&#39;m really confused as i have to post an image to with the request i&#39;m using Multi-Part so the rest thing i have to send as `@Part`  and not `@Body`","body":"Tried but even that doesn&#39;t work it gives error, i&#39;m really confused as i have to post an image to with the request i&#39;m using Multi-Part so the rest thing i have to send as <code>@Part</code>  and not <code>@Body</code>"},{"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"score":0,"creation_date":1655107181,"post_id":72598874,"comment_id":128242930,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/245545/discussion-between-kartik-and-rahul-pandey).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/245545/discussion-between-kartik-and-rahul-pandey\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9479691,"reputation":1604,"user_id":7048025,"display_name":"Amer Alzibak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697821586,"creation_date":1697821586,"answer_id":77332684,"question_id":72598874,"body_markdown":"\r\nFirst you need to declare a method in your RetrofitService:\r\n\r\n    interface RetrofitService {\r\n        @POST(&quot;path&quot;)\r\n        Call&lt;ResponseBody&gt; update(@Body RequestBody requestBody);\r\n    }\r\n\r\n\r\nNext you need to create a RequestBody and Call object:\r\n\r\n\r\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(&quot;http://somedomain.com&quot;).build();\r\n        RetrofitService retrofitService = retrofit.create(RetrofitService.class);\r\n        \r\n        String strRequestBody = &quot;body&quot;;\r\n        //use text/json for Json data string, or use text/plain for any other text\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;text/json&quot;), bodyTextStringJsonValue);\r\n        Call&lt;ResponseBody&gt; call = retrofitService.update(requestBody);\r\n\r\n","title":"How to Post Raw Json Object in Android (Java) using Retrofit without POJO class","body":"<p>First you need to declare a method in your RetrofitService:</p>\n<pre><code>interface RetrofitService {\n    @POST(&quot;path&quot;)\n    Call&lt;ResponseBody&gt; update(@Body RequestBody requestBody);\n}\n</code></pre>\n<p>Next you need to create a RequestBody and Call object:</p>\n<pre><code>    Retrofit retrofit = new Retrofit.Builder().baseUrl(&quot;http://somedomain.com&quot;).build();\n    RetrofitService retrofitService = retrofit.create(RetrofitService.class);\n    \n    String strRequestBody = &quot;body&quot;;\n    //use text/json for Json data string, or use text/plain for any other text\n    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;text/json&quot;), bodyTextStringJsonValue);\n    Call&lt;ResponseBody&gt; call = retrofitService.update(requestBody);\n</code></pre>\n"}],"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697822271,"creation_date":1655104010,"question_id":72598874,"body_markdown":"There are two activities, Activity A and Activity B\r\n\r\nI made an API call in activity A and converted the `JsonObject` into string for my further use, now I again converted it to `JsonObject` using `JsonParser.parseString(JsonObject which was converted to string).getAsJsonObject();` \r\n\r\nNow I made a Post API Call to send it same as `Jsonobject` to server Using retrofit 2.9.0 for some reason it&#39;s converted it to string when sent it \r\nBy the way, I Have already tried 10-15 Stack Overflow examples but none worked till now. So if you have personally sent raw `jsonobject` to post API, your help is much appreciated!\r\n\r\nHere is sample JsonObject data: \r\n```json\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;care_of&quot;: &quot;S/O: Kaleen Bhaiya&quot;,\r\n        &quot;full_name&quot;: &quot;Munna Bhaiya&quot;,\r\n        &quot;aadhaar_number&quot;: &quot;123456789011&quot;,\r\n        &quot;zip&quot;: &quot;110088&quot;,\r\n        &quot;gender&quot;: &quot;M&quot;,\r\n        &quot;share_code&quot;: &quot;6921&quot;,\r\n        &quot;face_score&quot;: -1,\r\n        &quot;raw_xml&quot;: &quot;https://link-to-docs&quot;,\r\n        &quot;has_image&quot;: true,\r\n        &quot;address&quot;: {\r\n            &quot;loc&quot;: &quot;Lehna Singh Market&quot;,\r\n            &quot;street&quot;: &quot;&quot;,\r\n            &quot;house&quot;: &quot;Flat No - 123&quot;,\r\n            &quot;po&quot;: &quot;Mirzapur&quot;,\r\n            &quot;country&quot;: &quot;India&quot;,\r\n            &quot;subdist&quot;: &quot;Mirzapur&quot;,\r\n            &quot;vtc&quot;: &quot;Mirzapur&quot;,\r\n            &quot;dist&quot;: &quot;North Mirzapur&quot;,\r\n            &quot;state&quot;: &quot;Uttar Pradesh&quot;\r\n        },\r\n        &quot;client_id&quot;: &quot;aadhaar_v2_JlgixCkkkqinfMqtnThX&quot;,\r\n        &quot;zip_data&quot;: &quot;https://link-to-zip&quot;,\r\n        &quot;profile_image&quot;: &quot;base_64_image&quot;,\r\n        &quot;face_status&quot;: false,\r\n        &quot;dob&quot;: &quot;1996-01-01&quot;\r\n    },\r\n    &quot;success&quot;: true,\r\n    &quot;message_code&quot;: &quot;success&quot;,\r\n    &quot;status_code&quot;: 200,\r\n    &quot;message&quot;: null\r\n}\r\n```\r\n\r\nBut What I&#39;m getting is object converted to string, so how should I eliminate This that **backward slash** from this to make it `jsonObject`?\r\n```json\r\n{\r\n    \\&quot;data\\&quot;: {\r\n        \\&quot;care_of\\&quot;: \\&quot;S/O: Kaleen Bhaiya\\&quot;,\r\n        \\&quot;full_name\\&quot;: \\&quot;Munna Bhaiya\\&quot;,\r\n        \\&quot;aadhaar_number\\&quot;: \\&quot;123456789011\\&quot;,\r\n        \\&quot;zip\\&quot;: \\&quot;110088\\&quot;,\r\n        \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\r\n        \\&quot;share_code\\&quot;: \\&quot;6921\\&quot;,\r\n        \\&quot;face_score\\&quot;: \\-1\\,\r\n        \\&quot;raw_xml\\&quot;: \\&quot;https://link-to-docs\\&quot;,\r\n        \\&quot;has_image\\&quot;: \\true\\,\r\n        \\&quot;address\\&quot;: \\{\r\n            \\&quot;loc\\&quot;: \\&quot;Lehna Singh Market\\&quot;,\r\n            \\&quot;street\\&quot;: &quot;&quot;,\r\n            \\&quot;house\\&quot;: \\&quot;Flat No - 123\\&quot;,\r\n            \\&quot;po\\&quot;: \\&quot;Mirzapur\\&quot;,\r\n            \\&quot;country\\&quot;: \\&quot;India\\&quot;,\r\n            \\&quot;subdist\\&quot;: \\&quot;Mirzapur&quot;,\r\n            \\&quot;vtc\\&quot;: \\&quot;Mirzapur\\&quot;,\r\n            \\&quot;dist\\&quot;: \\&quot;North Mirzapur\\&quot;,\r\n            \\&quot;state\\&quot;: \\&quot;Uttar Pradesh\\&quot;\r\n        },\r\n        \\&quot;client_id\\&quot;: \\&quot;aadhaar_v2_JlgixCkkkqinfMqtnThX\\&quot;,\r\n        \\&quot;zip_data\\&quot;: \\&quot;https://link-to-zip\\&quot;,\r\n        \\&quot;profile_image\\&quot;: \\&quot;base_64_image\\&quot;,\r\n        \\&quot;face_status\\&quot;: \\false\\,\r\n        \\&quot;dob\\&quot;: \\&quot;1996-01-01\\&quot;\r\n    },\\\r\n    \\&quot;success\\&quot;: \\true\\,\r\n    \\&quot;message_code\\&quot;: \\&quot;success\\&quot;,\r\n    \\&quot;status_code\\&quot;: \\200\\,\r\n    \\&quot;message\\&quot;: \\null\\\r\n}\r\n```","title":"How to Post Raw Json Object in Android (Java) using Retrofit without POJO class","body":"<p>There are two activities, Activity A and Activity B</p>\n<p>I made an API call in activity A and converted the <code>JsonObject</code> into string for my further use, now I again converted it to <code>JsonObject</code> using <code>JsonParser.parseString(JsonObject which was converted to string).getAsJsonObject();</code></p>\n<p>Now I made a Post API Call to send it same as <code>Jsonobject</code> to server Using retrofit 2.9.0 for some reason it's converted it to string when sent it\nBy the way, I Have already tried 10-15 Stack Overflow examples but none worked till now. So if you have personally sent raw <code>jsonobject</code> to post API, your help is much appreciated!</p>\n<p>Here is sample JsonObject data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: {\n        &quot;care_of&quot;: &quot;S/O: Kaleen Bhaiya&quot;,\n        &quot;full_name&quot;: &quot;Munna Bhaiya&quot;,\n        &quot;aadhaar_number&quot;: &quot;123456789011&quot;,\n        &quot;zip&quot;: &quot;110088&quot;,\n        &quot;gender&quot;: &quot;M&quot;,\n        &quot;share_code&quot;: &quot;6921&quot;,\n        &quot;face_score&quot;: -1,\n        &quot;raw_xml&quot;: &quot;https://link-to-docs&quot;,\n        &quot;has_image&quot;: true,\n        &quot;address&quot;: {\n            &quot;loc&quot;: &quot;Lehna Singh Market&quot;,\n            &quot;street&quot;: &quot;&quot;,\n            &quot;house&quot;: &quot;Flat No - 123&quot;,\n            &quot;po&quot;: &quot;Mirzapur&quot;,\n            &quot;country&quot;: &quot;India&quot;,\n            &quot;subdist&quot;: &quot;Mirzapur&quot;,\n            &quot;vtc&quot;: &quot;Mirzapur&quot;,\n            &quot;dist&quot;: &quot;North Mirzapur&quot;,\n            &quot;state&quot;: &quot;Uttar Pradesh&quot;\n        },\n        &quot;client_id&quot;: &quot;aadhaar_v2_JlgixCkkkqinfMqtnThX&quot;,\n        &quot;zip_data&quot;: &quot;https://link-to-zip&quot;,\n        &quot;profile_image&quot;: &quot;base_64_image&quot;,\n        &quot;face_status&quot;: false,\n        &quot;dob&quot;: &quot;1996-01-01&quot;\n    },\n    &quot;success&quot;: true,\n    &quot;message_code&quot;: &quot;success&quot;,\n    &quot;status_code&quot;: 200,\n    &quot;message&quot;: null\n}\n</code></pre>\n<p>But What I'm getting is object converted to string, so how should I eliminate This that <strong>backward slash</strong> from this to make it <code>jsonObject</code>?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \\&quot;data\\&quot;: {\n        \\&quot;care_of\\&quot;: \\&quot;S/O: Kaleen Bhaiya\\&quot;,\n        \\&quot;full_name\\&quot;: \\&quot;Munna Bhaiya\\&quot;,\n        \\&quot;aadhaar_number\\&quot;: \\&quot;123456789011\\&quot;,\n        \\&quot;zip\\&quot;: \\&quot;110088\\&quot;,\n        \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\n        \\&quot;share_code\\&quot;: \\&quot;6921\\&quot;,\n        \\&quot;face_score\\&quot;: \\-1\\,\n        \\&quot;raw_xml\\&quot;: \\&quot;https://link-to-docs\\&quot;,\n        \\&quot;has_image\\&quot;: \\true\\,\n        \\&quot;address\\&quot;: \\{\n            \\&quot;loc\\&quot;: \\&quot;Lehna Singh Market\\&quot;,\n            \\&quot;street\\&quot;: &quot;&quot;,\n            \\&quot;house\\&quot;: \\&quot;Flat No - 123\\&quot;,\n            \\&quot;po\\&quot;: \\&quot;Mirzapur\\&quot;,\n            \\&quot;country\\&quot;: \\&quot;India\\&quot;,\n            \\&quot;subdist\\&quot;: \\&quot;Mirzapur&quot;,\n            \\&quot;vtc\\&quot;: \\&quot;Mirzapur\\&quot;,\n            \\&quot;dist\\&quot;: \\&quot;North Mirzapur\\&quot;,\n            \\&quot;state\\&quot;: \\&quot;Uttar Pradesh\\&quot;\n        },\n        \\&quot;client_id\\&quot;: \\&quot;aadhaar_v2_JlgixCkkkqinfMqtnThX\\&quot;,\n        \\&quot;zip_data\\&quot;: \\&quot;https://link-to-zip\\&quot;,\n        \\&quot;profile_image\\&quot;: \\&quot;base_64_image\\&quot;,\n        \\&quot;face_status\\&quot;: \\false\\,\n        \\&quot;dob\\&quot;: \\&quot;1996-01-01\\&quot;\n    },\\\n    \\&quot;success\\&quot;: \\true\\,\n    \\&quot;message_code\\&quot;: \\&quot;success\\&quot;,\n    \\&quot;status_code\\&quot;: \\200\\,\n    \\&quot;message\\&quot;: \\null\\\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito","modelmapper"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1692766885,"post_id":76958330,"comment_id":135667434,"body_markdown":"Looks like you have given the arguments in wrong order for `modelMapper.map` method in `when(modelMapper.map(any(Post.class), eq(PostResponseDto.class))).thenReturn(postResponseDto);` line. Try after correcting it.","body":"Looks like you have given the arguments in wrong order for <code>modelMapper.map</code> method in <code>when(modelMapper.map(any(Post.class), eq(PostResponseDto.class))).thenReturn(postResponseDto);</code> line. Try after correcting it."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1692831886,"post_id":76958330,"comment_id":135679242,"body_markdown":"If I am not reading wrong, you are passing the wrong parameter to the verify on `save` operation. Try `verify(postRepository, times(1)).save(post);` as `mockUpdatedPost` is the out param, not the input to the `save` call","body":"If I am not reading wrong, you are passing the wrong parameter to the verify on <code>save</code> operation. Try <code>verify(postRepository, times(1)).save(post);</code> as <code>mockUpdatedPost</code> is the out param, not the input to the <code>save</code> call"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697822245,"creation_date":1694939703,"answer_id":77121062,"question_id":76958330,"body_markdown":"You have set up your repository to return `post`, which is then saved by your service method:\r\n\r\n```\r\n// stub:\r\ndoReturn(Optional.of(post)).when(postRepository).findById(post.getId());\r\n\r\n// service:\r\nOptional&lt;Post&gt; postOptional = postRepository.findById(uuid);\r\n// ...\r\nreturn Optional.of(modelMapper.map(\r\n  postRepository.save(post), // &lt;-- saved here\r\n  PostResponseDto.class));\r\n```\r\n\r\nYet, you verify that `save` has been called with `mockUpdatePost`, which is a different instance:\r\n\r\n```\r\nverify(postRepository, times(1)).save(mockUpdatedPost);\r\n```\r\n\r\nThis can also be seen from the error message:\r\n\r\n```\r\nWanted but not invoked:\r\npostRepository.save(\r\n    com.example.justatest.post.Post@6edaa77a // &lt;-- instance 6edaa77a\r\n);\r\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\r\n\r\nHowever, there were exactly 2 interactions with this mock:\r\n...\r\n\r\npostRepository.save(\r\n    com.example.justatest.post.Post@5bfc257 // &lt;-- instance 5bfc257\r\n);\r\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\r\n```\r\n\r\nFix your verify call to expect the correct instance:\r\n\r\n```\r\nverify(postRepository).save(post);\r\n```\r\n\r\nPS. When stubbing the calls on your mock repository, you are using the correct `post` instance:\r\n\r\n```\r\ndoReturn(mockUpdatedPost).when(postRepository).save(post);\r\n```\r\n\r\nWith strict stubbing mode of Mockito (the default in newer versions), the test will fail if a stubbed method has not been called, so the `verify` call is actually redundant (but you might still prefer it for explicitly clarifying your intent).","title":"Wanted but not invoked error when Testing Spring Boot Service with Mockito","body":"<p>You have set up your repository to return <code>post</code>, which is then saved by your service method:</p>\n<pre><code>// stub:\ndoReturn(Optional.of(post)).when(postRepository).findById(post.getId());\n\n// service:\nOptional&lt;Post&gt; postOptional = postRepository.findById(uuid);\n// ...\nreturn Optional.of(modelMapper.map(\n  postRepository.save(post), // &lt;-- saved here\n  PostResponseDto.class));\n</code></pre>\n<p>Yet, you verify that <code>save</code> has been called with <code>mockUpdatePost</code>, which is a different instance:</p>\n<pre><code>verify(postRepository, times(1)).save(mockUpdatedPost);\n</code></pre>\n<p>This can also be seen from the error message:</p>\n<pre><code>Wanted but not invoked:\npostRepository.save(\n    com.example.justatest.post.Post@6edaa77a // &lt;-- instance 6edaa77a\n);\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\n\nHowever, there were exactly 2 interactions with this mock:\n...\n\npostRepository.save(\n    com.example.justatest.post.Post@5bfc257 // &lt;-- instance 5bfc257\n);\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\n</code></pre>\n<p>Fix your verify call to expect the correct instance:</p>\n<pre><code>verify(postRepository).save(post);\n</code></pre>\n<p>PS. When stubbing the calls on your mock repository, you are using the correct <code>post</code> instance:</p>\n<pre><code>doReturn(mockUpdatedPost).when(postRepository).save(post);\n</code></pre>\n<p>With strict stubbing mode of Mockito (the default in newer versions), the test will fail if a stubbed method has not been called, so the <code>verify</code> call is actually redundant (but you might still prefer it for explicitly clarifying your intent).</p>\n"}],"owner":{"account_id":29279829,"reputation":3,"user_id":22432687,"display_name":"Eduardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77121062,"answer_count":1,"score":0,"last_activity_date":1697822245,"creation_date":1692765826,"question_id":76958330,"body_markdown":"I&#39;m encountering this Wanted but not invoked error while writing tests for the PostService class using Mockito. The error message suggests that some error occurred while invoking the save method from the post repository. Here&#39;s the error message:\r\n\r\n```\r\nWanted but not invoked:\r\npostRepository.save(\r\n    com.example.justatest.post.Post@6edaa77a\r\n);\r\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\r\n\r\nHowever, there were exactly 2 interactions with this mock:\r\npostRepository.findById(\r\n    c74dd65f-2438-4137-9d6d-a664a3f95621\r\n);\r\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:36)\r\n\r\npostRepository.save(\r\n    com.example.justatest.post.Post@5bfc257\r\n);\r\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\r\n\r\n\r\nWanted but not invoked:\r\npostRepository.save(\r\n    com.example.justatest.post.Post@6edaa77a\r\n);\r\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\r\n\r\nHowever, there were exactly 2 interactions with this mock:\r\npostRepository.findById(\r\n    c74dd65f-2438-4137-9d6d-a664a3f95621\r\n);\r\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:36)\r\n\r\npostRepository.save(\r\n    com.example.justatest.post.Post@5bfc257\r\n);\r\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\r\n```\r\n\r\nThe error seems to be happening due to a mismatch between the stubbing of the modelMapper.map method and its invocation in the PostService class during the update method. I&#39;ve looked into the error message, and I&#39;m unsure how to resolve this issue. Here&#39;s the relevant code:\r\n\r\n**Service class:**\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class PostService {\r\n    private final PostRepository postRepository;\r\n    private final ModelMapper modelMapper;\r\n\r\n    public Optional&lt;PostResponseDto&gt; update(UUID uuid, PostRequestDto postRequestDto) {\r\n        Optional&lt;Post&gt; postOptional = postRepository.findById(uuid);\r\n\r\n        if (postOptional.isEmpty()) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        Post post = postOptional.get();\r\n        modelMapper.map(postRequestDto, post);\r\n\r\n        return Optional.of(modelMapper.map(postRepository.save(post), PostResponseDto.class));\r\n    }\r\n\r\n    // ... (other methods)\r\n}\r\n```\r\n\r\n**Test class:**\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass PostServiceTest {\r\n    @Mock\r\n    private PostRepository postRepository;\r\n\r\n    @Mock\r\n    private ModelMapper modelMapper;\r\n\r\n    @InjectMocks\r\n    private PostService postService;\r\n    private Post post;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        this.post = new Post(UUID.randomUUID(), &quot;title&quot;, &quot;description&quot;);\r\n    }\r\n\r\n    @Test\r\n    void shouldUpdatePost() {\r\n        PostRequestDto mockPostRequestDto = new PostRequestDto(&quot;Updated Title&quot;, &quot;Updated Description&quot;);\r\n        Post mockUpdatedPost = new Post(post.getId(), mockPostRequestDto.getTitle(), mockPostRequestDto.getDescription());\r\n        PostResponseDto mockPostResponseDto = new PostResponseDto(mockUpdatedPost.getId(), mockUpdatedPost.getTitle(), mockUpdatedPost.getDescription());\r\n\r\n        doReturn(Optional.of(post)).when(postRepository).findById(post.getId());\r\n        doNothing().when(modelMapper).map(mockPostRequestDto, post);\r\n        doReturn(mockUpdatedPost).when(postRepository).save(post);\r\n        doReturn(mockPostResponseDto).when(modelMapper).map(mockUpdatedPost, PostResponseDto.class);\r\n\r\n        Optional&lt;PostResponseDto&gt; updatedPostOptional = postService.update(post.getId(), mockPostRequestDto);\r\n\r\n        assertTrue(updatedPostOptional.isPresent());\r\n        PostResponseDto updatedPost = updatedPostOptional.get();\r\n\r\n        assertEquals(mockPostResponseDto.getId(), updatedPost.getId());\r\n        assertEquals(mockPostResponseDto.getTitle(), updatedPost.getTitle());\r\n        assertEquals(mockPostResponseDto.getDescription(), updatedPost.getDescription());\r\n\r\n        verify(postRepository, times(1)).findById(post.getId());\r\n        verify(postRepository, times(1)).save(mockUpdatedPost);\r\n        verify(modelMapper, times(1)).map(mockPostRequestDto, post);\r\n        verify(modelMapper, times(1)).map(mockUpdatedPost, PostResponseDto.class);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m unable to determine what&#39;s causing this problem and how to resolve it. Any help in understanding the issue and finding a solution would be greatly appreciated.","title":"Wanted but not invoked error when Testing Spring Boot Service with Mockito","body":"<p>I'm encountering this Wanted but not invoked error while writing tests for the PostService class using Mockito. The error message suggests that some error occurred while invoking the save method from the post repository. Here's the error message:</p>\n<pre><code>Wanted but not invoked:\npostRepository.save(\n    com.example.justatest.post.Post@6edaa77a\n);\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\n\nHowever, there were exactly 2 interactions with this mock:\npostRepository.findById(\n    c74dd65f-2438-4137-9d6d-a664a3f95621\n);\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:36)\n\npostRepository.save(\n    com.example.justatest.post.Post@5bfc257\n);\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\n\n\nWanted but not invoked:\npostRepository.save(\n    com.example.justatest.post.Post@6edaa77a\n);\n-&gt; at com.example.justatest.post.PostServiceTest.shouldUpdatePost(PostServiceTest.java:139)\n\nHowever, there were exactly 2 interactions with this mock:\npostRepository.findById(\n    c74dd65f-2438-4137-9d6d-a664a3f95621\n);\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:36)\n\npostRepository.save(\n    com.example.justatest.post.Post@5bfc257\n);\n-&gt; at com.example.justatest.post.PostService.update(PostService.java:45)\n</code></pre>\n<p>The error seems to be happening due to a mismatch between the stubbing of the modelMapper.map method and its invocation in the PostService class during the update method. I've looked into the error message, and I'm unsure how to resolve this issue. Here's the relevant code:</p>\n<p><strong>Service class:</strong></p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PostService {\n    private final PostRepository postRepository;\n    private final ModelMapper modelMapper;\n\n    public Optional&lt;PostResponseDto&gt; update(UUID uuid, PostRequestDto postRequestDto) {\n        Optional&lt;Post&gt; postOptional = postRepository.findById(uuid);\n\n        if (postOptional.isEmpty()) {\n            return Optional.empty();\n        }\n\n        Post post = postOptional.get();\n        modelMapper.map(postRequestDto, post);\n\n        return Optional.of(modelMapper.map(postRepository.save(post), PostResponseDto.class));\n    }\n\n    // ... (other methods)\n}\n</code></pre>\n<p><strong>Test class:</strong></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass PostServiceTest {\n    @Mock\n    private PostRepository postRepository;\n\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private PostService postService;\n    private Post post;\n\n    @BeforeEach\n    void setUp() {\n        this.post = new Post(UUID.randomUUID(), &quot;title&quot;, &quot;description&quot;);\n    }\n\n    @Test\n    void shouldUpdatePost() {\n        PostRequestDto mockPostRequestDto = new PostRequestDto(&quot;Updated Title&quot;, &quot;Updated Description&quot;);\n        Post mockUpdatedPost = new Post(post.getId(), mockPostRequestDto.getTitle(), mockPostRequestDto.getDescription());\n        PostResponseDto mockPostResponseDto = new PostResponseDto(mockUpdatedPost.getId(), mockUpdatedPost.getTitle(), mockUpdatedPost.getDescription());\n\n        doReturn(Optional.of(post)).when(postRepository).findById(post.getId());\n        doNothing().when(modelMapper).map(mockPostRequestDto, post);\n        doReturn(mockUpdatedPost).when(postRepository).save(post);\n        doReturn(mockPostResponseDto).when(modelMapper).map(mockUpdatedPost, PostResponseDto.class);\n\n        Optional&lt;PostResponseDto&gt; updatedPostOptional = postService.update(post.getId(), mockPostRequestDto);\n\n        assertTrue(updatedPostOptional.isPresent());\n        PostResponseDto updatedPost = updatedPostOptional.get();\n\n        assertEquals(mockPostResponseDto.getId(), updatedPost.getId());\n        assertEquals(mockPostResponseDto.getTitle(), updatedPost.getTitle());\n        assertEquals(mockPostResponseDto.getDescription(), updatedPost.getDescription());\n\n        verify(postRepository, times(1)).findById(post.getId());\n        verify(postRepository, times(1)).save(mockUpdatedPost);\n        verify(modelMapper, times(1)).map(mockPostRequestDto, post);\n        verify(modelMapper, times(1)).map(mockUpdatedPost, PostResponseDto.class);\n    }\n}\n</code></pre>\n<p>I'm unable to determine what's causing this problem and how to resolve it. Any help in understanding the issue and finding a solution would be greatly appreciated.</p>\n"},{"tags":["java","loops","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":5,"creation_date":1697822449,"post_id":77332720,"comment_id":136332506,"body_markdown":"Problems that happen _sometimes_ make me think of synchronization errors; in particular, your fragment appears to be updating the scene graph from a background thread; see [*Creating Transitions and Timeline Animations*](https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/animations.htm#JFXTE149) or [*Concurrency in JavaFX*](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm).","body":"Problems that happen <i>sometimes</i> make me think of synchronization errors; in particular, your fragment appears to be updating the scene graph from a background thread; see <a href=\"https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/animations.htm#JFXTE149\" rel=\"nofollow noreferrer\"><i>Creating Transitions and Timeline Animations</i></a> or <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\"><i>Concurrency in JavaFX</i></a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1697825858,"post_id":77332720,"comment_id":136332995,"body_markdown":"You *must not* access a live scene graph from a background thread, which you appear to be doing in you `scheduler`","body":"You <i>must not</i> access a live scene graph from a background thread, which you appear to be doing in you <code>scheduler</code>"}],"owner":{"account_id":23969355,"reputation":27,"user_id":17958294,"display_name":"king cannibal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697822084,"creation_date":1697822084,"question_id":77332720,"body_markdown":"recently i&#39;ve been using javafx and i&#39;ve encountered a problem. In my code, i have a arraylist that checks for the nearby blocks to the player, if you can make that more resource light i would really appriciate it. After nearby blocks are added or removed from the arraylist i have some extra code to check if the user is touching one of the faces of the cube to prevent the player walking through.&#39;Nearby&#39; is streamed to testtouch1 method. &#39;tc&#39; arraylist is then stream for each, tc is the gravity arraylist its not nessicarry to add for this error but ill add it anyway.\r\n\r\nin testtouch1 method it checks each cube in &#39;near&#39; if its touching if it is add it, again it would ill appricate it if i could get some redirection to make this more resource light, after it streams to testtouch method where it checks if the player is on top of a block and executes if it is\r\n\r\nMy code is a bit hard to read so i tried to explain it the very best and i cant share my files of my project because it has a few java libarys like javafx\r\n\r\nthe error:\r\n```\r\nat javafx.graphics@21/javafx.scene.Scene$MouseHandler.pickNode(Scene.java:4127)\r\n\tat javafx.graphics@21/javafx.scene.Scene.pick(Scene.java:2070)\r\n\tat javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3937)\r\n\tat javafx.graphics@21/javafx.scene.Scene$MouseHandler$1.run(Scene.java:3741)\r\n\tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nthe first loop for getting &#39;nearby&#39; and leading onto the rest:\r\n```\r\n   ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    Runnable toRun = new Runnable() {\r\n        public void run() {\r\n           \r\n             cc.getChildren().stream().forEach(node -&gt;{\r\n     if(node.getBoundsInLocal() != null){\r\n         try {\r\n             \r\n          final Point3D boxPosition = node.localToScene(Point3D.ZERO);\r\n           final Point3D cameraPosition = new Point3D(0,0,0);\r\n               double distance = boxPosition.distance(cameraPosition);\r\n                     System.out.println(&quot;ee&quot;);\r\n            if(distance&lt;100){\r\n          \r\n                   if( !nearby.contains(node)){\r\n                nearby.add((Group) node);\r\n}\r\n            }else{\r\n                   if(nearby.contains(node)){\r\n                    nearby.remove((Group) node);\r\n                   }\r\n            }\r\n         \r\n            }   catch (Throwable e2){ \r\n      System.out.println(&quot;\\n\\n\\n4\\n\\n\\n&quot;);\r\n  }\r\n     }\r\n        \r\n});\r\n            List&lt;Rectangle&gt; rectanglesToRemove = new ArrayList&lt;&gt;();\r\n      \r\n         for (Rectangle rect : easttouching){\r\n        Group cube = (Group) rect.getParent();\r\n        String id = cube.getId();\r\n        if(!boxpos.contains(id)){\r\n           rectanglesToRemove.add(rect);\r\n        }\r\n    }\r\n         easttouching.removeAll(rectanglesToRemove);\r\n          rectanglesToRemove.clear();\r\n         for (Rectangle rect : northtouching){\r\n        Group cube = (Group) rect.getParent();\r\n        String id = cube.getId();\r\n        if(!boxpos.contains(id)){\r\n           rectanglesToRemove.add(rect);\r\n        }\r\n    } \r\n       northtouching.removeAll(rectanglesToRemove);\r\n       rectanglesToRemove.clear();\r\n        \r\n            for (Rectangle rect : southtouching){\r\n        Group cube = (Group) rect.getParent();\r\n        String id = cube.getId();\r\n        if(!boxpos.contains(id)){\r\n           rectanglesToRemove.add(rect);\r\n        }\r\n    }\r\n            southtouching.removeAll(rectanglesToRemove);\r\n       rectanglesToRemove.clear();\r\n                 for (Rectangle rect : westtouching){\r\n        Group cube = (Group) rect.getParent();\r\n        String id = cube.getId();\r\n        if(!boxpos.contains(id)){\r\n           rectanglesToRemove.add(rect);\r\n        }\r\n    }\r\n                 southtouching.removeAll(rectanglesToRemove);\r\n       rectanglesToRemove.clear();\r\n              nearby.stream()\r\n                   .forEach(node -&gt; testtouch1((Group)node));\r\n      List&lt;Node&gt; nodesToRemove = new ArrayList&lt;&gt;();\r\ntry{\r\ntc.stream().forEach(node -&gt; {\r\n      if(node.getBoundsInLocal() != null){\r\n                System.out.println(&quot;ee1&quot;);\r\n    Bounds localBounds = node.getBoundsInLocal();\r\n    Bounds sceneBounds = node.localToScene(localBounds);\r\n\r\n    if (!hitbox.getBoundsInParent().intersects(sceneBounds)) {\r\n        nodesToRemove.add(node);\r\n    }\r\n      }\r\n});\r\n\r\n\r\ntc.removeAll(nodesToRemove);\r\n}catch(Throwable e){\r\n    \r\n        }}\r\n    };\r\n\r\n \r\nScheduledFuture&lt;?&gt; handle = scheduler.scheduleAtFixedRate(toRun, 2000, 100, TimeUnit.MILLISECONDS);\r\n\r\n ```\r\nand the test touches:\r\n```\r\n    void testtouch1(Group cubes) {\r\n       if(cubes!=null&amp;&amp;cubes.getBoundsInLocal() != null){\r\n              Platform.runLater(() -&gt; {\r\n        Bounds sceneBounds = null;\r\n        \r\n                 try {\r\n    Bounds localBounds = cubes.getBoundsInLocal();\r\n     sceneBounds = cubes.localToScene(localBounds);\r\n       }   catch (Throwable e){ \r\n      System.out.println(&quot;\\n\\n\\n3\\n\\n\\n&quot;);\r\n  }\r\n        try{\r\n             \r\n    if (westhit.getBoundsInParent().intersects(sceneBounds)) {\r\n        Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0) \r\n                   \r\n            .forEach(node -&gt; {\r\n\r\n             if (!westtouching.contains((Rectangle)node)) {\r\n                westtouching.add((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    } else {\r\n         Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0)   \r\n                 \r\n            .forEach(node -&gt; {\r\n            \r\n             if (westtouching.contains((Rectangle)node) &amp;&amp; !westtouching.isEmpty()) {\r\n               \r\n                westtouching.remove((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    }\r\nif (southhit.getBoundsInParent().intersects(sceneBounds)) {\r\n        Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0)  \r\n                    \r\n            .forEach(node -&gt; {\r\n  \r\n             if (!southtouching.contains((Rectangle)node)) {\r\n                southtouching.add((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    } else {\r\n         Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0) \r\n                  \r\n            .forEach(node -&gt; {\r\n            \r\n             if (southtouching.contains((Rectangle)node) &amp;&amp; !southtouching.isEmpty()) {\r\n               \r\n                southtouching.remove((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    }\r\n    if (northhit.getBoundsInParent().intersects(sceneBounds)) {\r\n        Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0)  \r\n                     \r\n            .forEach(node -&gt; {\r\n  \r\n             if (!northtouching.contains((Rectangle)node)) {\r\n                northtouching.add((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    } else {\r\n         Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0)  \r\n                   \r\n            .forEach(node -&gt; {\r\n            \r\n             if (northtouching.contains((Rectangle)node) &amp;&amp; !northtouching.isEmpty()) {\r\n               \r\n                northtouching.remove((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    }\r\n  if (easthit.getBoundsInParent().intersects(sceneBounds)) {\r\n        Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0)  \r\n                   \r\n            .forEach(node -&gt; {\r\n  \r\n             if (!easttouching.contains((Rectangle)node)) {\r\n                easttouching.add((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    } else {\r\n         Platform.runLater(() -&gt; {\r\n           cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \r\n                   .filter(node -&gt; node.getRotate() == 90)   \r\n                    .filter(node -&gt; node.getTranslateY() == -20)   \r\n                    .filter(node -&gt; node.getTranslateZ() == -20)   \r\n                   .filter(node -&gt; node.getTranslateX() == 0) \r\n                    \r\n            .forEach(node -&gt; {\r\n            \r\n             if (easttouching.contains((Rectangle)node) &amp;&amp; !easttouching.isEmpty()) {\r\n               \r\n                easttouching.remove((Rectangle)node);\r\n            }\r\n            \r\n            });\r\n           \r\n        \r\n        });\r\n    }\r\n    cubes.getChildren().stream()\r\n            .filter(node -&gt; node instanceof Rectangle)\r\n            .forEach(node -&gt; testtouch((Rectangle) node));\r\n        }   catch (Throwable e){ \r\n      System.out.println(&quot;\\n\\n\\n2\\n\\n\\n&quot;);\r\n  }});\r\n}}\r\n\r\n\r\n void testtouch(Rectangle cubes) {\r\n  try {\r\n     if(cubes.getRotationAxis() == Rotate.X_AXIS &amp;&amp; cubes.getRotate() == 90 &amp;&amp; cubes.getTranslateY() == -20 &amp;&amp; cubes.getTranslateZ() == -20&amp;&amp; cubes.getBoundsInLocal() != null){\r\n          Platform.runLater(()-&gt;{\r\n   \r\n   \r\n     Bounds localBounds = cubes.getBoundsInLocal();\r\nBounds sceneBounds = cubes.localToScene(localBounds);\r\n\r\nif (hitbox.getBoundsInParent().intersects(sceneBounds) &amp;&amp; cubes.getOpacity()&gt;0.5f) {\r\n \r\nif(!tc.contains(cubes)){\r\n  tc.add(cubes);\r\n}\r\n\r\n\r\n}else{\r\n    if(tc.contains(cubes)){\r\n  tc.remove(cubes);\r\n    }\r\n\r\n\r\n   \r\n\r\n}});}\r\n  } catch (Throwable e){ \r\n      System.out.println(&quot;\\n\\n\\n1\\n\\n\\n&quot;);\r\n  }\r\n}\r\n```\r\nThe error appears after this code is ran for a while and i sometimes get errors from this code in other times like this error\r\n```\r\nat javafx.graphics@21/javafx.scene.Parent.updateBounds(Parent.java:1834)\r\n\tat javafx.graphics@21/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2615)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n\tat javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n   ```\r\nand sometimes a index out of bounds error, i know these errors come from here because i used various try and catches but they dont always stop it sometimes, ive fixed most of the index out of bounds error but it seems to be persistant\r\n\r\nit would really help if you could fix it and if you can optimise or give a way to make it less resource comsumptive ","title":"javafx 3d engine, resource comsumptive and error causing","body":"<p>recently i've been using javafx and i've encountered a problem. In my code, i have a arraylist that checks for the nearby blocks to the player, if you can make that more resource light i would really appriciate it. After nearby blocks are added or removed from the arraylist i have some extra code to check if the user is touching one of the faces of the cube to prevent the player walking through.'Nearby' is streamed to testtouch1 method. 'tc' arraylist is then stream for each, tc is the gravity arraylist its not nessicarry to add for this error but ill add it anyway.</p>\n<p>in testtouch1 method it checks each cube in 'near' if its touching if it is add it, again it would ill appricate it if i could get some redirection to make this more resource light, after it streams to testtouch method where it checks if the player is on top of a block and executes if it is</p>\n<p>My code is a bit hard to read so i tried to explain it the very best and i cant share my files of my project because it has a few java libarys like javafx</p>\n<p>the error:</p>\n<pre><code>at javafx.graphics@21/javafx.scene.Scene$MouseHandler.pickNode(Scene.java:4127)\n    at javafx.graphics@21/javafx.scene.Scene.pick(Scene.java:2070)\n    at javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3937)\n    at javafx.graphics@21/javafx.scene.Scene$MouseHandler$1.run(Scene.java:3741)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@21/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>the first loop for getting 'nearby' and leading onto the rest:</p>\n<pre><code>   ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n    Runnable toRun = new Runnable() {\n        public void run() {\n           \n             cc.getChildren().stream().forEach(node -&gt;{\n     if(node.getBoundsInLocal() != null){\n         try {\n             \n          final Point3D boxPosition = node.localToScene(Point3D.ZERO);\n           final Point3D cameraPosition = new Point3D(0,0,0);\n               double distance = boxPosition.distance(cameraPosition);\n                     System.out.println(&quot;ee&quot;);\n            if(distance&lt;100){\n          \n                   if( !nearby.contains(node)){\n                nearby.add((Group) node);\n}\n            }else{\n                   if(nearby.contains(node)){\n                    nearby.remove((Group) node);\n                   }\n            }\n         \n            }   catch (Throwable e2){ \n      System.out.println(&quot;\\n\\n\\n4\\n\\n\\n&quot;);\n  }\n     }\n        \n});\n            List&lt;Rectangle&gt; rectanglesToRemove = new ArrayList&lt;&gt;();\n      \n         for (Rectangle rect : easttouching){\n        Group cube = (Group) rect.getParent();\n        String id = cube.getId();\n        if(!boxpos.contains(id)){\n           rectanglesToRemove.add(rect);\n        }\n    }\n         easttouching.removeAll(rectanglesToRemove);\n          rectanglesToRemove.clear();\n         for (Rectangle rect : northtouching){\n        Group cube = (Group) rect.getParent();\n        String id = cube.getId();\n        if(!boxpos.contains(id)){\n           rectanglesToRemove.add(rect);\n        }\n    } \n       northtouching.removeAll(rectanglesToRemove);\n       rectanglesToRemove.clear();\n        \n            for (Rectangle rect : southtouching){\n        Group cube = (Group) rect.getParent();\n        String id = cube.getId();\n        if(!boxpos.contains(id)){\n           rectanglesToRemove.add(rect);\n        }\n    }\n            southtouching.removeAll(rectanglesToRemove);\n       rectanglesToRemove.clear();\n                 for (Rectangle rect : westtouching){\n        Group cube = (Group) rect.getParent();\n        String id = cube.getId();\n        if(!boxpos.contains(id)){\n           rectanglesToRemove.add(rect);\n        }\n    }\n                 southtouching.removeAll(rectanglesToRemove);\n       rectanglesToRemove.clear();\n              nearby.stream()\n                   .forEach(node -&gt; testtouch1((Group)node));\n      List&lt;Node&gt; nodesToRemove = new ArrayList&lt;&gt;();\ntry{\ntc.stream().forEach(node -&gt; {\n      if(node.getBoundsInLocal() != null){\n                System.out.println(&quot;ee1&quot;);\n    Bounds localBounds = node.getBoundsInLocal();\n    Bounds sceneBounds = node.localToScene(localBounds);\n\n    if (!hitbox.getBoundsInParent().intersects(sceneBounds)) {\n        nodesToRemove.add(node);\n    }\n      }\n});\n\n\ntc.removeAll(nodesToRemove);\n}catch(Throwable e){\n    \n        }}\n    };\n\n \nScheduledFuture&lt;?&gt; handle = scheduler.scheduleAtFixedRate(toRun, 2000, 100, TimeUnit.MILLISECONDS);\n\n</code></pre>\n<p>and the test touches:</p>\n<pre><code>    void testtouch1(Group cubes) {\n       if(cubes!=null&amp;&amp;cubes.getBoundsInLocal() != null){\n              Platform.runLater(() -&gt; {\n        Bounds sceneBounds = null;\n        \n                 try {\n    Bounds localBounds = cubes.getBoundsInLocal();\n     sceneBounds = cubes.localToScene(localBounds);\n       }   catch (Throwable e){ \n      System.out.println(&quot;\\n\\n\\n3\\n\\n\\n&quot;);\n  }\n        try{\n             \n    if (westhit.getBoundsInParent().intersects(sceneBounds)) {\n        Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0) \n                   \n            .forEach(node -&gt; {\n\n             if (!westtouching.contains((Rectangle)node)) {\n                westtouching.add((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    } else {\n         Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0)   \n                 \n            .forEach(node -&gt; {\n            \n             if (westtouching.contains((Rectangle)node) &amp;&amp; !westtouching.isEmpty()) {\n               \n                westtouching.remove((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    }\nif (southhit.getBoundsInParent().intersects(sceneBounds)) {\n        Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0)  \n                    \n            .forEach(node -&gt; {\n  \n             if (!southtouching.contains((Rectangle)node)) {\n                southtouching.add((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    } else {\n         Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0) \n                  \n            .forEach(node -&gt; {\n            \n             if (southtouching.contains((Rectangle)node) &amp;&amp; !southtouching.isEmpty()) {\n               \n                southtouching.remove((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    }\n    if (northhit.getBoundsInParent().intersects(sceneBounds)) {\n        Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0)  \n                     \n            .forEach(node -&gt; {\n  \n             if (!northtouching.contains((Rectangle)node)) {\n                northtouching.add((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    } else {\n         Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0)  \n                   \n            .forEach(node -&gt; {\n            \n             if (northtouching.contains((Rectangle)node) &amp;&amp; !northtouching.isEmpty()) {\n               \n                northtouching.remove((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    }\n  if (easthit.getBoundsInParent().intersects(sceneBounds)) {\n        Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                  .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0)  \n                   \n            .forEach(node -&gt; {\n  \n             if (!easttouching.contains((Rectangle)node)) {\n                easttouching.add((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    } else {\n         Platform.runLater(() -&gt; {\n           cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n                       .filter(node -&gt; node.getRotationAxis() == Rotate.X_AXIS)   \n                   .filter(node -&gt; node.getRotate() == 90)   \n                    .filter(node -&gt; node.getTranslateY() == -20)   \n                    .filter(node -&gt; node.getTranslateZ() == -20)   \n                   .filter(node -&gt; node.getTranslateX() == 0) \n                    \n            .forEach(node -&gt; {\n            \n             if (easttouching.contains((Rectangle)node) &amp;&amp; !easttouching.isEmpty()) {\n               \n                easttouching.remove((Rectangle)node);\n            }\n            \n            });\n           \n        \n        });\n    }\n    cubes.getChildren().stream()\n            .filter(node -&gt; node instanceof Rectangle)\n            .forEach(node -&gt; testtouch((Rectangle) node));\n        }   catch (Throwable e){ \n      System.out.println(&quot;\\n\\n\\n2\\n\\n\\n&quot;);\n  }});\n}}\n\n\n void testtouch(Rectangle cubes) {\n  try {\n     if(cubes.getRotationAxis() == Rotate.X_AXIS &amp;&amp; cubes.getRotate() == 90 &amp;&amp; cubes.getTranslateY() == -20 &amp;&amp; cubes.getTranslateZ() == -20&amp;&amp; cubes.getBoundsInLocal() != null){\n          Platform.runLater(()-&gt;{\n   \n   \n     Bounds localBounds = cubes.getBoundsInLocal();\nBounds sceneBounds = cubes.localToScene(localBounds);\n\nif (hitbox.getBoundsInParent().intersects(sceneBounds) &amp;&amp; cubes.getOpacity()&gt;0.5f) {\n \nif(!tc.contains(cubes)){\n  tc.add(cubes);\n}\n\n\n}else{\n    if(tc.contains(cubes)){\n  tc.remove(cubes);\n    }\n\n\n   \n\n}});}\n  } catch (Throwable e){ \n      System.out.println(&quot;\\n\\n\\n1\\n\\n\\n&quot;);\n  }\n}\n</code></pre>\n<p>The error appears after this code is ran for a while and i sometimes get errors from this code in other times like this error</p>\n<pre><code>at javafx.graphics@21/javafx.scene.Parent.updateBounds(Parent.java:1834)\n    at javafx.graphics@21/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2615)\n    at javafx.graphics@21/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@21/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)\n    at javafx.graphics@21/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\n    at javafx.graphics@21/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n</code></pre>\n<p>and sometimes a index out of bounds error, i know these errors come from here because i used various try and catches but they dont always stop it sometimes, ive fixed most of the index out of bounds error but it seems to be persistant</p>\n<p>it would really help if you could fix it and if you can optimise or give a way to make it less resource comsumptive</p>\n"},{"tags":["java","android","terminal","adb"],"answers":[{"comments":[{"owner":{"account_id":7272272,"reputation":2619,"user_id":5544859,"accept_rate":68,"display_name":"Red M"},"score":0,"creation_date":1474561767,"post_id":26876505,"comment_id":66592122,"body_markdown":"very helpful ! used show system and enabled, worked for me.","body":"very helpful ! used show system and enabled, worked for me."}],"tags":[],"owner":{"account_id":1540386,"reputation":1364,"user_id":2533433,"display_name":"Izzy"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1415748256,"creation_date":1415748256,"answer_id":26876505,"question_id":23900697,"body_markdown":"Your question already contains the answer in itself: Running a terminal, you enter the [shell](http://en.wikipedia.org/wiki/Shell_(computing)). So simply omit that part (`adb shell`) from your command, and run the `pm` command directly:\r\n\r\n    pm list packages\r\n\r\nshould produce the very same output. `pm` isn&#39;t part of ADB (or the `adb shell`) command, but rather an executable shipping with Android: The &lt;b&gt;p&lt;/b&gt;ackage  &lt;b&gt;m&lt;/b&gt;anager. So you can use its full potential:\r\n\r\n&lt;pre&gt;\r\npm list packages [options] &lt;FILTER&gt;\r\noptions:\r\n   -f: See their associated file.\r\n   -d: Filter to only show disabled packages.\r\n   -e: Filter to only show enabled packages.\r\n   -s: Filter to only show system packages.\r\n   -3: Filter to only show third party packages.\r\n   -i: See the installer for the packages.\r\n   -u: Also include uninstalled packages.\r\n   --user &lt;USER_ID&gt;: The user space to query.\r\n&lt;/pre&gt;\r\n\r\nEnjoy!","title":"How to get the list of all apps on android device using terminal","body":"<p>Your question already contains the answer in itself: Running a terminal, you enter the <a href=\"http://en.wikipedia.org/wiki/Shell_(computing)\" rel=\"noreferrer\">shell</a>. So simply omit that part (<code>adb shell</code>) from your command, and run the <code>pm</code> command directly:</p>\n\n<pre><code>pm list packages\n</code></pre>\n\n<p>should produce the very same output. <code>pm</code> isn't part of ADB (or the <code>adb shell</code>) command, but rather an executable shipping with Android: The <b>p</b>ackage  <b>m</b>anager. So you can use its full potential:</p>\n\n<pre>\npm list packages [options] \noptions:\n   -f: See their associated file.\n   -d: Filter to only show disabled packages.\n   -e: Filter to only show enabled packages.\n   -s: Filter to only show system packages.\n   -3: Filter to only show third party packages.\n   -i: See the installer for the packages.\n   -u: Also include uninstalled packages.\n   --user : The user space to query.\n</pre>\n\n<p>Enjoy!</p>\n"},{"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":1,"creation_date":1563773017,"post_id":43361335,"comment_id":100794636,"body_markdown":"The command has been deprecated, not removed. Currently, it executes the new command in the background.","body":"The command has been deprecated, not removed. Currently, it executes the new command in the background."}],"tags":[],"owner":{"account_id":929504,"reputation":7711,"user_id":1305947,"accept_rate":81,"display_name":"Joel G Mathew"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1687312177,"creation_date":1491976465,"answer_id":43361335,"question_id":23900697,"body_markdown":"Previously the command for listing installed packages used to be `pm list packages`. But as of Android nougat, the command has been deprecated. The new command to do the same is `cmd package list packages`.","title":"How to get the list of all apps on android device using terminal","body":"<p>Previously the command for listing installed packages used to be <code>pm list packages</code>. But as of Android nougat, the command has been deprecated. The new command to do the same is <code>cmd package list packages</code>.</p>\n"},{"tags":[],"owner":{"account_id":14366672,"reputation":11,"user_id":15510843,"display_name":"Vladislav Novak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697821365,"creation_date":1642376162,"answer_id":70735100,"question_id":23900697,"body_markdown":"Also to save list of apps to txt use this command:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n    adb shell pm list packages -f &gt; d:\\1.txt\r\nor if you want to  save file to adb folder just use\r\n\r\n    adb shell pm list packages -f &gt; installed-apps.txt\r\n\r\n","title":"How to get the list of all apps on android device using terminal","body":"<p>Also to save list of apps to txt use this command:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>adb shell pm list packages -f &gt; d:\\1.txt\n</code></pre>\n<p>or if you want to  save file to adb folder just use</p>\n<pre class=\"lang-none prettyprint-override\"><code>adb shell pm list packages -f &gt; installed-apps.txt\n</code></pre>\n"}],"owner":{"account_id":4057483,"reputation":151,"user_id":3334957,"accept_rate":43,"display_name":"Dummy coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15088,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1697821573,"creation_date":1401234230,"question_id":23900697,"body_markdown":"there is a command line to get package name:-\r\n\r\n    adb shell pm list packages\r\n\r\nBut how to get the list of all applications on the device\r\n\r\n","title":"How to get the list of all apps on android device using terminal","body":"<p>there is a command line to get package name:-</p>\n<pre><code>adb shell pm list packages\n</code></pre>\n<p>But how to get the list of all applications on the device</p>\n"},{"tags":["java","io","fileutils"],"comments":[{"owner":{"account_id":788355,"reputation":1152,"user_id":862441,"display_name":"srkavin"},"score":1,"creation_date":1437090751,"post_id":31466292,"comment_id":50898876,"body_markdown":"From `File.isDirectory()` javadoc, `true if and only if the file denoted by this abstract pathname exists and is a directory; false otherwise`. Since you&#39;re using a relative path, it&#39;s possibly resolved to a non-existing location. Can you print the path and see if it exists?","body":"From <code>File.isDirectory()</code> javadoc, <code>true if and only if the file denoted by this abstract pathname exists and is a directory; false otherwise</code>. Since you&#39;re using a relative path, it&#39;s possibly resolved to a non-existing location. Can you print the path and see if it exists?"},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":0,"creation_date":1437090789,"post_id":31466292,"comment_id":50898886,"body_markdown":"In `FileUtils.validateListFilesParameters` add this line &#39;System.out.println(directory.getCanonicalPath());&#39; before `if (!directory.isDirectory())`and see where is this pointing to.","body":"In <code>FileUtils.validateListFilesParameters</code> add this line &#39;System.out.println(directory.getCanonicalPath());&#39; before <code>if (!directory.isDirectory())</code>and see where is this pointing to."},{"owner":{"account_id":3292943,"reputation":1293,"user_id":2770822,"accept_rate":74,"display_name":"mosawi"},"score":0,"creation_date":1437091451,"post_id":31466292,"comment_id":50899059,"body_markdown":"@srkavin yes I did, I edited my question above under EDIT, it prints out relative path, but I don&#39;t understand how this could be a problem.","body":"@srkavin yes I did, I edited my question above under EDIT, it prints out relative path, but I don&#39;t understand how this could be a problem."},{"owner":{"account_id":3292943,"reputation":1293,"user_id":2770822,"accept_rate":74,"display_name":"mosawi"},"score":0,"creation_date":1437091675,"post_id":31466292,"comment_id":50899110,"body_markdown":"@Shahzeb I&#39;m using FileUtils as a maven dependency, I won&#39;t be able to add code into it","body":"@Shahzeb I&#39;m using FileUtils as a maven dependency, I won&#39;t be able to add code into it"},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":1,"creation_date":1437091787,"post_id":31466292,"comment_id":50899137,"body_markdown":"put a debug point there and when it stops there at that to watch in eclipse. Only reason it is failing is that at that point is not a directory.","body":"put a debug point there and when it stops there at that to watch in eclipse. Only reason it is failing is that at that point is not a directory."},{"owner":{"account_id":3292943,"reputation":1293,"user_id":2770822,"accept_rate":74,"display_name":"mosawi"},"score":0,"creation_date":1437092087,"post_id":31466292,"comment_id":50899206,"body_markdown":"Oh wow, I just did what you suggested and I see for &#39;directory&#39; path gets &#39;src/test/resources/input_graph&#39; I don&#39;t even have this path in my top level. No idea where this is coming from??","body":"Oh wow, I just did what you suggested and I see for &#39;directory&#39; path gets &#39;src/test/resources/input_graph&#39; I don&#39;t even have this path in my top level. No idea where this is coming from??"},{"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"score":0,"creation_date":1540310262,"post_id":31466292,"comment_id":92814348,"body_markdown":"Did you ever resolve this?  And if so what was the issue?  I&#39;m facing a similar problem.","body":"Did you ever resolve this?  And if so what was the issue?  I&#39;m facing a similar problem."},{"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"score":0,"creation_date":1544179251,"post_id":31466292,"comment_id":94193188,"body_markdown":"I got this error when I create a drawable directory with wrong name","body":"I got this error when I create a drawable directory with wrong name"},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1583299616,"post_id":31466292,"comment_id":107064774,"body_markdown":"Does this answer your question? [java.lang.IllegalArgumentException: Parameter &#39;directory&#39; is not a directory in android](https://stackoverflow.com/questions/54018148/java-lang-illegalargumentexception-parameter-directory-is-not-a-directory-in)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54018148/java-lang-illegalargumentexception-parameter-directory-is-not-a-directory-in\">java.lang.IllegalArgumentException: Parameter &#39;directory&#39; is not a directory in android</a>"}],"answers":[{"tags":[],"owner":{"account_id":7918814,"reputation":80,"user_id":5980450,"display_name":"Andrii Yaremchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545318024,"creation_date":1545318024,"answer_id":53871130,"question_id":31466292,"body_markdown":"You&#39;re pointing to the file and not a directory in `mainSchemaFile` variable. Reduce the path to the folder containing `1040.xsd` - it should resolve the issue.","title":"Parameter &#39;directory&#39; is not a directory for a parameter which is a directory","body":"<p>You're pointing to the file and not a directory in <code>mainSchemaFile</code> variable. Reduce the path to the folder containing <code>1040.xsd</code> - it should resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674136055,"creation_date":1674007474,"answer_id":75154048,"question_id":31466292,"body_markdown":"#### Error is thrown if paths cannot be reached\r\n\r\nThe file paths that you show do not tell where you try to run the code. If you are in your workspace, but you want to run it on a server, and the paths are meant to be on the server, see as follows:\r\n\r\nI saw during debugging in the error logs of the console output of my own project that the code tried to get the data from my workspace. While coding, I thought that it would reach the files on the production server, but it did not. \r\n\r\n```shell\r\nException in thread &quot;my_project&quot; java.lang.IllegalArgumentException: Parameter &#39;directory&#39; is not a directory\r\n    \tat org.apache.commons.io.FileUtils.validateListFilesParameters(FileUtils.java:545)\r\n    \tat org.apache.commons.io.FileUtils.listFiles(FileUtils.java:521)\r\n    \tat org.apache.commons.io.FileUtils.listFiles(FileUtils.java:691)\r\n```\r\n\r\nWith the needed file copied to my workspace and the right path in the code, the error was gone since it found the directory.\r\n\r\nIn my program, my working directory was the repository from where I ran the code. I had to pull the repository on the server to run it with the working directory on the server, so that it could find the production directory for the input files.","title":"Parameter &#39;directory&#39; is not a directory for a parameter which is a directory","body":"<h4>Error is thrown if paths cannot be reached</h4>\n<p>The file paths that you show do not tell where you try to run the code. If you are in your workspace, but you want to run it on a server, and the paths are meant to be on the server, see as follows:</p>\n<p>I saw during debugging in the error logs of the console output of my own project that the code tried to get the data from my workspace. While coding, I thought that it would reach the files on the production server, but it did not.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception in thread &quot;my_project&quot; java.lang.IllegalArgumentException: Parameter 'directory' is not a directory\n        at org.apache.commons.io.FileUtils.validateListFilesParameters(FileUtils.java:545)\n        at org.apache.commons.io.FileUtils.listFiles(FileUtils.java:521)\n        at org.apache.commons.io.FileUtils.listFiles(FileUtils.java:691)\n</code></pre>\n<p>With the needed file copied to my workspace and the right path in the code, the error was gone since it found the directory.</p>\n<p>In my program, my working directory was the repository from where I ran the code. I had to pull the repository on the server to run it with the working directory on the server, so that it could find the production directory for the input files.</p>\n"}],"owner":{"account_id":3292943,"reputation":1293,"user_id":2770822,"accept_rate":74,"display_name":"mosawi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1697821540,"creation_date":1437089933,"question_id":31466292,"body_markdown":"I&#39;m getting a strange error where the parameter I supply to a method complains that it&#39;s not a directory but it IS in fact a directory with files in it...I don&#39;t understand what&#39;s wrong...\r\n\r\n**Toplevel:**\r\n\r\n\r\n    public static File mainSchemaFile = new File(&quot;src/test/resources/1040.xsd&quot;);\r\n    public static File contentDirectory = new File(&quot;src/test/resources/input&quot;);\r\n    public static File outputDirectory = new File(&quot;src/test/resources/output&quot;);\r\n\t\r\n\r\n    DecisionTableBuilder builder =constructor.newInstance(log, contentDirectory, outputDirectory);\r\n\r\n    // Here is where the error occurs\r\n    builder.compile(mainSchemaFile);\r\n\r\n\r\n\r\n**The class I&#39;m using:**\r\n\r\n\r\n    public class DecisionTableBuilder {\r\n    \r\n       public void compiler(File schemaFile) {\r\n          ...\r\n          // It&#39;s complaining about contentDirectory, it goes to FileUtils class for this\r\n          Collection&lt;File&gt; flowchartFiles = FileUtils.listFiles(contentDirectory, mapExtension, true);\r\n          ...\r\n       }\r\n    }\r\n\r\n\r\n**Here is the apache FileUtils class:**\r\n\r\n    public class FileUtils {\r\n    \r\n        private static void validateListFilesParameters(File directory, IOFileFilter fileFilter) {\r\n            if (!directory.isDirectory()) {\r\n                throw new IllegalArgumentException(&quot;Parameter &#39;directory&#39; is not a directory&quot;);\r\n            }\r\n            if (fileFilter == null) {\r\n                throw new NullPointerException(&quot;Parameter &#39;fileFilter&#39; is null&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nOutput: Parameter &#39;directory&#39; is not a directory\r\n\r\nWhich is the error output I am getting...\r\n\r\nAnyone have any idea what is happening here I&#39;m super confused...any help will be greatly appreciated. \r\n\r\n\r\n**EDIT:**\r\n\r\n\r\nIn my toplevel I added the following line:\r\n\r\n    if(contentDirectory.isDirectory()) {\r\n    \tSystem.out.println(&quot;Content Directory: &quot;+contentDirectory);\r\n    }\r\n\r\n    Output: src/test/resources/input\r\n\r\n","title":"Parameter &#39;directory&#39; is not a directory for a parameter which is a directory","body":"<p>I'm getting a strange error where the parameter I supply to a method complains that it's not a directory but it IS in fact a directory with files in it...I don't understand what's wrong...</p>\n\n<p><strong>Toplevel:</strong></p>\n\n<pre><code>public static File mainSchemaFile = new File(\"src/test/resources/1040.xsd\");\npublic static File contentDirectory = new File(\"src/test/resources/input\");\npublic static File outputDirectory = new File(\"src/test/resources/output\");\n\n\nDecisionTableBuilder builder =constructor.newInstance(log, contentDirectory, outputDirectory);\n\n// Here is where the error occurs\nbuilder.compile(mainSchemaFile);\n</code></pre>\n\n<p><strong>The class I'm using:</strong></p>\n\n<pre><code>public class DecisionTableBuilder {\n\n   public void compiler(File schemaFile) {\n      ...\n      // It's complaining about contentDirectory, it goes to FileUtils class for this\n      Collection&lt;File&gt; flowchartFiles = FileUtils.listFiles(contentDirectory, mapExtension, true);\n      ...\n   }\n}\n</code></pre>\n\n<p><strong>Here is the apache FileUtils class:</strong></p>\n\n<pre><code>public class FileUtils {\n\n    private static void validateListFilesParameters(File directory, IOFileFilter fileFilter) {\n        if (!directory.isDirectory()) {\n            throw new IllegalArgumentException(\"Parameter 'directory' is not a directory\");\n        }\n        if (fileFilter == null) {\n            throw new NullPointerException(\"Parameter 'fileFilter' is null\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Output: Parameter 'directory' is not a directory</p>\n\n<p>Which is the error output I am getting...</p>\n\n<p>Anyone have any idea what is happening here I'm super confused...any help will be greatly appreciated. </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In my toplevel I added the following line:</p>\n\n<pre><code>if(contentDirectory.isDirectory()) {\n    System.out.println(\"Content Directory: \"+contentDirectory);\n}\n\nOutput: src/test/resources/input\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697821611,"post_id":77332396,"comment_id":136332350,"body_markdown":"Please post your pom.xml. IWebExchange is present in the 3.1.2.RELEASE.","body":"Please post your pom.xml. IWebExchange is present in the 3.1.2.RELEASE."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697821710,"post_id":77332396,"comment_id":136332363,"body_markdown":"Run mvn clean install.","body":"Run mvn clean install."},{"owner":{"account_id":24030997,"reputation":41,"user_id":18011907,"display_name":"Ikigai11"},"score":0,"creation_date":1697825301,"post_id":77332396,"comment_id":136332911,"body_markdown":"I didn&#39;t add any dependency for IWebExchange. Mvn clean install didn&#39;t help","body":"I didn&#39;t add any dependency for IWebExchange. Mvn clean install didn&#39;t help"}],"owner":{"account_id":24030997,"reputation":41,"user_id":18011907,"display_name":"Ikigai11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1697821256,"creation_date":1697818450,"question_id":77332396,"body_markdown":"Trying to update Spring thymeleaf alone to 3.2 from 3.0 with spring boot 2.7. Added below dependency .\r\n\r\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n\r\nGetting exception as \r\n\r\n     org.springframework.web.util.NestedServletException: Request processing failed; nested \r\n     exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \r\n     [org.thymeleaf.spring5.view.ThymeleafView]: Unresolvable class definition; nested exception \r\n     is java.lang.NoClassDefFoundError: org/thymeleaf/web/IWebExchange\r\n\t at \r\n     com.framework.exception.ErrorAttributesTests.defaultHtmlValue(ErrorAttributesTests.java:62)\r\n\r\n\r\nTest case : \r\n\r\nTest\r\n\r\n\r\n\r\n   \r\n\r\n    @BeforeMethod\r\n    \tpublic void setup() {\r\n    \t\tmockMvc = MockMvcBuilders.standaloneSetup(new BasicErrorController(new ErrorAttributes(new ObjectMapper()), new ErrorProperties())).setViewResolvers(viewResolver()).build();\r\n    \t\t//this.mockMvc = webAppContextSetup(this.wac).build();\r\n    \t}\r\n\r\n\tpublic void defaultHtmlValue() throws Exception {\r\n\t\tthis.mockMvc.perform(get(&quot;/error&quot;).accept(MediaType.TEXT_HTML_VALUE)\r\n\t\t\t\t.requestAttr(RequestDispatcher.ERROR_EXCEPTION_TYPE, &quot;bar&quot;)\r\n\t\t\t\t.requestAttr(RequestDispatcher.ERROR_STATUS_CODE, 400)\r\n\t\t\t\t.requestAttr(RequestDispatcher.ERROR_REQUEST_URI, &quot;/notes&quot;))\r\n\t\t\t\t.andDo(print()).andExpect(status().isBadRequest())\r\n\t\t\t\t.andExpect(content().contentType(&quot;text/html;charset=UTF-8&quot;))\r\n\t\t\t\t.andExpect(content().string(Matchers.containsString(&quot;Something went wrong!&quot;)));\r\n\t}\r\n\t\r\n\tprivate ViewResolver viewResolver() {\r\n\r\n\t\tThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n\t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n                \r\n\t\tClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n\t\ttemplateResolver.setPrefix(&quot;templates/&quot;);\r\n\t\ttemplateResolver.setCacheable(false);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t\ttemplateResolver.setTemplateMode(&quot;HTML5&quot;);\r\n\t\ttemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\ttemplateEngine.setTemplateResolver(templateResolver);\r\n\t\tviewResolver.setTemplateEngine(templateEngine);\r\n\t\tviewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\treturn viewResolver;\r\n\t}\r\n \r\n\r\nDo i need to update SpringBoot to 3?\r\n\r\n\r\n\r\n","title":"Upgrade Thymeleaf to 3.2 from 3.0 in Spring Boot App","body":"<p>Trying to update Spring thymeleaf alone to 3.2 from 3.0 with spring boot 2.7. Added below dependency .</p>\n<pre><code>&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n&lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n&lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n</code></pre>\n<p>Getting exception as</p>\n<pre><code> org.springframework.web.util.NestedServletException: Request processing failed; nested \n exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \n [org.thymeleaf.spring5.view.ThymeleafView]: Unresolvable class definition; nested exception \n is java.lang.NoClassDefFoundError: org/thymeleaf/web/IWebExchange\n at \n com.framework.exception.ErrorAttributesTests.defaultHtmlValue(ErrorAttributesTests.java:62)\n</code></pre>\n<p>Test case :</p>\n<p>Test</p>\n<pre><code>@BeforeMethod\n    public void setup() {\n        mockMvc = MockMvcBuilders.standaloneSetup(new BasicErrorController(new ErrorAttributes(new ObjectMapper()), new ErrorProperties())).setViewResolvers(viewResolver()).build();\n        //this.mockMvc = webAppContextSetup(this.wac).build();\n    }\n\npublic void defaultHtmlValue() throws Exception {\n    this.mockMvc.perform(get(&quot;/error&quot;).accept(MediaType.TEXT_HTML_VALUE)\n            .requestAttr(RequestDispatcher.ERROR_EXCEPTION_TYPE, &quot;bar&quot;)\n            .requestAttr(RequestDispatcher.ERROR_STATUS_CODE, 400)\n            .requestAttr(RequestDispatcher.ERROR_REQUEST_URI, &quot;/notes&quot;))\n            .andDo(print()).andExpect(status().isBadRequest())\n            .andExpect(content().contentType(&quot;text/html;charset=UTF-8&quot;))\n            .andExpect(content().string(Matchers.containsString(&quot;Something went wrong!&quot;)));\n}\n\nprivate ViewResolver viewResolver() {\n\n    ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n    SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n            \n    ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n    templateResolver.setPrefix(&quot;templates/&quot;);\n    templateResolver.setCacheable(false);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    templateResolver.setTemplateMode(&quot;HTML5&quot;);\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    templateEngine.setTemplateResolver(templateResolver);\n    viewResolver.setTemplateEngine(templateEngine);\n    viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    return viewResolver;\n}\n</code></pre>\n<p>Do i need to update SpringBoot to 3?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":3405073,"reputation":2770,"user_id":2856360,"accept_rate":91,"display_name":"Tomasz Waszczyk"},"score":0,"creation_date":1409338070,"post_id":347248,"comment_id":39941850,"body_markdown":"Is it possible to do it with some magic Eclipse&#39;s shortcut ? ?","body":"Is it possible to do it with some magic Eclipse&#39;s shortcut ? ?"},{"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"score":4,"creation_date":1544802142,"post_id":347248,"comment_id":94417054,"body_markdown":"Please consider selecting an answer.","body":"Please consider selecting an answer."}],"answers":[{"tags":[],"owner":{"account_id":18795,"reputation":599,"user_id":43443,"accept_rate":25,"display_name":"Zhichao"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606306580,"creation_date":1228626126,"answer_id":347258,"question_id":347248,"body_markdown":"Yes, the first step is to identify &quot;all&quot; the classes that you cared about.  If you already have this information, you can enumerate through each of them and use instanceof to validate the relationship.  A related article is here: https://web.archive.org/web/20100226233915/www.javaworld.com/javaworld/javatips/jw-javatip113.html","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>Yes, the first step is to identify &quot;all&quot; the classes that you cared about.  If you already have this information, you can enumerate through each of them and use instanceof to validate the relationship.  A related article is here: <a href=\"https://web.archive.org/web/20100226233915/www.javaworld.com/javaworld/javatips/jw-javatip113.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20100226233915/www.javaworld.com/javaworld/javatips/jw-javatip113.html</a></p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228630858,"creation_date":1228630858,"answer_id":347314,"question_id":347248,"body_markdown":"Also, if you are writing an IDE plugin (where what you are trying to do is relatively common), then the IDE typically offers you more efficient ways to access the class hierarchy of the current state of the user code. ","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>Also, if you are writing an IDE plugin (where what you are trying to do is relatively common), then the IDE typically offers you more efficient ways to access the class hierarchy of the current state of the user code. </p>\n"},{"comments":[{"owner":{"account_id":375225,"reputation":970,"user_id":725917,"display_name":"averasko"},"score":6,"creation_date":1433086877,"post_id":347323,"comment_id":49190032,"body_markdown":"Unfortunately, the Service Provider mechanism requires you to list the classes that might be in the list of interest in a separate file which is often unfeasible.","body":"Unfortunately, the Service Provider mechanism requires you to list the classes that might be in the list of interest in a separate file which is often unfeasible."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":5,"creation_date":1489337104,"post_id":347323,"comment_id":72616570,"body_markdown":"It&#39;s feasible to write source code implementing an interface, compile it, and deploy it, but infeasible to include a text file with the implementation&#39;s FQN? That&#39;s seldom, if ever, the case. Hardly &quot;often.&quot;","body":"It&#39;s feasible to write source code implementing an interface, compile it, and deploy it, but infeasible to include a text file with the implementation&#39;s FQN? That&#39;s seldom, if ever, the case. Hardly &quot;often.&quot;"},{"owner":{"account_id":483424,"reputation":1865,"user_id":898457,"accept_rate":100,"display_name":"Alex Semeniuk"},"score":0,"creation_date":1550354506,"post_id":347323,"comment_id":96239789,"body_markdown":"How does DriverManager of JDBC work? Isn&#39;t it doing the similar thing (searching all implementations of Driver interface in classpath)?","body":"How does DriverManager of JDBC work? Isn&#39;t it doing the similar thing (searching all implementations of Driver interface in classpath)?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1550354818,"post_id":347323,"comment_id":96239857,"body_markdown":"@AlexSemeniuk No. it uses the Service Loader mechanism I describe above; A JDBC 4.0+ driver must list its name in `META-INF/services/java.sql.Driver`","body":"@AlexSemeniuk No. it uses the Service Loader mechanism I describe above; A JDBC 4.0+ driver must list its name in <code>META-INF&#47;services&#47;java.sql.Driver</code>"},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658463559,"post_id":347323,"comment_id":129062180,"body_markdown":"Making a developer edit an unrelated file is a non-starter. It has to work as good as .NET/CLR reflection: where we can find all implementations and it just works.","body":"Making a developer edit an unrelated file is a non-starter. It has to work as good as .NET/CLR reflection: where we can find all implementations and it just works."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1576688162,"creation_date":1228631650,"answer_id":347323,"question_id":347248,"body_markdown":"In general, it&#39;s expensive to do this. To use reflection, the class has to be loaded. If you want to load every class available on the classpath, that will take time and memory, and isn&#39;t recommended. \r\n\r\nIf you want to avoid this, you&#39;d need to implement your own class file parser that operated more efficiently, instead of reflection. A byte code engineering library may help with this approach.\r\n\r\nThe [Service Provider mechanism][1] is the conventional means to enumerate implementations of a pluggable service, and has become more established with the introduction of Project Jigsaw (modules) in Java 9. Use the [`ServiceLoader`][2] in Java 6, or implement your own in earlier versions. I provided [an example][3] in another answer.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\r\n  [3]: https://stackoverflow.com/questions/251336/is-something-similar-to-serviceloader-in-java-15#251691","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>In general, it's expensive to do this. To use reflection, the class has to be loaded. If you want to load every class available on the classpath, that will take time and memory, and isn't recommended. </p>\n\n<p>If you want to avoid this, you'd need to implement your own class file parser that operated more efficiently, instead of reflection. A byte code engineering library may help with this approach.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">Service Provider mechanism</a> is the conventional means to enumerate implementations of a pluggable service, and has become more established with the introduction of Project Jigsaw (modules) in Java 9. Use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> in Java 6, or implement your own in earlier versions. I provided <a href=\"https://stackoverflow.com/questions/251336/is-something-similar-to-serviceloader-in-java-15#251691\">an example</a> in another answer.</p>\n"},{"comments":[{"owner":{"account_id":1525852,"reputation":1543,"user_id":1424321,"display_name":"zapp"},"score":14,"creation_date":1363439555,"post_id":347378,"comment_id":21858259,"body_markdown":"more specific: `new Reflections(&quot;my.package&quot;).getSubTypesOf(MyInterface.class)`","body":"more specific: <code>new Reflections(&quot;my.package&quot;).getSubTypesOf(MyInterface.class)</code>"},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658465407,"post_id":347378,"comment_id":129062468,"body_markdown":"@zapp What do you pass to `Reflections()` when you a) don&#39;t know the name of any package, and b) need it to scan **all** packages?  (i don&#39;t know what packages the developers may have chosen to place any and all implementations in).","body":"@zapp What do you pass to <code>Reflections()</code> when you a) don&#39;t know the name of any package, and b) need it to scan <b>all</b> packages?  (i don&#39;t know what packages the developers may have chosen to place any and all implementations in)."}],"tags":[],"owner":{"account_id":11715,"reputation":2485,"user_id":22716,"display_name":"Peter Severin"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1477490389,"creation_date":1228637815,"answer_id":347378,"question_id":347248,"body_markdown":"What erickson said, but if you still want to do it then take a look at [Reflections][1]. From their page:\r\n\r\n&gt; Using Reflections you can query your metadata for:\r\n&gt;\r\n&gt;    * get all subtypes of some type\r\n&gt;    * get all types annotated with some annotation\r\n&gt;    * get all types annotated with some annotation, including annotation parameters matching\r\n&gt;    * get all methods annotated with some \r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>What erickson said, but if you still want to do it then take a look at <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections</a>. From their page:</p>\n\n<blockquote>\n  <p>Using Reflections you can query your metadata for:</p>\n  \n  <ul>\n  <li>get all subtypes of some type</li>\n  <li>get all types annotated with some annotation</li>\n  <li>get all types annotated with some annotation, including annotation parameters matching</li>\n  <li>get all methods annotated with some </li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"Sachin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1228664400,"creation_date":1228664400,"answer_id":347687,"question_id":347248,"body_markdown":"What erikson said is best. Here&#39;s a related question and answer thread - http://www.velocityreviews.com/forums/t137693-find-all-implementing-classes-in-classpath.html\r\n\r\nThe Apache BCEL library allows you to read classes without loading them. I believe it will be faster because you should be able to skip the verification step. The other problem with loading all classes using the classloader is that you will suffer a huge memory impact as well as inadvertently run any static code blocks which you probably do not want to do.\r\n\r\nThe Apache BCEL library link - http://jakarta.apache.org/bcel/","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>What erikson said is best. Here's a related question and answer thread - <a href=\"http://www.velocityreviews.com/forums/t137693-find-all-implementing-classes-in-classpath.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t137693-find-all-implementing-classes-in-classpath.html</a></p>\n\n<p>The Apache BCEL library allows you to read classes without loading them. I believe it will be faster because you should be able to skip the verification step. The other problem with loading all classes using the classloader is that you will suffer a huge memory impact as well as inadvertently run any static code blocks which you probably do not want to do.</p>\n\n<p>The Apache BCEL library link - <a href=\"http://jakarta.apache.org/bcel/\" rel=\"nofollow noreferrer\">http://jakarta.apache.org/bcel/</a></p>\n"},{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1464521647,"post_id":30446248,"comment_id":62512590,"body_markdown":"Which of the three approaches is more efficient and quickest?","body":"Which of the three approaches is more efficient and quickest?"},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1464637531,"post_id":30446248,"comment_id":62555738,"body_markdown":"@carlspring I can not make an absolute statement about their relative efficiency but the first alternative (reflections library) worked pretty well for me.","body":"@carlspring I can not make an absolute statement about their relative efficiency but the first alternative (reflections library) worked pretty well for me."},{"owner":{"account_id":483424,"reputation":1865,"user_id":898457,"accept_rate":100,"display_name":"Alex Semeniuk"},"score":0,"creation_date":1550354458,"post_id":30446248,"comment_id":96239770,"body_markdown":"How does DriverManager of JDBC work? Isn&#39;t it doing the similar thing (searching all implementations of Driver interface in classpath)?","body":"How does DriverManager of JDBC work? Isn&#39;t it doing the similar thing (searching all implementations of Driver interface in classpath)?"},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":1,"creation_date":1550502813,"post_id":30446248,"comment_id":96282556,"body_markdown":"@AlexSemeniuk I think they now support the Service Loader/Provider mechanism (approach #2 above) according to their docs &quot;The DriverManager methods getConnection and getDrivers have been enhanced to support the Java Standard Edition Service Provider mechanism.&quot; See https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html","body":"@AlexSemeniuk I think they now support the Service Loader/Provider mechanism (approach #2 above) according to their docs &quot;The DriverManager methods getConnection and getDrivers have been enhanced to support the Java Standard Edition Service Provider mechanism.&quot; See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1583319125,"post_id":30446248,"comment_id":107073232,"body_markdown":"Its worth noting that the service provider mechanism has been integrated into the module system with Java&#160;9, which makes it even more convenient than package level annotations, i.e. you dont need to create your own annotation type, can declare the implementations in the module-info youll create anyway when writing modular software and get compile-time feedback regarding the validity of the implementation.","body":"Its worth noting that the service provider mechanism has been integrated into the module system with Java 9, which makes it even more convenient than package level annotations, i.e. you dont need to create your own annotation type, can declare the implementations in the module-info youll create anyway when writing modular software and get compile-time feedback regarding the validity of the implementation."},{"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"score":0,"creation_date":1687382175,"post_id":30446248,"comment_id":134930711,"body_markdown":"As of Oct 2021, the *Reflections Library* is no longer maintained. [Classgraph](https://github.com/classgraph/classgraph) is a viable alternative. For this use case, see [this example](https://github.com/classgraph/classgraph/wiki/Code-examples#find-the-names-of-classes-that-implement-interface-comxyzwidget) in wiki docs, and/or Luke Hutchison&#39;s [answer](https://stackoverflow.com/a/51625212/1348743).","body":"As of Oct 2021, the <i>Reflections Library</i> is no longer maintained. <a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">Classgraph</a> is a viable alternative. For this use case, see <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples#find-the-names-of-classes-that-implement-interface-comxyzwidget\" rel=\"nofollow noreferrer\">this example</a> in wiki docs, and/or Luke Hutchison&#39;s <a href=\"https://stackoverflow.com/a/51625212/1348743\">answer</a>."}],"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"comment_count":6,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1527886735,"creation_date":1432589259,"answer_id":30446248,"question_id":347248,"body_markdown":"I have been searching for a while and there seems to be different approaches, here is a summary:\r\n\r\n1. __[reflections][1]__ library is pretty popular if u don&#39;t mind adding the dependency. It would look like this:\r\n\r\n        Reflections reflections = new Reflections(&quot;firstdeveloper.examples.reflections&quot;);\r\n\t    Set&lt;Class&lt;? extends Pet&gt;&gt; classes = reflections.getSubTypesOf(Pet.class);\r\n\t\t\r\n\r\n2. __ServiceLoader__ (as per erickson answer) and it would look like this:\r\n\r\n        ServiceLoader&lt;Pet&gt; loader = ServiceLoader.load(Pet.class);\r\n\t    for (Pet implClass : loader) {\r\n\t    \tSystem.out.println(implClass.getClass().getSimpleName()); // prints Dog, Cat\r\n\t    }\r\nNote that for this to work you need to define `Pet`as a ServiceProviderInterface (SPI) and declare its implementations. you do that by creating a file in `resources/META-INF/services` with the name `examples.reflections.Pet` and declare all implementations of `Pet` in it \r\n\r\n        examples.reflections.Dog\r\n        examples.reflections.Cat\r\n\r\n\r\n2. __package-level annotation__. here is an example:\r\n\r\n        Package[] packages = Package.getPackages();\r\n\t    for (Package p : packages) {\r\n\t    \tMyPackageAnnotation annotation = p.getAnnotation(MyPackageAnnotation.class);\r\n\t    \tif (annotation != null) {\r\n\t    \t\tClass&lt;?&gt;[]\timplementations = annotation.implementationsOfPet();\r\n\t\t    \tfor (Class&lt;?&gt; impl : implementations) {\r\n\t\t    \t\tSystem.out.println(impl.getSimpleName());\r\n\t\t    \t}\r\n\t    \t}\r\n\t    }\r\nand the annotation definition:\r\n\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target(ElementType.PACKAGE)\r\n        public @interface MyPackageAnnotation {\r\n\t        Class&lt;?&gt;[] implementationsOfPet() default {};\r\n        }\r\nand you must declare the package-level annotation in a file named `package-info.java` inside that package. here are sample contents:\r\n\r\n        @MyPackageAnnotation(implementationsOfPet = {Dog.class, Cat.class})\r\n        package examples.reflections;\r\nNote that only packages that are known to the ClassLoader at that time will be loaded by a call to `Package.getPackages()`.\r\n\r\nIn addition, there are other approaches based on URLClassLoader that will always be limited to classes that have been already loaded, Unless you do a directory-based search. \r\n\r\n        \r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>I have been searching for a while and there seems to be different approaches, here is a summary:</p>\n\n<ol>\n<li><p><strong><a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">reflections</a></strong> library is pretty popular if u don't mind adding the dependency. It would look like this:</p>\n\n<pre><code>Reflections reflections = new Reflections(\"firstdeveloper.examples.reflections\");\nSet&lt;Class&lt;? extends Pet&gt;&gt; classes = reflections.getSubTypesOf(Pet.class);\n</code></pre></li>\n<li><p><strong>ServiceLoader</strong> (as per erickson answer) and it would look like this:</p>\n\n<pre><code>ServiceLoader&lt;Pet&gt; loader = ServiceLoader.load(Pet.class);\nfor (Pet implClass : loader) {\n    System.out.println(implClass.getClass().getSimpleName()); // prints Dog, Cat\n}\n</code></pre>\n\n<p>Note that for this to work you need to define <code>Pet</code>as a ServiceProviderInterface (SPI) and declare its implementations. you do that by creating a file in <code>resources/META-INF/services</code> with the name <code>examples.reflections.Pet</code> and declare all implementations of <code>Pet</code> in it </p>\n\n<pre><code>examples.reflections.Dog\nexamples.reflections.Cat\n</code></pre></li>\n<li><p><strong>package-level annotation</strong>. here is an example:</p>\n\n<pre><code>Package[] packages = Package.getPackages();\nfor (Package p : packages) {\n    MyPackageAnnotation annotation = p.getAnnotation(MyPackageAnnotation.class);\n    if (annotation != null) {\n        Class&lt;?&gt;[]  implementations = annotation.implementationsOfPet();\n        for (Class&lt;?&gt; impl : implementations) {\n            System.out.println(impl.getSimpleName());\n        }\n    }\n}\n</code></pre>\n\n<p>and the annotation definition:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PACKAGE)\npublic @interface MyPackageAnnotation {\n    Class&lt;?&gt;[] implementationsOfPet() default {};\n}\n</code></pre>\n\n<p>and you must declare the package-level annotation in a file named <code>package-info.java</code> inside that package. here are sample contents:</p>\n\n<pre><code>@MyPackageAnnotation(implementationsOfPet = {Dog.class, Cat.class})\npackage examples.reflections;\n</code></pre>\n\n<p>Note that only packages that are known to the ClassLoader at that time will be loaded by a call to <code>Package.getPackages()</code>.</p></li>\n</ol>\n\n<p>In addition, there are other approaches based on URLClassLoader that will always be limited to classes that have been already loaded, Unless you do a directory-based search. </p>\n"},{"tags":[],"owner":{"account_id":92915,"reputation":41,"user_id":254434,"display_name":"NDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491162328,"creation_date":1491162328,"answer_id":43172778,"question_id":347248,"body_markdown":"I ran into the same issue. My solution was to use reflection to examine all of the methods in an ObjectFactory class, eliminating those that were not createXXX() methods returning an instance of one of my bound POJOs. Each class so discovered is added to a Class[] array, which was then passed to the JAXBContext instantiation call. This performs well, needing only to load the ObjectFactory class, which was about to be needed anyway. I only need to maintain the ObjectFactory class, a task either performed by hand (in my case, because I started with POJOs and used schemagen), or can be generated as needed by xjc. Either way, it is performant, simple, and effective.","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>I ran into the same issue. My solution was to use reflection to examine all of the methods in an ObjectFactory class, eliminating those that were not createXXX() methods returning an instance of one of my bound POJOs. Each class so discovered is added to a Class[] array, which was then passed to the JAXBContext instantiation call. This performs well, needing only to load the ObjectFactory class, which was about to be needed anyway. I only need to maintain the ObjectFactory class, a task either performed by hand (in my case, because I started with POJOs and used schemagen), or can be generated as needed by xjc. Either way, it is performant, simple, and effective.</p>\n"},{"comments":[{"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"score":9,"creation_date":1541489556,"post_id":45676693,"comment_id":93224797,"body_markdown":"Not exactly, Spring will populate it will all **beans** of type ITask, which is not quite the same.","body":"Not exactly, Spring will populate it will all <b>beans</b> of type ITask, which is not quite the same."}],"tags":[],"owner":{"account_id":2554661,"reputation":4596,"user_id":2216929,"accept_rate":100,"display_name":"kaybee99"},"comment_count":1,"down_vote_count":4,"up_vote_count":24,"is_accepted":false,"score":20,"last_activity_date":1544802052,"creation_date":1502720470,"answer_id":45676693,"question_id":347248,"body_markdown":"Spring has a pretty simple way to acheive this:\r\n\r\n    public interface ITask {\r\n        void doStuff();\r\n    }\r\n    \r\n    @Component\r\n    public class MyTask implements ITask {\r\n       public void doStuff(){}\r\n    }\r\n\r\nThen you can autowire a list of type `ITask` and Spring will populate it with all implementations:\r\n\r\n    @Service\r\n    public class TaskService {\r\n    \r\n        @Autowired\r\n        private List&lt;ITask&gt; tasks;\r\n    }\r\n\r\n","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>Spring has a pretty simple way to acheive this:</p>\n\n<pre><code>public interface ITask {\n    void doStuff();\n}\n\n@Component\npublic class MyTask implements ITask {\n   public void doStuff(){}\n}\n</code></pre>\n\n<p>Then you can autowire a list of type <code>ITask</code> and Spring will populate it with all implementations:</p>\n\n<pre><code>@Service\npublic class TaskService {\n\n    @Autowired\n    private List&lt;ITask&gt; tasks;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6499111,"reputation":906,"user_id":5030597,"display_name":"Kyrylo Semenko"},"score":2,"creation_date":1577867621,"post_id":51625212,"comment_id":105270796,"body_markdown":"The ClassGraph library works like a sharm, thank you @Luke Hutchison","body":"The ClassGraph library works like a sharm, thank you @Luke Hutchison"}],"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1570274789,"creation_date":1533096568,"answer_id":51625212,"question_id":347248,"body_markdown":"The most robust mechanism for listing all classes that implement a given interface is currently [ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author.)\r\n\r\n    try (ScanResult scanResult = new ClassGraph().whitelistPackages(&quot;x.y.z&quot;)\r\n            .enableClassInfo().scan()) {\r\n        for (ClassInfo ci : scanResult.getClassesImplementing(&quot;x.y.z.SomeInterface&quot;)) {\r\n            foundImplementingClass(ci);  // Do something with the ClassInfo object\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>The most robust mechanism for listing all classes that implement a given interface is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples\" rel=\"noreferrer\">ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author.)</p>\n\n<pre><code>try (ScanResult scanResult = new ClassGraph().whitelistPackages(\"x.y.z\")\n        .enableClassInfo().scan()) {\n    for (ClassInfo ci : scanResult.getClassesImplementing(\"x.y.z.SomeInterface\")) {\n        foundImplementingClass(ci);  // Do something with the ClassInfo object\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1544802122,"creation_date":1544802122,"answer_id":53782825,"question_id":347248,"body_markdown":"A new version of @kaybee99&#39;s answer, but now returning what the user asks: the implementations...\r\n\r\nSpring has a pretty simple way to acheive this:\r\n\r\n    public interface ITask {\r\n        void doStuff();\r\n        default ITask getImplementation() {\r\n           return this;\r\n        }\r\n\r\n    }\r\n    \r\n    @Component\r\n    public class MyTask implements ITask {\r\n       public void doStuff(){}\r\n    }\r\n\r\nThen you can autowire a list of type `ITask` and Spring will populate it with all implementations:\r\n\r\n    @Service\r\n    public class TaskService {\r\n    \r\n        @Autowired(required = false)\r\n        private List&lt;ITask&gt; tasks;\r\n\r\n\t\tif ( tasks != null)\r\n\t\tfor (ITask&lt;?&gt; taskImpl: tasks) {\r\n\t\t\ttaskImpl.doStuff();\r\n\t\t}\t\r\n    }\r\n\r\n","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>A new version of @kaybee99's answer, but now returning what the user asks: the implementations...</p>\n\n<p>Spring has a pretty simple way to acheive this:</p>\n\n<pre><code>public interface ITask {\n    void doStuff();\n    default ITask getImplementation() {\n       return this;\n    }\n\n}\n\n@Component\npublic class MyTask implements ITask {\n   public void doStuff(){}\n}\n</code></pre>\n\n<p>Then you can autowire a list of type <code>ITask</code> and Spring will populate it with all implementations:</p>\n\n<pre><code>@Service\npublic class TaskService {\n\n    @Autowired(required = false)\n    private List&lt;ITask&gt; tasks;\n\n    if ( tasks != null)\n    for (ITask&lt;?&gt; taskImpl: tasks) {\n        taskImpl.doStuff();\n    }   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1570273430,"post_id":54277804,"comment_id":102866299,"body_markdown":"You need to call `scan().withCloseable { ... }` in Groovy, or use try-with-resources in Java:\nhttps://github.com/classgraph/classgraph/wiki/API:-ScanResult#scanresult-lifecycle\nAlso, the last part should be `.name`, not `.className`, since `.getName()` is the right method to get the name of a class from a `ClassInfo` object.","body":"You need to call <code>scan().withCloseable { ... }</code> in Groovy, or use try-with-resources in Java: <a href=\"https://github.com/classgraph/classgraph/wiki/API:-ScanResult#scanresult-lifecycle\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/wiki/&hellip;</a> Also, the last part should be <code>.name</code>, not <code>.className</code>, since <code>.getName()</code> is the right method to get the name of a class from a <code>ClassInfo</code> object."}],"tags":[],"owner":{"account_id":227866,"reputation":616,"user_id":489790,"accept_rate":60,"display_name":"verglor"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1570273629,"creation_date":1547997022,"answer_id":54277804,"question_id":347248,"body_markdown":"With [ClassGraph](https://github.com/classgraph/classgraph/wiki/Code-examples#user-content-find-the-names-of-classes-that-implement-interface-comxyzwidget) it&#39;s pretty simple:\r\n\r\nGroovy code to find implementations of `my.package.MyInterface`:\r\n\r\n```groovy\r\n@Grab(&#39;io.github.classgraph:classgraph:4.6.18&#39;)\r\nimport io.github.classgraph.*\r\nnew ClassGraph().enableClassInfo().scan().withCloseable { scanResult -&gt;\r\n    scanResult.getClassesImplementing(&#39;my.package.MyInterface&#39;).findAll{!it.abstract}*.name\r\n}\r\n```\r\n","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>With <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples#user-content-find-the-names-of-classes-that-implement-interface-comxyzwidget\" rel=\"nofollow noreferrer\">ClassGraph</a> it's pretty simple:</p>\n\n<p>Groovy code to find implementations of <code>my.package.MyInterface</code>:</p>\n\n<pre><code>@Grab('io.github.classgraph:classgraph:4.6.18')\nimport io.github.classgraph.*\nnew ClassGraph().enableClassInfo().scan().withCloseable { scanResult -&gt;\n    scanResult.getClassesImplementing('my.package.MyInterface').findAll{!it.abstract}*.name\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2036480,"reputation":101,"user_id":1818726,"display_name":"user1818726"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697821008,"creation_date":1697821008,"answer_id":77332621,"question_id":347248,"body_markdown":"I know this is a VERY old question but I&#39;ve ran into this problem several times in my career and had to re-invent the wheel several times so I thought I would post my latest solution.\r\n\r\nI does use some resources so you&#39;ll want to do this early in you application and make sure you don&#39;t keep the class loader around after you identify the classes you need.\r\n\r\n    \tpublic class MyClassLoader extends URLClassLoader {\t\r\n\r\n\tpublic static MyClassLoader getLoader(List&lt;String&gt;  paths) {\r\n\t\tMyClassLoader loader = new MyClassLoader(new URL[0], Thread.currentThread().getContextClassLoader());\r\n\t\tif( paths != null ) {\r\n\t\t\tfor(String path : paths) {\r\n\t\t\t\tFile file = new File(path);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tloader.addUrl(file.toURI().toURL());\r\n\t\t\t\t} catch (MalformedURLException e) {\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn loader;\r\n\t}\r\n\r\n\tpublic void addUrl(URL url) {\r\n\t\tthis.addURL(url);\r\n\t}\r\n\r\n\tpublic List&lt;Class&lt;?&gt;&gt; findTarget(Class&lt;?&gt; target) {\r\n\r\n\t\tList&lt;Class&lt;?&gt;&gt; ret = new ArrayList&lt;&gt;();\r\n\t\tURL[] urls = getURLs();\r\n\t\tif( urls != null ) {\r\n\t\t\tfor (URL url : urls) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tString protocol = url.getProtocol();\r\n\t\t\t\t\tif(&quot;file&quot;.equals(protocol)) {\r\n\t\t\t\t\t\tString path = url.getPath();\r\n\t\t\t\t\t\tFile file = new File(path);\r\n\t\t\t\t\t\tif( file.isDirectory()) {\r\n\t\t\t\t\t\t\tproccessDir(file,ret,target);\r\n\t\t\t\t\t\t} else if(path.endsWith(&quot;.class&quot;)) {\r\n\t\t\t\t\t\t\tparseFile(file,ret,target);\r\n\t\t\t\t\t\t} else if(path.endsWith(&quot;.jar&quot;) || path.endsWith(&quot;.zip&quot;)) {\r\n\t\t\t\t\t\t\tparseJar(url,ret,target);\t\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t}\r\n\r\n\r\n\tprivate void parseFile(File file, List&lt;Class&lt;?&gt;&gt; ret, Class&lt;?&gt; target) {\r\n\t\tString path = file.getAbsolutePath();\t\t\r\n\t\tString name = path.replace(File.separatorChar, &#39;.&#39;);\r\n\t\tif( !path.endsWith(&quot;.class&quot;)) {\r\n\t\t\treturn;\t\r\n\t\t}\r\n\t\tname = name.substring(0, name.length()-6);\r\n\t\t//  the full class name could be anything, so make some guesses\r\n\t\tint idx = name.indexOf(&quot;.classes.&quot;);\r\n\t\tif( idx &gt;0 ) {\r\n\t\t\tname = name.substring(idx+9);\r\n\t\t} else if( (idx=name.indexOf(&quot;.bin.&quot;)) &gt;0 ) {\r\n\t\t\tname = name.substring(idx+5);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;No what? name=&quot;+name);\r\n\t\t}\r\n\r\n\t\tif( name.contains(&quot;us.bringardner.solid3d.JCSGSolidFactory&quot;)) {\r\n\t\t\t//System.out.println(&quot;class name=&quot;+name);\r\n\t\t}\r\n\t\tcheckClass(name,ret,target);\r\n\t}\r\n\r\n\tprivate void checkClass(String name, List&lt;Class&lt;?&gt;&gt; ret,Class&lt;?&gt; target) {\r\n\t\ttry {\r\n\t\t\tClass&lt;?&gt; cls = loadClass(name);\r\n\t\t\t//System.out.println(&quot;Got class for &quot;+nm);\r\n\t\t\tClass&lt;?&gt;[] in = cls.getInterfaces();\r\n\t\t\tfor (Class&lt;?&gt; class1 : in) {\r\n\t\t\t\tif( class1 == target) {\r\n\t\t\t\t\tret.add(cls);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Throwable e) {\r\n\t\t\t//System.out.println(e);\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tprivate void proccessDir(File dir, List&lt;Class&lt;?&gt;&gt; ret, Class&lt;?&gt; target) {\r\n\t\tFile[] kids = dir.listFiles();\r\n\t\tif( kids != null) {\r\n\t\t\tfor(File file: kids) {\r\n\t\t\t\tString path = file.getAbsolutePath();\r\n\t\t\t\tif( file.isDirectory()) {\r\n\t\t\t\t\tproccessDir(file,ret,target);\r\n\t\t\t\t} else if(path.endsWith(&quot;.class&quot;)) {\r\n\t\t\t\t\tparseFile(file,ret,target);\r\n\t\t\t\t} else if(path.endsWith(&quot;.jar&quot;) || path.endsWith(&quot;.zip&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tparseJar(file.toURI().toURL(),ret,target);\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate void parseJar(URL url, List&lt;Class&lt;?&gt;&gt; ret,Class&lt;?&gt; target) throws IOException {\r\n\t\tZipFile file = new ZipFile(new File(url.getFile()));\r\n\t\ttry {\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; i = file.entries();\r\n\t\t\twhile( i.hasMoreElements()) {\r\n\t\t\t\tZipEntry ze = i.nextElement();\r\n\t\t\t\tString name = ze.getName().replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\t\t\tif( ze.getName().endsWith(&quot;.class&quot;) ) {\r\n\t\t\t\t\tname = name.substring(0, name.length()-6);\r\n\t\t\t\t\tcheckClass(name,ret,target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//System.out.println(&quot;Parse url file = &quot;+url.getFile());\r\n\t\t} finally {\r\n\t\t\tfile.close();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic MyClassLoader(URL[] urls, ClassLoader parent) {\r\n\t\tsuper(urls, parent);\r\n\t}\r\n\t}\r\n\r\n\r\nUse it like this:\r\n\r\n    \tstatic {\r\n\t\tString cp[] = System.getProperty(&quot;java.class.path&quot;).split(File.pathSeparator);\r\n\t\t\r\n\t\tSolid3DClassLoader l = Solid3DClassLoader.getLoader(Arrays.asList(cp));\r\n\t\tList&lt;Class&lt;?&gt;&gt; list = l.findTarget(MyFactory.class);\r\n\t\t\r\n\t\tfor(Class&lt;?&gt; cls : list) {\r\n\t\t\tif( cls != MyFactory.class) {\r\n\t\t\ttry {\r\n\t\t\t\tConstructor&lt;?&gt; c = cls.getConstructor(new Class[0]);\r\n\t\t\t\tif( c == null ) {\r\n\t\t\t\t\tSystem.err.println(cls.getName()+&quot; does not have a default contructor&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tObject obj = c.newInstance(new Object[0]);\r\n\t\t\t\tif (obj instanceof MyFactory) {\r\n\t\t\t\t\tMyFactory f = (MyFactory) obj;\r\n\t\t\t\t\tregister(f);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.err.println(cls.getName()+&quot; is not a MyFactory.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t} catch (NoSuchMethodException | SecurityException | InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\t\tSystem.err.println(cls.getName()+&quot; cannot be loaded.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>I know this is a VERY old question but I've ran into this problem several times in my career and had to re-invent the wheel several times so I thought I would post my latest solution.</p>\n<p>I does use some resources so you'll want to do this early in you application and make sure you don't keep the class loader around after you identify the classes you need.</p>\n<pre><code>    public class MyClassLoader extends URLClassLoader { \n\npublic static MyClassLoader getLoader(List&lt;String&gt;  paths) {\n    MyClassLoader loader = new MyClassLoader(new URL[0], Thread.currentThread().getContextClassLoader());\n    if( paths != null ) {\n        for(String path : paths) {\n            File file = new File(path);\n            try {\n                loader.addUrl(file.toURI().toURL());\n            } catch (MalformedURLException e) {\n            }   \n        }\n    }\n\n\n    return loader;\n}\n\npublic void addUrl(URL url) {\n    this.addURL(url);\n}\n\npublic List&lt;Class&lt;?&gt;&gt; findTarget(Class&lt;?&gt; target) {\n\n    List&lt;Class&lt;?&gt;&gt; ret = new ArrayList&lt;&gt;();\n    URL[] urls = getURLs();\n    if( urls != null ) {\n        for (URL url : urls) {\n            try {\n                String protocol = url.getProtocol();\n                if(&quot;file&quot;.equals(protocol)) {\n                    String path = url.getPath();\n                    File file = new File(path);\n                    if( file.isDirectory()) {\n                        proccessDir(file,ret,target);\n                    } else if(path.endsWith(&quot;.class&quot;)) {\n                        parseFile(file,ret,target);\n                    } else if(path.endsWith(&quot;.jar&quot;) || path.endsWith(&quot;.zip&quot;)) {\n                        parseJar(url,ret,target);   \n                    }\n\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n    return ret;\n}\n\n\nprivate void parseFile(File file, List&lt;Class&lt;?&gt;&gt; ret, Class&lt;?&gt; target) {\n    String path = file.getAbsolutePath();       \n    String name = path.replace(File.separatorChar, '.');\n    if( !path.endsWith(&quot;.class&quot;)) {\n        return; \n    }\n    name = name.substring(0, name.length()-6);\n    //  the full class name could be anything, so make some guesses\n    int idx = name.indexOf(&quot;.classes.&quot;);\n    if( idx &gt;0 ) {\n        name = name.substring(idx+9);\n    } else if( (idx=name.indexOf(&quot;.bin.&quot;)) &gt;0 ) {\n        name = name.substring(idx+5);\n    } else {\n        System.out.println(&quot;No what? name=&quot;+name);\n    }\n\n    if( name.contains(&quot;us.bringardner.solid3d.JCSGSolidFactory&quot;)) {\n        //System.out.println(&quot;class name=&quot;+name);\n    }\n    checkClass(name,ret,target);\n}\n\nprivate void checkClass(String name, List&lt;Class&lt;?&gt;&gt; ret,Class&lt;?&gt; target) {\n    try {\n        Class&lt;?&gt; cls = loadClass(name);\n        //System.out.println(&quot;Got class for &quot;+nm);\n        Class&lt;?&gt;[] in = cls.getInterfaces();\n        for (Class&lt;?&gt; class1 : in) {\n            if( class1 == target) {\n                ret.add(cls);\n            }\n        }\n    } catch (Throwable e) {\n        //System.out.println(e);\n    }\n\n\n}\n\nprivate void proccessDir(File dir, List&lt;Class&lt;?&gt;&gt; ret, Class&lt;?&gt; target) {\n    File[] kids = dir.listFiles();\n    if( kids != null) {\n        for(File file: kids) {\n            String path = file.getAbsolutePath();\n            if( file.isDirectory()) {\n                proccessDir(file,ret,target);\n            } else if(path.endsWith(&quot;.class&quot;)) {\n                parseFile(file,ret,target);\n            } else if(path.endsWith(&quot;.jar&quot;) || path.endsWith(&quot;.zip&quot;)) {\n                try {\n                    parseJar(file.toURI().toURL(),ret,target);\n                } catch (IOException e) {\n                }   \n            }           \n        }\n    }\n\n}\n\nprivate void parseJar(URL url, List&lt;Class&lt;?&gt;&gt; ret,Class&lt;?&gt; target) throws IOException {\n    ZipFile file = new ZipFile(new File(url.getFile()));\n    try {\n        Enumeration&lt;? extends ZipEntry&gt; i = file.entries();\n        while( i.hasMoreElements()) {\n            ZipEntry ze = i.nextElement();\n            String name = ze.getName().replace('/', '.');\n            if( ze.getName().endsWith(&quot;.class&quot;) ) {\n                name = name.substring(0, name.length()-6);\n                checkClass(name,ret,target);\n            }\n        }\n\n        //System.out.println(&quot;Parse url file = &quot;+url.getFile());\n    } finally {\n        file.close();\n    }\n}\n\n\npublic MyClassLoader(URL[] urls, ClassLoader parent) {\n    super(urls, parent);\n}\n}\n</code></pre>\n<p>Use it like this:</p>\n<pre><code>    static {\n    String cp[] = System.getProperty(&quot;java.class.path&quot;).split(File.pathSeparator);\n    \n    Solid3DClassLoader l = Solid3DClassLoader.getLoader(Arrays.asList(cp));\n    List&lt;Class&lt;?&gt;&gt; list = l.findTarget(MyFactory.class);\n    \n    for(Class&lt;?&gt; cls : list) {\n        if( cls != MyFactory.class) {\n        try {\n            Constructor&lt;?&gt; c = cls.getConstructor(new Class[0]);\n            if( c == null ) {\n                System.err.println(cls.getName()+&quot; does not have a default contructor&quot;);\n                continue;\n            }\n            Object obj = c.newInstance(new Object[0]);\n            if (obj instanceof MyFactory) {\n                MyFactory f = (MyFactory) obj;\n                register(f);\n            } else {\n                System.err.println(cls.getName()+&quot; is not a MyFactory.&quot;);\n            }\n        \n        } catch (NoSuchMethodException | SecurityException | InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n            System.err.println(cls.getName()+&quot; cannot be loaded.&quot;);\n        }\n    }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":15137,"reputation":7882,"user_id":1356709,"accept_rate":53,"display_name":"user2427"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96074,"favorite_count":0,"down_vote_count":2,"up_vote_count":110,"answer_count":12,"score":108,"last_activity_date":1697821008,"creation_date":1228625575,"question_id":347248,"body_markdown":"Can I do it with reflection or something like that?","title":"How can I get a list of all the implementations of an interface programmatically in Java?","body":"<p>Can I do it with reflection or something like that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":2,"creation_date":1454231221,"post_id":35111460,"comment_id":57944770,"body_markdown":"What&#39;s the problem/question?","body":"What&#39;s the problem/question?"},{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454323970,"post_id":35111460,"comment_id":57977117,"body_markdown":"The problem is I couldn&#39;t solve it! :P","body":"The problem is I couldn&#39;t solve it! :P"}],"answers":[{"comments":[{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454324634,"post_id":35111745,"comment_id":57977552,"body_markdown":"Thanks Dummy! For your response. But every time the inner for loop runs, the value of index is started with 1, right??? So the array property doesn&#39;t match here. After checking a0 =a1+a2 the next iteration should check if a0=a3+a4+a5. And this goes on. Could you please check this.","body":"Thanks Dummy! For your response. But every time the inner for loop runs, the value of index is started with 1, right??? So the array property doesn&#39;t match here. After checking a0 =a1+a2 the next iteration should check if a0=a3+a4+a5. And this goes on. Could you please check this."},{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454324881,"post_id":35111745,"comment_id":57977731,"body_markdown":"Guys!!! This question is from online practical test  for admission to MUM university. I find the questions bit confusing. So if you have solutions for past year questions for the test, please inform me. I will really appreciate your contribution. Thanks","body":"Guys!!! This question is from online practical test  for admission to MUM university. I find the questions bit confusing. So if you have solutions for past year questions for the test, please inform me. I will really appreciate your contribution. Thanks"},{"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"score":0,"creation_date":1454349264,"post_id":35111745,"comment_id":57994211,"body_markdown":"Yeah, it starts at 1, because you are not using the index 0 for the addition. Run it, and you will see. I tested it, and it gave me the correct result.","body":"Yeah, it starts at 1, because you are not using the index 0 for the addition. Run it, and you will see. I tested it, and it gave me the correct result."}],"tags":[],"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454231821,"creation_date":1454228245,"answer_id":35111745,"question_id":35111460,"body_markdown":"Here is my attempt for your troubling inner for loop. Because each time you loop, you increment the number of indexes you need to add by one, so I think you need another nested loop like this. I know it is ugly. Can&#39;t blame me, I am a beginner.\r\n\r\n        \r\n\r\n    public class TestArray {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isTestArray(new int[] {2,1,1,4,-1,-1}));\r\n    }\r\n\r\n    static int isTestArray(int[] a) {\r\n        boolean isEq = false;\r\n        for(int i=0; i &lt; a.length; i++) {\r\n            int n=i, value = a.length;\r\n            int equation= n*(n+1)/2;\r\n            if (value==equation) {\r\n                int index = 1;\r\n                for (int x = 1; x &lt; a.length; x++) {\r\n                    int total = 0;\r\n                    for (int y = index, count = 0; count &lt; x+1; y++, count++) {\r\n                        if (y!= a.length) {\r\n                            total += a[y];\r\n                            if (total == a[0])\r\n                                isEq = true;\r\n                            else\r\n                                isEq = false;\r\n                            index++;\r\n\r\n                        }\r\n                        else\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isEq)\r\n            return 1;\r\n        else\r\n            return 0;\r\n    }","title":"Core Java Practical Questions","body":"<p>Here is my attempt for your troubling inner for loop. Because each time you loop, you increment the number of indexes you need to add by one, so I think you need another nested loop like this. I know it is ugly. Can't blame me, I am a beginner.</p>\n\n<pre><code>public class TestArray {\n\npublic static void main(String[] args) {\n    System.out.println(isTestArray(new int[] {2,1,1,4,-1,-1}));\n}\n\nstatic int isTestArray(int[] a) {\n    boolean isEq = false;\n    for(int i=0; i &lt; a.length; i++) {\n        int n=i, value = a.length;\n        int equation= n*(n+1)/2;\n        if (value==equation) {\n            int index = 1;\n            for (int x = 1; x &lt; a.length; x++) {\n                int total = 0;\n                for (int y = index, count = 0; count &lt; x+1; y++, count++) {\n                    if (y!= a.length) {\n                        total += a[y];\n                        if (total == a[0])\n                            isEq = true;\n                        else\n                            isEq = false;\n                        index++;\n\n                    }\n                    else\n                        break;\n                }\n            }\n        }\n    }\n    if (isEq)\n        return 1;\n    else\n        return 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454324059,"post_id":35112097,"comment_id":57977174,"body_markdown":"Thanks AdamSkywalker for your response. But I find your solution doesn&#39;t fulfill the property of the array. a0=a1+a2=a3+a4+a5... Every time an array element is being added. Could you please check this. Thanks","body":"Thanks AdamSkywalker for your response. But I find your solution doesn&#39;t fulfill the property of the array. a0=a1+a2=a3+a4+a5... Every time an array element is being added. Could you please check this. Thanks"},{"owner":{"account_id":2934181,"reputation":11458,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"score":0,"creation_date":1454517655,"post_id":35112097,"comment_id":58082436,"body_markdown":"@Keith I don&#39;t understand: this code does exactly this check - it checks if a0 = a1 + a2, then it checks if a1+a2 = a3+a4+a5 and so on","body":"@Keith I don&#39;t understand: this code does exactly this check - it checks if a0 = a1 + a2, then it checks if a1+a2 = a3+a4+a5 and so on"},{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454568880,"post_id":35112097,"comment_id":58105432,"body_markdown":"Actually, it returns 1 if the array elements fulfills the property of the TestArray. Eg. a[0] should be equal to a[1]+a[2] , should be equal to a[3]+a[4]+a[5]. similarly, every time an array is added and it should be equal to a[0]","body":"Actually, it returns 1 if the array elements fulfills the property of the TestArray. Eg. a[0] should be equal to a[1]+a[2] , should be equal to a[3]+a[4]+a[5]. similarly, every time an array is added and it should be equal to a[0]"},{"owner":{"account_id":2934181,"reputation":11458,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"score":0,"creation_date":1454569540,"post_id":35112097,"comment_id":58105755,"body_markdown":"@Keith the task was to write a single method and now you talk about adding new elements","body":"@Keith the task was to write a single method and now you talk about adding new elements"},{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454569911,"post_id":35112097,"comment_id":58105937,"body_markdown":"you misunderstood me. The property of the array is like that. I have already mentioned it in question, above. I mean to say, in codes, in every loop one additional element is to be added then before, according to the TestArray property.","body":"you misunderstood me. The property of the array is like that. I have already mentioned it in question, above. I mean to say, in codes, in every loop one additional element is to be added then before, according to the TestArray property."}],"tags":[],"owner":{"account_id":2934181,"reputation":11458,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454231371,"creation_date":1454231371,"answer_id":35112097,"question_id":35111460,"body_markdown":"Number of elements in sum increases by 1 in every portion.\r\n\r\nYou should do 2 things:\r\n\r\n1. Write a method that will calculate sum of N elements starting from K position in array\r\n\r\n2. Increment `i` with the number of the smallest portion in iteration\r\n\r\nexample code:\r\n\r\n    int portionSize = 1; // number of elements to sum\r\n    int position = 0; // index of first element\r\n\r\n    while (position + 2 * portionSize + 1 &lt; array.length) { // condition for last iteration\r\n        if (sum(position, portionSize) != sum(position + portionSize, portionSize + 1) {\r\n            return false; // if not equal, return immediately\r\n       }\r\n       position += portionSize;\r\n       portionSize++;\r\n    }\r\n\r\n","title":"Core Java Practical Questions","body":"<p>Number of elements in sum increases by 1 in every portion.</p>\n\n<p>You should do 2 things:</p>\n\n<ol>\n<li><p>Write a method that will calculate sum of N elements starting from K position in array</p></li>\n<li><p>Increment <code>i</code> with the number of the smallest portion in iteration</p></li>\n</ol>\n\n<p>example code:</p>\n\n<pre><code>int portionSize = 1; // number of elements to sum\nint position = 0; // index of first element\n\nwhile (position + 2 * portionSize + 1 &lt; array.length) { // condition for last iteration\n    if (sum(position, portionSize) != sum(position + portionSize, portionSize + 1) {\n        return false; // if not equal, return immediately\n   }\n   position += portionSize;\n   portionSize++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"score":0,"creation_date":1454569768,"post_id":35194623,"comment_id":58105873,"body_markdown":"This code also works fine!!! Dummy&#39;s answer is also correct. One can use any of the codes as answer.","body":"This code also works fine!!! Dummy&#39;s answer is also correct. One can use any of the codes as answer."}],"tags":[],"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1454569686,"creation_date":1454569686,"answer_id":35194623,"question_id":35111460,"body_markdown":"    public class TestArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(isTestArray(new int[] {2,1,1}));\r\n    \t\tSystem.out.println(isTestArray(new int[] {3, 1, 2, 3, 0}));\r\n    \t}\r\n    \r\n    \tstatic int isTestArray(int[] a){\r\n    \t\t\r\n    \t\tboolean isEq=false, isEx=false;\r\n    \t\tint equation=0,value=a.length;\r\n        //for equation check\t\t\r\n    \t\tfor(int n=0;n&lt;value;n++){\r\n    \t\t\tequation=n*(n+1)/2;\r\n    \t\t\tif(value==equation){\r\n    \t\t\t\tisEx=true;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\t\r\n        //if equation is true\t\t\r\n    \t\tif(isEx)\r\n    \t\t{\r\n    \t\t\tint x=1,y=3,c=0,sum=0;\r\n    \t\t\tdo{\r\n    \t\t\t\tfor(int I=x,J=y;I&lt;J;I++){\r\n    \t\t\t\t\tsum=sum+a[I];\r\n    \t\t\t\t}\r\n    \t\t\t\tif(a[0]==sum){\r\n    \t\t\t\t\tisEq=true;\r\n    \t\t\t\t\tsum=0;\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tisEq=false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\t\t\t\t\t\t\r\n    \t\t\t\tc++;\r\n    \t\t\t\tx=y;\r\n    \t\t\t\ty=x+2+c;\r\n    \t\t\t}while(x&lt;a.length);\r\n    \t\t}\r\n        //last operation of return\t\r\n    \t\tif(isEq)\r\n    \t\t\treturn 1;\r\n    \t\telse\r\n    \t\t\treturn 0;\r\n    \t\t\r\n    \t}\r\n       }","title":"Core Java Practical Questions","body":"<pre><code>public class TestArray {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(isTestArray(new int[] {2,1,1}));\n        System.out.println(isTestArray(new int[] {3, 1, 2, 3, 0}));\n    }\n\n    static int isTestArray(int[] a){\n\n        boolean isEq=false, isEx=false;\n        int equation=0,value=a.length;\n    //for equation check        \n        for(int n=0;n&lt;value;n++){\n            equation=n*(n+1)/2;\n            if(value==equation){\n                isEx=true;\n                break;\n            }\n        }   \n    //if equation is true       \n        if(isEx)\n        {\n            int x=1,y=3,c=0,sum=0;\n            do{\n                for(int I=x,J=y;I&lt;J;I++){\n                    sum=sum+a[I];\n                }\n                if(a[0]==sum){\n                    isEq=true;\n                    sum=0;\n                }\n                else{\n                    isEq=false;\n                    break;\n                }                       \n                c++;\n                x=y;\n                y=x+2+c;\n            }while(x&lt;a.length);\n        }\n    //last operation of return  \n        if(isEq)\n            return 1;\n        else\n            return 0;\n\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11153241,"reputation":1,"user_id":8185744,"display_name":"Deepali Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576563931,"creation_date":1576563931,"answer_id":59368655,"question_id":35111460,"body_markdown":"    import java.io.*;\r\n\r\n    public class StackQues1{\r\n\t    static boolean flag = true;\r\n\t    static int arrLength = 0;\r\n\t    public static void main(String args[]){\r\n\t\t    Console c = System.console();\t\r\n\t\t    System.out.println(&quot;Enter the length of array - &quot;);\r\n\t\t    arrLength = Integer.parseInt(c.readLine());\r\n\t\t\r\n\t\t    //Let max val of n&lt;=20\r\n\t\t    //To check n(n+1)/2\r\n\t\t    boolean nFlag = false;\r\n\t\t    for(int n=1;n&lt;=20;n++){\r\n\t\t\t    if(arrLength == (n*(n+1))/2){\r\n\t\t\t\tnFlag = true;\r\n\t\t\t    }\r\n\t\t    }\t\t\r\n\t\t\tif(!nFlag){\r\n\t\t\t\tSystem.out.println(&quot;Length of array is not in the form of (n*(n+1))/2&quot;);\r\n\t\t\t}else{\t\t\r\n\t\t\t\tint arr[] = new int[arrLength];\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter the elements of array - &quot;);\r\n\t\t\t\tfor(int i=0;i&lt;arr.length;i++){\r\n\t\t\t\t\tarr[i] = Integer.parseInt(c.readLine());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Returned value = &quot;+isTestArray(arr));\r\n\t\t\t}\r\n\t    }\r\n\t\r\n\t\t//Logic Implementation\r\n\t\tpublic static int isTestArray(int[] arr){\t\t\r\n\t\t\t\tint sum = 0;\t\t\r\n\t\t\t\tint noOfElements=0;\r\n\t\t\t\tfor(int i=0;i&lt;arr.length;){\r\n\t\t\t\t\tnoOfElements++;\r\n\t\t\t\t\tsum=0;\r\n\t\t\t\t\tfor(int j=1;j&lt;=noOfElements;j++){\r\n\t\t\t\t\t\tsum=sum+arr[i];\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(arr[0] == sum){\r\n\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tflag = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(flag){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n    }","title":"Core Java Practical Questions","body":"<pre><code>import java.io.*;\n\npublic class StackQues1{\n    static boolean flag = true;\n    static int arrLength = 0;\n    public static void main(String args[]){\n        Console c = System.console();   \n        System.out.println(\"Enter the length of array - \");\n        arrLength = Integer.parseInt(c.readLine());\n\n        //Let max val of n&lt;=20\n        //To check n(n+1)/2\n        boolean nFlag = false;\n        for(int n=1;n&lt;=20;n++){\n            if(arrLength == (n*(n+1))/2){\n            nFlag = true;\n            }\n        }       \n        if(!nFlag){\n            System.out.println(\"Length of array is not in the form of (n*(n+1))/2\");\n        }else{      \n            int arr[] = new int[arrLength];         \n            System.out.println(\"Enter the elements of array - \");\n            for(int i=0;i&lt;arr.length;i++){\n                arr[i] = Integer.parseInt(c.readLine());\n            }\n\n            System.out.println(\"Returned value = \"+isTestArray(arr));\n        }\n    }\n\n    //Logic Implementation\n    public static int isTestArray(int[] arr){       \n            int sum = 0;        \n            int noOfElements=0;\n            for(int i=0;i&lt;arr.length;){\n                noOfElements++;\n                sum=0;\n                for(int j=1;j&lt;=noOfElements;j++){\n                    sum=sum+arr[i];\n                    i++;\n                }\n                if(arr[0] == sum){\n                    flag = true;\n                }else{\n                    flag = false;\n                    break;\n                }\n            }\n            if(flag){\n                return 1;\n            }else{\n                return 0;\n            }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26438226,"reputation":1,"user_id":20083239,"display_name":"jane"},"score":0,"creation_date":1697679700,"post_id":77320460,"comment_id":136311309,"body_markdown":"The function works fine for all test cases below","body":"The function works fine for all test cases below"}],"tags":[],"owner":{"account_id":26438226,"reputation":1,"user_id":20083239,"display_name":"jane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697820833,"creation_date":1697679316,"answer_id":77320460,"question_id":35111460,"body_markdown":"**Arrays:**\r\n```\r\nint liste1[]= new int[] {2, 1 ,1};\r\nint liste2[]= new int[] {2, 1, 1, 4, -1, -1};\r\nint liste3[]= new int[] {6, 2, 4, 2, 2, 2, 1, 5, 0, 0};\r\nint liste4[]= new int[] {18, 9, 10, 6, 6, 6};\r\nint liste5[]= new int[] {-6, -3, -3, 8, -5, -4};\t\t\r\nint liste6[]= new int[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, -2, -1};\r\nint liste7[]= new int[] {3, 1, 2, 3, 0};\r\n```\r\n    import java.util.ArrayList;    \r\n    public static boolean isMadhavArray(int a[]) {\r\n\tint position = 1; \r\n\tint count_size = 2;\r\n\tint sum = 0;\r\n\tSystem.out.printf(&quot;a.length= %s \\n&quot;, a.length);\r\n\twhile ( (position + count_size) &lt;= a.length ) {\r\n\t\tfor (int i=position; i &lt; (position + count_size) ;i++) {\r\n\t\t\t\tsum += a[i];\r\n\t\t}\r\n\t\tif ( a[0] == sum ) {\t\t\t\r\n\t\t\tSystem.out.printf(&quot;Count_size is %s started at position %s \\n&quot;, count_size, position);\r\n\t\t\tSystem.out.printf(&quot;Sum is %s \\n&quot;, sum);\r\n\t\t\t// move to next position from the previous count_size\r\n\t\t\tposition = position + count_size;\r\n\t\t\tcount_size +=1;\t\t\t\t\r\n\t\t\t//reset sum to zero\r\n\t\t\tsum = 0;\r\n\t\t}else { //return false if ever a sum not equal to the first item of the array\r\n\t\t\tSystem.out.printf(&quot;Sum is %s \\n&quot;, sum);\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\t};\r\n\treturn position &lt; a.length &amp;&amp; position + count_size &gt; a.length ? false : true;}\r\n","title":"Core Java Practical Questions","body":"<p><strong>Arrays:</strong></p>\n<pre><code>int liste1[]= new int[] {2, 1 ,1};\nint liste2[]= new int[] {2, 1, 1, 4, -1, -1};\nint liste3[]= new int[] {6, 2, 4, 2, 2, 2, 1, 5, 0, 0};\nint liste4[]= new int[] {18, 9, 10, 6, 6, 6};\nint liste5[]= new int[] {-6, -3, -3, 8, -5, -4};        \nint liste6[]= new int[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, -2, -1};\nint liste7[]= new int[] {3, 1, 2, 3, 0};\n</code></pre>\n<pre><code>import java.util.ArrayList;    \npublic static boolean isMadhavArray(int a[]) {\nint position = 1; \nint count_size = 2;\nint sum = 0;\nSystem.out.printf(&quot;a.length= %s \\n&quot;, a.length);\nwhile ( (position + count_size) &lt;= a.length ) {\n    for (int i=position; i &lt; (position + count_size) ;i++) {\n            sum += a[i];\n    }\n    if ( a[0] == sum ) {            \n        System.out.printf(&quot;Count_size is %s started at position %s \\n&quot;, count_size, position);\n        System.out.printf(&quot;Sum is %s \\n&quot;, sum);\n        // move to next position from the previous count_size\n        position = position + count_size;\n        count_size +=1;             \n        //reset sum to zero\n        sum = 0;\n    }else { //return false if ever a sum not equal to the first item of the array\n        System.out.printf(&quot;Sum is %s \\n&quot;, sum);\n        return false;\n    }       \n};\nreturn position &lt; a.length &amp;&amp; position + count_size &gt; a.length ? false : true;}\n</code></pre>\n"}],"owner":{"account_id":1021048,"reputation":41,"user_id":5863260,"display_name":"Keith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":5,"up_vote_count":5,"answer_count":5,"score":0,"last_activity_date":1697820833,"creation_date":1454225888,"question_id":35111460,"body_markdown":"A Test array has the following property:\r\n\r\n    a[0] = a[1] + a[2] = a[3] + a[4] + a[5] = a[6] + a[7] + a[8] + a[9] = ...\r\n\r\nThe length of a Test array must be n*(n+1)/2 for some n.\r\n\r\nWrite a method named isTestArray that returns 1 if its array argument is a Test array, otherwise it returns 0. The function signature is:\r\n\r\n    int isMadhavArray(int[ ] a)\r\n\r\n**Example:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**This is what I have tried:**\r\n\r\n    public class TestArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(isTestArray(new int[] {2,1,1,4,-1,-1}));\r\n\t}\r\n\r\n\tstatic int isTestArray(int[] a){\r\n\t\t\r\n\t\tboolean isEq=true;\r\n\t\tfor(int i=0;i&lt;a.length;i++){\r\n\t\t\tint n=i, value=a.length;\r\n\t\t\tint equation=n*(n+1)/2;\r\n\t\t\tif(value==equation)\r\n\t\t\t{\r\n\t\t\t\tfor(int x=0,y=1;y&lt;a.length;x++,y++){\r\n\t\t\t\t\tif(a[0]==a[x]+a[y]){\r\n\t\t\t\t\t\t//having problem over here :(\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tisEq=false;\r\n\t\t}\r\n\t\tif(isEq)\r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn 0;\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SJYqj.png","title":"Core Java Practical Questions","body":"<p>A Test array has the following property:</p>\n\n<pre><code>a[0] = a[1] + a[2] = a[3] + a[4] + a[5] = a[6] + a[7] + a[8] + a[9] = ...\n</code></pre>\n\n<p>The length of a Test array must be n*(n+1)/2 for some n.</p>\n\n<p>Write a method named isTestArray that returns 1 if its array argument is a Test array, otherwise it returns 0. The function signature is:</p>\n\n<pre><code>int isMadhavArray(int[ ] a)\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/SJYqj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJYqj.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>This is what I have tried:</strong></p>\n\n<pre><code>public class TestArray {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(isTestArray(new int[] {2,1,1,4,-1,-1}));\n}\n\nstatic int isTestArray(int[] a){\n\n    boolean isEq=true;\n    for(int i=0;i&lt;a.length;i++){\n        int n=i, value=a.length;\n        int equation=n*(n+1)/2;\n        if(value==equation)\n        {\n            for(int x=0,y=1;y&lt;a.length;x++,y++){\n                if(a[0]==a[x]+a[y]){\n                    //having problem over here :(\n                }\n            }\n        }\n        else\n            isEq=false;\n    }\n    if(isEq)\n        return 1;\n    else\n        return 0;\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1589371015,"post_id":61773982,"comment_id":109265461,"body_markdown":"Please explain the problem in more than one short sentence. It is not clear what you want to achieve.","body":"Please explain the problem in more than one short sentence. It is not clear what you want to achieve."},{"owner":{"account_id":15547052,"reputation":59,"user_id":11215920,"display_name":"LoganPaul"},"score":0,"creation_date":1589371129,"post_id":61773982,"comment_id":109265519,"body_markdown":"@Michael, sir problem description added.","body":"@Michael, sir problem description added."}],"answers":[{"comments":[{"owner":{"account_id":15547052,"reputation":59,"user_id":11215920,"display_name":"LoganPaul"},"score":1,"creation_date":1589371431,"post_id":61774068,"comment_id":109265698,"body_markdown":"But cant I have a solution in `O(n)` ??","body":"But cant I have a solution in <code>O(n)</code> ??"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1589371526,"post_id":61774068,"comment_id":109265748,"body_markdown":"@LoganPaul without division? I&#39;m not sure about that.","body":"@LoganPaul without division? I&#39;m not sure about that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1589374957,"post_id":61774068,"comment_id":109268046,"body_markdown":"[We can have an O(n) solution](https://stackoverflow.com/a/61775343/2711488), but not using the Stream API.","body":"<a href=\"https://stackoverflow.com/a/61775343/2711488\">We can have an O(n) solution</a>, but not using the Stream API."},{"owner":{"account_id":5285473,"reputation":91,"user_id":4219630,"display_name":"Enrique Cuchetti"},"score":0,"creation_date":1632946262,"post_id":61774068,"comment_id":122634057,"body_markdown":"It doesn&#39;t work for repeated values !=1 in the array.\nFor example: { 2, 2, 3, 2 }\nCorrect output: [12, 12, 8, 12]\nBut your solution returns: [3, 3, 8, 3]","body":"It doesn&#39;t work for repeated values !=1 in the array. For example: { 2, 2, 3, 2 } Correct output: [12, 12, 8, 12] But your solution returns: [3, 3, 8, 3]"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589371162,"creation_date":1589371162,"answer_id":61774068,"question_id":61773982,"body_markdown":"You can use `filter` to filter out the term you wish to exclude from the product:\r\n\r\n    int[] ints = Arrays.stream(arrays)\r\n                       .map(s -&gt; Arrays.stream(arrays).filter(x -&gt; x != s).reduce(1, (x, y) -&gt; x * y))\r\n                       .toArray();\r\n\r\nOutput (for your input array):\r\n\r\n    60 // 3 * 4 * 5\r\n    40 // 2 * 4 * 5\r\n    30 // 2 * 3 * 5\r\n    24 // 2 * 3 * 4","title":"Product of array elements except itself in Java8 without division","body":"<p>You can use <code>filter</code> to filter out the term you wish to exclude from the product:</p>\n\n<pre><code>int[] ints = Arrays.stream(arrays)\n                   .map(s -&gt; Arrays.stream(arrays).filter(x -&gt; x != s).reduce(1, (x, y) -&gt; x * y))\n                   .toArray();\n</code></pre>\n\n<p>Output (for your input array):</p>\n\n<pre><code>60 // 3 * 4 * 5\n40 // 2 * 4 * 5\n30 // 2 * 3 * 5\n24 // 2 * 3 * 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589374891,"creation_date":1589374891,"answer_id":61775343,"question_id":61773982,"body_markdown":"A solution performing the task in O(n) without division, is\r\n\r\n    int[] array = {2, 3, 4, 5};\r\n\r\n    int[] ints = new int[array.length];\r\n    ints[0] = 1;\r\n    for(int ix = 1, p = array[0]; ix &lt; array.length; ix++) {\r\n        ints[ix] = p;\r\n        p *= array[ix];\r\n    }\r\n    for(int ix = array.length - 1, p = array[ix--]; ix &gt;= 0; ix--) {\r\n        ints[ix] *= p;\r\n        p *= array[ix];\r\n    }\r\n\r\n    System.out.println(Arrays.toString(ints));\r\n\r\nFor each element at position *x*, we have to multiply the prefix, the product of all elements before *x*, with the suffix, the product of all elements after *x*. The first loop calculates the prefix for all elements, which we can simply assign to the target array. The second loop calculates the suffix and multiplies it with the prefix in the target array.\r\n\r\nThis is not a solution specific to Java&#160;8, but I dont think that there is a major benefit from using Java&#160;8.\r\n\r\nThe closest operation would be `Arrays.parallelPrefix()` but it would need adaptation steps to make it work for this particular task. Further, there is no equivalent operation for the suffix. Also, the mandatory parallel processing will cause a higher overhead than benefit for anything but very large arrays (not even counting the necessary adaptation steps).\r\n\r\n    int[] tmp = new int[array.length+1];\r\n    tmp[0] = 1;\r\n    System.arraycopy(array, 0, tmp, 1, array.length);\r\n    Arrays.parallelPrefix(tmp, (i,j) -&gt; i*j);\r\n    int[] solution2 = new int[array.length];\r\n    // there&#39;s no Arrays.parallelSuffix...\r\n    for(int ix = array.length - 1, p = 1; ix &gt;= 0; ix--) {\r\n        solution2[ix] = tmp[ix] * p;\r\n        p *= array[ix];\r\n    }\r\n\r\n    System.out.println(Arrays.toString(solution2));\r\n\r\nSo the solution using two loops is the best option here.\r\n","title":"Product of array elements except itself in Java8 without division","body":"<p>A solution performing the task in O(n) without division, is</p>\n\n<pre><code>int[] array = {2, 3, 4, 5};\n\nint[] ints = new int[array.length];\nints[0] = 1;\nfor(int ix = 1, p = array[0]; ix &lt; array.length; ix++) {\n    ints[ix] = p;\n    p *= array[ix];\n}\nfor(int ix = array.length - 1, p = array[ix--]; ix &gt;= 0; ix--) {\n    ints[ix] *= p;\n    p *= array[ix];\n}\n\nSystem.out.println(Arrays.toString(ints));\n</code></pre>\n\n<p>For each element at position <em>x</em>, we have to multiply the prefix, the product of all elements before <em>x</em>, with the suffix, the product of all elements after <em>x</em>. The first loop calculates the prefix for all elements, which we can simply assign to the target array. The second loop calculates the suffix and multiplies it with the prefix in the target array.</p>\n\n<p>This is not a solution specific to Java8, but I dont think that there is a major benefit from using Java8.</p>\n\n<p>The closest operation would be <code>Arrays.parallelPrefix()</code> but it would need adaptation steps to make it work for this particular task. Further, there is no equivalent operation for the suffix. Also, the mandatory parallel processing will cause a higher overhead than benefit for anything but very large arrays (not even counting the necessary adaptation steps).</p>\n\n<pre><code>int[] tmp = new int[array.length+1];\ntmp[0] = 1;\nSystem.arraycopy(array, 0, tmp, 1, array.length);\nArrays.parallelPrefix(tmp, (i,j) -&gt; i*j);\nint[] solution2 = new int[array.length];\n// there's no Arrays.parallelSuffix...\nfor(int ix = array.length - 1, p = 1; ix &gt;= 0; ix--) {\n    solution2[ix] = tmp[ix] * p;\n    p *= array[ix];\n}\n\nSystem.out.println(Arrays.toString(solution2));\n</code></pre>\n\n<p>So the solution using two loops is the best option here.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589375084,"creation_date":1589375084,"answer_id":61775409,"question_id":61773982,"body_markdown":"Well, to get it solved in **O(n)** you can follow as below:\r\n\r\nLet&#39;s make `left_Array`, `right_Array`, and `output_Array`. Fix the leftmost side of `left_Array` as `1` and rightmost side of `right_Array` as `1`. \r\n\r\nNow to fill the `left_Array` you need to traverse the original array from `i=1` to `i= array.length-1` // Note: We had already fixed the value of `left_Array[0] =1`;\r\n\r\nTo fill the `right_Array` you need to traverse the original array from `i=N-2` to `i= 0` // Note: We had already fixed the value of `right_Array[N-1] =1`;\r\n\r\nNow to get the `output_Array[]` we need to make a product of `left_Array[i]*right_Array[i];`\r\n\r\n    int [] arrays = {2,3,4,5};\r\n    int N = arrays.length;\r\n    int [] left_Array = new int[N];\r\n    int [] right_Array = new int [N];\r\n    int [] output_Array = new int [N];\r\n      left_Array[0]=1;\r\n      right_Array[N-1]=1;\r\n      IntStream.range(1,N).forEach(s-&gt;left_Array[s]=arrays[s-1]*left_Array[s-1]);\r\n      for (int j = N-2;j&gt;=0;j--){\r\n        right_Array[j]= arrays[j+1]*right_Array[j+1];\r\n      }\r\n      IntStream.range(0,N).forEach(k-&gt;output_Array[k]= left_Array[k]*right_Array[k]);\r\n      Arrays.stream(output_Array).forEach(System.out::println);\r\n\r\n&gt; PS: If anyone could write a reverse `Intstream.range()` for the\r\n&gt; `right_Array` loop then It would be great.","title":"Product of array elements except itself in Java8 without division","body":"<p>Well, to get it solved in <strong>O(n)</strong> you can follow as below:</p>\n\n<p>Let's make <code>left_Array</code>, <code>right_Array</code>, and <code>output_Array</code>. Fix the leftmost side of <code>left_Array</code> as <code>1</code> and rightmost side of <code>right_Array</code> as <code>1</code>. </p>\n\n<p>Now to fill the <code>left_Array</code> you need to traverse the original array from <code>i=1</code> to <code>i= array.length-1</code> // Note: We had already fixed the value of <code>left_Array[0] =1</code>;</p>\n\n<p>To fill the <code>right_Array</code> you need to traverse the original array from <code>i=N-2</code> to <code>i= 0</code> // Note: We had already fixed the value of <code>right_Array[N-1] =1</code>;</p>\n\n<p>Now to get the <code>output_Array[]</code> we need to make a product of <code>left_Array[i]*right_Array[i];</code></p>\n\n<pre><code>int [] arrays = {2,3,4,5};\nint N = arrays.length;\nint [] left_Array = new int[N];\nint [] right_Array = new int [N];\nint [] output_Array = new int [N];\n  left_Array[0]=1;\n  right_Array[N-1]=1;\n  IntStream.range(1,N).forEach(s-&gt;left_Array[s]=arrays[s-1]*left_Array[s-1]);\n  for (int j = N-2;j&gt;=0;j--){\n    right_Array[j]= arrays[j+1]*right_Array[j+1];\n  }\n  IntStream.range(0,N).forEach(k-&gt;output_Array[k]= left_Array[k]*right_Array[k]);\n  Arrays.stream(output_Array).forEach(System.out::println);\n</code></pre>\n\n<blockquote>\n  <p>PS: If anyone could write a reverse <code>Intstream.range()</code> for the\n  <code>right_Array</code> loop then It would be great.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1589379888,"post_id":61776001,"comment_id":109271321,"body_markdown":"Im not sure whether Id call the recursive solution easy or simpler. At least, I know that I wouldnt try a recursion depth equal to an array size with the HotSpot JVM in production code","body":"Im not sure whether Id call the recursive solution easy or simpler. At least, I know that I wouldnt try a recursion depth equal to an array size with the HotSpot JVM in production code"},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":0,"creation_date":1589382866,"post_id":61776001,"comment_id":109273354,"body_markdown":"@Holger Totally agree with you. Since this is an excercise - never ever had a requirement like this in any job&#39;s project so far - I&#39;d give recursion a go.","body":"@Holger Totally agree with you. Since this is an excercise - never ever had a requirement like this in any job&#39;s project so far - I&#39;d give recursion a go."}],"tags":[],"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589391494,"creation_date":1589376707,"answer_id":61776001,"question_id":61773982,"body_markdown":"I can agree with the other solution that this is not really solvable using `Stream` API. Also this seems to be easy using recursion:\r\n\r\n    public int[] prod(int[] arr) {\r\n      int[] result = new int[arr.length];\r\n      prod(arr, result, 0, 1);\r\n      return result;\r\n    }\r\n    \r\n    private int prod(int[] arr, int[] result, int i, int left) {\r\n      if (i &gt;= arr.length) {\r\n        return 1;\r\n      }\r\n      int right = prod(arr, result, i + 1, left * arr[i]);\r\n      result[i] = left * right;\r\n      return right * arr[i];\r\n    }\r\n\r\nCan be done also using 2 for loops:\r\n\r\n    public int[] prod(int[] arr) {\r\n      int[] result = new int[arr.length];\r\n      for (int i = 0, left = 1; i &lt; arr.length; left *= arr[i++]) {\r\n        result[i] = left;\r\n      }\r\n      for (int i = arr.length - 1, right = 1; i &gt;= 0; right *= arr[i--]) {\r\n        result[i] *= right;\r\n      }\r\n      return result;\r\n    }\r\n\r\nSince you have to traverse the array twice you could also get the product and divide at the second iteration:\r\n\r\n    public int[] prod(int[] arr) {\r\n      long product = Arrays.stream(arr).asLongStream().reduce(1L, (a, b) -&gt; a * b);\r\n      return Arrays.stream(arr).map(a -&gt; (int) (product / a)).toArray();\r\n    }","title":"Product of array elements except itself in Java8 without division","body":"<p>I can agree with the other solution that this is not really solvable using <code>Stream</code> API. Also this seems to be easy using recursion:</p>\n\n<pre><code>public int[] prod(int[] arr) {\n  int[] result = new int[arr.length];\n  prod(arr, result, 0, 1);\n  return result;\n}\n\nprivate int prod(int[] arr, int[] result, int i, int left) {\n  if (i &gt;= arr.length) {\n    return 1;\n  }\n  int right = prod(arr, result, i + 1, left * arr[i]);\n  result[i] = left * right;\n  return right * arr[i];\n}\n</code></pre>\n\n<p>Can be done also using 2 for loops:</p>\n\n<pre><code>public int[] prod(int[] arr) {\n  int[] result = new int[arr.length];\n  for (int i = 0, left = 1; i &lt; arr.length; left *= arr[i++]) {\n    result[i] = left;\n  }\n  for (int i = arr.length - 1, right = 1; i &gt;= 0; right *= arr[i--]) {\n    result[i] *= right;\n  }\n  return result;\n}\n</code></pre>\n\n<p>Since you have to traverse the array twice you could also get the product and divide at the second iteration:</p>\n\n<pre><code>public int[] prod(int[] arr) {\n  long product = Arrays.stream(arr).asLongStream().reduce(1L, (a, b) -&gt; a * b);\n  return Arrays.stream(arr).map(a -&gt; (int) (product / a)).toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658909677,"creation_date":1658909677,"answer_id":73134408,"question_id":61773982,"body_markdown":"I have O(n) solution for the above question. Please let me know if that solves your question.\r\n\r\n```\r\nclass ProductArray  \r\n{  \r\n  public static int[] findProduct(int arr[])  \r\n  {    \r\n    int [] result = new int[arr.length];\r\n    int temp = 1;\r\n    \r\n    for (int i = 0; i &lt; arr.length; i++)\r\n    {\r\n      if (arr[i] == 0)\r\n      {\r\n        continue;\r\n      }\r\n      \r\n      temp = temp * arr[i];\r\n    }\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n    {\r\n      if (arr[i] == 0)\r\n      {\r\n        result[i] = temp;\r\n        break;\r\n      }\r\n      else \r\n      {\r\n        result[i] = temp / arr[i];\r\n      }\r\n\r\n    }\r\n\r\n    // write your code here\r\n\r\n    return result; \r\n   } \r\n} \r\n\r\n```","title":"Product of array elements except itself in Java8 without division","body":"<p>I have O(n) solution for the above question. Please let me know if that solves your question.</p>\n<pre><code>class ProductArray  \n{  \n  public static int[] findProduct(int arr[])  \n  {    \n    int [] result = new int[arr.length];\n    int temp = 1;\n    \n    for (int i = 0; i &lt; arr.length; i++)\n    {\n      if (arr[i] == 0)\n      {\n        continue;\n      }\n      \n      temp = temp * arr[i];\n    }\n\n    for (int i = 0; i &lt; arr.length; i++)\n    {\n      if (arr[i] == 0)\n      {\n        result[i] = temp;\n        break;\n      }\n      else \n      {\n        result[i] = temp / arr[i];\n      }\n\n    }\n\n    // write your code here\n\n    return result; \n   } \n} \n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698004530,"post_id":77332598,"comment_id":136347293,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77332598/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"score":0,"creation_date":1698220352,"post_id":77332598,"comment_id":136375971,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/35158994)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/35158994\">From Review</a>"}],"tags":[],"owner":{"account_id":11879840,"reputation":1,"user_id":8693830,"display_name":"Shashank Shukla"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697820651,"creation_date":1697820651,"answer_id":77332598,"question_id":61773982,"body_markdown":"\t\tprivate void productArray(int[] arr, int n) {\r\n\t\t\tint[] res = new int[n];\r\n\t\t\tint total = 1;\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\ttotal *= arr[i];\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tres[i] = total / arr[i];\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tSystem.out.println(res[i]);\r\n\t\t\t}\r\n\t\t}","title":"Product of array elements except itself in Java8 without division","body":"<pre><code>    private void productArray(int[] arr, int n) {\n        int[] res = new int[n];\n        int total = 1;\n        for (int i = 0; i &lt; n; i++) {\n            total *= arr[i];\n        }\n\n        for (int i = 0; i &lt; n; i++) {\n            res[i] = total / arr[i];\n        }\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(res[i]);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15547052,"reputation":59,"user_id":11215920,"display_name":"LoganPaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61775343,"answer_count":6,"score":0,"last_activity_date":1697820651,"creation_date":1589370909,"question_id":61773982,"body_markdown":"How to solve the below problem without division in java-8 ?\r\n\r\n          int [] arrays = {2,3,4,5};\r\n          int[] ints = Arrays.stream(arrays).map(s -&gt; \r\n                       Arrays.stream(arrays).reduce(1, (x, y) -&gt; x * y) / s)\r\n                       .toArray();\r\n          Arrays.stream(ints).forEach(System.out::println);\r\n\r\nThe problem is Like: Make a product of all elements of the array except self.\r\n\r\nEx: if array has `2,3,4` as elements then the final array will be like: `12,8,6`\r\n\r\n**Thanks @Eran for the quick answer, but cant I solve this in O(n) ??** ","title":"Product of array elements except itself in Java8 without division","body":"<p>How to solve the below problem without division in java-8 ?</p>\n\n<pre><code>      int [] arrays = {2,3,4,5};\n      int[] ints = Arrays.stream(arrays).map(s -&gt; \n                   Arrays.stream(arrays).reduce(1, (x, y) -&gt; x * y) / s)\n                   .toArray();\n      Arrays.stream(ints).forEach(System.out::println);\n</code></pre>\n\n<p>The problem is Like: Make a product of all elements of the array except self.</p>\n\n<p>Ex: if array has <code>2,3,4</code> as elements then the final array will be like: <code>12,8,6</code></p>\n\n<p><strong>Thanks @Eran for the quick answer, but cant I solve this in O(n) ??</strong> </p>\n"},{"tags":["java","spring-cloud","spring-cloud-feign"],"owner":{"account_id":27022021,"reputation":13,"user_id":20579864,"display_name":"heh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697820186,"creation_date":1697819630,"question_id":77332512,"body_markdown":"I&#39;m having problems with the fallback implementation.\r\nFor some reason, when my service is not running, I get error 500, and there is no fallback interception\r\nThat&#39;s my implementation:\r\n\r\n```\r\n@FeignClient(name = &quot;planner-users&quot;, fallback = UserFeignClientFallback.class)\r\npublic interface UserFeignClient {\r\n\r\n    @PostMapping(&quot;/user/id&quot;)\r\n    ResponseEntity&lt;User&gt; findUserById(@RequestBody Long id);\r\n}\r\n\r\n@Component\r\nclass UserFeignClientFallback implements UserFeignClient {\r\n\r\n    @Override\r\n    public ResponseEntity&lt;User&gt; findUserById(Long id) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nResponseEntity&lt;User&gt; result =  userFeignClient.findUserById(category.getUserId());\r\n\r\n        if (result == null){\r\n            return new ResponseEntity(&quot;System users doesn&#39;t work right now&quot;, HttpStatus.NOT_FOUND);\r\n        }\r\n\r\n        if (result.getBody() != null)\r\n            return ResponseEntity.ok(categoryService.add(category));\r\n\r\n        return new ResponseEntity(&quot;user id=&quot; + category.getUserId() + &quot; not found&quot;, HttpStatus.NOT_ACCEPTABLE);\r\n```\r\n\r\n```\r\n@Component\r\npublic class FeignExceptionHandler implements ErrorDecoder {\r\n\r\n    @Override\r\n    public Exception decode(String methodKey, Response response) {\r\n\r\n        switch (response.status()) {\r\n            case 406: {\r\n                return new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE, readMessage(response));\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n    private String readMessage(Response response) {\r\n\r\n        String message = null;\r\n        Reader reader = null;\r\n\r\n        try {\r\n\r\n            reader = response.body().asReader(Charset.defaultCharset());\r\n            message = CharStreams.toString(reader);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (reader != null)\r\n                    reader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return message;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have added the following dependencies:\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-hystrix:+&#39;\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j:+&#39;\r\n```\r\nAlso I added next conf in git property:\r\n`feign.circuitbreaker.enabled=true`\r\nMy service reads the config, because it connected to server.\r\nI&#39;ve read this question - https://stackoverflow.com/questions/69524571/spring-cloud-openfeign-3-0-1-fallback-not-being-triggered but it doesn&#39;t work :( \r\nThis is the answer in Postman:`&quot;timestamp&quot;: &quot;2023-10-20T16:24:43.978+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;Cannot throw exception because the return value of \\&quot;feign.ResponseHandler.decodeError(String, feign.Response)\\&quot; is null&quot;,\r\n    &quot;path&quot;: &quot;/category/add&quot;`","title":"Spring cloud netflix hystrix fallback not being triggered","body":"<p>I'm having problems with the fallback implementation.\nFor some reason, when my service is not running, I get error 500, and there is no fallback interception\nThat's my implementation:</p>\n<pre><code>@FeignClient(name = &quot;planner-users&quot;, fallback = UserFeignClientFallback.class)\npublic interface UserFeignClient {\n\n    @PostMapping(&quot;/user/id&quot;)\n    ResponseEntity&lt;User&gt; findUserById(@RequestBody Long id);\n}\n\n@Component\nclass UserFeignClientFallback implements UserFeignClient {\n\n    @Override\n    public ResponseEntity&lt;User&gt; findUserById(Long id) {\n        return null;\n    }\n}\n</code></pre>\n<pre><code>ResponseEntity&lt;User&gt; result =  userFeignClient.findUserById(category.getUserId());\n\n        if (result == null){\n            return new ResponseEntity(&quot;System users doesn't work right now&quot;, HttpStatus.NOT_FOUND);\n        }\n\n        if (result.getBody() != null)\n            return ResponseEntity.ok(categoryService.add(category));\n\n        return new ResponseEntity(&quot;user id=&quot; + category.getUserId() + &quot; not found&quot;, HttpStatus.NOT_ACCEPTABLE);\n</code></pre>\n<pre><code>@Component\npublic class FeignExceptionHandler implements ErrorDecoder {\n\n    @Override\n    public Exception decode(String methodKey, Response response) {\n\n        switch (response.status()) {\n            case 406: {\n                return new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE, readMessage(response));\n            }\n        }\n\n        return null;\n    }\n    private String readMessage(Response response) {\n\n        String message = null;\n        Reader reader = null;\n\n        try {\n\n            reader = response.body().asReader(Charset.defaultCharset());\n            message = CharStreams.toString(reader);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (reader != null)\n                    reader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return message;\n    }\n\n}\n</code></pre>\n<p>I have added the following dependencies:</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-netflix-hystrix:+'\nimplementation 'org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j:+'\n</code></pre>\n<p>Also I added next conf in git property:\n<code>feign.circuitbreaker.enabled=true</code>\nMy service reads the config, because it connected to server.\nI've read this question - <a href=\"https://stackoverflow.com/questions/69524571/spring-cloud-openfeign-3-0-1-fallback-not-being-triggered\">Spring cloud openfeign 3.0.1 fallback not being triggered</a> but it doesn't work :(\nThis is the answer in Postman:<code>&quot;timestamp&quot;: &quot;2023-10-20T16:24:43.978+00:00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;message&quot;: &quot;Cannot throw exception because the return value of \\&quot;feign.ResponseHandler.decodeError(String, feign.Response)\\&quot; is null&quot;, &quot;path&quot;: &quot;/category/add&quot;</code></p>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1357943543,"creation_date":1357943543,"answer_id":14287760,"question_id":14271253,"body_markdown":"By default, properties are defined in &quot;local&quot; [scope][1]. However, you can force a property to have context scope, in which case it&#39;s pretty easy to get the value of the property:\r\n\r\n     LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n     String val = lc.getProperty(aString);\r\n\r\nDefining properties in &quot;context&quot; scope is considered a little heavy handed. Instead of defining all/many properties in context scope, you could define only a single property in context scope. Here is an example:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;!-- get many props from a file --&gt;\r\n      &lt;property resource=&#39;log.properties&#39;/&gt;\r\n      &lt;-- set only one to be in context scope --&gt;\r\n      &lt;property scope=&quot;context&quot; name=&quot;log.dir.ctx&quot; value=&quot;${log.dir}&quot; /&gt;\r\n      ...\r\n    &lt;/configuration&gt;\r\n\r\nYou could then obtain the value you are looking for with:\r\n\r\n     LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n     String val = lc.getProperty(&quot;log.dir.ctx&quot;); \r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/configuration.html#scopes","title":"Access Properties Defined in Logback programmatically","body":"<p>By default, properties are defined in \"local\" <a href=\"http://logback.qos.ch/manual/configuration.html#scopes\" rel=\"noreferrer\">scope</a>. However, you can force a property to have context scope, in which case it's pretty easy to get the value of the property:</p>\n\n<pre><code> LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\n String val = lc.getProperty(aString);\n</code></pre>\n\n<p>Defining properties in \"context\" scope is considered a little heavy handed. Instead of defining all/many properties in context scope, you could define only a single property in context scope. Here is an example:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;!-- get many props from a file --&gt;\n  &lt;property resource='log.properties'/&gt;\n  &lt;-- set only one to be in context scope --&gt;\n  &lt;property scope=\"context\" name=\"log.dir.ctx\" value=\"${log.dir}\" /&gt;\n  ...\n&lt;/configuration&gt;\n</code></pre>\n\n<p>You could then obtain the value you are looking for with:</p>\n\n<pre><code> LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\n String val = lc.getProperty(\"log.dir.ctx\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1560000,"reputation":1,"user_id":1450100,"display_name":"snour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594657799,"creation_date":1594655288,"answer_id":62879510,"question_id":14271253,"body_markdown":"Properties are also defined in `LoggerContextVO`, you can get your defined properties like this:  \r\n```\r\nLoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\r\nLoggerContextVO loggerContextRemoteView = context.getLoggerContextRemoteView();\r\nMap&lt;String, String&gt; propertyMap = loggerContextRemoteView.getPropertyMap();\r\nString loggingFile = propertyMap.get(&quot;log.dir.ctx&quot;);\r\n```\r\n","title":"Access Properties Defined in Logback programmatically","body":"<p>Properties are also defined in <code>LoggerContextVO</code>, you can get your defined properties like this:</p>\n<pre><code>LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\nLoggerContextVO loggerContextRemoteView = context.getLoggerContextRemoteView();\nMap&lt;String, String&gt; propertyMap = loggerContextRemoteView.getPropertyMap();\nString loggingFile = propertyMap.get(&quot;log.dir.ctx&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12036420,"reputation":91,"user_id":8804741,"display_name":"Mikk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697819939,"creation_date":1697819939,"answer_id":77332544,"question_id":14271253,"body_markdown":"I was trying to use a Spring property defined in *application.properties* when configuring a custom Encoder programmatically. In the Encoder it would have to decide whether to manipulate the log or not. This feature could be toggled on or off by a configurable parameter.\r\n\r\nSince this logging library would be used by many different projects, each deployment could configure their needs with this property from their own *application.property* file.\r\n\r\nI solved it like this:\r\n\r\nYou can access spring properties defined in *application.properties* from logback.xml.\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;ourCustomParameter&quot; source=&quot;eu.some.property.name&quot; /&gt;\r\n...\r\n&lt;/configuration&gt;\r\n```\r\nNote the declaration of scope. We need to be able to retrieve this variable from Context in Java code.\r\n\r\nIn Logback you can get it from Context now. Writing a custom Encoder you can access it like this \r\n```\r\nthis.getContext().getProperty(&quot;ourCustomParameter&quot;);\r\n```\r\n\r\nOr a larger example:\r\n\r\n```\r\npublic class CustomLoggingEventCompositeJsonEncoder extends LoggingEventCompositeJsonEncoder {\r\n  \r\n  ...\r\n  \r\n  @Override\r\n  public byte[] encode(ILoggingEvent iLoggingEvent) {\r\n    return super.encode(iLoggingEvent);\r\n  }\r\n  \r\n  ...\r\n  \r\n  private String getOurSpringProp() {\r\n    return this.getContext().getProperty(&quot;&quot;);\r\n    // Note that this will return null if this property does not exist\r\n  }\r\n}\r\n```","title":"Access Properties Defined in Logback programmatically","body":"<p>I was trying to use a Spring property defined in <em>application.properties</em> when configuring a custom Encoder programmatically. In the Encoder it would have to decide whether to manipulate the log or not. This feature could be toggled on or off by a configurable parameter.</p>\n<p>Since this logging library would be used by many different projects, each deployment could configure their needs with this property from their own <em>application.property</em> file.</p>\n<p>I solved it like this:</p>\n<p>You can access spring properties defined in <em>application.properties</em> from logback.xml.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;ourCustomParameter&quot; source=&quot;eu.some.property.name&quot; /&gt;\n...\n&lt;/configuration&gt;\n</code></pre>\n<p>Note the declaration of scope. We need to be able to retrieve this variable from Context in Java code.</p>\n<p>In Logback you can get it from Context now. Writing a custom Encoder you can access it like this</p>\n<pre><code>this.getContext().getProperty(&quot;ourCustomParameter&quot;);\n</code></pre>\n<p>Or a larger example:</p>\n<pre><code>public class CustomLoggingEventCompositeJsonEncoder extends LoggingEventCompositeJsonEncoder {\n  \n  ...\n  \n  @Override\n  public byte[] encode(ILoggingEvent iLoggingEvent) {\n    return super.encode(iLoggingEvent);\n  }\n  \n  ...\n  \n  private String getOurSpringProp() {\n    return this.getContext().getProperty(&quot;&quot;);\n    // Note that this will return null if this property does not exist\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4280,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":14287760,"answer_count":3,"score":9,"last_activity_date":1697819939,"creation_date":1357875368,"question_id":14271253,"body_markdown":"I have an administration console I&#39;m building, and I want to display the logs created in `Logback` for my application.  However, where those logs are stored is different per environment.  I have several property files that define where the logs are stored:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;property resource=&#39;log.properties&#39;/&gt;\r\n      &lt;property resource=&#39;log.${ENV:-prod}.properties&#39;/&gt;\r\n\r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${log.dir}/sync.log&lt;/file&gt;\r\n      ...\r\n    &lt;/configuration&gt;\r\n\r\nI&#39;d like to find the value of `${log.dir}` from `Logback&#39;s` Java API.  I&#39;d tried the following, but it doesn&#39;t have any of the properties defined in the resources.  For example:\r\n\r\n     LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n     String logDir = loggerContext.getProperty(&quot;log.dir&quot;); // this always returns null\r\n\r\nSo my question is what API should I be using?\r\n\r\n","title":"Access Properties Defined in Logback programmatically","body":"<p>I have an administration console I'm building, and I want to display the logs created in <code>Logback</code> for my application.  However, where those logs are stored is different per environment.  I have several property files that define where the logs are stored:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;property resource='log.properties'/&gt;\n  &lt;property resource='log.${ENV:-prod}.properties'/&gt;\n\n  &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;${log.dir}/sync.log&lt;/file&gt;\n  ...\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I'd like to find the value of <code>${log.dir}</code> from <code>Logback's</code> Java API.  I'd tried the following, but it doesn't have any of the properties defined in the resources.  For example:</p>\n\n<pre><code> LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n String logDir = loggerContext.getProperty(\"log.dir\"); // this always returns null\n</code></pre>\n\n<p>So my question is what API should I be using?</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","gradle"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697834333,"post_id":77332472,"comment_id":136334091,"body_markdown":"Can you provide some more java codes?The classes that you listed above","body":"Can you provide some more java codes?The classes that you listed above"},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1697919238,"post_id":77332472,"comment_id":136340669,"body_markdown":"The library class StateTraversalService is here: https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/StateTraversalService.java. I pushed the test application to Github just now: https://github.com/jspinak/spring-elastic-tests. I set up the test application to run the library&#39;s Spring configuration, which should communicate with the Elasticsearch container. The test application could call any class; the method it calls doesn&#39;t do anything in this context.","body":"The library class StateTraversalService is here: <a href=\"https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/StateTraversalService.java\" rel=\"nofollow noreferrer\">github.com/jspinak/brobot/blob/main/library/src/main/java/io&zwnj;&#8203;/&hellip;</a>. I pushed the test application to Github just now: <a href=\"https://github.com/jspinak/spring-elastic-tests\" rel=\"nofollow noreferrer\">github.com/jspinak/spring-elastic-tests</a>. I set up the test application to run the library&#39;s Spring configuration, which should communicate with the Elasticsearch container. The test application could call any class; the method it calls doesn&#39;t do anything in this context."},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1697919259,"post_id":77332472,"comment_id":136340673,"body_markdown":"The classes ElasticClient https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/configuration/ElasticClient.java and HttpClientConfigImpl https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/configuration/HttpClientConfigImpl.java set up the connection to Elasticsearch. The Spring dependencies recognize the annotations on these classes and initiate the connection when setting up beans.","body":"The classes ElasticClient <a href=\"https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/configuration/ElasticClient.java\" rel=\"nofollow noreferrer\">github.com/jspinak/brobot/blob/main/library/src/main/java/io&zwnj;&#8203;/&hellip;</a> and HttpClientConfigImpl <a href=\"https://github.com/jspinak/brobot/blob/main/library/src/main/java/io/github/jspinak/brobot/testingAUTs/configuration/HttpClientConfigImpl.java\" rel=\"nofollow noreferrer\">github.com/jspinak/brobot/blob/main/library/src/main/java/io&zwnj;&#8203;/&hellip;</a> set up the connection to Elasticsearch. The Spring dependencies recognize the annotations on these classes and initiate the connection when setting up beans."},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1698431472,"post_id":77332472,"comment_id":136409569,"body_markdown":"When the `org.springframework.boot` plugin is set to version 2.6.2, the application recognizes the library&#39;s beans. Later versions cause the `bean not found` error. Does anyone know why or how to fix this?","body":"When the <code>org.springframework.boot</code> plugin is set to version 2.6.2, the application recognizes the library&#39;s beans. Later versions cause the <code>bean not found</code> error. Does anyone know why or how to fix this?"}],"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697819165,"creation_date":1697819165,"question_id":77332472,"body_markdown":"The error Im getting in my Spring Boot project is:\r\n```\r\nParameter 0 of constructor in brobot.elasticsearch.tests.TestElasticsearch required a bean of type &#39;io.github.jspinak.brobot.testingAUTs.StateTraversalService&#39; that could not be found.\r\n```\r\n`brobot.elasticsearch.tests.TestElasticsearch` is a class in a Spring Boot application that tests the functionality of a Java library @ https://github.com/jspinak/brobot. The library class `StateTraversalService` is correctly annotated with `@Component`. In the test application, the library class imports show up without errors in the IDE. \r\n\r\nThis error showed up after I updated a number of dependencies in the *build.gradle* file. The reason I cant go back to the old dependencies is that I need the updated *build.gradle* file for new functionality. I want to export logs from the library to an Elasticsearch container. Initially, I followed these instructions to set up Elasticsearch and Kibana containers with security: https://www.elastic.co/de/blog/getting-started-with-the-elastic-stack-and-docker-compose. The containers worked and I could access Elasticsearch from my terminal as well as from https://localhost:9200. However, I kept getting an https connection error despite having https specified in my configuration class.\r\n\r\nIn config class: `RestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;));`\r\nElasticsearch log error: `received plaintext http traffic on an https channel, closing connection.`\r\n\r\nI then bought a course online, downloaded the demo Spring Boot application, and followed the instructions to set up Elasticsearch and Kibana containers. It worked for the demo but not for my project. I still got the same https error message, despite having identical code for Elasticsearch and identical containers to the course demo. I then decided to update the dependencies to match those of the demo. This is when I got the *bean not found* error.\r\n\r\nThe project uses Java 20 and Gradle 8.4. Ive specified Java 20 in 5 places in the Intellij IDE: *Settings*: (1) Gradle JVM, (2) Java compiler project bytecode version; *Project Structure*: (3) Project, (4) Modules, (5) SDKs\r\n\r\nThe matching dependencies in the test application and library have the same versions. Both test and library applications have the same Gradle and Java versions. \r\n\r\nHere is the library&#39;s *build.gradle* file:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;java&#39;\r\n    id &#39;io.freefair.lombok&#39; version &#39;8.4&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;signing&#39;\r\n}\r\n\r\ngroup &#39;io.github.jspinak&#39;\r\nversion &#39;1.0.7&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;com.sikulix:sikulixapi:2.0.5&#39;) {\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-nop&#39;\r\n    }\r\n    implementation &#39;ch.qos.logback:logback-classic&#39; \r\n\r\n    implementation &#39;com.squareup:javapoet:1.9.0&#39;\r\n    implementation &quot;org.deeplearning4j:deeplearning4j-core:1.0.0-M1&quot;\r\n    implementation &quot;org.nd4j:nd4j-native-platform:1.0.0-M1&quot;\r\n    implementation &#39;com.github.kwhat:jnativehook:2.2.2&#39;\r\n\r\n    implementation &#39;co.elastic.clients:elasticsearch-java:8.3.3&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.3&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-elasticsearch&#39;\r\n}\r\n\r\njava {\r\n    withJavadocJar()\r\n    withSourcesJar()\r\n}\r\n\r\npublishing ...\r\n```","title":"Spring Boot could not find bean after dependencies updated","body":"<p>The error Im getting in my Spring Boot project is:</p>\n<pre><code>Parameter 0 of constructor in brobot.elasticsearch.tests.TestElasticsearch required a bean of type 'io.github.jspinak.brobot.testingAUTs.StateTraversalService' that could not be found.\n</code></pre>\n<p><code>brobot.elasticsearch.tests.TestElasticsearch</code> is a class in a Spring Boot application that tests the functionality of a Java library @ <a href=\"https://github.com/jspinak/brobot\" rel=\"nofollow noreferrer\">https://github.com/jspinak/brobot</a>. The library class <code>StateTraversalService</code> is correctly annotated with <code>@Component</code>. In the test application, the library class imports show up without errors in the IDE.</p>\n<p>This error showed up after I updated a number of dependencies in the <em>build.gradle</em> file. The reason I cant go back to the old dependencies is that I need the updated <em>build.gradle</em> file for new functionality. I want to export logs from the library to an Elasticsearch container. Initially, I followed these instructions to set up Elasticsearch and Kibana containers with security: <a href=\"https://www.elastic.co/de/blog/getting-started-with-the-elastic-stack-and-docker-compose\" rel=\"nofollow noreferrer\">https://www.elastic.co/de/blog/getting-started-with-the-elastic-stack-and-docker-compose</a>. The containers worked and I could access Elasticsearch from my terminal as well as from https://localhost:9200. However, I kept getting an https connection error despite having https specified in my configuration class.</p>\n<p>In config class: <code>RestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;));</code>\nElasticsearch log error: <code>received plaintext http traffic on an https channel, closing connection.</code></p>\n<p>I then bought a course online, downloaded the demo Spring Boot application, and followed the instructions to set up Elasticsearch and Kibana containers. It worked for the demo but not for my project. I still got the same https error message, despite having identical code for Elasticsearch and identical containers to the course demo. I then decided to update the dependencies to match those of the demo. This is when I got the <em>bean not found</em> error.</p>\n<p>The project uses Java 20 and Gradle 8.4. Ive specified Java 20 in 5 places in the Intellij IDE: <em>Settings</em>: (1) Gradle JVM, (2) Java compiler project bytecode version; <em>Project Structure</em>: (3) Project, (4) Modules, (5) SDKs</p>\n<p>The matching dependencies in the test application and library have the same versions. Both test and library applications have the same Gradle and Java versions.</p>\n<p>Here is the library's <em>build.gradle</em> file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'java'\n    id 'io.freefair.lombok' version '8.4'\n    id 'maven-publish'\n    id 'signing'\n}\n\ngroup 'io.github.jspinak'\nversion '1.0.7'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\ndependencies {\n    implementation('com.sikulix:sikulixapi:2.0.5') {\n        exclude group: 'org.slf4j', module: 'slf4j-nop'\n    }\n    implementation 'ch.qos.logback:logback-classic' \n\n    implementation 'com.squareup:javapoet:1.9.0'\n    implementation &quot;org.deeplearning4j:deeplearning4j-core:1.0.0-M1&quot;\n    implementation &quot;org.nd4j:nd4j-native-platform:1.0.0-M1&quot;\n    implementation 'com.github.kwhat:jnativehook:2.2.2'\n\n    implementation 'co.elastic.clients:elasticsearch-java:8.3.3'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.3'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-elasticsearch'\n}\n\njava {\n    withJavadocJar()\n    withSourcesJar()\n}\n\npublishing ...\n</code></pre>\n"},{"tags":["java","jakarta-ee","jndi","apache-tomee","module-path"],"owner":{"account_id":27455786,"reputation":1,"user_id":20947263,"display_name":"jmb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697818372,"creation_date":1697818372,"question_id":77332392,"body_markdown":"I have several web applications packaged in war files, running on a TomEE 9.1 server, with JDK17.\r\nThe war files are built with Maven.\r\nOne of these applications (named Historisation) has an interface package in a Historisation.jar file, and an implementation packaged in a Historisation.war file. In Historisation.jar, there is an EJB remote interface, and in Historisation.war, the EJB implementation.\r\nAs every other application uses this EJB, I specified in the respective pom.xml a dependency with Histoeisation.jar :\r\n\r\n```\r\n    &lt;dependency\\&gt;\r\n        &lt;groupId\\&gt;xxx\\&lt;/groupId\\&gt;\r\n        &lt;artifactId\\&gt;Historisation\\&lt;/artifactId\\&gt;\r\n    &lt;/dependency\\&gt;\r\n```\r\n\r\nThe result is that in every war file, there is the Historisation.jar file in the WEB-INF/lib directory.\r\n\r\nMy problem occurs at execution time : when an application X tries to use the EJB, it \\*\\*does \\*\\*get it from the JNDI, but it can&#39;t cast it with the correct class. The class name is correct but it is seen in an other module :\r\n`java.lang.ClassCastException: class jdk.proxy14.$Proxy596 cannot be cast to class fr.csf.histo.handlers.HistSender (jdk.proxy14.$Proxy596 is in module jdk.proxy14 of loader org.apache.tomee.catalina.TomEEWebappClassLoader @3f4b138; fr.csf.histo.handlers.HistSender is in unnamed module of loader org.apache.tomee.catalina.TomEEWebappClassLoader @44bb33a4)`\r\n\r\nI don&#39;t use the module specificities anywhere in theses applications. Everything was OK with JDK 8, and I don&#39;t know what to do to make the class of the object got from the JNDI seen from the classpath rather than a module.\r\n\r\nI tried to copy Historisation.jar in the lib directory of the TomEE server.\r\nIt seems to work, but it looks more like a workaround than a solution.\r\nI really have the feeling that I missed something.\r\n\r\nThank you for your help.","title":"Module path problem when looking for a remote EJB in JNDI","body":"<p>I have several web applications packaged in war files, running on a TomEE 9.1 server, with JDK17.\nThe war files are built with Maven.\nOne of these applications (named Historisation) has an interface package in a Historisation.jar file, and an implementation packaged in a Historisation.war file. In Historisation.jar, there is an EJB remote interface, and in Historisation.war, the EJB implementation.\nAs every other application uses this EJB, I specified in the respective pom.xml a dependency with Histoeisation.jar :</p>\n<pre><code>    &lt;dependency\\&gt;\n        &lt;groupId\\&gt;xxx\\&lt;/groupId\\&gt;\n        &lt;artifactId\\&gt;Historisation\\&lt;/artifactId\\&gt;\n    &lt;/dependency\\&gt;\n</code></pre>\n<p>The result is that in every war file, there is the Historisation.jar file in the WEB-INF/lib directory.</p>\n<p>My problem occurs at execution time : when an application X tries to use the EJB, it **does **get it from the JNDI, but it can't cast it with the correct class. The class name is correct but it is seen in an other module :\n<code>java.lang.ClassCastException: class jdk.proxy14.$Proxy596 cannot be cast to class fr.csf.histo.handlers.HistSender (jdk.proxy14.$Proxy596 is in module jdk.proxy14 of loader org.apache.tomee.catalina.TomEEWebappClassLoader @3f4b138; fr.csf.histo.handlers.HistSender is in unnamed module of loader org.apache.tomee.catalina.TomEEWebappClassLoader @44bb33a4)</code></p>\n<p>I don't use the module specificities anywhere in theses applications. Everything was OK with JDK 8, and I don't know what to do to make the class of the object got from the JNDI seen from the classpath rather than a module.</p>\n<p>I tried to copy Historisation.jar in the lib directory of the TomEE server.\nIt seems to work, but it looks more like a workaround than a solution.\nI really have the feeling that I missed something.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","https","wsdl"],"owner":{"account_id":29449673,"reputation":1,"user_id":22566366,"display_name":"keydeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697818309,"creation_date":1697797114,"question_id":77330134,"body_markdown":"File **APPWSImpl.java**\r\n\r\n```\r\n@WebService(serviceName = APPWSService&quot;, portName = &quot;APPWSPort&quot;, targetNamespace = &quot;http://webservice.app.com/&quot;, endpointInterface = &quot;com.app.webservice.APPWS&quot;)\r\n@HandlerChain(file = &quot;handlers.xml&quot;)\r\npublic class APPWSImpl implements APPWS {\r\n\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(APPWSImpl.class);\r\n\r\n\t@Resource\r\n\tWebServiceContext webServiceContext;\r\n\r\n\t@Override\r\n\tpublic APPResponse handleRequest(APPRequest request) {\r\n\t\treturn handleRequest(request, APPUtil.getRemoteHost(webServiceContext));\r\n\t}\r\n\r\n\tprivate APPResponse handleRequest(APPRequest request, String remoteHost) {\r\n\t\treturn APPHandler.handleRequest(request, remoteHost);\r\n\t}\r\n\r\n        @Override\r\n\tpublic ReadCalendarsResponse readCalendars(ReadCalendarsRequest request) {\r\n\t\treturn (ReadCalendarsResponse) APPHandlerUtil.handleStaticRequest(request,\r\n\t\t\t\tAPPUtil.getRemoteHost(webServiceContext));\r\n\t}\r\n\r\n}\r\n```\r\nFile **APPWS.java**\r\n\r\n   \r\n\r\n     @WebService\r\n    public interface APPWS {\r\n    \r\n    \t@WebMethod\r\n    \t@WebResult(name = &quot;return&quot;)\r\n    \tpublic APPResponse handleRequest(APPRequest request);\r\n    \r\n    \t@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    \t@WebResult(name = &quot;readCalendarsResponse&quot;)\r\n    \tpublic ReadCalendarsResponse readCalendars(ReadCalendarsRequest request);\r\n    \r\n    \t\r\n    \r\n    }\r\n\r\n\r\nFile **binding.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;bindings xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n    \twsdlLocation=&quot;../wsdl/APPWSService.wsdl&quot; xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxws http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxws/wsdl_customizationschema_2_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\r\n    \r\n    \t&lt;bindings node=&quot;wsdl:definitions/wsdl:portType[@name=&#39;APPWS&#39;]/wsdl:operation[@name=&#39;handleRequest&#39;]&quot;&gt;\r\n    \t\t&lt;enableWrapperStyle&gt;true&lt;/enableWrapperStyle&gt;\r\n    \t&lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\n\r\nFile **APPWSService.wsdl**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI&#39;s version is JAX-WS RI 2.2.9-b14002 svn-revision#14004. --&gt;\r\n    &lt;definitions targetNamespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; name=&quot;APPWSService&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:wsp1_2=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; xmlns:tns=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:wsam=&quot;http://www.w3.org/2007/05/addressing/metadata&quot;&gt;\r\n      &lt;types&gt;\r\n        &lt;xsd:schema&gt;\r\n          &lt;xsd:import namespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; schemaLocation=&quot;APPWSService_schema1.xsd&quot;/&gt;\r\n        &lt;/xsd:schema&gt;\r\n      &lt;/types&gt;\r\n      &lt;message name=&quot;readCalendars&quot;&gt;\r\n        &lt;part name=&quot;readCalendars&quot; element=&quot;tns:readCalendars&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;readCalendarsResponse&quot;&gt;\r\n        &lt;part name=&quot;readCalendarsResponse&quot; element=&quot;tns:readCalendarsResponse&quot;/&gt;\r\n      &lt;/message&gt;\r\n    \r\n      &lt;portType name=&quot;APPWS&quot;&gt;\r\n        &lt;operation name=&quot;readCalendars&quot;&gt;\r\n          &lt;input wsam:Action=&quot;https://webservice.APP.com/APPWS/readCalendarsRequest&quot; message=&quot;tns:readCalendars&quot;/&gt;\r\n          &lt;output wsam:Action=&quot;https://webservice.APP.com/APPWS/readCalendarsResponse&quot; message=&quot;tns:readCalendarsResponse&quot;/&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/portType&gt;\r\n      &lt;binding name=&quot;APPWSPortBinding&quot; type=&quot;tns:APPWS&quot;&gt;\r\n        &lt;soap:binding transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; style=&quot;document&quot;/&gt;\r\n        &lt;operation name=&quot;readCalendars&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/binding&gt;\r\n      &lt;service name=&quot;APPWSService&quot;&gt;\r\n        &lt;port name=&quot;APPWSPort&quot; binding=&quot;tns:APPWSPortBinding&quot;&gt;\r\n          &lt;soap:address location=&quot;https://dominio.dev.corp/APPWebService/HandleRequest&quot;/&gt;\r\n        &lt;/port&gt;\r\n      &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\nFile **APPWSService_schema1.xsd**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;xs:schema version=&quot;1.0&quot; targetNamespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:tns=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n      &lt;xs:element name=&quot;readCalendars&quot; nillable=&quot;true&quot; type=&quot;tns:readCalendarsRequest&quot;/&gt;\r\n    \r\n      &lt;xs:element name=&quot;readCalendarsResponse&quot; nillable=&quot;true&quot; type=&quot;tns:readCalendarsResponse&quot;/&gt;\r\n    \r\n      &lt;xs:complexType name=&quot;readCalendarsRequest&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n          &lt;xs:element name=&quot;credentials&quot; type=&quot;tns:credentials&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n    \r\n      &lt;xs:complexType name=&quot;readCalendarsResponse&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n          &lt;xs:element name=&quot;responseStatus&quot; type=&quot;tns:responseStatus&quot;/&gt;\r\n          &lt;xs:element name=&quot;calendar&quot; type=&quot;xs:string&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n    \r\n    &lt;/xs:schema&gt;\r\n\r\n\r\nThe client services have been created from wsdl and xsd with Maven.\r\n\r\nFile **pom.xml**\r\n\r\n        &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;generate-wsdl-client-APPWSService&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;bindingDirectory&gt;${project.basedir}/src/jaxws&lt;/bindingDirectory&gt;\r\n    \t\t\t\t&lt;wsdlDirectory&gt;${project.basedir}/src/wsdl&lt;/wsdlDirectory&gt;\r\n    \t\t\t\t&lt;wsdlFiles&gt; \r\n    \t\t\t\t\t&lt;wsdlFile&gt;APPWSService.wsdl&lt;/wsdlFile&gt; \r\n    \t\t\t\t&lt;/wsdlFiles&gt;\r\n    \t\t\t\t&lt;wsdlLocation&gt;APPWSService.wsdl&lt;/wsdlLocation&gt;\r\n    \t\t\t\t&lt;packageName&gt;com.app.ws.client&lt;/packageName&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf I load the wsdl in SOAPUI, the https actions respond correctly. What it does not believe well is the wsdl information document when requested by the secure protocol `https://dominio.dev.corp/APPWebService/HandleRequest?wsdl`. It always appears as http and the service block is as follows:\r\n\r\n      &lt;service name=&quot;APPWSService&quot;&gt;\r\n        &lt;port name=&quot;APPWSPort&quot; binding=&quot;tns:APPWSPortBinding&quot;&gt;\r\n          &lt;soap:address location=&quot;http://dominio.dev.corp:80/APPWebService/HandleRequest&quot;/&gt;\r\n        &lt;/port&gt;\r\n      &lt;/service&gt;\r\n\r\n\r\nWhat I need is the wsdl with the location property, `\\&lt;soap:address location=`, the url with the secure protocol. This way anyone can call the information document and load it into SOAPUI without modifying anything.\r\n\r\nHas anything like this happened to anyone?\r\n\r\nThank you very much in advance.","title":"Information document with secure protocol in wsdl","body":"<p>File <strong>APPWSImpl.java</strong></p>\n<pre><code>@WebService(serviceName = APPWSService&quot;, portName = &quot;APPWSPort&quot;, targetNamespace = &quot;http://webservice.app.com/&quot;, endpointInterface = &quot;com.app.webservice.APPWS&quot;)\n@HandlerChain(file = &quot;handlers.xml&quot;)\npublic class APPWSImpl implements APPWS {\n\n    private static final Logger LOGGER = LogManager.getLogger(APPWSImpl.class);\n\n    @Resource\n    WebServiceContext webServiceContext;\n\n    @Override\n    public APPResponse handleRequest(APPRequest request) {\n        return handleRequest(request, APPUtil.getRemoteHost(webServiceContext));\n    }\n\n    private APPResponse handleRequest(APPRequest request, String remoteHost) {\n        return APPHandler.handleRequest(request, remoteHost);\n    }\n\n        @Override\n    public ReadCalendarsResponse readCalendars(ReadCalendarsRequest request) {\n        return (ReadCalendarsResponse) APPHandlerUtil.handleStaticRequest(request,\n                APPUtil.getRemoteHost(webServiceContext));\n    }\n\n}\n</code></pre>\n<p>File <strong>APPWS.java</strong></p>\n<pre><code> @WebService\npublic interface APPWS {\n\n    @WebMethod\n    @WebResult(name = &quot;return&quot;)\n    public APPResponse handleRequest(APPRequest request);\n\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n    @WebResult(name = &quot;readCalendarsResponse&quot;)\n    public ReadCalendarsResponse readCalendars(ReadCalendarsRequest request);\n\n    \n\n}\n</code></pre>\n<p>File <strong>binding.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bindings xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n    wsdlLocation=&quot;../wsdl/APPWSService.wsdl&quot; xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxws http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/jaxws/wsdl_customizationschema_2_0.xsd&quot;&gt;\n\n    &lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\n\n    &lt;bindings node=&quot;wsdl:definitions/wsdl:portType[@name='APPWS']/wsdl:operation[@name='handleRequest']&quot;&gt;\n        &lt;enableWrapperStyle&gt;true&lt;/enableWrapperStyle&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>File <strong>APPWSService.wsdl</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.9-b14002 svn-revision#14004. --&gt;\n&lt;definitions targetNamespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; name=&quot;APPWSService&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:wsp1_2=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; xmlns:tns=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:wsam=&quot;http://www.w3.org/2007/05/addressing/metadata&quot;&gt;\n  &lt;types&gt;\n    &lt;xsd:schema&gt;\n      &lt;xsd:import namespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; schemaLocation=&quot;APPWSService_schema1.xsd&quot;/&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/types&gt;\n  &lt;message name=&quot;readCalendars&quot;&gt;\n    &lt;part name=&quot;readCalendars&quot; element=&quot;tns:readCalendars&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;readCalendarsResponse&quot;&gt;\n    &lt;part name=&quot;readCalendarsResponse&quot; element=&quot;tns:readCalendarsResponse&quot;/&gt;\n  &lt;/message&gt;\n\n  &lt;portType name=&quot;APPWS&quot;&gt;\n    &lt;operation name=&quot;readCalendars&quot;&gt;\n      &lt;input wsam:Action=&quot;https://webservice.APP.com/APPWS/readCalendarsRequest&quot; message=&quot;tns:readCalendars&quot;/&gt;\n      &lt;output wsam:Action=&quot;https://webservice.APP.com/APPWS/readCalendarsResponse&quot; message=&quot;tns:readCalendarsResponse&quot;/&gt;\n    &lt;/operation&gt;\n  &lt;/portType&gt;\n  &lt;binding name=&quot;APPWSPortBinding&quot; type=&quot;tns:APPWS&quot;&gt;\n    &lt;soap:binding transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; style=&quot;document&quot;/&gt;\n    &lt;operation name=&quot;readCalendars&quot;&gt;\n      &lt;soap:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n    &lt;/operation&gt;\n  &lt;/binding&gt;\n  &lt;service name=&quot;APPWSService&quot;&gt;\n    &lt;port name=&quot;APPWSPort&quot; binding=&quot;tns:APPWSPortBinding&quot;&gt;\n      &lt;soap:address location=&quot;https://dominio.dev.corp/APPWebService/HandleRequest&quot;/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n<p>File <strong>APPWSService_schema1.xsd</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;xs:schema version=&quot;1.0&quot; targetNamespace=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:tns=&quot;https://dominio.dev.corp/APPWebService/HandleRequest/APPWSService.wsdl&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n\n  &lt;xs:element name=&quot;readCalendars&quot; nillable=&quot;true&quot; type=&quot;tns:readCalendarsRequest&quot;/&gt;\n\n  &lt;xs:element name=&quot;readCalendarsResponse&quot; nillable=&quot;true&quot; type=&quot;tns:readCalendarsResponse&quot;/&gt;\n\n  &lt;xs:complexType name=&quot;readCalendarsRequest&quot;&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=&quot;credentials&quot; type=&quot;tns:credentials&quot;/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=&quot;readCalendarsResponse&quot;&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=&quot;responseStatus&quot; type=&quot;tns:responseStatus&quot;/&gt;\n      &lt;xs:element name=&quot;calendar&quot; type=&quot;xs:string&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p>The client services have been created from wsdl and xsd with Maven.</p>\n<p>File <strong>pom.xml</strong></p>\n<pre><code>    &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-wsdl-client-APPWSService&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;bindingDirectory&gt;${project.basedir}/src/jaxws&lt;/bindingDirectory&gt;\n                &lt;wsdlDirectory&gt;${project.basedir}/src/wsdl&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt; \n                    &lt;wsdlFile&gt;APPWSService.wsdl&lt;/wsdlFile&gt; \n                &lt;/wsdlFiles&gt;\n                &lt;wsdlLocation&gt;APPWSService.wsdl&lt;/wsdlLocation&gt;\n                &lt;packageName&gt;com.app.ws.client&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I load the wsdl in SOAPUI, the https actions respond correctly. What it does not believe well is the wsdl information document when requested by the secure protocol <code>https://dominio.dev.corp/APPWebService/HandleRequest?wsdl</code>. It always appears as http and the service block is as follows:</p>\n<pre><code>  &lt;service name=&quot;APPWSService&quot;&gt;\n    &lt;port name=&quot;APPWSPort&quot; binding=&quot;tns:APPWSPortBinding&quot;&gt;\n      &lt;soap:address location=&quot;http://dominio.dev.corp:80/APPWebService/HandleRequest&quot;/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n</code></pre>\n<p>What I need is the wsdl with the location property, <code>\\&lt;soap:address location=</code>, the url with the secure protocol. This way anyone can call the information document and load it into SOAPUI without modifying anything.</p>\n<p>Has anything like this happened to anyone?</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","spring-boot","spring-logback"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1697813227,"post_id":77329051,"comment_id":136330884,"body_markdown":"Does this answer your question? [SpringBoot with LogBack creating LOG\\_PATH\\_IS\\_UNDEFINED folder](https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder\">SpringBoot with LogBack creating LOG_PATH_IS_UNDEFINED folder</a>"}],"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697818257,"creation_date":1697786928,"question_id":77329051,"body_markdown":"This is my `logback-spring.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration  scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n    &lt;contextName&gt;logback&lt;/contextName&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logLocation&quot; source=&quot;logging.file.path&quot; default=&quot;/data/applog/zzq/init&quot;/&gt;\r\n\r\n    &lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\r\n    &lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\r\n    &lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\r\n    &lt;!-- Colorful --&gt;\r\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;${CONSOLE_LOG_PATTERN:-%clr(%d{MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&quot;/&gt;\r\n\r\n\r\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${CONSOLE_LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;logFile&quot;  class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;Prudent&gt;true&lt;/Prudent&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;FileNamePattern&gt;\r\n                ${logLocation}/%d{yyyy-MM-dd}/%d{MM-dd}.%i.log\r\n            &lt;/FileNamePattern&gt;\r\n            &lt;maxFileSize&gt;500MB&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;180&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;logFile&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis is my `application.yml`:\r\n\r\n```yml\r\nlogging:\r\n  config: classpath:logback-spring.xml\r\n  file:\r\n    path: /data/applog/zzq/${spring.application.name}\r\n  level:\r\n    com.xmzn: debug\r\n    com.baomidou.mybatisplus: debug\r\n    com.*.mapper: debug\r\n    org.springframework: info\r\n```\r\n\r\nIt works fine on windows, storing directly to the specified directory, but running it on `linux (CentOS7) `generates the directory `logLocation_IS_UNDEFINED`\r\n\r\n[Windows](https://i.stack.imgur.com/RivSM.png)\r\n\r\n[linux](https://i.stack.imgur.com/Xnp3v.png)\r\n\r\n\r\n\r\n\r\nHow can I fix it? Are there some other methods","title":"SpringBoot 3.1.4 generated .log directory is undefined. How to fix it?","body":"<p>This is my <code>logback-spring.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration  scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;contextName&gt;logback&lt;/contextName&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logLocation&quot; source=&quot;logging.file.path&quot; default=&quot;/data/applog/zzq/init&quot;/&gt;\n\n    &lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\n    &lt;!-- Colorful --&gt;\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;${CONSOLE_LOG_PATTERN:-%clr(%d{MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&quot;/&gt;\n\n\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${CONSOLE_LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;logFile&quot;  class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;Prudent&gt;true&lt;/Prudent&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;/encoder&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;FileNamePattern&gt;\n                ${logLocation}/%d{yyyy-MM-dd}/%d{MM-dd}.%i.log\n            &lt;/FileNamePattern&gt;\n            &lt;maxFileSize&gt;500MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;180&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\n        &lt;appender-ref ref=&quot;logFile&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>This is my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  config: classpath:logback-spring.xml\n  file:\n    path: /data/applog/zzq/${spring.application.name}\n  level:\n    com.xmzn: debug\n    com.baomidou.mybatisplus: debug\n    com.*.mapper: debug\n    org.springframework: info\n</code></pre>\n<p>It works fine on windows, storing directly to the specified directory, but running it on <code>linux (CentOS7) </code>generates the directory <code>logLocation_IS_UNDEFINED</code></p>\n<p><a href=\"https://i.stack.imgur.com/RivSM.png\" rel=\"nofollow noreferrer\">Windows</a></p>\n<p><a href=\"https://i.stack.imgur.com/Xnp3v.png\" rel=\"nofollow noreferrer\">linux</a></p>\n<p>How can I fix it? Are there some other methods</p>\n"},{"tags":["java","spring-boot","docker","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697980772,"post_id":77331619,"comment_id":136344742,"body_markdown":"1) Start with one broker. 2) Kafka doesn&#39;t require Zookeeper anymore 3) You&#39;re missing `KAFKA_LISTENERS` 4) `docker ps` output? Is cluster actually healthy (do you have enough memory to run 5 containers **and** Java code, and any other programs on your machine)? 5) Never run an even number of Zookeepers 6) I suggest you get kafka-console-producer / kafka-topics CLI working before moving to other clients 7) Don&#39;t set both consumer and producer properties in one config","body":"1) Start with one broker. 2) Kafka doesn&#39;t require Zookeeper anymore 3) You&#39;re missing <code>KAFKA_LISTENERS</code> 4) <code>docker ps</code> output? Is cluster actually healthy (do you have enough memory to run 5 containers <b>and</b> Java code, and any other programs on your machine)? 5) Never run an even number of Zookeepers 6) I suggest you get kafka-console-producer / kafka-topics CLI working before moving to other clients 7) Don&#39;t set both consumer and producer properties in one config"}],"answers":[{"comments":[{"owner":{"account_id":16636762,"reputation":876,"user_id":12023261,"display_name":"Arpan Banerjee"},"score":1,"creation_date":1697833223,"post_id":77332366,"comment_id":136333943,"body_markdown":"I want to connect this from outside of docker, why should I create a network?","body":"I want to connect this from outside of docker, why should I create a network?"},{"owner":{"account_id":10379925,"reputation":1,"user_id":7655051,"display_name":"AYUSH SINGHANIA"},"score":0,"creation_date":1698040343,"post_id":77332366,"comment_id":136349797,"body_markdown":"keeping all kafka brokers and zoopkeeper into single network will help them to interact between themselves. As you can see in the error which you posted:\n\njava.net.UnknownHostException: No such host is known (broker-1)\n\nThis means they are not able to interact internally. As you have used service name only in your docker-compose (having kafka and zookeeper)","body":"keeping all kafka brokers and zoopkeeper into single network will help them to interact between themselves. As you can see in the error which you posted:  java.net.UnknownHostException: No such host is known (broker-1)  This means they are not able to interact internally. As you have used service name only in your docker-compose (having kafka and zookeeper)"}],"tags":[],"owner":{"account_id":10379925,"reputation":1,"user_id":7655051,"display_name":"AYUSH SINGHANIA"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697818043,"creation_date":1697818043,"answer_id":77332366,"question_id":77331619,"body_markdown":"you should try defining a network in the docker-compose.","title":"Unable to connect to kafka cluster running inside docker from spring boot application running outside docker","body":"<p>you should try defining a network in the docker-compose.</p>\n"}],"owner":{"account_id":16636762,"reputation":876,"user_id":12023261,"display_name":"Arpan Banerjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697980587,"answer_count":1,"score":0,"last_activity_date":1697818043,"creation_date":1697811016,"question_id":77331619,"body_markdown":"Here is my docker-compose file-\r\nI am not able to connect to kafka running in docker from a springboot application running in my windows local. I have shared the necessary files. I have created topic by doing exec in the docker container, all that is working, but i need to access it from my local application.\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  zookeeper-1:\r\n    image: confluentinc/cp-zookeeper:latest\r\n    container_name: zookeeper-1\r\n    environment:\r\n      ZOOKEEPER_SERVER_ID: 1\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    ports:\r\n      - &quot;22181:2181&quot;\r\n\r\n  zookeeper-2:\r\n    image: confluentinc/cp-zookeeper:latest\r\n    container_name: zookeeper-2\r\n    environment:\r\n      ZOOKEEPER_SERVER_ID: 2\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    ports:\r\n      - &quot;32181:2181&quot;\r\n\r\n  broker-1:\r\n    image: confluentinc/cp-kafka:latest\r\n    container_name: broker-1\r\n    ports:\r\n      - &quot;19092:9092&quot;\r\n    depends_on:\r\n      - zookeeper-1\r\n      - zookeeper-2\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper-1:2181,zookeeper-2:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-1:9092,PLAINTEXT_HOST://localhost:19092\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n\r\n  broker-2:\r\n    image: confluentinc/cp-kafka:latest\r\n    container_name: broker-2\r\n    ports:\r\n      - &quot;19093:9092&quot;\r\n    depends_on:\r\n      - zookeeper-1\r\n      - zookeeper-2\r\n    environment:\r\n      KAFKA_BROKER_ID: 2\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper-1:2181,zookeeper-2:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-2:9093,PLAINTEXT_HOST://localhost:19093\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n\r\n  broker-3:\r\n    image: confluentinc/cp-kafka:latest\r\n    container_name: broker-3\r\n    ports:\r\n      - &quot;19094:9092&quot;\r\n    depends_on:\r\n      - zookeeper-1\r\n      - zookeeper-2\r\n    environment:\r\n      KAFKA_BROKER_ID: 3\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper-1:2181,zookeeper-2:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-3:9094,PLAINTEXT_HOST://localhost:19094\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n\r\n```\r\nI have added all the configs. I tried searching a lot, but I could not find the issue.\r\n\r\nApp properties file in spring boot-\r\n```\r\nspring.kafka.bootstrap-servers=localhost:19092,localhost:19093,localhost:19094\r\nspring.kafka.consumer.group-id=profile\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n```\r\n\r\nkafkaconfig class-\r\n\r\n```\r\n\r\n@Configuration\r\n@Getter\r\npublic class KakfaConfig {\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n    private String consumerGroupId;\r\n\r\n    @Value(&quot;${spring.kafka.consumer.auto-offset-reset}&quot;)\r\n    private String autoOffsetReset;\r\n\r\n    @Value(&quot;${spring.kafka.consumer.key-deserializer}&quot;)\r\n    private String keyDeserializer;\r\n\r\n    @Value(&quot;${spring.kafka.consumer.value-deserializer}&quot;)\r\n    private String valueDeserializer;\r\n\r\n    @Value(&quot;${spring.kafka.producer.key-serializer}&quot;)\r\n    private String keySerializer;\r\n\r\n        @Value(&quot;${spring.kafka.producer.value-serializer}&quot;)\r\n        private String valueSerializer;\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; getKafkaTemplate() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(&quot;bootstrap.servers&quot;, bootstrapServers);\r\n        props.put(&quot;group.id&quot;, consumerGroupId);\r\n        props.put(&quot;auto.offset.reset&quot;, autoOffsetReset);\r\n        props.put(&quot;key.deserializer&quot;, keyDeserializer);\r\n        props.put(&quot;value.deserializer&quot;, valueDeserializer);\r\n        props.put(&quot;key.serializer&quot;, keySerializer);\r\n        props.put(&quot;value.serializer&quot;, valueSerializer);\r\n        return props;\r\n    }\r\n\r\n    @Bean(name = &quot;userProfileKafkaTemplate&quot;)\r\n    public KafkaTemplate&lt;String, String&gt; userProfileKafkaTemplate() {\r\n        Map&lt;String, Object&gt; props = getKafkaTemplate();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\r\n    }\r\n}\r\n```\r\nError message-\r\n```\r\n2023-10-20T19:38:49.111+05:30  INFO 19236 --- [nio-8080-exec-1] c.c.p.producer.UserProfileKakfaProducer  : Sending message to user profile topic: user-profile-topic, Event type USER_PROFILE_CREATED\r\n2023-10-20T19:38:49.198+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \r\n\tacks = -1\r\n\tauto.include.jmx.reporter = true\r\n\tbatch.size = 16384\r\n\tbootstrap.servers = [localhost:19092, localhost:19093, localhost:19094]\r\n\tbuffer.memory = 33554432\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = producer-1\r\n\tcompression.type = none\r\n\tconnections.max.idle.ms = 540000\r\n\tdelivery.timeout.ms = 120000\r\n\tenable.idempotence = true\r\n\tinterceptor.classes = []\r\n\tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\tlinger.ms = 0\r\n\tmax.block.ms = 60000\r\n\tmax.in.flight.requests.per.connection = 5\r\n\tmax.request.size = 1048576\r\n\tmetadata.max.age.ms = 300000\r\n\tmetadata.max.idle.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartitioner.adaptive.partitioning.enable = true\r\n\tpartitioner.availability.timeout.ms = 0\r\n\tpartitioner.class = null\r\n\tpartitioner.ignore.keys = false\r\n\treceive.buffer.bytes = 32768\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\ttransaction.timeout.ms = 60000\r\n\ttransactional.id = null\r\n\tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\r\n2023-10-20T19:38:49.399+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n2023-10-20T19:38:49.524+05:30  WARN 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : These configurations &#39;[key.deserializer, value.deserializer, group.id, auto.offset.reset]&#39; were supplied but are not used yet.\r\n2023-10-20T19:38:49.526+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\r\n2023-10-20T19:38:49.527+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\r\n2023-10-20T19:38:49.527+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1697810929524\r\n2023-10-20T19:38:50.448+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -3 disconnected.\r\n2023-10-20T19:38:50.455+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -3 (localhost/127.0.0.1:19094) could not be established. Broker may not be available.\r\n2023-10-20T19:38:50.456+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:19094 (id: -3 rack: null) disconnected\r\n2023-10-20T19:38:50.851+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-0 to 5 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.853+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-5 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-1 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-4 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-2 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-3 to 5 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\r\n2023-10-20T19:38:50.861+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: LR9OWVzUToybvB004q6T2g\r\n2023-10-20T19:38:51.018+05:30  INFO 19236 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId set to 1000 with epoch 0\r\n2023-10-20T19:38:53.713+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error connecting to node broker-1:9092 (id: 1 rack: null)\r\n\r\njava.net.UnknownHostException: No such host is known (broker-1)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\r\n\tat org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:990) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.sendProducerData(Sender.java:354) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:327) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) ~[kafka-clients-3.4.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-10-20T19:38:56.398+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error connecting to node broker-2:9093 (id: 2 rack: null)\r\n\r\njava.net.UnknownHostException: No such host is known (broker-2)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\r\n\tat org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.4.1.jar:na]\r\n\tat org.apache.kafka.clients.NetworkClient.initiateConnect(Netw\r\n```\r\n\r\nPlease help me.\r\n\r\n","title":"Unable to connect to kafka cluster running inside docker from spring boot application running outside docker","body":"<p>Here is my docker-compose file-\nI am not able to connect to kafka running in docker from a springboot application running in my windows local. I have shared the necessary files. I have created topic by doing exec in the docker container, all that is working, but i need to access it from my local application.</p>\n<pre><code>version: '3'\nservices:\n  zookeeper-1:\n    image: confluentinc/cp-zookeeper:latest\n    container_name: zookeeper-1\n    environment:\n      ZOOKEEPER_SERVER_ID: 1\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    ports:\n      - &quot;22181:2181&quot;\n\n  zookeeper-2:\n    image: confluentinc/cp-zookeeper:latest\n    container_name: zookeeper-2\n    environment:\n      ZOOKEEPER_SERVER_ID: 2\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    ports:\n      - &quot;32181:2181&quot;\n\n  broker-1:\n    image: confluentinc/cp-kafka:latest\n    container_name: broker-1\n    ports:\n      - &quot;19092:9092&quot;\n    depends_on:\n      - zookeeper-1\n      - zookeeper-2\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper-1:2181,zookeeper-2:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-1:9092,PLAINTEXT_HOST://localhost:19092\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n\n  broker-2:\n    image: confluentinc/cp-kafka:latest\n    container_name: broker-2\n    ports:\n      - &quot;19093:9092&quot;\n    depends_on:\n      - zookeeper-1\n      - zookeeper-2\n    environment:\n      KAFKA_BROKER_ID: 2\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper-1:2181,zookeeper-2:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-2:9093,PLAINTEXT_HOST://localhost:19093\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n\n  broker-3:\n    image: confluentinc/cp-kafka:latest\n    container_name: broker-3\n    ports:\n      - &quot;19094:9092&quot;\n    depends_on:\n      - zookeeper-1\n      - zookeeper-2\n    environment:\n      KAFKA_BROKER_ID: 3\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper-1:2181,zookeeper-2:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker-3:9094,PLAINTEXT_HOST://localhost:19094\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n\n</code></pre>\n<p>I have added all the configs. I tried searching a lot, but I could not find the issue.</p>\n<p>App properties file in spring boot-</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:19092,localhost:19093,localhost:19094\nspring.kafka.consumer.group-id=profile\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>kafkaconfig class-</p>\n<pre><code>\n@Configuration\n@Getter\npublic class KakfaConfig {\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\n    private String consumerGroupId;\n\n    @Value(&quot;${spring.kafka.consumer.auto-offset-reset}&quot;)\n    private String autoOffsetReset;\n\n    @Value(&quot;${spring.kafka.consumer.key-deserializer}&quot;)\n    private String keyDeserializer;\n\n    @Value(&quot;${spring.kafka.consumer.value-deserializer}&quot;)\n    private String valueDeserializer;\n\n    @Value(&quot;${spring.kafka.producer.key-serializer}&quot;)\n    private String keySerializer;\n\n        @Value(&quot;${spring.kafka.producer.value-serializer}&quot;)\n        private String valueSerializer;\n\n    @Bean\n    public Map&lt;String, Object&gt; getKafkaTemplate() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(&quot;bootstrap.servers&quot;, bootstrapServers);\n        props.put(&quot;group.id&quot;, consumerGroupId);\n        props.put(&quot;auto.offset.reset&quot;, autoOffsetReset);\n        props.put(&quot;key.deserializer&quot;, keyDeserializer);\n        props.put(&quot;value.deserializer&quot;, valueDeserializer);\n        props.put(&quot;key.serializer&quot;, keySerializer);\n        props.put(&quot;value.serializer&quot;, valueSerializer);\n        return props;\n    }\n\n    @Bean(name = &quot;userProfileKafkaTemplate&quot;)\n    public KafkaTemplate&lt;String, String&gt; userProfileKafkaTemplate() {\n        Map&lt;String, Object&gt; props = getKafkaTemplate();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\n    }\n}\n</code></pre>\n<p>Error message-</p>\n<pre><code>2023-10-20T19:38:49.111+05:30  INFO 19236 --- [nio-8080-exec-1] c.c.p.producer.UserProfileKakfaProducer  : Sending message to user profile topic: user-profile-topic, Event type USER_PROFILE_CREATED\n2023-10-20T19:38:49.198+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \n    acks = -1\n    auto.include.jmx.reporter = true\n    batch.size = 16384\n    bootstrap.servers = [localhost:19092, localhost:19093, localhost:19094]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = none\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 0\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.adaptive.partitioning.enable = true\n    partitioner.availability.timeout.ms = 0\n    partitioner.class = null\n    partitioner.ignore.keys = false\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 2147483647\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = GSSAPI\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n\n2023-10-20T19:38:49.399+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\n2023-10-20T19:38:49.524+05:30  WARN 19236 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : These configurations '[key.deserializer, value.deserializer, group.id, auto.offset.reset]' were supplied but are not used yet.\n2023-10-20T19:38:49.526+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\n2023-10-20T19:38:49.527+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\n2023-10-20T19:38:49.527+05:30  INFO 19236 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1697810929524\n2023-10-20T19:38:50.448+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -3 disconnected.\n2023-10-20T19:38:50.455+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -3 (localhost/127.0.0.1:19094) could not be established. Broker may not be available.\n2023-10-20T19:38:50.456+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:19094 (id: -3 rack: null) disconnected\n2023-10-20T19:38:50.851+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-0 to 5 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.853+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-5 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-1 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-4 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-2 to 4 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.854+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Resetting the last seen epoch of partition user-profile-topic-3 to 5 since the associated topicId changed from null to 96WtPNbMTqWDKfQuy2GZxg\n2023-10-20T19:38:50.861+05:30  INFO 19236 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: LR9OWVzUToybvB004q6T2g\n2023-10-20T19:38:51.018+05:30  INFO 19236 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId set to 1000 with epoch 0\n2023-10-20T19:38:53.713+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error connecting to node broker-1:9092 (id: 1 rack: null)\n\njava.net.UnknownHostException: No such host is known (broker-1)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\n    at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:990) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.sendProducerData(Sender.java:354) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:327) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) ~[kafka-clients-3.4.1.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-10-20T19:38:56.398+05:30  WARN 19236 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Error connecting to node broker-2:9093 (id: 2 rack: null)\n\njava.net.UnknownHostException: No such host is known (broker-2)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1543) ~[na:na]\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\n    at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.4.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.initiateConnect(Netw\n</code></pre>\n<p>Please help me.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"score":3,"creation_date":1524573577,"post_id":50001883,"comment_id":87019861,"body_markdown":"https://github.com/pgjdbc/pgjdbc/issues/1102 http://vkuzel.blogspot.de/2016/03/spring-boot-jpa-hibernate-atomikos.html","body":"<a href=\"https://github.com/pgjdbc/pgjdbc/issues/1102\" rel=\"nofollow noreferrer\">github.com/pgjdbc/pgjdbc/issues/1102</a> <a href=\"http://vkuzel.blogspot.de/2016/03/spring-boot-jpa-hibernate-atomikos.html\" rel=\"nofollow noreferrer\">vkuzel.blogspot.de/2016/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1524573984,"creation_date":1524573984,"answer_id":50002080,"question_id":50001883,"body_markdown":"Add these lines to your `application.properties` and it should work.\r\n\r\n    # Disable feature detection by this undocumented parameter. Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\r\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\n\r\n    # Because detection is disabled you have to set correct dialect by hand.\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\n&lt;hr/&gt;\r\n\r\nLinks\r\n\r\n- [GitHub Issue](https://github.com/pgjdbc/pgjdbc/issues/1102)\r\n- [Solution Source](http://vkuzel.blogspot.de/2016/03/spring-boot-jpa-hibernate-atomikos.html)","title":"Spring Boot to Postgres Database - Driver Issue","body":"<p>Add these lines to your <code>application.properties</code> and it should work.</p>\n\n<pre><code># Disable feature detection by this undocumented parameter. Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\n\n# Because detection is disabled you have to set correct dialect by hand.\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\n</code></pre>\n\n<hr/>\n\n<p>Links</p>\n\n<ul>\n<li><a href=\"https://github.com/pgjdbc/pgjdbc/issues/1102\" rel=\"noreferrer\">GitHub Issue</a></li>\n<li><a href=\"http://vkuzel.blogspot.de/2016/03/spring-boot-jpa-hibernate-atomikos.html\" rel=\"noreferrer\">Solution Source</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697817443,"creation_date":1697817443,"answer_id":77332311,"question_id":50001883,"body_markdown":"What worked for me in the end was to do a Maven Project Reload - for some reason it didn&#39;t see the driver in the dependencies after clean, install, verify, validate ...","title":"Spring Boot to Postgres Database - Driver Issue","body":"<p>What worked for me in the end was to do a Maven Project Reload - for some reason it didn't see the driver in the dependencies after clean, install, verify, validate ...</p>\n"}],"owner":{"account_id":2977114,"reputation":3234,"user_id":2527942,"accept_rate":78,"display_name":"Erdinc Ay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23432,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50002080,"answer_count":2,"score":4,"last_activity_date":1697817443,"creation_date":1524573387,"question_id":50001883,"body_markdown":"i am working on a new Spring Boot application (my first actually), and using IntelliJ 2018.1.1 with Maven, my configuration for Maven looks like this:\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; \r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mygroupid&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;first-spring-boot-application&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nthe application works well using h2 database, but i need to use Postgres, so i added the dependency for it, and started configuring it.\r\n\r\n**application.properties**\r\n\r\n    ###############\r\n    # POSTGRES\r\n    ###############\r\n    \r\n    spring.datasource.platform=postgres\r\n    spring.datasource.name=mydatasource\r\n    spring.datasource.driverClassName=org.postgresql.Driver \r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\r\n    spring.datasource.username=justauser\r\n    spring.datasource.password=justapassword\r\n    \r\n    ###############\r\n    # H2\r\n    ###############\r\n    \r\n    # spring.h2.console.enabled=true\r\n    # spring.datasource.name=sp2ndsem\r\n    \r\n    ###############\r\n    # OUTPUT\r\n    ###############\r\n    \r\n    spring.jpa.show-sql=true\r\n    \r\n    ###############\r\n    # WEB\r\n    ###############\r\n    \r\n    spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/\r\n\r\n**Errors**\r\n\r\nnow, when starting the application, i am getting an error, which more or less means that there is no Postgres Driver installed.\r\n\r\nIntelliJ is marking the driver name in the application.properties in red color: \r\n\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n\r\nand the output is showing me something that i really cannot figure out why:\r\n\r\n    java.lang.reflect.InvocationTargetException: null\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\r\n\tat org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n\tat com.mygroupid.myartifactid.SpringBootApplication.main(SpringBootApplication.java:26) ~[classes/:na]\r\n\r\nCaused by: java.sql.SQLFeatureNotSupportedException: Die Methode org.postgresql.jdbc.PgConnection.createClob() ist noch nicht implementiert.\r\n\tat org.postgresql.Driver.notImplemented(Driver.java:669) ~[postgresql-42.1.4.jar:42.1.4]\r\n\tat org.postgresql.jdbc.PgConnection.createClob(PgConnection.java:1246) ~[postgresql-42.1.4.jar:42.1.4]\r\n\t... 44 common frames omitted\r\n\r\n**in English: org.postgresql.jdbc.PgConnection.createClob() is not implemented**\r\n\r\nwhat am i doing wrong?","title":"Spring Boot to Postgres Database - Driver Issue","body":"<p>i am working on a new Spring Boot application (my first actually), and using IntelliJ 2018.1.1 with Maven, my configuration for Maven looks like this:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; \n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.mygroupid&lt;/groupId&gt;\n&lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;first-spring-boot-application&lt;/name&gt;\n&lt;description&gt;Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>the application works well using h2 database, but i need to use Postgres, so i added the dependency for it, and started configuring it.</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>###############\n# POSTGRES\n###############\n\nspring.datasource.platform=postgres\nspring.datasource.name=mydatasource\nspring.datasource.driverClassName=org.postgresql.Driver \nspring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\nspring.datasource.username=justauser\nspring.datasource.password=justapassword\n\n###############\n# H2\n###############\n\n# spring.h2.console.enabled=true\n# spring.datasource.name=sp2ndsem\n\n###############\n# OUTPUT\n###############\n\nspring.jpa.show-sql=true\n\n###############\n# WEB\n###############\n\nspring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/\n</code></pre>\n\n<p><strong>Errors</strong></p>\n\n<p>now, when starting the application, i am getting an error, which more or less means that there is no Postgres Driver installed.</p>\n\n<p>IntelliJ is marking the driver name in the application.properties in red color: </p>\n\n<pre><code>spring.datasource.driverClassName=org.postgresql.Driver\n</code></pre>\n\n<p>and the output is showing me something that i really cannot figure out why:</p>\n\n<pre><code>java.lang.reflect.InvocationTargetException: null\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_152]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_152]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\nat org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.16.Final.jar:5.2.16.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\nat com.mygroupid.myartifactid.SpringBootApplication.main(SpringBootApplication.java:26) ~[classes/:na]\n</code></pre>\n\n<p>Caused by: java.sql.SQLFeatureNotSupportedException: Die Methode org.postgresql.jdbc.PgConnection.createClob() ist noch nicht implementiert.\n    at org.postgresql.Driver.notImplemented(Driver.java:669) ~[postgresql-42.1.4.jar:42.1.4]\n    at org.postgresql.jdbc.PgConnection.createClob(PgConnection.java:1246) ~[postgresql-42.1.4.jar:42.1.4]\n    ... 44 common frames omitted</p>\n\n<p><strong>in English: org.postgresql.jdbc.PgConnection.createClob() is not implemented</strong></p>\n\n<p>what am i doing wrong?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":29275519,"reputation":1,"user_id":22429343,"display_name":"Saad Ullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697817292,"creation_date":1692708848,"question_id":76953539,"body_markdown":"I want to know some way in which we can change a recorded audio into some celebrity or cartoon character&#39;s voice.\r\nI&#39;ve done the audio recording part but looking for some help in applying voice effects on that recorded audio.\r\n\r\n\r\nI&#39;ve done recording the audio and saving in internal storage. I just need help in applying voice effects.","title":"Applying voice effects on recorded audio","body":"<p>I want to know some way in which we can change a recorded audio into some celebrity or cartoon character's voice.\nI've done the audio recording part but looking for some help in applying voice effects on that recorded audio.</p>\n<p>I've done recording the audio and saving in internal storage. I just need help in applying voice effects.</p>\n"},{"tags":["java","android","firebase","firebase-authentication","facebook-authentication"],"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697816686,"creation_date":1697816686,"question_id":77332239,"body_markdown":"I am newbie in authenticate facebook with firebase in android application now I am building an android application which I need to login with facebook I follow many tutorials on youtube and facebook developer documentation but nothing work with me.\r\nNothing happened when I click on Login with Facebook, no error, also no show me a message in logcat that request successful and no users added to firebase user\r\nthis is my code\r\n***RegisterFragment.java***\r\n```\r\npublic class RegisterFragment extends Fragment {\r\n\r\n\r\n    public RegisterFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    private FragmentRegisterBinding binding;\r\n    private HelperClass helper;\r\n    private CallbackManager callbackManager;\r\n    private String TAG = &quot;FragmentRegister&quot;;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = FragmentRegisterBinding.inflate(inflater,container,false);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        helper = HelperClass.getInstance(this);\r\n\r\n        callbackManager = CallbackManager.Factory.create();\r\n        binding.btnRegisterFacebook.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    FacebookSdk.sdkInitialize(getContext());\r\n                    LoginManager.getInstance().logInWithReadPermissions(getActivity(), Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));\r\n                } catch (Exception e) {\r\n                    Toast.makeText(getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        LoginWithFB();\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    private void LoginWithFB() {\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback&lt;LoginResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n                        // App code\r\n                        handleFacebookAccessToken(loginResult.getAccessToken());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancel() {\r\n                        // App code\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(FacebookException exception) {\r\n                        // App code\r\n                        Toast.makeText(getContext(), exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void handleFacebookAccessToken(AccessToken token) {\r\n        Log.d(TAG, &quot;handleFacebookAccessToken:&quot; + token);\r\n\r\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(getActivity(), new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            Log.d(TAG, &quot;signInWithCredential:success&quot;);\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            Toast.makeText(getContext(), &quot;success&quot;, Toast.LENGTH_SHORT).show();\r\n                            //updateUI();\r\n                            helper.navigate(R.id.homeFragment,null);\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\r\n                            Toast.makeText(getContext(), &quot;Authentication failed.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            //updateUI();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nwhen I run application it openes this activity\r\n[](https://i.stack.imgur.com/q7Rs4.jpg)\r\nwhen I click on Continue as Mohamed it returns back to register fragment and no users displays in users tab in firebase.\r\ncode doesn&#39;t crash but doesn&#39;t display toast message and also doesn&#39;t show any messages in logcat.&lt;br&gt;\r\nif anyone can help me in that, Thanks in advance\r\n\r\nI followed the facebook and firebase documentation but nothing helped me in my problem","title":"Facebook Authentication with Firebase doesn&#39;t work correctly in android","body":"<p>I am newbie in authenticate facebook with firebase in android application now I am building an android application which I need to login with facebook I follow many tutorials on youtube and facebook developer documentation but nothing work with me.\nNothing happened when I click on Login with Facebook, no error, also no show me a message in logcat that request successful and no users added to firebase user\nthis is my code\n<em><strong>RegisterFragment.java</strong></em></p>\n<pre><code>public class RegisterFragment extends Fragment {\n\n\n    public RegisterFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    private FragmentRegisterBinding binding;\n    private HelperClass helper;\n    private CallbackManager callbackManager;\n    private String TAG = &quot;FragmentRegister&quot;;\n    private FirebaseAuth mAuth;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        binding = FragmentRegisterBinding.inflate(inflater,container,false);\n        mAuth = FirebaseAuth.getInstance();\n        helper = HelperClass.getInstance(this);\n\n        callbackManager = CallbackManager.Factory.create();\n        binding.btnRegisterFacebook.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                try {\n                    FacebookSdk.sdkInitialize(getContext());\n                    LoginManager.getInstance().logInWithReadPermissions(getActivity(), Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));\n                } catch (Exception e) {\n                    Toast.makeText(getContext(),e.getMessage(),Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        LoginWithFB();\n\n        return binding.getRoot();\n    }\n\n    private void LoginWithFB() {\n        callbackManager = CallbackManager.Factory.create();\n\n        LoginManager.getInstance().registerCallback(callbackManager,\n                new FacebookCallback&lt;LoginResult&gt;() {\n                    @Override\n                    public void onSuccess(LoginResult loginResult) {\n                        // App code\n                        handleFacebookAccessToken(loginResult.getAccessToken());\n                    }\n\n                    @Override\n                    public void onCancel() {\n                        // App code\n                    }\n\n                    @Override\n                    public void onError(FacebookException exception) {\n                        // App code\n                        Toast.makeText(getContext(), exception.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    private void handleFacebookAccessToken(AccessToken token) {\n        Log.d(TAG, &quot;handleFacebookAccessToken:&quot; + token);\n\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(getActivity(), new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.d(TAG, &quot;signInWithCredential:success&quot;);\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            Toast.makeText(getContext(), &quot;success&quot;, Toast.LENGTH_SHORT).show();\n                            //updateUI();\n                            helper.navigate(R.id.homeFragment,null);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\n                            Toast.makeText(getContext(), &quot;Authentication failed.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                            //updateUI();\n                        }\n                    }\n                });\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        callbackManager.onActivityResult(requestCode, resultCode, data);\n\n    }\n\n\n}\n</code></pre>\n<p>when I run application it openes this activity\n<a href=\"https://i.stack.imgur.com/q7Rs4.jpg\" rel=\"nofollow noreferrer\"></a>\nwhen I click on Continue as Mohamed it returns back to register fragment and no users displays in users tab in firebase.\ncode doesn't crash but doesn't display toast message and also doesn't show any messages in logcat.<br>\nif anyone can help me in that, Thanks in advance</p>\n<p>I followed the facebook and firebase documentation but nothing helped me in my problem</p>\n"},{"tags":["java","spring","hibernate","serialization","jackson"],"comments":[{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":4,"creation_date":1392139232,"post_id":21708339,"comment_id":32824243,"body_markdown":"approach described in these 2 links worked for me, [Spring 3.1, Hibernate 4 and Jackson-Module-Hibernate](http://blog.pastelstudios.com/2012/03/12/spring-3-1-hibernate-4-jackson-module-hibernate/)  and [FasterXML / jackson-datatype-hibernate](https://github.com/FasterXML/jackson-datatype-hibernate)","body":"approach described in these 2 links worked for me, <a href=\"http://blog.pastelstudios.com/2012/03/12/spring-3-1-hibernate-4-jackson-module-hibernate/\" rel=\"nofollow noreferrer\">Spring 3.1, Hibernate 4 and Jackson-Module-Hibernate</a>  and <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">FasterXML / jackson-datatype-hibernate</a>"},{"owner":{"account_id":1514753,"reputation":5733,"user_id":1416034,"display_name":"r1ckr"},"score":0,"creation_date":1392300325,"post_id":21708339,"comment_id":32908833,"body_markdown":"Thank you indybee, I&#39;ve been watching the tutorial, spring 3.2.5 already have a MappingJackson2HttpMessageConverter, but I cannot use it to avoid the non fetched lazy object, also I&#39;ve tried to implementing the one in the tutorial, but nothing...","body":"Thank you indybee, I&#39;ve been watching the tutorial, spring 3.2.5 already have a MappingJackson2HttpMessageConverter, but I cannot use it to avoid the non fetched lazy object, also I&#39;ve tried to implementing the one in the tutorial, but nothing..."},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":1,"creation_date":1392301483,"post_id":21708339,"comment_id":32909694,"body_markdown":"are you getting the same error &quot;could not initialize proxy&quot; or something different? (i used the additional HibernateAwareObjectMapper described in the articles with Spring 3.2.6 and Hibernate 4.1.7 and jackson 2.3)","body":"are you getting the same error &quot;could not initialize proxy&quot; or something different? (i used the additional HibernateAwareObjectMapper described in the articles with Spring 3.2.6 and Hibernate 4.1.7 and jackson 2.3)"},{"owner":{"account_id":1514753,"reputation":5733,"user_id":1416034,"display_name":"r1ckr"},"score":1,"creation_date":1392310178,"post_id":21708339,"comment_id":32916094,"body_markdown":"Got it!! Since version 3.1.2 Spring have his own **MappingJackson2HttpMessageConverter** and have almost the same behavior of the one in the tutorial, but the problem was that I am using Spring java config and I&#39;m starting with javaconfigs. I was trying to make a *@Bean MappingJackson2HttpMessageConverter*, instead of adding it to the HttpMessageConverters of Spring, maybe it&#39;s clearer in the answer :)","body":"Got it!! Since version 3.1.2 Spring have his own <b>MappingJackson2HttpMessageConverter</b> and have almost the same behavior of the one in the tutorial, but the problem was that I am using Spring java config and I&#39;m starting with javaconfigs. I was trying to make a <i>@Bean MappingJackson2HttpMessageConverter</i>, instead of adding it to the HttpMessageConverters of Spring, maybe it&#39;s clearer in the answer :)"},{"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"score":0,"creation_date":1533954721,"post_id":21708339,"comment_id":90549279,"body_markdown":"Is it broken in Spring Boot 2?","body":"Is it broken in Spring Boot 2?"}],"answers":[{"comments":[{"owner":{"account_id":182205,"reputation":359,"user_id":416740,"display_name":"Robin"},"score":3,"creation_date":1411906460,"post_id":21760361,"comment_id":40872820,"body_markdown":"Thanks for sharing the solution. However after a few tries, I found that the latest jackson at the moment (_2.4.2_) does _NOT_ work with spring 4.0.6. I still have the &quot;no session&quot; error. Only when I down graded jackson version back to 2.3.4 (or 2.4.2), did it start working.","body":"Thanks for sharing the solution. However after a few tries, I found that the latest jackson at the moment (<i>2.4.2</i>) does <i>NOT</i> work with spring 4.0.6. I still have the &quot;no session&quot; error. Only when I down graded jackson version back to 2.3.4 (or 2.4.2), did it start working."},{"owner":{"account_id":2478323,"reputation":974,"user_id":2158441,"display_name":"LanceP"},"score":1,"creation_date":1431108596,"post_id":21760361,"comment_id":48370448,"body_markdown":"Thanks for pointing MappingJackson2HttpMessageConverter out! I was looking for a class like this for a while.","body":"Thanks for pointing MappingJackson2HttpMessageConverter out! I was looking for a class like this for a while."},{"owner":{"account_id":3849691,"reputation":432,"user_id":3190164,"display_name":"Isthar"},"score":1,"creation_date":1455717677,"post_id":21760361,"comment_id":58613803,"body_markdown":"Thank you very much! I have just tested it and its working with Spring 4.2.4, Jackson 2.7.1-1 and JacksonDatatype 2.7.1 :)","body":"Thank you very much! I have just tested it and its working with Spring 4.2.4, Jackson 2.7.1-1 and JacksonDatatype 2.7.1 :)"},{"owner":{"account_id":8053096,"reputation":3420,"user_id":6071045,"accept_rate":32,"display_name":"Alessandro C"},"score":2,"creation_date":1468402708,"post_id":21760361,"comment_id":64108861,"body_markdown":"This doesn&#39;t resolve the problem in Spring Data REST.","body":"This doesn&#39;t resolve the problem in Spring Data REST."},{"owner":{"account_id":4168947,"reputation":1023,"user_id":3417242,"display_name":"Ryan D"},"score":0,"creation_date":1490735889,"post_id":21760361,"comment_id":73243442,"body_markdown":"This works perfectly for me except that I call\n\n    hibernate5Module.enable(Feature.FORCE_LAZY_LOADING);\n\nThat was required to not return &quot;null&quot;","body":"This works perfectly for me except that I call      hibernate5Module.enable(Feature.FORCE_LAZY_LOADING);  That was required to not return &quot;null&quot;"},{"owner":{"account_id":7212490,"reputation":1864,"user_id":5506061,"accept_rate":64,"display_name":"Krish"},"score":0,"creation_date":1503137620,"post_id":21760361,"comment_id":78498774,"body_markdown":"@rgdayo\nIt is working for json. then what about xml ?","body":"@rgdayo It is working for json. then what about xml ?"},{"owner":{"account_id":1274261,"reputation":639,"user_id":1229826,"accept_rate":50,"display_name":"SalutonMondo"},"score":0,"creation_date":1515251175,"post_id":21760361,"comment_id":83233876,"body_markdown":"don&#39;t forget to add Maven dependency.  &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-hibernate5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n            &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;/dependency&gt;","body":"don&#39;t forget to add Maven dependency.  &lt;!-- <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-hibernate5\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.fasterxml.jackson.datatype/&hellip;</a> --&gt;         &lt;dependency&gt;             &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;             &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;             &lt;version&gt;2.7.9&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":8902974,"reputation":105,"user_id":6645838,"accept_rate":50,"display_name":"ranjith Gampa"},"score":1,"creation_date":1536348551,"post_id":21760361,"comment_id":91406734,"body_markdown":"How to solve the same issue, if Springboot is used in place of Spring?. I have tried registering the Hibernate4 module(which is the version I have currently), but that did not solve my issue.","body":"How to solve the same issue, if Springboot is used in place of Spring?. I have tried registering the Hibernate4 module(which is the version I have currently), but that did not solve my issue."},{"owner":{"account_id":531978,"reputation":1012,"user_id":903185,"accept_rate":48,"display_name":"Kevin Orriss"},"score":0,"creation_date":1541715735,"post_id":21760361,"comment_id":93321749,"body_markdown":"Been trying to fix this for two days and this answer finally fixed it! For those stuck, at the time of writing this, the only other thing I did was ensure I was using the latest spring / hibernate etc","body":"Been trying to fix this for two days and this answer finally fixed it! For those stuck, at the time of writing this, the only other thing I did was ensure I was using the latest spring / hibernate etc"},{"owner":{"account_id":2892203,"reputation":103,"user_id":2480721,"display_name":"peterong"},"score":0,"creation_date":1547442181,"post_id":21760361,"comment_id":95180623,"body_markdown":"Hi. Thanks for your answer. FYI, your XML configuration need to be put inside &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt; in order to work. This also assume you have properly declared the schema location.","body":"Hi. Thanks for your answer. FYI, your XML configuration need to be put inside &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt; in order to work. This also assume you have properly declared the schema location."},{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587807390,"post_id":21760361,"comment_id":108657770,"body_markdown":"Not good solution, because: 1. Hibernate4Module is legacy. 2 Too much lines of code. 3. You are changing existing preconfigured Message Converter","body":"Not good solution, because: 1. Hibernate4Module is legacy. 2 Too much lines of code. 3. You are changing existing preconfigured Message Converter"}],"tags":[],"owner":{"account_id":1514753,"reputation":5733,"user_id":1416034,"display_name":"r1ckr"},"comment_count":11,"down_vote_count":1,"up_vote_count":103,"is_accepted":true,"score":102,"last_activity_date":1392310136,"creation_date":1392310136,"answer_id":21760361,"question_id":21708339,"body_markdown":"I finally found the solution! thanks to indybee for giving me a clue.\r\n\r\nThe tutorial [Spring 3.1, Hibernate 4 and Jackson-Module-Hibernate][1] have a good solution for Spring 3.1 and earlier versions. But since version 3.1.2 Spring have his own **MappingJackson2HttpMessageConverter** with almost the same functionality as the one in the tutorial, so we don&#39;t need to create this custom HTTPMessageConverter.\r\n\r\nWith javaconfig we don&#39;t need to create a **HibernateAwareObjectMapper** too, we just need to add the **Hibernate4Module** to the default **MappingJackson2HttpMessageConverter** that Spring already have and add it to the HttpMessageConverters of the application, so we need to:\r\n\r\n1. Extend our spring config class from **WebMvcConfigurerAdapter** and override the method **configureMessageConverters**. \r\n\r\n2. On that method add the **MappingJackson2HttpMessageConverter** with the **Hibernate4Module** registered in a previus method.\r\n\r\nOur config class should look like this:\r\n\r\n\t@Configuration\r\n\t@EnableWebMvc\r\n\tpublic class MyConfigClass extends WebMvcConfigurerAdapter{\r\n\r\n\t\t//More configuration....\r\n\t\t\r\n\t\t/* Here we register the Hibernate4Module into an ObjectMapper, then set this custom-configured ObjectMapper\r\n\t\t * to the MessageConverter and return it to be added to the HttpMessageConverters of our application*/\r\n\t\tpublic MappingJackson2HttpMessageConverter jacksonMessageConverter(){\r\n\t\t\tMappingJackson2HttpMessageConverter messageConverter = new MappingJackson2HttpMessageConverter();\r\n\t\t\t\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\t//Registering Hibernate4Module to support lazy objects\r\n\t\t\tmapper.registerModule(new Hibernate4Module());\r\n\t\t\t\r\n\t\t\tmessageConverter.setObjectMapper(mapper);\r\n\t\t\treturn messageConverter;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\t\t\t//Here we add our custom-configured HttpMessageConverter\r\n\t\t\tconverters.add(jacksonMessageConverter());\r\n\t\t\tsuper.configureMessageConverters(converters);\r\n\t\t}\r\n\t\t\r\n\t\t//More configuration....\r\n\t}\r\n\t\r\nIf you have an xml configuration, you don&#39;t need to create your own MappingJackson2HttpMessageConverter either, but you do need to create the personalized mapper that appears in the tutorial (HibernateAwareObjectMapper), so your xml config should look like this:\r\n\r\n\t&lt;mvc:message-converters&gt;\r\n\t\t&lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n\t\t\t&lt;property name=&quot;objectMapper&quot;&gt;\r\n\t\t\t\t&lt;bean class=&quot;com.pastelstudios.json.HibernateAwareObjectMapper&quot; /&gt;\r\n\t\t\t&lt;/property&gt;\r\n\t\t&lt;/bean&gt;\r\n\t&lt;/mvc:message-converters&gt;\r\n\t\r\nHope this answer be understandable and helps someone find the solution for this problem, any questions feel free to ask!\r\n\r\n\r\n  [1]: http://blog.pastelstudios.com/2012/03/12/spring-3-1-hibernate-4-jackson-module-hibernate/","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I finally found the solution! thanks to indybee for giving me a clue.</p>\n\n<p>The tutorial <a href=\"http://blog.pastelstudios.com/2012/03/12/spring-3-1-hibernate-4-jackson-module-hibernate/\">Spring 3.1, Hibernate 4 and Jackson-Module-Hibernate</a> have a good solution for Spring 3.1 and earlier versions. But since version 3.1.2 Spring have his own <strong>MappingJackson2HttpMessageConverter</strong> with almost the same functionality as the one in the tutorial, so we don't need to create this custom HTTPMessageConverter.</p>\n\n<p>With javaconfig we don't need to create a <strong>HibernateAwareObjectMapper</strong> too, we just need to add the <strong>Hibernate4Module</strong> to the default <strong>MappingJackson2HttpMessageConverter</strong> that Spring already have and add it to the HttpMessageConverters of the application, so we need to:</p>\n\n<ol>\n<li><p>Extend our spring config class from <strong>WebMvcConfigurerAdapter</strong> and override the method <strong>configureMessageConverters</strong>. </p></li>\n<li><p>On that method add the <strong>MappingJackson2HttpMessageConverter</strong> with the <strong>Hibernate4Module</strong> registered in a previus method.</p></li>\n</ol>\n\n<p>Our config class should look like this:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MyConfigClass extends WebMvcConfigurerAdapter{\n\n    //More configuration....\n\n    /* Here we register the Hibernate4Module into an ObjectMapper, then set this custom-configured ObjectMapper\n     * to the MessageConverter and return it to be added to the HttpMessageConverters of our application*/\n    public MappingJackson2HttpMessageConverter jacksonMessageConverter(){\n        MappingJackson2HttpMessageConverter messageConverter = new MappingJackson2HttpMessageConverter();\n\n        ObjectMapper mapper = new ObjectMapper();\n        //Registering Hibernate4Module to support lazy objects\n        mapper.registerModule(new Hibernate4Module());\n\n        messageConverter.setObjectMapper(mapper);\n        return messageConverter;\n\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        //Here we add our custom-configured HttpMessageConverter\n        converters.add(jacksonMessageConverter());\n        super.configureMessageConverters(converters);\n    }\n\n    //More configuration....\n}\n</code></pre>\n\n<p>If you have an xml configuration, you don't need to create your own MappingJackson2HttpMessageConverter either, but you do need to create the personalized mapper that appears in the tutorial (HibernateAwareObjectMapper), so your xml config should look like this:</p>\n\n<pre><code>&lt;mvc:message-converters&gt;\n    &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n        &lt;property name=\"objectMapper\"&gt;\n            &lt;bean class=\"com.pastelstudios.json.HibernateAwareObjectMapper\" /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/mvc:message-converters&gt;\n</code></pre>\n\n<p>Hope this answer be understandable and helps someone find the solution for this problem, any questions feel free to ask!</p>\n"},{"comments":[{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587807069,"post_id":25474428,"comment_id":108657641,"body_markdown":"xml config is legacy","body":"xml config is legacy"}],"tags":[],"owner":{"account_id":59412,"reputation":362,"user_id":1967185,"display_name":"blackwood"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1408901995,"creation_date":1408901690,"answer_id":25474428,"question_id":21708339,"body_markdown":"If you use XML config and use `&lt;annotation-driven /&gt;`, I found that you have to nest `&lt;message-converters&gt;` inside `&lt;annotation-driven&gt;` as recommended on the [Jackson Github account][1].\r\n\r\nLike so:\r\n\r\n    &lt;annotation-driven&gt;\r\n      &lt;message-converters&gt;\r\n        &lt;beans:bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n          &lt;beans:property name=&quot;objectMapper&quot;&gt;\r\n            &lt;beans:bean class=&quot;com.pastelstudios.json.HibernateAwareObjectMapper&quot; /&gt;\r\n          &lt;/beans:property&gt;\r\n        &lt;/beans:bean&gt; \r\n      &lt;/message-converters&gt;\r\n    &lt;/annotation-driven&gt;\r\n `\r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-hibernate","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>If you use XML config and use <code>&lt;annotation-driven /&gt;</code>, I found that you have to nest <code>&lt;message-converters&gt;</code> inside <code>&lt;annotation-driven&gt;</code> as recommended on the <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">Jackson Github account</a>.</p>\n\n<p>Like so:</p>\n\n<pre><code>&lt;annotation-driven&gt;\n  &lt;message-converters&gt;\n    &lt;beans:bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n      &lt;beans:property name=\"objectMapper\"&gt;\n        &lt;beans:bean class=\"com.pastelstudios.json.HibernateAwareObjectMapper\" /&gt;\n      &lt;/beans:property&gt;\n    &lt;/beans:bean&gt; \n  &lt;/message-converters&gt;\n&lt;/annotation-driven&gt;\n</code></pre>\n\n<p>`</p>\n"},{"comments":[{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587806909,"post_id":25623219,"comment_id":108657588,"body_markdown":"Not about the question","body":"Not about the question"}],"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1409660127,"creation_date":1409660127,"answer_id":25623219,"question_id":21708339,"body_markdown":"You can use the following helper from Spring Data Rest project:\r\n\r\n    Jackson2DatatypeHelper.configureObjectMapper(objectMapper);","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>You can use the following helper from Spring Data Rest project:</p>\n\n<pre><code>Jackson2DatatypeHelper.configureObjectMapper(objectMapper);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211899,"reputation":3209,"user_id":1180289,"accept_rate":60,"display_name":"hemu"},"score":0,"creation_date":1463291483,"post_id":28179906,"comment_id":61999258,"body_markdown":"How can we achieve  this (Configuring Jackson to avoid lazy loaded object) using `application.properties` file?","body":"How can we achieve  this (Configuring Jackson to avoid lazy loaded object) using <code>application.properties</code> file?"},{"owner":{"account_id":1448092,"reputation":621,"user_id":1365918,"accept_rate":67,"display_name":"kapad"},"score":1,"creation_date":1520236707,"post_id":28179906,"comment_id":85216450,"body_markdown":"That&#39;s not what is being said here. @Luis Belloch&#39;s solution suggests that you create the Jackson2ObjectMapperBuilder so that you don&#39;t override spring boots default message converter and continue to use the application.properties values to control jackson properties.","body":"That&#39;s not what is being said here. @Luis Belloch&#39;s solution suggests that you create the Jackson2ObjectMapperBuilder so that you don&#39;t override spring boots default message converter and continue to use the application.properties values to control jackson properties."},{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1527525266,"post_id":28179906,"comment_id":88150599,"body_markdown":"sorry... I am new where would you implement this method?  With spring boot It uses Spring 5 which WebMvcConfigurerAdapter is deprecated","body":"sorry... I am new where would you implement this method?  With spring boot It uses Spring 5 which WebMvcConfigurerAdapter is deprecated"},{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587807209,"post_id":28179906,"comment_id":108657694,"body_markdown":"`Hibernate4Module` is legacy","body":"<code>Hibernate4Module</code> is legacy"}],"tags":[],"owner":{"account_id":131644,"reputation":479,"user_id":331793,"display_name":"Luis Belloch"},"comment_count":4,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1422392492,"creation_date":1422392492,"answer_id":28179906,"question_id":21708339,"body_markdown":"This is similar to accepted solution by @rick.\r\n\r\nIf you don&#39;t want to touch existing message converters configuration you can just declare a `Jackson2ObjectMapperBuilder` bean like:\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder configureObjectMapper() {\r\n        return new Jackson2ObjectMapperBuilder()\r\n            .modulesToInstall(Hibernate4Module.class);\r\n    }\r\n\r\nDo not forget to add the following dependency to your Gradle file (or Maven):\r\n\r\n    compile &#39;com.fasterxml.jackson.datatype:jackson-datatype-hibernate4:2.4.4&#39;\r\n\r\nUseful if you have a [tag:spring-boot] application and you want to keep the ability to modify Jackson features from `application.properties` file.","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>This is similar to accepted solution by @rick.</p>\n\n<p>If you don't want to touch existing message converters configuration you can just declare a <code>Jackson2ObjectMapperBuilder</code> bean like:</p>\n\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder configureObjectMapper() {\n    return new Jackson2ObjectMapperBuilder()\n        .modulesToInstall(Hibernate4Module.class);\n}\n</code></pre>\n\n<p>Do not forget to add the following dependency to your Gradle file (or Maven):</p>\n\n<pre><code>compile 'com.fasterxml.jackson.datatype:jackson-datatype-hibernate4:2.4.4'\n</code></pre>\n\n<p>Useful if you have a <a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged 'spring-boot'\" rel=\"tag\">spring-boot</a> application and you want to keep the ability to modify Jackson features from <code>application.properties</code> file.</p>\n"},{"comments":[{"owner":{"account_id":6422734,"reputation":73,"user_id":4978964,"accept_rate":50,"display_name":"Daniel Henao"},"score":0,"creation_date":1538934905,"post_id":34293357,"comment_id":92309490,"body_markdown":"Do you have an update about this topic?\nI&#39;m having the issue currently. Ofcourse whenI add the `hibernate5Module` (because im using hibernate 5), jackson ignores the proxy of non initialized objects, but it seems that the &quot; well-known modules&quot; are not being registered despite I useyour approach. I do know this, because some parts of my application are broken, and when I remove the Module, they work again.","body":"Do you have an update about this topic? I&#39;m having the issue currently. Ofcourse whenI add the <code>hibernate5Module</code> (because im using hibernate 5), jackson ignores the proxy of non initialized objects, but it seems that the &quot; well-known modules&quot; are not being registered despite I useyour approach. I do know this, because some parts of my application are broken, and when I remove the Module, they work again."},{"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"score":0,"creation_date":1538982465,"post_id":34293357,"comment_id":92320473,"body_markdown":"@DanielHenao Have you studied https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#customizing-the-jackson-objectmapper? I switched to Hibernate5, using the `DelegatingWebMvcConfiguration` class (instead of `WebMvcConfigurerAdapter`) as suggested by the [Jackson-Antpath-Filter](https://github.com/Antibrumm/jackson-antpathfilter): `@Override\n\tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\n\t\tmessageConverters.add(jacksonMessageConverter());\n\t\taddDefaultHttpMessageConverters(messageConverters);\n\t}`","body":"@DanielHenao Have you studied <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#customizing-the-jackson-objectmapper\" rel=\"nofollow noreferrer\">spring.io/blog/2014/12/02/&hellip;</a>? I switched to Hibernate5, using the <code>DelegatingWebMvcConfiguration</code> class (instead of <code>WebMvcConfigurerAdapter</code>) as suggested by the <a href=\"https://github.com/Antibrumm/jackson-antpathfilter\" rel=\"nofollow noreferrer\">Jackson-Antpath-Filter</a>: <code>@Override \tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) { \t\tmessageConverters.add(jacksonMessageConverter()); \t\taddDefaultHttpMessageConverters(messageConverters); \t}</code>"},{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587806842,"post_id":34293357,"comment_id":108657567,"body_markdown":"1. `Hibernate4Module` is legacy . 2 `SerializationFeature.WRITE_DATES_AS_TIMESTAMPS` - not about the question","body":"1. <code>Hibernate4Module</code> is legacy . 2 <code>SerializationFeature.WRITE_DATES_AS_TIMESTAMPS</code> - not about the question"},{"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"score":0,"creation_date":1587807268,"post_id":34293357,"comment_id":108657716,"body_markdown":"@DmitryKaltovich ad 1) it wasn&#39;t legacy at the time of writing; ad 2) ok, removed.","body":"@DmitryKaltovich ad 1) it wasn&#39;t legacy at the time of writing; ad 2) ok, removed."}],"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587807224,"creation_date":1450194124,"answer_id":34293357,"question_id":21708339,"body_markdown":"I tried [@rick&#39;s useful answer](https://stackoverflow.com/a/21760361/606662), but ran into the problem that &quot;well-known modules&quot; such as [jackson-datatype-jsr310](https://github.com/FasterXML/jackson-datatype-jsr310) weren&#39;t automatically registered despite them being on the classpath. (This [blog post](https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#jackson-modules) explains the auto-registration.)\r\n\r\nExpanding on @rick&#39;s answer, here&#39;s a variation using Spring&#39;s [Jackson2ObjectMapperBuilder](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html) to create the `ObjectMapper`. This auto-registers the &quot;well-known modules&quot; and sets certain features in addition to installing the `Hibernate4Module`.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MyWebConfig extends WebMvcConfigurerAdapter {\r\n\r\n\t\t// get a configured Hibernate4Module\r\n\t\t// here as an example with a disabled USE_TRANSIENT_ANNOTATION feature\r\n\t\tprivate Hibernate4Module hibernate4Module() {\r\n\t\t\treturn new Hibernate4Module().disable(Hibernate4Module.Feature.USE_TRANSIENT_ANNOTATION);\r\n\t\t}\r\n\r\n\t\t// create the ObjectMapper with Spring&#39;s Jackson2ObjectMapperBuilder\r\n\t\t// and passing the hibernate4Module to modulesToInstall()\r\n\t\tprivate MappingJackson2HttpMessageConverter jacksonMessageConverter(){\r\n\t\t\tJackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\r\n\t\t\t\t\t\t\t\t.modulesToInstall(hibernate4Module());\r\n        \treturn new MappingJackson2HttpMessageConverter(builder.build());\r\n\t  }\r\n\r\n\t\t@Override\r\n\t\tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\t\t\tconverters.add(jacksonMessageConverter());\r\n\t\t\tsuper.configureMessageConverters(converters);\r\n\t\t}\r\n\t}\r\n","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I tried <a href=\"https://stackoverflow.com/a/21760361/606662\">@rick's useful answer</a>, but ran into the problem that \"well-known modules\" such as <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">jackson-datatype-jsr310</a> weren't automatically registered despite them being on the classpath. (This <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#jackson-modules\" rel=\"nofollow noreferrer\">blog post</a> explains the auto-registration.)</p>\n\n<p>Expanding on @rick's answer, here's a variation using Spring's <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html\" rel=\"nofollow noreferrer\">Jackson2ObjectMapperBuilder</a> to create the <code>ObjectMapper</code>. This auto-registers the \"well-known modules\" and sets certain features in addition to installing the <code>Hibernate4Module</code>.</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MyWebConfig extends WebMvcConfigurerAdapter {\n\n    // get a configured Hibernate4Module\n    // here as an example with a disabled USE_TRANSIENT_ANNOTATION feature\n    private Hibernate4Module hibernate4Module() {\n        return new Hibernate4Module().disable(Hibernate4Module.Feature.USE_TRANSIENT_ANNOTATION);\n    }\n\n    // create the ObjectMapper with Spring's Jackson2ObjectMapperBuilder\n    // and passing the hibernate4Module to modulesToInstall()\n    private MappingJackson2HttpMessageConverter jacksonMessageConverter(){\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                            .modulesToInstall(hibernate4Module());\n        return new MappingJackson2HttpMessageConverter(builder.build());\n  }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(jacksonMessageConverter());\n        super.configureMessageConverters(converters);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1462978717,"creation_date":1462950154,"answer_id":37155331,"question_id":21708339,"body_markdown":"Although this question is slightly different to this one : https://stackoverflow.com/questions/4362104/strange-jackson-exception-being-thrown-when-serializing-hibernate-object/, the underlying problem can be fixed in the same way with this code:\r\n\r\n\r\n    @Provider\r\n    public class MyJacksonJsonProvider extends JacksonJsonProvider {\r\n        public MyJacksonJsonProvider() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n            setMapper(mapper);\r\n        }\r\n    }\r\n","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>Although this question is slightly different to this one : <a href=\"https://stackoverflow.com/questions/4362104/strange-jackson-exception-being-thrown-when-serializing-hibernate-object/\">Strange Jackson exception being thrown when serializing Hibernate object</a>, the underlying problem can be fixed in the same way with this code:</p>\n\n<pre><code>@Provider\npublic class MyJacksonJsonProvider extends JacksonJsonProvider {\n    public MyJacksonJsonProvider() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n        setMapper(mapper);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3554628,"reputation":794,"user_id":2968675,"display_name":"user2968675"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1465448297,"creation_date":1465448297,"answer_id":37717139,"question_id":21708339,"body_markdown":"For those who came here looking to find the solution for Apache CXF-based RESTful service, the configuration that fixes it is below:\r\n\r\n    &lt;jaxrs:providers&gt;\r\n        &lt;bean class=&quot;com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider&quot;&gt;\r\n            &lt;property name=&quot;mapper&quot; ref=&quot;objectMapper&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/jaxrs:providers&gt;\r\n\r\n    &lt;bean id=&quot;objectMapper&quot; class=&quot;path.to.your.HibernateAwareObjectMapper&quot;/&gt;\r\n\r\nWhere HibernateAwareObjectMapper is defined as:\r\n\r\n    public class HibernateAwareObjectMapper extends ObjectMapper {\r\n\t    public HibernateAwareObjectMapper() {\r\n            registerModule(new Hibernate5Module());\r\n        }\r\n    }\r\n\r\nThe following dependency is required as of June 2016 (provided you&#39;re using Hibernate5):\r\n\r\n    &lt;dependency&gt;\r\n  \t    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n  \t    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;  \r\n\r\n   \r\n\r\n\r\n\r\n\r\n   ","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>For those who came here looking to find the solution for Apache CXF-based RESTful service, the configuration that fixes it is below:</p>\n\n<pre><code>&lt;jaxrs:providers&gt;\n    &lt;bean class=\"com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider\"&gt;\n        &lt;property name=\"mapper\" ref=\"objectMapper\"/&gt;\n    &lt;/bean&gt;\n&lt;/jaxrs:providers&gt;\n\n&lt;bean id=\"objectMapper\" class=\"path.to.your.HibernateAwareObjectMapper\"/&gt;\n</code></pre>\n\n<p>Where HibernateAwareObjectMapper is defined as:</p>\n\n<pre><code>public class HibernateAwareObjectMapper extends ObjectMapper {\n    public HibernateAwareObjectMapper() {\n        registerModule(new Hibernate5Module());\n    }\n}\n</code></pre>\n\n<p>The following dependency is required as of June 2016 (provided you're using Hibernate5):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":78651,"reputation":10536,"user_id":223686,"accept_rate":82,"display_name":"Zeemee"},"score":27,"creation_date":1483358744,"post_id":37840526,"comment_id":70058377,"body_markdown":"For Hibernate 5 (as in the current version of Spring Boot), it is `Hibernate5Module`. It additionally needs a dependency to `&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;`","body":"For Hibernate 5 (as in the current version of Spring Boot), it is <code>Hibernate5Module</code>. It additionally needs a dependency to <code>&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;&#47;groupId&gt;&lt;artifactId&zwnj;&#8203;&gt;jackson-datatype-hi&zwnj;&#8203;bernate5&lt;&#47;artifactId&zwnj;&#8203;&gt;</code>"},{"owner":{"account_id":1725665,"reputation":159,"user_id":1580406,"display_name":"Van Dame"},"score":1,"creation_date":1543233790,"post_id":37840526,"comment_id":93831011,"body_markdown":"Worked for me as well on Spring Boot 2.1. Was beginning to drive me crazy.","body":"Worked for me as well on Spring Boot 2.1. Was beginning to drive me crazy."},{"owner":{"account_id":79925,"reputation":2217,"user_id":226335,"accept_rate":74,"display_name":"aardbol"},"score":0,"creation_date":1544901417,"post_id":37840526,"comment_id":94442492,"body_markdown":"It&#39;s not clear how to implement this. I get an incompatible types error.","body":"It&#39;s not clear how to implement this. I get an incompatible types error."},{"owner":{"account_id":376000,"reputation":3773,"user_id":727184,"accept_rate":62,"display_name":"GarouDan"},"score":2,"creation_date":1546609372,"post_id":37840526,"comment_id":94915135,"body_markdown":"Awesome! Worked for me with Spring Boot 2.0.6 and Hibernate 5.","body":"Awesome! Worked for me with Spring Boot 2.0.6 and Hibernate 5."},{"owner":{"account_id":1667837,"reputation":191,"user_id":1534902,"display_name":"gburgalum01"},"score":0,"creation_date":1561411332,"post_id":37840526,"comment_id":100047064,"body_markdown":"This was very helpful.  It should be pointed out that registering the Hibernate5Module class instance as a bean isn&#39;t enough.  If you wish to apply it to a single ObjectMapper instance,  you can autowire the module into your Spring-managed class and then register it with the ObjectMapper instance.  @Autowire Module jacksonHibernateModule;  ObjectMapper mapper = new ObjectMapper(); mapper.registerModule(this.jacksonHibernateModule).","body":"This was very helpful.  It should be pointed out that registering the Hibernate5Module class instance as a bean isn&#39;t enough.  If you wish to apply it to a single ObjectMapper instance,  you can autowire the module into your Spring-managed class and then register it with the ObjectMapper instance.  @Autowire Module jacksonHibernateModule;  ObjectMapper mapper = new ObjectMapper(); mapper.registerModule(this.jacksonHibernateModule)."},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1625174179,"post_id":37840526,"comment_id":120564811,"body_markdown":"@EarthMind It may be too late, but for someone reading this now, Module is of type com.fasterxml.jackson.databind.Module and not java.lang.Module.","body":"@EarthMind It may be too late, but for someone reading this now, Module is of type com.fasterxml.jackson.databind.Module and not java.lang.Module."},{"owner":{"account_id":1069908,"reputation":405,"user_id":1069452,"display_name":"Johannes"},"score":1,"creation_date":1641864175,"post_id":37840526,"comment_id":124913662,"body_markdown":"thanks @chrismarx, I&#39;d give you 1337 upvotes for this answer if SO let me.","body":"thanks @chrismarx, I&#39;d give you 1337 upvotes for this answer if SO let me."}],"tags":[],"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"comment_count":7,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1466006707,"creation_date":1466006707,"answer_id":37840526,"question_id":21708339,"body_markdown":"As of Spring 4.2 and using Spring Boot and javaconfig, registering the Hibernate4Module is now as simple as adding this to your configuration:\r\n\r\n    @Bean\r\n\tpublic Module datatypeHibernateModule() {\r\n\t  return new Hibernate4Module();\r\n\t}\r\n\r\nref: https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring\r\n","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>As of Spring 4.2 and using Spring Boot and javaconfig, registering the Hibernate4Module is now as simple as adding this to your configuration:</p>\n\n<pre><code>@Bean\npublic Module datatypeHibernateModule() {\n  return new Hibernate4Module();\n}\n</code></pre>\n\n<p>ref: <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring\" rel=\"noreferrer\">https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring</a></p>\n"},{"tags":[],"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472208872,"creation_date":1472208872,"answer_id":39164608,"question_id":21708339,"body_markdown":"I tried this, and worked:\r\n\r\n// custom configuration for lazy loading\r\n\r\n    public static class HibernateLazyInitializerSerializer extends JsonSerializer&lt;JavassistLazyInitializer&gt; {\r\n    \r\n        @Override\r\n        public void serialize(JavassistLazyInitializer initializer, JsonGenerator jsonGenerator,\r\n                SerializerProvider serializerProvider)\r\n                throws IOException, JsonProcessingException {\r\n            jsonGenerator.writeNull();\r\n        }\r\n    }\r\n\r\nand configure mapper:\r\n\r\n        mapper = new JacksonMapper();\r\n        SimpleModule simpleModule = new SimpleModule(\r\n                &quot;SimpleModule&quot;, new Version(1,0,0,null)\r\n        );\r\n        simpleModule.addSerializer(\r\n                JavassistLazyInitializer.class,\r\n                new HibernateLazyInitializerSerializer()\r\n        );\r\n        mapper.registerModule(simpleModule);","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I tried this, and worked:</p>\n\n<p>// custom configuration for lazy loading</p>\n\n<pre><code>public static class HibernateLazyInitializerSerializer extends JsonSerializer&lt;JavassistLazyInitializer&gt; {\n\n    @Override\n    public void serialize(JavassistLazyInitializer initializer, JsonGenerator jsonGenerator,\n            SerializerProvider serializerProvider)\n            throws IOException, JsonProcessingException {\n        jsonGenerator.writeNull();\n    }\n}\n</code></pre>\n\n<p>and configure mapper:</p>\n\n<pre><code>    mapper = new JacksonMapper();\n    SimpleModule simpleModule = new SimpleModule(\n            \"SimpleModule\", new Version(1,0,0,null)\n    );\n    simpleModule.addSerializer(\n            JavassistLazyInitializer.class,\n            new HibernateLazyInitializerSerializer()\n    );\n    mapper.registerModule(simpleModule);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1527524954,"post_id":42392195,"comment_id":88150463,"body_markdown":"How do you configure this with spring boot when you are not using Spring Data Rest?","body":"How do you configure this with spring boot when you are not using Spring Data Rest?"},{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587807169,"post_id":42392195,"comment_id":108657678,"body_markdown":"Not enough. You also need `@Bean  hibernate5Module()`","body":"Not enough. You also need <code>@Bean  hibernate5Module()</code>"}],"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1487789918,"creation_date":1487768349,"answer_id":42392195,"question_id":21708339,"body_markdown":"In the case of Spring Data Rest then, while the solution posted by @r1ckr works, all that is required is to add one of the following dependencies depending on your Hibernate version:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWithin Spring Data Rest there is a class:\r\n\r\n`org.springframework.data.rest.webmvc.json.Jackson2DatatypeHelper` \r\n\r\nwhich will auto-detect and register the Module on application start-up.\r\n\r\nThere is however an issue:\r\n\r\nhttps://stackoverflow.com/questions/42395831/issue-serializing-lazy-manytoone\r\n\r\n\r\n","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>In the case of Spring Data Rest then, while the solution posted by @r1ckr works, all that is required is to add one of the following dependencies depending on your Hibernate version:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Within Spring Data Rest there is a class:</p>\n\n<p><code>org.springframework.data.rest.webmvc.json.Jackson2DatatypeHelper</code> </p>\n\n<p>which will auto-detect and register the Module on application start-up.</p>\n\n<p>There is however an issue:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/42395831/issue-serializing-lazy-manytoone\">Issue Serializing Lazy @ManyToOne</a></p>\n"},{"comments":[{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587806999,"post_id":54192969,"comment_id":108657622,"body_markdown":"The solution could be much more easier:  ```kotlin  @Bean\n   fun hibernate5Module(): Module = Hibernate5Module()```","body":"The solution could be much more easier:  <code>kotlin  @Bean    fun hibernate5Module(): Module = Hibernate5Module()</code>"}],"tags":[],"owner":{"account_id":3701900,"reputation":631,"user_id":3081357,"display_name":"sdw"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1547580806,"creation_date":1547528876,"answer_id":54192969,"question_id":21708339,"body_markdown":"The following solution is for Spring 4.3, (non-boot) &amp; Hibernate 5.1 where we transitioned all fetchtypes to `fetch=FetchType.LAZY` from cases of `fetch=FetchType.EAGER` for performance reasons. Immediately we saw the `com.fasterxml.jackson.databind.JsonMappingException: could not initialize proxy` exception due to the lazy load issue. \r\n\r\nFirst, we add the following maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nThen the following is added to our Java MVC configuration file:\r\n\r\n    @Configuration\r\n    @EnableWebMvc \r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n\r\n    @Override\r\n\tpublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n\t\tHibernate5Module h5module = new Hibernate5Module();\r\n\t\th5module.disable(Hibernate5Module.Feature.USE_TRANSIENT_ANNOTATION);\r\n\t\th5module.enable(Hibernate5Module.Feature.FORCE_LAZY_LOADING);\r\n\r\n\t\tfor (HttpMessageConverter&lt;?&gt; mc : converters){\r\n\t\t\tif (mc instanceof MappingJackson2HttpMessageConverter || mc instanceof MappingJackson2XmlHttpMessageConverter) {\r\n\t\t\t\t((AbstractJackson2HttpMessageConverter) mc).getObjectMapper().registerModule(h5module);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\nNotes:\r\n\r\n* You need to create and configure the Hibernate5Module to get behavior similar to Jackson without this module. The default makes incompatible assumptions.\r\n\r\n* Our `WebMvcConfigurerAdapter` has a lot of other configuration in it and we wanted to avoid another configuration class, which is why we didn&#39;t use the `WebMvcConfigurationSupport#addDefaultHttpMessageConverters` function that has been referred to on other posts.\r\n \r\n* `WebMvcConfigurerAdapter#configureMessageConverters` disables all of Spring&#39;s internal configuration of message converters. We preferred to avoid the potential issues around this.  \r\n\r\n* Using `extendMessageConverters` enabled access to all the automatically-configured Jackson classes without losing the configuration of all other message converters.\r\n\r\n* Using `getObjectMapper#registerModule` we were able to add the `Hibernate5Module` to the existing converters.  \r\n* The module was added to both the JSON and XML processors\r\n\r\nThis addition solved the issue with Hibernate and lazy loading but caused a **residual issue with the generated JSON format**.  As reported in [this github issue][1], the hibernate-jackson lazy load module currently ignores the @JsonUnwrapped annotation, leading to potential data errors. This happens regardless of the force-loading feature setting.  The problem has been there since 2016.  \r\n\r\n---\r\n\r\n**Note**\r\n\r\nIt appears that by adding the following to classes that are lazy-loaded, the built-in ObjectMapper works without adding the hibernate5 module:\r\n\r\n    @JsonIgnoreProperties(  {&quot;handler&quot;,&quot;hibernateLazyInitializer&quot;} )\r\n    public class Anyclass {\r\n    \r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-hibernate/issues/97","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>The following solution is for Spring 4.3, (non-boot) &amp; Hibernate 5.1 where we transitioned all fetchtypes to <code>fetch=FetchType.LAZY</code> from cases of <code>fetch=FetchType.EAGER</code> for performance reasons. Immediately we saw the <code>com.fasterxml.jackson.databind.JsonMappingException: could not initialize proxy</code> exception due to the lazy load issue. </p>\n\n<p>First, we add the following maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>Then the following is added to our Java MVC configuration file:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc \npublic class MvcConfig extends WebMvcConfigurerAdapter {\n\n@Override\npublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n    Hibernate5Module h5module = new Hibernate5Module();\n    h5module.disable(Hibernate5Module.Feature.USE_TRANSIENT_ANNOTATION);\n    h5module.enable(Hibernate5Module.Feature.FORCE_LAZY_LOADING);\n\n    for (HttpMessageConverter&lt;?&gt; mc : converters){\n        if (mc instanceof MappingJackson2HttpMessageConverter || mc instanceof MappingJackson2XmlHttpMessageConverter) {\n            ((AbstractJackson2HttpMessageConverter) mc).getObjectMapper().registerModule(h5module);\n        }\n    }\n    return;\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>You need to create and configure the Hibernate5Module to get behavior similar to Jackson without this module. The default makes incompatible assumptions.</p></li>\n<li><p>Our <code>WebMvcConfigurerAdapter</code> has a lot of other configuration in it and we wanted to avoid another configuration class, which is why we didn't use the <code>WebMvcConfigurationSupport#addDefaultHttpMessageConverters</code> function that has been referred to on other posts.</p></li>\n<li><p><code>WebMvcConfigurerAdapter#configureMessageConverters</code> disables all of Spring's internal configuration of message converters. We preferred to avoid the potential issues around this.  </p></li>\n<li><p>Using <code>extendMessageConverters</code> enabled access to all the automatically-configured Jackson classes without losing the configuration of all other message converters.</p></li>\n<li><p>Using <code>getObjectMapper#registerModule</code> we were able to add the <code>Hibernate5Module</code> to the existing converters.  </p></li>\n<li>The module was added to both the JSON and XML processors</li>\n</ul>\n\n<p>This addition solved the issue with Hibernate and lazy loading but caused a <strong>residual issue with the generated JSON format</strong>.  As reported in <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate/issues/97\" rel=\"noreferrer\">this github issue</a>, the hibernate-jackson lazy load module currently ignores the @JsonUnwrapped annotation, leading to potential data errors. This happens regardless of the force-loading feature setting.  The problem has been there since 2016.  </p>\n\n<hr>\n\n<p><strong>Note</strong></p>\n\n<p>It appears that by adding the following to classes that are lazy-loaded, the built-in ObjectMapper works without adding the hibernate5 module:</p>\n\n<pre><code>@JsonIgnoreProperties(  {\"handler\",\"hibernateLazyInitializer\"} )\npublic class Anyclass {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1667903504,"post_id":57709849,"comment_id":131273419,"body_markdown":"But when you need the actual data based on that object instance and Hibernate is supposed to really lazy load the data, it will not do it because it is already initialized?!","body":"But when you need the actual data based on that object instance and Hibernate is supposed to really lazy load the data, it will not do it because it is already initialized?!"}],"tags":[],"owner":{"account_id":2302601,"reputation":896,"user_id":2022579,"display_name":"Pedro Bacchini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567080289,"creation_date":1567080289,"answer_id":57709849,"question_id":21708339,"body_markdown":"I made a very simple solution to this problem.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public Set&lt;Pendency&gt; getPendencies() {\r\n        return Hibernate.isInitialized(this.pendencies) ? Collections.unmodifiableSet(this.pendencies) : new HashSet&lt;&gt;();\r\n    }\r\n\r\nIn my case I was giving the error because whenever I was returning a pendencies, as a good practice I converted it to a list that cannot be modified, but how it could or might not be in lazy depending on the method I used to get instance (with or without fetch), I do a test before it was initialized by Hibernate and add the annotation that prevents serializing an empty property and that solved my problem.","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I made a very simple solution to this problem.</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic Set&lt;Pendency&gt; getPendencies() {\n    return Hibernate.isInitialized(this.pendencies) ? Collections.unmodifiableSet(this.pendencies) : new HashSet&lt;&gt;();\n}\n</code></pre>\n\n<p>In my case I was giving the error because whenever I was returning a pendencies, as a good practice I converted it to a list that cannot be modified, but how it could or might not be in lazy depending on the method I used to get instance (with or without fetch), I do a test before it was initialized by Hibernate and add the annotation that prevents serializing an empty property and that solved my problem.</p>\n"},{"comments":[{"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"score":0,"creation_date":1587805947,"post_id":60580456,"comment_id":108657331,"body_markdown":"This wouldn&#39;t help","body":"This wouldn&#39;t help"}],"tags":[],"owner":{"account_id":10816575,"reputation":548,"user_id":7955307,"display_name":"bianbian"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1583602864,"creation_date":1583602864,"answer_id":60580456,"question_id":21708339,"body_markdown":"Another solution for spring boot:\r\nconfiguration:\r\n`spring.jpa.open-in-view=true`","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>Another solution for spring boot:\nconfiguration:\n<code>spring.jpa.open-in-view=true</code></p>\n"},{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587807276,"creation_date":1587806672,"answer_id":61423496,"question_id":21708339,"body_markdown":"I&#39;ve spent whole day trying to solve the same problem. You can do it without changing existing message converters configuration.\r\n\r\nIn my opinion the easiest way to solve this problem only with 2 steps with help of [jackson-datatype-hibernate](https://github.com/FasterXML/jackson-datatype-hibernate):\r\n\r\n&gt; kotlin example (same as java):\r\n\r\n1. Add In `build.gradle.kts`:\r\n\r\n```kotlin                \r\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate&quot;)\r\n```\r\n\r\n\r\n2. Create `@Bean`\r\n```kotlin                    \r\n   @Bean\r\n   fun hibernate5Module(): Module = Hibernate5Module()\r\n```\r\n\r\n___\r\n* Notice that `Module` is `com.fasterxml.jackson.databind.Module`, not `java.util.Module`\r\n\r\n* Also good practice is to add [`@JsonBackReference`](https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion) &amp; `@JsonManagedReference` to `@OneToMany` &amp; `@ManyToOne` relationships. `@JsonBackReference` could be only 1 in class. ","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I've spent whole day trying to solve the same problem. You can do it without changing existing message converters configuration.</p>\n\n<p>In my opinion the easiest way to solve this problem only with 2 steps with help of <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"noreferrer\">jackson-datatype-hibernate</a>:</p>\n\n<blockquote>\n  <p>kotlin example (same as java):</p>\n</blockquote>\n\n<ol>\n<li>Add In <code>build.gradle.kts</code>:</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(\"com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate\")\n</code></pre>\n\n<ol start=\"2\">\n<li>Create <code>@Bean</code></li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>   @Bean\n   fun hibernate5Module(): Module = Hibernate5Module()\n</code></pre>\n\n<hr>\n\n<ul>\n<li><p>Notice that <code>Module</code> is <code>com.fasterxml.jackson.databind.Module</code>, not <code>java.util.Module</code></p></li>\n<li><p>Also good practice is to add <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"noreferrer\"><code>@JsonBackReference</code></a> &amp; <code>@JsonManagedReference</code> to <code>@OneToMany</code> &amp; <code>@ManyToOne</code> relationships. <code>@JsonBackReference</code> could be only 1 in class. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622134137,"creation_date":1622134137,"answer_id":67726588,"question_id":21708339,"body_markdown":"We couldnt work around the problem that we had to call `Hibernate.initialize(objX.getAttributeY())` for all Attributes.  So here we wrote a utils class to call the initialize methods on all attributes that have the Entity annotation.\r\nCollections still must be handled separately.\r\n\r\n\r\n\r\n    import org.hibernate.Hibernate;\r\n    \r\n    import javax.persistence.Entity;\r\n    import java.beans.IntrospectionException;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class HibernateInitialiseUtil&lt;T&gt; {\r\n    \r\n        private final List&lt;Method&gt; entityGetterMethods;\r\n    \r\n        public HibernateInitialiseUtil(Class&lt;T&gt; clazz) {\r\n            this.entityGetterMethods = this.getGettersMethodsOfEntityAttributes(clazz);\r\n        }\r\n    \r\n        public void initializeAllEntityAttributes(T obj) throws InvocationTargetException, IllegalAccessException {\r\n            for (Method getter : this.entityGetterMethods) {\r\n                Hibernate.initialize(getter.invoke(obj));\r\n            }\r\n        }\r\n    \r\n        private List&lt;String&gt; getNameOfEntityAttributes(final Class&lt;T&gt; targetClass) {\r\n            Field[] attributes =  targetClass.getDeclaredFields();\r\n            List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n            for (Field attribute : attributes) {\r\n                if (attribute.getType().isAnnotationPresent(Entity.class)) {\r\n                    fields.add(attribute.getName());\r\n                }\r\n            }\r\n            return fields;\r\n        }\r\n    \r\n        private List&lt;Method&gt; getGettersMethodsOfEntityAttributes(final Class&lt;T&gt; targetClass) {\r\n            List&lt;Method&gt; resultList = new ArrayList&lt;&gt;();\r\n            for (String attributeName : getNameOfEntityAttributes(targetClass)) {\r\n                try {\r\n                    PropertyDescriptor pd = new PropertyDescriptor(attributeName, targetClass);\r\n                    Method getter = pd.getReadMethod();\r\n                    resultList.add(getter);\r\n                } catch (IllegalArgumentException | IntrospectionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return Collections.unmodifiableList(resultList);\r\n        }\r\n    }","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>We couldnt work around the problem that we had to call <code>Hibernate.initialize(objX.getAttributeY())</code> for all Attributes.  So here we wrote a utils class to call the initialize methods on all attributes that have the Entity annotation.\nCollections still must be handled separately.</p>\n<pre><code>import org.hibernate.Hibernate;\n\nimport javax.persistence.Entity;\nimport java.beans.IntrospectionException;\nimport java.beans.PropertyDescriptor;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class HibernateInitialiseUtil&lt;T&gt; {\n\n    private final List&lt;Method&gt; entityGetterMethods;\n\n    public HibernateInitialiseUtil(Class&lt;T&gt; clazz) {\n        this.entityGetterMethods = this.getGettersMethodsOfEntityAttributes(clazz);\n    }\n\n    public void initializeAllEntityAttributes(T obj) throws InvocationTargetException, IllegalAccessException {\n        for (Method getter : this.entityGetterMethods) {\n            Hibernate.initialize(getter.invoke(obj));\n        }\n    }\n\n    private List&lt;String&gt; getNameOfEntityAttributes(final Class&lt;T&gt; targetClass) {\n        Field[] attributes =  targetClass.getDeclaredFields();\n        List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n        for (Field attribute : attributes) {\n            if (attribute.getType().isAnnotationPresent(Entity.class)) {\n                fields.add(attribute.getName());\n            }\n        }\n        return fields;\n    }\n\n    private List&lt;Method&gt; getGettersMethodsOfEntityAttributes(final Class&lt;T&gt; targetClass) {\n        List&lt;Method&gt; resultList = new ArrayList&lt;&gt;();\n        for (String attributeName : getNameOfEntityAttributes(targetClass)) {\n            try {\n                PropertyDescriptor pd = new PropertyDescriptor(attributeName, targetClass);\n                Method getter = pd.getReadMethod();\n                resultList.add(getter);\n            } catch (IllegalArgumentException | IntrospectionException e) {\n                e.printStackTrace();\n            }\n        }\n        return Collections.unmodifiableList(resultList);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824191,"reputation":5574,"user_id":1657465,"display_name":"luiscla27"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697816270,"creation_date":1697740143,"answer_id":77326268,"question_id":21708339,"body_markdown":"##### TLDR: Always serialize [DTO&#39;s][1], avoid returning entities. Explicitly for OP question, answer is `@JsonIgnore`\r\n\r\n---\r\nThe reason for the issue is that when retrieving lazily-loaded data, first step is populate the main object, and second to retrieve the data within its proxies. For this, an open Session in Hibernate is needed.\r\n \r\nThe problem arises when the second step happens after the transaction has closed, which leads to a `LazyInitializationException`.\r\n\r\nI&#39;m going to summarize some solutions here while adding mine:\r\n```\r\n1. Avoid entity serialization, **instead serialize a dto**\r\n2. Add `@JsonIgnore` to your `LAZY` attributes\r\n3. Change `FetchType` to `EAGER`\r\n4. Set `hibernate.enable_lazy_load_no_trans=true` \r\n```\r\n\r\nOnly points 1 and 2 are recommended, the other 2 aren&#39;t meant to be used at serialization phase. As they have a HUGE performance cost there, they both make a hit to the database to retrieve extra data. **Option 4, actually creates a new transaction for every lazy object so please [AVOID!][2]**.\r\n\r\n\r\n\r\nMy grain of sand in this question is to highly recommend to explicitly use ONLY options 1 and 2, and also `FetchType.EAGER` only for business logic, not as a solution for this issue.\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/not-so-obvious-tips-to-write-better-dtos-in-java-c6116895b180\r\n  [2]: https://www.baeldung.com/hibernate-lazy-loading-workaround#4-lazy-loading-with-automatic-transaction","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<h5>TLDR: Always serialize <a href=\"https://medium.com/javarevisited/not-so-obvious-tips-to-write-better-dtos-in-java-c6116895b180\" rel=\"nofollow noreferrer\">DTO's</a>, avoid returning entities. Explicitly for OP question, answer is <code>@JsonIgnore</code></h5>\n<hr />\n<p>The reason for the issue is that when retrieving lazily-loaded data, first step is populate the main object, and second to retrieve the data within its proxies. For this, an open Session in Hibernate is needed.</p>\n<p>The problem arises when the second step happens after the transaction has closed, which leads to a <code>LazyInitializationException</code>.</p>\n<p>I'm going to summarize some solutions here while adding mine:</p>\n<pre><code>1. Avoid entity serialization, **instead serialize a dto**\n2. Add `@JsonIgnore` to your `LAZY` attributes\n3. Change `FetchType` to `EAGER`\n4. Set `hibernate.enable_lazy_load_no_trans=true` \n</code></pre>\n<p>Only points 1 and 2 are recommended, the other 2 aren't meant to be used at serialization phase. As they have a HUGE performance cost there, they both make a hit to the database to retrieve extra data. <strong>Option 4, actually creates a new transaction for every lazy object so please <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround#4-lazy-loading-with-automatic-transaction\" rel=\"nofollow noreferrer\">AVOID!</a></strong>.</p>\n<p>My grain of sand in this question is to highly recommend to explicitly use ONLY options 1 and 2, and also <code>FetchType.EAGER</code> only for business logic, not as a solution for this issue.</p>\n"}],"owner":{"account_id":1514753,"reputation":5733,"user_id":1416034,"display_name":"r1ckr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95938,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":21760361,"answer_count":16,"score":98,"last_activity_date":1697816270,"creation_date":1392138434,"question_id":21708339,"body_markdown":"I have a simple controller that return a User object, this user have a attribute coordinates that have the hibernate property FetchType.LAZY.\r\n\r\nWhen I try to get this user, I always have to load all the coordinates to get the user object, otherwise when Jackson try to serialize the User throws the exception:\r\n&gt;com.fasterxml.jackson.databind.JsonMappingException: could not initialize proxy - no Session\r\n\r\nThis is due to Jackson is trying to fetch this unfetched object. Here are the objects:\r\n\r\n\r\n    public class User{\r\n    \r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    \t@JsonManagedReference(&quot;user-coordinate&quot;)\r\n    \tprivate List&lt;Coordinate&gt; coordinates;\r\n    }\r\n\r\n    public class Coordinate {\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    \t@JsonBackReference(&quot;user-coordinate&quot;)\r\n    \tprivate User user;\r\n    }\r\n\r\nAnd the controller:\r\n\r\n\r\n\r\n    @RequestMapping(value = &quot;/user/{username}&quot;, method=RequestMethod.GET)\r\n    public @ResponseBody User getUser(@PathVariable String username) {\r\n    \t\t\r\n    \tUser user = userService.getUser(username);\r\n    \t\t\r\n    \treturn user;\r\n    \t\t\r\n    }\r\n\r\nThere is a way to tell Jackson to not serialize the unfetched objects? I&#39;ve been looking other answers posted 3 years ago implementing jackson-hibernate-module. But probably it could be achieved with a new jackson feature.\r\n\r\nMy versions are:\r\n\r\n - Spring 3.2.5 \r\n - Hibernate 4.1.7 \r\n - Jackson 2.2","title":"Avoid Jackson serialization on non fetched lazy objects","body":"<p>I have a simple controller that return a User object, this user have a attribute coordinates that have the hibernate property FetchType.LAZY.</p>\n<p>When I try to get this user, I always have to load all the coordinates to get the user object, otherwise when Jackson try to serialize the User throws the exception:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.JsonMappingException: could not initialize proxy - no Session</p>\n</blockquote>\n<p>This is due to Jackson is trying to fetch this unfetched object. Here are the objects:</p>\n<pre><code>public class User{\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    @JsonManagedReference(&quot;user-coordinate&quot;)\n    private List&lt;Coordinate&gt; coordinates;\n}\n\npublic class Coordinate {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @JsonBackReference(&quot;user-coordinate&quot;)\n    private User user;\n}\n</code></pre>\n<p>And the controller:</p>\n<pre><code>@RequestMapping(value = &quot;/user/{username}&quot;, method=RequestMethod.GET)\npublic @ResponseBody User getUser(@PathVariable String username) {\n        \n    User user = userService.getUser(username);\n        \n    return user;\n        \n}\n</code></pre>\n<p>There is a way to tell Jackson to not serialize the unfetched objects? I've been looking other answers posted 3 years ago implementing jackson-hibernate-module. But probably it could be achieved with a new jackson feature.</p>\n<p>My versions are:</p>\n<ul>\n<li>Spring 3.2.5</li>\n<li>Hibernate 4.1.7</li>\n<li>Jackson 2.2</li>\n</ul>\n"},{"tags":["java","hibernate","session","orm","lazy-loading"],"answers":[{"comments":[{"owner":{"account_id":3736418,"reputation":3303,"user_id":3107262,"accept_rate":55,"display_name":"Blerta Dhimitri"},"score":1,"creation_date":1391600397,"post_id":21575368,"comment_id":32591114,"body_markdown":"Thank you! I solved my problem using openSession() instead of getCurrentSession() as one of the links you gave me suggested this, but now I&#39;m affraid if it is wrong to do so","body":"Thank you! I solved my problem using openSession() instead of getCurrentSession() as one of the links you gave me suggested this, but now I&#39;m affraid if it is wrong to do so"},{"owner":{"account_id":105356,"reputation":2071,"user_id":281191,"accept_rate":0,"display_name":"goroncy"},"score":2,"creation_date":1391602128,"post_id":21575368,"comment_id":32592135,"body_markdown":"No it is probably fine. But read some more to be able to fully control your sessions and transactions. It is realy important to know the basics because all higher level technologies like Spring, Hibernate and more operate on the very same concept.","body":"No it is probably fine. But read some more to be able to fully control your sessions and transactions. It is realy important to know the basics because all higher level technologies like Spring, Hibernate and more operate on the very same concept."}],"tags":[],"owner":{"account_id":105356,"reputation":2071,"user_id":281191,"accept_rate":0,"display_name":"goroncy"},"comment_count":2,"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1674029973,"creation_date":1391598105,"answer_id":21575368,"question_id":21574236,"body_markdown":"What is wrong here is that your session management configuration is set to close session when you commit transaction. Check if you have something like:\r\n\r\n```xml\r\n&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n```\r\n\r\nin your configuration.\r\n\r\nIn order to overcome this problem you could change the configuration of session factory or open another session and only then ask for those lazy loaded objects. But what I would suggest here is to initialize this lazy collection in `getModelByModelGroup` itself and call:\r\n\r\n```java\r\nHibernate.initialize(subProcessModel.getElement());\r\n```\r\n\r\nwhen you are still in active session.\r\n\r\nAnd one last thing. A friendly advice. You have something like this in your method:\r\n\r\n```java\r\nfor (Model m : modelList) {\r\n    if (m.getModelType().getId() == 3) {\r\n        model = m;\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\nPlease insted of this code just filter those models with type id equal to 3 in the query statement just couple of lines above. \r\n\r\nSome more reading:\r\n\r\n[session factory configuration][1]\r\n\r\n[problem with closed session][2]\r\n\r\n\r\n  [1]: http://www.coderanch.com/t/428509/ORM/databases/committing-transaction-closes-session\r\n  [2]: http://forum.zkoss.org/question/45772/hibernate-problem-session-is-closed/","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>What is wrong here is that your session management configuration is set to close session when you commit transaction. Check if you have something like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n</code></pre>\n<p>in your configuration.</p>\n<p>In order to overcome this problem you could change the configuration of session factory or open another session and only then ask for those lazy loaded objects. But what I would suggest here is to initialize this lazy collection in <code>getModelByModelGroup</code> itself and call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Hibernate.initialize(subProcessModel.getElement());\n</code></pre>\n<p>when you are still in active session.</p>\n<p>And one last thing. A friendly advice. You have something like this in your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Model m : modelList) {\n    if (m.getModelType().getId() == 3) {\n        model = m;\n        break;\n    }\n}\n</code></pre>\n<p>Please insted of this code just filter those models with type id equal to 3 in the query statement just couple of lines above.</p>\n<p>Some more reading:</p>\n<p><a href=\"http://www.coderanch.com/t/428509/ORM/databases/committing-transaction-closes-session\" rel=\"nofollow noreferrer\">session factory configuration</a></p>\n<p><a href=\"http://forum.zkoss.org/question/45772/hibernate-problem-session-is-closed/\" rel=\"nofollow noreferrer\">problem with closed session</a></p>\n"},{"comments":[{"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"score":10,"creation_date":1415274672,"post_id":25056258,"comment_id":42135356,"body_markdown":"generally adding lazy=false is not a good idea. that is why lazy is true by default","body":"generally adding lazy=false is not a good idea. that is why lazy is true by default"},{"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"score":0,"creation_date":1432051741,"post_id":25056258,"comment_id":48756299,"body_markdown":"The OP clearly said beforehand that he&#39;s not allowed to do that.","body":"The OP clearly said beforehand that he&#39;s not allowed to do that."}],"tags":[],"owner":{"account_id":2084440,"reputation":204,"user_id":1855717,"accept_rate":60,"display_name":"Sandeep Roniyaar"},"comment_count":2,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1406801527,"creation_date":1406801527,"answer_id":25056258,"question_id":21574236,"body_markdown":"you could also solved it by adding lazy=false into &lt;class name=&quot;com.employees.model.Employee&quot; table=&quot;employees&quot;&gt;  into your *.hbm.xml file or you can init your object in Hibernate.init(Object) when you get object from db","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>you could also solved it by adding lazy=false into   into your *.hbm.xml file or you can init your object in Hibernate.init(Object) when you get object from db</p>\n"},{"comments":[{"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"score":10,"creation_date":1436786788,"post_id":27303504,"comment_id":50741778,"body_markdown":"Can you explain its meaning as well?","body":"Can you explain its meaning as well?"},{"owner":{"display_name":"user377628"},"score":2,"creation_date":1443739601,"post_id":27303504,"comment_id":53624989,"body_markdown":"I&#39;m also curious what this does. It did fix the issue I was having, but I&#39;d like to understand why.","body":"I&#39;m also curious what this does. It did fix the issue I was having, but I&#39;d like to understand why."},{"owner":{"account_id":1617419,"reputation":667,"user_id":1527456,"accept_rate":53,"display_name":"saimiris_devel"},"score":0,"creation_date":1453368235,"post_id":27303504,"comment_id":57573443,"body_markdown":"After thousands of &quot;just put lazy=false in your configuration file&quot; and &quot;just initialize every object with Hibernate.initialize()&quot; finally a concrete and viable solution for me. This option should be made standard in hibernate!","body":"After thousands of &quot;just put lazy=false in your configuration file&quot; and &quot;just initialize every object with Hibernate.initialize()&quot; finally a concrete and viable solution for me. This option should be made standard in hibernate!"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":3,"creation_date":1472066154,"post_id":27303504,"comment_id":65608075,"body_markdown":"for persistence.xml: `&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;`","body":"for persistence.xml: <code>&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;&#47;&gt;</code>"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":26,"creation_date":1508328571,"post_id":27303504,"comment_id":80566749,"body_markdown":"DO NOT USE THIS PROPERTY, IF SPRING MANAGES YOUR TRANSACTIONS THIS PROPERTY WILL LEAD TO TRANSACTIONS EXPLOSION, SIMPLY SPRING WILL SHUTDOWN THE APPLICATION","body":"DO NOT USE THIS PROPERTY, IF SPRING MANAGES YOUR TRANSACTIONS THIS PROPERTY WILL LEAD TO TRANSACTIONS EXPLOSION, SIMPLY SPRING WILL SHUTDOWN THE APPLICATION"},{"owner":{"account_id":303636,"reputation":1306,"user_id":612694,"accept_rate":81,"display_name":"Rub&#233;n Fanjul Estrada"},"score":0,"creation_date":1577214965,"post_id":27303504,"comment_id":105123854,"body_markdown":"To doing that you will use an anti-pattern ... so better don&#39;t do that.","body":"To doing that you will use an anti-pattern ... so better don&#39;t do that."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1624885528,"post_id":27303504,"comment_id":120471756,"body_markdown":"This is an anti-pattern - read here - an article by Vlad Mihalcea - https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","body":"This is an anti-pattern - read here - an article by Vlad Mihalcea - <a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":1344992,"reputation":2404,"user_id":1285923,"accept_rate":43,"display_name":"Wilianto Indrawan"},"comment_count":7,"down_vote_count":18,"up_vote_count":129,"is_accepted":false,"score":111,"last_activity_date":1697738178,"creation_date":1417725223,"answer_id":27303504,"question_id":21574236,"body_markdown":"##### WARNING: This solution creates a NEW TRANSACTION for every LAZY object that is fetched outside a transaction. Use at your own risk.\r\n---\r\n\r\nYou can try to set the following in `hibernate.cfg.xml` or `persistence.xml`\r\n\r\n    &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\r\n\r\n\r\nThe problem to keep in mind with this property are well explained [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25367976/1657465","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<h5>WARNING: This solution creates a NEW TRANSACTION for every LAZY object that is fetched outside a transaction. Use at your own risk.</h5>\n<hr />\n<p>You can try to set the following in <code>hibernate.cfg.xml</code> or <code>persistence.xml</code></p>\n<pre><code>&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\n</code></pre>\n<p>The problem to keep in mind with this property are well explained <a href=\"https://stackoverflow.com/a/25367976/1657465\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4996035,"reputation":4281,"user_id":4098074,"accept_rate":19,"display_name":"Tony Vu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428914681,"creation_date":1428914681,"answer_id":29601232,"question_id":21574236,"body_markdown":"I encountered the same issue. I think another way to fix this is that you can change the query to join fetch your Element from Model as follows:\r\n\r\n    Query query = session.createQuery(&quot;from Model m join fetch m.element where modelGroup.id = :modelGroupId&quot;)\r\n\r\n ","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>I encountered the same issue. I think another way to fix this is that you can change the query to join fetch your Element from Model as follows:</p>\n\n<pre><code>Query query = session.createQuery(\"from Model m join fetch m.element where modelGroup.id = :modelGroupId\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1723085,"reputation":3842,"user_id":1578356,"accept_rate":63,"display_name":"newday"},"score":5,"creation_date":1444855324,"post_id":32214318,"comment_id":54082007,"body_markdown":"can you please explain this?","body":"can you please explain this?"}],"tags":[],"owner":{"account_id":5907936,"reputation":77,"user_id":4863488,"display_name":"Artavazd Manukyan"},"comment_count":1,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1440537681,"creation_date":1440537681,"answer_id":32214318,"question_id":21574236,"body_markdown":"uses session.get(*.class, id); but do not load function\r\n","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>uses session.get(*.class, id); but do not load function</p>\n"},{"comments":[{"owner":{"account_id":281803,"reputation":13299,"user_id":578318,"accept_rate":59,"display_name":"sparkyspider"},"score":39,"creation_date":1469809177,"post_id":32276916,"comment_id":64707571,"body_markdown":"I cannot overstate the importance of this answer. I&#39;d seriously recommend trying this option first.","body":"I cannot overstate the importance of this answer. I&#39;d seriously recommend trying this option first."},{"owner":{"account_id":7109467,"reputation":2376,"user_id":5519485,"accept_rate":69,"display_name":"Erik Hofer"},"score":9,"creation_date":1472124633,"post_id":32276916,"comment_id":65632153,"body_markdown":"Also note that you have to add `@EnableTransactionManagement` to your configuration in order to enable transactions. &quot;_if another transactional method is called the method will have the option of joining the ongoing transaction_&quot; this behavior is different for the different ways transactions are implemented, i.e. interface proxy vs class proxy or AspectJ weaving. Refer to the [documentation](http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations).","body":"Also note that you have to add <code>@EnableTransactionManagement</code> to your configuration in order to enable transactions. &quot;<i>if another transactional method is called the method will have the option of joining the ongoing transaction</i>&quot; this behavior is different for the different ways transactions are implemented, i.e. interface proxy vs class proxy or AspectJ weaving. Refer to the <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":2,"creation_date":1527511434,"post_id":32276916,"comment_id":88143467,"body_markdown":"Should we understand the Spring `Transactional` annotation is thus advised, not only for modifying transactions, but also for accessing only ones ?","body":"Should we understand the Spring <code>Transactional</code> annotation is thus advised, not only for modifying transactions, but also for accessing only ones ?"},{"owner":{"account_id":1754735,"reputation":399,"user_id":1603041,"display_name":"ThetaSinner"},"score":0,"creation_date":1535581044,"post_id":32276916,"comment_id":91123884,"body_markdown":"Note that Spring will also pick up the javax.persistence.Transactional annotation if you want to stick to JPA.","body":"Note that Spring will also pick up the javax.persistence.Transactional annotation if you want to stick to JPA."},{"owner":{"account_id":900475,"reputation":1201,"user_id":936752,"display_name":"m1ld"},"score":10,"creation_date":1544101825,"post_id":32276916,"comment_id":94162498,"body_markdown":"I&#39;d seriously recommend to use this annotation on top of class only for testing.\nReal code should mark each method as transaction in class separately. Unless all the methods in class will require opened connection with transaction to database.","body":"I&#39;d seriously recommend to use this annotation on top of class only for testing. Real code should mark each method as transaction in class separately. Unless all the methods in class will require opened connection with transaction to database."},{"owner":{"account_id":211811,"reputation":726,"user_id":464219,"accept_rate":17,"display_name":"Hamedz"},"score":4,"creation_date":1559518388,"post_id":32276916,"comment_id":99434919,"body_markdown":"Isn&#39;t it safe to put @Transactional(readOnly = true) instead of just @Transactional ?","body":"Isn&#39;t it safe to put @Transactional(readOnly = true) instead of just @Transactional ?"},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1565018101,"post_id":32276916,"comment_id":101209718,"body_markdown":"@Transactional didn&#39;t work for me on my SpringBoot integration Test case. I marked this anotation on the Entity class where the error occurs when loading child objects method on the toString().","body":"@Transactional didn&#39;t work for me on my SpringBoot integration Test case. I marked this anotation on the Entity class where the error occurs when loading child objects method on the toString()."},{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":0,"creation_date":1673341042,"post_id":32276916,"comment_id":132471209,"body_markdown":"The @Transactional is from \norg.springframework.transaction.annotation.Transactional;","body":"The @Transactional is from  org.springframework.transaction.annotation.Transactional;"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1679232308,"post_id":32276916,"comment_id":133680618,"body_markdown":"It&#39;s a pitty. I have `@Transactional` annotations for my service class, `@EnableTransactionalManagement` too, `EntityManager` is annotated with @PersistenceContext, but I still get `org.hibernate.LazyInitializationException: could not initialize proxy [app.models.User#2] - no Session`","body":"It&#39;s a pitty. I have <code>@Transactional</code> annotations for my service class, <code>@EnableTransactionalManagement</code> too, <code>EntityManager</code> is annotated with @PersistenceContext, but I still get <code>org.hibernate.LazyInitializationException: could not initialize proxy [app.models.User#2] - no Session</code>"}],"tags":[],"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"comment_count":9,"down_vote_count":2,"up_vote_count":292,"is_accepted":false,"score":290,"last_activity_date":1584579899,"creation_date":1440783937,"answer_id":32276916,"question_id":21574236,"body_markdown":"If you using Spring mark the class as [@Transactional][1], then Spring will handle session management.\r\n\r\n    @Transactional\r\n    public class MyClass {\r\n        ...\r\n    }\r\n\r\nBy using `@Transactional`, many important aspects such as transaction propagation are handled automatically. In this case if another transactional method is called the method will have the option of joining the ongoing transaction avoiding the &quot;no session&quot; exception.\r\n\r\n**WARNING** If you do use `@Transactional`, please be aware of the resulting behavior. See [this article][2] for common pitfalls. For example, updates to entities are persisted *even if* you don&#39;t explicitly call `save`\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\r\n  [2]: https://codete.com/blog/5-common-spring-transactional-pitfalls/","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>If you using Spring mark the class as <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"noreferrer\">@Transactional</a>, then Spring will handle session management.</p>\n\n<pre><code>@Transactional\npublic class MyClass {\n    ...\n}\n</code></pre>\n\n<p>By using <code>@Transactional</code>, many important aspects such as transaction propagation are handled automatically. In this case if another transactional method is called the method will have the option of joining the ongoing transaction avoiding the \"no session\" exception.</p>\n\n<p><strong>WARNING</strong> If you do use <code>@Transactional</code>, please be aware of the resulting behavior. See <a href=\"https://codete.com/blog/5-common-spring-transactional-pitfalls/\" rel=\"noreferrer\">this article</a> for common pitfalls. For example, updates to entities are persisted <em>even if</em> you don't explicitly call <code>save</code></p>\n"},{"tags":[],"owner":{"account_id":305493,"reputation":4238,"user_id":615686,"display_name":"Night Owl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458006936,"creation_date":1458006936,"answer_id":36001361,"question_id":21574236,"body_markdown":"There are several good answers here that handle this error in a broad scope. I ran into a specific situation with Spring Security which had a quick, although probably not optimal, fix.\r\n\r\nDuring user authorization (immediately after logging in and passing authentication) I was testing a user entity for a specific authority in a custom class that extends SimpleUrlAuthenticationSuccessHandler.\r\n\r\nMy user entity implements UserDetails and has a Set of lazy loaded Roles which threw the &quot;org.hibernate.LazyInitializationException - could not initialize proxy - no Session&quot; exception. Changing that Set from &quot;fetch=FetchType.LAZY&quot; to &quot;fetch=FetchType.EAGER&quot; fixed this for me.","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>There are several good answers here that handle this error in a broad scope. I ran into a specific situation with Spring Security which had a quick, although probably not optimal, fix.</p>\n\n<p>During user authorization (immediately after logging in and passing authentication) I was testing a user entity for a specific authority in a custom class that extends SimpleUrlAuthenticationSuccessHandler.</p>\n\n<p>My user entity implements UserDetails and has a Set of lazy loaded Roles which threw the \"org.hibernate.LazyInitializationException - could not initialize proxy - no Session\" exception. Changing that Set from \"fetch=FetchType.LAZY\" to \"fetch=FetchType.EAGER\" fixed this for me.</p>\n"},{"tags":[],"owner":{"account_id":1636378,"reputation":3853,"user_id":1509738,"accept_rate":75,"display_name":"ArunDhwaj IIITH"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1460161798,"creation_date":1460161798,"answer_id":36511384,"question_id":21574236,"body_markdown":"Do the following changes in **servlet-context.xml**\r\n\r\n        &lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;beans:props&gt;\r\n               \r\n                &lt;beans:prop key=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/beans:prop&gt;\r\n                \r\n            &lt;/beans:props&gt;\r\n        &lt;/beans:property&gt;","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>Do the following changes in <strong>servlet-context.xml</strong></p>\n\n<pre><code>    &lt;beans:property name=\"hibernateProperties\"&gt;\n        &lt;beans:props&gt;\n\n            &lt;beans:prop key=\"hibernate.enable_lazy_load_no_trans\"&gt;true&lt;/beans:prop&gt;\n\n        &lt;/beans:props&gt;\n    &lt;/beans:property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251960,"reputation":1067,"user_id":529674,"display_name":"Pere"},"score":0,"creation_date":1610417546,"post_id":39372379,"comment_id":116120687,"body_markdown":"How do you re-attach the entity to the session?","body":"How do you re-attach the entity to the session?"},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":0,"creation_date":1701648086,"post_id":39372379,"comment_id":136798515,"body_markdown":"this answer prompted me to change my getById to findById , and solved my problems","body":"this answer prompted me to change my getById to findById , and solved my problems"}],"tags":[],"owner":{"account_id":9053796,"reputation":500,"user_id":6742855,"display_name":"R Pidugu"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1473259037,"creation_date":1473257844,"answer_id":39372379,"question_id":21574236,"body_markdown":"This exception because of when you call `session.getEntityById()`, the session will be closed. So you need to re-attach the entity to the session. Or Easy solution is just configure `default-lazy=&quot;false&quot;`  to your `entity.hbm.xml` or if you are using annotations just add `@Proxy(lazy=false)` to your entity class.","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>This exception because of when you call <code>session.getEntityById()</code>, the session will be closed. So you need to re-attach the entity to the session. Or Easy solution is just configure <code>default-lazy=\"false\"</code>  to your <code>entity.hbm.xml</code> or if you are using annotations just add <code>@Proxy(lazy=false)</code> to your entity class.</p>\n"},{"comments":[{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1511335514,"post_id":39465150,"comment_id":81812250,"body_markdown":"How Can I Identify which call is having problem ? I am finding it as hard to identify the call. Is there any way ? For testing purpose I used `FetchType=EAGER`, but this is not correct solution, right ?","body":"How Can I Identify which call is having problem ? I am finding it as hard to identify the call. Is there any way ? For testing purpose I used <code>FetchType=EAGER</code>, but this is not correct solution, right ?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1511351765,"post_id":39465150,"comment_id":81822332,"body_markdown":"Just use logging. And EAGER is bad, yes.","body":"Just use logging. And EAGER is bad, yes."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1511353579,"post_id":39465150,"comment_id":81823466,"body_markdown":"Then, you should use either DTOs or initialize all associations before leaving the `@Transactional` service.","body":"Then, you should use either DTOs or initialize all associations before leaving the <code>@Transactional</code> service."},{"owner":{"account_id":422804,"reputation":5840,"user_id":801790,"accept_rate":63,"display_name":"etlds"},"score":2,"creation_date":1519319285,"post_id":39465150,"comment_id":84873316,"body_markdown":"We should advocate the best enterprise practice but not the quick fix.","body":"We should advocate the best enterprise practice but not the quick fix."},{"owner":{"account_id":98922,"reputation":1351,"user_id":267476,"accept_rate":62,"display_name":"phamductri"},"score":2,"creation_date":1595818416,"post_id":39465150,"comment_id":111595547,"body_markdown":"This is the best fix","body":"This is the best fix"},{"owner":{"account_id":140310,"reputation":599,"user_id":346534,"display_name":"stephan f"},"score":0,"creation_date":1605117010,"post_id":39465150,"comment_id":114555884,"body_markdown":"Why is EAGER bad? In @OneToMany too?","body":"Why is EAGER bad? In @OneToMany too?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1605133982,"post_id":39465150,"comment_id":114562153,"body_markdown":"[Here&#39;s why](https://vladmihalcea.com/eager-fetching-is-a-code-smell/).","body":"<a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">Here&#39;s why</a>."},{"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"score":0,"creation_date":1678823038,"post_id":39465150,"comment_id":133607385,"body_markdown":"Hi @VladMihalcea, is `JOIN FETCH` equivalent to `EAGER`?","body":"Hi @VladMihalcea, is <code>JOIN FETCH</code> equivalent to <code>EAGER</code>?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1678852703,"post_id":39465150,"comment_id":133612169,"body_markdown":"JOIN FETCH means JOIN + SELECT joined table column. FetchType.EAGER means to always fetch the entity, and it can lead to secondary queries as well. So, they are not necessarily the same.","body":"JOIN FETCH means JOIN + SELECT joined table column. FetchType.EAGER means to always fetch the entity, and it can lead to secondary queries as well. So, they are not necessarily the same."},{"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"score":0,"creation_date":1679045036,"post_id":39465150,"comment_id":133653970,"body_markdown":"In my understanding, JOIN FETCH will always fetch the children entities as same as  FetchType.EAGER. If the children entities are always needed, maybe it&#39;s better to use FetchType.EAGER, isn&#39;t it?","body":"In my understanding, JOIN FETCH will always fetch the children entities as same as  FetchType.EAGER. If the children entities are always needed, maybe it&#39;s better to use FetchType.EAGER, isn&#39;t it?"},{"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"score":0,"creation_date":1679045089,"post_id":39465150,"comment_id":133653984,"body_markdown":"Are the grandchildren entities also included with JOIN FETCH or do we need to add more JOIN in that query?","body":"Are the grandchildren entities also included with JOIN FETCH or do we need to add more JOIN in that query?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1679048972,"post_id":39465150,"comment_id":133655010,"body_markdown":"@C&#244;ngBng Confusing `FetchType.EAGER` and `JOIN FETCH` so that you conclude that using `FetchType.EAGER` would be better is terrible. Once you use `FetchType.EAGER`, you will never be able to fetch that association lazily. On the other hand, if you make it `FetchType.LAZY`, you have the flexibility of not fetching it when you don&#39;t need it and fetching it with `JOIN FETCH` when you need it.","body":"@C&#244;ngBng Confusing <code>FetchType.EAGER</code> and <code>JOIN FETCH</code> so that you conclude that using <code>FetchType.EAGER</code> would be better is terrible. Once you use <code>FetchType.EAGER</code>, you will never be able to fetch that association lazily. On the other hand, if you make it <code>FetchType.LAZY</code>, you have the flexibility of not fetching it when you don&#39;t need it and fetching it with <code>JOIN FETCH</code> when you need it."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":12,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1610140044,"creation_date":1473754237,"answer_id":39465150,"question_id":21574236,"body_markdown":"The best way to handle the `LazyInitializationException` is to use the `JOIN FETCH` directive:\r\n\r\n    Query query = session.createQuery(&quot;&quot;&quot;\r\n        select m\r\n        from Model m\r\n        join fetch m.modelType\r\n        where modelGroup.id = :modelGroupId\r\n        &quot;&quot;&quot;\r\n    );\r\n\r\nAnyway, DO NOT use the following Anti-Patterns as suggested by some of the answers:\r\n\r\n- [Open Session in View](https://stackoverflow.com/a/37526397/1025118)\r\n- [`hibernate.enable_lazy_load_no_trans`](https://stackoverflow.com/a/39723223/1025118)\r\n\r\nSometimes, a DTO projection is a better choice than fetching entities, and this way, you won&#39;t get any `LazyInitializationException`.\r\n","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>The best way to handle the <code>LazyInitializationException</code> is to use the <code>JOIN FETCH</code> directive:</p>\n<pre><code>Query query = session.createQuery(&quot;&quot;&quot;\n    select m\n    from Model m\n    join fetch m.modelType\n    where modelGroup.id = :modelGroupId\n    &quot;&quot;&quot;\n);\n</code></pre>\n<p>Anyway, DO NOT use the following Anti-Patterns as suggested by some of the answers:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/37526397/1025118\">Open Session in View</a></li>\n<li><a href=\"https://stackoverflow.com/a/39723223/1025118\"><code>hibernate.enable_lazy_load_no_trans</code></a></li>\n</ul>\n<p>Sometimes, a DTO projection is a better choice than fetching entities, and this way, you won't get any <code>LazyInitializationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":3598530,"reputation":2727,"user_id":3002465,"accept_rate":75,"display_name":"Zeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477571884,"creation_date":1477571884,"answer_id":40284778,"question_id":21574236,"body_markdown":"If you are using `Grail&#39;s` Framework, it&#39;s simple to resolve *lazy initialization exception* by using `Lazy` keyword on specific field in Domain Class.\r\n\r\nFor-example: \r\n\r\n    class Book {\r\n        static belongsTo = [author: Author]\r\n        static mapping = {\r\n            author lazy: false\r\n        }\r\n    }\r\n\r\nFind further information [here][1]\r\n\r\n\r\n  [1]: http://docs.grails.org/3.1.1/ref/Database%20Mapping/lazy.html","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>If you are using <code>Grail's</code> Framework, it's simple to resolve <em>lazy initialization exception</em> by using <code>Lazy</code> keyword on specific field in Domain Class.</p>\n\n<p>For-example: </p>\n\n<pre><code>class Book {\n    static belongsTo = [author: Author]\n    static mapping = {\n        author lazy: false\n    }\n}\n</code></pre>\n\n<p>Find further information <a href=\"http://docs.grails.org/3.1.1/ref/Database%20Mapping/lazy.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1635591,"reputation":123,"user_id":1509191,"display_name":"xihui"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490306105,"creation_date":1490306105,"answer_id":42987719,"question_id":21574236,"body_markdown":"If you are using JPQL, use JOIN FETCH is the easiest way:\r\nhttp://www.objectdb.com/java/jpa/query/jpql/from#LEFT_OUTER_INNER_JOIN_FETCH_","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>If you are using JPQL, use JOIN FETCH is the easiest way:\n<a href=\"http://www.objectdb.com/java/jpa/query/jpql/from#LEFT_OUTER_INNER_JOIN_FETCH_\" rel=\"nofollow noreferrer\">http://www.objectdb.com/java/jpa/query/jpql/from#LEFT_OUTER_INNER_JOIN_FETCH_</a></p>\n"},{"comments":[{"owner":{"account_id":5912262,"reputation":502,"user_id":4652101,"accept_rate":80,"display_name":"astro8891"},"score":51,"creation_date":1528681164,"post_id":46319489,"comment_id":88585259,"body_markdown":"Yes it may fix it but now you are loading the whole tree of data. This will have negative performance impacts in most cases","body":"Yes it may fix it but now you are loading the whole tree of data. This will have negative performance impacts in most cases"},{"owner":{"account_id":17798480,"reputation":8291,"user_id":12925831,"display_name":"crispengari"},"score":1,"creation_date":1639868467,"post_id":46319489,"comment_id":124459342,"body_markdown":"solved my problem thank you so much","body":"solved my problem thank you so much"}],"tags":[],"owner":{"account_id":186658,"reputation":789,"user_id":3572263,"accept_rate":80,"display_name":"Smruti R Tripathy"},"comment_count":2,"down_vote_count":8,"up_vote_count":34,"is_accepted":false,"score":26,"last_activity_date":1512065882,"creation_date":1505902894,"answer_id":46319489,"question_id":21574236,"body_markdown":"I was getting the same error for a one to many relationships for below annotation. \r\n\r\n    @OneToMany(mappedBy=&quot;department&quot;, cascade = CascadeType.ALL)\r\n\r\nChanged as below after adding fetch=FetchType.EAGER, it worked for me.\r\n\r\n    @OneToMany(mappedBy=&quot;department&quot;, cascade = CascadeType.ALL, fetch=FetchType.EAGER)","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>I was getting the same error for a one to many relationships for below annotation. </p>\n\n<pre><code>@OneToMany(mappedBy=\"department\", cascade = CascadeType.ALL)\n</code></pre>\n\n<p>Changed as below after adding fetch=FetchType.EAGER, it worked for me.</p>\n\n<pre><code>@OneToMany(mappedBy=\"department\", cascade = CascadeType.ALL, fetch=FetchType.EAGER)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6329781,"reputation":1049,"user_id":4915001,"display_name":"rex roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524483371,"creation_date":1524483371,"answer_id":49980166,"question_id":21574236,"body_markdown":"This means that the object which you are trying to access is not loaded, so write a query that makes a **join fetch** of the object which you are trying to access. \r\n\r\nEg:\r\n\r\nIf you are trying to get ObjectB from ObjectA where ObjectB is a foreign key in ObjectA.\r\n\r\nQuery :\r\n\r\n    SELECT objA FROM ObjectA obj JOIN FETCH obj.objectB objB\r\n\r\n","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>This means that the object which you are trying to access is not loaded, so write a query that makes a <strong>join fetch</strong> of the object which you are trying to access. </p>\n\n<p>Eg:</p>\n\n<p>If you are trying to get ObjectB from ObjectA where ObjectB is a foreign key in ObjectA.</p>\n\n<p>Query :</p>\n\n<pre><code>SELECT objA FROM ObjectA obj JOIN FETCH obj.objectB objB\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":21,"creation_date":1535109089,"post_id":50882857,"comment_id":90955495,"body_markdown":"This is considered as an anti-pattern. https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","body":"This is considered as an anti-pattern. <a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1611060134,"post_id":50882857,"comment_id":116323186,"body_markdown":"If it&#39;s an antipattern, could you please suggest an alternative? I&#39;m also working with Spring Data and the other answers I&#39;ve looked at don&#39;t help me.","body":"If it&#39;s an antipattern, could you please suggest an alternative? I&#39;m also working with Spring Data and the other answers I&#39;ve looked at don&#39;t help me."},{"owner":{"account_id":11376988,"reputation":96,"user_id":8340977,"display_name":"Alex Escobar"},"score":1,"creation_date":1639002667,"post_id":50882857,"comment_id":124240537,"body_markdown":"Thanks this works for me.","body":"Thanks this works for me."},{"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"score":0,"creation_date":1678271294,"post_id":50882857,"comment_id":133499003,"body_markdown":"It is working fine, But I don&#39;t know what is the error, and why is it happening.","body":"It is working fine, But I don&#39;t know what is the error, and why is it happening."}],"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"comment_count":4,"down_vote_count":4,"up_vote_count":32,"is_accepted":false,"score":28,"last_activity_date":1529097894,"creation_date":1529097894,"answer_id":50882857,"question_id":21574236,"body_markdown":"if you use spring data jpa , spring boot you can add this line in application.properties\r\n\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>if you use spring data jpa , spring boot you can add this line in application.properties</p>\n\n<pre><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6152068,"reputation":3072,"user_id":4796214,"display_name":"marcel"},"score":0,"creation_date":1661940435,"post_id":53005977,"comment_id":129889557,"body_markdown":"Thank you! I had the problem on one method, while on other similar methods it worked just fine. Thanks to you, I figured out that I simply forget to make it transactional, what fixed it for me. +1","body":"Thank you! I had the problem on one method, while on other similar methods it worked just fine. Thanks to you, I figured out that I simply forget to make it transactional, what fixed it for me. +1"}],"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585627525,"creation_date":1540547251,"answer_id":53005977,"question_id":21574236,"body_markdown":"This means you are using JPA or hibernate in your code and performing modifying operation on DB without making the business logic transaction.\r\nSo simple solution for this is mark your piece of code @Transactional\r\n ","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>This means you are using JPA or hibernate in your code and performing modifying operation on DB without making the business logic transaction.\nSo simple solution for this is mark your piece of code @Transactional</p>\n"},{"tags":[],"owner":{"account_id":9512217,"reputation":1116,"user_id":7069816,"accept_rate":75,"display_name":"absin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540908254,"creation_date":1540908254,"answer_id":53066107,"question_id":21574236,"body_markdown":"In my case a misplaced `session.clear()` was causing this problem. ","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>In my case a misplaced <code>session.clear()</code> was causing this problem. </p>\n"},{"tags":[],"owner":{"account_id":4506248,"reputation":1109,"user_id":3663495,"display_name":"Kms"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563131916,"creation_date":1563131916,"answer_id":57030407,"question_id":21574236,"body_markdown":"**Faced the same Exception in different use case.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Use Case :** Try to read data from DB with **DTO projection.**\r\n\r\n**Solution:** Use **get** method instead of **load**.\r\n\r\n**Generic Operation**\r\n\r\n    public class HibernateTemplate {\r\n\tpublic static Object loadObject(Class&lt;?&gt; cls, Serializable s) {\r\n\t\tObject o = null;\r\n\t\tTransaction tx = null;\r\n\t\ttry {\r\n\t\t\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\t\t\ttx = session.beginTransaction();\r\n\t\t\to = session.load(cls, s); /*change load to get*/\r\n\t\t\ttx.commit();\r\n\t\t\tsession.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn o;\r\n\t}\r\n}\r\n\r\n**Persistence Class**\r\n\r\n    public class Customer {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;Id&quot;)\r\n\tprivate int customerId;\r\n\r\n\t@Column(name = &quot;Name&quot;)\r\n\tprivate String customerName;\r\n\r\n\t@Column(name = &quot;City&quot;)\r\n\tprivate String city;\r\n\r\n\t//constructors , setters and getters\r\n\t\r\n\t}\r\n\r\n\r\n**CustomerDAO interface**\r\n\r\n    public interface CustomerDAO \r\n         {\r\n\t   public CustomerTO getCustomerById(int cid);\r\n         }\r\n\r\n**Entity Transfer Object Class**\r\n\r\n    public class CustomerTO {\r\n\r\n\tprivate int customerId;\r\n\r\n\tprivate String customerName;\r\n\r\n\tprivate String city;\r\n\r\n    //constructors , setters and getters\r\n}\r\n\r\n**Factory Class**\r\n\r\n    public class DAOFactory {\r\n\r\n\tstatic CustomerDAO customerDAO;\r\n\tstatic {\r\n\t\tcustomerDAO = new HibernateCustomerDAO();\r\n\t}\r\n\r\n\tpublic static CustomerDAO getCustomerDAO() {\r\n\t\treturn customerDAO;\r\n\t}\r\n}\r\n\r\n**Entity specific DAO**\r\n\r\n    public class HibernateCustomerDAO implements CustomerDAO {\r\n\r\n\t@Override\r\n\tpublic CustomerTO getCustomerById(int cid) {\r\n\t\tCustomer cust = (Customer) HibernateTemplate.loadObject(Customer.class, cid);\r\n\t\tCustomerTO cto = new CustomerTO(cust.getCustomerId(), cust.getCustomerName(), cust.getCity());\r\n\t\treturn cto;\r\n\t}\r\n}\r\n\r\n**Retrieving data: Test Class**\r\n\r\n\tCustomerDAO cdao = DAOFactory.getCustomerDAO();\r\n\tCustomerTO c1 = cdao.getCustomerById(2);\r\n\tSystem.out.println(&quot;CustomerName -&gt; &quot; + c1.getCustomerName() + &quot; ,CustomerCity -&gt; &quot; + c1.getCity());\r\n\r\n**Present Data**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Query and output generated by Hibernate System**\r\n\r\nHibernate: select customer0_.Id as Id1_0_0_, customer0_.City as City2_0_0_, customer0_.Name as Name3_0_0_ from CustomerLab31 customer0_ where customer0_.Id=?\r\n\r\nCustomerName -&gt; Cody ,CustomerCity -&gt; LA\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NuOKs.png\r\n  [2]: https://i.stack.imgur.com/1afXX.png","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p><strong>Faced the same Exception in different use case.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/NuOKs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NuOKs.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Use Case :</strong> Try to read data from DB with <strong>DTO projection.</strong></p>\n\n<p><strong>Solution:</strong> Use <strong>get</strong> method instead of <strong>load</strong>.</p>\n\n<p><strong>Generic Operation</strong></p>\n\n<pre><code>public class HibernateTemplate {\npublic static Object loadObject(Class&lt;?&gt; cls, Serializable s) {\n    Object o = null;\n    Transaction tx = null;\n    try {\n        Session session = HibernateUtil.getSessionFactory().openSession();\n        tx = session.beginTransaction();\n        o = session.load(cls, s); /*change load to get*/\n        tx.commit();\n        session.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return o;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Persistence Class</strong></p>\n\n<pre><code>public class Customer {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"Id\")\nprivate int customerId;\n\n@Column(name = \"Name\")\nprivate String customerName;\n\n@Column(name = \"City\")\nprivate String city;\n\n//constructors , setters and getters\n\n}\n</code></pre>\n\n<p><strong>CustomerDAO interface</strong></p>\n\n<pre><code>public interface CustomerDAO \n     {\n   public CustomerTO getCustomerById(int cid);\n     }\n</code></pre>\n\n<p><strong>Entity Transfer Object Class</strong></p>\n\n<pre><code>public class CustomerTO {\n\nprivate int customerId;\n\nprivate String customerName;\n\nprivate String city;\n\n//constructors , setters and getters\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Factory Class</strong></p>\n\n<pre><code>public class DAOFactory {\n\nstatic CustomerDAO customerDAO;\nstatic {\n    customerDAO = new HibernateCustomerDAO();\n}\n\npublic static CustomerDAO getCustomerDAO() {\n    return customerDAO;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Entity specific DAO</strong></p>\n\n<pre><code>public class HibernateCustomerDAO implements CustomerDAO {\n\n@Override\npublic CustomerTO getCustomerById(int cid) {\n    Customer cust = (Customer) HibernateTemplate.loadObject(Customer.class, cid);\n    CustomerTO cto = new CustomerTO(cust.getCustomerId(), cust.getCustomerName(), cust.getCity());\n    return cto;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Retrieving data: Test Class</strong></p>\n\n<pre><code>CustomerDAO cdao = DAOFactory.getCustomerDAO();\nCustomerTO c1 = cdao.getCustomerById(2);\nSystem.out.println(\"CustomerName -&gt; \" + c1.getCustomerName() + \" ,CustomerCity -&gt; \" + c1.getCity());\n</code></pre>\n\n<p><strong>Present Data</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1afXX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1afXX.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Query and output generated by Hibernate System</strong></p>\n\n<p>Hibernate: select customer0_.Id as Id1_0_0_, customer0_.City as City2_0_0_, customer0_.Name as Name3_0_0_ from CustomerLab31 customer0_ where customer0_.Id=?</p>\n\n<p>CustomerName -> Cody ,CustomerCity -> LA</p>\n"},{"tags":[],"owner":{"account_id":1142508,"reputation":131,"user_id":1126011,"display_name":"Nightfa11"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605314261,"creation_date":1605314261,"answer_id":64829771,"question_id":21574236,"body_markdown":"This happened to me when I was already using `@Transactional(value=...)` and was using multiple transaction managers.\r\n\r\nMy forms were sending back data that already had `@JsonIgnore` on them, so the data being sent back from forms was incomplete.\r\n\r\nOriginally I used the anti pattern solution, but found it was incredibly slow. I disabled this by setting it to false. \r\n```\r\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=false\r\n```\r\n\r\nThe fix was to ensure that any objects that had lazy-loaded data that weren&#39;t loading were retrieved from the database first.\r\n\r\n```\r\nOptional&lt;Object&gt; objectDBOpt = objectRepository.findById(object.getId());\r\n\r\nif (objectDBOpt.isEmpty()) {\r\n    // Throw error\r\n} else {\r\n    Object objectFromDB = objectDBOpt.get();\r\n}\r\n```\r\nIn short, if you&#39;ve tried all of the other answers, just make sure you look back to check you&#39;re loading from the database first if you haven&#39;t provided all the `@JsonIgnore` properties and are using them in your database query.","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>This happened to me when I was already using <code>@Transactional(value=...)</code> and was using multiple transaction managers.</p>\n<p>My forms were sending back data that already had <code>@JsonIgnore</code> on them, so the data being sent back from forms was incomplete.</p>\n<p>Originally I used the anti pattern solution, but found it was incredibly slow. I disabled this by setting it to false.</p>\n<pre><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false\n</code></pre>\n<p>The fix was to ensure that any objects that had lazy-loaded data that weren't loading were retrieved from the database first.</p>\n<pre><code>Optional&lt;Object&gt; objectDBOpt = objectRepository.findById(object.getId());\n\nif (objectDBOpt.isEmpty()) {\n    // Throw error\n} else {\n    Object objectFromDB = objectDBOpt.get();\n}\n</code></pre>\n<p>In short, if you've tried all of the other answers, just make sure you look back to check you're loading from the database first if you haven't provided all the <code>@JsonIgnore</code> properties and are using them in your database query.</p>\n"},{"tags":[],"owner":{"account_id":11312373,"reputation":271,"user_id":8295173,"display_name":"Mehdi Varse"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623676285,"creation_date":1623676285,"answer_id":67970860,"question_id":21574236,"body_markdown":"In Spring Application Just Add\r\n\r\n    @Transactional(readOnly = true)\r\n\r\non your Function.\r\n\r\n&gt; Remind that import spring Transactional annotation\r\n&gt; \r\n&gt;  import org.springframework.transaction.annotation.Transactional;\r\n\r\n","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>In Spring Application Just Add</p>\n<pre><code>@Transactional(readOnly = true)\n</code></pre>\n<p>on your Function.</p>\n<blockquote>\n<p>Remind that import spring Transactional annotation</p>\n<p>import org.springframework.transaction.annotation.Transactional;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634533521,"creation_date":1634533521,"answer_id":69611021,"question_id":21574236,"body_markdown":"Use **@NamedEntityGraph**. Eagar fetch will deteriorate the performance. Refer https://thorben-janssen.com/lazyinitializationexception/ for in-depth explanation.","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>Use <strong>@NamedEntityGraph</strong>. Eagar fetch will deteriorate the performance. Refer <a href=\"https://thorben-janssen.com/lazyinitializationexception/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/lazyinitializationexception/</a> for in-depth explanation.</p>\n"},{"tags":[],"owner":{"account_id":18125741,"reputation":119,"user_id":13181284,"display_name":"Fabio Sartor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645085260,"creation_date":1645032899,"answer_id":71146636,"question_id":21574236,"body_markdown":"All answers about adding JOIN FETCH (or left join fetch) are correct, I want only to add this: \r\nif you have converter be sure the getAsObject sub uses a &quot;find&quot; than includes in the sql the Join Fetch too.\r\nI lost much time to fix a similar problem, and the problem was in the converter.\r\n","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>All answers about adding JOIN FETCH (or left join fetch) are correct, I want only to add this:\nif you have converter be sure the getAsObject sub uses a &quot;find&quot; than includes in the sql the Join Fetch too.\nI lost much time to fix a similar problem, and the problem was in the converter.</p>\n"},{"tags":[],"owner":{"account_id":12514032,"reputation":614,"user_id":9108026,"display_name":"AissaDevLab"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650978837,"creation_date":1650978837,"answer_id":72014614,"question_id":21574236,"body_markdown":"- springBootVersion = &#39;2.6.7&#39;\r\n- hibernate = 5.6.8.Final&#39;\r\n\r\nFor me i get the error in: \r\n\r\n    MyEntity myEntity = myEntityRepository.getById(id);\r\n\r\nI change to this: \r\n\r\n    MyEntity myEntity = myEntityRepository.findById(id).orElse(null);\r\n\r\nand i add `@ManyToOne(fetch = FetchType.EAGER)` in entity","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<ul>\n<li>springBootVersion = '2.6.7'</li>\n<li>hibernate = 5.6.8.Final'</li>\n</ul>\n<p>For me i get the error in:</p>\n<pre><code>MyEntity myEntity = myEntityRepository.getById(id);\n</code></pre>\n<p>I change to this:</p>\n<pre><code>MyEntity myEntity = myEntityRepository.findById(id).orElse(null);\n</code></pre>\n<p>and i add <code>@ManyToOne(fetch = FetchType.EAGER)</code> in entity</p>\n"},{"tags":[],"owner":{"account_id":20453332,"reputation":305,"user_id":15007593,"display_name":"Fotis Kolytoumpas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659429611,"creation_date":1659429611,"answer_id":73204456,"question_id":21574236,"body_markdown":"I was getting this error in my JAX-RS application when I was trying to get all the Departments. I had to add the `@JsonbTransient` Annotation to the attributes of both classes. My entities are Department and Employee, and the DB relationship is Many to Many.\r\n\r\nEmployee.java\r\n\r\n    ...\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;emp_dept&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;emp_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;dept_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    @JsonbTransient\r\n    private Set&lt;Department&gt; departments = new HashSet&lt;Department&gt;();\r\n    ...\r\n\r\nDepartment.java\r\n\r\n    ...\r\n    @ManyToMany(mappedBy = &quot;departments&quot;)\r\n    @JsonbTransient\r\n    private Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\r\n    ...","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>I was getting this error in my JAX-RS application when I was trying to get all the Departments. I had to add the <code>@JsonbTransient</code> Annotation to the attributes of both classes. My entities are Department and Employee, and the DB relationship is Many to Many.</p>\n<p>Employee.java</p>\n<pre><code>...\n@ManyToMany\n@JoinTable(\n        name = &quot;emp_dept&quot;,\n        joinColumns = {@JoinColumn(name = &quot;emp_id&quot;, referencedColumnName = &quot;id&quot;)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;dept_id&quot;, referencedColumnName = &quot;id&quot;)}\n)\n@JsonbTransient\nprivate Set&lt;Department&gt; departments = new HashSet&lt;Department&gt;();\n...\n</code></pre>\n<p>Department.java</p>\n<pre><code>...\n@ManyToMany(mappedBy = &quot;departments&quot;)\n@JsonbTransient\nprivate Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824191,"reputation":5574,"user_id":1657465,"display_name":"luiscla27"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697816236,"creation_date":1697739923,"answer_id":77326239,"question_id":21574236,"body_markdown":"##### TLDR: Always serialize [DTO&#39;s][1], avoid returning entities.\r\n\r\n---\r\nThe reason for the issue is that when retrieving lazily-loaded data, first step is populate the main object, and second to retrieve the data within its proxies. For this, an open Session in Hibernate is needed.\r\n \r\nThe problem arises when the second step happens after the transaction has closed, which leads to a `LazyInitializationException`.\r\n\r\nI&#39;m going to summarize some solutions here while adding mine:\r\n```\r\n1. Avoid entity serialization, **instead serialize a dto**\r\n2. Add `@JsonIgnore` to your `LAZY` attributes\r\n3. Change `FetchType` to `EAGER`\r\n4. Set `hibernate.enable_lazy_load_no_trans=true` \r\n```\r\n\r\nOnly points 1 and 2 are recommended, the other 2 aren&#39;t meant to be used at serialization phase. As they have a HUGE performance cost there, they both make a hit to the database to retrieve extra data. **Option 4, actually creates a new transaction for every lazy object so please [AVOID!][2]**.\r\n\r\n\r\n\r\nMy grain of sand in this question is to highly recommend to explicitly use ONLY options 1 and 2, and also `FetchType.EAGER` only for business logic, not as a solution for this issue.\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/not-so-obvious-tips-to-write-better-dtos-in-java-c6116895b180\r\n  [2]: https://www.baeldung.com/hibernate-lazy-loading-workaround#4-lazy-loading-with-automatic-transaction","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<h5>TLDR: Always serialize <a href=\"https://medium.com/javarevisited/not-so-obvious-tips-to-write-better-dtos-in-java-c6116895b180\" rel=\"nofollow noreferrer\">DTO's</a>, avoid returning entities.</h5>\n<hr />\n<p>The reason for the issue is that when retrieving lazily-loaded data, first step is populate the main object, and second to retrieve the data within its proxies. For this, an open Session in Hibernate is needed.</p>\n<p>The problem arises when the second step happens after the transaction has closed, which leads to a <code>LazyInitializationException</code>.</p>\n<p>I'm going to summarize some solutions here while adding mine:</p>\n<pre><code>1. Avoid entity serialization, **instead serialize a dto**\n2. Add `@JsonIgnore` to your `LAZY` attributes\n3. Change `FetchType` to `EAGER`\n4. Set `hibernate.enable_lazy_load_no_trans=true` \n</code></pre>\n<p>Only points 1 and 2 are recommended, the other 2 aren't meant to be used at serialization phase. As they have a HUGE performance cost there, they both make a hit to the database to retrieve extra data. <strong>Option 4, actually creates a new transaction for every lazy object so please <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround#4-lazy-loading-with-automatic-transaction\" rel=\"nofollow noreferrer\">AVOID!</a></strong>.</p>\n<p>My grain of sand in this question is to highly recommend to explicitly use ONLY options 1 and 2, and also <code>FetchType.EAGER</code> only for business logic, not as a solution for this issue.</p>\n"}],"owner":{"account_id":3736418,"reputation":3303,"user_id":3107262,"accept_rate":55,"display_name":"Blerta Dhimitri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678985,"favorite_count":0,"down_vote_count":0,"up_vote_count":284,"accepted_answer_id":21575368,"answer_count":25,"score":284,"last_activity_date":1697816236,"creation_date":1391595141,"question_id":21574236,"body_markdown":"I get the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:167)\r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:215)\r\n    \tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:190)\r\n    \tat sei.persistence.wf.entities.Element_$$_jvstc68_47.getNote(Element_$$_jvstc68_47.java)\r\n    \tat JSON_to_XML.createBpmnRepresantation(JSON_to_XML.java:139)\r\n    \tat JSON_to_XML.main(JSON_to_XML.java:84)\r\n\r\nwhen I try to call from main the following lines:\r\n\r\n```java\r\nModel subProcessModel = getModelByModelGroup(1112);\r\nSystem.out.println(subProcessModel.getElement().getNote());\r\n```\r\n\r\nI implemented the `getModelByModelGroup(int modelgroupid)` method firstly like this :\r\n\r\n```java\r\npublic static Model getModelByModelGroup(int modelGroupId, boolean openTransaction) {\r\n      \t\t\r\n    Session session = SessionFactoryHelper.getSessionFactory().getCurrentSession();\t\t\r\n    Transaction tx = null;\r\n      \t\t\r\n    if (openTransaction) {\r\n        tx = session.getTransaction();\r\n    }\r\n\r\n    String responseMessage = &quot;&quot;;\r\n      \t\t\r\n \ttry {\r\n        if (openTransaction) {\r\n      \t    tx.begin();\r\n        }\r\n      \tQuery query = session.createQuery(&quot;from Model where modelGroup.id = :modelGroupId&quot;);\r\n      \tquery.setParameter(&quot;modelGroupId&quot;, modelGroupId);\r\n      \t\r\n    \tList&lt;Model&gt; modelList = (List&lt;Model&gt;)query.list(); \r\n      \tModel model = null;\r\n      \t\r\n        for (Model m : modelList) {\r\n      \t    if (m.getModelType().getId() == 3) {\r\n      \t\t    model = m;\r\n      \t\t\tbreak;\r\n      \t\t}\r\n        }\r\n      \t\t\t\r\n      \tif (model == null) {\r\n      \t    Object[] arrModels = modelList.toArray();\r\n      \t\tif (arrModels.length == 0) {\r\n      \t\t    throw new Exception(&quot;Non esiste &quot;);\r\n            }\r\n      \t\t\t\t\r\n      \t\tmodel = (Model)arrModels[0];\r\n      \t}\r\n      \t\t\t\r\n      \tif (openTransaction) {\r\n            tx.commit();\r\n        }\r\n      \t\r\n        return model;\r\n      \t\t\t\r\n   } catch(Exception ex) {\r\n       if (openTransaction) {\r\n           tx.rollback();\r\n       }\r\n       ex.printStackTrace();\r\n       if (responseMessage.compareTo(&quot;&quot;) == 0) {\r\n           responseMessage = &quot;Error&quot; + ex.getMessage();\r\n       }\r\n       return null;\r\n    }\r\n}\r\n```\r\n\r\nand got the exception. Then a friend suggested me to always test the session and get the current session to avoid this error. So I did this:\r\n\r\n```java\r\npublic static Model getModelByModelGroup(int modelGroupId) {\r\n    Session session = null;\r\n    boolean openSession = session == null;\r\n    Transaction tx = null;\r\n    if (openSession) {\r\n        session = SessionFactoryHelper.getSessionFactory().getCurrentSession();\t\r\n      \ttx = session.getTransaction();\r\n    }\r\n    String responseMessage = &quot;&quot;;\r\n    \t\t\r\n    try {\r\n        if (openSession) {\r\n      \t    tx.begin();\r\n        }\r\n\t\tQuery query = session.createQuery(&quot;from Model where modelGroup.id = :modelGroupId&quot;);\r\n      \tquery.setParameter(&quot;modelGroupId&quot;, modelGroupId);\r\n      \t\r\n    \tList&lt;Model&gt; modelList = (List&lt;Model&gt;)query.list(); \r\n      \tModel model = null;\r\n      \t\r\n        for (Model m : modelList) {\r\n      \t    if (m.getModelType().getId() == 3) {\r\n      \t\t    model = m;\r\n      \t\t\tbreak;\r\n      \t\t}\r\n        }\r\n      \t\t\t\r\n      \tif (model == null) {\r\n      \t    Object[] arrModels = modelList.toArray();\r\n      \t\tif (arrModels.length == 0) {\r\n      \t\t    throw new RuntimeException(&quot;Non esiste&quot;);\r\n            }\r\n      \t\t\t\t\r\n      \t\tmodel = (Model)arrModels[0];\r\n      \t\t\t\r\n      \t\tif (openSession) {\r\n      \t\t    tx.commit();\r\n            }\r\n      \t\treturn model;\r\n      \t} catch(RuntimeException ex) {\r\n      \t    if (openSession) {\r\n  \t\t\t    tx.rollback();\r\n            }\r\n      \t\tex.printStackTrace();\r\n      \t\tif (responseMessage.compareTo(&quot;&quot;) == 0) {\r\n      \t\t    responseMessage = &quot;Error&quot; + ex.getMessage();\r\n            }\r\n      \t\treturn null;\t\t\r\n      \t}\r\n    }\r\n}\r\n```\r\n\r\nbut still, get the same error. \r\nI have been reading a lot for this error and found some possible solutions. One of them was to set lazyLoad to false but I am not allowed to do this that&#39;s why I was suggested to control the session","title":"How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session","body":"<p>I get the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.hibernate.LazyInitializationException: could not initialize proxy - no Session\n    at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:167)\n    at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:215)\n    at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:190)\n    at sei.persistence.wf.entities.Element_$$_jvstc68_47.getNote(Element_$$_jvstc68_47.java)\n    at JSON_to_XML.createBpmnRepresantation(JSON_to_XML.java:139)\n    at JSON_to_XML.main(JSON_to_XML.java:84)\n</code></pre>\n\n<p>when I try to call from main the following lines:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Model subProcessModel = getModelByModelGroup(1112);\nSystem.out.println(subProcessModel.getElement().getNote());\n</code></pre>\n\n<p>I implemented the <code>getModelByModelGroup(int modelgroupid)</code> method firstly like this :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Model getModelByModelGroup(int modelGroupId, boolean openTransaction) {\n\n    Session session = SessionFactoryHelper.getSessionFactory().getCurrentSession();     \n    Transaction tx = null;\n\n    if (openTransaction) {\n        tx = session.getTransaction();\n    }\n\n    String responseMessage = \"\";\n\n    try {\n        if (openTransaction) {\n            tx.begin();\n        }\n        Query query = session.createQuery(\"from Model where modelGroup.id = :modelGroupId\");\n        query.setParameter(\"modelGroupId\", modelGroupId);\n\n        List&lt;Model&gt; modelList = (List&lt;Model&gt;)query.list(); \n        Model model = null;\n\n        for (Model m : modelList) {\n            if (m.getModelType().getId() == 3) {\n                model = m;\n                break;\n            }\n        }\n\n        if (model == null) {\n            Object[] arrModels = modelList.toArray();\n            if (arrModels.length == 0) {\n                throw new Exception(\"Non esiste \");\n            }\n\n            model = (Model)arrModels[0];\n        }\n\n        if (openTransaction) {\n            tx.commit();\n        }\n\n        return model;\n\n   } catch(Exception ex) {\n       if (openTransaction) {\n           tx.rollback();\n       }\n       ex.printStackTrace();\n       if (responseMessage.compareTo(\"\") == 0) {\n           responseMessage = \"Error\" + ex.getMessage();\n       }\n       return null;\n    }\n}\n</code></pre>\n\n<p>and got the exception. Then a friend suggested me to always test the session and get the current session to avoid this error. So I did this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Model getModelByModelGroup(int modelGroupId) {\n    Session session = null;\n    boolean openSession = session == null;\n    Transaction tx = null;\n    if (openSession) {\n        session = SessionFactoryHelper.getSessionFactory().getCurrentSession(); \n        tx = session.getTransaction();\n    }\n    String responseMessage = \"\";\n\n    try {\n        if (openSession) {\n            tx.begin();\n        }\n        Query query = session.createQuery(\"from Model where modelGroup.id = :modelGroupId\");\n        query.setParameter(\"modelGroupId\", modelGroupId);\n\n        List&lt;Model&gt; modelList = (List&lt;Model&gt;)query.list(); \n        Model model = null;\n\n        for (Model m : modelList) {\n            if (m.getModelType().getId() == 3) {\n                model = m;\n                break;\n            }\n        }\n\n        if (model == null) {\n            Object[] arrModels = modelList.toArray();\n            if (arrModels.length == 0) {\n                throw new RuntimeException(\"Non esiste\");\n            }\n\n            model = (Model)arrModels[0];\n\n            if (openSession) {\n                tx.commit();\n            }\n            return model;\n        } catch(RuntimeException ex) {\n            if (openSession) {\n                tx.rollback();\n            }\n            ex.printStackTrace();\n            if (responseMessage.compareTo(\"\") == 0) {\n                responseMessage = \"Error\" + ex.getMessage();\n            }\n            return null;        \n        }\n    }\n}\n</code></pre>\n\n<p>but still, get the same error. \nI have been reading a lot for this error and found some possible solutions. One of them was to set lazyLoad to false but I am not allowed to do this that's why I was suggested to control the session</p>\n"},{"tags":["java","jquery","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697816185,"creation_date":1697816185,"answer_id":77332193,"question_id":77331172,"body_markdown":"Depends on security is configured. If you put the .ttf in src/main/resources/static you will be able to access the file directly without going through a controller. This assumes no security or security configured as \r\n\r\n    http.authorizeHttpRequests()\r\n          .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n\r\nThese static locations include /static/css, /static/js, /static/img, and a few others. If you want to put your .ttf file somewhere other than in the &#39;common locations&#39; you will have to add your own matcher to allow access to this /static location and permitAll().\r\n\r\n","title":"Spring Boot - load a file in JS code without triggering a controller","body":"<p>Depends on security is configured. If you put the .ttf in src/main/resources/static you will be able to access the file directly without going through a controller. This assumes no security or security configured as</p>\n<pre><code>http.authorizeHttpRequests()\n      .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n</code></pre>\n<p>These static locations include /static/css, /static/js, /static/img, and a few others. If you want to put your .ttf file somewhere other than in the 'common locations' you will have to add your own matcher to allow access to this /static location and permitAll().</p>\n"}],"owner":{"account_id":2487587,"reputation":4296,"user_id":2165744,"accept_rate":29,"display_name":"jarosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697816185,"creation_date":1697807388,"question_id":77331172,"body_markdown":"I have a Spring Boot project with plain JavaScript and jQuery.\r\nFor one of the JS plugins, I must load a .ttf font without triggering a controller.\r\nJS code should just read a file from project folder.\r\nIs this possible?","title":"Spring Boot - load a file in JS code without triggering a controller","body":"<p>I have a Spring Boot project with plain JavaScript and jQuery.\nFor one of the JS plugins, I must load a .ttf font without triggering a controller.\nJS code should just read a file from project folder.\nIs this possible?</p>\n"},{"tags":["java","spring-boot","caching","in-memory","chronicle-map"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696458877,"post_id":77233120,"comment_id":136157385,"body_markdown":"_&quot;can&#39;t seem to seiralize/deserialize &quot;_ - What does this mean? Provide error messages/stack trace.","body":"<i>&quot;can&#39;t seem to seiralize/deserialize &quot;</i> - What does this mean? Provide error messages/stack trace."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696458941,"post_id":77233120,"comment_id":136157393,"body_markdown":"`Net o = (NetKey) object` class `Net` doesn&#39;t seem to appear in the class hierarchy of `NetKey`...?","body":"<code>Net o = (NetKey) object</code> class <code>Net</code> doesn&#39;t seem to appear in the class hierarchy of <code>NetKey</code>...?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696459000,"post_id":77233120,"comment_id":136157402,"body_markdown":"Trying to find the docs online... the ChronicleMap developer site hides the Javadoc behind a registration-wall.  Very contrary to OSS ethics.","body":"Trying to find the docs online... the ChronicleMap developer site hides the Javadoc behind a registration-wall.  Very contrary to OSS ethics."},{"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"score":0,"creation_date":1696493205,"post_id":77233120,"comment_id":136160640,"body_markdown":"@JimGarrison It was a typo, updated it to `NetKey o = (NetKey) object;`","body":"@JimGarrison It was a typo, updated it to <code>NetKey o = (NetKey) object;</code>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696551484,"post_id":77233120,"comment_id":136171307,"body_markdown":"The stack trace doesn&#39;t include any entries in your code.  Did you post the ***complete*** stack trace?  Also, StackOverflow in this case is strongly suggestive of a circular reference that isn&#39;t being handled correctly.  Does ChronicleMap handle circular references?  This is a question for Chronicle&#39;s support.","body":"The stack trace doesn&#39;t include any entries in your code.  Did you post the <b><i>complete</i></b> stack trace?  Also, StackOverflow in this case is strongly suggestive of a circular reference that isn&#39;t being handled correctly.  Does ChronicleMap handle circular references?  This is a question for Chronicle&#39;s support."}],"answers":[{"tags":[],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697816159,"creation_date":1697816159,"answer_id":77332190,"question_id":77233120,"body_markdown":"I was able to solve this by changing my key &amp; value to Class and using custom serializers.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@SuperBuilder\r\nclass NetKey extends CacheKey {\r\n    private String productType;\r\n    private String dealDate;\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        if (this == object) return true;\r\n        if (object == null || getClass() != object.getClass()) return false;\r\n\r\n        NetKey nk = (NetKey) object;\r\n        return super.equals(object) &amp;&amp;\r\n                (isEmpty(this.productType) || Objects.equals(this.productType, nk.productType)) &amp;&amp;\r\n                Objects.equals(this.dealDate, nk.dealDate);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(super.hashCode(), productType, dealDate);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;NetKey{&quot; +\r\n                super.toString() +\r\n                &quot;, productType=&#39;&quot; + productType + &#39;\\&#39;&#39; +\r\n                &quot;, dealDate=&#39;&quot; + dealDate + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\nclass CacheKey {\r\n    private String cacheType;\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        if (this == object) return true;\r\n        if (object == null || getClass() != object.getClass()) return false;\r\n\r\n        CacheKey na = (CacheKey) object;\r\n        return Objects.equals(this.cacheType, na.cacheType);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(cacheType);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CacheKey{&quot; +\r\n                &quot;cacheType=&#39;&quot; + cacheType + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\nclass NetValue extends CacheValue {\r\n    private String entity;\r\n    private String group;\r\n    private String service;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        NetValue that = (NetValue) o;\r\n        return super.equals(o) &amp;&amp;\r\n                Objects.equals(entity, that.entity) &amp;&amp;\r\n                Objects.equals(group, that.group) &amp;&amp;\r\n                Objects.equals(service, this.service);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(entity, group, service);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;NetValue{&quot; +\r\n                &quot;entity=&#39;&quot; + entity + &#39;\\&#39;&#39; +\r\n                &quot;, group=&#39;&quot; + group + &#39;\\&#39;&#39; +\r\n                &quot;, service=&quot; + service +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\nclass CacheValue {\r\n    private String cacheType;\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        if (this == object) return true;\r\n        if (object == null || getClass() != object.getClass()) return false;\r\n\r\n        CacheValue na = (CacheValue) object;\r\n        return Objects.equals(this.cacheType, na.cacheType);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(cacheType);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CacheValue{&quot; +\r\n                &quot;cacheType=&#39;&quot; + cacheType + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\nclass CacheKeyMarshaller implements BytesReader&lt;CacheKey&gt;, BytesWriter&lt;CacheKey&gt; {\r\n\r\n    public static CacheKeyMarshaller INSTANCE = new CacheKeyMarshaller();\r\n\r\n    private CacheKeyMarshaller() {\r\n    }\r\n\r\n    @Override\r\n    public CacheKey read(Bytes in, CacheKey using) throws IllegalStateException {\r\n        String cacheType = in.readUtf8();\r\n\r\n        CacheType cache = CacheType.valueOf(cacheType);\r\n        if (cache == CacheType.NETTING) {\r\n            return readNetKey(in, using, cacheType);\r\n        } else {\r\n            using = readCacheKey(in, using, cacheType);\r\n        }\r\n\r\n        return using;\r\n    }\r\n\r\n    @Override\r\n    public void write(Bytes out, CacheKey toWrite) {\r\n        CacheType cache = CacheType.valueOf(toWrite.getCacheType());\r\n        if (cache == CacheType.NETTING) {\r\n            writeNetKey(out, (NetKey) toWrite);\r\n        } else {\r\n            writeCacheKey(out, toWrite);\r\n        }\r\n    }\r\n\r\n    private CacheKey readCacheKey(Bytes in, CacheKey using, String cacheType) {\r\n        if (using == null) {\r\n            using = CacheKey.builder().cacheType(cacheType).build();\r\n        } else {\r\n            using.setCacheType(cacheType);\r\n        }\r\n        return using;\r\n\r\n    }\r\n\r\n    private NetKey readNetKey(Bytes in, CacheKey using, String cacheType) {\r\n        String productType = in.readUtf8();\r\n        String dealDate = in.readUtf8();\r\n\r\n        NetKey value;\r\n        if (using == null) {\r\n            value = NetKey.builder().cacheType(cacheType)\r\n                    .productType(productType)\r\n                    .dealDate(dealDate)\r\n                    .build();\r\n        } else {\r\n            value = (NetKey) using;\r\n            value.setCacheType(cacheType);\r\n            value.setProductType(productType);\r\n            value.setDealDate(dealDate);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    private void writeCacheKey(Bytes out, CacheKey toWrite) {\r\n        out.writeUtf8(toWrite.getCacheType());\r\n    }\r\n\r\n    private void writeNetKey(Bytes out, NetKey toWrite) {\r\n        out.writeUtf8(toWrite.getCacheType());\r\n        out.writeUtf8(toWrite.getProductType());\r\n        out.writeUtf8(toWrite.getDealDate());\r\n    }\r\n\r\n}\r\n\r\nclass CacheValueMarshaller implements BytesReader&lt;CacheValue&gt;, BytesWriter&lt;CacheValue&gt; {\r\n\r\n    public static CacheValueMarshaller INSTANCE = new CacheValueMarshaller();\r\n\r\n    private CacheValueMarshaller() {\r\n    }\r\n\r\n    @Override\r\n    public void write(Bytes out, CacheValue toWrite) {\r\n        String cacheType = toWrite.getCacheType();\r\n\r\n        CacheType cache = CacheType.valueOf(cacheType);\r\n        if (cache == CacheType.NETTING) {\r\n            writeNetValue(out, (NetValue) toWrite, cacheType);\r\n        } else {\r\n            writeCacheValue(out, toWrite);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public CacheValue read(Bytes in, CacheValue using) {\r\n        String cacheType = in.readUtf8();\r\n\r\n        CacheType cache = CacheType.valueOf(cacheType);\r\n        if (cache == CacheType.NETTING) {\r\n            return readNetValue(in, (NetValue) using, cacheType);\r\n        } else {\r\n            return readValueBase(in, using, cacheType);\r\n        }\r\n    }\r\n\r\n    private NetValue readNetValue(Bytes in, NetValue using, String cacheType) {\r\n        if (using == null) {\r\n            using = NetValue.builder().cacheType(cacheType)\r\n                    .entity(in.readUtf8())\r\n                    .group(in.readUtf8())\r\n                    .service(in.readUtf8())\r\n                    .build();\r\n        } else {\r\n            using.setCacheType(cacheType);\r\n            using.setEntity(in.readUtf8());\r\n            using.setGroup(in.readUtf8());\r\n            using.setService(in.readUtf8());\r\n        }\r\n        return using;\r\n    }\r\n\r\n    private CacheValue readValueBase(Bytes in, CacheValue using, String cacheType) {\r\n        if (using == null) {\r\n            using = CacheValue.builder().cacheType(cacheType).build();\r\n        } else {\r\n            using.setCacheType(cacheType);\r\n        }\r\n        return using;\r\n    }\r\n\r\n    private void writeNetValue(Bytes out, NetValue toWrite, String cacheType) {\r\n        out.writeUtf8(cacheType);\r\n        out.writeUtf8(toWrite.getEntity());\r\n        out.writeUtf8(toWrite.getGroup());\r\n        out.writeUtf8(toWrite.getService());\r\n    }\r\n\r\n    private void writeCacheValue(Bytes out, CacheValue toWrite) {\r\n        out.writeUtf8(toWrite.getCacheType());\r\n    }\r\n\r\n}\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        ChronicleMap&lt;CacheKey, CacheValue&gt; map = null;\r\n        try {\r\n            NetKey key = NetKey.builder().cacheType(CacheType.NETTING.name())\r\n                    .productType(&quot;type&quot;)\r\n                    .dealDate(&quot;2023-04-23&quot;)\r\n                    .build();\r\n\r\n            NetValue value = NetValue.builder().cacheType(CacheType.NETTING.name())\r\n                    .entity(&quot;entity&quot;)\r\n                    .group(&quot;group&quot;)\r\n                    .service(&quot;service&quot;)\r\n                    .build();\r\n\r\n            map = ChronicleMap.of(CacheKey.class, CacheValue.class)\r\n                    .name(&quot;Sample-map&quot;)\r\n                    .entries(50)\r\n                    .averageKey(key)\r\n                    .averageValue(value)\r\n                    .keyMarshaller(CacheKeyMarshaller.INSTANCE)\r\n                    .valueMarshaller(CacheValueMarshaller.INSTANCE)\r\n                    .create();\r\n\r\n            map.put(key, value);\r\n            map.forEach((key1, value1) -&gt; System.out.println(key1 + &quot;-&gt;&quot; + value1));\r\n        } finally {\r\n            if (map != null) map.close();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"ChronicleMap Custom Key &amp; Value serialisers","body":"<p>I was able to solve this by changing my key &amp; value to Class and using custom serializers.</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\nclass NetKey extends CacheKey {\n    private String productType;\n    private String dealDate;\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n\n        NetKey nk = (NetKey) object;\n        return super.equals(object) &amp;&amp;\n                (isEmpty(this.productType) || Objects.equals(this.productType, nk.productType)) &amp;&amp;\n                Objects.equals(this.dealDate, nk.dealDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(super.hashCode(), productType, dealDate);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NetKey{&quot; +\n                super.toString() +\n                &quot;, productType='&quot; + productType + '\\'' +\n                &quot;, dealDate='&quot; + dealDate + '\\'' +\n                '}';\n    }\n\n}\n\n@Setter\n@Getter\n@SuperBuilder\nclass CacheKey {\n    private String cacheType;\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n\n        CacheKey na = (CacheKey) object;\n        return Objects.equals(this.cacheType, na.cacheType);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(cacheType);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CacheKey{&quot; +\n                &quot;cacheType='&quot; + cacheType + '\\'' +\n                '}';\n    }\n\n}\n\n@SuperBuilder\n@Getter\n@Setter\nclass NetValue extends CacheValue {\n    private String entity;\n    private String group;\n    private String service;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        NetValue that = (NetValue) o;\n        return super.equals(o) &amp;&amp;\n                Objects.equals(entity, that.entity) &amp;&amp;\n                Objects.equals(group, that.group) &amp;&amp;\n                Objects.equals(service, this.service);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(entity, group, service);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NetValue{&quot; +\n                &quot;entity='&quot; + entity + '\\'' +\n                &quot;, group='&quot; + group + '\\'' +\n                &quot;, service=&quot; + service +\n                '}';\n    }\n\n}\n\n@SuperBuilder\n@Getter\n@Setter\nclass CacheValue {\n    private String cacheType;\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n\n        CacheValue na = (CacheValue) object;\n        return Objects.equals(this.cacheType, na.cacheType);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(cacheType);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CacheValue{&quot; +\n                &quot;cacheType='&quot; + cacheType + '\\'' +\n                '}';\n    }\n\n}\n\nclass CacheKeyMarshaller implements BytesReader&lt;CacheKey&gt;, BytesWriter&lt;CacheKey&gt; {\n\n    public static CacheKeyMarshaller INSTANCE = new CacheKeyMarshaller();\n\n    private CacheKeyMarshaller() {\n    }\n\n    @Override\n    public CacheKey read(Bytes in, CacheKey using) throws IllegalStateException {\n        String cacheType = in.readUtf8();\n\n        CacheType cache = CacheType.valueOf(cacheType);\n        if (cache == CacheType.NETTING) {\n            return readNetKey(in, using, cacheType);\n        } else {\n            using = readCacheKey(in, using, cacheType);\n        }\n\n        return using;\n    }\n\n    @Override\n    public void write(Bytes out, CacheKey toWrite) {\n        CacheType cache = CacheType.valueOf(toWrite.getCacheType());\n        if (cache == CacheType.NETTING) {\n            writeNetKey(out, (NetKey) toWrite);\n        } else {\n            writeCacheKey(out, toWrite);\n        }\n    }\n\n    private CacheKey readCacheKey(Bytes in, CacheKey using, String cacheType) {\n        if (using == null) {\n            using = CacheKey.builder().cacheType(cacheType).build();\n        } else {\n            using.setCacheType(cacheType);\n        }\n        return using;\n\n    }\n\n    private NetKey readNetKey(Bytes in, CacheKey using, String cacheType) {\n        String productType = in.readUtf8();\n        String dealDate = in.readUtf8();\n\n        NetKey value;\n        if (using == null) {\n            value = NetKey.builder().cacheType(cacheType)\n                    .productType(productType)\n                    .dealDate(dealDate)\n                    .build();\n        } else {\n            value = (NetKey) using;\n            value.setCacheType(cacheType);\n            value.setProductType(productType);\n            value.setDealDate(dealDate);\n        }\n        return value;\n    }\n\n    private void writeCacheKey(Bytes out, CacheKey toWrite) {\n        out.writeUtf8(toWrite.getCacheType());\n    }\n\n    private void writeNetKey(Bytes out, NetKey toWrite) {\n        out.writeUtf8(toWrite.getCacheType());\n        out.writeUtf8(toWrite.getProductType());\n        out.writeUtf8(toWrite.getDealDate());\n    }\n\n}\n\nclass CacheValueMarshaller implements BytesReader&lt;CacheValue&gt;, BytesWriter&lt;CacheValue&gt; {\n\n    public static CacheValueMarshaller INSTANCE = new CacheValueMarshaller();\n\n    private CacheValueMarshaller() {\n    }\n\n    @Override\n    public void write(Bytes out, CacheValue toWrite) {\n        String cacheType = toWrite.getCacheType();\n\n        CacheType cache = CacheType.valueOf(cacheType);\n        if (cache == CacheType.NETTING) {\n            writeNetValue(out, (NetValue) toWrite, cacheType);\n        } else {\n            writeCacheValue(out, toWrite);\n        }\n    }\n\n    @Override\n    public CacheValue read(Bytes in, CacheValue using) {\n        String cacheType = in.readUtf8();\n\n        CacheType cache = CacheType.valueOf(cacheType);\n        if (cache == CacheType.NETTING) {\n            return readNetValue(in, (NetValue) using, cacheType);\n        } else {\n            return readValueBase(in, using, cacheType);\n        }\n    }\n\n    private NetValue readNetValue(Bytes in, NetValue using, String cacheType) {\n        if (using == null) {\n            using = NetValue.builder().cacheType(cacheType)\n                    .entity(in.readUtf8())\n                    .group(in.readUtf8())\n                    .service(in.readUtf8())\n                    .build();\n        } else {\n            using.setCacheType(cacheType);\n            using.setEntity(in.readUtf8());\n            using.setGroup(in.readUtf8());\n            using.setService(in.readUtf8());\n        }\n        return using;\n    }\n\n    private CacheValue readValueBase(Bytes in, CacheValue using, String cacheType) {\n        if (using == null) {\n            using = CacheValue.builder().cacheType(cacheType).build();\n        } else {\n            using.setCacheType(cacheType);\n        }\n        return using;\n    }\n\n    private void writeNetValue(Bytes out, NetValue toWrite, String cacheType) {\n        out.writeUtf8(cacheType);\n        out.writeUtf8(toWrite.getEntity());\n        out.writeUtf8(toWrite.getGroup());\n        out.writeUtf8(toWrite.getService());\n    }\n\n    private void writeCacheValue(Bytes out, CacheValue toWrite) {\n        out.writeUtf8(toWrite.getCacheType());\n    }\n\n}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        ChronicleMap&lt;CacheKey, CacheValue&gt; map = null;\n        try {\n            NetKey key = NetKey.builder().cacheType(CacheType.NETTING.name())\n                    .productType(&quot;type&quot;)\n                    .dealDate(&quot;2023-04-23&quot;)\n                    .build();\n\n            NetValue value = NetValue.builder().cacheType(CacheType.NETTING.name())\n                    .entity(&quot;entity&quot;)\n                    .group(&quot;group&quot;)\n                    .service(&quot;service&quot;)\n                    .build();\n\n            map = ChronicleMap.of(CacheKey.class, CacheValue.class)\n                    .name(&quot;Sample-map&quot;)\n                    .entries(50)\n                    .averageKey(key)\n                    .averageValue(value)\n                    .keyMarshaller(CacheKeyMarshaller.INSTANCE)\n                    .valueMarshaller(CacheValueMarshaller.INSTANCE)\n                    .create();\n\n            map.put(key, value);\n            map.forEach((key1, value1) -&gt; System.out.println(key1 + &quot;-&gt;&quot; + value1));\n        } finally {\n            if (map != null) map.close();\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2864880,"reputation":99,"user_id":2459396,"accept_rate":29,"display_name":"user2459396"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697816159,"creation_date":1696455287,"question_id":77233120,"body_markdown":"Hello ChronicleMap Users,\r\n\r\nI am trying to use ChronicleMap with custom Key and Value. The Key is composed of various inputs and Value is the result of a database lookup. I would like to store this in memory to speed up subsequent requests. However, I am struggling to decide on what should be the approach for Key &amp; Value serializers. Here are my Key and Value with the base Key being CacheKey and an implementation being NetKey; I have few different keys to be used. I have tried few options but can&#39;t seem to seiralize/deserialize my key/value.\r\n\r\n```\r\npublic interface CacheKey extends Serializable {\r\n    byte[] getKey();\r\n    void setKey(Object object);\r\n}\r\n\r\npublic interface CacheValue extends Serializable {\r\n    byte[] getValue();\r\n    void setValue(Object object);\r\n}\r\n\r\n@Builder\r\npublic class NetKey implements CacheKey {\r\n\r\n    private String name;\r\n    private String productType;\r\n    private String dealDate;\r\n    \r\n    @Override\r\n    public byte[] getKey() {\r\n        return Util.writeToByte(this);\r\n    }\r\n\r\n    @Override\r\n    public void setKey(Object object) {\r\n        if (object instanceof NetKey) {\r\n            NetKey o = (NetKey) object;\r\n            this.name = o.name;\r\n            this.productType = o.productType;\r\n            this.dealDate = o.dealDate;\r\n        }\r\n    }\r\n\r\n    //... override equals and hashCode\r\n}\r\n\r\n@Builder\r\npublic class NetValue implements CacheValue {\r\n\r\n    private String entity;\r\n    private String group;\r\n    private Service service;\r\n\r\n    @Override\r\n    public byte[] getValue() {\r\n        return Util.writeToByte(this);\r\n    }\r\n\r\n    @Override\r\n    public void setValue(Object object) {\r\n        if (object instanceof NetValue) {\r\n            NetValue o = (NetValue) object;\r\n            this.entity = o.entity;\r\n            this.group = o.group;\r\n            this.service = o.service;\r\n        }\r\n    }\r\n \r\n    // override equals and hashCode\r\n}\r\n\r\npublic class MyKeySerializer implements BytesReader&lt;CacheKey&gt;, BytesWriter&lt;CacheKey&gt; {\r\n\r\n    private static MyKeySerializer INSTANCE = new MyKeySerializer();\r\n\r\n    public static MyKeySerializer getInstance() { return INSTANCE; }\r\n\r\n    private MyKeySerializer() {}\r\n\r\n    @NotNull\r\n    @Override\r\n    public CacheKey read(Bytes in, @Nullable CacheKey using) {\r\n        if (using == null) {\r\n            using = new CacheKey() {\r\n                @Override\r\n                public CacheKey getKey() {\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public void setKey(CacheKey object) {\r\n\r\n                }\r\n            };\r\n        }\r\n\r\n        int len = in.readInt();\r\n        Object object = Util.readFromByte(in.toByteArray());\r\n        using.setKey(object == null ? null : (CacheKey) object);\r\n        return using;\r\n    }\r\n\r\n    @Override\r\n    public void write(Bytes out, @NotNull CacheKey toWrite) {\r\n        byte[] content = Util.writeToByte(toWrite.getKey());\r\n        out.writeInt(content.length);\r\n        out.write(content);\r\n    }\r\n\r\n}\r\n\r\npublic class MyValueSerializer implements BytesReader&lt;CacheValue&gt;, BytesWriter&lt;CacheValue&gt; {\r\n\r\n    private static MyValueSerializer INSTANCE = new MyValueSerializer();\r\n\r\n    public static MyValueSerializer getInstance() { return INSTANCE; }\r\n\r\n    private MyValueSerializer() {}\r\n\r\n    @NotNull\r\n    @Override\r\n    public CacheValue read(Bytes in, @Nullable CacheValue using) {\r\n        // TODO need help to implement this method\r\n    }\r\n\r\n    @Override\r\n    public void write(Bytes out, @NotNull CacheValue toWrite) {\r\n        // TODO need help to implement this method\r\n    }\r\n\r\n}\r\n\r\npublic class Test {\r\n    \r\n    public static void main(String[] args) {\r\n        NetKey netKey = ...;\r\n        NetValue netValue = ...;\r\n\r\n        ChronicleMap&lt;CacheKey, CacheValue&gt; inMemoryMap = ChronicleMap.of(CacheKey.class, CacheKey.class)\r\n           .name(&quot;sample-map&quot;)\r\n           .entries(50)\r\n           .averageKey(netKey)\r\n           .averageValue(netValue)\r\n           .keyMarshallers(MyKeySerializer.class)\r\n           .valueMarshallers(MyValueSerializer.class)\r\n           .create();\r\n        inMemoryMap.put(netKey, netValue);\r\n    }\r\n}\r\n```\r\n\r\n**Update 1**\r\n\r\nError I am seeing is StackOverflow\r\n```\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat java.base/java.lang.RuntimeException.&lt;init&gt;(RuntimeException.java:52)\r\n\tat java.base/java.lang.IllegalArgumentException.&lt;init&gt;(IllegalArgumentException.java:40)\r\n\tat java.base/java.util.regex.PatternSyntaxException.&lt;init&gt;(PatternSyntaxException.java:58)\r\n\tat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\r\n\tat java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1432)\r\n\tat java.base/java.util.regex.Pattern.compile(Pattern.java:1069)\r\n\tat java.base/java.util.regex.Pattern.matches(Pattern.java:1174)\r\n\tat java.base/java.lang.String.matches(String.java:2839)\r\n\tat net.openhft.chronicle.values.CodeTemplate.lambda$null$20(CodeTemplate.java:206)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.TreeMap$KeySpliterator.tryAdvance(TreeMap.java:3088)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n\tat net.openhft.chronicle.values.CodeTemplate.lambda$methodsAndTemplatesByField$21(CodeTemplate.java:207)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n\tat net.openhft.chronicle.values.CodeTemplate.methodsAndTemplatesByField(CodeTemplate.java:214)\r\n\tat net.openhft.chronicle.values.CodeTemplate.createValueModel(CodeTemplate.java:104)\r\n\tat net.openhft.chronicle.values.ValueModel$1.computeValue(ValueModel.java:46)\r\n\tat java.base/java.lang.ClassValue.getFromHashMap(ClassValue.java:228)\r\n\tat java.base/java.lang.ClassValue.getFromBackup(ClassValue.java:210)\r\n```","title":"ChronicleMap Custom Key &amp; Value serialisers","body":"<p>Hello ChronicleMap Users,</p>\n<p>I am trying to use ChronicleMap with custom Key and Value. The Key is composed of various inputs and Value is the result of a database lookup. I would like to store this in memory to speed up subsequent requests. However, I am struggling to decide on what should be the approach for Key &amp; Value serializers. Here are my Key and Value with the base Key being CacheKey and an implementation being NetKey; I have few different keys to be used. I have tried few options but can't seem to seiralize/deserialize my key/value.</p>\n<pre><code>public interface CacheKey extends Serializable {\n    byte[] getKey();\n    void setKey(Object object);\n}\n\npublic interface CacheValue extends Serializable {\n    byte[] getValue();\n    void setValue(Object object);\n}\n\n@Builder\npublic class NetKey implements CacheKey {\n\n    private String name;\n    private String productType;\n    private String dealDate;\n    \n    @Override\n    public byte[] getKey() {\n        return Util.writeToByte(this);\n    }\n\n    @Override\n    public void setKey(Object object) {\n        if (object instanceof NetKey) {\n            NetKey o = (NetKey) object;\n            this.name = o.name;\n            this.productType = o.productType;\n            this.dealDate = o.dealDate;\n        }\n    }\n\n    //... override equals and hashCode\n}\n\n@Builder\npublic class NetValue implements CacheValue {\n\n    private String entity;\n    private String group;\n    private Service service;\n\n    @Override\n    public byte[] getValue() {\n        return Util.writeToByte(this);\n    }\n\n    @Override\n    public void setValue(Object object) {\n        if (object instanceof NetValue) {\n            NetValue o = (NetValue) object;\n            this.entity = o.entity;\n            this.group = o.group;\n            this.service = o.service;\n        }\n    }\n \n    // override equals and hashCode\n}\n\npublic class MyKeySerializer implements BytesReader&lt;CacheKey&gt;, BytesWriter&lt;CacheKey&gt; {\n\n    private static MyKeySerializer INSTANCE = new MyKeySerializer();\n\n    public static MyKeySerializer getInstance() { return INSTANCE; }\n\n    private MyKeySerializer() {}\n\n    @NotNull\n    @Override\n    public CacheKey read(Bytes in, @Nullable CacheKey using) {\n        if (using == null) {\n            using = new CacheKey() {\n                @Override\n                public CacheKey getKey() {\n                    return this;\n                }\n\n                @Override\n                public void setKey(CacheKey object) {\n\n                }\n            };\n        }\n\n        int len = in.readInt();\n        Object object = Util.readFromByte(in.toByteArray());\n        using.setKey(object == null ? null : (CacheKey) object);\n        return using;\n    }\n\n    @Override\n    public void write(Bytes out, @NotNull CacheKey toWrite) {\n        byte[] content = Util.writeToByte(toWrite.getKey());\n        out.writeInt(content.length);\n        out.write(content);\n    }\n\n}\n\npublic class MyValueSerializer implements BytesReader&lt;CacheValue&gt;, BytesWriter&lt;CacheValue&gt; {\n\n    private static MyValueSerializer INSTANCE = new MyValueSerializer();\n\n    public static MyValueSerializer getInstance() { return INSTANCE; }\n\n    private MyValueSerializer() {}\n\n    @NotNull\n    @Override\n    public CacheValue read(Bytes in, @Nullable CacheValue using) {\n        // TODO need help to implement this method\n    }\n\n    @Override\n    public void write(Bytes out, @NotNull CacheValue toWrite) {\n        // TODO need help to implement this method\n    }\n\n}\n\npublic class Test {\n    \n    public static void main(String[] args) {\n        NetKey netKey = ...;\n        NetValue netValue = ...;\n\n        ChronicleMap&lt;CacheKey, CacheValue&gt; inMemoryMap = ChronicleMap.of(CacheKey.class, CacheKey.class)\n           .name(&quot;sample-map&quot;)\n           .entries(50)\n           .averageKey(netKey)\n           .averageValue(netValue)\n           .keyMarshallers(MyKeySerializer.class)\n           .valueMarshallers(MyValueSerializer.class)\n           .create();\n        inMemoryMap.put(netKey, netValue);\n    }\n}\n</code></pre>\n<p><strong>Update 1</strong></p>\n<p>Error I am seeing is StackOverflow</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n    at java.base/java.lang.RuntimeException.&lt;init&gt;(RuntimeException.java:52)\n    at java.base/java.lang.IllegalArgumentException.&lt;init&gt;(IllegalArgumentException.java:40)\n    at java.base/java.util.regex.PatternSyntaxException.&lt;init&gt;(PatternSyntaxException.java:58)\n    at java.base/java.util.regex.Pattern.error(Pattern.java:2028)\n    at java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1432)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1069)\n    at java.base/java.util.regex.Pattern.matches(Pattern.java:1174)\n    at java.base/java.lang.String.matches(String.java:2839)\n    at net.openhft.chronicle.values.CodeTemplate.lambda$null$20(CodeTemplate.java:206)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:178)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.TreeMap$KeySpliterator.tryAdvance(TreeMap.java:3088)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n    at net.openhft.chronicle.values.CodeTemplate.lambda$methodsAndTemplatesByField$21(CodeTemplate.java:207)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at net.openhft.chronicle.values.CodeTemplate.methodsAndTemplatesByField(CodeTemplate.java:214)\n    at net.openhft.chronicle.values.CodeTemplate.createValueModel(CodeTemplate.java:104)\n    at net.openhft.chronicle.values.ValueModel$1.computeValue(ValueModel.java:46)\n    at java.base/java.lang.ClassValue.getFromHashMap(ClassValue.java:228)\n    at java.base/java.lang.ClassValue.getFromBackup(ClassValue.java:210)\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1697822278,"post_id":77332071,"comment_id":136332472,"body_markdown":"I&#39;m a little confused by the premise of the question. Deletion of documents via a TTL index is indeed done _per document_. From [the documentation](https://www.mongodb.com/docs/manual/core/index-ttl/#expiration-of-data): &quot;_TTL indexes expire documents after the specified number of seconds has passed since the indexed field value; i.e. the expiration threshold is the indexed field value plus the specified number of seconds._&quot; So I think the solution to your problem is to set the appropriate value for each document? If not can you further clarify on what you&#39;re trying to do?","body":"I&#39;m a little confused by the premise of the question. Deletion of documents via a TTL index is indeed done <i>per document</i>. From <a href=\"https://www.mongodb.com/docs/manual/core/index-ttl/#expiration-of-data\" rel=\"nofollow noreferrer\">the documentation</a>: &quot;<i>TTL indexes expire documents after the specified number of seconds has passed since the indexed field value; i.e. the expiration threshold is the indexed field value plus the specified number of seconds.</i>&quot; So I think the solution to your problem is to set the appropriate value for each document? If not can you further clarify on what you&#39;re trying to do?"}],"owner":{"account_id":14429263,"reputation":31,"user_id":10423066,"display_name":"Alex.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697815143,"creation_date":1697815143,"question_id":77332071,"body_markdown":"I know that with Spring Data for MongoDB you can set a document to be deleted:\r\n\r\n```java\r\n    @Indexed(name = &quot;ttl&quot;, expireAfterSeconds = 12)\r\n    private LocalDateTime expireAfterSeconds;\r\n```\r\n\r\nor\r\n\r\n```java\r\n    @Indexed(name = &quot;ttl&quot;, expireAfter = &quot;12s&quot;)\r\n    private LocalDateTime expireAfterSeconds;\r\n```\r\n\r\nThose documents will be deleted after the time specified in the annotation, it will be the same for every document that gets created.\r\n\r\nI would like to understand if it&#39;s possible to still create a TTL index but the value can be calculated for each document. (Like in DynamoDB you&#39;d pass an epoch time in seconds)\r\n\r\nSomething like\r\n\r\n```java\r\n@Document(&quot;groceryitems&quot;)\r\npublic class GroceryItem {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @Indexed(name = &quot;deleteThisRecordAfter&quot;, expireAfter = &quot;@checkActualValue&quot;)\r\n    private LocalDateTime expireAfter;\r\n\r\n    // or\r\n    @Indexed(name = &quot;deleteThisRecordAfter&quot;, ttlIndex = true)\r\n    /*\r\n    * ttlIndex = true doesn&#39;t exist,\r\n    * but I would like to only have a TTL index and then provide a value for the field\r\n    * that mongod will use to determine when to delete the document.\r\n     */\r\n    private LocalDateTime expireAfter;\r\n\r\n    public GroceryItem(String id, LocalDateTime expireAfter) {\r\n        super();\r\n        this.id = id;\r\n        this.expireAfter = expireAfter;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n    public persist(Item item) {\r\n        repository.save(new GroceryItem(item.getId(), getCorrectTTL(item.getExpirationDate(), item.getCategory())));\r\n    }\r\n```","title":"Different TTL per document using Spring Data MongoDB @Indexed annotation","body":"<p>I know that with Spring Data for MongoDB you can set a document to be deleted:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Indexed(name = &quot;ttl&quot;, expireAfterSeconds = 12)\n    private LocalDateTime expireAfterSeconds;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Indexed(name = &quot;ttl&quot;, expireAfter = &quot;12s&quot;)\n    private LocalDateTime expireAfterSeconds;\n</code></pre>\n<p>Those documents will be deleted after the time specified in the annotation, it will be the same for every document that gets created.</p>\n<p>I would like to understand if it's possible to still create a TTL index but the value can be calculated for each document. (Like in DynamoDB you'd pass an epoch time in seconds)</p>\n<p>Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(&quot;groceryitems&quot;)\npublic class GroceryItem {\n\n    @Id\n    private String id;\n\n    @Indexed(name = &quot;deleteThisRecordAfter&quot;, expireAfter = &quot;@checkActualValue&quot;)\n    private LocalDateTime expireAfter;\n\n    // or\n    @Indexed(name = &quot;deleteThisRecordAfter&quot;, ttlIndex = true)\n    /*\n    * ttlIndex = true doesn't exist,\n    * but I would like to only have a TTL index and then provide a value for the field\n    * that mongod will use to determine when to delete the document.\n     */\n    private LocalDateTime expireAfter;\n\n    public GroceryItem(String id, LocalDateTime expireAfter) {\n        super();\n        this.id = id;\n        this.expireAfter = expireAfter;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public persist(Item item) {\n        repository.save(new GroceryItem(item.getId(), getCorrectTTL(item.getExpirationDate(), item.getCategory())));\n    }\n</code></pre>\n"},{"tags":["java","database","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675092014,"post_id":75235566,"comment_id":132848602,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"comments":[{"owner":{"account_id":25774232,"reputation":1,"user_id":20382242,"display_name":"Apfelsaft147"},"score":0,"creation_date":1674661562,"post_id":75236309,"comment_id":132762940,"body_markdown":"Thank i found a solution. Can you tell me how to fix problems with my RecyclerView. Whenever I open another activity and create a new database entry, then go back to the activitiy my item.xml fields are always shown twice.","body":"Thank i found a solution. Can you tell me how to fix problems with my RecyclerView. Whenever I open another activity and create a new database entry, then go back to the activitiy my item.xml fields are always shown twice."},{"owner":{"account_id":9717916,"reputation":40,"user_id":7207607,"display_name":"Ram Sai Meghnadh"},"score":0,"creation_date":1674662143,"post_id":75236309,"comment_id":132763177,"body_markdown":"I&#39;m not familiar with Java, But happy to help with Firebase. Are you saying that key, and value pairs in your firebase are duplicating?","body":"I&#39;m not familiar with Java, But happy to help with Firebase. Are you saying that key, and value pairs in your firebase are duplicating?"},{"owner":{"account_id":25774232,"reputation":1,"user_id":20382242,"display_name":"Apfelsaft147"},"score":0,"creation_date":1674663410,"post_id":75236309,"comment_id":132763658,"body_markdown":"No when i go to the send page, write the db entry and go back to the MainActivity all recyclerview items are duplicated. Then i close the app and reopen it and all is normel. Non of the RecyclerView Items are duplicated after reopen the app","body":"No when i go to the send page, write the db entry and go back to the MainActivity all recyclerview items are duplicated. Then i close the app and reopen it and all is normel. Non of the RecyclerView Items are duplicated after reopen the app"},{"owner":{"account_id":9717916,"reputation":40,"user_id":7207607,"display_name":"Ram Sai Meghnadh"},"score":0,"creation_date":1674664640,"post_id":75236309,"comment_id":132764143,"body_markdown":"I assume you&#39;re working on a android app. If that&#39;s the case, I&#39;m sorry I can&#39;t help you :)","body":"I assume you&#39;re working on a android app. If that&#39;s the case, I&#39;m sorry I can&#39;t help you :)"}],"tags":[],"owner":{"account_id":9717916,"reputation":40,"user_id":7207607,"display_name":"Ram Sai Meghnadh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674661156,"creation_date":1674661156,"answer_id":75236309,"question_id":75235566,"body_markdown":"**It seems you might be using set()**  **function to update data in firebase.** \r\n\r\n*( in your case setValue(), I&#39;m not sure if it is Firebase function or user defined function , Firebase uses set() method in almost in every SDK, not sure about Java SDK for Firebase )*\r\n\r\nPlease note that set() will **replace the existing value**, or create a new key if there isn&#39;t any. \r\n\r\n\r\n\r\n&gt; **Use update() function instead of set()**\r\n\r\n\r\n&gt; **Ways to Save Data**\r\n&gt; \r\n&gt; **set**\t- Write or replace data to a defined path, like messages/users/&lt;username&gt;\r\n&gt; \r\n&gt; **update**\t- Update some of the keys for a defined path without replacing all of the data\r\n&gt; \r\n&gt; **push** - Add to a list of data in the database. Every time you push a new node onto a list, your database generates a unique key, like\r\n&gt; messages/users/&lt;unique-user-id&gt;/&lt;username&gt;\r\n&gt; \r\n&gt; **transaction**\t- Use transactions when working with complex data that could be corrupted by concurrent updates\r\n\r\nrefer the docs [here][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/admin/save-data\r\n\r\n","title":"How do i create a key with FirebaseDatabase","body":"<p><strong>It seems you might be using set()</strong>  <strong>function to update data in firebase.</strong></p>\n<p><em>( in your case setValue(), I'm not sure if it is Firebase function or user defined function , Firebase uses set() method in almost in every SDK, not sure about Java SDK for Firebase )</em></p>\n<p>Please note that set() will <strong>replace the existing value</strong>, or create a new key if there isn't any.</p>\n<blockquote>\n<p><strong>Use update() function instead of set()</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>Ways to Save Data</strong></p>\n<p><strong>set</strong>   - Write or replace data to a defined path, like messages/users/</p>\n<p><strong>update</strong>    - Update some of the keys for a defined path without replacing all of the data</p>\n<p><strong>push</strong> - Add to a list of data in the database. Every time you push a new node onto a list, your database generates a unique key, like\nmessages/users//</p>\n<p><strong>transaction</strong>   - Use transactions when working with complex data that could be corrupted by concurrent updates</p>\n</blockquote>\n<p>refer the docs <a href=\"https://firebase.google.com/docs/database/admin/save-data\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25774232,"reputation":1,"user_id":20382242,"display_name":"Apfelsaft147"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697814909,"creation_date":1674657631,"question_id":75235566,"body_markdown":"How can I program a **key** in my FirebaseDatabase that is created by the **userName**. **wText** should then be the **text: &quot;&quot;** Value.\r\n\r\nI try to create a key but when i run my app it removes all values in my database\r\n\r\nThe Code:\r\n\r\n\r\n\r\n\r\n`\r\n\r\n                // getting text from our edittext fields.\r\n                String nameValue = userName.getText().toString();\r\n                String textValue = wText.getText().toString();\r\n\r\n                // below line is for checking whether the\r\n                // edittext fields are empty or not.\r\n                if (nameValue.isEmpty() &amp;&amp; textValue.isEmpty()) {\r\n                    // if the text fields are empty\r\n                    // then show the below message.\r\n                    Toast.makeText(AddTextActivity.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                } else {\r\n                    // else call the method to add\r\n                    // data to our database.\r\n                    addDatatoFirebase(nameValue, textValue);\r\n                    finish();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n        private void addDatatoFirebase(String name, String wText) {\r\n            // below 3 lines of code is used to set\r\n            // data in our object class.\r\n            Messages.setuserName(name);\r\n            Messages.setText(wText);\r\n\r\n            // we are use add value event listener method\r\n            // which is called with database reference.\r\n            myRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    // inside the method of on Data change we are setting\r\n                    // our object class to our database reference.\r\n                    // data base reference will sends data to firebase.\r\n                    myRef.setValue(text);\r\n\r\n                    // after adding this data we are showing toast message.\r\n                    Toast.makeText(AddTextActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    // if the data is not added or it is cancelled then\r\n                    // we are displaying a failure toast message.\r\n                    Toast.makeText(AddTextActivity.this, &quot;Fail to add data&quot; + error, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }); `","title":"How do i create a key with FirebaseDatabase","body":"<p>How can I program a <strong>key</strong> in my FirebaseDatabase that is created by the <strong>userName</strong>. <strong>wText</strong> should then be the <strong>text: &quot;&quot;</strong> Value.</p>\n<p>I try to create a key but when i run my app it removes all values in my database</p>\n<p>The Code:</p>\n<p>`</p>\n<pre><code>            // getting text from our edittext fields.\n            String nameValue = userName.getText().toString();\n            String textValue = wText.getText().toString();\n\n            // below line is for checking whether the\n            // edittext fields are empty or not.\n            if (nameValue.isEmpty() &amp;&amp; textValue.isEmpty()) {\n                // if the text fields are empty\n                // then show the below message.\n                Toast.makeText(AddTextActivity.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            } else {\n                // else call the method to add\n                // data to our database.\n                addDatatoFirebase(nameValue, textValue);\n                finish();\n            }\n        }\n    });\n\n}\n\n    private void addDatatoFirebase(String name, String wText) {\n        // below 3 lines of code is used to set\n        // data in our object class.\n        Messages.setuserName(name);\n        Messages.setText(wText);\n\n        // we are use add value event listener method\n        // which is called with database reference.\n        myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                // inside the method of on Data change we are setting\n                // our object class to our database reference.\n                // data base reference will sends data to firebase.\n                myRef.setValue(text);\n\n                // after adding this data we are showing toast message.\n                Toast.makeText(AddTextActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // if the data is not added or it is cancelled then\n                // we are displaying a failure toast message.\n                Toast.makeText(AddTextActivity.this, &quot;Fail to add data&quot; + error, Toast.LENGTH_SHORT).show();\n            }\n        }); `\n</code></pre>\n"},{"tags":["java","spring","spring-boot","soap","jboss"],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697814738,"creation_date":1697221551,"question_id":77289952,"body_markdown":"I&#39;m trying to modernize/convert an old SOAP web service to work with Spring 5 and Spring Boot 2.7, and eventually deploy to jboss 7. I&#39;ve finally gotten through all the Spring Context errors (not finding beans to autoconfigure, etc.) so it will deploy successfully. But when I try to hit the url, it returns a 404. I haven&#39;t worked with SOAP/wsdl in a long time so I think I&#39;m missing a mapping piece.  \r\n\r\nThe url I&#39;m using is `http://localhost:8080/PrintQueueDetailService`\r\n\r\nI was trying to re-use as much as possible, so I was told that I could re-use the existing class which had the `@WebService` and `@SOAPBinding` : \r\n\r\n    @WebService(targetNamespace = &quot;http://www.mycompany.com/pdfrm/PrintQueDetail&quot;, name = &quot;PrintQueDetailWSService&quot;)\r\n    @SOAPBinding(parameterStyle = ParameterStyle.BARE)\r\n    @Service\r\n    public class PrintQueueDtlServiceImpl implements PrintQueDetailWSService {\r\n        ....\r\n    }\r\n\r\nAdditional config, which I found I was supposed to add to &#39;wire&#39; together the old code and new SpringBoot WS pieces, and which would do some magic servlet mapping behind the scenes:\r\n\r\n    @Configuration\r\n    public class WebServiceConfig extends SpringBootServletInitializer {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(PrintQueueApp.class);\r\n        }\r\n    \r\n        @Bean\r\n        public SimpleJaxWsServiceExporter simpleJaxWsServiceExporter() {\r\n            SimpleJaxWsServiceExporter exporter = new SimpleJaxWsServiceExporter();\r\n            exporter.setBaseAddress(&quot;/PrintQueueDetailService&quot;);\r\n            return exporter;\r\n        }\r\n    \r\n    }\r\n\r\nMore context: This is a multi-module maven project. 1 submodule is db/repos/services, 1 submodule is the SOAP interface with wsdl, where the cxf generation happens. And then the 3rd is the &#39;main&#39; module, which has the main PrintQueueDtlServiceImpl that handles the SOAP calls.  \r\n\r\nThis is being deployed to jboss 7. I&#39;m just running and testing locally with some jboss/wildfly server inside IntelliJ. I noticed there is also this piece, within /webapp/WEB-CONFIG/jboss-web.xml:\r\n\r\n    &lt;jboss-web&gt;\r\n        &lt;context-root&gt;/PrintQueueDetailService&lt;/context-root&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nI&#39;m still not clear on if or how the /webapp/WEB-INF is packaged under the &#39;new&#39; spring boot. I&#39;m packaging it as a .war in maven.","title":"how to configure the url of an old @SOAPBinding @Webservice to work with spring boot 2.7 and deploy to jboss?","body":"<p>I'm trying to modernize/convert an old SOAP web service to work with Spring 5 and Spring Boot 2.7, and eventually deploy to jboss 7. I've finally gotten through all the Spring Context errors (not finding beans to autoconfigure, etc.) so it will deploy successfully. But when I try to hit the url, it returns a 404. I haven't worked with SOAP/wsdl in a long time so I think I'm missing a mapping piece.</p>\n<p>The url I'm using is <code>http://localhost:8080/PrintQueueDetailService</code></p>\n<p>I was trying to re-use as much as possible, so I was told that I could re-use the existing class which had the <code>@WebService</code> and <code>@SOAPBinding</code> :</p>\n<pre><code>@WebService(targetNamespace = &quot;http://www.mycompany.com/pdfrm/PrintQueDetail&quot;, name = &quot;PrintQueDetailWSService&quot;)\n@SOAPBinding(parameterStyle = ParameterStyle.BARE)\n@Service\npublic class PrintQueueDtlServiceImpl implements PrintQueDetailWSService {\n    ....\n}\n</code></pre>\n<p>Additional config, which I found I was supposed to add to 'wire' together the old code and new SpringBoot WS pieces, and which would do some magic servlet mapping behind the scenes:</p>\n<pre><code>@Configuration\npublic class WebServiceConfig extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(PrintQueueApp.class);\n    }\n\n    @Bean\n    public SimpleJaxWsServiceExporter simpleJaxWsServiceExporter() {\n        SimpleJaxWsServiceExporter exporter = new SimpleJaxWsServiceExporter();\n        exporter.setBaseAddress(&quot;/PrintQueueDetailService&quot;);\n        return exporter;\n    }\n\n}\n</code></pre>\n<p>More context: This is a multi-module maven project. 1 submodule is db/repos/services, 1 submodule is the SOAP interface with wsdl, where the cxf generation happens. And then the 3rd is the 'main' module, which has the main PrintQueueDtlServiceImpl that handles the SOAP calls.</p>\n<p>This is being deployed to jboss 7. I'm just running and testing locally with some jboss/wildfly server inside IntelliJ. I noticed there is also this piece, within /webapp/WEB-CONFIG/jboss-web.xml:</p>\n<pre><code>&lt;jboss-web&gt;\n    &lt;context-root&gt;/PrintQueueDetailService&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>I'm still not clear on if or how the /webapp/WEB-INF is packaged under the 'new' spring boot. I'm packaging it as a .war in maven.</p>\n"},{"tags":["java","jar","war"],"comments":[{"owner":{"account_id":71712,"reputation":11000,"user_id":207364,"accept_rate":93,"display_name":"Dan"},"score":1,"creation_date":1259875317,"post_id":1842972,"comment_id":1736281,"body_markdown":"Haven&#39;t tried this, but what about adding a &#39;Class-Path&#39; entry to the manifest?","body":"Haven&#39;t tried this, but what about adding a &#39;Class-Path&#39; entry to the manifest?"},{"owner":{"account_id":9410,"reputation":9391,"user_id":17375,"accept_rate":84,"display_name":"unorsk"},"score":0,"creation_date":1259875360,"post_id":1842972,"comment_id":1736285,"body_markdown":"Have you any reasons for this? Why won&#39;t you try to keep two different assemblies - one for web and one as a standalone application?","body":"Have you any reasons for this? Why won&#39;t you try to keep two different assemblies - one for web and one as a standalone application?"},{"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"score":0,"creation_date":1259875431,"post_id":1842972,"comment_id":1736292,"body_markdown":"Did you try putting a classpath in the manifest.mf which had WEB-INF/classes and leave the Main-Class as mypackage.MyEntryPointClass\n?","body":"Did you try putting a classpath in the manifest.mf which had WEB-INF/classes and leave the Main-Class as mypackage.MyEntryPointClass ?"},{"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"score":0,"creation_date":1259875678,"post_id":1842972,"comment_id":1736324,"body_markdown":"tried the classpath idea, didn&#39;t work","body":"tried the classpath idea, didn&#39;t work"},{"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"score":0,"creation_date":1259875759,"post_id":1842972,"comment_id":1736333,"body_markdown":"@Andrew, I could have two different packages, it just seems wasteful when the content of one is a superset of the content of the other","body":"@Andrew, I could have two different packages, it just seems wasteful when the content of one is a superset of the content of the other"}],"answers":[{"tags":[],"owner":{"account_id":661,"reputation":5281,"user_id":869,"accept_rate":100,"display_name":"Jason Gritman"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259875488,"creation_date":1259875488,"answer_id":1843021,"question_id":1842972,"body_markdown":"The rules of locating classes in an archive file is that the location of the file&#39;s package declaration and the location of the file within the archive have to match.  Since your class is located in WEB-INF/classes, it thinks the class is not valid to run in the current context.\r\n\r\nThe only way you can do what you&#39;re asking is to repackage the war so the `.class` file resides in the `mypackage` directory in the root of the archive rather than the WEB-INF/classes directory.  However, if you do that you won&#39;t be able to access the file from any of your web classes anymore.\r\n\r\nIf you want to reuse this class in both the war and outside from the java command line, consider building an executable jar you can run from the command line, then putting that jar in the `war` file&#39;s WEB-INF/lib directory.","title":"How do I run a class in a WAR from the command line?","body":"<p>The rules of locating classes in an archive file is that the location of the file's package declaration and the location of the file within the archive have to match.  Since your class is located in WEB-INF/classes, it thinks the class is not valid to run in the current context.</p>\n\n<p>The only way you can do what you're asking is to repackage the war so the <code>.class</code> file resides in the <code>mypackage</code> directory in the root of the archive rather than the WEB-INF/classes directory.  However, if you do that you won't be able to access the file from any of your web classes anymore.</p>\n\n<p>If you want to reuse this class in both the war and outside from the java command line, consider building an executable jar you can run from the command line, then putting that jar in the <code>war</code> file's WEB-INF/lib directory.</p>\n"},{"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1543409273,"post_id":1843025,"comment_id":93908200,"body_markdown":"Sure but thats not always possible. Sometimes you only have a war and would like to run the main class quickly.","body":"Sure but thats not always possible. Sometimes you only have a war and would like to run the main class quickly."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1259875500,"creation_date":1259875500,"answer_id":1843025,"question_id":1842972,"body_markdown":"A war is a webapp. If you want to have a console/standalone application reusing the same classes as you webapp, consider packaging your shared classes in a jar, which you can put in `WEB-INF/lib`. Then use that jar from the command line.\r\nThus you get both your console application, and you can use the same classes in your servlets, without making two different packages.\r\nThis, of course, is true when the war is exploded.","title":"How do I run a class in a WAR from the command line?","body":"<p>A war is a webapp. If you want to have a console/standalone application reusing the same classes as you webapp, consider packaging your shared classes in a jar, which you can put in <code>WEB-INF/lib</code>. Then use that jar from the command line.\nThus you get both your console application, and you can use the same classes in your servlets, without making two different packages.\nThis, of course, is true when the war is exploded.</p>\n"},{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1259875787,"post_id":1843035,"comment_id":1736335,"body_markdown":"putting copies in a public location would deffinitely be ugly","body":"putting copies in a public location would deffinitely be ugly"}],"tags":[],"owner":{"account_id":20439,"reputation":4580,"user_id":48839,"display_name":"Chad Okere"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259875588,"creation_date":1259875588,"answer_id":1843035,"question_id":1842972,"body_markdown":"Well, according to &lt;a href=&quot;http://en.wikipedia.org/wiki/WAR_file&quot;&gt;Wikipedia&lt;/a&gt;, with a WAR file, the classes that get loaded into the classpath are in the &quot;/WEB-INF/classes&quot; and &quot;/WEB-INF/lib&quot; directory. \r\n\r\nYou could try simply putting a copy of the classes on the root file system of the zip file (which is what a war/jar is).  I&#39;m not sure if that would work though. \r\n\r\nYou can always just create two separate files.","title":"How do I run a class in a WAR from the command line?","body":"<p>Well, according to <a href=\"http://en.wikipedia.org/wiki/WAR_file\" rel=\"nofollow noreferrer\">Wikipedia</a>, with a WAR file, the classes that get loaded into the classpath are in the \"/WEB-INF/classes\" and \"/WEB-INF/lib\" directory. </p>\n\n<p>You could try simply putting a copy of the classes on the root file system of the zip file (which is what a war/jar is).  I'm not sure if that would work though. </p>\n\n<p>You can always just create two separate files.</p>\n"},{"comments":[{"owner":{"account_id":1364481,"reputation":421,"user_id":1301216,"accept_rate":14,"display_name":"Baruch Atta"},"score":2,"creation_date":1535551566,"post_id":3804844,"comment_id":91108806,"body_markdown":"Not gonna downvote because the answer contains some good info.  However, it does not answer the original question &quot;...run as a standalone app from the command line...&quot;","body":"Not gonna downvote because the answer contains some good info.  However, it does not answer the original question &quot;...run as a standalone app from the command line...&quot;"}],"tags":[],"owner":{"account_id":10582,"reputation":2468,"user_id":20065,"accept_rate":76,"display_name":"Yonatan Maman"},"comment_count":1,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1386162925,"creation_date":1285598011,"answer_id":3804844,"question_id":1842972,"body_markdown":"You can do what [Hudson][1] (continuous integration project) does.\r\nyou download a war which can be deployed in tomcat or to execute using\r\n\r\n    java -jar hudson.war\r\n\r\n(Because it has an embedded Jetty engine, running it from command line cause a server to be launched.) Anyway  by looking at  hudson&#39;s manifest I understand that they put a Main class in the root for the archive. In your case your war layout should be look like:\r\n\r\nunder root:\r\n\r\n - mypackage/MyEntryPointClass.class  \r\n - WEB-INF/lib \r\n - WEB-INF/classes\r\n - META-INF/MANIFEST.MF\r\n\r\nwhile the manifest should include the following line:\r\n\r\n    Main-Class: mypackage.MyEntryPointClass\r\n\r\nplease notice that the  mypackage/MyEntryPointClass.class  is accessable from the command line only, and the classes under WEB-INF/classes are accessable from the application server only.\r\n\r\nHTH\r\n \r\n  [1]: http://hudson-ci.org/","title":"How do I run a class in a WAR from the command line?","body":"<p>You can do what <a href=\"http://hudson-ci.org/\" rel=\"noreferrer\">Hudson</a> (continuous integration project) does.\nyou download a war which can be deployed in tomcat or to execute using</p>\n\n<pre><code>java -jar hudson.war\n</code></pre>\n\n<p>(Because it has an embedded Jetty engine, running it from command line cause a server to be launched.) Anyway  by looking at  hudson's manifest I understand that they put a Main class in the root for the archive. In your case your war layout should be look like:</p>\n\n<p>under root:</p>\n\n<ul>\n<li>mypackage/MyEntryPointClass.class  </li>\n<li>WEB-INF/lib </li>\n<li>WEB-INF/classes</li>\n<li>META-INF/MANIFEST.MF</li>\n</ul>\n\n<p>while the manifest should include the following line:</p>\n\n<pre><code>Main-Class: mypackage.MyEntryPointClass\n</code></pre>\n\n<p>please notice that the  mypackage/MyEntryPointClass.class  is accessable from the command line only, and the classes under WEB-INF/classes are accessable from the application server only.</p>\n\n<p>HTH</p>\n"},{"comments":[{"owner":{"account_id":6062120,"reputation":1059,"user_id":4733587,"display_name":"Shondeslitch"},"score":0,"creation_date":1542568063,"post_id":5729694,"comment_id":93605478,"body_markdown":"run maven clean install","body":"run maven clean install"}],"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1303300026,"creation_date":1303300026,"answer_id":5729694,"question_id":1842972,"body_markdown":"In [Maven][1] project, You can build jar automatically using [Maven War plugin][2] by setting `archiveClasses` to `true`. Example below.\r\n\r\n    &lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n           &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n           &lt;configuration&gt;\r\n           \t&lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\r\n           &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: http://maven.apache.org\r\n  [2]: http://maven.apache.org/plugins/maven-war-plugin/","title":"How do I run a class in a WAR from the command line?","body":"<p>In <a href=\"http://maven.apache.org\" rel=\"noreferrer\">Maven</a> project, You can build jar automatically using <a href=\"http://maven.apache.org/plugins/maven-war-plugin/\" rel=\"noreferrer\">Maven War plugin</a> by setting <code>archiveClasses</code> to <code>true</code>. Example below.</p>\n\n<pre><code>&lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n        &lt;archiveClasses&gt;true&lt;/archiveClasses&gt;\n       &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":1,"creation_date":1354828323,"post_id":10021303,"comment_id":18900882,"body_markdown":"this is technically correct, so I gave it a +1, but I don&#39;t think this solution is a good idea. It requires building a classpath manually, and is very error prone.","body":"this is technically correct, so I gave it a +1, but I don&#39;t think this solution is a good idea. It requires building a classpath manually, and is very error prone."},{"owner":{"account_id":250794,"reputation":501,"user_id":527723,"accept_rate":100,"display_name":"BxlSofty"},"score":0,"creation_date":1495793702,"post_id":10021303,"comment_id":75410850,"body_markdown":"Agreeing with JBCP above. \nBut I&#39;m using Netbeans and in there you can ask for the properties of your Java class, and it has a Runtime Classpath entry that gathers the full absolute classpath (mine is 4000 chars :)  )\nQuite a nice way to turn some internals of your webapp into scriptable classes.","body":"Agreeing with JBCP above.  But I&#39;m using Netbeans and in there you can ask for the properties of your Java class, and it has a Runtime Classpath entry that gathers the full absolute classpath (mine is 4000 chars :)  ) Quite a nice way to turn some internals of your webapp into scriptable classes."}],"tags":[],"owner":{"account_id":1381169,"reputation":97,"user_id":1314130,"display_name":"Richard Detsch"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1626234526,"creation_date":1333587148,"answer_id":10021303,"question_id":1842972,"body_markdown":"To execute `SomeClass.main(String [] args)` from a deployed war file do:\r\n\r\n1. Write class `SomeClass.java` that has a main method method i.e. (*public static void main(String[] args) {...}*)\r\n2. Deploy your WAR\r\n3. `cd /usr/local/&lt;yourprojectsname&gt;/tomcat/webapps/projectName/WEB-INF`  \r\n4. `java -cp &quot;lib/jar1.jar:lib/jar2.jar: ... :lib/jarn.jar&quot; com.mypackage.SomeClass arg1 arg2 ... arg3` \r\n\r\nNote1: to see if the class `SomeOtherClass.class` is in `/usr/tomcat/webapps/&lt;projectName&gt;/WEB-INF/lib` run:\r\n\r\n    cd /usr/tomcat/webapps/projectName/WEB-INF/lib &amp;&amp; \r\n    find . -name &#39;*.jar&#39; | while read jarfile; do if jar tf &quot;$jarfile&quot; | grep SomeOtherClass.class; then echo &quot;$jarfile&quot;; fi; done \r\n  \r\nNote2: Write to standard out so you can see if your main actually works via print statements to the console.  This is called a back door. \r\n  \r\nNote3: The comment above by Bozhidar Bozhanov seems correct \r\n\r\n","title":"How do I run a class in a WAR from the command line?","body":"<p>To execute <code>SomeClass.main(String [] args)</code> from a deployed war file do:</p>\n<ol>\n<li>Write class <code>SomeClass.java</code> that has a main method method i.e. (<em>public static void main(String[] args) {...}</em>)</li>\n<li>Deploy your WAR</li>\n<li><code>cd /usr/local/&lt;yourprojectsname&gt;/tomcat/webapps/projectName/WEB-INF</code></li>\n<li><code>java -cp &quot;lib/jar1.jar:lib/jar2.jar: ... :lib/jarn.jar&quot; com.mypackage.SomeClass arg1 arg2 ... arg3</code></li>\n</ol>\n<p>Note1: to see if the class <code>SomeOtherClass.class</code> is in <code>/usr/tomcat/webapps/&lt;projectName&gt;/WEB-INF/lib</code> run:</p>\n<pre><code>cd /usr/tomcat/webapps/projectName/WEB-INF/lib &amp;&amp; \nfind . -name '*.jar' | while read jarfile; do if jar tf &quot;$jarfile&quot; | grep SomeOtherClass.class; then echo &quot;$jarfile&quot;; fi; done \n</code></pre>\n<p>Note2: Write to standard out so you can see if your main actually works via print statements to the console.  This is called a back door.</p>\n<p>Note3: The comment above by Bozhidar Bozhanov seems correct</p>\n"},{"tags":[],"owner":{"account_id":3074971,"reputation":1,"user_id":2604596,"display_name":"Rawat"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1433758771,"creation_date":1433757431,"answer_id":30706143,"question_id":1842972,"body_markdown":"It&#39;s not possible to run a java class from a WAR file. WAR files have a different structure to Jar files.\r\n\r\nTo find the related java classes, export (preferred way to use ant) them as Jar put it in your web app lib.\r\n\r\nThen you can use the jar file as normal to run java program. The same jar was also referred in web app (if you put this jar in web app lib)","title":"How do I run a class in a WAR from the command line?","body":"<p>It's not possible to run a java class from a WAR file. WAR files have a different structure to Jar files.</p>\n\n<p>To find the related java classes, export (preferred way to use ant) them as Jar put it in your web app lib.</p>\n\n<p>Then you can use the jar file as normal to run java program. The same jar was also referred in web app (if you put this jar in web app lib)</p>\n"},{"comments":[{"owner":{"account_id":2934181,"reputation":11458,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"score":0,"creation_date":1521234638,"post_id":33266505,"comment_id":85661078,"body_markdown":"the answer I was looking for","body":"the answer I was looking for"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1532391917,"post_id":33266505,"comment_id":89946533,"body_markdown":"Can this be done without unzipping? The environment I run my stuff on is more tightly constrained than this.","body":"Can this be done without unzipping? The environment I run my stuff on is more tightly constrained than this."},{"owner":{"account_id":1611642,"reputation":1807,"user_id":1490379,"accept_rate":90,"display_name":"ksrb"},"score":9,"creation_date":1550191278,"post_id":33266505,"comment_id":96188931,"body_markdown":"For windows change the `: -&gt; ;` so the above command becomes `java -classpath &quot;lib/*;classes/.&quot; my.packages.destination.FileToRun` specifically change","body":"For windows change the <code>: -&gt; ;</code> so the above command becomes <code>java -classpath &quot;lib&#47;*;classes&#47;.&quot; my.packages.destination.FileToRun</code> specifically change"}],"tags":[],"owner":{"account_id":6692704,"reputation":2426,"user_id":5161718,"display_name":"Bojan Petkovic"},"comment_count":3,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1445451625,"creation_date":1445451625,"answer_id":33266505,"question_id":1842972,"body_markdown":"Similar to what Richard Detsch but with a bit easier to follow (works with packages as well)\r\n\r\nStep 1: Unwrap the War file.\r\n\r\n    jar -xvf MyWar.war\r\nStep 2: move into the directory\r\n\r\n    cd WEB-INF\r\nStep 3: Run your main with all dependendecies\r\n\r\n    java -classpath &quot;lib/*:classes/.&quot; my.packages.destination.FileToRun\r\n\r\n\r\n","title":"How do I run a class in a WAR from the command line?","body":"<p>Similar to what Richard Detsch but with a bit easier to follow (works with packages as well)</p>\n\n<p>Step 1: Unwrap the War file.</p>\n\n<pre><code>jar -xvf MyWar.war\n</code></pre>\n\n<p>Step 2: move into the directory</p>\n\n<pre><code>cd WEB-INF\n</code></pre>\n\n<p>Step 3: Run your main with all dependendecies</p>\n\n<pre><code>java -classpath \"lib/*:classes/.\" my.packages.destination.FileToRun\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255268,"reputation":22641,"user_id":535203,"accept_rate":73,"display_name":"Anthony O."},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1455615108,"creation_date":1455615108,"answer_id":35428647,"question_id":1842972,"body_markdown":"If you&#39;re using Maven, just follow the `maven-war-plugin` documentation about &quot;[How do I create a JAR containing the classes in my webapp?][1]&quot;: add **`&lt;attachClasses&gt;true&lt;/attachClasses&gt;`** to the `&lt;configuration&gt;` of the plugin:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;project&gt;\r\n\t  ...\r\n\t  &lt;artifactId&gt;mywebapp&lt;/artifactId&gt;\r\n\t  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t  ...\r\n\t  &lt;build&gt;\r\n\t    &lt;plugins&gt;\r\n\t      &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t  &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t      &lt;/plugin&gt;\r\n\t    &lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\t  ...\r\n\t&lt;/project&gt;\r\n\r\nThe you will have 2 products in the `target/` folder:\r\n\r\n - The `project.war` itself\r\n - The `project-classes.jar` which contains all the compiled classes in a jar\r\n\r\nThen you will be able to execute a main class using classic method: `java -cp target/project-classes.jar &#39;com.mycompany.MainClass&#39; param1 param2`\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-war-plugin/faq.html#attached","title":"How do I run a class in a WAR from the command line?","body":"<p>If you're using Maven, just follow the <code>maven-war-plugin</code> documentation about \"<a href=\"https://maven.apache.org/plugins/maven-war-plugin/faq.html#attached\" rel=\"noreferrer\">How do I create a JAR containing the classes in my webapp?</a>\": add <strong><code>&lt;attachClasses&gt;true&lt;/attachClasses&gt;</code></strong> to the <code>&lt;configuration&gt;</code> of the plugin:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  ...\n  &lt;artifactId&gt;mywebapp&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n    &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>The you will have 2 products in the <code>target/</code> folder:</p>\n\n<ul>\n<li>The <code>project.war</code> itself</li>\n<li>The <code>project-classes.jar</code> which contains all the compiled classes in a jar</li>\n</ul>\n\n<p>Then you will be able to execute a main class using classic method: <code>java -cp target/project-classes.jar 'com.mycompany.MainClass' param1 param2</code></p>\n"},{"tags":[],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585133420,"creation_date":1585133420,"answer_id":60847299,"question_id":1842972,"body_markdown":"the best way if you use Spring Boot is : \r\n\r\n1/ Create a ServletInitializer extends **SpringBootServletInitializer** Class\r\n   . With method **configure** which run your Application Class \r\n\r\n2/ Generate **always** a maven install **WAR** file\r\n\r\n3/ With this artefact you can even :\r\n\r\n        . start application from war file with java -jar file.war\r\n\r\n        . put your war file in your favorite Web App server (like tomcat, ...)","title":"How do I run a class in a WAR from the command line?","body":"<p>the best way if you use Spring Boot is : </p>\n\n<p>1/ Create a ServletInitializer extends <strong>SpringBootServletInitializer</strong> Class\n   . With method <strong>configure</strong> which run your Application Class </p>\n\n<p>2/ Generate <strong>always</strong> a maven install <strong>WAR</strong> file</p>\n\n<p>3/ With this artefact you can even :</p>\n\n<pre><code>    . start application from war file with java -jar file.war\n\n    . put your war file in your favorite Web App server (like tomcat, ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628667310,"creation_date":1628666619,"answer_id":68737690,"question_id":1842972,"body_markdown":"As an alternative option, include into the `war` file, the rest service to trigger the application logic via url. Deploy the `war` file onto any web/application server you want.\r\n\r\nThen you can start your application via any command-line based HTTP client like `curl` on Linux.\r\n\r\nThe disadvantage: usually these HTTP clients are different on different OSs. Which is not critical for a lot of cases. Also you can install `curl` on Windows. ","title":"How do I run a class in a WAR from the command line?","body":"<p>As an alternative option, include into the <code>war</code> file, the rest service to trigger the application logic via url. Deploy the <code>war</code> file onto any web/application server you want.</p>\n<p>Then you can start your application via any command-line based HTTP client like <code>curl</code> on Linux.</p>\n<p>The disadvantage: usually these HTTP clients are different on different OSs. Which is not critical for a lot of cases. Also you can install <code>curl</code> on Windows.</p>\n"},{"tags":[],"owner":{"account_id":114451,"reputation":3268,"user_id":300929,"accept_rate":95,"display_name":"Efrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697814614,"creation_date":1697814614,"answer_id":77332015,"question_id":1842972,"body_markdown":"A solution with docker:\r\n\r\n    docker run --rm -it -v ${PWD}:/usr/local/tomcat/webapps -p 8080:8080 tomcat\r\n\r\nThis is the Windows syntax - for Linux/Mac replace ${PWD} with $(pwd).\r\n\r\nA .war file is a Java Servlet web-application archive that is supposed to be ran within so called servlet container, which in practice means Apache Tomcat. The easiest way to do this is to simply run Tomcat which we can do using docker with the above command. Unfortunately, I had no luck running the (legacy) applications I was trying to run - I assume it&#39;s a mismatch of the Servlet-API versions. ","title":"How do I run a class in a WAR from the command line?","body":"<p>A solution with docker:</p>\n<pre><code>docker run --rm -it -v ${PWD}:/usr/local/tomcat/webapps -p 8080:8080 tomcat\n</code></pre>\n<p>This is the Windows syntax - for Linux/Mac replace ${PWD} with $(pwd).</p>\n<p>A .war file is a Java Servlet web-application archive that is supposed to be ran within so called servlet container, which in practice means Apache Tomcat. The easiest way to do this is to simply run Tomcat which we can do using docker with the above command. Unfortunately, I had no luck running the (legacy) applications I was trying to run - I assume it's a mismatch of the Servlet-API versions.</p>\n"}],"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264484,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"answer_count":12,"score":91,"last_activity_date":1697814614,"creation_date":1259874992,"question_id":1842972,"body_markdown":"I have a Java class which has a main and I used to run as a standalone app from the command line e.g.\r\n\r\n    java -jar myjar.jar params\r\n\r\nI needed to repackage the code to run under apache and all my code, including the entry point class from the old jar, has ended up in a WAR file for easy deplyment into the web server.\r\n\r\nHowever, I still want to be able to run it from the command line and the code has not changed and is all in there, I just can&#39;t figure out how to get it to run.\r\n\r\nHere&#39;s what I tried...\r\n\r\nI presumed the WAR was just like a jar, so\r\n\r\n    java -jar mywar.war params\r\n\r\nThat failed saying there was no main class defined in the manifest.\r\n\r\nI manually added a manifest to the war and tried again, with the same effect.\r\n\r\nI noticed that in my war I had a folder called META-INF containing a manifest.mf, so I added a line to that declaring my main class as I would to a normal manifest...\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: mypackage.MyEntryPointClass\r\n\r\nThis gave a `noClassDefFoundError mypackage.MyEntryPointClass`, which is progress of a sort.  That led me to believe that it was just a path issue, so I tried\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: WEB-INF.classes.mypackage.MyEntryPointClass\r\n\r\nI now get the same error, but with a stack trace...\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: WEB-INF/classes/mypackage/MyEntryPointClass (wrong name: mypackage/MyEntryPointClass)\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(Unknown Source)\r\n            at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n            at java.net.URLClassLoader.defineClass(Unknown Source)\r\n            at java.net.URLClassLoader.access$100(Unknown Source)\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClassInternal(Unknown Source)\r\n\r\nI&#39;ve googled for a bit but can&#39;t find anything which answers my question, and I read a couple of other questions here which are slightly different, so I thought I would post.\r\n\r\nJava 1.5, not that I think that should make any difference.","title":"How do I run a class in a WAR from the command line?","body":"<p>I have a Java class which has a main and I used to run as a standalone app from the command line e.g.</p>\n\n<pre><code>java -jar myjar.jar params\n</code></pre>\n\n<p>I needed to repackage the code to run under apache and all my code, including the entry point class from the old jar, has ended up in a WAR file for easy deplyment into the web server.</p>\n\n<p>However, I still want to be able to run it from the command line and the code has not changed and is all in there, I just can't figure out how to get it to run.</p>\n\n<p>Here's what I tried...</p>\n\n<p>I presumed the WAR was just like a jar, so</p>\n\n<pre><code>java -jar mywar.war params\n</code></pre>\n\n<p>That failed saying there was no main class defined in the manifest.</p>\n\n<p>I manually added a manifest to the war and tried again, with the same effect.</p>\n\n<p>I noticed that in my war I had a folder called META-INF containing a manifest.mf, so I added a line to that declaring my main class as I would to a normal manifest...</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: mypackage.MyEntryPointClass\n</code></pre>\n\n<p>This gave a <code>noClassDefFoundError mypackage.MyEntryPointClass</code>, which is progress of a sort.  That led me to believe that it was just a path issue, so I tried</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: WEB-INF.classes.mypackage.MyEntryPointClass\n</code></pre>\n\n<p>I now get the same error, but with a stack trace...</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: WEB-INF/classes/mypackage/MyEntryPointClass (wrong name: mypackage/MyEntryPointClass)\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n</code></pre>\n\n<p>I've googled for a bit but can't find anything which answers my question, and I read a couple of other questions here which are slightly different, so I thought I would post.</p>\n\n<p>Java 1.5, not that I think that should make any difference.</p>\n"},{"tags":["java","spring","spring-cloud","service-discovery"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1550814061,"post_id":54820276,"comment_id":96416520,"body_markdown":"Why are the other beans a problem?","body":"Why are the other beans a problem?"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1550816145,"post_id":54820276,"comment_id":96417192,"body_markdown":"Well - it&#39;s more of a source of confusion than anything.  For example - say we implemented the `description()` method of `InHouseDiscoveryClient` to return something informative like the email address for our support team.  Users call this method and get &quot;Composite Discovery Client&quot; and I anticipate they would be confused by this and possibly think something is wrong w/ their config.  So we&#39;ll either need to clearly describe this behavior in our documentation (ie. that 3 beans are autowiring and not 1).  What is the use-case for having multiple clients, maybe I don&#39;t understand?","body":"Well - it&#39;s more of a source of confusion than anything.  For example - say we implemented the <code>description()</code> method of <code>InHouseDiscoveryClient</code> to return something informative like the email address for our support team.  Users call this method and get &quot;Composite Discovery Client&quot; and I anticipate they would be confused by this and possibly think something is wrong w/ their config.  So we&#39;ll either need to clearly describe this behavior in our documentation (ie. that 3 beans are autowiring and not 1).  What is the use-case for having multiple clients, maybe I don&#39;t understand?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1550949990,"post_id":54820276,"comment_id":96463635,"body_markdown":"I&#39;m trying to determine if there is a technical problem or not. Users wanted to be able to sidestep a discovery system and put entries in configuration for various reasons. https://github.com/spring-cloud/spring-cloud-commons/issues/140 it&#39;s going on a few years old.","body":"I&#39;m trying to determine if there is a technical problem or not. Users wanted to be able to sidestep a discovery system and put entries in configuration for various reasons. <a href=\"https://github.com/spring-cloud/spring-cloud-commons/issues/140\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-commons/issues/140</a> it&#39;s going on a few years old."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1550950023,"post_id":54820276,"comment_id":96463645,"body_markdown":"To turn them off you need to exclude https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-commons/src/main/java/org/springframework/cloud/client/discovery/composite/CompositeDiscoveryClientAutoConfiguration.java and https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-commons/src/main/java/org/springframework/cloud/client/discovery/simple/SimpleDiscoveryClientAutoConfiguration.java via properties `spring.autoconfigure.exclude`","body":"To turn them off you need to exclude <a href=\"https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-commons/src/main/java/org/springframework/cloud/client/discovery/composite/CompositeDiscoveryClientAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-commons/blob/master/&hellip;</a> and <a href=\"https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-commons/src/main/java/org/springframework/cloud/client/discovery/simple/SimpleDiscoveryClientAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-commons/blob/master/&hellip;</a> via properties <code>spring.autoconfigure.exclude</code>"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1550964146,"post_id":54820276,"comment_id":96467043,"body_markdown":"Thanks @spencergibb - I had actually done this using ExclusionFilter - have updated answer.  I don&#39;t think there&#39;s a technical problem per-se, but the linked issue seems like a specialized usecase which perhaps should be opt-in?  I&#39;d be happy to discuss my use case at more length if that would help, but to be honest we just wanted to use the commons interfaces/abstractions and found some of the default implementations to be in the way.  Perhaps it would be possible to split the commons abstractions into a standalone submodule?","body":"Thanks @spencergibb - I had actually done this using ExclusionFilter - have updated answer.  I don&#39;t think there&#39;s a technical problem per-se, but the linked issue seems like a specialized usecase which perhaps should be opt-in?  I&#39;d be happy to discuss my use case at more length if that would help, but to be honest we just wanted to use the commons interfaces/abstractions and found some of the default implementations to be in the way.  Perhaps it would be possible to split the commons abstractions into a standalone submodule?"}],"answers":[{"tags":[],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550966613,"creation_date":1550963533,"answer_id":54847194,"question_id":54820276,"body_markdown":"I ended up extended `AutoConfigurationImportFilter` in my library to remove the autowired beans from cloud-commons.  I also removed it&#39;s health indicator, but we had a very particular reason to do so - most probably would rather keep it.\r\n\r\n    my.package\r\n\r\n    public class StratusDiscoveryExclusionFilter implements AutoConfigurationImportFilter {\r\n\r\n    private static final Set&lt;String&gt; SHOULD_SKIP = new HashSet&lt;&gt;(\r\n            Arrays.asList(\r\n                    // DiscoveryClient Beans\r\n                    &quot;org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration&quot;,\r\n                    &quot;org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration&quot;,\r\n                    // Health indicators\r\n                    &quot;org.springframework.cloud.client.CommonsClientAutoConfiguration&quot;)\r\n    );\r\n\r\n    /**\r\n     * For each class name, provide an assocated boolean array indicated whether or not to include\r\n     */\r\n    @Override\r\n    public boolean[] match(String[] classNames, AutoConfigurationMetadata metadata) {\r\n        boolean[] matches = new boolean[classNames.length];\r\n\r\n        for (int i = 0; i &lt; classNames.length; i++) {\r\n            matches[i] = !SHOULD_SKIP.contains(classNames[i]);\r\n        }\r\n        return matches;\r\n     }\r\n    }\r\n\r\nI think add a reference to this in my library&#39;s `spring.factories` file\r\n\r\n    org.springframework.boot.autoconfigure.AutoConfigurationImportFilter=my.package.MyExclusionFilter\r\n","title":"How to disable CompositeDiscoveryClient and SimpleDiscoveryClient in service discovery library","body":"<p>I ended up extended <code>AutoConfigurationImportFilter</code> in my library to remove the autowired beans from cloud-commons.  I also removed it's health indicator, but we had a very particular reason to do so - most probably would rather keep it.</p>\n\n<pre><code>my.package\n\npublic class StratusDiscoveryExclusionFilter implements AutoConfigurationImportFilter {\n\nprivate static final Set&lt;String&gt; SHOULD_SKIP = new HashSet&lt;&gt;(\n        Arrays.asList(\n                // DiscoveryClient Beans\n                \"org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration\",\n                \"org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration\",\n                // Health indicators\n                \"org.springframework.cloud.client.CommonsClientAutoConfiguration\")\n);\n\n/**\n * For each class name, provide an assocated boolean array indicated whether or not to include\n */\n@Override\npublic boolean[] match(String[] classNames, AutoConfigurationMetadata metadata) {\n    boolean[] matches = new boolean[classNames.length];\n\n    for (int i = 0; i &lt; classNames.length; i++) {\n        matches[i] = !SHOULD_SKIP.contains(classNames[i]);\n    }\n    return matches;\n }\n}\n</code></pre>\n\n<p>I think add a reference to this in my library's <code>spring.factories</code> file</p>\n\n<pre><code>org.springframework.boot.autoconfigure.AutoConfigurationImportFilter=my.package.MyExclusionFilter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1525566,"reputation":1183,"user_id":1424108,"display_name":"ibai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697814488,"creation_date":1697814488,"answer_id":77332002,"question_id":54820276,"body_markdown":"There are two `AutoConfiguration` classes that need to be excluded.\r\n\r\nYou can do that through the `@SpringBootApplication` annotation.\r\n\r\n```\r\n@SpringBootApplication(exclude = {CompositeDiscoveryClientAutoConfiguration.class, SimpleDiscoveryClientAutoConfiguration.class})\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nOr through the properties file as `@spencergibb` suggested:\r\n```\r\n# yml version\r\nspring:\r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration\r\n      - org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration\r\n```\r\n```\r\n# classic version\r\nspring.autoconfigure.exclude= \\\r\n  org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration, \\\r\n  org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration\r\n```","title":"How to disable CompositeDiscoveryClient and SimpleDiscoveryClient in service discovery library","body":"<p>There are two <code>AutoConfiguration</code> classes that need to be excluded.</p>\n<p>You can do that through the <code>@SpringBootApplication</code> annotation.</p>\n<pre><code>@SpringBootApplication(exclude = {CompositeDiscoveryClientAutoConfiguration.class, SimpleDiscoveryClientAutoConfiguration.class})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Or through the properties file as <code>@spencergibb</code> suggested:</p>\n<pre><code># yml version\nspring:\n  autoconfigure:\n    exclude:\n      - org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration\n      - org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration\n</code></pre>\n<pre><code># classic version\nspring.autoconfigure.exclude= \\\n  org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClientAutoConfiguration, \\\n  org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1920,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54847194,"answer_count":2,"score":2,"last_activity_date":1697814488,"creation_date":1550811163,"question_id":54820276,"body_markdown":"We&#39;ve written an in-house service discovery (SD) client based on the [spring-cloud-commons SPI][1], meaning it provides implementations for interfaces `ServiceRegistry` and `DiscoveryClient` and some other Spring-provided abstractions.\r\n\r\nApps that use our library merely add it to their pom file, and it autowires the `DiscoveryClient` with its own implementation, `InHouseDiscoveryClient`\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;blah.blah&lt;groupId&gt;\r\n       &lt;artifactId&gt;inhouse-service-discovery-client&lt;artifactId&gt;\r\n    &lt;dependency&gt;\r\n\r\nHowever, rather than referring to `InHouseDiscoveryClient` in code, it&#39;s best practices to use the interface `DiscoveryClient` as shown below\r\n\r\n    # Good \r\n    @Autowired\r\n    DiscoveryClient client;\r\n\r\n    # Bad (binds app to a particular SD implementation)\r\n    @Autowired\r\n    InHouseDiscoveryClient client;\r\n\r\n\r\nAs such, we are required to add `spring-cloud-commons` to the project.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n*This is where the issue starts*.  The commons library actually autowires two additional implementations of `DiscoveryClient` - the `SimpleDiscoveryClient` and the `CompositeDiscoveryClient`.  \r\n\r\nThis makes for an odd user experience for our clients.  Instead of simply having `InHouseDiscoveryClient`, users find themselves with these additional beans.  \r\n\r\nIs it possible to prevent `spring-cloud-commons`&#39;s `DiscoveryClient` implementations from autowiring?  And if so, can this be done in our library rather than in the end-user&#39;s applications?\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-commons","title":"How to disable CompositeDiscoveryClient and SimpleDiscoveryClient in service discovery library","body":"<p>We've written an in-house service discovery (SD) client based on the <a href=\"https://spring.io/projects/spring-cloud-commons\" rel=\"nofollow noreferrer\">spring-cloud-commons SPI</a>, meaning it provides implementations for interfaces <code>ServiceRegistry</code> and <code>DiscoveryClient</code> and some other Spring-provided abstractions.</p>\n\n<p>Apps that use our library merely add it to their pom file, and it autowires the <code>DiscoveryClient</code> with its own implementation, <code>InHouseDiscoveryClient</code></p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;blah.blah&lt;groupId&gt;\n   &lt;artifactId&gt;inhouse-service-discovery-client&lt;artifactId&gt;\n&lt;dependency&gt;\n</code></pre>\n\n<p>However, rather than referring to <code>InHouseDiscoveryClient</code> in code, it's best practices to use the interface <code>DiscoveryClient</code> as shown below</p>\n\n<pre><code># Good \n@Autowired\nDiscoveryClient client;\n\n# Bad (binds app to a particular SD implementation)\n@Autowired\nInHouseDiscoveryClient client;\n</code></pre>\n\n<p>As such, we are required to add <code>spring-cloud-commons</code> to the project.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><em>This is where the issue starts</em>.  The commons library actually autowires two additional implementations of <code>DiscoveryClient</code> - the <code>SimpleDiscoveryClient</code> and the <code>CompositeDiscoveryClient</code>.  </p>\n\n<p>This makes for an odd user experience for our clients.  Instead of simply having <code>InHouseDiscoveryClient</code>, users find themselves with these additional beans.  </p>\n\n<p>Is it possible to prevent <code>spring-cloud-commons</code>'s <code>DiscoveryClient</code> implementations from autowiring?  And if so, can this be done in our library rather than in the end-user's applications?</p>\n"},{"tags":["java","spring-boot","scheduled-tasks","shedlock"],"comments":[{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Bat&#252;rk"},"score":0,"creation_date":1601550787,"post_id":64152064,"comment_id":113445879,"body_markdown":"Well create a table ScheduledTask and create a column of type Bit with a name started. Check its value at the beginning of your task. Set it to 1 when the task begins to execute. And if it&#39;s already 1 don&#39;t start your task. Set it again to 0 after your task completes!","body":"Well create a table ScheduledTask and create a column of type Bit with a name started. Check its value at the beginning of your task. Set it to 1 when the task begins to execute. And if it&#39;s already 1 don&#39;t start your task. Set it again to 0 after your task completes!"}],"answers":[{"tags":[],"owner":{"account_id":1220335,"reputation":257,"user_id":1187088,"accept_rate":47,"display_name":"eRez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601555453,"creation_date":1601555453,"answer_id":64155468,"question_id":64152064,"body_markdown":"well, apparently in my big project there was another config class (besides the `AppConfig`) - one called `SqlSpringConfig`, inside the db module.\r\nonce i put the `LockProvider` bean there, all works like a charm","title":"Java Spring shedlock fails","body":"<p>well, apparently in my big project there was another config class (besides the <code>AppConfig</code>) - one called <code>SqlSpringConfig</code>, inside the db module.\nonce i put the <code>LockProvider</code> bean there, all works like a charm</p>\n"},{"tags":[],"owner":{"account_id":29304954,"reputation":1,"user_id":22452222,"display_name":"jaejun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697813802,"creation_date":1697813723,"answer_id":77331926,"question_id":64152064,"body_markdown":"You should check your taskConfiguration implementation.\r\n\r\nI have same issue in my project. Problem is below code.\r\n\r\n    @Configuration\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n        private final int POOL_SIZE = 10;\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n    \r\n            threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\r\n            threadPoolTaskScheduler.setThreadNamePrefix(&quot;my-scheduled-task-pool-&quot;);\r\n            threadPoolTaskScheduler.initialize();\r\n    \r\n            scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n        }\r\n    }\r\n\r\nWe add custom configuration by implementing ScheduledTaskRegistrar for using multi-threading to execute tasks. But if you override configureTasks, shedlock doesn&#39;t work. You should inject by using @Bean. So,\r\n\r\n```java\r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n    \r\n        threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;custom-scheduler-&quot;);\r\n        threadPoolTaskScheduler.initialize();\r\n    \r\n        return threadPoolTaskScheduler;\r\n    }\r\n```\r\nwhen i change override to inject by @Bean, it works well!\r\n\r\n- official github : https://github.com/lukas-krecan/ShedLock#taskscheduler-proxy\r\n- why shedlock doesn&#39;t work : https://github.com/lukas-krecan/ShedLock/issues/137#issuecomment-481596720","title":"Java Spring shedlock fails","body":"<p>You should check your taskConfiguration implementation.</p>\n<p>I have same issue in my project. Problem is below code.</p>\n<pre><code>@Configuration\npublic class SchedulerConfig implements SchedulingConfigurer {\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n\n        threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;my-scheduled-task-pool-&quot;);\n        threadPoolTaskScheduler.initialize();\n\n        scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\n    }\n}\n</code></pre>\n<p>We add custom configuration by implementing ScheduledTaskRegistrar for using multi-threading to execute tasks. But if you override configureTasks, shedlock doesn't work. You should inject by using @Bean. So,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public TaskScheduler taskScheduler() {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n    \n        threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;custom-scheduler-&quot;);\n        threadPoolTaskScheduler.initialize();\n    \n        return threadPoolTaskScheduler;\n    }\n</code></pre>\n<p>when i change override to inject by @Bean, it works well!</p>\n<ul>\n<li>official github : <a href=\"https://github.com/lukas-krecan/ShedLock#taskscheduler-proxy\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock#taskscheduler-proxy</a></li>\n<li>why shedlock doesn't work : <a href=\"https://github.com/lukas-krecan/ShedLock/issues/137#issuecomment-481596720\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock/issues/137#issuecomment-481596720</a></li>\n</ul>\n"}],"owner":{"account_id":1220335,"reputation":257,"user_id":1187088,"accept_rate":47,"display_name":"eRez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64155468,"answer_count":2,"score":0,"last_activity_date":1697813802,"creation_date":1601542677,"question_id":64152064,"body_markdown":"i have a spring-boot app, which on production environment runs in 2 instances, resulting in scheduled tasks running twice.  to avoid that i&#39;m trying use shedlock, as explained [here][1] and [here][2], but it has no affect. \r\ni&#39;m already using a MySql db, to which i added a `shedlock` table as explained on both of the examples above.\r\n\r\nmy project&#39;s structure is as follows (partially) - \r\n\r\n[![enter image description here][3]][3]\r\n\r\nin my `application.properties` file i have this settings - \r\n\r\n    db.driver=com.mysql.cj.jdbc.Driver\r\n    db.url=jdbc:mysql://localhost:3306/b4ad?autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    db.username=*****\r\n    db.password=*****\r\n\r\nto the `AppConfig` class i added this annotation - \r\n\r\n    @EnableSchedulerLock(defaultLockAtMostFor = &quot;PT30S&quot;)\r\n\r\nand this bean - \r\n\r\n    @Bean\r\n    public LockProvider lockProvider(DataSource dataSource) {\r\n        return new JdbcTemplateLockProvider(dataSource, &quot;b4ad.shedlock&quot;);\r\n    }\r\n\r\nand in the `ScheduledManager` class i have this scheduled task - \r\n\r\n     @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\r\n    @SchedulerLock(name = &quot;deactivateExpiredOrganizations&quot;, lockAtLeastFor = &quot;PT5M&quot;)\r\n    public void deactivateExpiredOrganizations() {\r\n        // my code...\r\n    }\r\n\r\nwhen i run my application locally on 2 instances (using 2 different ports in the `application.properties` file), looking at the log i can see that the task runs on both instances, and at the same time the `shedlock` table remains empty.\r\naccording to the second item in the [troubleshooting][4] section, it seems that i miss-configured something, but i can&#39;t tell what.\r\n\r\nany help will be appreciated.\r\n\r\n\r\n  [1]: https://www.baeldung.com/shedlock-spring\r\n  [2]: https://github.com/lukas-krecan/ShedLock\r\n  [3]: https://i.stack.imgur.com/FXlFk.png\r\n  [4]: https://github.com/lukas-krecan/ShedLock#troubleshooting","title":"Java Spring shedlock fails","body":"<p>i have a spring-boot app, which on production environment runs in 2 instances, resulting in scheduled tasks running twice.  to avoid that i'm trying use shedlock, as explained <a href=\"https://www.baeldung.com/shedlock-spring\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"nofollow noreferrer\">here</a>, but it has no affect.\ni'm already using a MySql db, to which i added a <code>shedlock</code> table as explained on both of the examples above.</p>\n<p>my project's structure is as follows (partially) -</p>\n<p><a href=\"https://i.stack.imgur.com/FXlFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXlFk.png\" alt=\"enter image description here\" /></a></p>\n<p>in my <code>application.properties</code> file i have this settings -</p>\n<pre><code>db.driver=com.mysql.cj.jdbc.Driver\ndb.url=jdbc:mysql://localhost:3306/b4ad?autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\ndb.username=*****\ndb.password=*****\n</code></pre>\n<p>to the <code>AppConfig</code> class i added this annotation -</p>\n<pre><code>@EnableSchedulerLock(defaultLockAtMostFor = &quot;PT30S&quot;)\n</code></pre>\n<p>and this bean -</p>\n<pre><code>@Bean\npublic LockProvider lockProvider(DataSource dataSource) {\n    return new JdbcTemplateLockProvider(dataSource, &quot;b4ad.shedlock&quot;);\n}\n</code></pre>\n<p>and in the <code>ScheduledManager</code> class i have this scheduled task -</p>\n<pre><code> @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\n@SchedulerLock(name = &quot;deactivateExpiredOrganizations&quot;, lockAtLeastFor = &quot;PT5M&quot;)\npublic void deactivateExpiredOrganizations() {\n    // my code...\n}\n</code></pre>\n<p>when i run my application locally on 2 instances (using 2 different ports in the <code>application.properties</code> file), looking at the log i can see that the task runs on both instances, and at the same time the <code>shedlock</code> table remains empty.\naccording to the second item in the <a href=\"https://github.com/lukas-krecan/ShedLock#troubleshooting\" rel=\"nofollow noreferrer\">troubleshooting</a> section, it seems that i miss-configured something, but i can't tell what.</p>\n<p>any help will be appreciated.</p>\n"},{"tags":["java","arrays","average","sliding-window"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1697813042,"post_id":77331785,"comment_id":136330847,"body_markdown":"the mistake is: you are always &quot;increasing&quot; sum, however you should reset it at each iteration of outer loop. moreover, I do believe the idea of &quot;sliding window&quot; is to reuse previous computations - there should be just one loop.","body":"the mistake is: you are always &quot;increasing&quot; sum, however you should reset it at each iteration of outer loop. moreover, I do believe the idea of &quot;sliding window&quot; is to reuse previous computations - there should be just one loop."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1697816008,"post_id":77331785,"comment_id":136331420,"body_markdown":"You really just need to maximize the sum. Do the division once at the end and work with integers within the loop.","body":"You really just need to maximize the sum. Do the division once at the end and work with integers within the loop."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697818073,"post_id":77331785,"comment_id":136331743,"body_markdown":"For reference, the LeetCode page for this problem is https://leetcode.com/problems/maximum-average-subarray-i/","body":"For reference, the LeetCode page for this problem is <a href=\"https://leetcode.com/problems/maximum-average-subarray-i/\" rel=\"nofollow noreferrer\">leetcode.com/problems/maximum-average-subarray-i</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697821090,"post_id":77331785,"comment_id":136332250,"body_markdown":"Please edit the question, and explain why you believe your code has a problem. It would help to include example input (in this case, values of `nums` and `k`), expected output, and actual output.","body":"Please edit the question, and explain why you believe your code has a problem. It would help to include example input (in this case, values of <code>nums</code> and <code>k</code>), expected output, and actual output."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697813656,"creation_date":1697813656,"answer_id":77331920,"question_id":77331785,"body_markdown":"You don&#39;t need a double loop for this. Just iterate over the numbers array, removing the number from one end and adding the number at the other end.\r\n\r\n    int sum = 0;\r\n    int max = 0;\r\n    for (int i = 0; i &lt; k; i++) {\r\n      sum = sum + nums[i];\r\n    }\r\n    max = sum;\r\n    for (int i = k; i &lt; nums.length; i++) {\r\n      sum = sum - nums[i - k] + nums[i];\r\n      max = Math.max(sum, max);\r\n    }\r\n    double avg = max / (double) k;","title":"To find Maximum Average Subarray","body":"<p>You don't need a double loop for this. Just iterate over the numbers array, removing the number from one end and adding the number at the other end.</p>\n<pre><code>int sum = 0;\nint max = 0;\nfor (int i = 0; i &lt; k; i++) {\n  sum = sum + nums[i];\n}\nmax = sum;\nfor (int i = k; i &lt; nums.length; i++) {\n  sum = sum - nums[i - k] + nums[i];\n  max = Math.max(sum, max);\n}\ndouble avg = max / (double) k;\n</code></pre>\n"}],"owner":{"account_id":27692926,"reputation":1,"user_id":21139257,"display_name":"Bhoomika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697813656,"creation_date":1697812445,"question_id":77331785,"body_markdown":"This is a Leetcode problem, \r\nYou are given an integer array nums consisting of n elements, and an integer k. Find a contiguous subarray whose length is equal to k that has the maximum average value and return this value. Any answer with a calculation error less than 10-5 will be accepted.\r\n\r\nExample 1:\r\n\r\nInput: nums = [1,12,-5,-6,50,3], k = 4\r\nOutput: 12.75000\r\nExplanation: Maximum average is (12 - 5 - 6 + 50) / 4 = 51 / 4 = 12.75\r\n\r\nI feel like I&#39;m close, but there&#39;s some small logical error that I&#39;m unable to figure out. Please help me out. This is the code I wrote so far: \r\n\r\n```\r\nclass Solution {\r\n    public double findMaxAverage(int[] nums, int k) {\r\n        int n = nums.length;\r\n        int sum=0;\r\n        double avg;\r\n        double maxavg=0.0;\r\n        for(int i=0;i&lt;n-k+1;i++)\r\n        {\r\n            for(int j=0;j&lt;k;j++)\r\n            {\r\n                sum = sum+nums[i+j];\r\n            }\r\n            avg=((double)sum/(double)k);\r\n            maxavg = Math.max(avg,maxavg);\r\n        }\r\n        return maxavg;\r\n    }\r\n}\r\n```\r\n","title":"To find Maximum Average Subarray","body":"<p>This is a Leetcode problem,\nYou are given an integer array nums consisting of n elements, and an integer k. Find a contiguous subarray whose length is equal to k that has the maximum average value and return this value. Any answer with a calculation error less than 10-5 will be accepted.</p>\n<p>Example 1:</p>\n<p>Input: nums = [1,12,-5,-6,50,3], k = 4\nOutput: 12.75000\nExplanation: Maximum average is (12 - 5 - 6 + 50) / 4 = 51 / 4 = 12.75</p>\n<p>I feel like I'm close, but there's some small logical error that I'm unable to figure out. Please help me out. This is the code I wrote so far:</p>\n<pre><code>class Solution {\n    public double findMaxAverage(int[] nums, int k) {\n        int n = nums.length;\n        int sum=0;\n        double avg;\n        double maxavg=0.0;\n        for(int i=0;i&lt;n-k+1;i++)\n        {\n            for(int j=0;j&lt;k;j++)\n            {\n                sum = sum+nums[i+j];\n            }\n            avg=((double)sum/(double)k);\n            maxavg = Math.max(avg,maxavg);\n        }\n        return maxavg;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1652281930,"post_id":72203440,"comment_id":127569988,"body_markdown":"That exception is thrown on the `this.configs = new ConcurrentHashMap&lt;&gt;(configs);`. So, looks like something in your `xxConsumerConfigs` is really `null`.","body":"That exception is thrown on the <code>this.configs = new ConcurrentHashMap&lt;&gt;(configs);</code>. So, looks like something in your <code>xxConsumerConfigs</code> is really <code>null</code>."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652283628,"post_id":72203440,"comment_id":127570744,"body_markdown":"Spring Boot 2.6 uses Spring 5.3, you have Spring 5.2 dependencies in there.","body":"Spring Boot 2.6 uses Spring 5.3, you have Spring 5.2 dependencies in there."}],"answers":[{"tags":[],"owner":{"account_id":6305411,"reputation":63,"user_id":4898612,"display_name":"shazwashere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661585559,"creation_date":1661585559,"answer_id":73509138,"question_id":72203440,"body_markdown":"I was facing the same error where before the Springboot upgrade (v2.2.4 -&gt; v2.7.3), the code was working fine and post-upgrade, it started throwing a `NullPointerException`. I would strongly recommend debugging the code and go inside Spring libraries to understand which exact property is failing. In my case, it was \r\n\r\n        SslConfigs.SSL_ENDPOINT_IDENTIFICATION_ALGORITHM_CONFIG=\r\n    or\r\n        ssl.endpoint.identification.algorithm=\r\n\r\nwhich had been working fine as a `null` before the upgrade. But after the upgrade, it had to be set to an empty String due to changes in Kafka library.\r\n\r\nFound help from this answer: https://stackoverflow.com/a/56648768/4898612.\r\n\r\nGood luck!\r\n","title":"DefaultKafkaConsumerFactory - ConcurrentHashMap - NullPointerException","body":"<p>I was facing the same error where before the Springboot upgrade (v2.2.4 -&gt; v2.7.3), the code was working fine and post-upgrade, it started throwing a <code>NullPointerException</code>. I would strongly recommend debugging the code and go inside Spring libraries to understand which exact property is failing. In my case, it was</p>\n<pre><code>    SslConfigs.SSL_ENDPOINT_IDENTIFICATION_ALGORITHM_CONFIG=\nor\n    ssl.endpoint.identification.algorithm=\n</code></pre>\n<p>which had been working fine as a <code>null</code> before the upgrade. But after the upgrade, it had to be set to an empty String due to changes in Kafka library.</p>\n<p>Found help from this answer: <a href=\"https://stackoverflow.com/a/56648768/4898612\">https://stackoverflow.com/a/56648768/4898612</a>.</p>\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"score":0,"creation_date":1698219759,"post_id":77331911,"comment_id":136375858,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/35158521)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/35158521\">From Review</a>"}],"tags":[],"owner":{"account_id":11070249,"reputation":25,"user_id":8128615,"display_name":"SPACE _PRO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697813590,"creation_date":1697813590,"answer_id":77331911,"question_id":72203440,"body_markdown":"Please make sure all the values fetched from kafkaListenerConfig are not null, i.e. props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, **kafkaListenerConfig.getKafkaServerConfig**());\r\n\r\nIf one of the required parameter is null, DefaultKafkaConsumer throws NPE. ","title":"DefaultKafkaConsumerFactory - ConcurrentHashMap - NullPointerException","body":"<p>Please make sure all the values fetched from kafkaListenerConfig are not null, i.e. props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, <strong>kafkaListenerConfig.getKafkaServerConfig</strong>());</p>\n<p>If one of the required parameter is null, DefaultKafkaConsumer throws NPE.</p>\n"}],"owner":{"account_id":16511022,"reputation":75,"user_id":11929768,"display_name":"Madhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697813590,"creation_date":1652281718,"question_id":72203440,"body_markdown":"I am using kafka consumer. i did an upgrade from Spring boot 1.5 to 2.6. now when i run the applicaiton, its failing to start throwing NullPointerException . please let me know if any one could help me on this issue.\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[?:1.8.0_25]\r\n\tat java.util.concurrent.ConcurrentHashMap.putAll(ConcurrentHashMap.java:1084) ~[?:1.8.0_25]\r\n\tat java.util.concurrent.ConcurrentHashMap.&lt;init&gt;(ConcurrentHashMap.java:852) ~[?:1.8.0_25]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.&lt;init&gt;(DefaultKafkaConsumerFactory.java:129) ~[spring-kafka-2.8.4.jar:2.8.4]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.&lt;init&gt;(DefaultKafkaConsumerFactory.java:98) ~[spring-kafka-2.8.4.jar:2.8.4]\r\n\r\nFailed to instantiate [org.springframework.kafka.core.ConsumerFactory\r\n```\r\npom.xml\r\n```xml\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n```\r\nReceiverConfigClass:\r\n-------------------\r\n```java\r\n@Slf4j\r\n@Configuration\r\n@EnableKafka\r\n@ExcludeKafkaReceiver\r\npublic class XXTriggerKakfaReceiverConfig {\r\n   \r\n\t@Autowired\r\n\txxTriggerKafkaManagedBean kafkaListenerConfig;\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; xxConsumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        kafkaListenerConfig.getKafkaServerConfig());\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaListenerConfig.getKafkaServerConfig());\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, MessageSerializerType.getValue(kafkaListenerConfig.getValueDeserializerClass()));\r\n        props.put(Constants.AVRO_MSG_CLASS_TYPE, kafkaListenerConfig.getAvroMessageClassType());\r\n        // consumer groups allow a pool of processes to divide the work of\r\n        // consuming and processing records\r\n        props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, kafkaListenerConfig.getPartitionAssignmentStrategy());\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, kafkaListenerConfig.getGroupId());\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, kafkaListenerConfig.getAutoOffsetReset());\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, kafkaListenerConfig.getEnableAutoCommit());\r\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, kafkaListenerConfig.getSessionTimeoutMS());\r\n        props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, kafkaListenerConfig.getHeartbeatIntervalMS());\r\n        props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, kafkaListenerConfig.getRequestTimeoutMS());\r\n        props.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, kafkaListenerConfig.getFetchMaxWaitMS());\r\n        props.put(ConsumerConfig.RECONNECT_BACKOFF_MS_CONFIG, kafkaListenerConfig.getReconnectBackoffMS());\r\n        props.put(ConsumerConfig.RETRY_BACKOFF_MS_CONFIG, kafkaListenerConfig.getRetryBackoffMS());\r\n        props.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, kafkaListenerConfig.getMaxPartitionFetchSize());\r\n        props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, kafkaListenerConfig.getFetchMinBytes());\r\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaListenerConfig.getMaxPollRecords());\r\n\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Object&gt; xxConsumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(xxConsumerConfigs());  //This is the place throwing Null pointer Exception\r\n    }\r\n\r\n    /**\r\n     * A concurrent Kafka listener with concurrency managed through {concurrent_kafka_listeners} property value.\r\n     *\r\n     * @return ConcurrentKafkaListenerContainerFactory instance \r\n     */\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; xxKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(xxConsumerFactory());\r\n        factory.setConcurrency(kafkaListenerConfig.getNumberOfConcurrentListeners());\r\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n        ErrorHandler errorHandler = new KafkaListenerErrorHandler();\r\n        errorHandler.setAckAfterHandle(false);        \r\n        factory.setCommonErrorHandler((CommonErrorHandler) errorHandler);\r\n        return factory;\r\n    }\r\n\r\n    /**\r\n     * A concurrent Kafka batch listener with concurrency managed through {concurrent_kafka_listeners} property value.\r\n     *\r\n     * @return ConcurrentKafkaListenerContainerFactory instance\r\n     */\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; xxKafkaBatchListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(xxConsumerFactory());\r\n        factory.setConcurrency(kafkaListenerConfig.getNumberOfConcurrentListeners());\r\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n        ErrorHandler errorHandler = new KafkaListenerErrorHandler(); \r\n        errorHandler.setAckAfterHandle(false);        \r\n        factory.setCommonErrorHandler((CommonErrorHandler) errorHandler);\r\n        factory.setBatchListener(true);\r\n        return factory;\r\n    }\r\n```","title":"DefaultKafkaConsumerFactory - ConcurrentHashMap - NullPointerException","body":"<p>I am using kafka consumer. i did an upgrade from Spring boot 1.5 to 2.6. now when i run the applicaiton, its failing to start throwing NullPointerException . please let me know if any one could help me on this issue.</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[?:1.8.0_25]\n    at java.util.concurrent.ConcurrentHashMap.putAll(ConcurrentHashMap.java:1084) ~[?:1.8.0_25]\n    at java.util.concurrent.ConcurrentHashMap.&lt;init&gt;(ConcurrentHashMap.java:852) ~[?:1.8.0_25]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.&lt;init&gt;(DefaultKafkaConsumerFactory.java:129) ~[spring-kafka-2.8.4.jar:2.8.4]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.&lt;init&gt;(DefaultKafkaConsumerFactory.java:98) ~[spring-kafka-2.8.4.jar:2.8.4]\n\nFailed to instantiate [org.springframework.kafka.core.ConsumerFactory\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;/parent&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt; \n</code></pre>\n<h2>ReceiverConfigClass:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\n@EnableKafka\n@ExcludeKafkaReceiver\npublic class XXTriggerKakfaReceiverConfig {\n   \n    @Autowired\n    xxTriggerKafkaManagedBean kafkaListenerConfig;\n\n    @Bean\n    public Map&lt;String, Object&gt; xxConsumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        kafkaListenerConfig.getKafkaServerConfig());\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaListenerConfig.getKafkaServerConfig());\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, MessageSerializerType.getValue(kafkaListenerConfig.getValueDeserializerClass()));\n        props.put(Constants.AVRO_MSG_CLASS_TYPE, kafkaListenerConfig.getAvroMessageClassType());\n        // consumer groups allow a pool of processes to divide the work of\n        // consuming and processing records\n        props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, kafkaListenerConfig.getPartitionAssignmentStrategy());\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, kafkaListenerConfig.getGroupId());\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, kafkaListenerConfig.getAutoOffsetReset());\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, kafkaListenerConfig.getEnableAutoCommit());\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, kafkaListenerConfig.getSessionTimeoutMS());\n        props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, kafkaListenerConfig.getHeartbeatIntervalMS());\n        props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG, kafkaListenerConfig.getRequestTimeoutMS());\n        props.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, kafkaListenerConfig.getFetchMaxWaitMS());\n        props.put(ConsumerConfig.RECONNECT_BACKOFF_MS_CONFIG, kafkaListenerConfig.getReconnectBackoffMS());\n        props.put(ConsumerConfig.RETRY_BACKOFF_MS_CONFIG, kafkaListenerConfig.getRetryBackoffMS());\n        props.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, kafkaListenerConfig.getMaxPartitionFetchSize());\n        props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, kafkaListenerConfig.getFetchMinBytes());\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaListenerConfig.getMaxPollRecords());\n\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Object&gt; xxConsumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(xxConsumerConfigs());  //This is the place throwing Null pointer Exception\n    }\n\n    /**\n     * A concurrent Kafka listener with concurrency managed through {concurrent_kafka_listeners} property value.\n     *\n     * @return ConcurrentKafkaListenerContainerFactory instance \n     */\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; xxKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(xxConsumerFactory());\n        factory.setConcurrency(kafkaListenerConfig.getNumberOfConcurrentListeners());\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        ErrorHandler errorHandler = new KafkaListenerErrorHandler();\n        errorHandler.setAckAfterHandle(false);        \n        factory.setCommonErrorHandler((CommonErrorHandler) errorHandler);\n        return factory;\n    }\n\n    /**\n     * A concurrent Kafka batch listener with concurrency managed through {concurrent_kafka_listeners} property value.\n     *\n     * @return ConcurrentKafkaListenerContainerFactory instance\n     */\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; xxKafkaBatchListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(xxConsumerFactory());\n        factory.setConcurrency(kafkaListenerConfig.getNumberOfConcurrentListeners());\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        ErrorHandler errorHandler = new KafkaListenerErrorHandler(); \n        errorHandler.setAckAfterHandle(false);        \n        factory.setCommonErrorHandler((CommonErrorHandler) errorHandler);\n        factory.setBatchListener(true);\n        return factory;\n    }\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-jms"],"comments":[{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1697913610,"post_id":77331062,"comment_id":136340200,"body_markdown":"What is the purpose of letting the messages being sent to so many different queues, if it is only one single application which builds one single joined list of messages from all those queues? Would it make sense to change your overall queueing design to have only one queue as input to your application and let all message producers use this queue as destination?","body":"What is the purpose of letting the messages being sent to so many different queues, if it is only one single application which builds one single joined list of messages from all those queues? Would it make sense to change your overall queueing design to have only one queue as input to your application and let all message producers use this queue as destination?"},{"owner":{"account_id":15569141,"reputation":33,"user_id":11232057,"display_name":"Ru5Ty"},"score":0,"creation_date":1698036900,"post_id":77331062,"comment_id":136349514,"body_markdown":"Actually this application is basically like a one stop admin tool which takes data i.e. message from many differennt department and applications from the whole bank like credit processing, bank transfer, loan processing which are spread across organistion.\nThis application was built many years ago for managers and supervisor to over see the internal operations, now our team was given this project to improve the application and perfromace and port into newer srping version only thing is the perfiomance we are not able to get past 20 mins.","body":"Actually this application is basically like a one stop admin tool which takes data i.e. message from many differennt department and applications from the whole bank like credit processing, bank transfer, loan processing which are spread across organistion. This application was built many years ago for managers and supervisor to over see the internal operations, now our team was given this project to improve the application and perfromace and port into newer srping version only thing is the perfiomance we are not able to get past 20 mins."}],"owner":{"account_id":15569141,"reputation":33,"user_id":11232057,"display_name":"Ru5Ty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697813579,"creation_date":1697806251,"question_id":77331062,"body_markdown":"I am working on a project in my company where we have a application that displays message from the queues **IBM MQ** and the user can select and do operation on that message like send them to other queue or remove them after inspecting them.\r\n\r\nThe problem is as the application is rest service we have to get all the messages in all the MQs once user hits the page in react application.\r\n\r\nThere will be different brokers as well. For example we have 50 Mqs and two brokers (all MQ are there in each broker) that means we have 100 Mqs from which we have to browse and parse the message into json and send the message to front end\r\n\r\nProblem is the time taken currently is too long it takes 20 mins plus to read all the message\r\n\r\nAs I can not share the real code I have added dummy code \r\n\r\n```\r\n    public Object getAllMessage() {\r\n\r\n//        Some list of mqs\r\n        List&lt;String&gt; mqs = new ArrayList&lt;&gt;();\r\n\r\n//        Some list of connection Factory\r\n        List&lt;ConnectionFactory&gt; connectionFactoryList = new ArrayList&lt;&gt;();\r\n\r\n//        Logic to read\r\n        connectionFactoryList.forEach(c -&gt; {\r\n            CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory(c);\r\n            cachingConnectionFactory.setSessionCacheSize(10);\r\n\r\n            JmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\r\n\r\n//            Tried this approach after reading some posts where we can use a single session \r\n//            and read all the queues using that session then move on to next Queue Manager\r\n//            but it didnt help in performance increase\r\n            jmsTemplate.execute(session -&gt; {\r\n                mqs.stream().parallel().forEach(mq -&gt; {\r\n                    Enumeration enumeration = session.createBrowser(session.createQueue(mq)).getEnumeration();\r\n\r\n                    while (enumeration.hasMoreElements()) {\r\n//                        process the message and add it to a List\r\n                    }\r\n\r\n                });\r\n                return null;\r\n            });\r\n\r\n        });\r\n    return null;\r\n    }\r\n```\r\n\r\nWhat can I do to improve the performance, Can I run each mq read operation in a new thread using jms Template, Can Jms Template or session call be shared among threads? \r\ncan we cerate multiple sessions for single connection factory ?\r\n\r\nNot experienced in multithreading any help or dummy code will help a lot.\r\n\r\nThe end goal io to have all messages from all MQ from all Queue Managers into a list taht will be sent back to the front end and the business team can do their operation\r\n\r\nNOTE : Dont want to delete the message fro MQ just read it as per the buisness requirement, need the fastest way to read all the message \r\n\r\n\r\n","title":"How to read multuiple Queues with spring jmsTemplate","body":"<p>I am working on a project in my company where we have a application that displays message from the queues <strong>IBM MQ</strong> and the user can select and do operation on that message like send them to other queue or remove them after inspecting them.</p>\n<p>The problem is as the application is rest service we have to get all the messages in all the MQs once user hits the page in react application.</p>\n<p>There will be different brokers as well. For example we have 50 Mqs and two brokers (all MQ are there in each broker) that means we have 100 Mqs from which we have to browse and parse the message into json and send the message to front end</p>\n<p>Problem is the time taken currently is too long it takes 20 mins plus to read all the message</p>\n<p>As I can not share the real code I have added dummy code</p>\n<pre><code>    public Object getAllMessage() {\n\n//        Some list of mqs\n        List&lt;String&gt; mqs = new ArrayList&lt;&gt;();\n\n//        Some list of connection Factory\n        List&lt;ConnectionFactory&gt; connectionFactoryList = new ArrayList&lt;&gt;();\n\n//        Logic to read\n        connectionFactoryList.forEach(c -&gt; {\n            CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory(c);\n            cachingConnectionFactory.setSessionCacheSize(10);\n\n            JmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\n\n//            Tried this approach after reading some posts where we can use a single session \n//            and read all the queues using that session then move on to next Queue Manager\n//            but it didnt help in performance increase\n            jmsTemplate.execute(session -&gt; {\n                mqs.stream().parallel().forEach(mq -&gt; {\n                    Enumeration enumeration = session.createBrowser(session.createQueue(mq)).getEnumeration();\n\n                    while (enumeration.hasMoreElements()) {\n//                        process the message and add it to a List\n                    }\n\n                });\n                return null;\n            });\n\n        });\n    return null;\n    }\n</code></pre>\n<p>What can I do to improve the performance, Can I run each mq read operation in a new thread using jms Template, Can Jms Template or session call be shared among threads?\ncan we cerate multiple sessions for single connection factory ?</p>\n<p>Not experienced in multithreading any help or dummy code will help a lot.</p>\n<p>The end goal io to have all messages from all MQ from all Queue Managers into a list taht will be sent back to the front end and the business team can do their operation</p>\n<p>NOTE : Dont want to delete the message fro MQ just read it as per the buisness requirement, need the fastest way to read all the message</p>\n"},{"tags":["java","caching","ignite"],"comments":[{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1664219323,"post_id":73850877,"comment_id":130416800,"body_markdown":"Can you share the code you use to subscribe to Continuous Queries? I assume all clients subscribe to them?","body":"Can you share the code you use to subscribe to Continuous Queries? I assume all clients subscribe to them?"},{"owner":{"account_id":5089244,"reputation":1920,"user_id":4082814,"display_name":"Danut Radoaica"},"score":0,"creation_date":1664306793,"post_id":73850877,"comment_id":130440398,"body_markdown":"You should increase timeout on java thin client: ClientConfiguration target = new ClientConfiguration().setAddresses(&quot;127.0.0.1:10800&quot;, &quot;127.0.0.1:10801&quot;).setTimeout(&lt;&lt;time in milliseconds&gt;&gt;);","body":"You should increase timeout on java thin client: ClientConfiguration target = new ClientConfiguration().setAddresses(&quot;127.0.0.1:10800&quot;, &quot;127.0.0.1:10801&quot;).setTimeout(&lt;&lt;time in milliseconds&gt;&gt;);"},{"owner":{"account_id":2849183,"reputation":83,"user_id":2446727,"display_name":"Vikas Tyagi"},"score":0,"creation_date":1664340999,"post_id":73850877,"comment_id":130446286,"body_markdown":"@DanutRadoaica  we are using thick client. Will try to that for them.","body":"@DanutRadoaica  we are using thick client. Will try to that for them."},{"owner":{"account_id":5089244,"reputation":1920,"user_id":4082814,"display_name":"Danut Radoaica"},"score":0,"creation_date":1664349926,"post_id":73850877,"comment_id":130448439,"body_markdown":"for thick client: IgniteConfiguration#setNetworkTimeout, IgniteConfiguration#setFailureDetectionTimeout, IgniteConfiguration#setClientFailureDetectionTimeout, IgniteConfiguration#getDiscoverySpi#setNetworkTimeout,IgniteConfiguration#getDiscoverySpi#setSocketWriteTimeout","body":"for thick client: IgniteConfiguration#setNetworkTimeout, IgniteConfiguration#setFailureDetectionTimeout, IgniteConfiguration#setClientFailureDetectionTimeout, IgniteConfiguration#getDiscoverySpi#setNetworkTimeout,Ignite&zwnj;&#8203;Configuration#getDis&zwnj;&#8203;coverySpi#setSocketW&zwnj;&#8203;riteTimeout"},{"owner":{"account_id":2849183,"reputation":83,"user_id":2446727,"display_name":"Vikas Tyagi"},"score":0,"creation_date":1664355310,"post_id":73850877,"comment_id":130450355,"body_markdown":"@StanislavLukyanov I found code which we run from our worker node. I have added it as part of original question.","body":"@StanislavLukyanov I found code which we run from our worker node. I have added it as part of original question."},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1664359488,"post_id":73850877,"comment_id":130451887,"body_markdown":"Hmm... Someone should write a test that: \n1. Starts multiple thick clients and a cache\n2. Starts CQ on each\n3. Writes into the cache continuously\n4. Hard-kills one of the clients (`kill -9` or use some test trickery to avoid client from waving goodbye)\n\nThere might be one already in the Ignite codebase. Unfortunately, I don&#39;t have time to check right now.","body":"Hmm... Someone should write a test that:  1. Starts multiple thick clients and a cache 2. Starts CQ on each 3. Writes into the cache continuously 4. Hard-kills one of the clients (<code>kill -9</code> or use some test trickery to avoid client from waving goodbye)  There might be one already in the Ignite codebase. Unfortunately, I don&#39;t have time to check right now."}],"owner":{"account_id":2849183,"reputation":83,"user_id":2446727,"display_name":"Vikas Tyagi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697813396,"creation_date":1664177724,"question_id":73850877,"body_markdown":"We have Ignite cluster having server(data/cache) and client(worker) nodes where client pulls data from server nodes to perform computation. This setup works fine except sometime this whole cluster becomes unresponsive and we have to restart the complete grid. The pattern I observe is:\r\n\r\n 1. Any of the client(worker) node exit the cluster/topology w/o publishing Node exit event.\r\n 2. This triggers following exception on data nodes.\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.apache.ignite.IgniteCheckedException: Timeout was reached before computation completed.\r\n    \tat org.apache.ignite.internal.util.IgniteUtils.cast(IgniteUtils.java:7563) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.resolve(GridFutureAdapter.java:260) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:172) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:141) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3229) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:3013) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:2960) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager.sendOrderedMessage(GridIoManager.java:2365) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1964) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1935) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1917) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendNotification(GridContinuousProcessor.java:1324) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.addNotification(GridContinuousProcessor.java:1261) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler.onEntryUpdate(CacheContinuousQueryHandler.java:1059) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler.access$600(CacheContinuousQueryHandler.java:90) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler$2.onEntryUpdated(CacheContinuousQueryHandler.java:459) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryManager.onEntryUpdated(CacheContinuousQueryManager.java:447) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2495) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2657) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2118) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1935) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1734) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3322) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:141) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:273) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:268) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1142) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:591) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:392) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:318) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:109) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:308) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1907) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1528) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager.access$5300(GridIoManager.java:241) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.GridIoManager$9.execute(GridIoManager.java:1421) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.managers.communication.TraceRunnable.run(TraceRunnable.java:55) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.StripedExecutor$Stripe.body(StripedExecutor.java:565) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\r\n    Caused by: org.apache.ignite.spi.IgniteSpiException: Timeout was reached before computation completed.\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.handleUnreachableNodeException(TcpCommunicationSpi.java:3304) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3211) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.access$6700(TcpCommunicationSpi.java:307) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$CommunicationWorker.processDisconnect(TcpCommunicationSpi.java:5150) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$CommunicationWorker.body(TcpCommunicationSpi.java:4951) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120) [ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$5.body(TcpCommunicationSpi.java:2503) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tSuppressed: org.apache.ignite.spi.communication.tcp.internal.NodeUnreachableException: Failed to connect to all addresses of node 46ea1c96-edbb-4c92-ae15-4930b48c6d84: [/10.228.29.168:47000]; inverse connection will be requested.\r\n    \t\tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createNioSession(TcpCommunicationSpi.java:3982) [ignite-core-2.9.1.jar:2.9.1]\r\n    \t\tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:3635) [ignite-core-2.9.1.jar:2.9.1]\r\n    \t\tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createCommunicationClient(TcpCommunicationSpi.java:3375) [ignite-core-2.9.1.jar:2.9.1]\r\n    \t\tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3180) [ignite-core-2.9.1.jar:2.9.1]\r\n    \t\t... 6 common frames omitted\r\n    Caused by: org.apache.ignite.internal.IgniteFutureTimeoutCheckedException: Timeout was reached before computation completed.\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:244) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:160) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:152) ~[ignite-core-2.9.1.jar:2.9.1]\r\n    \tat org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.handleUnreachableNodeException(TcpCommunicationSpi.java:3301) [ignite-core-2.9.1.jar:2.9.1]\r\n    \t... 7 common frames omitted\r\n\r\n 3. I can see following warning on server node which could be related:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Possible starvation in striped pool.\r\n        Thread name: sys-stripe-5-#6%pv-ib-valuation%\r\n        Queue: [Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@35b24146], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=786433, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@77901da5], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=835585, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=fae5b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=0be5b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612761, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@5d7d3932], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=802817, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=bbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=cbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612762, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=dbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=ebb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612763, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=fbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=0cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612764, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=1cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=2cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612765, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=464b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, miniId=564b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, ver=GridCacheVersion [topVer=274988830, order=1663551612460, nodeOrder=673], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=276a2bbe-45a2-473e-bdea-31c41e87a7a9, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=664b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, miniId=764b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, ver=GridCacheVersion [topVer=274988830, order=1663551612461, nodeOrder=673], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=276a2bbe-45a2-473e-bdea-31c41e87a7a9, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=8693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=9693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988857, order=1663551612767, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=743, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=7693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=a693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988857, order=1663551612766, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=743, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]]]\r\n        Deadlock: false\r\n        Completed: 432169\r\n    Thread [name=&quot;sys-stripe-5-#6%pv-ib-valuation%&quot;, id=41, state=TIMED_WAITING, blockCnt=24514, waitCnt=284215]\r\n            at java.lang.Thread.sleep(Native Method)\r\n            at o.a.i.i.util.IgniteUtils.sleep(IgniteUtils.java:7894)\r\n            at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1991)\r\n            at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1935)\r\n            at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1917)\r\n            at o.a.i.i.processors.continuous.GridContinuousProcessor.sendNotification(GridContinuousProcessor.java:1324)\r\n            at o.a.i.i.processors.continuous.GridContinuousProcessor.addNotification(GridContinuousProcessor.java:1261)\r\n            at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler.onEntryUpdate(CacheContinuousQueryHandler.java:1059)\r\n            at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler.access$600(CacheContinuousQueryHandler.java:90)\r\n            at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler$2.onEntryUpdated(CacheContinuousQueryHandler.java:459)\r\n            at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryManager.onEntryUpdated(CacheContinuousQueryManager.java:447)\r\n            at o.a.i.i.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2495)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2657)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2118)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1935)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1734)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3322)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:141)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:273)\r\n            at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:268)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1142)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:591)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:392)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:318)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:109)\r\n            at o.a.i.i.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:308)\r\n            at o.a.i.i.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1907)\r\n            at o.a.i.i.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1528)\r\n            at o.a.i.i.managers.communication.GridIoManager.access$5300(GridIoManager.java:241)\r\n            at o.a.i.i.managers.communication.GridIoManager$9.execute(GridIoManager.java:1421)\r\n            at o.a.i.i.managers.communication.TraceRunnable.run(TraceRunnable.java:55)\r\n            at o.a.i.i.util.StripedExecutor$Stripe.body(StripedExecutor.java:565)\r\n            at o.a.i.i.util.worker.GridWorker.run(GridWorker.java:120)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\n 4. Grid graually started to slow down and at the end it just become unresponsive.\r\n\r\nAny lead what could be wrong with it and why client exit is causing data/server node to become unresponsive? \r\n\r\n**Continuous Query From Worker/Client:**\r\n\r\n    IgniteCache&lt;String, Object[]&gt; cache = ignite.cache(&quot;dataCache&quot;);\r\n    ContinuousQuery&lt;String, Object[]&gt; query = new ContinuousQuery();\r\n    CacheEntryUpdatedListenerAsync&lt;String, Object[]&gt; listener = e -&gt; e.forEach(this::processCacheEvent);\r\n    query.setLocalListener(listener);\r\n    cache.query(query);\r\n\r\n","title":"Apache Ignite becomes unresponsive on bad exit of client node","body":"<p>We have Ignite cluster having server(data/cache) and client(worker) nodes where client pulls data from server nodes to perform computation. This setup works fine except sometime this whole cluster becomes unresponsive and we have to restart the complete grid. The pattern I observe is:</p>\n<ol>\n<li>Any of the client(worker) node exit the cluster/topology w/o publishing Node exit event.</li>\n<li>This triggers following exception on data nodes.</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.ignite.IgniteCheckedException: Timeout was reached before computation completed.\n    at org.apache.ignite.internal.util.IgniteUtils.cast(IgniteUtils.java:7563) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.resolve(GridFutureAdapter.java:260) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:172) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:141) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3229) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:3013) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:2960) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager.sendOrderedMessage(GridIoManager.java:2365) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1964) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1935) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1917) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.sendNotification(GridContinuousProcessor.java:1324) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.addNotification(GridContinuousProcessor.java:1261) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler.onEntryUpdate(CacheContinuousQueryHandler.java:1059) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler.access$600(CacheContinuousQueryHandler.java:90) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryHandler$2.onEntryUpdated(CacheContinuousQueryHandler.java:459) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.query.continuous.CacheContinuousQueryManager.onEntryUpdated(CacheContinuousQueryManager.java:447) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2495) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2657) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2118) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1935) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1734) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3322) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:141) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:273) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:268) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1142) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:591) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:392) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:318) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:109) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:308) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1907) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1528) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager.access$5300(GridIoManager.java:241) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.GridIoManager$9.execute(GridIoManager.java:1421) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.managers.communication.TraceRunnable.run(TraceRunnable.java:55) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.StripedExecutor$Stripe.body(StripedExecutor.java:565) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120) [ignite-core-2.9.1.jar:2.9.1]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\nCaused by: org.apache.ignite.spi.IgniteSpiException: Timeout was reached before computation completed.\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.handleUnreachableNodeException(TcpCommunicationSpi.java:3304) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3211) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.access$6700(TcpCommunicationSpi.java:307) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$CommunicationWorker.processDisconnect(TcpCommunicationSpi.java:5150) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$CommunicationWorker.body(TcpCommunicationSpi.java:4951) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120) [ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi$5.body(TcpCommunicationSpi.java:2503) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58) ~[ignite-core-2.9.1.jar:2.9.1]\n    Suppressed: org.apache.ignite.spi.communication.tcp.internal.NodeUnreachableException: Failed to connect to all addresses of node 46ea1c96-edbb-4c92-ae15-4930b48c6d84: [/10.228.29.168:47000]; inverse connection will be requested.\n        at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createNioSession(TcpCommunicationSpi.java:3982) [ignite-core-2.9.1.jar:2.9.1]\n        at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:3635) [ignite-core-2.9.1.jar:2.9.1]\n        at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createCommunicationClient(TcpCommunicationSpi.java:3375) [ignite-core-2.9.1.jar:2.9.1]\n        at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.reserveClient(TcpCommunicationSpi.java:3180) [ignite-core-2.9.1.jar:2.9.1]\n        ... 6 common frames omitted\nCaused by: org.apache.ignite.internal.IgniteFutureTimeoutCheckedException: Timeout was reached before computation completed.\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:244) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:160) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:152) ~[ignite-core-2.9.1.jar:2.9.1]\n    at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.handleUnreachableNodeException(TcpCommunicationSpi.java:3301) [ignite-core-2.9.1.jar:2.9.1]\n    ... 7 common frames omitted\n</code></pre>\n<ol start=\"3\">\n<li>I can see following warning on server node which could be related:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>Possible starvation in striped pool.\n    Thread name: sys-stripe-5-#6%pv-ib-valuation%\n    Queue: [Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@35b24146], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=786433, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@77901da5], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=835585, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=fae5b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=0be5b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612761, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearAtomicSingleUpdateFilterRequest [filter=[o.a.i.i.processors.cache.CacheEntrySerializablePredicate@5d7d3932], parent=GridNearAtomicSingleUpdateRequest [key=KeyCacheObjectImpl [part=775, val=null, hasValBytes=true], parent=GridNearAtomicAbstractSingleUpdateRequest [nodeId=null, futId=802817, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], parent=GridNearAtomicAbstractUpdateRequest [res=null, flags=needRes]]]]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=bbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=cbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612762, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=dbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=ebb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612763, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=fbb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=0cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612764, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=1cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=2cb6b635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988830, order=1663551612765, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=464b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, miniId=564b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, ver=GridCacheVersion [topVer=274988830, order=1663551612460, nodeOrder=673], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=276a2bbe-45a2-473e-bdea-31c41e87a7a9, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=664b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, miniId=764b9635381-7057249e-b58b-42aa-ac97-d99f8f02bb68, ver=GridCacheVersion [topVer=274988830, order=1663551612461, nodeOrder=673], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=716, minorTopVer=0], subjId=276a2bbe-45a2-473e-bdea-31c41e87a7a9, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=8693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=9693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988857, order=1663551612767, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=743, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]], Message closure [msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridNearGetRequest [futId=7693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, miniId=a693c635381-3bb423f1-d4d5-4223-90d4-e239b7254f34, ver=GridCacheVersion [topVer=274988857, order=1663551612766, nodeOrder=674], keyMap=null, flags=5, topVer=AffinityTopologyVersion [topVer=743, minorTopVer=0], subjId=f3e89bcb-caa0-4004-bc24-dc7bbf2687ed, taskNameHash=0, createTtl=43200000, accessTtl=-1, txLbl=null, mvccSnapshot=null]]]]\n    Deadlock: false\n    Completed: 432169\nThread [name=&quot;sys-stripe-5-#6%pv-ib-valuation%&quot;, id=41, state=TIMED_WAITING, blockCnt=24514, waitCnt=284215]\n        at java.lang.Thread.sleep(Native Method)\n        at o.a.i.i.util.IgniteUtils.sleep(IgniteUtils.java:7894)\n        at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1991)\n        at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1935)\n        at o.a.i.i.processors.continuous.GridContinuousProcessor.sendWithRetries(GridContinuousProcessor.java:1917)\n        at o.a.i.i.processors.continuous.GridContinuousProcessor.sendNotification(GridContinuousProcessor.java:1324)\n        at o.a.i.i.processors.continuous.GridContinuousProcessor.addNotification(GridContinuousProcessor.java:1261)\n        at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler.onEntryUpdate(CacheContinuousQueryHandler.java:1059)\n        at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler.access$600(CacheContinuousQueryHandler.java:90)\n        at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryHandler$2.onEntryUpdated(CacheContinuousQueryHandler.java:459)\n        at o.a.i.i.processors.cache.query.continuous.CacheContinuousQueryManager.onEntryUpdated(CacheContinuousQueryManager.java:447)\n        at o.a.i.i.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2495)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2657)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2118)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1935)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1734)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3322)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:141)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:273)\n        at o.a.i.i.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:268)\n        at o.a.i.i.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1142)\n        at o.a.i.i.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:591)\n        at o.a.i.i.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:392)\n        at o.a.i.i.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:318)\n        at o.a.i.i.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:109)\n        at o.a.i.i.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:308)\n        at o.a.i.i.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1907)\n        at o.a.i.i.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1528)\n        at o.a.i.i.managers.communication.GridIoManager.access$5300(GridIoManager.java:241)\n        at o.a.i.i.managers.communication.GridIoManager$9.execute(GridIoManager.java:1421)\n        at o.a.i.i.managers.communication.TraceRunnable.run(TraceRunnable.java:55)\n        at o.a.i.i.util.StripedExecutor$Stripe.body(StripedExecutor.java:565)\n        at o.a.i.i.util.worker.GridWorker.run(GridWorker.java:120)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<ol start=\"4\">\n<li>Grid graually started to slow down and at the end it just become unresponsive.</li>\n</ol>\n<p>Any lead what could be wrong with it and why client exit is causing data/server node to become unresponsive?</p>\n<p><strong>Continuous Query From Worker/Client:</strong></p>\n<pre><code>IgniteCache&lt;String, Object[]&gt; cache = ignite.cache(&quot;dataCache&quot;);\nContinuousQuery&lt;String, Object[]&gt; query = new ContinuousQuery();\nCacheEntryUpdatedListenerAsync&lt;String, Object[]&gt; listener = e -&gt; e.forEach(this::processCacheEvent);\nquery.setLocalListener(listener);\ncache.query(query);\n</code></pre>\n"},{"tags":["java","tomcat","https","jks","crt"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697628923,"post_id":77314796,"comment_id":136303186,"body_markdown":"Not programming or development, but: are you using OpenSSL &gt;= 3.0.0? If so it creates PKCS12 using &#39;modern&#39; encryption (specifically PBES2/PBKDF2) that older Java did not handle; add `-legacy` to the `openssl pkcs12 -export` command. (Or if you want strong encryption on the certificates, which isn&#39;t really needed but some people like, make it `-legacy -descert`. Yes it&#39;s spelled `-descert` even though it actually does 3DES not DES.)","body":"Not programming or development, but: are you using OpenSSL &gt;= 3.0.0? If so it creates PKCS12 using &#39;modern&#39; encryption (specifically PBES2/PBKDF2) that older Java did not handle; add <code>-legacy</code> to the <code>openssl pkcs12 -export</code> command. (Or if you want strong encryption on the certificates, which isn&#39;t really needed but some people like, make it <code>-legacy -descert</code>. Yes it&#39;s spelled <code>-descert</code> even though it actually does 3DES not DES.)"},{"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"score":0,"creation_date":1697632028,"post_id":77314796,"comment_id":136303852,"body_markdown":"Yes, I used 3.1.3. If I try to add -legacy I receive this message : pkcs12: unable to load provider legacy\nHint: use -provider-path option or OPENSSL_MODULES environment variable.\nF8210000:error:12800067:DSO support routines:win32_load:could not load the shared library:crypto\\dso\\dso_win32.c:108:filename(C:\\Program Files\\OpenSSL\\lib\\ossl-modules\\legacy.dll)\nF8210000:error:12800067:DSO support routines:DSO_load:could not load the shared library:crypto\\dso\\dso_lib.c:152:\nF8210000:error:07880025:common libcrypto routines:provider_init:reason(524325):crypto\\provider_core.c:904:name=legacy","body":"Yes, I used 3.1.3. If I try to add -legacy I receive this message : pkcs12: unable to load provider legacy Hint: use -provider-path option or OPENSSL_MODULES environment variable. F8210000:error:12800067:DSO support routines:win32_load:could not load the shared library:crypto\\dso\\dso_win32.c:108:filename(C:\\Program Files\\OpenSSL\\lib\\ossl-modules\\legacy.dll) F8210000:error:12800067:DSO support routines:DSO_load:could not load the shared library:crypto\\dso\\dso_lib.c:152: F8210000:error:07880025:common libcrypto routines:provider_init:reason(524325):crypto\\provider_core.c&zwnj;&#8203;:904:name=legacy"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697685811,"post_id":77314796,"comment_id":136311776,"body_markdown":"Okay, your openssl build or install is broken. If you want to pursue that we would need details of the build, install, and possibly config, and I&#39;m not sure SO is the right place. Alternatively it should work to not invoke the legacy logic but instead specify explicitly (but less conveniently) `-keypbe PBE-SHA1-3DES -certpbe PBE-SHA1-3DES -macalg SHA1`.","body":"Okay, your openssl build or install is broken. If you want to pursue that we would need details of the build, install, and possibly config, and I&#39;m not sure SO is the right place. Alternatively it should work to not invoke the legacy logic but instead specify explicitly (but less conveniently) <code>-keypbe PBE-SHA1-3DES -certpbe PBE-SHA1-3DES -macalg SHA1</code>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697811140,"post_id":77316673,"comment_id":136330440,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77316673/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697813101,"creation_date":1697634927,"answer_id":77316673,"question_id":77314796,"body_markdown":"As @dave_thompson_085 said the problem was openssl version.\r\nI installed 1.1.1 version, and then the jks it was correctly created.\r\n\r\nTo use the jks created in Tomcat use this configuration\r\n\r\n    &lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot;  keyAlias=&quot;myalias&quot; keystoreFile=&quot;conf\\myalias.jks&quot; \r\n    \tkeystorePass=&quot;mypassword &quot; keystoreType=&quot;JKS&quot; maxThreads=&quot;200&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \r\n    \tscheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt; \r\n\r\n","title":"Create jks from crt and key and than configure Tomcat","body":"<p>As @dave_thompson_085 said the problem was openssl version.\nI installed 1.1.1 version, and then the jks it was correctly created.</p>\n<p>To use the jks created in Tomcat use this configuration</p>\n<pre><code>&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot;  keyAlias=&quot;myalias&quot; keystoreFile=&quot;conf\\myalias.jks&quot; \n    keystorePass=&quot;mypassword &quot; keystoreType=&quot;JKS&quot; maxThreads=&quot;200&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \n    scheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt; \n</code></pre>\n"}],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697813101,"creation_date":1697618819,"question_id":77314796,"body_markdown":"I have received from my client *.crt, *.key and *.ca-bundle files and my environment use jre7.\r\n\r\nI need to create *.jks file to configure Tomcat7.\r\n\r\nI read this https://stackoverflow.com/questions/38250271/creating-a-jks-from-a-crt-and-key-file-is-that-possible but unfortunately at the end after this command \r\n\r\n    C:\\Program Files\\Java\\jre7\\bin&gt;keytool -importkeystore -srckeystore C:\\keystore\\mykey.pfx -srcstoretype pkcs12 -srcalias 1 -srcstorepass mypass -destkeystore C:\\keystore\\local.jks -deststoretype jks -deststorepass mypass -destalias myAlias\r\n\r\nI receive the error \r\n\r\n    keytool error: java.io.IOException: parseAlgParameters failed: DER input not an octet string\r\n\r\nHow can I generate jks file and avoid that error?\r\n\r\nAfter the jks file will be generated I will move it into ${TOMCAT_HOME}\\conf folder.\r\n\r\nIs this Tomcat configuration correct?\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \r\n    \tmaxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; \r\n    \tclientAuth=&quot;false&quot; sslProtocol=&quot;TLSv1.2&quot; keystoreFile=&quot;conf\\local.jks&quot; keystorePass=&quot;mypass&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt;\r\n\r\n\r\n\r\nThanks in advance\r\n","title":"Create jks from crt and key and than configure Tomcat","body":"<p>I have received from my client *.crt, *.key and *.ca-bundle files and my environment use jre7.</p>\n<p>I need to create *.jks file to configure Tomcat7.</p>\n<p>I read this <a href=\"https://stackoverflow.com/questions/38250271/creating-a-jks-from-a-crt-and-key-file-is-that-possible\">Creating a .jks from a .crt and .key file, is that possible</a> but unfortunately at the end after this command</p>\n<pre><code>C:\\Program Files\\Java\\jre7\\bin&gt;keytool -importkeystore -srckeystore C:\\keystore\\mykey.pfx -srcstoretype pkcs12 -srcalias 1 -srcstorepass mypass -destkeystore C:\\keystore\\local.jks -deststoretype jks -deststorepass mypass -destalias myAlias\n</code></pre>\n<p>I receive the error</p>\n<pre><code>keytool error: java.io.IOException: parseAlgParameters failed: DER input not an octet string\n</code></pre>\n<p>How can I generate jks file and avoid that error?</p>\n<p>After the jks file will be generated I will move it into ${TOMCAT_HOME}\\conf folder.</p>\n<p>Is this Tomcat configuration correct?</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \n    maxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; \n    clientAuth=&quot;false&quot; sslProtocol=&quot;TLSv1.2&quot; keystoreFile=&quot;conf\\local.jks&quot; keystorePass=&quot;mypass&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt;\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","postgresql","pgbouncer"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1697799054,"post_id":77329823,"comment_id":136328135,"body_markdown":"currentSchema isn&#39;t a postgresql connection parameter (https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS) you&#39;ll need to find out what jdbc does to handle that.","body":"currentSchema isn&#39;t a postgresql connection parameter (<a href=\"https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/&hellip;</a>) you&#39;ll need to find out what jdbc does to handle that."},{"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"score":0,"creation_date":1697799135,"post_id":77329823,"comment_id":136328153,"body_markdown":"@RichardHuxton this is tomcat parameter","body":"@RichardHuxton this is tomcat parameter"},{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1697803351,"post_id":77329823,"comment_id":136328934,"body_markdown":"Lovely. And if you can explain how it sets the &quot;current schema&quot; someone will be able to how that is going to interact with your connection pool. Because obviously the whole point of a connection pool is that connections get re-used, so presumably you&#39;re getting a connection from the pool where the schema hasn&#39;t been set","body":"Lovely. And if you can explain how it sets the &quot;current schema&quot; someone will be able to how that is going to interact with your connection pool. Because obviously the whole point of a connection pool is that connections get re-used, so presumably you&#39;re getting a connection from the pool where the schema hasn&#39;t been set"},{"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"score":0,"creation_date":1697804188,"post_id":77329823,"comment_id":136329104,"body_markdown":"I created separate user and set search_path to another schema. This is work, but i want use one user for connect db","body":"I created separate user and set search_path to another schema. This is work, but i want use one user for connect db"},{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1697805280,"post_id":77329823,"comment_id":136329299,"body_markdown":"Then if you&#39;re not prepared to share what your java code is doing you&#39;ll have to hope that someone who understands both tomcat and pgbouncer comes along.","body":"Then if you&#39;re not prepared to share what your java code is doing you&#39;ll have to hope that someone who understands both tomcat and pgbouncer comes along."}],"answers":[{"comments":[{"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"score":0,"creation_date":1698742751,"post_id":77331845,"comment_id":136440755,"body_markdown":"Thnks. I did it the same way","body":"Thnks. I did it the same way"}],"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697813053,"creation_date":1697813053,"answer_id":77331845,"question_id":77329823,"body_markdown":"pgbouncer does not support this directly.\r\n\r\nYou could make your system issue &quot;set search_path=quartz&quot; as the first statement every time a new connection is obtained.  Or you could use the other approach you have already described but didn&#39;t like.","title":"pgbouncer with currentSchema","body":"<p>pgbouncer does not support this directly.</p>\n<p>You could make your system issue &quot;set search_path=quartz&quot; as the first statement every time a new connection is obtained.  Or you could use the other approach you have already described but didn't like.</p>\n"}],"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77331845,"answer_count":1,"score":0,"last_activity_date":1697813053,"creation_date":1697794440,"question_id":77329823,"body_markdown":"Java application works with two shemas: **public** and **quartz**. And i try connect to shema **quartz** with pgbouncer:\r\n\r\n    jdbc:postgresql://127.0.0.1:6432/test_db?currentSchema=quartz;prepareThreshold=0&quot;\r\n\r\nBut my app failed startup. In logs i see error about table (qrtz_locks) doesn&#39;t exist (log follow)[![enter image description here][1]][1]\r\n\r\n\r\nThis table exist in shema **quartz**. I think that app ignored my props in jdbc - *?currentSchema=quartz* and connect to public. If i used default postgres connect (port 5432), app works correctly. \r\n\r\nHow to fix my problem and connect to db via pgbouncer with my schema?\r\n\r\nThis is pgbouncer.ini config\r\n\r\n    [databases]\r\n    ; fallback connect string\r\n    * = host=10.1.2.2 port=5432\r\n    \r\n    [pgbouncer]\r\n    logfile = /var/log/pgbouncer/pgbouncer.log\r\n    pidfile = /var/run/pgbouncer/pgbouncer.pid\r\n    \r\n    listen_addr = *\r\n    listen_port = 6432\r\n    \r\n    auth_type = md5\r\n    auth_file = /etc/pgbouncer/userlist\r\n    auth_hba_file = /etc/pgbouncer/pb_hba.conf\r\n    admin_users = postgres\r\n    stats_users = postgres\r\n    \r\n    pool_mode = transaction\r\n    ignore_startup_parameters = extra_float_digits,search_path\r\n    application_name_add_host = 1\r\n    max_client_conn = 500\r\n    default_pool_size = 15\r\n    reserve_pool_size = 10\r\n    reserve_pool_timeout = 3\r\n    \r\n    server_lifetime = 300\r\n    server_idle_timeout = 120\r\n    server_connect_timeout = 5\r\n    server_login_retry = 1\r\n    \r\n    query_timeout = 60\r\n    query_wait_timeout = 60\r\n    \r\n    client_idle_timeout = 60\r\n    client_login_timeout = 60\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1veAK.png","title":"pgbouncer with currentSchema","body":"<p>Java application works with two shemas: <strong>public</strong> and <strong>quartz</strong>. And i try connect to shema <strong>quartz</strong> with pgbouncer:</p>\n<pre><code>jdbc:postgresql://127.0.0.1:6432/test_db?currentSchema=quartz;prepareThreshold=0&quot;\n</code></pre>\n<p>But my app failed startup. In logs i see error about table (qrtz_locks) doesn't exist (log follow)<a href=\"https://i.stack.imgur.com/1veAK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1veAK.png\" alt=\"enter image description here\" /></a></p>\n<p>This table exist in shema <strong>quartz</strong>. I think that app ignored my props in jdbc - <em>?currentSchema=quartz</em> and connect to public. If i used default postgres connect (port 5432), app works correctly.</p>\n<p>How to fix my problem and connect to db via pgbouncer with my schema?</p>\n<p>This is pgbouncer.ini config</p>\n<pre><code>[databases]\n; fallback connect string\n* = host=10.1.2.2 port=5432\n\n[pgbouncer]\nlogfile = /var/log/pgbouncer/pgbouncer.log\npidfile = /var/run/pgbouncer/pgbouncer.pid\n\nlisten_addr = *\nlisten_port = 6432\n\nauth_type = md5\nauth_file = /etc/pgbouncer/userlist\nauth_hba_file = /etc/pgbouncer/pb_hba.conf\nadmin_users = postgres\nstats_users = postgres\n\npool_mode = transaction\nignore_startup_parameters = extra_float_digits,search_path\napplication_name_add_host = 1\nmax_client_conn = 500\ndefault_pool_size = 15\nreserve_pool_size = 10\nreserve_pool_timeout = 3\n\nserver_lifetime = 300\nserver_idle_timeout = 120\nserver_connect_timeout = 5\nserver_login_retry = 1\n\nquery_timeout = 60\nquery_wait_timeout = 60\n\nclient_idle_timeout = 60\nclient_login_timeout = 60\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9805,"page":112,"page_size":100}
