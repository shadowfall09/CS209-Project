{"items":[{"tags":["java","json","talend"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643119768,"post_id":70849778,"comment_id":125251065,"body_markdown":"Your question is asking for a software recommendation, and that is off-topic.  However, the Fedora licensing requirements only cover software that is proposed to be delivered as official Fedora packages.  There is no reason why you can&#39;t *use* software with &quot;bad licenses&quot; on Fedora.  Or indeed package the software as RPMs (etc) for use on Fedora platforms.","body":"Your question is asking for a software recommendation, and that is off-topic.  However, the Fedora licensing requirements only cover software that is proposed to be delivered as official Fedora packages.  There is no reason why you can&#39;t <i>use</i> software with &quot;bad licenses&quot; on Fedora.  Or indeed package the software as RPMs (etc) for use on Fedora platforms."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643120026,"post_id":70849778,"comment_id":125251204,"body_markdown":"And to answer your question.  There is no technical reason why you couldn&#39;t modify talend software to use a different JSON library.  But you *would* need to *modify* the talend code to do this.  JSON libraries are not &quot;drop in&quot; interchangeable.","body":"And to answer your question.  There is no technical reason why you couldn&#39;t modify talend software to use a different JSON library.  But you <i>would</i> need to <i>modify</i> the talend code to do this.  JSON libraries are not &quot;drop in&quot; interchangeable."},{"owner":{"account_id":1720024,"reputation":2017,"user_id":1576196,"accept_rate":89,"display_name":"Balazs Gunics"},"score":0,"creation_date":1643130291,"post_id":70849778,"comment_id":125256041,"body_markdown":"There&#39;s a JIRA for this: https://jira.talendforge.org/browse/TDI-44440","body":"There&#39;s a JIRA for this: <a href=\"https://jira.talendforge.org/browse/TDI-44440\" rel=\"nofollow noreferrer\">jira.talendforge.org/browse/TDI-44440</a>"},{"owner":{"account_id":23691649,"reputation":13,"user_id":17715930,"display_name":"Aviv Litman"},"score":0,"creation_date":1643196502,"post_id":70849778,"comment_id":125273952,"body_markdown":"Hi all, thanks for the quick responses!\n\nStephen, unfortunately the JSON License has been rejected by our legal team, so we need to provide an alternative implementation.\nYes I will need to change the code, do you know any other library besides JSON that can fit the JSONObject  implementation in [class ResumeUtil] (https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358) ?\n\n\nBalazs, the JIRA created by a co-worker, but it does not look like they are going to fix it.","body":"Hi all, thanks for the quick responses!  Stephen, unfortunately the JSON License has been rejected by our legal team, so we need to provide an alternative implementation. Yes I will need to change the code, do you know any other library besides JSON that can fit the JSONObject  implementation in [class ResumeUtil] (<a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358\" rel=\"nofollow noreferrer\">github.com/Talend/tcommon-studio-se/blob/master/main/plugin&zwnj;&#8203;s/&hellip;</a>) ?   Balazs, the JIRA created by a co-worker, but it does not look like they are going to fix it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643889873,"post_id":70849778,"comment_id":125461940,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":23691649,"reputation":13,"user_id":17715930,"display_name":"Aviv Litman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643118612,"creation_date":1643118612,"question_id":70849778,"body_markdown":"I&#39;m using Talend DI java code as part of oVirt DWH that runs on both Fedora and CentOS.\r\n\r\n[JSONObject.java](https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/JSONObject.java) has a software license which is not okay for Fedora.\r\n\r\nIs JSONObject.java can be replaced with an alternative implementation?\r\nPerhaps a different library such as jackson 2.9 library can be implemented instead?\r\n\r\nThe code calls the JSONObject in [class ResumeUtil](https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358).\r\n\r\n\r\nAny help or suggestion would be greatly appreciated!\r\n\r\n","title":"Alternative implementation for JSONObject.java","body":"<p>I'm using Talend DI java code as part of oVirt DWH that runs on both Fedora and CentOS.</p>\n<p><a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/JSONObject.java\" rel=\"nofollow noreferrer\">JSONObject.java</a> has a software license which is not okay for Fedora.</p>\n<p>Is JSONObject.java can be replaced with an alternative implementation?\nPerhaps a different library such as jackson 2.9 library can be implemented instead?</p>\n<p>The code calls the JSONObject in <a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358\" rel=\"nofollow noreferrer\">class ResumeUtil</a>.</p>\n<p>Any help or suggestion would be greatly appreciated!</p>\n"},{"tags":["java","log4j2","infinite-loop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643118328,"post_id":70849459,"comment_id":125250424,"body_markdown":"are you using Lombok&#39;s @Data on logged objects by any chance?","body":"are you using Lombok&#39;s @Data on logged objects by any chance?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643118671,"post_id":70849459,"comment_id":125250573,"body_markdown":"No I don&#39;t. Looks like that some error happens during logging &quot;handleLogMessageException&quot; which causes log4j2 to log the error and that runs into a loop.","body":"No I don&#39;t. Looks like that some error happens during logging &quot;handleLogMessageException&quot; which causes log4j2 to log the error and that runs into a loop."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643119091,"post_id":70849459,"comment_id":125250771,"body_markdown":"can you show what is being logged?","body":"can you show what is being logged?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643121597,"post_id":70849459,"comment_id":125251982,"body_markdown":"No, I don&#39;t know who starts logging. The Stacktrace only shows the org.apache.logging.* stuff. There is no business logic or custom code shown. But shouldn&#39;t log4j2 avoid running into something like this in all cases? Even if the call from the &quot;client&quot; is buggy.","body":"No, I don&#39;t know who starts logging. The Stacktrace only shows the org.apache.logging.* stuff. There is no business logic or custom code shown. But shouldn&#39;t log4j2 avoid running into something like this in all cases? Even if the call from the &quot;client&quot; is buggy."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1643145421,"post_id":70849459,"comment_id":125261612,"body_markdown":"What appenders are you using?  Is it possible to add the log4j2.xml file in your question?","body":"What appenders are you using?  Is it possible to add the log4j2.xml file in your question?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643294198,"post_id":70849459,"comment_id":125305438,"body_markdown":"After reverting my changes backward to the point where the problem disappears I found out that the problem is caused by: \n&lt;PatternLayout pattern=&quot;%d{ISO8601} [%5.5t] %5.5p %50.50c {%20.20M,%5.5L} - %m%n&quot;/&gt;. Here I added the fix column with to the log lines by adding 5.5 for example.","body":"After reverting my changes backward to the point where the problem disappears I found out that the problem is caused by:  &lt;PatternLayout pattern=&quot;%d{ISO8601} [%5.5t] %5.5p %50.50c {%20.20M,%5.5L} - %m%n&quot;/&gt;. Here I added the fix column with to the log lines by adding 5.5 for example."}],"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643118096,"creation_date":1643117379,"question_id":70849459,"body_markdown":"I have a strange &quot;infinite loop&quot; in log4j2. \r\nI found it in the tomcat catalina.out and have to idea where it comes from because there is no other packages involved the whole error stack trace.\r\nIs this a know bug or did I configure something wrong.\r\nThe version of log4j2 I&#39;m using is 2.17.1\r\n\r\n\r\n\r\n```\r\n2022-01-25 01:17:03,517 WARN org.apache.commons.logging.LogAdapter$Log4jLog caught java.lang.StackOverflowError logging SimpleMessage: Application exception overridden by rollback exception java.lang.StackOverflowError\r\n\tat org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\r\n\tat org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\r\n\tat org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\r\n\tat org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\r\n\tat org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:99)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2057)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n```","title":"StackOverflowError in log4j2","body":"<p>I have a strange &quot;infinite loop&quot; in log4j2.\nI found it in the tomcat catalina.out and have to idea where it comes from because there is no other packages involved the whole error stack trace.\nIs this a know bug or did I configure something wrong.\nThe version of log4j2 I'm using is 2.17.1</p>\n<pre><code>2022-01-25 01:17:03,517 WARN org.apache.commons.logging.LogAdapter$Log4jLog caught java.lang.StackOverflowError logging SimpleMessage: Application exception overridden by rollback exception java.lang.StackOverflowError\n    at org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\n    at org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\n    at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\n    at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\n    at org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\n    at org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\n    at org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\n    at org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\n    at org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:99)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2057)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n</code></pre>\n"},{"tags":["java","android","http","newrelic"],"answers":[{"tags":[],"owner":{"account_id":16780586,"reputation":1,"user_id":12130888,"display_name":"gil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643118082,"creation_date":1641501794,"answer_id":70613410,"question_id":69539148,"body_markdown":"you can populate the data in the Mobile &gt; Network &gt; HTTPRequest/HTTPErrors from the [Notice HTTP Transaction][1] and [Notice Network Failure][2] using these Agent SDK methods metrics gathered here will appear in the UI indicted above. \r\n\r\n  [1]: https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-http-transaction/\r\n  [2]: https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-network-failure/","title":"How to send http requests and errors to New Relic Network section","body":"<p>you can populate the data in the Mobile &gt; Network &gt; HTTPRequest/HTTPErrors from the <a href=\"https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-http-transaction/\" rel=\"nofollow noreferrer\">Notice HTTP Transaction</a> and <a href=\"https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-network-failure/\" rel=\"nofollow noreferrer\">Notice Network Failure</a> using these Agent SDK methods metrics gathered here will appear in the UI indicted above.</p>\n"}],"owner":{"account_id":9060578,"reputation":185,"user_id":6747225,"accept_rate":50,"display_name":"alezniki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643118082,"creation_date":1634035378,"question_id":69539148,"body_markdown":"I need to send some URLs to Network section on New Relic.\r\n\r\nFor success case it has to be shown at HTTP requests section, and for failed case it has to be shown at HTTP errors section.\r\n\r\nAny idea what how I can send some URL to those 2 sections, is there any method for these 2 sections? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wb2L7.png","title":"How to send http requests and errors to New Relic Network section","body":"<p>I need to send some URLs to Network section on New Relic.</p>\n<p>For success case it has to be shown at HTTP requests section, and for failed case it has to be shown at HTTP errors section.</p>\n<p>Any idea what how I can send some URL to those 2 sections, is there any method for these 2 sections?</p>\n<p><a href=\"https://i.stack.imgur.com/Wb2L7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wb2L7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","json","okhttp"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643115592,"post_id":70848776,"comment_id":125249329,"body_markdown":"Can you not map it to a List&lt;YourObject&gt; ? Because it is a list of the same class..","body":"Can you not map it to a List&lt;YourObject&gt; ? Because it is a list of the same class.."},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643116073,"post_id":70848776,"comment_id":125249494,"body_markdown":"Idk how to format it, so i can put it into a list","body":"Idk how to format it, so i can put it into a list"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643116176,"post_id":70848776,"comment_id":125249536,"body_markdown":"See if this helps you https://stackoverflow.com/questions/28221555/how-does-okhttp-get-json-string","body":"See if this helps you <a href=\"https://stackoverflow.com/questions/28221555/how-does-okhttp-get-json-string\" title=\"how does okhttp get json string\">stackoverflow.com/questions/28221555/&hellip;</a>"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643116445,"post_id":70848776,"comment_id":125249639,"body_markdown":"Gimme a second :)","body":"Gimme a second :)"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643116511,"post_id":70848776,"comment_id":125249663,"body_markdown":"No worries, best of luck!","body":"No worries, best of luck!"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643117084,"post_id":70848776,"comment_id":125249908,"body_markdown":"Update now i&#39;ve got {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:5\n  } \nto parse it into my object just split those strings and create a new object?","body":"Update now i&#39;ve got {      &quot;value&quot;:&quot;data&quot;,      &quot;id&quot;:5   }  to parse it into my object just split those strings and create a new object?"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643124669,"post_id":70848776,"comment_id":125253428,"body_markdown":"Worked! Thank you","body":"Worked! Thank you"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643124863,"post_id":70848776,"comment_id":125253513,"body_markdown":"Glad to have helped!","body":"Glad to have helped!"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643117872,"creation_date":1643117872,"answer_id":70849576,"question_id":70848776,"body_markdown":"I believe you can use GSON in Android, so kindly see the code below:\r\n\r\n\r\n    static class SimpleExample{\r\n\r\n        private String value;\r\n        private Integer id;\r\n\r\n    }\r\n    public static void main(String[] args){\r\n\r\n\r\n        String json = &quot;[{\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:5\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:6\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:7\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:8\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:9\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;value\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:10\\n&quot;\r\n                + &quot;  }\\n&quot;\r\n                + &quot;]&quot;;\r\n\r\n        final GsonBuilder gsonBuilder = new GsonBuilder();\r\n        final Gson gson = gsonBuilder.create();\r\n\r\n        SimpleExample[] allObjects = gson.fromJson(json, SimpleExample[].class);\r\n\r\n        System.out.println(allObjects.length);\r\n    }\r\n\r\n\r\n----------\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n\r\n\r\n----------\r\n\r\n","title":"Multiple JSONs in one Request --&gt; Each of them to an Object","body":"<p>I believe you can use GSON in Android, so kindly see the code below:</p>\n<pre><code>static class SimpleExample{\n\n    private String value;\n    private Integer id;\n\n}\npublic static void main(String[] args){\n\n\n    String json = &quot;[{\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:5\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:6\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:7\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:8\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:9\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;value\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:10\\n&quot;\n            + &quot;  }\\n&quot;\n            + &quot;]&quot;;\n\n    final GsonBuilder gsonBuilder = new GsonBuilder();\n    final Gson gson = gsonBuilder.create();\n\n    SimpleExample[] allObjects = gson.fromJson(json, SimpleExample[].class);\n\n    System.out.println(allObjects.length);\n}\n</code></pre>\n<hr />\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n"}],"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643117872,"creation_date":1643114260,"question_id":70848776,"body_markdown":"I am requesting via OKHttpClient data from my api, and im trying with an getAll() to split up the JSON response into my objects i need. \r\nHere is an example for my response i get:\r\n\r\n ```\r\n[\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:5\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:6\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:7\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:8\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:9\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;value&quot;,\r\n      &quot;id&quot;:10\r\n   }\r\n]\r\n```\r\n","title":"Multiple JSONs in one Request --&gt; Each of them to an Object","body":"<p>I am requesting via OKHttpClient data from my api, and im trying with an getAll() to split up the JSON response into my objects i need.\nHere is an example for my response i get:</p>\n<pre><code>[\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:5\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:6\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:7\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:8\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:9\n  },\n  {\n     &quot;value&quot;:&quot;value&quot;,\n     &quot;id&quot;:10\n  }\n]\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-sqs","sqslistener"],"comments":[{"owner":{"account_id":1779196,"reputation":131,"user_id":1622355,"accept_rate":12,"display_name":"Hallam"},"score":0,"creation_date":1643117396,"post_id":70044038,"comment_id":125250034,"body_markdown":"I am receiving the same issue running localstack since moving to io.awspring.cloud:2.3.3 - did you manage to resolve the issue at all? ---\nWARN  [main] [AbstractMessageListenerContainer] [queueAttributes] SimpleMessageListenerContainer: Ignoring queue with name &#39;surnameMatch&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)","body":"I am receiving the same issue running localstack since moving to io.awspring.cloud:2.3.3 - did you manage to resolve the issue at all? --- WARN  [main] [AbstractMessageListenerContainer] [queueAttributes] SimpleMessageListenerContainer: Ignoring queue with name &#39;surnameMatch&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)"},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1645010303,"post_id":70044038,"comment_id":125755091,"body_markdown":"Hi, anyone find an answer to this at all?","body":"Hi, anyone find an answer to this at all?"}],"owner":{"account_id":17979805,"reputation":21,"user_id":13066447,"display_name":"Glenn KIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643117351,"creation_date":1637393394,"question_id":70044038,"body_markdown":"My SQS Listener cannot find queue with name and url.  \r\nBut AmazonSqsAsync Client can find list of queues and queue url.  \r\nI can&#39;t understand why only @SqsListener cannot find queue.  \r\nCould you give me some knowledge what I missed?\r\n\r\n---\r\nHere&#39;s my code, application-local.yml and Error message.\r\nI&#39;m running sqs with localstack\r\n\r\n1. Error message\r\n```sh\r\nSimpleMessageListenerContainer : Ignoring queue with name &#39;test-availability-queue&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\r\n```\r\n2. application-local.yml\r\n```yaml\r\ncloud:\r\n  aws:\r\n    region:\r\n      auto: false\r\n      static: ap-northeast-2\r\n    credentials:\r\n      access-key: aws_access_key_id\r\n      secret-key: aws_secret_access_key\r\n    sqs:\r\n      endpoint: http://localhost:4566\r\n\r\navailability:\r\n  queue:\r\n    name: test-availability-queue\r\n```\r\n3. SqsListener\r\nI used value with queue-name and queue-url but both didn&#39;t work.\r\n```java\r\n@Component\r\npublic class AvailabilitySqsListener {\r\n\r\n    @SqsListener(value = &quot;${availability.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NO_REDRIVE)\r\n    public void onMessage(@Payload AvailabilityMessage message) {\r\n        doSomething();\r\n    }\r\n}\r\n```\r\n4. Sqs Configuration\r\n```java\r\n@Configuration\r\npublic class SqsConfiguration {\r\n    private static final String AWS_ENDPOINT = &quot;${cloud.aws.sqs.endpoint}&quot;;\r\n    private static final String AWS_REGION = &quot;${cloud.aws.region.static}&quot;;\r\n\r\n    @Bean\r\n    public AwsClientBuilder.EndpointConfiguration endpointConfiguration(\r\n            @Value(AWS_ENDPOINT) String endpoint,\r\n            @Value(AWS_REGION) String region) {\r\n        return new AwsClientBuilder.EndpointConfiguration(endpoint, region);\r\n    }\r\n    @Bean\r\n    @Primary\r\n    public AmazonSQSAsync amazonSQSAsync(final AwsClientBuilder.EndpointConfiguration endpointConfiguration) {\r\n        String endpoint = endpointConfiguration.getServiceEndpoint();\r\n\r\n        if (endpoint == null || endpoint.isEmpty()) {\r\n            return AmazonSQSAsyncClientBuilder.standard()\r\n                    .withRegion(endpointConfiguration.getSigningRegion())\r\n                    .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n                    .build();\r\n        }\r\n        return AmazonSQSAsyncClientBuilder.standard()\r\n                .withEndpointConfiguration(endpointConfiguration)\r\n                .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public QueueMessagingTemplate queueMessagingTemplate(\r\n            AmazonSQSAsync amazonSQSAsync,\r\n            MessageConverter messageConverter,\r\n            ResourceIdResolver resourceIdResolver) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync, resourceIdResolver, messageConverter);\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper objectMapper) {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(objectMapper);\r\n        converter.setSerializedPayloadClass(String.class);\r\n        return converter;\r\n    }\r\n}\r\n```\r\n5. Success case with AmazonSqsAsync client\r\n```java\r\n// When I called this API\r\n    @GetMapping(&quot;/test&quot;)\r\n    public void test() {\r\n        System.out.println(amazonSQSAsync.listQueues());\r\n        System.out.println(amazonSQSAsync.getQueueUrl(&quot;test-availability-queue&quot;));\r\n    }\r\n```\r\n```sh\r\n# response\r\n{QueueUrls: [http://localhost:4566/queue/test-availability-queue],}\r\n{QueueUrl: http://localhost:4566/queue/test-availability-queue}\r\n```\r\n---\r\nFYI, full of my console logs\r\n```sh\r\n2021-11-20 16:26:18.297  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : The following profiles are active: local\r\n2021-11-20 16:26:18.342  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2021-11-20 16:26:18.343  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2021-11-20 16:26:19.206  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-11-20 16:26:19.208  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n2021-11-20 16:26:19.260  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 1 Redis repository interfaces.\r\n2021-11-20 16:26:19.400  INFO 34014 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d7c2eb3d-42ea-35c3-8d4c-ab542b183924\r\n2021-11-20 16:26:19.447  INFO 34014 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;credentialsProvider&#39; of type [com.amazonaws.auth.AWSCredentialsProviderChain] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-11-20 16:26:19.836  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\r\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1565 ms\r\n2021-11-20 16:26:20.326  INFO 34014 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.amazonaws.util.XpathUtils (file:/Users/a202107057/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.951/aws-java-sdk-core-1.11.951.jar) to method com.sun.org.apache.xpath.internal.XPathContext.getDTMManager()\r\nWARNING: Please consider reporting this to the maintainers of com.amazonaws.util.XpathUtils\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2021-11-20 16:26:21.436  WARN 34014 --- [  restartedMain] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name &#39;test-availability-queue&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\r\n2021-11-20 16:26:21.588  INFO 34014 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path &#39;&#39;\r\n2021-11-20 16:26:21.655  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2021-11-20 16:26:21.672  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : Started LogVendorMonitorApplication in 3.724 seconds (JVM running for 4.378)\r\n2021-11-20 16:26:24.822  INFO 34014 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-11-20 16:26:24.823  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-11-20 16:26:24.824  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```","title":"@SqsListener doesn&#39;t work but AmazonSqs client work","body":"<p>My SQS Listener cannot find queue with name and url.<br />\nBut AmazonSqsAsync Client can find list of queues and queue url.<br />\nI can't understand why only @SqsListener cannot find queue.<br />\nCould you give me some knowledge what I missed?</p>\n<hr />\n<p>Here's my code, application-local.yml and Error message.\nI'm running sqs with localstack</p>\n<ol>\n<li>Error message</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>SimpleMessageListenerContainer : Ignoring queue with name 'test-availability-queue': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\n</code></pre>\n<ol start=\"2\">\n<li>application-local.yml</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>cloud:\n  aws:\n    region:\n      auto: false\n      static: ap-northeast-2\n    credentials:\n      access-key: aws_access_key_id\n      secret-key: aws_secret_access_key\n    sqs:\n      endpoint: http://localhost:4566\n\navailability:\n  queue:\n    name: test-availability-queue\n</code></pre>\n<ol start=\"3\">\n<li>SqsListener\nI used value with queue-name and queue-url but both didn't work.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AvailabilitySqsListener {\n\n    @SqsListener(value = &quot;${availability.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NO_REDRIVE)\n    public void onMessage(@Payload AvailabilityMessage message) {\n        doSomething();\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Sqs Configuration</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SqsConfiguration {\n    private static final String AWS_ENDPOINT = &quot;${cloud.aws.sqs.endpoint}&quot;;\n    private static final String AWS_REGION = &quot;${cloud.aws.region.static}&quot;;\n\n    @Bean\n    public AwsClientBuilder.EndpointConfiguration endpointConfiguration(\n            @Value(AWS_ENDPOINT) String endpoint,\n            @Value(AWS_REGION) String region) {\n        return new AwsClientBuilder.EndpointConfiguration(endpoint, region);\n    }\n    @Bean\n    @Primary\n    public AmazonSQSAsync amazonSQSAsync(final AwsClientBuilder.EndpointConfiguration endpointConfiguration) {\n        String endpoint = endpointConfiguration.getServiceEndpoint();\n\n        if (endpoint == null || endpoint.isEmpty()) {\n            return AmazonSQSAsyncClientBuilder.standard()\n                    .withRegion(endpointConfiguration.getSigningRegion())\n                    .withCredentials(new DefaultAWSCredentialsProviderChain())\n                    .build();\n        }\n        return AmazonSQSAsyncClientBuilder.standard()\n                .withEndpointConfiguration(endpointConfiguration)\n                .withCredentials(new DefaultAWSCredentialsProviderChain())\n                .build();\n    }\n\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate(\n            AmazonSQSAsync amazonSQSAsync,\n            MessageConverter messageConverter,\n            ResourceIdResolver resourceIdResolver) {\n        return new QueueMessagingTemplate(amazonSQSAsync, resourceIdResolver, messageConverter);\n    }\n\n    @Bean\n    public MessageConverter messageConverter(ObjectMapper objectMapper) {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setObjectMapper(objectMapper);\n        converter.setSerializedPayloadClass(String.class);\n        return converter;\n    }\n}\n</code></pre>\n<ol start=\"5\">\n<li>Success case with AmazonSqsAsync client</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// When I called this API\n    @GetMapping(&quot;/test&quot;)\n    public void test() {\n        System.out.println(amazonSQSAsync.listQueues());\n        System.out.println(amazonSQSAsync.getQueueUrl(&quot;test-availability-queue&quot;));\n    }\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code># response\n{QueueUrls: [http://localhost:4566/queue/test-availability-queue],}\n{QueueUrl: http://localhost:4566/queue/test-availability-queue}\n</code></pre>\n<hr />\n<p>FYI, full of my console logs</p>\n<pre class=\"lang-sh prettyprint-override\"><code>2021-11-20 16:26:18.297  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : The following profiles are active: local\n2021-11-20 16:26:18.342  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2021-11-20 16:26:18.343  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2021-11-20 16:26:19.206  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-11-20 16:26:19.208  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2021-11-20 16:26:19.260  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 1 Redis repository interfaces.\n2021-11-20 16:26:19.400  INFO 34014 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d7c2eb3d-42ea-35c3-8d4c-ab542b183924\n2021-11-20 16:26:19.447  INFO 34014 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'credentialsProvider' of type [com.amazonaws.auth.AWSCredentialsProviderChain] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-11-20 16:26:19.836  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1565 ms\n2021-11-20 16:26:20.326  INFO 34014 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.amazonaws.util.XpathUtils (file:/Users/a202107057/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.951/aws-java-sdk-core-1.11.951.jar) to method com.sun.org.apache.xpath.internal.XPathContext.getDTMManager()\nWARNING: Please consider reporting this to the maintainers of com.amazonaws.util.XpathUtils\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2021-11-20 16:26:21.436  WARN 34014 --- [  restartedMain] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name 'test-availability-queue': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\n2021-11-20 16:26:21.588  INFO 34014 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''\n2021-11-20 16:26:21.655  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-11-20 16:26:21.672  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : Started LogVendorMonitorApplication in 3.724 seconds (JVM running for 4.378)\n2021-11-20 16:26:24.822  INFO 34014 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-11-20 16:26:24.823  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-11-20 16:26:24.824  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1643084818,"post_id":70843422,"comment_id":125240067,"body_markdown":"This is the actual error-\nUnsupported class file major version 61 , are you using class files compiled on a higher jdk?","body":"This is the actual error- Unsupported class file major version 61 , are you using class files compiled on a higher jdk?"},{"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"score":0,"creation_date":1643085368,"post_id":70843422,"comment_id":125240160,"body_markdown":"I am using java jdk 16.0.2 for both class and java file. But this was built on eclipse","body":"I am using java jdk 16.0.2 for both class and java file. But this was built on eclipse"}],"answers":[{"tags":[],"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643087480,"creation_date":1643087480,"answer_id":70843693,"question_id":70843422,"body_markdown":"Actually I found the answer it was because my eclipse was using jdk 17 to run whereas I had jdk 16.0.2 installed you just have to click the project-&gt;build path-&gt;configure build path-&gt;java compiler-&gt;compiler compliance level to a lower jdk\r\nthanks to everyone who helped","title":"Exception encountered during context initialization - cancelling refresh attempt org.springframework.beans.factory.BeanDefinitionStoreException","body":"<p>Actually I found the answer it was because my eclipse was using jdk 17 to run whereas I had jdk 16.0.2 installed you just have to click the project-&gt;build path-&gt;configure build path-&gt;java compiler-&gt;compiler compliance level to a lower jdk\nthanks to everyone who helped</p>\n"}],"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70843693,"answer_count":1,"score":0,"last_activity_date":1643117311,"creation_date":1643084662,"question_id":70843422,"body_markdown":"I am just learning how to do component scan without using xml file. But my application worked when I did with xml code but without xml my application is throwing the above error it maybe cliche but I am new to these so hope u can help me out. if I am using component in my xml or without my xml its not working. Here are my codes \r\nthis was my complete error\r\n\r\n```\r\nJan 25, 2022 9:38:04 AM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\r\n\tat com.lepras.springdemo.JavaConfigAppdemo.main(JavaConfigAppdemo.java:8)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\t... 15 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n\t... 19 more\r\n\r\n```\r\nCoach interface\r\n```\r\npackage com.lepras.springdemo;\r\n\r\npublic interface Coach {\r\n\tpublic String getDailyWorkout();\r\n}\r\n\r\n```\r\n\r\nTennisCoach.class\r\n\r\n```\r\npackage com.lepras.springdemo;\r\n\r\npublic class TennisCoach implements Coach {\r\n\r\n\t@Override\r\n\tpublic String getDailyWorkout() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;practice bakchand volley&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSportsConfig.class\r\n\r\n```\r\npackage com.lepras.springdemo;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(&quot;com.lepras.springdemo&quot;)\r\npublic class SportsConfig {\r\n\r\n}\r\n```\r\n\r\nMain\r\n```\r\npackage com.lepras.springdemo;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class JavaConfigAppdemo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAnnotationConfigApplicationContext context  = new AnnotationConfigApplicationContext(SportsConfig.class);\r\n\t\tCoach theCoach = context.getBean(&quot;TennisCoach&quot;, Coach.class);\r\n\t\tSystem.out.println(theCoach.getDailyWorkout());\r\n\t\tcontext.close();\r\n\t}\r\n\r\n}\r\n```","title":"Exception encountered during context initialization - cancelling refresh attempt org.springframework.beans.factory.BeanDefinitionStoreException","body":"<p>I am just learning how to do component scan without using xml file. But my application worked when I did with xml code but without xml my application is throwing the above error it maybe cliche but I am new to these so hope u can help me out. if I am using component in my xml or without my xml its not working. Here are my codes\nthis was my complete error</p>\n<pre><code>Jan 25, 2022 9:38:04 AM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\n    at com.lepras.springdemo.JavaConfigAppdemo.main(JavaConfigAppdemo.java:8)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 15 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n    ... 19 more\n\n</code></pre>\n<p>Coach interface</p>\n<pre><code>package com.lepras.springdemo;\n\npublic interface Coach {\n    public String getDailyWorkout();\n}\n\n</code></pre>\n<p>TennisCoach.class</p>\n<pre><code>package com.lepras.springdemo;\n\npublic class TennisCoach implements Coach {\n\n    @Override\n    public String getDailyWorkout() {\n        // TODO Auto-generated method stub\n        return &quot;practice bakchand volley&quot;;\n    }\n\n}\n</code></pre>\n<p>SportsConfig.class</p>\n<pre><code>package com.lepras.springdemo;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(&quot;com.lepras.springdemo&quot;)\npublic class SportsConfig {\n\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.lepras.springdemo;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class JavaConfigAppdemo {\n\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext context  = new AnnotationConfigApplicationContext(SportsConfig.class);\n        Coach theCoach = context.getBean(&quot;TennisCoach&quot;, Coach.class);\n        System.out.println(theCoach.getDailyWorkout());\n        context.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","service-locator","koin"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1528045556,"post_id":50668797,"comment_id":88347533,"body_markdown":"I am pretty sure that this is possible. Both Java and Kotlin run on the JVM and thus should be interoperable.","body":"I am pretty sure that this is possible. Both Java and Kotlin run on the JVM and thus should be interoperable."},{"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"score":0,"creation_date":1528048397,"post_id":50668797,"comment_id":88348415,"body_markdown":"Yeah, they work. But I would like to know how can I access inject using Koin framework.","body":"Yeah, they work. But I would like to know how can I access inject using Koin framework."},{"owner":{"account_id":10127953,"reputation":753,"user_id":7482517,"display_name":"Keshav Aggarwal"},"score":1,"creation_date":1528049613,"post_id":50668797,"comment_id":88348806,"body_markdown":"This might help you...https://github.com/Ekito/koin/issues/81","body":"This might help you...<a href=\"https://github.com/Ekito/koin/issues/81\" rel=\"nofollow noreferrer\">github.com/Ekito/koin/issues/81</a>"},{"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"score":0,"creation_date":1528049841,"post_id":50668797,"comment_id":88348891,"body_markdown":"Excellent, @keshavAggarwal\n\nThis is what I need\nhttps://gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbdbf","body":"Excellent, @keshavAggarwal  This is what I need <a href=\"https://gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbdbf\" rel=\"nofollow noreferrer\">gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbd&zwnj;&#8203;bf</a>"},{"owner":{"account_id":7852523,"reputation":1992,"user_id":5935559,"accept_rate":0,"display_name":"Shudipto Trafder"},"score":0,"creation_date":1555004584,"post_id":50668797,"comment_id":97967799,"body_markdown":"Hey, Is your problem solved?","body":"Hey, Is your problem solved?"}],"answers":[{"tags":[],"owner":{"account_id":10127953,"reputation":753,"user_id":7482517,"display_name":"Keshav Aggarwal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1528045920,"creation_date":1528045920,"answer_id":50668966,"question_id":50668797,"body_markdown":"A class or file can either have .kt extension means Kotlin, or have .java extension means Java. You can&#39;t write a file or class in both the languages simultaneously.\r\n\r\nBut your Java and Kotlin files can talk with each other, i.e you can a Java class with a variable and access that variable in your Kotlin file or vice-versa.\r\n\r\nSo you can inject a Kotlin class reference and use that in your Java class and Vice-versa.\r\n\r\nThis might help: https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\r\n\r\nI hope that clears the doubt.\r\n","title":"Inject Koin in Java classes","body":"<p>A class or file can either have .kt extension means Kotlin, or have .java extension means Java. You can't write a file or class in both the languages simultaneously.</p>\n\n<p>But your Java and Kotlin files can talk with each other, i.e you can a Java class with a variable and access that variable in your Kotlin file or vice-versa.</p>\n\n<p>So you can inject a Kotlin class reference and use that in your Java class and Vice-versa.</p>\n\n<p>This might help: <a href=\"https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html</a></p>\n\n<p>I hope that clears the doubt.</p>\n"},{"tags":[],"owner":{"account_id":8846949,"reputation":890,"user_id":6607435,"display_name":"Pawan Soni"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1639655741,"creation_date":1567435976,"answer_id":57759018,"question_id":50668797,"body_markdown":"Yes it is Possible.\r\nJust sync project with this gradle file\r\n\r\n    implementation &quot;org.koin:koin-java:$koin_version&quot;\r\n\r\nIn your java class replace \r\n\r\n    // Inject MyPresenter\r\n    private val presenter : MyPresenter by inject()\r\n\r\n    \r\n with  \r\n\r\n    private Lazy&lt;MyPresenter&gt; presenter = inject(MyPresenter.class);\r\n\r\n\r\nand get presenter method inside Java class like\r\n\r\n    presenter.getValue().sayHello() \r\n\r\n","title":"Inject Koin in Java classes","body":"<p>Yes it is Possible.\nJust sync project with this gradle file</p>\n<pre><code>implementation &quot;org.koin:koin-java:$koin_version&quot;\n</code></pre>\n<p>In your java class replace</p>\n<pre><code>// Inject MyPresenter\nprivate val presenter : MyPresenter by inject()\n</code></pre>\n<p>with</p>\n<pre><code>private Lazy&lt;MyPresenter&gt; presenter = inject(MyPresenter.class);\n</code></pre>\n<p>and get presenter method inside Java class like</p>\n<pre><code>presenter.getValue().sayHello() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2351884,"reputation":1680,"user_id":2060486,"display_name":"peresisUser"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574253880,"creation_date":1574253880,"answer_id":58954669,"question_id":50668797,"body_markdown":"It is, make sure you import in gradle the koin for java library and use above answers.\r\n\r\nGradle: \r\n\r\n    implementation &quot;org.koin:koin-java:2.0.1&quot;","title":"Inject Koin in Java classes","body":"<p>It is, make sure you import in gradle the koin for java library and use above answers.</p>\n\n<p>Gradle: </p>\n\n<pre><code>implementation \"org.koin:koin-java:2.0.1\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373952,"reputation":1739,"user_id":2077850,"display_name":"ultra.deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605709901,"creation_date":1605709901,"answer_id":64895126,"question_id":50668797,"body_markdown":"following code worked for me **without** org.koin:koin-java:$koin_version dependency:\r\n\r\n    private MyPresenter presenter = org.koin.java.KoinJavaComponentKoinJavaComponent.inject(MyPresenter.class).getValue();","title":"Inject Koin in Java classes","body":"<p>following code worked for me <strong>without</strong> org.koin:koin-java:$koin_version dependency:</p>\n<pre><code>private MyPresenter presenter = org.koin.java.KoinJavaComponentKoinJavaComponent.inject(MyPresenter.class).getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17706339,"reputation":424,"user_id":12854812,"display_name":"Michael McCormick"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1618572065,"creation_date":1617799878,"answer_id":66986428,"question_id":50668797,"body_markdown":"You no longer need the additional `koin-java` dependency as this is now a part of `koin-android` &amp; `koin-core`.\r\n\r\n```java\r\n// Imports\r\nimport static org.koin.java.KoinJavaComponent.get;\r\nimport static org.koin.java.KoinJavaComponent.inject;\r\nimport static org.koin.core.qualifier.QualifierKt.named;\r\nimport static org.koin.core.parameter.DefinitionParametersKt.parametersOf;\r\n\r\n// Lazy injection\r\nLazy&lt;MyDependency&gt; dependency = inject(MyDependency.class);\r\n\r\n// Eager injection\r\nMyDependency dependency = get(MyDependency.class);\r\n\r\n// Named injection\r\nget(MyDependency.class, named(&quot;MyNamedDependency&quot;));\r\n\r\n// Parameter injection\r\nget(MyDependency.class, null, () -&gt; parametersOf(this));\r\n```\r\n\r\n[Koin Android Java docs][1]\r\n\r\n\r\n  [1]: https://insert-koin.io/docs/quickstart/android-java/","title":"Inject Koin in Java classes","body":"<p>You no longer need the additional <code>koin-java</code> dependency as this is now a part of <code>koin-android</code> &amp; <code>koin-core</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Imports\nimport static org.koin.java.KoinJavaComponent.get;\nimport static org.koin.java.KoinJavaComponent.inject;\nimport static org.koin.core.qualifier.QualifierKt.named;\nimport static org.koin.core.parameter.DefinitionParametersKt.parametersOf;\n\n// Lazy injection\nLazy&lt;MyDependency&gt; dependency = inject(MyDependency.class);\n\n// Eager injection\nMyDependency dependency = get(MyDependency.class);\n\n// Named injection\nget(MyDependency.class, named(&quot;MyNamedDependency&quot;));\n\n// Parameter injection\nget(MyDependency.class, null, () -&gt; parametersOf(this));\n</code></pre>\n<p><a href=\"https://insert-koin.io/docs/quickstart/android-java/\" rel=\"noreferrer\">Koin Android Java docs</a></p>\n"},{"tags":[],"owner":{"account_id":9038350,"reputation":2716,"user_id":6733404,"display_name":"Abner Esc&#243;cio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643117237,"creation_date":1643117237,"answer_id":70849425,"question_id":50668797,"body_markdown":"Use \r\n\r\n    // Java Compatibility\r\n    implementation &quot;io.insert-koin:koin-android-compat:$koin_version&quot;\r\n\r\nInstead\r\n\r\n    implementation &quot;org.koin:koin-java:$koin_version&quot;\r\n\r\n\r\nDon&#39;t forget\r\n\r\n    // Add Maven Central to your repositories if needed\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n\r\nImportante point\r\n\r\n&gt; Due to Jcenter shutdown, the koin project&#39;s maven group id was\r\n&gt; previously org.koin and is now io.insert-koin. Please check your\r\n&gt; configuration with modules below.\r\n\r\nSee official documentation [here][1]\r\n\r\n\r\n  [1]: https://insert-koin.io/docs/setup/v3\r\n\r\n\r\nHave a good job!","title":"Inject Koin in Java classes","body":"<p>Use</p>\n<pre><code>// Java Compatibility\nimplementation &quot;io.insert-koin:koin-android-compat:$koin_version&quot;\n</code></pre>\n<p>Instead</p>\n<pre><code>implementation &quot;org.koin:koin-java:$koin_version&quot;\n</code></pre>\n<p>Don't forget</p>\n<pre><code>// Add Maven Central to your repositories if needed\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p>Importante point</p>\n<blockquote>\n<p>Due to Jcenter shutdown, the koin project's maven group id was\npreviously org.koin and is now io.insert-koin. Please check your\nconfiguration with modules below.</p>\n</blockquote>\n<p>See official documentation <a href=\"https://insert-koin.io/docs/setup/v3\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Have a good job!</p>\n"}],"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13091,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1643117237,"creation_date":1528044993,"question_id":50668797,"body_markdown":"I&#39;m trying to replace Dagger 2 to [Koin][1] in my current project and I don&#39;t want to rewrite some classes in Kotlin to use it.\r\n\r\nIs possible to inject with Koin in java classes?\r\n\r\n\r\nIn Kotlin is just\r\n\r\n    // Inject MyPresenter\r\n    val presenter : MyPresenter by inject()\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://insert-koin.io","title":"Inject Koin in Java classes","body":"<p>I'm trying to replace Dagger 2 to <a href=\"https://insert-koin.io\" rel=\"noreferrer\">Koin</a> in my current project and I don't want to rewrite some classes in Kotlin to use it.</p>\n\n<p>Is possible to inject with Koin in java classes?</p>\n\n<p>In Kotlin is just</p>\n\n<pre><code>// Inject MyPresenter\nval presenter : MyPresenter by inject()\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa","one-to-many"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":1,"creation_date":1643117243,"post_id":70848162,"comment_id":125249980,"body_markdown":"using lombok on entities is for my concern a bad practice","body":"using lombok on entities is for my concern a bad practice"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1643214498,"post_id":70848162,"comment_id":125281486,"body_markdown":"JPA isn&#39;t helping you, it is a tool for serializing the data to a database - it is still up to you to manage your java objects. The specification even spells out that you are responsible to maintain both sides of any bidirectional relationships to ensure they are in synch with what you are pushing into the database. You don&#39;t have to, but if you don&#39;t, you will run into seemingly odd situations like this where it seems to work when you re-load or the app starts up, but not at others. And it will prevent use of caching as a performance option later on.","body":"JPA isn&#39;t helping you, it is a tool for serializing the data to a database - it is still up to you to manage your java objects. The specification even spells out that you are responsible to maintain both sides of any bidirectional relationships to ensure they are in synch with what you are pushing into the database. You don&#39;t have to, but if you don&#39;t, you will run into seemingly odd situations like this where it seems to work when you re-load or the app starts up, but not at others. And it will prevent use of caching as a performance option later on."},{"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"score":0,"creation_date":1643218226,"post_id":70848162,"comment_id":125283185,"body_markdown":"Thank you, i agree the JPA entities are only one layer and the code logic shouldn&#39;t be dependent entirely on its intricacies","body":"Thank you, i agree the JPA entities are only one layer and the code logic shouldn&#39;t be dependent entirely on its intricacies"}],"answers":[{"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643117065,"creation_date":1643116854,"answer_id":70849347,"question_id":70848162,"body_markdown":"```java\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(exclude = {&quot;developers&quot;})\r\n    @ToString(exclude = {&quot;developers&quot;})\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Team {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        private String description;\r\n    \r\n        @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnoreProperties(value = {&quot;team&quot;})\r\n        private List&lt;Developer&gt; developers = new ArrayList&lt;&gt;;\r\n        \r\n        Team addDeveloper(Developer dev) {\r\n            dev.setTeam(this);\r\n            this.getDevelopers().add(dev);\r\n            return this;\r\n\r\n        }\r\n    }\r\n\r\n```","title":"@OneToMany and @ManyToOne Spring Data JPA Child does not update Parent","body":"<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Data\n    @EqualsAndHashCode(exclude = {&quot;developers&quot;})\n    @ToString(exclude = {&quot;developers&quot;})\n    @Builder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Team {\n    \n        @Id\n        @GeneratedValue\n        private Long id;\n    \n        @Column(nullable = false)\n        private String name;\n    \n        private String description;\n    \n        @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\n        @JsonIgnoreProperties(value = {&quot;team&quot;})\n        private List&lt;Developer&gt; developers = new ArrayList&lt;&gt;;\n        \n        Team addDeveloper(Developer dev) {\n            dev.setTeam(this);\n            this.getDevelopers().add(dev);\n            return this;\n\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643117065,"creation_date":1643111455,"question_id":70848162,"body_markdown":"I am struggling with simple scenario, where I have to specify a Team of Many developers and a Developer can only have one team.\r\n\r\nThese are my current two POJOs, but it is starting to get complex and i start to hate it. Not sure what is the best approach.\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(exclude = {&quot;team&quot;})\r\n@ToString(exclude = {&quot;team&quot;})\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Developer {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JsonIgnoreProperties(value = {&quot;developers&quot;})\r\n    private Team team;\r\n\r\n}\r\n```\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(exclude = {&quot;developers&quot;})\r\n@ToString(exclude = {&quot;developers&quot;})\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Team {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\r\n    @JsonIgnoreProperties(value = {&quot;team&quot;})\r\n    private List&lt;Developer&gt; developers;\r\n\r\n}\r\n```\r\n\r\nThe problem I have now is if I create a Team and then assign two developers to it and then retrieve the team again, the developers list is still null. What am i missing? I can manually update the list of the team of course, but that defeats the purpose of JPA helping me. Any advice would be helpful. \r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n    @Autowired\r\n    private TeamRepository underTest;\r\n\r\n    @Autowired\r\n    private DeveloperRepository developerRepository;\r\n\r\nTeam team = Team.builder()\r\n        .name(&quot;Team 1&quot;)\r\n        .build();\r\n\r\nTeam team1 = underTest.save(team);\r\n\r\nDeveloper developer1 = Developer.builder()\r\n        .name(&quot;Stefan Bratanov&quot;)\r\n        .team(team1)\r\n        .build();\r\n\r\nDeveloper developer2 = Developer.builder()\r\n        .name(&quot;Darth Vader&quot;)\r\n        .team(team1)\r\n        .build();\r\n\r\nList&lt;Developer&gt; developers = Arrays.asList(developer1, developer2);\r\n\r\ndeveloperRepository.saveAll(developers);\r\n\r\nOptional&lt;Team&gt; maybeTeamWithDevelopers = underTest.findById(team1.getId());\r\nassertThat(maybeTeamWithDevelopers).isPresent();\r\n\r\nTeam teamWithDevelopers = maybeTeamWithDevelopers.get();\r\n\r\nassertThat(teamWithDevelopers.getDevelopers()).containsExactlyInAnyOrder(developer1, developer2); //DEVELOPERS IS NULL HERE\r\n```\r\n\r\n\r\n\r\n","title":"@OneToMany and @ManyToOne Spring Data JPA Child does not update Parent","body":"<p>I am struggling with simple scenario, where I have to specify a Team of Many developers and a Developer can only have one team.</p>\n<p>These are my current two POJOs, but it is starting to get complex and i start to hate it. Not sure what is the best approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@EqualsAndHashCode(exclude = {&quot;team&quot;})\n@ToString(exclude = {&quot;team&quot;})\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Developer {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToOne(optional = false)\n    @JsonIgnoreProperties(value = {&quot;developers&quot;})\n    private Team team;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@EqualsAndHashCode(exclude = {&quot;developers&quot;})\n@ToString(exclude = {&quot;developers&quot;})\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Team {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    private String description;\n\n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\n    @JsonIgnoreProperties(value = {&quot;team&quot;})\n    private List&lt;Developer&gt; developers;\n\n}\n</code></pre>\n<p>The problem I have now is if I create a Team and then assign two developers to it and then retrieve the team again, the developers list is still null. What am i missing? I can manually update the list of the team of course, but that defeats the purpose of JPA helping me. Any advice would be helpful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private TeamRepository underTest;\n\n    @Autowired\n    private DeveloperRepository developerRepository;\n\nTeam team = Team.builder()\n        .name(&quot;Team 1&quot;)\n        .build();\n\nTeam team1 = underTest.save(team);\n\nDeveloper developer1 = Developer.builder()\n        .name(&quot;Stefan Bratanov&quot;)\n        .team(team1)\n        .build();\n\nDeveloper developer2 = Developer.builder()\n        .name(&quot;Darth Vader&quot;)\n        .team(team1)\n        .build();\n\nList&lt;Developer&gt; developers = Arrays.asList(developer1, developer2);\n\ndeveloperRepository.saveAll(developers);\n\nOptional&lt;Team&gt; maybeTeamWithDevelopers = underTest.findById(team1.getId());\nassertThat(maybeTeamWithDevelopers).isPresent();\n\nTeam teamWithDevelopers = maybeTeamWithDevelopers.get();\n\nassertThat(teamWithDevelopers.getDevelopers()).containsExactlyInAnyOrder(developer1, developer2); //DEVELOPERS IS NULL HERE\n</code></pre>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643115689,"post_id":70848789,"comment_id":125249357,"body_markdown":"Not automatically to my knowledge, for such a scenario, your query will need to exclude based entity.status != &quot;BAD&quot;","body":"Not automatically to my knowledge, for such a scenario, your query will need to exclude based entity.status != &quot;BAD&quot;"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1643116730,"post_id":70848789,"comment_id":125249765,"body_markdown":"@SMA i want to exclude for any query","body":"@SMA i want to exclude for any query"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643117047,"creation_date":1643117047,"answer_id":70849386,"question_id":70848789,"body_markdown":"Kindly see if the below notions help you in achieving what you are after:\r\n\r\n\r\n**2.3.21. @Where**\r\n\r\n&gt; Sometimes, you want to filter out entities or collections using custom\r\n&gt; SQL criteria. This can be achieved using the @Where annotation, which\r\n&gt; can be applied to entities and collections.\r\n\r\nExample 78. @Where mapping usage\r\n\r\n    public enum AccountType {\r\n        DEBIT,\r\n        CREDIT\r\n    }\r\n    \r\n    @Entity(name = &quot;Client&quot;)\r\n    public static class Client {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @Where( clause = &quot;account_type = &#39;DEBIT&#39;&quot;)\r\n        @OneToMany(mappedBy = &quot;client&quot;)\r\n        private List&lt;Account&gt; debitAccounts = new ArrayList&lt;&gt;( );\r\n    \r\n        @Where( clause = &quot;account_type = &#39;CREDIT&#39;&quot;)\r\n        @OneToMany(mappedBy = &quot;client&quot;)\r\n        private List&lt;Account&gt; creditAccounts = new ArrayList&lt;&gt;( );\r\n    \r\n        //Getters and setters omitted for brevity\r\n    \r\n    }\r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where\r\n\r\n**2.3.23. @Filter**\r\n\r\n&gt; The @Filter annotation is another way to filter out entities or\r\n&gt; collections using custom SQL criteria. Unlike the @Where annotation,\r\n&gt; @Filter allows you to parameterize the filter clause at runtime.\r\n&gt; \r\n&gt; Now, considering we have the following Account entity:\r\n\r\nExample 85. @Filter mapping entity-level usage\r\n\r\n    @Entity(name = &quot;Account&quot;)\r\n    @FilterDef(\r\n        name=&quot;activeAccount&quot;,\r\n        parameters = @ParamDef(\r\n            name=&quot;active&quot;,\r\n            type=&quot;boolean&quot;\r\n        )\r\n    )\r\n    @Filter(\r\n        name=&quot;activeAccount&quot;,\r\n        condition=&quot;active_status = :active&quot;\r\n    )\r\n    public static class Account {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Client client;\r\n    \r\n        @Column(name = &quot;account_type&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private AccountType type;\r\n    \r\n        private Double amount;\r\n    \r\n        private Double rate;\r\n    \r\n        @Column(name = &quot;active_status&quot;)\r\n        private boolean active;\r\n    \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter\r\n\r\n\r\n----------\r\n\r\nAlso take a look at https://stackoverflow.com/questions/25855260/global-hibernate-filter-on-all-database-queries  which uses AspectJ to intercept the queries if you want to do it in another way.\r\n\r\n\r\n\r\n","title":"Hibernate exclude rows with condition","body":"<p>Kindly see if the below notions help you in achieving what you are after:</p>\n<p><strong>2.3.21. @Where</strong></p>\n<blockquote>\n<p>Sometimes, you want to filter out entities or collections using custom\nSQL criteria. This can be achieved using the @Where annotation, which\ncan be applied to entities and collections.</p>\n</blockquote>\n<p>Example 78. @Where mapping usage</p>\n<pre><code>public enum AccountType {\n    DEBIT,\n    CREDIT\n}\n\n@Entity(name = &quot;Client&quot;)\npublic static class Client {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @Where( clause = &quot;account_type = 'DEBIT'&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;)\n    private List&lt;Account&gt; debitAccounts = new ArrayList&lt;&gt;( );\n\n    @Where( clause = &quot;account_type = 'CREDIT'&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;)\n    private List&lt;Account&gt; creditAccounts = new ArrayList&lt;&gt;( );\n\n    //Getters and setters omitted for brevity\n\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where</a></p>\n<p><strong>2.3.23. @Filter</strong></p>\n<blockquote>\n<p>The @Filter annotation is another way to filter out entities or\ncollections using custom SQL criteria. Unlike the @Where annotation,\n@Filter allows you to parameterize the filter clause at runtime.</p>\n<p>Now, considering we have the following Account entity:</p>\n</blockquote>\n<p>Example 85. @Filter mapping entity-level usage</p>\n<pre><code>@Entity(name = &quot;Account&quot;)\n@FilterDef(\n    name=&quot;activeAccount&quot;,\n    parameters = @ParamDef(\n        name=&quot;active&quot;,\n        type=&quot;boolean&quot;\n    )\n)\n@Filter(\n    name=&quot;activeAccount&quot;,\n    condition=&quot;active_status = :active&quot;\n)\npublic static class Account {\n\n    @Id\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Client client;\n\n    @Column(name = &quot;account_type&quot;)\n    @Enumerated(EnumType.STRING)\n    private AccountType type;\n\n    private Double amount;\n\n    private Double rate;\n\n    @Column(name = &quot;active_status&quot;)\n    private boolean active;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter</a></p>\n<hr />\n<p>Also take a look at <a href=\"https://stackoverflow.com/questions/25855260/global-hibernate-filter-on-all-database-queries\">Global hibernate filter on all database queries</a>  which uses AspectJ to intercept the queries if you want to do it in another way.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643117047,"creation_date":1643114371,"question_id":70848789,"body_markdown":"```\r\n@Entity\r\npublic class ClassA {\r\n\r\n    some attributes\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private EnumObject status;\r\n}\r\n```\r\n\r\nMy Enum:\r\n```\r\npublic enum EnumObject {\r\n    OK,\r\n    BAD,\r\n    SOME_CASE,\r\n    ANOTHER_CASE;\r\n```\r\n\r\n\r\nThere are a possibility to say never return Entity when `status=BAD` for all queries","title":"Hibernate exclude rows with condition","body":"<pre><code>@Entity\npublic class ClassA {\n\n    some attributes\n\n    @Enumerated(value = EnumType.STRING)\n    private EnumObject status;\n}\n</code></pre>\n<p>My Enum:</p>\n<pre><code>public enum EnumObject {\n    OK,\n    BAD,\n    SOME_CASE,\n    ANOTHER_CASE;\n</code></pre>\n<p>There are a possibility to say never return Entity when <code>status=BAD</code> for all queries</p>\n"},{"tags":["java","swing","jframe","jlabel"],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643116974,"creation_date":1643116974,"answer_id":70849374,"question_id":70838760,"body_markdown":"First of, you need to structure your code in a better way. Secondly, it is better to use a swing container where the text (`JLabel`) will be added. Below [Box][1] is used, which is a container that uses [BoxLayout][2] as its layout manager, allowing multiple components (`JLabels` in your case) to be laid out either vertically (`Y_AXIS`) or horizontally (`X_AXIS`). You can then use `JScrollPane` to provide a scrollable view of the Box component, and add that JScrollPane instance to your frame. Every time you add a new text, you add it to the Box instance, and then you call `repaint();` and `revalidate();` on your frame for the text to be shown. If you need only the last text to be shown on the window (and not every text you have added), then uncomment `box.removeAll();` as a quick fix. Otherwise, do not use the Box with the JScrollPane, but simply add the label to your frame e.g., `myframe.getContentPane().add(lbl, BorderLayout.CENTER);`. Again, remember to call `myframe.getContentPane().removeAll()`; before adding a new JLabel, as well as `repaint();` and `revalidate();` afterwards. Working example below:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n    \tScanner input;\r\n    \tJFrame myframe;\r\n    \tBox box;\r\n    \tJScrollPane scrollPane;\r\n    \r\n    \tpublic App() {\r\n    \t\tinput = new Scanner(System.in);\r\n    \t\tbox = new Box(BoxLayout.Y_AXIS);\r\n    \t\tscrollPane = new JScrollPane(box);\r\n    \t\tmyframe = new JFrame();\r\n    \t\tmyframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n    \t\tmyframe.setSize(300, 300);\r\n    \t\tmyframe.setTitle(&quot;Blank Window&quot;);\r\n    \t\tmyframe.setResizable(false);\r\n    \t\tmyframe.setLocation(300, 300);\r\n    \t}\r\n    \r\n    \tpublic void go() {\r\n    \t\tboolean done = false;\r\n    \t\tboolean winopen = false;\r\n    \t\tSystem.out.println(&quot;Type commands here. Type &#39;help&#39; for list of commands.&quot;);\r\n    \r\n    \t\twhile (done == false) {\r\n    \t\t\tSystem.out.print(&quot;Console &gt; &gt; &gt;  &quot;);\r\n    \t\t\tString coninput = input.nextLine();\r\n    \r\n    \t\t\tif (coninput.equals(&quot;window open&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Opening Window...&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t\twinopen = true;\r\n    \t\t\t\tmyframe.setVisible(true);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;window close&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Closing Window...&quot;);\r\n    \t\t\t\twinopen = false;\r\n    \t\t\t\tmyframe.setVisible(false);\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;exit&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Exiting...&quot;);\r\n    \t\t\t\tmyframe.dispose();\r\n    \t\t\t\tdone = true;\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;help&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Commands: &quot;);\r\n    \t\t\t\tSystem.out.println(&quot;window open: opens a window&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;window close: closes the open window&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;exit: shuts down the program&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;help: lists commands&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\r\n    \t\t\t\tSystem.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\r\n    \t\t\t\tJLabel lbl = new JLabel(input.nextLine());\r\n    \t\t\t\tSystem.out.println(&quot;Adding...&quot;);\r\n    \t\t\t\t// box.removeAll();\r\n    \t\t\t\tbox.add(lbl);\r\n    \t\t\t\tmyframe.repaint();\r\n    \t\t\t\tmyframe.revalidate();\r\n    \t\t\t\tRectangle bounds = lbl.getBounds();\r\n    \t\t\t\tscrollPane.getViewport().scrollRectToVisible(bounds);// scroll to the new text\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\r\n    \t\t\t\tSystem.out.print(&quot;You have to have a window open.&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew App().go();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/Box.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/BoxLayout.html","title":"Java - JLabel wont add when in a while loop","body":"<p>First of, you need to structure your code in a better way. Secondly, it is better to use a swing container where the text (<code>JLabel</code>) will be added. Below <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/Box.html\" rel=\"nofollow noreferrer\">Box</a> is used, which is a container that uses <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/BoxLayout.html\" rel=\"nofollow noreferrer\">BoxLayout</a> as its layout manager, allowing multiple components (<code>JLabels</code> in your case) to be laid out either vertically (<code>Y_AXIS</code>) or horizontally (<code>X_AXIS</code>). You can then use <code>JScrollPane</code> to provide a scrollable view of the Box component, and add that JScrollPane instance to your frame. Every time you add a new text, you add it to the Box instance, and then you call <code>repaint();</code> and <code>revalidate();</code> on your frame for the text to be shown. If you need only the last text to be shown on the window (and not every text you have added), then uncomment <code>box.removeAll();</code> as a quick fix. Otherwise, do not use the Box with the JScrollPane, but simply add the label to your frame e.g., <code>myframe.getContentPane().add(lbl, BorderLayout.CENTER);</code>. Again, remember to call <code>myframe.getContentPane().removeAll()</code>; before adding a new JLabel, as well as <code>repaint();</code> and <code>revalidate();</code> afterwards. Working example below:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.Scanner;\n\npublic class App {\n    Scanner input;\n    JFrame myframe;\n    Box box;\n    JScrollPane scrollPane;\n\n    public App() {\n        input = new Scanner(System.in);\n        box = new Box(BoxLayout.Y_AXIS);\n        scrollPane = new JScrollPane(box);\n        myframe = new JFrame();\n        myframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        myframe.setSize(300, 300);\n        myframe.setTitle(&quot;Blank Window&quot;);\n        myframe.setResizable(false);\n        myframe.setLocation(300, 300);\n    }\n\n    public void go() {\n        boolean done = false;\n        boolean winopen = false;\n        System.out.println(&quot;Type commands here. Type 'help' for list of commands.&quot;);\n\n        while (done == false) {\n            System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);\n            String coninput = input.nextLine();\n\n            if (coninput.equals(&quot;window open&quot;)) {\n                System.out.println(&quot;Opening Window...&quot;);\n                System.out.println(&quot;Done!&quot;);\n                winopen = true;\n                myframe.setVisible(true);\n            }\n\n            if (coninput.equals(&quot;window close&quot;)) {\n                System.out.println(&quot;Closing Window...&quot;);\n                winopen = false;\n                myframe.setVisible(false);\n                System.out.println(&quot;Done!&quot;);\n            }\n\n            if (coninput.equals(&quot;exit&quot;)) {\n                System.out.println(&quot;Exiting...&quot;);\n                myframe.dispose();\n                done = true;\n                System.out.println(&quot;Done!&quot;);\n            }\n\n            if (coninput.equals(&quot;help&quot;)) {\n                System.out.println(&quot;Commands: &quot;);\n                System.out.println(&quot;window open: opens a window&quot;);\n                System.out.println(&quot;window close: closes the open window&quot;);\n                System.out.println(&quot;exit: shuts down the program&quot;);\n                System.out.println(&quot;help: lists commands&quot;);\n            }\n\n            if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\n                System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\n                JLabel lbl = new JLabel(input.nextLine());\n                System.out.println(&quot;Adding...&quot;);\n                // box.removeAll();\n                box.add(lbl);\n                myframe.repaint();\n                myframe.revalidate();\n                Rectangle bounds = lbl.getBounds();\n                scrollPane.getViewport().scrollRectToVisible(bounds);// scroll to the new text\n            }\n\n            if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\n                System.out.print(&quot;You have to have a window open.&quot;);\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        new App().go();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24040867,"reputation":13,"user_id":18020569,"display_name":"Cruze Clevenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70849374,"answer_count":1,"score":1,"last_activity_date":1643116974,"creation_date":1643049229,"question_id":70838760,"body_markdown":"I am making a GUI Console with Java and Swing. It calls on the scanner to input text, then puts that text into a variable to give to the JFrame. The bolded code is the code in question. \r\n\r\nThe code works, but when you type in &quot;change text&quot;, after putting in the required input, it does not add the JLabel to the JFrame.\r\n\r\nPlease Help! Thanks!\r\n\r\n\r\n    //prepare all imports\r\n\r\n    Random rand = new Random();\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    JFrame myframe = new JFrame();\r\n    \r\n    myframe.setSize(300, 300);\r\n    myframe.setTitle(&quot;Blank Window&quot;);\r\n    myframe.setResizable(false);\r\n    myframe.setLocation(300,300);\r\n\r\n\r\n    //*******************************************\r\n\r\n    boolean done = false;\r\n    boolean winopen = false;\r\n\r\n    System.out.println(&quot;Type commands here. Type &#39;help&#39; for list of commands.&quot;);\r\n\r\n\r\n    while (done == false) {\r\n\r\n      System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);  \r\n\r\n      String coninput = input.nextLine();\r\n\r\n      if (coninput.equals(&quot;window open&quot;)) {\r\n        System.out.println(&quot;Opening Window...&quot;);\r\n        System.out.println(&quot;Done!&quot;);\r\n\r\n        winopen = true;\r\n\r\n        myframe.setVisible(true);\r\n      }\r\n\r\n      if (coninput.equals(&quot;window close&quot;)) {\r\n        System.out.println(&quot;Closing Window...&quot;);\r\n\r\n        winopen = false;\r\n\r\n        myframe.setVisible(false);\r\n        System.out.println(&quot;Done!&quot;);\r\n      }\r\n\r\n      if (coninput.equals(&quot;exit&quot;)) {\r\n        System.out.println(&quot;Exiting...&quot;);\r\n        myframe.dispose();\r\n        done = true;\r\n        System.out.println(&quot;Done!&quot;);\r\n      }\r\n\r\n      if (coninput.equals(&quot;help&quot;)) {\r\n        System.out.println(&quot;Commands: &quot;);\r\n        System.out.println(&quot;window open: opens a window&quot;);\r\n        System.out.println(&quot;window close: closes the open window&quot;);\r\n        System.out.println(&quot;exit: shuts down the program&quot;);\r\n        System.out.println(&quot;help: lists commands&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n      }\r\n\r\n      **if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\r\n        System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\r\n        JLabel text1 = new JLabel(input.nextLine());\r\n        System.out.println(&quot;Adding...&quot;);\r\n        myframe.add(text1);\r\n      }**\r\n\r\n\r\n\r\n      if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\r\n        System.out.print(&quot;You have to have a window open.&quot;);\r\n      }\r\n\r\n    }\r\n\r\n    \r\n\r\n\r\n  }\r\n}","title":"Java - JLabel wont add when in a while loop","body":"<p>I am making a GUI Console with Java and Swing. It calls on the scanner to input text, then puts that text into a variable to give to the JFrame. The bolded code is the code in question.</p>\n<p>The code works, but when you type in &quot;change text&quot;, after putting in the required input, it does not add the JLabel to the JFrame.</p>\n<p>Please Help! Thanks!</p>\n<pre><code>//prepare all imports\n\nRandom rand = new Random();\n\nScanner input = new Scanner(System.in);\n\nJFrame myframe = new JFrame();\n\nmyframe.setSize(300, 300);\nmyframe.setTitle(&quot;Blank Window&quot;);\nmyframe.setResizable(false);\nmyframe.setLocation(300,300);\n\n\n//*******************************************\n\nboolean done = false;\nboolean winopen = false;\n\nSystem.out.println(&quot;Type commands here. Type 'help' for list of commands.&quot;);\n\n\nwhile (done == false) {\n\n  System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);  \n\n  String coninput = input.nextLine();\n\n  if (coninput.equals(&quot;window open&quot;)) {\n    System.out.println(&quot;Opening Window...&quot;);\n    System.out.println(&quot;Done!&quot;);\n\n    winopen = true;\n\n    myframe.setVisible(true);\n  }\n\n  if (coninput.equals(&quot;window close&quot;)) {\n    System.out.println(&quot;Closing Window...&quot;);\n\n    winopen = false;\n\n    myframe.setVisible(false);\n    System.out.println(&quot;Done!&quot;);\n  }\n\n  if (coninput.equals(&quot;exit&quot;)) {\n    System.out.println(&quot;Exiting...&quot;);\n    myframe.dispose();\n    done = true;\n    System.out.println(&quot;Done!&quot;);\n  }\n\n  if (coninput.equals(&quot;help&quot;)) {\n    System.out.println(&quot;Commands: &quot;);\n    System.out.println(&quot;window open: opens a window&quot;);\n    System.out.println(&quot;window close: closes the open window&quot;);\n    System.out.println(&quot;exit: shuts down the program&quot;);\n    System.out.println(&quot;help: lists commands&quot;);\n    //System.out.println(&quot;&quot;);\n    //System.out.println(&quot;&quot;);\n    //System.out.println(&quot;&quot;);\n  }\n\n  **if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\n    System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\n    JLabel text1 = new JLabel(input.nextLine());\n    System.out.println(&quot;Adding...&quot;);\n    myframe.add(text1);\n  }**\n\n\n\n  if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\n    System.out.print(&quot;You have to have a window open.&quot;);\n  }\n\n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","swagger","swagger-ui","springfox"],"answers":[{"tags":[],"owner":{"account_id":3505597,"reputation":768,"user_id":2931195,"display_name":"user2931195"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643116768,"creation_date":1643116768,"answer_id":70849331,"question_id":58736351,"body_markdown":"We created a inherited annotation and used that :\r\n\r\n\r\n     @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @ApiImplicitParams({\r\n    \t@ApiImplicitParam(name = &quot;page&quot;,  dataTypeClass = int.class,defaultValue = &quot;0&quot;, example = &quot;0&quot;, paramType = &quot;query&quot;, value = &quot;Results page you want to retrieve (0..N)&quot;),\r\n    \t@ApiImplicitParam(name = &quot;size&quot;, dataTypeClass = int.class ,example = &quot;10&quot;, paramType = &quot;query&quot;, value = &quot;Number of records per page.&quot;),\r\n    \t@ApiImplicitParam(name = &quot;sort&quot;, allowMultiple = true, dataTypeClass=String.class, paramType = &quot;query&quot;, value = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\r\n    \t\t\t+ &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;)  \r\n    })\r\n    public @interface ApiPagingParams {\r\n    \r\n    }\r\n\r\n\r\nusage \r\n\r\n\r\n\t@ApiPagingParams\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@GetMapping(&quot;/entity&quot;) \r\n\tResponseEntity&lt;Page&lt;...&gt;&gt; getSurveyEntityList(@ApiIgnore(&quot;see @ApiPagingParams&quot;) @PageableDefault(page = 0, size = 10) Pageable pageable,...)\r\n\r\n","title":"Spring REST Pageable / Query Parameters in Swagger","body":"<p>We created a inherited annotation and used that :</p>\n<pre><code> @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@ApiImplicitParams({\n    @ApiImplicitParam(name = &quot;page&quot;,  dataTypeClass = int.class,defaultValue = &quot;0&quot;, example = &quot;0&quot;, paramType = &quot;query&quot;, value = &quot;Results page you want to retrieve (0..N)&quot;),\n    @ApiImplicitParam(name = &quot;size&quot;, dataTypeClass = int.class ,example = &quot;10&quot;, paramType = &quot;query&quot;, value = &quot;Number of records per page.&quot;),\n    @ApiImplicitParam(name = &quot;sort&quot;, allowMultiple = true, dataTypeClass=String.class, paramType = &quot;query&quot;, value = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\n            + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;)  \n})\npublic @interface ApiPagingParams {\n\n}\n</code></pre>\n<p>usage</p>\n<pre><code>@ApiPagingParams\n@ResponseStatus(HttpStatus.OK)\n@GetMapping(&quot;/entity&quot;) \nResponseEntity&lt;Page&lt;...&gt;&gt; getSurveyEntityList(@ApiIgnore(&quot;see @ApiPagingParams&quot;) @PageableDefault(page = 0, size = 10) Pageable pageable,...)\n</code></pre>\n"}],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643116768,"creation_date":1573064544,"question_id":58736351,"body_markdown":"I&#39;m trying to implement paging in my REST service.\r\n\r\nTAKE 1:\r\n\r\n    public Page&lt;Item&gt; getPagedItems(Pageable pageable)\r\n\r\nThis is a known bug in SpringFox / Swagger where the Swagger page shows the wrong parameter names. Plus, I just want page &amp; size options.\r\n\r\nTAKE 2:\r\n\r\n    public Page&lt;Item&gt; getPagedItems(@RequestParam(name=&quot;page&quot;, required=true) int page, @RequestParam(name=&quot;page&quot;, required=true) int size)\r\n\r\nThis gives me the correct params, but it doesn&#39;t let me set the param descriptions or example values.\r\n\r\nTAKE 3:\r\n\r\n\t@ApiImplicitParams({\r\n\t\t@ApiImplicitParam(name=&quot;page&quot;, value=&quot;page description&quot;, required=true, example=&quot;0&quot;, dataType=&quot;int&quot;),\r\n\t\t@ApiImplicitParam(name=&quot;size&quot;, value=&quot;size description&quot;, required=true, example=&quot;10&quot;, dataType=&quot;int&quot;)\r\n\t})\r\n    public Page&lt;Item&gt; getPagedItems(int page, int size)\r\n\r\nThis has yet ANOTHER bug where example=&quot;0&quot; doesn&#39;t work, but every other value except that one works lol. If I change the datatype to String then it&#39;ll display the 0 example value, but then it&#39;ll let you put in anything in the text box. Also tried &quot;0 &quot;, &quot;0.0&quot;, &quot;0\\0&quot;, etc. Stuff like that.\r\n\r\nIf I don&#39;t set examples, then Springfox throws an exception complaining about no examples lol. The closest thing I can do is put 0 for both with both blank. Ugh. Having 0 / 10 isn&#39;t a good option since the 0 doesn&#39;t work, but the 10 does.\r\n\r\nAny idea how to get an example of 0 to work? Spring Fox doesn&#39;t seem to be too well supported, even for open source, so no response on GitHub.\r\n\r\nOr some other way of having an example AND description?\r\n","title":"Spring REST Pageable / Query Parameters in Swagger","body":"<p>I'm trying to implement paging in my REST service.</p>\n\n<p>TAKE 1:</p>\n\n<pre><code>public Page&lt;Item&gt; getPagedItems(Pageable pageable)\n</code></pre>\n\n<p>This is a known bug in SpringFox / Swagger where the Swagger page shows the wrong parameter names. Plus, I just want page &amp; size options.</p>\n\n<p>TAKE 2:</p>\n\n<pre><code>public Page&lt;Item&gt; getPagedItems(@RequestParam(name=\"page\", required=true) int page, @RequestParam(name=\"page\", required=true) int size)\n</code></pre>\n\n<p>This gives me the correct params, but it doesn't let me set the param descriptions or example values.</p>\n\n<p>TAKE 3:</p>\n\n<pre><code>@ApiImplicitParams({\n    @ApiImplicitParam(name=\"page\", value=\"page description\", required=true, example=\"0\", dataType=\"int\"),\n    @ApiImplicitParam(name=\"size\", value=\"size description\", required=true, example=\"10\", dataType=\"int\")\n})\npublic Page&lt;Item&gt; getPagedItems(int page, int size)\n</code></pre>\n\n<p>This has yet ANOTHER bug where example=\"0\" doesn't work, but every other value except that one works lol. If I change the datatype to String then it'll display the 0 example value, but then it'll let you put in anything in the text box. Also tried \"0 \", \"0.0\", \"0\\0\", etc. Stuff like that.</p>\n\n<p>If I don't set examples, then Springfox throws an exception complaining about no examples lol. The closest thing I can do is put 0 for both with both blank. Ugh. Having 0 / 10 isn't a good option since the 0 doesn't work, but the 10 does.</p>\n\n<p>Any idea how to get an example of 0 to work? Spring Fox doesn't seem to be too well supported, even for open source, so no response on GitHub.</p>\n\n<p>Or some other way of having an example AND description?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24049055,"reputation":1,"user_id":18027752,"display_name":"kenluffy32"},"score":0,"creation_date":1643116362,"post_id":70848663,"comment_id":125249612,"body_markdown":"I&#39;m trying to import data on jtable","body":"I&#39;m trying to import data on jtable"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1643119089,"post_id":70848663,"comment_id":125250767,"body_markdown":"The exception message indicates that you are trying to cast an instance of `javax.swing.table.DefaultTableModel` to a type with the same name but a different package(`Sample$DefaultTableModel`).  Check your class imports to make sure you are importing the correct type.  If you need to work with both types in this class then you&#39;ll need to handle one (or both) by fully qualified type name.","body":"The exception message indicates that you are trying to cast an instance of <code>javax.swing.table.DefaultTableModel</code> to a type with the same name but a different package(<code>Sample$DefaultTableModel</code>).  Check your class imports to make sure you are importing the correct type.  If you need to work with both types in this class then you&#39;ll need to handle one (or both) by fully qualified type name."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643116741,"creation_date":1643116741,"answer_id":70849320,"question_id":70848663,"body_markdown":"It seams you have declared a class (or interface) `DefaultTableModel` inside a class `Sample` and you must have imported that class instead of `javax.swing.table.DefaultTableModel`.","title":"Java DefaultTableModel","body":"<p>It seams you have declared a class (or interface) <code>DefaultTableModel</code> inside a class <code>Sample</code> and you must have imported that class instead of <code>javax.swing.table.DefaultTableModel</code>.</p>\n"}],"owner":{"account_id":24049055,"reputation":1,"user_id":18027752,"display_name":"kenluffy32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643116741,"creation_date":1643113789,"question_id":70848663,"body_markdown":" \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n        DefaultTableModel Samplemodel = (DefaultTableModel) jTable1.getModel();\r\n        Samplemodel.setRowCount(0);\r\n\r\n\r\n        FileInputStream excelFIS = null;\r\n        BufferedInputStream excelBIS = null;\r\n        XSSFWorkbook excelImportWorkBook = null;\r\n\r\n        String defaultCurrentDirectoryPath = &quot;D:\\\\Downloads&quot;;\r\n        JFileChooser excelFileChooser = new JFileChooser(defaultCurrentDirectoryPath);\r\n        excelFileChooser.setDialogTitle(&quot;Select Excel File&quot;);\r\n        FileNameExtensionFilter dist = new FileNameExtensionFilter(&quot;EXCEL FILES&quot;, &quot;xls&quot;, &quot;xlsx&quot;, &quot;xlsm&quot;);\r\n        excelFileChooser.setFileFilter(dist);\r\n        int excelChooser = excelFileChooser.showOpenDialog(null);\r\n        if (excelChooser == JFileChooser.APPROVE_OPTION) {\r\n            try {\r\n                File excelFile = excelFileChooser.getSelectedFile();\r\n                excelFIS = new FileInputStream(excelFile);\r\n                excelBIS = new BufferedInputStream(excelFIS);\r\n                excelImportWorkBook = new XSSFWorkbook(excelBIS);\r\n                XSSFSheet excelSheet = excelImportWorkBook.getSheetAt(0);\r\n\r\n                for (int i = 0; i &lt; excelSheet.getLastRowNum(); i++) {\r\n                    XSSFRow excelRow = excelSheet.getRow(i);\r\n\r\n                    XSSFCell excelStudentID = excelRow.getCell(0);\r\n                    XSSFCell excelStudentName = excelRow.getCell(1);\r\n                    XSSFCell excelCourse = excelRow.getCell(2);\r\n                    XSSFCell excelYearLevel = excelRow.getCell(3);\r\n                    XSSFCell excelContactNumber = excelRow.getCell(4);\r\n                    XSSFCell excelBalance = excelRow.getCell(5);\r\n\r\n\r\n                    Samplemodel.addRow(new Object[] {\r\n                        excelStudentID,\r\n                        excelStudentName,\r\n                        excelCourse,\r\n                        excelYearLevel,\r\n                        excelContactNumber,\r\n                        excelBalance\r\n                    });\r\n\r\n\r\n\r\n                }\r\n                JOptionPane.showMessageDialog(null, &quot;Your Excel File is successfully Imported&quot;);\r\n\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Sample.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n    }\r\n                      \r\n\r\nThe error is: \r\n\r\n&gt;  Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class\r\n&gt; javax.swing.table.DefaultTableModel cannot be cast to class\r\n&gt; Sample$DefaultTableModel (javax.swing.table.DefaultTableModel is in\r\n&gt; module java.desktop of loader &#39;bootstrap&#39;; Sample$DefaultTableModel is\r\n&gt; in unnamed module of loader &#39;app&#39;)\r\n\r\n ","title":"Java DefaultTableModel","body":"<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n\n    DefaultTableModel Samplemodel = (DefaultTableModel) jTable1.getModel();\n    Samplemodel.setRowCount(0);\n\n\n    FileInputStream excelFIS = null;\n    BufferedInputStream excelBIS = null;\n    XSSFWorkbook excelImportWorkBook = null;\n\n    String defaultCurrentDirectoryPath = &quot;D:\\\\Downloads&quot;;\n    JFileChooser excelFileChooser = new JFileChooser(defaultCurrentDirectoryPath);\n    excelFileChooser.setDialogTitle(&quot;Select Excel File&quot;);\n    FileNameExtensionFilter dist = new FileNameExtensionFilter(&quot;EXCEL FILES&quot;, &quot;xls&quot;, &quot;xlsx&quot;, &quot;xlsm&quot;);\n    excelFileChooser.setFileFilter(dist);\n    int excelChooser = excelFileChooser.showOpenDialog(null);\n    if (excelChooser == JFileChooser.APPROVE_OPTION) {\n        try {\n            File excelFile = excelFileChooser.getSelectedFile();\n            excelFIS = new FileInputStream(excelFile);\n            excelBIS = new BufferedInputStream(excelFIS);\n            excelImportWorkBook = new XSSFWorkbook(excelBIS);\n            XSSFSheet excelSheet = excelImportWorkBook.getSheetAt(0);\n\n            for (int i = 0; i &lt; excelSheet.getLastRowNum(); i++) {\n                XSSFRow excelRow = excelSheet.getRow(i);\n\n                XSSFCell excelStudentID = excelRow.getCell(0);\n                XSSFCell excelStudentName = excelRow.getCell(1);\n                XSSFCell excelCourse = excelRow.getCell(2);\n                XSSFCell excelYearLevel = excelRow.getCell(3);\n                XSSFCell excelContactNumber = excelRow.getCell(4);\n                XSSFCell excelBalance = excelRow.getCell(5);\n\n\n                Samplemodel.addRow(new Object[] {\n                    excelStudentID,\n                    excelStudentName,\n                    excelCourse,\n                    excelYearLevel,\n                    excelContactNumber,\n                    excelBalance\n                });\n\n\n\n            }\n            JOptionPane.showMessageDialog(null, &quot;Your Excel File is successfully Imported&quot;);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Sample.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n}\n                  \n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class\njavax.swing.table.DefaultTableModel cannot be cast to class\nSample$DefaultTableModel (javax.swing.table.DefaultTableModel is in\nmodule java.desktop of loader 'bootstrap'; Sample$DefaultTableModel is\nin unnamed module of loader 'app')</p>\n</blockquote>\n"},{"tags":["java","spring-boot","maven","executable-jar","packaging"],"answers":[{"tags":[],"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643113694,"creation_date":1643112029,"answer_id":70848301,"question_id":70848232,"body_markdown":"In the parent, you have specified\r\n\r\n```\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n```\r\n\r\nThat means that the primary artifact will not be a jar, but the pom.xml itself.\r\n\r\nWhen working with submodules, the parent module will not generate a jar, since the packaging is supposed to be a pom.","title":"Cannot produce single project jar file (Spring Boot)","body":"<p>In the parent, you have specified</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>That means that the primary artifact will not be a jar, but the pom.xml itself.</p>\n<p>When working with submodules, the parent module will not generate a jar, since the packaging is supposed to be a pom.</p>\n"}],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643116046,"creation_date":1643111718,"question_id":70848232,"body_markdown":"I am trying to follow [this][1] tutorial for Docker and postgres with Spring boot in order to create a docker container, but I cannot create a single project jar file. App runs fine with maven and intellij, just cant package it. \r\n\r\nMy project is as follows 3 modules each with pom.xml, and one parent pom.xml to organize them. `@SpringBootApplication` is only one and exists only on the module where also the build with maven is located. \r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAn overview of the pom.xml files\r\n\r\nparent\r\n\r\n    &lt;?xml version....&gt;\r\n    &lt;project....&gt;\r\n    \r\n    \t&lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;myProject&lt;/name&gt;\r\n    \r\n    \r\n    \t&lt;properties&gt;\r\n    .....\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; \r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;core&lt;/module&gt;\r\n    \t\t&lt;module&gt;web&lt;/module&gt;\r\n            &lt;module&gt;key&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\ncore \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project... &gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    ... jpa, h2, etc etc\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nweb (where the @SpringBootApplication exists)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project....&gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n          &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n          &lt;artifactId&gt;key&lt;/artifactId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    ......\r\n    etc etc \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak-bom.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe files produced are only 3 jars for each submodule, but no parent.\r\nThe same happens if I run from maven inside intellij, mvn installed, mvnw. \r\n\r\n      find . -name &#39;*.jar&#39;\r\n    ./.mvn/wrapper/maven-wrapper.jar\r\n    ./core/target/core-0.0.1-SNAPSHOT.jar\r\n    ./key/target/key-0.0.1-SNAPSHOT.jar\r\n    ./web/target/web-0.0.1-SNAPSHOT.jar\r\n\r\n\r\nWhat am I missing here ?? \r\n\r\nIf you need some extra info or code just comment so I can edit. \r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-postgresql-docker","title":"Cannot produce single project jar file (Spring Boot)","body":"<p>I am trying to follow <a href=\"https://www.baeldung.com/spring-boot-postgresql-docker\" rel=\"nofollow noreferrer\">this</a> tutorial for Docker and postgres with Spring boot in order to create a docker container, but I cannot create a single project jar file. App runs fine with maven and intellij, just cant package it.</p>\n<p>My project is as follows 3 modules each with pom.xml, and one parent pom.xml to organize them. <code>@SpringBootApplication</code> is only one and exists only on the module where also the build with maven is located.</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>An overview of the pom.xml files</p>\n<p>parent</p>\n<pre><code>&lt;?xml version....&gt;\n&lt;project....&gt;\n\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myProject&lt;/name&gt;\n\n\n    &lt;properties&gt;\n.....\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;web&lt;/module&gt;\n        &lt;module&gt;key&lt;/module&gt;\n  &lt;/modules&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>core</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project... &gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;core&lt;/artifactId&gt;\n\n  &lt;dependencies&gt;\n... jpa, h2, etc etc\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>web (where the @SpringBootApplication exists)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project....&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;web&lt;/artifactId&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;eu.company&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;eu.company&lt;/groupId&gt;\n      &lt;artifactId&gt;key&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n......\netc etc \n  &lt;/dependencies&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak-bom.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The files produced are only 3 jars for each submodule, but no parent.\nThe same happens if I run from maven inside intellij, mvn installed, mvnw.</p>\n<pre><code>  find . -name '*.jar'\n./.mvn/wrapper/maven-wrapper.jar\n./core/target/core-0.0.1-SNAPSHOT.jar\n./key/target/key-0.0.1-SNAPSHOT.jar\n./web/target/web-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>What am I missing here ??</p>\n<p>If you need some extra info or code just comment so I can edit.</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"score":0,"creation_date":1643117812,"post_id":70848750,"comment_id":125250195,"body_markdown":"the link above doesn&#39;t show the problem related to solution.","body":"the link above doesn&#39;t show the problem related to solution."}],"owner":{"account_id":17734018,"reputation":21,"user_id":12875849,"display_name":"Adnan Ch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643115907,"creation_date":1643114140,"question_id":70848750,"body_markdown":"I got confused while consuming my graphql api in spring boot. the method which is sending data to another service is;\r\n\r\n    String query = &quot;mutation{\\n&quot; +\r\n            &quot;createEventLog(eventLog: &quot; + logs + &quot;){\\n&quot; +\r\n            &quot;hasError\\n&quot; +\r\n            &quot;}\\n&quot; +\r\n            &quot;}&quot;;\r\n    log.info(&quot;Query: &quot; + query);\r\n    log.info(&quot;Query type, {}&quot;, query.getClass().getSimpleName());\r\n    auditService.sendLogsToGraphQL(query);\r\n\r\nwhile the `logs` is; \r\n\r\n    {  \r\n        &quot;hasError&quot;: false,  \r\n        &quot;message&quot;: &quot;hello there&quot;, \r\n        &quot;sender&quot;: &quot;khattak&quot;, \r\n        &quot;payload&quot;:{ \r\n        &quot;type&quot;: &quot;string&quot;,\r\n        &quot;title&quot;: &quot;Event&quot;,\r\n        &quot;description&quot;: &quot;This is the description of the event log&quot;\r\n        },\r\n        &quot;serviceInfo&quot;:{\r\n            &quot;version&quot;: &quot;v1&quot;,  \r\n            &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\r\n            &quot;serverStatus&quot;: &quot;UP&quot;,\r\n            &quot;serviceName&quot;: &quot;Identity&quot;\r\n        }\r\n    }\r\n\r\nwhile the `sendLogsToGraphQL` is;\r\n\r\n    public void sendLogsToGraphQL(String logs){\r\n        try {\r\n            restTemplate.postForEntity(&quot;http://localhost:8080/graphql&quot;,\r\n                    logs, Boolean.class);\r\n        }catch (Exception er){\r\n            System.out.println(&quot;error = &quot; + er);\r\n        }\r\n    }\r\nAfter this when run the application, i get the below output. with `406` error, the full error is; \r\n\r\n    2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query: mutation{\r\n    createEventLog(eventLog: {\r\n    &quot;hasError&quot;: false,\r\n    &quot;message&quot;: &quot;hello there&quot;,\r\n    &quot;sender&quot;: &quot;khattak&quot;,\r\n    &quot;payload&quot;:{\r\n    &quot;type&quot;: &quot;string&quot;,\r\n    &quot;title&quot;: &quot;Event&quot;,\r\n    &quot;description&quot;: &quot;This is the description of the event log&quot;\r\n    },\r\n    &quot;serviceInfo&quot;:{\r\n    &quot;version&quot;: &quot;v1&quot;,\r\n    &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\r\n    &quot;serverStatus&quot;: &quot;UP&quot;,\r\n    &quot;serviceName&quot;: &quot;Identity&quot;\r\n    }\r\n    }){\r\n    hasError\r\n    }\r\n    }\r\n    2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query type, String\r\n    error = org.springframework.web.client.HttpClientErrorException$NotAcceptable: 406 : &quot;{&quot;timestamp&quot;:&quot;2022-01-25T12:04:43.786+00:00&quot;,&quot;status&quot;:406,&quot;error&quot;:&quot;Not Acceptable&quot;,&quot;path&quot;:&quot;/graphql&quot;}&quot;\r\n\r\nIn the same way i tried with `webclient` but useless as;\r\n\r\n    public Mono&lt;Object&gt; sendLogsToGraphQL(String body) throws IOException {\r\n        Mono&lt;Object&gt; block = webClient\r\n               .post()\r\n                .uri(&quot;http://localhost:8080/graphql&quot;)//                \r\n                  .bodyValue(BodyInserters.fromValue(body))\r\n               .retrieve()\r\n                .bodyToMono(Object.class);\r\n    \r\n        System.out.println(&quot;Block:: &quot; + block);\r\n        return block;\r\n    }\r\nI also followed the previous asked question by [Feezan khattak][1], but that&#39;s also not working.\r\n\r\n**Thanks for the Answer in Advance :)**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70823774/using-webclient-to-call-the-grapql-mutation-api-in-spring-boot","title":"Consume Grapql mutation API in spring boot using RestTemaplate or WebClient","body":"<p>I got confused while consuming my graphql api in spring boot. the method which is sending data to another service is;</p>\n<pre><code>String query = &quot;mutation{\\n&quot; +\n        &quot;createEventLog(eventLog: &quot; + logs + &quot;){\\n&quot; +\n        &quot;hasError\\n&quot; +\n        &quot;}\\n&quot; +\n        &quot;}&quot;;\nlog.info(&quot;Query: &quot; + query);\nlog.info(&quot;Query type, {}&quot;, query.getClass().getSimpleName());\nauditService.sendLogsToGraphQL(query);\n</code></pre>\n<p>while the <code>logs</code> is;</p>\n<pre><code>{  \n    &quot;hasError&quot;: false,  \n    &quot;message&quot;: &quot;hello there&quot;, \n    &quot;sender&quot;: &quot;khattak&quot;, \n    &quot;payload&quot;:{ \n    &quot;type&quot;: &quot;string&quot;,\n    &quot;title&quot;: &quot;Event&quot;,\n    &quot;description&quot;: &quot;This is the description of the event log&quot;\n    },\n    &quot;serviceInfo&quot;:{\n        &quot;version&quot;: &quot;v1&quot;,  \n        &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\n        &quot;serverStatus&quot;: &quot;UP&quot;,\n        &quot;serviceName&quot;: &quot;Identity&quot;\n    }\n}\n</code></pre>\n<p>while the <code>sendLogsToGraphQL</code> is;</p>\n<pre><code>public void sendLogsToGraphQL(String logs){\n    try {\n        restTemplate.postForEntity(&quot;http://localhost:8080/graphql&quot;,\n                logs, Boolean.class);\n    }catch (Exception er){\n        System.out.println(&quot;error = &quot; + er);\n    }\n}\n</code></pre>\n<p>After this when run the application, i get the below output. with <code>406</code> error, the full error is;</p>\n<pre><code>2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query: mutation{\ncreateEventLog(eventLog: {\n&quot;hasError&quot;: false,\n&quot;message&quot;: &quot;hello there&quot;,\n&quot;sender&quot;: &quot;khattak&quot;,\n&quot;payload&quot;:{\n&quot;type&quot;: &quot;string&quot;,\n&quot;title&quot;: &quot;Event&quot;,\n&quot;description&quot;: &quot;This is the description of the event log&quot;\n},\n&quot;serviceInfo&quot;:{\n&quot;version&quot;: &quot;v1&quot;,\n&quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\n&quot;serverStatus&quot;: &quot;UP&quot;,\n&quot;serviceName&quot;: &quot;Identity&quot;\n}\n}){\nhasError\n}\n}\n2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query type, String\nerror = org.springframework.web.client.HttpClientErrorException$NotAcceptable: 406 : &quot;{&quot;timestamp&quot;:&quot;2022-01-25T12:04:43.786+00:00&quot;,&quot;status&quot;:406,&quot;error&quot;:&quot;Not Acceptable&quot;,&quot;path&quot;:&quot;/graphql&quot;}&quot;\n</code></pre>\n<p>In the same way i tried with <code>webclient</code> but useless as;</p>\n<pre><code>public Mono&lt;Object&gt; sendLogsToGraphQL(String body) throws IOException {\n    Mono&lt;Object&gt; block = webClient\n           .post()\n            .uri(&quot;http://localhost:8080/graphql&quot;)//                \n              .bodyValue(BodyInserters.fromValue(body))\n           .retrieve()\n            .bodyToMono(Object.class);\n\n    System.out.println(&quot;Block:: &quot; + block);\n    return block;\n}\n</code></pre>\n<p>I also followed the previous asked question by <a href=\"https://stackoverflow.com/questions/70823774/using-webclient-to-call-the-grapql-mutation-api-in-spring-boot\">Feezan khattak</a>, but that's also not working.</p>\n<p><strong>Thanks for the Answer in Advance :)</strong></p>\n"},{"tags":["java","go","verification","ed25519"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643115692,"creation_date":1643114304,"answer_id":70848780,"question_id":70847910,"body_markdown":"The Java code does not sign the message *itself*, but *the Base64 encoded* message. \r\n\r\nI suspect that verification fails for you because signed and verified message are different. However, this cannot be answered for sure, since you did not post the content of `payload` on the Go side.\r\n\r\nIn any case, verification is successful if on the Java side the message itself is signed (which is usually the case):\r\n\r\n```java\r\nString input = &quot;...&quot;;\r\nbyte[] payload = input.getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nSimilarly, verification is successful if, with unmodified Java code,  the Go side verifies the Base64 encoded message (which would be rather unusual):\r\n\r\n```go\r\ninput := &quot;...&quot;\r\npayload := []byte(base64.StdEncoding.EncodeToString([]byte(input)))\r\n```","title":"ED25519 Verification fails in Golang for payload signed in Java","body":"<p>The Java code does not sign the message <em>itself</em>, but <em>the Base64 encoded</em> message.</p>\n<p>I suspect that verification fails for you because signed and verified message are different. However, this cannot be answered for sure, since you did not post the content of <code>payload</code> on the Go side.</p>\n<p>In any case, verification is successful if on the Java side the message itself is signed (which is usually the case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;...&quot;;\nbyte[] payload = input.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>Similarly, verification is successful if, with unmodified Java code,  the Go side verifies the Base64 encoded message (which would be rather unusual):</p>\n<pre class=\"lang-golang prettyprint-override\"><code>input := &quot;...&quot;\npayload := []byte(base64.StdEncoding.EncodeToString([]byte(input)))\n</code></pre>\n"}],"owner":{"account_id":199942,"reputation":1629,"user_id":445541,"accept_rate":59,"display_name":"thefrugaldev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70848780,"answer_count":1,"score":0,"last_activity_date":1643115692,"creation_date":1643110371,"question_id":70847910,"body_markdown":"I&#39;ve two separate applications one written in Java and the other in golang. Java application is responsible to generate keypair out of which public key is shared with golang app. Whenever, there&#39;s a need to sign any payload golang app sends a request to Java app and gets the base64 encoded signature in return. This signature needs to be verified using the public key. The verification always fails in golang app. However, I&#39;m able to successfully verify in Java app. Verification in golang works if key generation and signing the payload is also done using golang.\r\n\r\nFor Java, I&#39;m using Bouncy Castle library and for golang using package https://pkg.go.dev/crypto/ed25519. \r\n\r\n**Generate Key**\r\n```\r\nEd25519KeyPairGenerator keyPairGenerator = new Ed25519KeyPairGenerator();\r\nkeyPairGenerator.init(new Ed25519KeyGenerationParameters(new SecureRandom()));\r\nAsymmetricCipherKeyPair asymmetricCipherKeyPair = keyPairGenerator.generateKeyPair();\r\nEd25519PrivateKeyParameters privateKey = (Ed25519PrivateKeyParameters) asymmetricCipherKeyPair.getPrivate();\r\nEd25519PublicKeyParameters publicKey = (Ed25519PublicKeyParameters) asymmetricCipherKeyPair.getPublic();\r\nString privateKey = Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\nString publicKey = Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n```\r\n\r\n**Sign Payload**\r\n```\r\nbyte[] privateKeyContent = Base64.getDecoder().decode(privateKeyInfo);\r\nEd25519PrivateKeyParameters privateKeyParameters = new Ed25519PrivateKeyParameters(privateKeyContent, 0);\r\n\r\nbyte[] payload = Base64.getEncoder().encode(input.getBytes(StandardCharsets.UTF_8));\r\nSigner signer = new Ed25519Signer();\r\nsigner.init(true, privateKeyParameters);\r\nsigner.update(payload, 0, payload.length);\r\nbyte[] signature = signer.generateSignature();\r\nString encodedSignature = Base64.getEncoder().encodeToString(signature);\r\n```\r\n\r\n**Golang Verify Signature**\r\n```\r\nfunc verifySignature(payload []byte, publicKeyStr string, signatureStr string) {\r\n\tpublicKey, error := base64.StdEncoding.DecodeString(publicKeyStr)\r\n\tif error != nil {\r\n\t\tfmt.Println(error)\r\n\t} else {\r\n\t\tsignature, error := base64.StdEncoding.DecodeString(signatureStr)\r\n\t\tif error != nil {\r\n\t\t\tfmt.Println(error)\r\n\t\t} else {\r\n\t\t\tisVerified := ed25519.Verify(publicKey, payload, signature)\r\n\t\t\tfmt.Println(isVerified)\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```","title":"ED25519 Verification fails in Golang for payload signed in Java","body":"<p>I've two separate applications one written in Java and the other in golang. Java application is responsible to generate keypair out of which public key is shared with golang app. Whenever, there's a need to sign any payload golang app sends a request to Java app and gets the base64 encoded signature in return. This signature needs to be verified using the public key. The verification always fails in golang app. However, I'm able to successfully verify in Java app. Verification in golang works if key generation and signing the payload is also done using golang.</p>\n<p>For Java, I'm using Bouncy Castle library and for golang using package <a href=\"https://pkg.go.dev/crypto/ed25519\" rel=\"nofollow noreferrer\">https://pkg.go.dev/crypto/ed25519</a>.</p>\n<p><strong>Generate Key</strong></p>\n<pre><code>Ed25519KeyPairGenerator keyPairGenerator = new Ed25519KeyPairGenerator();\nkeyPairGenerator.init(new Ed25519KeyGenerationParameters(new SecureRandom()));\nAsymmetricCipherKeyPair asymmetricCipherKeyPair = keyPairGenerator.generateKeyPair();\nEd25519PrivateKeyParameters privateKey = (Ed25519PrivateKeyParameters) asymmetricCipherKeyPair.getPrivate();\nEd25519PublicKeyParameters publicKey = (Ed25519PublicKeyParameters) asymmetricCipherKeyPair.getPublic();\nString privateKey = Base64.getEncoder().encodeToString(privateKey.getEncoded());\nString publicKey = Base64.getEncoder().encodeToString(publicKey.getEncoded());\n</code></pre>\n<p><strong>Sign Payload</strong></p>\n<pre><code>byte[] privateKeyContent = Base64.getDecoder().decode(privateKeyInfo);\nEd25519PrivateKeyParameters privateKeyParameters = new Ed25519PrivateKeyParameters(privateKeyContent, 0);\n\nbyte[] payload = Base64.getEncoder().encode(input.getBytes(StandardCharsets.UTF_8));\nSigner signer = new Ed25519Signer();\nsigner.init(true, privateKeyParameters);\nsigner.update(payload, 0, payload.length);\nbyte[] signature = signer.generateSignature();\nString encodedSignature = Base64.getEncoder().encodeToString(signature);\n</code></pre>\n<p><strong>Golang Verify Signature</strong></p>\n<pre><code>func verifySignature(payload []byte, publicKeyStr string, signatureStr string) {\n    publicKey, error := base64.StdEncoding.DecodeString(publicKeyStr)\n    if error != nil {\n        fmt.Println(error)\n    } else {\n        signature, error := base64.StdEncoding.DecodeString(signatureStr)\n        if error != nil {\n            fmt.Println(error)\n        } else {\n            isVerified := ed25519.Verify(publicKey, payload, signature)\n            fmt.Println(isVerified)\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","ldap"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451637601,"creation_date":1451637601,"answer_id":34554700,"question_id":34554274,"body_markdown":"What you need to do to *try* it. Whether or not it supports digest-authentication isn&#39;t a matter of version but of configuration.","title":"How to know the version of ldap using ldap server url","body":"<p>What you need to do to <em>try</em> it. Whether or not it supports digest-authentication isn't a matter of version but of configuration.</p>\n"},{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451765190,"creation_date":1451751499,"answer_id":34567935,"question_id":34554274,"body_markdown":"Query the rootDSE and there **SHOULD** be a value for `supportedLDAPVersion` which indicates the values of this attribute are the versions of the LDAP protocol that the server implements.\r\n\r\nThe `supportedSASLMechanisms` attribute **SHOULD** appear in the RootDSE as well. The values of this attribute are the names of supported SASL mechanisms which the server supports.\r\nIf the server does not support any mechanisms the `supportedSASLMechanisms` attribute will be absent.\r\n\r\n&gt; The misunderstanding is the notion &quot;password sent over the network in\r\n&gt; plain-text&quot; is not secure, when in fact, storing the password in the\r\n&gt; directory server using a salted SHA-2 hash (modern\r\n&gt; professional-quality directory servers have the capability to use\r\n&gt; salted SHA-2 hashes with long digest lengths) and transmitting the\r\n&gt; clear text password over a secure connection is more secure than\r\n&gt; having the directory server store the password in clear text or in a\r\n&gt; reversible encryption scheme. Therefore, SASL with DIGEST-MD5 should\r\n&gt; be avoided. SASL with the EXTERNAL mechanism where the server extracts\r\n&gt; the authentication information from the certificate presented during\r\n&gt; the establishment of the encrypted session is a better alternative.\r\n&gt; Kerberos is also a better alternative. Plain-text over the network is\r\n&gt; also more secure if the server is storing the passwords after hashing\r\n&gt; them with a salted SHA algorithm.\r\n&gt; \r\n&gt; If it is absolutely vital to use SASL with DIGEST-MD5, the directory\r\n&gt; server should be configured to encrypt the passwords with the\r\n&gt; strongest encryption scheme available, which unless I am mistaken, is\r\n&gt; AES. Professional-quality servers can encrypt passwords using AES.\r\n[As provided by Terry Gardner][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11881969/how-to-authenticate-to-ldap-using-jndi-and-digest-md5","title":"How to know the version of ldap using ldap server url","body":"<p>Query the rootDSE and there <strong>SHOULD</strong> be a value for <code>supportedLDAPVersion</code> which indicates the values of this attribute are the versions of the LDAP protocol that the server implements.</p>\n\n<p>The <code>supportedSASLMechanisms</code> attribute <strong>SHOULD</strong> appear in the RootDSE as well. The values of this attribute are the names of supported SASL mechanisms which the server supports.\nIf the server does not support any mechanisms the <code>supportedSASLMechanisms</code> attribute will be absent.</p>\n\n<blockquote>\n  <p>The misunderstanding is the notion \"password sent over the network in\n  plain-text\" is not secure, when in fact, storing the password in the\n  directory server using a salted SHA-2 hash (modern\n  professional-quality directory servers have the capability to use\n  salted SHA-2 hashes with long digest lengths) and transmitting the\n  clear text password over a secure connection is more secure than\n  having the directory server store the password in clear text or in a\n  reversible encryption scheme. Therefore, SASL with DIGEST-MD5 should\n  be avoided. SASL with the EXTERNAL mechanism where the server extracts\n  the authentication information from the certificate presented during\n  the establishment of the encrypted session is a better alternative.\n  Kerberos is also a better alternative. Plain-text over the network is\n  also more secure if the server is storing the passwords after hashing\n  them with a salted SHA algorithm.</p>\n  \n  <p>If it is absolutely vital to use SASL with DIGEST-MD5, the directory\n  server should be configured to encrypt the passwords with the\n  strongest encryption scheme available, which unless I am mistaken, is\n  AES. Professional-quality servers can encrypt passwords using AES.\n  <a href=\"https://stackoverflow.com/questions/11881969/how-to-authenticate-to-ldap-using-jndi-and-digest-md5\">As provided by Terry Gardner</a> </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3395189,"reputation":1,"user_id":2848999,"display_name":"ZhongweiWang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643115647,"creation_date":1643115647,"answer_id":70849063,"question_id":34554274,"body_markdown":"if you are using spring-ldap, you can get ldap version with ldaptemplate, like \r\n\r\n    ldapTemplate.getContextSource().getReadOnlyContext().getEnvironment().get(&quot;java.naming.ldap.version&quot;)","title":"How to know the version of ldap using ldap server url","body":"<p>if you are using spring-ldap, you can get ldap version with ldaptemplate, like</p>\n<pre><code>ldapTemplate.getContextSource().getReadOnlyContext().getEnvironment().get(&quot;java.naming.ldap.version&quot;)\n</code></pre>\n"}],"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1643115647,"creation_date":1451632041,"question_id":34554274,"body_markdown":"According to oracle documentation..\r\n\r\n&gt; Digest-MD5 authentication is the required authentication mechanism for LDAP v3 servers (RFC 2829). Because the use of SASL is part of the LDAP v3 (RFC 2251), servers that support only the LDAP v2 do not support Digest-MD5.\r\n\r\nI am using my organization&#39;s ldap server that is something like `directory.my_company.com`.\r\n\r\nHere I want to use Digest-MD5 authentcation, but I am not sure which version of ldap is running in our company.\r\n\r\n*What I need* : \r\n\r\n - How to know **ldap version** using ldap server. or does my ldap server\r\n   supports digest-md5\r\n\r\n","title":"How to know the version of ldap using ldap server url","body":"<p>According to oracle documentation..</p>\n\n<blockquote>\n  <p>Digest-MD5 authentication is the required authentication mechanism for LDAP v3 servers (RFC 2829). Because the use of SASL is part of the LDAP v3 (RFC 2251), servers that support only the LDAP v2 do not support Digest-MD5.</p>\n</blockquote>\n\n<p>I am using my organization's ldap server that is something like <code>directory.my_company.com</code>.</p>\n\n<p>Here I want to use Digest-MD5 authentcation, but I am not sure which version of ldap is running in our company.</p>\n\n<p><em>What I need</em> : </p>\n\n<ul>\n<li>How to know <strong>ldap version</strong> using ldap server. or does my ldap server\nsupports digest-md5</li>\n</ul>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","amazon-sqs"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1643118674,"post_id":70848908,"comment_id":125250576,"body_markdown":"There&#39;s plenty of online documentation and examples of how to use Java in AWS Lambda with both SQS and DynamoDB. Use those to write some code.","body":"There&#39;s plenty of online documentation and examples of how to use Java in AWS Lambda with both SQS and DynamoDB. Use those to write some code."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643115336,"creation_date":1643115336,"answer_id":70848999,"question_id":70848908,"body_markdown":"For AWS, there is a JAVA SDK 2.0 specifically design for this:\r\n\r\nGeneric Example of Receiving Messages from an SQS Queue:\r\n\r\n        ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\r\n            .queueUrl(queueUrl)\r\n            .maxNumberOfMessages(5)\r\n            .build();\r\n        List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\r\n\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152\r\n\r\n----------\r\n\r\n\r\nGeneric Example of Putting an Item into DynamoDB:\r\n\r\n     HashMap&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;String,AttributeValue&gt;();\r\n    \r\n    // Add all content to the table\r\n    itemValues.put(key, AttributeValue.builder().s(keyVal).build());\r\n    itemValues.put(songTitle, AttributeValue.builder().s(songTitleVal).build());\r\n    itemValues.put(albumTitle, AttributeValue.builder().s(albumTitleValue).build());\r\n    itemValues.put(awards, AttributeValue.builder().s(awardVal).build());\r\n\r\n    PutItemRequest request = PutItemRequest.builder()\r\n            .tableName(tableName)\r\n            .item(itemValues)\r\n            .build();\r\n\r\n    ddb.putItem(request);\r\n    System.out.println(tableName +&quot; was successfully updated&quot;);\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84\r\n\r\n\r\nAWS documentation is excellent and so are its examples:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2\r\n\r\nOfficial Documentation: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html\r\n","title":"Receive messages/events from SQS and map them to Dynamodb","body":"<p>For AWS, there is a JAVA SDK 2.0 specifically design for this:</p>\n<p>Generic Example of Receiving Messages from an SQS Queue:</p>\n<pre><code>    ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\n        .queueUrl(queueUrl)\n        .maxNumberOfMessages(5)\n        .build();\n    List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\n</code></pre>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152</a></p>\n<hr />\n<p>Generic Example of Putting an Item into DynamoDB:</p>\n<pre><code> HashMap&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;String,AttributeValue&gt;();\n\n// Add all content to the table\nitemValues.put(key, AttributeValue.builder().s(keyVal).build());\nitemValues.put(songTitle, AttributeValue.builder().s(songTitleVal).build());\nitemValues.put(albumTitle, AttributeValue.builder().s(albumTitleValue).build());\nitemValues.put(awards, AttributeValue.builder().s(awardVal).build());\n\nPutItemRequest request = PutItemRequest.builder()\n        .tableName(tableName)\n        .item(itemValues)\n        .build();\n\nddb.putItem(request);\nSystem.out.println(tableName +&quot; was successfully updated&quot;);\n</code></pre>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84</a></p>\n<p>AWS documentation is excellent and so are its examples:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2</a></p>\n<p>Official Documentation: <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html</a></p>\n"}],"owner":{"account_id":6722102,"reputation":199,"user_id":5181689,"display_name":"Farukh Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70848999,"answer_count":1,"score":-1,"last_activity_date":1643115336,"creation_date":1643114864,"question_id":70848908,"body_markdown":"I am trying to figure out a way where I can read my SQS events and map them to DynamoDB using Java. I have a SQS in AWS which will get some messages having some information e.g. `{&quot;id&quot;: &quot;xxx&quot;, &quot;state&quot;: &quot;xxx&quot;}`. These events I want to map them in my DynamoDB table. The DynamoDB contains `id` as a partition key. \r\nAccording to my reasearch this is doable by reading messages from sqs and use `putItem` from AWS DynamoDB in JAVA.\r\nIs there any simple way to that using JAVA. Or any example would be helpful here. \r\n\r\nThank you ! ","title":"Receive messages/events from SQS and map them to Dynamodb","body":"<p>I am trying to figure out a way where I can read my SQS events and map them to DynamoDB using Java. I have a SQS in AWS which will get some messages having some information e.g. <code>{&quot;id&quot;: &quot;xxx&quot;, &quot;state&quot;: &quot;xxx&quot;}</code>. These events I want to map them in my DynamoDB table. The DynamoDB contains <code>id</code> as a partition key.\nAccording to my reasearch this is doable by reading messages from sqs and use <code>putItem</code> from AWS DynamoDB in JAVA.\nIs there any simple way to that using JAVA. Or any example would be helpful here.</p>\n<p>Thank you !</p>\n"},{"tags":["java","3d","processing","noise"],"answers":[{"tags":[],"owner":{"account_id":14662905,"reputation":532,"user_id":10589536,"display_name":"anthony yaghi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643113957,"creation_date":1643107168,"answer_id":70847209,"question_id":70846478,"body_markdown":"You are correct, the problem is in this line\r\n\r\n    float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n\r\nThe changes in the x and y input parameters from one iteration to the other is too large (it is equal to size). If you read about the Perlin noise you will know that with a large step it will just look like random noise. My suggestion to edit this line to something like:\r\n\r\n    float n = noise(xx + xoff, yy + yoff, zoff)*255;\r\n\r\nwhere xx and yy are other variables that you increment slowly in the for loop\r\n\r\n\r\nMy solution:\r\n\r\n    void draw() {\r\n    \r\n      \r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0,0,mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2,-pixel*size,-pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\r\n      pushMatrix();\r\n      \r\n      float xx = 0;\r\n      float yy = 0;\r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        xx = 0;\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          pushMatrix();\r\n          noiseDetail(1, 0.25f);\r\n          float n = noise(xx + xoff, yy + yoff)*255;\r\n          \r\n          translate(x*size, y*size,  n);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0,   size,  size);\r\n          popMatrix();\r\n          xx += 0.1;      \r\n        }\r\n        yy += 0.1;\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n      \r\n      yoff += 0.11;\r\n      xoff += 0.02;\r\n      zoff += 0.03;\r\n    }\r\n\r\nChanging the increment of xx and yy can make the flag look like its flowing in 1 direction...","title":"Using the noise function in Processing","body":"<p>You are correct, the problem is in this line</p>\n<pre><code>float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n</code></pre>\n<p>The changes in the x and y input parameters from one iteration to the other is too large (it is equal to size). If you read about the Perlin noise you will know that with a large step it will just look like random noise. My suggestion to edit this line to something like:</p>\n<pre><code>float n = noise(xx + xoff, yy + yoff, zoff)*255;\n</code></pre>\n<p>where xx and yy are other variables that you increment slowly in the for loop</p>\n<p>My solution:</p>\n<pre><code>void draw() {\n\n  \n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0,0,mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2,-pixel*size,-pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\n  pushMatrix();\n  \n  float xx = 0;\n  float yy = 0;\n  for (int y = 0; y &lt; pixel; y++) {\n    xx = 0;\n    for (int x = 0; x &lt; pixel; x++) {\n      pushMatrix();\n      noiseDetail(1, 0.25f);\n      float n = noise(xx + xoff, yy + yoff)*255;\n      \n      translate(x*size, y*size,  n);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0,   size,  size);\n      popMatrix();\n      xx += 0.1;      \n    }\n    yy += 0.1;\n  }\n  popMatrix();\n  popMatrix();\n  \n  yoff += 0.11;\n  xoff += 0.02;\n  zoff += 0.03;\n}\n</code></pre>\n<p>Changing the increment of xx and yy can make the flag look like its flowing in 1 direction...</p>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70847209,"answer_count":1,"score":1,"last_activity_date":1643115018,"creation_date":1643104036,"question_id":70846478,"body_markdown":"I am trying to animate a flying cloth, which consists of individual rectangles, in Processing. I built the cloth from a nested loop. Now I want to use the noise function to manipulate the height of the individual points. Unfortunately, I can&#39;t do that properly - apparently I don&#39;t understand the function. I took a detour, drew noise clouds on a PGraphics, then read the brightness value - and use that to control the z-position of each rectangle. This works the way I want it to work!\r\n\r\nOnly - how can I achieve the same effect without going the detour via PGraphics?\r\nThis is my code the way I want it (the detour):\r\n\r\n    PGraphics pg;\r\n    float increment = 0.002;\r\n    float xoff;\r\n    float yoff;\r\n    float zoff = 0.0;\r\n    float zincrement = 0.1;\r\n    \r\n    float size;\r\n    float pixel = 200;\r\n    \r\n    void setup() {\r\n      size(1920, 1080, P3D);\r\n      frameRate(30);\r\n      size = width/pixel;\r\n      rectMode(CENTER);\r\n      pg = createGraphics(width, width);\r\n    }\r\n    \r\n    void draw() {\r\n    \r\n      //PGraphics\r\n      pg.beginDraw();\r\n      pg.loadPixels();\r\n      xoff = 0.0;\r\n      for (int x = 0; x &lt; width; x++) {\r\n        xoff += increment;\r\n        yoff = 0.0;\r\n        for (int y = 0; y &lt; width; y++) {\r\n          yoff += increment;\r\n          float bright = noise(xoff, yoff, zoff)*255;\r\n          pg.pixels[x+y*width] = color(bright, bright, bright);\r\n        }\r\n      }\r\n      pg.updatePixels();\r\n      pg.endDraw();\r\n      zoff += zincrement;\r\n    \r\n      //SCENE\r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0, 0, mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2, -pixel*size, -pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2, -pixel*size/2, -pixel*size/4);\r\n      pushMatrix();\r\n      \r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n    \r\n          color c = pg.get(int(size*x), int(size*y));\r\n          float zpoint = map(brightness(c), 0, 255, -500, 500);\r\n          pushMatrix();\r\n          noiseDetail(3, 0.5f);\r\n          translate(x*size, y*size, zpoint);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0, size, size);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n    }\r\n\r\nAnd this is how I would like to write it in a simpler way:\r\n\r\n    float size;\r\n    float pixel = 200;\r\n    \r\n    \r\n    float xoff;\r\n    float yoff;\r\n    float zoff;\r\n    float increment = 0.01;\r\n    \r\n    \r\n    void setup() {\r\n      size(1920, 1080, P3D);\r\n      frameRate(30);\r\n      size = width/pixel;\r\n      rectMode(CENTER);\r\n    \r\n    \r\n    }\r\n    \r\n    void draw() {\r\n    \r\n      \r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0,0,mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2,-pixel*size,-pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\r\n      pushMatrix(); \r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          pushMatrix();\r\n          noiseDetail(1, 0.25f);\r\n          float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n          translate(x*size, y*size,  n);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0,   size,  size);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n      \r\n      yoff += 0.11;\r\n      xoff += 0.02;\r\n      zoff += 0.03;\r\n    }\r\n\r\nI think this line is the problem - because currently it doesn&#39;t create a real cloth like this.\r\n\r\n    float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n","title":"Using the noise function in Processing","body":"<p>I am trying to animate a flying cloth, which consists of individual rectangles, in Processing. I built the cloth from a nested loop. Now I want to use the noise function to manipulate the height of the individual points. Unfortunately, I can't do that properly - apparently I don't understand the function. I took a detour, drew noise clouds on a PGraphics, then read the brightness value - and use that to control the z-position of each rectangle. This works the way I want it to work!</p>\n<p>Only - how can I achieve the same effect without going the detour via PGraphics?\nThis is my code the way I want it (the detour):</p>\n<pre><code>PGraphics pg;\nfloat increment = 0.002;\nfloat xoff;\nfloat yoff;\nfloat zoff = 0.0;\nfloat zincrement = 0.1;\n\nfloat size;\nfloat pixel = 200;\n\nvoid setup() {\n  size(1920, 1080, P3D);\n  frameRate(30);\n  size = width/pixel;\n  rectMode(CENTER);\n  pg = createGraphics(width, width);\n}\n\nvoid draw() {\n\n  //PGraphics\n  pg.beginDraw();\n  pg.loadPixels();\n  xoff = 0.0;\n  for (int x = 0; x &lt; width; x++) {\n    xoff += increment;\n    yoff = 0.0;\n    for (int y = 0; y &lt; width; y++) {\n      yoff += increment;\n      float bright = noise(xoff, yoff, zoff)*255;\n      pg.pixels[x+y*width] = color(bright, bright, bright);\n    }\n  }\n  pg.updatePixels();\n  pg.endDraw();\n  zoff += zincrement;\n\n  //SCENE\n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0, 0, mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2, -pixel*size, -pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2, -pixel*size/2, -pixel*size/4);\n  pushMatrix();\n  \n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n\n      color c = pg.get(int(size*x), int(size*y));\n      float zpoint = map(brightness(c), 0, 255, -500, 500);\n      pushMatrix();\n      noiseDetail(3, 0.5f);\n      translate(x*size, y*size, zpoint);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0, size, size);\n      popMatrix();\n    }\n  }\n  popMatrix();\n  popMatrix();\n}\n</code></pre>\n<p>And this is how I would like to write it in a simpler way:</p>\n<pre><code>float size;\nfloat pixel = 200;\n\n\nfloat xoff;\nfloat yoff;\nfloat zoff;\nfloat increment = 0.01;\n\n\nvoid setup() {\n  size(1920, 1080, P3D);\n  frameRate(30);\n  size = width/pixel;\n  rectMode(CENTER);\n\n\n}\n\nvoid draw() {\n\n  \n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0,0,mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2,-pixel*size,-pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\n  pushMatrix(); \n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n      pushMatrix();\n      noiseDetail(1, 0.25f);\n      float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n      translate(x*size, y*size,  n);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0,   size,  size);\n      popMatrix();\n    }\n  }\n  popMatrix();\n  popMatrix();\n  \n  yoff += 0.11;\n  xoff += 0.02;\n  zoff += 0.03;\n}\n</code></pre>\n<p>I think this line is the problem - because currently it doesn't create a real cloth like this.</p>\n<pre><code>float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n</code></pre>\n"},{"tags":["java","exception","logging","log4j"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643110426,"post_id":70847827,"comment_id":125247598,"body_markdown":"so ... you catch all Exceptions, yet not all Exceptions are caught?","body":"so ... you catch all Exceptions, yet not all Exceptions are caught?"},{"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"score":0,"creation_date":1643114524,"post_id":70847827,"comment_id":125248977,"body_markdown":"Not not all are caught -&gt; Uncaught exceptions should be logged","body":"Not not all are caught -&gt; Uncaught exceptions should be logged"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643114957,"post_id":70847827,"comment_id":125249107,"body_markdown":"have you tried aop?","body":"have you tried aop?"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643114658,"creation_date":1643114658,"answer_id":70848857,"question_id":70847827,"body_markdown":"Each thread can have an [`UncaughtExceptionHandler`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.UncaughtExceptionHandler.html), which is called when an exception reaches the bottom of the thread&#39;s call stack. The default implementation prints a message on the standard error.\r\n\r\nYou can change the default handler with:\r\n\r\n```lang-java\r\n  private static final Logger logger = LogManager.getLogger();\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\r\n      logger.warn(&quot;Uncaught exception in thread {}.&quot;, t, e);\r\n    });\r\n```","title":"How to log all uncaught exceptions in java using log4j","body":"<p>Each thread can have an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\"><code>UncaughtExceptionHandler</code></a>, which is called when an exception reaches the bottom of the thread's call stack. The default implementation prints a message on the standard error.</p>\n<p>You can change the default handler with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static final Logger logger = LogManager.getLogger();\n\n  public static void main(String[] args) throws IOException {\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\n      logger.warn(&quot;Uncaught exception in thread {}.&quot;, t, e);\n    });\n</code></pre>\n"}],"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643114883,"creation_date":1643109981,"question_id":70847827,"body_markdown":"I want to log the exceptions in my server side java program. \r\nIs there any way to catch all exceptions that have not been caught using an existing try catch?\r\n\r\nI thought about doing a try catch in my main executor and log the exception the catch but I got a problem: exceptions on other threads haven&#39;t been caught.","title":"How to log all uncaught exceptions in java using log4j","body":"<p>I want to log the exceptions in my server side java program.\nIs there any way to catch all exceptions that have not been caught using an existing try catch?</p>\n<p>I thought about doing a try catch in my main executor and log the exception the catch but I got a problem: exceptions on other threads haven't been caught.</p>\n"},{"tags":["java","amazon-s3","apache-camel","apache-kafka-connect"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643119294,"post_id":70848205,"comment_id":125250853,"body_markdown":"What java version are you using","body":"What java version are you using"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643209667,"post_id":70848205,"comment_id":125279211,"body_markdown":"@SMA How exactly does that address the ClassCastException? BigDecimal and byte[] exist in basically all Java versions, and still can&#39;t cast between them if using a supported one by Camel","body":"@SMA How exactly does that address the ClassCastException? BigDecimal and byte[] exist in basically all Java versions, and still can&#39;t cast between them if using a supported one by Camel"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643209822,"post_id":70848205,"comment_id":125279282,"body_markdown":"@Dopele Debugging definitely is possible. For example https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors But you should find the source code for CamelSinkTask.mapHeader method first","body":"@Dopele Debugging definitely is possible. For example <a href=\"https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors\" title=\"what is a simple effective way to debug custom kafka connectors\">stackoverflow.com/questions/45717658/&hellip;</a> But you should find the source code for CamelSinkTask.mapHeader method first"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643211391,"post_id":70848205,"comment_id":125279964,"body_markdown":"@OneCricketeer The fact that the connector only supports version 8 and 11 states something about the Java compatibility in this case.","body":"@OneCricketeer The fact that the connector only supports version 8 and 11 states something about the Java compatibility in this case."}],"owner":{"account_id":1146055,"reputation":577,"user_id":1128791,"accept_rate":50,"display_name":"Dopele"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643114831,"creation_date":1643111625,"question_id":70848205,"body_markdown":"I am trying to sink kafka topic records into **s3** bucket using **kafka-connect** + **camel-kafka-connector-0.9**.\r\n\r\nThe connector loads up fine, I can see it connected to kafka as the consumer can be seen in AKHQ. But it fails immediately just after trying to commit offsets with the following exception from the kafka-connect pod:\r\n\r\n```\r\norg.apache.kafka.connect.errors.ConnectException: Exiting WorkerSinkTask due to unrecoverable exception.\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:614)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.poll(WorkerSinkTask.java:329)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.iteration(WorkerSinkTask.java:232)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.execute(WorkerSinkTask.java:201)\r\n\tat org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:189)\r\n\tat org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:238)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ClassCastException: class java.math.BigDecimal cannot be cast to class [B (java.math.BigDecimal and [B are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.camel.kafkaconnector.CamelSinkTask.mapHeader(CamelSinkTask.java:233)\r\n\tat org.apache.camel.kafkaconnector.CamelSinkTask.put(CamelSinkTask.java:184)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:586)\r\n\t... 10 more\r\n```\r\n\r\nI don&#39;t understand whats going on under the hood and there is little room for debugging...\r\n\r\n\r\nKafka-connector config:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;connector-name&quot;,\r\n  &quot;config&quot;: {\r\n    &quot;connector.class&quot;: &quot;org.apache.camel.kafkaconnector.aws2s3.CamelAws2s3SinkConnector&quot;,\r\n    &quot;topics&quot;: &quot;topic-v1-0&quot;,\r\n    &quot;camel.sink.endpoint.region&quot;: &quot;region&quot;,\r\n    &quot;camel.sink.path.bucketNameOrArn&quot;: &quot;bucket-name&quot;,\r\n    &quot;camel.sink.endpoint.keyName&quot;: &quot;incoming-v1-0/${date:now:yyyyMMdd-HHmmssSSS}-${exchangeId}&quot;,\r\n    &quot;camel.sink.endpoint.useDefaultCredentialsProvider&quot;: &quot;true&quot;,\r\n    &quot;camel.beans.aggregate&quot;: &quot;#class:org.apache.camel.kafkaconnector.aggregator.StringAggregator&quot;,\r\n    &quot;camel.aggregation.size&quot;: &quot;1000&quot;,\r\n    &quot;camel.aggregation.timeout&quot;: &quot;5000&quot;,\r\n    &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n    &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n    &quot;key.converter.schemas.enable&quot;: &quot;false&quot;,\r\n    &quot;value.converter.schemas.enable&quot;: &quot;false&quot;\r\n  }\r\n}\r\n```","title":"Kafka apache camel sink task fails with weird ClassCastException","body":"<p>I am trying to sink kafka topic records into <strong>s3</strong> bucket using <strong>kafka-connect</strong> + <strong>camel-kafka-connector-0.9</strong>.</p>\n<p>The connector loads up fine, I can see it connected to kafka as the consumer can be seen in AKHQ. But it fails immediately just after trying to commit offsets with the following exception from the kafka-connect pod:</p>\n<pre><code>org.apache.kafka.connect.errors.ConnectException: Exiting WorkerSinkTask due to unrecoverable exception.\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:614)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.poll(WorkerSinkTask.java:329)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.iteration(WorkerSinkTask.java:232)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.execute(WorkerSinkTask.java:201)\n    at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:189)\n    at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:238)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassCastException: class java.math.BigDecimal cannot be cast to class [B (java.math.BigDecimal and [B are in module java.base of loader 'bootstrap')\n    at org.apache.camel.kafkaconnector.CamelSinkTask.mapHeader(CamelSinkTask.java:233)\n    at org.apache.camel.kafkaconnector.CamelSinkTask.put(CamelSinkTask.java:184)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:586)\n    ... 10 more\n</code></pre>\n<p>I don't understand whats going on under the hood and there is little room for debugging...</p>\n<p>Kafka-connector config:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;connector-name&quot;,\n  &quot;config&quot;: {\n    &quot;connector.class&quot;: &quot;org.apache.camel.kafkaconnector.aws2s3.CamelAws2s3SinkConnector&quot;,\n    &quot;topics&quot;: &quot;topic-v1-0&quot;,\n    &quot;camel.sink.endpoint.region&quot;: &quot;region&quot;,\n    &quot;camel.sink.path.bucketNameOrArn&quot;: &quot;bucket-name&quot;,\n    &quot;camel.sink.endpoint.keyName&quot;: &quot;incoming-v1-0/${date:now:yyyyMMdd-HHmmssSSS}-${exchangeId}&quot;,\n    &quot;camel.sink.endpoint.useDefaultCredentialsProvider&quot;: &quot;true&quot;,\n    &quot;camel.beans.aggregate&quot;: &quot;#class:org.apache.camel.kafkaconnector.aggregator.StringAggregator&quot;,\n    &quot;camel.aggregation.size&quot;: &quot;1000&quot;,\n    &quot;camel.aggregation.timeout&quot;: &quot;5000&quot;,\n    &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;key.converter.schemas.enable&quot;: &quot;false&quot;,\n    &quot;value.converter.schemas.enable&quot;: &quot;false&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","list","palindrome","deque"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1643114919,"post_id":70848861,"comment_id":125249095,"body_markdown":"The `==` and `!=` are not for comparing objects, only for comparing primitives. `Integer` is an object, not a primitive.","body":"The <code>==</code> and <code>!=</code> are not for comparing objects, only for comparing primitives. <code>Integer</code> is an object, not a primitive."},{"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"score":0,"creation_date":1643115604,"post_id":70848861,"comment_id":125249332,"body_markdown":"But then why is it working for some numbers, for example when I tried with 10 instead of -1_000_000_000 it worked fine?","body":"But then why is it working for some numbers, for example when I tried with 10 instead of -1_000_000_000 it worked fine?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1643116481,"post_id":70848861,"comment_id":125249648,"body_markdown":"@vanderwaal Because Integers between -128 and 127 are cached so numerically equal values in that range share the same reference.","body":"@vanderwaal Because Integers between -128 and 127 are cached so numerically equal values in that range share the same reference."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643122194,"post_id":70848861,"comment_id":125252250,"body_markdown":"Do you need to use your Single-Linked List implementation?  You can do this much more efficiently with a raw array or ArrayList comparing list[i] with list[length-i]","body":"Do you need to use your Single-Linked List implementation?  You can do this much more efficiently with a raw array or ArrayList comparing list[i] with list[length-i]"}],"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643114682,"creation_date":1643114682,"question_id":70848861,"body_markdown":"I have to check if a given list is a palindrome.\r\nIt worked all times except for when I tried with big number like -1000000000.\r\nI don&#39;t know why is that, I think Integer is big enough to work with the given numbers.\r\nAny ideas why this is not working for this particular test:\r\n```Input:\r\nl: [1, 1000000000, -1000000000, -1000000000, 1000000000, 1]\r\nOutput:\r\nfalse\r\nExpected Output:\r\ntrue\r\n```\r\nThis is my solution:\r\n```\r\n// Singly-linked lists are already defined with this interface:\r\n// class ListNode&lt;T&gt; {\r\n//   ListNode(T x) {\r\n//     value = x;\r\n//   }\r\n//   T value;\r\n//   ListNode&lt;T&gt; next;\r\n// }\r\n//\r\nboolean solution(ListNode&lt;Integer&gt; node) {\r\n        ListNode&lt;Integer&gt; current = node;\r\n        Deque&lt;Integer&gt; list = new ArrayDeque&lt;&gt;();\r\n\r\n        while (current != null) {\r\n            list.push(current.value);\r\n            current = current.next;\r\n        }\r\n\r\n        current = node;\r\n        while (!list.isEmpty()) {\r\n            Integer el = list.poll();\r\n            System.out.print(el + &quot; &quot;);\r\n            if (el != current.value) {\r\n                return false;\r\n            }\r\n\r\n            current = current.next;\r\n        }\r\n\r\n        return true;\r\n}\r\n```\r\n\r\n","title":"Check if a list is a palindrome?","body":"<p>I have to check if a given list is a palindrome.\nIt worked all times except for when I tried with big number like -1000000000.\nI don't know why is that, I think Integer is big enough to work with the given numbers.\nAny ideas why this is not working for this particular test:</p>\n<pre><code>l: [1, 1000000000, -1000000000, -1000000000, 1000000000, 1]\nOutput:\nfalse\nExpected Output:\ntrue\n</code></pre>\n<p>This is my solution:</p>\n<pre><code>// Singly-linked lists are already defined with this interface:\n// class ListNode&lt;T&gt; {\n//   ListNode(T x) {\n//     value = x;\n//   }\n//   T value;\n//   ListNode&lt;T&gt; next;\n// }\n//\nboolean solution(ListNode&lt;Integer&gt; node) {\n        ListNode&lt;Integer&gt; current = node;\n        Deque&lt;Integer&gt; list = new ArrayDeque&lt;&gt;();\n\n        while (current != null) {\n            list.push(current.value);\n            current = current.next;\n        }\n\n        current = node;\n        while (!list.isEmpty()) {\n            Integer el = list.poll();\n            System.out.print(el + &quot; &quot;);\n            if (el != current.value) {\n                return false;\n            }\n\n            current = current.next;\n        }\n\n        return true;\n}\n</code></pre>\n"},{"tags":["java","opengl","nvidia","lwjgl","glfw"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1642802515,"post_id":70807834,"comment_id":125177894,"body_markdown":"Did you check if the object get&#39;s rendered when you output a constant color? That would at least give some hints whether the texture is the problem or if the geometry isn&#39;t there.","body":"Did you check if the object get&#39;s rendered when you output a constant color? That would at least give some hints whether the texture is the problem or if the geometry isn&#39;t there."},{"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"score":0,"creation_date":1642803133,"post_id":70807834,"comment_id":125178060,"body_markdown":"Yes, I did. When I use vec4 in the Fragment Shader and remove the if-statement, it works. Looks like the problem hast something to do with the sampler2d.","body":"Yes, I did. When I use vec4 in the Fragment Shader and remove the if-statement, it works. Looks like the problem hast something to do with the sampler2d."},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1642807275,"post_id":70807834,"comment_id":125179084,"body_markdown":"Or with the if... discard statement. I don&#39;t know what exact data your texture contains, but maybe try something like `if (texture(sampler, tex_coords).a &lt;= 0.98)`. Also note that it would be a huge performance improvement if you query the texture only once instead of twice.","body":"Or with the if... discard statement. I don&#39;t know what exact data your texture contains, but maybe try something like <code>if (texture(sampler, tex_coords).a &lt;= 0.98)</code>. Also note that it would be a huge performance improvement if you query the texture only once instead of twice."},{"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"score":0,"creation_date":1642808526,"post_id":70807834,"comment_id":125179307,"body_markdown":"So, when I just remove the if... discard statement, the texture should be drawn with black background instead of transparency (because I do not use blend). That&#39;s how it is on AMD and Intel, but on Nvidia it&#39;s only black. That&#39;s why I assume, that the problem has to do something with the sampler.","body":"So, when I just remove the if... discard statement, the texture should be drawn with black background instead of transparency (because I do not use blend). That&#39;s how it is on AMD and Intel, but on Nvidia it&#39;s only black. That&#39;s why I assume, that the problem has to do something with the sampler."}],"answers":[{"tags":[],"owner":{"account_id":21437799,"reputation":40,"user_id":15792969,"display_name":"Setvizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643114660,"creation_date":1643114660,"answer_id":70848858,"question_id":70807834,"body_markdown":"In your updateShaderParameters() method your checking for ```!=1``` it should be ```!=-1``` since windowSize location would be 1. &lt;br&gt; If your checking for 1, it will never get set. &lt;br&gt;\r\nThis could be an oversight or a mistype at the end. Happens to the best of us.\r\n\r\n```\r\npublic void updateShaderParameters() {\r\n        this.setUniform(&quot;sampler&quot;, 0);\r\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\r\n        if (location != -1) {\r\n            glUniform2f(location, 1000, 1000);\r\n        }\r\n    }\r\n```","title":"LWJGL: Unable to draw textures using nvidia gpu","body":"<p>In your updateShaderParameters() method your checking for <code>!=1</code> it should be <code>!=-1</code> since windowSize location would be 1. <br> If your checking for 1, it will never get set. <br>\nThis could be an oversight or a mistype at the end. Happens to the best of us.</p>\n<pre><code>public void updateShaderParameters() {\n        this.setUniform(&quot;sampler&quot;, 0);\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\n        if (location != -1) {\n            glUniform2f(location, 1000, 1000);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70848858,"answer_count":1,"score":0,"last_activity_date":1643114660,"creation_date":1642800669,"question_id":70807834,"body_markdown":"So we&#39;re developing a simple game in Java using LWJGL with GLFW and OpenGL 3.3.\r\n\r\nOn AMD and Intel it works perfectly but on Nvidia it doesn&#39;t. The screen is just black (the value from glClearColor), there are neither Java-exceptions nor OpenGL-Errors.\r\n\r\nWhat are we doing wrong?\r\n\r\nMain.java:\r\n```java\r\npublic class Main {\r\n    Shader defaultShader;\r\n    boolean running = false;\r\n    long window;\r\n    int width = 1000;\r\n    int height = 1000;\r\n    String title = &quot;pain&quot;;\r\n    int vao;\r\n\r\n    public static void main(String[] args){\r\n        var pain = new Pain();\r\n        pain.init();\r\n        pain.run();\r\n    }\r\n\r\n    public void init() throws RuntimeException {\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n        if (!glfwInit()) throw new RuntimeException(&quot;glfw.init.failed&quot;);\r\n\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n\r\n        this.window = glfwCreateWindow(this.width, this.height, this.title, 0, 0);\r\n        if (window == NULL) throw new RuntimeException(&quot;glfw.window.failed&quot;);\r\n\r\n        glfwMakeContextCurrent(window);\r\n        glfwSwapInterval(1);\r\n        GL.createCapabilities();\r\n        glEnable(GL_TEXTURE_2D);\r\n\r\n        this.vao = glGenVertexArrays();\r\n        glBindVertexArray(vao);\r\n\r\n        this.defaultShader = new Shader(&quot;main&quot;);\r\n\r\n        glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n    }\r\n\r\n    public void run() {\r\n        this.running = true;\r\n        glfwShowWindow(window);\r\n\r\n        IntBuffer width = BufferUtils.createIntBuffer(1);\r\n        IntBuffer height = BufferUtils.createIntBuffer(1);\r\n        IntBuffer comp = BufferUtils.createIntBuffer(1);\r\n\r\n        ByteBuffer data = null;\r\n        try {\r\n            data = stbi_load_from_memory(BufferCreator.createByteBuffer(FileHandler.readFileAsBytes(&quot;fuckoff/&quot; + &quot;heal_powerup.png&quot;)), width, height, comp, 4);\r\n        } catch (IOException ignored) {}\r\n        if (data == null) throw new RuntimeException(&quot;texture.load.failed&quot;);\r\n\r\n        int id = glGenTextures();\r\n        int twidth = width.get();\r\n        int theight = height.get();\r\n\r\n        glBindTexture(GL_TEXTURE_2D, id);\r\n\r\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\r\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\r\n\r\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, twidth, theight, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);\r\n        stbi_image_free(data);\r\n\r\n        int vid;\r\n        int tid;\r\n        int dc;\r\n        int arg4;\r\n        int[] indices = {0, 1, 2, 2, 3, 0};\r\n        dc = indices.length;\r\n\r\n        vid = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vid);\r\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\r\n                0.0f, 0.0f,\r\n                100.0f, 0.0f,\r\n                100.0f, 100.0f,\r\n                0.0f, 100.0f\r\n        }), GL_DYNAMIC_DRAW);\r\n\r\n        arg4 = glGenBuffers();\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\r\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, BufferCreator.createIntBuffer(indices), GL_STATIC_DRAW);\r\n\r\n        tid = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, tid);\r\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\r\n                0.0f, 0.0f,\r\n                1.0f, 0.0f,\r\n                1.0f, 1.0f,\r\n                0.0f, 1.0f\r\n        }), GL_STATIC_DRAW);\r\n\r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\r\n\r\n\r\n\r\n        while(this.running) {\r\n            glfwPollEvents();\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            defaultShader.bind();\r\n\r\n            glBindTexture(GL_TEXTURE_2D, id);\r\n            this.defaultShader.setUniform(&quot;sampler&quot;, 0);\r\n\r\n            glEnableVertexAttribArray(0);\r\n            glEnableVertexAttribArray(1);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, vid);\r\n            glVertexAttribPointer(0, 2, GL_FLOAT, false, 0, 0);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, tid);\r\n            glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\r\n\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\r\n            glDrawElements(GL_TRIANGLES, dc, GL_UNSIGNED_INT, 0);\r\n\r\n\r\n            //Unbind buffers\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\r\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n            //Disable\r\n            glDisableVertexAttribArray(0);\r\n            glDisableVertexAttribArray(1);\r\n\r\n            glfwSwapBuffers(window);\r\n            if (glfwWindowShouldClose(window)) shutdown();\r\n            System.out.println(glGetError());\r\n        }\r\n\r\n        glfwFreeCallbacks(this.window);\r\n        glfwDestroyWindow(this.window);\r\n        glfwTerminate();\r\n        glfwSetErrorCallback(null).free();\r\n    }\r\n\r\n    void shutdown(){\r\n        this.running = false;\r\n    }\r\n}\r\n```\r\nShader.java:\r\n```java\r\npublic class Shader {\r\n    private int program, vs, fs;\r\n\r\n    public Shader(String name) {\r\n        try {\r\n            this.program = glCreateProgram();\r\n\r\n            this.vs = glCreateShader(GL_VERTEX_SHADER);\r\n            glShaderSource(this.vs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.vs&quot;));\r\n            glCompileShader(this.vs);\r\n            if (glGetShaderi(this.vs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed\\n&quot; + glGetShaderInfoLog(vs));\r\n\r\n            this.fs = glCreateShader(GL_FRAGMENT_SHADER);\r\n            glShaderSource(this.fs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.fs&quot;));\r\n            glCompileShader(this.fs);\r\n            if (glGetShaderi(this.fs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed&quot; + glGetShaderInfoLog(fs));\r\n\r\n            glAttachShader(this.program, this.vs);\r\n            glAttachShader(this.program, this.fs);\r\n\r\n            glBindAttribLocation(this.program, 0, &quot;vertices&quot;);\r\n            glBindAttribLocation(this.program, 1, &quot;textures&quot;);\r\n\r\n            glLinkProgram(this.program);\r\n            if (glGetProgrami(this.program, GL_LINK_STATUS) != 1) throw new RuntimeException(&quot;shader.link.failed&quot;);\r\n            glValidateProgram(this.program);\r\n            if (glGetProgrami(this.program, GL_VALIDATE_STATUS) != 1) throw new RuntimeException(&quot;shader.validation.failed&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public void updateShaderParameters() {\r\n        this.setUniform(&quot;sampler&quot;, 0);\r\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\r\n        if (location != 1) {\r\n            glUniform2f(location, 1000, 1000);\r\n        }\r\n    }\r\n\r\n    public void setUniform(String name, int value) {\r\n        int location = glGetUniformLocation(this.program, name);\r\n        if (location != -1) {\r\n            glUniform1i(location, value);\r\n        }\r\n    }\r\n\r\n    public void bind() {\r\n        glUseProgram(this.program);\r\n        this.updateShaderParameters();\r\n    }\r\n}\r\n```\r\nVertex Shader:\r\n```\r\n#version 330 core\r\n\r\nlayout (location = 0) in vec2 vertices;\r\nlayout (location = 1) in vec2 textures;\r\n\r\nuniform vec2 windowSize;\r\n\r\nout vec2 tex_coords;\r\n\r\nvoid main() {\r\n    tex_coords = textures;\r\n    gl_Position = vec4(2.0/windowSize.x * vertices.x - 1.0, (2.0/windowSize.y * vertices.y - 1.0) * -1.0, 1, 1);\r\n}\r\n\r\n```\r\nFragment Shader:\r\n```\r\n#version 330 core\r\n\r\nuniform sampler2D sampler;\r\n\r\nout vec4 FragColor;\r\n\r\nin vec2 tex_coords;\r\n\r\nvoid main() {\r\n    if (texture(sampler, tex_coords).a != 1.0f) {\r\n        discard;\r\n    }\r\n\r\n    FragColor = texture(sampler, tex_coords);\r\n}\r\n```\r\nBufferCreator.java and FileHandler.java are simple utility-classes which seem to work perfectly.\r\n\r\nI assume, it has something to do with the Sampler because when I remove the if...discard statement in the Fragment Shader and set FragColor to some random values, it is drawn.","title":"LWJGL: Unable to draw textures using nvidia gpu","body":"<p>So we're developing a simple game in Java using LWJGL with GLFW and OpenGL 3.3.</p>\n<p>On AMD and Intel it works perfectly but on Nvidia it doesn't. The screen is just black (the value from glClearColor), there are neither Java-exceptions nor OpenGL-Errors.</p>\n<p>What are we doing wrong?</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    Shader defaultShader;\n    boolean running = false;\n    long window;\n    int width = 1000;\n    int height = 1000;\n    String title = &quot;pain&quot;;\n    int vao;\n\n    public static void main(String[] args){\n        var pain = new Pain();\n        pain.init();\n        pain.run();\n    }\n\n    public void init() throws RuntimeException {\n        GLFWErrorCallback.createPrint(System.err).set();\n        if (!glfwInit()) throw new RuntimeException(&quot;glfw.init.failed&quot;);\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n\n        this.window = glfwCreateWindow(this.width, this.height, this.title, 0, 0);\n        if (window == NULL) throw new RuntimeException(&quot;glfw.window.failed&quot;);\n\n        glfwMakeContextCurrent(window);\n        glfwSwapInterval(1);\n        GL.createCapabilities();\n        glEnable(GL_TEXTURE_2D);\n\n        this.vao = glGenVertexArrays();\n        glBindVertexArray(vao);\n\n        this.defaultShader = new Shader(&quot;main&quot;);\n\n        glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n    }\n\n    public void run() {\n        this.running = true;\n        glfwShowWindow(window);\n\n        IntBuffer width = BufferUtils.createIntBuffer(1);\n        IntBuffer height = BufferUtils.createIntBuffer(1);\n        IntBuffer comp = BufferUtils.createIntBuffer(1);\n\n        ByteBuffer data = null;\n        try {\n            data = stbi_load_from_memory(BufferCreator.createByteBuffer(FileHandler.readFileAsBytes(&quot;fuckoff/&quot; + &quot;heal_powerup.png&quot;)), width, height, comp, 4);\n        } catch (IOException ignored) {}\n        if (data == null) throw new RuntimeException(&quot;texture.load.failed&quot;);\n\n        int id = glGenTextures();\n        int twidth = width.get();\n        int theight = height.get();\n\n        glBindTexture(GL_TEXTURE_2D, id);\n\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, twidth, theight, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);\n        stbi_image_free(data);\n\n        int vid;\n        int tid;\n        int dc;\n        int arg4;\n        int[] indices = {0, 1, 2, 2, 3, 0};\n        dc = indices.length;\n\n        vid = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, vid);\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\n                0.0f, 0.0f,\n                100.0f, 0.0f,\n                100.0f, 100.0f,\n                0.0f, 100.0f\n        }), GL_DYNAMIC_DRAW);\n\n        arg4 = glGenBuffers();\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, BufferCreator.createIntBuffer(indices), GL_STATIC_DRAW);\n\n        tid = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, tid);\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\n                0.0f, 0.0f,\n                1.0f, 0.0f,\n                1.0f, 1.0f,\n                0.0f, 1.0f\n        }), GL_STATIC_DRAW);\n\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\n\n\n        while(this.running) {\n            glfwPollEvents();\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            defaultShader.bind();\n\n            glBindTexture(GL_TEXTURE_2D, id);\n            this.defaultShader.setUniform(&quot;sampler&quot;, 0);\n\n            glEnableVertexAttribArray(0);\n            glEnableVertexAttribArray(1);\n\n            glBindBuffer(GL_ARRAY_BUFFER, vid);\n            glVertexAttribPointer(0, 2, GL_FLOAT, false, 0, 0);\n\n            glBindBuffer(GL_ARRAY_BUFFER, tid);\n            glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\n            glDrawElements(GL_TRIANGLES, dc, GL_UNSIGNED_INT, 0);\n\n\n            //Unbind buffers\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\n            //Disable\n            glDisableVertexAttribArray(0);\n            glDisableVertexAttribArray(1);\n\n            glfwSwapBuffers(window);\n            if (glfwWindowShouldClose(window)) shutdown();\n            System.out.println(glGetError());\n        }\n\n        glfwFreeCallbacks(this.window);\n        glfwDestroyWindow(this.window);\n        glfwTerminate();\n        glfwSetErrorCallback(null).free();\n    }\n\n    void shutdown(){\n        this.running = false;\n    }\n}\n</code></pre>\n<p>Shader.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Shader {\n    private int program, vs, fs;\n\n    public Shader(String name) {\n        try {\n            this.program = glCreateProgram();\n\n            this.vs = glCreateShader(GL_VERTEX_SHADER);\n            glShaderSource(this.vs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.vs&quot;));\n            glCompileShader(this.vs);\n            if (glGetShaderi(this.vs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed\\n&quot; + glGetShaderInfoLog(vs));\n\n            this.fs = glCreateShader(GL_FRAGMENT_SHADER);\n            glShaderSource(this.fs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.fs&quot;));\n            glCompileShader(this.fs);\n            if (glGetShaderi(this.fs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed&quot; + glGetShaderInfoLog(fs));\n\n            glAttachShader(this.program, this.vs);\n            glAttachShader(this.program, this.fs);\n\n            glBindAttribLocation(this.program, 0, &quot;vertices&quot;);\n            glBindAttribLocation(this.program, 1, &quot;textures&quot;);\n\n            glLinkProgram(this.program);\n            if (glGetProgrami(this.program, GL_LINK_STATUS) != 1) throw new RuntimeException(&quot;shader.link.failed&quot;);\n            glValidateProgram(this.program);\n            if (glGetProgrami(this.program, GL_VALIDATE_STATUS) != 1) throw new RuntimeException(&quot;shader.validation.failed&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    public void updateShaderParameters() {\n        this.setUniform(&quot;sampler&quot;, 0);\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\n        if (location != 1) {\n            glUniform2f(location, 1000, 1000);\n        }\n    }\n\n    public void setUniform(String name, int value) {\n        int location = glGetUniformLocation(this.program, name);\n        if (location != -1) {\n            glUniform1i(location, value);\n        }\n    }\n\n    public void bind() {\n        glUseProgram(this.program);\n        this.updateShaderParameters();\n    }\n}\n</code></pre>\n<p>Vertex Shader:</p>\n<pre><code>#version 330 core\n\nlayout (location = 0) in vec2 vertices;\nlayout (location = 1) in vec2 textures;\n\nuniform vec2 windowSize;\n\nout vec2 tex_coords;\n\nvoid main() {\n    tex_coords = textures;\n    gl_Position = vec4(2.0/windowSize.x * vertices.x - 1.0, (2.0/windowSize.y * vertices.y - 1.0) * -1.0, 1, 1);\n}\n\n</code></pre>\n<p>Fragment Shader:</p>\n<pre><code>#version 330 core\n\nuniform sampler2D sampler;\n\nout vec4 FragColor;\n\nin vec2 tex_coords;\n\nvoid main() {\n    if (texture(sampler, tex_coords).a != 1.0f) {\n        discard;\n    }\n\n    FragColor = texture(sampler, tex_coords);\n}\n</code></pre>\n<p>BufferCreator.java and FileHandler.java are simple utility-classes which seem to work perfectly.</p>\n<p>I assume, it has something to do with the Sampler because when I remove the if...discard statement in the Fragment Shader and set FragColor to some random values, it is drawn.</p>\n"},{"tags":["java","dependency-injection","null","javabeans"],"owner":{"account_id":5475652,"reputation":11,"user_id":4353734,"display_name":"zone4182"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643114542,"creation_date":1643099852,"question_id":70845604,"body_markdown":"I have 2 beans that are created in the same SecurityConfig class, like this:\r\n\r\n    @Bean\r\n    ApiClientRequestFactory getKeycloakClientRequestFactory() {\r\n        println &quot;Init keycloakClientRequestFactory &quot;+customerContextProviderFactory\r\n\r\n        ApiClientRequestFactory factory = new ApiClientRequestFactory(customerContextProviderFactory, tokenProvider)\r\n        factory.setConnectionRequestTimeout(5000)\r\n        factory.setReadTimeout(1200000)\r\n        return factory\r\n    }\r\n\r\n    @Bean\r\n    KeycloakAsyncClientRequestFactory getKeycloakAsyncClientRequestFactory() {\r\n        println &quot;Init keycloakAsyncClientRequestFactory &quot;+customerContextProviderFactory\r\n\r\n        KeycloakAsyncClientRequestFactory factory = new KeycloakAsyncClientRequestFactory(customerContextProviderFactory, tokenProvider)\r\n        factory.setConnectionRequestTimeout(20000)\r\n        factory.setReadTimeout(1200000)\r\n        return factory\r\n    }\r\n\r\nThe customerContextProviderFactory and tokenProviderare both @Autowired within the Security config class, these methods are like:\r\n\r\n    class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    GrailsApplication grailsApplication\r\n    @Autowired\r\n    CustomerContextProviderFactory customerContextProviderFactory\r\n    @Autowired\r\n    TokenProvider tokenProvider\r\n\r\nNow, when i start my application, both of the fields are null in the first instance but filled in the second. I don&#39;t understand what the difference would be. Can someone help me figure it out? The console shows:\r\n\r\n```none\r\nInit keycloakClientRequestFactory null\r\n\r\nInit keycloakAsyncClientRequestFactory com.tst.myapp.customer.RoleBasedCustomerContextProviderFactory@22a4c764\r\n```","title":"2 similar beans use same injected fields, in one the fields are null, the other are filled","body":"<p>I have 2 beans that are created in the same SecurityConfig class, like this:</p>\n<pre><code>@Bean\nApiClientRequestFactory getKeycloakClientRequestFactory() {\n    println &quot;Init keycloakClientRequestFactory &quot;+customerContextProviderFactory\n\n    ApiClientRequestFactory factory = new ApiClientRequestFactory(customerContextProviderFactory, tokenProvider)\n    factory.setConnectionRequestTimeout(5000)\n    factory.setReadTimeout(1200000)\n    return factory\n}\n\n@Bean\nKeycloakAsyncClientRequestFactory getKeycloakAsyncClientRequestFactory() {\n    println &quot;Init keycloakAsyncClientRequestFactory &quot;+customerContextProviderFactory\n\n    KeycloakAsyncClientRequestFactory factory = new KeycloakAsyncClientRequestFactory(customerContextProviderFactory, tokenProvider)\n    factory.setConnectionRequestTimeout(20000)\n    factory.setReadTimeout(1200000)\n    return factory\n}\n</code></pre>\n<p>The customerContextProviderFactory and tokenProviderare both @Autowired within the Security config class, these methods are like:</p>\n<pre><code>class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n@Autowired\nGrailsApplication grailsApplication\n@Autowired\nCustomerContextProviderFactory customerContextProviderFactory\n@Autowired\nTokenProvider tokenProvider\n</code></pre>\n<p>Now, when i start my application, both of the fields are null in the first instance but filled in the second. I don't understand what the difference would be. Can someone help me figure it out? The console shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Init keycloakClientRequestFactory null\n\nInit keycloakAsyncClientRequestFactory com.tst.myapp.customer.RoleBasedCustomerContextProviderFactory@22a4c764\n</code></pre>\n"},{"tags":["java","constructor","abstract-class","super"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643101049,"creation_date":1643101049,"answer_id":70845858,"question_id":70844384,"body_markdown":"Ok, first, you are not using the super constructor correctly. There is lot of info online, start with [javadoc][1]. To summarize it, invoking the super constructor with some parameters in the child class contructor will pass the parameters to it, and will do the operations you declared in it(validating and setting the fields in your case). You don&#39;t need to set the fields by hand after invoking it. You can think of it as invoking a special type of method.\r\n\r\nRight triangle will look like this:\r\n\r\n    public class RightTriangle extends Triangle {\r\n    \r\n        public RightTriangle(double sideA, double sideB) {\r\n            super(sideA, sideB, calculateHypotenuse(sideA, sideB));\r\n        }\r\n    \r\n        private static double calculateHypotenuse(double sideA, double sideB) {\r\n            //implement it, using the formula\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public double getArea() {\r\n            //implement it using formula\r\n            return 0;\r\n        }\r\n    }\r\nAs you can see call to super constructor is first stamement in this contructor, and passing to it parameters from this constructor(sideA and sideB). Hypotenuse(sideC) is calculated using `static` method, it is not possible to use `this` when invoking super constructor.\r\n\r\nEquilateral triangle will look like that:\r\n\r\n    public class EquilateralTriangle extends Triangle {\r\n    \r\n        public EquilateralTriangle(double sideLength) {\r\n            super(sideLength, sideLength, sideLength);\r\n        }\r\n    \r\n        @Override\r\n        public double getArea() {\r\n            //calculate it using formula\r\n            return 0;\r\n        }\r\n    }\r\nNote how sideLength is passed as every parameter in the super constructor(sideA, sideB, sideC). The super constructor will set and validate them. This should fix all compilation problems you have.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/super.html","title":"How Can I use super without Cannot refer to an instance field sideC while explicitly invoking a constructor","body":"<p>Ok, first, you are not using the super constructor correctly. There is lot of info online, start with <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">javadoc</a>. To summarize it, invoking the super constructor with some parameters in the child class contructor will pass the parameters to it, and will do the operations you declared in it(validating and setting the fields in your case). You don't need to set the fields by hand after invoking it. You can think of it as invoking a special type of method.</p>\n<p>Right triangle will look like this:</p>\n<pre><code>public class RightTriangle extends Triangle {\n\n    public RightTriangle(double sideA, double sideB) {\n        super(sideA, sideB, calculateHypotenuse(sideA, sideB));\n    }\n\n    private static double calculateHypotenuse(double sideA, double sideB) {\n        //implement it, using the formula\n        return 0;\n    }\n\n    @Override\n    public double getArea() {\n        //implement it using formula\n        return 0;\n    }\n}\n</code></pre>\n<p>As you can see call to super constructor is first stamement in this contructor, and passing to it parameters from this constructor(sideA and sideB). Hypotenuse(sideC) is calculated using <code>static</code> method, it is not possible to use <code>this</code> when invoking super constructor.</p>\n<p>Equilateral triangle will look like that:</p>\n<pre><code>public class EquilateralTriangle extends Triangle {\n\n    public EquilateralTriangle(double sideLength) {\n        super(sideLength, sideLength, sideLength);\n    }\n\n    @Override\n    public double getArea() {\n        //calculate it using formula\n        return 0;\n    }\n}\n</code></pre>\n<p>Note how sideLength is passed as every parameter in the super constructor(sideA, sideB, sideC). The super constructor will set and validate them. This should fix all compilation problems you have.</p>\n"}],"owner":{"account_id":19018243,"reputation":1,"user_id":13882787,"display_name":"Holly Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643114402,"creation_date":1643092961,"question_id":70844384,"body_markdown":"\r\n   ``` \r\n   public abstract class Triangle {\r\n\r\n\tprotected double sideA, sideB, sideC;\r\n\t\r\n\tpublic Triangle(double sideA, double sideB, double sideC) {\r\n\t\t\r\n\t\tthis.sideA = sideA;\r\n\t\tthis.sideB = sideB;\r\n\t\tthis.sideC = sideC;\r\n\t}\r\n\t\r\n}\r\n```\r\nI would wonder how can I use the super() without the error Cannot refer to an instance field sideC while explicitly invoking a constructor. Below are the code I got error.\r\n\r\n```\r\npublic RightTriangle(double sideA, double sideB) {\r\n\r\n\t    super(sideA, sideB, sideC);\r\n\t\tthis.sideA = sideA;\r\n\t\tthis.sideB = sideB;\r\n        this.sideC = getHypotenuse.sideC;\r\n\r\n\t}\r\n\t \r\n\tpublic EquilateralTriangle(double sideLength) {\r\n\t\t\r\n\t\tsuper(sideA, sideB, sideC);\r\n\t\tsuper.sideA = sideLength;\r\n\t\tsuper.sideB = sideLength;\r\n\t\tsuper.sideC = sideLength;\r\n\t}\r\n```\r\nAnd I also get the error on the code below. \r\n\t- sideA cannot be resolved or is \r\n\t not a field\r\n\t- sideB cannot be resolved or is \r\n\t not a field\r\n\t- sideC cannot be resolved or is \r\n\t not a field\r\n```\r\nEquilateralTriangle et = new EquilateralTriangle(1);\r\n```\r\nConstructor:\r\n```\r\npublic EquilateralTriangle(double sideLength) {\r\n\t\t\r\n\t\tsuper(sideA, sideB, sideC);\r\n\t\tsuper.sideA = sideLength;\r\n\t\tsuper.sideB = sideLength;\r\n\t\tsuper.sideC = sideLength;\r\n\t}\r\n```\r\nWhy this constructor cannot be called in new EquilateralTriangle(1) ?\r\nPlease help me to figure it out these.","title":"How Can I use super without Cannot refer to an instance field sideC while explicitly invoking a constructor","body":"<pre><code>public abstract class Triangle {\n\n protected double sideA, sideB, sideC;\n \n public Triangle(double sideA, double sideB, double sideC) {\n     \n     this.sideA = sideA;\n     this.sideB = sideB;\n     this.sideC = sideC;\n }\n \n}\n</code></pre>\n<p>I would wonder how can I use the super() without the error Cannot refer to an instance field sideC while explicitly invoking a constructor. Below are the code I got error.</p>\n<pre><code>public RightTriangle(double sideA, double sideB) {\n\n        super(sideA, sideB, sideC);\n        this.sideA = sideA;\n        this.sideB = sideB;\n        this.sideC = getHypotenuse.sideC;\n\n    }\n     \n    public EquilateralTriangle(double sideLength) {\n        \n        super(sideA, sideB, sideC);\n        super.sideA = sideLength;\n        super.sideB = sideLength;\n        super.sideC = sideLength;\n    }\n</code></pre>\n<p>And I also get the error on the code below.\n- sideA cannot be resolved or is\nnot a field\n- sideB cannot be resolved or is\nnot a field\n- sideC cannot be resolved or is\nnot a field</p>\n<pre><code>EquilateralTriangle et = new EquilateralTriangle(1);\n</code></pre>\n<p>Constructor:</p>\n<pre><code>public EquilateralTriangle(double sideLength) {\n        \n        super(sideA, sideB, sideC);\n        super.sideA = sideLength;\n        super.sideB = sideLength;\n        super.sideC = sideLength;\n    }\n</code></pre>\n<p>Why this constructor cannot be called in new EquilateralTriangle(1) ?\nPlease help me to figure it out these.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1642437821,"post_id":70744724,"comment_id":125065232,"body_markdown":"`NodeList nList = doc.getElementsByTagName(&quot;Object&quot;)` - you don&#39;t have any elements called `Object`... they&#39;re called `Property`. Likewise you don&#39;t have any attributes called `id`. The only attributes in your document are called `Name`.","body":"<code>NodeList nList = doc.getElementsByTagName(&quot;Object&quot;)</code> - you don&#39;t have any elements called <code>Object</code>... they&#39;re called <code>Property</code>. Likewise you don&#39;t have any attributes called <code>id</code>. The only attributes in your document are called <code>Name</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642437849,"post_id":70744724,"comment_id":125065248,"body_markdown":"`getAttribute(&quot;id&quot;)` isn&#39;t correct. Your attribute is `Name` with a value of id. You&#39;re also skipping the child nodes. Not sure if that&#39;s intentional","body":"<code>getAttribute(&quot;id&quot;)</code> isn&#39;t correct. Your attribute is <code>Name</code> with a value of id. You&#39;re also skipping the child nodes. Not sure if that&#39;s intentional"},{"owner":{"account_id":23690682,"reputation":11,"user_id":17715064,"display_name":"Sunil Kumar Chitumalla"},"score":0,"creation_date":1642438286,"post_id":70744724,"comment_id":125065436,"body_markdown":"@OneCricketeer: How to print def from &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;","body":"@OneCricketeer: How to print def from &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642439085,"post_id":70744724,"comment_id":125065731,"body_markdown":"I don&#39;t know. How about `eElement.getNodeValue()`?","body":"I don&#39;t know. How about <code>eElement.getNodeValue()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642452096,"creation_date":1642452096,"answer_id":70747285,"question_id":70744724,"body_markdown":"I recommend you to use a library like [jsoup][1] for reading XML files, since you get a lot of functionality out of the box. \r\n\r\nAlso read: https://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup\r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How to read XML file using java","body":"<p>I recommend you to use a library like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a> for reading XML files, since you get a lot of functionality out of the box.</p>\n<p>Also read: <a href=\"https://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup\">How to parse XML with jsoup</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642457262,"creation_date":1642457262,"answer_id":70748077,"question_id":70744724,"body_markdown":"You can use [XPath][1] to run quite different queries.\r\n\r\n    File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(fXmlFile);\r\n\r\n    //Get an XPath object and evaluate the expression\r\n    XPath xpath = XPathFactory.newInstance().newXPath();\r\n    String propertyId = xpath.evaluate(&quot;/Tree/child[1]/Property[@name=&#39;id&#39;]&quot;, document);\r\n\r\nMore likely you want to loop over all the child elements, which can be done like\r\n\r\n    NodeList children = (NodeList)xpath.evaluate(&quot;/Tree/child&quot;, doc, XPathConstants.NODESET);\r\n    for (int i=0;i&lt;children.getLength();i++) {\r\n        Element child = (Element)children.get(i);\r\n        String propertyId = child.getAttribute(&quot;id&quot;);\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/xpath/package-summary.html","title":"How to read XML file using java","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\">XPath</a> to run quite different queries.</p>\n<pre><code>File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(fXmlFile);\n\n//Get an XPath object and evaluate the expression\nXPath xpath = XPathFactory.newInstance().newXPath();\nString propertyId = xpath.evaluate(&quot;/Tree/child[1]/Property[@name='id']&quot;, document);\n</code></pre>\n<p>More likely you want to loop over all the child elements, which can be done like</p>\n<pre><code>NodeList children = (NodeList)xpath.evaluate(&quot;/Tree/child&quot;, doc, XPathConstants.NODESET);\nfor (int i=0;i&lt;children.getLength();i++) {\n    Element child = (Element)children.get(i);\n    String propertyId = child.getAttribute(&quot;id&quot;);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643114400,"creation_date":1642476369,"answer_id":70749964,"question_id":70744724,"body_markdown":"Reading XML files is not a trivial task by any means. It requires the reader to have intimate knowledge of the structure of the file. By that, I mean, what are the element names, the attribute names, the data type of the attributes, the order of the elements, whether the elements are simple of complex (meaning they are flat or have nested elements underneath).\r\n\r\nOne solution, as shown by Jon Skeet&#39;s comment, is to use Java [Document API][1]. This interface has all the methods you will need to get data from an XML file. However, in my opinion, this still leaves the reader with the task of knowing the element and attribute names.\r\n\r\nIf a XML schema (XSD) or Document Type Definition (DTD) for a given XML is available or can be easily constructed, I prefer to use one of the many libraries to parse XML contents; to name a few StaX, JDOM, DOM4j, JAXB. Because I have used it extensively, I prefer JAXB. There are some limitations to JAXB, but those are out of scope for this discussion. One thing worth mentioning is that JAXB is included in Java distributions from Java 6 to 10. Outside of those versions, you must download the JAXB distribution yourself.\r\n\r\nOne of the primary reasons I used JAXB is that I can use annotations in POJOs to structure a class according to existing XMLs without needing to build a schema. Of course, this is not always simple to do. It is almost always compile your JAXB classes according to a schema. Because this will produce Java custom classes for your XML documents, you can call elements an attributes by their getter methods, rather than putting the burden on the reader to know the element names.\r\n\r\nI used the OPs XML file to generate a schema using [XML Copy Editor][2]. The resulting schema looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n      &lt;xs:element name=&quot;Tree&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n            &lt;xs:element ref=&quot;child&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:element name=&quot;child&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n            &lt;xs:element ref=&quot;Property&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:element name=&quot;Property&quot;&gt;\r\n        &lt;xs:complexType mixed=&quot;true&quot;&gt;\r\n          &lt;xs:attribute name=&quot;Name&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n Once you have the schema, you can use it to compile the JAXB classes using the XJC compiler that comes with Java. Here is an example on how to compile the JAXB classes: https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html\r\n\r\nTo download the JAXB compiler, go to https://javaee.github.io/jaxb-v2/ and click &quot;Download standalone distribution&quot;. You can place the contents of the ZIP file anywhere on your computer. Then, simply set *JAXB_HOME* on your environment variables and you are set.  This might seem like a lot of work but up to this point, these are one-time activities. The upside is when you have your environment set up, it will literally take you seconds to compile all your classes; even if you need to generate the schema based on your XML.\r\n\r\nExecuting the compiler generated `Tree.java`, `Child.java`, and `Property.java`.\r\n\r\nTree.java\r\n---------\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;child&quot;\r\n})\r\n@XmlRootElement(name = &quot;Tree&quot;)\r\npublic class Tree {\r\n\r\n    @XmlElement(required = true)\r\n    protected List&lt;Child&gt; child;\r\n\r\n    public List&lt;Child&gt; getChild() {\r\n        if (child == null) {\r\n            child = new ArrayList&lt;Child&gt;();\r\n        }\r\n        return this.child;\r\n    }\r\n}\r\n```\r\n\r\nChild.java\r\n----------\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;property&quot;\r\n})\r\n@XmlRootElement(name = &quot;child&quot;)\r\npublic class Child {\r\n\r\n    @XmlElement(name = &quot;Property&quot;, required = true)\r\n    protected List&lt;Property&gt; property;\r\n\r\n    public List&lt;Property&gt; getProperty() {\r\n        if (property == null) {\r\n            property = new ArrayList&lt;Property&gt;();\r\n        }\r\n        return this.property;\r\n    }\r\n}\r\n```\r\nProperty.java\r\n-------------\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;content&quot;\r\n})\r\n@XmlRootElement(name = &quot;Property&quot;)\r\npublic class Property {\r\n\r\n    @XmlValue\r\n    protected String content;\r\n    @XmlAttribute(name = &quot;Name&quot;, required = true)\r\n    protected String name;\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n\r\n    public void setContent(String value) {\r\n        this.content = value;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String value) {\r\n        this.name = value;\r\n    }\r\n}\r\n```\r\n\r\nHow to use these classes\r\n------------------------\r\nThe reading process (unmarshaling) converts the XML file into these generated data types. The JAXB unmarshaling process uses the `JAXBContext` utility class to create an unmarshaler and then call the unmarshal method to convert the XML file into objects:\r\n\r\n```\r\nJAXBContext context = JAXBContext.newInstance(Tree.class); // the argument is the root node\r\nTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;)); // Reads the XML and returns a Java object\r\n```\r\nTo write, you will use the Java classes to store the data and create the structure. In this case, you will need to create the required `Property` objects, the `Child` container for the property elements, and the root node which is the `Tree` node. You  can add elements one at a time or create a list of them and add them all at once. Once the root node object is populated, simply pass it to the marshaler...\r\n\r\n```\r\nJAXBContext context = JAXBContext.newInstance(Tree.class);\r\nMarshaller mar= context.createMarshaller();\r\nmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // formatting the xml file\r\nmar.marshal(tree, new File(&quot;abc.xml&quot;)); // saves the &quot;Tree&quot; object as &quot;abc.xml&quot;\r\n```\r\n\r\nAll together\r\n----------\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.util.List;\r\n\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\n\r\npublic class JAXBDemo {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\t// write\r\n\t\t\tTree tree = new Tree();\r\n\t\t\tProperty prop0 = new Property();\r\n\t\t\tprop0.setName(&quot;id&quot;);\r\n\t\t\tprop0.setContent(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop1 = new Property();\r\n\t\t\tprop1.setName(&quot;username&quot;);\r\n\t\t\tprop1.setContent(&quot;abc&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop2 = new Property();\r\n\t\t\tprop2.setName(&quot;phoneType&quot;);\r\n\t\t\tprop2.setContent(&quot;phone1&quot;);\r\n\r\n\t\t\tProperty prop3 = new Property();\r\n\t\t\tprop3.setName(&quot;value&quot;);\r\n\t\t\tprop3.setContent(&quot;123456&quot;);\r\n\r\n\t\t\tList&lt;Property&gt; props1 = List.of(prop0, prop1, prop2, prop3);\r\n\r\n\t\t\tProperty prop4 = new Property();\r\n\t\t\tprop4.setName(&quot;id&quot;);\r\n\t\t\tprop4.setContent(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop5 = new Property();\r\n\t\t\tprop5.setName(&quot;username&quot;);\r\n\t\t\tprop5.setContent(&quot;def&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop6 = new Property();\r\n\t\t\tprop6.setName(&quot;phoneType&quot;);\r\n\t\t\tprop6.setContent(&quot;phone2&quot;);\r\n\r\n\t\t\tProperty prop7 = new Property();\r\n\t\t\tprop7.setName(&quot;value&quot;);\r\n\t\t\tprop7.setContent(&quot;6789012&quot;);\r\n\r\n\t\t\tList&lt;Property&gt; props2 = List.of(prop4, prop5, prop6, prop7);\r\n\t\t\t\r\n\t\t\tChild child1 = new Child();\r\n\t\t\tChild child2 = new Child();\r\n\t\t\t\r\n\t\t\tchild1.getProperty().addAll(props1);\r\n\t\t\tchild2.getProperty().addAll(props2);\r\n\t\t\t\r\n\t\t\ttree.getChild().add(child1);\r\n\t\t\ttree.getChild().add(child2);\r\n\r\n\t\t\tJAXBContext context = JAXBContext.newInstance(Tree.class);\r\n\t        Marshaller mar= context.createMarshaller();\r\n\t        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t        mar.marshal(tree, new File(&quot;abc.xml&quot;));\r\n\r\n\t        // read\r\n\t\t\tTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;));\r\n\t\t\tList&lt;Child&gt; children = xmlDoc.getChild();\r\n\t\t\tint i = 1;\r\n\t\t\tfor (Child child : children) {\r\n\t\t\t\tSystem.out.println(&quot;Property &quot; + i++ + &quot;:&quot;);\r\n\t\t\t\tList&lt;Property&gt; props = child.getProperty();\r\n\t\t\t\tfor (Property prop : props) {\r\n\t\t\t\t\tSystem.out.println(&quot;Name: &quot; + prop.getName() + &quot;; Content: &quot; + prop.getContent());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (JAXBException | FileNotFoundException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nLast notes:\r\n-----------\r\nTo get this to work, I had to make some &quot;fixes&quot; to the distribution. The first fix was to edit the `xjc.bat` according to this post:  https://github.com/eclipse-ee4j/jaxb-ri/issues/1321. Scroll to the bottom to see the fix I applied.\r\n\r\nThen, I needed to update my &quot;jaxb-runtime&quot; dependency to version 2.3.3 in order for the project to work with &quot;jaxb-api&quot; version 2.3.1.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html\r\n  [2]: https://xml-copy-editor.sourceforge.io/","title":"How to read XML file using java","body":"<p>Reading XML files is not a trivial task by any means. It requires the reader to have intimate knowledge of the structure of the file. By that, I mean, what are the element names, the attribute names, the data type of the attributes, the order of the elements, whether the elements are simple of complex (meaning they are flat or have nested elements underneath).</p>\n<p>One solution, as shown by Jon Skeet's comment, is to use Java <a href=\"https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html\" rel=\"nofollow noreferrer\">Document API</a>. This interface has all the methods you will need to get data from an XML file. However, in my opinion, this still leaves the reader with the task of knowing the element and attribute names.</p>\n<p>If a XML schema (XSD) or Document Type Definition (DTD) for a given XML is available or can be easily constructed, I prefer to use one of the many libraries to parse XML contents; to name a few StaX, JDOM, DOM4j, JAXB. Because I have used it extensively, I prefer JAXB. There are some limitations to JAXB, but those are out of scope for this discussion. One thing worth mentioning is that JAXB is included in Java distributions from Java 6 to 10. Outside of those versions, you must download the JAXB distribution yourself.</p>\n<p>One of the primary reasons I used JAXB is that I can use annotations in POJOs to structure a class according to existing XMLs without needing to build a schema. Of course, this is not always simple to do. It is almost always compile your JAXB classes according to a schema. Because this will produce Java custom classes for your XML documents, you can call elements an attributes by their getter methods, rather than putting the burden on the reader to know the element names.</p>\n<p>I used the OPs XML file to generate a schema using <a href=\"https://xml-copy-editor.sourceforge.io/\" rel=\"nofollow noreferrer\">XML Copy Editor</a>. The resulting schema looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\n  &lt;xs:element name=&quot;Tree&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element ref=&quot;child&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:element name=&quot;child&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element ref=&quot;Property&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:element name=&quot;Property&quot;&gt;\n    &lt;xs:complexType mixed=&quot;true&quot;&gt;\n      &lt;xs:attribute name=&quot;Name&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>Once you have the schema, you can use it to compile the JAXB classes using the XJC compiler that comes with Java. Here is an example on how to compile the JAXB classes: <a href=\"https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html</a></p>\n<p>To download the JAXB compiler, go to <a href=\"https://javaee.github.io/jaxb-v2/\" rel=\"nofollow noreferrer\">https://javaee.github.io/jaxb-v2/</a> and click &quot;Download standalone distribution&quot;. You can place the contents of the ZIP file anywhere on your computer. Then, simply set <em>JAXB_HOME</em> on your environment variables and you are set.  This might seem like a lot of work but up to this point, these are one-time activities. The upside is when you have your environment set up, it will literally take you seconds to compile all your classes; even if you need to generate the schema based on your XML.</p>\n<p>Executing the compiler generated <code>Tree.java</code>, <code>Child.java</code>, and <code>Property.java</code>.</p>\n<h2>Tree.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;child&quot;\n})\n@XmlRootElement(name = &quot;Tree&quot;)\npublic class Tree {\n\n    @XmlElement(required = true)\n    protected List&lt;Child&gt; child;\n\n    public List&lt;Child&gt; getChild() {\n        if (child == null) {\n            child = new ArrayList&lt;Child&gt;();\n        }\n        return this.child;\n    }\n}\n</code></pre>\n<h2>Child.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;property&quot;\n})\n@XmlRootElement(name = &quot;child&quot;)\npublic class Child {\n\n    @XmlElement(name = &quot;Property&quot;, required = true)\n    protected List&lt;Property&gt; property;\n\n    public List&lt;Property&gt; getProperty() {\n        if (property == null) {\n            property = new ArrayList&lt;Property&gt;();\n        }\n        return this.property;\n    }\n}\n</code></pre>\n<h2>Property.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;content&quot;\n})\n@XmlRootElement(name = &quot;Property&quot;)\npublic class Property {\n\n    @XmlValue\n    protected String content;\n    @XmlAttribute(name = &quot;Name&quot;, required = true)\n    protected String name;\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String value) {\n        this.content = value;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String value) {\n        this.name = value;\n    }\n}\n</code></pre>\n<h2>How to use these classes</h2>\n<p>The reading process (unmarshaling) converts the XML file into these generated data types. The JAXB unmarshaling process uses the <code>JAXBContext</code> utility class to create an unmarshaler and then call the unmarshal method to convert the XML file into objects:</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance(Tree.class); // the argument is the root node\nTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;)); // Reads the XML and returns a Java object\n</code></pre>\n<p>To write, you will use the Java classes to store the data and create the structure. In this case, you will need to create the required <code>Property</code> objects, the <code>Child</code> container for the property elements, and the root node which is the <code>Tree</code> node. You  can add elements one at a time or create a list of them and add them all at once. Once the root node object is populated, simply pass it to the marshaler...</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance(Tree.class);\nMarshaller mar= context.createMarshaller();\nmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // formatting the xml file\nmar.marshal(tree, new File(&quot;abc.xml&quot;)); // saves the &quot;Tree&quot; object as &quot;abc.xml&quot;\n</code></pre>\n<h2>All together</h2>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.util.List;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\n\npublic class JAXBDemo {\n    public static void main(String[] args) {\n        try {\n            // write\n            Tree tree = new Tree();\n            Property prop0 = new Property();\n            prop0.setName(&quot;id&quot;);\n            prop0.setContent(&quot;&quot;);\n            \n            Property prop1 = new Property();\n            prop1.setName(&quot;username&quot;);\n            prop1.setContent(&quot;abc&quot;);\n            \n            Property prop2 = new Property();\n            prop2.setName(&quot;phoneType&quot;);\n            prop2.setContent(&quot;phone1&quot;);\n\n            Property prop3 = new Property();\n            prop3.setName(&quot;value&quot;);\n            prop3.setContent(&quot;123456&quot;);\n\n            List&lt;Property&gt; props1 = List.of(prop0, prop1, prop2, prop3);\n\n            Property prop4 = new Property();\n            prop4.setName(&quot;id&quot;);\n            prop4.setContent(&quot;&quot;);\n            \n            Property prop5 = new Property();\n            prop5.setName(&quot;username&quot;);\n            prop5.setContent(&quot;def&quot;);\n            \n            Property prop6 = new Property();\n            prop6.setName(&quot;phoneType&quot;);\n            prop6.setContent(&quot;phone2&quot;);\n\n            Property prop7 = new Property();\n            prop7.setName(&quot;value&quot;);\n            prop7.setContent(&quot;6789012&quot;);\n\n            List&lt;Property&gt; props2 = List.of(prop4, prop5, prop6, prop7);\n            \n            Child child1 = new Child();\n            Child child2 = new Child();\n            \n            child1.getProperty().addAll(props1);\n            child2.getProperty().addAll(props2);\n            \n            tree.getChild().add(child1);\n            tree.getChild().add(child2);\n\n            JAXBContext context = JAXBContext.newInstance(Tree.class);\n            Marshaller mar= context.createMarshaller();\n            mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            mar.marshal(tree, new File(&quot;abc.xml&quot;));\n\n            // read\n            Tree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;));\n            List&lt;Child&gt; children = xmlDoc.getChild();\n            int i = 1;\n            for (Child child : children) {\n                System.out.println(&quot;Property &quot; + i++ + &quot;:&quot;);\n                List&lt;Property&gt; props = child.getProperty();\n                for (Property prop : props) {\n                    System.out.println(&quot;Name: &quot; + prop.getName() + &quot;; Content: &quot; + prop.getContent());\n                }\n            }\n        } catch (JAXBException | FileNotFoundException e) {\n\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h2>Last notes:</h2>\n<p>To get this to work, I had to make some &quot;fixes&quot; to the distribution. The first fix was to edit the <code>xjc.bat</code> according to this post:  <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1321\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/issues/1321</a>. Scroll to the bottom to see the fix I applied.</p>\n<p>Then, I needed to update my &quot;jaxb-runtime&quot; dependency to version 2.3.3 in order for the project to work with &quot;jaxb-api&quot; version 2.3.1.</p>\n"}],"owner":{"account_id":23690682,"reputation":11,"user_id":17715064,"display_name":"Sunil Kumar Chitumalla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1643114400,"creation_date":1642437755,"question_id":70744724,"body_markdown":"I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows:\r\n\r\n     &lt;Tree&gt;\r\n      &lt;child&gt;\r\n       &lt;Property Name=&quot;id&quot;/&gt;\r\n       &lt;Property Name=&quot;username&quot;&gt;abc&lt;/Property&gt;\r\n       &lt;Property Name=&quot;phoneType&quot;&gt;phone1&lt;/Property&gt;\r\n       &lt;Property Name=&quot;value&quot;&gt;123456&lt;/Property&gt;\r\n       &lt;/child&gt;\r\n       &lt;child&gt;\r\n       &lt;Property Name=&quot;id&quot;/&gt;\r\n       &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;\r\n       &lt;Property Name=&quot;phoneType&quot;&gt;phone2&lt;/Property&gt;\r\n       &lt;Property Name=&quot;value&quot;&gt;6789012&lt;/Property&gt;\r\n       &lt;/child&gt;\r\n       &lt;/Tree&gt;\r\n\r\nI am trying to read these values as strings into my Java program, I have written this code so far:\r\n\r\n\r\n    File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(fXmlFile);\r\n    doc.getDocumentElement().normalize();\r\n\r\n    System.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\r\n    NodeList nList = doc.getElementsByTagName(&quot;child&quot;);\r\n    System.out.println(&quot;----------------------------&quot;);\r\n\r\n    for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n        Node nNode = nList.item(temp);\r\n        System.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\r\n        if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n            Element eElement = (Element) nNode;\r\n            System.out.println(&quot;id id : &quot;\r\n                               + eElement.getAttribute(&quot;id&quot;));\r\n\r\nI am struggling to read and print the values of id, username etc.","title":"How to read XML file using java","body":"<p>I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows:</p>\n<pre><code> &lt;Tree&gt;\n  &lt;child&gt;\n   &lt;Property Name=&quot;id&quot;/&gt;\n   &lt;Property Name=&quot;username&quot;&gt;abc&lt;/Property&gt;\n   &lt;Property Name=&quot;phoneType&quot;&gt;phone1&lt;/Property&gt;\n   &lt;Property Name=&quot;value&quot;&gt;123456&lt;/Property&gt;\n   &lt;/child&gt;\n   &lt;child&gt;\n   &lt;Property Name=&quot;id&quot;/&gt;\n   &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;\n   &lt;Property Name=&quot;phoneType&quot;&gt;phone2&lt;/Property&gt;\n   &lt;Property Name=&quot;value&quot;&gt;6789012&lt;/Property&gt;\n   &lt;/child&gt;\n   &lt;/Tree&gt;\n</code></pre>\n<p>I am trying to read these values as strings into my Java program, I have written this code so far:</p>\n<pre><code>File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(fXmlFile);\ndoc.getDocumentElement().normalize();\n\nSystem.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\nNodeList nList = doc.getElementsByTagName(&quot;child&quot;);\nSystem.out.println(&quot;----------------------------&quot;);\n\nfor (int temp = 0; temp &lt; nList.getLength(); temp++) {\n    Node nNode = nList.item(temp);\n    System.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\n    if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n        Element eElement = (Element) nNode;\n        System.out.println(&quot;id id : &quot;\n                           + eElement.getAttribute(&quot;id&quot;));\n</code></pre>\n<p>I am struggling to read and print the values of id, username etc.</p>\n"},{"tags":["java","android","rx-java","android-room","rx-java3"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1643103978,"post_id":70846258,"comment_id":125245151,"body_markdown":"you could very easily find answers to your questions by just doing some basic research on rxjava. if you can&#39;t integrate a piece of technology into your project, then first learn it and practice it more till you actually understand it","body":"you could very easily find answers to your questions by just doing some basic research on rxjava. if you can&#39;t integrate a piece of technology into your project, then first learn it and practice it more till you actually understand it"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643104939,"post_id":70846258,"comment_id":125245503,"body_markdown":"I invite you to share the information you have and the right approaches here. @a_local_nobody","body":"I invite you to share the information you have and the right approaches here. @a_local_nobody"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1643105853,"post_id":70846258,"comment_id":125245831,"body_markdown":"[the right approach is to do research](https://stackoverflow.com/questions/42757924/what-is-the-difference-between-observable-completable-and-single-in-rxjava)","body":"<a href=\"https://stackoverflow.com/questions/42757924/what-is-the-difference-between-observable-completable-and-single-in-rxjava\">the right approach is to do research</a>"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643106832,"post_id":70846258,"comment_id":125246216,"body_markdown":"Sorry but there is not enough information. It needs to be explained with examples.. Apart from this, how we will use it in service, the value of observeOn needs to be explained as well.","body":"Sorry but there is not enough information. It needs to be explained with examples.. Apart from this, how we will use it in service, the value of observeOn needs to be explained as well."},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643108932,"post_id":70846258,"comment_id":125247068,"body_markdown":"I created this thread to learn. I&#39;m sure it will be useful for everyone because there are not enough resources.. Please comment without insulting.","body":"I created this thread to learn. I&#39;m sure it will be useful for everyone because there are not enough resources.. Please comment without insulting."}],"owner":{"display_name":"user17115124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643113912,"creation_date":1643103045,"question_id":70846258,"body_markdown":"After parsing the JSON data with the help of Volley library, I want to save it to Room. Since the process was taking too long (about 45 seconds) I put this inside a Service. In the same way, I was using AsyncTask to prevent the insert operation from freezing the interface. However, I decided to use RxJava because it is deprecated, but I did not understand most things. Can you help to create useful content?\r\n\r\nHere are some questions;\r\n\r\n - In which case we should use Observable and in which case Single structure?\r\n - ```.observeOn(AndroidSchedulers.mainThread())``` if we don&#39;t have work with mainThread, like in my example (running in service) then what should we do?\r\n - Do you really need it? I mean, we could handle this very easily with a really complicated AsyncTask.\r\n\r\n\r\nPlease share your knowledge (in Java please) make it a good article for readers\r\n\r\n\r\nThanks in advance\r\n\r\n ```\r\n\r\npublic class ScheduledService extends Service {\r\nFoodDatabase appDatabase;\r\nList&lt;FoodArray&gt; foodsArray;\r\n\r\n  @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        foodsArray = new ArrayList&lt;&gt;();\r\n\r\n        appDatabase = Room.databaseBuilder(this, FoodDatabase.class, &quot;FoodListDatabase_TEST.db&quot;)\r\n                .fallbackToDestructiveMigration()\r\n                .allowMainThreadQueries()\r\n                .build();\r\n\r\n\r\n\r\n        getFoodRequest();\r\n}\r\n\r\n\r\n\r\n    public void getFoodRequest() {\r\n        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;--------------------------------&quot;);\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;) JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET,\r\n                Constant.FOOD_LIST_JSON, null,\r\n                response -&gt; {\r\n                    long start = System.currentTimeMillis();\r\n                    try {\r\n                        JSONArray jsonArray = response.getJSONArray(&quot;MyData&quot;);\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            JSONObject object = jsonArray.getJSONObject(i);\r\n                            FoodArray foodArray = new FoodArray();\r\n\r\n                            List&lt;FoodUnitsData&gt; foodUnitList = new ArrayList&lt;&gt;();\r\n                            FoodsData foodsData = new FoodsData();\r\n\r\n                            foodsData.setFoodId(object.getString(&quot;food_id&quot;));\r\n                            foodsData.setFoodName(object.getString(&quot;food_name&quot;));\r\n                            foodsData.setFoodImage(object.getString(&quot;food_image&quot;));\r\n                            foodsData.setFoodUrl(object.getString(&quot;food_url&quot;));\r\n                            foodsData.setFoodKcal(object.getString(&quot;food_kcal&quot;));\r\n                            foodsData.setFoodDescription(object.getString(&quot;food_description&quot;));\r\n                            foodsData.setCarbPercent(object.getString(&quot;carb_percent&quot;));\r\n                            foodsData.setProteinPercent(object.getString(&quot;protein_percent&quot;));\r\n                            foodsData.setFatPercent(object.getString(&quot;fat_percent&quot;));\r\n\r\n\r\n                            JSONArray jsonUnitsArray = object.getJSONArray(&quot;units&quot;);\r\n\r\n                            for (int k = 0; k &lt; jsonUnitsArray.length(); k++) {\r\n                                JSONObject unitobject = jsonUnitsArray.getJSONObject(k);\r\n\r\n                                FoodUnitsData foodUnitData = new FoodUnitsData();\r\n                                foodUnitData.setUnit(unitobject.getString(&quot;unit&quot;));\r\n                                foodUnitData.setAmount(unitobject.getString(&quot;amount&quot;));\r\n                                foodUnitData.setCalory(unitobject.getString(&quot;calory&quot;));\r\n                                foodUnitData.setCalcium(unitobject.getString(&quot;calcium&quot;));\r\n                                foodUnitData.setCarbohydrt(unitobject.getString(&quot;carbohydrt&quot;));\r\n                                foodUnitData.setCholestrl(unitobject.getString(&quot;cholestrl&quot;));\r\n                                foodUnitData.setFiberTd(unitobject.getString(&quot;fiber_td&quot;));\r\n                                foodUnitData.setIron(unitobject.getString(&quot;iron&quot;));\r\n                                foodUnitData.setLipidTot(unitobject.getString(&quot;lipid_tot&quot;));\r\n                                foodUnitData.setPotassium(unitobject.getString(&quot;potassium&quot;));\r\n                                foodUnitData.setProtein(unitobject.getString(&quot;protein&quot;));\r\n                                foodUnitData.setVitAIu(unitobject.getString(&quot;vit_a_iu&quot;));\r\n                                foodUnitData.setVitC(unitobject.getString(&quot;vit_c&quot;));\r\n                                foodUnitList.add(foodUnitData);\r\n                            }\r\n                            foodArray.setFoods(foodsData);\r\n                            foodArray.setFoodUnits(foodUnitList);\r\n                          foodsArray.add(foodArray);\r\n                            //insertData(foodArray);\r\n\r\n                        }\r\n                    \r\n\r\n\r\n\r\n                        insertData(foodsArray);\r\n\r\n                        long finish = System.currentTimeMillis();\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + (finish - start));\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + &quot;******************\\n&quot;);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        Log.d(&quot;TAG_JSON_FOOD&quot;, &quot;e:&quot; + e);\r\n                    }\r\n                }, error -&gt; {\r\n            Log.d(&quot;TAG_JSON_FOOD&quot;, error.toString());\r\n        });\r\n        jsonObjectRequest.setShouldCache(false);\r\n        jsonObjectRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        RequestQueue request_queue = Volley.newRequestQueue(context);\r\n        request_queue.add(jsonObjectRequest);\r\n    }\r\n\r\n\r\n\r\n    private void insertData(List&lt;FoodArray&gt; foodArray) {\r\n        Observable.fromCallable(() -&gt; {\r\n            for (int i = 0; i &lt; foodArray.size(); i++) {\r\n                appDatabase.daoAccess().insertAll(foodArray.get(i));\r\n            }\r\n            return appDatabase.daoAccess().getAll();\r\n        })\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(new Observer&lt; List&lt;FoodArray&gt;&gt;() {\r\n                    @Override\r\n                    public void onSubscribe(@NonNull Disposable d) {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***dis*****&quot;+ d);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNext(@NonNull  List&lt;FoodArray&gt; list) {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***size*****&quot;+ list.size());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull Throwable e) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onComplete() {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***complete*****&quot;);\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n\r\npublic void test(){\r\n        Single.just(foodArray)\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(new DisposableSingleObserver&lt;Object&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Object obj) {\r\n                        // work with the resulting todos...\r\n                        dispose();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(Throwable e) {\r\n                        // handle the error case...\r\n                        dispose();\r\n                    }});\r\n\r\n}\r\n\r\n}\r\n ```\r\n\r\n\r\nError\r\n```\r\n\r\n@Override\r\npublic void onComplete() {\r\n    Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;***complete*****&quot;);\r\n     ///onDestroy();\r\n}\r\n```","title":"How to use RxJava inside Service in Android?","body":"<p>After parsing the JSON data with the help of Volley library, I want to save it to Room. Since the process was taking too long (about 45 seconds) I put this inside a Service. In the same way, I was using AsyncTask to prevent the insert operation from freezing the interface. However, I decided to use RxJava because it is deprecated, but I did not understand most things. Can you help to create useful content?</p>\n<p>Here are some questions;</p>\n<ul>\n<li>In which case we should use Observable and in which case Single structure?</li>\n<li><code>.observeOn(AndroidSchedulers.mainThread())</code> if we don't have work with mainThread, like in my example (running in service) then what should we do?</li>\n<li>Do you really need it? I mean, we could handle this very easily with a really complicated AsyncTask.</li>\n</ul>\n<p>Please share your knowledge (in Java please) make it a good article for readers</p>\n<p>Thanks in advance</p>\n<pre><code>\npublic class ScheduledService extends Service {\nFoodDatabase appDatabase;\nList&lt;FoodArray&gt; foodsArray;\n\n @Override\n   public void onCreate() {\n       super.onCreate();\n\n       foodsArray = new ArrayList&lt;&gt;();\n\n       appDatabase = Room.databaseBuilder(this, FoodDatabase.class, &quot;FoodListDatabase_TEST.db&quot;)\n               .fallbackToDestructiveMigration()\n               .allowMainThreadQueries()\n               .build();\n\n\n\n       getFoodRequest();\n}\n\n\n\n   public void getFoodRequest() {\n       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;--------------------------------&quot;);\n       @SuppressLint(&quot;SetJavaScriptEnabled&quot;) JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET,\n               Constant.FOOD_LIST_JSON, null,\n               response -&gt; {\n                   long start = System.currentTimeMillis();\n                   try {\n                       JSONArray jsonArray = response.getJSONArray(&quot;MyData&quot;);\n                       for (int i = 0; i &lt; jsonArray.length(); i++) {\n                           JSONObject object = jsonArray.getJSONObject(i);\n                           FoodArray foodArray = new FoodArray();\n\n                           List&lt;FoodUnitsData&gt; foodUnitList = new ArrayList&lt;&gt;();\n                           FoodsData foodsData = new FoodsData();\n\n                           foodsData.setFoodId(object.getString(&quot;food_id&quot;));\n                           foodsData.setFoodName(object.getString(&quot;food_name&quot;));\n                           foodsData.setFoodImage(object.getString(&quot;food_image&quot;));\n                           foodsData.setFoodUrl(object.getString(&quot;food_url&quot;));\n                           foodsData.setFoodKcal(object.getString(&quot;food_kcal&quot;));\n                           foodsData.setFoodDescription(object.getString(&quot;food_description&quot;));\n                           foodsData.setCarbPercent(object.getString(&quot;carb_percent&quot;));\n                           foodsData.setProteinPercent(object.getString(&quot;protein_percent&quot;));\n                           foodsData.setFatPercent(object.getString(&quot;fat_percent&quot;));\n\n\n                           JSONArray jsonUnitsArray = object.getJSONArray(&quot;units&quot;);\n\n                           for (int k = 0; k &lt; jsonUnitsArray.length(); k++) {\n                               JSONObject unitobject = jsonUnitsArray.getJSONObject(k);\n\n                               FoodUnitsData foodUnitData = new FoodUnitsData();\n                               foodUnitData.setUnit(unitobject.getString(&quot;unit&quot;));\n                               foodUnitData.setAmount(unitobject.getString(&quot;amount&quot;));\n                               foodUnitData.setCalory(unitobject.getString(&quot;calory&quot;));\n                               foodUnitData.setCalcium(unitobject.getString(&quot;calcium&quot;));\n                               foodUnitData.setCarbohydrt(unitobject.getString(&quot;carbohydrt&quot;));\n                               foodUnitData.setCholestrl(unitobject.getString(&quot;cholestrl&quot;));\n                               foodUnitData.setFiberTd(unitobject.getString(&quot;fiber_td&quot;));\n                               foodUnitData.setIron(unitobject.getString(&quot;iron&quot;));\n                               foodUnitData.setLipidTot(unitobject.getString(&quot;lipid_tot&quot;));\n                               foodUnitData.setPotassium(unitobject.getString(&quot;potassium&quot;));\n                               foodUnitData.setProtein(unitobject.getString(&quot;protein&quot;));\n                               foodUnitData.setVitAIu(unitobject.getString(&quot;vit_a_iu&quot;));\n                               foodUnitData.setVitC(unitobject.getString(&quot;vit_c&quot;));\n                               foodUnitList.add(foodUnitData);\n                           }\n                           foodArray.setFoods(foodsData);\n                           foodArray.setFoodUnits(foodUnitList);\n                         foodsArray.add(foodArray);\n                           //insertData(foodArray);\n\n                       }\n                   \n\n\n\n                       insertData(foodsArray);\n\n                       long finish = System.currentTimeMillis();\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + (finish - start));\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + &quot;******************\\n&quot;);\n                   } catch (JSONException e) {\n                       e.printStackTrace();\n                       Log.d(&quot;TAG_JSON_FOOD&quot;, &quot;e:&quot; + e);\n                   }\n               }, error -&gt; {\n           Log.d(&quot;TAG_JSON_FOOD&quot;, error.toString());\n       });\n       jsonObjectRequest.setShouldCache(false);\n       jsonObjectRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n       RequestQueue request_queue = Volley.newRequestQueue(context);\n       request_queue.add(jsonObjectRequest);\n   }\n\n\n\n   private void insertData(List&lt;FoodArray&gt; foodArray) {\n       Observable.fromCallable(() -&gt; {\n           for (int i = 0; i &lt; foodArray.size(); i++) {\n               appDatabase.daoAccess().insertAll(foodArray.get(i));\n           }\n           return appDatabase.daoAccess().getAll();\n       })\n               .subscribeOn(Schedulers.io())\n               .observeOn(AndroidSchedulers.mainThread())\n               .subscribe(new Observer&lt; List&lt;FoodArray&gt;&gt;() {\n                   @Override\n                   public void onSubscribe(@NonNull Disposable d) {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***dis*****&quot;+ d);\n                   }\n\n                   @Override\n                   public void onNext(@NonNull  List&lt;FoodArray&gt; list) {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***size*****&quot;+ list.size());\n                   }\n\n                   @Override\n                   public void onError(@NonNull Throwable e) {\n\n                   }\n\n                   @Override\n                   public void onComplete() {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***complete*****&quot;);\n                   }\n               });\n\n   }\n\n\npublic void test(){\n       Single.just(foodArray)\n               .subscribeOn(Schedulers.io())\n               .subscribe(new DisposableSingleObserver&lt;Object&gt;() {\n                   @Override\n                   public void onSuccess(Object obj) {\n                       // work with the resulting todos...\n                       dispose();\n                   }\n\n                   @Override\n                   public void onError(Throwable e) {\n                       // handle the error case...\n                       dispose();\n                   }});\n\n}\n\n}\n</code></pre>\n<p>Error</p>\n<pre><code>\n@Override\npublic void onComplete() {\n    Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;***complete*****&quot;);\n     ///onDestroy();\n}\n</code></pre>\n"},{"tags":["java","mongodb","docker-compose","quarkus","mongodb-replica-set"],"comments":[{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":0,"creation_date":1643130918,"post_id":70848609,"comment_id":125256280,"body_markdown":"Did you modify your hosts file ?\nBecause the hostnames mongo1, mongo2, mongo3 are only resolvable from the Docker network so if you launch your apps out of the docker compose you should use localhost or modify your hosts file.","body":"Did you modify your hosts file ? Because the hostnames mongo1, mongo2, mongo3 are only resolvable from the Docker network so if you launch your apps out of the docker compose you should use localhost or modify your hosts file."},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643140611,"post_id":70848609,"comment_id":125260053,"body_markdown":"Yes, I did indeed updated my host file with an entry per hostname, like: mongo1          127.0.0.1. But I am not launching my app from the docker compose and that is actually complicating things and resulting in the above &#39;error&#39; scenario.","body":"Yes, I did indeed updated my host file with an entry per hostname, like: mongo1          127.0.0.1. But I am not launching my app from the docker compose and that is actually complicating things and resulting in the above &#39;error&#39; scenario."},{"owner":{"account_id":8951169,"reputation":1540,"user_id":6677127,"display_name":"JJussi"},"score":0,"creation_date":1643142025,"post_id":70848609,"comment_id":125260532,"body_markdown":"Check your configurations port numbers!  mongo3:27023 vs. mongo3:27017  (and same with nodes 2 and 1).  mongod process must (of course) run on same port what you configure in connection string AND rs.conf()","body":"Check your configurations port numbers!  mongo3:27023 vs. mongo3:27017  (and same with nodes 2 and 1).  mongod process must (of course) run on same port what you configure in connection string AND rs.conf()"},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643143258,"post_id":70848609,"comment_id":125260928,"body_markdown":"I aligned them, but no luck unfortunately. Running into another exception thenL com.mongodb.MongoSocketReadException: Prematurely reached end of stream. Note that I am running the Mongo replica set containerised locally (configured via Docker Compose), but not the application itself connecting to the replica set, which is just configured to run locally.","body":"I aligned them, but no luck unfortunately. Running into another exception thenL com.mongodb.MongoSocketReadException: Prematurely reached end of stream. Note that I am running the Mongo replica set containerised locally (configured via Docker Compose), but not the application itself connecting to the replica set, which is just configured to run locally."}],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643113837,"creation_date":1643113520,"question_id":70848609,"body_markdown":"I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following logs as soon as I try to access the database via the application:\r\n\r\n    2022-01-25 13:18:30,299 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo3:27023) Canonical address mongo3:27017 does not match server address.  Removing mongo3:27023 from client view of cluster\r\n    2022-01-25 13:18:30,303 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo2:27022) Canonical address mongo2:27017 does not match server address.  Removing mongo2:27022 from client view of cluster\r\n    2022-01-25 13:18:30,306 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo1:27021) Server mongo1:27021 is no longer a member of the replica set.  Removing from client view of cluster.\r\n\r\nWhich eventually leads to a ConnectionException to be thrown and the following error log:\r\n\r\n    \r\n    2022-01-25 13:18:35,304 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@4fe08d8a. Client view of cluster state is {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}])\r\n\r\nFor some reason it seems to automatically remove the node from the client view when the application tries to connect to the database for reading/retrieving data. I am wondering what goes wrong here?\r\n\r\nI simply followed this guide for setting up a replica set in MongoDB with Docker Compose: https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/. Note that the application is able to successfully connect to the database when I create a non-containerised replica set (as also explained in the same tutorial). I \r\n therefore have the feeling that this issue is occurring due to something being misconfigured with my containerised setup.\r\n\r\nThis is the connection string that I am using in my Quarkus application:\r\n\r\n    quarkus:\r\n        mongodb:\r\n            connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\r\n\r\n\r\nThese are the dependencies used by my Quarkus application (version 2.6.2):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Connecting to containerised MongoDB replica set with Docker results in &quot;Canonical address ... does not match server address.&quot;","body":"<p>I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following logs as soon as I try to access the database via the application:</p>\n<pre><code>2022-01-25 13:18:30,299 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo3:27023) Canonical address mongo3:27017 does not match server address.  Removing mongo3:27023 from client view of cluster\n2022-01-25 13:18:30,303 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo2:27022) Canonical address mongo2:27017 does not match server address.  Removing mongo2:27022 from client view of cluster\n2022-01-25 13:18:30,306 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo1:27021) Server mongo1:27021 is no longer a member of the replica set.  Removing from client view of cluster.\n</code></pre>\n<p>Which eventually leads to a ConnectionException to be thrown and the following error log:</p>\n<pre><code>2022-01-25 13:18:35,304 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@4fe08d8a. Client view of cluster state is {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}])\n</code></pre>\n<p>For some reason it seems to automatically remove the node from the client view when the application tries to connect to the database for reading/retrieving data. I am wondering what goes wrong here?</p>\n<p>I simply followed this guide for setting up a replica set in MongoDB with Docker Compose: <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/</a>. Note that the application is able to successfully connect to the database when I create a non-containerised replica set (as also explained in the same tutorial). I\ntherefore have the feeling that this issue is occurring due to something being misconfigured with my containerised setup.</p>\n<p>This is the connection string that I am using in my Quarkus application:</p>\n<pre><code>quarkus:\n    mongodb:\n        connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\n</code></pre>\n<p>These are the dependencies used by my Quarkus application (version 2.6.2):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mongodb","quarkus","replicaset","mongodb-replica-set"],"comments":[{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1643048580,"post_id":70835099,"comment_id":125231547,"body_markdown":"How is the `mongod` engine (the server) being started?  Your error is consistent with `mongod` being started *without* the `--replSet dbrs` argument.","body":"How is the <code>mongod</code> engine (the server) being started?  Your error is consistent with <code>mongod</code> being started <i>without</i> the <code>--replSet dbrs</code> argument."},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643049910,"post_id":70835099,"comment_id":125232043,"body_markdown":"I basically followed this tutorial, https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/, defining an entrypoint per container: `entrypoint: [ &quot;/usr/bin/mongod&quot;, &quot;--bind_ip_all&quot;, &quot;--replSet&quot;, &quot;dbrs&quot; ]`.","body":"I basically followed this tutorial, <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">blog.tericcabrel.com/mongodb-replica-set-docker-compose</a>, defining an entrypoint per container: <code>entrypoint: [ &quot;&#47;usr&#47;bin&#47;mongod&quot;, &quot;--bind_ip_all&quot;, &quot;--replSet&quot;, &quot;dbrs&quot; ]</code>."},{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1643050143,"post_id":70835099,"comment_id":125232123,"body_markdown":"If it is a &quot;brand new&quot; `mongod` then after it is first fired up, you must initialize the replicaset by connecting with `mongo` or `mongosh` (the CLI) *without the replicaSet argument in the connection string* as follows: `mongo --host &quot;mongodb://someMachineNameOrIP:thePort&quot; --eval &#39;rs.initiate()&#39;`","body":"If it is a &quot;brand new&quot; <code>mongod</code> then after it is first fired up, you must initialize the replicaset by connecting with <code>mongo</code> or <code>mongosh</code> (the CLI) <i>without the replicaSet argument in the connection string</i> as follows: <code>mongo --host &quot;mongodb:&#47;&#47;someMachineNameOrIP:thePort&quot; --eval &#39;rs.initiate()&#39;</code>"},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643050336,"post_id":70835099,"comment_id":125232203,"body_markdown":"That I also did and is also covered in the same tutorial where `rs.initiate(config, { force: true });` is executed as part of the `./rs-init.sh` script.","body":"That I also did and is also covered in the same tutorial where <code>rs.initiate(config, { force: true });</code> is executed as part of the <code>.&#47;rs-init.sh</code> script."}],"answers":[{"tags":[],"owner":{"account_id":8951169,"reputation":1540,"user_id":6677127,"display_name":"JJussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643091654,"creation_date":1643091654,"answer_id":70844205,"question_id":70835099,"body_markdown":"You have forgotten to tell your nodes that, they belong to a replica set!\r\nYou have two choices, command line:\r\n\r\n    mongod --replSet &quot;rs0&quot; --bind_ip localhost,&lt;hostname(s)|ip address(es)&gt;\r\n\r\nor inside of config -file\r\n\r\n    replication:\r\n       replSetName: &quot;rs0&quot;\r\n    net:\r\n       bindIp: localhost,&lt;hostname(s)|ip address(es)&gt;\r\n\r\nCheck more information from [here!][1]\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/tutorial/deploy-replica-set/","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>You have forgotten to tell your nodes that, they belong to a replica set!\nYou have two choices, command line:</p>\n<pre><code>mongod --replSet &quot;rs0&quot; --bind_ip localhost,&lt;hostname(s)|ip address(es)&gt;\n</code></pre>\n<p>or inside of config -file</p>\n<pre><code>replication:\n   replSetName: &quot;rs0&quot;\nnet:\n   bindIp: localhost,&lt;hostname(s)|ip address(es)&gt;\n</code></pre>\n<p>Check more information from <a href=\"https://docs.mongodb.com/manual/tutorial/deploy-replica-set/\" rel=\"nofollow noreferrer\">here!</a></p>\n"},{"tags":[],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643113581,"creation_date":1643106323,"answer_id":70847037,"question_id":70835099,"body_markdown":"It looks like I found the problem. I managed to get rid of that specific error  after removing Mongo on my local machine, resulting in only having Mongo as part of my containerised nodes.\r\n\r\nHowever, I am running into another issue now for which I created this post: https://stackoverflow.com/questions/70848609/connecting-to-containerised-mongodb-replica-set-with-docker-results-in-canonica.","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>It looks like I found the problem. I managed to get rid of that specific error  after removing Mongo on my local machine, resulting in only having Mongo as part of my containerised nodes.</p>\n<p>However, I am running into another issue now for which I created this post: <a href=\"https://stackoverflow.com/questions/70848609/connecting-to-containerised-mongodb-replica-set-with-docker-results-in-canonica\">Connecting to containerised MongoDB replica set with Docker results in &quot;Canonical address ... does not match server address.&quot;</a>.</p>\n"}],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847037,"answer_count":2,"score":0,"last_activity_date":1643113581,"creation_date":1643033099,"question_id":70835099,"body_markdown":"I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following error as soon as I try to access the database via the application:\r\n\r\n    2022-01-24 14:51:03,170 ERROR [org.mon.dri.cluster] (cluster- ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo1:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo1:27017 from client view of cluster.\r\n    2022-01-24 14:51:03,177 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo3:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo3:27017 from client view of cluster.\r\n    2022-01-24 14:51:03,182 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo2:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo2:27017 from client view of cluster.\r\n    2022-01-24 14:51:08,179 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@31e1baef. Client view of cluster state is {type=REPLICA_SET, servers=[])\r\n\r\nFor some reason it seems to identify my nodes as standalone, instead of replica set members, afterwhich they are getting removed from the client view of the cluster. I am wondering what goes wrong here?\r\n\r\nThis is the connection string that I am using in my Quarkus application:\r\n\r\n    quarkus:\r\n        mongodb:\r\n            connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\r\n\r\nI simply followed this guide for setting up a replica set in MongoDB with Docker Compose: https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/.\r\n\r\nThese are the dependencies used by my Quarkus application (version 2.6.2):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following error as soon as I try to access the database via the application:</p>\n<pre><code>2022-01-24 14:51:03,170 ERROR [org.mon.dri.cluster] (cluster- ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo1:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo1:27017 from client view of cluster.\n2022-01-24 14:51:03,177 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo3:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo3:27017 from client view of cluster.\n2022-01-24 14:51:03,182 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo2:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo2:27017 from client view of cluster.\n2022-01-24 14:51:08,179 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@31e1baef. Client view of cluster state is {type=REPLICA_SET, servers=[])\n</code></pre>\n<p>For some reason it seems to identify my nodes as standalone, instead of replica set members, afterwhich they are getting removed from the client view of the cluster. I am wondering what goes wrong here?</p>\n<p>This is the connection string that I am using in my Quarkus application:</p>\n<pre><code>quarkus:\n    mongodb:\n        connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\n</code></pre>\n<p>I simply followed this guide for setting up a replica set in MongoDB with Docker Compose: <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/</a>.</p>\n<p>These are the dependencies used by my Quarkus application (version 2.6.2):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":3,"creation_date":1643103574,"post_id":70846264,"comment_id":125245000,"body_markdown":"First you still need to do `split(&quot; &quot;)`. After that you can chunk the results with any method described here https://stackoverflow.com/questions/12026885/is-there-a-common-java-utility-to-break-a-list-into-batches","body":"First you still need to do <code>split(&quot; &quot;)</code>. After that you can chunk the results with any method described here <a href=\"https://stackoverflow.com/questions/12026885/is-there-a-common-java-utility-to-break-a-list-into-batches\" title=\"is there a common java utility to break a list into batches\">stackoverflow.com/questions/12026885/&hellip;</a>"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643103649,"post_id":70846264,"comment_id":125245026,"body_markdown":"@Lino I wrote - I want to get an array.","body":"@Lino I wrote - I want to get an array."},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643103843,"post_id":70846264,"comment_id":125245095,"body_markdown":"@Lino String[], sorry.","body":"@Lino String[], sorry."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643103853,"post_id":70846264,"comment_id":125245100,"body_markdown":"`split(&quot; &quot;)` would create too many unneccessary strings tho","body":"<code>split(&quot; &quot;)</code> would create too many unneccessary strings tho"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643104455,"post_id":70846264,"comment_id":125245326,"body_markdown":"@AdityaArora do you have other idea?","body":"@AdityaArora do you have other idea?"},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643104684,"post_id":70846264,"comment_id":125245410,"body_markdown":"Does this answer your question? [Splitting a string at every n-th character](https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character\">Splitting a string at every n-th character</a>"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643104805,"post_id":70846264,"comment_id":125245458,"body_markdown":"@AdityaArora No. I want to split every stirng not character.... It&#39;s just example in question.","body":"@AdityaArora No. I want to split every stirng not character.... It&#39;s just example in question."},{"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"score":0,"creation_date":1643104996,"post_id":70846264,"comment_id":125245525,"body_markdown":"are your words always only 1 character?","body":"are your words always only 1 character?"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643105025,"post_id":70846264,"comment_id":125245537,"body_markdown":"@warch no, they are multiple characters.","body":"@warch no, they are multiple characters."},{"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"score":0,"creation_date":1643105326,"post_id":70846264,"comment_id":125245653,"body_markdown":"then my solution should work","body":"then my solution should work"}],"answers":[{"tags":[],"owner":{"account_id":13897707,"reputation":87,"user_id":10034094,"display_name":"GSM"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1643103944,"creation_date":1643103677,"answer_id":70846390,"question_id":70846264,"body_markdown":"There are multiple ways you can achieve this,\r\n\r\nfor ex. let your string be \r\n\r\n```java\r\nString str = &quot;A B C D E F G H I J K L&quot;;\r\n```\r\n\r\none way to split it would be using regular expression\r\n\r\n```java\r\n java.util.Arrays.toString(str.split(&quot;(?&lt;=\\\\G....)&quot;))\r\n```\r\n\r\nhere the `....` represent how many characters in each string, another way to specify the pattern would be `.{4} `\r\n\r\nanother way would be\r\n\r\n```java\r\nIterable&lt;String&gt; strArr = Splitter.fixedLength(3).split(str );\r\n```\r\nthere could be more ways to achieve the same\r\n","title":"How to split a string every N words","body":"<p>There are multiple ways you can achieve this,</p>\n<p>for ex. let your string be</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;A B C D E F G H I J K L&quot;;\n</code></pre>\n<p>one way to split it would be using regular expression</p>\n<pre class=\"lang-java prettyprint-override\"><code> java.util.Arrays.toString(str.split(&quot;(?&lt;=\\\\G....)&quot;))\n</code></pre>\n<p>here the <code>....</code> represent how many characters in each string, another way to specify the pattern would be <code>.{4} </code></p>\n<p>another way would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterable&lt;String&gt; strArr = Splitter.fixedLength(3).split(str );\n</code></pre>\n<p>there could be more ways to achieve the same</p>\n"},{"tags":[],"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643106141,"creation_date":1643104592,"answer_id":70846613,"question_id":70846264,"body_markdown":"You could use regex for this:\r\n\r\ne.g.:\r\n\r\n        String x = &quot;AAS BASD CAFAS DAFASF EASFASF FAFSASF GA HASF IAS JAS KAS LSA&quot;;\r\n        ArrayList&lt;String&gt; found = new ArrayList&lt;&gt;();\r\n        Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;);\r\n        Matcher m = pattern.matcher(x);\r\n        while (m.find()) {\r\n            String s = m.group();\r\n            found.add(s);\r\n        }\r\n\r\n        //if you want to convert your List to an Array\r\n        String[] result = found.toArray(new String[0]);\r\n        System.out.println(Arrays.toString(result));\r\n\r\nResult: `[AAS BASD CAFAS DAFASF, EASFASF FAFSASF GA HASF, IAS JAS KAS LSA]`\r\n\r\nThis pattern (`&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;`) matches 4 words separated by one space. The loop iterates over every found match and adds it to your result list.","title":"How to split a string every N words","body":"<p>You could use regex for this:</p>\n<p>e.g.:</p>\n<pre><code>    String x = &quot;AAS BASD CAFAS DAFASF EASFASF FAFSASF GA HASF IAS JAS KAS LSA&quot;;\n    ArrayList&lt;String&gt; found = new ArrayList&lt;&gt;();\n    Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;);\n    Matcher m = pattern.matcher(x);\n    while (m.find()) {\n        String s = m.group();\n        found.add(s);\n    }\n\n    //if you want to convert your List to an Array\n    String[] result = found.toArray(new String[0]);\n    System.out.println(Arrays.toString(result));\n</code></pre>\n<p>Result: <code>[AAS BASD CAFAS DAFASF, EASFASF FAFSASF GA HASF, IAS JAS KAS LSA]</code></p>\n<p>This pattern (<code>&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;</code>) matches 4 words separated by one space. The loop iterates over every found match and adds it to your result list.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643108421,"creation_date":1643106099,"answer_id":70846962,"question_id":70846264,"body_markdown":"You can create a regex that describes this pattern.\r\ne.g. `&quot;((?:\\w+\\s*){4})&quot;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr in simple words:\r\n\r\n - The `\\w+\\s*` part means that there are 1 or multiple word-characters (e.g. text, digits) followed by 0, 1 or multiple whitespace characters.\r\n\r\n - It is surrounded in braces and followed by `{4}` to indicate that we want this to occur 4 times. \r\n\r\n - Finally that again is wrapped in braces, because we want to capture that result.\r\n\r\n - By contrast the braces which were used to specify `{4}` are preceded by a `(?: ...)` prefix, which makes it a &quot;non-capturing-group&quot;. We don&#39;t want to capture the individual matches just yet.\r\n\r\nYou can use that pattern in java to extract each chunk of 4 occurrences.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n And than next, you can simply split each individual result with a second regex, `\\s+` ( = whitespace)\r\n\r\n# Edit\r\n\r\nOne more thing, you may notice that the first matched group also contains whitespace at the end. You can get rid of that with a more advanced regex: `((?:\\w+\\s+){3}(?:\\w+))\\s*`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0DutT.png\r\n  [2]: https://i.stack.imgur.com/YsDVQ.png\r\n  [3]: https://i.stack.imgur.com/IaZuS.png\r\n  [4]: https://i.stack.imgur.com/w3Frw.png","title":"How to split a string every N words","body":"<p>You can create a regex that describes this pattern.\ne.g. <code>&quot;((?:\\w+\\s*){4})&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/0DutT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0DutT.png\" alt=\"enter image description here\" /></a></p>\n<p>Or in simple words:</p>\n<ul>\n<li><p>The <code>\\w+\\s*</code> part means that there are 1 or multiple word-characters (e.g. text, digits) followed by 0, 1 or multiple whitespace characters.</p>\n</li>\n<li><p>It is surrounded in braces and followed by <code>{4}</code> to indicate that we want this to occur 4 times.</p>\n</li>\n<li><p>Finally that again is wrapped in braces, because we want to capture that result.</p>\n</li>\n<li><p>By contrast the braces which were used to specify <code>{4}</code> are preceded by a <code>(?: ...)</code> prefix, which makes it a &quot;non-capturing-group&quot;. We don't want to capture the individual matches just yet.</p>\n</li>\n</ul>\n<p>You can use that pattern in java to extract each chunk of 4 occurrences.</p>\n<p><a href=\"https://i.stack.imgur.com/YsDVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YsDVQ.png\" alt=\"enter image description here\" /></a></p>\n<p>And than next, you can simply split each individual result with a second regex, <code>\\s+</code> ( = whitespace)</p>\n<h1>Edit</h1>\n<p>One more thing, you may notice that the first matched group also contains whitespace at the end. You can get rid of that with a more advanced regex: <code>((?:\\w+\\s+){3}(?:\\w+))\\s*</code></p>\n<p><a href=\"https://i.stack.imgur.com/w3Frw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3Frw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643113440,"accepted_answer_id":70846962,"answer_count":3,"score":0,"last_activity_date":1643113494,"creation_date":1643103078,"question_id":70846264,"body_markdown":"I want to split one big string into smaller parts, so given for example:\r\n\r\n    &quot;A B C D E F G H I J K L&quot;\r\n\r\nI want to get array (String []): `[A,B,C,D], [E,F,G,H], [I,J,K,L]`\r\n\r\nIs there any regex for that or I need to do that manually so first to split every space and then concat every N words. ??","title":"How to split a string every N words","body":"<p>I want to split one big string into smaller parts, so given for example:</p>\n<pre><code>&quot;A B C D E F G H I J K L&quot;\n</code></pre>\n<p>I want to get array (String []): <code>[A,B,C,D], [E,F,G,H], [I,J,K,L]</code></p>\n<p>Is there any regex for that or I need to do that manually so first to split every space and then concat every N words. ??</p>\n"},{"tags":["java","spring-boot","jpa","spring-data"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643100878,"post_id":70845715,"comment_id":125243901,"body_markdown":"I think the modeling of your database is a bit unusual. First of all you cannot check referential integrity with a foreign key constraint. You also don&#39;t have a pure relationship between this table and the other tables. Why don&#39;t you save the file_name directly on the tables user, doctor and patient?","body":"I think the modeling of your database is a bit unusual. First of all you cannot check referential integrity with a foreign key constraint. You also don&#39;t have a pure relationship between this table and the other tables. Why don&#39;t you save the file_name directly on the tables user, doctor and patient?"},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1643101071,"post_id":70845715,"comment_id":125243985,"body_markdown":"Hi, @SimonMArtinelli. This is an existing database. The relationship in this table is many to one, so a user can have multiple documents registered in this table.","body":"Hi, @SimonMArtinelli. This is an existing database. The relationship in this table is many to one, so a user can have multiple documents registered in this table."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643101123,"post_id":70845715,"comment_id":125244007,"body_markdown":"Ah now I understand because you asked about many-to-one but it&#39;s one-to-many","body":"Ah now I understand because you asked about many-to-one but it&#39;s one-to-many"},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1643101365,"post_id":70845715,"comment_id":125244097,"body_markdown":"Sorry, that&#39;s right. one to many.","body":"Sorry, that&#39;s right. one to many."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643101344,"creation_date":1643101344,"answer_id":70845921,"question_id":70845715,"body_markdown":"You can use `@Where`. But be aware that `@Where` is a Hibernate annotation. It&#39;s not in the JPA standard.\r\n\r\nFor example in the User entity: (I assume that your table is mapped to an entity called Document)\r\n\r\n    @Where( clause = &quot;fk_table = &#39;user&#39;&quot;)\r\n    @JoinColumn(name = &quot;fk_id&quot;)\r\n\t@OneToMany\r\n\tprivate List&lt;Document&gt; documents = new ArrayList&lt;&gt;( );","title":"Java entity modeling with table that relates to several others","body":"<p>You can use <code>@Where</code>. But be aware that <code>@Where</code> is a Hibernate annotation. It's not in the JPA standard.</p>\n<p>For example in the User entity: (I assume that your table is mapped to an entity called Document)</p>\n<pre><code>@Where( clause = &quot;fk_table = 'user'&quot;)\n@JoinColumn(name = &quot;fk_id&quot;)\n@OneToMany\nprivate List&lt;Document&gt; documents = new ArrayList&lt;&gt;( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643113409,"creation_date":1643113409,"answer_id":70848586,"question_id":70845715,"body_markdown":"The following is based only on standard JPA annotations. The idea is to create an inheritance hierarchy for the documents table. The base is:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;XX_DOCUMENT&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;fk_table&quot;)\r\npublic abstract class BaseDocument {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;file_name&quot;)\r\n\tprivate String fileName;\r\n}\r\n```\r\n\r\nHere we define that all entities extending this will go to the same table, with the `fk_table` column to discriminate. The entities extending it are defined as follows:\r\n\r\n```java\r\n@Entity\r\n@DiscriminatorValue(&quot;doctor&quot;)\r\npublic class DoctorDocument extends BaseDocument {\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;fk_id&quot;)\r\n\tprivate Doctor doctor;\r\n}\r\n\r\n@Entity\r\n@DiscriminatorValue(&quot;patient&quot;)\r\npublic class PatientDocument extends BaseDocument {\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;fk_id&quot;)\r\n\tprivate Patient patient;\r\n}\r\n\r\n// and so on\r\n```\r\n\r\nThe interesting thing is that we are reusing the column `fk_id` to point to the right table. From a small experiment, Hibernate seems to not have problems with it. I would suggest that you manage the DB creation another way just to be safe.\r\n\r\nThe `Doctor`, `Patient` etc need not have a common base class, e.g.:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;XX_DOCTOR&quot;)\r\npublic class Doctor {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(mappedBy = &quot;doctor&quot;)\r\n\tprivate Collection&lt;DoctorDocument&gt; documents = new ArrayList&lt;&gt;();\r\n\r\n\t// any doctor-specific fields\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;XX_PATIENT&quot;)\r\npublic class Patient {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(mappedBy = &quot;patient&quot;)\r\n\tprivate Collection&lt;PatientDocument&gt; documents = new ArrayList&lt;&gt;();\r\n\r\n\t// any patient-specific fields\r\n}\r\n\r\n// and so on\r\n```\r\n\r\nYou can read a (doctor, patient, ...)&#39;s documents from the relevant collection. You can even query `BaseDocument` instances based on any criteria.\r\n\r\nYou can even go ahead and do more fabcy stuff with the Java code. E.g. define an interface `HasDocuments`:\r\n\r\n```java\r\npublic interface HasDocuments&lt;D extends BaseDocument&gt; {\r\n\tCollection&lt;D&gt; getDocuments();\r\n}\r\n```\r\n\r\n`Doctor`, `Patient`, ..., implements this, so they can all be treated the same way.","title":"Java entity modeling with table that relates to several others","body":"<p>The following is based only on standard JPA annotations. The idea is to create an inheritance hierarchy for the documents table. The base is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;XX_DOCUMENT&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;fk_table&quot;)\npublic abstract class BaseDocument {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n}\n</code></pre>\n<p>Here we define that all entities extending this will go to the same table, with the <code>fk_table</code> column to discriminate. The entities extending it are defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@DiscriminatorValue(&quot;doctor&quot;)\npublic class DoctorDocument extends BaseDocument {\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_id&quot;)\n    private Doctor doctor;\n}\n\n@Entity\n@DiscriminatorValue(&quot;patient&quot;)\npublic class PatientDocument extends BaseDocument {\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_id&quot;)\n    private Patient patient;\n}\n\n// and so on\n</code></pre>\n<p>The interesting thing is that we are reusing the column <code>fk_id</code> to point to the right table. From a small experiment, Hibernate seems to not have problems with it. I would suggest that you manage the DB creation another way just to be safe.</p>\n<p>The <code>Doctor</code>, <code>Patient</code> etc need not have a common base class, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;XX_DOCTOR&quot;)\npublic class Doctor {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;)\n    private Collection&lt;DoctorDocument&gt; documents = new ArrayList&lt;&gt;();\n\n    // any doctor-specific fields\n}\n\n@Entity\n@Table(name = &quot;XX_PATIENT&quot;)\npublic class Patient {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;patient&quot;)\n    private Collection&lt;PatientDocument&gt; documents = new ArrayList&lt;&gt;();\n\n    // any patient-specific fields\n}\n\n// and so on\n</code></pre>\n<p>You can read a (doctor, patient, ...)'s documents from the relevant collection. You can even query <code>BaseDocument</code> instances based on any criteria.</p>\n<p>You can even go ahead and do more fabcy stuff with the Java code. E.g. define an interface <code>HasDocuments</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface HasDocuments&lt;D extends BaseDocument&gt; {\n    Collection&lt;D&gt; getDocuments();\n}\n</code></pre>\n<p><code>Doctor</code>, <code>Patient</code>, ..., implements this, so they can all be treated the same way.</p>\n"}],"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70845921,"answer_count":2,"score":0,"last_activity_date":1643113409,"creation_date":1643100399,"question_id":70845715,"body_markdown":"I have a doubt about how the modeling of my entity would be. Come on, I have a table in the database that serves to save documents from my system, this table has the columns id, fk_id (element foreign key), fk_table (entity name) and file_name (stores the name of my file) .\r\n\r\nI did a lot of research before posting my question here, but I didn&#39;t find anything related to it, what would my entities, user, patient and doctor?\r\n\r\nDB:\r\n\r\n| id | fk_id | fk_table | file_name  |\r\n|----|-------|----------|------------|\r\n| 1  | 21    | user     | test1.jpg  |\r\n| 2  | 32    | doctor   | test2.pdf  |\r\n| 3  | 61    | user     | test10.pdf |\r\n| 4  | 100   | patient  | test5.jpg  |\r\n\r\nClass:\r\n\r\n    public class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String LastName;\r\n    // What would a one-to-many relationship look like?\r\n    }\r\n    public class patient{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    // What would a one-to-many relationship look like?\r\n    }","title":"Java entity modeling with table that relates to several others","body":"<p>I have a doubt about how the modeling of my entity would be. Come on, I have a table in the database that serves to save documents from my system, this table has the columns id, fk_id (element foreign key), fk_table (entity name) and file_name (stores the name of my file) .</p>\n<p>I did a lot of research before posting my question here, but I didn't find anything related to it, what would my entities, user, patient and doctor?</p>\n<p>DB:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>fk_id</th>\n<th>fk_table</th>\n<th>file_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>21</td>\n<td>user</td>\n<td>test1.jpg</td>\n</tr>\n<tr>\n<td>2</td>\n<td>32</td>\n<td>doctor</td>\n<td>test2.pdf</td>\n</tr>\n<tr>\n<td>3</td>\n<td>61</td>\n<td>user</td>\n<td>test10.pdf</td>\n</tr>\n<tr>\n<td>4</td>\n<td>100</td>\n<td>patient</td>\n<td>test5.jpg</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Class:</p>\n<pre><code>public class User{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String firstName;\nprivate String LastName;\n// What would a one-to-many relationship look like?\n}\npublic class patient{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String firstName;\nprivate String lastName;\n// What would a one-to-many relationship look like?\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jdbctemplate","spring-transactions"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1643115949,"post_id":43611980,"comment_id":125249442,"body_markdown":"Please show how do you invoke `saveData` method","body":"Please show how do you invoke <code>saveData</code> method"}],"answers":[{"tags":[],"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493130740,"creation_date":1493130740,"answer_id":43613605,"question_id":43611980,"body_markdown":"This code does not rollback the transaction becoz the exception is not thrown back to the method.\r\n\r\n@Transactional(rollbackForClassName={&quot;Exception&quot;}) means rollback the transaction when Exception is thrown back from this method. But in your case you are catching the exception and returning a proper response hence the transaction is getting commited. Spring creates a AOP transaction advice around this method call which successfully commits if method gracefully returns, and rollbacks if exception thrown from this method.\r\n\r\n\r\nTo rollback either throw the exception from this method or move the code inside try block to a different method and annotate that method with \r\n@Transactional(rollbackForClassName={&quot;Exception&quot;})","title":"@Transactional not rolling back transaction in Spring","body":"<p>This code does not rollback the transaction becoz the exception is not thrown back to the method.</p>\n\n<p>@Transactional(rollbackForClassName={\"Exception\"}) means rollback the transaction when Exception is thrown back from this method. But in your case you are catching the exception and returning a proper response hence the transaction is getting commited. Spring creates a AOP transaction advice around this method call which successfully commits if method gracefully returns, and rollbacks if exception thrown from this method.</p>\n\n<p>To rollback either throw the exception from this method or move the code inside try block to a different method and annotate that method with \n@Transactional(rollbackForClassName={\"Exception\"})</p>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493135666,"creation_date":1493135666,"answer_id":43615529,"question_id":43611980,"body_markdown":"You need to disable `defaultAutoCommit` in `dataSource`.","title":"@Transactional not rolling back transaction in Spring","body":"<p>You need to disable <code>defaultAutoCommit</code> in <code>dataSource</code>.</p>\n"}],"owner":{"account_id":7629838,"reputation":562,"user_id":5785252,"accept_rate":19,"display_name":"Vivek Mangal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643113369,"creation_date":1493126722,"question_id":43611980,"body_markdown":"I am using Spring Jdbc and `@Transactional` annotation for a method which inserts data in the database. Snippet of code is:\r\n\r\n\t\r\n\r\n    @Transactional(rollbackForClassName={&quot;Exception&quot;})\r\n    \tpublic PreBookingResponse saveData(Tip trip, HttpServletRequest request) throws Exception {\r\n    \t\tPreBookingResponse preBookingResponse = null;\r\n    \t\ttry {\r\n    \t\t\tString bookingRefNo = &quot;89&quot;;\r\n    \t\t\ttrip.setBookingRefNo(bookingRefNo);\r\n    \t\t\tMinimumUserProfile userProfile = JwtService.getUserFromToken(request);\r\n    \t\t\tString userId = userProfile.getUserId();\r\n    \t\t\t\r\n    \t\t\tif (tripDao.saveTripData(trip, userId)) {\r\n    \t\t\t\tpreBookingResponse = new PreBookingResponse(0, &quot;&quot;);\r\n    \t\t\t\tpreBookingResponse.setBookingRefNo(bookingRefNo);\r\n    \t\t\t\tpreBookingResponse.setSearchId(trip.getSearchId());\r\n    \t\t\t\tpreBookingResponse.setId(trip.getId());\r\n    \t\t\t}\r\n    \t\t}catch(Exception e)\r\n    \t\t{\r\n    \t\t\tString errorMsg = &quot;Error occur while saving trip data due to: &quot; + e.getMessage();\r\n    \t\t\tlog.error(errorMsg);\r\n    \t\t\tpreBookingResponse = new PreBookingResponse(2, errorMsg);\r\n    \t\t\tpreBookingResponse.setBookingRefNo(trip.getBookingRefNo());\r\n    \t\t\tpreBookingResponse.setSearchId(trip.getSearchId());\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t\treturn preBookingResponse;\r\n    \t}\r\n\r\n   \r\nInside function `tripDao.saveTripData(trip, userId)` I am insrting data in more than one table. When any exception occurs while inserting data all the insertion operations should roll back but they don&#39;t.\r\n\r\nMy `spring-config.xml` is (which I am importing from another project):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- Enable Annotation based Declarative Transaction Management --&gt;\r\n    \t&lt;tx:annotation-driven proxy-target-class=&quot;true&quot;\r\n    \t\ttransaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \t\t\r\n    \t\r\n    \r\n    \t&lt;!-- Creating TransactionManager Bean, since JDBC we are creating of type \r\n    \t\tDataSourceTransactionManager --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- MySQL database connection --&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/aapi&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;!-- Changed to mysql-connector-java 5.x since 6 is in beta phase  --&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nMy build.gradle is:\r\n\r\n    buildscript {\r\n    \text {\r\n    \t\tspringBootVersion = &#39;1.5.2.RELEASE&#39;\r\n    \t}\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse-wtp&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    repositories {\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;1.5.2.RELEASE&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;1.5.2.RELEASE&#39;\r\n    \r\n    \tcompile project(&#39;:supplier-commons&#39;)\r\n        runtime project(&#39;:supplier-commons&#39;)\r\n    \r\n        compile &#39;org.springframework:spring-context:4.2.6.RELEASE&#39;\r\n        compile &#39;org.springframework:spring-webmvc:4.2.6.RELEASE&#39;\r\n        compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;5.1.6&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.7&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.7&#39;\r\n        compile group: &#39;com.typesafe.akka&#39;, name: &#39;akka-actor_2.11&#39;, version: &#39;2.4.1&#39;\r\n        compile &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n        compile group: &#39;javax.mail&#39;, name: &#39;mail&#39;, version: &#39;1.4&#39;\r\n        compile group: &#39;freemarker&#39;, name: &#39;freemarker&#39;, version: &#39;2.3.9&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-crypto&#39;, version: &#39;4.2.2.RELEASE&#39;\r\n        compile group: &#39;org.apache.commons&#39;, name: &#39;commons-email&#39;, version: &#39;1.4&#39;\r\n        compile group: &#39;com.thoughtworks.xstream&#39;, name: &#39;xstream&#39;, version: &#39;1.4.9&#39;\r\n        compile group: &#39;org.jmockit&#39;, name: &#39;jmockit&#39;, version: &#39;1.8&#39;\r\n        compile &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n    \tcompile group: &#39;com.ning&#39;, name: &#39;async-http-client&#39;, version: &#39;1.6.4&#39;\r\n    \tcompile group: &#39;org.mockito&#39;, name: &#39;mockito-all&#39;, version: &#39;1.8.4&#39;\r\n    \tcompile group: &#39;io.reactivex.rxjava2&#39;, name: &#39;rxjava&#39;, version: &#39;2.0.7&#39;\r\n     \r\n        runtime(&#39;org.springframework.boot:spring-boot-devtools&#39;)\r\n    \tcompileOnly(&#39;org.springframework.boot:spring-boot-configuration-processor&#39;)\r\n    \tcompile group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.8.8&#39;\r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-tx\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-tx&#39;, version: &#39;4.1.4.RELEASE&#39;\r\n    \t// https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence\r\n    compile group: &#39;org.eclipse.persistence&#39;, name: &#39;javax.persistence&#39;, version: &#39;2.1.0&#39;\r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;3.6.5.Final&#39;\r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-orm\r\n    compile group: &#39;org.springframework&#39;, name: &#39;spring-orm&#39;, version: &#39;4.3.8.RELEASE&#39;\r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate&#39;, version: &#39;3.2.6.ga&#39;\r\n    \t\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n       \r\n    }\r\n    \r\n    springBoot {\r\n        executable = true\r\n    }\r\n    \r\n    eclipse {\r\n    \r\n      wtp {\r\n      \tfacet {\r\n      \t\tfacet name: &#39;jst.web&#39;, version: &#39;2.4&#39;\r\n      \t}\r\n      \r\n        component {\r\n          contextPath = &#39;aggregator-api&#39;\r\n        }\r\n        \r\n      }\r\n    }\r\n\r\nWhy are the transactions not rolling back?","title":"@Transactional not rolling back transaction in Spring","body":"<p>I am using Spring Jdbc and <code>@Transactional</code> annotation for a method which inserts data in the database. Snippet of code is:</p>\n<pre><code>@Transactional(rollbackForClassName={&quot;Exception&quot;})\n    public PreBookingResponse saveData(Tip trip, HttpServletRequest request) throws Exception {\n        PreBookingResponse preBookingResponse = null;\n        try {\n            String bookingRefNo = &quot;89&quot;;\n            trip.setBookingRefNo(bookingRefNo);\n            MinimumUserProfile userProfile = JwtService.getUserFromToken(request);\n            String userId = userProfile.getUserId();\n            \n            if (tripDao.saveTripData(trip, userId)) {\n                preBookingResponse = new PreBookingResponse(0, &quot;&quot;);\n                preBookingResponse.setBookingRefNo(bookingRefNo);\n                preBookingResponse.setSearchId(trip.getSearchId());\n                preBookingResponse.setId(trip.getId());\n            }\n        }catch(Exception e)\n        {\n            String errorMsg = &quot;Error occur while saving trip data due to: &quot; + e.getMessage();\n            log.error(errorMsg);\n            preBookingResponse = new PreBookingResponse(2, errorMsg);\n            preBookingResponse.setBookingRefNo(trip.getBookingRefNo());\n            preBookingResponse.setSearchId(trip.getSearchId());\n            throw e;\n        }\n        return preBookingResponse;\n    }\n</code></pre>\n<p>Inside function <code>tripDao.saveTripData(trip, userId)</code> I am insrting data in more than one table. When any exception occurs while inserting data all the insertion operations should roll back but they don't.</p>\n<p>My <code>spring-config.xml</code> is (which I am importing from another project):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\n    \n    \n    &lt;!-- Enable Annotation based Declarative Transaction Management --&gt;\n    &lt;tx:annotation-driven proxy-target-class=&quot;true&quot;\n        transaction-manager=&quot;transactionManager&quot; /&gt;\n        \n    \n\n    &lt;!-- Creating TransactionManager Bean, since JDBC we are creating of type \n        DataSourceTransactionManager --&gt;\n    &lt;bean id=&quot;transactionManager&quot;\n        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- MySQL database connection --&gt;\n    &lt;bean id=&quot;dataSource&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/aapi&quot;&gt;&lt;/property&gt;\n        &lt;!-- Changed to mysql-connector-java 5.x since 6 is in beta phase  --&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>My build.gradle is:</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.2.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\n\napply plugin: 'java'\napply plugin: 'eclipse-wtp'\napply plugin: 'org.springframework.boot'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '1.5.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '1.5.2.RELEASE'\n\n    compile project(':supplier-commons')\n    runtime project(':supplier-commons')\n\n    compile 'org.springframework:spring-context:4.2.6.RELEASE'\n    compile 'org.springframework:spring-webmvc:4.2.6.RELEASE'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.6'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.7'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.7'\n    compile group: 'com.typesafe.akka', name: 'akka-actor_2.11', version: '2.4.1'\n    compile 'io.jsonwebtoken:jjwt:0.7.0'\n    compile group: 'javax.mail', name: 'mail', version: '1.4'\n    compile group: 'freemarker', name: 'freemarker', version: '2.3.9'\n    compile group: 'org.springframework.security', name: 'spring-security-crypto', version: '4.2.2.RELEASE'\n    compile group: 'org.apache.commons', name: 'commons-email', version: '1.4'\n    compile group: 'com.thoughtworks.xstream', name: 'xstream', version: '1.4.9'\n    compile group: 'org.jmockit', name: 'jmockit', version: '1.8'\n    compile 'io.jsonwebtoken:jjwt:0.7.0'\n    compile group: 'com.ning', name: 'async-http-client', version: '1.6.4'\n    compile group: 'org.mockito', name: 'mockito-all', version: '1.8.4'\n    compile group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.0.7'\n \n    runtime('org.springframework.boot:spring-boot-devtools')\n    compileOnly('org.springframework.boot:spring-boot-configuration-processor')\n    compile group: 'org.aspectj', name: 'aspectjweaver', version: '1.8.8'\n    // https://mvnrepository.com/artifact/org.springframework/spring-tx\n    compile group: 'org.springframework', name: 'spring-tx', version: '4.1.4.RELEASE'\n    // https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence\ncompile group: 'org.eclipse.persistence', name: 'javax.persistence', version: '2.1.0'\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\ncompile group: 'org.hibernate', name: 'hibernate-core', version: '3.6.5.Final'\n    // https://mvnrepository.com/artifact/org.springframework/spring-orm\ncompile group: 'org.springframework', name: 'spring-orm', version: '4.3.8.RELEASE'\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate\ncompile group: 'org.hibernate', name: 'hibernate', version: '3.2.6.ga'\n    \n    testCompile 'junit:junit:4.12'\n   \n}\n\nspringBoot {\n    executable = true\n}\n\neclipse {\n\n  wtp {\n    facet {\n        facet name: 'jst.web', version: '2.4'\n    }\n  \n    component {\n      contextPath = 'aggregator-api'\n    }\n    \n  }\n}\n</code></pre>\n<p>Why are the transactions not rolling back?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643106495,"creation_date":1643106094,"answer_id":70846960,"question_id":70846916,"body_markdown":"Stream over the products, convert each product to a `LineItem` and collect to a `List`.\r\n    \r\n    List&lt;SessionCreateParams.LineItem&gt; elements =\r\n        experience.getProducts()\r\n                  .stream()\r\n                  .map(p -&gt; stripeProxy.createLineItem(1L, p.getPriceId(), \r\n                                                       getTaxRate(p.getPriceId())))\r\n                  .collect(Collectors.toList());","title":"How to refactor this with Stream?","body":"<p>Stream over the products, convert each product to a <code>LineItem</code> and collect to a <code>List</code>.</p>\n<pre><code>List&lt;SessionCreateParams.LineItem&gt; elements =\n    experience.getProducts()\n              .stream()\n              .map(p -&gt; stripeProxy.createLineItem(1L, p.getPriceId(), \n                                                   getTaxRate(p.getPriceId())))\n              .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12533807,"reputation":19,"user_id":9121093,"display_name":"Dara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1643112769,"answer_count":1,"score":1,"last_activity_date":1643112943,"creation_date":1643105942,"question_id":70846916,"body_markdown":"How can refactor this with java stream?\r\n\r\n```\r\nList&lt;SessionCreateParams.LineItem&gt; elements = new ArrayList&lt;&gt;();\r\nSessionCreateParams.LineItem lineItem;\r\n\r\nfor (Product product : experience.getProducts()) {\r\n    String taxRate = getTaxRate(product.getPriceId());\r\n    lineItem = stripeProxy.createLineItem(1L, product.getPriceId(), taxRate);\r\n    elements.add(lineItem);\r\n}\r\n```","title":"How to refactor this with Stream?","body":"<p>How can refactor this with java stream?</p>\n<pre><code>List&lt;SessionCreateParams.LineItem&gt; elements = new ArrayList&lt;&gt;();\nSessionCreateParams.LineItem lineItem;\n\nfor (Product product : experience.getProducts()) {\n    String taxRate = getTaxRate(product.getPriceId());\n    lineItem = stripeProxy.createLineItem(1L, product.getPriceId(), taxRate);\n    elements.add(lineItem);\n}\n</code></pre>\n"},{"tags":["java","json","stackexchange-api"],"answers":[{"tags":[],"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1399627412,"creation_date":1399627412,"answer_id":23560986,"question_id":23560740,"body_markdown":"The content is compressed. You need to send it through an unzip stream, like\r\n\r\n    import java.util.zip.GZIPInputStream;\r\n\r\n    ...\r\n    InputStream content = response.getEntity().getContent();\r\n    content = new GZIPInputStream(content);\r\n    ...\r\n\r\nYou should also check the content encoding first, and only wrap the stream into a `GZIPInputStream` if the encoding actually **is** `gzip` - some proxies transparently already uncompress the stream.\r\n\r\nSee [SOQuery.java][1] for a complete sample, even though this is using `java.net.HttpURLConnection` rather than the apache client.\r\n\r\n\r\n  [1]: https://github.com/afester/CodeSamples/blob/master/Java/SOQuery/src/net/littletux/SOQuery.java","title":"how to decode the Stack Exchange API response","body":"<p>The content is compressed. You need to send it through an unzip stream, like</p>\n\n<pre><code>import java.util.zip.GZIPInputStream;\n\n...\nInputStream content = response.getEntity().getContent();\ncontent = new GZIPInputStream(content);\n...\n</code></pre>\n\n<p>You should also check the content encoding first, and only wrap the stream into a <code>GZIPInputStream</code> if the encoding actually <strong>is</strong> <code>gzip</code> - some proxies transparently already uncompress the stream.</p>\n\n<p>See <a href=\"https://github.com/afester/CodeSamples/blob/master/Java/SOQuery/src/net/littletux/SOQuery.java\" rel=\"nofollow\">SOQuery.java</a> for a complete sample, even though this is using <code>java.net.HttpURLConnection</code> rather than the apache client.</p>\n"}],"owner":{"account_id":3067616,"reputation":893,"user_id":2598980,"accept_rate":100,"display_name":"ravikumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23560986,"answer_count":1,"score":4,"last_activity_date":1643112550,"creation_date":1399626666,"question_id":23560740,"body_markdown":"I am trying to retrieve the response of stack exchange api like\r\n[http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow]\r\n\r\nI am using the following code  to retrieve the response\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    \r\n    public class RetrieveAllTag {\r\n    \r\n        public static void main(String... args) {\r\n    \r\n            DefaultHttpClient httpClient = new DefaultHttpClient();\r\n            HttpGet httpGet = new HttpGet(&quot;http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow&quot;);\r\n            HttpResponse response = null;\r\n    \r\n            try {\r\n                response = httpClient.execute(httpGet);\r\n                InputStream content = response.getEntity().getContent();\r\n    \r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(content,&quot;UTF-8&quot;));\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                String inputLine;\r\n                while ((inputLine = reader.readLine()) != null) {\r\n                    stringBuilder.append(inputLine);\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                }\r\n                System.out.println(stringBuilder.toString());\r\n    \r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\r\n            }\r\n            finally {\r\n                httpClient.getConnectionManager().shutdown();\r\n            }\r\n        }\r\n    }\r\n\r\nBut I am getting the response in decoded form as \r\n���n� \u0010�߅\\f]as��DՊ�I��\u0001/�m�(�\u001E�*Ʃ���Kc���\r\n\r\n\r\nI found the similar question [https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response] , \r\nbut I didn&#39;t find any answers for the question.\r\n\r\nHow to decode the api response?\r\n\r\nThanks in advance.\r\n","title":"how to decode the Stack Exchange API response","body":"<p>I am trying to retrieve the response of stack exchange api like\n[<a href=\"http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow%5d\">http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow]</a></p>\n\n<p>I am using the following code  to retrieve the response</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\n\npublic class RetrieveAllTag {\n\n    public static void main(String... args) {\n\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpGet httpGet = new HttpGet(\"http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow\");\n        HttpResponse response = null;\n\n        try {\n            response = httpClient.execute(httpGet);\n            InputStream content = response.getEntity().getContent();\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(content,\"UTF-8\"));\n            StringBuilder stringBuilder = new StringBuilder();\n            String inputLine;\n            while ((inputLine = reader.readLine()) != null) {\n                stringBuilder.append(inputLine);\n                stringBuilder.append(\"\\n\");\n            }\n            System.out.println(stringBuilder.toString());\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\n        }\n        finally {\n            httpClient.getConnectionManager().shutdown();\n        }\n    }\n}\n</code></pre>\n\n<p>But I am getting the response in decoded form as \n���n� \u0010�߅\\f]as��DՊ�I��/�m�(��*Ʃ���Kc���</p>\n\n<p>I found the similar question [<a href=\"https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response%5d\">https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response]</a> , \nbut I didn't find any answers for the question.</p>\n\n<p>How to decode the api response?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1643109315,"post_id":70847632,"comment_id":125247210,"body_markdown":"`Since the Object I use as a Key is dynamically generated I have no knowledge about it` - if you have no knowledge about it, how do you know that it properly overrides `equals` and `hashCode`? If it doesn&#39;t, you shouldn&#39;t use it as a key in a `HashMap`.","body":"<code>Since the Object I use as a Key is dynamically generated I have no knowledge about it</code> - if you have no knowledge about it, how do you know that it properly overrides <code>equals</code> and <code>hashCode</code>? If it doesn&#39;t, you shouldn&#39;t use it as a key in a <code>HashMap</code>."},{"owner":{"account_id":24048304,"reputation":1,"user_id":18027079,"display_name":"oneandonlyk"},"score":0,"creation_date":1643110518,"post_id":70847632,"comment_id":125247632,"body_markdown":"@Eran For this specific part of the code I dont always have the knowledge about it, I do override equals and hashcode for a different part of my code.","body":"@Eran For this specific part of the code I dont always have the knowledge about it, I do override equals and hashcode for a different part of my code."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1643113752,"post_id":70847632,"comment_id":125248722,"body_markdown":"Just to answer *why is that a problem?* Because `LinkedHashMap.get()` has O(n) complexity when other implementations have O(1) or O(log(n)).","body":"Just to answer <i>why is that a problem?</i> Because <code>LinkedHashMap.get()</code> has O(n) complexity when other implementations have O(1) or O(log(n))."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643112505,"creation_date":1643109681,"answer_id":70847757,"question_id":70847632,"body_markdown":"You don&#39;t need to use `get`: instead of converting the keys to an array, use `values()` instead. This works because `values()` iterates in the same order as the corresponding `keys()`:\r\n\r\n```\r\nString[] dataArr = (String[]) dataMap.values().toArray()[line];\r\n```\r\n\r\nBut you don&#39;t need to use `toArray()` either, which wastefully allocates an array containing all values, from which you only want one: you can just iterate through the values to get the thing you want:\r\n\r\n```\r\nstatic String[] nthItem(int n) {\r\n  int i = 0;\r\n  for (String[] value : dataMap.values()) {\r\n    if (i == n) return value;\r\n    ++i;\r\n  }\r\n  throw new ArrayIndexOutOfBoundsException();\r\n}\r\n```\r\n\r\nOr:\r\n\r\n```\r\nString[] dataArr = dataMap.values().stream().skip(line).findFirst().orElseThrow();\r\n```\r\n\r\n(Existing implementations of this sort of thing can be found in commonly-used libraries, e.g. [Guava&#39;s `Iterables.get`](https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-))","title":"Suspicious call to &#39;LinkedHashMap.get&#39;","body":"<p>You don't need to use <code>get</code>: instead of converting the keys to an array, use <code>values()</code> instead. This works because <code>values()</code> iterates in the same order as the corresponding <code>keys()</code>:</p>\n<pre><code>String[] dataArr = (String[]) dataMap.values().toArray()[line];\n</code></pre>\n<p>But you don't need to use <code>toArray()</code> either, which wastefully allocates an array containing all values, from which you only want one: you can just iterate through the values to get the thing you want:</p>\n<pre><code>static String[] nthItem(int n) {\n  int i = 0;\n  for (String[] value : dataMap.values()) {\n    if (i == n) return value;\n    ++i;\n  }\n  throw new ArrayIndexOutOfBoundsException();\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>String[] dataArr = dataMap.values().stream().skip(line).findFirst().orElseThrow();\n</code></pre>\n<p>(Existing implementations of this sort of thing can be found in commonly-used libraries, e.g. <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-\" rel=\"nofollow noreferrer\">Guava's <code>Iterables.get</code></a>)</p>\n"}],"owner":{"account_id":24048304,"reputation":1,"user_id":18027079,"display_name":"oneandonlyk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847757,"answer_count":1,"score":0,"last_activity_date":1643112505,"creation_date":1643109091,"question_id":70847632,"body_markdown":"Hello I have the following code\r\n```java\r\npublic static LinkedHashMap&lt;Object, String[]&gt; dataMap = new LinkedHashMap&lt;&gt;();\r\n\r\npublic static void parseDataset(int line){\r\n  String[] dataArr = dataMap.get(dataMap.keySet().toArray()[line]);\r\n}\r\n```\r\nSince the Object I use as a Key is dynamically generated I have no knowledge about it so I have to find it before I can use it to get its value.\r\n\r\nThis code gives me the warning **Suspicious call to &#39;LinkedHashMap.get&#39;**, is that a problem and how would I get rid of the warning?","title":"Suspicious call to &#39;LinkedHashMap.get&#39;","body":"<p>Hello I have the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static LinkedHashMap&lt;Object, String[]&gt; dataMap = new LinkedHashMap&lt;&gt;();\n\npublic static void parseDataset(int line){\n  String[] dataArr = dataMap.get(dataMap.keySet().toArray()[line]);\n}\n</code></pre>\n<p>Since the Object I use as a Key is dynamically generated I have no knowledge about it so I have to find it before I can use it to get its value.</p>\n<p>This code gives me the warning <strong>Suspicious call to 'LinkedHashMap.get'</strong>, is that a problem and how would I get rid of the warning?</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1643105756,"post_id":70841895,"comment_id":125245798,"body_markdown":"Does this answer your question? [How to remove backslash from all columns in a Spark dataframe?](https://stackoverflow.com/questions/50714318/how-to-remove-backslash-from-all-columns-in-a-spark-dataframe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50714318/how-to-remove-backslash-from-all-columns-in-a-spark-dataframe\">How to remove backslash from all columns in a Spark dataframe?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9967691,"reputation":21,"user_id":7374878,"display_name":"sympho410"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643112423,"creation_date":1643112423,"answer_id":70848394,"question_id":70841895,"body_markdown":"You need to escape the &quot;\\\\&quot; character, so in your regexp_replace you should look for two backslash (&quot;\\\\\\\\&quot;) characters, not one. ","title":"How to remove extra Escape characters from a text column in spark dataframe","body":"<p>You need to escape the &quot;\\&quot; character, so in your regexp_replace you should look for two backslash (&quot;\\\\&quot;) characters, not one.</p>\n"}],"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643112423,"creation_date":1643068580,"question_id":70841895,"body_markdown":"My Data in a json looks like - \r\n\r\n    {&quot;text&quot;: &quot;\\&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating \\\\\\&quot;No Service\\\\\\&quot; although intermittently I do get connected.\\&quot;&quot;, &quot;created_at&quot;: &quot;\\&quot;2018-08-27 16:58:30\\&quot;&quot;, &quot;service_id&quot;: &quot;51870&quot;, &quot;category_id&quot;: &quot;249&quot;}\r\n\r\nI read this JSON Using - \r\n\r\n    val complaintsSourceRaw = spark.read.json(&quot;file:///complaints.jsonl&quot;)\r\n\r\nWhen i read the data in dataframe, it looks like \r\n\r\n    |249        |&quot;2018-08-27 16:58:30&quot;|51870     |&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating **\\&quot;No Service\\&quot;** although intermittently I do get connected.&quot;  \r\n\r\nIssue is \r\n\r\n     **\\&quot;No Service\\&quot;**  need to be like  **&quot;No Service&quot;** \r\n                 \r\n\r\nHow i am trying - \r\n\r\n    complaintsSourceRaw.withColumn(&quot;text_cleaned&quot;, functions.regexp_replace(complaintsSourceRaw.col(&quot;text&quot;), &quot;\\&quot;, &quot;&quot;));\r\n\r\nHowever \\ character excapes my &quot; and code breaks. Any idea how to acieve this?","title":"How to remove extra Escape characters from a text column in spark dataframe","body":"<p>My Data in a json looks like -</p>\n<pre><code>{&quot;text&quot;: &quot;\\&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating \\\\\\&quot;No Service\\\\\\&quot; although intermittently I do get connected.\\&quot;&quot;, &quot;created_at&quot;: &quot;\\&quot;2018-08-27 16:58:30\\&quot;&quot;, &quot;service_id&quot;: &quot;51870&quot;, &quot;category_id&quot;: &quot;249&quot;}\n</code></pre>\n<p>I read this JSON Using -</p>\n<pre><code>val complaintsSourceRaw = spark.read.json(&quot;file:///complaints.jsonl&quot;)\n</code></pre>\n<p>When i read the data in dataframe, it looks like</p>\n<pre><code>|249        |&quot;2018-08-27 16:58:30&quot;|51870     |&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating **\\&quot;No Service\\&quot;** although intermittently I do get connected.&quot;  \n</code></pre>\n<p>Issue is</p>\n<pre><code> **\\&quot;No Service\\&quot;**  need to be like  **&quot;No Service&quot;** \n             \n</code></pre>\n<p>How i am trying -</p>\n<pre><code>complaintsSourceRaw.withColumn(&quot;text_cleaned&quot;, functions.regexp_replace(complaintsSourceRaw.col(&quot;text&quot;), &quot;\\&quot;, &quot;&quot;));\n</code></pre>\n<p>However \\ character excapes my &quot; and code breaks. Any idea how to acieve this?</p>\n"},{"tags":["java","spring-boot","jdbctemplate","hikaricp"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643113333,"post_id":70848378,"comment_id":125248575,"body_markdown":"I am not really sure if this is related to the connection pool, but rather you might have a bad internet connection that is cutting off intermittently and therefore the connection gets lost and unable to reconnect, and that is why you get those errors","body":"I am not really sure if this is related to the connection pool, but rather you might have a bad internet connection that is cutting off intermittently and therefore the connection gets lost and unable to reconnect, and that is why you get those errors"},{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":0,"creation_date":1643114554,"post_id":70848378,"comment_id":125248987,"body_markdown":"Are you getting the error while trying to connect to DB via different threads ? Or is it when you are trying to run this program with a single Thread ? Trying bringing down your internet connection and then run your code with single thread. If you get the same error then probably it is because of internet connectivity as @SMA has highlighted.","body":"Are you getting the error while trying to connect to DB via different threads ? Or is it when you are trying to run this program with a single Thread ? Trying bringing down your internet connection and then run your code with single thread. If you get the same error then probably it is because of internet connectivity as @SMA has highlighted."},{"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"score":0,"creation_date":1643115406,"post_id":70848378,"comment_id":125249262,"body_markdown":"@SMA and Ashish, the app is deployed in TEST server, running with multiple pods and yes it&#39;s a multithreaded app.","body":"@SMA and Ashish, the app is deployed in TEST server, running with multiple pods and yes it&#39;s a multithreaded app."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643118921,"post_id":70848378,"comment_id":125250689,"body_markdown":"If this is an intermittent issue, (Meaning it happens sometimes), it is a network issue.  If it happens 100% of the time, it is still a network issue, but in this case its your cluster not having access to the Database server.","body":"If this is an intermittent issue, (Meaning it happens sometimes), it is a network issue.  If it happens 100% of the time, it is still a network issue, but in this case its your cluster not having access to the Database server."},{"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"score":1,"creation_date":1643119624,"post_id":70848378,"comment_id":125250985,"body_markdown":"Thank you @SMA, I&#39;ll check on network.","body":"Thank you @SMA, I&#39;ll check on network."}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643112356,"creation_date":1643112356,"question_id":70848378,"body_markdown":"My app is Springboot built in Java connecting to SQLServer 2019 using JDBCTemplate and it&#39;s deployed in tomcat server. \r\n\r\nIntermittently, I am getting below error\r\n\r\n*Message failed processing :Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host XYZ, port xxxxx has failed. Error: &quot;Connection refused (Connection refused). Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.*\r\n\r\nI tried increasing connection pool but only error % is decreasing. \r\n\r\nConfiguration class looks like below:\r\n```\r\n    @Bean\r\n\tpublic DataSource dataSource() {\r\n\t\tvar dS = new DriverManagerDataSource();\r\n\t\tdS.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\t\tdS.setUrl(dbUrl);\r\n\t\tdS.setUsername(dbUserName);\r\n\t\tdS.setPassword(dbPassword);\r\n\r\n\t\treturn dS;\r\n\t}\r\n    @Bean\r\n\tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n\t\treturn new NamedParameterJdbcTemplate(dataSource());\r\n\t}\r\n\r\n    @Bean\r\n\tpublic JdbcTemplate jdbcTemplate() {\r\n\t\treturn new JdbcTemplate(dataSource());\r\n\t}\r\n\r\n    @Bean(&quot;insertStoredProcedureCall&quot;)\r\n\tpublic SimpleJdbcCall insertStoredProcedureCall() {\r\n\r\n\t\treturn new SimpleJdbcCall(jdbcTemplate()).withSchemaName(&quot;x&quot;).withProcedureName(&quot;Add&quot;)\r\n\t\t\t\t.withoutProcedureColumnMetaDataAccess()\r\n\t\t\t\t.declareParameters(new SqlParameter(&quot;ID&quot;, Types.INTEGER),\r\n\t\t\t\t\t\tnew SqlParameter(&quot;Name&quot;, Types.NVARCHAR));\r\n\r\n\t}\r\n```\r\n\r\nI have set hikari connection in property file\r\n```\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\nspring.datasource.initialization-mode=always\r\nspring.datasource.hikari.max-lifetime=20000 \r\nspring.datasource.hikari.auto-commit=true \r\nspring.datasource.hikari.minimum-idle=5\r\nspring.datasource.hikari.maximum-pool-size=50\r\nspring.datasource.hikari.idle-timeout=30000\r\nspring.datasource.hikari.connection-timeout=30000\r\nspring.datasource.hikari.pool-name=TestHikari\r\n```\r\n\r\nDAO class looks like below\r\n```\r\nreturn namedParameterJdbcTemplate.queryForObject(sqlQuery, parameters,\r\nnew BeanPropertyRowMapper&lt;TestEntity&gt;(TestEntity.class));\r\n```\r\n\r\nPlease let me know if am missing anything or I need to increase connection pool more?","title":"Java SpringBoot - JDBCTemplate - Intermittent - TCP/IP Connection Error","body":"<p>My app is Springboot built in Java connecting to SQLServer 2019 using JDBCTemplate and it's deployed in tomcat server.</p>\n<p>Intermittently, I am getting below error</p>\n<p><em>Message failed processing :Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host XYZ, port xxxxx has failed. Error: &quot;Connection refused (Connection refused). Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.</em></p>\n<p>I tried increasing connection pool but only error % is decreasing.</p>\n<p>Configuration class looks like below:</p>\n<pre><code>    @Bean\n    public DataSource dataSource() {\n        var dS = new DriverManagerDataSource();\n        dS.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        dS.setUrl(dbUrl);\n        dS.setUsername(dbUserName);\n        dS.setPassword(dbPassword);\n\n        return dS;\n    }\n    @Bean\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(dataSource());\n    }\n\n    @Bean\n    public JdbcTemplate jdbcTemplate() {\n        return new JdbcTemplate(dataSource());\n    }\n\n    @Bean(&quot;insertStoredProcedureCall&quot;)\n    public SimpleJdbcCall insertStoredProcedureCall() {\n\n        return new SimpleJdbcCall(jdbcTemplate()).withSchemaName(&quot;x&quot;).withProcedureName(&quot;Add&quot;)\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(new SqlParameter(&quot;ID&quot;, Types.INTEGER),\n                        new SqlParameter(&quot;Name&quot;, Types.NVARCHAR));\n\n    }\n</code></pre>\n<p>I have set hikari connection in property file</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\nspring.datasource.initialization-mode=always\nspring.datasource.hikari.max-lifetime=20000 \nspring.datasource.hikari.auto-commit=true \nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.maximum-pool-size=50\nspring.datasource.hikari.idle-timeout=30000\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.pool-name=TestHikari\n</code></pre>\n<p>DAO class looks like below</p>\n<pre><code>return namedParameterJdbcTemplate.queryForObject(sqlQuery, parameters,\nnew BeanPropertyRowMapper&lt;TestEntity&gt;(TestEntity.class));\n</code></pre>\n<p>Please let me know if am missing anything or I need to increase connection pool more?</p>\n"},{"tags":["java","mysql","spring","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643093935,"creation_date":1643093935,"answer_id":70844535,"question_id":70840304,"body_markdown":"Maybe using `try` block?\r\n\r\n```\r\ntry {\r\n    // your Redis operations\r\n} catch (JedisConnectionException jce) {\r\n    return null;\r\n}\r\n```","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<p>Maybe using <code>try</code> block?</p>\n<pre><code>try {\n    // your Redis operations\n} catch (JedisConnectionException jce) {\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643111135,"creation_date":1643111135,"answer_id":70848086,"question_id":70840304,"body_markdown":"```\r\nprivate static boolean isConnected() {\r\n\t\ttry {\r\n\t\t\t// get any fake key to test connection  \r\n            ApplicationContextConfig.getBean(HashOperations.class).get(&quot;TEST&quot;, 1); \r\n\t\t\treturn true;\r\n\t\t} catch (Exception ex) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\nNote that Exception may by \r\n```RedisConnectionFailureException``` or\r\n```JedisConnectionException```\r\nSo I made it ```Exception```.   \r\nThis method is called before any Redis operations to test connectivity first.","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<pre><code>private static boolean isConnected() {\n        try {\n            // get any fake key to test connection  \n            ApplicationContextConfig.getBean(HashOperations.class).get(&quot;TEST&quot;, 1); \n            return true;\n        } catch (Exception ex) {\n            return false;\n        }\n    }\n</code></pre>\n<p>Note that Exception may by\n<code>RedisConnectionFailureException</code> or\n<code>JedisConnectionException</code>\nSo I made it <code>Exception</code>.<br />\nThis method is called before any Redis operations to test connectivity first.</p>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844535,"answer_count":2,"score":1,"last_activity_date":1643111778,"creation_date":1643057318,"question_id":70840304,"body_markdown":"We are developing an application that uses the Redis server as a cache server.   \r\nSo what We do are when a client request API it first go to Redis to get data if there is no data it returns null so the second step go to the MYSQL database to get data,\r\nBut the problem when we lose the Redis connection it returns JedisConnectionException.\r\nCan we handle this exception in configuration to return null instead of exception if there is no connection?\r\n\r\n```\r\n    @Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\t\treturn new JedisConnectionFactory();\r\n\t}\r\n\r\n\t@Bean\r\n\tRedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n\t\tRedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\treturn template;\r\n\t}\r\n\r\n\t@Bean\r\n\tHashOperations hashOperations() {\r\n\t\treturn redisTemplate().opsForHash();\r\n\t}\r\n```\r\n\r\n```\r\n    @Autowired\r\n\tprivate RedisTemplate&lt;String,Object&gt; redisTemplate;\r\n\t@Autowired\r\n\tprivate HashOperations hashOperations;\r\n\r\n\r\n\tpublic void save(User user) {\r\n\t\thashOperations.put(&quot;USER&quot;,user.getId(),user);\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getAll() {\r\n\t\tCollection users = hashOperations.entries(&quot;USER&quot;).values();\r\n\t\tif(CollectionUtils.isEmpty(users)){\r\n\t\t\t// get data from data base\r\n\t\t}\r\n\t\treturn (List&lt;User&gt;) users;\r\n\t}\r\n```\r\n","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<p>We are developing an application that uses the Redis server as a cache server.<br />\nSo what We do are when a client request API it first go to Redis to get data if there is no data it returns null so the second step go to the MYSQL database to get data,\nBut the problem when we lose the Redis connection it returns JedisConnectionException.\nCan we handle this exception in configuration to return null instead of exception if there is no connection?</p>\n<pre><code>    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        return new JedisConnectionFactory();\n    }\n\n    @Bean\n    RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n\n    @Bean\n    HashOperations hashOperations() {\n        return redisTemplate().opsForHash();\n    }\n</code></pre>\n<pre><code>    @Autowired\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\n    @Autowired\n    private HashOperations hashOperations;\n\n\n    public void save(User user) {\n        hashOperations.put(&quot;USER&quot;,user.getId(),user);\n    }\n\n    public List&lt;User&gt; getAll() {\n        Collection users = hashOperations.entries(&quot;USER&quot;).values();\n        if(CollectionUtils.isEmpty(users)){\n            // get data from data base\n        }\n        return (List&lt;User&gt;) users;\n    }\n</code></pre>\n"},{"tags":["java","image-processing","thumbnails","scalr"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1374415232,"post_id":17773072,"comment_id":25921803,"body_markdown":"Questions and answers should not rely on (external) links only, please describe the example at a minimum. Furtheemore, the only correct answers are &quot;Yes&quot; and &quot;No&quot; unless you are asking for a code example - which you shouldn&#39;t.","body":"Questions and answers should not rely on (external) links only, please describe the example at a minimum. Furtheemore, the only correct answers are &quot;Yes&quot; and &quot;No&quot; unless you are asking for a code example - which you shouldn&#39;t."},{"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"score":0,"creation_date":1374415415,"post_id":17773072,"comment_id":25921842,"body_markdown":"@owlstead Sorry, updated.","body":"@owlstead Sorry, updated."}],"answers":[{"tags":[],"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374664167,"creation_date":1374664167,"answer_id":17832249,"question_id":17773072,"body_markdown":"Nobody has idea so I will publish my solution...\r\nI decided to continue to use Scalr (I didn&#39;t checked the Thumbnailator&#39;s last version but the previous ones failed on big pictures).\r\nSo first of all I call `resize` method, and then, if sizes of the new thumbnail are bigger then given ones I call `crop` method that crops a thumbnail by the center.. The code is the following:\r\n\r\n    BufferedImage thumbnail = Scalr.resize(sourceFile, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.AUTOMATIC, destinationSize.width, destinationSize.height);\r\n    if (thumbnail.getWidth() &gt; destinationSize.width)\r\n        thumbnail = Scalr.crop(thumbnail, (thumbnail.getWidth() - destinationSize.width) / 2, 0, destinationSize.width, destinationSize.height);\r\n    else if (thumbnail.getHeight() &gt; destinationSize.height) \r\n        thumbnail = Scalr.crop(thumbnail, 0, (thumbnail.getHeight() - destinationSize.height) / 2, destinationSize.width, destinationSize.height);\r\n\r\nIt is not ideal, but at least it handles &#39;wide&#39; images after generation of thumbnails","title":"Generate thumbnail and fill empty space with color","body":"<p>Nobody has idea so I will publish my solution...\nI decided to continue to use Scalr (I didn't checked the Thumbnailator's last version but the previous ones failed on big pictures).\nSo first of all I call <code>resize</code> method, and then, if sizes of the new thumbnail are bigger then given ones I call <code>crop</code> method that crops a thumbnail by the center.. The code is the following:</p>\n\n<pre><code>BufferedImage thumbnail = Scalr.resize(sourceFile, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.AUTOMATIC, destinationSize.width, destinationSize.height);\nif (thumbnail.getWidth() &gt; destinationSize.width)\n    thumbnail = Scalr.crop(thumbnail, (thumbnail.getWidth() - destinationSize.width) / 2, 0, destinationSize.width, destinationSize.height);\nelse if (thumbnail.getHeight() &gt; destinationSize.height) \n    thumbnail = Scalr.crop(thumbnail, 0, (thumbnail.getHeight() - destinationSize.height) / 2, destinationSize.width, destinationSize.height);\n</code></pre>\n\n<p>It is not ideal, but at least it handles 'wide' images after generation of thumbnails</p>\n"},{"tags":[],"owner":{"account_id":13352471,"reputation":23,"user_id":9637261,"display_name":"Fabrizio Mazzone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643111710,"creation_date":1526303225,"answer_id":50331094,"question_id":17773072,"body_markdown":"Just done! Perhaps it can help you!    \t\r\n\r\n\tpublic static BufferedImage resizeAndCrop(BufferedImage bufferedImage) throws IOException {\r\n\r\n\t\t\tint himg = bufferedImage.getHeight();\r\n\t\t    int wimg = bufferedImage.getWidth();\r\n\r\n\t\t    double rateh = himg/dim;\r\n\t\t    double ratew = wimg/dim;\r\n\t\t    double rate = ratew;\r\n\t\t    if(rateh&gt;ratew)\r\n\t\t    rate = rateh;\r\n\t\t    \r\n\t\t    int dimhimg = (int) (himg/rate);\r\n\t\t    int dimwimg = (int) (wimg/rate);\r\n\t\t    \r\n\t\t    double startw = dim/2 - dimwimg/2;\r\n\t\t    double starth = dim/2 - dimhimg/2;\r\n\t\t    \r\n\t\t\tBufferedImage tThumbImage = new BufferedImage( dim, dim, BufferedImage.TYPE_INT_RGB );\r\n\t\t\tGraphics2D tGraphics2D = tThumbImage.createGraphics(); //create a graphics object to paint to\r\n\t\t\ttGraphics2D.setBackground( Color.WHITE );\r\n\t\t\ttGraphics2D.setPaint( Color.WHITE );\r\n\t\t\ttGraphics2D.fillRect( 0, 0, dim, dim );\r\n\t\t\ttGraphics2D.setRenderingHint( RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\ttGraphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\ttGraphics2D.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,  RenderingHints.VALUE_COLOR_RENDER_QUALITY); \r\n\t\t\ttGraphics2D.drawImage( bufferedImage, (int)startw, (int)starth, dimwimg, dimhimg, null ); //draw the image scaled\r\n\r\n\t\t\tFile ff = new File(path + &quot;jdata/tmp/prova.jpg&quot;);\r\n\t\t\tImageIO.write( tThumbImage, &quot;JPG&quot;, ff); //write the image to a file\r\n\t\t\tBufferedImage croppedContainMethod = ImageIO.read(ff);\r\n\t\t\treturn croppedContainMethod; \r\n    }\r\n\r\n\r\n\r\n","title":"Generate thumbnail and fill empty space with color","body":"<p>Just done! Perhaps it can help you!</p>\n<pre><code>public static BufferedImage resizeAndCrop(BufferedImage bufferedImage) throws IOException {\n\n        int himg = bufferedImage.getHeight();\n        int wimg = bufferedImage.getWidth();\n\n        double rateh = himg/dim;\n        double ratew = wimg/dim;\n        double rate = ratew;\n        if(rateh&gt;ratew)\n        rate = rateh;\n        \n        int dimhimg = (int) (himg/rate);\n        int dimwimg = (int) (wimg/rate);\n        \n        double startw = dim/2 - dimwimg/2;\n        double starth = dim/2 - dimhimg/2;\n        \n        BufferedImage tThumbImage = new BufferedImage( dim, dim, BufferedImage.TYPE_INT_RGB );\n        Graphics2D tGraphics2D = tThumbImage.createGraphics(); //create a graphics object to paint to\n        tGraphics2D.setBackground( Color.WHITE );\n        tGraphics2D.setPaint( Color.WHITE );\n        tGraphics2D.fillRect( 0, 0, dim, dim );\n        tGraphics2D.setRenderingHint( RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        tGraphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n        tGraphics2D.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,  RenderingHints.VALUE_COLOR_RENDER_QUALITY); \n        tGraphics2D.drawImage( bufferedImage, (int)startw, (int)starth, dimwimg, dimhimg, null ); //draw the image scaled\n\n        File ff = new File(path + &quot;jdata/tmp/prova.jpg&quot;);\n        ImageIO.write( tThumbImage, &quot;JPG&quot;, ff); //write the image to a file\n        BufferedImage croppedContainMethod = ImageIO.read(ff);\n        return croppedContainMethod; \n}\n</code></pre>\n"}],"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643111710,"creation_date":1374414949,"question_id":17773072,"body_markdown":"Is it possible to implement the [first example][1] with Scalr?\r\n\r\nMy code is the following:\r\n\r\n    BufferedImage thumbnail = Scalr.resize(ImageIO.read(sourceFile), Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_TO_WIDTH,\r\n    \t\t\t\twidth, height, Scalr.OP_ANTIALIAS);\r\n    ImageIO.write(thumbnail, destinationfile.getExtension(), destinationfile);\r\n\r\nWhat I want is to receive the image like this: \r\n![enter image description here][2] where the blue bars are the space I want to fill with the color.\r\n\r\nThank you\r\n\r\nUpdate: maybe it is possible to implement with [Thumbnailator][3]?\r\n\r\n\r\n  [1]: http://www.imagemagick.org/Usage/resize/#space_fill\r\n  [2]: http://i.stack.imgur.com/URk2o.jpg\r\n  [3]: https://code.google.com/p/thumbnailator/","title":"Generate thumbnail and fill empty space with color","body":"<p>Is it possible to implement the <a href=\"http://www.imagemagick.org/Usage/resize/#space_fill\" rel=\"nofollow noreferrer\">first example</a> with Scalr?</p>\n\n<p>My code is the following:</p>\n\n<pre><code>BufferedImage thumbnail = Scalr.resize(ImageIO.read(sourceFile), Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_TO_WIDTH,\n                width, height, Scalr.OP_ANTIALIAS);\nImageIO.write(thumbnail, destinationfile.getExtension(), destinationfile);\n</code></pre>\n\n<p>What I want is to receive the image like this: \n<img src=\"https://i.stack.imgur.com/URk2o.jpg\" alt=\"enter image description here\"> where the blue bars are the space I want to fill with the color.</p>\n\n<p>Thank you</p>\n\n<p>Update: maybe it is possible to implement with <a href=\"https://code.google.com/p/thumbnailator/\" rel=\"nofollow noreferrer\">Thumbnailator</a>?</p>\n"},{"tags":["java","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643111421,"creation_date":1643111421,"answer_id":70848155,"question_id":70847603,"body_markdown":"I&#39;m not like _entirely_ sure, but I believe you need to remove the `@Inject` annotation from the `produceB` method. Parameters of producer methods are automatically injection points, so from that perspective, the `@Inject` annotation is not necessary.\r\n\r\nWhat&#39;s worse, the `@Inject` annotation actually does something else than designate the parameters as injection points. It makes the method an _initializer method_ (this is sometimes also known as _setter injection_). This means that to fully construct an instance of `Configuration`, the CDI container has to call the `produceB` method and pass it an instance of `ClassA` (parameters of initializer methods are also injection points). But to be able to obtain an instance of `ClassA`, the container needs a fully constructed instance of `Configuration`. That&#39;s a cycle that, I believe, leads to the stack overflow you observe.\r\n\r\nTechnically, the specification forbids an initializer method to be annotated `@Produces`, so this should lead to an error during build. I guess ArC (the CDI implementation in Quarkus) doesn&#39;t check this properly, which is a bug.","title":"Stackoverflow during Beans injection in Quarkus","body":"<p>I'm not like <em>entirely</em> sure, but I believe you need to remove the <code>@Inject</code> annotation from the <code>produceB</code> method. Parameters of producer methods are automatically injection points, so from that perspective, the <code>@Inject</code> annotation is not necessary.</p>\n<p>What's worse, the <code>@Inject</code> annotation actually does something else than designate the parameters as injection points. It makes the method an <em>initializer method</em> (this is sometimes also known as <em>setter injection</em>). This means that to fully construct an instance of <code>Configuration</code>, the CDI container has to call the <code>produceB</code> method and pass it an instance of <code>ClassA</code> (parameters of initializer methods are also injection points). But to be able to obtain an instance of <code>ClassA</code>, the container needs a fully constructed instance of <code>Configuration</code>. That's a cycle that, I believe, leads to the stack overflow you observe.</p>\n<p>Technically, the specification forbids an initializer method to be annotated <code>@Produces</code>, so this should lead to an error during build. I guess ArC (the CDI implementation in Quarkus) doesn't check this properly, which is a bug.</p>\n"}],"owner":{"account_id":24048268,"reputation":1,"user_id":18027047,"display_name":"istratenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643111421,"creation_date":1643108955,"question_id":70847603,"body_markdown":"I am trying to inject two calsses ClassA and ClassB at quarkus&#39;s startup event. \r\n\r\n    public void init(@Observes StartupEvent startupEvent, ClassA a, ClassB b) throws Exception {\r\n          \r\n        }\r\n\r\nClasses:\r\n\r\n    public class ClassA {\r\n        public ClassA() {\r\n    \r\n        }\r\n    }\r\n\r\n    public class ClassB {\r\n        private final ClassA dependentClass;\r\n        public ClassB(ClassA dependentClass) {\r\n            this.dependentClass = dependentClass;\r\n        }\r\n    }\r\n\r\nProducers for these two classes are presented below:\r\n\r\n    @ApplicationScoped\r\n    public class Configuration {\r\n    \r\n        @Produces\r\n        @Singleton\r\n        public ClassA produceA() {\r\n            return new ClassA();\r\n        }\r\n    \r\n        @Inject\r\n        @Produces\r\n        @Singleton\r\n        public ClassB produceB(ClassA dependentClass) {\r\n            return new ClassB(dependentClass);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAs a result, I am getting stackoverflow error:\r\n\r\n    Caused by: java.lang.StackOverflowError\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Subclass.&lt;init&gt;(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n\r\n\r\nPlease, advise me does quarkus support such producers? If is doesn&#39;t, what is the solution for produce two dependent classes in one Configuration class? \r\nMy purpose is to place all Singleton producers in one place, but Singleton scope is not applicable for main config file due to \r\nhttps://github.com/quarkusio/quarkus/issues/3241","title":"Stackoverflow during Beans injection in Quarkus","body":"<p>I am trying to inject two calsses ClassA and ClassB at quarkus's startup event.</p>\n<pre><code>public void init(@Observes StartupEvent startupEvent, ClassA a, ClassB b) throws Exception {\n      \n    }\n</code></pre>\n<p>Classes:</p>\n<pre><code>public class ClassA {\n    public ClassA() {\n\n    }\n}\n\npublic class ClassB {\n    private final ClassA dependentClass;\n    public ClassB(ClassA dependentClass) {\n        this.dependentClass = dependentClass;\n    }\n}\n</code></pre>\n<p>Producers for these two classes are presented below:</p>\n<pre><code>@ApplicationScoped\npublic class Configuration {\n\n    @Produces\n    @Singleton\n    public ClassA produceA() {\n        return new ClassA();\n    }\n\n    @Inject\n    @Produces\n    @Singleton\n    public ClassB produceB(ClassA dependentClass) {\n        return new ClassB(dependentClass);\n    }\n}\n</code></pre>\n<p>As a result, I am getting stackoverflow error:</p>\n<pre><code>Caused by: java.lang.StackOverflowError\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.create(Unknown Source)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_Subclass.&lt;init&gt;(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\n        at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\n        at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\n        at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\n        at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n</code></pre>\n<p>Please, advise me does quarkus support such producers? If is doesn't, what is the solution for produce two dependent classes in one Configuration class?\nMy purpose is to place all Singleton producers in one place, but Singleton scope is not applicable for main config file due to\n<a href=\"https://github.com/quarkusio/quarkus/issues/3241\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/3241</a></p>\n"},{"tags":["java","android","json","postman-testcase"],"answers":[{"tags":[],"owner":{"account_id":8334235,"reputation":1964,"user_id":6261717,"accept_rate":100,"display_name":"ALUFTW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614075640,"creation_date":1614075640,"answer_id":66331237,"question_id":66330782,"body_markdown":"***tl;dr:*** **You can&#39;t unless they implemenet it on the server side.**\r\n\r\nPostman is only the client side.\r\n\r\nWhen you are sending a URL - the server reads it and have an implementation for this specific url / url + parameters in our case.\r\n\r\nIf the server have an implementation for something like `http://transport/dataservice/BusStops?BusStopCode=01012` They should expose it to you. You can&#39;t guess what is their API.","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p><em><strong>tl;dr:</strong></em> <strong>You can't unless they implemenet it on the server side.</strong></p>\n<p>Postman is only the client side.</p>\n<p>When you are sending a URL - the server reads it and have an implementation for this specific url / url + parameters in our case.</p>\n<p>If the server have an implementation for something like <code>http://transport/dataservice/BusStops?BusStopCode=01012</code> They should expose it to you. You can't guess what is their API.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643111371,"creation_date":1643111371,"answer_id":70848144,"question_id":66330782,"body_markdown":"You can filter your response data using [JSONpath Visualizer][1] in Postman.\r\n\r\nTo enable the Visualizer, please paste the following code in the Test section of Postman where you are creating your request.   \r\n\r\n```lang-javascript\r\nlet template = `\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jsonpath@1.0.2/jsonpath.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div&gt;\r\n      &lt;div&gt;\r\n        &lt;input id=&quot;filter&quot; style=&quot;width:450px;&quot; type=&quot;text&quot; placeholder=&quot;Example query: $..name.first&quot;&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;button id=&quot;resetButton&quot; style=&quot;background-color:red;color:white;&quot;&gt;Reset&lt;/button&gt;\r\n        &lt;input id=&quot;showErrors&quot; type=&quot;checkbox&quot; value=&quot;1&quot;/&gt;\r\n        &lt;span class=&quot;item-text&quot; style=&quot;font-family:courier;&quot;&gt;Show Evaluation Errors&lt;/span&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=&quot;errors&quot; style=&quot;font-family:courier;color:red;display:none;&quot;&gt;&lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;p id=&quot;content&quot; style=&quot;font-family:courier;color:green;font-size:18px;&quot;&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n&lt;script&gt;\r\npm.getData( (error, value) =&gt; { \r\n    const extractedData = jsonpath.query(value, &#39;$&#39;);\r\n    \r\n    $(function() {\r\n        $(&#39;#filter&#39;).keyup(function() {\r\n            try {\r\n                let filteredData = jsonpath.query(extractedData, $(this).val());\r\n                $(&quot;#content, #errors&quot;).empty();\r\n                $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(filteredData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n            } catch (err) {\r\n                console.info(err);\r\n                $(&quot;#errors&quot;).empty();\r\n                $(&quot;#errors&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + err + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n            }\r\n        });\r\n    });\r\n    \r\n    $( &quot;#resetButton&quot; ).click(function() {\r\n        $(&quot;#content, #errors&quot;).empty();\r\n        $(&quot;#filter&quot;).val(&#39;&#39;);\r\n        $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(extractedData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n    })\r\n})\r\n\r\n$(function() {\r\n  $(&quot;#showErrors&quot;).on(&quot;click&quot;,function() {\r\n    $(&quot;#errors&quot;).toggle(this.checked);\r\n  });\r\n});\r\n&lt;/script&gt;`\r\n\r\npm.visualizer.set(template, pm.response.json())\r\n```\r\n\r\nHere is the example. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nSample data is also provided for better understanding.   \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.postman.com/postman/workspace/postman-team-collections/documentation/1794236-eab3402a-73ab-4b3d-99c9-62a4bf180e5a\r\n  [2]: https://i.stack.imgur.com/i5kV4.png\r\n  [3]: https://i.stack.imgur.com/IljqR.png","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p>You can filter your response data using <a href=\"https://www.postman.com/postman/workspace/postman-team-collections/documentation/1794236-eab3402a-73ab-4b3d-99c9-62a4bf180e5a\" rel=\"nofollow noreferrer\">JSONpath Visualizer</a> in Postman.</p>\n<p>To enable the Visualizer, please paste the following code in the Test section of Postman where you are creating your request.</p>\n<pre class=\"lang-javascript prettyprint-override\"><code>let template = `\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jsonpath@1.0.2/jsonpath.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n      &lt;div&gt;\n        &lt;input id=&quot;filter&quot; style=&quot;width:450px;&quot; type=&quot;text&quot; placeholder=&quot;Example query: $..name.first&quot;&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;button id=&quot;resetButton&quot; style=&quot;background-color:red;color:white;&quot;&gt;Reset&lt;/button&gt;\n        &lt;input id=&quot;showErrors&quot; type=&quot;checkbox&quot; value=&quot;1&quot;/&gt;\n        &lt;span class=&quot;item-text&quot; style=&quot;font-family:courier;&quot;&gt;Show Evaluation Errors&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div id=&quot;errors&quot; style=&quot;font-family:courier;color:red;display:none;&quot;&gt;&lt;/div&gt;\n      &lt;div&gt;\n        &lt;p id=&quot;content&quot; style=&quot;font-family:courier;color:green;font-size:18px;&quot;&gt;&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script&gt;\npm.getData( (error, value) =&gt; { \n    const extractedData = jsonpath.query(value, '$');\n    \n    $(function() {\n        $('#filter').keyup(function() {\n            try {\n                let filteredData = jsonpath.query(extractedData, $(this).val());\n                $(&quot;#content, #errors&quot;).empty();\n                $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(filteredData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n            } catch (err) {\n                console.info(err);\n                $(&quot;#errors&quot;).empty();\n                $(&quot;#errors&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + err + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n            }\n        });\n    });\n    \n    $( &quot;#resetButton&quot; ).click(function() {\n        $(&quot;#content, #errors&quot;).empty();\n        $(&quot;#filter&quot;).val('');\n        $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(extractedData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n    })\n})\n\n$(function() {\n  $(&quot;#showErrors&quot;).on(&quot;click&quot;,function() {\n    $(&quot;#errors&quot;).toggle(this.checked);\n  });\n});\n&lt;/script&gt;`\n\npm.visualizer.set(template, pm.response.json())\n</code></pre>\n<p>Here is the example.</p>\n<p><a href=\"https://i.stack.imgur.com/i5kV4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5kV4.png\" alt=\"enter image description here\" /></a></p>\n<p>Sample data is also provided for better understanding.</p>\n<p><a href=\"https://i.stack.imgur.com/IljqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IljqR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20787020,"reputation":45,"user_id":15266019,"display_name":"Beginner_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66331237,"answer_count":2,"score":1,"last_activity_date":1643111371,"creation_date":1614073878,"question_id":66330782,"body_markdown":"How do I query for a particular BusStopCode from within a JSON object in a JSON array\r\n```\r\n &quot;value&quot;: [\r\n        {\r\n            &quot;BusStopCode&quot;: &quot;01012&quot;,\r\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\r\n            &quot;Description&quot;: &quot;Hotel Grand Pacific&quot;,\r\n            &quot;Latitude&quot;: 1.29684825487647,\r\n            &quot;Longitude&quot;: 103.85253591654006\r\n        },\r\n        {\r\n            &quot;BusStopCode&quot;: &quot;01013&quot;,\r\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\r\n            &quot;Description&quot;: &quot;St. Joseph&#39;s Ch&quot;,\r\n            &quot;Latitude&quot;: 1.29770970610083,\r\n            &quot;Longitude&quot;: 103.8532247463225\r\n        },\r\n       \r\n```\r\n\r\nfor example if I want to find only the first object then the bus stop code I would query is 01012\r\n\r\nmy current URL query request looks like this-\r\nhttp://transport/dataservice/BusStops?BusStopCode=01012\r\n\r\nhere **http://transport/dataservice/BusStops** is my URL\r\n\r\nand **?BusStopCode=01012** is my path","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p>How do I query for a particular BusStopCode from within a JSON object in a JSON array</p>\n<pre><code> &quot;value&quot;: [\n        {\n            &quot;BusStopCode&quot;: &quot;01012&quot;,\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\n            &quot;Description&quot;: &quot;Hotel Grand Pacific&quot;,\n            &quot;Latitude&quot;: 1.29684825487647,\n            &quot;Longitude&quot;: 103.85253591654006\n        },\n        {\n            &quot;BusStopCode&quot;: &quot;01013&quot;,\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\n            &quot;Description&quot;: &quot;St. Joseph's Ch&quot;,\n            &quot;Latitude&quot;: 1.29770970610083,\n            &quot;Longitude&quot;: 103.8532247463225\n        },\n       \n</code></pre>\n<p>for example if I want to find only the first object then the bus stop code I would query is 01012</p>\n<p>my current URL query request looks like this-\nhttp://transport/dataservice/BusStops?BusStopCode=01012</p>\n<p>here <strong>http://transport/dataservice/BusStops</strong> is my URL</p>\n<p>and <strong>?BusStopCode=01012</strong> is my path</p>\n"},{"tags":["java","unzip","zip","zipoutputstream"],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643111358,"creation_date":1643111358,"answer_id":70848140,"question_id":70838071,"body_markdown":"After much research i was able to solve 70% of the problems. Others can&#39;t be solved given the nature of how an ZipOutputStream &amp; ZipFile reads the data\r\n\r\n**Problem 1: Incorrect values returned by getSize() &amp; getCompressedSize()**\r\n\r\n*1) During Writing*\r\n\r\nI was blind to have not seen this earlier but ZipOutputStream already does compression for us and i was double compressing it by using my own inflater so i removed that code and i realized that you must specify these values only when you are using the method as STORED. else they are computed for you from the data. So refracting my zip writing code this is how it looks like\r\n\r\n       try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile2.zip&quot;)))\r\n       {  \r\n        //comment,level,method for all entries\r\n        zos.setComment(&quot;Test Zip File&quot;);\r\n        //Auto Compression\r\n        zos.setMethod(ZipOutputStream.DEFLATED);\r\n        zos.setLevel(9);\r\n        \r\n        //Creating Directories[ends with a forward slash]\r\n        {\r\n         ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \r\n         \r\n         //Give it a comment\r\n         dir1.setComment(&quot;Directory&quot;);\r\n         //Some extra data\r\n         dir1.setExtra(&quot;Hello&quot;.getBytes());\r\n         //Set Creation,Access,Modification Time\r\n         FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n         dir1.setCreationTime(time);\r\n         dir1.setLastAccessTime(time);\r\n         dir1.setLastModifiedTime(time);\r\n         \r\n         //put the entry &amp; close it\r\n         zos.putNextEntry(dir1);\r\n         zos.closeEntry();\r\n        }\r\n         \r\n        //Creating an fully compressed file inside the directory with all informtion\r\n        {\r\n          ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\r\n          \r\n          //Meta Data\r\n          {\r\n           //Give it a comment\r\n           file.setComment(&quot;A File&quot;);\r\n           //Some extra data\r\n           file.setExtra(&quot;World&quot;.getBytes());\r\n           //Set Creation,Access,Modification Time\r\n           FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n           file.setCreationTime(time);\r\n           file.setLastAccessTime(time);\r\n           file.setLastModifiedTime(time);\r\n          }\r\n        \r\n         //Byte Data\r\n         {\r\n          byte[] data=&quot;Hello World Hello World&quot;.getBytes();\r\n         \r\n          //Data\r\n          zos.putNextEntry(file);\r\n          zos.write(data);\r\n          zos.flush();\r\n         }\r\n         \r\n         //close the entry\r\n         zos.closeEntry();\r\n        }\r\n        \r\n        //finish writing the zip file without closing stream\r\n        zos.finish();\r\n       }\r\n\r\n *2)During Reading* \r\n\r\nTo get the correct size &amp; compressed size values there are 2 approaches\r\n\r\n -&gt; If you read the file using ZipFile class the values come out correctly\r\n\r\n-&gt; If you use ZipInputStream then these values are computed only after you have read all the bytes from the entry. more info             [here](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4113731)\r\n\r\n     if(!entry.isDirectory())\r\n     {\r\n      try(ByteArrayOutputStream baos=new ByteArrayOutputStream())\r\n      {\r\n       int read;\r\n       byte[] data=new byte[10];    \r\n       while((read=zipInputStream.read(data))&gt;0){baos.write(data,0,read);}\r\n       System.out.println(&quot;Data=&quot;+new String(baos.toByteArray()));\r\n      } \r\n     }\r\n     //Now these values are correct\r\n     System.out.println(&quot;CRC=&quot;+entry.getCrc());\r\n     System.out.println(&quot;Real Size=&quot;+entry.getSize());\r\n     System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\r\n\r\n**Problem 2: Incorrect Extra data**\r\n\r\nThis [post](https://stackoverflow.com/questions/54654170/what-are-the-extra-bytes-in-the-zipentry-used-for#:~:text=The%20extra%20data%20is%20a%20series%20of%20zero,describes%20some%20well%20known%20extra%20data%20record%20IDs.) pretty much explains everything\r\n\r\nHere is the code\r\n\r\n         ByteBuffer extraData = ByteBuffer.wrap(entry.getExtra()).order(ByteOrder.LITTLE_ENDIAN);\r\n         while(extraData.hasRemaining()) \r\n         {\r\n           int id = extraData.getShort() &amp; 0xffff;\r\n           int length = extraData.getShort() &amp; 0xffff;\r\n    \r\n           if(id == 0x756e) \r\n           {\r\n             int crc32 = extraData.getInt();\r\n             short permissions = extraData.getShort();\r\n             int \r\n             linkLengthOrDeviceNumbers = extraData.getInt(),\r\n             userID = extraData.getChar(),\r\n             groupID = extraData.getChar();\r\n    \r\n             ByteBuffer linkDestBuffer = extraData.slice().limit(length - 14);\r\n             String linkDestination=StandardCharsets.UTF_8.decode(linkDestBuffer).toString();\r\n           } \r\n           else\r\n           {\r\n            extraData.position(extraData.position() + length);        \r\n            byte[] ourData=new byte[extraData.remaining()];\r\n            extraData.get(ourData);\r\n    \r\n            //do stuff\r\n           }\r\n         } \r\n\r\n**Unsolved Problems**\r\n\r\nThere are still 3 values which return different results based on which method you use to read the file. I made a table of my observations per entry\r\n\r\n                                ZipFile           ZipInputStream\r\n     getCreationTime()           null             &lt;correct value&gt;\r\n    \r\n     getLastAccessTime()         null             &lt;correct value&gt;\r\n    \r\n     getComment()             &lt;correct value&gt;        null\r\n\r\nApparently from the [bug report](https://bugs.openjdk.java.net/browse/JDK-4201267#:~:text=java.util.zip%20ZipEntry%20getComment%20returns%20null%20when%20ZipInputStream%20is,All%20the%20other%20properties%20%28name%2C%20compressed%20size%2C%20crc%2C) This is expected behavior since zip file is random access and zip input stream is sequential and so they access  data differently.\r\n\r\nFrom my observations Using ZipInputStream returns the best results so i will continue to use that","title":"ZipFile : Wrong values when reading","body":"<p>After much research i was able to solve 70% of the problems. Others can't be solved given the nature of how an ZipOutputStream &amp; ZipFile reads the data</p>\n<p><strong>Problem 1: Incorrect values returned by getSize() &amp; getCompressedSize()</strong></p>\n<p><em>1) During Writing</em></p>\n<p>I was blind to have not seen this earlier but ZipOutputStream already does compression for us and i was double compressing it by using my own inflater so i removed that code and i realized that you must specify these values only when you are using the method as STORED. else they are computed for you from the data. So refracting my zip writing code this is how it looks like</p>\n<pre><code>   try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile2.zip&quot;)))\n   {  \n    //comment,level,method for all entries\n    zos.setComment(&quot;Test Zip File&quot;);\n    //Auto Compression\n    zos.setMethod(ZipOutputStream.DEFLATED);\n    zos.setLevel(9);\n    \n    //Creating Directories[ends with a forward slash]\n    {\n     ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \n     \n     //Give it a comment\n     dir1.setComment(&quot;Directory&quot;);\n     //Some extra data\n     dir1.setExtra(&quot;Hello&quot;.getBytes());\n     //Set Creation,Access,Modification Time\n     FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n     dir1.setCreationTime(time);\n     dir1.setLastAccessTime(time);\n     dir1.setLastModifiedTime(time);\n     \n     //put the entry &amp; close it\n     zos.putNextEntry(dir1);\n     zos.closeEntry();\n    }\n     \n    //Creating an fully compressed file inside the directory with all informtion\n    {\n      ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\n      \n      //Meta Data\n      {\n       //Give it a comment\n       file.setComment(&quot;A File&quot;);\n       //Some extra data\n       file.setExtra(&quot;World&quot;.getBytes());\n       //Set Creation,Access,Modification Time\n       FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n       file.setCreationTime(time);\n       file.setLastAccessTime(time);\n       file.setLastModifiedTime(time);\n      }\n    \n     //Byte Data\n     {\n      byte[] data=&quot;Hello World Hello World&quot;.getBytes();\n     \n      //Data\n      zos.putNextEntry(file);\n      zos.write(data);\n      zos.flush();\n     }\n     \n     //close the entry\n     zos.closeEntry();\n    }\n    \n    //finish writing the zip file without closing stream\n    zos.finish();\n   }\n</code></pre>\n<p><em>2)During Reading</em></p>\n<p>To get the correct size &amp; compressed size values there are 2 approaches</p>\n<p>-&gt; If you read the file using ZipFile class the values come out correctly</p>\n<p>-&gt; If you use ZipInputStream then these values are computed only after you have read all the bytes from the entry. more info             <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4113731\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code> if(!entry.isDirectory())\n {\n  try(ByteArrayOutputStream baos=new ByteArrayOutputStream())\n  {\n   int read;\n   byte[] data=new byte[10];    \n   while((read=zipInputStream.read(data))&gt;0){baos.write(data,0,read);}\n   System.out.println(&quot;Data=&quot;+new String(baos.toByteArray()));\n  } \n }\n //Now these values are correct\n System.out.println(&quot;CRC=&quot;+entry.getCrc());\n System.out.println(&quot;Real Size=&quot;+entry.getSize());\n System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\n</code></pre>\n<p><strong>Problem 2: Incorrect Extra data</strong></p>\n<p>This <a href=\"https://stackoverflow.com/questions/54654170/what-are-the-extra-bytes-in-the-zipentry-used-for#:%7E:text=The%20extra%20data%20is%20a%20series%20of%20zero,describes%20some%20well%20known%20extra%20data%20record%20IDs.\">post</a> pretty much explains everything</p>\n<p>Here is the code</p>\n<pre><code>     ByteBuffer extraData = ByteBuffer.wrap(entry.getExtra()).order(ByteOrder.LITTLE_ENDIAN);\n     while(extraData.hasRemaining()) \n     {\n       int id = extraData.getShort() &amp; 0xffff;\n       int length = extraData.getShort() &amp; 0xffff;\n\n       if(id == 0x756e) \n       {\n         int crc32 = extraData.getInt();\n         short permissions = extraData.getShort();\n         int \n         linkLengthOrDeviceNumbers = extraData.getInt(),\n         userID = extraData.getChar(),\n         groupID = extraData.getChar();\n\n         ByteBuffer linkDestBuffer = extraData.slice().limit(length - 14);\n         String linkDestination=StandardCharsets.UTF_8.decode(linkDestBuffer).toString();\n       } \n       else\n       {\n        extraData.position(extraData.position() + length);        \n        byte[] ourData=new byte[extraData.remaining()];\n        extraData.get(ourData);\n\n        //do stuff\n       }\n     } \n</code></pre>\n<p><strong>Unsolved Problems</strong></p>\n<p>There are still 3 values which return different results based on which method you use to read the file. I made a table of my observations per entry</p>\n<pre><code>                            ZipFile           ZipInputStream\n getCreationTime()           null             &lt;correct value&gt;\n\n getLastAccessTime()         null             &lt;correct value&gt;\n\n getComment()             &lt;correct value&gt;        null\n</code></pre>\n<p>Apparently from the <a href=\"https://bugs.openjdk.java.net/browse/JDK-4201267#:%7E:text=java.util.zip%20ZipEntry%20getComment%20returns%20null%20when%20ZipInputStream%20is,All%20the%20other%20properties%20%28name%2C%20compressed%20size%2C%20crc%2C\" rel=\"nofollow noreferrer\">bug report</a> This is expected behavior since zip file is random access and zip input stream is sequential and so they access  data differently.</p>\n<p>From my observations Using ZipInputStream returns the best results so i will continue to use that</p>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70848140,"answer_count":1,"score":0,"last_activity_date":1643111358,"creation_date":1643045723,"question_id":70838071,"body_markdown":"I am creating a zip file with one directory and an single compressed text file inside of it. \r\n\r\nCode to create the zip file\r\n \r\n\r\n       try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile.zip&quot;)))\r\n       {  \r\n        //comment,level,method for all entries\r\n        zos.setComment(&quot;Test Zip File&quot;);\r\n        zos.setLevel(Deflater.BEST_COMPRESSION);\r\n        zos.setMethod(Deflater.DEFLATED);\r\n        \r\n        //Creating Directories[ends with a forward slash]\r\n        {\r\n         ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \r\n         \r\n         //Give it a comment\r\n         dir1.setComment(&quot;Directory&quot;);\r\n         //Some extra data\r\n         dir1.setExtra(&quot;Hello&quot;.getBytes());\r\n         //Set Creation,Access,Modification Time\r\n         FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n         dir1.setCreationTime(time);\r\n         dir1.setLastAccessTime(time);\r\n         dir1.setLastModifiedTime(time);\r\n         \r\n         //put the entry &amp; close it\r\n         zos.putNextEntry(dir1);\r\n         zos.closeEntry();\r\n        }\r\n         \r\n        //Creating an fully compressed file inside the directory with all informtion\r\n        {\r\n          ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\r\n          \r\n          //Meta Data\r\n          {\r\n           //Give it a comment\r\n           file.setComment(&quot;A File&quot;);\r\n           //Some extra data\r\n           file.setExtra(&quot;World&quot;.getBytes());\r\n           //Set Creation,Access,Modification Time\r\n           FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n           file.setCreationTime(time);\r\n           file.setLastAccessTime(time);\r\n           file.setLastModifiedTime(time);\r\n          }\r\n        \r\n         //Byte Data\r\n         {\r\n          //put entry for writing\r\n          zos.putNextEntry(file);\r\n          byte[] data=&quot;Hello World Hello World&quot;.getBytes();\r\n    \r\n          //Compress Data\r\n          Deflater deflater=new Deflater(9);\r\n          deflater.setDictionary(&quot;Hello World &quot;.getBytes());\r\n          deflater.setInput(data);\r\n          deflater.finish();\r\n          byte[] output=new byte[100];\r\n          int compressed=deflater.deflate(output);\r\n         \r\n          //Write Data   \r\n          CRC32 check=new CRC32();\r\n          check.update(data);\r\n          file.setSize(deflater.getBytesRead());\r\n          file.setCrc(check.getValue());          \r\n          file.setCompressedSize(compressed);     \r\n          zos.write(output,0,compressed);\r\n          \r\n          //end data\r\n          System.out.println(deflater.getBytesRead()+&quot;/&quot;+compressed);\r\n          deflater.end();\r\n         }\r\n         \r\n         //close the entry\r\n         zos.closeEntry();\r\n        }\r\n       }\r\n      }\r\n\r\nUpon writing the file the size of the byte data uncompressed is 23 bytes and the size of the data compressed is 15. I am using every method inside ZipEntry just to test if i can retrive all the values correctly upon reading it.\r\n\r\nUpon Reading it using ZipFile class &amp; not ZipInputStream(bug getSize() always returns -1) using this code\r\n\r\n     //reading zip file using ZipFile\r\n      public static void main(String[] args)throws Exception\r\n      {\r\n       try(ZipFile zis=new ZipFile(&quot;E:/TestFile.zip&quot;))\r\n       {\r\n        Enumeration&lt;? extends ZipEntry&gt; entries=zis.entries();\r\n        while(entries.hasMoreElements())\r\n        {\r\n         ZipEntry entry=entries.nextElement();\r\n         \r\n         System.out.println(&quot;Name=&quot;+entry.getName());\r\n         System.out.println(&quot;Is Directory=&quot;+entry.isDirectory());   \r\n         System.out.println(&quot;Comment=&quot;+entry.getComment());\r\n         System.out.println(&quot;Creation Time=&quot;+entry.getCreationTime());\r\n         System.out.println(&quot;Access Time=&quot;+entry.getLastAccessTime());\r\n         System.out.println(&quot;Modification Time=&quot;+entry.getLastModifiedTime());\r\n         System.out.println(&quot;CRC=&quot;+entry.getCrc());\r\n         System.out.println(&quot;Real Size=&quot;+entry.getSize());\r\n         System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\r\n         System.out.println(&quot;Optional Data=&quot;+new String(entry.getExtra()));\r\n         System.out.println(&quot;Method=&quot;+entry.getMethod());\r\n         if(!entry.isDirectory())\r\n         {\r\n          Inflater inflater=new Inflater();\r\n          try(InputStream is=zis.getInputStream(entry))\r\n          {\r\n           byte[] originalData=new byte[(int)entry.getSize()];\r\n           inflater.setInput(is.readAllBytes());\r\n           int realLength=inflater.inflate(originalData);\r\n           if(inflater.needsDictionary())\r\n           {\r\n            inflater.setDictionary(&quot;Hello World &quot;.getBytes());\r\n            realLength=inflater.inflate(originalData);\r\n           }\r\n           inflater.end();\r\n    \r\n           System.out.println(&quot;Data=&quot;+new String(originalData,0,realLength));\r\n          }  \r\n         }\r\n         System.out.println(&quot;=====================================================&quot;);\r\n       }   \r\n      }\r\n     }  \r\n\r\nI get this output\r\n\r\n    Name=Directory/\r\n    Is Directory=true\r\n    Comment=Directory\r\n    Creation Time=null\r\n    Access Time=null\r\n    Modification Time=2022-01-24T17:00:25Z\r\n    CRC=0\r\n    Real Size=0\r\n    Compressed Size=2\r\n    Optional Data=UTaHello\r\n    Method=8\r\n    =====================================================\r\n    Name=Directory/Test.txt\r\n    Is Directory=false\r\n    Comment=A File\r\n    Creation Time=null\r\n    Access Time=null\r\n    Modification Time=2022-01-24T17:00:25Z\r\n    CRC=2483042136\r\n    Real Size=15\r\n    Compressed Size=17\r\n    Optional Data=UT��aWorld\r\n    Method=8\r\n    Data=Hello World Hel\r\n    ==================================================\r\n\r\nThere is a lot of wrong output in this code\r\n\r\nFor the directory\r\n\r\n \r\n\r\n&gt; 1)Creation Time &amp; Access Time are null[even though i have specified it\r\n&gt; in the write method]\r\n&gt; \r\n&gt; 2)Extra Data[Optional Data] has wrong encoding\r\n\r\nFor the file\r\n\r\n&gt; 1)Creation Time &amp; Access Time are null[even though i have specified it\r\n&gt; in the write method]\r\n&gt; \r\n&gt; 2)getSize() &amp; getCompressedSize() methods return the wrong values. I\r\n&gt; have specified these values during writing manually with sizeSize() &amp;\r\n&gt; setCompressedSize() when creating the file the values were 23 and 15 but\r\n&gt; it returns 15 and 17\r\n&gt; \r\n&gt; 3)Extra Data[Optional Data] has wrong encoding\r\n&gt; \r\n&gt; 4)Since getSize() returns incorrect size it dosen&#39;t display the whole\r\n&gt; data[Hello World Hel]\r\n\r\nWith so many things going wrong i thought to post this as one question rather than multiple small ones as they all seem related. I am a complete beginner in writing zip files so any direction on where do i go from here would be greatly appreciated.\r\n\r\nI can read the data of an zip entry using an while loop into an buffer if the size is not known or incorrect which is not an problem but why would they even create an set or get size method if they knew we would be doing this most of the time anyway. Whats the point?","title":"ZipFile : Wrong values when reading","body":"<p>I am creating a zip file with one directory and an single compressed text file inside of it.</p>\n<p>Code to create the zip file</p>\n<pre><code>   try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile.zip&quot;)))\n   {  \n    //comment,level,method for all entries\n    zos.setComment(&quot;Test Zip File&quot;);\n    zos.setLevel(Deflater.BEST_COMPRESSION);\n    zos.setMethod(Deflater.DEFLATED);\n    \n    //Creating Directories[ends with a forward slash]\n    {\n     ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \n     \n     //Give it a comment\n     dir1.setComment(&quot;Directory&quot;);\n     //Some extra data\n     dir1.setExtra(&quot;Hello&quot;.getBytes());\n     //Set Creation,Access,Modification Time\n     FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n     dir1.setCreationTime(time);\n     dir1.setLastAccessTime(time);\n     dir1.setLastModifiedTime(time);\n     \n     //put the entry &amp; close it\n     zos.putNextEntry(dir1);\n     zos.closeEntry();\n    }\n     \n    //Creating an fully compressed file inside the directory with all informtion\n    {\n      ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\n      \n      //Meta Data\n      {\n       //Give it a comment\n       file.setComment(&quot;A File&quot;);\n       //Some extra data\n       file.setExtra(&quot;World&quot;.getBytes());\n       //Set Creation,Access,Modification Time\n       FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n       file.setCreationTime(time);\n       file.setLastAccessTime(time);\n       file.setLastModifiedTime(time);\n      }\n    \n     //Byte Data\n     {\n      //put entry for writing\n      zos.putNextEntry(file);\n      byte[] data=&quot;Hello World Hello World&quot;.getBytes();\n\n      //Compress Data\n      Deflater deflater=new Deflater(9);\n      deflater.setDictionary(&quot;Hello World &quot;.getBytes());\n      deflater.setInput(data);\n      deflater.finish();\n      byte[] output=new byte[100];\n      int compressed=deflater.deflate(output);\n     \n      //Write Data   \n      CRC32 check=new CRC32();\n      check.update(data);\n      file.setSize(deflater.getBytesRead());\n      file.setCrc(check.getValue());          \n      file.setCompressedSize(compressed);     \n      zos.write(output,0,compressed);\n      \n      //end data\n      System.out.println(deflater.getBytesRead()+&quot;/&quot;+compressed);\n      deflater.end();\n     }\n     \n     //close the entry\n     zos.closeEntry();\n    }\n   }\n  }\n</code></pre>\n<p>Upon writing the file the size of the byte data uncompressed is 23 bytes and the size of the data compressed is 15. I am using every method inside ZipEntry just to test if i can retrive all the values correctly upon reading it.</p>\n<p>Upon Reading it using ZipFile class &amp; not ZipInputStream(bug getSize() always returns -1) using this code</p>\n<pre><code> //reading zip file using ZipFile\n  public static void main(String[] args)throws Exception\n  {\n   try(ZipFile zis=new ZipFile(&quot;E:/TestFile.zip&quot;))\n   {\n    Enumeration&lt;? extends ZipEntry&gt; entries=zis.entries();\n    while(entries.hasMoreElements())\n    {\n     ZipEntry entry=entries.nextElement();\n     \n     System.out.println(&quot;Name=&quot;+entry.getName());\n     System.out.println(&quot;Is Directory=&quot;+entry.isDirectory());   \n     System.out.println(&quot;Comment=&quot;+entry.getComment());\n     System.out.println(&quot;Creation Time=&quot;+entry.getCreationTime());\n     System.out.println(&quot;Access Time=&quot;+entry.getLastAccessTime());\n     System.out.println(&quot;Modification Time=&quot;+entry.getLastModifiedTime());\n     System.out.println(&quot;CRC=&quot;+entry.getCrc());\n     System.out.println(&quot;Real Size=&quot;+entry.getSize());\n     System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\n     System.out.println(&quot;Optional Data=&quot;+new String(entry.getExtra()));\n     System.out.println(&quot;Method=&quot;+entry.getMethod());\n     if(!entry.isDirectory())\n     {\n      Inflater inflater=new Inflater();\n      try(InputStream is=zis.getInputStream(entry))\n      {\n       byte[] originalData=new byte[(int)entry.getSize()];\n       inflater.setInput(is.readAllBytes());\n       int realLength=inflater.inflate(originalData);\n       if(inflater.needsDictionary())\n       {\n        inflater.setDictionary(&quot;Hello World &quot;.getBytes());\n        realLength=inflater.inflate(originalData);\n       }\n       inflater.end();\n\n       System.out.println(&quot;Data=&quot;+new String(originalData,0,realLength));\n      }  \n     }\n     System.out.println(&quot;=====================================================&quot;);\n   }   \n  }\n }  \n</code></pre>\n<p>I get this output</p>\n<pre><code>Name=Directory/\nIs Directory=true\nComment=Directory\nCreation Time=null\nAccess Time=null\nModification Time=2022-01-24T17:00:25Z\nCRC=0\nReal Size=0\nCompressed Size=2\nOptional Data=UTaHello\nMethod=8\n=====================================================\nName=Directory/Test.txt\nIs Directory=false\nComment=A File\nCreation Time=null\nAccess Time=null\nModification Time=2022-01-24T17:00:25Z\nCRC=2483042136\nReal Size=15\nCompressed Size=17\nOptional Data=UT��aWorld\nMethod=8\nData=Hello World Hel\n==================================================\n</code></pre>\n<p>There is a lot of wrong output in this code</p>\n<p>For the directory</p>\n<blockquote>\n<p>1)Creation Time &amp; Access Time are null[even though i have specified it\nin the write method]</p>\n<p>2)Extra Data[Optional Data] has wrong encoding</p>\n</blockquote>\n<p>For the file</p>\n<blockquote>\n<p>1)Creation Time &amp; Access Time are null[even though i have specified it\nin the write method]</p>\n<p>2)getSize() &amp; getCompressedSize() methods return the wrong values. I\nhave specified these values during writing manually with sizeSize() &amp;\nsetCompressedSize() when creating the file the values were 23 and 15 but\nit returns 15 and 17</p>\n<p>3)Extra Data[Optional Data] has wrong encoding</p>\n<p>4)Since getSize() returns incorrect size it dosen't display the whole\ndata[Hello World Hel]</p>\n</blockquote>\n<p>With so many things going wrong i thought to post this as one question rather than multiple small ones as they all seem related. I am a complete beginner in writing zip files so any direction on where do i go from here would be greatly appreciated.</p>\n<p>I can read the data of an zip entry using an while loop into an buffer if the size is not known or incorrect which is not an problem but why would they even create an set or get size method if they knew we would be doing this most of the time anyway. Whats the point?</p>\n"},{"tags":["javascript","java","jquery","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643107244,"creation_date":1643107244,"answer_id":70847234,"question_id":70847149,"body_markdown":"Based on what you have, it should work with this:\r\n\r\n    $.get(&quot;/login&quot;, {name:&quot;Donald&quot;, password:&quot;Ducktown&quot;} , \r\n         function (data) {\r\n                console.log(data);\r\n     });\r\n\r\n\r\nYour POJO mapping has the fields `name, password`, so your JSON should only contain them:\r\n\r\n\r\n    ublic class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n        public Token() {}\r\n    \r\n        //+getters, setters, toString\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nWhen you send in `{ token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }}`, you are stating your Pojo should look like:\r\n\r\n\r\n\r\n    public class TokenWrapper {\r\n    \r\n        private Token token;\r\n    }\r\n    \r\n    \r\n    public class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n    }\r\n\r\nAnd your API endpoint should change to:\r\n\r\n        @GET\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public void login(TokenWrapper token) {\r\n            logger.info(&quot;Token={}&quot;, token);\r\n        }\r\n\r\n","title":"How to send json to rest service to make Jersey to parse it as a POJO?","body":"<p>Based on what you have, it should work with this:</p>\n<pre><code>$.get(&quot;/login&quot;, {name:&quot;Donald&quot;, password:&quot;Ducktown&quot;} , \n     function (data) {\n            console.log(data);\n });\n</code></pre>\n<p>Your POJO mapping has the fields <code>name, password</code>, so your JSON should only contain them:</p>\n<pre><code>ublic class Token {\n\n    private String name;\n\n    private String password;\n\n    public Token() {}\n\n    //+getters, setters, toString\n}\n</code></pre>\n<hr />\n<p>When you send in <code>{ token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }}</code>, you are stating your Pojo should look like:</p>\n<pre><code>public class TokenWrapper {\n\n    private Token token;\n}\n\n\npublic class Token {\n\n    private String name;\n\n    private String password;\n\n}\n</code></pre>\n<p>And your API endpoint should change to:</p>\n<pre><code>    @GET\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void login(TokenWrapper token) {\n        logger.info(&quot;Token={}&quot;, token);\n    }\n</code></pre>\n"}],"owner":{"account_id":2301931,"reputation":123,"user_id":5182503,"display_name":"ThatsMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":70847234,"answer_count":1,"score":-3,"last_activity_date":1643111116,"creation_date":1643106897,"question_id":70847149,"body_markdown":"This is my code that makes ajax call using jquery:\r\n\r\n    $.get(&quot;/login&quot;, { token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }} , \r\n         function (data) {\r\n                console.log(data);\r\n     });\r\n\r\nThis is my POJO:\r\n\r\n    public class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n        public Token() {}\r\n    \r\n        //+getters, setters, toString\r\n    }\r\n\r\nThis is my rest service:\r\n\r\n    @Path(&quot;login&quot;)\r\n    public class LoginService {\r\n        \r\n        private static final Logger logger = LoggerFactory.getLogger(LoginService.class);\r\n    \r\n        @GET\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public void login(Token token) {\r\n            logger.info(&quot;Token={}&quot;, token);\r\n        }\r\n    }\r\n\r\nAnd this is output:\r\n\r\n    12:16:12.211 [qtp967677821-35] [INFO] com.foo.LoginService - Token=null\r\n\r\nPlease, say how to send json correctly to make Jersey to parse it as a POJO.\r\n\r\nThis is jersey config info, that is printed in logs when Jersey starts:\r\n\r\n&gt;\r\n&gt; Root Resource Classes:   com.foo.LoginService \r\n&gt;\r\n&gt; Pre-match Filters:   \r\n&gt; org.apache.shiro.web.jaxrs.SubjectPrincipalRequestFilter \r\n&gt;\r\n&gt; Global Response Filters:    com.foo.CORSFilter\r\n&gt; \r\n&gt; Global Reader Interceptors:   \r\n&gt; org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\r\n&gt;\r\n&gt; Global Writer Interceptors:   \r\n&gt; org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\r\n&gt; org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor\r\n&gt;\r\n&gt; Dynamic Features:   \r\n&gt; org.apache.shiro.web.jaxrs.ShiroAnnotationFilterFeature@204beb58\r\n&gt;\r\n&gt; Message Body Readers:   \r\n&gt; org.glassfish.jersey.message.internal.RenderedImageProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$SaxSourceReader  \r\n&gt; org.glassfish.jersey.message.internal.FormProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$DomSourceReader  \r\n&gt; org.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\r\n&gt; org.glassfish.jersey.message.internal.StringMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormMultivaluedMapProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$StreamSourceReader\r\n&gt; org.glassfish.jersey.message.internal.InputStreamProvider   \r\n&gt; org.glassfish.jersey.message.internal.ByteArrayProvider   \r\n&gt; org.glassfish.jersey.message.internal.ReaderProvider   \r\n&gt; org.glassfish.jersey.message.internal.DataSourceProvider   \r\n&gt; org.glassfish.jersey.message.internal.BasicTypesMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FileProvider \r\n&gt; \r\n&gt; Message Body Writers:   \r\n&gt; org.glassfish.jersey.message.internal.RenderedImageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormProvider   \r\n&gt; org.glassfish.jersey.server.ChunkedResponseWriter   \r\n&gt; org.glassfish.jersey.server.validation.internal.ValidationErrorMessageBodyWriter\r\n&gt; org.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\r\n&gt; org.glassfish.jersey.message.internal.StringMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormMultivaluedMapProvider   \r\n&gt; org.glassfish.jersey.message.internal.InputStreamProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$SourceWriter   \r\n&gt; org.glassfish.jersey.message.internal.ByteArrayProvider   \r\n&gt; org.glassfish.jersey.message.internal.ReaderProvider   \r\n&gt; org.glassfish.jersey.message.internal.DataSourceProvider   \r\n&gt; org.glassfish.jersey.message.internal.StreamingOutputProvider   \r\n&gt; org.glassfish.jersey.message.internal.BasicTypesMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FileProvider\r\n\r\nAnd these are my dependencies for Jersey. As gson parser I try to use jackson:\r\n\r\n        &lt;module groupId=&quot;jakarta.validation&quot; artifactId=&quot;jakarta.validation-api&quot; version=&quot;2.0.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.activation&quot; artifactId=&quot;jakarta.activation&quot; version=&quot;1.2.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;jakarta.ws.rs&quot; artifactId=&quot;jakarta.ws.rs-api&quot; version=&quot;2.1.6&quot;/&gt;\r\n    \t&lt;module groupId=&quot;jakarta.xml.bind&quot; artifactId=&quot;jakarta.xml.bind-api&quot; version=&quot;2.3.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.google.code.gson&quot; artifactId=&quot;gson&quot; version=&quot;2.8.6&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml&quot; artifactId=&quot;classmate&quot; version=&quot;1.5.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.xml.bind&quot; artifactId=&quot;jaxb-impl&quot; version=&quot;2.3.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;javax.enterprise&quot; artifactId=&quot;cdi-api&quot; version=&quot;1.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2.external&quot; artifactId=&quot;jakarta.inject&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-api&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-utils&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-locator&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;spring-bridge&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-jetty-http&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-servlet-core&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-server&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-common&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-client&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-bean-validation&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x-servlet&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.inject&quot; artifactId=&quot;jersey-hk2&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-spring5&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.istack&quot; artifactId=&quot;istack-commons-runtime&quot; version=&quot;4.0.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.javassist&quot; artifactId=&quot;javassist&quot; version=&quot;3.27.0-GA&quot;/&gt;\r\n    \r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-entity-filtering&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.media&quot; artifactId=&quot;jersey-media-json-jackson&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-annotations&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-core&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-databind&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.module&quot; artifactId=&quot;jackson-module-jaxb-annotations&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-json-provider&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-base&quot; version=&quot;2.10.2&quot;/&gt;\r\n\r\n**EDIT 1**\r\nWhen I change get to post (in javascript and in login service) I get:\r\n\r\n    13:41:00.345 [qtp967677821-38] [WARN] org.glassfish.jersey.servlet.WebComponent - A servlet request to the URI http://127.0.0.1:8080/login contains form parameters in the request body but the request body has been consumed by the servlet or a servlet filter accessing the request parameters. Only resource methods using @FormParam will work as expected. Resource methods consuming the request body by other means will not work as expected.\r\n    13:41:00.359 [qtp967677821-38] [TRACE] org.glassfish.jersey.server.ServerRuntime$Responder - Starting mapping of the exception.\r\n    javax.ws.rs.NotSupportedException: HTTP 415 Unsupported Media Type\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.getMethodRouter(MethodSelectingRouter.java:412) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.access$000(MethodSelectingRouter.java:73) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter$4.apply(MethodSelectingRouter.java:665) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.apply(MethodSelectingRouter.java:305) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.process.internal.Stages.process(Stages.java:173) ~[jersey-common-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:245) ~[jersey-server-2.30.1.jar:?]\r\n\r\n","title":"How to send json to rest service to make Jersey to parse it as a POJO?","body":"<p>This is my code that makes ajax call using jquery:</p>\n<pre><code>$.get(&quot;/login&quot;, { token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }} , \n     function (data) {\n            console.log(data);\n });\n</code></pre>\n<p>This is my POJO:</p>\n<pre><code>public class Token {\n\n    private String name;\n\n    private String password;\n\n    public Token() {}\n\n    //+getters, setters, toString\n}\n</code></pre>\n<p>This is my rest service:</p>\n<pre><code>@Path(&quot;login&quot;)\npublic class LoginService {\n    \n    private static final Logger logger = LoggerFactory.getLogger(LoginService.class);\n\n    @GET\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void login(Token token) {\n        logger.info(&quot;Token={}&quot;, token);\n    }\n}\n</code></pre>\n<p>And this is output:</p>\n<pre><code>12:16:12.211 [qtp967677821-35] [INFO] com.foo.LoginService - Token=null\n</code></pre>\n<p>Please, say how to send json correctly to make Jersey to parse it as a POJO.</p>\n<p>This is jersey config info, that is printed in logs when Jersey starts:</p>\n<blockquote>\n<p>Root Resource Classes:   com.foo.LoginService</p>\n<p>Pre-match Filters:<br />\norg.apache.shiro.web.jaxrs.SubjectPrincipalRequestFilter</p>\n<p>Global Response Filters:    com.foo.CORSFilter</p>\n<p>Global Reader Interceptors:<br />\norg.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor</p>\n<p>Global Writer Interceptors:<br />\norg.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\norg.glassfish.jersey.server.internal.JsonWithPaddingInterceptor</p>\n<p>Dynamic Features:<br />\norg.apache.shiro.web.jaxrs.ShiroAnnotationFilterFeature@204beb58</p>\n<p>Message Body Readers:<br />\norg.glassfish.jersey.message.internal.RenderedImageProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$SaxSourceReader<br />\norg.glassfish.jersey.message.internal.FormProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$DomSourceReader<br />\norg.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\norg.glassfish.jersey.message.internal.StringMessageProvider<br />\norg.glassfish.jersey.message.internal.FormMultivaluedMapProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$StreamSourceReader\norg.glassfish.jersey.message.internal.InputStreamProvider<br />\norg.glassfish.jersey.message.internal.ByteArrayProvider<br />\norg.glassfish.jersey.message.internal.ReaderProvider<br />\norg.glassfish.jersey.message.internal.DataSourceProvider<br />\norg.glassfish.jersey.message.internal.BasicTypesMessageProvider<br />\norg.glassfish.jersey.message.internal.FileProvider</p>\n<p>Message Body Writers:<br />\norg.glassfish.jersey.message.internal.RenderedImageProvider<br />\norg.glassfish.jersey.message.internal.FormProvider<br />\norg.glassfish.jersey.server.ChunkedResponseWriter<br />\norg.glassfish.jersey.server.validation.internal.ValidationErrorMessageBodyWriter\norg.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\norg.glassfish.jersey.message.internal.StringMessageProvider<br />\norg.glassfish.jersey.message.internal.FormMultivaluedMapProvider<br />\norg.glassfish.jersey.message.internal.InputStreamProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$SourceWriter<br />\norg.glassfish.jersey.message.internal.ByteArrayProvider<br />\norg.glassfish.jersey.message.internal.ReaderProvider<br />\norg.glassfish.jersey.message.internal.DataSourceProvider<br />\norg.glassfish.jersey.message.internal.StreamingOutputProvider<br />\norg.glassfish.jersey.message.internal.BasicTypesMessageProvider<br />\norg.glassfish.jersey.message.internal.FileProvider</p>\n</blockquote>\n<p>And these are my dependencies for Jersey. As gson parser I try to use jackson:</p>\n<pre><code>    &lt;module groupId=&quot;jakarta.validation&quot; artifactId=&quot;jakarta.validation-api&quot; version=&quot;2.0.2&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.activation&quot; artifactId=&quot;jakarta.activation&quot; version=&quot;1.2.1&quot;/&gt;\n    &lt;module groupId=&quot;jakarta.ws.rs&quot; artifactId=&quot;jakarta.ws.rs-api&quot; version=&quot;2.1.6&quot;/&gt;\n    &lt;module groupId=&quot;jakarta.xml.bind&quot; artifactId=&quot;jakarta.xml.bind-api&quot; version=&quot;2.3.2&quot;/&gt;\n    &lt;module groupId=&quot;com.google.code.gson&quot; artifactId=&quot;gson&quot; version=&quot;2.8.6&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml&quot; artifactId=&quot;classmate&quot; version=&quot;1.5.1&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.xml.bind&quot; artifactId=&quot;jaxb-impl&quot; version=&quot;2.3.2&quot;/&gt;\n    &lt;module groupId=&quot;javax.enterprise&quot; artifactId=&quot;cdi-api&quot; version=&quot;1.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2.external&quot; artifactId=&quot;jakarta.inject&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-api&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-utils&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-locator&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;spring-bridge&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-jetty-http&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-servlet-core&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-server&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-common&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-client&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-bean-validation&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x-servlet&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.inject&quot; artifactId=&quot;jersey-hk2&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-spring5&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.istack&quot; artifactId=&quot;istack-commons-runtime&quot; version=&quot;4.0.1&quot;/&gt;\n    &lt;module groupId=&quot;org.javassist&quot; artifactId=&quot;javassist&quot; version=&quot;3.27.0-GA&quot;/&gt;\n\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-entity-filtering&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.media&quot; artifactId=&quot;jersey-media-json-jackson&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-annotations&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-core&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-databind&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.module&quot; artifactId=&quot;jackson-module-jaxb-annotations&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-json-provider&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-base&quot; version=&quot;2.10.2&quot;/&gt;\n</code></pre>\n<p><strong>EDIT 1</strong>\nWhen I change get to post (in javascript and in login service) I get:</p>\n<pre><code>13:41:00.345 [qtp967677821-38] [WARN] org.glassfish.jersey.servlet.WebComponent - A servlet request to the URI http://127.0.0.1:8080/login contains form parameters in the request body but the request body has been consumed by the servlet or a servlet filter accessing the request parameters. Only resource methods using @FormParam will work as expected. Resource methods consuming the request body by other means will not work as expected.\n13:41:00.359 [qtp967677821-38] [TRACE] org.glassfish.jersey.server.ServerRuntime$Responder - Starting mapping of the exception.\njavax.ws.rs.NotSupportedException: HTTP 415 Unsupported Media Type\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.getMethodRouter(MethodSelectingRouter.java:412) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.access$000(MethodSelectingRouter.java:73) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter$4.apply(MethodSelectingRouter.java:665) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.apply(MethodSelectingRouter.java:305) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.process.internal.Stages.process(Stages.java:173) ~[jersey-common-2.30.1.jar:?]\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:245) ~[jersey-server-2.30.1.jar:?]\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1643035202,"post_id":70834988,"comment_id":125225900,"body_markdown":"It can be done pretty easy using Gson itself. What have you tried already? _I use Gson for parsing_ -- the code please?","body":"It can be done pretty easy using Gson itself. What have you tried already? <i>I use Gson for parsing</i> -- the code please?"},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643039679,"post_id":70834988,"comment_id":125227954,"body_markdown":"Thanks fluffy , glad to understand it possible to flat json using Gson , i use Gson for basic json object extract but not sure where to start to flat json ,hopefully some1 willing to share the approach","body":"Thanks fluffy , glad to understand it possible to flat json using Gson , i use Gson for basic json object extract but not sure where to start to flat json ,hopefully some1 willing to share the approach"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1643047600,"post_id":70834988,"comment_id":125231202,"body_markdown":"Take a look at `JsonReader` (especially it&#39;s `getPath()` and `.next...()` methods), `JsonWriter`, and use stacked approach or recursion (for example). This is where you could start and basically implement it all.","body":"Take a look at <code>JsonReader</code> (especially it&#39;s <code>getPath()</code> and <code>.next...()</code> methods), <code>JsonWriter</code>, and use stacked approach or recursion (for example). This is where you could start and basically implement it all."},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643111058,"post_id":70834988,"comment_id":125247808,"body_markdown":"I edit my post with some pseudo code , would really appreciate if some1 can share some code i could start with","body":"I edit my post with some pseudo code , would really appreciate if some1 can share some code i could start with"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1643119660,"post_id":70834988,"comment_id":125251004,"body_markdown":"Please re-read my comment above: it has sufficient amount of hints to accomplish your target. Note that you don&#39;t need to deserialize it to `JsonElement`-trees as it consumes more memory. The suggestion I&#39;m suggesting can use streamed approach. Really, `JsonReader` and `JsonWriter` are your only friends here. Good luck!","body":"Please re-read my comment above: it has sufficient amount of hints to accomplish your target. Note that you don&#39;t need to deserialize it to <code>JsonElement</code>-trees as it consumes more memory. The suggestion I&#39;m suggesting can use streamed approach. Really, <code>JsonReader</code> and <code>JsonWriter</code> are your only friends here. Good luck!"}],"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643110955,"creation_date":1643032562,"question_id":70834988,"body_markdown":"I need to flatten a JSON strings(nested) using Gson ,\r\n\r\n\r\nGiven:\r\n```json\r\n{\r\n   &quot;name&quot;: &quot;Terry&quot;,\r\n   &quot;addr&quot;: {\r\n       &quot;city&quot;: &quot;NY&quot;,\r\n       &quot;postCode&quot;: 123\r\n   },\r\n   &quot;friends&quot;: [&quot;John&quot;, &quot;Paul&quot;],\r\n   &quot;nestedObject&quot;: { &quot;a&quot;: { &quot;b&quot;: { &quot;c&quot;: {&quot;d&quot;: &quot;nested property&quot; } } } }\r\n}\r\n```\r\n\r\nExpected:\r\n```json\r\n{\r\n  &quot;name&quot; :&quot;Terry&quot;,\r\n  &quot;addr.city&quot;: &quot;NY&quot;,\r\n  &quot;addr.postCode&quot; : 123,\r\n  &quot;friends.0&quot;: &quot;John&quot;,\r\n  &quot;friends.1&quot;:  &quot;Paul&quot;,\r\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\r\n}\r\n```\r\nor\r\n```json\r\n{\r\n  &quot;name&quot; :&quot;Terry&quot;,\r\n  &quot;addr.city&quot;: &quot;NY&quot;,\r\n  &quot;addr.postCode&quot; : 123,\r\n  &quot;friends[0]&quot;: &quot;John&quot;\r\n  &quot;friends[1]&quot;: &quot;Paul&quot;\r\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\r\n}\r\n```\r\nReally new to Java and need guidance how to build it up ,\r\n\r\n\r\nMy starting point :\r\n\r\n1.Parse the Json using JsonParser as TreeModel\r\nhttps://www.tutorialspoint.com/gson/gson_tree_model.htm\r\njust found that JsonParser is deprecated :(\r\n\r\nhttps://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html\r\n\r\nis there alternative ?\r\n\r\n\r\n2.Recursive function to loop through the Json elements and check\r\nif element is list/dict - case yes , recursive call with all child ,\r\ncase else - append current key and val to some map \r\n\r\nreal pseudo code:\r\n\r\n\r\n```\r\n\r\npublic class Test{\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        String jsonString = &quot;{\\&quot;brand\\&quot; : \\&quot;Toyota\\&quot;, \\&quot;doors\\&quot; : 5}&quot;;\r\n\r\n        JsonObject jsonObject = JsonParser.parseString(jsonString).getAsJsonObject();\r\n\r\n\r\n// Iterate through main key and call FlatJson for each one\r\n// append result to a map \r\n//print result\r\n\r\n```\r\n\r\nFlatJson - for given element ,\r\nextract all child key\r\n\r\n```\r\n    public String FlatJson(  JsonElement jsonElement) {\r\n\r\n        \r\n\r\n        // If input is an array, iterate through each element\r\n        if (jsonElement.isJsonArray()) {\r\n            for (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\r\n                // Extract Key Value and return \r\n                    \r\n                \r\n            }\r\n        } else {\r\n\r\n            // If input is object, iterate through the keys\r\n            if (jsonElement.isJsonObject()) {\r\n                Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\r\n                        .getAsJsonObject().entrySet();\r\n                for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\r\n                    // Extract Key Value and return \r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            // If input is element, check whether it corresponds to the key\r\n            else {\r\n                    // return sonElement.toString() (as\r\n                }\r\n            }\r\n        }\r\n}\r\n````\r\n\r\n","title":"How to flatten JSON using Gson","body":"<p>I need to flatten a JSON strings(nested) using Gson ,</p>\n<p>Given:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;name&quot;: &quot;Terry&quot;,\n   &quot;addr&quot;: {\n       &quot;city&quot;: &quot;NY&quot;,\n       &quot;postCode&quot;: 123\n   },\n   &quot;friends&quot;: [&quot;John&quot;, &quot;Paul&quot;],\n   &quot;nestedObject&quot;: { &quot;a&quot;: { &quot;b&quot;: { &quot;c&quot;: {&quot;d&quot;: &quot;nested property&quot; } } } }\n}\n</code></pre>\n<p>Expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; :&quot;Terry&quot;,\n  &quot;addr.city&quot;: &quot;NY&quot;,\n  &quot;addr.postCode&quot; : 123,\n  &quot;friends.0&quot;: &quot;John&quot;,\n  &quot;friends.1&quot;:  &quot;Paul&quot;,\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; :&quot;Terry&quot;,\n  &quot;addr.city&quot;: &quot;NY&quot;,\n  &quot;addr.postCode&quot; : 123,\n  &quot;friends[0]&quot;: &quot;John&quot;\n  &quot;friends[1]&quot;: &quot;Paul&quot;\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\n}\n</code></pre>\n<p>Really new to Java and need guidance how to build it up ,</p>\n<p>My starting point :</p>\n<p>1.Parse the Json using JsonParser as TreeModel\n<a href=\"https://www.tutorialspoint.com/gson/gson_tree_model.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/gson/gson_tree_model.htm</a>\njust found that JsonParser is deprecated :(</p>\n<p><a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html</a></p>\n<p>is there alternative ?</p>\n<p>2.Recursive function to loop through the Json elements and check\nif element is list/dict - case yes , recursive call with all child ,\ncase else - append current key and val to some map</p>\n<p>real pseudo code:</p>\n<pre><code>\npublic class Test{\n\n    public static void main(String[] args) {\n\n\n        String jsonString = &quot;{\\&quot;brand\\&quot; : \\&quot;Toyota\\&quot;, \\&quot;doors\\&quot; : 5}&quot;;\n\n        JsonObject jsonObject = JsonParser.parseString(jsonString).getAsJsonObject();\n\n\n// Iterate through main key and call FlatJson for each one\n// append result to a map \n//print result\n\n</code></pre>\n<p>FlatJson - for given element ,\nextract all child key</p>\n<pre><code>    public String FlatJson(  JsonElement jsonElement) {\n\n        \n\n        // If input is an array, iterate through each element\n        if (jsonElement.isJsonArray()) {\n            for (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\n                // Extract Key Value and return \n                    \n                \n            }\n        } else {\n\n            // If input is object, iterate through the keys\n            if (jsonElement.isJsonObject()) {\n                Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\n                        .getAsJsonObject().entrySet();\n                for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\n                    // Extract Key Value and return \n                    }\n\n                }\n            }\n\n            // If input is element, check whether it corresponds to the key\n            else {\n                    // return sonElement.toString() (as\n                }\n            }\n        }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","mvvm","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643093989,"creation_date":1643093080,"answer_id":70844400,"question_id":70844346,"body_markdown":"## ANSWER: ##\r\nIn `onCreate()` before this line `val mainAdapter = MainAdapter(article_)` just initialize the `article_` by writing `article_ = ArrayList()` and the error will be gone. \r\n\r\n**Cause of Error**\r\n\r\nYou are encountering this error because You need to initialize the lateinit variable `article_` before using it and you are not doing it.\r\n\r\nIf you want to check that either the variable is initialized or not then use `::article_.isInitialized`.\r\n\r\n**Feel free to ask if something is unclear.**","title":"data class uniinitialize by lateinit property","body":"<h2>ANSWER:</h2>\n<p>In <code>onCreate()</code> before this line <code>val mainAdapter = MainAdapter(article_)</code> just initialize the <code>article_</code> by writing <code>article_ = ArrayList()</code> and the error will be gone.</p>\n<p><strong>Cause of Error</strong></p>\n<p>You are encountering this error because You need to initialize the lateinit variable <code>article_</code> before using it and you are not doing it.</p>\n<p>If you want to check that either the variable is initialized or not then use <code>::article_.isInitialized</code>.</p>\n<p><strong>Feel free to ask if something is unclear.</strong></p>\n"},{"tags":[],"owner":{"account_id":15989106,"reputation":304,"user_id":11538740,"display_name":"Siddarth Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643093297,"creation_date":1643093297,"answer_id":70844431,"question_id":70844346,"body_markdown":"Change code like this\r\n`binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\r\narticle_ = ArrayList()`\r\n","title":"data class uniinitialize by lateinit property","body":"<p>Change code like this\n<code>binding = DataBindingUtil.setContentView(this,R.layout.activity_test) article_ = ArrayList()</code></p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110926,"creation_date":1643110926,"answer_id":70848043,"question_id":70844346,"body_markdown":"`lateinit` should only be used when you have a specific reason not to initialize the variable on construction. Here I can see no reason not to make it\r\n\r\n    var article_: List&lt;Article&gt; = listOf()\r\n\r\nor perhaps\r\n\r\n    val article_: MutableList&lt;Article&gt; = mutableListOf()\r\n\r\nand guarantee such error can&#39;t happen in the first place.","title":"data class uniinitialize by lateinit property","body":"<p><code>lateinit</code> should only be used when you have a specific reason not to initialize the variable on construction. Here I can see no reason not to make it</p>\n<pre><code>var article_: List&lt;Article&gt; = listOf()\n</code></pre>\n<p>or perhaps</p>\n<pre><code>val article_: MutableList&lt;Article&gt; = mutableListOf()\n</code></pre>\n<p>and guarantee such error can't happen in the first place.</p>\n"}],"owner":{"account_id":13996530,"reputation":68,"user_id":10109174,"display_name":"Khushbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844400,"answer_count":3,"score":1,"last_activity_date":1643110926,"creation_date":1643092729,"question_id":70844346,"body_markdown":"when i try to initialize data class it gives me error, kotlin.UninitializedPropertyAccessException: lateinit property article_ has not been initialized. How do i resolve this error and whats way to initialize data class.\r\n\r\nmodel class\r\n```\r\ndata class Article(\r\n    val id: Int,\r\n    val author: String,\r\n    val content: String,\r\n    val description: String?)\r\n```\r\nMainActivity\r\n```\r\nclass TestActivity : AppCompatActivity() {\r\n    lateinit var binding: ActivityTestBinding\r\n    lateinit var article_: List&lt;Article&gt;\r\n\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\r\n\r\nval mainAdapter = MainAdapter(article_)\r\n        binding.recView.apply {\r\n            this.layoutManager = LinearLayoutManager(this@TestActivity)\r\n            this.adapter = mainAdapter\r\n        }\r\n}\r\n}\r\n```","title":"data class uniinitialize by lateinit property","body":"<p>when i try to initialize data class it gives me error, kotlin.UninitializedPropertyAccessException: lateinit property article_ has not been initialized. How do i resolve this error and whats way to initialize data class.</p>\n<p>model class</p>\n<pre><code>data class Article(\n    val id: Int,\n    val author: String,\n    val content: String,\n    val description: String?)\n</code></pre>\n<p>MainActivity</p>\n<pre><code>class TestActivity : AppCompatActivity() {\n    lateinit var binding: ActivityTestBinding\n    lateinit var article_: List&lt;Article&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\n\nval mainAdapter = MainAdapter(article_)\n        binding.recView.apply {\n            this.layoutManager = LinearLayoutManager(this@TestActivity)\n            this.adapter = mainAdapter\n        }\n}\n}\n</code></pre>\n"},{"tags":["java","spring","cics"],"answers":[{"tags":[],"owner":{"account_id":1037895,"reputation":66,"user_id":1044617,"display_name":"SoftlySplinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110756,"creation_date":1643110441,"answer_id":70847924,"question_id":70842612,"body_markdown":"Linking to Java EE POJOs can mean some of the contextual information isn&#39;t available during the link. I can&#39;t say for sure why the problem is intermittent (the error appears to be coming from the Spring framework, which is something the CICS team doesn&#39;t have control over), but I can suggest some ways which could avoid the issue.\r\n\r\n 1. In CICS TS v5.5 we added support for linking to Spring Boot applications directly: https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program this allows you to use Spring bean injection (`@Autowired`, etc.) in methods annotated `@CICSProgram`.\r\n 2. Alternatively you could be to investigate routing parts of your API directly into the Spring application over HTTP. Coming into CICS via HTTP then linking to OSGi and then to Liberty is going to have increased CPU usage and complexity compared to coming into the Spring application hosted in Liberty via HTTP.\r\n\r\nSpring boot applications are supported in CICS TS v5.4: https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications and we have a number of samples which demonstrate how to integrate these applications with CICS, with regards to JCICS, security and transactionality available on github: https://github.com/cicsdev.","title":"NoSuchBeanDefinitionException - Intermittent issue (2+ out of est. 100k transactions encounters this error daily)","body":"<p>Linking to Java EE POJOs can mean some of the contextual information isn't available during the link. I can't say for sure why the problem is intermittent (the error appears to be coming from the Spring framework, which is something the CICS team doesn't have control over), but I can suggest some ways which could avoid the issue.</p>\n<ol>\n<li>In CICS TS v5.5 we added support for linking to Spring Boot applications directly: <a href=\"https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program</a> this allows you to use Spring bean injection (<code>@Autowired</code>, etc.) in methods annotated <code>@CICSProgram</code>.</li>\n<li>Alternatively you could be to investigate routing parts of your API directly into the Spring application over HTTP. Coming into CICS via HTTP then linking to OSGi and then to Liberty is going to have increased CPU usage and complexity compared to coming into the Spring application hosted in Liberty via HTTP.</li>\n</ol>\n<p>Spring boot applications are supported in CICS TS v5.4: <a href=\"https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications</a> and we have a number of samples which demonstrate how to integrate these applications with CICS, with regards to JCICS, security and transactionality available on github: <a href=\"https://github.com/cicsdev\" rel=\"nofollow noreferrer\">https://github.com/cicsdev</a>.</p>\n"}],"owner":{"account_id":23982754,"reputation":11,"user_id":17969927,"display_name":"user9348729357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643110756,"creation_date":1643076040,"question_id":70842612,"body_markdown":"We are using springframework 5.2.3 on a J2EE app over zOS.\r\n\r\nThe flow starts as follows:\r\n1.\tAPI is consumed in zOS via URIMAP configuration, which underlying triggers an OSGi program (Bridge) which is in Java.\r\n2.\tBridge will perform CICS link to POJO class in CICS via main method, hence, POJO will have to rely on web application context to get bean instead of Autowire.\r\n3.\tMain method in CICS will attempt to retrieve XController via the following:\r\n\r\nIn XRController, line 120:\r\n```\r\nprivate XController xController = AppContext.getApplicationContext().getBean(XController.class);\r\n```\r\n\r\nIn AppContext:\r\n```\r\npublic class AppContext {\r\n       \r\n       /** Shared application context for the entire environment */\r\n       private static ApplicationContext applicationContext;\r\n       \r\n       /** Id of the context for the entire environment */\r\n       private static String contextId;\r\n       \r\n       /**\r\n       * Retrieve of current application context based on the \r\n        * respective war file\r\n       * \r\n        * @return the current web application context\r\n       */\r\n       public static ApplicationContext getApplicationContext() {\r\n              ApplicationContext context = ContextLoader.getCurrentWebApplicationContext();\r\n              \r\n              if (context != null) {\r\n                     if (contextId == null || !contextId.equalsIgnoreCase(context.getId())) {\r\n                           applicationContext = context;\r\n                           contextId  = context.getId();\r\n                     }\r\n              }\r\n              \r\n              return applicationContext;\r\n       }\r\n}\r\n```\r\nIn XController:\r\n```\r\n@Controller\r\n@Scope(&quot;prototype&quot;)\r\npublic class XController extends OController {\r\n...\r\n\r\n```\r\n\r\nIn root-context.xml:\r\n```\r\n..\r\n&lt;!-- Scans within the base package of the application for @Component @Service @Entity classes to configure as beans --&gt;\r\n&lt;context:component-scan base-package=&quot;c.a.b.&quot; /&gt;\r\n..\r\n\r\n```\r\n\r\n4. However, out of 100k+ transactions each day, several transactions encounters the following error:\r\n\r\n```\r\n[1/9/22 15:40:29:568 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\n  \r\n[1/9/22 15:40:29:627 GMT+08:00] 00017616 SystemErr                                                    R 2022/01/09 15:40:29.565000 GMT+08:00 E [BFWXCJ2.TASK49772.BY02:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\n[1/9/22 15:40:29:630 GMT+08:00] 00017615 SystemOut                                                    O XC Bridge Error: CICS_ABEND (AJ05)\r\n[1/9/22 15:40:29:685 GMT+08:00] 00000075 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.lang.RuntimeException: AJ05 com.ibm.websphere.security.auth.WSSubject 124&quot; at ffdc_22.01.09_15.40.29.0.log\r\n[1/9/22 15:40:29:689 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29 javax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\t... 26 more\r\nCaused by: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\t... 34 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\t... 39 more\r\n  \r\n[1/9/22 15:40:29:705 GMT+08:00] 00017619 SystemErr                                                    R 2022/01/09 15:40:29.688000 GMT+08:00 E [RUN_SERVICE_Thread-49:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29\r\njavax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\t... 26 more\r\nCaused by: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\t... 34 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\t... 39 more\r\n```\r\n","title":"NoSuchBeanDefinitionException - Intermittent issue (2+ out of est. 100k transactions encounters this error daily)","body":"<p>We are using springframework 5.2.3 on a J2EE app over zOS.</p>\n<p>The flow starts as follows:</p>\n<ol>\n<li>API is consumed in zOS via URIMAP configuration, which underlying triggers an OSGi program (Bridge) which is in Java.</li>\n<li>Bridge will perform CICS link to POJO class in CICS via main method, hence, POJO will have to rely on web application context to get bean instead of Autowire.</li>\n<li>Main method in CICS will attempt to retrieve XController via the following:</li>\n</ol>\n<p>In XRController, line 120:</p>\n<pre><code>private XController xController = AppContext.getApplicationContext().getBean(XController.class);\n</code></pre>\n<p>In AppContext:</p>\n<pre><code>public class AppContext {\n       \n       /** Shared application context for the entire environment */\n       private static ApplicationContext applicationContext;\n       \n       /** Id of the context for the entire environment */\n       private static String contextId;\n       \n       /**\n       * Retrieve of current application context based on the \n        * respective war file\n       * \n        * @return the current web application context\n       */\n       public static ApplicationContext getApplicationContext() {\n              ApplicationContext context = ContextLoader.getCurrentWebApplicationContext();\n              \n              if (context != null) {\n                     if (contextId == null || !contextId.equalsIgnoreCase(context.getId())) {\n                           applicationContext = context;\n                           contextId  = context.getId();\n                     }\n              }\n              \n              return applicationContext;\n       }\n}\n</code></pre>\n<p>In XController:</p>\n<pre><code>@Controller\n@Scope(&quot;prototype&quot;)\npublic class XController extends OController {\n...\n\n</code></pre>\n<p>In root-context.xml:</p>\n<pre><code>..\n&lt;!-- Scans within the base package of the application for @Component @Service @Entity classes to configure as beans --&gt;\n&lt;context:component-scan base-package=&quot;c.a.b.&quot; /&gt;\n..\n\n</code></pre>\n<ol start=\"4\">\n<li>However, out of 100k+ transactions each day, several transactions encounters the following error:</li>\n</ol>\n<pre><code>[1/9/22 15:40:29:568 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\n  \n[1/9/22 15:40:29:627 GMT+08:00] 00017616 SystemErr                                                    R 2022/01/09 15:40:29.565000 GMT+08:00 E [BFWXCJ2.TASK49772.BY02:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\n[1/9/22 15:40:29:630 GMT+08:00] 00017615 SystemOut                                                    O XC Bridge Error: CICS_ABEND (AJ05)\n[1/9/22 15:40:29:685 GMT+08:00] 00000075 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.lang.RuntimeException: AJ05 com.ibm.websphere.security.auth.WSSubject 124&quot; at ffdc_22.01.09_15.40.29.0.log\n[1/9/22 15:40:29:689 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29 javax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    ... 26 more\nCaused by: java.lang.RuntimeException: AJ05\n    at com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    ... 34 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    ... 39 more\n  \n[1/9/22 15:40:29:705 GMT+08:00] 00017619 SystemErr                                                    R 2022/01/09 15:40:29.688000 GMT+08:00 E [RUN_SERVICE_Thread-49:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29\njavax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    ... 26 more\nCaused by: java.lang.RuntimeException: AJ05\n    at com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    ... 34 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    ... 39 more\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":5113,"reputation":575,"user_id":8054,"display_name":"Nicholas"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1221576761,"creation_date":1221576761,"answer_id":73197,"question_id":73109,"body_markdown":"Well you can make it ignore the error by doing an INSERT IGNORE which will just truncate the data and insert it anyway. (from http://dev.mysql.com/doc/refman/5.0/en/insert.html )\r\n\r\n&gt; If you use the IGNORE keyword, errors\r\n&gt; that occur while executing the INSERT\r\n&gt; statement are treated as warnings\r\n&gt; instead. For example, without IGNORE,\r\n&gt; a row that duplicates an existing\r\n&gt; UNIQUE index or PRIMARY KEY value in\r\n&gt; the table causes a duplicate-key error\r\n&gt; and the statement is aborted. With\r\n&gt; IGNORE, the row still is not inserted,\r\n&gt; but no error is issued. Data\r\n&gt; conversions that would trigger errors\r\n&gt; abort the statement if IGNORE is not\r\n&gt; specified. With IGNORE, invalid values\r\n&gt; are adjusted to the closest values and\r\n&gt; inserted; warnings are produced but\r\n&gt; the statement does not abort.\r\n\r\n","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>Well you can make it ignore the error by doing an INSERT IGNORE which will just truncate the data and insert it anyway. (from <a href=\"http://dev.mysql.com/doc/refman/5.0/en/insert.html\" rel=\"noreferrer\">http://dev.mysql.com/doc/refman/5.0/en/insert.html</a> )</p>\n\n<blockquote>\n  <p>If you use the IGNORE keyword, errors\n  that occur while executing the INSERT\n  statement are treated as warnings\n  instead. For example, without IGNORE,\n  a row that duplicates an existing\n  UNIQUE index or PRIMARY KEY value in\n  the table causes a duplicate-key error\n  and the statement is aborted. With\n  IGNORE, the row still is not inserted,\n  but no error is issued. Data\n  conversions that would trigger errors\n  abort the statement if IGNORE is not\n  specified. With IGNORE, invalid values\n  are adjusted to the closest values and\n  inserted; warnings are produced but\n  the statement does not abort.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6601,"reputation":2403,"user_id":11176,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221576920,"creation_date":1221576920,"answer_id":73232,"question_id":73109,"body_markdown":"It sounds to me like you are trying to put too many bytes into a column. I ran across a very similar error with MySQL last night due to a bug in my code. I meant to do \r\n\r\n    foo.status = &#39;inactive&#39;\r\n\r\nbut had actually typed\r\n\r\n    foo.state = &#39;inactive&#39;\r\n\r\nWhere foo.state is supposed to be a two character code for a US State ( varchar(2) ). I got the same error as you. You might go look for a similar situation in your code.\r\n\r\n","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>It sounds to me like you are trying to put too many bytes into a column. I ran across a very similar error with MySQL last night due to a bug in my code. I meant to do </p>\n\n<pre><code>foo.status = 'inactive'\n</code></pre>\n\n<p>but had actually typed</p>\n\n<pre><code>foo.state = 'inactive'\n</code></pre>\n\n<p>Where foo.state is supposed to be a two character code for a US State ( varchar(2) ). I got the same error as you. You might go look for a similar situation in your code.</p>\n"},{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1221639664,"creation_date":1221577891,"answer_id":73397,"question_id":73109,"body_markdown":"Check that your UTF-8 data is all 3-byte Unicode. If you have 4-byte characters (legal in Unicode and Java, illegal in MySQL 5), it can throw this error when you try to insert them. This is an [issue that should be fixed][1] in MySQL 6.0.\r\n\r\n\r\n  [1]: http://bugs.mysql.com/bug.php?id=25666","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>Check that your UTF-8 data is all 3-byte Unicode. If you have 4-byte characters (legal in Unicode and Java, illegal in MySQL 5), it can throw this error when you try to insert them. This is an <a href=\"http://bugs.mysql.com/bug.php?id=25666\" rel=\"noreferrer\">issue that should be fixed</a> in MySQL 6.0.</p>\n"},{"tags":[],"owner":{"account_id":877456,"reputation":188,"user_id":136373,"display_name":"Szemere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247241982,"creation_date":1247241982,"answer_id":1110486,"question_id":73109,"body_markdown":"I just hit this problem and solved it by removing all the non-standard ascii characters in my text (following the UTF-8 advice above).\r\n\r\nI had the problem on a Debian 4, Java 5 system; but the same code worked fine with Ubuntu 9.04, Java 6. Both run MySql 5.","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>I just hit this problem and solved it by removing all the non-standard ascii characters in my text (following the UTF-8 advice above).</p>\n\n<p>I had the problem on a Debian 4, Java 5 system; but the same code worked fine with Ubuntu 9.04, Java 6. Both run MySql 5.</p>\n"},{"tags":[],"owner":{"account_id":1046361,"reputation":3508,"user_id":1051262,"display_name":"grigson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390286282,"creation_date":1350388926,"answer_id":12914251,"question_id":73109,"body_markdown":"In mysql you can use `MEDIUMTEXT` or `LONGTEXT` field type for large text data","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>In mysql you can use <code>MEDIUMTEXT</code> or <code>LONGTEXT</code> field type for large text data</p>\n"}],"owner":{"display_name":"Jeremy Witmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49000,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":5,"score":13,"last_activity_date":1643110364,"creation_date":1221576276,"question_id":73109,"body_markdown":"I&#39;m working with a fairly simple database, from a Java application.  We&#39;re trying to insert about 200k of text at a time, using the standard JDBC mysql adapter.  We intermittently get a `com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column error.`  \r\n\r\nThe column type is `longtext`, and database collation is `UTF-8`.  The error shows up using both `MyISAM` and `InnoDB` table engines.  Max packet size has been set ot 1 GB on both client and server sides, so that shouldn&#39;t be causing a problem, either.","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>I'm working with a fairly simple database, from a Java application.  We're trying to insert about 200k of text at a time, using the standard JDBC mysql adapter.  We intermittently get a <code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column error.</code></p>\n<p>The column type is <code>longtext</code>, and database collation is <code>UTF-8</code>.  The error shows up using both <code>MyISAM</code> and <code>InnoDB</code> table engines.  Max packet size has been set ot 1 GB on both client and server sides, so that shouldn't be causing a problem, either.</p>\n"},{"tags":["java","mongodb","mongodb-java","mongo-java","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643110182,"creation_date":1487431282,"answer_id":42316993,"question_id":42316749,"body_markdown":"Both variants you have are treating the value of `BasicDBObject` as `String`.\r\n\r\n\r\nUse \r\n\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;, Arrays.asList(&quot;xxx&quot;))        \r\n","title":"Find documents with array that contains a specific value in mongodb using java","body":"<p>Both variants you have are treating the value of <code>BasicDBObject</code> as <code>String</code>.</p>\n<p>Use</p>\n<pre><code>searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;, Arrays.asList(&quot;xxx&quot;))        \n</code></pre>\n"}],"owner":{"account_id":7006242,"reputation":840,"user_id":5370518,"accept_rate":94,"display_name":"Chit Khine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42316993,"answer_count":1,"score":2,"last_activity_date":1643110182,"creation_date":1487429897,"question_id":42316749,"body_markdown":"According to the answer provided in this link:  https://stackoverflow.com/questions/18148166/find-document-with-array-that-contains-a-specific-value, i have tried getting the items in java using this statement\r\n\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;,&quot;[xxx]&quot;));\r\n    OR\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;,&quot;xxx&quot;));\r\n\r\nBut it keeps saying the $in value must be an array while my arrayMine is an array. What should be the correct syntax in java?","title":"Find documents with array that contains a specific value in mongodb using java","body":"<p>According to the answer provided in this link:  <a href=\"https://stackoverflow.com/questions/18148166/find-document-with-array-that-contains-a-specific-value\">Find document with array that contains a specific value</a>, i have tried getting the items in java using this statement</p>\n\n<pre><code>searchQuery.put(\"arrayMine\", new BasicDBObject(\"$in\",\"[xxx]\"));\nOR\nsearchQuery.put(\"arrayMine\", new BasicDBObject(\"$in\",\"xxx\"));\n</code></pre>\n\n<p>But it keeps saying the $in value must be an array while my arrayMine is an array. What should be the correct syntax in java?</p>\n"},{"tags":["java","encoding","hmac"],"answers":[{"tags":[],"owner":{"account_id":13938739,"reputation":116,"user_id":10065168,"display_name":"ACMattos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643110165,"creation_date":1643110165,"answer_id":70847863,"question_id":67323992,"body_markdown":"Have you tried adding to your pom.xml:\r\n\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n     &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n     &lt;version&gt;1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then use this piece of code:\r\n\r\n    String jsonBodyAsString = &quot;{\\&quot;notificationId\\&quot;:\\&quot;ff8acc67-a473-4550-8e13-da30ed54ab7d\\&quot;,\\&quot;eventType\\&quot;:\\&quot;net.authorize.customer.deleted\\&quot;,\\&quot;eventDate\\&quot;:\\&quot;2017-04-15T20:39:48.68994Z\\&quot;,\\&quot;webhookId\\&quot;:\\&quot;5eca3570-70a4-4293-aec1-5fa7bdf0183b\\&quot;,\\&quot;payload\\&quot;:{\\&quot;entityName\\&quot;:\\&quot;customerProfile\\&quot;,\\&quot;id\\&quot;:\\&quot;1811525753\\&quot;}}&quot;;\r\n    String signatureKey = &quot;D6D1EA140DA71FF6B7AB7D...CHANGE_TO_YOUR_SIGNATURE_KEY&quot;;\r\n    String xApiSignature = request.getHeader(&quot;X-API-Signature&quot;);\r\n    \r\n    String hashOfBody = new HmacUtils(HmacAlgorithms.HMAC_SHA_512, signatureKey)\r\n       .hmacHex(jsonBodyAsString);\r\n    Boolean result = xApiSignature.equalsIgnoreCase(hashOfBody);\r\n    \r\n    assertTrue(result);\r\n\r\nI could make it work with this approach.","title":"How to generate HMAC SHA 512 in Java?","body":"<p>Have you tried adding to your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then use this piece of code:</p>\n<pre><code>String jsonBodyAsString = &quot;{\\&quot;notificationId\\&quot;:\\&quot;ff8acc67-a473-4550-8e13-da30ed54ab7d\\&quot;,\\&quot;eventType\\&quot;:\\&quot;net.authorize.customer.deleted\\&quot;,\\&quot;eventDate\\&quot;:\\&quot;2017-04-15T20:39:48.68994Z\\&quot;,\\&quot;webhookId\\&quot;:\\&quot;5eca3570-70a4-4293-aec1-5fa7bdf0183b\\&quot;,\\&quot;payload\\&quot;:{\\&quot;entityName\\&quot;:\\&quot;customerProfile\\&quot;,\\&quot;id\\&quot;:\\&quot;1811525753\\&quot;}}&quot;;\nString signatureKey = &quot;D6D1EA140DA71FF6B7AB7D...CHANGE_TO_YOUR_SIGNATURE_KEY&quot;;\nString xApiSignature = request.getHeader(&quot;X-API-Signature&quot;);\n\nString hashOfBody = new HmacUtils(HmacAlgorithms.HMAC_SHA_512, signatureKey)\n   .hmacHex(jsonBodyAsString);\nBoolean result = xApiSignature.equalsIgnoreCase(hashOfBody);\n\nassertTrue(result);\n</code></pre>\n<p>I could make it work with this approach.</p>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643110165,"creation_date":1619724881,"question_id":67323992,"body_markdown":"I have to validate HMAC that I receive from webhook header.\r\n\r\nDocumenation says:\r\n`API uses HMAC (hash-based message authentication code) with the SHA-512 hash function for additional authentication. To validate against X-API-Signature, you will need to compare its value with an HMAC you have generated using the hexadecimal format of your webhook secrets and the full body of the webhook POST request in raw bytes.`\r\n\r\nWhat I am doing:\r\n\r\n```java\r\npublic String getHMACHashString(String body) throws UnsupportedEncodingException {\r\n  return \r\n       new HmacUtils(HMAC_SHA_512, String.valueOf(Hex.encodeHex(this.webhookSecret.getBytes())))\r\n       .hmacHex(body.getBytes());\r\n}\r\n\r\npublic boolean isValidHMAC(String body, String externalHMAC) throws UnsupportedEncodingException {\r\n    return this.getHMACHashString(body).equals(externalHMAC);\r\n  }\r\n\r\n```\r\n\r\nI have tried many many ways of `new HmacUtils` argumets including byte arrays/string, different StandardCharsets, etc. Nothing worked for me... \r\n\r\nDebugging results:\r\n**All of tries generated HMAC that is not equals HMAC that I receive from webhook.**\r\n\r\nWhere did I make mistake?","title":"How to generate HMAC SHA 512 in Java?","body":"<p>I have to validate HMAC that I receive from webhook header.</p>\n<p>Documenation says:\n<code>API uses HMAC (hash-based message authentication code) with the SHA-512 hash function for additional authentication. To validate against X-API-Signature, you will need to compare its value with an HMAC you have generated using the hexadecimal format of your webhook secrets and the full body of the webhook POST request in raw bytes.</code></p>\n<p>What I am doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getHMACHashString(String body) throws UnsupportedEncodingException {\n  return \n       new HmacUtils(HMAC_SHA_512, String.valueOf(Hex.encodeHex(this.webhookSecret.getBytes())))\n       .hmacHex(body.getBytes());\n}\n\npublic boolean isValidHMAC(String body, String externalHMAC) throws UnsupportedEncodingException {\n    return this.getHMACHashString(body).equals(externalHMAC);\n  }\n\n</code></pre>\n<p>I have tried many many ways of <code>new HmacUtils</code> argumets including byte arrays/string, different StandardCharsets, etc. Nothing worked for me...</p>\n<p>Debugging results:\n<strong>All of tries generated HMAC that is not equals HMAC that I receive from webhook.</strong></p>\n<p>Where did I make mistake?</p>\n"},{"tags":["java","android","android-studio","android-intent"],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643093024,"creation_date":1643093024,"answer_id":70844393,"question_id":70844323,"body_markdown":"Pending intent mutability flag error isn&#39;t necessarily where the stacktrace was thrown(from experience), try to search the project of any of your code uses pending intents without setting the mutability flag.","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>Pending intent mutability flag error isn't necessarily where the stacktrace was thrown(from experience), try to search the project of any of your code uses pending intents without setting the mutability flag.</p>\n"},{"tags":[],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110058,"creation_date":1643110058,"answer_id":70847842,"question_id":70844323,"body_markdown":"Just add this library in your gradle...\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.0-alpha05&#39;\r\n\r\nWork for me...\r\n","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>Just add this library in your gradle...</p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.7.0-alpha05'\n</code></pre>\n<p>Work for me...</p>\n"}],"owner":{"account_id":21725019,"reputation":96,"user_id":16034574,"display_name":"Soumil Tewari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643110058,"creation_date":1643092495,"question_id":70844323,"body_markdown":"This is the code -    \r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                Intent intent=new Intent(launcher.this,MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n    \r\nI am getting this error-\r\nConsole error-\r\n\r\n  \r\n\r\n   Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>This is the code -</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 31) {\n            Intent intent=new Intent(launcher.this,MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n</code></pre>\n<p>I am getting this error-\nConsole error-</p>\n<p>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\nat android.app.PendingIntent.checkFlags(PendingIntent.java:375)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1642753068,"post_id":70798089,"comment_id":125160526,"body_markdown":"no, it&#39;s just an action that i want to do, if the predicate matches.\nbasically i want ```.anyMatch()``` to return ```true``` if the instance of ```Buzz.class``` exist in the key set. \n\nMy issue is that the key set is formed of keys of type ```Class```","body":"no, it&#39;s just an action that i want to do, if the predicate matches. basically i want <code>.anyMatch()</code> to return <code>true</code> if the instance of <code>Buzz.class</code> exist in the key set.   My issue is that the key set is formed of keys of type <code>Class</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642753475,"post_id":70798089,"comment_id":125160646,"body_markdown":"Do you know about the `containsKey` method on `Map`?","body":"Do you know about the <code>containsKey</code> method on <code>Map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642784249,"creation_date":1642753429,"answer_id":70798316,"question_id":70798089,"body_markdown":"Your attempt is almost there:\r\n\r\n    Map&lt;Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; map = elements.stream().collect(\r\n        Collectors.groupingBy(Fizz::getClass, HashMap::new, Collectors.toList())\r\n    );\r\n\r\nYou don&#39;t need `? extends Class&lt;? extends Fizz&gt;`. Just `Class&lt;? extends Fizz&gt;` is fine. Also note that you should use the overload of `groupingBy` that allows you to specify a map supplier, since by default, the map returned by `groupingBy` is not guaranteed to be mutable, and you seem to want to add things to the map later on.\r\n\r\nJust to clarify, this is how you could add a new key to the map:\r\n\r\n    map.put(AnotherFizzSubclass.class, new ArrayList&lt;&gt;());\r\n\r\nThere is no `keyValues()` method in `Map` :)\r\n\r\nTo check if a key is in the map, just use `containsKey`:\r\n\r\n    if (map.containsKey(Foo.class)) {\r\n        doSomething();\r\n    }\r\n\r\nThis will `doSomething()` only if the map has exactly `Foo.class`. If you also want to `doSomething` in case the map has a subclass of `Foo` (similar to the behaviour of `instanceof`), then you can do:\r\n\r\n    if (map.keySet().stream().anyMatch(Foo.class::isAssignableFrom)) {\r\n        doSomething();\r\n    }","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>Your attempt is almost there:</p>\n<pre><code>Map&lt;Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; map = elements.stream().collect(\n    Collectors.groupingBy(Fizz::getClass, HashMap::new, Collectors.toList())\n);\n</code></pre>\n<p>You don't need <code>? extends Class&lt;? extends Fizz&gt;</code>. Just <code>Class&lt;? extends Fizz&gt;</code> is fine. Also note that you should use the overload of <code>groupingBy</code> that allows you to specify a map supplier, since by default, the map returned by <code>groupingBy</code> is not guaranteed to be mutable, and you seem to want to add things to the map later on.</p>\n<p>Just to clarify, this is how you could add a new key to the map:</p>\n<pre><code>map.put(AnotherFizzSubclass.class, new ArrayList&lt;&gt;());\n</code></pre>\n<p>There is no <code>keyValues()</code> method in <code>Map</code> :)</p>\n<p>To check if a key is in the map, just use <code>containsKey</code>:</p>\n<pre><code>if (map.containsKey(Foo.class)) {\n    doSomething();\n}\n</code></pre>\n<p>This will <code>doSomething()</code> only if the map has exactly <code>Foo.class</code>. If you also want to <code>doSomething</code> in case the map has a subclass of <code>Foo</code> (similar to the behaviour of <code>instanceof</code>), then you can do:</p>\n<pre><code>if (map.keySet().stream().anyMatch(Foo.class::isAssignableFrom)) {\n    doSomething();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642771575,"creation_date":1642771575,"answer_id":70802036,"question_id":70798089,"body_markdown":"You can always extend the `Hashmap` and override the Class to make it polymorphic.\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Optional;\r\n\r\npublic class PolyHashMap&lt;K extends Class&lt;?&gt;,V&gt; extends HashMap&lt;K,V&gt; {\r\n    @Override\r\n    public boolean containsKey(Object key) {\r\n        return findClass((K)key).isPresent();\r\n    }\r\n\r\n    @Override\r\n    public V get(Object key) {\r\n        var entry = findClass((K)key);\r\n        return entry.map(Entry::getValue).orElse(null);\r\n    }\r\n\r\n    private Optional&lt;Entry&lt;K,V&gt;&gt; findClass(K key) {\r\n        return entrySet().stream()\r\n                .filter(e -&gt; e.getKey().isAssignableFrom(key))\r\n                .findFirst();\r\n    }\r\n}\r\n``` \r\n\r\nThen you can use this map in your program as\r\n```\r\npublic static void main(String[] args) {\r\n    PolyHashMap&lt;Class&lt;?&gt;, List&lt;Fizz&gt;&gt; map = new PolyHashMap&lt;&gt;();\r\n    map.put(Buzz.class, Arrays.asList(new Buzz(),new Buzz()));\r\n    map.put(Foo.class, Arrays.asList(new Foo()));\r\n\r\n    System.out.println(map.get(Buzz.class).size());\r\n    System.out.println(map.get(Foo.class).size());\r\n\r\n}\r\n```","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>You can always extend the <code>Hashmap</code> and override the Class to make it polymorphic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Optional;\n\npublic class PolyHashMap&lt;K extends Class&lt;?&gt;,V&gt; extends HashMap&lt;K,V&gt; {\n    @Override\n    public boolean containsKey(Object key) {\n        return findClass((K)key).isPresent();\n    }\n\n    @Override\n    public V get(Object key) {\n        var entry = findClass((K)key);\n        return entry.map(Entry::getValue).orElse(null);\n    }\n\n    private Optional&lt;Entry&lt;K,V&gt;&gt; findClass(K key) {\n        return entrySet().stream()\n                .filter(e -&gt; e.getKey().isAssignableFrom(key))\n                .findFirst();\n    }\n}\n</code></pre>\n<p>Then you can use this map in your program as</p>\n<pre><code>public static void main(String[] args) {\n    PolyHashMap&lt;Class&lt;?&gt;, List&lt;Fizz&gt;&gt; map = new PolyHashMap&lt;&gt;();\n    map.put(Buzz.class, Arrays.asList(new Buzz(),new Buzz()));\n    map.put(Foo.class, Arrays.asList(new Foo()));\n\n    System.out.println(map.get(Buzz.class).size());\n    System.out.println(map.get(Foo.class).size());\n\n}\n</code></pre>\n"}],"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70798316,"answer_count":2,"score":1,"last_activity_date":1643109928,"creation_date":1642752114,"question_id":70798089,"body_markdown":"I have the following objects:\r\n\r\n```\r\nabstract class Fizz {\r\n\r\n}\r\n\r\nclass Foo extends Fizz {\r\n\r\n}\r\n\r\nclass Bar extends Fizz {\r\n\r\n}\r\n\r\nclass Buzz extends Fizz {\r\n\r\n}\r\n\r\n```\r\n\r\nThen i have a list of **Fizz** objects\r\n\r\n```\r\nList&lt;Fizz&gt; elements;\r\n```\r\n\r\nI want to group this elements in a\r\n```\r\nMap &lt;Fizz, List&lt;Fizz&gt;&gt; mapFizz;\r\n```\r\n\r\nAnd in the end be able to retrieve Map values as following:\r\n```\r\nList&lt;Foo&gt; fooList = mapFizz.get(Foo.class);\r\nList&lt;Bar&gt; barList = mapFizz.get(Bar.class);\r\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class);\r\n\r\n```\r\n\r\nI want to be able to iterate over the Map keySet and check if an instance of the Buzz exist and then do something:\r\n```\r\n\r\nboolean buzzExists = mapFizz.keySet().stream()\r\n           .anyMatch(theKey -&gt; instanceof Buzz.class)\r\n```\r\n```\r\nbuzzExists = true \r\n```\r\nwhen i am able to do \r\n```\r\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class)\r\n```\r\n\r\n\r\n and also be able to add new key that extends Fizz;\r\n```\r\nclass Look extends Fizz{\r\n}\r\n\r\nmapFizz.keyValues().add(Look.class);\r\n\r\n```\r\n\r\nWhat i&#39;ve tried is this, and it works partially:\r\n\r\n```\r\nList&lt;Fizz&gt; elements = a list with many Fizz elements;\r\n\r\nMap&lt;? extends Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\r\n.collect(\r\n          Collectors.groupingBy(\r\n             Fizz::getClass\r\n        )\r\n     )\r\n```\r\n\r\nThe above solution partially works. I can retrieve the elements of the map with:\r\n```\r\nList&lt;Foo&gt; fooList = mapedElements.get(Foo.class);\r\n\r\n```\r\n\r\nBut all of the keys are instance of the Class.class and i can&#39;t do:\r\n```\r\nmapedElements.keySet().stream()\r\n                      .anyMatch( aKey -&gt; aKey instanceof Foo.class) //always false\r\n```\r\neven if I am able to do\r\n```\r\nList&lt;Foo&gt; fooElements = mapedElements.get(Foo.class)\r\n```\r\n\r\n\r\n\r\n----------------------------------------------------\r\nThe workaround that i&#39;ve found would be:\r\n```\r\nMap&lt;String, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\r\n.collect(\r\n          Collectors.groupingBy(\r\n             element -&gt; element.getClass().getName()\r\n        )\r\n     )\r\n```\r\nand then the key would be the **import path** of each class that extends Fizz: *com.package.folder.Foo*\r\n\r\nBut i wanted to check if maybe there is a cleaner solution\r\nThanks\r\n\r\n\r\n","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>I have the following objects:</p>\n<pre><code>abstract class Fizz {\n\n}\n\nclass Foo extends Fizz {\n\n}\n\nclass Bar extends Fizz {\n\n}\n\nclass Buzz extends Fizz {\n\n}\n\n</code></pre>\n<p>Then i have a list of <strong>Fizz</strong> objects</p>\n<pre><code>List&lt;Fizz&gt; elements;\n</code></pre>\n<p>I want to group this elements in a</p>\n<pre><code>Map &lt;Fizz, List&lt;Fizz&gt;&gt; mapFizz;\n</code></pre>\n<p>And in the end be able to retrieve Map values as following:</p>\n<pre><code>List&lt;Foo&gt; fooList = mapFizz.get(Foo.class);\nList&lt;Bar&gt; barList = mapFizz.get(Bar.class);\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class);\n\n</code></pre>\n<p>I want to be able to iterate over the Map keySet and check if an instance of the Buzz exist and then do something:</p>\n<pre><code>\nboolean buzzExists = mapFizz.keySet().stream()\n           .anyMatch(theKey -&gt; instanceof Buzz.class)\n</code></pre>\n<pre><code>buzzExists = true \n</code></pre>\n<p>when i am able to do</p>\n<pre><code>List&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class)\n</code></pre>\n<p>and also be able to add new key that extends Fizz;</p>\n<pre><code>class Look extends Fizz{\n}\n\nmapFizz.keyValues().add(Look.class);\n\n</code></pre>\n<p>What i've tried is this, and it works partially:</p>\n<pre><code>List&lt;Fizz&gt; elements = a list with many Fizz elements;\n\nMap&lt;? extends Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\n.collect(\n          Collectors.groupingBy(\n             Fizz::getClass\n        )\n     )\n</code></pre>\n<p>The above solution partially works. I can retrieve the elements of the map with:</p>\n<pre><code>List&lt;Foo&gt; fooList = mapedElements.get(Foo.class);\n\n</code></pre>\n<p>But all of the keys are instance of the Class.class and i can't do:</p>\n<pre><code>mapedElements.keySet().stream()\n                      .anyMatch( aKey -&gt; aKey instanceof Foo.class) //always false\n</code></pre>\n<p>even if I am able to do</p>\n<pre><code>List&lt;Foo&gt; fooElements = mapedElements.get(Foo.class)\n</code></pre>\n<hr />\n<p>The workaround that i've found would be:</p>\n<pre><code>Map&lt;String, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\n.collect(\n          Collectors.groupingBy(\n             element -&gt; element.getClass().getName()\n        )\n     )\n</code></pre>\n<p>and then the key would be the <strong>import path</strong> of each class that extends Fizz: <em>com.package.folder.Foo</em></p>\n<p>But i wanted to check if maybe there is a cleaner solution\nThanks</p>\n"},{"tags":["java","jakarta-ee","xml-parsing","sax","saxparser"],"comments":[{"owner":{"account_id":35380,"reputation":12888,"user_id":100190,"accept_rate":87,"display_name":"Matti Lyra"},"score":0,"creation_date":1346082348,"post_id":12144993,"comment_id":16248288,"body_markdown":"Can you not get one implementation, then set the `javax.xml.parsers.SAXParserFactory` system property and then get the other implementation?","body":"Can you not get one implementation, then set the <code>javax.xml.parsers.SAXParserFactory</code> system property and then get the other implementation?"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1346081845,"creation_date":1346081845,"answer_id":12145059,"question_id":12144993,"body_markdown":"Pretty sure you can&#39;t (unless you use multiple classloaders).  The code which depends on the other implementation should instantiate it directly (using the implementation class name).","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>Pretty sure you can't (unless you use multiple classloaders).  The code which depends on the other implementation should instantiate it directly (using the implementation class name).</p>\n"},{"tags":[],"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643109884,"creation_date":1643109884,"answer_id":70847805,"question_id":12144993,"body_markdown":"The implementation to use can also be defined via \r\n\r\n    -Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\r\n\r\nas java command line argument.","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>The implementation to use can also be defined via</p>\n<pre><code>-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n</code></pre>\n<p>as java command line argument.</p>\n"}],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12145059,"answer_count":2,"score":0,"last_activity_date":1643109884,"creation_date":1346081536,"question_id":12144993,"body_markdown":"I have a web application on tomcat. The application needs two SAXParserFactory implements: one is JDK default implement `com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl`, the other one is from xerces: `org.apache.xerces.jaxp.SAXParserFactoryImpl`.\r\n\r\nHere&#39;s the problem, `SAXParserFactory.newInstance()` just selects **only one** implementation by specific order, as follows:\r\n\r\n - Use the javax.xml.parsers.SAXParserFactory system property.\r\n - UseUse the JAVA_HOME(the parent directory where jdk is installed)/lib/jaxp.properties for a property file that contains the name of the implementation class keyed on the same value as the system property defined above.\r\n - Use the Services API (as detailed in teh JAR specification), if available, to determine the classname. The Services API will look for a classname in the file META-INF/services/javax.xml.parsers.SAXParserFactory in jars available to the runtime.\r\n - Platform default SAXParserFactory instance.\r\n\r\nI tried to configure the different classnames in *javax.xml.parsers.SAXParserFactory* in different jar files. But it&#39;s scope for whole classloader. In tomcat, all application libs are loaded in one classloader. For instance, the configure file in A.jar will overwrite the configure in B.jar, eventually all application gets the configure from A.jar.\r\n\r\nSo my question is how can I specific these two SAXParserFactory implementations in one web application? Thank you.\r\n\r\n","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>I have a web application on tomcat. The application needs two SAXParserFactory implements: one is JDK default implement <code>com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl</code>, the other one is from xerces: <code>org.apache.xerces.jaxp.SAXParserFactoryImpl</code>.</p>\n\n<p>Here's the problem, <code>SAXParserFactory.newInstance()</code> just selects <strong>only one</strong> implementation by specific order, as follows:</p>\n\n<ul>\n<li>Use the javax.xml.parsers.SAXParserFactory system property.</li>\n<li>UseUse the JAVA_HOME(the parent directory where jdk is installed)/lib/jaxp.properties for a property file that contains the name of the implementation class keyed on the same value as the system property defined above.</li>\n<li>Use the Services API (as detailed in teh JAR specification), if available, to determine the classname. The Services API will look for a classname in the file META-INF/services/javax.xml.parsers.SAXParserFactory in jars available to the runtime.</li>\n<li>Platform default SAXParserFactory instance.</li>\n</ul>\n\n<p>I tried to configure the different classnames in <em>javax.xml.parsers.SAXParserFactory</em> in different jar files. But it's scope for whole classloader. In tomcat, all application libs are loaded in one classloader. For instance, the configure file in A.jar will overwrite the configure in B.jar, eventually all application gets the configure from A.jar.</p>\n\n<p>So my question is how can I specific these two SAXParserFactory implementations in one web application? Thank you.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1643105293,"post_id":70846526,"comment_id":125245637,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1643105354,"post_id":70846526,"comment_id":125245661,"body_markdown":"Looks like you should be running that method on the FX Thread: `Platfom.runLater(() -&gt; strSelectDirectory(someInt));`...","body":"Looks like you should be running that method on the FX Thread: <code>Platfom.runLater(() -&gt; strSelectDirectory(someInt));</code>..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1643105938,"post_id":70846526,"comment_id":125245865,"body_markdown":"Complete stacktrace please.","body":"Complete stacktrace please."}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643109540,"creation_date":1643109540,"answer_id":70847730,"question_id":70846526,"body_markdown":"Instances of `Runnable` create &quot;runnable&quot; blocks of code to be executed on a thread. By definition, different thread from the one named JavaFX Application Thread.\r\n\r\nIn short, JavaFX relies on its own thread structure to update its graphic co-routine, therefore any code which interacts with components that deal with graphics, must be executed inside the JavaFX platform&#39;s compliant logical end-points.\r\n\r\nUse `Platform.runLater( () -&gt;{ /*your code here*/ });` to inject logic wihch affects UI components.\r\n\r\nThis effectively creates a logical hook which executes your code in the JavaFXThread construct as part of it&#39;s graphics update subroutine.\r\n\r\nThis also affects all logical routines which handle window content or window objects (stages).\r\n\r\nLastly, make sure you use `Platform.exit()` whenever you effectively want to close your application, or you will have hanging, immortal instances of the JVM which will never close.","title":"Exception in thread &quot;JavaFX Application Thread&quot;","body":"<p>Instances of <code>Runnable</code> create &quot;runnable&quot; blocks of code to be executed on a thread. By definition, different thread from the one named JavaFX Application Thread.</p>\n<p>In short, JavaFX relies on its own thread structure to update its graphic co-routine, therefore any code which interacts with components that deal with graphics, must be executed inside the JavaFX platform's compliant logical end-points.</p>\n<p>Use <code>Platform.runLater( () -&gt;{ /*your code here*/ });</code> to inject logic wihch affects UI components.</p>\n<p>This effectively creates a logical hook which executes your code in the JavaFXThread construct as part of it's graphics update subroutine.</p>\n<p>This also affects all logical routines which handle window content or window objects (stages).</p>\n<p>Lastly, make sure you use <code>Platform.exit()</code> whenever you effectively want to close your application, or you will have hanging, immortal instances of the JVM which will never close.</p>\n"}],"owner":{"account_id":14166781,"reputation":155,"user_id":10234524,"display_name":"Hronic"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1643110296,"answer_count":1,"score":-3,"last_activity_date":1643109540,"creation_date":1643104260,"question_id":70846526,"body_markdown":"Whenever I use the following method, I receive:\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot;\r\n&gt; java.lang.IllegalStateException: Not on FX application thread;\r\n&gt; currentThread = JavaFX Application Thread\r\n\r\nI don&#39;t understand how to implement runnable to solve it.&lt;br&gt;\r\nAll I want is to use JavaFX, select file/directory and get the string to the selected file/directory -&gt; then I open new stages. &lt;br&gt;\r\n\r\n    private static String strSelectDirectory(int intFileType)\r\n    {\r\n        String strResult=&quot;&quot;;\r\n            Stage stage = new Stage();\r\n            File fileDefaultDir = new File(System.getProperty(&quot;user.dir&quot;)); //Default directory of selection\r\n            if(intFileType==0)                                              //Select File\r\n            {\r\n                FileChooser fileChooser = new FileChooser();                //define file chooser\r\n                fileChooser.setInitialDirectory(fileDefaultDir);            //define default/starting directory\r\n                File selectedFile = fileChooser.showOpenDialog(stage);      //open filedialog and select file\r\n                strResult=selectedFile.getPath();\r\n            } else if(intFileType==1)                                               //Select Directory\r\n            {\r\n                DirectoryChooser directoryChooser = new DirectoryChooser();         //define directory chooser\r\n                directoryChooser.setInitialDirectory(fileDefaultDir);               //define default/starting directory\r\n                File selectedDirectory = directoryChooser.showDialog(stage);        //open filedialog and select directory\r\n                strResult=selectedDirectory.getAbsolutePath();\r\n            }\r\n            stage.close();\r\n        return strResult;\r\n    }\r\n\r\n","title":"Exception in thread &quot;JavaFX Application Thread&quot;","body":"<p>Whenever I use the following method, I receive:</p>\n<blockquote>\n<p>Exception in thread &quot;JavaFX Application Thread&quot;\njava.lang.IllegalStateException: Not on FX application thread;\ncurrentThread = JavaFX Application Thread</p>\n</blockquote>\n<p>I don't understand how to implement runnable to solve it.<br>\nAll I want is to use JavaFX, select file/directory and get the string to the selected file/directory -&gt; then I open new stages. <br></p>\n<pre><code>private static String strSelectDirectory(int intFileType)\n{\n    String strResult=&quot;&quot;;\n        Stage stage = new Stage();\n        File fileDefaultDir = new File(System.getProperty(&quot;user.dir&quot;)); //Default directory of selection\n        if(intFileType==0)                                              //Select File\n        {\n            FileChooser fileChooser = new FileChooser();                //define file chooser\n            fileChooser.setInitialDirectory(fileDefaultDir);            //define default/starting directory\n            File selectedFile = fileChooser.showOpenDialog(stage);      //open filedialog and select file\n            strResult=selectedFile.getPath();\n        } else if(intFileType==1)                                               //Select Directory\n        {\n            DirectoryChooser directoryChooser = new DirectoryChooser();         //define directory chooser\n            directoryChooser.setInitialDirectory(fileDefaultDir);               //define default/starting directory\n            File selectedDirectory = directoryChooser.showDialog(stage);        //open filedialog and select directory\n            strResult=selectedDirectory.getAbsolutePath();\n        }\n        stage.close();\n    return strResult;\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1643040343,"post_id":70836783,"comment_id":125228209,"body_markdown":"Use `Boolean.box` - As I always say, the [**Scaladoc**](https://www.scala-lang.org/api/current/scala/Boolean$.html) is your friend.","body":"Use <code>Boolean.box</code> - As I always say, the <a href=\"https://www.scala-lang.org/api/current/scala/Boolean%24.html\" rel=\"nofollow noreferrer\"><b>Scaladoc</b></a> is your friend."},{"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"score":0,"creation_date":1643040820,"post_id":70836783,"comment_id":125228436,"body_markdown":"@LuisMiguelMej&#237;aSu&#225;rez Thank you, but `box` is the wrong direction.  That&#39;s for scala =&gt; java, I want java =&gt; scala","body":"@LuisMiguelMej&#237;aSu&#225;rez Thank you, but <code>box</code> is the wrong direction.  That&#39;s for scala =&gt; java, I want java =&gt; scala"},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":4,"creation_date":1643040851,"post_id":70836783,"comment_id":125228451,"body_markdown":"There is `unbox` right below in the docs...","body":"There is <code>unbox</code> right below in the docs..."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643041780,"post_id":70836783,"comment_id":125228886,"body_markdown":"God, I even looked for it before commenting and still I wrote it wrong... I am a failure. Anyways, should we close this? Or should I add it as an answer? I think this falls close to a typo but not sure what other folks think.","body":"God, I even looked for it before commenting and still I wrote it wrong... I am a failure. Anyways, should we close this? Or should I add it as an answer? I think this falls close to a typo but not sure what other folks think."}],"answers":[{"tags":[],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643043930,"creation_date":1643043930,"answer_id":70837648,"question_id":70836783,"body_markdown":"The [`Boolean.unbox`][1] method will convert to scala Boolean.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/api/2.12.9/scala/Boolean$.html#unbox(x:Object):Boolean","title":"How to Convert java.lang.Boolean to scala.Boolean?","body":"<p>The <a href=\"https://www.scala-lang.org/api/2.12.9/scala/Boolean$.html#unbox(x:Object):Boolean\" rel=\"nofollow noreferrer\"><code>Boolean.unbox</code></a> method will convert to scala Boolean.</p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643109393,"creation_date":1643040237,"question_id":70836783,"body_markdown":"**How can a `java.lang.Boolean` be converted to a `scala.Boolean`?**\r\n\r\nThere is [a similar question][1] which is specific to Spring and Swagger.  My question is more generic and applicable in any circumstances.\r\n\r\nThank you in advance for your consideration and response.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52581683/convert-java-lang-boolean-to-scala-boolean","title":"How to Convert java.lang.Boolean to scala.Boolean?","body":"<p><strong>How can a <code>java.lang.Boolean</code> be converted to a <code>scala.Boolean</code>?</strong></p>\n<p>There is <a href=\"https://stackoverflow.com/questions/52581683/convert-java-lang-boolean-to-scala-boolean\">a similar question</a> which is specific to Spring and Swagger.  My question is more generic and applicable in any circumstances.</p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","api","rest","okhttp"],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643109368,"creation_date":1643109368,"question_id":70847686,"body_markdown":"I&#39;m trying to make a request to the Third-party API, but I&#39;m running into some issues using OkHTTP.\r\nI&#39;m using AWS4Signer to sign the request. I&#39;m able to generate the credentials for the same.\r\n```\r\nRequest&lt;Void&gt; requestAws = new DefaultRequest&lt;Void&gt;(&quot;sts&quot;);\r\n\t\trequestAws.setHttpMethod(HttpMethodName.POST);\r\n\t\trequestAws.setEndpoint(URI.create(&quot;third pary api call which uses https&quot;));\r\n\t\trequestAws.addHeader(&quot;x-amz-security-token&quot;, sessionCredentials.getSessionToken());\r\n\t\trequestAws.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t   \r\n\t    //sign the request\r\n\t\tAWS4Signer signer = new AWS4Signer();\r\n\t    signer.setServiceName(Constant.SERVICE_NAME);\r\n\t    signer.setRegionName(Constant.AWS_REGION);\r\n\t    signer.sign(requestAws, new AWSCredentials() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic String getAWSSecretKey() {\r\n\t\t\t\treturn sessionCredentials.getAccessKeyId();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic String getAWSAccessKeyId() {\r\n\t\t\t\treturn sessionCredentials.getSecretAccessKey();\r\n\t\t\t}\r\n\t\t});\r\n\t   \r\n\t    Map&lt;String, String&gt; headers = requestAws.getHeaders();\r\n\t    String x_date = null;\r\n\t    String x_token = null;\r\n\t    String authorization = null;\r\n\t    String x_content = null;\r\n\t    //get and assign values\r\n\t    for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\r\n\t        if (entry.getKey().equals(&quot;x-amz-security-token&quot;)) {\r\n\t            x_token = entry.getValue();\r\n\t        }\r\n\t        if (entry.getKey().equals(&quot;X-Amz-Date&quot;)) {\r\n\t            x_date = entry.getValue();\r\n\t        }\r\n\t        if (entry.getKey().equals(&quot;Authorization&quot;)) {\r\n\t            authorization = entry.getValue();\r\n\t        }\r\n\t    }\r\n\t  \r\n\t   logger.info(&quot;Headers body response: &quot; + JsonUtils.jsonize(headers));\r\n\t   String json = objectMapper.writeValueAsString(emailRequestBody);\r\n\t  \r\n\t   postHandler.post(x_date, x_token, authorization, json);\r\n```\r\nBelow is the request code of okHTTP\r\n```\r\n String post(String x_date, String x_token, String authorization, String json) throws IOException {\r\n\t\tRequestBody body = RequestBody.create(json, JSON);\r\n\t\tRequest request = new Request.Builder()\r\n\t\t\t\t.url(&quot;https url is here&quot;)\r\n\t            .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t            .addHeader(&quot;X-Amz-Date&quot;, x_date)\r\n\t            .addHeader(&quot;x-amz-security-token&quot;, x_token)\r\n\t            .addHeader(&quot;Authorization&quot;, authorization)\r\n\t            .post(body)\r\n\t            .build();\r\n\t\t\r\n\t\ttry (Response response = client.newCall(request).execute()) {\r\n\t\t  return response.body().string();\r\n\t\t}\r\n\t  }\r\n```\r\n\r\nBelow is how the request looks like with headers:\r\n```\r\nRequest{method=POST, url=https://cbc.com/api/send/email, headers=[Content-Type:application/json, X-Amz-Date:20220125T111056Z, x-amz-security-token:FwoGZXIvYXdzEHUaDF6/kQ0g7Mog7W1f7CK0ATG5xhFIXP34wRjziAkJKhw9vE5cbADBOpji7uqtLp5GLGLay+e9O2deFRB4eSpUMOOThDCEQg1tum43iX4a+8Kikuc3fv5gDjbMrdLJYAK3piYVbOAET8BAXdDdkPZVG+nNu31cEWZe9HC60svIj0m95YZ9Xx5rBIDm0AVWtj4JRCmonNm1ymCNRB4GTjhEzgnxlkqEYfdUivFdlORq/IlIssUzzV04fkr0kiqDiE9GrmU51ijAtb+PBjIt9MWbM8+x4z+y+IV4JFjuK4zrVW3Iaw4xUG/C+mpcCrZrunh+8fWgVTR6In1r, Authorization:AWS4-HMAC-SHA256 Credential=medS2y7xvISbOf7ke3IWthyCMV5koeTDD5r3gkxJ/20220125/us-west-2/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token, Signature=d862c9ed8175770244e17fd3cb216c2a92138183ad427ed67fc5f284a1a75266]}\r\n```\r\n\r\nBelow is the response:\r\n```\r\nResponse{protocol=h2, code=403, message=, url=https://cbc.com/api/send/email}\r\n```\r\n\r\nWhy the response is returning 403? Can someone help me what I missed?  Thank you for your time.","title":"OkHttp returns 403 as response","body":"<p>I'm trying to make a request to the Third-party API, but I'm running into some issues using OkHTTP.\nI'm using AWS4Signer to sign the request. I'm able to generate the credentials for the same.</p>\n<pre><code>Request&lt;Void&gt; requestAws = new DefaultRequest&lt;Void&gt;(&quot;sts&quot;);\n        requestAws.setHttpMethod(HttpMethodName.POST);\n        requestAws.setEndpoint(URI.create(&quot;third pary api call which uses https&quot;));\n        requestAws.addHeader(&quot;x-amz-security-token&quot;, sessionCredentials.getSessionToken());\n        requestAws.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n       \n        //sign the request\n        AWS4Signer signer = new AWS4Signer();\n        signer.setServiceName(Constant.SERVICE_NAME);\n        signer.setRegionName(Constant.AWS_REGION);\n        signer.sign(requestAws, new AWSCredentials() {\n            \n            @Override\n            public String getAWSSecretKey() {\n                return sessionCredentials.getAccessKeyId();\n            }\n            \n            @Override\n            public String getAWSAccessKeyId() {\n                return sessionCredentials.getSecretAccessKey();\n            }\n        });\n       \n        Map&lt;String, String&gt; headers = requestAws.getHeaders();\n        String x_date = null;\n        String x_token = null;\n        String authorization = null;\n        String x_content = null;\n        //get and assign values\n        for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n            if (entry.getKey().equals(&quot;x-amz-security-token&quot;)) {\n                x_token = entry.getValue();\n            }\n            if (entry.getKey().equals(&quot;X-Amz-Date&quot;)) {\n                x_date = entry.getValue();\n            }\n            if (entry.getKey().equals(&quot;Authorization&quot;)) {\n                authorization = entry.getValue();\n            }\n        }\n      \n       logger.info(&quot;Headers body response: &quot; + JsonUtils.jsonize(headers));\n       String json = objectMapper.writeValueAsString(emailRequestBody);\n      \n       postHandler.post(x_date, x_token, authorization, json);\n</code></pre>\n<p>Below is the request code of okHTTP</p>\n<pre><code> String post(String x_date, String x_token, String authorization, String json) throws IOException {\n        RequestBody body = RequestBody.create(json, JSON);\n        Request request = new Request.Builder()\n                .url(&quot;https url is here&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;X-Amz-Date&quot;, x_date)\n                .addHeader(&quot;x-amz-security-token&quot;, x_token)\n                .addHeader(&quot;Authorization&quot;, authorization)\n                .post(body)\n                .build();\n        \n        try (Response response = client.newCall(request).execute()) {\n          return response.body().string();\n        }\n      }\n</code></pre>\n<p>Below is how the request looks like with headers:</p>\n<pre><code>Request{method=POST, url=https://cbc.com/api/send/email, headers=[Content-Type:application/json, X-Amz-Date:20220125T111056Z, x-amz-security-token:FwoGZXIvYXdzEHUaDF6/kQ0g7Mog7W1f7CK0ATG5xhFIXP34wRjziAkJKhw9vE5cbADBOpji7uqtLp5GLGLay+e9O2deFRB4eSpUMOOThDCEQg1tum43iX4a+8Kikuc3fv5gDjbMrdLJYAK3piYVbOAET8BAXdDdkPZVG+nNu31cEWZe9HC60svIj0m95YZ9Xx5rBIDm0AVWtj4JRCmonNm1ymCNRB4GTjhEzgnxlkqEYfdUivFdlORq/IlIssUzzV04fkr0kiqDiE9GrmU51ijAtb+PBjIt9MWbM8+x4z+y+IV4JFjuK4zrVW3Iaw4xUG/C+mpcCrZrunh+8fWgVTR6In1r, Authorization:AWS4-HMAC-SHA256 Credential=medS2y7xvISbOf7ke3IWthyCMV5koeTDD5r3gkxJ/20220125/us-west-2/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token, Signature=d862c9ed8175770244e17fd3cb216c2a92138183ad427ed67fc5f284a1a75266]}\n</code></pre>\n<p>Below is the response:</p>\n<pre><code>Response{protocol=h2, code=403, message=, url=https://cbc.com/api/send/email}\n</code></pre>\n<p>Why the response is returning 403? Can someone help me what I missed?  Thank you for your time.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":1354119,"reputation":158,"user_id":1292881,"display_name":"Minesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642696321,"creation_date":1642696321,"answer_id":70789936,"question_id":70789838,"body_markdown":"Good Day!\r\n\r\nNeed to check:\r\n\r\n - API URL\r\n - Need to run spring application so test method able to call    API\r\n   URL.","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>Good Day!</p>\n<p>Need to check:</p>\n<ul>\n<li>API URL</li>\n<li>Need to run spring application so test method able to call    API\nURL.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18059170,"reputation":11,"user_id":13126700,"display_name":"vikash pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642712275,"creation_date":1642712275,"answer_id":70793306,"question_id":70789838,"body_markdown":"Try Creating a explicit json and then pass in body, also in your controller, you are expecting a single string name, try getting that from the json.\r\neg:\r\n\r\n\r\n\r\n    @Test\r\n    void testGetAllUsers() throws Exception {\r\n        JSONObject json = new JSONObject();\r\n        json.put(&quot;name&quot;, &quot;john&quot;);\r\n        this.mvc.perform(post(&quot;/api/users&quot;)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)     \r\n        .content(json.toString())\r\n        .andDo(print())\r\n        .andExpect(status().isCreated()); }\r\n\r\nAnd in your controller you can try something like this\r\n\r\n    @PostMapping(path = &quot;/users&quot;)\r\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name        \r\n    ) {\r\n        JSONObject json = new JSONObject(name);\r\n        String userName = json.getString(&quot;name&quot;);\r\n        return userService.createUser(userName);\r\n    }\r\n\r\n","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>Try Creating a explicit json and then pass in body, also in your controller, you are expecting a single string name, try getting that from the json.\neg:</p>\n<pre><code>@Test\nvoid testGetAllUsers() throws Exception {\n    JSONObject json = new JSONObject();\n    json.put(&quot;name&quot;, &quot;john&quot;);\n    this.mvc.perform(post(&quot;/api/users&quot;)\n    .accept(MediaType.APPLICATION_JSON)\n    .contentType(MediaType.APPLICATION_JSON)\n    .characterEncoding(&quot;utf-8&quot;)     \n    .content(json.toString())\n    .andDo(print())\n    .andExpect(status().isCreated()); }\n</code></pre>\n<p>And in your controller you can try something like this</p>\n<pre><code>@PostMapping(path = &quot;/users&quot;)\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n    @RequestBody String name        \n) {\n    JSONObject json = new JSONObject(name);\n    String userName = json.getString(&quot;name&quot;);\n    return userService.createUser(userName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643109059,"creation_date":1643109059,"answer_id":70847622,"question_id":70789838,"body_markdown":"So this was a simplified example of my real web service.\r\nProblem came from the fact that I used several time @RequestBody in the same request\r\n```java\r\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name ,\r\n        @RequestBody String lastName,\r\n```\r\nwhich was the source of the problem.\r\n\r\nTo solve that I created a DTO like\r\n\r\n```java\r\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody UserDTO userDto\r\n```\r\n\r\nAnd now it is working fine","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>So this was a simplified example of my real web service.\nProblem came from the fact that I used several time @RequestBody in the same request</p>\n<pre class=\"lang-java prettyprint-override\"><code>public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody String name ,\n        @RequestBody String lastName,\n</code></pre>\n<p>which was the source of the problem.</p>\n<p>To solve that I created a DTO like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody UserDTO userDto\n</code></pre>\n<p>And now it is working fine</p>\n"}],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847622,"answer_count":3,"score":0,"last_activity_date":1643109059,"creation_date":1642695968,"question_id":70789838,"body_markdown":" I try to mock a mvc request for testing end to end my controller in spring. \r\n\r\nThe post request needs a request body but I get an error 400 telling me that required request body is missing even though I see its body using MockMvcResultsHandler print.\r\n\r\nproject architecture :\r\n\r\n- src\r\n   - main\r\n   - test\r\n      - applications.properties\r\n      - controllers\r\n      - services\r\n\r\nSo here&#39;s my application.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:tesdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=*****\r\nspring.datasource.password=*****\r\nspring.jpa.show-sql = true\r\n```\r\nHere&#39;s my test\r\n\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class IntegrationTest {\r\n    protected User mockUser;\r\n  \r\n    protected List&lt;User&gt; allUsers;\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\r\n    }\r\n    \r\n    @Test\r\n    void testGetAllUsers() throws Exception {\r\n        this.mvc.perform(post(&quot;/api/users&quot;)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)     \r\n        .content(&quot;{\\&quot;name\\&quot;:\\&quot;name\\&quot;}&quot;))\r\n        .andDo(print())\r\n        .andExpect(status().isCreated());\r\n   }\r\n}\r\n```\r\n\r\nMy @RestController\r\n\r\n```java\r\n    @PostMapping(path = &quot;/users&quot;)\r\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name        \r\n    ) {\r\n        return userService.createUser(name);\r\n    }\r\n```\r\n\r\nand my user @Service\r\n\r\n```java\r\npublic ResponseEntity&lt;User&gt; createUser(String name) {\r\n        User user = new User();\r\n        user.setName(name);\r\n        userRepository.save(user);\r\n```\r\n\r\nAnd when I try to launch my test I get in my debug console\r\n\r\n```\r\nDefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; ....addNewType(java.lang.String,java.lang.Boolean)]\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /api/users\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=utf-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;32&quot;]\r\n             Body = {&quot;name&quot;:&quot;concat&quot;}\r\n    Session Attrs = {}\r\n```\r\n\r\nand response is :\r\n\r\n```\r\nMockHttpServletResponse:\r\n           Status = 400\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\n```\r\n\r\nget methods seems to work when I use the same architecture, body seems to be present in the console but servelt doesn&#39;t seem to see/understand the request body.","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>I try to mock a mvc request for testing end to end my controller in spring.</p>\n<p>The post request needs a request body but I get an error 400 telling me that required request body is missing even though I see its body using MockMvcResultsHandler print.</p>\n<p>project architecture :</p>\n<ul>\n<li>src\n<ul>\n<li>main</li>\n<li>test\n<ul>\n<li>applications.properties</li>\n<li>controllers</li>\n<li>services</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>So here's my application.properties</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:tesdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=*****\nspring.datasource.password=*****\nspring.jpa.show-sql = true\n</code></pre>\n<p>Here's my test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class IntegrationTest {\n    protected User mockUser;\n  \n    protected List&lt;User&gt; allUsers;\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @BeforeEach\n    public void setUp() {\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\n    }\n    \n    @Test\n    void testGetAllUsers() throws Exception {\n        this.mvc.perform(post(&quot;/api/users&quot;)\n        .accept(MediaType.APPLICATION_JSON)\n        .contentType(MediaType.APPLICATION_JSON)\n        .characterEncoding(&quot;utf-8&quot;)     \n        .content(&quot;{\\&quot;name\\&quot;:\\&quot;name\\&quot;}&quot;))\n        .andDo(print())\n        .andExpect(status().isCreated());\n   }\n}\n</code></pre>\n<p>My @RestController</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(path = &quot;/users&quot;)\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody String name        \n    ) {\n        return userService.createUser(name);\n    }\n</code></pre>\n<p>and my user @Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;User&gt; createUser(String name) {\n        User user = new User();\n        user.setName(name);\n        userRepository.save(user);\n</code></pre>\n<p>And when I try to launch my test I get in my debug console</p>\n<pre><code>DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; ....addNewType(java.lang.String,java.lang.Boolean)]\n\nMockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/users\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=utf-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;32&quot;]\n             Body = {&quot;name&quot;:&quot;concat&quot;}\n    Session Attrs = {}\n</code></pre>\n<p>and response is :</p>\n<pre><code>MockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\n</code></pre>\n<p>get methods seems to work when I use the same architecture, body seems to be present in the console but servelt doesn't seem to see/understand the request body.</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1613095870,"post_id":66165323,"comment_id":116977710,"body_markdown":"Note that your _design_ is fundamentally flawed, because it treats the security context like something you can just set and it will be remembered. HTTP is stateless (each request is completely independent), so the server won&#39;t know it was the same person. Instead, let Spring Security do its job and use either cookie or OAuth2 authentication, which looks up the appropriate security attributes on each request.","body":"Note that your <i>design</i> is fundamentally flawed, because it treats the security context like something you can just set and it will be remembered. HTTP is stateless (each request is completely independent), so the server won&#39;t know it was the same person. Instead, let Spring Security do its job and use either cookie or OAuth2 authentication, which looks up the appropriate security attributes on each request."}],"answers":[{"tags":[],"owner":{"account_id":3570618,"reputation":5148,"user_id":2981031,"display_name":"AMagyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613097844,"creation_date":1613097844,"answer_id":66165745,"question_id":66165323,"body_markdown":"The Spring uses de [Inversion of Control][1] principle, that means you don&#39;t have to create your objects and you can add them through Dependency Injection.\r\n\r\nWhen you [inject dependencies][2] in the WebSecurityConfig through Lombok&#39;s @AllArgsConstructor constructor you&#39;re telling to Spring inject those beans.\r\nAt that phase, it doesn&#39;t have the required bean &quot;AuthenticationManager&quot; for the UserService bean.\r\n\r\nThe solution is to inject the UserService through method&#39;s parameter using [autowired][3]\r\n\r\n    @Override\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder, UserService userService) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\nand remove the class field userService.\r\n\r\n----------\r\n## Wrong way\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tUserService userService;\r\n\r\n\tpublic DemoApplication(UserService userService) {\r\n\t\tthis.userService = userService;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TestService testService() {\r\n\t\treturn new TestService();\r\n\t}\r\n}\r\n```\r\n\r\nLog\r\n```\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  demoApplication\r\n↑     ↓\r\n|  userService defined in file [...\\target\\classes\\com\\example\\demo\\UserService.class]\r\n└─────┘\r\n\r\n```\r\n\r\n\r\n----------\r\n## Solution\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void userService(UserService userService) {\r\n\t\tSystem.out.println(&quot;UserService Injected: &quot; + userService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TestService testService() {\r\n\t\treturn new TestService();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n    \r\n    public UserService(TestService testService) {\r\n        System.out.println(&quot;User Service created using: &quot; + testService);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class TestService {\r\n    public TestService() {\r\n        System.out.println(&quot;TestService created&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Test Service&quot;;\r\n    }\r\n}\r\n```\r\n\r\nLog\r\n```\r\nTestService created\r\nUser Service created using: Test Service\r\nUserService Injected: com.example.demo.UserService@29629fbb\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-basics\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation","title":"Error for creating multiples Beans : Is there an unresolvable circular reference?","body":"<p>The Spring uses de <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\" rel=\"nofollow noreferrer\">Inversion of Control</a> principle, that means you don't have to create your objects and you can add them through Dependency Injection.</p>\n<p>When you <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-basics\" rel=\"nofollow noreferrer\">inject dependencies</a> in the WebSecurityConfig through Lombok's @AllArgsConstructor constructor you're telling to Spring inject those beans.\nAt that phase, it doesn't have the required bean &quot;AuthenticationManager&quot; for the UserService bean.</p>\n<p>The solution is to inject the UserService through method's parameter using <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation\" rel=\"nofollow noreferrer\">autowired</a></p>\n<pre><code>@Override\n@Autowired\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder, UserService userService) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userService)\n            .passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p>and remove the class field userService.</p>\n<hr />\n<h2>Wrong way</h2>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    UserService userService;\n\n    public DemoApplication(UserService userService) {\n        this.userService = userService;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    public TestService testService() {\n        return new TestService();\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre><code>Description:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  demoApplication\n↑     ↓\n|  userService defined in file [...\\target\\classes\\com\\example\\demo\\UserService.class]\n└─────┘\n\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Autowired\n    public void userService(UserService userService) {\n        System.out.println(&quot;UserService Injected: &quot; + userService);\n    }\n\n    @Bean\n    public TestService testService() {\n        return new TestService();\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class UserService {\n    \n    public UserService(TestService testService) {\n        System.out.println(&quot;User Service created using: &quot; + testService);\n    }\n}\n</code></pre>\n<pre><code>public class TestService {\n    public TestService() {\n        System.out.println(&quot;TestService created&quot;);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Test Service&quot;;\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre><code>TestService created\nUser Service created using: Test Service\nUserService Injected: com.example.demo.UserService@29629fbb\n</code></pre>\n"}],"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66165745,"answer_count":1,"score":0,"last_activity_date":1643108811,"creation_date":1613093681,"question_id":66165323,"body_markdown":"When I&#39;m trying to implement to login  part of my API and try to run it, I got many errors like bellow :\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-02-12 02:23:23.314 ERROR 25840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\controllers\\UserController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\r\n```\r\n\r\nI&#39;m new to Spring se I don&#39;t really know what the error means. \r\n\r\nhere the following classes :\r\n\r\nUserController :\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path=&quot;api/v1/user&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class UserController implements Routes {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n    private final RegistrationService registrationService;\r\n\r\n    @PostMapping(registration)\r\n    public String register(@RequestBody RegistrationRequest request){\r\n        return registrationService.register(request);\r\n    }\r\n\r\n    @PostMapping(login)\r\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest) {\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getUserName(), loginRequest.getPassword()));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        User myUserDetails = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        List&lt;String&gt; roles = myUserDetails.getAuthorities().stream()\r\n                .map(item -&gt; item.getAuthority())\r\n                .collect(Collectors.toList());\r\n\r\n        return ResponseEntity.ok(&quot;OKKKK CONNECt&#233;&quot;);\r\n    }\r\n\r\n    @PostMapping(resetPassword)\r\n    public String resetPassword() {\r\n        return &quot;Password reset&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(path = confirm)\r\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\r\n        return registrationService.confirmToken(token);\r\n    }\r\n}\r\n```\r\n\r\nUserService :\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class UserService implements UserDetailsService {\r\n\r\n\r\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;user with email %s not found&quot;;\r\n    private final UserRepository userRepository;\r\n    private final ConfirmationTokenService confirmationTokenService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email)\r\n            throws UsernameNotFoundException {\r\n        return userRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\r\n    }\r\n\r\n    public String signUpUser(User user) {\r\n        boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\r\n        if (userExists) {\r\n            throw new IllegalStateException(&quot;Email already taken&quot;);\r\n        }\r\n        String encodedPassword = bCryptPasswordEncoder().encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n        userRepository.save(user);\r\n        String token = UUID.randomUUID().toString();\r\n        //TODO: Send Confirmation Token\r\n        ConfirmationToken confirmationToken = new ConfirmationToken(\r\n                token,\r\n                LocalDateTime.now(),\r\n                LocalDateTime.now().plusMinutes(15),\r\n                user\r\n        );\r\n\r\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\r\n\r\n        //TODO: SEND EMAIL\r\n\r\n        return &quot;Token: &quot; + token + &quot;\\nFirstname: &quot; + user.getFirstName() + &quot;\\nLastname: &quot; + user.getLastName() +\r\n                &quot;\\nUsername: &quot; + user.getUsername() + &quot;\\nEmail: &quot; + user.getEmail();\r\n    }\r\n\r\n    public int enableAppUser(String email) {\r\n        return userRepository.enableAppUser(email);\r\n    }\r\n\r\n    public AuthenticationResponse login(LoginRequest loginRequest) {\r\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUserName(),\r\n                loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\r\n        return new AuthenticationResponse(loginRequest.getUserName());\r\n    }\r\n\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nWebSecurityConfig :\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserService userService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/api/v*/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated().and()\r\n                .formLogin();\r\n\r\n    }\r\n@Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t understand the meaning of : Is there an unresolvable circular reference?\r\nI&#39;ve remove all ```@Autowired```annotationd because Spring will attempt to find a bean of matching type. I through that was the problem but no.\r\n\r\n","title":"Error for creating multiples Beans : Is there an unresolvable circular reference?","body":"<p>When I'm trying to implement to login  part of my API and try to run it, I got many errors like bellow :</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-02-12 02:23:23.314 ERROR 25840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\controllers\\UserController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\n</code></pre>\n<p>I'm new to Spring se I don't really know what the error means.</p>\n<p>here the following classes :</p>\n<p>UserController :</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;api/v1/user&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;*&quot;)\npublic class UserController implements Routes {\n\n    private final AuthenticationManager authenticationManager;\n    private final RegistrationService registrationService;\n\n    @PostMapping(registration)\n    public String register(@RequestBody RegistrationRequest request){\n        return registrationService.register(request);\n    }\n\n    @PostMapping(login)\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest) {\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUserName(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        User myUserDetails = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        List&lt;String&gt; roles = myUserDetails.getAuthorities().stream()\n                .map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        return ResponseEntity.ok(&quot;OKKKK CONNECté&quot;);\n    }\n\n    @PostMapping(resetPassword)\n    public String resetPassword() {\n        return &quot;Password reset&quot;;\n    }\n\n\n    @GetMapping(path = confirm)\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\n        return registrationService.confirmToken(token);\n    }\n}\n</code></pre>\n<p>UserService :</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService {\n\n\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;user with email %s not found&quot;;\n    private final UserRepository userRepository;\n    private final ConfirmationTokenService confirmationTokenService;\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public UserDetails loadUserByUsername(String email)\n            throws UsernameNotFoundException {\n        return userRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\n    }\n\n    public String signUpUser(User user) {\n        boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\n        if (userExists) {\n            throw new IllegalStateException(&quot;Email already taken&quot;);\n        }\n        String encodedPassword = bCryptPasswordEncoder().encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        userRepository.save(user);\n        String token = UUID.randomUUID().toString();\n        //TODO: Send Confirmation Token\n        ConfirmationToken confirmationToken = new ConfirmationToken(\n                token,\n                LocalDateTime.now(),\n                LocalDateTime.now().plusMinutes(15),\n                user\n        );\n\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\n\n        //TODO: SEND EMAIL\n\n        return &quot;Token: &quot; + token + &quot;\\nFirstname: &quot; + user.getFirstName() + &quot;\\nLastname: &quot; + user.getLastName() +\n                &quot;\\nUsername: &quot; + user.getUsername() + &quot;\\nEmail: &quot; + user.getEmail();\n    }\n\n    public int enableAppUser(String email) {\n        return userRepository.enableAppUser(email);\n    }\n\n    public AuthenticationResponse login(LoginRequest loginRequest) {\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUserName(),\n                loginRequest.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\n        return new AuthenticationResponse(loginRequest.getUserName());\n    }\n\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>WebSecurityConfig :</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserService userService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/api/v*/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated().and()\n                .formLogin();\n\n    }\n@Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>I don't understand the meaning of : Is there an unresolvable circular reference?\nI've remove all <code>@Autowired</code>annotationd because Spring will attempt to find a bean of matching type. I through that was the problem but no.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643108736,"creation_date":1643108736,"answer_id":70847563,"question_id":70844053,"body_markdown":"The most simple way is to save `Employee` twice in one transaction\r\n\r\n```java\r\n@Transactional\r\npublic void saveEmployee(Employee employee) {\r\n    employeeRepository.save(employee);\r\n    employeeRepository.flush(); // to have id\r\n\r\n    employee.setEmployeeId(EmployeeUtils.generateId(employee.getId()));\r\n    employeeRepository.save(employee);\r\n}\r\n```","title":"Update Column with the sequence of primaryKey in Spring boot jpa","body":"<p>The most simple way is to save <code>Employee</code> twice in one transaction</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void saveEmployee(Employee employee) {\n    employeeRepository.save(employee);\n    employeeRepository.flush(); // to have id\n\n    employee.setEmployeeId(EmployeeUtils.generateId(employee.getId()));\n    employeeRepository.save(employee);\n}\n</code></pre>\n"}],"owner":{"account_id":16132798,"reputation":51,"user_id":11790395,"display_name":"user11790395"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643108736,"creation_date":1643090545,"question_id":70844053,"body_markdown":"I have a table called user table and having the primary key column as Id. Now there is another column employeeid.Now this column value should be generated based on the ID column. Employee Id column should be in the below format.\r\n\r\nEE00001 for employee where id column value is 1.&lt;br/&gt;\r\nES00002 for students where id column value is 2.\r\n\r\nThe goal is to &quot;for employee id i dont need to generate the sequence since sequence is already generating for id column so that i can use it.&quot;.\r\nSo how can i acheive this in spring boot jpa. Any other ideas for generating employee_id column is also helpful.","title":"Update Column with the sequence of primaryKey in Spring boot jpa","body":"<p>I have a table called user table and having the primary key column as Id. Now there is another column employeeid.Now this column value should be generated based on the ID column. Employee Id column should be in the below format.</p>\n<p>EE00001 for employee where id column value is 1.<br/>\nES00002 for students where id column value is 2.</p>\n<p>The goal is to &quot;for employee id i dont need to generate the sequence since sequence is already generating for id column so that i can use it.&quot;.\nSo how can i acheive this in spring boot jpa. Any other ideas for generating employee_id column is also helpful.</p>\n"},{"tags":["java","oracle","spring-boot","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1641421522,"post_id":70600251,"comment_id":124803897,"body_markdown":"just use `val` instead of the type?","body":"just use <code>val</code> instead of the type?"}],"answers":[{"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643108517,"creation_date":1643108517,"answer_id":70847512,"question_id":70600251,"body_markdown":"It&#39;s absolutely legal use @Query annotation in your kotlin code. For exmaple like this:\r\n\r\n    @Query(&quot;select getidstatus() from dual&quot;)\r\n    fun getIdStatus(): Clob\r\n\r\nAnd then you can write smomething like this:\r\n\r\n    val idsStatus = dbMonRepository.getIdStatus()\r\n    val idsStatusStr = idsStatus.getSubstring(1, Math.toIntExact(idsStatus.length)","title":"Kotlin CLOB to String","body":"<p>It's absolutely legal use @Query annotation in your kotlin code. For exmaple like this:</p>\n<pre><code>@Query(&quot;select getidstatus() from dual&quot;)\nfun getIdStatus(): Clob\n</code></pre>\n<p>And then you can write smomething like this:</p>\n<pre><code>val idsStatus = dbMonRepository.getIdStatus()\nval idsStatusStr = idsStatus.getSubstring(1, Math.toIntExact(idsStatus.length)\n</code></pre>\n"}],"owner":{"account_id":8482137,"reputation":1870,"user_id":6361565,"accept_rate":89,"display_name":"deChristo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847512,"answer_count":1,"score":0,"last_activity_date":1643108517,"creation_date":1641421098,"question_id":70600251,"body_markdown":"I have a function in Oracle that returns a CLOB. \r\nIn Java I can use the following code to execute this function and fetch the result:\r\n\r\nOracle function definition in my Repository class:\r\n\r\n     @Query(nativeQuery = true, value = &quot;SELECT GETIDSSTATUS() FROM DUAL&quot;)\r\n     Clob getIdsStatus();\r\n\r\nConversion to String:\r\n\r\n    Clob idsStatus = dbMonRepository.getIdsStatus();\r\n    String idsStatusStr = idsStatus.getSubString(1, Math.toIntExact(idsStatus.length()));\r\n\r\nWhat&#39;s the equivalent code in Kotlin or any other way to convert the Clob to String?","title":"Kotlin CLOB to String","body":"<p>I have a function in Oracle that returns a CLOB.\nIn Java I can use the following code to execute this function and fetch the result:</p>\n<p>Oracle function definition in my Repository class:</p>\n<pre><code> @Query(nativeQuery = true, value = &quot;SELECT GETIDSSTATUS() FROM DUAL&quot;)\n Clob getIdsStatus();\n</code></pre>\n<p>Conversion to String:</p>\n<pre><code>Clob idsStatus = dbMonRepository.getIdsStatus();\nString idsStatusStr = idsStatus.getSubString(1, Math.toIntExact(idsStatus.length()));\n</code></pre>\n<p>What's the equivalent code in Kotlin or any other way to convert the Clob to String?</p>\n"},{"tags":["java","spring-boot","shell","kubernetes","configuration"],"comments":[{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1643106679,"post_id":70846757,"comment_id":125246150,"body_markdown":"did you check that the yaml file is in fact availble in the container? please show your YAML manifests","body":"did you check that the yaml file is in fact availble in the container? please show your YAML manifests"}],"answers":[{"tags":[],"owner":{"account_id":16208786,"reputation":101,"user_id":11703353,"display_name":"Jonas Breuer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643108252,"creation_date":1643107821,"answer_id":70847370,"question_id":70846757,"body_markdown":"I would suggest to verify the volume mount of the file inside your pod.\r\nYou can verify it with the following commands:\r\n```\r\nkubectl exec -it &lt;podName&gt; -- cat /tmp/secret-config.yaml\r\n\r\nkubectl exec -it &lt;podName&gt; -- ls /tmp\r\n```\r\nIn addition, the volume mount configuration in your yaml file would be interesting. Did you specify a `mountPath ` for the `volumeMount` in your pod configuration?\r\nYou can also check the mountPath with the following command:\r\n```\r\n# for a pod with a single container and only one volumeMount\r\nkubectl get pods &lt;podName&gt; -o jsonpath=&#39;{.spec.containers[0].volumeMounts[0].mountPath}&#39;\r\n```","title":"Unable to load config data to springboot application from mounted volume in kubernetes","body":"<p>I would suggest to verify the volume mount of the file inside your pod.\nYou can verify it with the following commands:</p>\n<pre><code>kubectl exec -it &lt;podName&gt; -- cat /tmp/secret-config.yaml\n\nkubectl exec -it &lt;podName&gt; -- ls /tmp\n</code></pre>\n<p>In addition, the volume mount configuration in your yaml file would be interesting. Did you specify a <code>mountPath </code> for the <code>volumeMount</code> in your pod configuration?\nYou can also check the mountPath with the following command:</p>\n<pre><code># for a pod with a single container and only one volumeMount\nkubectl get pods &lt;podName&gt; -o jsonpath='{.spec.containers[0].volumeMounts[0].mountPath}'\n</code></pre>\n"}],"owner":{"account_id":6647106,"reputation":33,"user_id":5130798,"display_name":"mayank agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847370,"answer_count":1,"score":0,"last_activity_date":1643108252,"creation_date":1643105214,"question_id":70846757,"body_markdown":"I have springboot application and I am trying to load additional configuration from a volume mounted location /tmp/secret-config.yaml and getting below error:\r\njava.lang.IllegalStateException: Unable to load config data from &#39;/tmp/secret-config.yaml&#39;\r\n\r\nI do not want to use configmap or secrets for this. It&#39;s a simple json file which I am trying to load.\r\n\r\nI am trying to pass it like this from shell script.\r\njava -jar /opt/app.jar --spring.config.additional-location=/tmp/secret-config.yaml\r\n\r\nCan anyone please help ?\r\n","title":"Unable to load config data to springboot application from mounted volume in kubernetes","body":"<p>I have springboot application and I am trying to load additional configuration from a volume mounted location /tmp/secret-config.yaml and getting below error:\njava.lang.IllegalStateException: Unable to load config data from '/tmp/secret-config.yaml'</p>\n<p>I do not want to use configmap or secrets for this. It's a simple json file which I am trying to load.</p>\n<p>I am trying to pass it like this from shell script.\njava -jar /opt/app.jar --spring.config.additional-location=/tmp/secret-config.yaml</p>\n<p>Can anyone please help ?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"score":0,"creation_date":1468979128,"post_id":18168257,"comment_id":64345774,"body_markdown":"-ea  (enable assertions). Assertions are disabled by default in Oracle HotSpot","body":"-ea  (enable assertions). Assertions are disabled by default in Oracle HotSpot"}],"answers":[{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1509097193,"creation_date":1376189769,"answer_id":18168305,"question_id":18168257,"body_markdown":"The `-ea` option to enable assertions is passed to the JVM not to the compiler. Add it as a VM option for your runtime configuration.\r\n\r\nSpecific location in the menu: _Run &gt; Edit Configurations... &gt; Configuration &gt; VM options_:\r\n\r\n[![Where to put the `-ea` flag][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d1ZoO.png","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>The <code>-ea</code> option to enable assertions is passed to the JVM not to the compiler. Add it as a VM option for your runtime configuration.</p>\n\n<p>Specific location in the menu: <em>Run > Edit Configurations... > Configuration > VM options</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d1ZoO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d1ZoO.png\" alt=\"Where to put the &lt;code&gt;-ea&lt;/code&gt; flag\"></a></p>\n"},{"tags":[],"owner":{"account_id":7238440,"reputation":360,"user_id":5522793,"display_name":"neo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1509097540,"creation_date":1446615705,"answer_id":33514506,"question_id":18168257,"body_markdown":"You can also make IntelliJ IDEA support assertions by default by changing the default Application configuration:\r\n\r\nIn the top menu, press _Run &gt; Edit Configurations &gt; Defaults &gt; Application &gt; VM options_.\r\n\r\nTo enable the assertion feature for all application, you could just fill the `VM options` with `-ea`\r\n","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>You can also make IntelliJ IDEA support assertions by default by changing the default Application configuration:</p>\n\n<p>In the top menu, press <em>Run > Edit Configurations > Defaults > Application > VM options</em>.</p>\n\n<p>To enable the assertion feature for all application, you could just fill the <code>VM options</code> with <code>-ea</code></p>\n"},{"tags":[],"owner":{"account_id":2921877,"reputation":1081,"user_id":2503939,"display_name":"Jimmy_Rw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610923491,"creation_date":1610923491,"answer_id":65766765,"question_id":18168257,"body_markdown":"For IntelliJ IDEA 2020.3:\r\n- Run -&gt; Edit Configurations... -&gt; Modify options -&gt; Add VM options.\r\n- Input `-ea` then click OK button. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SwyLW.png","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>For IntelliJ IDEA 2020.3:</p>\n<ul>\n<li>Run -&gt; Edit Configurations... -&gt; Modify options -&gt; Add VM options.</li>\n<li>Input <code>-ea</code> then click OK button.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/SwyLW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SwyLW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643108067,"creation_date":1643108067,"answer_id":70847422,"question_id":18168257,"body_markdown":"Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module -&gt; + \r\n\r\nYour project name is module name. And add `-ea` to the `Compilation options` for `javac`\r\n\r\nIt works for IDEA 2021.2, Fedora linux x86_64, OpenJDK  1.8 64bit","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module -&gt; +</p>\n<p>Your project name is module name. And add <code>-ea</code> to the <code>Compilation options</code> for <code>javac</code></p>\n<p>It works for IDEA 2021.2, Fedora linux x86_64, OpenJDK  1.8 64bit</p>\n"}],"owner":{"account_id":1686073,"reputation":1974,"user_id":1549348,"accept_rate":52,"display_name":"duleshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48136,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":18168305,"answer_count":4,"score":67,"last_activity_date":1643108067,"creation_date":1376189203,"question_id":18168257,"body_markdown":"I want to add the `-ea` option. I set it in `Project Settings` --&gt; `Compiler` --&gt; `Java Compiler` : `Additional command line parameters`.  \r\n  \r\nBut it caused a make error: `invalid flag: -ea`.\r\nP.S.: the above error message may not be the same as yours, because IntelliJ showed error in my native language, not English. I translated it into English.","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>I want to add the <code>-ea</code> option. I set it in <code>Project Settings</code> --> <code>Compiler</code> --> <code>Java Compiler</code> : <code>Additional command line parameters</code>.  </p>\n\n<p>But it caused a make error: <code>invalid flag: -ea</code>.\nP.S.: the above error message may not be the same as yours, because IntelliJ showed error in my native language, not English. I translated it into English.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":1,"creation_date":1643108442,"post_id":70847349,"comment_id":125246848,"body_markdown":"Can you explain what is the code that uses this certificate ? The first screen grab seems to indicate that your system is backdated and the certificate validity is in the future","body":"Can you explain what is the code that uses this certificate ? The first screen grab seems to indicate that your system is backdated and the certificate validity is in the future"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643109248,"post_id":70847349,"comment_id":125247180,"body_markdown":"It may help me to answer your question if you post the entire stack trace as text and not as separate images where each image contains part of the stack trace.","body":"It may help me to answer your question if you post the entire stack trace as text and not as separate images where each image contains part of the stack trace."}],"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107960,"creation_date":1643107721,"question_id":70847349,"body_markdown":"I am testing my functionality for **daylight timezone**. So for that, I changed my **local system timezone and time (EST)**. After that my appliction is not opening due to java Exception. Please find below image and please recommand a java solution for this. Currently, i am using java 8. \r\n\r\n[enter image description here][1]  \r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OC2tk.png\r\n  [2]: https://i.stack.imgur.com/87NB7.png","title":"Java Exception-Certificate not in the validity period","body":"<p>I am testing my functionality for <strong>daylight timezone</strong>. So for that, I changed my <strong>local system timezone and time (EST)</strong>. After that my appliction is not opening due to java Exception. Please find below image and please recommand a java solution for this. Currently, i am using java 8.</p>\n<p><a href=\"https://i.stack.imgur.com/OC2tk.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\n<a href=\"https://i.stack.imgur.com/87NB7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1643069532,"post_id":70841953,"comment_id":125237800,"body_markdown":"Do you have any idea about the difference between normal file and others (folder, link, and some other type of directory entries?)","body":"Do you have any idea about the difference between normal file and others (folder, link, and some other type of directory entries?)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643071517,"post_id":70841953,"comment_id":125238147,"body_markdown":"Windows won&#39;t allow a process to open a file for writing if any other process already has it open. Could that be what&#39;s happening? https://www.winhelponline.com/blog/find-process-locked-file-openfiles-utility/","body":"Windows won&#39;t allow a process to open a file for writing if any other process already has it open. Could that be what&#39;s happening? <a href=\"https://www.winhelponline.com/blog/find-process-locked-file-openfiles-utility/\" rel=\"nofollow noreferrer\">winhelponline.com/blog/&hellip;</a>"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1643081158,"post_id":70841953,"comment_id":125239554,"body_markdown":"As you can see in my code example I am trying to open a `FileWriter` instance pointing to a folder. I don&#39;t think such a restriction would apply in this case.","body":"As you can see in my code example I am trying to open a <code>FileWriter</code> instance pointing to a folder. I don&#39;t think such a restriction would apply in this case."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1643081982,"post_id":70841953,"comment_id":125239662,"body_markdown":"In that case, the problem is that you can’t create a `FileWriter` instance pointing to a folder. It needs to be a normal file.","body":"In that case, the problem is that you can’t create a <code>FileWriter</code> instance pointing to a folder. It needs to be a normal file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643107755,"creation_date":1643107755,"answer_id":70847358,"question_id":70841953,"body_markdown":"You have reported expected behaviour . On Windows any attempt to write to a directory with `FileWriter` will fail, giving access denied:\r\n\r\n    File folder = new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;);\r\n    System.out.println(&quot;folder.isDirectory()=&quot;+folder.isDirectory()+&quot; folder.canWrite()=&quot;+folder.canWrite());\r\n    // prints &quot;folder.isDirectory()=true folder.canWrite()=true&quot;\r\n    \r\n    System.out.println(&quot;new FileWriter(&quot;+folder+&quot;)=&quot;+new FileWriter(folder));\r\n    // reports Exception java.io.FileNotFoundException: C:\\Temp\\java_play\\temp (Access is denied)\r\n\r\nChanging the path to a file within the folder should work fine as long as the filename provided is writable:\r\n\r\n    File file   = new File(folder, &quot;file&quot;+System.nanoTime()+&quot;.xyz&quot;);\r\n    try(FileWriter fw = new FileWriter(file)) {\r\n       // no exception\r\n    }","title":"Unable to create FileWriter","body":"<p>You have reported expected behaviour . On Windows any attempt to write to a directory with <code>FileWriter</code> will fail, giving access denied:</p>\n<pre><code>File folder = new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;);\nSystem.out.println(&quot;folder.isDirectory()=&quot;+folder.isDirectory()+&quot; folder.canWrite()=&quot;+folder.canWrite());\n// prints &quot;folder.isDirectory()=true folder.canWrite()=true&quot;\n\nSystem.out.println(&quot;new FileWriter(&quot;+folder+&quot;)=&quot;+new FileWriter(folder));\n// reports Exception java.io.FileNotFoundException: C:\\Temp\\java_play\\temp (Access is denied)\n</code></pre>\n<p>Changing the path to a file within the folder should work fine as long as the filename provided is writable:</p>\n<pre><code>File file   = new File(folder, &quot;file&quot;+System.nanoTime()+&quot;.xyz&quot;);\ntry(FileWriter fw = new FileWriter(file)) {\n   // no exception\n}\n</code></pre>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70847358,"answer_count":1,"score":-2,"last_activity_date":1643107755,"creation_date":1643069148,"question_id":70841953,"body_markdown":"I am trying to create a FileWriter instance pointing to a folder were everyone has write access:\r\n\r\n    new FileWriter(&quot;C:\\\\Temp\\java_play\\\\temp&quot;)\r\n\r\nAnd I am getting java.io.FileNotFoundException with detail message:\r\n\r\n    &quot;C:\\Temp\\java_play\\temp (Access is denied)&quot;\r\n\r\nThe folder exists and if I stop in debugger and evaluate expression below it always returns true as it should:\r\n\r\n    new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;).canWrite()\r\n\r\n\r\nI don&#39;t understand what is going on. I am using intelij and I have Windows 7 operating system and I am trying to run this using Java 8.\r\n\r\nThank you in advance.","title":"Unable to create FileWriter","body":"<p>I am trying to create a FileWriter instance pointing to a folder were everyone has write access:</p>\n<pre><code>new FileWriter(&quot;C:\\\\Temp\\java_play\\\\temp&quot;)\n</code></pre>\n<p>And I am getting java.io.FileNotFoundException with detail message:</p>\n<pre><code>&quot;C:\\Temp\\java_play\\temp (Access is denied)&quot;\n</code></pre>\n<p>The folder exists and if I stop in debugger and evaluate expression below it always returns true as it should:</p>\n<pre><code>new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;).canWrite()\n</code></pre>\n<p>I don't understand what is going on. I am using intelij and I have Windows 7 operating system and I am trying to run this using Java 8.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1643878836,"post_id":70845432,"comment_id":125457788,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23248192,"reputation":13,"user_id":17336458,"display_name":"Jeff Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643107379,"creation_date":1643107379,"answer_id":70847258,"question_id":70845432,"body_markdown":"It is the google play api that supports aggregated reports. I think it can help you.\r\n[https://support.google.com/googleplay/android-developer/answer][1]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/6135870?p=financial_export&amp;rd=1#export&amp;zippy=%2Cdetailed-reports%2Caggregated-reports","title":"I want to get count of installations for my app from app store and google play (programmatically), is there an official api","body":"<p>It is the google play api that supports aggregated reports. I think it can help you.\n<a href=\"https://support.google.com/googleplay/android-developer/answer/6135870?p=financial_export&amp;rd=1#export&amp;zippy=%2Cdetailed-reports%2Caggregated-reports\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer</a></p>\n"}],"owner":{"account_id":24046628,"reputation":29,"user_id":18025566,"display_name":"Saleem Alzoubi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1643107379,"creation_date":1643098970,"question_id":70845432,"body_markdown":"I am developing flutter mobile application with java(springboot) backend, I want to get the number of downloads(installations) for my app using java(springboot) from google play and play store. \r\n","title":"I want to get count of installations for my app from app store and google play (programmatically), is there an official api","body":"<p>I am developing flutter mobile application with java(springboot) backend, I want to get the number of downloads(installations) for my app using java(springboot) from google play and play store.</p>\n"},{"tags":["java","spring","spring-cloud"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643107924,"post_id":70847254,"comment_id":125246624,"body_markdown":"Does this help https://stackoverflow.com/questions/27131143/spring-cloud-configuration-server-not-working-with-local-properties-file","body":"Does this help <a href=\"https://stackoverflow.com/questions/27131143/spring-cloud-configuration-server-not-working-with-local-properties-file\" title=\"spring cloud configuration server not working with local properties file\">stackoverflow.com/questions/27131143/&hellip;</a>"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1643112425,"post_id":70847254,"comment_id":125248263,"body_markdown":"That is the default way of working. You just need to point boot at the local file and make config server optional","body":"That is the default way of working. You just need to point boot at the local file and make config server optional"},{"owner":{"account_id":5218685,"reputation":898,"user_id":4172765,"accept_rate":74,"display_name":"ThanhLam112358"},"score":0,"creation_date":1643157292,"post_id":70847254,"comment_id":125264560,"body_markdown":"@spencergibb Please help me in answer and I will accept your guide. Because I don&#39;t have enough experience in Java. So it can make me confused.","body":"@spencergibb Please help me in answer and I will accept your guide. Because I don&#39;t have enough experience in Java. So it can make me confused."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1643199308,"post_id":70847254,"comment_id":125274970,"body_markdown":"Please show what you have tried","body":"Please show what you have tried"}],"owner":{"account_id":5218685,"reputation":898,"user_id":4172765,"accept_rate":74,"display_name":"ThanhLam112358"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107372,"creation_date":1643107372,"question_id":70847254,"body_markdown":"I have an issue like this: \r\n\r\n**First**, \r\n\r\nI have a spring cloud server to get properties for my Java app\r\n[![enter image description here][1]][1]\r\n\r\n**Second:** \r\n\r\nIf the spring cloud is not available, I want my Java app use local properties\r\n\r\nFor example, my file at `D:\\SOURCE-CODE\\configuration\\financial\\financialpartner-dev.properties`\r\n\r\nHow can I config like this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BdL03.png","title":"Java spring switch to use local properties if Spring cloud not available","body":"<p>I have an issue like this:</p>\n<p><strong>First</strong>,</p>\n<p>I have a spring cloud server to get properties for my Java app\n<a href=\"https://i.stack.imgur.com/BdL03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BdL03.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Second:</strong></p>\n<p>If the spring cloud is not available, I want my Java app use local properties</p>\n<p>For example, my file at <code>D:\\SOURCE-CODE\\configuration\\financial\\financialpartner-dev.properties</code></p>\n<p>How can I config like this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643137986,"post_id":70847228,"comment_id":125259147,"body_markdown":"I assume that there is something on your solution that you don&#39;t like. What it is?","body":"I assume that there is something on your solution that you don&#39;t like. What it is?"},{"owner":{"account_id":303651,"reputation":1479,"user_id":612723,"accept_rate":20,"display_name":"mbonato"},"score":0,"creation_date":1643183459,"post_id":70847228,"comment_id":125269038,"body_markdown":"Thank you for your response! Deserialization returns a List&lt;Status&gt; with each Status only containing a single field. It works, but it would prefer it to return a single Status object containing all the properties.","body":"Thank you for your response! Deserialization returns a List&lt;Status&gt; with each Status only containing a single field. It works, but it would prefer it to return a single Status object containing all the properties."}],"owner":{"account_id":303651,"reputation":1479,"user_id":612723,"accept_rate":20,"display_name":"mbonato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107220,"creation_date":1643107220,"question_id":70847228,"body_markdown":"I need to deserialize a given JSON structure like following into POJOs:\r\n\r\n\t[\r\n\t    {\r\n\t        &quot;alpha&quot;: [\r\n\t        \t{\r\n\t                &quot;serial&quot;: 123,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;foo&quot;: &quot;...&quot;,\r\n\t                ...\r\n\t        \t}\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;beta&quot;: [\r\n\t            {\r\n\t                &quot;serial&quot;: 456,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;bar: &quot;...&quot;,\r\n\t                ...\r\n\t            }\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;gamma&quot;: [\r\n\t            {\r\n\t                &quot;serial&quot;: 789,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;foobar&quot;: &quot;...&quot;&quot;\r\n\t                ...\r\n\t            }\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;key1&quot;: &quot;...&quot;,\r\n\t        &quot;key2&quot;: &quot;...&quot;\r\n\t    }\r\n\t]\r\n\r\nAlpha, beta, gamma are arrays of different objects that could share a common base type as they have some common properties. However, the last object in the JSON array is different.\r\n\r\nThe type of the objects in the arrays are determined by the field name (e.g. alpha, betta, gamma). Jackson provides a way to define the type of the object using a &quot;wrapper object&quot; (```@JsonTypeInfo(use = Id.CUSTOM, include = As.WRAPPER_OBJECT)```), but this assumes the value is an object and not an array.\r\n\r\nCurrently, I use a list of the following object to deserialize the JSON and interate over it.\r\n\r\n\tpublic class Status {\r\n\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;AlphaStatus&gt; alpha;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;BettaStatus&gt; betta;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;GammaStatus&gt; gamma;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tString key1;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tString key2;\r\n\t\t\r\n\t}\r\n\r\nIs there a more elegant solution to this?\r\n\r\n","title":"Jackson: deserialization of object arrays","body":"<p>I need to deserialize a given JSON structure like following into POJOs:</p>\n<pre><code>[\n    {\n        &quot;alpha&quot;: [\n            {\n                &quot;serial&quot;: 123,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;foo&quot;: &quot;...&quot;,\n                ...\n            }\n        ]\n    },\n    {\n        &quot;beta&quot;: [\n            {\n                &quot;serial&quot;: 456,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;bar: &quot;...&quot;,\n                ...\n            }\n        ]\n    },\n    {\n        &quot;gamma&quot;: [\n            {\n                &quot;serial&quot;: 789,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;foobar&quot;: &quot;...&quot;&quot;\n                ...\n            }\n        ]\n    },\n    {\n        &quot;key1&quot;: &quot;...&quot;,\n        &quot;key2&quot;: &quot;...&quot;\n    }\n]\n</code></pre>\n<p>Alpha, beta, gamma are arrays of different objects that could share a common base type as they have some common properties. However, the last object in the JSON array is different.</p>\n<p>The type of the objects in the arrays are determined by the field name (e.g. alpha, betta, gamma). Jackson provides a way to define the type of the object using a &quot;wrapper object&quot; (<code>@JsonTypeInfo(use = Id.CUSTOM, include = As.WRAPPER_OBJECT)</code>), but this assumes the value is an object and not an array.</p>\n<p>Currently, I use a list of the following object to deserialize the JSON and interate over it.</p>\n<pre><code>public class Status {\n\n    @JsonProperty\n    List&lt;AlphaStatus&gt; alpha;\n    \n    @JsonProperty\n    List&lt;BettaStatus&gt; betta;\n    \n    @JsonProperty\n    List&lt;GammaStatus&gt; gamma;\n    \n    @JsonProperty\n    String key1;\n    \n    @JsonProperty\n    String key2;\n    \n}\n</code></pre>\n<p>Is there a more elegant solution to this?</p>\n"},{"tags":["java","reactjs","angular","typescript","nestjs"],"comments":[{"owner":{"account_id":1282946,"reputation":1259,"user_id":1236627,"accept_rate":79,"display_name":"androidavid"},"score":1,"creation_date":1635923173,"post_id":69820554,"comment_id":123418290,"body_markdown":"Well you can always use a SubType and hence do `class A { addresses: Address[]}`","body":"Well you can always use a SubType and hence do <code>class A { addresses: Address[]}</code>"},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1635923582,"post_id":69820554,"comment_id":123418409,"body_markdown":"Thanks...Can you guide me how to do in typescript?","body":"Thanks...Can you guide me how to do in typescript?"},{"owner":{"account_id":433419,"reputation":1293,"user_id":818722,"accept_rate":88,"display_name":"morsor"},"score":1,"creation_date":1635923825,"post_id":69820554,"comment_id":123418475,"body_markdown":"You want multiple addresses but only one zipcode?","body":"You want multiple addresses but only one zipcode?"},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1635924092,"post_id":69820554,"comment_id":123418534,"body_markdown":"@morsor ya Mosor","body":"@morsor ya Mosor"}],"answers":[{"tags":[],"owner":{"account_id":1282946,"reputation":1259,"user_id":1236627,"accept_rate":79,"display_name":"androidavid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635923671,"creation_date":1635923671,"answer_id":69820929,"question_id":69820554,"body_markdown":"Have you tried something like this?\r\n\r\n```\r\nclass Address {\r\n//...\r\n  zipCode: string;\r\n  city: string; \r\n// ...\r\n}\r\n\r\nclass A {\r\n  addresses: Address[]\r\n}\r\n```","title":"Storing multiple fields of address in entity class","body":"<p>Have you tried something like this?</p>\n<pre><code>class Address {\n//...\n  zipCode: string;\n  city: string; \n// ...\n}\n\nclass A {\n  addresses: Address[]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433419,"reputation":1293,"user_id":818722,"accept_rate":88,"display_name":"morsor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635924339,"creation_date":1635924339,"answer_id":69821031,"question_id":69820554,"body_markdown":"If only the addresses are multiple, it seems you have this situation:\r\n\r\n    class A {\r\n      AddressList: string[];\r\n      zipCode: number;\r\n      city: String;\r\n    }","title":"Storing multiple fields of address in entity class","body":"<p>If only the addresses are multiple, it seems you have this situation:</p>\n<pre><code>class A {\n  AddressList: string[];\n  zipCode: number;\n  city: String;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655255,"reputation":63,"user_id":5802413,"display_name":"jashinhidan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643107047,"creation_date":1643107047,"answer_id":70847185,"question_id":69820554,"body_markdown":"I would rather create a specific class for those fields, something like:\r\n\r\n    class A {\r\n        // many fields\r\n        address: AddressData\r\n    }\r\n\r\n    class AddressData {\r\n        address1: string;\r\n        address2: string;\r\n        zipCode: string;\r\n        city: string;\r\n    }\r\n\r\nIMO it&#39;s better to keep data that belong to the same group in a separated class. Also I wouldn&#39;t store the two addresses in an array because you would lose the information about the main address and the secondary address.","title":"Storing multiple fields of address in entity class","body":"<p>I would rather create a specific class for those fields, something like:</p>\n<pre><code>class A {\n    // many fields\n    address: AddressData\n}\n\nclass AddressData {\n    address1: string;\n    address2: string;\n    zipCode: string;\n    city: string;\n}\n</code></pre>\n<p>IMO it's better to keep data that belong to the same group in a separated class. Also I wouldn't store the two addresses in an array because you would lose the information about the main address and the secondary address.</p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69821031,"answer_count":3,"score":0,"last_activity_date":1643107047,"creation_date":1635921319,"question_id":69820554,"body_markdown":"I need to store multiple addresses, like `address1` , `address2` and `zipcode` etc.\r\nShould I declare all the fields individually?\r\n\r\nfor instance:\r\n\r\n    class A{\r\n          // many fields\r\n         Address1:string;\r\n         Address2:string;\r\n         zipCode:number;\r\n         city:String;\r\n       }\r\n\r\nor is there any better way to declare them in entity class? I have been told creating entity classes is the best practice.\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYJyW.png","title":"Storing multiple fields of address in entity class","body":"<p>I need to store multiple addresses, like <code>address1</code> , <code>address2</code> and <code>zipcode</code> etc.\nShould I declare all the fields individually?</p>\n<p>for instance:</p>\n<pre><code>class A{\n      // many fields\n     Address1:string;\n     Address2:string;\n     zipCode:number;\n     city:String;\n   }\n</code></pre>\n<p>or is there any better way to declare them in entity class? I have been told creating entity classes is the best practice.</p>\n<p><a href=\"https://i.stack.imgur.com/TYJyW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYJyW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","uri","permission-denied"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642691537,"post_id":70786168,"comment_id":125143409,"body_markdown":"`target.setDataAndType(uri, &quot;application/pdf&quot;);` You are not showing how you build up your uri.","body":"<code>target.setDataAndType(uri, &quot;application&#47;pdf&quot;);</code> You are not showing how you build up your uri."},{"owner":{"account_id":23998890,"reputation":1,"user_id":17984074,"display_name":"Korre"},"score":0,"creation_date":1642773816,"post_id":70786168,"comment_id":125168108,"body_markdown":"my uri is existing and correct.","body":"my uri is existing and correct."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643108735,"post_id":70786168,"comment_id":125246974,"body_markdown":"You should call takePersistableUriPermission() only once.","body":"You should call takePersistableUriPermission() only once."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642693088,"creation_date":1642692525,"answer_id":70788957,"question_id":70786168,"body_markdown":"It is possible to build up nice uries for files once you have seen a few obtained with ACTION_OPEN_DOCUMENT.\r\n\r\nBut with ACTION_OPEN_DOCUMENT the content provider (or the OS, tell me!) also gives you permission to use that uri. And remembers them!\r\n\r\nWhat you have perceived now with:\r\n\r\n&gt;&gt; Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n  \r\nIs that you have not obtained a permission to use your uri.\r\n\r\n","title":"How can i reach GrantUriPermission problem without Open_Document filedialog?","body":"<p>It is possible to build up nice uries for files once you have seen a few obtained with ACTION_OPEN_DOCUMENT.</p>\n<p>But with ACTION_OPEN_DOCUMENT the content provider (or the OS, tell me!) also gives you permission to use that uri. And remembers them!</p>\n<p>What you have perceived now with:</p>\n<blockquote>\n<blockquote>\n<p>Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n</blockquote>\n<p>Is that you have not obtained a permission to use your uri.</p>\n"}],"owner":{"account_id":23998890,"reputation":1,"user_id":17984074,"display_name":"Korre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643106899,"creation_date":1642681402,"question_id":70786168,"body_markdown":"I want to open a file in an external PDF viewer.\r\nif I call the file with the &quot;OPEN_DOCUMENT&quot; file picker everything works fine.\r\n\r\nif I call a a different file directly with hardcoded existing URI without user dialog I don&#39;t have permissions.\r\n\r\nget this Errors:\r\n\r\n&gt;    \r\n     Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n        at android.os.Parcel.createException(Parcel.java:2071)\r\n        at android.os.Parcel.readException(Parcel.java:2039)\r\n        at android.os.Parcel.readException(Parcel.java:1987)\r\n        at android.app.IActivityManager$Stub$Proxy.grantUriPermission(IActivityManager.java:5748)\r\n        at android.app.ContextImpl.grantUriPermission(ContextImpl.java:1935)\r\n        at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\r\n        at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\r\n        at de.temaks.stepbystep.MainActivity.grantPermissions(MainActivity.java:203)\r\n        at de.temaks.stepbystep.MainActivity.oPDF(MainActivity.java:184)\r\n        at de.temaks.stepbystep.MainActivity.my10(MainActivity.java:144)\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)&#160;\r\n        at android.view.View.performClick(View.java:7146)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n        at android.view.View.performClickInternal(View.java:7119)&#160;\r\n        at android.view.View.access$3500(View.java:803)&#160;\r\n        at android.view.View$PerformClick.run(View.java:27533)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7386)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)&#160;\r\n     Caused by: android.os.RemoteException: Remote stack trace:\r\n        at com.android.server.uri.UriGrantsManagerService.checkGrantUriPermission(UriGrantsManagerService.java:1174)\r\n        at com.android.server.uri.UriGrantsManagerService.grantUriPermission(UriGrantsManagerService.java:767)\r\n        at com.android.server.uri.UriGrantsManagerService$LocalService.grantUriPermission(UriGrantsManagerService.java:1317)\r\n\r\n\r\n\r\nI tried to set flags of all files in folder with ACTION_OPEN_DOCUMENT_TREE:\r\n\r\n    public void openDirectory(Uri uriToLoad) {\r\n    // Choose a directory using the system&#39;s file picker.\r\n    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n\r\n    // Optionally, specify a URI for the directory that should be opened in\r\n    // the system file picker when it loads.\r\n    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\r\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n\r\n    startActivityForResult(intent, 3333);\r\n}\r\nAnd in activityRusult tried to set flags for all the files in that folder:\r\n\r\n                if (requestCode == 3333\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            // The result data contains a URI for the document or directory that\r\n            // the user selected.\r\n            Uri uri = null;\r\n            if (resultData != null) {\r\n                uri = resultData.getData();\r\n                // Perform operations on the document using its URI.\r\n                Log.i(&quot;Verzeichnis &quot;, &quot;gelesen: &quot;+uri.toString());\r\n\r\n                //take persist permission for later use\r\n                getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n                int takeFlags = resultData.getFlags()&amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                        | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                ContentResolver resolver = this.getContentResolver();\r\n                resolver.takePersistableUriPermission(resultData.getData(),takeFlags);\r\n                File directory = new File(path);\r\n\r\n                Log.i(&quot;directory.exists():   &quot;,String.valueOf(directory.exists()));\r\n                Log.i(&quot;directory.canRead():  &quot;,String.valueOf( directory.canRead()));\r\n                Log.i(&quot;directory.length():   &quot;,String.valueOf( directory.length()));\r\n     \r\n                /*File[] files = directory.listFiles();\r\n                Log.i(&quot;Files&quot;, &quot;Size: &quot; + files.length);\r\n                Toast.makeText(this,String.valueOf(files.length) +&quot; \r\n    \r\n                String[] theNamesOfFiles = new String[files.length];\r\n                for (int i = 0; i &lt; files.length; i++) {  \r\n                        theNamesOfFiles[i] =  files[i].getName(); \r\n                 }*/\r\n\r\n\r\n\r\nThis take no effect, because the errors are after that still the same.\r\nMaybe i have the wrong flags?\r\n\r\n**directory.exists()  give &quot;true&quot;**\r\n\r\n**directory.canRead() give &quot;false&quot;**\r\n\r\nI set the flags just to the &quot;Directory tree&quot;.\r\nShould i set flags on each file seperatly?\r\n\r\n\r\nAt the moment in test case i build the uri manually (this uri (file) is in the tree i set the flags ). Later a i want to call saved uri&#39;s out of database.\r\n\r\n\r\n    Uri uri2 = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0018_Wiener%20Elan-Bariton.pdf&quot;);\r\n    oPDF(uri2);\r\n\r\nSend the uri to external App:\r\n\r\n        public void oPDF(Uri myUri){\r\n        Uri uri = null;\r\n\r\n        uri = myUri;\r\n\r\n        uri.getAuthority();\r\n\r\n        String mimeType = getContentResolver().getType(uri);\r\n\r\n        Log.i(&quot;mime Type &quot;, mimeType);\r\n\r\n        //this.grantUriPermission(null, uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n        Log.i(&quot;URI Import&quot;,uri.toString());\r\n\r\n        String path = uri.getLastPathSegment()  ;//getEncodedPath();\r\n        path = path.substring(path.indexOf(&quot;:&quot;) + 1);\r\n        Toast.makeText(this, &quot;importiert: &quot; + path, Toast.LENGTH_LONG).show();\r\n\r\n        Log.i(&quot;READ_REQUEST_CODE 42: &quot;,&quot; hier sind die Ergebnisse aus onActivityResult: &quot; );\r\n        Log.i(&quot;uri DER: &quot;, uri.toString());\r\n\r\n        Intent target = new Intent(Intent.ACTION_VIEW);\r\n        //target.setDataAndType(Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3A&quot;+ path), &quot;application/pdf&quot;);\r\n        target.setDataAndType(uri, &quot;application/pdf&quot;);\r\n        target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        //Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        Intent intent = Intent.createChooser(target, &quot;Open PDF using&quot;);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        grantPermissions(this,target,uri,true);\r\n        try {\r\n            startActivity(intent);\r\n        } catch (ActivityNotFoundException e) {\r\n            // Instruct the user to install a PDF reader here, or something\r\n            Toast.makeText(this, &quot;No Applications found to open pdf&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\nStill the same Error\r\n\r\n&gt;  Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0010_Laridah%20Marsch-Bariton.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n        \r\n\r\nHow can I get permissions of all files of a folder?\r\nWhat could I do? ","title":"How can i reach GrantUriPermission problem without Open_Document filedialog?","body":"<p>I want to open a file in an external PDF viewer.\nif I call the file with the &quot;OPEN_DOCUMENT&quot; file picker everything works fine.</p>\n<p>if I call a a different file directly with hardcoded existing URI without user dialog I don't have permissions.</p>\n<p>get this Errors:</p>\n<blockquote>\n</blockquote>\n<pre><code> Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\n    at android.os.Parcel.createException(Parcel.java:2071)\n    at android.os.Parcel.readException(Parcel.java:2039)\n    at android.os.Parcel.readException(Parcel.java:1987)\n    at android.app.IActivityManager$Stub$Proxy.grantUriPermission(IActivityManager.java:5748)\n    at android.app.ContextImpl.grantUriPermission(ContextImpl.java:1935)\n    at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\n    at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\n    at de.temaks.stepbystep.MainActivity.grantPermissions(MainActivity.java:203)\n    at de.temaks.stepbystep.MainActivity.oPDF(MainActivity.java:184)\n    at de.temaks.stepbystep.MainActivity.my10(MainActivity.java:144)\n    at java.lang.reflect.Method.invoke(Native Method) \n    at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441) \n    at android.view.View.performClick(View.java:7146) \n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n    at android.view.View.performClickInternal(View.java:7119) \n    at android.view.View.access$3500(View.java:803) \n    at android.view.View$PerformClick.run(View.java:27533) \n    at android.os.Handler.handleCallback(Handler.java:883) \n    at android.os.Handler.dispatchMessage(Handler.java:100) \n    at android.os.Looper.loop(Looper.java:214) \n    at android.app.ActivityThread.main(ActivityThread.java:7386) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980) \n Caused by: android.os.RemoteException: Remote stack trace:\n    at com.android.server.uri.UriGrantsManagerService.checkGrantUriPermission(UriGrantsManagerService.java:1174)\n    at com.android.server.uri.UriGrantsManagerService.grantUriPermission(UriGrantsManagerService.java:767)\n    at com.android.server.uri.UriGrantsManagerService$LocalService.grantUriPermission(UriGrantsManagerService.java:1317)\n</code></pre>\n<p>I tried to set flags of all files in folder with ACTION_OPEN_DOCUMENT_TREE:</p>\n<pre><code>public void openDirectory(Uri uriToLoad) {\n// Choose a directory using the system's file picker.\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n\n// Optionally, specify a URI for the directory that should be opened in\n// the system file picker when it loads.\nintent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\nintent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nintent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n\nstartActivityForResult(intent, 3333);\n</code></pre>\n<p>}\nAnd in activityRusult tried to set flags for all the files in that folder:</p>\n<pre><code>            if (requestCode == 3333\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\n        // The result data contains a URI for the document or directory that\n        // the user selected.\n        Uri uri = null;\n        if (resultData != null) {\n            uri = resultData.getData();\n            // Perform operations on the document using its URI.\n            Log.i(&quot;Verzeichnis &quot;, &quot;gelesen: &quot;+uri.toString());\n\n            //take persist permission for later use\n            getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n            int takeFlags = resultData.getFlags()&amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\n                    | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            ContentResolver resolver = this.getContentResolver();\n            resolver.takePersistableUriPermission(resultData.getData(),takeFlags);\n            File directory = new File(path);\n\n            Log.i(&quot;directory.exists():   &quot;,String.valueOf(directory.exists()));\n            Log.i(&quot;directory.canRead():  &quot;,String.valueOf( directory.canRead()));\n            Log.i(&quot;directory.length():   &quot;,String.valueOf( directory.length()));\n \n            /*File[] files = directory.listFiles();\n            Log.i(&quot;Files&quot;, &quot;Size: &quot; + files.length);\n            Toast.makeText(this,String.valueOf(files.length) +&quot; \n\n            String[] theNamesOfFiles = new String[files.length];\n            for (int i = 0; i &lt; files.length; i++) {  \n                    theNamesOfFiles[i] =  files[i].getName(); \n             }*/\n</code></pre>\n<p>This take no effect, because the errors are after that still the same.\nMaybe i have the wrong flags?</p>\n<p><strong>directory.exists()  give &quot;true&quot;</strong></p>\n<p><strong>directory.canRead() give &quot;false&quot;</strong></p>\n<p>I set the flags just to the &quot;Directory tree&quot;.\nShould i set flags on each file seperatly?</p>\n<p>At the moment in test case i build the uri manually (this uri (file) is in the tree i set the flags ). Later a i want to call saved uri's out of database.</p>\n<pre><code>Uri uri2 = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0018_Wiener%20Elan-Bariton.pdf&quot;);\noPDF(uri2);\n</code></pre>\n<p>Send the uri to external App:</p>\n<pre><code>    public void oPDF(Uri myUri){\n    Uri uri = null;\n\n    uri = myUri;\n\n    uri.getAuthority();\n\n    String mimeType = getContentResolver().getType(uri);\n\n    Log.i(&quot;mime Type &quot;, mimeType);\n\n    //this.grantUriPermission(null, uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    Log.i(&quot;URI Import&quot;,uri.toString());\n\n    String path = uri.getLastPathSegment()  ;//getEncodedPath();\n    path = path.substring(path.indexOf(&quot;:&quot;) + 1);\n    Toast.makeText(this, &quot;importiert: &quot; + path, Toast.LENGTH_LONG).show();\n\n    Log.i(&quot;READ_REQUEST_CODE 42: &quot;,&quot; hier sind die Ergebnisse aus onActivityResult: &quot; );\n    Log.i(&quot;uri DER: &quot;, uri.toString());\n\n    Intent target = new Intent(Intent.ACTION_VIEW);\n    //target.setDataAndType(Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3A&quot;+ path), &quot;application/pdf&quot;);\n    target.setDataAndType(uri, &quot;application/pdf&quot;);\n    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    //Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    Intent intent = Intent.createChooser(target, &quot;Open PDF using&quot;);\n    intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    grantPermissions(this,target,uri,true);\n    try {\n        startActivity(intent);\n    } catch (ActivityNotFoundException e) {\n        // Instruct the user to install a PDF reader here, or something\n        Toast.makeText(this, &quot;No Applications found to open pdf&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Still the same Error</p>\n<blockquote>\n<p>Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0010_Laridah%20Marsch-Bariton.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n<p>How can I get permissions of all files of a folder?\nWhat could I do?</p>\n"},{"tags":["java","spring-boot","azure-active-directory","openid-connect"],"comments":[{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1642632821,"post_id":70778686,"comment_id":125126334,"body_markdown":"I don&#39;t know why there is a button, or how to do this in Spring Framework, but once you have obtained an Authorization Token (server-side) in OAuth or OpenID Connect, you can use that token to interact with resources. One of those resources is the Userinfo Endpoint, which will return information about the user. Maybe this info will help you figure this out in the context of Spring..","body":"I don&#39;t know why there is a button, or how to do this in Spring Framework, but once you have obtained an Authorization Token (server-side) in OAuth or OpenID Connect, you can use that token to interact with resources. One of those resources is the Userinfo Endpoint, which will return information about the user. Maybe this info will help you figure this out in the context of Spring.."},{"owner":{"account_id":22301765,"reputation":4718,"user_id":16526895,"display_name":"Kartik Bhiwapurkar"},"score":0,"creation_date":1642685616,"post_id":70778686,"comment_id":125140382,"body_markdown":"I think you should try using &#39;Postman&#39; for authentication automated testing as it is a great API platform.","body":"I think you should try using &#39;Postman&#39; for authentication automated testing as it is a great API platform."}],"answers":[{"tags":[],"owner":{"account_id":22301765,"reputation":4718,"user_id":16526895,"display_name":"Kartik Bhiwapurkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643106473,"creation_date":1643106473,"answer_id":70847067,"question_id":70778686,"body_markdown":"•\tI tried to follow the github documentation link as mentioned by you in your question and successfully created the application as below screenshots display: -\r\n\r\nApplication.yml file: -\r\n \r\n[![Springboot app-application.yml][1]][1]\r\n\r\nApplication build execution: -\r\n\r\n[![Application code in VS][2]][2] \r\n\r\nApplication execution opening in browser: -\r\n\r\n[![App opening in browser][3]][3]\r\n[![App Azure AD Login page][4]][4]\r\n[![App after logging in to Azure AD][5]][5]\r\n\r\nThus, as you can see, it executes successfully and runs the springboot java application successfully. But if you want the ‘ID Token Details’ button to be not there and in its place, you want to display the ID token details to be shown directly, you would want to change the ‘href’ button class with the below probable HTML classes and scripts extensions, so that the redirection after logging in to the application will directly display the ‘https://jwt.ms’ page and it will capture the token and decode it accordingly showing the claims held by the token. Kindly refer to the below link for more detailed information: -\r\n\r\nhttps://stackoverflow.com/questions/2906582/how-to-create-an-html-button-that-acts-like-a-link\r\n\r\n      &#39; &lt;form action=&quot;https://google.com&quot;&gt;\r\n         &lt;input type=&quot;submit&quot; value=&quot;Go to Google&quot; /&gt;\r\n          &lt;/form&gt; &#39;\r\n\r\nThe above modifications in the ‘.html’ pages of the application should display you the required token details without the button class in HTML pages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZ5kc.png\r\n  [2]: https://i.stack.imgur.com/NVr3E.png\r\n  [3]: https://i.stack.imgur.com/OpoOe.png\r\n  [4]: https://i.stack.imgur.com/PUkCw.png\r\n  [5]: https://i.stack.imgur.com/Pprtn.png","title":"Azure Active Directory Spring Boot @AuthenticationPrincipal","body":"<p>•   I tried to follow the github documentation link as mentioned by you in your question and successfully created the application as below screenshots display: -</p>\n<p>Application.yml file: -</p>\n<p><a href=\"https://i.stack.imgur.com/yZ5kc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZ5kc.png\" alt=\"Springboot app-application.yml\" /></a></p>\n<p>Application build execution: -</p>\n<p><a href=\"https://i.stack.imgur.com/NVr3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NVr3E.png\" alt=\"Application code in VS\" /></a></p>\n<p>Application execution opening in browser: -</p>\n<p><a href=\"https://i.stack.imgur.com/OpoOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OpoOe.png\" alt=\"App opening in browser\" /></a>\n<a href=\"https://i.stack.imgur.com/PUkCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUkCw.png\" alt=\"App Azure AD Login page\" /></a>\n<a href=\"https://i.stack.imgur.com/Pprtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pprtn.png\" alt=\"App after logging in to Azure AD\" /></a></p>\n<p>Thus, as you can see, it executes successfully and runs the springboot java application successfully. But if you want the ‘ID Token Details’ button to be not there and in its place, you want to display the ID token details to be shown directly, you would want to change the ‘href’ button class with the below probable HTML classes and scripts extensions, so that the redirection after logging in to the application will directly display the ‘https://jwt.ms’ page and it will capture the token and decode it accordingly showing the claims held by the token. Kindly refer to the below link for more detailed information: -</p>\n<p><a href=\"https://stackoverflow.com/questions/2906582/how-to-create-an-html-button-that-acts-like-a-link\">How to create an HTML button that acts like a link</a></p>\n<pre><code>  ' &lt;form action=&quot;https://google.com&quot;&gt;\n     &lt;input type=&quot;submit&quot; value=&quot;Go to Google&quot; /&gt;\n      &lt;/form&gt; '\n</code></pre>\n<p>The above modifications in the ‘.html’ pages of the application should display you the required token details without the button class in HTML pages.</p>\n"}],"owner":{"account_id":23992827,"reputation":11,"user_id":17978712,"display_name":"cpatricio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643106473,"creation_date":1642632175,"question_id":70778686,"body_markdown":"Following this sample: https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\r\n\r\nTo extract token details, we need to use AuthenticationPrincipal and OidcUser object in a request mapping. See the Sample Controller for an example of this app making use of ID Token claims.\r\n\r\n    \r\n\r\n    import org.springframework.security.oauth2.core.oidc.user.OidcUser;\r\n    import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n    //...\r\n    @GetMapping(path = &quot;/some_path&quot;)\r\n    public String tokenDetails(@AuthenticationPrincipal OidcUser principal) {\r\n        Map&lt;String, Object&gt; claims = principal.getIdToken().getClaims();\r\n    }\r\n\r\n\r\nIn the sample, there&#180;s a button &quot;Id Token Details&quot; that calls &quot;/some_path&quot;\r\n[Screen][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hadid.png\r\n\r\nHow to do this without call a button? Is there a way to do this under the covers?\r\n\r\nAny help would be greatly appreciated","title":"Azure Active Directory Spring Boot @AuthenticationPrincipal","body":"<p>Following this sample: <a href=\"https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in</a></p>\n<p>To extract token details, we need to use AuthenticationPrincipal and OidcUser object in a request mapping. See the Sample Controller for an example of this app making use of ID Token claims.</p>\n<pre><code>import org.springframework.security.oauth2.core.oidc.user.OidcUser;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\n//...\n@GetMapping(path = &quot;/some_path&quot;)\npublic String tokenDetails(@AuthenticationPrincipal OidcUser principal) {\n    Map&lt;String, Object&gt; claims = principal.getIdToken().getClaims();\n}\n</code></pre>\n<p>In the sample, there´s a button &quot;Id Token Details&quot; that calls &quot;/some_path&quot;\n<a href=\"https://i.stack.imgur.com/Hadid.png\" rel=\"nofollow noreferrer\">Screen</a></p>\n<p>How to do this without call a button? Is there a way to do this under the covers?</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","server","client","bufferedreader","readline"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643106386,"post_id":70846876,"comment_id":125246028,"body_markdown":"How does it &quot;crash&quot;?    Does it throw an exception?  Show us the stacktrace.","body":"How does it &quot;crash&quot;?    Does it throw an exception?  Show us the stacktrace."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":1,"creation_date":1643106437,"post_id":70846876,"comment_id":125246047,"body_markdown":"what exactly is the error? are you getting null while doing readLine() on m_dataFromServer?","body":"what exactly is the error? are you getting null while doing readLine() on m_dataFromServer?"},{"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"score":1,"creation_date":1643106798,"post_id":70846876,"comment_id":125246203,"body_markdown":"the stackTrace is the problem too, i get 0 exeption, my api bug like button is unusable, and cant close the api ,when i run the code in debug run in eclypse , it send me to BufferedReader.class in the :                                        public String readLine() throws IOException {\n        return readLine(false);\n    }","body":"the stackTrace is the problem too, i get 0 exeption, my api bug like button is unusable, and cant close the api ,when i run the code in debug run in eclypse , it send me to BufferedReader.class in the :                                        public String readLine() throws IOException {         return readLine(false);     }"},{"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"score":0,"creation_date":1643107109,"post_id":70846876,"comment_id":125246337,"body_markdown":"i think the bug is because at the moment i use the while ((responseLine = m_dataFromServer.readLine()) != null), the programms cant goes in , because i think m_dataFromServer.readline = null; but i dont understand why","body":"i think the bug is because at the moment i use the while ((responseLine = m_dataFromServer.readLine()) != null), the programms cant goes in , because i think m_dataFromServer.readline = null; but i dont understand why"}],"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643106056,"creation_date":1643105745,"question_id":70846876,"body_markdown":"thank you for helping me \r\nI m a begginer in java and i really need some help to fix a bug from my api client connect .\r\nI want to made an api who connect to a server , can send some request with a textfield and jButton, and print the answer from the server in a textArea . \r\nHere everithing is working, exept the buffered.readLine , that make my api crash .Apparently, my buffer got a byte value, but at the moment i do buffered.readline, that make her values goes to null and make all the code crash .\r\nCan somebody help me ? \r\nSry for my mistakes in english.\r\n\r\npublic class Serveur_client extends JPanel implements ActionListener {\r\n    \r\n    private static final long serialVersionUID = 4959710096704722844L;\r\n    private static Serveur_client m_serveurClient = null;\r\n    private JTextField m_txtFldToMachine;\r\n    private JTextArea txtAreaFromMachine;\r\n    private static BufferedWriter m_dataToServer = null;\r\n    private static BufferedReader m_dataFromServer = null;\r\n    private static Socket socketOfClient = null;\r\n    \r\n\r\n\r\n    public Serveur_client() {\r\n        initPanel();\r\n    }\r\n\r\n    /**\r\n     * Construct the Panel\r\n     */\r\n    private void initPanel() {\r\n\r\n        // Creation de l&#39;IHM\r\n\r\n        txtAreaFromMachine = new JTextArea(&quot;Ready to s command&quot;, 15, 38);\r\n        txtAreaFromMachine.setEditable(false);\r\n\r\n        m_txtFldToMachine = new JTextField(20);\r\n\r\n        JButton sendButton = new JButton(&quot;Envoi de la commande&quot;);\r\n\r\n        sendButton.addActionListener(new ActionListener() {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // TODO Auto-generated method stub\r\n                m_serveurClient.sendData();\r\n               \r\n            }\r\n        });\r\n\r\n        this.add(txtAreaFromMachine);\r\n        this.add(m_txtFldToMachine);\r\n        this.add(sendButton);\r\n    }\r\n\r\n    private static final String SEND_COMMAND = &quot;SEND&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Arrays.toString(args));\r\n        m_serveurClient = new Serveur_client();\r\n        // Server Host\r\n\r\n        String serverHost = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;localhost&quot;;\r\n        String portString = args != null &amp;&amp; args.length &gt; 1 ? args[1] : &quot;9999&quot;;\r\n        int port = 9999;\r\n        try {\r\n            port = Integer.parseInt(portString);\r\n        } catch (Exception e) {\r\n            port = 9999;\r\n        }\r\n\r\n        String ipProp = System.getProperty(&quot;ipadresse&quot;);\r\n        String portProp = System.getProperty(&quot;port&quot;);\r\n\r\n        System.out.println(&quot;ipProp &quot; + ipProp);\r\n        System.out.println(&quot;portProp &quot; + portProp);\r\n\r\n        System.out.println(&quot;serverHost &quot; + serverHost);\r\n        System.out.println(&quot;port &quot; + port);\r\n\r\n        \r\n       \r\n\r\n        try {\r\n\r\n            // Send a request to connect to the server is listening on machine serverHost and port.\r\n            socketOfClient = new Socket(serverHost, port);\r\n\r\n            // Create output stream at the client (to send data to the server)\r\n            m_dataToServer = new BufferedWriter(new OutputStreamWriter(socketOfClient.getOutputStream()));\r\n\r\n            // Input stream at Client (Receive data from the server).\r\n            m_dataFromServer = new BufferedReader(new InputStreamReader(socketOfClient.getInputStream()));\r\n\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot;Erreur de connexion a l&#39;adresse&quot; + serverHost);\r\n            return;\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;IOExeption&quot;);\r\n            return;\r\n        }\r\n\r\n        // Creation de l&#39;IHM\r\n        JFrame frame = new JFrame(&quot;Test IHM&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(BorderLayout.CENTER, m_serveurClient);\r\n        frame.setSize(400, 350);\r\n        frame.setVisible(true);\r\n\r\n        \r\n    }\r\n\r\n    /**\r\n     * This method send data to serveur\r\n     */\r\n    private void sendData() {\r\n        String command = m_txtFldToMachine.getText();\r\n        System.out.println(&quot;message envoy&#233;: &quot; + command);\r\n        // TODO\r\n        txtAreaFromMachine.append(&quot;\\n&quot;);\r\n        txtAreaFromMachine.append(&quot;command receive: &quot; + command);\r\n\r\n        try {\r\n            m_dataToServer.write(command);\r\n            m_dataToServer.newLine();\r\n            m_dataToServer.flush();\r\n            receiveData();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void receiveData() {\r\n        try {\r\n            // Read data sent from the server.\r\n            // By reading the input stream of the Client Socket.\r\n            String responseLine;\r\n\r\n            while ((responseLine = m_dataFromServer.readLine()) != null) {\r\n                System.out.println(&quot;test&quot;);\r\n                System.out.println(responseLine);\r\n                System.out.println(&quot;Server: &quot; + responseLine);\r\n                if (responseLine.indexOf(&quot;OK&quot;) != -1) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            m_dataToServer.close();\r\n            m_dataFromServer.close();\r\n            socketOfClient.close();\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot;Impossible de se connecter a un hote inconnu &quot; + e);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;IOException:  &quot; + e);\r\n        }\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        String actionCommand = e.getActionCommand();\r\n        switch (actionCommand) {\r\n            case SEND_COMMAND:\r\n                m_serveurClient.sendData();\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n}","title":"my buffered.readline got a values to null, need help to understand why?","body":"<p>thank you for helping me\nI m a begginer in java and i really need some help to fix a bug from my api client connect .\nI want to made an api who connect to a server , can send some request with a textfield and jButton, and print the answer from the server in a textArea .\nHere everithing is working, exept the buffered.readLine , that make my api crash .Apparently, my buffer got a byte value, but at the moment i do buffered.readline, that make her values goes to null and make all the code crash .\nCan somebody help me ?\nSry for my mistakes in english.</p>\n<p>public class Serveur_client extends JPanel implements ActionListener {</p>\n<pre><code>private static final long serialVersionUID = 4959710096704722844L;\nprivate static Serveur_client m_serveurClient = null;\nprivate JTextField m_txtFldToMachine;\nprivate JTextArea txtAreaFromMachine;\nprivate static BufferedWriter m_dataToServer = null;\nprivate static BufferedReader m_dataFromServer = null;\nprivate static Socket socketOfClient = null;\n\n\n\npublic Serveur_client() {\n    initPanel();\n}\n\n/**\n * Construct the Panel\n */\nprivate void initPanel() {\n\n    // Creation de l'IHM\n\n    txtAreaFromMachine = new JTextArea(&quot;Ready to s command&quot;, 15, 38);\n    txtAreaFromMachine.setEditable(false);\n\n    m_txtFldToMachine = new JTextField(20);\n\n    JButton sendButton = new JButton(&quot;Envoi de la commande&quot;);\n\n    sendButton.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            m_serveurClient.sendData();\n           \n        }\n    });\n\n    this.add(txtAreaFromMachine);\n    this.add(m_txtFldToMachine);\n    this.add(sendButton);\n}\n\nprivate static final String SEND_COMMAND = &quot;SEND&quot;;\n\npublic static void main(String[] args) {\n\n    System.out.println(Arrays.toString(args));\n    m_serveurClient = new Serveur_client();\n    // Server Host\n\n    String serverHost = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;localhost&quot;;\n    String portString = args != null &amp;&amp; args.length &gt; 1 ? args[1] : &quot;9999&quot;;\n    int port = 9999;\n    try {\n        port = Integer.parseInt(portString);\n    } catch (Exception e) {\n        port = 9999;\n    }\n\n    String ipProp = System.getProperty(&quot;ipadresse&quot;);\n    String portProp = System.getProperty(&quot;port&quot;);\n\n    System.out.println(&quot;ipProp &quot; + ipProp);\n    System.out.println(&quot;portProp &quot; + portProp);\n\n    System.out.println(&quot;serverHost &quot; + serverHost);\n    System.out.println(&quot;port &quot; + port);\n\n    \n   \n\n    try {\n\n        // Send a request to connect to the server is listening on machine serverHost and port.\n        socketOfClient = new Socket(serverHost, port);\n\n        // Create output stream at the client (to send data to the server)\n        m_dataToServer = new BufferedWriter(new OutputStreamWriter(socketOfClient.getOutputStream()));\n\n        // Input stream at Client (Receive data from the server).\n        m_dataFromServer = new BufferedReader(new InputStreamReader(socketOfClient.getInputStream()));\n\n    } catch (UnknownHostException e) {\n        System.err.println(&quot;Erreur de connexion a l'adresse&quot; + serverHost);\n        return;\n    } catch (IOException e) {\n        System.err.println(&quot;IOExeption&quot;);\n        return;\n    }\n\n    // Creation de l'IHM\n    JFrame frame = new JFrame(&quot;Test IHM&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().add(BorderLayout.CENTER, m_serveurClient);\n    frame.setSize(400, 350);\n    frame.setVisible(true);\n\n    \n}\n\n/**\n * This method send data to serveur\n */\nprivate void sendData() {\n    String command = m_txtFldToMachine.getText();\n    System.out.println(&quot;message envoyé: &quot; + command);\n    // TODO\n    txtAreaFromMachine.append(&quot;\\n&quot;);\n    txtAreaFromMachine.append(&quot;command receive: &quot; + command);\n\n    try {\n        m_dataToServer.write(command);\n        m_dataToServer.newLine();\n        m_dataToServer.flush();\n        receiveData();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void receiveData() {\n    try {\n        // Read data sent from the server.\n        // By reading the input stream of the Client Socket.\n        String responseLine;\n\n        while ((responseLine = m_dataFromServer.readLine()) != null) {\n            System.out.println(&quot;test&quot;);\n            System.out.println(responseLine);\n            System.out.println(&quot;Server: &quot; + responseLine);\n            if (responseLine.indexOf(&quot;OK&quot;) != -1) {\n                break;\n            }\n        }\n\n        m_dataToServer.close();\n        m_dataFromServer.close();\n        socketOfClient.close();\n    } catch (UnknownHostException e) {\n        System.err.println(&quot;Impossible de se connecter a un hote inconnu &quot; + e);\n    } catch (IOException e) {\n        System.err.println(&quot;IOException:  &quot; + e);\n    }\n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n\n    String actionCommand = e.getActionCommand();\n    switch (actionCommand) {\n        case SEND_COMMAND:\n            m_serveurClient.sendData();\n            break;\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":21414747,"reputation":1040,"user_id":15774176,"display_name":"Divyani Yadav"},"score":0,"creation_date":1645011769,"post_id":70846926,"comment_id":125755720,"body_markdown":"can you check this link : https://stackoverflow.com/a/62320163/15774176 is it helpful?","body":"can you check this link : <a href=\"https://stackoverflow.com/a/62320163/15774176\">stackoverflow.com/a/62320163/15774176</a> is it helpful?"},{"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"score":0,"creation_date":1646116983,"post_id":70846926,"comment_id":126038463,"body_markdown":"@DivyaniYadav thanks, I aware that but I want to ignore the login as I don&#39;t use that service.","body":"@DivyaniYadav thanks, I aware that but I want to ignore the login as I don&#39;t use that service."}],"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643105984,"creation_date":1643105984,"question_id":70846926,"body_markdown":"In our springboot project, we use only firestore, no other GCP services included\r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut we always got error with GCP Credidential, I want to disable that track, how to do it?\r\n\r\n    java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\r\nIn the application property we put as:\r\n\r\n    spring\r\n\t   cloud:\r\n          gcp:\r\n            firestore:\r\n                enabled: true\r\n                project-id: my-firestore-project-id\r\n                credentials:\r\n                    location: classpath:my-firestore-authentication-file-xxxx.json\r\n\r\nI already tried to disabled as:\r\n\r\n    spring.cloud.gcp.logging.enabled=false\r\n    spring.cloud.gcp.trace.enabled=false\r\n\r\nand still error, the error wont stop the application but it&#39;s disturb and how to disable that?","title":"Spring Boot with Cloud GCP Firestore, got error with Google Compute Engine GCP Credential, How to disable the error logs","body":"<p>In our springboot project, we use only firestore, no other GCP services included</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n   &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but we always got error with GCP Credidential, I want to disable that track, how to do it?</p>\n<pre><code>java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n<p>In the application property we put as:</p>\n<pre><code>spring\n   cloud:\n      gcp:\n        firestore:\n            enabled: true\n            project-id: my-firestore-project-id\n            credentials:\n                location: classpath:my-firestore-authentication-file-xxxx.json\n</code></pre>\n<p>I already tried to disabled as:</p>\n<pre><code>spring.cloud.gcp.logging.enabled=false\nspring.cloud.gcp.trace.enabled=false\n</code></pre>\n<p>and still error, the error wont stop the application but it's disturb and how to disable that?</p>\n"},{"tags":["java","collections","key-value","priority-queue"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1589051699,"post_id":61702224,"comment_id":109141366,"body_markdown":"Try using `Comparator.comparing(Pair::getValue)`.","body":"Try using <code>Comparator.comparing(Pair::getValue)</code>."},{"owner":{"account_id":17193383,"reputation":137,"user_id":12446743,"display_name":"Artaxerxes"},"score":0,"creation_date":1589051914,"post_id":61702224,"comment_id":109141436,"body_markdown":"can you please elaborate a little more. Or just post an modification. It&#39;d help because I&#39;m learning and uncomfortable with collections. Thanks","body":"can you please elaborate a little more. Or just post an modification. It&#39;d help because I&#39;m learning and uncomfortable with collections. Thanks"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":2,"creation_date":1589052021,"post_id":61702224,"comment_id":109141479,"body_markdown":"There is a constructor `public PriorityQueue(int initialCapacity,\n                         Comparator&lt;? super E&gt; comparator)` which accepts a comparator as second argument. The comparator describes how to sort.","body":"There is a constructor <code>public PriorityQueue(int initialCapacity,                          Comparator&lt;? super E&gt; comparator)</code> which accepts a comparator as second argument. The comparator describes how to sort."}],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1589053171,"creation_date":1589052062,"answer_id":61702424,"question_id":61702224,"body_markdown":"You need to use `Comparator` which will be used to order this priority queue.\r\n\r\nUse `Comparator.comparing()` and pass `Method reference` of  comparing parameter when create the `PriorityQueue`\r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\r\n                    new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\r\n\r\nOr \r\n\r\nYou can use lambda expression \r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\r\n                        new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n,(a,b) -&gt; a.getKey() - b.getKey());","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>You need to use <code>Comparator</code> which will be used to order this priority queue.</p>\n\n<p>Use <code>Comparator.comparing()</code> and pass <code>Method reference</code> of  comparing parameter when create the <code>PriorityQueue</code></p>\n\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\n                new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n</code></pre>\n\n<p>Or </p>\n\n<p>You can use lambda expression </p>\n\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\n                    new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n,(a,b) -&gt; a.getKey() - b.getKey());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589399416,"creation_date":1589399416,"answer_id":61783610,"question_id":61702224,"body_markdown":"Alternative, use custom `Pair` class that implements `Comparable`.\r\n\r\n```\r\nclass Pair implements Comparable&lt;Pair&gt; {\r\n    Integer value;\r\n    Integer index;\r\n\r\n    public Pair(Integer value, Integer index) {\r\n        this.value = value;\r\n        this.index = index;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Pair o) {\r\n        return value - o.value;\r\n    }\r\n}\r\n```\r\n\r\nand then usage\r\n```\r\n// Add elements\r\nqueue.add(new Pair(valueKey, index));\r\n// do it for all your elements\r\n\r\nfinal Pair min = queue.poll();\r\nInteger index = min.index;\r\nInteger value = min.value;\r\n\r\n// Do with them what you want.\r\n```\r\n\r\nI used PriorityQueue in leetcode challenge.\r\nhttps://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java\r\n\r\nAnd this is full example\r\nhttps://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java\r\n\r\n","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>Alternative, use custom <code>Pair</code> class that implements <code>Comparable</code>.</p>\n\n<pre><code>class Pair implements Comparable&lt;Pair&gt; {\n    Integer value;\n    Integer index;\n\n    public Pair(Integer value, Integer index) {\n        this.value = value;\n        this.index = index;\n    }\n\n    @Override\n    public int compareTo(Pair o) {\n        return value - o.value;\n    }\n}\n</code></pre>\n\n<p>and then usage</p>\n\n<pre><code>// Add elements\nqueue.add(new Pair(valueKey, index));\n// do it for all your elements\n\nfinal Pair min = queue.poll();\nInteger index = min.index;\nInteger value = min.value;\n\n// Do with them what you want.\n</code></pre>\n\n<p>I used PriorityQueue in leetcode challenge.\n<a href=\"https://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java\" rel=\"noreferrer\">https://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java</a></p>\n\n<p>And this is full example\n<a href=\"https://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java\" rel=\"noreferrer\">https://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java</a></p>\n"},{"tags":[],"owner":{"account_id":1314647,"reputation":744,"user_id":1261816,"accept_rate":50,"display_name":"Sourabh86"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626844624,"creation_date":1626844624,"answer_id":68464302,"question_id":61702224,"body_markdown":"I prefer to use Map.Entry in most cases for this purpose. Other time a custom Pair class with Comparator in PriorityQueue constructor.\r\n\r\n```\r\nimport java.util.PriorityQueue;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\npublic class Test\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        int n = 5;\r\n\r\n        PriorityQueue &lt;Map.Entry&lt;Integer,Integer&gt;&gt; l = new PriorityQueue &lt;&gt; (n,(a,b)-&gt;Integer.compare(a.getKey(),b.getKey()));\r\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(1,90);\r\n        map.put(7,54);\r\n        map.put(2,99);\r\n        map.put(4,88);\r\n        map.put(9,89);\r\n        l.addAll(map.entrySet());\r\n        System.out.println(l.poll().getValue()); \r\n    }\r\n}\r\n```","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>I prefer to use Map.Entry in most cases for this purpose. Other time a custom Pair class with Comparator in PriorityQueue constructor.</p>\n<pre><code>import java.util.PriorityQueue;\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class Test\n{\n    public static void main (String[] args)\n    {\n        int n = 5;\n\n        PriorityQueue &lt;Map.Entry&lt;Integer,Integer&gt;&gt; l = new PriorityQueue &lt;&gt; (n,(a,b)-&gt;Integer.compare(a.getKey(),b.getKey()));\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(1,90);\n        map.put(7,54);\n        map.put(2,99);\n        map.put(4,88);\n        map.put(9,89);\n        l.addAll(map.entrySet());\n        System.out.println(l.poll().getValue()); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17193383,"reputation":137,"user_id":12446743,"display_name":"Artaxerxes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18120,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61702424,"answer_count":3,"score":9,"last_activity_date":1643105324,"creation_date":1589051013,"question_id":61702224,"body_markdown":"So I want to use the smallest key as the priority and then return the VALUE of that corresponding key:\r\n````\r\nimport javafx.util.Pair;\r\nimport java.util.PriorityQueue;\r\n\r\npublic class Test\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        int n = 5;\r\n\r\n        PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; l = new PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; (n);\r\n\r\n        l.add(new Pair &lt;&gt; (1, 90));\r\n        l.add(new Pair &lt;&gt; (7, 54));\r\n        l.add(new Pair &lt;&gt; (2, 99));\r\n        l.add(new Pair &lt;&gt; (4, 88));\r\n        l.add(new Pair &lt;&gt; (9, 89));\r\n\r\n        System.out.println(l.poll().getValue()); \r\n    }\r\n}\r\n````\r\n\r\nThe output Im looking for is 90 because 1 is the smallest key. Its fine even if the value is used as the priority and the key is returned because I can just swap the data if neccessary. I want to display key/value using value/key as a priority (minimum value in this case). I do not know how this can be done in this scenario. This works fine in C++.\r\n","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>So I want to use the smallest key as the priority and then return the VALUE of that corresponding key:</p>\n\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class Test\n{\n    public static void main (String[] args)\n    {\n        int n = 5;\n\n        PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; l = new PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; (n);\n\n        l.add(new Pair &lt;&gt; (1, 90));\n        l.add(new Pair &lt;&gt; (7, 54));\n        l.add(new Pair &lt;&gt; (2, 99));\n        l.add(new Pair &lt;&gt; (4, 88));\n        l.add(new Pair &lt;&gt; (9, 89));\n\n        System.out.println(l.poll().getValue()); \n    }\n}\n</code></pre>\n\n<p>The output Im looking for is 90 because 1 is the smallest key. Its fine even if the value is used as the priority and the key is returned because I can just swap the data if neccessary. I want to display key/value using value/key as a priority (minimum value in this case). I do not know how this can be done in this scenario. This works fine in C++.</p>\n"},{"tags":["java","spring-boot","certificate","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643094156,"post_id":70843036,"comment_id":125241766,"body_markdown":"First of all, if a document has a certification signature, no approval signature may come before it. You claim JsignPDF can do otherwise but according to the specification that is impossible. Thus, either JsignPDF does something entirely different than you think it does or there is a bug in Adobe Acrobat which you appear to use as validator. To verify please share example docs (before and after certifying) with previous approval signatures and then a certification signature created by JsignPDF for analysis.","body":"First of all, if a document has a certification signature, no approval signature may come before it. You claim JsignPDF can do otherwise but according to the specification that is impossible. Thus, either JsignPDF does something entirely different than you think it does or there is a bug in Adobe Acrobat which you appear to use as validator. To verify please share example docs (before and after certifying) with previous approval signatures and then a certification signature created by JsignPDF for analysis."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643096163,"post_id":70843036,"comment_id":125242318,"body_markdown":"However, the first signature is always be certified or can be set ?","body":"However, the first signature is always be certified or can be set ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643101732,"post_id":70843036,"comment_id":125244260,"body_markdown":"If there is a certification signature, it must be before all approval signatures. And if there is no signature in a document yet, you can add a certification signature. And no, you cannot swap signatures.","body":"If there is a certification signature, it must be before all approval signatures. And if there is no signature in a document yet, you can add a certification signature. And no, you cannot swap signatures."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643102338,"post_id":70843036,"comment_id":125244486,"body_markdown":"oke, i undestand. More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature","body":"oke, i undestand. More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643102799,"post_id":70843036,"comment_id":125244659,"body_markdown":"*&quot;More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ?&quot;* - You cannot use `setMDPPermission` for that as that would create another certification signature. What you can do, though, is adding a signature lock dictionary to the final signature field to sign with a **P** value of 1 to lock the document. Beware, though: This is a feature for PDF 2.0 conform viewers. Thus, Adobe Acrobat will respect that entry but some PDF viewers probably will not.","body":"<i>&quot;More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ?&quot;</i> - You cannot use <code>setMDPPermission</code> for that as that would create another certification signature. What you can do, though, is adding a signature lock dictionary to the final signature field to sign with a <b>P</b> value of 1 to lock the document. Beware, though: This is a feature for PDF 2.0 conform viewers. Thus, Adobe Acrobat will respect that entry but some PDF viewers probably will not."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643105019,"post_id":70843036,"comment_id":125245533,"body_markdown":"By the way, *&#39;Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;&#39;* - even with the parameter &quot;sign&quot; your code adds a **DocMDP** transform to the signature in case of `accessPermissions == 0`; but such a **DocMDP** transform makes a signature a certification. So this obviously is wrong.","body":"By the way, <i>&#39;Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;&#39;</i> - even with the parameter &quot;sign&quot; your code adds a <b>DocMDP</b> transform to the signature in case of <code>accessPermissions == 0</code>; but such a <b>DocMDP</b> transform makes a signature a certification. So this obviously is wrong."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643105990,"post_id":70843036,"comment_id":125245889,"body_markdown":"yes, i have deleted that code. now just &quot;seal&quot; have DocMDP transform","body":"yes, i have deleted that code. now just &quot;seal&quot; have DocMDP transform"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643106210,"post_id":70843036,"comment_id":125245955,"body_markdown":"signature lock dictionary is show the signature pict ? i try it just show the rectangle box","body":"signature lock dictionary is show the signature pict ? i try it just show the rectangle box"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643107666,"post_id":70843036,"comment_id":125246524,"body_markdown":"*&quot;signature lock dictionary is show the signature pict ?&quot;* - The signature lock dictionary has nothing to do with some signature picture. Simply add a dictionary filled as described  in section 12.7.5.5 &quot;Signature fields&quot; of ISO 32000-2:2020 to the signature field dictionary.","body":"<i>&quot;signature lock dictionary is show the signature pict ?&quot;</i> - The signature lock dictionary has nothing to do with some signature picture. Simply add a dictionary filled as described  in section 12.7.5.5 &quot;Signature fields&quot; of ISO 32000-2:2020 to the signature field dictionary."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643104823,"creation_date":1643104823,"answer_id":70846674,"question_id":70843036,"body_markdown":"*This answer essentially is a more detailed version of the comments, essentially finding that what you want to do is not possible.*\r\n\r\nYou ask for a way to\r\n\r\n&gt;Certify Document when Approval Signature exist\r\n\r\nAccording to the current PDF specification:\r\n\r\n|ISO 32000-2:2020 subsection 12.8.1 &quot;General&quot; of 12.8 &quot;Digital signatures&quot;|\r\n|-|\r\n|A PDF document may contain the following standard types of signatures: [...] One or more approval signatures (also known as recipient signatures). These shall follow the certification signature if one is present.|\r\n\r\nThus, you cannot validly add a certification signature to a PDF which already has approval signatures.\r\n\r\n(This does not automatically mean that all validators will detect the issue if you add a certification signature after approval signatures, let alone correctly display the cause. Many validators only do a subset of the checks that strictly speaking are necessary...)\r\n\r\n&gt; More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature\r\n\r\n`setMDPPermission` adds a **DocMDP** transform to the signature, and such a transform makes the signature a certification signature. Thus, using this method when signing a document that already has an approval signature, will create an invalid PDF or fail entirely.\r\n\r\nYou can lock a PDF document with an approval signature, though, if you add a **Lock** dictionary to the signature field with a **P** entry of 1. Beware, though, this is a ISO 32000-2 feature originally introduced as a feature of an Adobe Extension to ISO 32000-1. Not all PDF viewers support ISO 32000-2 yet, so some viewers may not respect this entry.","title":"Certified Document when Approval Signature exist","body":"<p><em>This answer essentially is a more detailed version of the comments, essentially finding that what you want to do is not possible.</em></p>\n<p>You ask for a way to</p>\n<blockquote>\n<p>Certify Document when Approval Signature exist</p>\n</blockquote>\n<p>According to the current PDF specification:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ISO 32000-2:2020 subsection 12.8.1 &quot;General&quot; of 12.8 &quot;Digital signatures&quot;</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A PDF document may contain the following standard types of signatures: [...] One or more approval signatures (also known as recipient signatures). These shall follow the certification signature if one is present.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Thus, you cannot validly add a certification signature to a PDF which already has approval signatures.</p>\n<p>(This does not automatically mean that all validators will detect the issue if you add a certification signature after approval signatures, let alone correctly display the cause. Many validators only do a subset of the checks that strictly speaking are necessary...)</p>\n<blockquote>\n<p>More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can't add more approval signature</p>\n</blockquote>\n<p><code>setMDPPermission</code> adds a <strong>DocMDP</strong> transform to the signature, and such a transform makes the signature a certification signature. Thus, using this method when signing a document that already has an approval signature, will create an invalid PDF or fail entirely.</p>\n<p>You can lock a PDF document with an approval signature, though, if you add a <strong>Lock</strong> dictionary to the signature field with a <strong>P</strong> entry of 1. Beware, though, this is a ISO 32000-2 feature originally introduced as a feature of an Adobe Extension to ISO 32000-1. Not all PDF viewers support ISO 32000-2 yet, so some viewers may not respect this entry.</p>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846674,"answer_count":1,"score":1,"last_activity_date":1643104823,"creation_date":1643080704,"question_id":70843036,"body_markdown":"Working with java use Apache PDFBox to sign and certified, invalid certified if signature exist, with JsignPDF was able to certified when approval exist, the process is sign after that do certified (seal) document\r\n\r\nSignature with JsignPDF\r\n\r\n[![Document with approval sign][1]][1]\r\n\r\n\r\ndocument after certified with JsignPDF :\r\n\r\n[![Document signed with certified][2]][2]\r\n\r\nthe certified invalid with PDFBox\r\n\r\n[![Invalid certified PDFBox][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ILKh8.png\r\n  [2]: https://i.stack.imgur.com/uiU9Q.png\r\n  [3]: https://i.stack.imgur.com/S7E7J.png\r\n\r\nthe function from PDFBox with some editing was to try :\r\n\r\n\r\n    public void signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\r\n            if (inputFile == null || !inputFile.exists()) {\r\n                throw new IOException(&quot;Document for signing does not exist&quot;);\r\n            }\r\n    \r\n            setTsaUrl(tsaUrl);\r\n            // creating output document and prepare the IO streams.\r\n    \r\n    //        try (FileOutputStream fos = new FileOutputStream(signedFile);\r\n    //             PDDocument doc = Loader.loadPDF(inputFile)) {\r\n    \r\n            // creating output document and prepare the IO streams.\r\n            FileOutputStream fos = new FileOutputStream(signedFile);\r\n    \r\n            // load document\r\n            PDDocument doc = PDDocument.load(inputFile);\r\n    \r\n                int accessPermissions = SigUtils.getMDPPermission(doc);\r\n                LogSystem.info(&quot;Document permission &quot; + accessPermissions);\r\n                if (accessPermissions == 1) {\r\n                    throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\r\n                }\r\n                // Note that PDFBox has a bug that visual signing on certified files with permission 2\r\n                // doesn&#39;t work properly, see PDFBOX-3699. As long as this issue is open, you may want to\r\n                // be careful with such files.\r\n    \r\n                PDSignature signature = null;\r\n                PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\r\n                PDRectangle rect = null;\r\n    \r\n                // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\r\n                if (acroForm != null) {\r\n                    signature = findExistingSignature(acroForm, SignatureField);\r\n                    if (signature != null) {\r\n                        rect = acroForm.getField(SignatureField).getWidgets().get(0).getRectangle();\r\n                    }\r\n                }\r\n    \r\n                if (signature == null) {\r\n                    // create signature dictionary\r\n                    signature = new PDSignature();\r\n                }\r\n    \r\n    \r\n                if (rect == null) {\r\n                    rect = createSignatureRectangle(doc, humanRect);\r\n                }\r\n    \r\n                // Optional: certify\r\n                // can be done only if version is at least 1.5 and if not already set\r\n                // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\r\n                // PDF/A-1b requires PDF version 1.4 max, so don&#39;t increase the version on such files.\r\n    \r\n    //            if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n    //            {\r\n    //                SigUtils.setMDPPermission(doc, signature, 2);\r\n    //            }\r\n    \r\n                if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\r\n                    // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\r\n                    // with Adobe Reader\r\n                    if (acroForm.getFields().isEmpty()) {\r\n                        // we can safely delete it if there are no fields\r\n                        acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\r\n                        // note that if you&#39;ve set MDP permissions, the removal of this item\r\n                        // may result in Adobe Reader claiming that the document has been changed.\r\n                        // and/or that field content won&#39;t be displayed properly.\r\n                        // ==&gt; decide what you prefer and adjust your code accordingly.\r\n                    } else {\r\n                        System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\r\n                    }\r\n                }\r\n    \r\n                // default filter\r\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n    \r\n                // subfilter for basic and PAdES Part 2 signatures\r\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n    \r\n                signature.setName(&quot;Name&quot;);\r\n                signature.setLocation(&quot;Location&quot;);\r\n                \r\n                if(userSignature.getType().equals(&quot;sign&quot;))\r\n                {\r\n                    signature.setReason(&quot;Reason&quot;);\r\n                    if (accessPermissions == 0) {\r\n\r\n                        COSDictionary sigDict = signature.getCOSObject();\r\n    \r\n                        // DocMDP specific stuff\r\n                        COSDictionary transformParameters = new COSDictionary();\r\n                        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                        transformParameters.setInt(COSName.P, 0);\r\n                        transformParameters.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary referenceDict = new COSDictionary();\r\n                        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                        referenceDict.setNeedToBeUpdated(true);\r\n    \r\n                        COSArray referenceArray = new COSArray();\r\n                        referenceArray.add(referenceDict);\r\n                        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                        referenceArray.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                        COSDictionary permsDict = new COSDictionary();\r\n                        catalogDict.setItem(COSName.PERMS, permsDict);\r\n                        permsDict.setItem(COSName.DOCMDP, signature);\r\n                        catalogDict.setNeedToBeUpdated(true);\r\n                        permsDict.setNeedToBeUpdated(true);\r\n                    }\r\n                }\r\n                if(userSignature.getType().equals(&quot;seal&quot;))\r\n                {\r\n                    signature.setReason(userSignature.getQrText());\r\n    //                try {\r\n    //                    if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n    //                    {\r\n    //                        SigUtils.setMDPPermission(doc, signature, 2);\r\n    //                    }\r\n    //                }catch(Exception e)\r\n    //                {\r\n    //                    e.printStackTrace();\r\n    //                }\r\n                    if (accessPermissions == 0) {\r\n                        //            SigUtils.setMDPPermission(document, signature, 1);\r\n                        COSDictionary sigDict = signature.getCOSObject();\r\n    \r\n                        // DocMDP specific stuff\r\n                        COSDictionary transformParameters = new COSDictionary();\r\n                        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                        transformParameters.setInt(COSName.P, 2);\r\n                        transformParameters.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary referenceDict = new COSDictionary();\r\n                        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                        referenceDict.setNeedToBeUpdated(true);\r\n    \r\n                        COSArray referenceArray = new COSArray();\r\n                        referenceArray.add(referenceDict);\r\n                        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                        referenceArray.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                        COSDictionary permsDict = new COSDictionary();\r\n                        catalogDict.setItem(COSName.PERMS, permsDict);\r\n                        permsDict.setItem(COSName.DOCMDP, signature);\r\n                        catalogDict.setNeedToBeUpdated(true);\r\n                        permsDict.setNeedToBeUpdated(true);\r\n                    }\r\n                }\r\n    \r\n                // the signing date, needed for valid signature\r\n                signature.setSignDate(Calendar.getInstance());\r\n    \r\n                // do not set SignatureInterface instance, if external signing used\r\n                SignatureInterface signatureInterface = isExternalSigning() ? null : this;\r\n    \r\n                // register signature dictionary and sign interface\r\n                signatureOptions = new SignatureOptions();\r\n    \r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible()));\r\n                signatureOptions.setPage(page);\r\n    \r\n    \r\n    \r\n                doc.addSignature(signature, signatureInterface, signatureOptions);\r\n                doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\r\n    \r\n                if (isExternalSigning()) {\r\n                    this.tsaUrl=tsaUrl;\r\n    //                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n    //                // invoke external signature service\r\n    //                byte[] cmsSignature = sign(externalSigning.getContent());\r\n    \r\n    \r\n    \r\n                    ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n    \r\n                    // invoke external signature service\r\n                    byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\r\n                    String sgn= signingProcess(cmsSignature);\r\n    \r\n                    // set signature bytes received from the service\r\n                    externalSigning.setSignature(attachSignature(sgn));\r\n    \r\n                } else {\r\n                    // write incremental (only for signing purpose)\r\n                    doc.saveIncremental(fos);\r\n                }\r\n            doc.close();\r\n    //        } catch (CertificateEncodingException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (NoSuchAlgorithmException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (OperatorCreationException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (CMSException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n    \r\n            // Do not close signatureOptions before saving, because some COSStream objects within\r\n            // are transferred to the signed document.\r\n            // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\r\n            // in signature options might by closed by gc, which would close COSStream objects prematurely.\r\n            // See https://issues.apache.org/jira/browse/PDFBOX-3743\r\n            IOUtils.closeQuietly(signatureOptions);\r\n        }\r\n\r\nset setMDPermission to certified the document :\r\n\r\n    if (accessPermissions == 0) {\r\n\r\n        COSDictionary sigDict = signature.getCOSObject();\r\n        \r\n        // DocMDP specific stuff\r\n        COSDictionary transformParameters = new COSDictionary();\r\n        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n        transformParameters.setInt(COSName.P, 1);\r\n        transformParameters.setNeedToBeUpdated(true);\r\n        \r\n        COSDictionary referenceDict = new COSDictionary();\r\n        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n        referenceDict.setNeedToBeUpdated(true);\r\n        \r\n        COSArray referenceArray = new COSArray();\r\n        referenceArray.add(referenceDict);\r\n        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n        referenceArray.setNeedToBeUpdated(true);\r\n        \r\n        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n        COSDictionary permsDict = new COSDictionary();\r\n        catalogDict.setItem(COSName.PERMS, permsDict);\r\n        permsDict.setItem(COSName.DOCMDP, signature);\r\n        catalogDict.setNeedToBeUpdated(true);\r\n        permsDict.setNeedToBeUpdated(true);\r\n    }\r\n\r\nSignature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;\r\n\r\n*Update, on PDFBox the first existing signature always be certified, not second signature ? can the last sign be certified and swap the first one ?\r\n\r\nany suggest ?","title":"Certified Document when Approval Signature exist","body":"<p>Working with java use Apache PDFBox to sign and certified, invalid certified if signature exist, with JsignPDF was able to certified when approval exist, the process is sign after that do certified (seal) document</p>\n<p>Signature with JsignPDF</p>\n<p><a href=\"https://i.stack.imgur.com/ILKh8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILKh8.png\" alt=\"Document with approval sign\" /></a></p>\n<p>document after certified with JsignPDF :</p>\n<p><a href=\"https://i.stack.imgur.com/uiU9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiU9Q.png\" alt=\"Document signed with certified\" /></a></p>\n<p>the certified invalid with PDFBox</p>\n<p><a href=\"https://i.stack.imgur.com/S7E7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7E7J.png\" alt=\"Invalid certified PDFBox\" /></a></p>\n<p>the function from PDFBox with some editing was to try :</p>\n<pre><code>public void signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\n        if (inputFile == null || !inputFile.exists()) {\n            throw new IOException(&quot;Document for signing does not exist&quot;);\n        }\n\n        setTsaUrl(tsaUrl);\n        // creating output document and prepare the IO streams.\n\n//        try (FileOutputStream fos = new FileOutputStream(signedFile);\n//             PDDocument doc = Loader.loadPDF(inputFile)) {\n\n        // creating output document and prepare the IO streams.\n        FileOutputStream fos = new FileOutputStream(signedFile);\n\n        // load document\n        PDDocument doc = PDDocument.load(inputFile);\n\n            int accessPermissions = SigUtils.getMDPPermission(doc);\n            LogSystem.info(&quot;Document permission &quot; + accessPermissions);\n            if (accessPermissions == 1) {\n                throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\n            }\n            // Note that PDFBox has a bug that visual signing on certified files with permission 2\n            // doesn't work properly, see PDFBOX-3699. As long as this issue is open, you may want to\n            // be careful with such files.\n\n            PDSignature signature = null;\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\n            PDRectangle rect = null;\n\n            // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\n            if (acroForm != null) {\n                signature = findExistingSignature(acroForm, SignatureField);\n                if (signature != null) {\n                    rect = acroForm.getField(SignatureField).getWidgets().get(0).getRectangle();\n                }\n            }\n\n            if (signature == null) {\n                // create signature dictionary\n                signature = new PDSignature();\n            }\n\n\n            if (rect == null) {\n                rect = createSignatureRectangle(doc, humanRect);\n            }\n\n            // Optional: certify\n            // can be done only if version is at least 1.5 and if not already set\n            // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\n            // PDF/A-1b requires PDF version 1.4 max, so don't increase the version on such files.\n\n//            if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n//            {\n//                SigUtils.setMDPPermission(doc, signature, 2);\n//            }\n\n            if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\n                // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\n                // with Adobe Reader\n                if (acroForm.getFields().isEmpty()) {\n                    // we can safely delete it if there are no fields\n                    acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\n                    // note that if you've set MDP permissions, the removal of this item\n                    // may result in Adobe Reader claiming that the document has been changed.\n                    // and/or that field content won't be displayed properly.\n                    // ==&gt; decide what you prefer and adjust your code accordingly.\n                } else {\n                    System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\n                }\n            }\n\n            // default filter\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n\n            // subfilter for basic and PAdES Part 2 signatures\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n\n            signature.setName(&quot;Name&quot;);\n            signature.setLocation(&quot;Location&quot;);\n            \n            if(userSignature.getType().equals(&quot;sign&quot;))\n            {\n                signature.setReason(&quot;Reason&quot;);\n                if (accessPermissions == 0) {\n\n                    COSDictionary sigDict = signature.getCOSObject();\n\n                    // DocMDP specific stuff\n                    COSDictionary transformParameters = new COSDictionary();\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                    transformParameters.setInt(COSName.P, 0);\n                    transformParameters.setNeedToBeUpdated(true);\n\n                    COSDictionary referenceDict = new COSDictionary();\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                    referenceDict.setNeedToBeUpdated(true);\n\n                    COSArray referenceArray = new COSArray();\n                    referenceArray.add(referenceDict);\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\n                    referenceArray.setNeedToBeUpdated(true);\n\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                    COSDictionary permsDict = new COSDictionary();\n                    catalogDict.setItem(COSName.PERMS, permsDict);\n                    permsDict.setItem(COSName.DOCMDP, signature);\n                    catalogDict.setNeedToBeUpdated(true);\n                    permsDict.setNeedToBeUpdated(true);\n                }\n            }\n            if(userSignature.getType().equals(&quot;seal&quot;))\n            {\n                signature.setReason(userSignature.getQrText());\n//                try {\n//                    if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n//                    {\n//                        SigUtils.setMDPPermission(doc, signature, 2);\n//                    }\n//                }catch(Exception e)\n//                {\n//                    e.printStackTrace();\n//                }\n                if (accessPermissions == 0) {\n                    //            SigUtils.setMDPPermission(document, signature, 1);\n                    COSDictionary sigDict = signature.getCOSObject();\n\n                    // DocMDP specific stuff\n                    COSDictionary transformParameters = new COSDictionary();\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                    transformParameters.setInt(COSName.P, 2);\n                    transformParameters.setNeedToBeUpdated(true);\n\n                    COSDictionary referenceDict = new COSDictionary();\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                    referenceDict.setNeedToBeUpdated(true);\n\n                    COSArray referenceArray = new COSArray();\n                    referenceArray.add(referenceDict);\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\n                    referenceArray.setNeedToBeUpdated(true);\n\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                    COSDictionary permsDict = new COSDictionary();\n                    catalogDict.setItem(COSName.PERMS, permsDict);\n                    permsDict.setItem(COSName.DOCMDP, signature);\n                    catalogDict.setNeedToBeUpdated(true);\n                    permsDict.setNeedToBeUpdated(true);\n                }\n            }\n\n            // the signing date, needed for valid signature\n            signature.setSignDate(Calendar.getInstance());\n\n            // do not set SignatureInterface instance, if external signing used\n            SignatureInterface signatureInterface = isExternalSigning() ? null : this;\n\n            // register signature dictionary and sign interface\n            signatureOptions = new SignatureOptions();\n\n            signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible()));\n            signatureOptions.setPage(page);\n\n\n\n            doc.addSignature(signature, signatureInterface, signatureOptions);\n            doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\n\n            if (isExternalSigning()) {\n                this.tsaUrl=tsaUrl;\n//                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n//                // invoke external signature service\n//                byte[] cmsSignature = sign(externalSigning.getContent());\n\n\n\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n\n                // invoke external signature service\n                byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\n                String sgn= signingProcess(cmsSignature);\n\n                // set signature bytes received from the service\n                externalSigning.setSignature(attachSignature(sgn));\n\n            } else {\n                // write incremental (only for signing purpose)\n                doc.saveIncremental(fos);\n            }\n        doc.close();\n//        } catch (CertificateEncodingException e) {\n//            e.printStackTrace();\n//        } catch (NoSuchAlgorithmException e) {\n//            e.printStackTrace();\n//        } catch (OperatorCreationException e) {\n//            e.printStackTrace();\n//        } catch (CMSException e) {\n//            e.printStackTrace();\n//        }\n\n        // Do not close signatureOptions before saving, because some COSStream objects within\n        // are transferred to the signed document.\n        // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\n        // in signature options might by closed by gc, which would close COSStream objects prematurely.\n        // See https://issues.apache.org/jira/browse/PDFBOX-3743\n        IOUtils.closeQuietly(signatureOptions);\n    }\n</code></pre>\n<p>set setMDPermission to certified the document :</p>\n<pre><code>if (accessPermissions == 0) {\n\n    COSDictionary sigDict = signature.getCOSObject();\n    \n    // DocMDP specific stuff\n    COSDictionary transformParameters = new COSDictionary();\n    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n    transformParameters.setInt(COSName.P, 1);\n    transformParameters.setNeedToBeUpdated(true);\n    \n    COSDictionary referenceDict = new COSDictionary();\n    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n    referenceDict.setNeedToBeUpdated(true);\n    \n    COSArray referenceArray = new COSArray();\n    referenceArray.add(referenceDict);\n    sigDict.setItem(COSName.REFERENCE, referenceArray);\n    referenceArray.setNeedToBeUpdated(true);\n    \n    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n    COSDictionary permsDict = new COSDictionary();\n    catalogDict.setItem(COSName.PERMS, permsDict);\n    permsDict.setItem(COSName.DOCMDP, signature);\n    catalogDict.setNeedToBeUpdated(true);\n    permsDict.setNeedToBeUpdated(true);\n}\n</code></pre>\n<p>Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;</p>\n<p>*Update, on PDFBox the first existing signature always be certified, not second signature ? can the last sign be certified and swap the first one ?</p>\n<p>any suggest ?</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643065545,"post_id":70841153,"comment_id":125237031,"body_markdown":"Before posting, thoroughly search Stack Overflow. You would have found *many* existing Answers with example code to study.","body":"Before posting, thoroughly search Stack Overflow. You would have found <i>many</i> existing Answers with example code to study."}],"answers":[{"tags":[],"owner":{"account_id":7829105,"reputation":327,"user_id":5919820,"accept_rate":100,"display_name":"motaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643104700,"creation_date":1643064520,"answer_id":70841425,"question_id":70841153,"body_markdown":"The error in your question is the String you pass to executeQuery.\r\nIt actually translates to this ```select * from names ; ORDER BY RAND() + Limit 1```\r\n\r\nBut it should look like this ```select * from names ORDER BY RAND() LIMIT 1;```\r\n\r\nSo adapt this row \r\n\r\n```resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);```\r\n\r\nto:\r\n\r\n```resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;);```\r\n\r\nAdditionally, you should close all resources or swap to a [try with resources block][1]\r\n\r\nEdit: there are still a few things wrong or should be optimized\r\n\r\n```\r\n@Override\r\n    public String createName() {\r\n        String result = &quot;empty&quot;;\r\n        String sqlSelect;\r\n        sqlSelect = &quot;select * from names&quot;;\r\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\r\n        String sqlLimit = &quot;Limit 1&quot;;\r\n\r\n        try (\r\n            Statement statement = connection.createStatement();\r\n            ResultSet resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;))\r\n        {\r\n            while(restultSet.next(){\r\n                result = resultSet.getString(&quot;name&quot;);\r\n                System.out.println(&quot;Random name from database: &quot; + result);\r\n            }\r\n            \r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nI switched to try with resources, so you do not have to worry about closing them since they implement the [AutoClosable Interface][2].\r\nAdditionally you didn&#39;t mention ResultSet and Statement as variable type which makes me think that you declared it somewhere at class level. That would be a bad idea.\r\n\r\nEdit2:\r\nYou should also use the ```while(ResultSet.next())``` this moves the &quot;cursor&quot; forward and you can access the first element. If your resultset would return more rows, then it iterates over all rows and you can deal with the data in that block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html","title":"How make complex request in jdbc?","body":"<p>The error in your question is the String you pass to executeQuery.\nIt actually translates to this <code>select * from names ; ORDER BY RAND() + Limit 1</code></p>\n<p>But it should look like this <code>select * from names ORDER BY RAND() LIMIT 1;</code></p>\n<p>So adapt this row</p>\n<p><code>resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);</code></p>\n<p>to:</p>\n<p><code>resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;);</code></p>\n<p>Additionally, you should close all resources or swap to a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try with resources block</a></p>\n<p>Edit: there are still a few things wrong or should be optimized</p>\n<pre><code>@Override\n    public String createName() {\n        String result = &quot;empty&quot;;\n        String sqlSelect;\n        sqlSelect = &quot;select * from names&quot;;\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\n        String sqlLimit = &quot;Limit 1&quot;;\n\n        try (\n            Statement statement = connection.createStatement();\n            ResultSet resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;))\n        {\n            while(restultSet.next(){\n                result = resultSet.getString(&quot;name&quot;);\n                System.out.println(&quot;Random name from database: &quot; + result);\n            }\n            \n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n</code></pre>\n<p>I switched to try with resources, so you do not have to worry about closing them since they implement the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoClosable Interface</a>.\nAdditionally you didn't mention ResultSet and Statement as variable type which makes me think that you declared it somewhere at class level. That would be a bad idea.</p>\n<p>Edit2:\nYou should also use the <code>while(ResultSet.next())</code> this moves the &quot;cursor&quot; forward and you can access the first element. If your resultset would return more rows, then it iterates over all rows and you can deal with the data in that block.</p>\n"}],"owner":{"account_id":18376311,"reputation":11,"user_id":15061448,"display_name":"Vando"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1643126558,"accepted_answer_id":70841425,"answer_count":1,"score":-2,"last_activity_date":1643104700,"creation_date":1643062494,"question_id":70841153,"body_markdown":"I want to get random name from database. \r\n\r\n    @Override\r\n        public String createName() {\r\n            String result = &quot;empty&quot;;\r\n            String sqlSelect;\r\n            sqlSelect = &quot;select * from names&quot;;\r\n            String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\r\n            String sqlLimit = &quot;Limit 1&quot;;\r\n    \r\n            try {\r\n                statement = connection.createStatement();\r\n                resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);\r\n                //resultSet.getString(&quot;name&quot;);\r\n                System.out.println(&quot;Random name from database: &quot; + resultSet.getString(&quot;name&quot;));\r\n                result = resultSet.getString(&quot;name&quot;);\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return result;\r\n        }\r\n\r\nI don&#39;t know how to create request rightly. I&#39;m a beginner in jdbc","title":"How make complex request in jdbc?","body":"<p>I want to get random name from database.</p>\n<pre><code>@Override\n    public String createName() {\n        String result = &quot;empty&quot;;\n        String sqlSelect;\n        sqlSelect = &quot;select * from names&quot;;\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\n        String sqlLimit = &quot;Limit 1&quot;;\n\n        try {\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);\n            //resultSet.getString(&quot;name&quot;);\n            System.out.println(&quot;Random name from database: &quot; + resultSet.getString(&quot;name&quot;));\n            result = resultSet.getString(&quot;name&quot;);\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n</code></pre>\n<p>I don't know how to create request rightly. I'm a beginner in jdbc</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105433,"post_id":70846607,"comment_id":125245684,"body_markdown":"did you try checking logs for any errors","body":"did you try checking logs for any errors"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643105507,"post_id":70846607,"comment_id":125245706,"body_markdown":"Yes I did but I did not receive any errors from Logcat.","body":"Yes I did but I did not receive any errors from Logcat."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105529,"post_id":70846607,"comment_id":125245713,"body_markdown":"try to clean the project y this `Build`-&gt;`Clean Project`","body":"try to clean the project y this <code>Build</code>-&gt;<code>Clean Project</code>"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643105900,"post_id":70846607,"comment_id":125245851,"body_markdown":"I have tried to clean the project severally but did not solve the issue.","body":"I have tried to clean the project severally but did not solve the issue."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105949,"post_id":70846607,"comment_id":125245868,"body_markdown":"are the other services working?","body":"are the other services working?"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643106114,"post_id":70846607,"comment_id":125245919,"body_markdown":"I&#39;ve tried Firebase Analytics but it also does not work.","body":"I&#39;ve tried Firebase Analytics but it also does not work."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643106786,"post_id":70846607,"comment_id":125246197,"body_markdown":"I faced the same issue. remove the `google-services.json` and then reconnect to firebase with other project","body":"I faced the same issue. remove the <code>google-services.json</code> and then reconnect to firebase with other project"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643110753,"post_id":70846607,"comment_id":125247710,"body_markdown":"I have tried replacing `google-services.json` with one from a new and different project but still has the same issue.","body":"I have tried replacing <code>google-services.json</code> with one from a new and different project but still has the same issue."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643120755,"post_id":70846607,"comment_id":125251583,"body_markdown":"`apply plugin: &#39;com.google.firebase.crashlytics&#39;\n\napply plugin: &#39;com.google.firebase.firebase-perf&#39;` remove them. and add these\n\n`apply plugin: &#39;com.google.gms.google-services&#39;`","body":"<code>apply plugin: &#39;com.google.firebase.crashlytics&#39;  apply plugin: &#39;com.google.firebase.firebase-perf&#39;</code> remove them. and add these  <code>apply plugin: &#39;com.google.gms.google-services&#39;</code>"}],"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643104569,"creation_date":1643104569,"question_id":70846607,"body_markdown":"I am trying to use Firebase Cloud Messaging on an Android Project I inherited from my predecessor in my place of work.\r\n\r\nFor some unknown reason Firebase has refused to work on the project, it doesn&#39;t matter whether the app is in background or not.\r\n\r\nHowever if I create fresh projects and implement Firebase it works flawlessly.\r\n\r\n**build.gradle (app)**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &#39;29.0.2&#39;\r\n    defaultConfig {\r\n        applicationId &quot;com.dmk.name_international&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 28\r\n        versionCode 5\r\n        versionName &quot;1.0-beta-2&quot;\r\n        multiDexEnabled true\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            debuggable false\r\n            jniDebuggable false\r\n            minifyEnabled true\r\n            shrinkResources true //reduces apk size\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            minifyEnabled false\r\n            shrinkResources false //reduces apk size\r\n        }\r\n    }\r\n\r\n    flavorDimensions &quot;country&quot;\r\n    productFlavors {\r\n\r\n\r\n        tanzania {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.dmk.name_international&quot;\r\n\r\n        }\r\n\r\n        ethiopia {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.name.ethiopia&quot;\r\n        }\r\n\r\n        drc {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.name.drc&quot;\r\n        }\r\n\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\n    dexOptions {\r\n        jumboMode true\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n\r\n    compileOptions {\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;https://jitpack.io&quot;\r\n    }\r\n\r\n    maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    jcenter()\r\n    google()\r\n}\r\n\r\nconfigurations {\r\n    cleanedAnnotations\r\n    compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n}\r\n\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    //Views and Anim libs\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0-alpha02&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.0-alpha04&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n    implementation &#39;com.wang.avi:library:2.1.3&#39;\r\n\r\n    implementation &#39;net.cachapa.expandablelayout:expandablelayout:2.9.2&#39;\r\n    implementation &#39;com.github.florent37:expansionpanel:1.2.2&#39;\r\n    implementation &#39;com.ethanhua:skeleton:1.1.2&#39;\r\n    implementation &#39;io.supercharge:shimmerlayout:2.1.0&#39;\r\n    implementation &#39;com.github.smarteist:autoimageslider:1.3.3&#39;\r\n\r\n\r\n    //Glide for images\r\n    implementation(&#39;com.github.bumptech.glide:glide:4.11.0&#39;);\r\n    //video streaming\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.7.3&#39;\r\n\r\n    //Internet\r\n    implementation &#39;com.loopj.android:android-async-http:1.4.10&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n    //utils\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;com.nineoldandroids:library:2.4.0+&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:[5,6)&#39;\r\n    implementation &#39;com.github.instacart.truetime-android:library:3.3&#39;\r\n\r\n\r\n    //firebase\r\n   // implementation &#39;com.google.firebase:firebase-core:17.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:21.3.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:18.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.4.1&#39;\r\n\r\n\r\n    //implementation &#39;com.google.firebase:firebase-crash:16.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:19.0.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:19.1.0&#39;\r\n\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.github.mtotschnig:StickyListHeaders:2.7.1&#39;\r\n\r\n    //  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation project(&#39;:appRate&#39;)\r\n    implementation &#39;com.github.florent37:diagonallayout:1.0.9&#39;\r\n\r\n    //appsflyer\r\n    implementation &#39;com.appsflyer:af-android-sdk:6.3.2&#39;\r\n\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n\r\n    dependencies {\r\n        // These docs use an open ended version so that our plugin\r\n        // can be updated quickly in response to Android tooling updates6\r\n\r\n        // We recommend changing it to the latest version from our changelog:\r\n        // https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin\r\n        classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n```\r\n\r\n**build.gradle (project)**\r\n\r\n```\r\n\r\nbuildscript { \r\n    ext.kotlin_version = &#39;1.3.10&#39;\r\n\r\n    repositories {\r\n        jcenter()\r\n\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.1.5&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.1.1&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://maven.google.com&quot; // Google&#39;s Maven repository\r\n        }\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\nAlready added the following code to my AndroidManifest.xm file;\r\n\r\n```\r\n&lt;service android:name=&quot;.fcm.MessagingService&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n\r\n```\r\nMessagingService class handles messages received through Firebase Cloud Messaging. The onMessageReceived method in this class is never called.\r\n\r\n**MessagingService.java**\r\n```\r\n\r\npublic class MessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n\r\n    @Override\r\n    public void onNewToken(String s) {\r\n        super.onNewToken(s);\r\n\r\n        new PrefUtils(this).setFCMToken(s);\r\n\r\n        Looper.prepare();\r\n        new SyncModel(this).registerDevice(s,true);\r\n\r\n    }\r\n\r\n    /**\r\n     * Called when message is received.\r\n     *\r\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\r\n     */\r\n    // [START receive_message]\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        \r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n        Log.d(TAG, &quot;Data: &quot; + remoteMessage.getData());\r\n        Log.d(TAG, &quot;Message data payload: &quot; + new JSONObject(remoteMessage.getData()).toString());\r\n\r\n\r\n        // Check if message contains a notification payload.\r\n        String title = &quot;name&quot;, message = &quot;&quot;;\r\n        int game_id = 0;\r\n        String imageUrl = &quot;&quot;;\r\n        if (remoteMessage.getNotification() != null) {\r\n\r\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n\r\n            title = remoteMessage.getNotification().getTitle();\r\n            message = remoteMessage.getNotification().getBody();\r\n\r\n\r\n            if (message.contains(&quot;bet_id&quot;)) {\r\n\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(message);\r\n                    //get bet id\r\n                    // jsonObject.getString(&quot;bet_id&quot;);\r\n\r\n                    message = jsonObject.getString(&quot;response&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            //save message to db\r\n            InboxMessage im = new InboxMessage();\r\n            im.text = message;\r\n            im.title = title;\r\n            im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\r\n            im.image = imageUrl;\r\n\r\n            //SugarRecord.save(im);\r\n        }\r\n\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n\r\n            try {\r\n                JSONObject resp = new JSONObject(remoteMessage.getData());\r\n\r\n                if (resp.has(&quot;game_id&quot;))\r\n                    game_id = resp.getInt(&quot;game_id&quot;);\r\n                if (resp.has(&quot;imageUrl&quot;))\r\n                    imageUrl = resp.getString(&quot;imageUrl&quot;);\r\n\r\n                if (resp.has(&quot;message&quot;))\r\n                    message = resp.getString(&quot;message&quot;);\r\n\r\n                if (resp.has(&quot;title&quot;))\r\n                    title = resp.getString(&quot;title&quot;);\r\n\r\n\r\n                //save message to db\r\n                InboxMessage im = new InboxMessage();\r\n                im.text = message;\r\n                im.title = title;\r\n                im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\r\n                im.image = imageUrl;\r\n\r\n                //SugarRecord.save(im);\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        sendNotification(title, message, imageUrl, game_id);\r\n\r\n\r\n        // Also if you intend on generating your own notifications as a result of a received FCM\r\n        // message, here is where that should be initiated. See sendNotification method below.\r\n    }\r\n    // [END receive_message]\r\n\r\n    private void sendNotification(String title, String messageBody, String imageUrl, int game_id) {\r\n\r\n\r\n        Intent intent = new Intent(this, NotificationActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        intent.putExtra(&quot;game_id&quot;, game_id);\r\n        intent.putExtra(&quot;message&quot;, messageBody);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        String NOTIFICATION_CHANNEL_ID = &quot;Promo&quot;;\r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, &quot;Notifications&quot;, NotificationManager.IMPORTANCE_MAX);\r\n\r\n            // Configure the notification channel.\r\n            notificationChannel.setDescription(&quot;Customised offers and Bonuses.&quot;);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(true);\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n\r\n        final NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\r\n            notificationBuilder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.android_icon_72));\r\n        } else\r\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\r\n\r\n        notificationBuilder.setContentTitle(title);\r\n        notificationBuilder.setContentText(messageBody);\r\n        notificationBuilder.setColorized(true);\r\n\r\n        notificationBuilder.setSubText(&quot;app.name.com&quot;);\r\n\r\n\r\n        FutureTarget&lt;Bitmap&gt; futureTarget =\r\n                Glide.with(getApplicationContext())\r\n                        .asBitmap()\r\n                        .load(imageUrl)\r\n                        .submit(1024, 512);\r\n\r\n        try {\r\n            Bitmap bitmap = futureTarget.get();\r\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(bitmap));\r\n\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        notificationBuilder.setAutoCancel(true);\r\n        notificationBuilder.setSound(defaultSoundUri);\r\n    //    notificationBuilder.setVibrate(new long[]{0, 1000, 500, 1000});\r\n        notificationBuilder.setContentIntent(pendingIntent);\r\n\r\n\r\n        notificationManager.notify(1 /* ID of notification */, notificationBuilder.build());\r\n\r\n        // Do something with the Bitmap and then when you&#39;re done with it:\r\n        Glide.with(getApplicationContext()).clear(futureTarget);\r\n\r\n    }\r\n}\r\n\r\n```\r\n**NB**\r\n\r\n1. On the dashboard, the message says it&#39;s been successfully sent but is never received by the device.\r\n\r\n2. I&#39;m getting the device token from Firebase.\r\n\r\n3. The `google-services.json` exists in ProjectName &gt; app and yes, the package name correspond with that in manifest.\r\n\r\n\r\nHow can I make the Notification messages appear on device?\r\n\r\nAny help is highly appreciated. Thank you!","title":"Firebase not working on my android app project","body":"<p>I am trying to use Firebase Cloud Messaging on an Android Project I inherited from my predecessor in my place of work.</p>\n<p>For some unknown reason Firebase has refused to work on the project, it doesn't matter whether the app is in background or not.</p>\n<p>However if I create fresh projects and implement Firebase it works flawlessly.</p>\n<p><strong>build.gradle (app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.google.firebase.crashlytics'\n\napply plugin: 'com.google.firebase.firebase-perf'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion '29.0.2'\n    defaultConfig {\n        applicationId &quot;com.dmk.name_international&quot;\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 5\n        versionName &quot;1.0-beta-2&quot;\n        multiDexEnabled true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            debuggable false\n            jniDebuggable false\n            minifyEnabled true\n            shrinkResources true //reduces apk size\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n            jniDebuggable true\n            minifyEnabled false\n            shrinkResources false //reduces apk size\n        }\n    }\n\n    flavorDimensions &quot;country&quot;\n    productFlavors {\n\n\n        tanzania {\n            dimension &quot;country&quot;\n            applicationId &quot;com.dmk.name_international&quot;\n\n        }\n\n        ethiopia {\n            dimension &quot;country&quot;\n            applicationId &quot;com.name.ethiopia&quot;\n        }\n\n        drc {\n            dimension &quot;country&quot;\n            applicationId &quot;com.name.drc&quot;\n        }\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/LICENSE'\n    }\n\n    dexOptions {\n        jumboMode true\n    }\n\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n\n    compileOptions {\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        url &quot;https://jitpack.io&quot;\n    }\n\n    maven { url 'https://maven.fabric.io/public' }\n    jcenter()\n    google()\n}\n\nconfigurations {\n    cleanedAnnotations\n    compile.exclude group: 'org.jetbrains' , module:'annotations'\n}\n\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.multidex:multidex:2.0.1'\n    //Views and Anim libs\n    implementation 'androidx.appcompat:appcompat:1.2.0-alpha02'\n    implementation 'com.google.android.material:material:1.2.0-alpha04'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.wang.avi:library:2.1.3'\n\n    implementation 'net.cachapa.expandablelayout:expandablelayout:2.9.2'\n    implementation 'com.github.florent37:expansionpanel:1.2.2'\n    implementation 'com.ethanhua:skeleton:1.1.2'\n    implementation 'io.supercharge:shimmerlayout:2.1.0'\n    implementation 'com.github.smarteist:autoimageslider:1.3.3'\n\n\n    //Glide for images\n    implementation('com.github.bumptech.glide:glide:4.11.0');\n    //video streaming\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-hls:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.7.3'\n\n    //Internet\n    implementation 'com.loopj.android:android-async-http:1.4.10'\n    implementation 'com.android.volley:volley:1.2.1'\n\n    //utils\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.nineoldandroids:library:2.4.0+'\n    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'\n    implementation 'com.github.instacart.truetime-android:library:3.3'\n\n\n    //firebase\n   // implementation 'com.google.firebase:firebase-core:17.2.2'\n    implementation 'com.google.firebase:firebase-messaging:21.1.0'\n    implementation 'com.google.firebase:firebase-firestore:21.3.1'\n    implementation 'com.google.firebase:firebase-analytics:18.0.3'\n    implementation 'com.google.firebase:firebase-crashlytics:17.4.1'\n\n\n    //implementation 'com.google.firebase:firebase-crash:16.0.1'\n    implementation 'com.google.firebase:firebase-perf:19.0.5'\n    implementation 'com.google.firebase:firebase-config:19.1.0'\n\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.github.mtotschnig:StickyListHeaders:2.7.1'\n\n    //  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation project(':appRate')\n    implementation 'com.github.florent37:diagonallayout:1.0.9'\n\n    //appsflyer\n    implementation 'com.appsflyer:af-android-sdk:6.3.2'\n\n}\n\nbuildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        // These docs use an open ended version so that our plugin\n        // can be updated quickly in response to Android tooling updates6\n\n        // We recommend changing it to the latest version from our changelog:\n        // https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin\n        classpath 'io.fabric.tools:gradle:1.+'\n\n    }\n}\n\napply plugin: 'com.google.gms.google-services'\n\n</code></pre>\n<p><strong>build.gradle (project)</strong></p>\n<pre><code>\nbuildscript { \n    ext.kotlin_version = '1.3.10'\n\n    repositories {\n        jcenter()\n\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.2'\n        classpath 'com.google.gms:google-services:4.3.3'\n        classpath 'com.google.firebase:firebase-plugins:1.1.5'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.1.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        }\n\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven {\n            url &quot;https://maven.google.com&quot; // Google's Maven repository\n        }\n        google()\n        mavenCentral()\n    }\n\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>Already added the following code to my AndroidManifest.xm file;</p>\n<pre><code>&lt;service android:name=&quot;.fcm.MessagingService&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n&lt;/service&gt;\n\n</code></pre>\n<p>MessagingService class handles messages received through Firebase Cloud Messaging. The onMessageReceived method in this class is never called.</p>\n<p><strong>MessagingService.java</strong></p>\n<pre><code>\npublic class MessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n\n        new PrefUtils(this).setFCMToken(s);\n\n        Looper.prepare();\n        new SyncModel(this).registerDevice(s,true);\n\n    }\n\n    /**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */\n    // [START receive_message]\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        \n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n        Log.d(TAG, &quot;Data: &quot; + remoteMessage.getData());\n        Log.d(TAG, &quot;Message data payload: &quot; + new JSONObject(remoteMessage.getData()).toString());\n\n\n        // Check if message contains a notification payload.\n        String title = &quot;name&quot;, message = &quot;&quot;;\n        int game_id = 0;\n        String imageUrl = &quot;&quot;;\n        if (remoteMessage.getNotification() != null) {\n\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n\n            title = remoteMessage.getNotification().getTitle();\n            message = remoteMessage.getNotification().getBody();\n\n\n            if (message.contains(&quot;bet_id&quot;)) {\n\n                try {\n                    JSONObject jsonObject = new JSONObject(message);\n                    //get bet id\n                    // jsonObject.getString(&quot;bet_id&quot;);\n\n                    message = jsonObject.getString(&quot;response&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            //save message to db\n            InboxMessage im = new InboxMessage();\n            im.text = message;\n            im.title = title;\n            im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\n            im.image = imageUrl;\n\n            //SugarRecord.save(im);\n        }\n\n\n        if (remoteMessage.getData().size() &gt; 0) {\n\n            try {\n                JSONObject resp = new JSONObject(remoteMessage.getData());\n\n                if (resp.has(&quot;game_id&quot;))\n                    game_id = resp.getInt(&quot;game_id&quot;);\n                if (resp.has(&quot;imageUrl&quot;))\n                    imageUrl = resp.getString(&quot;imageUrl&quot;);\n\n                if (resp.has(&quot;message&quot;))\n                    message = resp.getString(&quot;message&quot;);\n\n                if (resp.has(&quot;title&quot;))\n                    title = resp.getString(&quot;title&quot;);\n\n\n                //save message to db\n                InboxMessage im = new InboxMessage();\n                im.text = message;\n                im.title = title;\n                im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\n                im.image = imageUrl;\n\n                //SugarRecord.save(im);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n        sendNotification(title, message, imageUrl, game_id);\n\n\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated. See sendNotification method below.\n    }\n    // [END receive_message]\n\n    private void sendNotification(String title, String messageBody, String imageUrl, int game_id) {\n\n\n        Intent intent = new Intent(this, NotificationActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(&quot;game_id&quot;, game_id);\n        intent.putExtra(&quot;message&quot;, messageBody);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        String NOTIFICATION_CHANNEL_ID = &quot;Promo&quot;;\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, &quot;Notifications&quot;, NotificationManager.IMPORTANCE_MAX);\n\n            // Configure the notification channel.\n            notificationChannel.setDescription(&quot;Customised offers and Bonuses.&quot;);\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.GREEN);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableVibration(true);\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n\n\n        final NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\n            notificationBuilder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.android_icon_72));\n        } else\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\n\n        notificationBuilder.setContentTitle(title);\n        notificationBuilder.setContentText(messageBody);\n        notificationBuilder.setColorized(true);\n\n        notificationBuilder.setSubText(&quot;app.name.com&quot;);\n\n\n        FutureTarget&lt;Bitmap&gt; futureTarget =\n                Glide.with(getApplicationContext())\n                        .asBitmap()\n                        .load(imageUrl)\n                        .submit(1024, 512);\n\n        try {\n            Bitmap bitmap = futureTarget.get();\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(bitmap));\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n\n\n\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n        notificationBuilder.setAutoCancel(true);\n        notificationBuilder.setSound(defaultSoundUri);\n    //    notificationBuilder.setVibrate(new long[]{0, 1000, 500, 1000});\n        notificationBuilder.setContentIntent(pendingIntent);\n\n\n        notificationManager.notify(1 /* ID of notification */, notificationBuilder.build());\n\n        // Do something with the Bitmap and then when you're done with it:\n        Glide.with(getApplicationContext()).clear(futureTarget);\n\n    }\n}\n\n</code></pre>\n<p><strong>NB</strong></p>\n<ol>\n<li><p>On the dashboard, the message says it's been successfully sent but is never received by the device.</p>\n</li>\n<li><p>I'm getting the device token from Firebase.</p>\n</li>\n<li><p>The <code>google-services.json</code> exists in ProjectName &gt; app and yes, the package name correspond with that in manifest.</p>\n</li>\n</ol>\n<p>How can I make the Notification messages appear on device?</p>\n<p>Any help is highly appreciated. Thank you!</p>\n"},{"tags":["java","gradle","npm"],"answers":[{"tags":[],"owner":{"account_id":15748967,"reputation":159,"user_id":11364126,"display_name":"Sanlyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643103640,"creation_date":1643102204,"answer_id":70846076,"question_id":70846038,"body_markdown":"Try \r\n\r\n    task preBuild(type: Exec) {\r\n      commandLine &quot;npm.cmd&quot;, &quot;install&quot;\r\n    }","title":"Gradle cannot find npm","body":"<p>Try</p>\n<pre><code>task preBuild(type: Exec) {\n  commandLine &quot;npm.cmd&quot;, &quot;install&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643104289,"creation_date":1643102021,"question_id":70846038,"body_markdown":"I would like to execute `npm install` from `gradle`. To do this I&#39;ve tried using `commandLine` or `executable`. It seems to be unable to find `npm` however if I open `cmd` and run `npm` it is available.    \r\n\r\n**Task**\r\n\r\n    task preBuild(type: Exec) {\r\n        executable = &quot;npm&quot;\r\n        args = [&quot;install&quot;]\r\n    }\r\n\r\n**Exception**\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\&lt;project_name&gt;&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 669ms\r\n\r\n**executable = &quot;npm.cmd&quot;**\r\n\r\n\tFAILURE: Build failed with an exception.\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm.cmd&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 2s\r\n\r\n\r\n**commandLine &quot;npm.cmd&quot;, &quot;install&quot;**\r\n\r\n\tFAILURE: Build failed with an exception.\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm.cmd&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 1s\r\n\r\nWhy is it that I can execute `npm` within `cmd` but `gradle` is unable to find it? ","title":"Gradle cannot find npm","body":"<p>I would like to execute <code>npm install</code> from <code>gradle</code>. To do this I've tried using <code>commandLine</code> or <code>executable</code>. It seems to be unable to find <code>npm</code> however if I open <code>cmd</code> and run <code>npm</code> it is available.</p>\n<p><strong>Task</strong></p>\n<pre><code>task preBuild(type: Exec) {\n    executable = &quot;npm&quot;\n    args = [&quot;install&quot;]\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\&lt;project_name&gt;&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 669ms\n</code></pre>\n<p><strong>executable = &quot;npm.cmd&quot;</strong></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm.cmd''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm.cmd''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm.cmd'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n</code></pre>\n<p><strong>commandLine &quot;npm.cmd&quot;, &quot;install&quot;</strong></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm.cmd''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm.cmd''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm.cmd'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n<p>Why is it that I can execute <code>npm</code> within <code>cmd</code> but <code>gradle</code> is unable to find it?</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643104256,"post_id":70846512,"comment_id":125245248,"body_markdown":"look  at this line: MyAdapter.java:63 (there, you&#39;re getting an NPE)","body":"look  at this line: MyAdapter.java:63 (there, you&#39;re getting an NPE)"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1643107177,"post_id":70846512,"comment_id":125246363,"body_markdown":"Try using getBindingAdapterPosition().","body":"Try using getBindingAdapterPosition()."}],"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643107169,"answer_count":0,"score":0,"last_activity_date":1643104203,"creation_date":1643104203,"question_id":70846512,"body_markdown":"Basically, I&#39;m trying to list all the uploaded documents from Firebase&#39;s real-time database using the Recycler View. I have successfully listed the documents but what I want to achieve is to download the documents by clicking the document listed in the RecyclerView, but the line throws an error.\r\n\r\n&gt; intent.setData(Uri.parse(urls.get(position)));\r\n\r\nI&#39;m a beginner  at coding, so please help me with the error.\r\n```\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\n\r\n    RecyclerView recyclerView;\r\n    Context context;\r\n    ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt;urls = new ArrayList&lt;&gt;();\r\n\r\n    public void update(String name,String url){\r\n        items.add(name);\r\n        urls.add(url);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    public MyAdapter(RecyclerView recyclerView,Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls){\r\n        this.recyclerView=recyclerView;\r\n        this.context=context;\r\n        this.items=items;\r\n        this.urls=urls;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view= LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder( ViewHolder holder, int position) {\r\n        holder.nameOfFile.setText(items.get(position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return items.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView nameOfFile;\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            nameOfFile=itemView.findViewById(R.id.nameOfFile);\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    int position=recyclerView.getChildLayoutPosition(view);\r\n                    Intent intent=new Intent();\r\n                    intent.setType(Intent.ACTION_VIEW);\r\n                    **intent.setData(Uri.parse(urls.get(position)));**\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nHere is all the operation behind the java activity\r\n```\r\npublic class MyRecyclerViewActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_recycler_view);\r\n\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n        databaseReference.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n            String fileName=dataSnapshot.getKey();\r\n            String url=dataSnapshot.child(&quot;AI_Unit_1&quot;).getValue(String.class);\r\n                ((MyAdapter)recyclerView.getAdapter()).update(fileName,url);\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        recyclerView =findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MyRecyclerViewActivity.this));\r\n        MyAdapter myAdapter=new MyAdapter(recyclerView,MyRecyclerViewActivity.this, new ArrayList&lt;String&gt;(), new ArrayList&lt;&gt;());\r\n        recyclerView.setAdapter(myAdapter);\r\n    }\r\n}\r\n```\r\n\r\nHERE IS THE LOGCAT ---\r\n```\r\njava.lang.NullPointerException: uriString\r\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:496)\r\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:486)\r\n        at android.net.Uri.parse(Uri.java:458)\r\n        at com.example.ngitstudentportal.MyAdapter$ViewHolder$1.onClick(MyAdapter.java:63)\r\n        at android.view.View.performClick(View.java:7520)\r\n        at android.view.View.performClickInternal(View.java:7489)\r\n        at android.view.View.access$3600(View.java:826)\r\n        at android.view.View$PerformClick.run(View.java:28555)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:233)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\r\n```\r\n\r\n\r\n\r\n ","title":"Java NullPointerException at uriString","body":"<p>Basically, I'm trying to list all the uploaded documents from Firebase's real-time database using the Recycler View. I have successfully listed the documents but what I want to achieve is to download the documents by clicking the document listed in the RecyclerView, but the line throws an error.</p>\n<blockquote>\n<p>intent.setData(Uri.parse(urls.get(position)));</p>\n</blockquote>\n<p>I'm a beginner  at coding, so please help me with the error.</p>\n<pre><code>\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    RecyclerView recyclerView;\n    Context context;\n    ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt;urls = new ArrayList&lt;&gt;();\n\n    public void update(String name,String url){\n        items.add(name);\n        urls.add(url);\n        notifyDataSetChanged();\n    }\n\n\n    public MyAdapter(RecyclerView recyclerView,Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls){\n        this.recyclerView=recyclerView;\n        this.context=context;\n        this.items=items;\n        this.urls=urls;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view= LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder( ViewHolder holder, int position) {\n        holder.nameOfFile.setText(items.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        TextView nameOfFile;\n        public ViewHolder(View itemView) {\n            super(itemView);\n            nameOfFile=itemView.findViewById(R.id.nameOfFile);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    int position=recyclerView.getChildLayoutPosition(view);\n                    Intent intent=new Intent();\n                    intent.setType(Intent.ACTION_VIEW);\n                    **intent.setData(Uri.parse(urls.get(position)));**\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>Here is all the operation behind the java activity</p>\n<pre><code>public class MyRecyclerViewActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.my_recycler_view);\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n        databaseReference.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n            String fileName=dataSnapshot.getKey();\n            String url=dataSnapshot.child(&quot;AI_Unit_1&quot;).getValue(String.class);\n                ((MyAdapter)recyclerView.getAdapter()).update(fileName,url);\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError error) {\n\n            }\n        });\n        recyclerView =findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(MyRecyclerViewActivity.this));\n        MyAdapter myAdapter=new MyAdapter(recyclerView,MyRecyclerViewActivity.this, new ArrayList&lt;String&gt;(), new ArrayList&lt;&gt;());\n        recyclerView.setAdapter(myAdapter);\n    }\n}\n</code></pre>\n<p>HERE IS THE LOGCAT ---</p>\n<pre><code>java.lang.NullPointerException: uriString\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:496)\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:486)\n        at android.net.Uri.parse(Uri.java:458)\n        at com.example.ngitstudentportal.MyAdapter$ViewHolder$1.onClick(MyAdapter.java:63)\n        at android.view.View.performClick(View.java:7520)\n        at android.view.View.performClickInternal(View.java:7489)\n        at android.view.View.access$3600(View.java:826)\n        at android.view.View$PerformClick.run(View.java:28555)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:233)\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\n</code></pre>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1594067602,"post_id":58383132,"comment_id":110991587,"body_markdown":"were you able to resole this issue?","body":"were you able to resole this issue?"}],"answers":[{"tags":[],"owner":{"account_id":10375812,"reputation":2008,"user_id":7652010,"display_name":"Akhil Bojedla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643103894,"creation_date":1571225955,"answer_id":58412400,"question_id":58383132,"body_markdown":"I don&#39;t think this will work. Firstly, you are instantiating your `ResilientClient` as `new ResilientClient()`. You have to use the created Bean not instantiate it yourselves. The `@CircuitBreaker` annotation uses spring-aop. So you will have to run your class as SpringBootApplicaiton.\r\n\r\nSecondly, you are only recording `HttpServerErrorException` and `IOException` as failures. So circuit breaker treats all other exceptions (except the ones mentioned above and their children) as success.","title":"Spring Boot Resilience4J Annotation Not Opening Circuit","body":"<p>I don't think this will work. Firstly, you are instantiating your <code>ResilientClient</code> as <code>new ResilientClient()</code>. You have to use the created Bean not instantiate it yourselves. The <code>@CircuitBreaker</code> annotation uses spring-aop. So you will have to run your class as SpringBootApplicaiton.</p>\n<p>Secondly, you are only recording <code>HttpServerErrorException</code> and <code>IOException</code> as failures. So circuit breaker treats all other exceptions (except the ones mentioned above and their children) as success.</p>\n"}],"owner":{"account_id":16503887,"reputation":311,"user_id":11924465,"display_name":"Jeremy Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7986,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58412400,"answer_count":1,"score":3,"last_activity_date":1643103894,"creation_date":1571082176,"question_id":58383132,"body_markdown":"I&#39;ve checked the questions on the site about Resilience4J, but have not had any luck with their answers. I&#39;m trying to implement ```@CircuitBreaker``` annotation from Resilience4J in my Spring Boot 2.x project. The circuit breaker is implemented around a pretty straightforward function. However, when I supply a bad URL, the circuit is not opening, no matter how many times I send the request. I&#39;ve gone so far as to extract everything into a standalone application and run it 100 times and observe it just endlessly failing. Any idea what I&#39;m doing wrong?\r\n\r\n```java\r\n    @CircuitBreaker(name = &quot;backendA&quot;)\r\n    @Component\r\n    public class ResilientClient {\r\n\r\n        private HttpClient httpClient;\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(ResilientClient.class);\r\n\r\n        public ResilientClient() {\r\n\r\n            httpClient = HttpClient.newBuilder().build();\r\n        }\r\n\r\n\r\n        @Bulkhead(name = &quot;backendA&quot;)\r\n        public String processPostRequest(String body, String[] headers, String url) {\r\n\r\n            HttpResponse&lt;String&gt; response = null;\r\n    \r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(url))\r\n                .POST(HttpRequest.BodyPublishers.ofString(body))\r\n                .headers(headers)\r\n                .build();\r\n\r\n            try {\r\n                response =  httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n            } catch (IOException e) {\r\n                throw new HttpServerErrorException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;This is a remote exception&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                log.error(&quot;Interrupted Exception: &quot; + e.getLocalizedMessage(), e);\r\n    \r\n            }\r\n            return response != null ? response.body() : null;\r\n    };\r\n\r\n// None of these functions ever get invoked\r\n\r\n    private String fallback(Throwable e){\r\n        log.info(&quot;generic throwable caught&quot;);\r\n        return &quot;generic result&quot;;\r\n    }\r\n\r\n    private String fallback(String param1, String[] headers, String url, Throwable e) {\r\n        log.info(&quot;Fallback method invoked for Throwable: &quot; + param1);\r\n        return null;\r\n    }\r\n\r\n    private String fallback(String param1, String[] headers, String url, ConnectException e) {\r\n        log.info(&quot;Fallback method invoked for ConnectException: &quot; + param1);\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThe config file is taken directly from the Github example\r\n\r\n```\r\nresilience4j.circuitbreaker:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: false\r\n      slidingWindowSize: 10\r\n      minimumNumberOfCalls: 5\r\n      permittedNumberOfCallsInHalfOpenState: 3\r\n      automaticTransitionFromOpenToHalfOpenEnabled: true\r\n      waitDurationInOpenState: 2s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      recordExceptions:\r\n        - org.springframework.web.client.HttpServerErrorException\r\n        - java.io.IOException\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n    shared:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 100\r\n      permittedNumberOfCallsInHalfOpenState: 30\r\n      waitDurationInOpenState: 1s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 10\r\n      minimumNumberOfCalls: 10\r\n      permittedNumberOfCallsInHalfOpenState: 3\r\n      waitDurationInOpenState: 1s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      recordFailurePredicate: io.github.robwin.exception.RecordFailurePredicate\r\nresilience4j.retry:\r\n  configs:\r\n    default:\r\n      maxRetryAttempts: 2\r\n      waitDuration: 100\r\n      retryExceptions:\r\n        - org.springframework.web.client.HttpServerErrorException\r\n        - java.io.IOException\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n  instances:\r\n    backendA:\r\n      maxRetryAttempts: 3\r\n    backendB:\r\n      maxRetryAttempts: 3\r\nresilience4j.bulkhead:\r\n  configs:\r\n    default:\r\n      maxConcurrentCalls: 100\r\n  instances:\r\n    backendA:\r\n      maxConcurrentCalls: 10\r\n    backendB:\r\n      maxWaitDuration: 10ms\r\n      maxConcurrentCalls: 20\r\n\r\nresilience4j.thread-pool-bulkhead:\r\n  configs:\r\n    default:\r\n      maxThreadPoolSize: 4\r\n      coreThreadPoolSize: 2\r\n      queueCapacity: 2\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      maxThreadPoolSize: 1\r\n      coreThreadPoolSize: 1\r\n      queueCapacity: 1\r\n\r\nresilience4j.ratelimiter:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: false\r\n      limitForPeriod: 10\r\n      limitRefreshPeriod: 1s\r\n      timeoutDuration: 0\r\n      eventConsumerBufferSize: 100\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      limitForPeriod: 6\r\n      limitRefreshPeriod: 500ms\r\n      timeoutDuration: 3s\r\n\r\n```\r\n\r\nCode to try testing it\r\n\r\n```java\r\nSpringBootApplication\r\npublic class CircuitsApplication {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(CircuitsApplication.class);\r\n\r\n    static ResilientClient resilientClient = new ResilientClient();\r\n\r\n    public static void main(String[] args) {\r\n        //SpringApplication.run(CircuitsApplication.class, args);\r\n        for (int i = 0; i &lt; 100; i++){\r\n            try {\r\n                String body = &quot;body content&quot;;\r\n                String[] headers = new String[]{&quot;header&quot;, &quot;value&quot;};\r\n                String url = &quot;http://a.bad.url&quot;;\r\n                String result = resilientClient.processPostRequest(body, headers, url);\r\n                logger.info(result);\r\n            } catch (Exception ex){\r\n                logger.info(&quot;Error caught in main loop&quot;);\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried adding the Circuitbreaker annotation to the method itself. I&#39;ve tried creating a supplier and decorating it. I&#39;ve tried adding the Bulkhead, removing the Bulkhead. I&#39;ve tried adding additional fallback methods with different signatures. I&#39;ve tried with and without ```@Component```.\r\n\r\nAll I end up getting in my logs is this 100 times:\r\n\r\n```\r\n14:33:10.348 [main] INFO c.t.circuits.CircuitsApplication - Error caught in main loop\r\n```\r\n\r\nI&#39;m not sure what I&#39;m missing. Any help would be greatly appreciated.\r\n","title":"Spring Boot Resilience4J Annotation Not Opening Circuit","body":"<p>I've checked the questions on the site about Resilience4J, but have not had any luck with their answers. I'm trying to implement <code>@CircuitBreaker</code> annotation from Resilience4J in my Spring Boot 2.x project. The circuit breaker is implemented around a pretty straightforward function. However, when I supply a bad URL, the circuit is not opening, no matter how many times I send the request. I've gone so far as to extract everything into a standalone application and run it 100 times and observe it just endlessly failing. Any idea what I'm doing wrong?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @CircuitBreaker(name = \"backendA\")\n    @Component\n    public class ResilientClient {\n\n        private HttpClient httpClient;\n\n        private static final Logger log = LoggerFactory.getLogger(ResilientClient.class);\n\n        public ResilientClient() {\n\n            httpClient = HttpClient.newBuilder().build();\n        }\n\n\n        @Bulkhead(name = \"backendA\")\n        public String processPostRequest(String body, String[] headers, String url) {\n\n            HttpResponse&lt;String&gt; response = null;\n\n            HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(url))\n                .POST(HttpRequest.BodyPublishers.ofString(body))\n                .headers(headers)\n                .build();\n\n            try {\n                response =  httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n            } catch (IOException e) {\n                throw new HttpServerErrorException(HttpStatus.INTERNAL_SERVER_ERROR, \"This is a remote exception\");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n                log.error(\"Interrupted Exception: \" + e.getLocalizedMessage(), e);\n\n            }\n            return response != null ? response.body() : null;\n    };\n\n// None of these functions ever get invoked\n\n    private String fallback(Throwable e){\n        log.info(\"generic throwable caught\");\n        return \"generic result\";\n    }\n\n    private String fallback(String param1, String[] headers, String url, Throwable e) {\n        log.info(\"Fallback method invoked for Throwable: \" + param1);\n        return null;\n    }\n\n    private String fallback(String param1, String[] headers, String url, ConnectException e) {\n        log.info(\"Fallback method invoked for ConnectException: \" + param1);\n        return null;\n    }\n\n}\n\n\n</code></pre>\n\n<p>The config file is taken directly from the Github example</p>\n\n<pre><code>resilience4j.circuitbreaker:\n  configs:\n    default:\n      registerHealthIndicator: false\n      slidingWindowSize: 10\n      minimumNumberOfCalls: 5\n      permittedNumberOfCallsInHalfOpenState: 3\n      automaticTransitionFromOpenToHalfOpenEnabled: true\n      waitDurationInOpenState: 2s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      recordExceptions:\n        - org.springframework.web.client.HttpServerErrorException\n        - java.io.IOException\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n    shared:\n      registerHealthIndicator: true\n      slidingWindowSize: 100\n      permittedNumberOfCallsInHalfOpenState: 30\n      waitDurationInOpenState: 1s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      registerHealthIndicator: true\n      slidingWindowSize: 10\n      minimumNumberOfCalls: 10\n      permittedNumberOfCallsInHalfOpenState: 3\n      waitDurationInOpenState: 1s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      recordFailurePredicate: io.github.robwin.exception.RecordFailurePredicate\nresilience4j.retry:\n  configs:\n    default:\n      maxRetryAttempts: 2\n      waitDuration: 100\n      retryExceptions:\n        - org.springframework.web.client.HttpServerErrorException\n        - java.io.IOException\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n  instances:\n    backendA:\n      maxRetryAttempts: 3\n    backendB:\n      maxRetryAttempts: 3\nresilience4j.bulkhead:\n  configs:\n    default:\n      maxConcurrentCalls: 100\n  instances:\n    backendA:\n      maxConcurrentCalls: 10\n    backendB:\n      maxWaitDuration: 10ms\n      maxConcurrentCalls: 20\n\nresilience4j.thread-pool-bulkhead:\n  configs:\n    default:\n      maxThreadPoolSize: 4\n      coreThreadPoolSize: 2\n      queueCapacity: 2\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      maxThreadPoolSize: 1\n      coreThreadPoolSize: 1\n      queueCapacity: 1\n\nresilience4j.ratelimiter:\n  configs:\n    default:\n      registerHealthIndicator: false\n      limitForPeriod: 10\n      limitRefreshPeriod: 1s\n      timeoutDuration: 0\n      eventConsumerBufferSize: 100\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      limitForPeriod: 6\n      limitRefreshPeriod: 500ms\n      timeoutDuration: 3s\n\n</code></pre>\n\n<p>Code to try testing it</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SpringBootApplication\npublic class CircuitsApplication {\n\n    private static final Logger logger = LoggerFactory.getLogger(CircuitsApplication.class);\n\n    static ResilientClient resilientClient = new ResilientClient();\n\n    public static void main(String[] args) {\n        //SpringApplication.run(CircuitsApplication.class, args);\n        for (int i = 0; i &lt; 100; i++){\n            try {\n                String body = \"body content\";\n                String[] headers = new String[]{\"header\", \"value\"};\n                String url = \"http://a.bad.url\";\n                String result = resilientClient.processPostRequest(body, headers, url);\n                logger.info(result);\n            } catch (Exception ex){\n                logger.info(\"Error caught in main loop\");\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n\n<p>I've tried adding the Circuitbreaker annotation to the method itself. I've tried creating a supplier and decorating it. I've tried adding the Bulkhead, removing the Bulkhead. I've tried adding additional fallback methods with different signatures. I've tried with and without <code>@Component</code>.</p>\n\n<p>All I end up getting in my logs is this 100 times:</p>\n\n<pre><code>14:33:10.348 [main] INFO c.t.circuits.CircuitsApplication - Error caught in main loop\n</code></pre>\n\n<p>I'm not sure what I'm missing. Any help would be greatly appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642137303,"post_id":70701938,"comment_id":124996550,"body_markdown":"there is no harm to the sdk. u can continue","body":"there is no harm to the sdk. u can continue"},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1642151814,"post_id":70701938,"comment_id":124999895,"body_markdown":"I am asking if there is another way to set the text into the TextView. Forget about the SDK.","body":"I am asking if there is another way to set the text into the TextView. Forget about the SDK."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642154142,"post_id":70701938,"comment_id":125000648,"body_markdown":"When u want to send data from 1 activity or class to another, there is no choice but to use an interface.","body":"When u want to send data from 1 activity or class to another, there is no choice but to use an interface."},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1642156066,"post_id":70701938,"comment_id":125001306,"body_markdown":"Can you post an example of it as an answer how to make it.","body":"Can you post an example of it as an answer how to make it."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643103522,"creation_date":1642166602,"answer_id":70711237,"question_id":70701938,"body_markdown":"## What to use\r\n---\r\nYou can do it by using an interface.\r\n\r\n## How to implement\r\n---\r\n\r\n- Create a new `interface` and give it a name whatever u like.(Here it is `SampleInterface`).\r\n\r\n- Add some void methods to like this\r\n\r\n      void onSomeEvent(String name);\r\n\r\n- Create a object of it in the class where you get the data from the sdk and add this listener in its constructor. Something like this\r\n\r\n      public YourJavaClassName(SampleInterface sampleInterface) {\r\n        this.sampleInterface= sampleInterface;\r\n      }\r\n\r\n- When you receive an update in the sdk, you can call it like this\r\n\r\n      void onDataReceived(String name){// I don&#39;t know how you get the value from the sdk so I wrote this\r\n          sampleInterface.onSomeEvent(name);\r\n      }\r\n      \r\n\r\nYou are done with implementing it in the sdk receiver class. Now you need to add to the main activity to receive and update data.\r\n\r\n- Create the object of the class where you receive the data from the sdk.Like this\r\n\r\n      MySDKReceiverClass mysdkreceiverclass;\r\n      mysdkreceiverclass = new MySDKReceiverClass(this);\r\n\r\n- Implement the interface in the activity and there you ge the values and you can set it in the textview.\r\n\r\n##### Note: You need not add any runnable or handler or anything.Whenever there is a value change, the listener is called and the value is set.","title":"Is there an alternative in Android Java for Message sendToTarget to access View in inner class of an activity?","body":"<h2>What to use</h2>\n<hr />\n<p>You can do it by using an interface.</p>\n<h2>How to implement</h2>\n<hr />\n<ul>\n<li><p>Create a new <code>interface</code> and give it a name whatever u like.(Here it is <code>SampleInterface</code>).</p>\n</li>\n<li><p>Add some void methods to like this</p>\n<pre><code>void onSomeEvent(String name);\n</code></pre>\n</li>\n<li><p>Create a object of it in the class where you get the data from the sdk and add this listener in its constructor. Something like this</p>\n<pre><code>public YourJavaClassName(SampleInterface sampleInterface) {\n  this.sampleInterface= sampleInterface;\n}\n</code></pre>\n</li>\n<li><p>When you receive an update in the sdk, you can call it like this</p>\n<pre><code>void onDataReceived(String name){// I don't know how you get the value from the sdk so I wrote this\n    sampleInterface.onSomeEvent(name);\n}\n</code></pre>\n</li>\n</ul>\n<p>You are done with implementing it in the sdk receiver class. Now you need to add to the main activity to receive and update data.</p>\n<ul>\n<li><p>Create the object of the class where you receive the data from the sdk.Like this</p>\n<pre><code>MySDKReceiverClass mysdkreceiverclass;\nmysdkreceiverclass = new MySDKReceiverClass(this);\n</code></pre>\n</li>\n<li><p>Implement the interface in the activity and there you ge the values and you can set it in the textview.</p>\n</li>\n</ul>\n<h5>Note: You need not add any runnable or handler or anything.Whenever there is a value change, the listener is called and the value is set.</h5>\n"}],"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70711237,"answer_count":1,"score":0,"last_activity_date":1643103522,"creation_date":1642101507,"question_id":70701938,"body_markdown":"i have an activity where i have a text view. I am also using an sdk which has some events.\r\nWithin on of these events i need to display some data at the TextView.\r\nThe events are in an external class and i got them via some interfaces.\r\nThe interfaces iam implementing within the Activity.\r\nI am using Handler and Message to set the text into the TextView within the implementation of the interface. \r\nI would like to know if there is another way to set the text within the the interfaces except Handler and Message.\r\n\r\nHere is that code:\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n    \r\n        private TextView nameTextView;\r\n\r\n        // some code\r\n\r\n       \r\n        // implementing interfaces of external class\r\n        Service.ServiceEvents events = new Service.ServiceEvents() {\r\n           \r\n           @Override\r\n           public void onSomeEvent(String name) {\r\n               nameTextView.setText(name); // not working\r\n               Message m = myHandler.obtainMessage(0, nameTextView);\r\n               m.sendToTarget();\r\n           }\r\n           \r\n           Handler myHandler = new Handler(Looper.getMainLooper()) {\r\n              @Override\r\n              public void handleMessage(Message message) {\r\n\r\n                String s = message.obj.toString();\r\n\r\n                nameTextView.setText(s);\r\n\r\n              }\r\n           };\r\n        }\r\n\r\n     } // end of activity\r\n\r\n\r\nIs there another way to set the text in the TextView?\r\nPlease Help.","title":"Is there an alternative in Android Java for Message sendToTarget to access View in inner class of an activity?","body":"<p>i have an activity where i have a text view. I am also using an sdk which has some events.\nWithin on of these events i need to display some data at the TextView.\nThe events are in an external class and i got them via some interfaces.\nThe interfaces iam implementing within the Activity.\nI am using Handler and Message to set the text into the TextView within the implementation of the interface.\nI would like to know if there is another way to set the text within the the interfaces except Handler and Message.</p>\n<p>Here is that code:</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n    private TextView nameTextView;\n\n    // some code\n\n   \n    // implementing interfaces of external class\n    Service.ServiceEvents events = new Service.ServiceEvents() {\n       \n       @Override\n       public void onSomeEvent(String name) {\n           nameTextView.setText(name); // not working\n           Message m = myHandler.obtainMessage(0, nameTextView);\n           m.sendToTarget();\n       }\n       \n       Handler myHandler = new Handler(Looper.getMainLooper()) {\n          @Override\n          public void handleMessage(Message message) {\n\n            String s = message.obj.toString();\n\n            nameTextView.setText(s);\n\n          }\n       };\n    }\n\n } // end of activity\n</code></pre>\n<p>Is there another way to set the text in the TextView?\nPlease Help.</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643103244,"creation_date":1643102212,"answer_id":70846078,"question_id":70845998,"body_markdown":"I believe you want to set other fields on your `QuestionsDataBase` object here rather than `setQuestion()` for each column in the database query:\r\n\r\n```    questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\r\n```\r\n\r\n&gt; Thanks, edited it. Now it shows the options, but doesn&#39;t show the question itself.\r\n\r\nYou are setting text to `questionCount` twice where the later overwrites the first one. Maybe the first one should set the question textview instead.","title":"Can&#39;t fetch data from SQLite database in AS","body":"<p>I believe you want to set other fields on your <code>QuestionsDataBase</code> object here rather than <code>setQuestion()</code> for each column in the database query:</p>\n<pre><code>            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\n</code></pre>\n<blockquote>\n<p>Thanks, edited it. Now it shows the options, but doesn't show the question itself.</p>\n</blockquote>\n<p>You are setting text to <code>questionCount</code> twice where the later overwrites the first one. Maybe the first one should set the question textview instead.</p>\n"}],"owner":{"account_id":23975741,"reputation":25,"user_id":17963868,"display_name":"YakovMashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70846078,"answer_count":1,"score":-2,"last_activity_date":1643103244,"creation_date":1643101823,"question_id":70845998,"body_markdown":"I&#39;m creating a Quiz app in Android Studio, and so I created a Database that contains the questions. In the helper class I have a method getAllQuestions that transfers the questions from the database to an array list, so then I can extract the Questions in Main and setText in Buttons. However, while I run my app the buttons and the Question are empty, without the app throwing exceptions like nullpointer if the list itself was empty.\r\n[![The Screenshot][1]][1]\r\n\r\nDB_Helper methods:\r\n\r\nprivate void addQuestions(QuestionsDataBase Questions)\r\n{\r\n\r\n        ContentValues cv =  new ContentValues();\r\n        cv.put(QuestionTable.Column_Question,Questions.getQuestion());\r\n        cv.put(QuestionTable.Column_Option1,Questions.getOption1());\r\n        cv.put(QuestionTable.Column_Option2,Questions.getOption2());\r\n        cv.put(QuestionTable.Column_Option3,Questions.getOption3());\r\n        cv.put(QuestionTable.Column_Option4,Questions.getOption4());\r\n        cv.put(QuestionTable.Column_Correct_Ans,Questions.getQuestion());\r\n        db.insert(QuestionTable.Table_Name,null,cv);\r\n    }\r\npublic  ArrayList&lt;QuestionsDataBase&gt; getAllQuestions(){\r\n\r\n        ArrayList&lt;QuestionsDataBase&gt; questionsList = new ArrayList&lt;&gt;();\r\n        db = getReadableDatabase();\r\n        String[] Projection ={\r\n                QuestionTable._ID,\r\n                QuestionTable.Column_Question,\r\n                QuestionTable.Column_Option1,\r\n                QuestionTable.Column_Option2,\r\n                QuestionTable.Column_Option3,\r\n                QuestionTable.Column_Option4,\r\n                QuestionTable.Column_Correct_Ans\r\n        };\r\n        Cursor c = db.query(QuestionTable.Table_Name,\r\n                Projection,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null);\r\n        if(c.moveToFirst()){\r\n            do{\r\n                QuestionsDataBase questions = new QuestionsDataBase();\r\n                questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\r\n                questions.setOption1(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\r\n                questions.setOption2(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\r\n                questions.setOption3(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\r\n                questions.setOption4(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\r\n                questions.setCorrectAns(c.getInt(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\r\n                questionsList.add(questions);\r\n                questionsList.add(questions);\r\n\r\n            }while(c.moveToNext());\r\n        }\r\n        c.close();\r\n        return questionsList;\r\n    }\r\n\r\nMethods in MainActivity:\r\n\r\nprivate void fecthDB(){\r\n\r\n        DB_Helper db = new DB_Helper(this);\r\n        questionList = db.getAllQuestions();\r\n        startQuiz();\r\n    }\r\n\r\nprivate void startQuiz() \r\n{\r\n\r\n        questionTotalCount = questionList.size(); // the total amount of questions in the current quizactivity( is set to 10)\r\n        Collections.shuffle(questionList); // shuffle the questions form the database that are stored in QuestionList\r\n        showQuestions();\r\n\r\n        nextbutton.setOnClickListener(view -&gt; {\r\n            if(!answered){\r\n                if(option1.isChecked() || option2.isChecked() || option3.isChecked() || option4.isChecked())\r\n                    QuizOperations();\r\n            }\r\n        });\r\n\r\n    }\r\nprivate void showQuestions() // Showing the question and the options from database\r\n{\r\n\r\n        rbGroup.clearCheck();\r\n        if(questionCounter&lt; questionTotalCount) // if not all the questions yet answered set text to new questions\r\n        {\r\n            currentQuestions = questionList.get(questionCounter);\r\n            questionCount.setText(currentQuestions.getQuestion());\r\n            option1.setText(currentQuestions.getOption1());\r\n            option2.setText(currentQuestions.getOption2());\r\n            option3.setText(currentQuestions.getOption3());\r\n            option4.setText(currentQuestions.getOption4());\r\n\r\n            questionCounter ++; // +1 to question counter\r\n            answered = false; // tye quiz is not yet completely answered while the current question is smaller then total\r\n            nextbutton.setText(&quot;Next&quot;);\r\n\r\n            questionCount.setText(&quot;Questions: &quot; + questionCounter + &quot;/&quot; + questionTotalCount); // how many questions answered out of 10\r\n        }\r\n        else{// if all the questions are answered\r\n            handler.postDelayed(() -&gt; {\r\n                Intent intent = new Intent(getApplicationContext(),QuizActivity.class); // open the next activity\r\n\r\n            }, 500); // wait for a half second\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrCud.png","title":"Can&#39;t fetch data from SQLite database in AS","body":"<p>I'm creating a Quiz app in Android Studio, and so I created a Database that contains the questions. In the helper class I have a method getAllQuestions that transfers the questions from the database to an array list, so then I can extract the Questions in Main and setText in Buttons. However, while I run my app the buttons and the Question are empty, without the app throwing exceptions like nullpointer if the list itself was empty.\n<a href=\"https://i.stack.imgur.com/GrCud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrCud.png\" alt=\"The Screenshot\" /></a></p>\n<p>DB_Helper methods:</p>\n<p>private void addQuestions(QuestionsDataBase Questions)\n{</p>\n<pre><code>    ContentValues cv =  new ContentValues();\n    cv.put(QuestionTable.Column_Question,Questions.getQuestion());\n    cv.put(QuestionTable.Column_Option1,Questions.getOption1());\n    cv.put(QuestionTable.Column_Option2,Questions.getOption2());\n    cv.put(QuestionTable.Column_Option3,Questions.getOption3());\n    cv.put(QuestionTable.Column_Option4,Questions.getOption4());\n    cv.put(QuestionTable.Column_Correct_Ans,Questions.getQuestion());\n    db.insert(QuestionTable.Table_Name,null,cv);\n}\n</code></pre>\n<p>public  ArrayList getAllQuestions(){</p>\n<pre><code>    ArrayList&lt;QuestionsDataBase&gt; questionsList = new ArrayList&lt;&gt;();\n    db = getReadableDatabase();\n    String[] Projection ={\n            QuestionTable._ID,\n            QuestionTable.Column_Question,\n            QuestionTable.Column_Option1,\n            QuestionTable.Column_Option2,\n            QuestionTable.Column_Option3,\n            QuestionTable.Column_Option4,\n            QuestionTable.Column_Correct_Ans\n    };\n    Cursor c = db.query(QuestionTable.Table_Name,\n            Projection,\n            null,\n            null,\n            null,\n            null,\n            null);\n    if(c.moveToFirst()){\n        do{\n            QuestionsDataBase questions = new QuestionsDataBase();\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\n            questions.setOption1(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\n            questions.setOption2(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\n            questions.setOption3(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\n            questions.setOption4(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\n            questions.setCorrectAns(c.getInt(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\n            questionsList.add(questions);\n            questionsList.add(questions);\n\n        }while(c.moveToNext());\n    }\n    c.close();\n    return questionsList;\n}\n</code></pre>\n<p>Methods in MainActivity:</p>\n<p>private void fecthDB(){</p>\n<pre><code>    DB_Helper db = new DB_Helper(this);\n    questionList = db.getAllQuestions();\n    startQuiz();\n}\n</code></pre>\n<p>private void startQuiz()\n{</p>\n<pre><code>    questionTotalCount = questionList.size(); // the total amount of questions in the current quizactivity( is set to 10)\n    Collections.shuffle(questionList); // shuffle the questions form the database that are stored in QuestionList\n    showQuestions();\n\n    nextbutton.setOnClickListener(view -&gt; {\n        if(!answered){\n            if(option1.isChecked() || option2.isChecked() || option3.isChecked() || option4.isChecked())\n                QuizOperations();\n        }\n    });\n\n}\n</code></pre>\n<p>private void showQuestions() // Showing the question and the options from database\n{</p>\n<pre><code>    rbGroup.clearCheck();\n    if(questionCounter&lt; questionTotalCount) // if not all the questions yet answered set text to new questions\n    {\n        currentQuestions = questionList.get(questionCounter);\n        questionCount.setText(currentQuestions.getQuestion());\n        option1.setText(currentQuestions.getOption1());\n        option2.setText(currentQuestions.getOption2());\n        option3.setText(currentQuestions.getOption3());\n        option4.setText(currentQuestions.getOption4());\n\n        questionCounter ++; // +1 to question counter\n        answered = false; // tye quiz is not yet completely answered while the current question is smaller then total\n        nextbutton.setText(&quot;Next&quot;);\n\n        questionCount.setText(&quot;Questions: &quot; + questionCounter + &quot;/&quot; + questionTotalCount); // how many questions answered out of 10\n    }\n    else{// if all the questions are answered\n        handler.postDelayed(() -&gt; {\n            Intent intent = new Intent(getApplicationContext(),QuizActivity.class); // open the next activity\n\n        }, 500); // wait for a half second\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","session-cookies","unauthorized"],"answers":[{"tags":[],"owner":{"account_id":16824449,"reputation":174,"user_id":12164076,"display_name":"mint"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643102991,"creation_date":1643102991,"answer_id":70846239,"question_id":70769950,"body_markdown":"I started digging in Spring Security libraries, and noticed the session cookie was being set in `HttpSessionRequestCache.saveRequest(...)` method:\r\n\r\n```java\r\npublic void saveRequest(HttpServletRequest request, HttpServletResponse response) {\r\n  if (!this.requestMatcher.matches(request)) {\r\n    if (this.logger.isTraceEnabled()) {\r\n      this.logger.trace(LogMessage.format(&quot;Did not save request since it did not match [%s]&quot;, this.requestMatcher));\r\n    }\r\n  } else {\r\n    DefaultSavedRequest savedRequest = new DefaultSavedRequest(request, this.portResolver);\r\n    if (!this.createSessionAllowed &amp;&amp; request.getSession(false) == null) {\r\n      this.logger.trace(&quot;Did not save request since there&#39;s no session and createSessionAllowed is false&quot;);\r\n    } else {\r\n      request.getSession().setAttribute(this.sessionAttrName, savedRequest);\r\n      if (this.logger.isDebugEnabled()) {\r\n        this.logger.debug(LogMessage.format(&quot;Saved request %s to session&quot;, savedRequest.getRedirectUrl()));\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe &#39;Set-Cookie&#39; header appears when creating the `DefaultSavedRequest` object. \r\nI changed my `WebSecurityConfig` to the following:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n  ...\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.httpBasic()\r\n        .and()\r\n          .requestCache().requestCache(getHttpSessionRequestCache()) // This is new\r\n        .and()\r\n          .authorizeRequests().antMatchers(authorizedWithoutAuth).permitAll()\r\n          .anyRequest().authenticated()\r\n        .and()\r\n          .csrf().disable()\r\n        .and()\r\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n          .deleteCookies(&quot;mySessionCookie&quot;);\r\n  }\r\n\r\n\r\n  public HttpSessionRequestCache getHttpSessionRequestCache()\r\n  {\r\n    HttpSessionRequestCache httpSessionRequestCache = new HttpSessionRequestCache();\r\n    httpSessionRequestCache.setCreateSessionAllowed(false); // I modified this parameter \r\n    return httpSessionRequestCache;\r\n  }\r\n}\r\n```\r\n\r\nand now it works. When logging in with Authorization headers, the cookie is being set correctly, but all the requests with an invalid session cookie or an expired one return a `401` response without setting a new one.\r\n\r\nAlso, after reading [this answer](https://stackoverflow.com/a/23665915/12164076), I understood better what this `createSessionAllowed` was doing\r\n\r\n","title":"Prevent unauthorized http requests redirected to /error from setting session cookie - spring boot - spring security","body":"<p>I started digging in Spring Security libraries, and noticed the session cookie was being set in <code>HttpSessionRequestCache.saveRequest(...)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveRequest(HttpServletRequest request, HttpServletResponse response) {\n  if (!this.requestMatcher.matches(request)) {\n    if (this.logger.isTraceEnabled()) {\n      this.logger.trace(LogMessage.format(&quot;Did not save request since it did not match [%s]&quot;, this.requestMatcher));\n    }\n  } else {\n    DefaultSavedRequest savedRequest = new DefaultSavedRequest(request, this.portResolver);\n    if (!this.createSessionAllowed &amp;&amp; request.getSession(false) == null) {\n      this.logger.trace(&quot;Did not save request since there's no session and createSessionAllowed is false&quot;);\n    } else {\n      request.getSession().setAttribute(this.sessionAttrName, savedRequest);\n      if (this.logger.isDebugEnabled()) {\n        this.logger.debug(LogMessage.format(&quot;Saved request %s to session&quot;, savedRequest.getRedirectUrl()));\n      }\n    }\n  }\n}\n</code></pre>\n<p>The 'Set-Cookie' header appears when creating the <code>DefaultSavedRequest</code> object.\nI changed my <code>WebSecurityConfig</code> to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  ...\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .requestCache().requestCache(getHttpSessionRequestCache()) // This is new\n        .and()\n          .authorizeRequests().antMatchers(authorizedWithoutAuth).permitAll()\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n          .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n\n\n  public HttpSessionRequestCache getHttpSessionRequestCache()\n  {\n    HttpSessionRequestCache httpSessionRequestCache = new HttpSessionRequestCache();\n    httpSessionRequestCache.setCreateSessionAllowed(false); // I modified this parameter \n    return httpSessionRequestCache;\n  }\n}\n</code></pre>\n<p>and now it works. When logging in with Authorization headers, the cookie is being set correctly, but all the requests with an invalid session cookie or an expired one return a <code>401</code> response without setting a new one.</p>\n<p>Also, after reading <a href=\"https://stackoverflow.com/a/23665915/12164076\">this answer</a>, I understood better what this <code>createSessionAllowed</code> was doing</p>\n"}],"owner":{"account_id":16824449,"reputation":174,"user_id":12164076,"display_name":"mint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70846239,"answer_count":1,"score":7,"last_activity_date":1643102991,"creation_date":1642592355,"question_id":70769950,"body_markdown":"## Context\r\nI&#39;m having some trouble with my application. We&#39;re using Spring Boot 2.4.10 and Spring Security 5.4.8. We use cookies to interact with the app.\r\n\r\nWe have a frontend application stored in `src/main/resources` that, among other things, connects to a websocket endpoint exposed in `/api/v1/notification`. \r\n\r\n## My configuration\r\n`application.properties` file:\r\n```properties\r\n# cookie-related settings\r\nserver.servlet.session.cookie.name=mySessionCookie\r\nserver.servlet.session.cookie.path=/\r\nserver.servlet.session.cookie.http-only=true\r\nserver.servlet.session.cookie.secure=true\r\n```\r\n\r\n```java\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n  private final String[] authorizedWithoutAuth = {\r\n      &quot;/&quot;,\r\n      &quot;/index.html&quot;,\r\n      &quot;/static/**&quot;\r\n  };\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.httpBasic()\r\n        .and()\r\n          .authorizeRequests()\r\n          .antMatchers(authorizedWithoutAuth).permitAll()\r\n          .anyRequest().authenticated()\r\n        .and()\r\n          .csrf().disable()\r\n        .and()\r\n        .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n        .deleteCookies(&quot;mySessionCookie&quot;);\r\n  }\r\n}\r\n```\r\n\r\n## The problem\r\nWhile no user is logged in, the frontend tries to reach periodically the websocket endpoint to open a connection.\r\n\r\nThe first `api/v1/notification` ends redirected to the `/error` endpoint, which returns an `HttpServletResponse` with a &#39;Set-Cookie&#39; header (I think this may be an anonymous cookie set in the first request?) and a **401** status. I cannot change this behaviour.\r\n\r\nThe following requests to `api/v1/notification` use this cookie in the header  (while user is not logged in). These requests are also redirected to the `/error` endpoint, which returns each time an `HttpServletResponse` with **401** status but here, **no &#39;Set-Cookie&#39;** header is included.\r\n\r\nOnce the user logs in with Authorization headers, a correct cookie is set by the response and used in the following requests. \r\n\r\nThe thing is, sometimes the set cookie suddenly changes again to an invalid one, and the following requests, done with this new invalid cookie, turn into a redirection to the login page. \r\n\r\nAfter checking the code, it seems there is an old `api/v1/notification` request (previous to the login request) taking place, with an invalid cookie (the anonymous one, present before login).\r\n\r\nThis request is redirected to the `/error` endpoint: here, once again the `HttpServletResponse` has **401** status and **is containing a Set-Cookie header that is modifying the browser cookie** (replacing the good one).\r\n\r\nFollowing is a scheme of the problem, to hopefully make it easier to understand. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n## Expected behaviour\r\nI would like to prevent an unauthorized request from setting the session cookie.\r\n\r\nIt&#39;s ok if a previous request responds with a 401 code, but I don&#39;t want it to change the current set cookie. \r\n\r\n## I tried...\r\n\r\n - I tried extending the `ErrorController` by returning a `ResponseEntity` with all the headers present in the input `HttpServletResponse` except for the &#39;Set-Cookie&#39; header. This doesn&#39;t work. \r\n\r\n - I also tried modifying my configuration to disable anonymous requests:\r\n    ```java\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n      private final String[] authorizedWithoutAuth = {\r\n        &quot;/&quot;,\r\n        &quot;/index.html&quot;,\r\n        &quot;/static/**&quot;\r\n      };\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n            .and()\r\n              .anonymous().disable()\r\n              .authorizeRequests()\r\n              // .antMatchers(authorizedWithoutAuth).permitAll() I had to remove these from here, and include them in the method below\r\n              .anyRequest().authenticated()\r\n            .and()\r\n              .csrf().disable()\r\n            .and()\r\n              .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n              .deleteCookies(&quot;mySessionCookie&quot;);\r\n      }\r\n\r\n      @Override\r\n      public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(authorizedWithoutAuth);\r\n      }\r\n    }\r\n    ```\r\n    but the session cookie is still set this way too, with 401 requests.\r\n\r\n - I also tried using `@ControllerAdvice` to handle the exceptions, but these are thrown by Spring Security in the `AbstractSecurityInterceptor`, as learnt in [this](https://stackoverflow.com/a/37081059/12164076) response.\r\n\r\n\r\nThak you all for your time. Sorry for the post length :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fZFtT.png","title":"Prevent unauthorized http requests redirected to /error from setting session cookie - spring boot - spring security","body":"<h2>Context</h2>\n<p>I'm having some trouble with my application. We're using Spring Boot 2.4.10 and Spring Security 5.4.8. We use cookies to interact with the app.</p>\n<p>We have a frontend application stored in <code>src/main/resources</code> that, among other things, connects to a websocket endpoint exposed in <code>/api/v1/notification</code>.</p>\n<h2>My configuration</h2>\n<p><code>application.properties</code> file:</p>\n<pre><code># cookie-related settings\nserver.servlet.session.cookie.name=mySessionCookie\nserver.servlet.session.cookie.path=/\nserver.servlet.session.cookie.http-only=true\nserver.servlet.session.cookie.secure=true\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  private final String[] authorizedWithoutAuth = {\n      &quot;/&quot;,\n      &quot;/index.html&quot;,\n      &quot;/static/**&quot;\n  };\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .authorizeRequests()\n          .antMatchers(authorizedWithoutAuth).permitAll()\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n        .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n        .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n}\n</code></pre>\n<h2>The problem</h2>\n<p>While no user is logged in, the frontend tries to reach periodically the websocket endpoint to open a connection.</p>\n<p>The first <code>api/v1/notification</code> ends redirected to the <code>/error</code> endpoint, which returns an <code>HttpServletResponse</code> with a 'Set-Cookie' header (I think this may be an anonymous cookie set in the first request?) and a <strong>401</strong> status. I cannot change this behaviour.</p>\n<p>The following requests to <code>api/v1/notification</code> use this cookie in the header  (while user is not logged in). These requests are also redirected to the <code>/error</code> endpoint, which returns each time an <code>HttpServletResponse</code> with <strong>401</strong> status but here, <strong>no 'Set-Cookie'</strong> header is included.</p>\n<p>Once the user logs in with Authorization headers, a correct cookie is set by the response and used in the following requests.</p>\n<p>The thing is, sometimes the set cookie suddenly changes again to an invalid one, and the following requests, done with this new invalid cookie, turn into a redirection to the login page.</p>\n<p>After checking the code, it seems there is an old <code>api/v1/notification</code> request (previous to the login request) taking place, with an invalid cookie (the anonymous one, present before login).</p>\n<p>This request is redirected to the <code>/error</code> endpoint: here, once again the <code>HttpServletResponse</code> has <strong>401</strong> status and <strong>is containing a Set-Cookie header that is modifying the browser cookie</strong> (replacing the good one).</p>\n<p>Following is a scheme of the problem, to hopefully make it easier to understand.</p>\n<p><a href=\"https://i.stack.imgur.com/fZFtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fZFtT.png\" alt=\"enter image description here\" /></a></p>\n<h2>Expected behaviour</h2>\n<p>I would like to prevent an unauthorized request from setting the session cookie.</p>\n<p>It's ok if a previous request responds with a 401 code, but I don't want it to change the current set cookie.</p>\n<h2>I tried...</h2>\n<ul>\n<li><p>I tried extending the <code>ErrorController</code> by returning a <code>ResponseEntity</code> with all the headers present in the input <code>HttpServletResponse</code> except for the 'Set-Cookie' header. This doesn't work.</p>\n</li>\n<li><p>I also tried modifying my configuration to disable anonymous requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  private final String[] authorizedWithoutAuth = {\n    &quot;/&quot;,\n    &quot;/index.html&quot;,\n    &quot;/static/**&quot;\n  };\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .anonymous().disable()\n          .authorizeRequests()\n          // .antMatchers(authorizedWithoutAuth).permitAll() I had to remove these from here, and include them in the method below\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n          .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n\n  @Override\n  public void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(authorizedWithoutAuth);\n  }\n}\n</code></pre>\n<p>but the session cookie is still set this way too, with 401 requests.</p>\n</li>\n<li><p>I also tried using <code>@ControllerAdvice</code> to handle the exceptions, but these are thrown by Spring Security in the <code>AbstractSecurityInterceptor</code>, as learnt in <a href=\"https://stackoverflow.com/a/37081059/12164076\">this</a> response.</p>\n</li>\n</ul>\n<p>Thak you all for your time. Sorry for the post length :)</p>\n"},{"tags":["java","apache-flink","classloader","flink-sql","pyflink"],"comments":[{"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"score":0,"creation_date":1643023750,"post_id":70832592,"comment_id":125221420,"body_markdown":"Seems that if I use `flink-sql-avro-*.jar` that do have org.apache.avro inside shaded directory it works fine. What is the reason behind that?","body":"Seems that if I use <code>flink-sql-avro-*.jar</code> that do have org.apache.avro inside shaded directory it works fine. What is the reason behind that?"}],"answers":[{"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643102975,"creation_date":1643102975,"answer_id":70846235,"question_id":70832592,"body_markdown":"NoClassDefFoundError and ClassNotFoundException are different\r\n\r\n 1. **java.lang.ClassNotFoundException** This exception indicates that the\r\n    class was not found on the classpath. This indicates that we were\r\n    trying to load the class definition, and the class did not exist on\r\n    the classpath.\r\n 2. **java.lang.NoClassDefFoundError** This exception indicates that the JVM\r\n    looked in its internal class definition data structure for the\r\n    definition of a class and did not find it. This is different than\r\n    saying that it could not be loaded from the classpath. The point is,\r\n    a NoClassDefFoundError is not necessarily a classpath problem.\r\n\r\nflink-sql-avro-*.jar is a shaded jar which will relocate the path of org.apache.flink:flink-avro org.apache.avro:avro\r\n\r\nJudging from the NoClassDefFoundError, there may be a conflict between the avro version dependencies\r\n\r\n\r\n\r\n\r\n","title":"PyFlink &quot;pipeline.classpaths&quot; vs $FLINK_HOME/lib","body":"<p>NoClassDefFoundError and ClassNotFoundException are different</p>\n<ol>\n<li><strong>java.lang.ClassNotFoundException</strong> This exception indicates that the\nclass was not found on the classpath. This indicates that we were\ntrying to load the class definition, and the class did not exist on\nthe classpath.</li>\n<li><strong>java.lang.NoClassDefFoundError</strong> This exception indicates that the JVM\nlooked in its internal class definition data structure for the\ndefinition of a class and did not find it. This is different than\nsaying that it could not be loaded from the classpath. The point is,\na NoClassDefFoundError is not necessarily a classpath problem.</li>\n</ol>\n<p>flink-sql-avro-*.jar is a shaded jar which will relocate the path of org.apache.flink:flink-avro org.apache.avro:avro</p>\n<p>Judging from the NoClassDefFoundError, there may be a conflict between the avro version dependencies</p>\n"}],"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846235,"answer_count":1,"score":1,"last_activity_date":1643102975,"creation_date":1643021322,"question_id":70832592,"body_markdown":"What is the difference between class loading classes passed as part of PyFlink `pipeline.classpath` config and putting them into a `$FLINK_HOME\\lib` directory?\r\n\r\nWhen I want to use `flink-sql-connector-kafka-*.jar` it works fine just passing it using `pipeline.classpath` but when I want to use something that has some external dependencies like `flink-avro-*.jar` that needs `avro-*.jar` jars. It seems to load `flink-avro-*.jar`  but it looks like it fails to load `avro-*.jar` and throws:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.SchemaBuilder\r\n```\r\n\r\nWhen I am dding `avro-*.jar` to `$FLINK_HOME\\lib` it works just fine.","title":"PyFlink &quot;pipeline.classpaths&quot; vs $FLINK_HOME/lib","body":"<p>What is the difference between class loading classes passed as part of PyFlink <code>pipeline.classpath</code> config and putting them into a <code>$FLINK_HOME\\lib</code> directory?</p>\n<p>When I want to use <code>flink-sql-connector-kafka-*.jar</code> it works fine just passing it using <code>pipeline.classpath</code> but when I want to use something that has some external dependencies like <code>flink-avro-*.jar</code> that needs <code>avro-*.jar</code> jars. It seems to load <code>flink-avro-*.jar</code>  but it looks like it fails to load <code>avro-*.jar</code> and throws:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.SchemaBuilder\n</code></pre>\n<p>When I am dding <code>avro-*.jar</code> to <code>$FLINK_HOME\\lib</code> it works just fine.</p>\n"},{"tags":["java","spring-boot","serialization","jackson","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643102968,"creation_date":1643102968,"answer_id":70846232,"question_id":70838691,"body_markdown":"You can register the serializer programatically in jackson. The class needing custom serialization:\r\n\r\n    public class SpecialObject {\r\n    \r\n        private String field;\r\n        private String anotherField;\r\n    \r\n        //getters, setters\r\n    }\r\nThe wrapper class, where it is a field:\r\n\r\n    public class WrapperObject {\r\n    \r\n        private String text;\r\n        private SpecialObject specialObject;\r\n    \r\n        //getters, setters\r\n    }\r\nThe serializer:\r\n\r\n    public class SpecialObjectSerializer extends StdSerializer&lt;SpecialObject&gt; {\r\n    \r\n        public SpecialObjectSerializer() {\r\n            super(SpecialObject.class);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(SpecialObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            gen.writeStartObject();\r\n            gen.writeStringField(&quot;fieldChanged&quot;, value.getField());\r\n            gen.writeStringField(&quot;anotherFieldChanged&quot;, value.getAnotherField());\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\nNothing fancy, just changing field names when serializing.\r\n\r\nNow you need to add your serializer in a `Module` and register that module in object mapper. You can do it like this:\r\n\r\n    public class NoAnnot {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            //add serializer in module\r\n            module.addSerializer(SpecialObject.class, new SpecialObjectSerializer());\r\n            //register module\r\n            objectMapper.registerModule(module);\r\n            objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            \r\n            SpecialObject specialObject = new SpecialObject();\r\n            specialObject.setField(&quot;foo&quot;);\r\n            specialObject.setAnotherField(&quot;bar&quot;);\r\n            WrapperObject wrapperObject = new WrapperObject();\r\n            wrapperObject.setText(&quot;bla&quot;);\r\n            wrapperObject.setSpecialObject(specialObject);\r\n            String json = objectMapper.writeValueAsString(wrapperObject);\r\n            System.out.println(json);\r\n        }\r\n    }","title":"Custom serialization without annotations","body":"<p>You can register the serializer programatically in jackson. The class needing custom serialization:</p>\n<pre><code>public class SpecialObject {\n\n    private String field;\n    private String anotherField;\n\n    //getters, setters\n}\n</code></pre>\n<p>The wrapper class, where it is a field:</p>\n<pre><code>public class WrapperObject {\n\n    private String text;\n    private SpecialObject specialObject;\n\n    //getters, setters\n}\n</code></pre>\n<p>The serializer:</p>\n<pre><code>public class SpecialObjectSerializer extends StdSerializer&lt;SpecialObject&gt; {\n\n    public SpecialObjectSerializer() {\n        super(SpecialObject.class);\n    }\n\n    @Override\n    public void serialize(SpecialObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n        gen.writeStringField(&quot;fieldChanged&quot;, value.getField());\n        gen.writeStringField(&quot;anotherFieldChanged&quot;, value.getAnotherField());\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>Nothing fancy, just changing field names when serializing.</p>\n<p>Now you need to add your serializer in a <code>Module</code> and register that module in object mapper. You can do it like this:</p>\n<pre><code>public class NoAnnot {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        //add serializer in module\n        module.addSerializer(SpecialObject.class, new SpecialObjectSerializer());\n        //register module\n        objectMapper.registerModule(module);\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n        \n        SpecialObject specialObject = new SpecialObject();\n        specialObject.setField(&quot;foo&quot;);\n        specialObject.setAnotherField(&quot;bar&quot;);\n        WrapperObject wrapperObject = new WrapperObject();\n        wrapperObject.setText(&quot;bla&quot;);\n        wrapperObject.setSpecialObject(specialObject);\n        String json = objectMapper.writeValueAsString(wrapperObject);\n        System.out.println(json);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6261156,"reputation":33,"user_id":4868311,"display_name":"Rye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643102968,"creation_date":1643048878,"question_id":70838691,"body_markdown":"Is there a way on Springboot that I can implement a custom serializer for a specific field on my request without doing annotations?\r\n\r\nI prefer if we could create a bean or a override a configuration and serialize a string input (from json request) going to OffsetDateTime field on my request pojo.\r\n\r\nI cannot annotate because my request classes are auto-generated..\r\n","title":"Custom serialization without annotations","body":"<p>Is there a way on Springboot that I can implement a custom serializer for a specific field on my request without doing annotations?</p>\n<p>I prefer if we could create a bean or a override a configuration and serialize a string input (from json request) going to OffsetDateTime field on my request pojo.</p>\n<p>I cannot annotate because my request classes are auto-generated..</p>\n"},{"tags":["java","selenium","jenkins","selenium-webdriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559134838,"creation_date":1559134838,"answer_id":56361303,"question_id":56360891,"body_markdown":"If this does not work then you may give a thought to below way of attaching screen shot to report on jenkins.\r\n\r\nHooks looks like below -\r\n\r\n    @After\r\n    \tpublic void afterScenario(Scenario scenario){\r\n    \t\ttry{\r\n    \t\t\tif(scenario.isFailed()){\r\n    \t\t\t\tExtentTestManager.addScreenShotsOnFailure();\r\n        // More code goes here....       \r\n\r\nMethod to capture image - please customize path as per your need.\r\n\r\n\tpublic static void addScreenShotsOnFailure() {\r\n\t\ti = i + 1;\r\n\t\tFile scrFile = ((TakesScreenshot) DriverManager.getDriver()).getScreenshotAs(OutputType.FILE);\r\n\r\n\t\tDate d = new Date();\r\n\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;E dd MMM HH:mm:ss z yyyy&quot;);  \r\n\t    String strDate = formatter.format(d);\r\n\t\tscreenshotName = strDate.replace(&quot;:&quot;, &quot;_&quot;).replace(&quot; &quot;, &quot;_&quot;) + &quot;_&quot;+i+&quot;.jpg&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tFileUtils.copyFile(scrFile, new File(System.getProperty(&quot;user.dir&quot;) + &quot;/target/extent-report/&quot; + screenshotName));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>If this does not work then you may give a thought to below way of attaching screen shot to report on jenkins.</p>\n\n<p>Hooks looks like below -</p>\n\n<pre><code>@After\n    public void afterScenario(Scenario scenario){\n        try{\n            if(scenario.isFailed()){\n                ExtentTestManager.addScreenShotsOnFailure();\n    // More code goes here....       \n</code></pre>\n\n<p>Method to capture image - please customize path as per your need.</p>\n\n<pre><code>public static void addScreenShotsOnFailure() {\n    i = i + 1;\n    File scrFile = ((TakesScreenshot) DriverManager.getDriver()).getScreenshotAs(OutputType.FILE);\n\n    Date d = new Date();\n    SimpleDateFormat formatter = new SimpleDateFormat(\"E dd MMM HH:mm:ss z yyyy\");  \n    String strDate = formatter.format(d);\n    screenshotName = strDate.replace(\":\", \"_\").replace(\" \", \"_\") + \"_\"+i+\".jpg\";\n\n    try {\n        FileUtils.copyFile(scrFile, new File(System.getProperty(\"user.dir\") + \"/target/extent-report/\" + screenshotName));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778423,"reputation":1414,"user_id":5885718,"accept_rate":25,"display_name":"Bhuvanesh Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559306300,"creation_date":1559306300,"answer_id":56395280,"question_id":56360891,"body_markdown":"I do not have direct answer for ubuntu problem. But, try adding path of captured images to your cucumber report as html links.\r\n\r\n    @After\r\n    public void after(Scenario scenario){\r\n       if (scenario.isFailed()) {\r\n            try {\r\n                WebDriver augmentedDriver = new Augmenter().augment(getDriver());\r\n                File path = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.FILE);\r\n                FileUtils.copyFile(path,new File(localRepoPath));\r\n                String html = &quot;&lt;html&gt;&lt;body&gt;&lt;a href=\\&quot;&gt;&quot; + localRepoPath + &quot;\\&quot;&gt; screenshot &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n                scenario.embed(html.getBytes(), &quot;text/html&quot;);\r\n           }catch(Exception e){\r\n              // Do Something\r\n           }\r\n      }        \r\n    }","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>I do not have direct answer for ubuntu problem. But, try adding path of captured images to your cucumber report as html links.</p>\n\n<pre><code>@After\npublic void after(Scenario scenario){\n   if (scenario.isFailed()) {\n        try {\n            WebDriver augmentedDriver = new Augmenter().augment(getDriver());\n            File path = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.FILE);\n            FileUtils.copyFile(path,new File(localRepoPath));\n            String html = \"&lt;html&gt;&lt;body&gt;&lt;a href=\\\"&gt;\" + localRepoPath + \"\\\"&gt; screenshot &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\";\n            scenario.embed(html.getBytes(), \"text/html\");\n       }catch(Exception e){\n          // Do Something\n       }\n  }        \n}\n</code></pre>\n"}],"owner":{"account_id":7194869,"reputation":1067,"user_id":5494014,"accept_rate":47,"display_name":"Gbru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643102905,"creation_date":1559133582,"question_id":56360891,"body_markdown":"Currently I&#39;m triggering my automation tests in the cloud using a Ubuntu instance. \r\n\r\nThe Ubuntu instance has a Jenkins instance running and also Selenium Hub and Node. It seems the screenshot images dont get saved within the builds\\3\\cucumber-html-reports\\embeddings on a ubuntu system however on a windows system this issue does not exist. \r\n\r\nI have currently added the below logic to capture and attach images to the Jenkins Cucumber reports however currently the images are not getting attached to the reports:\r\n\r\n    @After\r\n    public void after(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            try {\r\n                WebDriver augmentedDriver = new Augmenter().augment(getDriver());\r\n                byte[] s = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.BYTES);\r\n                scenario.embed(s, &quot;image/png&quot;);\r\n\r\nExample Report (Generated in Jenkins), please note the images are getting saved and attached to the reports when running the tests locally. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VA6OW.png","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>Currently I'm triggering my automation tests in the cloud using a Ubuntu instance. </p>\n\n<p>The Ubuntu instance has a Jenkins instance running and also Selenium Hub and Node. It seems the screenshot images dont get saved within the builds\\3\\cucumber-html-reports\\embeddings on a ubuntu system however on a windows system this issue does not exist. </p>\n\n<p>I have currently added the below logic to capture and attach images to the Jenkins Cucumber reports however currently the images are not getting attached to the reports:</p>\n\n<pre><code>@After\npublic void after(Scenario scenario) {\n    if (scenario.isFailed()) {\n        try {\n            WebDriver augmentedDriver = new Augmenter().augment(getDriver());\n            byte[] s = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.BYTES);\n            scenario.embed(s, \"image/png\");\n</code></pre>\n\n<p>Example Report (Generated in Jenkins), please note the images are getting saved and attached to the reports when running the tests locally. \n<a href=\"https://i.stack.imgur.com/VA6OW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VA6OW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","google-cloud-pubsub"],"comments":[{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":0,"creation_date":1578572987,"post_id":59663664,"comment_id":105486949,"body_markdown":"`@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` should work. What does the exception say?","body":"<code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> should work. What does the exception say?"},{"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"score":0,"creation_date":1578573372,"post_id":59663664,"comment_id":105487146,"body_markdown":"@Vladucu\nParameter 0 of method messageChannelAdapter in net.trueid.platform.cmschange.MyGcpSubPlanetApplication required a bean of type &#39;org.springframework.messaging.MessageChannel&#39; that could not be found.\n\nThe injection point has the following annotations:\n - @org.springframework.beans.factory.annotation.Qualifier(value=&quot;${pubsub.name}&quot;)\n\nThe following candidates were found but could not be injected:\n - User-defined bean method &#39;myInputChannel&#39; in &#39;MyGcpSubPlanetApplication&#39;\n - User-defined bean\n - User-defined bean","body":"@Vladucu Parameter 0 of method messageChannelAdapter in net.trueid.platform.cmschange.MyGcpSubPlanetApplication required a bean of type &#39;org.springframework.messaging.MessageChannel&#39; that could not be found.  The injection point has the following annotations:  - @org.springframework.beans.factory.annotation.Qualifier(valu&zwnj;&#8203;e=&quot;${pubsub.name}&quot;)  The following candidates were found but could not be injected:  - User-defined bean method &#39;myInputChannel&#39; in &#39;MyGcpSubPlanetApplication&#39;  - User-defined bean  - User-defined bean"},{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":1,"creation_date":1578576444,"post_id":59663664,"comment_id":105488816,"body_markdown":"Ok, I realized where the problem is. You can&#39;t use `@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` since the `inputChannel` needs to receive the qualifier of a spring bean not an env variable. I suppose that somewhere in your code you have a channel with the qualifier `my-alpha-pubsub-topic` and that is why it worked for the first time. Maybe it will make sense to create all those beans using spring profiles and have something like this: `@Profile(&quot;Staging&quot;)\n@ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; )\n public void messageReceiver`. One for each env.","body":"Ok, I realized where the problem is. You can&#39;t use <code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> since the <code>inputChannel</code> needs to receive the qualifier of a spring bean not an env variable. I suppose that somewhere in your code you have a channel with the qualifier <code>my-alpha-pubsub-topic</code> and that is why it worked for the first time. Maybe it will make sense to create all those beans using spring profiles and have something like this: <code>@Profile(&quot;Staging&quot;) @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; )  public void messageReceiver</code>. One for each env."},{"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"score":0,"creation_date":1578631842,"post_id":59663664,"comment_id":105509502,"body_markdown":"@Vladucu Voican That solve my problem. You can answer and I will accept your answer","body":"@Vladucu Voican That solve my problem. You can answer and I will accept your answer"},{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":0,"creation_date":1578642692,"post_id":59663664,"comment_id":105512559,"body_markdown":"Glad to hear that, I will add it in a minute. Thank you as well.","body":"Glad to hear that, I will add it in a minute. Thank you as well."}],"answers":[{"tags":[],"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643102861,"creation_date":1578642814,"answer_id":59677437,"question_id":59663664,"body_markdown":"The problem is that you can&#39;t use \r\n`@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` since the **inputChannel** needs to specify the qualifier of a spring bean not an environment variable. \r\nI suppose that somewhere in your code you have a channel with the qualifier **my-alpha-pubsub-topic** and that is why it worked for the first time. \r\n\r\nFor my point of view it will make more sense to create all those beans using spring profiles and have something like the following for each environment\r\n    \r\n     @Profile(&quot;Staging&quot;) \r\n     @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; ) \r\n     public void messageReceiver(String payload) {\r\n        LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n     }","title":"@ServiceActivator How to read inputChannel from property file in spring boot?","body":"<p>The problem is that you can't use\n<code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> since the <strong>inputChannel</strong> needs to specify the qualifier of a spring bean not an environment variable.\nI suppose that somewhere in your code you have a channel with the qualifier <strong>my-alpha-pubsub-topic</strong> and that is why it worked for the first time.</p>\n<p>For my point of view it will make more sense to create all those beans using spring profiles and have something like the following for each environment</p>\n<pre><code> @Profile(&quot;Staging&quot;) \n @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; ) \n public void messageReceiver(String payload) {\n    LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\n }\n</code></pre>\n"}],"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59677437,"answer_count":1,"score":0,"last_activity_date":1643102861,"creation_date":1578571721,"question_id":59663664,"body_markdown":"i develop google pubsub consumer and when i use fix value &quot;my-alpha-pubsub-topic&quot; it&#39;s complete running\r\n\r\n    @ServiceActivator(inputChannel = &quot;my-alpha-pubsub-topic&quot; )\r\n     public void messageReceiver(String payload) {\r\n      LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n    \r\n     }\r\n\r\n\r\nBut i run it on Container in Kubernetes i need pass inputChannel value from env parameter by Environment for 1 container build support multiple environment\r\n\r\n    Alpha =&gt; inputChannel = &quot;my-alpha-pubsub-topic&quot;\r\n    Staging =&gt; inputChannel = &quot;my-staging-pubsub-topic&quot;\r\n    Production =&gt; inputChannel = &quot;my-pubsub-topic&quot;\r\n\r\n\r\nBuy i cannot pass parameter in inputChannel. it&#39;s run failed\r\n\r\n    @Value(&quot;${pubsub.name}&quot;)\r\n     private String pubsubName;\r\n    \r\n    \r\n    @ServiceActivator(inputChannel = &quot;${pubsubName}&quot; )\r\n     public void messageReceiver(String payload) {\r\n      LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n    \r\n     }\r\n\r\n\r\nand i Try this and Failed \r\n\r\n    @ServiceActivator(inputChannel = &quot;${pubsubName}&quot; ) \r\n    @ServiceActivator(inputChannel = &quot;#{${pubsubName}}&quot; )\r\n    @ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )\r\n\r\nHow i can pass value to inputChannel from properties or env parameter","title":"@ServiceActivator How to read inputChannel from property file in spring boot?","body":"<p>i develop google pubsub consumer and when i use fix value \"my-alpha-pubsub-topic\" it's complete running</p>\n\n<pre><code>@ServiceActivator(inputChannel = \"my-alpha-pubsub-topic\" )\n public void messageReceiver(String payload) {\n  LOGGER.info(\"Message arrived! Payload: \" + payload);\n\n }\n</code></pre>\n\n<p>But i run it on Container in Kubernetes i need pass inputChannel value from env parameter by Environment for 1 container build support multiple environment</p>\n\n<pre><code>Alpha =&gt; inputChannel = \"my-alpha-pubsub-topic\"\nStaging =&gt; inputChannel = \"my-staging-pubsub-topic\"\nProduction =&gt; inputChannel = \"my-pubsub-topic\"\n</code></pre>\n\n<p>Buy i cannot pass parameter in inputChannel. it's run failed</p>\n\n<pre><code>@Value(\"${pubsub.name}\")\n private String pubsubName;\n\n\n@ServiceActivator(inputChannel = \"${pubsubName}\" )\n public void messageReceiver(String payload) {\n  LOGGER.info(\"Message arrived! Payload: \" + payload);\n\n }\n</code></pre>\n\n<p>and i Try this and Failed </p>\n\n<pre><code>@ServiceActivator(inputChannel = \"${pubsubName}\" ) \n@ServiceActivator(inputChannel = \"#{${pubsubName}}\" )\n@ServiceActivator(inputChannel = \"${pubsub.name}\" )\n</code></pre>\n\n<p>How i can pass value to inputChannel from properties or env parameter</p>\n"},{"tags":["java","apache-dubbo"],"owner":{"account_id":23215443,"reputation":75,"user_id":17308415,"display_name":"Koko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643102650,"creation_date":1643102650,"question_id":70846169,"body_markdown":"I am trying to run a online Spring Boot project locally. When I was calling an RPC service, sometimes the request was executed in another machine because of loadbalance. How to specify a consumer for a specific dubbo service?\r\nThe dubbo config for for consumer is:\r\n```\r\ndubbo:\r\n   application:\r\n      name: ${spring.application.name}\r\n   protocol:\r\n      name: dubbo\r\n      port: &quot;50020&quot;\r\n   consumer:\r\n      check: false \r\n      loadbalance: random \r\n      retries: 0 \r\n      timeout: 10000\r\n```\r\nand the reference\r\n```\r\n@DubboReference(check = false)\r\nprivate RpcPayService payService;\r\n```\r\nThe config for provider\r\n```\r\ndubbo:\r\n   application:\r\n      name: ${spring.application.name}\r\n   protocol:\r\n      name: dubbo\r\n      port: &quot;50002&quot;\r\n   consumer:\r\n      check: false\r\n      retries: 0 \r\n      loadbalance: random \r\n      timeout: 10000\r\n```\r\nand the provider\r\n```\r\n@DubboService\r\n@Slf4j\r\npublic class RpcPayServiceImpl implements RpcPayService {\r\n}\r\n```","title":"how to specify a consumer for a specific dubbo service?","body":"<p>I am trying to run a online Spring Boot project locally. When I was calling an RPC service, sometimes the request was executed in another machine because of loadbalance. How to specify a consumer for a specific dubbo service?\nThe dubbo config for for consumer is:</p>\n<pre><code>dubbo:\n   application:\n      name: ${spring.application.name}\n   protocol:\n      name: dubbo\n      port: &quot;50020&quot;\n   consumer:\n      check: false \n      loadbalance: random \n      retries: 0 \n      timeout: 10000\n</code></pre>\n<p>and the reference</p>\n<pre><code>@DubboReference(check = false)\nprivate RpcPayService payService;\n</code></pre>\n<p>The config for provider</p>\n<pre><code>dubbo:\n   application:\n      name: ${spring.application.name}\n   protocol:\n      name: dubbo\n      port: &quot;50002&quot;\n   consumer:\n      check: false\n      retries: 0 \n      loadbalance: random \n      timeout: 10000\n</code></pre>\n<p>and the provider</p>\n<pre><code>@DubboService\n@Slf4j\npublic class RpcPayServiceImpl implements RpcPayService {\n}\n</code></pre>\n"},{"tags":["java","android-studio","gradle"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":2,"creation_date":1635350650,"post_id":69741859,"comment_id":123276290,"body_markdown":"Have you tried following the instructions and editing the `gradle.properties` file and either adding/updating the `org.gradle.jvmargs` line with a memory size?","body":"Have you tried following the instructions and editing the <code>gradle.properties</code> file and either adding/updating the <code>org.gradle.jvmargs</code> line with a memory size?"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1635350718,"post_id":69741859,"comment_id":123276321,"body_markdown":"https://stackoverflow.com/questions/35244961/how-do-i-add-default-jvm-arguments-with-gradle","body":"<a href=\"https://stackoverflow.com/questions/35244961/how-do-i-add-default-jvm-arguments-with-gradle\" title=\"how do i add default jvm arguments with gradle\">stackoverflow.com/questions/35244961/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635377252,"post_id":69741859,"comment_id":123284817,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":14316137,"reputation":332,"user_id":10340870,"display_name":"M Azam Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643102031,"creation_date":1640859768,"answer_id":70530292,"question_id":69741859,"body_markdown":"In my case Invalidate cache and restart the android studio(which is automatically restarted) then an error will go after restarting the android studio\r\n\r\n\r\nFile-&gt; Invalidate cache/restart-&gt; Invalidate and restart\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthen \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYzMT.png\r\n  [2]: https://i.stack.imgur.com/tksvc.png\r\n\r\nI hope you will find the answer...\r\nplease share your feedback","title":"Error: Out of memory: Java heap space. Configure Gradle memory settings using &#39;-Xmx&#39; JVM option","body":"<p>In my case Invalidate cache and restart the android studio(which is automatically restarted) then an error will go after restarting the android studio</p>\n<p>File-&gt; Invalidate cache/restart-&gt; Invalidate and restart</p>\n<p><a href=\"https://i.stack.imgur.com/IYzMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYzMT.png\" alt=\"enter image description here\" /></a></p>\n<p>then\n<a href=\"https://i.stack.imgur.com/tksvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tksvc.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope you will find the answer...\nplease share your feedback</p>\n"}],"owner":{"account_id":23162331,"reputation":21,"user_id":17262798,"display_name":"Safi Emile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643102031,"creation_date":1635350234,"question_id":69741859,"body_markdown":"when in create new project in android studio i get this error\r\n\r\n&gt; &quot;Out of memory: Java heap space. Configure Gradle memory settings\r\n&gt; using &#39;-Xmx&#39; JVM option (e.g. &#39;-Xmx2048m&#39;.)\r\n&gt; \r\n&gt; Please fix the project&#39;s Gradle settings.\r\n\r\n","title":"Error: Out of memory: Java heap space. Configure Gradle memory settings using &#39;-Xmx&#39; JVM option","body":"<p>when in create new project in android studio i get this error</p>\n<blockquote>\n<p>&quot;Out of memory: Java heap space. Configure Gradle memory settings\nusing '-Xmx' JVM option (e.g. '-Xmx2048m'.)</p>\n<p>Please fix the project's Gradle settings.</p>\n</blockquote>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643101899,"creation_date":1643101899,"answer_id":70846012,"question_id":70845787,"body_markdown":"From the documentation of [`Thread.wait`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)) (relevant part highlighted in bold):\r\n\r\n&gt;Causes the current thread to wait until it is awakened, typically by being *notified* or *interrupted*, or until a certain amount of real time has elapsed.\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;This method causes the current thread (referred to here as T) to place itself in the wait set for this object and then to relinquish any and all synchronization claims on this object.\r\n&gt;\r\n&gt;Thread *T* then becomes disabled for thread scheduling purposes and lies dormant until one of the following occurs:\r\n&gt;\r\n&gt;- ...\r\n&gt;\r\n&gt;- Some other thread interrupts thread T.\r\n&gt;\r\n&gt;- ...\r\n&gt;\r\n&gt;The thread *T* is then removed from the wait set for this object and re-enabled for thread scheduling. **It competes in the usual manner with other threads for the right to synchronize on the object;** once it has regained control of the object, all its synchronization claims on the object are restored to the status quo ante - that is, to the situation as of the time that the wait method was invoked. Thread T then returns from the invocation of the wait method. Thus, on return from the wait method, the synchronization state of the object and of thread T is exactly as it was when the wait method was invoked.\r\n\r\nIn other words, when thread 1 is interrupted by the main thread, it still has to wait for thread 2 to finish to relinquish its lock, and only then thread 1 will regain control of the lock and continue.","title":"Strange behaviour with Thread.interrupt()","body":"<p>From the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\"><code>Thread.wait</code></a> (relevant part highlighted in bold):</p>\n<blockquote>\n<p>Causes the current thread to wait until it is awakened, typically by being <em>notified</em> or <em>interrupted</em>, or until a certain amount of real time has elapsed.</p>\n<p>...</p>\n<p>This method causes the current thread (referred to here as T) to place itself in the wait set for this object and then to relinquish any and all synchronization claims on this object.</p>\n<p>Thread <em>T</em> then becomes disabled for thread scheduling purposes and lies dormant until one of the following occurs:</p>\n<ul>\n<li><p>...</p>\n</li>\n<li><p>Some other thread interrupts thread T.</p>\n</li>\n<li><p>...</p>\n</li>\n</ul>\n<p>The thread <em>T</em> is then removed from the wait set for this object and re-enabled for thread scheduling. <strong>It competes in the usual manner with other threads for the right to synchronize on the object;</strong> once it has regained control of the object, all its synchronization claims on the object are restored to the status quo ante - that is, to the situation as of the time that the wait method was invoked. Thread T then returns from the invocation of the wait method. Thus, on return from the wait method, the synchronization state of the object and of thread T is exactly as it was when the wait method was invoked.</p>\n</blockquote>\n<p>In other words, when thread 1 is interrupted by the main thread, it still has to wait for thread 2 to finish to relinquish its lock, and only then thread 1 will regain control of the lock and continue.</p>\n"}],"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846012,"answer_count":1,"score":1,"last_activity_date":1643101899,"creation_date":1643100755,"question_id":70845787,"body_markdown":"I was trying to understand more about Thread.interrupt(), and so I wrote the following codes.\r\n\r\n    public class Test {\r\n\r\n        private Object object = new Object();\r\n\r\n        Runnable thread1 = () -&gt; {\r\n            synchronized (object) {\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 inside synchronized block&quot;);\r\n                try {\r\n                    object.wait();\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread1 after wait()&quot;);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 ending&quot;);\r\n            }\r\n        };\r\n\r\n        Runnable thread2 = () -&gt; {\r\n            synchronized (object) {\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 inside synchronized block&quot;);\r\n                try {\r\n                    Thread.sleep(2000);\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread2 after sleep&quot;);\r\n                    object.notify();\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread2 after notify()&quot;);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 ending&quot;);\r\n            }\r\n        };\r\n\r\n        public void run() {\r\n            Thread t1 = new Thread(thread1);\r\n            Thread t2 = new Thread(thread2);\r\n            t1.start();\r\n            t2.start();\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            t1.interrupt();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new Test().run();\r\n        }\r\n\r\n    }\r\n\r\nI couldn&#39;t understand the result. Firstly, why is the exception stack trace not showing on the third line of the output? The first thread was interrupted while the second thread was still sleeping, so the exception should occur before the second thread woke up. Secondly, why is &quot;Thread 1 ending&quot; showing up before the stack trace?\r\n\r\n    1643099950931 - Thread1 inside synchronized block\r\n    1643099950947 - Thread2 inside synchronized block\r\n    1643099952947 - Thread2 after sleep\r\n    1643099952947 - Thread2 after notify()\r\n    1643099952947 - Thread2 ending\r\n    1643099952947 - Thread1 ending\r\n    java.lang.InterruptedException\r\n\t    at java.base/java.lang.Object.wait(Native Method)\r\n\t    at java.base/java.lang.Object.wait(Object.java:328)\r\n\t    at com.ocbc.ms.Test.lambda$new$0(Test.java:13)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n","title":"Strange behaviour with Thread.interrupt()","body":"<p>I was trying to understand more about Thread.interrupt(), and so I wrote the following codes.</p>\n<pre><code>public class Test {\n\n    private Object object = new Object();\n\n    Runnable thread1 = () -&gt; {\n        synchronized (object) {\n            System.out.println(System.currentTimeMillis() + &quot; - Thread1 inside synchronized block&quot;);\n            try {\n                object.wait();\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 after wait()&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(System.currentTimeMillis() + &quot; - Thread1 ending&quot;);\n        }\n    };\n\n    Runnable thread2 = () -&gt; {\n        synchronized (object) {\n            System.out.println(System.currentTimeMillis() + &quot; - Thread2 inside synchronized block&quot;);\n            try {\n                Thread.sleep(2000);\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 after sleep&quot;);\n                object.notify();\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 after notify()&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(System.currentTimeMillis() + &quot; - Thread2 ending&quot;);\n        }\n    };\n\n    public void run() {\n        Thread t1 = new Thread(thread1);\n        Thread t2 = new Thread(thread2);\n        t1.start();\n        t2.start();\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        t1.interrupt();\n    }\n\n    public static void main(String[] args) {\n        new Test().run();\n    }\n\n}\n</code></pre>\n<p>I couldn't understand the result. Firstly, why is the exception stack trace not showing on the third line of the output? The first thread was interrupted while the second thread was still sleeping, so the exception should occur before the second thread woke up. Secondly, why is &quot;Thread 1 ending&quot; showing up before the stack trace?</p>\n<pre><code>1643099950931 - Thread1 inside synchronized block\n1643099950947 - Thread2 inside synchronized block\n1643099952947 - Thread2 after sleep\n1643099952947 - Thread2 after notify()\n1643099952947 - Thread2 ending\n1643099952947 - Thread1 ending\njava.lang.InterruptedException\n    at java.base/java.lang.Object.wait(Native Method)\n    at java.base/java.lang.Object.wait(Object.java:328)\n    at com.ocbc.ms.Test.lambda$new$0(Test.java:13)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["javascript","java","forms","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643101623,"creation_date":1643035457,"answer_id":70835652,"question_id":70835540,"body_markdown":"First I want to know why do you add onChange on select? do you want to do anything on onchange event? If I consider current given information then just remove onChange from select. Submit button is already good to go. its type is submit it should work.\r\n\r\nIf it does not work, let me know more details, I will try to solve your issue.\r\n\r\n**Updated from here:**\r\n\r\nyou need to create a javascript function and call it onChange of first select. this function will reload this current page selected value of selection in current url.\r\n\r\n    funtion onLeagueChange(){\r\n      var leagueValue = document.getElementById(&quot;leagues&quot;).value;\r\n      window.location.href = your_url + &quot;?leagues=&quot;+leagueValue;\r\n    }\r\n\r\nthis is solve your problem without using and other file.\r\n\r\n**Your Updated Code**\r\n\r\n   \r\n\r\n    &lt;div class=&quot;row justify-content-center&quot;&gt;\r\n    &lt;div class=&quot;col-sm-4&quot;&gt;\r\n\r\n\r\n        &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\n\r\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\r\n                name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot; onchange=&quot;onLeagueChange()&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\r\n                &lt;%\r\n        Connection conn;\r\n        Statement stm;\r\n        ResultSet rs;\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from leagues&quot;;\r\n            stm = conn.createStatement();\r\n            rs = stm.executeQuery(query);\r\n            while (rs.next()) {\r\n        %&gt;\r\n                &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\r\n                    &lt;%\r\n            if(request.getParameter(&quot;leagues&quot;)!= null) \r\n            {\r\n                if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \r\n                {\r\n                    out.print(&quot;selected&quot;);\r\n                }\r\n            }\r\n            %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\r\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\r\n                &lt;%\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from teams where league_id=?&quot;;\r\n            PreparedStatement psmt = con.prepareStatement(query);\r\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n            ResultSet rset = psmt.executeQuery();\r\n            while(rset.next()) \r\n            {\r\n            %&gt;\r\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\r\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\r\n                &lt;%\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from teams where league_id=?&quot;;\r\n            PreparedStatement psmt = con.prepareStatement(query);\r\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n            ResultSet rset = psmt.executeQuery();\r\n            while(rset.next()) \r\n            {\r\n            %&gt;\r\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\r\n                (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\r\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\r\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\r\n                name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n                for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\r\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\r\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\r\n                name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n                for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\r\n                type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\r\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\r\n                name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt;\r\n\r\n            &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\r\n                &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\r\n                    Match Result&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;","title":"How do I to stop submitting in first dropdown list in .jsp?","body":"<p>First I want to know why do you add onChange on select? do you want to do anything on onchange event? If I consider current given information then just remove onChange from select. Submit button is already good to go. its type is submit it should work.</p>\n<p>If it does not work, let me know more details, I will try to solve your issue.</p>\n<p><strong>Updated from here:</strong></p>\n<p>you need to create a javascript function and call it onChange of first select. this function will reload this current page selected value of selection in current url.</p>\n<pre><code>funtion onLeagueChange(){\n  var leagueValue = document.getElementById(&quot;leagues&quot;).value;\n  window.location.href = your_url + &quot;?leagues=&quot;+leagueValue;\n}\n</code></pre>\n<p>this is solve your problem without using and other file.</p>\n<p><strong>Your Updated Code</strong></p>\n<pre><code>&lt;div class=&quot;row justify-content-center&quot;&gt;\n&lt;div class=&quot;col-sm-4&quot;&gt;\n\n\n    &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\n\n\n        &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\n            name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot; onchange=&quot;onLeagueChange()&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\n            &lt;%\n    Connection conn;\n    Statement stm;\n    ResultSet rs;\n\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from leagues&quot;;\n        stm = conn.createStatement();\n        rs = stm.executeQuery(query);\n        while (rs.next()) {\n    %&gt;\n            &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\n                &lt;%\n        if(request.getParameter(&quot;leagues&quot;)!= null) \n        {\n            if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \n            {\n                out.print(&quot;selected&quot;);\n            }\n        }\n        %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\n            name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\n            &lt;%\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from teams where league_id=?&quot;;\n        PreparedStatement psmt = con.prepareStatement(query);\n        psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n        ResultSet rset = psmt.executeQuery();\n        while(rset.next()) \n        {\n        %&gt;\n            &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\n            name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\n            &lt;%\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from teams where league_id=?&quot;;\n        PreparedStatement psmt = con.prepareStatement(query);\n        psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n        ResultSet rset = psmt.executeQuery();\n        while(rset.next()) \n        {\n        %&gt;\n            &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\n            (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\n            class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\n            class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\n            name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n            for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\n            class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\n            class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\n            name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n            for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\n            type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n\n        &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\n            name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt;\n\n        &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\n            &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\n                Match Result&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n"}],"owner":{"account_id":23716690,"reputation":13,"user_id":17737735,"display_name":"En B&#252;y&#252;k Fenerbah&#231;e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70835652,"answer_count":1,"score":0,"last_activity_date":1643101623,"creation_date":1643034998,"question_id":70835540,"body_markdown":"I have a file called add.jsp that I add data to the database with Java.\r\n\r\nIn this file, I bring the leagues from the database with the first dropdownlist, and the teams of that league are displayed in the 2nd and 3rd Dropdown lists of the selected league.\r\n\r\nThe form starts as follows.\r\n&lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\nSince onchange=&quot;this.form.submit();&quot; is in the first dropdown list section, when the selection is made, the form submits and goes to the addemp servlet.\r\n\r\nHow do I prevent the form from submitting when I select the Leagues from the first dropdown list? and how do I make it go to the addemp servlet only when I click on the bottom submit button after selecting all the data and logging in?\r\n\r\nMy code is as below between body tags..\r\n\r\n[Screenshot is here][1]\r\n\r\n[Without onchange event screenshot is here][2]\r\n\r\n\r\n\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&quot;row justify-content-center&quot;&gt;\r\n\t\t&lt;div class=&quot;col-sm-4&quot;&gt;\r\n\r\n\r\n\t\t\t&lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\n\r\n\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot; onchange=&quot;this.form.submit();&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\tConnection conn;\r\n\t\t\tStatement stm;\r\n\t\t\tResultSet rs;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tconn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from leagues&quot;;\r\n\t\t\t\tstm = conn.createStatement();\r\n\t\t\t\trs = stm.executeQuery(query);\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\r\n\t\t\t\t\t\t&lt;%\r\n\t\t\t\tif(request.getParameter(&quot;leagues&quot;)!= null) \r\n\t\t\t\t{\r\n\t\t\t\t\tif(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tout.print(&quot;selected&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t%&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from teams where league_id=?&quot;;\r\n\t\t\t\tPreparedStatement psmt = con.prepareStatement(query);\r\n\t\t\t\tpsmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n\t\t\t\tResultSet rset = psmt.executeQuery();\r\n\t\t\t\twhile(rset.next()) \r\n\t\t\t\t{\r\n\t\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n\t\t\t\t\t\t&lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from teams where league_id=?&quot;;\r\n\t\t\t\tPreparedStatement psmt = con.prepareStatement(query);\r\n\t\t\t\tpsmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n\t\t\t\tResultSet rset = psmt.executeQuery();\r\n\t\t\t\twhile(rset.next()) \r\n\t\t\t\t{\r\n\t\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n\t\t\t\t\t\t&lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\r\n\t\t\t\t\t(YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\r\n\t\t\t\t\tclass=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\r\n\t\t\t\t\tclass=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n\t\t\t\t\tfor=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\r\n\t\t\t\t\tclass=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\r\n\t\t\t\t\tclass=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n\t\t\t\t\tfor=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\r\n\t\t\t\t\ttype=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\r\n\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt;\r\n\r\n\t\t\t\t&lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\r\n\t\t\t\t\t&lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\r\n\t\t\t\t\t\tMatch Result&lt;/button&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/form&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n\r\nBest regards, \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L02Gf.png\r\n  [2]: https://i.stack.imgur.com/lv5Tg.png","title":"How do I to stop submitting in first dropdown list in .jsp?","body":"<p>I have a file called add.jsp that I add data to the database with Java.</p>\n<p>In this file, I bring the leagues from the database with the first dropdownlist, and the teams of that league are displayed in the 2nd and 3rd Dropdown lists of the selected league.</p>\n<p>The form starts as follows.</p>\n\n<p>Since onchange=&quot;this.form.submit();&quot; is in the first dropdown list section, when the selection is made, the form submits and goes to the addemp servlet.</p>\n<p>How do I prevent the form from submitting when I select the Leagues from the first dropdown list? and how do I make it go to the addemp servlet only when I click on the bottom submit button after selecting all the data and logging in?</p>\n<p>My code is as below between body tags..</p>\n<p><a href=\"https://i.stack.imgur.com/L02Gf.png\" rel=\"nofollow noreferrer\">Screenshot is here</a></p>\n<p><a href=\"https://i.stack.imgur.com/lv5Tg.png\" rel=\"nofollow noreferrer\">Without onchange event screenshot is here</a></p>\n\n<pre><code>&lt;div class=&quot;row justify-content-center&quot;&gt;\n    &lt;div class=&quot;col-sm-4&quot;&gt;\n\n\n        &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\n\n\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\n                name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot; onchange=&quot;this.form.submit();&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\n                &lt;%\n        Connection conn;\n        Statement stm;\n        ResultSet rs;\n\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from leagues&quot;;\n            stm = conn.createStatement();\n            rs = stm.executeQuery(query);\n            while (rs.next()) {\n        %&gt;\n                &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\n                    &lt;%\n            if(request.getParameter(&quot;leagues&quot;)!= null) \n            {\n                if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \n                {\n                    out.print(&quot;selected&quot;);\n                }\n            }\n            %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\n                &lt;%\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from teams where league_id=?&quot;;\n            PreparedStatement psmt = con.prepareStatement(query);\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n            ResultSet rset = psmt.executeQuery();\n            while(rset.next()) \n            {\n            %&gt;\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\n                &lt;%\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from teams where league_id=?&quot;;\n            PreparedStatement psmt = con.prepareStatement(query);\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n            ResultSet rset = psmt.executeQuery();\n            while(rset.next()) \n            {\n            %&gt;\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\n                (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\n                name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n                for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\n                name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n                for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\n                type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\n                name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt;\n\n            &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\n                &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\n                    Match Result&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Best regards,</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":5806439,"reputation":319,"user_id":4578902,"accept_rate":57,"display_name":"sAm"},"score":1,"creation_date":1473929064,"post_id":39506612,"comment_id":66329811,"body_markdown":"please share your web.xml","body":"please share your web.xml"},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1473929436,"post_id":39506612,"comment_id":66330006,"body_markdown":"Check your deployment assembly if everything is deploying correctly, server class should be in `webapps/testh/WEB-INF/classes/hello.class` in tomcat. Also, name your classes staring with big letter like `Hello`.","body":"Check your deployment assembly if everything is deploying correctly, server class should be in <code>webapps&#47;testh&#47;WEB-INF&#47;classes&#47;hello.class</code> in tomcat. Also, name your classes staring with big letter like <code>Hello</code>."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1473931452,"post_id":39506612,"comment_id":66331237,"body_markdown":"It often helps enormously to read error messages carefully (see also the server logs).","body":"It often helps enormously to read error messages carefully (see also the server logs)."}],"answers":[{"tags":[],"owner":{"account_id":3455727,"reputation":11,"user_id":2894299,"display_name":"Oleh Yatskiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101370,"creation_date":1473929171,"answer_id":39506692,"question_id":39506612,"body_markdown":"Try to call [http://localhost:8080/hello][1]\r\n\r\n\r\n  [1]: http://localhost:8080/login\r\nBecause all you project is under the root \r\n\r\n&gt; /\r\n\r\nAnd then you have mapping `/hello`\r\n\r\nAlso if you need exactly `http://localhost:8080/testh/hello` you should deploy app using path **/testh** and then HTTP call will route you to **/testh/hello** because your servlet path is **/hello** + app path **/testh**","title":"404 the requested resource is not available on a very simple servlet","body":"<p>Try to call <a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">http://localhost:8080/hello</a></p>\n<p>Because all you project is under the root</p>\n<blockquote>\n<p>/</p>\n</blockquote>\n<p>And then you have mapping <code>/hello</code></p>\n<p>Also if you need exactly <code>http://localhost:8080/testh/hello</code> you should deploy app using path <strong>/testh</strong> and then HTTP call will route you to <strong>/testh/hello</strong> because your servlet path is <strong>/hello</strong> + app path <strong>/testh</strong></p>\n"}],"owner":{"account_id":9195475,"reputation":11,"user_id":6834341,"display_name":"John Solve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1473931377,"answer_count":1,"score":1,"last_activity_date":1643101370,"creation_date":1473928919,"question_id":39506612,"body_markdown":"I&#39;ve been stuck with this problem the whole morning and I can&#39;t seem to understand why.\r\n\r\nThis is my servlet. Very simple:\r\n\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Servlet implementation class hello\r\n     */\r\n    @WebServlet(&quot;/hello&quot;)\r\n    public class hello extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public hello() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tresponse.getWriter().write(&quot;test&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I start my tomcat server, and go to http://localhost:8080/testh/hello I receive the error message:\r\nHTTP Status 404 - /testh/hello\r\n\r\nWhy? The server is started, and I have this specific servlet /hello running under the project &quot;testh&quot;. I don&#39;t understand. Please help.","title":"404 the requested resource is not available on a very simple servlet","body":"<p>I've been stuck with this problem the whole morning and I can't seem to understand why.</p>\n\n<p>This is my servlet. Very simple:</p>\n\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class hello\n */\n@WebServlet(\"/hello\")\npublic class hello extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public hello() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().write(\"test\");\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n\n<p>When I start my tomcat server, and go to <a href=\"http://localhost:8080/testh/hello\" rel=\"nofollow\">http://localhost:8080/testh/hello</a> I receive the error message:\nHTTP Status 404 - /testh/hello</p>\n\n<p>Why? The server is started, and I have this specific servlet /hello running under the project \"testh\". I don't understand. Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1473836548,"post_id":39484294,"comment_id":66286960,"body_markdown":"It&#39;s probably due to the extra `;` after the comment.","body":"It&#39;s probably due to the extra <code>;</code> after the comment."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":3,"creation_date":1473836586,"post_id":39484294,"comment_id":66286973,"body_markdown":"Poor Edmund. I don&#39;t see this as a particularly poor question, particularly if the IDE highlights the entire line.","body":"Poor Edmund. I don&#39;t see this as a particularly poor question, particularly if the IDE highlights the entire line."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1473838122,"post_id":39484294,"comment_id":66287797,"body_markdown":"@Bathsheba That&#39;s 6x5 reputation from upvotes minus 4x2 reputation loss from downvotes is net 22 reputation increase. The net result isn&#39;t so bad. :)","body":"@Bathsheba That&#39;s 6x5 reputation from upvotes minus 4x2 reputation loss from downvotes is net 22 reputation increase. The net result isn&#39;t so bad. :)"},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1473839163,"post_id":39484294,"comment_id":66288365,"body_markdown":"@ErwinBolwidt: Yes SO is a funny old world. I&#39;m not convinced my answer is worth 10 * 10 + 15. Especially when you consider that&#39;s greater than the score of the excellent answer to http://stackoverflow.com/questions/39465404/precedence-of-const-member-function-over-return-value-type-match/39465464 which has more question upvotes.","body":"@ErwinBolwidt: Yes SO is a funny old world. I&#39;m not convinced my answer is worth 10 * 10 + 15. Especially when you consider that&#39;s greater than the score of the excellent answer to <a href=\"http://stackoverflow.com/questions/39465404/precedence-of-const-member-function-over-return-value-type-match/39465464\" title=\"precedence of const member function over return value type match\">stackoverflow.com/questions/39465404/&hellip;</a> which has more question upvotes."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1473836552,"creation_date":1473836552,"answer_id":39484314,"question_id":39484294,"body_markdown":"This is clear if you remove the comment:\r\n\r\n`return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();;`\r\n\r\nNote well the two semicolons at the end: empty statements *are* allowed in Java, but this particular empty statement is *unreachable* as the previous statement *always* `return`s.\r\n\r\n(For the avoidance of doubt, a *comment* should not be terminated with a `;`).","title":"This code does not compile due to an unreachable statement","body":"<p>This is clear if you remove the comment:</p>\n\n<p><code>return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();;</code></p>\n\n<p>Note well the two semicolons at the end: empty statements <em>are</em> allowed in Java, but this particular empty statement is <em>unreachable</em> as the previous statement <em>always</em> <code>return</code>s.</p>\n\n<p>(For the avoidance of doubt, a <em>comment</em> should not be terminated with a <code>;</code>).</p>\n"},{"tags":[],"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101352,"creation_date":1473836926,"answer_id":39484420,"question_id":39484294,"body_markdown":"   As per [Java specs][1] `;` is a empty statement. So there is a statement after return\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.6","title":"This code does not compile due to an unreachable statement","body":"<p>As per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.6\" rel=\"nofollow noreferrer\">Java specs</a> <code>;</code> is a empty statement. So there is a statement after return</p>\n"},{"tags":[],"owner":{"account_id":9179746,"reputation":1206,"user_id":6824065,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473884136,"creation_date":1473836931,"answer_id":39484422,"question_id":39484294,"body_markdown":"The issue is because of the `;` after the comment:\r\n`/*mapping code can inject a Missing type*/`;\r\n\r\nThe compiler thinks there is another statement after the return statement. If you delete the `;` after the comment it will work fine (or put it inside the comment).","title":"This code does not compile due to an unreachable statement","body":"<p>The issue is because of the <code>;</code> after the comment:\n<code>/*mapping code can inject a Missing type*/</code>;</p>\n\n<p>The compiler thinks there is another statement after the return statement. If you delete the <code>;</code> after the comment it will work fine (or put it inside the comment).</p>\n"}],"owner":{"account_id":8668214,"reputation":572,"user_id":6487923,"display_name":"Edmund Price"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"closed_date":1473838866,"accepted_answer_id":39484314,"answer_count":3,"score":4,"last_activity_date":1643101352,"creation_date":1473836475,"question_id":39484294,"body_markdown":"I&#39;ve tried my utmost to reproduce this in another way, but it seems that only this line gives the error (please excuse the comment):\r\n\r    return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();/*mapping code can inject a Missing type*/;\r\n\r\nHowever I type this it gives me an error: &quot;unreachable statement&quot;. Why is this?","title":"This code does not compile due to an unreachable statement","body":"<p>I've tried my utmost to reproduce this in another way, but it seems that only this line gives the error (please excuse the comment):</p>\n\n<pre><code>return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();/*mapping code can inject a Missing type*/;\n</code></pre>\n\n<p>However I type this it gives me an error: \"unreachable statement\". Why is this?</p>\n"},{"tags":["java","android","security","webview","mobile-security"],"answers":[{"tags":[],"owner":{"account_id":232489,"reputation":8023,"user_id":497366,"accept_rate":92,"display_name":"Bj&#246;rn Kechel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457602596,"creation_date":1457602596,"answer_id":35912602,"question_id":35912434,"body_markdown":"this will cause nothing to happen when the link &quot;http://www.myweb.com/pepito&quot; is clicked\r\n\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             // Do something with the event here\r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            return url.equals(&quot;http://www.myweb.com/pepito&quot;);\r\n        }\r\n    }","title":"Block a URL in a WebView on Android","body":"<p>this will cause nothing to happen when the link \"<a href=\"http://www.myweb.com/pepito\" rel=\"nofollow\">http://www.myweb.com/pepito</a>\" is clicked</p>\n\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\n         // Do something with the event here\n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        return url.equals(\"http://www.myweb.com/pepito\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567260,"reputation":2819,"user_id":5742304,"display_name":"Febi M Felix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607373513,"creation_date":1457602623,"answer_id":35912622,"question_id":35912434,"body_markdown":"*[`shouldOverrideUrlLoading`](https://developer.android.com/reference/android/webkit/WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest))* will examine the web page URL loaded into the WebView and all URLs loaded within the page content.\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shouldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             \r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            if (Uri.parse(url).getHost().equals(&quot;http://www.myweb.com/pepito&quot;)) {\r\n                 // This is my web site, so do not override; let the WebView load the page.\r\n                 return false;\r\n            }\r\n    \r\n            // Reject everything else.\r\n            return true;\r\n        }\r\n    }","title":"Block a URL in a WebView on Android","body":"<p><em><a href=\"https://developer.android.com/reference/android/webkit/WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest)\" rel=\"nofollow noreferrer\"><code>shouldOverrideUrlLoading</code></a></em> will examine the web page URL loaded into the WebView and all URLs loaded within the page content.</p>\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shouldOverrideKeyEvent (WebView view, KeyEvent event) {\n         \n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        if (Uri.parse(url).getHost().equals(&quot;http://www.myweb.com/pepito&quot;)) {\n             // This is my web site, so do not override; let the WebView load the page.\n             return false;\n        }\n\n        // Reject everything else.\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12881596,"reputation":31,"user_id":9316459,"display_name":"Mayur Kodhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567682514,"creation_date":1567682514,"answer_id":57804391,"question_id":35912434,"body_markdown":"        webView.setWebViewClient(new myWebClient()); \r\n    // add this while initializing webview\r\n    \r\n    \r\n    // then do add following code\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public class myWebClient extends WebViewClient {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                // TODO Auto-generated method stub\r\n               // super.onPageStarted(view, url, favicon);\r\n                if (Uri.parse(url).getHost().contains(&quot;https://qa.mstitute.com/test/build/#!/&quot;)) {\r\n                    // This is my web site, so do not override; let my WebView load the page\r\n                    Log.d(&quot;web&quot;,&quot;block&quot;);\r\n    \r\n                }else{\r\n                    super.onPageStarted(view, url, favicon);\r\n                }\r\n    \r\n                Log.d(&quot;web&quot;,&quot;Started&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                // TODO Auto-generated method stub\r\n    \r\n                if (Uri.parse(url).getHost().equals(&quot;https://qa.mstitute.com/test/build/#!/&quot;)) {\r\n                    // This is my web site, so do not override; let my WebView load the page\r\n                    Log.d(&quot;web&quot;,&quot;block&quot;);\r\n                    return false;\r\n                }else {\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n    \r\n            }\r\n            @Override\r\n            public void onReceivedError(WebView view, WebResourceRequest request,\r\n                                        WebResourceError error) {\r\n                super.onReceivedError(view, request, error);\r\n                Log.d(&quot;web&quot;,&quot;got an error&quot;);\r\n    \r\n            }\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                // TODO Auto-generated method stub\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n     \r\n\r\n\r\n\r\n","title":"Block a URL in a WebView on Android","body":"<pre><code>    webView.setWebViewClient(new myWebClient()); \n// add this while initializing webview\n\n\n// then do add following code\n\n\n\n\n\npublic class myWebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            // TODO Auto-generated method stub\n           // super.onPageStarted(view, url, favicon);\n            if (Uri.parse(url).getHost().contains(\"https://qa.mstitute.com/test/build/#!/\")) {\n                // This is my web site, so do not override; let my WebView load the page\n                Log.d(\"web\",\"block\");\n\n            }else{\n                super.onPageStarted(view, url, favicon);\n            }\n\n            Log.d(\"web\",\"Started\");\n        }\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            // TODO Auto-generated method stub\n\n            if (Uri.parse(url).getHost().equals(\"https://qa.mstitute.com/test/build/#!/\")) {\n                // This is my web site, so do not override; let my WebView load the page\n                Log.d(\"web\",\"block\");\n                return false;\n            }else {\n                view.loadUrl(url);\n                return true;\n            }\n\n        }\n        @Override\n        public void onReceivedError(WebView view, WebResourceRequest request,\n                                    WebResourceError error) {\n            super.onReceivedError(view, request, error);\n            Log.d(\"web\",\"got an error\");\n\n        }\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            // TODO Auto-generated method stub\n\n\n\n\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18134865,"reputation":68,"user_id":13189540,"display_name":"Cemil AKAN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643101333,"creation_date":1621518800,"answer_id":67621757,"question_id":35912434,"body_markdown":"**Solution 1**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n      override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val webView : WebView = findViewById(R.id.webView)\r\n        webView.webViewClient = object : WebViewClient() {\r\n            override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\r\n                // This is my web site, so do not override; let the WebView load the page.\r\n                if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\n                // Reject everything else.\r\n                return true\r\n            }\r\n         }\r\n       }\r\n     }\r\n\r\n**Solution 2**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val webView : WebView = findViewById(R.id.webView)\r\n        webView.webViewClient = MyWebViewClient()\r\n    }\r\n\r\n    private class MyWebViewClient : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\r\n            // This is my web site, so do not override; let the WebView load the page.\r\n            if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\n            // Reject everything else.\r\n            return true\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&gt; if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\nThis code wont allow to go google","title":"Block a URL in a WebView on Android","body":"<p><strong>Solution 1</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val webView : WebView = findViewById(R.id.webView)\n    webView.webViewClient = object : WebViewClient() {\n        override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\n            // This is my web site, so do not override; let the WebView load the page.\n            if (Uri.parse(url).host == &quot;google.com&quot;) return false\n            // Reject everything else.\n            return true\n        }\n     }\n   }\n }\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val webView : WebView = findViewById(R.id.webView)\n    webView.webViewClient = MyWebViewClient()\n}\n\nprivate class MyWebViewClient : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\n        // This is my web site, so do not override; let the WebView load the page.\n        if (Uri.parse(url).host == &quot;google.com&quot;) return false\n        // Reject everything else.\n        return true\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>if (Uri.parse(url).host == &quot;google.com&quot;) return false\nThis code wont allow to go google</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2178644,"reputation":3119,"user_id":1928691,"accept_rate":90,"display_name":"Federico Navarrete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634707057,"creation_date":1634707057,"answer_id":69640671,"question_id":35912434,"body_markdown":"For Xamarin Developers (it can be adapted to Native also), this is an updated answer because the method `ShouldOverrideUrlLoading(WebView view, string url)` is **[obsolete][1]**:\r\n\r\n    [System.Obsolete]\r\n    public override bool ShouldOverrideUrlLoading(WebView view, string url)\r\n    {\r\n        return !Uri.Parse(url).Host.Contains(&quot;YOUR_URL&quot;);\r\n    }\r\n\r\n    public override bool ShouldOverrideUrlLoading(WebView view, IWebResourceRequest request)\r\n    {\r\n        return !request.Url.ToString().Contains(&quot;YOUR_URL&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebViewClient","title":"Block a URL in a WebView on Android","body":"<p>For Xamarin Developers (it can be adapted to Native also), this is an updated answer because the method <code>ShouldOverrideUrlLoading(WebView view, string url)</code> is <strong><a href=\"https://developer.android.com/reference/android/webkit/WebViewClient\" rel=\"nofollow noreferrer\">obsolete</a></strong>:</p>\n<pre><code>[System.Obsolete]\npublic override bool ShouldOverrideUrlLoading(WebView view, string url)\n{\n    return !Uri.Parse(url).Host.Contains(&quot;YOUR_URL&quot;);\n}\n\npublic override bool ShouldOverrideUrlLoading(WebView view, IWebResourceRequest request)\n{\n    return !request.Url.ToString().Contains(&quot;YOUR_URL&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4603392,"reputation":151,"user_id":3733523,"accept_rate":56,"display_name":"user3733523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35912622,"answer_count":5,"score":4,"last_activity_date":1643101333,"creation_date":1457602247,"question_id":35912434,"body_markdown":"I want to block a link from loading within a Webview.\r\n\r\n**Code**\r\n\r\n    public class WebMy extends Activity {\r\n    \r\n    \r\n       \r\n        private WebView mWebview;\r\n    \r\n        @Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\t\tsetContentView(R.layout.pantalla);\r\n    \t\t\tgetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);  \r\n    \t\t\t\r\n    \t\r\n    \t\t\t \r\n    \t\t\tmWebview  = new WebView(this);\r\n    \t\t\tmWebview.setWebViewClient(new WebViewClient()); \r\n    \t        mWebview.getSettings().setJavaScriptEnabled(true); // Enable JavaScript.\r\n    \r\n    \t        mWebview .loadUrl(&quot;http://www.myweb.com&quot;);\r\n    \t        setContentView(mWebview );\r\n    \t       \r\n        }\r\n\r\n**Potential Solution**\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             // Do something with the event here.\r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            if (Uri.parse(url).getHost().equals(&quot;www.google.com&quot;)) {\r\n                 // This is my web site, so do not override; let my WebView load the page.\r\n                 return false;\r\n            }\r\n    \r\n            // Reject everything else.\r\n            return true;\r\n        }\r\n    }\r\n\r\nI don&#180;t know how I have to use this in my code. For example, if I want to block this url `http://www.myweb.com/pepito`. How can I do this with this code? Thank you.","title":"Block a URL in a WebView on Android","body":"<p>I want to block a link from loading within a Webview.</p>\n<p><strong>Code</strong></p>\n<pre><code>public class WebMy extends Activity {\n\n\n   \n    private WebView mWebview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n            setContentView(R.layout.pantalla);\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);  \n            \n    \n             \n            mWebview  = new WebView(this);\n            mWebview.setWebViewClient(new WebViewClient()); \n            mWebview.getSettings().setJavaScriptEnabled(true); // Enable JavaScript.\n\n            mWebview .loadUrl(&quot;http://www.myweb.com&quot;);\n            setContentView(mWebview );\n           \n    }\n</code></pre>\n<p><strong>Potential Solution</strong></p>\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\n         // Do something with the event here.\n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        if (Uri.parse(url).getHost().equals(&quot;www.google.com&quot;)) {\n             // This is my web site, so do not override; let my WebView load the page.\n             return false;\n        }\n\n        // Reject everything else.\n        return true;\n    }\n}\n</code></pre>\n<p>I don´t know how I have to use this in my code. For example, if I want to block this url <code>http://www.myweb.com/pepito</code>. How can I do this with this code? Thank you.</p>\n"},{"tags":["java","algorithm","arraylist","data-structures"],"answers":[{"tags":[],"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643098654,"creation_date":1643098473,"answer_id":70845347,"question_id":70845233,"body_markdown":"The only problem I see is that you are expected to calculate `long` result, but are calculating intermediary values (e.g. total sum) in `int`. This can result in type overflow.\r\n\r\nBasically substitute `mapToInt` with `mapToLong` and use rather `longValue`.\r\n\r\nPS: Otherwise I like your solution in the sense it is concise and utilizes APIs well. If you are after pixel perfect performance you might want to spare unnecessary cycles over the list, but this is really extreme optimization (as your solution is also linear in complexity) and I doubt it will ever make a difference.\r\n","title":"Min Max Problem:Short Solution falling short of 3 test cases out of 15","body":"<p>The only problem I see is that you are expected to calculate <code>long</code> result, but are calculating intermediary values (e.g. total sum) in <code>int</code>. This can result in type overflow.</p>\n<p>Basically substitute <code>mapToInt</code> with <code>mapToLong</code> and use rather <code>longValue</code>.</p>\n<p>PS: Otherwise I like your solution in the sense it is concise and utilizes APIs well. If you are after pixel perfect performance you might want to spare unnecessary cycles over the list, but this is really extreme optimization (as your solution is also linear in complexity) and I doubt it will ever make a difference.</p>\n"}],"owner":{"account_id":5950834,"reputation":45,"user_id":4678940,"display_name":"user4678940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70845347,"answer_count":1,"score":1,"last_activity_date":1643100992,"creation_date":1643097887,"question_id":70845233,"body_markdown":"There is a very famous and simple problem on hacker-rank that goes as follows:\r\n\r\n&gt; Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\r\n&gt; Example arr = [1,3,5,7,9]\r\n&gt; The minimum sum is 1+3+5+7=16 and the maximum sum is 3+5+7+9=24. \r\n\r\nNow, i solved this problem as follows:\r\n\r\n \r\n\r\n    long max = Collections.max(intList);\r\n         long min = Collections.min(intList);\r\n         long sum = intList.stream().mapToInt(Integer::intValue).sum();\r\n         System.out.println((sum-max)+&quot; &quot;+(sum-min));\r\n\r\nIt works, but is falling short of 3 test cases. Any suggestions, or improvements that can be done? I am trying to improve my programming skills and this is something that i dont want to let go till i completely understand.\r\n\r\nThanks!\r\n\r\n**EDIT**\r\n\r\nHere is the improved code and the answer to anyone who is looking :\r\n\r\n    long max = Collections.max(arr);\r\n             long min = Collections.min(arr);\r\n             long sum = arr.stream().mapToLong(Integer::longValue).sum();\r\n             System.out.println((sum-max)+&quot; &quot;+(sum-min));","title":"Min Max Problem:Short Solution falling short of 3 test cases out of 15","body":"<p>There is a very famous and simple problem on hacker-rank that goes as follows:</p>\n<blockquote>\n<p>Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\nExample arr = [1,3,5,7,9]\nThe minimum sum is 1+3+5+7=16 and the maximum sum is 3+5+7+9=24.</p>\n</blockquote>\n<p>Now, i solved this problem as follows:</p>\n<pre><code>long max = Collections.max(intList);\n     long min = Collections.min(intList);\n     long sum = intList.stream().mapToInt(Integer::intValue).sum();\n     System.out.println((sum-max)+&quot; &quot;+(sum-min));\n</code></pre>\n<p>It works, but is falling short of 3 test cases. Any suggestions, or improvements that can be done? I am trying to improve my programming skills and this is something that i dont want to let go till i completely understand.</p>\n<p>Thanks!</p>\n<p><strong>EDIT</strong></p>\n<p>Here is the improved code and the answer to anyone who is looking :</p>\n<pre><code>long max = Collections.max(arr);\n         long min = Collections.min(arr);\n         long sum = arr.stream().mapToLong(Integer::longValue).sum();\n         System.out.println((sum-max)+&quot; &quot;+(sum-min));\n</code></pre>\n"},{"tags":["java","jdbc","transactions","h2","isolation-level"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1422255156,"post_id":28145713,"comment_id":44663343,"body_markdown":"FWIW, in the source code (https://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/jdbc/JdbcConnection.java#711) SERIALIZABLE does the same thing as REPEATABLE_READ. So maybe it&#39;s not supported.","body":"FWIW, in the source code (<a href=\"https://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/jdbc/JdbcConnection.java#711\" rel=\"nofollow noreferrer\">code.google.com/p/h2database/source/browse/trunk/h2/src/mai&zwnj;&#8203;n/&hellip;</a>) SERIALIZABLE does the same thing as REPEATABLE_READ. So maybe it&#39;s not supported."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1422255324,"post_id":28145713,"comment_id":44663397,"body_markdown":"OTOH. the documentation (http://www.h2database.com/html/advanced.html#transaction_isolation) states that SERIALIZABLE is supported: When using the isolation level &#39;serializable&#39;, dirty reads, non-repeatable reads, and phantom reads are prohibited.","body":"OTOH. the documentation (<a href=\"http://www.h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#transaction_isolation</a>) states that SERIALIZABLE is supported: When using the isolation level &#39;serializable&#39;, dirty reads, non-repeatable reads, and phantom reads are prohibited."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1422255487,"post_id":28145713,"comment_id":44663440,"body_markdown":"Does it help if set the transaction isolation level for both connections? Or on a third connection before you start either of the two? Shouldn&#39;t this be a global setting?","body":"Does it help if set the transaction isolation level for both connections? Or on a third connection before you start either of the two? Shouldn&#39;t this be a global setting?"},{"owner":{"account_id":454795,"reputation":7624,"user_id":852604,"accept_rate":100,"display_name":"Andrey Agibalov"},"score":0,"creation_date":1422255894,"post_id":28145713,"comment_id":44663519,"body_markdown":"`SERIALIZABLE` includes `REPEATABLE_READ`, so it&#39;s fair enough if H2 handles `REPEATABLE_READ` as `SERIALIZABLE`. Setting both the connections to `SERIALIZABLE` didn&#39;t help. This indeed should not be a global setting: the app may be happy enough with the default `READ_COMMITTED` for some operations, but for others it might want `SERIALIZABLE`.","body":"<code>SERIALIZABLE</code> includes <code>REPEATABLE_READ</code>, so it&#39;s fair enough if H2 handles <code>REPEATABLE_READ</code> as <code>SERIALIZABLE</code>. Setting both the connections to <code>SERIALIZABLE</code> didn&#39;t help. This indeed should not be a global setting: the app may be happy enough with the default <code>READ_COMMITTED</code> for some operations, but for others it might want <code>SERIALIZABLE</code>."},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":2,"creation_date":1441808470,"post_id":28145713,"comment_id":52824979,"body_markdown":"From http://www.h2database.com/html/advanced.html#transaction_isolation\n`Please note MVCC is enabled in version 1.4.x by default, when using the MVStore. In this case, table level locking is not used. Instead, rows are locked for update, and *read committed* is used in all cases (changing the isolation level has no effect)`. Looks like read commited is used by default in MVCC.","body":"From <a href=\"http://www.h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#transaction_isolation</a> <code>Please note MVCC is enabled in version 1.4.x by default, when using the MVStore. In this case, table level locking is not used. Instead, rows are locked for update, and *read committed* is used in all cases (changing the isolation level has no effect)</code>. Looks like read commited is used by default in MVCC."},{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":0,"creation_date":1505020081,"post_id":28145713,"comment_id":79237087,"body_markdown":"Seems like hsqldb is the better embedded Java database regarding MVCC support -- it supports REPEATABLE_READS == SERIALIZABLE : http://hsqldb.org/doc/guide/guide.html#snc_tx_mvcc","body":"Seems like hsqldb is the better embedded Java database regarding MVCC support -- it supports REPEATABLE_READS == SERIALIZABLE : <a href=\"http://hsqldb.org/doc/guide/guide.html#snc_tx_mvcc\" rel=\"nofollow noreferrer\">hsqldb.org/doc/guide/guide.html#snc_tx_mvcc</a>"}],"answers":[{"tags":[],"owner":{"account_id":5046292,"reputation":64,"user_id":4052187,"display_name":"Martin Goik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442333168,"creation_date":1442333168,"answer_id":32590729,"question_id":28145713,"body_markdown":"In presence of pessimistic locking when enabling isolation level &quot;serializable&quot; your first two read operations on connection 1 and 2 respectively should result in two shared (write) locks.\r\n\r\nThe subsequent `insertOne(connection1)` needs a range lock being incompatible with a shared lock from an alien transaction 2. Thus connection 1 will go into &quot;wait&quot; (polling) state. Without using `setQueryTimeout(1)` your application would hang.\r\n\r\nWith respect to https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads you should alter your application (not using `setQueryTimeout`) to allow for the following schedule, either by manually starting two JVM instances or by using different threads:\r\n\r\n    Transaction 1 | Transaction 2 | Comment\r\n    --------------+---------------+--------\r\n        -         | selectAll     | Acquiring shared lock in T2\r\n    insert        |     -         | Unable to acquire range lock\r\n      wait        |     -         | T1 polling\r\n      wait        | selectAll     | T2 gets identical row set\r\n      wait        |     -         |\r\n      wait        | commit        | T2 releasing shared lock\r\n                  |               | T1 resuming insert\r\n    commit        |               |\r\n\r\nIn case &quot;serializable&quot; is not being supported you will see:\r\n\r\n    Transaction 1 | Transaction 2 | Comment\r\n    --------------+---------------+--------\r\n        -         | selectAll     | Acquiring shared lock in T2\r\n    insert        |     -         | No need for range lock due to missing support\r\n    commit        |               | T1 releasing all locks\r\n                  | selectAll     | T2 gets different row set\r\n","title":"Does H2 support the serializable isolation level?","body":"<p>In presence of pessimistic locking when enabling isolation level \"serializable\" your first two read operations on connection 1 and 2 respectively should result in two shared (write) locks.</p>\n\n<p>The subsequent <code>insertOne(connection1)</code> needs a range lock being incompatible with a shared lock from an alien transaction 2. Thus connection 1 will go into \"wait\" (polling) state. Without using <code>setQueryTimeout(1)</code> your application would hang.</p>\n\n<p>With respect to <a href=\"https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads</a> you should alter your application (not using <code>setQueryTimeout</code>) to allow for the following schedule, either by manually starting two JVM instances or by using different threads:</p>\n\n<pre><code>Transaction 1 | Transaction 2 | Comment\n--------------+---------------+--------\n    -         | selectAll     | Acquiring shared lock in T2\ninsert        |     -         | Unable to acquire range lock\n  wait        |     -         | T1 polling\n  wait        | selectAll     | T2 gets identical row set\n  wait        |     -         |\n  wait        | commit        | T2 releasing shared lock\n              |               | T1 resuming insert\ncommit        |               |\n</code></pre>\n\n<p>In case \"serializable\" is not being supported you will see:</p>\n\n<pre><code>Transaction 1 | Transaction 2 | Comment\n--------------+---------------+--------\n    -         | selectAll     | Acquiring shared lock in T2\ninsert        |     -         | No need for range lock due to missing support\ncommit        |               | T1 releasing all locks\n              | selectAll     | T2 gets different row set\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100969,"creation_date":1643100969,"answer_id":70845835,"question_id":28145713,"body_markdown":"as office doc [set_lock_mode][1] ,`To enable, execute the SQL statement SET LOCK_MODE 1\r\nor append ;LOCK_MODE=1 to the database URL: jdbc:h2:~/test;LOCK_MODE=1`\r\n\r\n\r\n  [1]: https://www.h2database.com/html/commands.html#set_lock_mode","title":"Does H2 support the serializable isolation level?","body":"<p>as office doc <a href=\"https://www.h2database.com/html/commands.html#set_lock_mode\" rel=\"nofollow noreferrer\">set_lock_mode</a> ,<code>To enable, execute the SQL statement SET LOCK_MODE 1 or append ;LOCK_MODE=1 to the database URL: jdbc:h2:~/test;LOCK_MODE=1</code></p>\n"}],"owner":{"account_id":454795,"reputation":7624,"user_id":852604,"accept_rate":100,"display_name":"Andrey Agibalov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3946,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32590729,"answer_count":2,"score":9,"last_activity_date":1643100969,"creation_date":1422254613,"question_id":28145713,"body_markdown":"Wikipedia describes the Phantom read phenomenon as:\r\n&gt; A phantom read occurs when, in the course of a transaction, two identical queries are executed, and the collection of rows returned by the second query is different from the first.\r\n\r\nIt also states that with serializable isolation level, Phantom reads are not possible. I&#39;m trying to make sure it is so in H2, but either I expect the wrong thing, or I do a wrong thing, or something is wrong with H2. Nevertheless, here&#39;s the code:\r\n\r\n\ttry(Connection connection1 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n\t    connection1.setAutoCommit(false);\r\n\r\n\t    try(Connection connection2 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n\t        connection2.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\r\n\t        connection2.setAutoCommit(false);\r\n\r\n\t        assertEquals(0, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select\r\n\r\n\t        insertOne(connection1);                  // B: insert\r\n\r\n\t        assertEquals(1, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select\r\n\r\n\t        connection1.commit();                    // B: commit for insert\r\n\r\n\t        assertEquals(1, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select  ???\r\n\t    }\r\n\t}\r\n\r\nHere, I start 2 concurrent connections and configure one of them to have serializable transaction isolation. After it, I make sure that both don&#39;t see any data. Then, using `connection1`, I insert a new row. After it, I make sure that this new row is visible to `connection1`, but not to `connection2`. Then, I commit the change and expect the `connection2` to keep being unaware of this change. Briefly, I expect all my `A: select` queries to return the same set of rows (an empty set in my case).\r\n\r\nBut this does not happen: the very last `selectAll(connection2)` returns the row that has just been inserted in a parallel connection. **Am I wrong and this behavior is expected, or is it something wrong with H2?**\r\n\r\nHere are the helper methods:\r\n\r\n    public void setUpDatabase() throws SQLException {\r\n        try(Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n            try (PreparedStatement s = connection.prepareStatement(&quot;create table Notes(text varchar(256) not null)&quot;)) {\r\n                s.executeUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static int selectAll(Connection connection) throws SQLException {\r\n        int count = 0;\r\n        try (PreparedStatement s = connection.prepareStatement(&quot;select * from Notes&quot;)) {\r\n            s.setQueryTimeout(1);\r\n            try (ResultSet resultSet = s.executeQuery()) {\r\n                while (resultSet.next()) {\r\n                    ++count;\r\n                }\r\n            }\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    private static void insertOne(Connection connection) throws SQLException {\r\n        try (PreparedStatement s = connection.prepareStatement(&quot;insert into Notes(text) values(?)&quot;)) {\r\n            s.setString(1, &quot;hello&quot;);\r\n            s.setQueryTimeout(1);\r\n            s.executeUpdate();\r\n        }\r\n    }\r\n\r\nThe complete test is here: https://gist.github.com/loki2302/26f3c052f7e73fd22604\r\n\r\nI use H2 1.4.185.","title":"Does H2 support the serializable isolation level?","body":"<p>Wikipedia describes the Phantom read phenomenon as:</p>\n\n<blockquote>\n  <p>A phantom read occurs when, in the course of a transaction, two identical queries are executed, and the collection of rows returned by the second query is different from the first.</p>\n</blockquote>\n\n<p>It also states that with serializable isolation level, Phantom reads are not possible. I'm trying to make sure it is so in H2, but either I expect the wrong thing, or I do a wrong thing, or something is wrong with H2. Nevertheless, here's the code:</p>\n\n<pre><code>try(Connection connection1 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n    connection1.setAutoCommit(false);\n\n    try(Connection connection2 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n        connection2.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\n        connection2.setAutoCommit(false);\n\n        assertEquals(0, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select\n\n        insertOne(connection1);                  // B: insert\n\n        assertEquals(1, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select\n\n        connection1.commit();                    // B: commit for insert\n\n        assertEquals(1, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select  ???\n    }\n}\n</code></pre>\n\n<p>Here, I start 2 concurrent connections and configure one of them to have serializable transaction isolation. After it, I make sure that both don't see any data. Then, using <code>connection1</code>, I insert a new row. After it, I make sure that this new row is visible to <code>connection1</code>, but not to <code>connection2</code>. Then, I commit the change and expect the <code>connection2</code> to keep being unaware of this change. Briefly, I expect all my <code>A: select</code> queries to return the same set of rows (an empty set in my case).</p>\n\n<p>But this does not happen: the very last <code>selectAll(connection2)</code> returns the row that has just been inserted in a parallel connection. <strong>Am I wrong and this behavior is expected, or is it something wrong with H2?</strong></p>\n\n<p>Here are the helper methods:</p>\n\n<pre><code>public void setUpDatabase() throws SQLException {\n    try(Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n        try (PreparedStatement s = connection.prepareStatement(\"create table Notes(text varchar(256) not null)\")) {\n            s.executeUpdate();\n        }\n    }\n}\n\nprivate static int selectAll(Connection connection) throws SQLException {\n    int count = 0;\n    try (PreparedStatement s = connection.prepareStatement(\"select * from Notes\")) {\n        s.setQueryTimeout(1);\n        try (ResultSet resultSet = s.executeQuery()) {\n            while (resultSet.next()) {\n                ++count;\n            }\n        }\n    }\n\n    return count;\n}\n\nprivate static void insertOne(Connection connection) throws SQLException {\n    try (PreparedStatement s = connection.prepareStatement(\"insert into Notes(text) values(?)\")) {\n        s.setString(1, \"hello\");\n        s.setQueryTimeout(1);\n        s.executeUpdate();\n    }\n}\n</code></pre>\n\n<p>The complete test is here: <a href=\"https://gist.github.com/loki2302/26f3c052f7e73fd22604\">https://gist.github.com/loki2302/26f3c052f7e73fd22604</a></p>\n\n<p>I use H2 1.4.185.</p>\n"},{"tags":["java","hibernate","relationship","hibernate-onetomany"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1609239140,"post_id":65489503,"comment_id":115785136,"body_markdown":"It&#39;s not clear. Do you want the `JComboBox` to display the list of the different &quot;unit&quot; names?","body":"It&#39;s not clear. Do you want the <code>JComboBox</code> to display the list of the different &quot;unit&quot; names?"},{"owner":{"account_id":17566349,"reputation":11,"user_id":12743089,"display_name":"sarifsidik"},"score":0,"creation_date":1609249731,"post_id":65489503,"comment_id":115789086,"body_markdown":"I want to store 2 related entities while the unit_id item is not the unit name required","body":"I want to store 2 related entities while the unit_id item is not the unit name required"}],"owner":{"account_id":17566349,"reputation":11,"user_id":12743089,"display_name":"sarifsidik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643100481,"creation_date":1609231472,"question_id":65489503,"body_markdown":"I have entity items and units, items are related one to many in the unit, I have difficulty entering data into items, where items need a primary key on the unit, while I don&#39;t understand how Jcombobox works in getting primary keys or IDs.\r\n\r\n**item class entity**\r\n\r\n    @Entity()\r\n    @Table(name = &quot;item&quot;)\r\n    public class Item extends Record{   \r\n    \r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String name;\r\n    \r\n        @Column(unique = false, nullable = false, length = 50)\r\n        public double stock; // untuk menambah terus data jumlah  item dari supplier\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;unit_id&quot;)\r\n        public Unit unit;\r\n\r\n**class unit entity**\r\n\r\n    @Entity()\r\n    @Table(name = &quot;unit&quot;)\r\n    public class Unit extends Record {\r\n    \r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String name;\r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String description;\r\n        \r\n      @OneToMany(mappedBy = &quot;unit&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH,\r\n          CascadeType.REFRESH })\r\n        private List&lt;Item&gt; item;\r\n\r\n**methode load data for combobox**\r\n\r\n   \r\n\r\n     private void getUnitItem() {\r\n    \r\n            List EntityUnitItem = new Unit(databaseSession).all();\r\n            for (Iterator iterator = EntityUnitItem.iterator(); iterator.hasNext();) {\r\n    \r\n                Model.Entity.Unit getUnitItem = (Model.Entity.Unit) iterator.next();\r\n                cmbSatuanItem.addItem(getUnitItem.name);\r\n    \r\n            }\r\n           \r\n        }\r\n\r\n\r\n**how do you save one to many on the button?**\r\n","title":"How to retrieve primary key id from Jcombobox in java with hibernate which has one to many relation?","body":"<p>I have entity items and units, items are related one to many in the unit, I have difficulty entering data into items, where items need a primary key on the unit, while I don't understand how Jcombobox works in getting primary keys or IDs.</p>\n<p><strong>item class entity</strong></p>\n<pre><code>@Entity()\n@Table(name = &quot;item&quot;)\npublic class Item extends Record{   \n\n    @Column(unique = false, nullable = false, length = 100)\n    public String name;\n\n    @Column(unique = false, nullable = false, length = 50)\n    public double stock; // untuk menambah terus data jumlah  item dari supplier\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;unit_id&quot;)\n    public Unit unit;\n</code></pre>\n<p><strong>class unit entity</strong></p>\n<pre><code>@Entity()\n@Table(name = &quot;unit&quot;)\npublic class Unit extends Record {\n\n    @Column(unique = false, nullable = false, length = 100)\n    public String name;\n    @Column(unique = false, nullable = false, length = 100)\n    public String description;\n    \n  @OneToMany(mappedBy = &quot;unit&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH,\n      CascadeType.REFRESH })\n    private List&lt;Item&gt; item;\n</code></pre>\n<p><strong>methode load data for combobox</strong></p>\n<pre><code> private void getUnitItem() {\n\n        List EntityUnitItem = new Unit(databaseSession).all();\n        for (Iterator iterator = EntityUnitItem.iterator(); iterator.hasNext();) {\n\n            Model.Entity.Unit getUnitItem = (Model.Entity.Unit) iterator.next();\n            cmbSatuanItem.addItem(getUnitItem.name);\n\n        }\n       \n    }\n</code></pre>\n<p><strong>how do you save one to many on the button?</strong></p>\n"},{"tags":["java","list","api","aem","sightly"],"comments":[{"owner":{"account_id":10143808,"reputation":310,"user_id":7492640,"display_name":"Pasan Jayawickrama"},"score":0,"creation_date":1596121391,"post_id":63175443,"comment_id":111715864,"body_markdown":"Possibly duplicate. You have to use write a method to get the size if you can. \n https://stackoverflow.com/questions/36178191/how-to-get-count-of-object-array-in-sightly","body":"Possibly duplicate. You have to use write a method to get the size if you can.   <a href=\"https://stackoverflow.com/questions/36178191/how-to-get-count-of-object-array-in-sightly\" title=\"how to get count of object array in sightly\">stackoverflow.com/questions/36178191/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596123391,"creation_date":1596123391,"answer_id":63176608,"question_id":63175443,"body_markdown":"Since [Resource#listChildren](https://sling.apache.org/apidocs/sling11/org/apache/sling/api/resource/Resource.html#listChildren--) will return an `Iterator&lt;Resource&gt;`, you will not be able to get the size of the list of children from there.\r\n\r\nHTL does not offer a way to get the list size either, however it allows getting [interesting properties of the current item](https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#226-list):\r\n\r\n```\r\n* index: zero-based counter (0..length-1);\r\n* count: one-based counter (1..length);\r\n* first: true for the first element being iterated;\r\n* middle: true if element being iterated is neither the first nor the last;\r\n* last: true for the last element being iterated;\r\n* odd: true if count is odd;\r\n* even: true if count is even.\r\n```","title":"How to find the size of a sightly list","body":"<p>Since <a href=\"https://sling.apache.org/apidocs/sling11/org/apache/sling/api/resource/Resource.html#listChildren--\" rel=\"nofollow noreferrer\">Resource#listChildren</a> will return an <code>Iterator&lt;Resource&gt;</code>, you will not be able to get the size of the list of children from there.</p>\n<p>HTL does not offer a way to get the list size either, however it allows getting <a href=\"https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#226-list\" rel=\"nofollow noreferrer\">interesting properties of the current item</a>:</p>\n<pre><code>* index: zero-based counter (0..length-1);\n* count: one-based counter (1..length);\n* first: true for the first element being iterated;\n* middle: true if element being iterated is neither the first nor the last;\n* last: true for the last element being iterated;\n* odd: true if count is odd;\n* even: true if count is even.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5997756,"reputation":1,"user_id":4711956,"display_name":"Sushant Patil"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1596376479,"creation_date":1596376479,"answer_id":63216820,"question_id":63175443,"body_markdown":"Inside your list, you can use things like ${itemList.count}, but this only works inside data-sly-list:\r\n\r\n&lt;ul data-sly-list=&quot;${currentPage.listChildren}&quot;&gt;\r\n\r\n&lt;li&gt;${item.name} Page ${itemList.index} of ${itemList.count}&lt;/li&gt;\r\n\r\n&lt;/ul&gt; \r\n\r\n","title":"How to find the size of a sightly list","body":"<p>Inside your list, you can use things like ${itemList.count}, but this only works inside data-sly-list:</p>\n\n<li>${item.name} Page ${itemList.index} of ${itemList.count}</li>\n \n"},{"tags":[],"owner":{"account_id":6905902,"reputation":636,"user_id":5303797,"display_name":"Anmol Bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597142110,"creation_date":1597142110,"answer_id":63356401,"question_id":63175443,"body_markdown":" 1. Try using a variable name for the list.\r\n 2. If you have a list inside a list(nested list), it is always recommended to use a variable name.\r\n\r\n&gt;     &lt;sly data-sly-list.item=&quot;resource.listChildren&quot;&gt;\r\n&gt;         &lt;sly data-sly-list.itemList=&quot;item.listChildren&quot;&gt;\r\n&gt;             ${itemList.length} / #I need the total count of item here#\r\n&gt;         &lt;/sly&gt;\r\n&gt;     &lt;/sly&gt;\r\n\r\nTry using length instead of size and count. \r\nIt works for me.\r\n\r\n","title":"How to find the size of a sightly list","body":"<ol>\n<li>Try using a variable name for the list.</li>\n<li>If you have a list inside a list(nested list), it is always recommended to use a variable name.</li>\n</ol>\n<blockquote>\n<pre><code>&lt;sly data-sly-list.item=&quot;resource.listChildren&quot;&gt;\n    &lt;sly data-sly-list.itemList=&quot;item.listChildren&quot;&gt;\n        ${itemList.length} / #I need the total count of item here#\n    &lt;/sly&gt;\n&lt;/sly&gt;\n</code></pre>\n</blockquote>\n<p>Try using length instead of size and count.\nIt works for me.</p>\n"},{"tags":[],"owner":{"account_id":19937810,"reputation":11,"user_id":14610128,"display_name":"Saiteja Gokada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604982829,"creation_date":1604981795,"answer_id":64762815,"question_id":63175443,"body_markdown":"` &lt;sly data-sly-list.demo=“${demo123.items.listChildren}”&gt;\r\n &lt;sly data-sly-test=“${demoList.last}”&gt;  ${demoList.count}&lt;/sly&gt; `\r\n\r\nTest condition-&gt; demoList.last -&gt; demoList.count ","title":"How to find the size of a sightly list","body":"<p><code>&lt;sly data-sly-list.demo=“${demo123.items.listChildren}”&gt; &lt;sly data-sly-test=“${demoList.last}”&gt;  ${demoList.count}&lt;/sly&gt;</code></p>\n<p>Test condition-&gt; demoList.last -&gt; demoList.count</p>\n"},{"tags":[],"owner":{"account_id":3379757,"reputation":640,"user_id":2837056,"accept_rate":50,"display_name":"MaynorSong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606252707,"creation_date":1606252707,"answer_id":64994975,"question_id":63175443,"body_markdown":"Java File:\r\n\r\n    private List&lt;MycustomObject&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n\r\nHTL:\r\n\r\n    &lt;sly data-sly-use.myCustomModel=&quot;my.custom.location.myCustomModel&quot;&gt; \r\n     ${myCustomModel.myList.size}","title":"How to find the size of a sightly list","body":"<p>Java File:</p>\n<pre><code>private List&lt;MycustomObject&gt; myList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>HTL:</p>\n<pre><code>&lt;sly data-sly-use.myCustomModel=&quot;my.custom.location.myCustomModel&quot;&gt; \n ${myCustomModel.myList.size}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1152489,"reputation":745,"user_id":1957498,"display_name":"Praveen Poonia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100391,"creation_date":1643100391,"answer_id":70845714,"question_id":63175443,"body_markdown":"We can count number of items in sightly/HTL like -\r\n\r\n    &lt;sly data-sly-test.totalItems=&quot;${0}&quot;&gt;&lt;/sly&gt;\r\n    &lt;sly data-sly-list.child=&quot;${resource.listChildren}&quot;&gt;\r\n        &lt;sly data-sly-test.totalItems=&quot;${ childList.count }&quot;&gt;&lt;/sly&gt;\r\n    &lt;/sly&gt;\r\n\r\n`${ totalItems }` - this will give you the number of items in the list.","title":"How to find the size of a sightly list","body":"<p>We can count number of items in sightly/HTL like -</p>\n<pre><code>&lt;sly data-sly-test.totalItems=&quot;${0}&quot;&gt;&lt;/sly&gt;\n&lt;sly data-sly-list.child=&quot;${resource.listChildren}&quot;&gt;\n    &lt;sly data-sly-test.totalItems=&quot;${ childList.count }&quot;&gt;&lt;/sly&gt;\n&lt;/sly&gt;\n</code></pre>\n<p><code>${ totalItems }</code> - this will give you the number of items in the list.</p>\n"}],"owner":{"account_id":10534269,"reputation":21,"user_id":7762666,"display_name":"Wulala2006"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1643100391,"creation_date":1596119672,"question_id":63175443,"body_markdown":"I need to check the size of list in sightly. I have tried resource.size, item.size, itemList.size, resource.listChildren.size, item.listChildren.size, but none of these works.\r\n\r\nI&#39;m planning to use Java USE-API, but I have no clue how to start.\r\n\r\n```\r\n&lt;sly data-sly-list=&quot;resource.listChildren&quot;&gt;\r\n    &lt;sly data-sly-list=&quot;item.listChildren&quot;&gt;\r\n        ${itemList.count} / #I need the total count of item here#\r\n    &lt;/sly&gt;\r\n&lt;/sly&gt;\r\n\r\n```\r\n\r\n","title":"How to find the size of a sightly list","body":"<p>I need to check the size of list in sightly. I have tried resource.size, item.size, itemList.size, resource.listChildren.size, item.listChildren.size, but none of these works.</p>\n<p>I'm planning to use Java USE-API, but I have no clue how to start.</p>\n<pre><code>&lt;sly data-sly-list=&quot;resource.listChildren&quot;&gt;\n    &lt;sly data-sly-list=&quot;item.listChildren&quot;&gt;\n        ${itemList.count} / #I need the total count of item here#\n    &lt;/sly&gt;\n&lt;/sly&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","spring-camel","camel-rest"],"answers":[{"tags":[],"owner":{"account_id":15462565,"reputation":132,"user_id":11154866,"display_name":"lbma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643100350,"creation_date":1643100350,"answer_id":70845706,"question_id":70718529,"body_markdown":"You could try something along the lines of:\r\n\r\n```\r\n        onException(HttpOperationFailedException.class)     \r\n\t\t\t\t.choice()\r\n\t\t \t\t\t.when(simple(&quot;${exception.getStatusCode()} == &#39;400&#39;&quot;))\r\n                     //doSomething\r\n                    .endChoice()\r\n\t\t \t\t\t.when(simple(&quot;${exception.getStatusCode()} == &#39;500&#39;&quot;))\r\n                     //doSomething\r\n\t\t \t\t\t.otherwise()\r\n                    //retries\r\n                    .endChoice()\r\n\t\t\t \t.end()\r\n        ;\r\n```\r\n","title":"How to handle 4xx(without retry) and 5xx (with retry) exceptions in camel","body":"<p>You could try something along the lines of:</p>\n<pre><code>        onException(HttpOperationFailedException.class)     \n                .choice()\n                    .when(simple(&quot;${exception.getStatusCode()} == '400'&quot;))\n                     //doSomething\n                    .endChoice()\n                    .when(simple(&quot;${exception.getStatusCode()} == '500'&quot;))\n                     //doSomething\n                    .otherwise()\n                    //retries\n                    .endChoice()\n                .end()\n        ;\n</code></pre>\n"}],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70845706,"answer_count":1,"score":0,"last_activity_date":1643100350,"creation_date":1642215114,"question_id":70718529,"body_markdown":"I&#39;ve a camel route which makes API request, the external service may though 4xx or 5xx. I have written `HttpOperationFailedException` handler to handle all HTTP related exception and I&#39;m retrying all the Http exceptions irrespective of whether its client side or server side exceptions. I would like to handle them in a way, I need to avoid the reties for client side exceptions.\r\n\r\nHere is my route and exception code, looks like. Can anyone suggest best way to handle these scenarios ?\r\n\r\n```\r\n\r\n  onException(HttpOperationFailedException.class)\r\n        .handled(true)\r\n        .redeliveryDelay(100)\r\n        .maximumRedeliveries(2)\r\n        .log(&quot;${exception} Http Communication Exception while making API request&quot;)\r\n        .end();\r\n\r\n\r\nfrom(&quot;direct:start&quot;)\r\n        .routeId(&quot;restApi&quot;)\r\n        .process(exchange -&gt; exchange.getIn().setBody(\r\n            new RequestBody(\r\n                &quot;${headers.camelFileName}&quot;)))\r\n        .marshal()\r\n        .json(JsonLibrary.Gson)\r\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n        .setHeader(&quot;Content-Type&quot;,constant(&quot;application/json&quot;))\r\n        .to(url)\r\n        .end();\r\n```","title":"How to handle 4xx(without retry) and 5xx (with retry) exceptions in camel","body":"<p>I've a camel route which makes API request, the external service may though 4xx or 5xx. I have written <code>HttpOperationFailedException</code> handler to handle all HTTP related exception and I'm retrying all the Http exceptions irrespective of whether its client side or server side exceptions. I would like to handle them in a way, I need to avoid the reties for client side exceptions.</p>\n<p>Here is my route and exception code, looks like. Can anyone suggest best way to handle these scenarios ?</p>\n<pre><code>\n  onException(HttpOperationFailedException.class)\n        .handled(true)\n        .redeliveryDelay(100)\n        .maximumRedeliveries(2)\n        .log(&quot;${exception} Http Communication Exception while making API request&quot;)\n        .end();\n\n\nfrom(&quot;direct:start&quot;)\n        .routeId(&quot;restApi&quot;)\n        .process(exchange -&gt; exchange.getIn().setBody(\n            new RequestBody(\n                &quot;${headers.camelFileName}&quot;)))\n        .marshal()\n        .json(JsonLibrary.Gson)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(&quot;Content-Type&quot;,constant(&quot;application/json&quot;))\n        .to(url)\n        .end();\n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":4767563,"reputation":121,"user_id":3853296,"display_name":"Takatam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1441282820,"creation_date":1441282820,"answer_id":32375455,"question_id":32359969,"body_markdown":"JasperFillManager likes to get a data source, even when you don&#39;t really have any. You could try adding an empty data source as a third parameter to JasperFillManager.fillReport:\r\n\r\n    JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros, new JREmptyDataSource());","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>JasperFillManager likes to get a data source, even when you don't really have any. You could try adding an empty data source as a third parameter to JasperFillManager.fillReport:</p>\n\n<pre><code>JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(\"example.jasper\"), parametros, new JREmptyDataSource());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16332826,"reputation":852,"user_id":11795725,"display_name":"nipun-kavishka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100318,"creation_date":1643100318,"answer_id":70845697,"question_id":32359969,"body_markdown":"Check whether the parameters which you are passing to the `JasperFillManager.fillReport()` is not null or empty. If it is empty or null then you will receive this same error.\r\n\r\n     JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>Check whether the parameters which you are passing to the <code>JasperFillManager.fillReport()</code> is not null or empty. If it is empty or null then you will receive this same error.</p>\n<pre><code> JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);\n</code></pre>\n"}],"owner":{"account_id":1974002,"reputation":504,"user_id":1772219,"display_name":"Eduardo Meneses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32375455,"answer_count":2,"score":4,"last_activity_date":1643100318,"creation_date":1441216337,"question_id":32359969,"body_markdown":"When I try printing the Jasper report it gets me the message:  &quot;net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0&quot;.\r\n\r\nCode:\r\n\r\n        try {\r\n            JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);\r\n            JasperExportManager.exportReportToPdf(impressao);\r\n\r\n            JasperPrintManager.printReport(impressao, true);  \r\n        } catch (JRException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nReport:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;base-estadual&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;9cbb7afc-abb5-4207-a29b-a0c7adde7df6&quot;&gt;\r\n\t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.y&quot; value=&quot;250&quot;/&gt;\r\n\t&lt;import value=&quot;com.myproject.ed.*&quot;/&gt;\r\n\t&lt;parameter name=&quot;PATH_IMAGENS&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;queryString&gt;\r\n\t\t&lt;![CDATA[]]&gt;\r\n\t&lt;/queryString&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band height=&quot;63&quot;&gt;\r\n\t\t\t&lt;textField evaluationTime=&quot;Report&quot;&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;515&quot; y=&quot;16&quot; width=&quot;40&quot; height=&quot;20&quot; uuid=&quot;3892152b-6880-41da-bbc7-7bf79588061d&quot;/&gt;\r\n\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot; &quot; + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t&lt;/textField&gt;\r\n\t\t\t&lt;textElement textAlignment=&quot;Right&quot;/&gt;\r\n\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot;Page &quot;+$V{PAGE_NUMBER}+&quot; of&quot;]]&gt;/textFieldExpression&gt;\r\n\t\t\t&lt;/textField&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/pageHeader&gt;\r\n&lt;/jasperReport&gt;\r\n\r\nCould someone help me to figure out why is it happening?","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>When I try printing the Jasper report it gets me the message:  \"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0\".</p>\n\n<p>Code:</p>\n\n<pre><code>    try {\n        JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(\"example.jasper\"), parametros);\n        JasperExportManager.exportReportToPdf(impressao);\n\n        JasperPrintManager.printReport(impressao, true);  \n    } catch (JRException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Report:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"base-estadual\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"9cbb7afc-abb5-4207-a29b-a0c7adde7df6\"&gt;\n&lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n&lt;property name=\"ireport.x\" value=\"0\"/&gt;\n&lt;property name=\"ireport.y\" value=\"250\"/&gt;\n&lt;import value=\"com.myproject.ed.*\"/&gt;\n&lt;parameter name=\"PATH_IMAGENS\" class=\"java.lang.String\"/&gt;\n&lt;queryString&gt;\n    &lt;![CDATA[]]&gt;\n&lt;/queryString&gt;\n&lt;background&gt;\n    &lt;band splitType=\"Stretch\"/&gt;\n&lt;/background&gt;\n&lt;pageHeader&gt;\n    &lt;band height=\"63\"&gt;\n        &lt;textField evaluationTime=\"Report\"&gt;\n            &lt;reportElement x=\"515\" y=\"16\" width=\"40\" height=\"20\" uuid=\"3892152b-6880-41da-bbc7-7bf79588061d\"/&gt;\n            &lt;textFieldExpression&gt;&lt;![CDATA[\" \" + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\n        &lt;/textField&gt;\n        &lt;textElement textAlignment=\"Right\"/&gt;\n        &lt;textFieldExpression&gt;&lt;![CDATA[\"Page \"+$V{PAGE_NUMBER}+\" of\"]]&gt;/textFieldExpression&gt;\n        &lt;/textField&gt;\n    &lt;/band&gt;\n&lt;/pageHeader&gt;\n</code></pre>\n\n<p></p>\n\n<p>Could someone help me to figure out why is it happening?</p>\n"},{"tags":["java","batch-file","javafx","cmd","jar"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643049350,"creation_date":1643048929,"answer_id":70838702,"question_id":70838556,"body_markdown":"It should be sufficient to just change the version number in the header of your FXML file.\r\n\r\nI am talking about a line similar to this one:\r\n\r\n    &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n\r\n","title":"How do I ignore warnings when running a jar?","body":"<p>It should be sufficient to just change the version number in the header of your FXML file.</p>\n<p>I am talking about a line similar to this one:</p>\n<pre><code>&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":24040611,"reputation":11,"user_id":18020344,"display_name":"missingSemicolon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643100210,"creation_date":1643048190,"question_id":70838556,"body_markdown":"So I run my jar using a batch script with the following line:\r\n\r\n    start &quot;&quot; &quot;..\\jdk-11.0.13.8-hotspot\\bin\\java.exe&quot; -jar .\\myjar.jar\r\n\r\nThen I get the following output which I would like to ignore:\r\n\r\n&gt;     Jan 24, 2022 1:04:57 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\n&gt;     WARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 11.0.2\r\n\r\nP.S. I need to use Java 11 and I am not sure if switching to JavaFX 11 will cause issues. Everything seems to be working fine so I would like to just ignore this warning and that first line. I would appreciate any help!\r\n\r\n","title":"How do I ignore warnings when running a jar?","body":"<p>So I run my jar using a batch script with the following line:</p>\n<pre><code>start &quot;&quot; &quot;..\\jdk-11.0.13.8-hotspot\\bin\\java.exe&quot; -jar .\\myjar.jar\n</code></pre>\n<p>Then I get the following output which I would like to ignore:</p>\n<blockquote>\n<pre><code>Jan 24, 2022 1:04:57 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 11.0.2\n</code></pre>\n</blockquote>\n<p>P.S. I need to use Java 11 and I am not sure if switching to JavaFX 11 will cause issues. Everything seems to be working fine so I would like to just ignore this warning and that first line. I would appreciate any help!</p>\n"},{"tags":["java","exception","collections","nullpointerexception"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1643050275,"post_id":70838768,"comment_id":125232181,"body_markdown":"Do you have a more precise stack trace?  How do you know which things are and aren&#39;t null?  (This may well be the result of a poor design choice by Java, depending on your version.)","body":"Do you have a more precise stack trace?  How do you know which things are and aren&#39;t null?  (This may well be the result of a poor design choice by Java, depending on your version.)"},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1643091116,"post_id":70838768,"comment_id":125241147,"body_markdown":"@louis-wasserman updated question to include the exception stack trace and jdk version I am currently using is  `jdk-14.0.2`.","body":"@louis-wasserman updated question to include the exception stack trace and jdk version I am currently using is  <code>jdk-14.0.2</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643100125,"post_id":70838768,"comment_id":125243575,"body_markdown":"Removed the `[java-8]` tag, as JDK 14 clearly is not Java&#160;8.","body":"Removed the <code>[java-8]</code> tag, as JDK 14 clearly is not Java 8."}],"answers":[{"tags":[],"owner":{"account_id":24041320,"reputation":31,"user_id":18020932,"display_name":"Pedro Rausch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643051685,"creation_date":1643051685,"answer_id":70839270,"question_id":70838768,"body_markdown":"From the API Documentation of [java.util.List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)):\r\n\r\n&gt; Some list implementations have restrictions on the elements that they may contain. For example, some implementations prohibit null elements, and some have restrictions on the types of their elements. Attempting to add an ineligible element throws an unchecked exception, typically NullPointerException or ClassCastException. Attempting to query the presence of an ineligible element may throw an exception, or it may simply return false; some implementations will exhibit the former behavior and some will exhibit the latter. More generally, attempting an operation on an ineligible element whose completion would not result in the insertion of an ineligible element into the list may throw an exception or it may succeed, at the option of the implementation. Such exceptions are marked as &quot;optional&quot; in the specification for this interface.\r\n\r\n\r\n&gt; boolean contains(Object o)\r\n&gt; \r\n&gt; Returns ```true``` if this list contains the specified element. More formally, returns true if and only if this list contains at least one element e such that Objects.equals(o, e).\r\n&gt; \r\n&gt; Specified by:\r\n&gt; \r\n&gt; contains in interface Collection&lt;E&gt;\r\n&gt; \r\n&gt; Parameters:\r\n&gt; \r\n&gt; o - element whose presence in this list is to be tested\r\n&gt; \r\n&gt; Returns:\r\n&gt; \r\n&gt; true if this list contains the specified element\r\n&gt; \r\n&gt; Throws:\r\n&gt; \r\n&gt; ClassCastException - if the type of the specified element is incompatible with this list (optional)\r\n&gt; \r\n&gt; **NullPointerException - if the specified element is null and this list does not permit null elements (optional)**\r\n\r\nIt seems that your ```countriesList``` is of a List type that doesn&#39;t accept ```null``` elements, such as those produced by ```List.of``` or ```List.copyOf```\r\n\r\n\r\n","title":"Why list.contains(null) throwing null pointer exception?","body":"<p>From the API Documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">java.util.List</a>:</p>\n<blockquote>\n<p>Some list implementations have restrictions on the elements that they may contain. For example, some implementations prohibit null elements, and some have restrictions on the types of their elements. Attempting to add an ineligible element throws an unchecked exception, typically NullPointerException or ClassCastException. Attempting to query the presence of an ineligible element may throw an exception, or it may simply return false; some implementations will exhibit the former behavior and some will exhibit the latter. More generally, attempting an operation on an ineligible element whose completion would not result in the insertion of an ineligible element into the list may throw an exception or it may succeed, at the option of the implementation. Such exceptions are marked as &quot;optional&quot; in the specification for this interface.</p>\n</blockquote>\n<blockquote>\n<p>boolean contains(Object o)</p>\n<p>Returns <code>true</code> if this list contains the specified element. More formally, returns true if and only if this list contains at least one element e such that Objects.equals(o, e).</p>\n<p>Specified by:</p>\n<p>contains in interface Collection</p>\n<p>Parameters:</p>\n<p>o - element whose presence in this list is to be tested</p>\n<p>Returns:</p>\n<p>true if this list contains the specified element</p>\n<p>Throws:</p>\n<p>ClassCastException - if the type of the specified element is incompatible with this list (optional)</p>\n<p><strong>NullPointerException - if the specified element is null and this list does not permit null elements (optional)</strong></p>\n</blockquote>\n<p>It seems that your <code>countriesList</code> is of a List type that doesn't accept <code>null</code> elements, such as those produced by <code>List.of</code> or <code>List.copyOf</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1643093425,"creation_date":1643092958,"answer_id":70844383,"question_id":70838768,"body_markdown":"&gt; Why `list.contains(null)` throwing null pointer exception?\r\n\r\nBecause this is what the specs say can happen.\r\n\r\nThe specific reasoning for the `List.of(...)` case is as follows:\r\n\r\n1.  The `List.of` methods are [specified][1] as producing [unmodifiable lists][2].\r\n\r\n2.  Unmodifiable lists are [specified][2] to not permit `null` elements:\r\n\r\n    &gt; &quot;They disallow null elements. Attempts to create them with `null` elements result in `NullPointerException`.&quot;\r\n\r\n3.  The [javadoc][3] for `List.contains` states:\r\n\r\n    &gt; &quot;Throws: `NullPointerException` - if the specified element is `null` and this list does not permit `null` elements.\r\n\r\nIn other words, what you are seeing is *specified* behavior ... and not a result of an incorrect or capricious implementation.\r\n\r\nFor the case where you are searching `countryList` ... it will depend on the actual `List` implementation class.  But there is a clear expectation in the `List` spec for `contains` that *some* kinds of list may throw an NPE if you try to search for `null`.\r\n\r\n&lt;sup&gt;(Whether that is a &quot;poor design choice&quot; or not is a matter of opinion.  But it is moot.  The `List` design choices were made a long time ago and changing them would now would be too disruptive to contemplate.  Besides, I doubt that you would convince the current Java design team that `null` values in collection types are a good idea.)&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)","title":"Why list.contains(null) throwing null pointer exception?","body":"<blockquote>\n<p>Why <code>list.contains(null)</code> throwing null pointer exception?</p>\n</blockquote>\n<p>Because this is what the specs say can happen.</p>\n<p>The specific reasoning for the <code>List.of(...)</code> case is as follows:</p>\n<ol>\n<li><p>The <code>List.of</code> methods are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E)\" rel=\"noreferrer\">specified</a> as producing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\">unmodifiable lists</a>.</p>\n</li>\n<li><p>Unmodifiable lists are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\">specified</a> to not permit <code>null</code> elements:</p>\n<blockquote>\n<p>&quot;They disallow null elements. Attempts to create them with <code>null</code> elements result in <code>NullPointerException</code>.&quot;</p>\n</blockquote>\n</li>\n<li><p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"noreferrer\">javadoc</a> for <code>List.contains</code> states:</p>\n<blockquote>\n<p>&quot;Throws: <code>NullPointerException</code> - if the specified element is <code>null</code> and this list does not permit <code>null</code> elements.</p>\n</blockquote>\n</li>\n</ol>\n<p>In other words, what you are seeing is <em>specified</em> behavior ... and not a result of an incorrect or capricious implementation.</p>\n<p>For the case where you are searching <code>countryList</code> ... it will depend on the actual <code>List</code> implementation class.  But there is a clear expectation in the <code>List</code> spec for <code>contains</code> that <em>some</em> kinds of list may throw an NPE if you try to search for <code>null</code>.</p>\n<p><sup>(Whether that is a &quot;poor design choice&quot; or not is a matter of opinion.  But it is moot.  The <code>List</code> design choices were made a long time ago and changing them would now would be too disruptive to contemplate.  Besides, I doubt that you would convince the current Java design team that <code>null</code> values in collection types are a good idea.)</sup></p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8074,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70844383,"answer_count":2,"score":2,"last_activity_date":1643100074,"creation_date":1643049262,"question_id":70838768,"body_markdown":"I have `List&lt;Long&gt; countriesList` which contains `Long` values which are country ids.\r\n\r\nNow I am iterating over some `List&lt;UserRequests&gt;` list by using `streams`.\r\n\r\n    userRequests.stream().\r\n        forEach(userRequest-&gt;\r\n        {\r\n            UserData=userRepository.findById(userRequest.getId()); //fine\r\n            if (CollectionUtils.isNotEmpty(countriesList) &amp;&amp; countriesList.contains(userRequest.getCountryId()))//getting NPE here\r\n            {\r\n                //do some operation\r\n            }\r\n        });\r\n\r\nI tried to debug by evaluating individual statements.\r\nI have made sure `countriesList` have some data\r\nFirst part `CollectionUtils.isNotEmpty(countriesList)` is returning `true`.\r\n`userRequest` is also not null but `userRequest.getCountryId()` is null.\r\nAnd when I evaluated `countriesList.contains(userRequest.getCountryId())`, I am getting `Null pointer exception` here. why not `false` ?\r\nI am confused what wrong am I doing.\r\nIs default `list.contains(null)` behaviour is like that only or is it because I am calling it within `stream()`?\r\n\r\nJust for simplification I have created simple list and compared with `null`.\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            List&lt;Long&gt; longList = List.of(1L, 2L, 3L);\r\n            System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\r\n        }\r\n    }\r\nThis is the exception I am getting:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:222)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableList.indexOf(ImmutableCollections.java:166)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableList.contains(ImmutableCollections.java:197)\r\n    \tat com.test.Test.main(Test.java:26)\r\n\r\nBut If I do:\r\n\r\n        List&lt;Long&gt; longList = new ArrayList&lt;&gt;();\r\n        longList.add(1L);\r\n        System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\r\n\r\nWhy it is printing `false`? Why no `NullPointerException` here?","title":"Why list.contains(null) throwing null pointer exception?","body":"<p>I have <code>List&lt;Long&gt; countriesList</code> which contains <code>Long</code> values which are country ids.</p>\n<p>Now I am iterating over some <code>List&lt;UserRequests&gt;</code> list by using <code>streams</code>.</p>\n<pre><code>userRequests.stream().\n    forEach(userRequest-&gt;\n    {\n        UserData=userRepository.findById(userRequest.getId()); //fine\n        if (CollectionUtils.isNotEmpty(countriesList) &amp;&amp; countriesList.contains(userRequest.getCountryId()))//getting NPE here\n        {\n            //do some operation\n        }\n    });\n</code></pre>\n<p>I tried to debug by evaluating individual statements.\nI have made sure <code>countriesList</code> have some data\nFirst part <code>CollectionUtils.isNotEmpty(countriesList)</code> is returning <code>true</code>.\n<code>userRequest</code> is also not null but <code>userRequest.getCountryId()</code> is null.\nAnd when I evaluated <code>countriesList.contains(userRequest.getCountryId())</code>, I am getting <code>Null pointer exception</code> here. why not <code>false</code> ?\nI am confused what wrong am I doing.\nIs default <code>list.contains(null)</code> behaviour is like that only or is it because I am calling it within <code>stream()</code>?</p>\n<p>Just for simplification I have created simple list and compared with <code>null</code>.</p>\n<pre><code>class Test {\n    public static void main(String[] args) {\n        List&lt;Long&gt; longList = List.of(1L, 2L, 3L);\n        System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\n    }\n}\n</code></pre>\n<p>This is the exception I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:222)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableList.indexOf(ImmutableCollections.java:166)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableList.contains(ImmutableCollections.java:197)\n    at com.test.Test.main(Test.java:26)\n</code></pre>\n<p>But If I do:</p>\n<pre><code>    List&lt;Long&gt; longList = new ArrayList&lt;&gt;();\n    longList.add(1L);\n    System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\n</code></pre>\n<p>Why it is printing <code>false</code>? Why no <code>NullPointerException</code> here?</p>\n"},{"tags":["java","mysql","import","twitter","coordinates"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643100020,"creation_date":1643100020,"answer_id":70845634,"question_id":70844564,"body_markdown":"Your query expects 4 parameters to be passed, but in your Java code the 4th one is set only when `if` condition is met. In the opposite case the last parameter is not passed resulting in exception.\r\n\r\nIf the case when the last parameter is not passed is legal then I&#39;d suggest to create one more query with only three params and use it.","title":"How to import data with getGeoLocation twitter4j to MySQL using Java Netbeans","body":"<p>Your query expects 4 parameters to be passed, but in your Java code the 4th one is set only when <code>if</code> condition is met. In the opposite case the last parameter is not passed resulting in exception.</p>\n<p>If the case when the last parameter is not passed is legal then I'd suggest to create one more query with only three params and use it.</p>\n"}],"owner":{"account_id":6413543,"reputation":83,"user_id":4972408,"accept_rate":86,"display_name":"razin kac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70845634,"answer_count":1,"score":1,"last_activity_date":1643100020,"creation_date":1643094142,"question_id":70844564,"body_markdown":"I want to execute my Twitter crawling using Java importing data to MySQL. My problem is when I set parameter for getGeoLocation, which contained latitude and longitude, then I found something error.\r\n\r\n    GeoLocation geoLocation = status.getGeoLocation();\r\n        \r\n        stmt = conne.prepareStatement(&quot;INSERT INTO tweet(ID,date,name,coordinate) VALUES (?,?,?,?)&quot;);\r\n\r\n        stmt.setInt(1, (int) status.getId());\r\n        stmt.setString(2, getTimeStamp());\r\n        stmt.setString(3, status.getUser().getScreenName());\r\n     if (status.getGeoLocation() != null){\r\n        stmt.setDouble(4, status.getGeoLocation().getLongitude() &amp;&amp; status.getGeoLocation().getLatitude());                                                                           \r\n      }  \r\n\r\n\r\n\r\n\r\n\r\nThe output said it is hard to specify for parameter 4 (geoLocation):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s8gaf.jpg\r\n\r\nMany thanks for any comment!","title":"How to import data with getGeoLocation twitter4j to MySQL using Java Netbeans","body":"<p>I want to execute my Twitter crawling using Java importing data to MySQL. My problem is when I set parameter for getGeoLocation, which contained latitude and longitude, then I found something error.</p>\n<pre><code>GeoLocation geoLocation = status.getGeoLocation();\n    \n    stmt = conne.prepareStatement(&quot;INSERT INTO tweet(ID,date,name,coordinate) VALUES (?,?,?,?)&quot;);\n\n    stmt.setInt(1, (int) status.getId());\n    stmt.setString(2, getTimeStamp());\n    stmt.setString(3, status.getUser().getScreenName());\n if (status.getGeoLocation() != null){\n    stmt.setDouble(4, status.getGeoLocation().getLongitude() &amp;&amp; status.getGeoLocation().getLatitude());                                                                           \n  }  \n</code></pre>\n<p>The output said it is hard to specify for parameter 4 (geoLocation):</p>\n<p><a href=\"https://i.stack.imgur.com/s8gaf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8gaf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Many thanks for any comment!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8340,"page":1652,"page_size":100}
