{"items":[{"tags":["java","maven","plugins","pom.xml"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1691061046,"post_id":76827493,"comment_id":135442012,"body_markdown":"What about `mvn clean`?","body":"What about <code>mvn clean</code>?"},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691061151,"post_id":76827493,"comment_id":135442029,"body_markdown":"I&#39;ve tried it, but didnt work. In which phase should i do this?","body":"I&#39;ve tried it, but didnt work. In which phase should i do this?"},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691062397,"post_id":76827493,"comment_id":135442304,"body_markdown":"Or can i modify css file in target folder with maven plugin?","body":"Or can i modify css file in target folder with maven plugin?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1691075043,"post_id":76827493,"comment_id":135445271,"body_markdown":"@AlbertAlbatros I cannot really follow you. `mvn clean` deletes all files in the target folder.","body":"@AlbertAlbatros I cannot really follow you. <code>mvn clean</code> deletes all files in the target folder."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691077948,"post_id":76827493,"comment_id":135445914,"body_markdown":"Why is the maven-resources-plugin explicitly configured instead of using the default...","body":"Why is the maven-resources-plugin explicitly configured instead of using the default..."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1691129772,"post_id":76827493,"comment_id":135452616,"body_markdown":"@JFabianMeier yes but i want to delete only that one file","body":"@JFabianMeier yes but i want to delete only that one file"}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691060748,"creation_date":1691060748,"question_id":76827493,"body_markdown":"is it possible to to delete files from target folder in maven project? I have swagger CSS file and i want to replace it with my modified version. When i try to copy .txt file to target folder it works, but when i change to .css file its not replacing the old file. Is it even possible to copy CSS files with maven plugin? My plugin: \r\n\r\n       &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-resource-one&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;target/${project.artifactId}-${project.version}/css&lt;/outputDirectory&gt;\r\n                  &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;main.css&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/resources&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\nThanks in advance for every answer.\r\n","title":"Deleting files from target folder with maven plugin","body":"<p>is it possible to to delete files from target folder in maven project? I have swagger CSS file and i want to replace it with my modified version. When i try to copy .txt file to target folder it works, but when i change to .css file its not replacing the old file. Is it even possible to copy CSS files with maven plugin? My plugin:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resource-one&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;target/${project.artifactId}-${project.version}/css&lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;main.css&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Thanks in advance for every answer.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691047745,"post_id":76825544,"comment_id":135439168,"body_markdown":"Well that error means that your Java code (not Javascript) does not compile - you need to sort out the compilation problems.","body":"Well that error means that your Java code (not Javascript) does not compile - you need to sort out the compilation problems."},{"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"score":0,"creation_date":1691048403,"post_id":76825544,"comment_id":135439329,"body_markdown":"I tried but after complete installation of jar files, the jar file get unresolved at the time of running the java code.","body":"I tried but after complete installation of jar files, the jar file get unresolved at the time of running the java code."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691053947,"post_id":76825544,"comment_id":135440488,"body_markdown":"Your Java code is invalid: in `Mysecondclass.java`, line 11 there is a syntax error that prevents this part to be compiled. Maybe you just missed to add the import statement for `WebDriver`. It&#39;s hard to help without the code. So please show your code.","body":"Your Java code is invalid: in <code>Mysecondclass.java</code>, line 11 there is a syntax error that prevents this part to be compiled. Maybe you just missed to add the import statement for <code>WebDriver</code>. It&#39;s hard to help without the code. So please show your code."},{"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"score":0,"creation_date":1691058286,"post_id":76825544,"comment_id":135441474,"body_markdown":"The code is added in the details of questions. Thank you all of you for helping me.","body":"The code is added in the details of questions. Thank you all of you for helping me."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1691058842,"post_id":76825544,"comment_id":135441593,"body_markdown":"You mention Eclipse not finding jar files. Do you have the jars that include the the `webdriver` and `chromedriver` classes? You haven&#39;t imported them into the class shown above so is another class in your code referencing them? At a minimum you will need to import those classes into `Mysecondclass` and fix the Eclipse project setup so it can find the classes at compile and run time.","body":"You mention Eclipse not finding jar files. Do you have the jars that include the the <code>webdriver</code> and <code>chromedriver</code> classes? You haven&#39;t imported them into the class shown above so is another class in your code referencing them? At a minimum you will need to import those classes into <code>Mysecondclass</code> and fix the Eclipse project setup so it can find the classes at compile and run time."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691059859,"post_id":76825544,"comment_id":135441796,"body_markdown":"After `package package1;` the lines `import org.openqa.selenium.WebDriver;` and `import org.openqa.selenium.chrome.ChromeDriver;` are missing.","body":"After <code>package package1;</code> the lines <code>import org.openqa.selenium.WebDriver;</code> and <code>import org.openqa.selenium.chrome.ChromeDriver;</code> are missing."}],"owner":{"account_id":29149896,"reputation":11,"user_id":22330976,"display_name":"vishwa netsol"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691060312,"creation_date":1691045620,"question_id":76825544,"body_markdown":"```java\r\npackage package1;\r\n\r\npublic class Mysecondclass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;E:\\\\selenium servers files\\\\chromedriver.exe&quot;);\r\n\t\t WebDriver driver=new ChromeDriver();\r\n\t\t driver.get(&quot;https://api.whitelion.in/api&quot;);\r\n\t\t\r\n    }\r\n\r\n}\r\n```\r\nThe JAR file is not able to find webdriver as well as chromedriver error arise after running the code. The error is like \r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tWebDriver cannot be resolved to a type\r\n\tChromeDriver cannot be resolved to a type\r\n\r\n\tat javanew/package1.Mysecondclass.main(Mysecondclass.java:11)\r\n```\r\nI expected to run the code and provide me the error log of particular website and to resolve it so that website project can upload live.","title":"How to solve error with java.lang.error with &quot;mysecondclass.java:11&quot;?","body":"<pre class=\"lang-java prettyprint-override\"><code>package package1;\n\npublic class Mysecondclass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;E:\\\\selenium servers files\\\\chromedriver.exe&quot;);\n         WebDriver driver=new ChromeDriver();\n         driver.get(&quot;https://api.whitelion.in/api&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>The JAR file is not able to find webdriver as well as chromedriver error arise after running the code. The error is like</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    WebDriver cannot be resolved to a type\n    ChromeDriver cannot be resolved to a type\n\n    at javanew/package1.Mysecondclass.main(Mysecondclass.java:11)\n</code></pre>\n<p>I expected to run the code and provide me the error log of particular website and to resolve it so that website project can upload live.</p>\n"},{"tags":["java","file-io","performance"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1291309612,"post_id":4337485,"comment_id":4715646,"body_markdown":"the key question, is the data in a binary or text format? This is not clear in your question.","body":"the key question, is the data in a binary or text format? This is not clear in your question."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1291309007,"creation_date":1291308681,"answer_id":4337543,"question_id":4337485,"body_markdown":"If you want to randomly access data, you need to be able to determine where to start and where to finish.  With a text format this can be tricky and you may have to read all the previous lines/text to find the one you want.\r\n\r\nWith binary formats, you may be able to calculate exactly where you want to read, but you need to know how the number was encoded. e.g. was it big endian or little endian?\r\n\r\nScanner may not be optimal for text, and useless for binary data, but if may be more than fast enough.\r\n\r\nMuch of the time taken to scan a large file is the time it takes to read off disk (assuming it won&#39;t fit in memory) you can speed up this significantly if the file compresses well, e.g. text full of numbers does. Instead of taking 20 seconds to read it might take only 2 seconds if compressed. (And it might fit in the OS file cache)","title":"RandomAccessFile readInt","body":"<p>If you want to randomly access data, you need to be able to determine where to start and where to finish.  With a text format this can be tricky and you may have to read all the previous lines/text to find the one you want.</p>\n\n<p>With binary formats, you may be able to calculate exactly where you want to read, but you need to know how the number was encoded. e.g. was it big endian or little endian?</p>\n\n<p>Scanner may not be optimal for text, and useless for binary data, but if may be more than fast enough.</p>\n\n<p>Much of the time taken to scan a large file is the time it takes to read off disk (assuming it won't fit in memory) you can speed up this significantly if the file compresses well, e.g. text full of numbers does. Instead of taking 20 seconds to read it might take only 2 seconds if compressed. (And it might fit in the OS file cache)</p>\n"},{"tags":[],"owner":{"account_id":680124,"reputation":19,"user_id":528307,"display_name":"Michael Krussel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1291309349,"creation_date":1291309349,"answer_id":4337655,"question_id":4337485,"body_markdown":"A possible reason for the large number may be due to byte ordering.  Java uses Big Endian by default when reading from a channel.  If the file you are reading from is Little Endian, then small numbers will become large, because the least significant byte becomes the most significant byte.\r\n\r\nYou can change the byte ordering of ByteBuffer by using the order method.","title":"RandomAccessFile readInt","body":"<p>A possible reason for the large number may be due to byte ordering.  Java uses Big Endian by default when reading from a channel.  If the file you are reading from is Little Endian, then small numbers will become large, because the least significant byte becomes the most significant byte.</p>\n\n<p>You can change the byte ordering of ByteBuffer by using the order method.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291310939,"creation_date":1291310939,"answer_id":4337914,"question_id":4337485,"body_markdown":"This all depends on how the numbers are stored.\r\n\r\nI guess the short answer is: One way or another, you have to know where the number starts and where it ends, and whether it is stored as text or in binary, and if it&#39;s in binary what the byte order is, i.e. little-endian or big-endian.\r\n\r\nIf it&#39;s stored as text, build a String from the digits, then call Integer.parseInt on that String. (Or if it&#39;s a floating point number, Double.parseDouble, etc for other data types.)\r\n\r\nIf it&#39;s stored as a binary integer, then read the bytes in to an array, or read them one by one, then multiply by powers of 256 and add together.\r\n\r\nFor example, suppose you have a four-byte number in little-endian order. You read it into a byte array of size 4. Then:\r\n\r\n    byte[] incoming=new byte[4];\r\n    file.read(incoming);\r\n    int n=0;\r\n    for (int p=0;p&lt;4;++p)\r\n      n=n*256+incoming[p];\r\n    return n;\r\n","title":"RandomAccessFile readInt","body":"<p>This all depends on how the numbers are stored.</p>\n\n<p>I guess the short answer is: One way or another, you have to know where the number starts and where it ends, and whether it is stored as text or in binary, and if it's in binary what the byte order is, i.e. little-endian or big-endian.</p>\n\n<p>If it's stored as text, build a String from the digits, then call Integer.parseInt on that String. (Or if it's a floating point number, Double.parseDouble, etc for other data types.)</p>\n\n<p>If it's stored as a binary integer, then read the bytes in to an array, or read them one by one, then multiply by powers of 256 and add together.</p>\n\n<p>For example, suppose you have a four-byte number in little-endian order. You read it into a byte array of size 4. Then:</p>\n\n<pre><code>byte[] incoming=new byte[4];\nfile.read(incoming);\nint n=0;\nfor (int p=0;p&lt;4;++p)\n  n=n*256+incoming[p];\nreturn n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291311220,"creation_date":1291311220,"answer_id":4337963,"question_id":4337485,"body_markdown":"If your numbers are stored as text readInt() won&#39;t work.  You must parse the file, it is the only way.","title":"RandomAccessFile readInt","body":"<p>If your numbers are stored as text readInt() won't work.  You must parse the file, it is the only way.</p>\n"}],"owner":{"account_id":209359,"reputation":1128,"user_id":460329,"accept_rate":42,"display_name":"mr. Vachovsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4337543,"answer_count":4,"score":0,"last_activity_date":1691060222,"creation_date":1291308326,"question_id":4337485,"body_markdown":"How to read numbers from a file? When I use the readInt method, I get a big number, and it is not equal to the number from the file. How to fix it?\r\n\r\nScanner is not good idea, because file contains more then 1000 millions numbers, it will take a very long time.\r\n\r\nThis is a text file. The file contains numbers divided by space symbols. for example ( test.txt ) \r\n\r\n```none\r\n1 2 4 -4004 15458 8876 \r\n```\r\n\r\n```java\r\npublic static void readByMemoryMappedFile(int buffer[], String filename) throws IOException {\r\n  int count = 0;\r\n  RandomAccessFile raf = new RandomAccessFile(filename, &quot;r&quot;);\r\n  try {\r\n\r\n    MappedByteBuffer mapFile = raf.getChannel().map(MapMode.READ_ONLY, 0, raf.length());\r\n\r\n    StringBuilder b = new StringBuilder();\r\n    try {\r\n      while (mapFile.hasRemaining()) {\r\n        byte read = mapFile.get();\r\n        if (read == &#39; &#39; &amp;&amp; b.length() &gt; 0) {\r\n          buffer[count++] = mapFile.getInt();//Integer.parseInt(b.toString());\r\n          b.delete(0, b.length());\r\n        } else {\r\n          b.append((char) read);\r\n        }\r\n      }\r\n    } catch (BufferUnderflowException e) {\r\n      // Всё, файл закончился\r\n    }\r\n    if (b.length() &gt; 0) {\r\n      buffer[count++] = Integer.parseInt(b.toString());\r\n    }\r\n  } finally {\r\n    raf.close();\r\n  }\r\n}\r\n\r\nSo, I attached a report:\r\n\r\n```none\r\n// operation: time\r\nreading: 39719   // t0\r\nreading: 28297   // t1\r\nreading: 56719   // t2\r\nreading: 125735  // t3\r\nreading: 199000  // t4\r\n```\r\n\r\nt0 &lt; t1 &lt; t2 &lt; t3 &lt; t4  \r\n\r\nHow to change behavior of my program that get this: t0 ~ t1 ~ t2 ~ t3 ~ t4?","title":"RandomAccessFile readInt","body":"<p>How to read numbers from a file? When I use the readInt method, I get a big number, and it is not equal to the number from the file. How to fix it?</p>\n<p>Scanner is not good idea, because file contains more then 1000 millions numbers, it will take a very long time.</p>\n<p>This is a text file. The file contains numbers divided by space symbols. for example ( test.txt )</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 4 -4004 15458 8876 \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void readByMemoryMappedFile(int buffer[], String filename) throws IOException {\n  int count = 0;\n  RandomAccessFile raf = new RandomAccessFile(filename, &quot;r&quot;);\n  try {\n\n    MappedByteBuffer mapFile = raf.getChannel().map(MapMode.READ_ONLY, 0, raf.length());\n\n    StringBuilder b = new StringBuilder();\n    try {\n      while (mapFile.hasRemaining()) {\n        byte read = mapFile.get();\n        if (read == ' ' &amp;&amp; b.length() &gt; 0) {\n          buffer[count++] = mapFile.getInt();//Integer.parseInt(b.toString());\n          b.delete(0, b.length());\n        } else {\n          b.append((char) read);\n        }\n      }\n    } catch (BufferUnderflowException e) {\n      // Всё, файл закончился\n    }\n    if (b.length() &gt; 0) {\n      buffer[count++] = Integer.parseInt(b.toString());\n    }\n  } finally {\n    raf.close();\n  }\n}\n\nSo, I attached a report:\n\n```none\n// operation: time\nreading: 39719   // t0\nreading: 28297   // t1\nreading: 56719   // t2\nreading: 125735  // t3\nreading: 199000  // t4\n</code></pre>\n<p>t0 &lt; t1 &lt; t2 &lt; t3 &lt; t4</p>\n<p>How to change behavior of my program that get this: t0 ~ t1 ~ t2 ~ t3 ~ t4?</p>\n"},{"tags":["java","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":8609535,"reputation":398,"user_id":6448412,"display_name":"Laugslander"},"score":0,"creation_date":1605636897,"post_id":64880738,"comment_id":114710033,"body_markdown":"This post might be helpful: https://stackoverflow.com/questions/17327956/testing-scheduled-in-spring","body":"This post might be helpful: <a href=\"https://stackoverflow.com/questions/17327956/testing-scheduled-in-spring\" title=\"testing scheduled in spring\">stackoverflow.com/questions/17327956/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3755816,"reputation":183,"user_id":3122205,"display_name":"Ben Ooms"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1605829451,"creation_date":1605829451,"answer_id":64921709,"question_id":64880738,"body_markdown":"Well if you really want to test the execution you will have to spend new years eve monitoring the application ;&lt;)\r\n\r\nIf you want to test that the scheduling has been setup properly and that your task is scheduled then you can autowire the ScheduledStaskHolder and query it for your task.\r\nAssuming this implementation:\r\n````\r\npackage nl.benooms.scheduledannotationplayground;\r\n@Service\r\npublic class FixedDateSchedule {\r\n    @Scheduled(cron = &quot;0 0 0 1 1 *&quot;)\r\n    public void OnceAYearCron() {\r\n        System.out.println(&quot;yearly&quot;);\r\n    }\r\n}\r\n````\r\nThen the test could be:\r\n````\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\nclass FixedDateScheduleTest {\r\n\r\n    @Autowired\r\n    private ScheduledTaskHolder scheduledTaskHolder;\r\n\r\n    @Test\r\n    public void testYearlyCronTaskScheduled() {\r\n        Set&lt;ScheduledTask&gt; scheduledTasks = scheduledTaskHolder.getScheduledTasks();\r\n        scheduledTasks.forEach(scheduledTask -&gt; scheduledTask.getTask().getRunnable().getClass().getDeclaredMethods());\r\n        long count = scheduledTasks.stream()\r\n                .filter(scheduledTask -&gt; scheduledTask.getTask() instanceof CronTask)\r\n                .map(scheduledTask -&gt; (CronTask) scheduledTask.getTask())\r\n                .filter(cronTask -&gt; cronTask.getExpression().equals(&quot;0 0 0 1 1 *&quot;) &amp;&amp; cronTask.toString().equals(&quot;nl.benooms.scheduledannotationplayground.FixedDateSchedule.OnceAYearCron&quot;))\r\n                .count();\r\n        assertThat(count).isEqualTo(1L);\r\n    }\r\n}\r\n````\r\n\r\nTest will fail if:\r\n- @Scheduled or @EnableScheduling is not set \r\n- the cron expression is not exact\r\n- the class and method name don&#39;t correspond\r\nPlease note that I would format the test in a more readable format if not a sample\r\n\r\n","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>Well if you really want to test the execution you will have to spend new years eve monitoring the application ;&lt;)</p>\n<p>If you want to test that the scheduling has been setup properly and that your task is scheduled then you can autowire the ScheduledStaskHolder and query it for your task.\nAssuming this implementation:</p>\n<pre><code>package nl.benooms.scheduledannotationplayground;\n@Service\npublic class FixedDateSchedule {\n    @Scheduled(cron = &quot;0 0 0 1 1 *&quot;)\n    public void OnceAYearCron() {\n        System.out.println(&quot;yearly&quot;);\n    }\n}\n</code></pre>\n<p>Then the test could be:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\nclass FixedDateScheduleTest {\n\n    @Autowired\n    private ScheduledTaskHolder scheduledTaskHolder;\n\n    @Test\n    public void testYearlyCronTaskScheduled() {\n        Set&lt;ScheduledTask&gt; scheduledTasks = scheduledTaskHolder.getScheduledTasks();\n        scheduledTasks.forEach(scheduledTask -&gt; scheduledTask.getTask().getRunnable().getClass().getDeclaredMethods());\n        long count = scheduledTasks.stream()\n                .filter(scheduledTask -&gt; scheduledTask.getTask() instanceof CronTask)\n                .map(scheduledTask -&gt; (CronTask) scheduledTask.getTask())\n                .filter(cronTask -&gt; cronTask.getExpression().equals(&quot;0 0 0 1 1 *&quot;) &amp;&amp; cronTask.toString().equals(&quot;nl.benooms.scheduledannotationplayground.FixedDateSchedule.OnceAYearCron&quot;))\n                .count();\n        assertThat(count).isEqualTo(1L);\n    }\n}\n</code></pre>\n<p>Test will fail if:</p>\n<ul>\n<li>@Scheduled or @EnableScheduling is not set</li>\n<li>the cron expression is not exact</li>\n<li>the class and method name don't correspond\nPlease note that I would format the test in a more readable format if not a sample</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12135313,"reputation":35,"user_id":8860945,"display_name":"Raphael De Lio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629457294,"creation_date":1629447123,"answer_id":68858957,"question_id":64880738,"body_markdown":"I was trying to do exactly what Ben Ooms suggested and it wasn&#39;t working for me. \r\n\r\nI hadn&#39;t set my scheduled tasks using the annotation, I had implemented a workaround to get them scheduled using an autowired &quot;TaskScheduler&quot; and I wasn&#39;t able to find my scheduled tasks in the ScheduledTaskHolder, although it was working. \r\n\r\nTurns out I had to declare a Bean like:\r\n```\r\n@Configuration\r\nclass SchedulerConfiguration {\r\n    @Bean\r\n    fun threadPoolTaskScheduler(): TaskScheduler {\r\n        val scheduler = ThreadPoolTaskScheduler()\r\n        scheduler.poolSize = 20\r\n        return scheduler\r\n    }\r\n}\r\n```\r\n\r\nAnd schedule my tasks using an interface: `SchedulingConfigurer`:\r\n\r\n```\r\nclass MySchedulers(\r\n    private val myService: MyService,\r\n    @Qualifier(&quot;threadPoolTaskScheduler&quot;) private val threadPoolTaskScheduler: TaskScheduler\r\n) : SchedulingConfigurer {\r\n\r\n    private val logger = Logger(this::class.java)\r\n    private val cronExpression = &quot;0 0 10 * * *&quot;\r\n\r\n    override fun configureTasks(taskRegistrar: ScheduledTaskRegistrar) {\r\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler)\r\n\r\n        logger.info(&quot;Setting scheduler cron=$cronExpression&quot;)\r\n        taskRegistrar.addCronTask(CronTask({ runMyTask() }, CronTrigger(cronExpression)))\r\n        }\r\n    }\r\n\r\n    private fun runMyTask() {\r\n        myService.update()\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd then I could successfully find my scheduled tasks using ScheduledTaskHolder as suggested by Ben Ooms.","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>I was trying to do exactly what Ben Ooms suggested and it wasn't working for me.</p>\n<p>I hadn't set my scheduled tasks using the annotation, I had implemented a workaround to get them scheduled using an autowired &quot;TaskScheduler&quot; and I wasn't able to find my scheduled tasks in the ScheduledTaskHolder, although it was working.</p>\n<p>Turns out I had to declare a Bean like:</p>\n<pre><code>@Configuration\nclass SchedulerConfiguration {\n    @Bean\n    fun threadPoolTaskScheduler(): TaskScheduler {\n        val scheduler = ThreadPoolTaskScheduler()\n        scheduler.poolSize = 20\n        return scheduler\n    }\n}\n</code></pre>\n<p>And schedule my tasks using an interface: <code>SchedulingConfigurer</code>:</p>\n<pre><code>class MySchedulers(\n    private val myService: MyService,\n    @Qualifier(&quot;threadPoolTaskScheduler&quot;) private val threadPoolTaskScheduler: TaskScheduler\n) : SchedulingConfigurer {\n\n    private val logger = Logger(this::class.java)\n    private val cronExpression = &quot;0 0 10 * * *&quot;\n\n    override fun configureTasks(taskRegistrar: ScheduledTaskRegistrar) {\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler)\n\n        logger.info(&quot;Setting scheduler cron=$cronExpression&quot;)\n        taskRegistrar.addCronTask(CronTask({ runMyTask() }, CronTrigger(cronExpression)))\n        }\n    }\n\n    private fun runMyTask() {\n        myService.update()\n    }\n}\n</code></pre>\n<p>And then I could successfully find my scheduled tasks using ScheduledTaskHolder as suggested by Ben Ooms.</p>\n"},{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630622521,"creation_date":1630622521,"answer_id":69037734,"question_id":64880738,"body_markdown":"Think about **what** you actually want to test.\r\n\r\n1) I think you should not test whether `@Scheduled` is doing what it is meant to do. This test should be part of the spring framework and you should not care for testing the framework.\r\n\r\n2) If you apply `@Scheduled` correctly could be a meaningful test and a solution is provided by Ben Ooms answer. However, it is very likely that you applied it correctly and once you run your app in dev mode it is very likely to see that it works or not.\r\n\r\n3) ​**More Important** *Testing if your `cron` specification is correctly modeling the domain needs*.\r\n\r\n    a)\r\n    It&#39;s more important from my perception, because it is easy to mess it up, because it does not have explicit notation for each value and is different from UNIX cron jobs. A test could take the specified annotation value and check if it models the domain requirements, i.e. that your `0 0 1 1 *`-String actually means `executed at 1 January 00:00 of each year`.\r\n\r\n    b) Another approach to testing this can be to manipulate the `Clock` during a test to set it explicitly to the expected time and see if the scheduler triggers the method. However, this might not catch all cases - especially not the false-positives (i.e. the scheduler might trigger at the expected moment, but also triggers at other moments where it should not).\r\n\r\n4) **More Important**: *Testing that the scheduled method actually does what it should*.\r\nThis can be a simple unit test but might involve integration tests depending on the domain requirements. The unit test is completely independent of the scheduling mechanics and hence can be implemented as any other unit test (e.g. using a mockito runner).\r\n\r\n\r\n\r\nI think 3) might be critical or not so important depending on the use case while 4) is **always very important**. Hence, both should probably be part of the testing strategy. On the other hand, 1) should not be tested and 2) is nice, but probably is over engineering the test.","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>Think about <strong>what</strong> you actually want to test.</p>\n<ol>\n<li><p>I think you should not test whether <code>@Scheduled</code> is doing what it is meant to do. This test should be part of the spring framework and you should not care for testing the framework.</p>\n</li>\n<li><p>If you apply <code>@Scheduled</code> correctly could be a meaningful test and a solution is provided by Ben Ooms answer. However, it is very likely that you applied it correctly and once you run your app in dev mode it is very likely to see that it works or not.</p>\n</li>\n<li><p>​<strong>More Important</strong> <em>Testing if your <code>cron</code> specification is correctly modeling the domain needs</em>.</p>\n<p>a)\nIt's more important from my perception, because it is easy to mess it up, because it does not have explicit notation for each value and is different from UNIX cron jobs. A test could take the specified annotation value and check if it models the domain requirements, i.e. that your <code>0 0 1 1 *</code>-String actually means <code>executed at 1 January 00:00 of each year</code>.</p>\n<p>b) Another approach to testing this can be to manipulate the <code>Clock</code> during a test to set it explicitly to the expected time and see if the scheduler triggers the method. However, this might not catch all cases - especially not the false-positives (i.e. the scheduler might trigger at the expected moment, but also triggers at other moments where it should not).</p>\n</li>\n<li><p><strong>More Important</strong>: <em>Testing that the scheduled method actually does what it should</em>.\nThis can be a simple unit test but might involve integration tests depending on the domain requirements. The unit test is completely independent of the scheduling mechanics and hence can be implemented as any other unit test (e.g. using a mockito runner).</p>\n</li>\n</ol>\n<p>I think 3) might be critical or not so important depending on the use case while 4) is <strong>always very important</strong>. Hence, both should probably be part of the testing strategy. On the other hand, 1) should not be tested and 2) is nice, but probably is over engineering the test.</p>\n"}],"owner":{"account_id":5761811,"reputation":107,"user_id":4547986,"accept_rate":75,"display_name":"hansi wasd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10281,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1691059971,"creation_date":1605635889,"question_id":64880738,"body_markdown":"I would like to test if my Cron-job will be executed at the given time (1 January 00:00 of each year). Is there a way to test this? \r\nUnfortunately every example I could found online, refers to jobs that will be executed after a fix period e.g. all 5 seconds.(https://www.baeldung.com/spring-testing-scheduled-annotation).\r\n\r\n\r\n\r\n```\r\n    @Scheduled(cron = &quot; 0 0 1 1 *&quot;)\r\n    public void myFunc() {\r\n         do something\r\n    }\r\n```","title":"Test a @Scheduled function in Spring-boot with cron property","body":"<p>I would like to test if my Cron-job will be executed at the given time (1 January 00:00 of each year). Is there a way to test this?\nUnfortunately every example I could found online, refers to jobs that will be executed after a fix period e.g. all 5 seconds.(<a href=\"https://www.baeldung.com/spring-testing-scheduled-annotation\" rel=\"noreferrer\">https://www.baeldung.com/spring-testing-scheduled-annotation</a>).</p>\n<pre><code>    @Scheduled(cron = &quot; 0 0 1 1 *&quot;)\n    public void myFunc() {\n         do something\n    }\n</code></pre>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641816648,"creation_date":1641816648,"answer_id":70652174,"question_id":70650307,"body_markdown":"Remove the argument:\r\n\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\r\nThe following arguments:\r\n\r\n    options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\r\n\r\nshould do the job.","title":"Selenium ChromeDriver Keep and Discard issue while downloading","body":"<p>Remove the argument:</p>\n<pre><code>prefs.put(&quot;safebrowsing.enabled&quot;, true);\n</code></pre>\n<p>The following arguments:</p>\n<pre><code>options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\n</code></pre>\n<p>should do the job.</p>\n"}],"owner":{"account_id":11026363,"reputation":21,"user_id":8099153,"display_name":"Fedor Gabrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691059342,"creation_date":1641807347,"question_id":70650307,"body_markdown":"Can&#39;t bypass &#39;**This type of file can harm your computer**&#39;.\r\n\r\nUse Java and *Chrome Driver 97+*.\r\n\r\nTried:\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n    prefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\Fedor\\\\Downloads&quot;);\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n    prefs.put(&quot;download.extensions_to_open&quot;, &quot;text/x-python&quot;);\r\n        \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n    options.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\r\n\r\n    driver = new ChromeDriver(options);\r\n \r\nBut no luck...\r\n[![enter image description here][1]][1]\r\n\r\nFor those who think it&#39;s a duplicate, the following links are ***useless*** with the current driver version: \r\n\r\n - [How to hide the warning &quot;This type of file can harm your computer&quot; while downloading .xml file using Chrome Chromedriver 79 with Selenium Java][2]\r\n - [How to disable &#39;This type of file can harm your computer&#39; pop up][3]\r\n - [Unable to download file using ChromeDriver][4]\r\n - [ChromeOption &#39;--safebrowsing-disable-download-protection&#39; doesn&#39;t disables the download warning in Chrome version 67.x][5]\r\n - [How to disable &#39;This type of file can harm your computer&#39; pop up][6]\r\n - [XML file download blocked in selenium chromedriver][7]\r\n - [Download .xml file with selenium chrome driver][8]\r\n - [How to use chrome webdriver in selenium to download files in python?][9]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2YoXu.png\r\n  [2]: https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa\r\n  [3]: https://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\r\n  [4]: https://stackoverflow.com/questions/37319393/unable-to-download-file-using-chromedriver\r\n  [5]: https://stackoverflow.com/questions/51405048/chromeoption-safebrowsing-disable-download-protection-doesnt-disables-the-d\r\n  [6]: http://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\r\n  [7]: https://stackoverflow.com/questions/51114736/xml-file-download-blocked-in-selenium-chromedriver\r\n  [8]: https://stackoverflow.com/questions/61762357/download-xml-file-with-selenium-chrome-driver\r\n  [9]: https://stackoverflow.com/questions/46937319/how-to-use-chrome-webdriver-in-selenium-to-download-files-in-python","title":"Selenium ChromeDriver Keep and Discard issue while downloading","body":"<p>Can't bypass '<strong>This type of file can harm your computer</strong>'.</p>\n<p>Use Java and <em>Chrome Driver 97+</em>.</p>\n<p>Tried:</p>\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\Fedor\\\\Downloads&quot;);\nprefs.put(&quot;download.prompt_for_download&quot;, false);\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\nprefs.put(&quot;safebrowsing.enabled&quot;, true);\nprefs.put(&quot;download.extensions_to_open&quot;, &quot;text/x-python&quot;);\n    \nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\noptions.addArguments(&quot;start-maximized&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\noptions.addArguments(&quot;--safebrowsing-disable-extension-blacklist&quot;);\n\ndriver = new ChromeDriver(options);\n</code></pre>\n<p>But no luck...\n<a href=\"https://i.stack.imgur.com/2YoXu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YoXu.png\" alt=\"enter image description here\" /></a></p>\n<p>For those who think it's a duplicate, the following links are <em><strong>useless</strong></em> with the current driver version:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa\">How to hide the warning &quot;This type of file can harm your computer&quot; while downloading .xml file using Chrome Chromedriver 79 with Selenium Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\">How to disable 'This type of file can harm your computer' pop up</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37319393/unable-to-download-file-using-chromedriver\">Unable to download file using ChromeDriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51405048/chromeoption-safebrowsing-disable-download-protection-doesnt-disables-the-d\">ChromeOption '--safebrowsing-disable-download-protection' doesn't disables the download warning in Chrome version 67.x</a></li>\n<li><a href=\"http://stackoverflow.com/questions/34130774/how-to-disable-this-type-of-file-can-harm-your-computer-pop-up\">How to disable 'This type of file can harm your computer' pop up</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51114736/xml-file-download-blocked-in-selenium-chromedriver\">XML file download blocked in selenium chromedriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61762357/download-xml-file-with-selenium-chrome-driver\">Download .xml file with selenium chrome driver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46937319/how-to-use-chrome-webdriver-in-selenium-to-download-files-in-python\">How to use chrome webdriver in selenium to download files in python?</a></li>\n</ul>\n"},{"tags":["java","android","kotlin","bluetooth","bluetoothheadset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690903860,"post_id":76811749,"comment_id":135416495,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690911589,"post_id":76811749,"comment_id":135418016,"body_markdown":"You&#39;ve given us some statements. But, you didn&#39;t actually ask something. Please edit the question, and explicitly tell us what you want to do.","body":"You&#39;ve given us some statements. But, you didn&#39;t actually ask something. Please edit the question, and explicitly tell us what you want to do."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1691060307,"post_id":76811749,"comment_id":135441880,"body_markdown":"What kind of headset exactly? And what type of audio are you trying to play? IIRC, SCO is limited to 8 or 16 kHz.","body":"What kind of headset exactly? And what type of audio are you trying to play? IIRC, SCO is limited to 8 or 16 kHz."},{"owner":{"account_id":8316878,"reputation":11,"user_id":6249828,"display_name":"Mayank Kansal"},"score":0,"creation_date":1691074199,"post_id":76811749,"comment_id":135445064,"body_markdown":"Yes, I&#39;ll play sound tones from 125 Hz to 12.5kHz (some targeted tones in this range). It is BLE and BRD type headphone, and for android we are using BRD.","body":"Yes, I&#39;ll play sound tones from 125 Hz to 12.5kHz (some targeted tones in this range). It is BLE and BRD type headphone, and for android we are using BRD."}],"owner":{"account_id":8316878,"reputation":11,"user_id":6249828,"display_name":"Mayank Kansal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691058720,"creation_date":1690893822,"question_id":76811749,"body_markdown":"In my app, I need to take input voice(surrounding noise)from the headset and at the same time need to play some tone as output sound in the headset.\r\n\r\n\r\nHowever, during the search, I found that it is not possible to input the noise and send the output as sound/music. But with voice calls, When using Bluetooth SCO the input (microphone) and output (speaker) audio are managed separately by the system. During a phone call, Android&#39;s telephony stack handles this functionality, enabling both the microphone input and speaker output through the Bluetooth SCO connection.\r\n\r\nI have used below to use the headset mic. \r\n\r\n    audiomanager.setBluetoothScoOn(true);\r\n\r\nis there any way to take input from the headset and send output some music) at the same time?","title":"Route MIC input through headset and at the same time AUDIO output through same headset","body":"<p>In my app, I need to take input voice(surrounding noise)from the headset and at the same time need to play some tone as output sound in the headset.</p>\n<p>However, during the search, I found that it is not possible to input the noise and send the output as sound/music. But with voice calls, When using Bluetooth SCO the input (microphone) and output (speaker) audio are managed separately by the system. During a phone call, Android's telephony stack handles this functionality, enabling both the microphone input and speaker output through the Bluetooth SCO connection.</p>\n<p>I have used below to use the headset mic.</p>\n<pre><code>audiomanager.setBluetoothScoOn(true);\n</code></pre>\n<p>is there any way to take input from the headset and send output some music) at the same time?</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6862510,"reputation":2494,"user_id":5276012,"display_name":"Egor"},"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1545148948,"creation_date":1513677842,"answer_id":47884439,"question_id":47866398,"body_markdown":"The problem is described in [IDEA-43728][1] and in the [breakpoints documentation][2].\r\n\r\nIn short, to avoid it use suspend thread (not all) breakpoint policy.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-43728\r\n  [2]: https://www.jetbrains.com/help/idea/using-breakpoints.html#breakpoint-properties","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>The problem is described in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728\" rel=\"noreferrer\">IDEA-43728</a> and in the <a href=\"https://www.jetbrains.com/help/idea/using-breakpoints.html#breakpoint-properties\" rel=\"noreferrer\">breakpoints documentation</a>.</p>\n\n<p>In short, to avoid it use suspend thread (not all) breakpoint policy.</p>\n"},{"tags":[],"owner":{"account_id":6715802,"reputation":457,"user_id":5213068,"accept_rate":100,"display_name":"hedleyyan"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1584328302,"creation_date":1584328302,"answer_id":60699888,"question_id":47866398,"body_markdown":"try disable the &#39;toString()&#39; object view\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qCdeD.png","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>try disable the 'toString()' object view\n<a href=\"https://i.stack.imgur.com/qCdeD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qCdeD.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597653439,"creation_date":1597653439,"answer_id":63447369,"question_id":47866398,"body_markdown":"I got the same, and **disable this** helped me \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlawZ.png","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>I got the same, and <strong>disable this</strong> helped me</p>\n<p><a href=\"https://i.stack.imgur.com/ZlawZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZlawZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4996819,"reputation":309,"user_id":4017098,"display_name":"sankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678470141,"creation_date":1678470141,"answer_id":75699394,"question_id":47866398,"body_markdown":"Selecting the below checkbox helped me to minimize this error frequency. &quot;Settings | Build, Execution, Deployment | Debugger | Stepping - Resume only the current thread&quot; (as per suggestion in a fix https://youtrack.jetbrains.com/issue/IDEA-43728)\r\n","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>Selecting the below checkbox helped me to minimize this error frequency. &quot;Settings | Build, Execution, Deployment | Debugger | Stepping - Resume only the current thread&quot; (as per suggestion in a fix <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-43728</a>)</p>\n"},{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687870270,"creation_date":1687870270,"answer_id":76565051,"question_id":47866398,"body_markdown":"Click on &quot;View breakpoints&quot; (Shift+Cmd+F8) and unselect all","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>Click on &quot;View breakpoints&quot; (Shift+Cmd+F8) and unselect all</p>\n"}],"owner":{"account_id":8579296,"reputation":734,"user_id":7019931,"display_name":"Roman Khomyshynets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45309,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":47884439,"answer_count":5,"score":60,"last_activity_date":1691058095,"creation_date":1513592705,"question_id":47866398,"body_markdown":"When I try to pick a breakpoint on any executive line of any method of my project, and I know that this method should be invoked for example 4 times, Intellij skips this breakpoint for 3 times and stops only on the last invocation.\r\nMethod example (Endpoint class):\r\n\r\n    \t@PayloadRoot(localPart = &quot;getRelatedCIs&quot;, namespace = &quot;http://www.projectname.com/ws&quot;)\r\n\tpublic GetRelatedCIsResponse getRelatedCIs(GetRelatedCIs request) throws DataAccessException, WebServiceException {\r\n\t\tGetRelatedCIsResponse response = new GetRelatedCIsResponse();\r\n\t\tPageData page = request.getPageData();\r\n\t\tList&lt;ConfigItemReference&gt; ciRefs = translateCiRefList(request.getCiRef());\r\n\t\tRelatedCiResult relatedCis = configItemService.getRelatedCis(ciRefs, request.getRequestedType(),\r\n\t\t\t\tnew Page(page.getPageNumber(), page.getPageSize(), page.getTotal()), request.getSort());\r\n\t\tresponse.getCis().addAll(relatedCis.getCis());\r\n\t\tpage.setTotal(relatedCis.getPageInfo().getTotal());\r\n\t\tpage.setPageSize(relatedCis.getPageInfo().getPageSize());\r\n\t\tresponse.setPageData(page);\r\n\t\tSystem.out.println(&quot;****************************INVOCATION***************************&quot; + request.getRequestedType());\r\n\t\treturn response;\r\n\t}\r\n\r\nBreakpoint is picked on the first line of the method. When program is stopped, there are already printed in console 3 lines ****************************INVOCATION***************************\r\n\r\nIn the left bottom part of the screen appears green notification:\r\n\r\n **Skipped breakpoint at %code reference% because it happened inside debugger evaluation**\r\n\r\nBut I don&#39;t use any Evaluate Expression functionality when I perform debugging.\r\nAlso there are my VM options of Run/Debug Configurations:\r\n\r\n    -XX:MaxPermSize=512m \r\n    -Xms256m \r\n    -Xmx1024m \r\n    -Dcom.sun.management.jmxremote=true \r\n    -Dcom.sun.management.jmxremote.port=9004 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n\r\n\r\n","title":"Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA","body":"<p>When I try to pick a breakpoint on any executive line of any method of my project, and I know that this method should be invoked for example 4 times, Intellij skips this breakpoint for 3 times and stops only on the last invocation.\nMethod example (Endpoint class):</p>\n\n<pre><code>    @PayloadRoot(localPart = \"getRelatedCIs\", namespace = \"http://www.projectname.com/ws\")\npublic GetRelatedCIsResponse getRelatedCIs(GetRelatedCIs request) throws DataAccessException, WebServiceException {\n    GetRelatedCIsResponse response = new GetRelatedCIsResponse();\n    PageData page = request.getPageData();\n    List&lt;ConfigItemReference&gt; ciRefs = translateCiRefList(request.getCiRef());\n    RelatedCiResult relatedCis = configItemService.getRelatedCis(ciRefs, request.getRequestedType(),\n            new Page(page.getPageNumber(), page.getPageSize(), page.getTotal()), request.getSort());\n    response.getCis().addAll(relatedCis.getCis());\n    page.setTotal(relatedCis.getPageInfo().getTotal());\n    page.setPageSize(relatedCis.getPageInfo().getPageSize());\n    response.setPageData(page);\n    System.out.println(\"****************************INVOCATION***************************\" + request.getRequestedType());\n    return response;\n}\n</code></pre>\n\n<p>Breakpoint is picked on the first line of the method. When program is stopped, there are already printed in console 3 lines ****************************INVOCATION***************************</p>\n\n<p>In the left bottom part of the screen appears green notification:</p>\n\n<p><strong>Skipped breakpoint at %code reference% because it happened inside debugger evaluation</strong></p>\n\n<p>But I don't use any Evaluate Expression functionality when I perform debugging.\nAlso there are my VM options of Run/Debug Configurations:</p>\n\n<pre><code>-XX:MaxPermSize=512m \n-Xms256m \n-Xmx1024m \n-Dcom.sun.management.jmxremote=true \n-Dcom.sun.management.jmxremote.port=9004 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n"},{"tags":["java","android","android-studio","google-drive-api"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1691061312,"post_id":76827079,"comment_id":135442065,"body_markdown":"`String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);` You are saving some header field to file. But you should read the data from connection. Open an inputstream where you read the data from.","body":"<code>String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);</code> You are saving some header field to file. But you should read the data from connection. Open an inputstream where you read the data from."}],"owner":{"account_id":28884413,"reputation":1,"user_id":22123118,"display_name":"Not Beluga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691057528,"creation_date":1691057528,"question_id":76827079,"body_markdown":"```\r\npackage com.example.download;\r\nimport android.os.AsyncTask;\r\nimport android.os.Environment;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class CreateJavaFile extends AsyncTask&lt;String, Void, File&gt;{\r\n    private File file;\r\n\r\n    @Override\r\n    protected File doInBackground(String... strings) {\r\n        String googleDriveLink = strings[0];\r\n        String downloadUrl = null;\r\n        try {\r\n            downloadUrl = getDownloadUrl(googleDriveLink);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pdf.pdf&quot;);\r\n        try (FileOutputStream fos = new FileOutputStream(file)) {\r\n            byte[] bytes = downloadUrl.getBytes();\r\n            fos.write(bytes);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(File file) {\r\n        if (file != null) {\r\n\r\n            System.out.println(&quot;downloaded file&quot;);\r\n        } else {\r\n            System.out.println(&quot;error in downloading file&quot;);\r\n        }\r\n    }\r\n\r\n    private String getDownloadUrl(String googleDriveLink) throws IOException {\r\n        URL url = new URL(googleDriveLink);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\r\n        int responseCode = connection.getResponseCode();\r\n        if (responseCode == 200) {\r\n            String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);\r\n            return downloadUrl;\r\n        } else {\r\n            throw new IOException(&quot;Error downloading file: &quot; + responseCode);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\ni used the above code but i am able to download a file and if i open manually it shows an error \r\nthat the file formate is not correct and file size is also 10 times lesser than the original file(size of pdf was in bytes)\r\n\r\n\r\nhelp me out to solve this ","title":"how can i download a pdf file from google link using java (android studio)","body":"<pre><code>package com.example.download;\nimport android.os.AsyncTask;\nimport android.os.Environment;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class CreateJavaFile extends AsyncTask&lt;String, Void, File&gt;{\n    private File file;\n\n    @Override\n    protected File doInBackground(String... strings) {\n        String googleDriveLink = strings[0];\n        String downloadUrl = null;\n        try {\n            downloadUrl = getDownloadUrl(googleDriveLink);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pdf.pdf&quot;);\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            byte[] bytes = downloadUrl.getBytes();\n            fos.write(bytes);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n\n    @Override\n    protected void onPostExecute(File file) {\n        if (file != null) {\n\n            System.out.println(&quot;downloaded file&quot;);\n        } else {\n            System.out.println(&quot;error in downloading file&quot;);\n        }\n    }\n\n    private String getDownloadUrl(String googleDriveLink) throws IOException {\n        URL url = new URL(googleDriveLink);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\n        int responseCode = connection.getResponseCode();\n        if (responseCode == 200) {\n            String downloadUrl = connection.getHeaderField(&quot;Content-Disposition&quot;);\n            return downloadUrl;\n        } else {\n            throw new IOException(&quot;Error downloading file: &quot; + responseCode);\n        }\n    }\n}\n\n</code></pre>\n<p>i used the above code but i am able to download a file and if i open manually it shows an error\nthat the file formate is not correct and file size is also 10 times lesser than the original file(size of pdf was in bytes)</p>\n<p>help me out to solve this</p>\n"},{"tags":["java","android","gradle","ffmpeg","repository"],"answers":[{"tags":[],"owner":{"account_id":16099845,"reputation":386,"user_id":11620930,"display_name":"ibrhm117"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691057456,"creation_date":1691057456,"answer_id":76827065,"question_id":76814047,"body_markdown":"I personally would not prefer to add the full FFMPEG SDK, as it increases the app size exponentially, however using [Arthenica&#39;s FFMPEG-KIT][1] seems the easiest way to get FFMPEG into a project\r\n\r\n    implementation &quot;com.arthenica:ffmpeg-kit-min-gpl:5.1.LTS&quot;\r\n\r\nThis new FFMPEG-KIT not only has a reduction in size, but the commands also execute quicker and have better async support and much easier implementation.\r\n\r\nTo use you just have to import \r\n\r\n    import com.arthenica.ffmpegkit.FFmpegKit\r\n    import com.arthenica.ffmpegkit.ReturnCode\r\n\r\nand then : \r\n\r\n    FFmpegKit.executeAsync(cmdString , {\r\n\t\twhen {\r\n\t\t\tReturnCode.isSuccess(it.returnCode) -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG SUCCESS :${it.state.name}&quot;)\r\n\t\t\t}\r\n\r\n\t\t\tReturnCode.isCancel(it.returnCode) -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG CANCELLED :${it.returnCode}&quot;)\r\n\t\t\t}\r\n\r\n\t\t\tit.returnCode.isValueError -&gt; {\r\n\t\t\t\tprintln(&quot;FFMPEG ERROR :${it.logs.last()}&quot;)\r\n\t\t\t}\r\n\t\t}\r\n\t} , {\r\n\t\tprintln(&quot;FFMEPG LOG :${it.message}&quot;)\r\n\t} , {\r\n\t\tprintln(&quot;FFMEPG STATS :${it.speed}&quot;)\r\n\t})\r\n\r\nhere `cmdString`, is a string of commands, your commands should work but the only issue I ran into was that I had to use `-y -i` instead of `-f` which seemed to run the commands.\r\n\r\n\r\n\r\n  [1]: https://github.com/arthenica/ffmpeg-kit","title":"How to import FFmpeg into Android project","body":"<p>I personally would not prefer to add the full FFMPEG SDK, as it increases the app size exponentially, however using <a href=\"https://github.com/arthenica/ffmpeg-kit\" rel=\"nofollow noreferrer\">Arthenica's FFMPEG-KIT</a> seems the easiest way to get FFMPEG into a project</p>\n<pre><code>implementation &quot;com.arthenica:ffmpeg-kit-min-gpl:5.1.LTS&quot;\n</code></pre>\n<p>This new FFMPEG-KIT not only has a reduction in size, but the commands also execute quicker and have better async support and much easier implementation.</p>\n<p>To use you just have to import</p>\n<pre><code>import com.arthenica.ffmpegkit.FFmpegKit\nimport com.arthenica.ffmpegkit.ReturnCode\n</code></pre>\n<p>and then :</p>\n<pre><code>FFmpegKit.executeAsync(cmdString , {\n    when {\n        ReturnCode.isSuccess(it.returnCode) -&gt; {\n            println(&quot;FFMPEG SUCCESS :${it.state.name}&quot;)\n        }\n\n        ReturnCode.isCancel(it.returnCode) -&gt; {\n            println(&quot;FFMPEG CANCELLED :${it.returnCode}&quot;)\n        }\n\n        it.returnCode.isValueError -&gt; {\n            println(&quot;FFMPEG ERROR :${it.logs.last()}&quot;)\n        }\n    }\n} , {\n    println(&quot;FFMEPG LOG :${it.message}&quot;)\n} , {\n    println(&quot;FFMEPG STATS :${it.speed}&quot;)\n})\n</code></pre>\n<p>here <code>cmdString</code>, is a string of commands, your commands should work but the only issue I ran into was that I had to use <code>-y -i</code> instead of <code>-f</code> which seemed to run the commands.</p>\n"}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827065,"answer_count":1,"score":0,"last_activity_date":1691057456,"creation_date":1690911651,"question_id":76814047,"body_markdown":"I&#39;m trying to convert series of images into video.\r\nFor that I&#39;m adding FFmpeg into my Android project.\r\nHowever it is not adding properly, so I can&#39;t import class FFmpeg into the code.\r\nin the statement &quot;int rc = FFmpeg.execute(command);&quot; FFmpeg is highlighted in red.\r\n\r\nI think something wrong with libraries. Could you please give suggestion how import libraries correctly?\r\n\r\nMy Manifest file below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TimelapseLite&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\nMy settings.gradle file\r\n\r\n    pluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\n\r\n    dependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;TimelapseLite&quot;\r\ninclude &#39;:app&#39;\r\n\r\n\r\nMy build.gradle file\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;ae.vpdev.timelapselite&#39;\r\n        compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;ae.vpdev.timelapselite&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.arthenica:mobile-ffmpeg-full:4.5.LTS&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\n\r\nMy code in MainActivity\r\n\r\n    private void convertImagesToVideo() {\r\n        StringBuilder imageListFileContent = new StringBuilder();\r\n        for (Uri imageUri : selectedImages) {\r\n            imageListFileContent.append(&quot;file &#39;&quot;).append(imageUri.getPath()).append(&quot;&#39;\\n&quot;);\r\n        }\r\n\r\n        try {\r\n            File imageListFile = new File(getCacheDir(), &quot;image_list.txt&quot;);\r\n            FileWriter writer = new FileWriter(imageListFile);\r\n            writer.append(imageListFileContent.toString());\r\n            writer.flush();\r\n            writer.close();\r\n\r\n            File outputFile = new File(getExternalFilesDir(null), &quot;output_video.mp4&quot;);\r\n            String outputFilePath = outputFile.getAbsolutePath();\r\n\r\n            String command = &quot;-f concat -safe 0 -i &quot; + imageListFile.getAbsolutePath() +\r\n                    &quot; -vf \\&quot;scale=-2:720\\&quot; -r 30 -c:v libx264 -pix_fmt yuv420p &quot; + outputFilePath;\r\n\r\n            int rc = FFmpeg.execute(command);\r\n\r\n            if (rc == RETURN_CODE_SUCCESS) {\r\n                Log.d(&quot;FFmpeg&quot;, &quot;Video conversion completed successfully&quot;);\r\n                // Now you can use the outputFilePath to play or share the video\r\n            } else {\r\n                Log.d(&quot;FFmpeg&quot;, &quot;Video conversion failed&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to import FFmpeg into Android project","body":"<p>I'm trying to convert series of images into video.\nFor that I'm adding FFmpeg into my Android project.\nHowever it is not adding properly, so I can't import class FFmpeg into the code.\nin the statement &quot;int rc = FFmpeg.execute(command);&quot; FFmpeg is highlighted in red.</p>\n<p>I think something wrong with libraries. Could you please give suggestion how import libraries correctly?</p>\n<p>My Manifest file below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.TimelapseLite&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>My settings.gradle file</p>\n<pre><code>pluginManagement {\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n</code></pre>\n<p>}</p>\n<pre><code>dependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\n    google()\n    mavenCentral()\n}\n</code></pre>\n<p>}\nrootProject.name = &quot;TimelapseLite&quot;\ninclude ':app'</p>\n<p>My build.gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'ae.vpdev.timelapselite'\n    compileSdk 33\n\ndefaultConfig {\n    applicationId &quot;ae.vpdev.timelapselite&quot;\n    minSdk 26\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>}</p>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.9.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.arthenica:mobile-ffmpeg-full:4.5.LTS'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n</code></pre>\n<p>}</p>\n<p>My code in MainActivity</p>\n<pre><code>private void convertImagesToVideo() {\n    StringBuilder imageListFileContent = new StringBuilder();\n    for (Uri imageUri : selectedImages) {\n        imageListFileContent.append(&quot;file '&quot;).append(imageUri.getPath()).append(&quot;'\\n&quot;);\n    }\n\n    try {\n        File imageListFile = new File(getCacheDir(), &quot;image_list.txt&quot;);\n        FileWriter writer = new FileWriter(imageListFile);\n        writer.append(imageListFileContent.toString());\n        writer.flush();\n        writer.close();\n\n        File outputFile = new File(getExternalFilesDir(null), &quot;output_video.mp4&quot;);\n        String outputFilePath = outputFile.getAbsolutePath();\n\n        String command = &quot;-f concat -safe 0 -i &quot; + imageListFile.getAbsolutePath() +\n                &quot; -vf \\&quot;scale=-2:720\\&quot; -r 30 -c:v libx264 -pix_fmt yuv420p &quot; + outputFilePath;\n\n        int rc = FFmpeg.execute(command);\n\n        if (rc == RETURN_CODE_SUCCESS) {\n            Log.d(&quot;FFmpeg&quot;, &quot;Video conversion completed successfully&quot;);\n            // Now you can use the outputFilePath to play or share the video\n        } else {\n            Log.d(&quot;FFmpeg&quot;, &quot;Video conversion failed&quot;);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-security","mockmvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691056275,"post_id":76826756,"comment_id":135441020,"body_markdown":"If you are using Spring Boot and have `mockMvc = webAppContextSetup(context)` in your test you are doing it wrong. `@Autowired` inside a request handling method doesn&#39;t do anything, the `@ApiIgnore` isn&#39;t a spring annotation but for swagger/openapi (I assume) and doesn&#39;t do anything either. I&#39;m not that familier with Spring Fox but it could be that there is some argument resolver for that specific annotation. Anyway please show your full test class instead of snippets.","body":"If you are using Spring Boot and have <code>mockMvc = webAppContextSetup(context)</code> in your test you are doing it wrong. <code>@Autowired</code> inside a request handling method doesn&#39;t do anything, the <code>@ApiIgnore</code> isn&#39;t a spring annotation but for swagger/openapi (I assume) and doesn&#39;t do anything either. I&#39;m not that familier with Spring Fox but it could be that there is some argument resolver for that specific annotation. Anyway please show your full test class instead of snippets."},{"owner":{"account_id":807828,"reputation":1463,"user_id":891279,"accept_rate":67,"display_name":"JayTheKay"},"score":0,"creation_date":1691057408,"post_id":76826756,"comment_id":135441306,"body_markdown":"I added the full test class.\nWhat do you mean by &quot;you are doing it wrong?&quot; Is there a better way to set up this test?\n\nI am aware that neither of the annoatations should change anything for the test, that is why I&#39;m really confused that they break the test.","body":"I added the full test class. What do you mean by &quot;you are doing it wrong?&quot; Is there a better way to set up this test?  I am aware that neither of the annoatations should change anything for the test, that is why I&#39;m really confused that they break the test."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691063709,"post_id":76826756,"comment_id":135442586,"body_markdown":"You already have `@AutoConfigureMockMvc` hence you should autowire `MockMvc` and remove your `@BeforeEach` annotated method. Spring Boot will setup MockMvc with the setup as you have configured, no need to do anything for that yourself.","body":"You already have <code>@AutoConfigureMockMvc</code> hence you should autowire <code>MockMvc</code> and remove your <code>@BeforeEach</code> annotated method. Spring Boot will setup MockMvc with the setup as you have configured, no need to do anything for that yourself."}],"owner":{"account_id":807828,"reputation":1463,"user_id":891279,"accept_rate":67,"display_name":"JayTheKay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691057356,"creation_date":1691055395,"question_id":76826756,"body_markdown":"I have a Spring Boot app, based on Spring Boot version 2.7.7.\r\nAnd I&#39;m experiencing some behaviour that I cannot explain. \r\n**It seems that an annotation on a Controller parameter causes the injected custom Authentication object to be broken**, but maybe I just got something wrong?\r\n\r\n\r\nI have a custom Authentication class that I use to augment my JWT based authentication:\r\n\r\n    public interface CustomAuthenticationToken extends Authentication {\r\n        Optional&lt;String&gt; getCustomClaim();\r\n    }\r\n\r\nFor tests, I have this mock implementation:\r\n\r\n    public class MockCustomAuthenticationToken implements CustomAuthenticationToken {\r\n      // implement all the methods with dummy values\r\n    }\r\n\r\nI also have this annotation to be used on test methods:\r\n\r\n    @WithSecurityContext(factory = WithCustomAuthenticationTokenContextFactory.class)\r\n    public @interface WithCustomAuthenticationToken {\r\n      String customClaim() default &quot;mockvalue&quot;;\r\n    }\r\n\r\nAnd this factory class:\r\n\r\n    public class WithCustomAuthenticationTokenContextFactory implements WithSecurityContextFactory&lt;WithCustomAuthenticationToken&gt; {\r\n        @Override\r\n        public SecurityContext createSecurityContext(WithCustomAuthenticationToken withCustomAuthenticationToken) {\r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\n            List&lt;SimpleGrantedAuthority&gt; grantedAuthorities = //...\r\n            Authentication auth = new MockCustomAuthenticationToken(\r\n                    withCustomAuthenticationToken.customClaim(),\r\n                    grantedAuthorities\r\n            );\r\n\r\n            context.setAuthentication(auth);\r\n            return context;\r\n        }\r\n    }\r\n\r\nMy test case looks like this:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SpringBootTest {\r\n\r\n        @Autowired\r\n        protected WebApplicationContext context;\r\n\r\n        protected MockMvc mockMvc;\r\n\r\n        @BeforeEach\r\n        protected void beforeEach() {\r\n           mockMvc = webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n        }\r\n\r\n        @Test\r\n        @WithCustomAuthenticationToken(customClaim = &quot;claim&quot;)\r\n        public void test1() throws Exception {\r\n            mockMvc.perform(\r\n                        MockMvcRequestBuilders.get(\r\n                                &quot;/testcontroller&quot;\r\n                        )\r\n                )\r\n                .andExpect(status().isOk());\r\n        }\r\n    }\r\nThis is my controller that I can use to reproduce this issue:\r\nI&#39;m requesting the Spring Authentication information in the controller, 4 times, in a different way:\r\n\r\n    @RestController\r\n    public class DownloadCounterRestServiceV1 {\r\n        @GetMapping(&quot;/testcontroller&quot;)\r\n        public void testcontroller(\r\n            // As CustomAuthenticationToken object\r\n            CustomAuthenticationToken customAuthenticationToken1,\r\n\r\n            // The same as 1, but with an added Springfox annotation!\r\n            @ApiIgnore\r\n            CustomAuthenticationToken customAuthenticationToken2,\r\n\r\n            // As generic Authentication object\r\n            Authentication authentication1,\r\n\r\n            // The same as 3 but with the added annotation\r\n            @ApiIgnore\r\n            Authentication authentication2\r\n        ) {\r\n            log.info(&quot;customAuthenticationToken1: {}&quot;, customAuthenticationToken1);\r\n            log.info(&quot;customAuthenticationToken2: {}&quot;, customAuthenticationToken2);\r\n            log.info(&quot;authentication1: {}&quot;, authentication1);\r\n            log.info(&quot;authentication2: {}&quot;, authentication2);\r\n        }\r\n    }\r\n\r\nThe log output is\r\n    \r\n    customAuthenticationToken1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n    customAuthenticationToken2: {}\r\n    authentication1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n    authentication2: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\r\n\r\nSo for any reason, **if I use a custom interface AND an annotation before that parameter, Spring will not set the correct MockCustomAuthenticationToken** but instead an empty object of type `jdk.proxy2.$Proxy123`\r\n\r\nThe same effect happens when I use `@Autowired` instead of `@ApiIgnore`, so it does not seem to be caused by the annotation itself.\r\n\r\nIs there anything I missed? Where does this behaviour come from?","title":"Invalid custom Spring Security Authentication with MockMvc - Spring/MockMvc Bug?","body":"<p>I have a Spring Boot app, based on Spring Boot version 2.7.7.\nAnd I'm experiencing some behaviour that I cannot explain.\n<strong>It seems that an annotation on a Controller parameter causes the injected custom Authentication object to be broken</strong>, but maybe I just got something wrong?</p>\n<p>I have a custom Authentication class that I use to augment my JWT based authentication:</p>\n<pre><code>public interface CustomAuthenticationToken extends Authentication {\n    Optional&lt;String&gt; getCustomClaim();\n}\n</code></pre>\n<p>For tests, I have this mock implementation:</p>\n<pre><code>public class MockCustomAuthenticationToken implements CustomAuthenticationToken {\n  // implement all the methods with dummy values\n}\n</code></pre>\n<p>I also have this annotation to be used on test methods:</p>\n<pre><code>@WithSecurityContext(factory = WithCustomAuthenticationTokenContextFactory.class)\npublic @interface WithCustomAuthenticationToken {\n  String customClaim() default &quot;mockvalue&quot;;\n}\n</code></pre>\n<p>And this factory class:</p>\n<pre><code>public class WithCustomAuthenticationTokenContextFactory implements WithSecurityContextFactory&lt;WithCustomAuthenticationToken&gt; {\n    @Override\n    public SecurityContext createSecurityContext(WithCustomAuthenticationToken withCustomAuthenticationToken) {\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n\n        List&lt;SimpleGrantedAuthority&gt; grantedAuthorities = //...\n        Authentication auth = new MockCustomAuthenticationToken(\n                withCustomAuthenticationToken.customClaim(),\n                grantedAuthorities\n        );\n\n        context.setAuthentication(auth);\n        return context;\n    }\n}\n</code></pre>\n<p>My test case looks like this:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\npublic class SpringBootTest {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    protected MockMvc mockMvc;\n\n    @BeforeEach\n    protected void beforeEach() {\n       mockMvc = webAppContextSetup(context)\n            .apply(springSecurity())\n            .build();\n    }\n\n    @Test\n    @WithCustomAuthenticationToken(customClaim = &quot;claim&quot;)\n    public void test1() throws Exception {\n        mockMvc.perform(\n                    MockMvcRequestBuilders.get(\n                            &quot;/testcontroller&quot;\n                    )\n            )\n            .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>This is my controller that I can use to reproduce this issue:\nI'm requesting the Spring Authentication information in the controller, 4 times, in a different way:</p>\n<pre><code>@RestController\npublic class DownloadCounterRestServiceV1 {\n    @GetMapping(&quot;/testcontroller&quot;)\n    public void testcontroller(\n        // As CustomAuthenticationToken object\n        CustomAuthenticationToken customAuthenticationToken1,\n\n        // The same as 1, but with an added Springfox annotation!\n        @ApiIgnore\n        CustomAuthenticationToken customAuthenticationToken2,\n\n        // As generic Authentication object\n        Authentication authentication1,\n\n        // The same as 3 but with the added annotation\n        @ApiIgnore\n        Authentication authentication2\n    ) {\n        log.info(&quot;customAuthenticationToken1: {}&quot;, customAuthenticationToken1);\n        log.info(&quot;customAuthenticationToken2: {}&quot;, customAuthenticationToken2);\n        log.info(&quot;authentication1: {}&quot;, authentication1);\n        log.info(&quot;authentication2: {}&quot;, authentication2);\n    }\n}\n</code></pre>\n<p>The log output is</p>\n<pre><code>customAuthenticationToken1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\ncustomAuthenticationToken2: {}\nauthentication1: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\nauthentication2: MockCustomAuthenticationToken(customClaim=&quot;...&quot;)\n</code></pre>\n<p>So for any reason, <strong>if I use a custom interface AND an annotation before that parameter, Spring will not set the correct MockCustomAuthenticationToken</strong> but instead an empty object of type <code>jdk.proxy2.$Proxy123</code></p>\n<p>The same effect happens when I use <code>@Autowired</code> instead of <code>@ApiIgnore</code>, so it does not seem to be caused by the annotation itself.</p>\n<p>Is there anything I missed? Where does this behaviour come from?</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":3547409,"reputation":669,"user_id":2963004,"display_name":"Molasses"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691057330,"creation_date":1691057330,"answer_id":76827044,"question_id":76819140,"body_markdown":"Found the answer, thanks to both of @g00se and @Martin Prikryl suggestions. Having ran \r\n```\r\nssh -v dev@192.168.11.23\r\n```\r\ngave me a result of\r\n\r\n```\r\n...\r\ndebug1: kex: algorithm: ecdh-sha2-nistp256\r\ndebug1: kex: host key algorithm: rsa-sha2-512\r\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\r\n...\r\n```\r\n\r\nThe issue was the server was preferring **sa-sha2-512** host key algorithm, JSch was missing. I could have forced **ssh-rsa**, but I decided to look at a forked version of JSch [github.com/mwiede/jsch][1], which was suggested, since the original is no longer maintained. This forked version supported the server&#39;s preferred host key algorithm. It all works now!\r\n\r\n\r\n  [1]: https://github.com/mwiede/jsch","title":"JSch End of IO Stream Read","body":"<p>Found the answer, thanks to both of @g00se and @Martin Prikryl suggestions. Having ran</p>\n<pre><code>ssh -v dev@192.168.11.23\n</code></pre>\n<p>gave me a result of</p>\n<pre><code>...\ndebug1: kex: algorithm: ecdh-sha2-nistp256\ndebug1: kex: host key algorithm: rsa-sha2-512\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256 compression: none\n...\n</code></pre>\n<p>The issue was the server was preferring <strong>sa-sha2-512</strong> host key algorithm, JSch was missing. I could have forced <strong>ssh-rsa</strong>, but I decided to look at a forked version of JSch <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a>, which was suggested, since the original is no longer maintained. This forked version supported the server's preferred host key algorithm. It all works now!</p>\n"}],"owner":{"account_id":3547409,"reputation":669,"user_id":2963004,"display_name":"Molasses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827044,"answer_count":1,"score":0,"last_activity_date":1691057330,"creation_date":1690973527,"question_id":76819140,"body_markdown":"I&#39;m testing out JSch to send SSH command to a remote server. Here&#39;s a snippet of my code\r\n\r\n```\r\ntry {\r\n    session = new JSch().getSession(username, host);\r\n    session.setPassword(password);\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.connect(5000);\r\n\r\n    channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n    channel.setCommand(command);\r\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n    channel.setOutputStream(responseStream);\r\n    channel.connect(5000);\r\n...\r\n```\r\n\r\nHere&#39;s the log\r\n```\r\nINFO: Connecting to 192.168.11.31 port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-OpenSSH_8.8 PKIX[13.2.3 FIPS]\r\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1\r\nINFO: kex: server: ssh-rsa,rsa-sha2-256,rsa-sha2-512\r\nINFO: kex: server: aes128-ctr,aes256-ctr\r\nINFO: kex: server: aes128-ctr,aes256-ctr\r\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server:\r\nINFO: kex: server:\r\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-\r\ngroup1-sha1\r\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: none\r\nINFO: kex: client: none\r\nINFO: kex: client:\r\nINFO: kex: client:\r\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\nINFO: SSH_MSG_KEX_ECDH_INIT sent\r\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\nINFO: Disconnecting from 192.168.11.31 port 22\r\nAug 02, 2023 3:06:50 AM com.test.util.LogUtil error\r\nSEVERE: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\r\n        at com.jcraft.jsch.Session.connect(Session.java:565)\r\n        at com.test.util.SshTestUtil.sendSshCommandsTest(SshTestUtil.java:59)\r\n```\r\n\r\nIt&#39;s &quot;mind bottling&quot; -Step Brothers...no, but seriously, I&#39;m losing my mind. I&#39;ve even tried specifying kex like below, but same result...\r\n```\r\nsession.setConfig(&quot;kex&quot;, &quot;ecdh-sha2-nistp256&quot;);\r\n```\r\n\r\nI&#39;ve played with setting different connect timeouts and none, but same issue. I appreciate any help.","title":"JSch End of IO Stream Read","body":"<p>I'm testing out JSch to send SSH command to a remote server. Here's a snippet of my code</p>\n<pre><code>try {\n    session = new JSch().getSession(username, host);\n    session.setPassword(password);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.connect(5000);\n\n    channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n    channel.setCommand(command);\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n    channel.setOutputStream(responseStream);\n    channel.connect(5000);\n...\n</code></pre>\n<p>Here's the log</p>\n<pre><code>INFO: Connecting to 192.168.11.31 port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_8.8 PKIX[13.2.3 FIPS]\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1\nINFO: kex: server: ssh-rsa,rsa-sha2-256,rsa-sha2-512\nINFO: kex: server: aes128-ctr,aes256-ctr\nINFO: kex: server: aes128-ctr,aes256-ctr\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server:\nINFO: kex: server:\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-\ngroup1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client:\nINFO: kex: client:\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: Disconnecting from 192.168.11.31 port 22\nAug 02, 2023 3:06:50 AM com.test.util.LogUtil error\nSEVERE: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read\n        at com.jcraft.jsch.Session.connect(Session.java:565)\n        at com.test.util.SshTestUtil.sendSshCommandsTest(SshTestUtil.java:59)\n</code></pre>\n<p>It's &quot;mind bottling&quot; -Step Brothers...no, but seriously, I'm losing my mind. I've even tried specifying kex like below, but same result...</p>\n<pre><code>session.setConfig(&quot;kex&quot;, &quot;ecdh-sha2-nistp256&quot;);\n</code></pre>\n<p>I've played with setting different connect timeouts and none, but same issue. I appreciate any help.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","batch-insert"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658310849,"creation_date":1591598560,"answer_id":62256399,"question_id":62254314,"body_markdown":"What you are looking for is the [HiLo algorithm][1] for id generation.\r\n\r\nFor every id generated from a sequence it generates a number of ids on the client without accessing the database.\r\n\r\nYou configure it on your entity as this:\r\n\r\n```\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hilo_sequence_generator&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;hilo_sequence_generator&quot;,\r\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;hilo_seqeunce&quot;),\r\n                    @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n                    @Parameter(name = &quot;increment_size&quot;, value = &quot;3&quot;),\r\n                    @Parameter(name = &quot;optimizer&quot;, value = &quot;hilo&quot;)\r\n            })\r\n    @Id\r\n    private Long id;\r\n```\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-hilo-algorithm/","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>What you are looking for is the <a href=\"https://vladmihalcea.com/the-hilo-algorithm/\" rel=\"nofollow noreferrer\">HiLo algorithm</a> for id generation.</p>\n<p>For every id generated from a sequence it generates a number of ids on the client without accessing the database.</p>\n<p>You configure it on your entity as this:</p>\n<pre><code>    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hilo_sequence_generator&quot;)\n    @GenericGenerator(\n            name = &quot;hilo_sequence_generator&quot;,\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;hilo_seqeunce&quot;),\n                    @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                    @Parameter(name = &quot;increment_size&quot;, value = &quot;3&quot;),\n                    @Parameter(name = &quot;optimizer&quot;, value = &quot;hilo&quot;)\n            })\n    @Id\n    private Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664883562,"creation_date":1664883230,"answer_id":73947276,"question_id":62254314,"body_markdown":"I would say that I have some experience of that point. I was doing insertion for more than 128,000 records.\r\nAnd my target was to enhance the time-consuming to do that. I would try to summarize the case as below :\r\n\r\n 1. The code did not use any persist() or save() methods. These records were saved when the @Transactionl method exits\r\n 2. I was using hibernate batch inserts below are the settings in the config map\r\n  \r\n\r\n    spring.jpa.properties.hibernate.jdbc.batch_size: &quot;40&quot;\r\n    spring.jpa.properties.hibernate.order_inserts: &quot;true&quot;\r\n    spring.jpa.properties.hibernate.order_updates: &quot;true&quot;\r\n    spring.main.allow-bean-definition-overriding: &quot;true&quot;\r\n\r\n\r\n 3. I modified the allocation size in my entity Id configuration as below:\r\n\r\n  \r\n\r\n \r\n\r\n @Id\r\n\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator =&quot;mappingentry_sql_generator&quot;)\r\n\r\n    @SequenceGenerator(name = &quot;mappingentry_sql_generator&quot;, sequenceName =&quot;mappingentry_id_seq&quot;, allocationSize = 40)\r\n\r\n    private Long id;\r\n\r\n \r\n\r\nNotes: I set the &quot;allocationSize&quot; in the sequence generator to be equal to the &quot;batch_size&quot; value in the setting\r\n\r\n 4. Also, I altered my sequence &quot;mappingentry_id_seq&quot; to increment by 40 as well\r\n\r\nAfter doing these changes the time was reduced from 55 seconds to 20 seconds which was a great impact\r\n\r\nThe only thing that I did not understand is that when I checked the value of the id column that was generated by the sequence I did not find any value gap. Every ID value exceeded the previous by 1, not 40. That is what I am currently trying to understand\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>I would say that I have some experience of that point. I was doing insertion for more than 128,000 records.\nAnd my target was to enhance the time-consuming to do that. I would try to summarize the case as below :</p>\n<ol>\n<li><p>The code did not use any persist() or save() methods. These records were saved when the @Transactionl method exits</p>\n</li>\n<li><p>I was using hibernate batch inserts below are the settings in the config map</p>\n<p>spring.jpa.properties.hibernate.jdbc.batch_size: &quot;40&quot;\nspring.jpa.properties.hibernate.order_inserts: &quot;true&quot;\nspring.jpa.properties.hibernate.order_updates: &quot;true&quot;\nspring.main.allow-bean-definition-overriding: &quot;true&quot;</p>\n</li>\n<li><p>I modified the allocation size in my entity Id configuration as below:</p>\n</li>\n</ol>\n<p>@Id</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator =&quot;mappingentry_sql_generator&quot;)\n\n@SequenceGenerator(name = &quot;mappingentry_sql_generator&quot;, sequenceName =&quot;mappingentry_id_seq&quot;, allocationSize = 40)\n\nprivate Long id;\n</code></pre>\n<p>Notes: I set the &quot;allocationSize&quot; in the sequence generator to be equal to the &quot;batch_size&quot; value in the setting</p>\n<ol start=\"4\">\n<li>Also, I altered my sequence &quot;mappingentry_id_seq&quot; to increment by 40 as well</li>\n</ol>\n<p>After doing these changes the time was reduced from 55 seconds to 20 seconds which was a great impact</p>\n<p>The only thing that I did not understand is that when I checked the value of the id column that was generated by the sequence I did not find any value gap. Every ID value exceeded the previous by 1, not 40. That is what I am currently trying to understand</p>\n"},{"tags":[],"owner":{"account_id":8920847,"reputation":490,"user_id":6657484,"display_name":"ayman.mostafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691057085,"creation_date":1691057085,"answer_id":76827008,"question_id":62254314,"body_markdown":"I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting.\r\n&lt;BR&gt;In that case, hibernate will call the sequence&#39;s next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>I think you have to make the &quot;allocationSize&quot; setting in your Java entity the same as the sequence increment setting in the DB and the same as the batch size setting.\n<BR>In that case, hibernate will call the sequence's next value once per batch (in the case above, once per every 40 records), generate the next 40 id values (without the need to call the DB), populate the entity with these new ID(s) then save the batch in one shot</p>\n"}],"owner":{"account_id":12241431,"reputation":51,"user_id":8934392,"display_name":"Tu Doan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4148,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1691057085,"creation_date":1591585013,"question_id":62254314,"body_markdown":"Now I&#39;m trying to enhance performance of my web application, I use spring JPA 2.3.0- Hibernate 5.4.15.Final, Postgres 12 and manage transaction by @Transaction. The web app is deployed on aws beanstalk, run multiple instances at the same time, but the database instance is not scalable. And I use bigSerial type for ID of tables.\r\n\r\nFor instance, I have a STUDENTS table, ID is bigSerial and some other columns. \r\nI got a problems when using\r\n\r\n`@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\n\r\n,\r\nHibernate couldn&#39;t batch insert when saving a list of entities. \r\nAnd I try to use\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;students_id_seq&quot;) \r\n    @SequenceGenerator(name = &quot;students_id_seq&quot;, sequenceName = &quot;students_id_seq&quot;)\r\n     \r\n    hibernate.id.new_generator_mappings=false\r\n    hibernate.jdbc.batch_size=10 \r\n    hibernate.order_inserts=true \r\n    hibernate.order_updates=true\r\n    hibernate.batch_versioned_data=true\r\n\r\nIt seem Hibernate could batch insert, but the problem is Hibernate execute `select nextval (&#39;students_id_seq&#39;)` multiple times. If an entity list has 30 items, Hibernate execute `select nextval` 30 times, and 3 times for batch insert query.\r\n\r\nSome statistics:\r\n\r\n - If using GenerationType.IDENTITY\r\n\r\n    + save(entity): \r\n       + `insert into ...`   : execute once\r\n    + saveAll(n entities)\r\n       +  `insert into ...`   : execute n times\r\n\r\n - If using GenerationType.SEQUENCE/ GenerationType.AUTO\r\n\r\n    + save(entity):\r\n       + `select nextval (&#39;students_id_seq&#39;)`: execute once\r\n       + `insert into ...`   : execute once\r\n    + saveAll(n entities):\r\n       + `select nextval (&#39;students_id_seq&#39;)`: execute n times\r\n       +  `insert into ...`   : execute n/batch_size times\r\n\r\nIn conclusion, If using `GenerationType.AUTO` or `GenerationType.SEQUENCE` with `allocationSize = 1`:\r\n\r\n - when insert one entity, application increases 100% times to execute\r\n   queries ( from one insert query only increase to 2 queries: select\r\n   nextval, and insert query )\r\n - when batch insert,  application increase more than 10% if batch_size = 10\r\n\r\n-------------------------\r\n\r\nMy question is, is there anyway to batch insert but not execute to many `select nextval` query ? Something likes `GenerationType.IDENTITY`, not execute `select nextval`, just batch insert and IDs will be handled by sequence in the database.\r\n\r\nWhen I test with `GenerationType.SEQUENCE` and `allocationSize=1` `(GenerationType.AUTO)`, the application executes too much `select nextval` query, I think It is even worse than the IDENTITY strategy.\r\nAnd for some reasons, I don&#39;t want to use `allocationSize`, it may lead to duplicate primary key error when run insert query manual or when migrate data or some other cases.\r\n\r\nAfter some research, I found a way to get a value list of a sequence:\r\n\r\n`select nextval (&#39;students_id_seq&#39;) from generate_series(1,10);`\r\n\r\nWe can replace 10 by entityList.size() or number of entities doesn&#39;t have ID in the entityList when batch insert, just get enough to use, don&#39;t create too much gap between IDs, but I&#39;m not sure whether or not Hibernate supported, if yes, please share me the documentation to reference.\r\n\r\nThank you\r\n\r\nhttps://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232","title":"Spring JPA - Hibernate: Batch insert execute too much select nextval (‘sequence’)","body":"<p>Now I'm trying to enhance performance of my web application, I use spring JPA 2.3.0- Hibernate 5.4.15.Final, Postgres 12 and manage transaction by @Transaction. The web app is deployed on aws beanstalk, run multiple instances at the same time, but the database instance is not scalable. And I use bigSerial type for ID of tables.</p>\n\n<p>For instance, I have a STUDENTS table, ID is bigSerial and some other columns. \nI got a problems when using</p>\n\n<p><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n\n<p>,\nHibernate couldn't batch insert when saving a list of entities. \nAnd I try to use</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO, generator = \"students_id_seq\") \n@SequenceGenerator(name = \"students_id_seq\", sequenceName = \"students_id_seq\")\n\nhibernate.id.new_generator_mappings=false\nhibernate.jdbc.batch_size=10 \nhibernate.order_inserts=true \nhibernate.order_updates=true\nhibernate.batch_versioned_data=true\n</code></pre>\n\n<p>It seem Hibernate could batch insert, but the problem is Hibernate execute <code>select nextval ('students_id_seq')</code> multiple times. If an entity list has 30 items, Hibernate execute <code>select nextval</code> 30 times, and 3 times for batch insert query.</p>\n\n<p>Some statistics:</p>\n\n<ul>\n<li><p>If using GenerationType.IDENTITY</p>\n\n<ul>\n<li>save(entity): \n\n<ul>\n<li><code>insert into ...</code>   : execute once</li>\n</ul></li>\n<li>saveAll(n entities)\n\n<ul>\n<li><code>insert into ...</code>   : execute n times</li>\n</ul></li>\n</ul></li>\n<li><p>If using GenerationType.SEQUENCE/ GenerationType.AUTO</p>\n\n<ul>\n<li>save(entity):\n\n<ul>\n<li><code>select nextval ('students_id_seq')</code>: execute once</li>\n<li><code>insert into ...</code>   : execute once</li>\n</ul></li>\n<li>saveAll(n entities):\n\n<ul>\n<li><code>select nextval ('students_id_seq')</code>: execute n times</li>\n<li><code>insert into ...</code>   : execute n/batch_size times</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>In conclusion, If using <code>GenerationType.AUTO</code> or <code>GenerationType.SEQUENCE</code> with <code>allocationSize = 1</code>:</p>\n\n<ul>\n<li>when insert one entity, application increases 100% times to execute\nqueries ( from one insert query only increase to 2 queries: select\nnextval, and insert query )</li>\n<li>when batch insert,  application increase more than 10% if batch_size = 10</li>\n</ul>\n\n<hr>\n\n<p>My question is, is there anyway to batch insert but not execute to many <code>select nextval</code> query ? Something likes <code>GenerationType.IDENTITY</code>, not execute <code>select nextval</code>, just batch insert and IDs will be handled by sequence in the database.</p>\n\n<p>When I test with <code>GenerationType.SEQUENCE</code> and <code>allocationSize=1</code> <code>(GenerationType.AUTO)</code>, the application executes too much <code>select nextval</code> query, I think It is even worse than the IDENTITY strategy.\nAnd for some reasons, I don't want to use <code>allocationSize</code>, it may lead to duplicate primary key error when run insert query manual or when migrate data or some other cases.</p>\n\n<p>After some research, I found a way to get a value list of a sequence:</p>\n\n<p><code>select nextval ('students_id_seq') from generate_series(1,10);</code></p>\n\n<p>We can replace 10 by entityList.size() or number of entities doesn't have ID in the entityList when batch insert, just get enough to use, don't create too much gap between IDs, but I'm not sure whether or not Hibernate supported, if yes, please share me the documentation to reference.</p>\n\n<p>Thank you</p>\n\n<p><a href=\"https://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232\" rel=\"noreferrer\">https://discourse.hibernate.org/t/batch-insert-execute-too-much-select-nextval-sequence/4232</a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691056988,"creation_date":1691056988,"answer_id":76826998,"question_id":76826655,"body_markdown":"When it comes to creating a new instance of the [FirebaseAuth][1] and [FirebaseDatabase][2] classes, then in both cases, you should call the `getInstance()` method. Besides that, you&#39;ll always have a single instance because both are singleton. There is no need to create another one. There is no problem in calling them in multiple activities.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase","title":"best way of initializing firebase database and auth in Java Android","body":"<p>When it comes to creating a new instance of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a> and <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/FirebaseDatabase\" rel=\"nofollow noreferrer\">FirebaseDatabase</a> classes, then in both cases, you should call the <code>getInstance()</code> method. Besides that, you'll always have a single instance because both are singleton. There is no need to create another one. There is no problem in calling them in multiple activities.</p>\n"}],"owner":{"account_id":28689754,"reputation":38,"user_id":21969231,"display_name":"peleboykulot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76826998,"answer_count":1,"score":1,"last_activity_date":1691057012,"creation_date":1691054708,"question_id":76826655,"body_markdown":"I am confused about how to initialize Firebase auth and database. Is it to make a singleton and use it across every activity or initialize it for every call-in activity?\r\n\r\nI often go to initializing every activity. Can you help me guys to have an insight on what is the best approach?","title":"best way of initializing firebase database and auth in Java Android","body":"<p>I am confused about how to initialize Firebase auth and database. Is it to make a singleton and use it across every activity or initialize it for every call-in activity?</p>\n<p>I often go to initializing every activity. Can you help me guys to have an insight on what is the best approach?</p>\n"},{"tags":["java","swing","intellij-idea","gui-designer"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1691057248,"post_id":76826946,"comment_id":135441271,"body_markdown":"Please share your form file for testing at https://uploads.jetbrains.com and provide the UploadID here","body":"Please share your form file for testing at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and provide the UploadID here"},{"owner":{"account_id":25337265,"reputation":1,"user_id":22331499,"display_name":"Mikhail Bogdanov"},"score":0,"creation_date":1691063625,"post_id":76826946,"comment_id":135442572,"body_markdown":"@EgorKlepikov I think I can&#39;t do it becouse it&#39;s a commercial product, but the solution of problem was to roll back the IDE version (to 2021.3.3).  Before it I update IDE to 2023.2 and there was anoter problem (IDE could&#39;t find my class with icons)","body":"@EgorKlepikov I think I can&#39;t do it becouse it&#39;s a commercial product, but the solution of problem was to roll back the IDE version (to 2021.3.3).  Before it I update IDE to 2023.2 and there was anoter problem (IDE could&#39;t find my class with icons)"}],"owner":{"account_id":25337265,"reputation":1,"user_id":22331499,"display_name":"Mikhail Bogdanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691056845,"creation_date":1691056548,"question_id":76826946,"body_markdown":"Faced such problem: GUI Designer does not show some forms. This happened after the transition to the new version of IDEA (2023.1.4 (Community Edition)). My colleagues who use the old version does not have this problem. The form itself writes that it cannot init class (see screenshot), but the same colleagues do not have the same package. There is also a reference to this class in the IDEA logs. The official GitHub account of IntellijIdea has this package. In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version, but maybe someone knows a more elegant solution to this problem?\r\n\r\n    2023-07-25 16:06:55,038 [108516339]   INFO - #c.i.u.d.GuiEditor - java.lang.reflect.InvocationTargetException java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n        at com.intellij.uiDesigner.radComponents.RadComponent.&lt;init&gt;(RadComponent.java:147)\r\n        at com.intellij.uiDesigner.radComponents.RadContainer.&lt;init&gt;(RadContainer.java:75)\r\n        at com.intellij.uiDesigner.radComponents.RadToolBar.&lt;init&gt;(RadToolBar.java:31)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:131)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\r\n        at com.intellij.uiDesigner.XmlReader.createRoot(XmlReader.java:47)\r\n        at com.intellij.uiDesigner.designSurface.GuiEditor.readFromFile(GuiEditor.java:867)\r\n        at com.intellij.uiDesigner.designSurface.GuiEditor.&lt;init&gt;(GuiEditor.java:296)\r\n        at com.intellij.uiDesigner.editor.UIFormEditor.&lt;init&gt;(UIFormEditor.java:44)\r\n        at com.intellij.uiDesigner.editor.UIFormEditorProvider.createEditor(UIFormEditorProvider.java:34)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.createComposite(FileEditorManagerImpl.kt:1139)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl(FileEditorManagerImpl.kt:1048)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl$default(FileEditorManagerImpl.kt:1035)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:1010)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:996)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$Companion.runBulkTabChange$intellij_platform_ide_impl(FileEditorManagerImpl.kt:390)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$open(FileEditorManagerImpl.kt:996)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$intellij_platform_ide_impl(FileEditorManagerImpl.kt:1024)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2$lambda$22(FileEditorManagerImpl.kt:900)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2(FileEditorManagerImpl.kt:899)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFile(FileEditorManagerImpl.kt:798)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl$lambda$31(FileEditorManagerImpl.kt:1275)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl(FileEditorManagerImpl.kt:1268)\r\n        at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileEditor(FileEditorManagerImpl.kt:1245)\r\n        at com.intellij.openapi.fileEditor.FileEditorManager.openEditor(FileEditorManager.java:239)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInAnyFileEditor(FileNavigatorImpl.java:110)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditor(FileNavigatorImpl.java:86)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditorOrNativeApp(FileNavigatorImpl.java:71)\r\n        at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigate(FileNavigatorImpl.java:49)\r\n        at com.intellij.openapi.fileEditor.OpenFileDescriptor.navigate(OpenFileDescriptor.java:89)\r\n        at com.intellij.psi.impl.source.PsiFileImpl.navigate(PsiFileImpl.java:926)\r\n        at com.intellij.codeInsight.navigation.NavigationUtil.lambda$openFileWithPsiElement$2(NavigationUtil.java:173)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:219)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\r\n        at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\r\n        at com.intellij.codeInsight.navigation.NavigationUtil.openFileWithPsiElement(NavigationUtil.java:169)\r\n        at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:277)\r\n        at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:287)\r\n        at com.intellij.ide.projectView.impl.nodes.PsiFileNode.navigate(PsiFileNode.java:117)\r\n        at com.intellij.util.OpenSourceUtil.navigateToSource(OpenSourceUtil.java:126)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:81)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:59)\r\n        at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:52)\r\n        at com.intellij.util.OpenSourceUtil.openSourcesFrom(OpenSourceUtil.java:20)\r\n        at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.processDoubleClick(EditSourceOnDoubleClickHandler.java:172)\r\n        at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.onDoubleClick(EditSourceOnDoubleClickHandler.java:166)\r\n        at com.intellij.ui.DoubleClickListener.onClick(DoubleClickListener.java:30)\r\n        at com.intellij.ui.ClickListener$1.mouseReleased(ClickListener.java:58)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:298)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6656)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3385)\r\n        at com.intellij.ui.treeStructure.Tree.processMouseEvent(Tree.java:424)\r\n        at com.intellij.ide.dnd.aware.DnDAwareTree.processMouseEvent(DnDAwareTree.java:44)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6421)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5026)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2804)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:790)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:731)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:763)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:761)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:760)\r\n        at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:667)\r\n        at com.intellij.ide.IdeEventQueue.dispatchMouseEvent(IdeEventQueue.kt:615)\r\n        at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:570)\r\n        at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:68)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:349)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:348)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:348)\r\n        at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:343)\r\n        at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:995)\r\n        at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:113)\r\n        at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:995)\r\n        at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$4(IdeEventQueue.kt:343)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:829)\r\n        at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:385)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n\r\n[enter image description here](https://i.stack.imgur.com/7sYoe.jpg)\r\n\r\n[enter image description here](https://i.stack.imgur.com/nDlWu.png)\r\n\r\nIn theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version.","title":"Intellij IDEA GUI Designer: form file is invalid","body":"<p>Faced such problem: GUI Designer does not show some forms. This happened after the transition to the new version of IDEA (2023.1.4 (Community Edition)). My colleagues who use the old version does not have this problem. The form itself writes that it cannot init class (see screenshot), but the same colleagues do not have the same package. There is also a reference to this class in the IDEA logs. The official GitHub account of IntellijIdea has this package. In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version, but maybe someone knows a more elegant solution to this problem?</p>\n<pre><code>2023-07-25 16:06:55,038 [108516339]   INFO - #c.i.u.d.GuiEditor - java.lang.reflect.InvocationTargetException java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.intellij.uiDesigner.radComponents.RadComponent.&lt;init&gt;(RadComponent.java:147)\n    at com.intellij.uiDesigner.radComponents.RadContainer.&lt;init&gt;(RadContainer.java:75)\n    at com.intellij.uiDesigner.radComponents.RadToolBar.&lt;init&gt;(RadToolBar.java:31)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:131)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createComponent(XmlReader.java:224)\n    at com.intellij.uiDesigner.XmlReader.createRoot(XmlReader.java:47)\n    at com.intellij.uiDesigner.designSurface.GuiEditor.readFromFile(GuiEditor.java:867)\n    at com.intellij.uiDesigner.designSurface.GuiEditor.&lt;init&gt;(GuiEditor.java:296)\n    at com.intellij.uiDesigner.editor.UIFormEditor.&lt;init&gt;(UIFormEditor.java:44)\n    at com.intellij.uiDesigner.editor.UIFormEditorProvider.createEditor(UIFormEditorProvider.java:34)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.createComposite(FileEditorManagerImpl.kt:1139)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl(FileEditorManagerImpl.kt:1048)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.doOpenInEdtImpl$default(FileEditorManagerImpl.kt:1035)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:1010)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$openFileImpl4$open$1.invoke(FileEditorManagerImpl.kt:996)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl$Companion.runBulkTabChange$intellij_platform_ide_impl(FileEditorManagerImpl.kt:390)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$open(FileEditorManagerImpl.kt:996)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl4$intellij_platform_ide_impl(FileEditorManagerImpl.kt:1024)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2$lambda$22(FileEditorManagerImpl.kt:900)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileImpl2(FileEditorManagerImpl.kt:899)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFile(FileEditorManagerImpl.kt:798)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl$lambda$31(FileEditorManagerImpl.kt:1275)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:210)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openEditorImpl(FileEditorManagerImpl.kt:1268)\n    at com.intellij.openapi.fileEditor.impl.FileEditorManagerImpl.openFileEditor(FileEditorManagerImpl.kt:1245)\n    at com.intellij.openapi.fileEditor.FileEditorManager.openEditor(FileEditorManager.java:239)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInAnyFileEditor(FileNavigatorImpl.java:110)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditor(FileNavigatorImpl.java:86)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigateInEditorOrNativeApp(FileNavigatorImpl.java:71)\n    at com.intellij.openapi.fileEditor.FileNavigatorImpl.navigate(FileNavigatorImpl.java:49)\n    at com.intellij.openapi.fileEditor.OpenFileDescriptor.navigate(OpenFileDescriptor.java:89)\n    at com.intellij.psi.impl.source.PsiFileImpl.navigate(PsiFileImpl.java:926)\n    at com.intellij.codeInsight.navigation.NavigationUtil.lambda$openFileWithPsiElement$2(NavigationUtil.java:173)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:219)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:174)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:164)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:150)\n    at com.intellij.codeInsight.navigation.NavigationUtil.openFileWithPsiElement(NavigationUtil.java:169)\n    at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:277)\n    at com.intellij.ide.projectView.impl.nodes.AbstractPsiBasedNode.navigate(AbstractPsiBasedNode.java:287)\n    at com.intellij.ide.projectView.impl.nodes.PsiFileNode.navigate(PsiFileNode.java:117)\n    at com.intellij.util.OpenSourceUtil.navigateToSource(OpenSourceUtil.java:126)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:81)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:59)\n    at com.intellij.util.OpenSourceUtil.navigate(OpenSourceUtil.java:52)\n    at com.intellij.util.OpenSourceUtil.openSourcesFrom(OpenSourceUtil.java:20)\n    at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.processDoubleClick(EditSourceOnDoubleClickHandler.java:172)\n    at com.intellij.util.EditSourceOnDoubleClickHandler$TreeMouseListener.onDoubleClick(EditSourceOnDoubleClickHandler.java:166)\n    at com.intellij.ui.DoubleClickListener.onClick(DoubleClickListener.java:30)\n    at com.intellij.ui.ClickListener$1.mouseReleased(ClickListener.java:58)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:298)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6656)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3385)\n    at com.intellij.ui.treeStructure.Tree.processMouseEvent(Tree.java:424)\n    at com.intellij.ide.dnd.aware.DnDAwareTree.processMouseEvent(DnDAwareTree.java:44)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6421)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5026)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2804)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4854)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:790)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:731)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:763)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:761)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:760)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:667)\n    at com.intellij.ide.IdeEventQueue.dispatchMouseEvent(IdeEventQueue.kt:615)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:570)\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:68)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:349)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:348)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:348)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:343)\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:995)\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:113)\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:995)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$4(IdeEventQueue.kt:343)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:829)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:385)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7sYoe.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/nDlWu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In theory, perhaps it can be downloaded and put into classPath, or roll back the IDE version.</p>\n"},{"tags":["java","quadtree"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691090246,"post_id":76826975,"comment_id":135448363,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29151097,"reputation":1,"user_id":22331939,"display_name":"Gabriel Dussault"},"score":0,"creation_date":1691170787,"post_id":76826975,"comment_id":135460759,"body_markdown":"help me please!","body":"help me please!"}],"owner":{"account_id":29151097,"reputation":1,"user_id":22331939,"display_name":"Gabriel Dussault"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691056805,"creation_date":1691056805,"question_id":76826975,"body_markdown":"My game has a quadrant tree for handling collisions (All objects is circles). I made a QuadTree class for my game using GPT, everything was fine, but when I added 5k objects, the game took more than 150ms to process all collisions (very long for my game). The problem was that for each object, the nearest half of the map was returned. I fixed (sort of) freezes, now it returns about 6-10 objects for each, which is good. But now, sometimes when an object appears or moves to some point on the map, it loses its collision, and no object can collide with it from one or more sides. I think it&#39;s because the object is at the junction of two nodes. I have no idea how to fix it, what am I doing wrong?\r\nPlease help me.\r\n\r\nHere is the code of the QuadTree class:\r\n```java\r\n\r\npublic class QuadTree {\r\n\r\n    private static final int MAX_OBJECTS = 5;\r\n\r\n    private static final int MAX_LEVELS = 10;\r\n\r\n\r\n\r\n    private int level;\r\n\r\n    private List&lt;GameObject&gt; objects;\r\n\r\n    private Rectangle bounds;\r\n\r\n    private QuadTree[] nodes;\r\n\r\n\r\n\r\n    public QuadTree(int level, Rectangle bounds) {\r\n\r\n        this.level = level;\r\n\r\n        objects = new ArrayList&lt;&gt;();\r\n\r\n        this.bounds = bounds;\r\n\r\n        nodes = new QuadTree[4];\r\n\r\n    }\r\n\r\n\r\n\r\n    public void clear() {\r\n\r\n        objects.clear();\r\n\r\n\r\n\r\n        for (int i = 0; i &lt; nodes.length; i++) {\r\n\r\n            if (nodes[i] != null) {\r\n\r\n                nodes[i].clear();\r\n\r\n                nodes[i] = null;\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    private void split() {\r\n\r\n        int subWidth = bounds.getWidth() / 2;\r\n\r\n        int subHeight = bounds.getHeight() / 2;\r\n\r\n        int x = bounds.getX();\r\n\r\n        int y = bounds.getY();\r\n\r\n\r\n\r\n        nodes[0] = new QuadTree(level + 1, new Rectangle(x + subWidth, y, subWidth, subHeight));\r\n\r\n        nodes[1] = new QuadTree(level + 1, new Rectangle(x, y, subWidth, subHeight));\r\n\r\n        nodes[2] = new QuadTree(level + 1, new Rectangle(x, y + subHeight, subWidth, subHeight));\r\n\r\n        nodes[3] = new QuadTree(level + 1, new Rectangle(x + subWidth, y + subHeight, subWidth, subHeight));\r\n\r\n    }\r\n\r\n\r\n\r\n    private List&lt;Integer&gt; getIndex(GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = new ArrayList&lt;&gt;();\r\n\r\n        double verticalMidpoint = bounds.getX() + (bounds.getWidth() / 2);\r\n\r\n        double horizontalMidpoint = bounds.getY() + (bounds.getHeight() / 2);\r\n\r\n\r\n\r\n        boolean topQuadrant = (circle.getY() + (circle.getRadius() / 2) &lt; horizontalMidpoint);\r\n\r\n        boolean bottomQuadrant = (circle.getY() + (circle.getRadius() / 2) &gt; horizontalMidpoint);\r\n\r\n\r\n\r\n        if (circle.getX() + (circle.getRadius() / 2) &lt; verticalMidpoint) {\r\n\r\n            if (topQuadrant) {\r\n\r\n                index.add(1);\r\n\r\n            } else if (bottomQuadrant) {\r\n\r\n                index.add(2);\r\n\r\n            }\r\n\r\n        } else if (circle.getX() + (circle.getRadius() / 2) &gt; verticalMidpoint) {\r\n\r\n            if (topQuadrant) {\r\n\r\n                index.add(0);\r\n\r\n            } else if (bottomQuadrant) {\r\n\r\n                index.add(3);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        return index;\r\n\r\n    }\r\n\r\n\r\n\r\n    public void remove(GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i : index) {\r\n\r\n                if (nodes[i].bounds.contains(circle))\r\n\r\n                    nodes[i].remove(circle);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            objects.remove(circle);\r\n\r\n        }\r\n\r\n\r\n\r\n        if (objects.size() &lt; MAX_OBJECTS &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i = 0; i &lt; nodes.length; i++) {\r\n\r\n                if (nodes[i] != null) {\r\n\r\n                    nodes[i].clear();\r\n\r\n                    nodes[i] = null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public void insert(GameObject circle) {\r\n\r\n        if (nodes[0] != null) {\r\n\r\n            List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n            if (index.size() &gt; 0) {\r\n\r\n                for (int i : index) {\r\n\r\n                    if (nodes[i].bounds.contains(circle))\r\n\r\n                        nodes[i].insert(circle);\r\n\r\n                }\r\n\r\n                return;\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            objects.add(circle);\r\n\r\n        }\r\n\r\n\r\n\r\n        if (objects.size() &gt; MAX_OBJECTS &amp;&amp; level &lt; MAX_LEVELS) {\r\n\r\n            if (nodes[0] == null) {\r\n\r\n                split();\r\n\r\n            }\r\n\r\n\r\n\r\n            int i = 0;\r\n\r\n            while (i &lt; objects.size()) {\r\n\r\n                List&lt;Integer&gt; index = getIndex(objects.get(i));\r\n\r\n                if (index.size() &gt; 0) {\r\n\r\n                    for (int io : index) {\r\n\r\n                        if (nodes[io].bounds.contains(objects.get(i)))\r\n\r\n                            nodes[io].insert(objects.remove(i));\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    i++;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public List&lt;GameObject&gt; retrieve(List&lt;GameObject&gt; returnObjects, GameObject circle) {\r\n\r\n        List&lt;Integer&gt; index = getIndex(circle);\r\n\r\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\r\n\r\n            for (int i : index) {\r\n\r\n                if (nodes[i].bounds.contains(circle))\r\n\r\n                    nodes[i].retrieve(returnObjects, circle);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        returnObjects.addAll(objects);\r\n\r\n\r\n\r\n        return returnObjects;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAll nearby objects should have been returned to handle collisions, but because something went wrong when searching for objects at the intersection of the node, this did not happen.","title":"QuadTree not scanning objects in some areas","body":"<p>My game has a quadrant tree for handling collisions (All objects is circles). I made a QuadTree class for my game using GPT, everything was fine, but when I added 5k objects, the game took more than 150ms to process all collisions (very long for my game). The problem was that for each object, the nearest half of the map was returned. I fixed (sort of) freezes, now it returns about 6-10 objects for each, which is good. But now, sometimes when an object appears or moves to some point on the map, it loses its collision, and no object can collide with it from one or more sides. I think it's because the object is at the junction of two nodes. I have no idea how to fix it, what am I doing wrong?\nPlease help me.</p>\n<p>Here is the code of the QuadTree class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class QuadTree {\n\n    private static final int MAX_OBJECTS = 5;\n\n    private static final int MAX_LEVELS = 10;\n\n\n\n    private int level;\n\n    private List&lt;GameObject&gt; objects;\n\n    private Rectangle bounds;\n\n    private QuadTree[] nodes;\n\n\n\n    public QuadTree(int level, Rectangle bounds) {\n\n        this.level = level;\n\n        objects = new ArrayList&lt;&gt;();\n\n        this.bounds = bounds;\n\n        nodes = new QuadTree[4];\n\n    }\n\n\n\n    public void clear() {\n\n        objects.clear();\n\n\n\n        for (int i = 0; i &lt; nodes.length; i++) {\n\n            if (nodes[i] != null) {\n\n                nodes[i].clear();\n\n                nodes[i] = null;\n\n            }\n\n        }\n\n    }\n\n\n\n    private void split() {\n\n        int subWidth = bounds.getWidth() / 2;\n\n        int subHeight = bounds.getHeight() / 2;\n\n        int x = bounds.getX();\n\n        int y = bounds.getY();\n\n\n\n        nodes[0] = new QuadTree(level + 1, new Rectangle(x + subWidth, y, subWidth, subHeight));\n\n        nodes[1] = new QuadTree(level + 1, new Rectangle(x, y, subWidth, subHeight));\n\n        nodes[2] = new QuadTree(level + 1, new Rectangle(x, y + subHeight, subWidth, subHeight));\n\n        nodes[3] = new QuadTree(level + 1, new Rectangle(x + subWidth, y + subHeight, subWidth, subHeight));\n\n    }\n\n\n\n    private List&lt;Integer&gt; getIndex(GameObject circle) {\n\n        List&lt;Integer&gt; index = new ArrayList&lt;&gt;();\n\n        double verticalMidpoint = bounds.getX() + (bounds.getWidth() / 2);\n\n        double horizontalMidpoint = bounds.getY() + (bounds.getHeight() / 2);\n\n\n\n        boolean topQuadrant = (circle.getY() + (circle.getRadius() / 2) &lt; horizontalMidpoint);\n\n        boolean bottomQuadrant = (circle.getY() + (circle.getRadius() / 2) &gt; horizontalMidpoint);\n\n\n\n        if (circle.getX() + (circle.getRadius() / 2) &lt; verticalMidpoint) {\n\n            if (topQuadrant) {\n\n                index.add(1);\n\n            } else if (bottomQuadrant) {\n\n                index.add(2);\n\n            }\n\n        } else if (circle.getX() + (circle.getRadius() / 2) &gt; verticalMidpoint) {\n\n            if (topQuadrant) {\n\n                index.add(0);\n\n            } else if (bottomQuadrant) {\n\n                index.add(3);\n\n            }\n\n        }\n\n\n\n        return index;\n\n    }\n\n\n\n    public void remove(GameObject circle) {\n\n        List&lt;Integer&gt; index = getIndex(circle);\n\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\n\n            for (int i : index) {\n\n                if (nodes[i].bounds.contains(circle))\n\n                    nodes[i].remove(circle);\n\n            }\n\n        } else {\n\n            objects.remove(circle);\n\n        }\n\n\n\n        if (objects.size() &lt; MAX_OBJECTS &amp;&amp; nodes[0] != null) {\n\n            for (int i = 0; i &lt; nodes.length; i++) {\n\n                if (nodes[i] != null) {\n\n                    nodes[i].clear();\n\n                    nodes[i] = null;\n\n                }\n\n            }\n\n        }\n\n    }\n\n\n\n    public void insert(GameObject circle) {\n\n        if (nodes[0] != null) {\n\n            List&lt;Integer&gt; index = getIndex(circle);\n\n            if (index.size() &gt; 0) {\n\n                for (int i : index) {\n\n                    if (nodes[i].bounds.contains(circle))\n\n                        nodes[i].insert(circle);\n\n                }\n\n                return;\n\n            }\n\n        } else {\n\n            objects.add(circle);\n\n        }\n\n\n\n        if (objects.size() &gt; MAX_OBJECTS &amp;&amp; level &lt; MAX_LEVELS) {\n\n            if (nodes[0] == null) {\n\n                split();\n\n            }\n\n\n\n            int i = 0;\n\n            while (i &lt; objects.size()) {\n\n                List&lt;Integer&gt; index = getIndex(objects.get(i));\n\n                if (index.size() &gt; 0) {\n\n                    for (int io : index) {\n\n                        if (nodes[io].bounds.contains(objects.get(i)))\n\n                            nodes[io].insert(objects.remove(i));\n\n                    }\n\n                } else {\n\n                    i++;\n\n                }\n\n            }\n\n        }\n\n    }\n\n\n\n    public List&lt;GameObject&gt; retrieve(List&lt;GameObject&gt; returnObjects, GameObject circle) {\n\n        List&lt;Integer&gt; index = getIndex(circle);\n\n        if (index.size() &gt; 0 &amp;&amp; nodes[0] != null) {\n\n            for (int i : index) {\n\n                if (nodes[i].bounds.contains(circle))\n\n                    nodes[i].retrieve(returnObjects, circle);\n\n            }\n\n        }\n\n\n\n        returnObjects.addAll(objects);\n\n\n\n        return returnObjects;\n\n    }\n\n}\n\n</code></pre>\n<p>All nearby objects should have been returned to handle collisions, but because something went wrong when searching for objects at the intersection of the node, this did not happen.</p>\n"},{"tags":["java","http","multipartform-data","multipart"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261651002,"creation_date":1261649921,"answer_id":1957728,"question_id":1957696,"body_markdown":"To the point, you need to construct an outputstream with data in the format as specified in [RFC 1687][1] and [RFC 2388][2]. It&#39;s a lot of work, I am not going to post a kickoff code example, sorry :) The RFC however contains clear information and several examples how the data should look like. It is absolutely doable.\r\n\r\n\r\n  [1]: http://www.faqs.org/rfcs/rfc1867.html\r\n  [2]: http://www.faqs.org/rfcs/rfc2388.html","title":"Creating a post request including a multipart file upload","body":"<p>To the point, you need to construct an outputstream with data in the format as specified in <a href=\"http://www.faqs.org/rfcs/rfc1867.html\" rel=\"nofollow noreferrer\">RFC 1687</a> and <a href=\"http://www.faqs.org/rfcs/rfc2388.html\" rel=\"nofollow noreferrer\">RFC 2388</a>. It's a lot of work, I am not going to post a kickoff code example, sorry :) The RFC however contains clear information and several examples how the data should look like. It is absolutely doable.</p>\n"},{"tags":[],"owner":{"account_id":9148,"reputation":16366,"user_id":16784,"accept_rate":82,"display_name":"Confusion"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1691056704,"creation_date":1261650012,"answer_id":1957735,"question_id":1957696,"body_markdown":"Currently you aren&#39;t using HTTP at all. If you intend to do a POST, the first thing you need to do is make sure you send the correct headers and such, so you are actually engaging in an HTTP connection. Then you need to follow RFC 1867 ( https://www.rfc-editor.org/rfc/rfc1867 ) to properly encode the file contents into your POST. This is not easy, which is why there are libraries out there which do this for you. So I have to ask: why avoid HttpClient? I&#39;ve always used it for this purpose. It&#39;s reliable, complete and performant. Are you short on (memory/disk) space?","title":"Creating a post request including a multipart file upload","body":"<p>Currently you aren't using HTTP at all. If you intend to do a POST, the first thing you need to do is make sure you send the correct headers and such, so you are actually engaging in an HTTP connection. Then you need to follow RFC 1867 ( <a href=\"https://www.rfc-editor.org/rfc/rfc1867\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc1867</a> ) to properly encode the file contents into your POST. This is not easy, which is why there are libraries out there which do this for you. So I have to ask: why avoid HttpClient? I've always used it for this purpose. It's reliable, complete and performant. Are you short on (memory/disk) space?</p>\n"},{"tags":[],"owner":{"account_id":1275039,"reputation":1174,"user_id":1230483,"accept_rate":44,"display_name":"Aashish Katta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333365190,"creation_date":1333365190,"answer_id":9975363,"question_id":1957696,"body_markdown":"Try this as this worked in my case\r\n\r\n    File f = new File(filePath);\r\n    PostMethod filePost = new PostMethod(url);\r\n    Part[] parts = { new FilePart(&quot;file&quot;, f) };\r\n    filePost.setRequestEntity(new MultipartRequestEntity(parts,\r\n    filePost.getParams()));\r\n    HttpClient client = new HttpClient();\r\n    status = client.executeMethod(filePost);\r\n    logger.info(&quot;upload status: &quot; + status);\r\n\r\n\r\n\r\n","title":"Creating a post request including a multipart file upload","body":"<p>Try this as this worked in my case</p>\n\n<pre><code>File f = new File(filePath);\nPostMethod filePost = new PostMethod(url);\nPart[] parts = { new FilePart(\"file\", f) };\nfilePost.setRequestEntity(new MultipartRequestEntity(parts,\nfilePost.getParams()));\nHttpClient client = new HttpClient();\nstatus = client.executeMethod(filePost);\nlogger.info(\"upload status: \" + status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212844,"reputation":6042,"user_id":1181063,"display_name":"Florian Sesser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481387529,"creation_date":1481387529,"answer_id":41077730,"question_id":1957696,"body_markdown":"This code snippet served me well: [Upload files by sending multipart request programmatically](http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically)\r\n\r\nIt does not have any external dependencies, is only ~ 150 lines of code including comments and is IMHO even easier to handle than the Apache HttpClient library.","title":"Creating a post request including a multipart file upload","body":"<p>This code snippet served me well: <a href=\"http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically\" rel=\"nofollow noreferrer\">Upload files by sending multipart request programmatically</a></p>\n\n<p>It does not have any external dependencies, is only ~ 150 lines of code including comments and is IMHO even easier to handle than the Apache HttpClient library.</p>\n"}],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":1957735,"answer_count":4,"score":0,"last_activity_date":1691056704,"creation_date":1261649513,"question_id":1957696,"body_markdown":"I am writing a simple snippet which sends a simple post request.\r\n\r\nCurrently I am building the request like so:\r\n\r\n        // Construct data\r\n        String data = URLEncoder.encode(&quot;param1&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(&quot;val1&quot;, &quot;UTF-8&quot;);\r\n        data += &quot;&amp;&quot; + URLEncoder.encode(&quot;param2&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(&quot;val2&quot;, &quot;UTF-8&quot;);\r\n        \r\n        // Send data\r\n        URL url = new URL(&quot;http://server:8080/servlet/upload&quot;);\r\n        URLConnection conn = url.openConnection();\r\n        conn.setDoOutput(true);\r\n        OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\r\n        wr.write(data);\r\n        wr.flush();\r\n\r\n        // do stuff with response....\r\nThis works, as of now. But I need to add a file upload as a multipart POST request.\r\nHow can I do this? I would like to avoid using `HttpClient` from commons if possible.","title":"Creating a post request including a multipart file upload","body":"<p>I am writing a simple snippet which sends a simple post request.</p>\n\n<p>Currently I am building the request like so:</p>\n\n<pre><code>    // Construct data\n    String data = URLEncoder.encode(\"param1\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"val1\", \"UTF-8\");\n    data += \"&amp;\" + URLEncoder.encode(\"param2\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"val2\", \"UTF-8\");\n\n    // Send data\n    URL url = new URL(\"http://server:8080/servlet/upload\");\n    URLConnection conn = url.openConnection();\n    conn.setDoOutput(true);\n    OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\n    wr.write(data);\n    wr.flush();\n\n    // do stuff with response....\n</code></pre>\n\n<p>This works, as of now. But I need to add a file upload as a multipart POST request.\nHow can I do this? I would like to avoid using <code>HttpClient</code> from commons if possible.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22849397,"reputation":1,"user_id":16995249,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691056398,"creation_date":1691056398,"answer_id":76826929,"question_id":75198293,"body_markdown":"Language Support for Java v1.15.0  = Seems broken\r\n\r\nChange the version doing the downgrade to the\r\n\r\nLanguage Support for Java to v1.14.0.","title":"VSCode takes a lot of time to Load Java Projects on creating","body":"<p>Language Support for Java v1.15.0  = Seems broken</p>\n<p>Change the version doing the downgrade to the</p>\n<p>Language Support for Java to v1.14.0.</p>\n"}],"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691056398,"creation_date":1674364149,"question_id":75198293,"body_markdown":"VScode takes a really long time to load a Java project on creating it for the first time also can I change files(start writing my code in the files during this Opening process)\r\n\r\nI have just started learning Java Full Stack. I am using VSCode and I dont think I am going to switch IDE. So, the problem I face is everytime I create a new Java project it says Opening Java projects check details and it keeps loading for a very long time. Can I fix this anyway or atleast can I check how much time is it going to take to open this java project and also can I change the files and start learning while this opening process is going on???","title":"VSCode takes a lot of time to Load Java Projects on creating","body":"<p>VScode takes a really long time to load a Java project on creating it for the first time also can I change files(start writing my code in the files during this Opening process)</p>\n<p>I have just started learning Java Full Stack. I am using VSCode and I dont think I am going to switch IDE. So, the problem I face is everytime I create a new Java project it says Opening Java projects check details and it keeps loading for a very long time. Can I fix this anyway or atleast can I check how much time is it going to take to open this java project and also can I change the files and start learning while this opening process is going on???</p>\n"},{"tags":["java","spring-boot","cypher","jqassistant"],"answers":[{"tags":[],"owner":{"account_id":3479819,"reputation":1186,"user_id":2912200,"display_name":"Dirk Mahler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691056010,"creation_date":1691056010,"answer_id":76826858,"question_id":76809330,"body_markdown":"There&#39;s no generic way of matching the client invocations to the providing service endpoints - it&#39;s highly dependent on the programming model of the client. Feign has a declarative model which makes it quite easy to provide the mapping, but there would be nearly no chance to do this if someone used Apache HTTP client constructing resource URLs by doing string concatenation.\r\nEnabling this kind of client-server interaction analysis would add requirements to the programming model used on client side, e.g. to use Feign or OpenAPI contracts. For the latter we&#39;re currently building a scanner which will be available in autumn this year.","title":"jQAssistant analysis to find microservices and their clients","body":"<p>There's no generic way of matching the client invocations to the providing service endpoints - it's highly dependent on the programming model of the client. Feign has a declarative model which makes it quite easy to provide the mapping, but there would be nearly no chance to do this if someone used Apache HTTP client constructing resource URLs by doing string concatenation.\nEnabling this kind of client-server interaction analysis would add requirements to the programming model used on client side, e.g. to use Feign or OpenAPI contracts. For the latter we're currently building a scanner which will be available in autumn this year.</p>\n"}],"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826858,"answer_count":1,"score":0,"last_activity_date":1691056010,"creation_date":1690874515,"question_id":76809330,"body_markdown":"I&#39;m following https://github.com/graphaware/fix-your-microservices to scan and identify the Micro services and their respective consumers to identify if there are any circular dependencies in my application. \r\n\r\nThe challenge in my case is the consumers may use any one of the client libraries including Github OpenFeign, Spring OpenFeign, Apache HTTP Client, OAuthRestTemplate/RestTemplate, OkHttpClient etc. I&#39;m able to identify the Rest Controllers in my spring boot based application. That&#39;s pretty straight forward using the RestController annotations. What&#39;s challenging is to identify the client/consumers using the REST API&#39;s by the path and match them with the provider REST API&#39;s. \r\n\r\nEach client library have a different way of invoking the services. Its fine even it means to write separate cypher queries for each of the libraries. But I&#39;m not able to identify the relation as mentioned in the above article using `INVOKES_REMOTE`. What would be the approach to match the client invocation of those services using the respective URI ? I&#39;m using jqassistant command-line 1.12.2 utility to scan multiple microservices from my source.\r\n\r\nThanks in advance.","title":"jQAssistant analysis to find microservices and their clients","body":"<p>I'm following <a href=\"https://github.com/graphaware/fix-your-microservices\" rel=\"nofollow noreferrer\">https://github.com/graphaware/fix-your-microservices</a> to scan and identify the Micro services and their respective consumers to identify if there are any circular dependencies in my application.</p>\n<p>The challenge in my case is the consumers may use any one of the client libraries including Github OpenFeign, Spring OpenFeign, Apache HTTP Client, OAuthRestTemplate/RestTemplate, OkHttpClient etc. I'm able to identify the Rest Controllers in my spring boot based application. That's pretty straight forward using the RestController annotations. What's challenging is to identify the client/consumers using the REST API's by the path and match them with the provider REST API's.</p>\n<p>Each client library have a different way of invoking the services. Its fine even it means to write separate cypher queries for each of the libraries. But I'm not able to identify the relation as mentioned in the above article using <code>INVOKES_REMOTE</code>. What would be the approach to match the client invocation of those services using the respective URI ? I'm using jqassistant command-line 1.12.2 utility to scan multiple microservices from my source.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","soap"],"answers":[{"tags":[],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691055983,"creation_date":1691055909,"answer_id":76826838,"question_id":76787227,"body_markdown":"I managed to send attachments like this\r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class ByteArrayDataSource implements javax.activation.DataSource {\r\n    private final byte[] data;\r\n    private final String contentType;\r\n\r\n    public ByteArrayDataSource(byte[] data, String contentType) {\r\n        this.data = data;\r\n        this.contentType = contentType;\r\n    }\r\n\r\n    @Override\r\n    public InputStream getInputStream() {\r\n        return new ByteArrayInputStream(data);\r\n    }\r\n\r\n    @Override\r\n    public OutputStream getOutputStream() {\r\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;ByteArrayDataSource&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n public &lt;T, L&gt; boolean sendRequestWithAttachment(T request, Class&lt;L&gt; responseClass, Photo attachment) {\r\n        try {\r\n            // Create a SOAPMessage object\r\n            MessageFactory messageFactory = MessageFactory.newInstance();\r\n            SOAPMessage soapMessage = messageFactory.createMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n            // Construct the SOAP request\r\n            SOAPEnvelope envelope = soapPart.getEnvelope();\r\n            SOAPBody body = envelope.getBody();\r\n\r\n            // Marshal request object\r\n            JAXBContext jc = JAXBContext.newInstance(request.getClass());\r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.marshal(request, body);\r\n\r\n            // Create and add attachment parts\r\n            String attachmentName = attachment.getFileName();\r\n            String contentType = attachment.getPhoto().getMime();\r\n            String finalContentType = contentType + &quot;; name=&quot; + attachmentName;\r\n            byte[] attachmentBytes = attachment.getPhoto().getData();\r\n\r\n            DataHandler dataHandler = new DataHandler(new ByteArrayDataSource(attachmentBytes, contentType));\r\n\r\n            AttachmentPart attachmentPart = soapMessage.createAttachmentPart();\r\n            attachmentPart.setContentId(attachmentName);\r\n            attachmentPart.setContentType(finalContentType);\r\n            attachmentPart.setMimeHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n            attachmentPart.setMimeHeader(&quot;Content-Disposition&quot;, &quot;attachment; name=\\&quot;&quot; + attachmentName + &quot;\\&quot;; filename=\\&quot;&quot; + attachmentName + &quot;\\&quot;&quot;);\r\n            attachmentPart.setDataHandler(dataHandler);\r\n\r\n            soapMessage.addAttachmentPart(attachmentPart);\r\n\r\n            // Save message changes\r\n            soapMessage.saveChanges();\r\n\r\n            // Set SOAP headers\r\n            String requestContentType = &quot;multipart/related; type=\\&quot;text/xml\\&quot;; start=\\&quot;&lt;rootpart@soapui.org&gt;\\&quot;&quot;;\r\n            MimeHeaders headers = soapMessage.getMimeHeaders();\r\n            headers.addHeader(&quot;SOAPAction&quot;, &quot;&quot;);\r\n            headers.addHeader(&quot;Content-Type&quot;, requestContentType);\r\n\r\n            String credentials = userName + &quot;:&quot; + password;\r\n            String encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes(StandardCharsets.UTF_8));\r\n            headers.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n\r\n            // Send the SOAP request and receive the response\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n\r\n            SOAPMessage soapResponse = soapConnection.call(soapMessage, uri);\r\n\r\n            // SOAP response to string\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            soapResponse.writeTo(out);\r\n            String response = out.toString();\r\n\r\n            // Close the connection\r\n            soapConnection.close();\r\n\r\n            // Ummarshal response to object\r\n            ummarshalResponse(response ,responseClass);\r\n            return true;\r\n        } catch (Exception ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n```","title":"How do i add image/jpeg as attachment to SOAP request","body":"<p>I managed to send attachments like this</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class ByteArrayDataSource implements javax.activation.DataSource {\n    private final byte[] data;\n    private final String contentType;\n\n    public ByteArrayDataSource(byte[] data, String contentType) {\n        this.data = data;\n        this.contentType = contentType;\n    }\n\n    @Override\n    public InputStream getInputStream() {\n        return new ByteArrayInputStream(data);\n    }\n\n    @Override\n    public OutputStream getOutputStream() {\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\n    }\n\n    @Override\n    public String getContentType() {\n        return contentType;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;ByteArrayDataSource&quot;;\n    }\n}\n</code></pre>\n<pre><code> public &lt;T, L&gt; boolean sendRequestWithAttachment(T request, Class&lt;L&gt; responseClass, Photo attachment) {\n        try {\n            // Create a SOAPMessage object\n            MessageFactory messageFactory = MessageFactory.newInstance();\n            SOAPMessage soapMessage = messageFactory.createMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n\n            // Construct the SOAP request\n            SOAPEnvelope envelope = soapPart.getEnvelope();\n            SOAPBody body = envelope.getBody();\n\n            // Marshal request object\n            JAXBContext jc = JAXBContext.newInstance(request.getClass());\n            Marshaller marshaller = jc.createMarshaller();\n            marshaller.marshal(request, body);\n\n            // Create and add attachment parts\n            String attachmentName = attachment.getFileName();\n            String contentType = attachment.getPhoto().getMime();\n            String finalContentType = contentType + &quot;; name=&quot; + attachmentName;\n            byte[] attachmentBytes = attachment.getPhoto().getData();\n\n            DataHandler dataHandler = new DataHandler(new ByteArrayDataSource(attachmentBytes, contentType));\n\n            AttachmentPart attachmentPart = soapMessage.createAttachmentPart();\n            attachmentPart.setContentId(attachmentName);\n            attachmentPart.setContentType(finalContentType);\n            attachmentPart.setMimeHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n            attachmentPart.setMimeHeader(&quot;Content-Disposition&quot;, &quot;attachment; name=\\&quot;&quot; + attachmentName + &quot;\\&quot;; filename=\\&quot;&quot; + attachmentName + &quot;\\&quot;&quot;);\n            attachmentPart.setDataHandler(dataHandler);\n\n            soapMessage.addAttachmentPart(attachmentPart);\n\n            // Save message changes\n            soapMessage.saveChanges();\n\n            // Set SOAP headers\n            String requestContentType = &quot;multipart/related; type=\\&quot;text/xml\\&quot;; start=\\&quot;&lt;rootpart@soapui.org&gt;\\&quot;&quot;;\n            MimeHeaders headers = soapMessage.getMimeHeaders();\n            headers.addHeader(&quot;SOAPAction&quot;, &quot;&quot;);\n            headers.addHeader(&quot;Content-Type&quot;, requestContentType);\n\n            String credentials = userName + &quot;:&quot; + password;\n            String encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes(StandardCharsets.UTF_8));\n            headers.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\n\n            // Send the SOAP request and receive the response\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n            SOAPMessage soapResponse = soapConnection.call(soapMessage, uri);\n\n            // SOAP response to string\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            soapResponse.writeTo(out);\n            String response = out.toString();\n\n            // Close the connection\n            soapConnection.close();\n\n            // Ummarshal response to object\n            ummarshalResponse(response ,responseClass);\n            return true;\n        } catch (Exception ex) {\n            return false;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826838,"answer_count":1,"score":0,"last_activity_date":1691055983,"creation_date":1690542378,"question_id":76787227,"body_markdown":"I have this method, which works:\r\n\r\n```\r\npublic &lt;T, L&gt; L sendRequest(T request) {\r\n\r\n        L responseClass;\r\n        try {\r\n            responseClass = (L) getWebServiceTemplate()\r\n                    .marshalSendAndReceive(uri, request,\r\n                                           new SoapActionCallback(\r\n                                                   uri + &quot;/&quot; + request.getClass().getName()));\r\n        } catch (SoapFaultClientException ex) {\r\n        \tthrow new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error&quot;, ex);\r\n        } catch (Exception ex) {\r\n        \tthrow new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error 2&quot;, ex);\r\n        }\r\n\r\n        return responseClass;\r\n    }\r\n```\r\n\r\nRequest objects are generated from wsdl.\r\nI need to implement sending image/jpeg as attachment in SOAP request.\r\n\r\n`public &lt;T, L&gt; L sendRequestWithAttachment(T request, byte[] imageData)`\r\n\r\nI know i probably have to use AttachmentPart, but I cant find the way to make it work. Thanks in advance for any help","title":"How do i add image/jpeg as attachment to SOAP request","body":"<p>I have this method, which works:</p>\n<pre><code>public &lt;T, L&gt; L sendRequest(T request) {\n\n        L responseClass;\n        try {\n            responseClass = (L) getWebServiceTemplate()\n                    .marshalSendAndReceive(uri, request,\n                                           new SoapActionCallback(\n                                                   uri + &quot;/&quot; + request.getClass().getName()));\n        } catch (SoapFaultClientException ex) {\n            throw new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error&quot;, ex);\n        } catch (Exception ex) {\n            throw new CommonException(HttpStatus.BAD_REQUEST, &quot;Some error 2&quot;, ex);\n        }\n\n        return responseClass;\n    }\n</code></pre>\n<p>Request objects are generated from wsdl.\nI need to implement sending image/jpeg as attachment in SOAP request.</p>\n<p><code>public &lt;T, L&gt; L sendRequestWithAttachment(T request, byte[] imageData)</code></p>\n<p>I know i probably have to use AttachmentPart, but I cant find the way to make it work. Thanks in advance for any help</p>\n"},{"tags":["javascript","java","charts","vaadin","echarts"],"comments":[{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691060092,"post_id":76826777,"comment_id":135441843,"body_markdown":"I dont know anything about Vaadin but in echarts its neccessary to set the size of the underlying div. From [SO Charts](https://vaadin.com/directory/component/so-charts) sample code I can see a similar procedure: `soChart.setSize(&quot;800px&quot;, &quot;500px&quot;);`. Are you setting the size? Are you able to get any visual output other than a line?","body":"I dont know anything about Vaadin but in echarts its neccessary to set the size of the underlying div. From <a href=\"https://vaadin.com/directory/component/so-charts\" rel=\"nofollow noreferrer\">SO Charts</a> sample code I can see a similar procedure: <code>soChart.setSize(&quot;800px&quot;, &quot;500px&quot;);</code>. Are you setting the size? Are you able to get any visual output other than a line?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691067734,"post_id":76826777,"comment_id":135443459,"body_markdown":"I always used setSizeFull() to make the chart responsive but as you suggested I also tried to set a fixed sizing and this is the result: https://imgur.com/a/ZF7fMub","body":"I always used setSizeFull() to make the chart responsive but as you suggested I also tried to set a fixed sizing and this is the result: <a href=\"https://imgur.com/a/ZF7fMub\" rel=\"nofollow noreferrer\">imgur.com/a/ZF7fMub</a>"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691067766,"post_id":76826777,"comment_id":135443470,"body_markdown":"A gist containing the source is here: https://gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942fa","body":"A gist containing the source is here: <a href=\"https://gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942fa\" rel=\"nofollow noreferrer\">gist.github.com/MyHouseIsBig/36d3ef9e4d039a64493a33d905f942f&zwnj;&#8203;a</a>"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691069790,"post_id":76826777,"comment_id":135443957,"body_markdown":"Is the given image an improvement? How do you want it to look?","body":"Is the given image an improvement? How do you want it to look?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691073018,"post_id":76826777,"comment_id":135444785,"body_markdown":"There should be a big red line that goes from 99900 to 99990","body":"There should be a big red line that goes from 99900 to 99990"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691073894,"post_id":76826777,"comment_id":135444990,"body_markdown":"You are also setting the yValues to 99900 and 99990. Is this intentional?","body":"You are also setting the yValues to 99900 and 99990. Is this intentional?"},{"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"score":0,"creation_date":1691075015,"post_id":76826777,"comment_id":135445262,"body_markdown":"I&#39;m setting the values to a certain index in the xValues or yValues array. For example xValues.get(99900) is equal to 99900 but yValues.get(99900)) is equal to something between 0.1 and 0.9","body":"I&#39;m setting the values to a certain index in the xValues or yValues array. For example xValues.get(99900) is equal to 99900 but yValues.get(99900)) is equal to something between 0.1 and 0.9"},{"owner":{"account_id":28903024,"reputation":728,"user_id":22137541,"display_name":"Matthias Mertens"},"score":0,"creation_date":1691081665,"post_id":76826777,"comment_id":135446658,"body_markdown":"mhh.. and you are sure that the syntax should work like that? Maybe its only plotting two points which are not shown on the large scale. Try plotting only a few points to reduce complexity. How would you add multiple additional lines?","body":"mhh.. and you are sure that the syntax should work like that? Maybe its only plotting two points which are not shown on the large scale. Try plotting only a few points to reduce complexity. How would you add multiple additional lines?"}],"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691055872,"creation_date":1691055556,"question_id":76826777,"body_markdown":"I&#39;ve tried almost everything to solve it by myself but i cannot find a way to create a line with a start position and an end position and add it to a chart. From the documentation that I found on [HERE](https://storedobject.com/api/com/storedobject/chart/Line.html) I coded the snippet below. The xValues and yValues are some random values that I generated for a LineChart but I also tried with some custom numeric values.\r\n\r\nAny help would be really appreciated ❤️.\r\n\r\n\r\n````java\r\n// Add a custom line on the chart\r\nLine line = new Line(new Shape.Point(xValues.get(99900), yValues.get(99900)), new Shape.Point(xValues.get(99990), yValues.get(99990)));\r\nline.setName(&quot;Linea importantissima&quot;);\r\nline.getStyle(true).setFillColor(new Color(&quot;red&quot;));\r\nline.getStyle(true).setLineWidth(10);\r\n\r\nsoChart.add(... , line);\r\n````","title":"Cannot add lines to a chart using Vaadin SOCharts","body":"<p>I've tried almost everything to solve it by myself but i cannot find a way to create a line with a start position and an end position and add it to a chart. From the documentation that I found on <a href=\"https://storedobject.com/api/com/storedobject/chart/Line.html\" rel=\"nofollow noreferrer\">HERE</a> I coded the snippet below. The xValues and yValues are some random values that I generated for a LineChart but I also tried with some custom numeric values.</p>\n<p>Any help would be really appreciated ❤️.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add a custom line on the chart\nLine line = new Line(new Shape.Point(xValues.get(99900), yValues.get(99900)), new Shape.Point(xValues.get(99990), yValues.get(99990)));\nline.setName(&quot;Linea importantissima&quot;);\nline.getStyle(true).setFillColor(new Color(&quot;red&quot;));\nline.getStyle(true).setLineWidth(10);\n\nsoChart.add(... , line);\n</code></pre>\n"},{"tags":["java","dependencies"],"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1691055055,"post_id":76826634,"comment_id":135440734,"body_markdown":"This has already been asked and answered here: https://stackoverflow.com/questions/45842742/when-would-i-need-maven-dependency-with-runtime-scope","body":"This has already been asked and answered here: <a href=\"https://stackoverflow.com/questions/45842742/when-would-i-need-maven-dependency-with-runtime-scope\" title=\"when would i need maven dependency with runtime scope\">stackoverflow.com/questions/45842742/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1691055444,"post_id":76826634,"comment_id":135440845,"body_markdown":"Classic examples are 1) where your code runs inside a framework, 2) where you are implementing an application that supports plugins.  (This is independent of how you express the &quot;dependencies&quot; ... and indeed the programming language.)","body":"Classic examples are 1) where your code runs inside a framework, 2) where you are implementing an application that supports plugins.  (This is independent of how you express the &quot;dependencies&quot; ... and indeed the programming language.)"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691065405,"post_id":76826634,"comment_id":135442929,"body_markdown":"The common example are JDBC drivers: as long as you only use the interfaces and classes from the JDBC API, you don&#39;t need to driver at compile time, you only need it at runtime.","body":"The common example are JDBC drivers: as long as you only use the interfaces and classes from the JDBC API, you don&#39;t need to driver at compile time, you only need it at runtime."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691055850,"creation_date":1691055850,"answer_id":76826826,"question_id":76826634,"body_markdown":"If your code depends on an interface (or base class), it can be compiled.\r\nAt runtime a concise implementation of the interface, or a subclass may be used, and these may come from additional jars that were not required during compile time.\r\n\r\nYou (or any library/framework used at runtime) can dynamically load classes via the Reflection API.\r\n\r\nSee https://docs.oracle.com/javase/tutorial/reflect/","title":"How can one have a runtime-only dependency in Java?","body":"<p>If your code depends on an interface (or base class), it can be compiled.\nAt runtime a concise implementation of the interface, or a subclass may be used, and these may come from additional jars that were not required during compile time.</p>\n<p>You (or any library/framework used at runtime) can dynamically load classes via the Reflection API.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/reflect/</a></p>\n"}],"owner":{"account_id":16841069,"reputation":2151,"user_id":12176460,"display_name":"YoavKlein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691063073,"answer_count":1,"score":0,"last_activity_date":1691055850,"creation_date":1691054588,"question_id":76826634,"body_markdown":"I&#39;m trying to understand how is it possible to have a runtime-only dependency in Java. I understand the concept of compile-time-only dependencies, for example when your code uses an Annotation library, and the annotations are consumed by the compiler to enforce some policies, but this library isn&#39;t used on runtime.\r\n\r\nBut regarding runtime-only dependencies, I can&#39;t understand how is possible.\r\n\r\nLet&#39;s say my code contains Class A:\r\n```\r\nclass A {\r\n    void someMethod() {\r\n        B b = new B();\r\n        b.foo();\r\n    {\r\n}\r\n```\r\n\r\nSo my code depends on class B, which is obviously a compile-time and runtime dependency. A runtime-only dependency implies that the dependency is not needed at compile time, which implies that my code doesn&#39;t directly refer to it, so why is it a dependency at all?\r\n\r\nWould love some concrete example.","title":"How can one have a runtime-only dependency in Java?","body":"<p>I'm trying to understand how is it possible to have a runtime-only dependency in Java. I understand the concept of compile-time-only dependencies, for example when your code uses an Annotation library, and the annotations are consumed by the compiler to enforce some policies, but this library isn't used on runtime.</p>\n<p>But regarding runtime-only dependencies, I can't understand how is possible.</p>\n<p>Let's say my code contains Class A:</p>\n<pre><code>class A {\n    void someMethod() {\n        B b = new B();\n        b.foo();\n    {\n}\n</code></pre>\n<p>So my code depends on class B, which is obviously a compile-time and runtime dependency. A runtime-only dependency implies that the dependency is not needed at compile time, which implies that my code doesn't directly refer to it, so why is it a dependency at all?</p>\n<p>Would love some concrete example.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691055711,"creation_date":1504150319,"answer_id":45972770,"question_id":45972178,"body_markdown":"I tried your project , Please see the below changes : \r\n\r\nConfiguration metadata key`(com.foo.bar.allcreds)` will get overriden if it finds the same key under active profiles but you have to follow the same list pattern: \r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: monic@\r\n        - user: hilary\r\n          password: my_em@ilz\r\n\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;com.foo.bar.allcreds&quot;)\r\n    public class AllCredentials {\r\n        private List&lt;Credentials&gt; credentials;\r\n    \r\n        public List&lt;Credentials&gt; getCredentials() {\r\n            return credentials;\r\n        }\r\n    \r\n        public void setCredentials(List&lt;Credentials&gt; credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    public class Credentials {\r\n    \r\n        private String user;\r\n        private String password;\r\n    \r\n    }\r\n\r\napplication.yml : \r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: monic@\r\n        - user: hilary\r\n          password: my_em@ilz\r\nTest : \r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;prod&quot;)\r\n    public class YamlPojoMergeApplicationTests {\r\n    \r\n    \t\r\n    \r\n    \t@Autowired\r\n    \tAllCredentials allCredentials;\r\n    \r\n    \t\r\n    \r\n    \t//This works\r\n    \t@Test(expected = AssertionError.class)\r\n    \tpublic void testAllCredentials() {\r\n    \t\tCredentials credentials1 = allCredentials.getCredentials().get(0);\r\n    \t\tCredentials credentials2 = allCredentials.getCredentials().get(1);\r\n    \r\n    \t\tassertThat(credentials1.getUser(), is(equalTo(&quot;bill&quot;)));\r\n    \t\tassertThat(credentials1.getPassword(), is(equalTo(&quot;monic@&quot;)));\r\n    \r\n    \t\tassertThat(credentials2.getUser(), is(equalTo(&quot;hilary&quot;)));\r\n    \t\tassertThat(credentials2.getPassword(), is(equalTo(&quot;my_em@ilz&quot;)));\r\n    \t}\r\n    \r\n    }\r\n\r\nSome useful discussion on merge(deprecated) you can find it here :\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/2750\r\n\r\n\r\n","title":"merging yaml across multiple spring profiles","body":"<p>I tried your project , Please see the below changes :</p>\n<p>Configuration metadata key<code>(com.foo.bar.allcreds)</code> will get overriden if it finds the same key under active profiles but you have to follow the same list pattern:</p>\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: monic@\n    - user: hilary\n      password: my_em@ilz\n\n\n@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;com.foo.bar.allcreds&quot;)\npublic class AllCredentials {\n    private List&lt;Credentials&gt; credentials;\n\n    public List&lt;Credentials&gt; getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(List&lt;Credentials&gt; credentials) {\n        this.credentials = credentials;\n    }\n\n}\n\n\npublic class Credentials {\n\n    private String user;\n    private String password;\n\n}\n</code></pre>\n<p>application.yml :</p>\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: monic@\n    - user: hilary\n      password: my_em@ilz\n</code></pre>\n<p>Test :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(&quot;prod&quot;)\npublic class YamlPojoMergeApplicationTests {\n\n    \n\n    @Autowired\n    AllCredentials allCredentials;\n\n    \n\n    //This works\n    @Test(expected = AssertionError.class)\n    public void testAllCredentials() {\n        Credentials credentials1 = allCredentials.getCredentials().get(0);\n        Credentials credentials2 = allCredentials.getCredentials().get(1);\n\n        assertThat(credentials1.getUser(), is(equalTo(&quot;bill&quot;)));\n        assertThat(credentials1.getPassword(), is(equalTo(&quot;monic@&quot;)));\n\n        assertThat(credentials2.getUser(), is(equalTo(&quot;hilary&quot;)));\n        assertThat(credentials2.getPassword(), is(equalTo(&quot;my_em@ilz&quot;)));\n    }\n\n}\n</code></pre>\n<p>Some useful discussion on merge(deprecated) you can find it here :</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/2750\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/2750</a></p>\n"}],"owner":{"account_id":2392184,"reputation":693,"user_id":2091827,"accept_rate":81,"display_name":"Vinay B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691055711,"creation_date":1504145348,"question_id":45972178,"body_markdown":"I offer one solution at the end of this post but what is the preferred way to do this? My use case is to read yaml across multiple profiles and merge to a single configuration that maps to a java class. \r\n\r\nA sample project describing this issue is at https://github.com/balamuru/yaml-pojo-merge\r\n\r\neg. Consider the following POJO\r\n\r\n    public class Credentials {\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nThis can be composed into a collection in several ways\r\n\r\na collection of Credential objects\r\ndirect descriptive instances of Credential objects\r\n\r\n    public class AllCredentials {\r\n        private List&lt;Credentials&gt; credentials; //won&#39;t merge (will override instead) because spring doesn&#39;t know which original Credential list item to over-ride when an override value is supplied in the profile (for instance , if only one password is supplied, spring doesn&#39;t know whether to update list item 1 or 2 etc)\r\n    }\r\n    public class FamilyCredentials {\r\n        private Credentials husband; //the corresponding yaml is determinate - and spring can determine exactly what field to update\r\n        private Credentials wife;\r\n    } \r\n\r\n\r\nThe corresponding representations in the default and profile specific YML files follows\r\n\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - user: bill\r\n          password: bi123\r\n        - user: hilary\r\n          password: h123\r\n    \r\n    com.foo.bar.famcreds:\r\n      husband:\r\n        user: bill\r\n        password: bi123\r\n      wife:\r\n        user: hilary\r\n        password: h123\r\n    \r\n    ---\r\n    spring.profiles: prod\r\n    com.foo.bar.allcreds:\r\n      credentials:\r\n        - password: monic@\r\n        - password: my_em@ilz\r\n    \r\n    com.foo.bar.famcreds:\r\n      husband:\r\n        password: monic@\r\n      wife:\r\n        password: my_em@ilz    \r\n\r\nIt is observed that in the case of List, Spring cannot determine which credential instance to update the password for (even if the user name is suppllied) since it is provided a list of items, and there is no guarantee that all items are provided, or (even in order for that matter)\r\n\r\nOTOH, the FamilyCredentials YAML resolves perfectly since the paths to the password fields are well formed and determinate.\r\n\r\nThe solution, if dealing with unbounded data structures, is to employ something that allows us to qualify the segment being modified i.e. a hashmap. Here is a data structure that will work (the keys &quot;mr_prez&quot; and &quot;first_lady&quot; enable precise resolution of the qualified yaml properties that are updated).\r\n\r\nThe test cases in this project bear this out.\r\n\r\n    public class AllCredentialsMap {\r\n        private Map&lt;String, Credentials&gt; credentials;\r\n    and the corresponding yaml segments\r\n    \r\n    com.foo.bar.allcredsmap:\r\n      credentials:\r\n        mr_prez:\r\n          user: bill\r\n          password: bi123\r\n        first_lady:\r\n          user: hilary\r\n          password: h123\r\n    \r\n    ---\r\n    spring.profiles: prod\r\n    \r\n    com.foo.bar.allcredsmap:\r\n      credentials:\r\n        mr_prez:\r\n          password: monic@\r\n        first_lady:\r\n          password: my_em@ilz  \r\n\r\n","title":"merging yaml across multiple spring profiles","body":"<p>I offer one solution at the end of this post but what is the preferred way to do this? My use case is to read yaml across multiple profiles and merge to a single configuration that maps to a java class. </p>\n\n<p>A sample project describing this issue is at <a href=\"https://github.com/balamuru/yaml-pojo-merge\" rel=\"nofollow noreferrer\">https://github.com/balamuru/yaml-pojo-merge</a></p>\n\n<p>eg. Consider the following POJO</p>\n\n<pre><code>public class Credentials {\n    private String user;\n    private String password;\n}\n</code></pre>\n\n<p>This can be composed into a collection in several ways</p>\n\n<p>a collection of Credential objects\ndirect descriptive instances of Credential objects</p>\n\n<pre><code>public class AllCredentials {\n    private List&lt;Credentials&gt; credentials; //won't merge (will override instead) because spring doesn't know which original Credential list item to over-ride when an override value is supplied in the profile (for instance , if only one password is supplied, spring doesn't know whether to update list item 1 or 2 etc)\n}\npublic class FamilyCredentials {\n    private Credentials husband; //the corresponding yaml is determinate - and spring can determine exactly what field to update\n    private Credentials wife;\n} \n</code></pre>\n\n<p>The corresponding representations in the default and profile specific YML files follows</p>\n\n<pre><code>com.foo.bar.allcreds:\n  credentials:\n    - user: bill\n      password: bi123\n    - user: hilary\n      password: h123\n\ncom.foo.bar.famcreds:\n  husband:\n    user: bill\n    password: bi123\n  wife:\n    user: hilary\n    password: h123\n\n---\nspring.profiles: prod\ncom.foo.bar.allcreds:\n  credentials:\n    - password: monic@\n    - password: my_em@ilz\n\ncom.foo.bar.famcreds:\n  husband:\n    password: monic@\n  wife:\n    password: my_em@ilz    \n</code></pre>\n\n<p>It is observed that in the case of List, Spring cannot determine which credential instance to update the password for (even if the user name is suppllied) since it is provided a list of items, and there is no guarantee that all items are provided, or (even in order for that matter)</p>\n\n<p>OTOH, the FamilyCredentials YAML resolves perfectly since the paths to the password fields are well formed and determinate.</p>\n\n<p>The solution, if dealing with unbounded data structures, is to employ something that allows us to qualify the segment being modified i.e. a hashmap. Here is a data structure that will work (the keys \"mr_prez\" and \"first_lady\" enable precise resolution of the qualified yaml properties that are updated).</p>\n\n<p>The test cases in this project bear this out.</p>\n\n<pre><code>public class AllCredentialsMap {\n    private Map&lt;String, Credentials&gt; credentials;\nand the corresponding yaml segments\n\ncom.foo.bar.allcredsmap:\n  credentials:\n    mr_prez:\n      user: bill\n      password: bi123\n    first_lady:\n      user: hilary\n      password: h123\n\n---\nspring.profiles: prod\n\ncom.foo.bar.allcredsmap:\n  credentials:\n    mr_prez:\n      password: monic@\n    first_lady:\n      password: my_em@ilz  \n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":7339794,"reputation":2468,"user_id":5589820,"display_name":"Mehmet G&#252;ng&#246;ren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673881728,"creation_date":1673881371,"answer_id":75136080,"question_id":75134205,"body_markdown":"This code will help you to copy object with multipart in Java S3 SDK v2.\r\n\r\n```java\r\n    private final S3Client s3Client = S3Client.builder().build();\r\n\r\n    public void copyObjectWithMultiPart() {\r\n\r\n        String destBucketName = &quot;destination-bucket&quot;;\r\n        String destObjectKey = &quot;destination-object-key&quot;;\r\n        String sourceBucketName = &quot;source-bucket&quot;;\r\n        String sourceObjectKey = &quot;source-object-key&quot;;\r\n\r\n        // Initiate the multipart upload.\r\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\r\n                .bucket(destBucketName)\r\n                .key(destObjectKey)\r\n                .build();\r\n\r\n        CreateMultipartUploadResponse multipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\r\n\r\n        // Get the object size to track the end of the copy operation.\r\n        HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\r\n                .bucket(sourceBucketName)\r\n                .key(sourceObjectKey)\r\n                .build();\r\n        long objectSize = s3Client.headObject(headObjectRequest).contentLength();\r\n\r\n        // Copy the object using 5 MB parts.\r\n        long partSize = 5 * 1024 * 1024;\r\n        long bytePosition = 0;\r\n        int partNum = 1;\r\n        List&lt;CompletedPart&gt; etags = new ArrayList&lt;&gt;();\r\n        while (bytePosition &lt; objectSize) {\r\n            // The last part might be smaller than partSize, so check to make sure\r\n            // that lastByte isn&#39;t beyond the end of the object.\r\n            long lastByte = Math.min(bytePosition + partSize - 1, objectSize - 1);\r\n\r\n            // Copy this part.\r\n            UploadPartCopyRequest uploadPartCopyRequest = UploadPartCopyRequest.builder()\r\n                    .sourceBucket(sourceBucketName)\r\n                    .sourceKey(sourceObjectKey)\r\n                    .destinationBucket(destBucketName)\r\n                    .destinationKey(destObjectKey)\r\n                    .uploadId(multipartUploadResponse.uploadId())\r\n                    .partNumber(partNum)\r\n                    .copySourceRange(String.format(&quot;bytes=%d-%d&quot;, bytePosition, lastByte))\r\n                    .build();\r\n\r\n            UploadPartCopyResponse uploadPartCopyResponse = s3Client.uploadPartCopy(uploadPartCopyRequest);\r\n            etags.add(\r\n                    CompletedPart.builder()\r\n                            .partNumber(partNum++)\r\n                            .eTag(uploadPartCopyResponse.copyPartResult().eTag())\r\n                            .build()\r\n            );\r\n            bytePosition += partSize;\r\n        }\r\n\r\n        // Complete the upload request to concatenate all uploaded parts and make the copied object available.\r\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\r\n                .parts(etags)\r\n                .build();\r\n\r\n        CompleteMultipartUploadRequest completeMultipartUploadRequest =\r\n                CompleteMultipartUploadRequest.builder()\r\n                        .bucket(destBucketName)\r\n                        .key(destObjectKey)\r\n                        .uploadId(multipartUploadResponse.uploadId())\r\n                        .multipartUpload(completedMultipartUpload)\r\n                        .build();\r\n\r\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\n    }\r\n```","title":"AWS S3 Copy File Larger than 5GB (version 2.x)","body":"<p>This code will help you to copy object with multipart in Java S3 SDK v2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final S3Client s3Client = S3Client.builder().build();\n\n    public void copyObjectWithMultiPart() {\n\n        String destBucketName = &quot;destination-bucket&quot;;\n        String destObjectKey = &quot;destination-object-key&quot;;\n        String sourceBucketName = &quot;source-bucket&quot;;\n        String sourceObjectKey = &quot;source-object-key&quot;;\n\n        // Initiate the multipart upload.\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\n                .bucket(destBucketName)\n                .key(destObjectKey)\n                .build();\n\n        CreateMultipartUploadResponse multipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\n\n        // Get the object size to track the end of the copy operation.\n        HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\n                .bucket(sourceBucketName)\n                .key(sourceObjectKey)\n                .build();\n        long objectSize = s3Client.headObject(headObjectRequest).contentLength();\n\n        // Copy the object using 5 MB parts.\n        long partSize = 5 * 1024 * 1024;\n        long bytePosition = 0;\n        int partNum = 1;\n        List&lt;CompletedPart&gt; etags = new ArrayList&lt;&gt;();\n        while (bytePosition &lt; objectSize) {\n            // The last part might be smaller than partSize, so check to make sure\n            // that lastByte isn't beyond the end of the object.\n            long lastByte = Math.min(bytePosition + partSize - 1, objectSize - 1);\n\n            // Copy this part.\n            UploadPartCopyRequest uploadPartCopyRequest = UploadPartCopyRequest.builder()\n                    .sourceBucket(sourceBucketName)\n                    .sourceKey(sourceObjectKey)\n                    .destinationBucket(destBucketName)\n                    .destinationKey(destObjectKey)\n                    .uploadId(multipartUploadResponse.uploadId())\n                    .partNumber(partNum)\n                    .copySourceRange(String.format(&quot;bytes=%d-%d&quot;, bytePosition, lastByte))\n                    .build();\n\n            UploadPartCopyResponse uploadPartCopyResponse = s3Client.uploadPartCopy(uploadPartCopyRequest);\n            etags.add(\n                    CompletedPart.builder()\n                            .partNumber(partNum++)\n                            .eTag(uploadPartCopyResponse.copyPartResult().eTag())\n                            .build()\n            );\n            bytePosition += partSize;\n        }\n\n        // Complete the upload request to concatenate all uploaded parts and make the copied object available.\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\n                .parts(etags)\n                .build();\n\n        CompleteMultipartUploadRequest completeMultipartUploadRequest =\n                CompleteMultipartUploadRequest.builder()\n                        .bucket(destBucketName)\n                        .key(destObjectKey)\n                        .uploadId(multipartUploadResponse.uploadId())\n                        .multipartUpload(completedMultipartUpload)\n                        .build();\n\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\n    }\n</code></pre>\n"}],"owner":{"account_id":18245650,"reputation":3,"user_id":13281826,"display_name":"Matan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75136080,"answer_count":1,"score":0,"last_activity_date":1691055694,"creation_date":1673871896,"question_id":75134205,"body_markdown":"I&#39;m trying to copy files from folder to folder in the same bucket in s3 storage.\r\nI need to copy files that are greater than 5GB and I saw in the docs that regular copy doesn&#39;t support this kind of copy [see here](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#copyObject(software.amazon.awssdk.services.s3.model.CopyObjectRequest))\r\n\r\n\r\n[This link](https://docs.aws.amazon.com/AmazonS3/latest/userguide/CopyingObjectsMPUapi.html\r\n) in the docs shows how to do it, but this code is for version 1.x and not 2.x.\r\n\r\nI searched the new docs but I found [only this](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#copy-an-object) and there is no code that shows how to multipart copy only regular copy.\r\n\r\nIt should be noted that another user [asked about this](https://stackoverflow.com/questions/74347248/aws-sdk-v2-for-java-copy-object-greater-than-5gb) but with no replies.","title":"AWS S3 Copy File Larger than 5GB (version 2.x)","body":"<p>I'm trying to copy files from folder to folder in the same bucket in s3 storage.\nI need to copy files that are greater than 5GB and I saw in the docs that regular copy doesn't support this kind of copy <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#copyObject(software.amazon.awssdk.services.s3.model.CopyObjectRequest)\" rel=\"nofollow noreferrer\">see here</a></p>\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/CopyingObjectsMPUapi.html\" rel=\"nofollow noreferrer\">This link</a> in the docs shows how to do it, but this code is for version 1.x and not 2.x.</p>\n<p>I searched the new docs but I found <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#copy-an-object\" rel=\"nofollow noreferrer\">only this</a> and there is no code that shows how to multipart copy only regular copy.</p>\n<p>It should be noted that another user <a href=\"https://stackoverflow.com/questions/74347248/aws-sdk-v2-for-java-copy-object-greater-than-5gb\">asked about this</a> but with no replies.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":69477,"reputation":12916,"user_id":202085,"accept_rate":83,"display_name":"Upgradingdave"},"score":0,"creation_date":1321373326,"post_id":8139115,"comment_id":9987649,"body_markdown":"Just as a sanity check, to be sure you&#39;re using the maven you just installed: what&#39;s the output of `mvn --version`? I&#39;ve run into strangeness like this with 2 versions of maven installed.","body":"Just as a sanity check, to be sure you&#39;re using the maven you just installed: what&#39;s the output of <code>mvn --version</code>? I&#39;ve run into strangeness like this with 2 versions of maven installed."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1321373595,"post_id":8139115,"comment_id":9987745,"body_markdown":"It&#39;s likely not the issue, but in general, I recommend avoiding paths with spaces. (Or tildes, for that matter.) I don&#39;t see the issue locally, though.","body":"It&#39;s likely not the issue, but in general, I recommend avoiding paths with spaces. (Or tildes, for that matter.) I don&#39;t see the issue locally, though."},{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321373999,"post_id":8139115,"comment_id":9987919,"body_markdown":"@Dave - I formatted the above better. mvn -version is what produces this output.","body":"@Dave - I formatted the above better. mvn -version is what produces this output."},{"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"score":0,"creation_date":1321375162,"post_id":8139115,"comment_id":9988383,"body_markdown":"@ Dave N - yeah, Apache recommends installing into that path. It seems to be ok in terms of finding mvn though. since c:\\mvn -version at least finds mvn.","body":"@ Dave N - yeah, Apache recommends installing into that path. It seems to be ok in terms of finding mvn though. since c:\\mvn -version at least finds mvn."},{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":0,"creation_date":1321431261,"post_id":8139115,"comment_id":10001455,"body_markdown":"Possibly related to http://stackoverflow.com/questions/6823940/error-when-trying-to-see-mvn-version-in-cmd","body":"Possibly related to <a href=\"http://stackoverflow.com/questions/6823940/error-when-trying-to-see-mvn-version-in-cmd\" title=\"error when trying to see mvn version in cmd\">stackoverflow.com/questions/6823940/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1321373634,"creation_date":1321373634,"answer_id":8139450,"question_id":8139115,"body_markdown":"I had similar by having mvn.bat for maven2 in other part of PATH. So check carefully all directories of your PATH variable.","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I had similar by having mvn.bat for maven2 in other part of PATH. So check carefully all directories of your PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321431340,"creation_date":1321374127,"answer_id":8139562,"question_id":8139115,"body_markdown":"Is there a `C:\\mvn.bat`? \r\n\r\nOn Windows, the current folder is always in the `PATH`.\r\n\r\n**[EDIT]** The error can have several reasons: The version of `mvn.bat` doesn&#39;t fit the rest of the code, or the libraries are corrupt.\r\n\r\nTo get one step further, change the line `@echo off` in `mvn.bat` to `@echo on` and run the script again. It will then print each command as it is executed. Search the output for `%CLASSWORLDS_JAR%`\r\n\r\nMake sure all JARs mentioned in `%CLASSWORLDS_JAR%` exist and are OK.","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>Is there a <code>C:\\mvn.bat</code>? </p>\n\n<p>On Windows, the current folder is always in the <code>PATH</code>.</p>\n\n<p><strong>[EDIT]</strong> The error can have several reasons: The version of <code>mvn.bat</code> doesn't fit the rest of the code, or the libraries are corrupt.</p>\n\n<p>To get one step further, change the line <code>@echo off</code> in <code>mvn.bat</code> to <code>@echo on</code> and run the script again. It will then print each command as it is executed. Search the output for <code>%CLASSWORLDS_JAR%</code></p>\n\n<p>Make sure all JARs mentioned in <code>%CLASSWORLDS_JAR%</code> exist and are OK.</p>\n"},{"tags":[],"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361529618,"creation_date":1361529618,"answer_id":15022236,"question_id":8139115,"body_markdown":"I resolved this problem by **removing** all JRE/JDK **then reinstalling** the needed JDK and removing all spaces from folders path.\r\n\r\n    C:\\dev\\jdk\r\n    C:\\dev\\maven3.0.4\r\n    C:\\dev\\project\\myProject\r\n    c:\\dev\\eclipse","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I resolved this problem by <strong>removing</strong> all JRE/JDK <strong>then reinstalling</strong> the needed JDK and removing all spaces from folders path.</p>\n\n<pre><code>C:\\dev\\jdk\nC:\\dev\\maven3.0.4\nC:\\dev\\project\\myProject\nc:\\dev\\eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1970394,"reputation":105,"user_id":1769508,"display_name":"Jerry H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398978022,"creation_date":1398978022,"answer_id":23416521,"question_id":8139115,"body_markdown":"I was able to resolve my issue with following when\r\n\r\n    export JAVA_HOME=/blah/blah\r\n    export M2_HOME=/usr/local/maven   \r\n    export M2=M2_HOME/bin\r\n\r\nI was able to figure out looking at the folder name, it was 3.2.1\r\n\r\nPerhaps, I didn&#39;t read document, but here&#39;s my answer to this problem.\r\n\r\n    export JAVA_HOME=/blah/blah\r\n    export M3_HOME=/usr/local/maven   \r\n    export M3=M2_HOME/bin\r\n\r\nMy java is 7.  Hope this helps some people with Maven 3 instead of M2.\r\n\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I was able to resolve my issue with following when</p>\n\n<pre><code>export JAVA_HOME=/blah/blah\nexport M2_HOME=/usr/local/maven   \nexport M2=M2_HOME/bin\n</code></pre>\n\n<p>I was able to figure out looking at the folder name, it was 3.2.1</p>\n\n<p>Perhaps, I didn't read document, but here's my answer to this problem.</p>\n\n<pre><code>export JAVA_HOME=/blah/blah\nexport M3_HOME=/usr/local/maven   \nexport M3=M2_HOME/bin\n</code></pre>\n\n<p>My java is 7.  Hope this helps some people with Maven 3 instead of M2.</p>\n"},{"tags":[],"owner":{"account_id":5288972,"reputation":11,"user_id":4222064,"display_name":"mayank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415264309,"creation_date":1415264309,"answer_id":26775321,"question_id":8139115,"body_markdown":"even I face the same issue and then i changed echo off to echo on in mvn.bat and find out that  my maven package was not installed properly and boot folder under c:/maven/maven3.0.3 is missing , i copied the missing folder and it worked :)","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>even I face the same issue and then i changed echo off to echo on in mvn.bat and find out that  my maven package was not installed properly and boot folder under c:/maven/maven3.0.3 is missing , i copied the missing folder and it worked :)</p>\n"},{"tags":[],"owner":{"account_id":2204985,"reputation":1225,"user_id":1948438,"display_name":"CamelTM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473578961,"creation_date":1473578961,"answer_id":39433837,"question_id":8139115,"body_markdown":"Try this:\r\n\r\n    unset M2_HOME\r\n    source .bash_profile\r\n\r\n.bash_profile:\r\n\r\n    ...\r\n    export M2_HOME=$(/Users/camel/apache-maven-2.2.1)\r\n    export PATH=$PATH:$M2_HOME/bin\r\n    ...\r\n\r\nThis work for my Mac(os x ver 10.11) when I use maven2 after maven3.\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>Try this:</p>\n\n<pre><code>unset M2_HOME\nsource .bash_profile\n</code></pre>\n\n<p>.bash_profile:</p>\n\n<pre><code>...\nexport M2_HOME=$(/Users/camel/apache-maven-2.2.1)\nexport PATH=$PATH:$M2_HOME/bin\n...\n</code></pre>\n\n<p>This work for my Mac(os x ver 10.11) when I use maven2 after maven3.</p>\n"},{"tags":[],"owner":{"account_id":6671227,"reputation":181,"user_id":5147317,"display_name":"pioardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473582002,"creation_date":1473582002,"answer_id":39434169,"question_id":8139115,"body_markdown":"You probably need to set MAVEN_HOME plus M2_HOME . Both with the same path .\r\nMake sure that the variables must be set so well and try again. After trying to install version 7.8 of java because Version 6 may not be compatible .\r\n\r\n**NB** :  set maven in path , for instance on my Mac I have a .profile with the following settings :\r\nexport JAVA_HOME = $ ( Library / Java / JavaVirtualMachines / jdk1.8.0_101.jdk / Contents / Home )\r\nexport PATH = / Users / alessandropioardizio / Desktop / SDK / apache - maven - 3.1.1 / bin : $ PATH\r\n\r\n\r\nLet me know if it works .","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>You probably need to set MAVEN_HOME plus M2_HOME . Both with the same path .\nMake sure that the variables must be set so well and try again. After trying to install version 7.8 of java because Version 6 may not be compatible .</p>\n\n<p><strong>NB</strong> :  set maven in path , for instance on my Mac I have a .profile with the following settings :\nexport JAVA_HOME = $ ( Library / Java / JavaVirtualMachines / jdk1.8.0_101.jdk / Contents / Home )\nexport PATH = / Users / alessandropioardizio / Desktop / SDK / apache - maven - 3.1.1 / bin : $ PATH</p>\n\n<p>Let me know if it works .</p>\n"},{"tags":[],"owner":{"account_id":9492481,"reputation":50,"user_id":7056750,"display_name":"TobyFagboh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537525544,"creation_date":1537525544,"answer_id":52441673,"question_id":8139115,"body_markdown":"I resolved mine by upgrading my maven from apache-maven-3.3.9 to apache-maven-3.5.4.\r\nAnd finally, Modify my System variables to apache-maven-3.5.4: Add both M2_HOME\r\n\r\nM2_HOME :: C:\\apache-maven-3.5.4\r\n\r\nJAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_101","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>I resolved mine by upgrading my maven from apache-maven-3.3.9 to apache-maven-3.5.4.\nAnd finally, Modify my System variables to apache-maven-3.5.4: Add both M2_HOME</p>\n\n<p>M2_HOME :: C:\\apache-maven-3.5.4</p>\n\n<p>JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_101</p>\n"},{"tags":[],"owner":{"account_id":28950872,"reputation":1,"user_id":22175516,"display_name":"Nassima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054950,"creation_date":1691054950,"answer_id":76826692,"question_id":8139115,"body_markdown":"you have to delete M2_HOME and try again","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>you have to delete M2_HOME and try again</p>\n"}],"owner":{"account_id":327575,"reputation":2804,"user_id":650027,"accept_rate":72,"display_name":"jchristof"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34139,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1691054950,"creation_date":1321372312,"question_id":8139115,"body_markdown":"So I&#39;ve installed maven with the following details:\r\n\r\nInstall path: \r\n\r\n    C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\r\n\r\nEnv vars:\r\n\r\n    JAVA_HOME C:\\Progra~1\\Java\\jdk1.6.0_25\r\n    M2_HOME C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\r\n\r\nUser vars:\r\n\r\n    M2 %M2_HOME%\\bin\r\n    PATH %JAVA_HOME%\\bin;%M2%;\r\n\r\nNow, from the command line\r\n\r\n    C:\\&gt;javac -version\r\n    javac 1.6.0_25\r\n\r\n    C:\\&gt;mvn -version\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/codehaus/plexus/c\r\n    lassworlds/launcher/Launcher\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.codehaus.plexus.classworlds.lau\r\n    ncher.Launcher\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n            at java.lang.ClassLoader.loadClss(ClassLoader.java:306)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    Could not find the main class: org.codehaus.plexus.classworlds.launcher.Launcher\r\n    .  Program will exit.\r\n\r\nI&#39;ve been insulated from the command line build details for Java thus far thanks to Eclipse, but it looks like it&#39;s having problems with finding the plexus-classworlds-2.4.jar in the /boot dir. Should I need some additional path info?\r\n\r\nThanks!\r\n\r\n","title":"New Maven install: mvn -version java.lang.ClassNotFoundException","body":"<p>So I've installed maven with the following details:</p>\n\n<p>Install path: </p>\n\n<pre><code>C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\n</code></pre>\n\n<p>Env vars:</p>\n\n<pre><code>JAVA_HOME C:\\Progra~1\\Java\\jdk1.6.0_25\nM2_HOME C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.3\n</code></pre>\n\n<p>User vars:</p>\n\n<pre><code>M2 %M2_HOME%\\bin\nPATH %JAVA_HOME%\\bin;%M2%;\n</code></pre>\n\n<p>Now, from the command line</p>\n\n<pre><code>C:\\&gt;javac -version\njavac 1.6.0_25\n\nC:\\&gt;mvn -version\nException in thread \"main\" java.lang.NoClassDefFoundError: org/codehaus/plexus/c\nlassworlds/launcher/Launcher\n\nCaused by: java.lang.ClassNotFoundException: org.codehaus.plexus.classworlds.lau\nncher.Launcher\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n        at java.lang.ClassLoader.loadClss(ClassLoader.java:306)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\nCould not find the main class: org.codehaus.plexus.classworlds.launcher.Launcher\n.  Program will exit.\n</code></pre>\n\n<p>I've been insulated from the command line build details for Java thus far thanks to Eclipse, but it looks like it's having problems with finding the plexus-classworlds-2.4.jar in the /boot dir. Should I need some additional path info?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","xml-parsing"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690438452,"post_id":76776799,"comment_id":135354394,"body_markdown":"How is the XML data getting into a String? The deciding error is probably being introduced at that point.","body":"How is the XML data getting into a String? The deciding error is probably being introduced at that point."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690440326,"post_id":76776799,"comment_id":135354697,"body_markdown":"@TimMoore, reposted question again on how I am getting data into string ? Do I need to read data in any other way ?","body":"@TimMoore, reposted question again on how I am getting data into string ? Do I need to read data in any other way ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690452929,"post_id":76776799,"comment_id":135357215,"body_markdown":"You should post your xml code (formatted) containing those UNDERTIE (Unicode name) characters","body":"You should post your xml code (formatted) containing those UNDERTIE (Unicode name) characters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690453520,"post_id":76776799,"comment_id":135357341,"body_markdown":"(And that would be a relevant extract from `data_url`)","body":"(And that would be a relevant extract from <code>data_url</code>)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690453890,"post_id":76776799,"comment_id":135357409,"body_markdown":"I would recommend passing the `InputStream` directly to `builder.parse` rather than reading into a `String` first. That way, it will use the encoding declared in the XML declaration inside the data. I suspect it isn&#39;t UTF-8.","body":"I would recommend passing the <code>InputStream</code> directly to <code>builder.parse</code> rather than reading into a <code>String</code> first. That way, it will use the encoding declared in the XML declaration inside the data. I suspect it isn&#39;t UTF-8."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690454670,"post_id":76776799,"comment_id":135357569,"body_markdown":"Very good idea @TimMoore.","body":"Very good idea @TimMoore."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690476922,"post_id":76776799,"comment_id":135362740,"body_markdown":"@TimMoore, If I pass InputStream directly, the output is Pre?charged, it is same like UTF-8, question mark remains same. the expected output is Pre-Charged.(when I hit my URL in browser, Iam able to see Pre-Charged )","body":"@TimMoore, If I pass InputStream directly, the output is Pre?charged, it is same like UTF-8, question mark remains same. the expected output is Pre-Charged.(when I hit my URL in browser, Iam able to see Pre-Charged )"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690477521,"post_id":76776799,"comment_id":135362844,"body_markdown":"Is it possible for us to hit the URL? btw *Pre-Charged* (what you just wrote) and *Pre‿Charged* (what you wrote originally) are totally different","body":"Is it possible for us to hit the URL? btw <i>Pre-Charged</i> (what you just wrote) and <i>Pre‿Charged</i> (what you wrote originally) are totally different"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690477877,"post_id":76776799,"comment_id":135362933,"body_markdown":"@g00se, sorry Its secured, I can explain you. when I hit the URL in Google chrome, Iam able to see Pre-Charged. But when I am trying to read it using above code, Iam getting PrexE2x80?Charged in my file. I copied that(PrexE2x80?Charged) and pasted in search bar or some text file Iam able to see Pre‿Charged","body":"@g00se, sorry Its secured, I can explain you. when I hit the URL in Google chrome, Iam able to see Pre-Charged. But when I am trying to read it using above code, Iam getting PrexE2x80?Charged in my file. I copied that(PrexE2x80?Charged) and pasted in search bar or some text file Iam able to see Pre‿Charged"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690478015,"post_id":76776799,"comment_id":135362968,"body_markdown":"Finally, I want to read the data how  it look like in browser (simply I need Pre-Charged in my file also)","body":"Finally, I want to read the data how  it look like in browser (simply I need Pre-Charged in my file also)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690478022,"post_id":76776799,"comment_id":135362974,"body_markdown":"`E2 80 BF` is the UTF-8 encoding of the &#39;undertie&#39; character. Exactly how are you looking at the *file* and can you please paste a *small screenshot* of it in the question","body":"<code>E2 80 BF</code> is the UTF-8 encoding of the &#39;undertie&#39; character. Exactly how are you looking at the <i>file</i> and can you please paste a <i>small screenshot</i> of it in the question"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690478435,"post_id":76776799,"comment_id":135363060,"body_markdown":"@g00se, added screenshot (how it is looking in my file)","body":"@g00se, added screenshot (how it is looking in my file)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690480976,"post_id":76776799,"comment_id":135363543,"body_markdown":"You didn&#39;t say *how* you&#39;re looking at that. Whatever it is, it&#39;s probably reading it as 7/8 bit encoding instead of UTF-8","body":"You didn&#39;t say <i>how</i> you&#39;re looking at that. Whatever it is, it&#39;s probably reading it as 7/8 bit encoding instead of UTF-8"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690509789,"post_id":76776799,"comment_id":135367279,"body_markdown":"@g00se, added before and after screenshots. If I read the data in UTF-8 format, Iam getting Pre?Charged (it is converting into a question mark instead of -)","body":"@g00se, added before and after screenshots. If I read the data in UTF-8 format, Iam getting Pre?Charged (it is converting into a question mark instead of -)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690510849,"post_id":76776799,"comment_id":135367357,"body_markdown":"I would recommend trying to simplify the code to isolate the stage of processing where the error is introduced. What happens if you don’t parse the file but only read it from the URL and write it directly to a file? Do you still see incorrect characters? If so, you know that the parsing and DOM processing isn’t the problem. If not, you know that it is.","body":"I would recommend trying to simplify the code to isolate the stage of processing where the error is introduced. What happens if you don’t parse the file but only read it from the URL and write it directly to a file? Do you still see incorrect characters? If so, you know that the parsing and DOM processing isn’t the problem. If not, you know that it is."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690511016,"post_id":76776799,"comment_id":135367372,"body_markdown":"What g00se is trying to explain is that it could well be that the data in the file is 100% correct, but the application you’re using to view the file is reading it incorrectly. See if you can prove or disprove this. Be a scientist: make a hypothesis and try to falsify it, then repeat until you have a hypothesis that your tests support.","body":"What g00se is trying to explain is that it could well be that the data in the file is 100% correct, but the application you’re using to view the file is reading it incorrectly. See if you can prove or disprove this. Be a scientist: make a hypothesis and try to falsify it, then repeat until you have a hypothesis that your tests support."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690529301,"post_id":76776799,"comment_id":135369331,"body_markdown":"*When we hit the URL in browser,it look like ... After reading data into file, it look like* You *still* have not told us *how* you look at it","body":"<i>When we hit the URL in browser,it look like ... After reading data into file, it look like</i> You <i>still</i> have not told us <i>how</i> you look at it"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690559463,"post_id":76776799,"comment_id":135375520,"body_markdown":"@g00se, I need to read the data as Pre-Charged, but Iam getting PrexE2x80?Charged.","body":"@g00se, I need to read the data as Pre-Charged, but Iam getting PrexE2x80?Charged."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690559671,"post_id":76776799,"comment_id":135375560,"body_markdown":"You are continuing to *not answer* the question","body":"You are continuing to <i>not answer</i> the question"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690559869,"post_id":76776799,"comment_id":135375596,"body_markdown":"As per your suggestion, after reading the data directly to file , there is some progress (uploading progress screenshot to question). When I encode that file to ANSI by using  Notepad++ options, Iam getting desired output, but unable to do that in code level using java","body":"As per your suggestion, after reading the data directly to file , there is some progress (uploading progress screenshot to question). When I encode that file to ANSI by using  Notepad++ options, Iam getting desired output, but unable to do that in code level using java"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690560114,"post_id":76776799,"comment_id":135375643,"body_markdown":"@g00se, sorry for that, I am able to look as Pre-Charged, Iam able to see the data in chrome browser as Pre-Charged, but in notepad++ it is having special characters","body":"@g00se, sorry for that, I am able to look as Pre-Charged, Iam able to see the data in chrome browser as Pre-Charged, but in notepad++ it is having special characters"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690567452,"post_id":76776799,"comment_id":135376893,"body_markdown":"Maybe you don&#39;t have notepad++ set to UTF-8?","body":"Maybe you don&#39;t have notepad++ set to UTF-8?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690580475,"post_id":76776799,"comment_id":135378627,"body_markdown":"Or maybe the font used in Notepad++ doesn’t have that character. Try setting it to use the same font that Chrome is using, if it isn’t already.","body":"Or maybe the font used in Notepad++ doesn’t have that character. Try setting it to use the same font that Chrome is using, if it isn’t already."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593620,"post_id":76776799,"comment_id":135379638,"body_markdown":"By default my Notepad++ is having UTF-8 only, if I try to use &quot;Covert to ANSI&quot; option in NotePad++, it is working as expected. But now, my problem here is, from code level how to parse that file having &quot;square box&quot; in between them, ultimate goal is to get the data as &quot;Pre-Charged&quot;. I have to parse my XML.","body":"By default my Notepad++ is having UTF-8 only, if I try to use &quot;Covert to ANSI&quot; option in NotePad++, it is working as expected. But now, my problem here is, from code level how to parse that file having &quot;square box&quot; in between them, ultimate goal is to get the data as &quot;Pre-Charged&quot;. I have to parse my XML."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593729,"post_id":76776799,"comment_id":135379643,"body_markdown":"Previously, Iam unable to convert that data in Notepad++ also, but now as per your suggestions Iam able to convert that in NotePad++. Lastly I have to parse that XML. Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;","body":"Previously, Iam unable to convert that data in Notepad++ also, but now as per your suggestions Iam able to convert that in NotePad++. Lastly I have to parse that XML. Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690593955,"post_id":76776799,"comment_id":135379656,"body_markdown":"If I copy my data from NotePad++ and paste it anywhere like Browser or some text editor, it is working perfectly fine (getting Pre-Charged) . Seems I have to read it correctly now.","body":"If I copy my data from NotePad++ and paste it anywhere like Browser or some text editor, it is working perfectly fine (getting Pre-Charged) . Seems I have to read it correctly now."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690601444,"post_id":76776799,"comment_id":135379982,"body_markdown":"Can you use a hex editor to confirm what bytes are actually in the file at that point? I’m not personally familiar with Notepad++ but the important thing is to work backwards from how things look to what bytes are in the data, and if the byte data are changing at some point in the processing, isolate which code causes that change. Then, if you don’t understand why that code causes the change, that’s the right time to create a question on Stack Overflow.","body":"Can you use a hex editor to confirm what bytes are actually in the file at that point? I’m not personally familiar with Notepad++ but the important thing is to work backwards from how things look to what bytes are in the data, and if the byte data are changing at some point in the processing, isolate which code causes that change. Then, if you don’t understand why that code causes the change, that’s the right time to create a question on Stack Overflow."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690613923,"post_id":76776799,"comment_id":135380704,"body_markdown":"*Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;* This is confusing. Can you explain why you posted something quite different (**‿** - in bold - the &#39;undertie&#39; character) at the beginning of the question?","body":"<i>Trying all possible ways to convert that &quot;Square Box&quot; to &quot;-&quot;</i> This is confusing. Can you explain why you posted something quite different (<b>‿</b> - in bold - the &#39;undertie&#39; character) at the beginning of the question?"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690615253,"post_id":76776799,"comment_id":135380822,"body_markdown":"@g00se, Goal is to convert untertie to hypen (‿ to - ), when I write data directly to file using streams, Iam geting square box (as shown in screenshot) in my file. Chrome and some editors are converting undertie character to hypen. but I need to convert that at code level without any editors.","body":"@g00se, Goal is to convert untertie to hypen (‿ to - ), when I write data directly to file using streams, Iam geting square box (as shown in screenshot) in my file. Chrome and some editors are converting undertie character to hypen. but I need to convert that at code level without any editors."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690615775,"post_id":76776799,"comment_id":135380869,"body_markdown":"OK, glad we got that cleared. Try the following. If it suits, I&#39;ll post it as the answer: in place of *outputData.append(line.trim());* do `outputData.append(line.trim().replaceAll(&quot;\\u203F&quot;, &quot;-&quot;));` Actually, that undertie looks like an input error in that context anyway","body":"OK, glad we got that cleared. Try the following. If it suits, I&#39;ll post it as the answer: in place of <i>outputData.append(line.trim());</i> do <code>outputData.append(line.trim().replaceAll(&quot;\\u203F&quot;, &quot;-&quot;));</code> Actually, that undertie looks like an input error in that context anyway"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690884125,"post_id":76776799,"comment_id":135412079,"body_markdown":"@g00se, Its not working, because in line.trim() method, we are not getting &quot;\\u203F&quot; to replace it.","body":"@g00se, Its not working, because in line.trim() method, we are not getting &quot;\\u203F&quot; to replace it."},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690884236,"post_id":76776799,"comment_id":135412096,"body_markdown":"@TimMoore, I tried the way you suggested, before I send byte array to file, I tried to read the byte values from byte[], Iam getting -30, -128, -112 as byte values, is there any possible way to decode those negative byte values ?","body":"@TimMoore, I tried the way you suggested, before I send byte array to file, I tried to read the byte values from byte[], Iam getting -30, -128, -112 as byte values, is there any possible way to decode those negative byte values ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690884372,"post_id":76776799,"comment_id":135412131,"body_markdown":"Are you able to post a link to a direct copy of the data? If so, i&#39;ll give you the code to use","body":"Are you able to post a link to a direct copy of the data? If so, i&#39;ll give you the code to use"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690885098,"post_id":76776799,"comment_id":135412260,"body_markdown":"I cannot send you link, but I can send you those xmls, is there any way to send the files ?","body":"I cannot send you link, but I can send you those xmls, is there any way to send the files ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690885386,"post_id":76776799,"comment_id":135412317,"body_markdown":"I need to see a literal copy of the url made with `Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;));`","body":"I need to see a literal copy of the url made with <code>Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;));</code>"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690894514,"post_id":76776799,"comment_id":135414336,"body_markdown":"I have that file ready, but unable to upload it in stackoverflow, is there any way to send the file ?","body":"I have that file ready, but unable to upload it in stackoverflow, is there any way to send the file ?"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690896087,"post_id":76776799,"comment_id":135414680,"body_markdown":"@g00se, Edited question attached screenshot, after using your method, how the data look like.","body":"@g00se, Edited question attached screenshot, after using your method, how the data look like."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690897439,"post_id":76776799,"comment_id":135415004,"body_markdown":"No it&#39;s no good posting a picture of it. Maybe upload to Google Drive and post a public link","body":"No it&#39;s no good posting a picture of it. Maybe upload to Google Drive and post a public link"},{"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"score":0,"creation_date":1690955813,"post_id":76776799,"comment_id":135423090,"body_markdown":"@g00se, here is the link for the file, you can download it and open in Notepad++ or parse it : https://drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/view?usp=share_link","body":"@g00se, here is the link for the file, you can download it and open in Notepad++ or parse it : <a href=\"https://drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1t237RD_hc2Bly4Ipw6npQ-yqhQc9AL2t/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690960609,"post_id":76776799,"comment_id":135423855,"body_markdown":"Different character. That&#39;s a Unicode HYPHEN. Try instead `outputData.append(line.trim().replaceAll(&quot;\\u2010&quot;, &quot;-&quot;));`","body":"Different character. That&#39;s a Unicode HYPHEN. Try instead <code>outputData.append(line.trim().replaceAll(&quot;\\u2010&quot;, &quot;-&quot;));</code>"},{"owner":{"account_id":9429659,"reputation":123,"user_id":7013608,"display_name":"Uday Kumar"},"score":0,"creation_date":1691003979,"post_id":76776799,"comment_id":135433353,"body_markdown":"We know that decoded string is pre-charged If you see it is using browser and If you see it using Notepad++ it is Pre (SquareBox) charged so If you read the file using java and print it in eclipse that might be different pre (something) charged and If you use different tool that would be different .","body":"We know that decoded string is pre-charged If you see it is using browser and If you see it using Notepad++ it is Pre (SquareBox) charged so If you read the file using java and print it in eclipse that might be different pre (something) charged and If you use different tool that would be different ."}],"answers":[{"tags":[],"owner":{"account_id":8925980,"reputation":1,"user_id":6660474,"display_name":"Uday Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054693,"creation_date":1691053995,"answer_id":76826565,"question_id":76776799,"body_markdown":"I don&#39;t see any problem with the code you are using rather the issue is with the client you were using to view the file which is Notepad++ (Open the same file in notepad you will see pre-charged like you have seen when you open google drive link).\r\n\r\nI have downloaded the file and checked the encoding it is utf-8 and you were using same technique to read as well.\r\n\r\nIf you are seeing the pre?charged in any other client \r\nFor Example If you print the **output Data** in the eclipse console you will see **pre?charged** it might be because of the below settings\r\n\r\nRight-Click on project -&gt; properties -&gt; Resource -&gt; check Text file Encoding\r\n[click here][1]\r\nIt might be other than UTF-8\r\nIf it is not UTF-8 click on **other** dropdown and select UTF-8 \r\n[click here][2]\r\n\r\nNow rerun the method You will See **pre-charged**\r\n\r\n\r\nThe display of data will be different with the different clients Its always good to  check what kind of decoding used by the client. It should be the same as the one which is used to encode the data.\r\n\r\n    String s = &quot;‐&quot;;\r\n    ByteBuffer buffer =StandardCharsets.UTF_8.encode(s);\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16LE));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.ISO_8859_1));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.US_ASCII));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16));\r\n    System.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_8));\r\n\r\nOUTPUT:\r\n\r\n    XmlFileReader.main() 胢�\r\n    XmlFileReader.main() &#226;€\r\n    XmlFileReader.main() ���\r\n    XmlFileReader.main() �\r\n    XmlFileReader.main() ‐\r\n\r\nEven in the notepad++ If you change the encoding you will see the expected data\r\n[Click Here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S5QYy.png\r\n  [2]: https://i.stack.imgur.com/CcQyX.png\r\n  [3]: https://i.stack.imgur.com/rGrJ8.png","title":"What is this character mean and how to decode these type of characters?","body":"<p>I don't see any problem with the code you are using rather the issue is with the client you were using to view the file which is Notepad++ (Open the same file in notepad you will see pre-charged like you have seen when you open google drive link).</p>\n<p>I have downloaded the file and checked the encoding it is utf-8 and you were using same technique to read as well.</p>\n<p>If you are seeing the pre?charged in any other client\nFor Example If you print the <strong>output Data</strong> in the eclipse console you will see <strong>pre?charged</strong> it might be because of the below settings</p>\n<p>Right-Click on project -&gt; properties -&gt; Resource -&gt; check Text file Encoding\n<a href=\"https://i.stack.imgur.com/S5QYy.png\" rel=\"nofollow noreferrer\">click here</a>\nIt might be other than UTF-8\nIf it is not UTF-8 click on <strong>other</strong> dropdown and select UTF-8\n<a href=\"https://i.stack.imgur.com/CcQyX.png\" rel=\"nofollow noreferrer\">click here</a></p>\n<p>Now rerun the method You will See <strong>pre-charged</strong></p>\n<p>The display of data will be different with the different clients Its always good to  check what kind of decoding used by the client. It should be the same as the one which is used to encode the data.</p>\n<pre><code>String s = &quot;‐&quot;;\nByteBuffer buffer =StandardCharsets.UTF_8.encode(s);\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16LE));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.ISO_8859_1));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.US_ASCII));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_16));\nSystem.out.println(&quot;XmlFileReader.main() &quot;+newString(buffer.array(),StandardCharsets.UTF_8));\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>XmlFileReader.main() 胢�\nXmlFileReader.main() â€\nXmlFileReader.main() ���\nXmlFileReader.main() �\nXmlFileReader.main() ‐\n</code></pre>\n<p>Even in the notepad++ If you change the encoding you will see the expected data\n<a href=\"https://i.stack.imgur.com/rGrJ8.png\" rel=\"nofollow noreferrer\">Click Here</a></p>\n"}],"owner":{"account_id":8915028,"reputation":147,"user_id":6653908,"accept_rate":38,"display_name":"Srinivas"},"comment_count":41,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691054693,"creation_date":1690436726,"question_id":76776799,"body_markdown":"I am getting an xml with few special characters like these **Pre‿charged** ‿ and when Iam parsing this data, Iam unable to parse. In my xml Iam getting **PrexE2x80?Charged** or **Pre&#226;€?charged** it there any way to encode this ?\r\nSample code : \r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\tDocumentBuilder builder = null;\r\n    \t\tDocument document = null;\r\n    \r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\tbuilder = factory.newDocumentBuilder();\r\n    \t\t\tdocument = builder.parse(xmlFile); // xml data in string format\r\n    \t\t\tdocument.getDocumentElement().normalize();\r\n    \r\n    \t\t} \r\n    \t\tcatch (ParserConfigurationException e) \r\n    \t\t{\r\n    \t\t\tSystem.out.printf(&quot;Failed to parse XML Feed data&quot;, e);\r\n    \t\t}\r\n\r\nI tried UTF-8, ANSII and few other encoding techniques.\r\nEdit :\r\nReading xml data like below\r\n\r\n    StringBuffer outputData = new StringBuffer();\r\n    \t\tURL url;\r\n    \t\tInputStream is = null;\r\n    \t\tBufferedReader br;\r\n    \t\tString line;\r\n    \r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\turl = new URL(data_url);\r\n    \t\t\tis = url.openStream();\r\n    \t\t\tbr = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n    \t\t\twhile ((line = br.readLine()) != null) \r\n    \t\t\t{\r\n    \t\t\t\toutputData.append(line.trim());\r\n    \t\t\t}\r\n    \t\t\tbr.close();\r\n    \t\t} \r\n    \t\tcatch (MalformedURLException mue) \r\n    \t\t{\r\n    \t\t\tLOGGER.error(&quot;MalformedURLException while fetching feed data&quot;, mue);\r\n    \t\t} \r\n    \t\tcatch (IOException ioe) \r\n    \t\t{\r\n    \t\t\tLOGGER.error(&quot;IOException while fetching feed data&quot;, ioe);\r\n    \t\t} \r\n    \t\tfinally \r\n    \t\t{\r\n    \t\t\ttry \r\n    \t\t\t{\r\n    \t\t\t\tif (is != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tis.close();\r\n    \t\t\t\t}\r\n    \t\t\t} \r\n    \t\t\tcatch (IOException ioe) \r\n    \t\t\t{\r\n    \t\t\t\t// Silent fail\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn outputData.toString();\r\nWhen we hit the URL in browser,it look like - [![Browser visibility][1]][1].\r\nAfter reading data into file, it look like [![After reading][2]][2]\r\n\r\n\r\nAfter reading data directly from URL to file, instead of converting it into String, Iam getting data like this [![Direct data][3]][3]\r\n\r\n\r\nAfter using Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;)) function, my output look like\r\n[![testing][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SokRk.png\r\n  [2]: https://i.stack.imgur.com/Jtji7.png\r\n  [3]: https://i.stack.imgur.com/rrodr.png\r\n  [4]: https://i.stack.imgur.com/M2uvp.png","title":"What is this character mean and how to decode these type of characters?","body":"<p>I am getting an xml with few special characters like these <strong>Pre‿charged</strong> ‿ and when Iam parsing this data, Iam unable to parse. In my xml Iam getting <strong>PrexE2x80?Charged</strong> or <strong>Preâ€?charged</strong> it there any way to encode this ?\nSample code :</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = null;\n        Document document = null;\n\n        try \n        {\n            builder = factory.newDocumentBuilder();\n            document = builder.parse(xmlFile); // xml data in string format\n            document.getDocumentElement().normalize();\n\n        } \n        catch (ParserConfigurationException e) \n        {\n            System.out.printf(&quot;Failed to parse XML Feed data&quot;, e);\n        }\n</code></pre>\n<p>I tried UTF-8, ANSII and few other encoding techniques.\nEdit :\nReading xml data like below</p>\n<pre><code>StringBuffer outputData = new StringBuffer();\n        URL url;\n        InputStream is = null;\n        BufferedReader br;\n        String line;\n\n        try \n        {\n            url = new URL(data_url);\n            is = url.openStream();\n            br = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            while ((line = br.readLine()) != null) \n            {\n                outputData.append(line.trim());\n            }\n            br.close();\n        } \n        catch (MalformedURLException mue) \n        {\n            LOGGER.error(&quot;MalformedURLException while fetching feed data&quot;, mue);\n        } \n        catch (IOException ioe) \n        {\n            LOGGER.error(&quot;IOException while fetching feed data&quot;, ioe);\n        } \n        finally \n        {\n            try \n            {\n                if (is != null) \n                {\n                    is.close();\n                }\n            } \n            catch (IOException ioe) \n            {\n                // Silent fail\n            }\n        }\n\n        return outputData.toString();\n</code></pre>\n<p>When we hit the URL in browser,it look like - <a href=\"https://i.stack.imgur.com/SokRk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SokRk.png\" alt=\"Browser visibility\" /></a>.\nAfter reading data into file, it look like <a href=\"https://i.stack.imgur.com/Jtji7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jtji7.png\" alt=\"After reading\" /></a></p>\n<p>After reading data directly from URL to file, instead of converting it into String, Iam getting data like this <a href=\"https://i.stack.imgur.com/rrodr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rrodr.png\" alt=\"Direct data\" /></a></p>\n<p>After using Files.copy(URI.create(data_url).toURL().openStream(), Path.of(&quot;data-copy.x&quot;)) function, my output look like\n<a href=\"https://i.stack.imgur.com/M2uvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M2uvp.png\" alt=\"testing\" /></a></p>\n"},{"tags":["java","groovy","wsdl","soapui"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1690838827,"post_id":76791584,"comment_id":135406235,"body_markdown":"The error means that the service is not expecting `&lt;fin:input&gt;` in your payload. Try sending your payload without it.","body":"The error means that the service is not expecting <code>&lt;fin:input&gt;</code> in your payload. Try sending your payload without it."},{"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"score":0,"creation_date":1690889730,"post_id":76791584,"comment_id":135413255,"body_markdown":"Could you possibly provide the entirety or at least a larger chunk of your Groovy script? At least the lines prior and after the one you have already shared.","body":"Could you possibly provide the entirety or at least a larger chunk of your Groovy script? At least the lines prior and after the one you have already shared."},{"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"score":0,"creation_date":1690938014,"post_id":76791584,"comment_id":135421637,"body_markdown":"Hi @Steen, thank you for helping me, i already updated my question and attach full source code of my groovy service","body":"Hi @Steen, thank you for helping me, i already updated my question and attach full source code of my groovy service"},{"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"score":0,"creation_date":1690956422,"post_id":76791584,"comment_id":135423154,"body_markdown":"Hi @Siking, if not with &lt;fin:input&gt; it working fine, but i need use that tag to use, what should i change from my groovy service source code in order to comply ? Any help would be greatly appreciated","body":"Hi @Siking, if not with &lt;fin:input&gt; it working fine, but i need use that tag to use, what should i change from my groovy service source code in order to comply ? Any help would be greatly appreciated"},{"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"score":0,"creation_date":1691054002,"post_id":76791584,"comment_id":135440502,"body_markdown":"I don&#39;t think your current problem is a Groovy code problem. If you include the &lt;fin:input&gt; you are violating the schema. The schema is the &quot;contract&quot; on what data to include in request and what response you can expect. Trying to adapt the code to receive a request that violates the contract is a bad solution.","body":"I don&#39;t think your current problem is a Groovy code problem. If you include the &lt;fin:input&gt; you are violating the schema. The schema is the &quot;contract&quot; on what data to include in request and what response you can expect. Trying to adapt the code to receive a request that violates the contract is a bad solution."}],"answers":[{"tags":[],"owner":{"account_id":13566930,"reputation":853,"user_id":9788477,"display_name":"Steen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691054486,"creation_date":1691054486,"answer_id":76826621,"question_id":76791584,"body_markdown":"Without knowing the WSDL for this webservice, I think your request should look like this:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;fin:getData&gt;\r\n             &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\r\n             &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\r\n             &lt;java:crc32&gt;test&lt;/java:crc32&gt;\r\n             &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\r\n          &lt;/fin:getData&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nIf you created this request in SoapUI, you may check your request by validating it inside SoapUI.\r\n( Pressing Alt+V if I remember correctly )","title":"how to handle request soap with groovy?","body":"<p>Without knowing the WSDL for this webservice, I think your request should look like this:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;fin:getData&gt;\n         &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\n         &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\n         &lt;java:crc32&gt;test&lt;/java:crc32&gt;\n         &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\n      &lt;/fin:getData&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>If you created this request in SoapUI, you may check your request by validating it inside SoapUI.\n( Pressing Alt+V if I remember correctly )</p>\n"}],"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691054486,"creation_date":1690589229,"question_id":76791584,"body_markdown":"i want to hit this soap request to my groovy service, \r\n\r\nhere&#39;s my soap request\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;fin:getData&gt;\r\n             &lt;fin:input&gt;\r\n                &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\r\n                &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\r\n                &lt;java:crc32&gt;test&lt;/java:crc32&gt;\r\n                &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\r\n             &lt;/fin:input&gt;\r\n          &lt;/fin:getData&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nbut when i tried to submit request using soap ui, this error appears\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;soap:Fault&gt;\r\n          &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\r\n          &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://financial.sekuritas.pt.com/&quot;, local:&quot;input&quot;). Expected elements are &amp;lt;{}memberCode&amp;gt;,&amp;lt;{}crc32&amp;gt;,&amp;lt;{}fileContents&amp;gt;,&amp;lt;{}urlWS&amp;gt; &lt;/faultstring&gt;\r\n        &lt;/soap:Fault&gt;\r\n      &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nin the groovy service that I created, I made it like this\r\n\r\n    package com.pt.sekuritas.financial\r\n    \r\n    import grails.transaction.Transactional\r\n    import org.grails.cxf.utils.GrailsCxfEndpoint\r\n    import java.text.SimpleDateFormat\r\n    import javax.annotation.Resource\r\n    import javax.jws.WebMethod\r\n    import javax.jws.WebParam\r\n    import javax.jws.WebResult\r\n    import grails.converters.JSON\r\n    \r\n    import javax.servlet.http.HttpServletRequest\r\n    import javax.xml.ws.WebServiceContext\r\n    import javax.xml.ws.handler.MessageContext\r\n    \r\n    import com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n    \r\n    import groovy.sql.Sql\r\n    \r\n    import com.pt.sekuritas.backoffice.Registration\r\n    \r\n    \r\n    @Transactional\r\n    @GrailsCxfEndpoint(address=&quot;/ReportInvestorAccountCIMB&quot;)\r\n    class ReportInvestorAccountCIMBService {\r\n    \tdef grailsApplication\r\n    \tdef base64Decode(encodedString){\r\n        \t\t\t\t\t\tbyte[] decoded = encodedString.decodeBase64()\r\n       \t\t\t\t\t\t\tString decode = new String(decoded)\r\n        \t\t\t\t\t\treturn decode\r\n    \t\t\t\t\t\t\t}\r\n    \t@Resource WebServiceContext context\r\n        @WebMethod\r\n    \t@WebResult()\r\n    \t\r\n    \tgetData(@WebParam(name = &#39;memberCode&#39;) String memberCode,\t\t\t\r\n    \t\t    @WebParam(name = &#39;fileContents&#39;) String fileContents,\r\n    \t\t\t@WebParam(name = &#39;crc32&#39;) String crc32,\r\n    \t\t\t@WebParam(name = &#39;urlWS&#39;) String urlWS\r\n    \r\n    \t\t\t) {\r\n        \t\t\tHttpServletRequest request = (HttpServletRequest)context.getMessageContext().get(MessageContext.SERVLET_REQUEST)\r\n        \t\t\tdef ip = request.getRemoteAddr()\r\n    \t\t\t\t\t\r\n    \t\t\t\tdef port = request.getRemotePort()\r\n    \t\t\t\tdef host = request.getRemoteHost()\r\n        \t\t\tdef dateFormatter = new SimpleDateFormat(&#39;yyyy-MM-dd HH:mm:ss&#39;)\r\n    \t\t\t\tdef dateFormatterRtbo = new SimpleDateFormat(&#39;yyyy-MM-dd&#39;)\r\n        \t\t\tdef sTime = new SimpleDateFormat(&#39;yyyyMMdd&#39;)\r\n    \t\t\t\tdef nowDate = new Date()\r\n        \t\t\tdef currentDate = dateFormatter.format(nowDate)\r\n    \r\n    \t\t\r\n    \t\t\t\tfileContents = base64Decode(fileContents)\r\n    \r\n    \t\t\t\tdef externalReference=&quot;&quot;;\r\n    \t\t\t\tdef sequenceNumber=&quot;&quot;;\r\n    \t\t\t\tdef accountNumber=&quot;&quot;;\r\n    \t\t\t\tdef currency=&quot;&quot;;\r\n    \t\t\t\tdef txnDate=&quot;&quot;;\r\n    \t\t\t\tdef openBalance=&quot;&quot;;\r\n    \t\t\t\tdef closeBalance=&quot;&quot;;\r\n    \r\n    \t\t\t\tdef txnAmount=&quot;&quot;;\r\n    \t\t\t\tdef txnType=&quot;&quot;;\r\n    \t\t\t\tdef txnCode=&quot;&quot;;\r\n    \t\t\t\tdef txnDesc=&quot;&quot;;\r\n    \t\t\t\tdef accountDebit=&quot;&quot;;\r\n    \t\t\t\tdef accountCredit=&quot;&quot;;\r\n    \r\n    \t\t\t\t\r\n    \t\t\tdef test = new XmlParser().parseText(fileContents)\r\n    \t\t\ttest.each { \r\n    \t\t\tif (it.@name == &#39;StatLine&#39;) {\r\n    \t\t\t\tit.&#39;*&#39;.&#39;*&#39;.each {\r\n    \t\t\t\t\tif (it.@name == &#39;CashVal&#39;) {\r\n    \t\t\t\t\t\tdef cashVal = new BigDecimal(it.text())\r\n    \t\t\t\t\t\t txnAmount= &quot;$cashVal&quot; \r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;TrxType&#39;) {\r\n    \t\t\t\t\t\tdef trxType = (it.text())\r\n    \t\t\t\t\t\t  txnType=&quot;$trxType&quot;\r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;DC&#39;) {\r\n    \t\t\t\t\t\tdef dc = (it.text())\r\n    \t\t\t\t\t\t  txnCode=&quot;$dc&quot; \r\n    \r\n    \t\t\t\t\t}else if (it.@name == &#39;Description1&#39;) {\r\n    \t\t\t\t\t\tdef description1 = (it.text())\r\n    \t\t\t\t\t\t txnDesc=&quot;$description1&quot; \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tdef xml = new XmlParser().parseText(fileContents)\r\n    \t\t\t\txml.each {\r\n    \t\t\t\tif(it.@name == &#39;ExtRef&#39;) {\r\n    \t\t\t\t def a = (it.text())\r\n    \t\t\t\t externalReference=&quot;$a&quot;\r\n    \t\t\t\t}else if(it.@name == &#39;SeqNum&#39;) {\r\n    \t\t\t\tdef b = new BigDecimal(it.text())\r\n    \t\t\t\t sequenceNumber=&quot;$b&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;AC&#39;) {\r\n    \t\t\t\t  def c = new BigDecimal(it.text())\r\n    \t\t\t\t  accountNumber=&quot;$c&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;CurCod&#39;) {\r\n    \t\t\t\t def d = (it.text())\r\n    \t\t\t\t  currency=&quot;$d&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;ValDate&#39;) {\r\n    \t\t\t\t def e = new BigDecimal(it.text())\r\n    \t\t\t\t  txnDate=&quot;$e&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;OpenBal&#39;) {\r\n    \t\t\t\tdef f = new BigDecimal(it.text())\r\n    \t\t\t\t openBalance=&quot;$f&quot;\r\n    \t\t\t\t} else if(it.@name == &#39;CloseBal&#39;) {\r\n    \t\t\t\tdef g = new BigDecimal(it.text())\r\n    \t\t\t\t closeBalance=&quot;$g&quot;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t\tprintln(&quot;txnDate? &quot;+txnDate)\t\r\n        \t\t\t\r\n        \t\t\tlog.info (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][current date:&#39; + currentDate + &#39;][data[externalReference:&#39; + externalReference + &#39;, sequenceNumber:&#39; + sequenceNumber + &#39;, accountNumber:&#39; + accountNumber + &#39;, currency:&#39; + currency + &#39;, txnDate:&#39; + txnDate + &#39;, txnType:&#39; + &#39;, txnCode:&#39; + txnCode + &#39;, accountDebit:&#39; + accountDebit + &#39;, accountCredit:&#39; + accountCredit + &#39;, txnAmount:&#39; + txnAmount + &#39;, openBalance:&#39; + openBalance + &#39;, closeBalance:&#39; + closeBalance + &#39;, txnDesc:&#39; + txnDesc + &#39;]]&#39;)\r\n    \t\t\r\n    \t\t\t\tdef status = 1\r\n    \t\t\t\tdef processDinamis = 0\r\n    \t\t\t\tdef processRtbo = 0\r\n    \r\n    \t\t\t\t\r\n    \r\n        \t\t\t\r\n    \t\t\t\tif(txnDate == &#39;&#39;){\r\n    \t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][TxnDate: is null]&#39;)\r\n    \t\t\t        return status = 3\t    \r\n    \t\t\t\t}\r\n        \t\t\tdef financialConfiguration = FinancialGatewayConfiguration.findByIpAddress(ip)\r\n    \t\t\t\t\r\n        \t\t\t\t\t\r\n    \t\t\t\tif(financialConfiguration) {\r\n    \t\t\t\t\ttry\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdef p_txnDate = sTime.parse(txnDate)\r\n    \t\t\t\t\t\tdef financialInstance = FinancialGatewayNotification.findByExternalReference(externalReference)\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(financialInstance)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][is exist externalReference:&#39; + externalReference + &#39;]&#39;)\r\n    \t\t\t\t\t        return status = 4\t\r\n    \t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tif(txnCode == &#39;C&#39;){\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\taccountCredit = accountNumber\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}else if(txnCode == &#39;D&#39;){\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\taccountDebit = accountNumber\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\tfinancialInstance = new FinancialGatewayNotification()\r\n    \t\t\t\t\t\t\tfinancialInstance.externalReference = externalReference\r\n    \t\t\t\t\t\t\tfinancialInstance.sequenceNumber = sequenceNumber\r\n    \t\t\t\t\t\t\tfinancialInstance.accountNumber = accountNumber\r\n    \t\t\t\t\t\t\tfinancialInstance.currency = currency\r\n    \t\t\t\t\t\t\tfinancialInstance.txnDate = dateFormatter.format(p_txnDate)\r\n    \t\t\t\t\t\t\tfinancialInstance.txnType = txnType\r\n    \t\t\t\t\t\t\tfinancialInstance.txnCode = txnCode \r\n    \t\t\t\t\t\t\tfinancialInstance.accountDebit = accountDebit     \r\n    \t\t\t\t\t\t\tfinancialInstance.accountCredit = accountCredit\r\n    \t\t\t\t\t\t\tfinancialInstance.txnAmount = txnAmount\r\n    \t\t\t\t\t\t\tfinancialInstance.openBalance = openBalance\r\n    \t\t\t\t\t\t\tfinancialInstance.closeBalance = closeBalance\r\n    \t\t\t\t\t\t\tfinancialInstance.txnDescription = txnDesc\r\n    \t\t\t\t\t\t\tfinancialInstance.ipAddress = financialConfiguration.ipAddress\r\n    \t\t\t\t\t\t\tfinancialInstance.sourceBank = financialConfiguration.sourceBank\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t        \r\n    \t\t\t\t\t\t\tif (financialInstance.hasErrors()) {\t\t            \r\n    \t\t\t\t\t            return status\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tdef currDate = sTime.format(nowDate).toString()\r\n    \t\t\t\t\t\t\tdef _txnDate = sTime.format(p_txnDate).toString()\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t//if(_txnDate == currDate) {\r\n    \t\t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService]SQL SERVER: &#39; + grailsApplication.config.dinamis.gateway.db.url)\r\n    \t\t\t\t\t\t\t\t\tdef sql = Sql.newInstance( grailsApplication.config.dinamis.gateway.db.url,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.user,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.password,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.dinamis.gateway.db.driver )\r\n    \t\t\t\t\t\t\t\t\tsql.execute(&#39;INSERT INTO CIMB_H2H (EXTERNAL_REFERENCE, SEQ_NUMBER, ACCOUNT_NUMBER, CURRENCY, TXN_DATE, TXN_TYPE, TXN_CODE, ACCOUNT_DEBIT, ACCOUNT_CREDIT, TXN_AMOUNT, OPEN_BALANCE, CLOSE_BALANCE, TXN_DESC, INSERT_TIME, MEMBER_CODE, CRC32, URL_WS) VALUES(\\&#39;&#39; + externalReference + &#39;\\&#39;, \\&#39;&#39; + sequenceNumber + &#39;\\&#39;, \\&#39;&#39; + accountNumber + &#39;\\&#39;, \\&#39;&#39; + currency + &#39;\\&#39;, \\&#39;&#39; + dateFormatter.format(p_txnDate) + &#39;\\&#39;, \\&#39;&#39; + txnType + &#39;\\&#39;, \\&#39;&#39; + txnCode + &#39;\\&#39;, \\&#39;&#39; + accountDebit + &#39;\\&#39;, \\&#39;&#39; + accountCredit + &#39;\\&#39;, \\&#39;&#39; + txnAmount + &#39;\\&#39;, \\&#39;&#39; + openBalance + &#39;\\&#39;, \\&#39;&#39; + closeBalance + &#39;\\&#39;, \\&#39;&#39; + txnDesc + &#39;\\&#39;, \\&#39;&#39; +  currentDate + &#39;\\&#39;, \\&#39;&#39; +  memberCode + &#39;\\&#39;,  \\&#39;&#39; +  crc32 + &#39;\\&#39;,  \\&#39;&#39; +  urlWS + &#39;\\&#39;)&#39;)\r\n    \t\t\t\t\t\t            processDinamis = 1\r\n    \t\t\t\t\t\t            sql.close()\r\n    \t\t\t\t\t\t            \r\n    \t\t\t\t\t\t        }\r\n    \t\t\t\t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: SQL EXECUTE&#39;)\r\n    \t\t\t\t\t\t\t\t\tprocessDinamis = 0 \r\n    \t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][current date:&#39; + currentDate + &#39;][data[externalReference:&#39; + externalReference + &#39;, sequenceNumber:&#39; + sequenceNumber + &#39;, accountNumber:&#39; + accountNumber + &#39;, currency:&#39; + currency + &#39;, txnDate:&#39; + txnDate + &#39;, txnType:&#39; + &#39;, txnCode:&#39; + txnCode + &#39;, accountDebit:&#39; + accountDebit + &#39;, accountCredit:&#39; + accountCredit + &#39;, txnAmount:&#39; + txnAmount + &#39;, openBalance:&#39; + openBalance + &#39;, closeBalance:&#39; + closeBalance + &#39;, txnDesc:&#39; + txnDesc + &#39;]]The &#39; + currDate + &#39; not match with _txnDate &#39; + _txnDate)\r\n    \t\t\t\t\t\t\t}*/\r\n    \t\t\t\t\t\t\t\tfinancialInstance.processResponse = processDinamis\r\n    \t\t\t\t\t\t\t\tfinancialInstance.processDate = currentDate\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t// S21 RTBO\r\n    \t\t\t\t\t\t\t\tif(accountNumber) {\r\n    \t\t\t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService]SQL SERVER: &#39; + grailsApplication.config.rtbo.gateway.db.url)\r\n    \t\t\t\t\t\t\t\t\t\tdef sql = Sql.newInstance( grailsApplication.config.rtbo.gateway.db.url,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.user,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.password,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   grailsApplication.config.rtbo.gateway.db.driver )\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tsql.execute(&#39;EXEC RtboAddFundinout \\&#39;&#39; + dateFormatterRtbo.format(p_txnDate) + &#39;\\&#39;, \\&#39;&#39; + currentDate + &#39;\\&#39;, \\&#39;&#39; + txnDesc + &#39;\\&#39;, null, \\&#39;&#39; + accountNumber + &#39;\\&#39;, \\&#39;&#39; + txnAmount + &#39;\\&#39;, \\&#39;&#39; + openBalance + &#39;\\&#39;, \\&#39;&#39; + txnCode + &#39;\\&#39;, \\&#39;&#39; + txnType + &#39;\\&#39;, \\&#39;&#39; + &#39;H2H&#39; + &#39;\\&#39;, \\&#39;&#39; + &#39;&#39; + &#39;\\&#39;, \\&#39;&#39; + accountDebit + &#39;\\&#39;, \\&#39;&#39; + accountCredit + &#39;\\&#39;, \\&#39;&#39; + externalReference + &#39;\\&#39;, \\&#39;&#39; + &#39;Cimb&#39; + &#39;\\&#39;&#39;)\r\n    \t\t\t\t\t\t\t\t\t\tprocessRtbo = 1\r\n    \t\t\t\t\t\t\t\t\t\tsql.close()\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: SQL EXECUTE&#39;)\r\n    \t\t\t\t\t\t\t\t\t\tprocessRtbo = 0\r\n    \t\t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.processResponse = processRtbo\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.processDate = currentDate\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\tfinancialInstance.save flush: true, failOnError: true\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t}else {\r\n    \t\t\t\t\t\t\t\t\tlog.info (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;]Empty Account Number&#39;)\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\tif(txnType == &#39;61&#39; &amp;&amp; txnDesc == &#39;PHINTRACO PHINTRACO&#39; &amp;&amp; txnAmount == &#39;50000.0000&#39;) {\r\n    \t\t\t\t\t\t\t\t\t\tdef c = com.pt.sekuritas.backoffice.Registration.createCriteria()\r\n    \t\t\t\t\t\t\t\t\t\tdef d = c.list{\r\n    \t\t\t\t\t\t\t\t\t\t\teq(&#39;rdn&#39;, accountNumber)\r\n    \t\t\t\t\t\t\t\t\t\t\teq(&#39;rdnBank&#39;, &#39;Cimb&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\tisNotNull(&#39;onlineRegistration&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif(d.size() &gt; 0) {\r\n    \t\t\t\t\t\t\t\t\t\t\tdef registrationInstance = d[0]\r\n    \t\t\t\t\t\t\t\t\t\t\tdef cal = Calendar.getInstance()\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.YEAR, 2021)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MONTH, 9)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.DATE, 1)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.HOUR, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MINUTE, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.SECOND, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tdef startDate = cal.time\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.YEAR, 2022)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.MONTH, 0)\r\n    \t\t\t\t\t\t\t\t\t\t\tcal.set(Calendar.DATE, 1)\r\n    \t\t\t\t\t\t\t\t\t\t\tdef endDate = cal.time\r\n    \t\t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][txnType:&#39; + txnType + &#39;][txnDesc:&#39; + txnDesc + &#39;][accountNumber:&#39; + accountNumber + &#39;][onlineRegistration.dateCreated:&#39; + registrationInstance.onlineRegistration.dateCreated + &#39;][startDate:&#39; + startDate + &#39;][endDate:&#39; + endDate + &#39;]&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\tif(registrationInstance.onlineRegistration.dateCreated &gt; startDate &amp;&amp; registrationInstance.onlineRegistration.dateCreated &lt; endDate) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t//PROMO DIMODALIN\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef accountInstance = registrationInstance.onlineRegistration.account\r\n    \t\t\t\t\t\t\t\t\t\t\t\tLong longDepositAmount = Float.parseFloat(txnAmount)\r\n    \t\t\t\t\t\t\t\t\t\t\t\tjava.text.NumberFormat deFormat = java.text.NumberFormat.getInstance(new java.util.Locale(&quot;de&quot;, &quot;DE&quot;))\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef formattedAmount = deFormat.format(longDepositAmount)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef username = registrationInstance.username\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef name = registrationInstance.name\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef message = &#39;&lt;h2&gt;Yeay!&lt;/h2&gt;&lt;br/&gt;&lt;b&gt;&#39; + name + &#39;&lt;/b&gt; Kamu dapat modal Rp&#39; + formattedAmount + &#39; dari Phintraco Sekuritas.&lt;br/&gt;Cek saldo RDN kamu sekarang ya.&lt;br/&gt;Segera beli saham pilihan kamu.&lt;br/&gt;Ayo tingkatkan investasi kamu dengan top up saldo RDN kamu dan beli saham lebih banyak lagi.&lt;br/&gt;&#39; + \r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  &#39;Salam Profits&lt;br/&gt;&lt;b&gt;#bukarekeningdimodalin&lt;/b&gt;&#39;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef pushData = [&#39;channel&#39;: &#39;PTANYWHERE_TRANSACTION_NOTIFICATION&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;type&#39;:&#39;cashDeposit&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;subType&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;sender&#39;:&#39;financialGateway&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;recipient&#39;: accountInstance.username,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;priority&#39;:&#39;0&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;isHtml&#39;:&#39;true&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;sentTime&#39;: System.currentTimeMillis(),\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;title&#39;:&#39;Promo Buka Rekening Dimodalin&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;body&#39;:message,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;ticker&#39;:message,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;targetIntent&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData1&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData2&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData3&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData4&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                  &#39;additionalData5&#39;:&#39;&#39;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t                 ]\r\n    \t\t\t\t\t\t\t\t\t\t\t\tdef fcmMessage = (pushData as JSON).toString()\r\n    \t\t\t\t\t\t\t\t\t\t\t\tlog.info(&#39;[ReportInvestorAccountCIMBService][txnType:&#39; + txnType + &#39;][txnDesc:&#39; + txnDesc + &#39;][accountNumber:&#39; + accountNumber + &#39;][username:&#39; + username + &#39;][name:&#39; + name + &#39;][onlineRegistration.dateCreated:&#39; + registrationInstance.onlineRegistration.dateCreated + &#39;][message:&#39; + message + &#39;][fcmMessage:&#39; + fcmMessage + &#39;]&#39;)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\tcom.pt.sekuritas.util.ActiveMQHolder.getInstance().pushNotification(fcmMessage)\r\n    \t\t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\tcatch(Exception exc) {\r\n    \t\t\t\t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: FAILED PROCESSING NOTIFICATION]&#39;)\r\n    \t\t\t\t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t    return status = 1\r\n    \t\t\t\t\t\t}\r\n    \t\t    \t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch(Exception exc)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlog.error (&#39;[ReportInvestorAccountCIMBService][ip:&#39; + ip + &#39;][error: FAILED INSERT]&#39;)\r\n    \t\t\t\t\t\texc.printStackTrace()\r\n    \t\t\t            return status = 0\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\tlog.error(&#39;[ReportInvestorAccountCIMBService]not found ip address: &#39; + ip)\r\n    \t\t\t\t\treturn status = 2\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t}\r\n    }\r\n\r\nhow can I send a request with a soap like that?\r\nwhat should i change from my groovy service source code\r\nin order to comply with the soap above?\r\n\r\nAny help would be greatly appreciated.\r\n","title":"how to handle request soap with groovy?","body":"<p>i want to hit this soap request to my groovy service,</p>\n<p>here's my soap request</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:fin=&quot;http://financial.sekuritas.pt.com/&quot; xmlns:java=&quot;java:financialgateway.service.RepostInvestorAccountCIMB&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;fin:getData&gt;\n         &lt;fin:input&gt;\n            &lt;java:memberCode&gt;test&lt;/java:memberCode&gt;\n            &lt;java:fileContents&gt;somebase64encodedtext&lt;/java:fileContents&gt;\n            &lt;java:crc32&gt;test&lt;/java:crc32&gt;\n            &lt;java:urlWS&gt;test&lt;/java:urlWS&gt;\n         &lt;/fin:input&gt;\n      &lt;/fin:getData&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>but when i tried to submit request using soap ui, this error appears</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n      &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n      &lt;faultstring&gt;Unmarshalling Error: unexpected element (uri:&quot;http://financial.sekuritas.pt.com/&quot;, local:&quot;input&quot;). Expected elements are &amp;lt;{}memberCode&amp;gt;,&amp;lt;{}crc32&amp;gt;,&amp;lt;{}fileContents&amp;gt;,&amp;lt;{}urlWS&amp;gt; &lt;/faultstring&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>in the groovy service that I created, I made it like this</p>\n<pre><code>package com.pt.sekuritas.financial\n\nimport grails.transaction.Transactional\nimport org.grails.cxf.utils.GrailsCxfEndpoint\nimport java.text.SimpleDateFormat\nimport javax.annotation.Resource\nimport javax.jws.WebMethod\nimport javax.jws.WebParam\nimport javax.jws.WebResult\nimport grails.converters.JSON\n\nimport javax.servlet.http.HttpServletRequest\nimport javax.xml.ws.WebServiceContext\nimport javax.xml.ws.handler.MessageContext\n\nimport com.microsoft.sqlserver.jdbc.SQLServerDataSource\n\nimport groovy.sql.Sql\n\nimport com.pt.sekuritas.backoffice.Registration\n\n\n@Transactional\n@GrailsCxfEndpoint(address=&quot;/ReportInvestorAccountCIMB&quot;)\nclass ReportInvestorAccountCIMBService {\n    def grailsApplication\n    def base64Decode(encodedString){\n                            byte[] decoded = encodedString.decodeBase64()\n                            String decode = new String(decoded)\n                            return decode\n                            }\n    @Resource WebServiceContext context\n    @WebMethod\n    @WebResult()\n    \n    getData(@WebParam(name = 'memberCode') String memberCode,           \n            @WebParam(name = 'fileContents') String fileContents,\n            @WebParam(name = 'crc32') String crc32,\n            @WebParam(name = 'urlWS') String urlWS\n\n            ) {\n                HttpServletRequest request = (HttpServletRequest)context.getMessageContext().get(MessageContext.SERVLET_REQUEST)\n                def ip = request.getRemoteAddr()\n                    \n                def port = request.getRemotePort()\n                def host = request.getRemoteHost()\n                def dateFormatter = new SimpleDateFormat('yyyy-MM-dd HH:mm:ss')\n                def dateFormatterRtbo = new SimpleDateFormat('yyyy-MM-dd')\n                def sTime = new SimpleDateFormat('yyyyMMdd')\n                def nowDate = new Date()\n                def currentDate = dateFormatter.format(nowDate)\n\n        \n                fileContents = base64Decode(fileContents)\n\n                def externalReference=&quot;&quot;;\n                def sequenceNumber=&quot;&quot;;\n                def accountNumber=&quot;&quot;;\n                def currency=&quot;&quot;;\n                def txnDate=&quot;&quot;;\n                def openBalance=&quot;&quot;;\n                def closeBalance=&quot;&quot;;\n\n                def txnAmount=&quot;&quot;;\n                def txnType=&quot;&quot;;\n                def txnCode=&quot;&quot;;\n                def txnDesc=&quot;&quot;;\n                def accountDebit=&quot;&quot;;\n                def accountCredit=&quot;&quot;;\n\n                \n            def test = new XmlParser().parseText(fileContents)\n            test.each { \n            if (it.@name == 'StatLine') {\n                it.'*'.'*'.each {\n                    if (it.@name == 'CashVal') {\n                        def cashVal = new BigDecimal(it.text())\n                         txnAmount= &quot;$cashVal&quot; \n\n                    }else if (it.@name == 'TrxType') {\n                        def trxType = (it.text())\n                          txnType=&quot;$trxType&quot;\n\n                    }else if (it.@name == 'DC') {\n                        def dc = (it.text())\n                          txnCode=&quot;$dc&quot; \n\n                    }else if (it.@name == 'Description1') {\n                        def description1 = (it.text())\n                         txnDesc=&quot;$description1&quot; \n                    }\n                }\n            }\n            }\n\n            def xml = new XmlParser().parseText(fileContents)\n                xml.each {\n                if(it.@name == 'ExtRef') {\n                 def a = (it.text())\n                 externalReference=&quot;$a&quot;\n                }else if(it.@name == 'SeqNum') {\n                def b = new BigDecimal(it.text())\n                 sequenceNumber=&quot;$b&quot;\n                } else if(it.@name == 'AC') {\n                  def c = new BigDecimal(it.text())\n                  accountNumber=&quot;$c&quot;\n                } else if(it.@name == 'CurCod') {\n                 def d = (it.text())\n                  currency=&quot;$d&quot;\n                } else if(it.@name == 'ValDate') {\n                 def e = new BigDecimal(it.text())\n                  txnDate=&quot;$e&quot;\n                } else if(it.@name == 'OpenBal') {\n                def f = new BigDecimal(it.text())\n                 openBalance=&quot;$f&quot;\n                } else if(it.@name == 'CloseBal') {\n                def g = new BigDecimal(it.text())\n                 closeBalance=&quot;$g&quot;\n                }\n            }\n\n                println(&quot;txnDate? &quot;+txnDate)    \n                \n                log.info ('[ReportInvestorAccountCIMBService][ip:' + ip + '][current date:' + currentDate + '][data[externalReference:' + externalReference + ', sequenceNumber:' + sequenceNumber + ', accountNumber:' + accountNumber + ', currency:' + currency + ', txnDate:' + txnDate + ', txnType:' + ', txnCode:' + txnCode + ', accountDebit:' + accountDebit + ', accountCredit:' + accountCredit + ', txnAmount:' + txnAmount + ', openBalance:' + openBalance + ', closeBalance:' + closeBalance + ', txnDesc:' + txnDesc + ']]')\n        \n                def status = 1\n                def processDinamis = 0\n                def processRtbo = 0\n\n                \n\n                \n                if(txnDate == ''){\n                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][TxnDate: is null]')\n                    return status = 3       \n                }\n                def financialConfiguration = FinancialGatewayConfiguration.findByIpAddress(ip)\n                \n                        \n                if(financialConfiguration) {\n                    try\n                    {\n                        def p_txnDate = sTime.parse(txnDate)\n                        def financialInstance = FinancialGatewayNotification.findByExternalReference(externalReference)\n                        \n                        if(financialInstance)\n                        {\n                            log.error ('[ReportInvestorAccountCIMBService][is exist externalReference:' + externalReference + ']')\n                            return status = 4   \n                        }else {\n                            \n                            if(txnCode == 'C'){\n                                \n                                accountCredit = accountNumber\n                                \n                            }else if(txnCode == 'D'){\n                                \n                                accountDebit = accountNumber\n                                \n                            }\n\n                            financialInstance = new FinancialGatewayNotification()\n                            financialInstance.externalReference = externalReference\n                            financialInstance.sequenceNumber = sequenceNumber\n                            financialInstance.accountNumber = accountNumber\n                            financialInstance.currency = currency\n                            financialInstance.txnDate = dateFormatter.format(p_txnDate)\n                            financialInstance.txnType = txnType\n                            financialInstance.txnCode = txnCode \n                            financialInstance.accountDebit = accountDebit     \n                            financialInstance.accountCredit = accountCredit\n                            financialInstance.txnAmount = txnAmount\n                            financialInstance.openBalance = openBalance\n                            financialInstance.closeBalance = closeBalance\n                            financialInstance.txnDescription = txnDesc\n                            financialInstance.ipAddress = financialConfiguration.ipAddress\n                            financialInstance.sourceBank = financialConfiguration.sourceBank\n                            \n                        \n                            if (financialInstance.hasErrors()) {                    \n                                return status\n                            }\n                            financialInstance.save flush: true, failOnError: true\n                            \n                            def currDate = sTime.format(nowDate).toString()\n                            def _txnDate = sTime.format(p_txnDate).toString()\n                            \n                            \n                            //if(_txnDate == currDate) {\n                                try\n                                {\n                                    log.info('[ReportInvestorAccountCIMBService]SQL SERVER: ' + grailsApplication.config.dinamis.gateway.db.url)\n                                    def sql = Sql.newInstance( grailsApplication.config.dinamis.gateway.db.url,\n                                                               grailsApplication.config.dinamis.gateway.db.user,\n                                                               grailsApplication.config.dinamis.gateway.db.password,\n                                                               grailsApplication.config.dinamis.gateway.db.driver )\n                                    sql.execute('INSERT INTO CIMB_H2H (EXTERNAL_REFERENCE, SEQ_NUMBER, ACCOUNT_NUMBER, CURRENCY, TXN_DATE, TXN_TYPE, TXN_CODE, ACCOUNT_DEBIT, ACCOUNT_CREDIT, TXN_AMOUNT, OPEN_BALANCE, CLOSE_BALANCE, TXN_DESC, INSERT_TIME, MEMBER_CODE, CRC32, URL_WS) VALUES(\\'' + externalReference + '\\', \\'' + sequenceNumber + '\\', \\'' + accountNumber + '\\', \\'' + currency + '\\', \\'' + dateFormatter.format(p_txnDate) + '\\', \\'' + txnType + '\\', \\'' + txnCode + '\\', \\'' + accountDebit + '\\', \\'' + accountCredit + '\\', \\'' + txnAmount + '\\', \\'' + openBalance + '\\', \\'' + closeBalance + '\\', \\'' + txnDesc + '\\', \\'' +  currentDate + '\\', \\'' +  memberCode + '\\',  \\'' +  crc32 + '\\',  \\'' +  urlWS + '\\')')\n                                    processDinamis = 1\n                                    sql.close()\n                                    \n                                }\n                                catch(Exception exc)\n                                {\n                                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: SQL EXECUTE')\n                                    processDinamis = 0 \n                                    exc.printStackTrace()\n                                }\n                            /*\n                            }else {\n                                log.info('[ReportInvestorAccountCIMBService][ip:' + ip + '][current date:' + currentDate + '][data[externalReference:' + externalReference + ', sequenceNumber:' + sequenceNumber + ', accountNumber:' + accountNumber + ', currency:' + currency + ', txnDate:' + txnDate + ', txnType:' + ', txnCode:' + txnCode + ', accountDebit:' + accountDebit + ', accountCredit:' + accountCredit + ', txnAmount:' + txnAmount + ', openBalance:' + openBalance + ', closeBalance:' + closeBalance + ', txnDesc:' + txnDesc + ']]The ' + currDate + ' not match with _txnDate ' + _txnDate)\n                            }*/\n                                financialInstance.processResponse = processDinamis\n                                financialInstance.processDate = currentDate\n                                \n                                financialInstance.save flush: true, failOnError: true\n                                \n                                // S21 RTBO\n                                if(accountNumber) {\n                                    try\n                                    {\n                                        log.info('[ReportInvestorAccountCIMBService]SQL SERVER: ' + grailsApplication.config.rtbo.gateway.db.url)\n                                        def sql = Sql.newInstance( grailsApplication.config.rtbo.gateway.db.url,\n                                                                   grailsApplication.config.rtbo.gateway.db.user,\n                                                                   grailsApplication.config.rtbo.gateway.db.password,\n                                                                   grailsApplication.config.rtbo.gateway.db.driver )\n                                        \n                                        sql.execute('EXEC RtboAddFundinout \\'' + dateFormatterRtbo.format(p_txnDate) + '\\', \\'' + currentDate + '\\', \\'' + txnDesc + '\\', null, \\'' + accountNumber + '\\', \\'' + txnAmount + '\\', \\'' + openBalance + '\\', \\'' + txnCode + '\\', \\'' + txnType + '\\', \\'' + 'H2H' + '\\', \\'' + '' + '\\', \\'' + accountDebit + '\\', \\'' + accountCredit + '\\', \\'' + externalReference + '\\', \\'' + 'Cimb' + '\\'')\n                                        processRtbo = 1\n                                        sql.close()\n                                        \n                                    }\n                                    catch(Exception exc)\n                                    {\n                                        log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: SQL EXECUTE')\n                                        processRtbo = 0\n                                        exc.printStackTrace()\n                                    }\n                                    \n                                    financialInstance.processResponse = processRtbo\n                                    financialInstance.processDate = currentDate\n                                    \n                                    financialInstance.save flush: true, failOnError: true\n                                    \n                                }else {\n                                    log.info ('[ReportInvestorAccountCIMBService][ip:' + ip + ']Empty Account Number')\n                                }\n                                \n                                try {\n                                    if(txnType == '61' &amp;&amp; txnDesc == 'PHINTRACO PHINTRACO' &amp;&amp; txnAmount == '50000.0000') {\n                                        def c = com.pt.sekuritas.backoffice.Registration.createCriteria()\n                                        def d = c.list{\n                                            eq('rdn', accountNumber)\n                                            eq('rdnBank', 'Cimb')\n                                            isNotNull('onlineRegistration')\n                                        }\n                                        \n                                        if(d.size() &gt; 0) {\n                                            def registrationInstance = d[0]\n                                            def cal = Calendar.getInstance()\n                                            cal.set(Calendar.YEAR, 2021)\n                                            cal.set(Calendar.MONTH, 9)\n                                            cal.set(Calendar.DATE, 1)\n                                            cal.set(Calendar.HOUR, 0)\n                                            cal.set(Calendar.MINUTE, 0)\n                                            cal.set(Calendar.SECOND, 0)\n                                            def startDate = cal.time\n                                            cal.set(Calendar.YEAR, 2022)\n                                            cal.set(Calendar.MONTH, 0)\n                                            cal.set(Calendar.DATE, 1)\n                                            def endDate = cal.time\n                                            log.info('[ReportInvestorAccountCIMBService][txnType:' + txnType + '][txnDesc:' + txnDesc + '][accountNumber:' + accountNumber + '][onlineRegistration.dateCreated:' + registrationInstance.onlineRegistration.dateCreated + '][startDate:' + startDate + '][endDate:' + endDate + ']')\n                                            \n                                            if(registrationInstance.onlineRegistration.dateCreated &gt; startDate &amp;&amp; registrationInstance.onlineRegistration.dateCreated &lt; endDate) {\n                                                //PROMO DIMODALIN\n                                                def accountInstance = registrationInstance.onlineRegistration.account\n                                                Long longDepositAmount = Float.parseFloat(txnAmount)\n                                                java.text.NumberFormat deFormat = java.text.NumberFormat.getInstance(new java.util.Locale(&quot;de&quot;, &quot;DE&quot;))\n                                                def formattedAmount = deFormat.format(longDepositAmount)\n                                                        \n                                                def username = registrationInstance.username\n                                                def name = registrationInstance.name\n                                                \n                                                def message = '&lt;h2&gt;Yeay!&lt;/h2&gt;&lt;br/&gt;&lt;b&gt;' + name + '&lt;/b&gt; Kamu dapat modal Rp' + formattedAmount + ' dari Phintraco Sekuritas.&lt;br/&gt;Cek saldo RDN kamu sekarang ya.&lt;br/&gt;Segera beli saham pilihan kamu.&lt;br/&gt;Ayo tingkatkan investasi kamu dengan top up saldo RDN kamu dan beli saham lebih banyak lagi.&lt;br/&gt;' + \n                                                              'Salam Profits&lt;br/&gt;&lt;b&gt;#bukarekeningdimodalin&lt;/b&gt;'\n                                                \n                                                def pushData = ['channel': 'PTANYWHERE_TRANSACTION_NOTIFICATION',\n                                                                  'type':'cashDeposit',\n                                                                  'subType':'',\n                                                                  'sender':'financialGateway',\n                                                                  'recipient': accountInstance.username,\n                                                                  'priority':'0',\n                                                                  'isHtml':'true',\n                                                                  'sentTime': System.currentTimeMillis(),\n                                                                  'title':'Promo Buka Rekening Dimodalin',\n                                                                  'body':message,\n                                                                  'ticker':message,\n                                                                  'targetIntent':'',\n                                                                  'additionalData1':'',\n                                                                  'additionalData2':'',\n                                                                  'additionalData3':'',\n                                                                  'additionalData4':'',\n                                                                  'additionalData5':'',\n                                                                 ]\n                                                def fcmMessage = (pushData as JSON).toString()\n                                                log.info('[ReportInvestorAccountCIMBService][txnType:' + txnType + '][txnDesc:' + txnDesc + '][accountNumber:' + accountNumber + '][username:' + username + '][name:' + name + '][onlineRegistration.dateCreated:' + registrationInstance.onlineRegistration.dateCreated + '][message:' + message + '][fcmMessage:' + fcmMessage + ']')\n                                                \n                                                com.pt.sekuritas.util.ActiveMQHolder.getInstance().pushNotification(fcmMessage)\n                                            }\n                                        }\n                                    }\n                                }\n                                catch(Exception exc) {\n                                    log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: FAILED PROCESSING NOTIFICATION]')\n                                    exc.printStackTrace()\n                                }\n                                \n                                return status = 1\n                        }\n                        \n                    }\n                    catch(Exception exc)\n                    {\n                        log.error ('[ReportInvestorAccountCIMBService][ip:' + ip + '][error: FAILED INSERT]')\n                        exc.printStackTrace()\n                        return status = 0\n                    }\n                }else {\n                    log.error('[ReportInvestorAccountCIMBService]not found ip address: ' + ip)\n                    return status = 2\n                }\n                \n    }\n}\n</code></pre>\n<p>how can I send a request with a soap like that?\nwhat should i change from my groovy service source code\nin order to comply with the soap above?</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","xss","outputstream","veracode"],"answers":[{"tags":[],"owner":{"account_id":8987468,"reputation":1117,"user_id":6700591,"display_name":"Eden Moshe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608624682,"creation_date":1608624048,"answer_id":65405047,"question_id":65404088,"body_markdown":"Convert\r\n\r\n    &lt; → &amp;lt;\r\n    \r\n    &gt; → &amp;gt;\r\n    \r\n    &#39; → &amp;#39;\r\n    \r\n    &quot; → &amp;quot;\r\n    \r\n    &amp; → &amp;amp;\r\n\r\n\r\n\r\ncode:\r\n\r\n\r\n    public static final String stringToHtmlString(String s){\r\n       StringBuffer sb = new StringBuffer();\r\n       int n = s.length();\r\n       for (int i = 0; i &lt; n; i++) {\r\n          char c = s.charAt(i);\r\n          switch (c) {\r\n             case &#39;&lt;&#39;: sb.append(&quot;&amp;lt;&quot;); break;\r\n             case &#39;&gt;&#39;: sb.append(&quot;&amp;gt;&quot;); break;\r\n             case &#39;&amp;&#39;: sb.append(&quot;&amp;amp;&quot;); break;\r\n             case &#39;&quot;&#39;: sb.append(&quot;&amp;quot;&quot;); break;\r\n             default:  sb.append(c); break;\r\n          }\r\n       }\r\n       return sb.toString();\r\n    }","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Convert</p>\n<pre><code>&lt; → &amp;lt;\n\n&gt; → &amp;gt;\n\n' → &amp;#39;\n\n&quot; → &amp;quot;\n\n&amp; → &amp;amp;\n</code></pre>\n<p>code:</p>\n<pre><code>public static final String stringToHtmlString(String s){\n   StringBuffer sb = new StringBuffer();\n   int n = s.length();\n   for (int i = 0; i &lt; n; i++) {\n      char c = s.charAt(i);\n      switch (c) {\n         case '&lt;': sb.append(&quot;&amp;lt;&quot;); break;\n         case '&gt;': sb.append(&quot;&amp;gt;&quot;); break;\n         case '&amp;': sb.append(&quot;&amp;amp;&quot;); break;\n         case '&quot;': sb.append(&quot;&amp;quot;&quot;); break;\n         default:  sb.append(c); break;\n      }\n   }\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608636120,"creation_date":1608636120,"answer_id":65407817,"question_id":65404088,"body_markdown":"Veracode is probably seeing that you&#39;re not doing any encoding and thinking it could be a XSS issue.\r\n\r\nIn this case however, there&#39;s no encoding needed because it&#39;s a file download, rather than the generation of HTML data. The result won&#39;t be interpreted by the browser as HTML with these content-type and headers so it&#39;s a false positive warning.","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Veracode is probably seeing that you're not doing any encoding and thinking it could be a XSS issue.</p>\n<p>In this case however, there's no encoding needed because it's a file download, rather than the generation of HTML data. The result won't be interpreted by the browser as HTML with these content-type and headers so it's a false positive warning.</p>\n"}],"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691054381,"creation_date":1608618219,"question_id":65404088,"body_markdown":"Below is my existing Java base standard code and as you can see I am simply downloading files using output stream.\r\n\r\nI am only using the request parameter to get browser detail from the header to generate the filename and again I am decoding it. \r\n\r\nSo now I don&#39;t understand how the below code \r\n\r\n&gt; outputStream.write(data, 0, readed);\r\n\r\n can leads to an XSS issue? \r\n\r\nSo, How I can resolve this issue because my output is a simple file?\r\n\r\n\r\n    \r\n            OutputStream outputStream = httpResponse.getOutputStream();\r\n\t\t\tInputStream fileInputStream = generateInputStreamObj(user, attachmentObj, false, httpRequest, servletContext, ipAddress);\r\n\r\n\t\t\tString userAgent = httpRequest.getHeader(&quot;User-Agent&quot;);\r\n\t\t\tString encodedFileName = generateFileName(userAgent, attachmentObj);\r\n\r\n\t\t\tint downloadBufferSize = Integer.parseInt(CacheManagement.getInstance().getSystemPropertyByAlias().get(&quot;DOWNLOAD_BUFFER_SIZE&quot;).getPropertyValue());\r\n\r\n\t\t\thttpResponse.setContentType(&quot;application/x-download&quot;);\r\n\t\t\thttpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(attachmentObj.getDocumentSize()));\r\n\t\t\thttpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + encodedFileName + &quot;\\&quot;&quot;);\r\n\t\t\thttpResponse.setBufferSize(downloadBufferSize);\r\n\r\n\t\t\tbufferInputStream = new BufferedInputStream(fileInputStream);\r\n\t\t\tbyte[] data = new byte[downloadBufferSize];\r\n\t\t\tint readed = 0;\r\n\t\t\twhile ((readed = bufferInputStream.read(data)) != -1)\r\n\t\t\t{\r\n\t\t\t\toutputStream.write(data, 0, readed);\r\n\t\t\t}\r\n\r\n\r\nI check Stack overflow and Veracode answers but it doesn&#39;t help me.\r\n\r\n** put a comment if you are putting this question to minus. I reviewed stackoverflow and veracode community answer but it doesn&#39;t answer my questions.","title":"How to fix veracode CWE-80 XSS issue while downloading the file?","body":"<p>Below is my existing Java base standard code and as you can see I am simply downloading files using output stream.</p>\n<p>I am only using the request parameter to get browser detail from the header to generate the filename and again I am decoding it.</p>\n<p>So now I don't understand how the below code</p>\n<blockquote>\n<p>outputStream.write(data, 0, readed);</p>\n</blockquote>\n<p>can leads to an XSS issue?</p>\n<p>So, How I can resolve this issue because my output is a simple file?</p>\n<pre><code>        OutputStream outputStream = httpResponse.getOutputStream();\n        InputStream fileInputStream = generateInputStreamObj(user, attachmentObj, false, httpRequest, servletContext, ipAddress);\n\n        String userAgent = httpRequest.getHeader(&quot;User-Agent&quot;);\n        String encodedFileName = generateFileName(userAgent, attachmentObj);\n\n        int downloadBufferSize = Integer.parseInt(CacheManagement.getInstance().getSystemPropertyByAlias().get(&quot;DOWNLOAD_BUFFER_SIZE&quot;).getPropertyValue());\n\n        httpResponse.setContentType(&quot;application/x-download&quot;);\n        httpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(attachmentObj.getDocumentSize()));\n        httpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + encodedFileName + &quot;\\&quot;&quot;);\n        httpResponse.setBufferSize(downloadBufferSize);\n\n        bufferInputStream = new BufferedInputStream(fileInputStream);\n        byte[] data = new byte[downloadBufferSize];\n        int readed = 0;\n        while ((readed = bufferInputStream.read(data)) != -1)\n        {\n            outputStream.write(data, 0, readed);\n        }\n</code></pre>\n<p>I check Stack overflow and Veracode answers but it doesn't help me.</p>\n<p>** put a comment if you are putting this question to minus. I reviewed stackoverflow and veracode community answer but it doesn't answer my questions.</p>\n"},{"tags":["java","json","kotlin","apache-beam","avro"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691054814,"post_id":76826535,"comment_id":135440675,"body_markdown":"Does this answer your question? [How to fix Expected start-union. Got VALUE\\_NUMBER\\_INT when converting JSON to Avro on the command line?](https://stackoverflow.com/questions/27485580/how-to-fix-expected-start-union-got-value-number-int-when-converting-json-to-av)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27485580/how-to-fix-expected-start-union-got-value-number-int-when-converting-json-to-av\">How to fix Expected start-union. Got VALUE_NUMBER_INT when converting JSON to Avro on the command line?</a>"}],"owner":{"account_id":1412218,"reputation":9144,"user_id":1338588,"accept_rate":64,"display_name":"Kulasangar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691054149,"creation_date":1691053766,"question_id":76826535,"body_markdown":"I&#39;m currently trying to convert a JsonObject into an Avro Generic Record where I stumbled upon this issue.\r\n\r\nMy schema toString() looks like:\r\n\r\n    {\r\n       &quot;type&quot;:&quot;record&quot;,\r\n       &quot;name&quot;:&quot;list&quot;,\r\n       &quot;namespace&quot;:&quot;list15&quot;,\r\n       &quot;fields&quot;:[\r\n          {\r\n             &quot;name&quot;:&quot;element&quot;,\r\n             &quot;type&quot;:{\r\n                &quot;type&quot;:&quot;record&quot;,\r\n                &quot;name&quot;:&quot;element&quot;,\r\n                &quot;namespace&quot;:&quot;element8&quot;,\r\n                &quot;fields&quot;:[\r\n                   {\r\n                      &quot;name&quot;:&quot;name&quot;,\r\n                      &quot;type&quot;:[\r\n                         &quot;null&quot;,\r\n                         &quot;string&quot;\r\n                      ],\r\n                      &quot;default&quot;:null\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;value&quot;,\r\n                      &quot;type&quot;:{\r\n                         &quot;type&quot;:&quot;array&quot;,\r\n                         &quot;items&quot;:{\r\n                            &quot;type&quot;:&quot;record&quot;,\r\n                            &quot;name&quot;:&quot;list&quot;,\r\n                            &quot;namespace&quot;:&quot;list16&quot;,\r\n                            &quot;fields&quot;:[\r\n                               {\r\n                                  &quot;name&quot;:&quot;element&quot;,\r\n                                  &quot;type&quot;:&quot;string&quot;\r\n                               }\r\n                            ]\r\n                         }\r\n                      }\r\n                   }\r\n                ]\r\n             }\r\n          }\r\n       ]\r\n    }\r\n\r\nand my JsonObject toString() looks like:\r\n\r\n    {&quot;element&quot;:{&quot;name&quot;:&quot;customer_id&quot;,&quot;value&quot;:[]}}\r\n\r\nThis is how I&#39;m trying to do the conversion:\r\n\r\n    val schemaStr = attribute.schema.toString() // here attribute is a GenericRecord type\r\n    val genericRecordStr = jsonRootObject.toString()\r\n    val schemaParser = Schema.Parser()\r\n    val schema = schemaParser.parse(schemaStr)\r\n    val decoderFactory = DecoderFactory()\r\n    val decoder = decoderFactory.jsonDecoder(schema, genericRecordStr)\r\n    val reader = GenericDatumReader&lt;GenericData.Record&gt;(schema)\r\n    val genericRecord = reader.read(null, decoder)\r\n\r\nAs you can see the JsonObject.toString() output, it obliges to the Schema. Not sure why the conversion is complaining and where I&#39;m going wrong?\r\n\r\nAny help could be appreciated.\r\n","title":"Expected start-union. Got VALUE_STRING while converting JsonObject to Avro Generic Record","body":"<p>I'm currently trying to convert a JsonObject into an Avro Generic Record where I stumbled upon this issue.</p>\n<p>My schema toString() looks like:</p>\n<pre><code>{\n   &quot;type&quot;:&quot;record&quot;,\n   &quot;name&quot;:&quot;list&quot;,\n   &quot;namespace&quot;:&quot;list15&quot;,\n   &quot;fields&quot;:[\n      {\n         &quot;name&quot;:&quot;element&quot;,\n         &quot;type&quot;:{\n            &quot;type&quot;:&quot;record&quot;,\n            &quot;name&quot;:&quot;element&quot;,\n            &quot;namespace&quot;:&quot;element8&quot;,\n            &quot;fields&quot;:[\n               {\n                  &quot;name&quot;:&quot;name&quot;,\n                  &quot;type&quot;:[\n                     &quot;null&quot;,\n                     &quot;string&quot;\n                  ],\n                  &quot;default&quot;:null\n               },\n               {\n                  &quot;name&quot;:&quot;value&quot;,\n                  &quot;type&quot;:{\n                     &quot;type&quot;:&quot;array&quot;,\n                     &quot;items&quot;:{\n                        &quot;type&quot;:&quot;record&quot;,\n                        &quot;name&quot;:&quot;list&quot;,\n                        &quot;namespace&quot;:&quot;list16&quot;,\n                        &quot;fields&quot;:[\n                           {\n                              &quot;name&quot;:&quot;element&quot;,\n                              &quot;type&quot;:&quot;string&quot;\n                           }\n                        ]\n                     }\n                  }\n               }\n            ]\n         }\n      }\n   ]\n}\n</code></pre>\n<p>and my JsonObject toString() looks like:</p>\n<pre><code>{&quot;element&quot;:{&quot;name&quot;:&quot;customer_id&quot;,&quot;value&quot;:[]}}\n</code></pre>\n<p>This is how I'm trying to do the conversion:</p>\n<pre><code>val schemaStr = attribute.schema.toString() // here attribute is a GenericRecord type\nval genericRecordStr = jsonRootObject.toString()\nval schemaParser = Schema.Parser()\nval schema = schemaParser.parse(schemaStr)\nval decoderFactory = DecoderFactory()\nval decoder = decoderFactory.jsonDecoder(schema, genericRecordStr)\nval reader = GenericDatumReader&lt;GenericData.Record&gt;(schema)\nval genericRecord = reader.read(null, decoder)\n</code></pre>\n<p>As you can see the JsonObject.toString() output, it obliges to the Schema. Not sure why the conversion is complaining and where I'm going wrong?</p>\n<p>Any help could be appreciated.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691040219,"post_id":76823851,"comment_id":135437429,"body_markdown":"Can you plz share your pom file as well.","body":"Can you plz share your pom file as well."},{"owner":{"account_id":18866308,"reputation":11,"user_id":13761968,"display_name":"shubham"},"score":0,"creation_date":1691053757,"post_id":76823851,"comment_id":135440443,"body_markdown":"I have added pom.xml file as well","body":"I have added pom.xml file as well"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691054321,"post_id":76823851,"comment_id":135440576,"body_markdown":"I feel I commented/answered the same question yesterday? Anyway enable debug logging (debug: true in your yaml), startup and see what is happening. Check your path for `hibernate.properties`/`hibernate.cfg.xml`/`persistence.xml` which can and will override properties. Make sure you don&#39;t have system or environment variables set that influence this. If you have a `schema.sql` check what it does, the same for a `data.sql`. Share a link to your project on github as the snippets here don&#39;t give the full picture.","body":"I feel I commented/answered the same question yesterday? Anyway enable debug logging (debug: true in your yaml), startup and see what is happening. Check your path for <code>hibernate.properties</code>/<code>hibernate.cfg.xml</code>/<code>persistence.xml</code> which can and will override properties. Make sure you don&#39;t have system or environment variables set that influence this. If you have a <code>schema.sql</code> check what it does, the same for a <code>data.sql</code>. Share a link to your project on github as the snippets here don&#39;t give the full picture."}],"owner":{"account_id":18866308,"reputation":11,"user_id":13761968,"display_name":"shubham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691054134,"creation_date":1691014721,"question_id":76823851,"body_markdown":"I&#39;m working on a school project using Spring Boot, and I&#39;m facing an issue where data is being unexpectedly deleted from the properties and property_details tables in my PostgreSQL database. I have checked the code and configuration but couldn&#39;t find the root cause.\r\n\r\nDespite my best efforts, I&#39;m unable to identify why the data is getting deleted. I have examined the application&#39;s log files, which show the SQL statements for table creation and alterations, but no explicit DELETE queries.\r\n\r\nThe database connection is configured in the application.yml file with hibernate.ddl-auto: none. I have ensured that there are no DELETE, TRUNCATE, or other data deletion statements executed during application startup or shutdown. There are no explicit table creations or modifications in my code or scripts. The database logs do not show any DELETE or TRUNCATE statements executed.\r\n\r\nAs I&#39;m new to Spring Boot and database interactions, I&#39;d appreciate any guidance or suggestions on how to investigate this issue further. Thank you in advance for any assistance and guidance you can provide. Below are the relevant code snippets \r\n\r\n```\r\nport: 8080\r\n  \r\nspring:\r\n  # Database configuration\r\n  datasource:\r\n    driverClassName: org.postgresql.Driver\r\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:postgres}\r\n    username: ${DB_USER:postgres}\r\n    password: ${DB_PASSWORD:admin}\r\n  # JPA configuration  \r\n  jpa:\r\n    open-in-view: false\r\n    hibernate:\r\n      ddl-auto: none\r\n      # Avoid issue with JPA case insensitive\r\n      naming:\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    # This should no longer be needed with Hibernate 6\r\n    # database-platform: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n\r\n    show-sql: true\r\n    database: postgresql\r\n    # PotGIS configuration\r\n    properties:\r\n        jdbc:\r\n          lob:\r\n            non_contextual_creation: true\r\nlogging:\r\n  level:\r\n    org.hibernate.SQL: DEBUG\r\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE\r\n```\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;property&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class PropertyController {\r\n    @Autowired\r\n    private PropertyService service;\r\n    \r\n    @Autowired\r\n    private PropertyDetailsService propertyDetailsService;\r\n\r\n    @GetMapping(&quot;{name}&quot;)\r\n    public String getProperties(@PathVariable String name) {\r\n        return &quot;Welcome to SpringBoot Project!!! &quot; + name;\r\n    }\r\n\r\n    @GetMapping(&quot;{lat}/{lon}/{distanceKm}&quot;)\r\n    public ResponseEntity&lt;?&gt; getCityNear(\r\n            @PathVariable double lat,\r\n            @PathVariable double lon,\r\n            @PathVariable double distanceKm) {\r\n        List&lt;Property&gt; properties = service.findAround(lat, lon, distanceKm);\r\n\r\n        if (properties.isEmpty()) {\r\n            // If no properties found, return a custom message with 404 status code\r\n            String message = &quot;Properties are not available in your area.&quot;;\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\r\n        } else {\r\n            // If properties found, return the properties in the response with 200 status code\r\n            return ResponseEntity.ok(properties);\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;names&quot;)\r\n    public String getPropertyNames() {\r\n        List&lt;Property&gt; properties = service.getAllProperties();\r\n        StringBuilder sb = new StringBuilder();\r\n        for (Property property : properties) {\r\n            sb.append(&quot;City Name: &quot;).append(property.getCityName());\r\n            sb.append(&quot;, Price: &quot;).append(property.getPrice());\r\n            sb.append(&quot;, Property Name: &quot;).append(property.getPropertyName());\r\n            sb.append(&quot;, Property Type: &quot;).append(property.getPropertyType());\r\n            sb.append(&quot;, Area: &quot;).append(property.getArea()).append(&quot;\\n&quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n    \r\n    @GetMapping(&quot;/{propertyId}/details&quot;)\r\n    public ResponseEntity&lt;?&gt; getPropertyDetails(@PathVariable Long propertyId) {\r\n        PropertyDetails propertyDetails = propertyDetailsService.getPropertyDetailsById(propertyId);\r\n\r\n        if (propertyDetails != null) {\r\n            // If property details found, return them in the response with 200 status code\r\n            return ResponseEntity.ok(propertyDetails);\r\n        } else {\r\n            // If property details not found, return a custom message with 404 status code\r\n            String message = &quot;Property details not found for property ID: &quot; + propertyId;\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\r\n        }\r\n    }\r\n\r\n    // Custom message class\r\n    private static class CustomMessage {\r\n        private String message;\r\n\r\n        public CustomMessage(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n@Data\r\n@Entity(name = &quot;properties&quot;)\r\npublic class Property {\r\n\r\n    @Id\r\n    @Column(name=&quot;property_id&quot;)\r\n    private long id;\r\n    \r\n    @OneToOne(mappedBy = &quot;property&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE }, fetch = FetchType.LAZY)\r\n    private PropertyDetails propertyDetails;\r\n \r\n    \r\n    @Column(name=&quot;city_name&quot;)\r\n    private String cityName;\r\n    \r\n    @Column(name=&quot;property_location&quot;, columnDefinition = &quot;geometry(Point,4326)&quot;)\r\n    private Point propertyLocation; \r\n    \r\n    @Column(name = &quot;price&quot;)\r\n    private double price;   \r\n\r\n    @Column(name = &quot;property_name&quot;)\r\n    private String propertyName;\r\n\r\n    @Column(name = &quot;property_type&quot;)\r\n    private String propertyType;\r\n\r\n    @Column(name = &quot;area&quot;)\r\n    private double area;\r\n    \r\n    public String getCityName() {\r\n        return cityName;\r\n    }\r\n    \r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getPropertyName() {\r\n        return propertyName;\r\n    }\r\n\r\n    public void setPropertyName(String propertyName) {\r\n        this.propertyName = propertyName;\r\n    }\r\n\r\n    public String getPropertyType() {\r\n        return propertyType;\r\n    }\r\n\r\n    public void setPropertyType(String propertyType) {\r\n        this.propertyType = propertyType;\r\n    }\r\n\r\n    public double getArea() {\r\n        return area;\r\n    }\r\n\r\n    public void setArea(double area) {\r\n        this.area = area;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Property [id=&quot; + id + &quot;, cityName=&quot; + cityName + &quot;, propertyLocation=&quot; + propertyLocation\r\n                + &quot;, price=&quot; + price + &quot;, propertyName=&quot; + propertyName + &quot;, propertyType=&quot; + propertyType\r\n                + &quot;, area=&quot; + area + &quot;]&quot;;\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;property_details&quot;)\r\npublic class PropertyDetails {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;property_details_id&quot;)\r\n\r\n    private Long propertyDetailsId;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;property_id&quot;, referencedColumnName = &quot;property_id&quot;)\r\n    private Property property;\r\n\r\n    @Column(name = &quot;images&quot;)\r\n    private String images;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private BigDecimal price;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;property_type&quot;)\r\n    private String propertyType;\r\n\r\n    @Column(name = &quot;property_size&quot;)\r\n    private Integer propertySize;\r\n\r\n    @Column(name = &quot;contact_info&quot;)\r\n    private String contactInfo;\r\n\r\n    @Column(name = &quot;floor_plan&quot;)\r\n    private String floorPlan;\r\n\r\n    @Column(name = &quot;property_features&quot;)\r\n    private String propertyFeatures;\r\n\r\n    @Column(name = &quot;build_year&quot;)\r\n    private Integer buildYear;\r\n    \r\n    @Column(name = &quot;nearby_facilities&quot;)\r\n    private String nearbyFacilities;\r\n\r\n    public Long getPropertyDetailsId() {\r\n        return propertyDetailsId;\r\n    }\r\n\r\n    public void setPropertyDetailsId(Long propertyDetailsId) {\r\n        this.propertyDetailsId = propertyDetailsId;\r\n    }\r\n\r\n    public String getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(String images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(BigDecimal price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getPropertyType() {\r\n        return propertyType;\r\n    }\r\n\r\n    public void setPropertyType(String propertyType) {\r\n        this.propertyType = propertyType;\r\n    }\r\n\r\n    public Integer getPropertySize() {\r\n        return propertySize;\r\n    }\r\n\r\n    public void setPropertySize(Integer propertySize) {\r\n        this.propertySize = propertySize;\r\n    }\r\n\r\n    public String getContactInfo() {\r\n        return contactInfo;\r\n    }\r\n\r\n    public void setContactInfo(String contactInfo) {\r\n        this.contactInfo = contactInfo;\r\n    }\r\n\r\n    public String getFloorPlan() {\r\n        return floorPlan;\r\n    }\r\n\r\n    public void setFloorPlan(String floorPlan) {\r\n        this.floorPlan = floorPlan;\r\n    }\r\n\r\n    public String getPropertyFeatures() {\r\n        return propertyFeatures;\r\n    }\r\n\r\n    public void setPropertyFeatures(String propertyFeatures) {\r\n        this.propertyFeatures = propertyFeatures;\r\n    }\r\n\r\n    public Integer getBuildYear() {\r\n        return buildYear;\r\n    }\r\n\r\n    public void setPropertyBuildDate(Integer buildYear) {\r\n        this.buildYear = buildYear;\r\n    }\r\n\r\n    public String getNearbyFacilities() {\r\n        return nearbyFacilities;\r\n    }\r\n\r\n    public void setNearbyFacilities(String nearbyFacilities) {\r\n        this.nearbyFacilities = nearbyFacilities;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;PropertyDetails [propertyDetailsId=&quot; + propertyDetailsId + &quot;, images=&quot; + images + &quot;, description=&quot; + description\r\n                + &quot;, price=&quot; + price + &quot;, address=&quot; + address + &quot;, propertyType=&quot; + propertyType + &quot;, propertySize=&quot; + propertySize\r\n                + &quot;, contactInfo=&quot; + contactInfo + &quot;, floorPlan=&quot; + floorPlan + &quot;, propertyFeatures=&quot; + propertyFeatures\r\n                + &quot;, buildYear=&quot; + buildYear + &quot;, nearbyFacilities=&quot; + nearbyFacilities + &quot;]&quot;;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport com.hin.spatial.postgis.model.PropertyDetails;\r\n\r\npublic interface PropertyDetailsService {\r\n    \r\n    PropertyDetails getPropertyDetailsById(Long propertyDetailsId);\r\n    List&lt;PropertyDetails&gt; getAllPropertyDetails();\r\n    PropertyDetails savePropertyDetails(PropertyDetails propertyDetails);\r\n    void deletePropertyDetails(Long propertyDetailsId);\r\n\r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.hin.spatial.postgis.model.PropertyDetails;\r\nimport com.hin.spatial.postgis.repo.PropertyDetailsRepository;\r\n\r\n@Service\r\npublic class PropertyDetailsServiceImpl implements PropertyDetailsService {\r\n\r\n    @Autowired\r\n    private PropertyDetailsRepository propertyDetailsRepository;\r\n\r\n    @Override\r\n    public PropertyDetails getPropertyDetailsById(Long propertyDetailsId) {\r\n        return propertyDetailsRepository.findByPropertyDetailsId(propertyDetailsId);\r\n\r\n    }\r\n\r\n    @Override\r\n    public List&lt;PropertyDetails&gt; getAllPropertyDetails() {\r\n        return propertyDetailsRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public PropertyDetails savePropertyDetails(PropertyDetails propertyDetails) {      \r\n        return propertyDetailsRepository.save(propertyDetails);\r\n    }\r\n\r\n    @Override\r\n    public void deletePropertyDetails(Long propertyDetailsId) {\r\n        \r\n        propertyDetailsRepository.deleteById(propertyDetailsId);\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.hin.spatial.postgis.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.hin.spatial.postgis.model.Property;\r\nimport com.hin.spatial.postgis.repo.PropertyRepository;\r\n\r\nimport org.locationtech.jts.geom.Coordinate;\r\nimport org.locationtech.jts.geom.GeometryFactory;\r\nimport org.locationtech.jts.geom.Point;\r\nimport org.locationtech.jts.geom.PrecisionModel;\r\n\r\n\r\n@Service\r\n//@Slf4j\r\npublic class PropertyService {\r\n    @Autowired\r\n    private PropertyRepository repo;    \r\n    \r\n    private GeometryFactory factory = new GeometryFactory(new PrecisionModel(), 4326);\r\n    \r\n    public List&lt;Property&gt; findAround(double lat, double lon, double distanceKm){\r\n//      log.info(&quot;Looking for Properties around ({},{}) withing {} Km&quot;, lat, lon, distanceKm);\r\n        Point p = factory.createPoint(new Coordinate(lon, lat));        \r\n        List&lt;Property&gt; pros=repo.findNearWithinDistance(p, distanceKm * 1000);\r\n        System.out.println(pros);\r\n        return pros;\r\n        \r\n    }\r\n    public List&lt;Property&gt; getAllProperties() {\r\n        return repo.findAll();\r\n    }\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface PropertyDetailsRepository extends JpaRepository&lt;PropertyDetails, Long&gt; {\r\n    PropertyDetails findByPropertyDetailsId(Long propertyDetailsId);\r\n}\r\n```\r\n```java       \r\n@Repository\r\npublic interface PropertyRepository  extends JpaRepository&lt;Property, Long&gt;{\r\n\r\n    @Query(value=&quot;SELECT * FROM properties WHERE ST_DistanceSphere(property_location,:p) &lt; :distanceM&quot;,nativeQuery = true)\r\n    List&lt;Property&gt; findNearWithinDistance(Point p, double distanceM);\r\n    \r\n}\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.hin.spatial&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgis&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;postgis&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot integrated with PostGIS&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;jackson.jts.version&gt;2.14&lt;/jackson.jts.version&gt;\r\n\t\t&lt;jts.version&gt;1.19.0&lt;/jts.version&gt;\r\n\t\t&lt;hibernate.version&gt;6.1.3.Final&lt;/hibernate.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.graphhopper.external&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${jackson.jts.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jts.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.locationfinderapp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;locationFinder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;from&gt;\r\n\t\t\t\t\t\t&lt;image&gt;gcr.io/distroless/java:17&lt;/image&gt;\r\n\t\t\t\t\t&lt;/from&gt; &lt;!-- or &quot;:8&quot; --&gt;\r\n\t\t\t\t\t&lt;to&gt;\r\n\t\t\t\t\t\t&lt;image&gt;ghcr.io/nouhouari/spring-boot-postgis&lt;/image&gt;\r\n\t\t\t\t\t&lt;/to&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Data Deletion Issue in Spring Boot Project","body":"<p>I'm working on a school project using Spring Boot, and I'm facing an issue where data is being unexpectedly deleted from the properties and property_details tables in my PostgreSQL database. I have checked the code and configuration but couldn't find the root cause.</p>\n<p>Despite my best efforts, I'm unable to identify why the data is getting deleted. I have examined the application's log files, which show the SQL statements for table creation and alterations, but no explicit DELETE queries.</p>\n<p>The database connection is configured in the application.yml file with hibernate.ddl-auto: none. I have ensured that there are no DELETE, TRUNCATE, or other data deletion statements executed during application startup or shutdown. There are no explicit table creations or modifications in my code or scripts. The database logs do not show any DELETE or TRUNCATE statements executed.</p>\n<p>As I'm new to Spring Boot and database interactions, I'd appreciate any guidance or suggestions on how to investigate this issue further. Thank you in advance for any assistance and guidance you can provide. Below are the relevant code snippets</p>\n<pre><code>port: 8080\n  \nspring:\n  # Database configuration\n  datasource:\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:postgres}\n    username: ${DB_USER:postgres}\n    password: ${DB_PASSWORD:admin}\n  # JPA configuration  \n  jpa:\n    open-in-view: false\n    hibernate:\n      ddl-auto: none\n      # Avoid issue with JPA case insensitive\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n    # This should no longer be needed with Hibernate 6\n    # database-platform: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n\n    show-sql: true\n    database: postgresql\n    # PotGIS configuration\n    properties:\n        jdbc:\n          lob:\n            non_contextual_creation: true\nlogging:\n  level:\n    org.hibernate.SQL: DEBUG\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;property&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class PropertyController {\n    @Autowired\n    private PropertyService service;\n    \n    @Autowired\n    private PropertyDetailsService propertyDetailsService;\n\n    @GetMapping(&quot;{name}&quot;)\n    public String getProperties(@PathVariable String name) {\n        return &quot;Welcome to SpringBoot Project!!! &quot; + name;\n    }\n\n    @GetMapping(&quot;{lat}/{lon}/{distanceKm}&quot;)\n    public ResponseEntity&lt;?&gt; getCityNear(\n            @PathVariable double lat,\n            @PathVariable double lon,\n            @PathVariable double distanceKm) {\n        List&lt;Property&gt; properties = service.findAround(lat, lon, distanceKm);\n\n        if (properties.isEmpty()) {\n            // If no properties found, return a custom message with 404 status code\n            String message = &quot;Properties are not available in your area.&quot;;\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\n        } else {\n            // If properties found, return the properties in the response with 200 status code\n            return ResponseEntity.ok(properties);\n        }\n    }\n\n    @GetMapping(&quot;names&quot;)\n    public String getPropertyNames() {\n        List&lt;Property&gt; properties = service.getAllProperties();\n        StringBuilder sb = new StringBuilder();\n        for (Property property : properties) {\n            sb.append(&quot;City Name: &quot;).append(property.getCityName());\n            sb.append(&quot;, Price: &quot;).append(property.getPrice());\n            sb.append(&quot;, Property Name: &quot;).append(property.getPropertyName());\n            sb.append(&quot;, Property Type: &quot;).append(property.getPropertyType());\n            sb.append(&quot;, Area: &quot;).append(property.getArea()).append(&quot;\\n&quot;);\n        }\n        return sb.toString();\n    }\n    \n    @GetMapping(&quot;/{propertyId}/details&quot;)\n    public ResponseEntity&lt;?&gt; getPropertyDetails(@PathVariable Long propertyId) {\n        PropertyDetails propertyDetails = propertyDetailsService.getPropertyDetailsById(propertyId);\n\n        if (propertyDetails != null) {\n            // If property details found, return them in the response with 200 status code\n            return ResponseEntity.ok(propertyDetails);\n        } else {\n            // If property details not found, return a custom message with 404 status code\n            String message = &quot;Property details not found for property ID: &quot; + propertyId;\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(new CustomMessage(message));\n        }\n    }\n\n    // Custom message class\n    private static class CustomMessage {\n        private String message;\n\n        public CustomMessage(String message) {\n            this.message = message;\n        }\n\n        public String getMessage() {\n            return message;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity(name = &quot;properties&quot;)\npublic class Property {\n\n    @Id\n    @Column(name=&quot;property_id&quot;)\n    private long id;\n    \n    @OneToOne(mappedBy = &quot;property&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE }, fetch = FetchType.LAZY)\n    private PropertyDetails propertyDetails;\n \n    \n    @Column(name=&quot;city_name&quot;)\n    private String cityName;\n    \n    @Column(name=&quot;property_location&quot;, columnDefinition = &quot;geometry(Point,4326)&quot;)\n    private Point propertyLocation; \n    \n    @Column(name = &quot;price&quot;)\n    private double price;   \n\n    @Column(name = &quot;property_name&quot;)\n    private String propertyName;\n\n    @Column(name = &quot;property_type&quot;)\n    private String propertyType;\n\n    @Column(name = &quot;area&quot;)\n    private double area;\n    \n    public String getCityName() {\n        return cityName;\n    }\n    \n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public String getPropertyName() {\n        return propertyName;\n    }\n\n    public void setPropertyName(String propertyName) {\n        this.propertyName = propertyName;\n    }\n\n    public String getPropertyType() {\n        return propertyType;\n    }\n\n    public void setPropertyType(String propertyType) {\n        this.propertyType = propertyType;\n    }\n\n    public double getArea() {\n        return area;\n    }\n\n    public void setArea(double area) {\n        this.area = area;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Property [id=&quot; + id + &quot;, cityName=&quot; + cityName + &quot;, propertyLocation=&quot; + propertyLocation\n                + &quot;, price=&quot; + price + &quot;, propertyName=&quot; + propertyName + &quot;, propertyType=&quot; + propertyType\n                + &quot;, area=&quot; + area + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;property_details&quot;)\npublic class PropertyDetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;property_details_id&quot;)\n\n    private Long propertyDetailsId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;property_id&quot;, referencedColumnName = &quot;property_id&quot;)\n    private Property property;\n\n    @Column(name = &quot;images&quot;)\n    private String images;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;price&quot;)\n    private BigDecimal price;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @Column(name = &quot;property_type&quot;)\n    private String propertyType;\n\n    @Column(name = &quot;property_size&quot;)\n    private Integer propertySize;\n\n    @Column(name = &quot;contact_info&quot;)\n    private String contactInfo;\n\n    @Column(name = &quot;floor_plan&quot;)\n    private String floorPlan;\n\n    @Column(name = &quot;property_features&quot;)\n    private String propertyFeatures;\n\n    @Column(name = &quot;build_year&quot;)\n    private Integer buildYear;\n    \n    @Column(name = &quot;nearby_facilities&quot;)\n    private String nearbyFacilities;\n\n    public Long getPropertyDetailsId() {\n        return propertyDetailsId;\n    }\n\n    public void setPropertyDetailsId(Long propertyDetailsId) {\n        this.propertyDetailsId = propertyDetailsId;\n    }\n\n    public String getImages() {\n        return images;\n    }\n\n    public void setImages(String images) {\n        this.images = images;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getPropertyType() {\n        return propertyType;\n    }\n\n    public void setPropertyType(String propertyType) {\n        this.propertyType = propertyType;\n    }\n\n    public Integer getPropertySize() {\n        return propertySize;\n    }\n\n    public void setPropertySize(Integer propertySize) {\n        this.propertySize = propertySize;\n    }\n\n    public String getContactInfo() {\n        return contactInfo;\n    }\n\n    public void setContactInfo(String contactInfo) {\n        this.contactInfo = contactInfo;\n    }\n\n    public String getFloorPlan() {\n        return floorPlan;\n    }\n\n    public void setFloorPlan(String floorPlan) {\n        this.floorPlan = floorPlan;\n    }\n\n    public String getPropertyFeatures() {\n        return propertyFeatures;\n    }\n\n    public void setPropertyFeatures(String propertyFeatures) {\n        this.propertyFeatures = propertyFeatures;\n    }\n\n    public Integer getBuildYear() {\n        return buildYear;\n    }\n\n    public void setPropertyBuildDate(Integer buildYear) {\n        this.buildYear = buildYear;\n    }\n\n    public String getNearbyFacilities() {\n        return nearbyFacilities;\n    }\n\n    public void setNearbyFacilities(String nearbyFacilities) {\n        this.nearbyFacilities = nearbyFacilities;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;PropertyDetails [propertyDetailsId=&quot; + propertyDetailsId + &quot;, images=&quot; + images + &quot;, description=&quot; + description\n                + &quot;, price=&quot; + price + &quot;, address=&quot; + address + &quot;, propertyType=&quot; + propertyType + &quot;, propertySize=&quot; + propertySize\n                + &quot;, contactInfo=&quot; + contactInfo + &quot;, floorPlan=&quot; + floorPlan + &quot;, propertyFeatures=&quot; + propertyFeatures\n                + &quot;, buildYear=&quot; + buildYear + &quot;, nearbyFacilities=&quot; + nearbyFacilities + &quot;]&quot;;\n    }\n\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport com.hin.spatial.postgis.model.PropertyDetails;\n\npublic interface PropertyDetailsService {\n    \n    PropertyDetails getPropertyDetailsById(Long propertyDetailsId);\n    List&lt;PropertyDetails&gt; getAllPropertyDetails();\n    PropertyDetails savePropertyDetails(PropertyDetails propertyDetails);\n    void deletePropertyDetails(Long propertyDetailsId);\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.hin.spatial.postgis.model.PropertyDetails;\nimport com.hin.spatial.postgis.repo.PropertyDetailsRepository;\n\n@Service\npublic class PropertyDetailsServiceImpl implements PropertyDetailsService {\n\n    @Autowired\n    private PropertyDetailsRepository propertyDetailsRepository;\n\n    @Override\n    public PropertyDetails getPropertyDetailsById(Long propertyDetailsId) {\n        return propertyDetailsRepository.findByPropertyDetailsId(propertyDetailsId);\n\n    }\n\n    @Override\n    public List&lt;PropertyDetails&gt; getAllPropertyDetails() {\n        return propertyDetailsRepository.findAll();\n    }\n\n    @Override\n    public PropertyDetails savePropertyDetails(PropertyDetails propertyDetails) {      \n        return propertyDetailsRepository.save(propertyDetails);\n    }\n\n    @Override\n    public void deletePropertyDetails(Long propertyDetailsId) {\n        \n        propertyDetailsRepository.deleteById(propertyDetailsId);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hin.spatial.postgis.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.hin.spatial.postgis.model.Property;\nimport com.hin.spatial.postgis.repo.PropertyRepository;\n\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.PrecisionModel;\n\n\n@Service\n//@Slf4j\npublic class PropertyService {\n    @Autowired\n    private PropertyRepository repo;    \n    \n    private GeometryFactory factory = new GeometryFactory(new PrecisionModel(), 4326);\n    \n    public List&lt;Property&gt; findAround(double lat, double lon, double distanceKm){\n//      log.info(&quot;Looking for Properties around ({},{}) withing {} Km&quot;, lat, lon, distanceKm);\n        Point p = factory.createPoint(new Coordinate(lon, lat));        \n        List&lt;Property&gt; pros=repo.findNearWithinDistance(p, distanceKm * 1000);\n        System.out.println(pros);\n        return pros;\n        \n    }\n    public List&lt;Property&gt; getAllProperties() {\n        return repo.findAll();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PropertyDetailsRepository extends JpaRepository&lt;PropertyDetails, Long&gt; {\n    PropertyDetails findByPropertyDetailsId(Long propertyDetailsId);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PropertyRepository  extends JpaRepository&lt;Property, Long&gt;{\n\n    @Query(value=&quot;SELECT * FROM properties WHERE ST_DistanceSphere(property_location,:p) &lt; :distanceM&quot;,nativeQuery = true)\n    List&lt;Property&gt; findNearWithinDistance(Point p, double distanceM);\n    \n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.hin.spatial&lt;/groupId&gt;\n    &lt;artifactId&gt;postgis&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;postgis&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot integrated with PostGIS&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;jackson.jts.version&gt;2.14&lt;/jackson.jts.version&gt;\n        &lt;jts.version&gt;1.19.0&lt;/jts.version&gt;\n        &lt;hibernate.version&gt;6.1.3.Final&lt;/hibernate.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphhopper.external&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jts&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.jts.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n            &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n            &lt;version&gt;${jts.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.locationfinderapp&lt;/groupId&gt;\n            &lt;artifactId&gt;locationFinder&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;gcr.io/distroless/java:17&lt;/image&gt;\n                    &lt;/from&gt; &lt;!-- or &quot;:8&quot; --&gt;\n                    &lt;to&gt;\n                        &lt;image&gt;ghcr.io/nouhouari/spring-boot-postgis&lt;/image&gt;\n                    &lt;/to&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jboss","jboss7.x"],"comments":[{"owner":{"account_id":1908365,"reputation":545,"user_id":1722779,"accept_rate":57,"display_name":"Karthik"},"score":0,"creation_date":1483525523,"post_id":41461091,"comment_id":70128327,"body_markdown":"http://www.mastertheboss.com/jboss-server/jboss-datasource/how-to-configure-a-datasource-with-jboss-7","body":"<a href=\"http://www.mastertheboss.com/jboss-server/jboss-datasource/how-to-configure-a-datasource-with-jboss-7\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-server/jboss-datasource/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9934418,"reputation":874,"user_id":7353203,"display_name":"Anup Dey"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1691054120,"creation_date":1483533474,"answer_id":41464032,"question_id":41461091,"body_markdown":"Install a JDBC Driver as a Core Module\r\n--------------------------------------\r\n\r\n- Create a directory under $JBOSS_HOME/modules. In this example: &quot;$JBOSS_HOME/modules/com/oracle/jdbc/main&quot;.\r\n\r\n- Put the the JDBC driver jar (ojdbc6.jar) in this directory.\r\n\r\n- Create a module configuration file module.xml:\r\n\r\n\r\nExample Oracle JDBC Driver module.xml File\r\n--------------------------------------------\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n\r\n\r\nExample Oracle Datasource Configuration\r\n----------------------------------------\r\n\r\n\r\n    &lt;datasources&gt;\r\n      &lt;datasource jndi-name=&quot;java:jboss/OracleDS&quot; pool-name=&quot;OracleDS&quot;&gt;\r\n        &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\r\n        &lt;driver&gt;oracle&lt;/driver&gt;\r\n        &lt;security&gt;\r\n            &lt;user-name&gt;admin&lt;/user-name&gt;\r\n            &lt;password&gt;admin&lt;/password&gt;\r\n        &lt;/security&gt;\r\n        &lt;validation&gt;\r\n            &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\r\n            &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\r\n            &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n            &lt;stale-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker&quot;/&gt;\r\n            &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\r\n        &lt;/validation&gt;\r\n      &lt;/datasource&gt;\r\n      &lt;drivers&gt;\r\n        &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\r\n            &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\r\n        &lt;/driver&gt;\r\n      &lt;/drivers&gt;\r\n    &lt;/datasources&gt;\r\n\r\n\r\n\r\n\r\nExample Management CLI Commands\r\n--------------------------------\r\n\r\n\r\nThis example configuration can be achieved by using the following management CLI commands.\r\n\r\n## 1. Add the Oracle JDBC driver as a core module.\r\n\r\n&gt; module add --name=com.oracle --resources=/path/to/misc/jdbc_drivers/oracle/ojdbc7.jar --dependencies=javax.api,javax.transaction.api\r\n\r\n## 2. Register the Oracle JDBC driver.\r\n\r\n&gt; /subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)\r\n\r\n## 3. Add the Oracle datasource.\r\n\r\n&gt; data-source add --name=OracleDS --jndi-name=java:jboss/OracleDS --driver-name=oracle --connection-url=jdbc:oracle:thin:@localhost:1521:XE --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter --stale-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker\r\n\r\nRefer the link [https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management][1]\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to create oracle data source in Jboss EAP 7.0 server","body":"<h2>Install a JDBC Driver as a Core Module</h2>\n<ul>\n<li><p>Create a directory under $JBOSS_HOME/modules. In this example: &quot;$JBOSS_HOME/modules/com/oracle/jdbc/main&quot;.</p>\n</li>\n<li><p>Put the the JDBC driver jar (ojdbc6.jar) in this directory.</p>\n</li>\n<li><p>Create a module configuration file module.xml:</p>\n</li>\n</ul>\n<h2>Example Oracle JDBC Driver module.xml File</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<h2>Example Oracle Datasource Configuration</h2>\n<pre><code>&lt;datasources&gt;\n  &lt;datasource jndi-name=&quot;java:jboss/OracleDS&quot; pool-name=&quot;OracleDS&quot;&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\n    &lt;driver&gt;oracle&lt;/driver&gt;\n    &lt;security&gt;\n        &lt;user-name&gt;admin&lt;/user-name&gt;\n        &lt;password&gt;admin&lt;/password&gt;\n    &lt;/security&gt;\n    &lt;validation&gt;\n        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\n        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\n        &lt;background-validation&gt;false&lt;/background-validation&gt;\n        &lt;stale-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker&quot;/&gt;\n        &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\n    &lt;/validation&gt;\n  &lt;/datasource&gt;\n  &lt;drivers&gt;\n    &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\n        &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\n    &lt;/driver&gt;\n  &lt;/drivers&gt;\n&lt;/datasources&gt;\n</code></pre>\n<h2>Example Management CLI Commands</h2>\n<p>This example configuration can be achieved by using the following management CLI commands.</p>\n<h2>1. Add the Oracle JDBC driver as a core module.</h2>\n<blockquote>\n<p>module add --name=com.oracle --resources=/path/to/misc/jdbc_drivers/oracle/ojdbc7.jar --dependencies=javax.api,javax.transaction.api</p>\n</blockquote>\n<h2>2. Register the Oracle JDBC driver.</h2>\n<blockquote>\n<p>/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)</p>\n</blockquote>\n<h2>3. Add the Oracle datasource.</h2>\n<blockquote>\n<p>data-source add --name=OracleDS --jndi-name=java:jboss/OracleDS --driver-name=oracle --connection-url=jdbc:oracle:thin:@localhost:1521:XE --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter --stale-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleStaleConnectionChecker</p>\n</blockquote>\n<p>Refer the link <a href=\"https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/configuration-guide/#datasource_management</a></p>\n"}],"owner":{"account_id":5694679,"reputation":1322,"user_id":4501511,"accept_rate":47,"display_name":"Karthik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9908,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41464032,"answer_count":1,"score":5,"last_activity_date":1691054120,"creation_date":1483524316,"question_id":41461091,"body_markdown":"I need to create an oracle data source in JBOSS EAP 7.0 server\r\n\r\nI deployed **ojdbc6.jar** from the JBOSS management CLI(Command Line Interface) using the below command\r\n\r\n   \r\n\r\n    deploy &lt;PATH_TO_ORACLE_DRIVER_JAR&gt;\r\n\r\nI could see the server log as below after the driver is deployed\r\n\r\n    01:25:53,338 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = ojdbc6.jar\r\n    01:25:53,747 INFO  [org.jboss.as.server] (management-handler-thread - 6) WFLYSRV0010: Deployed &quot;ojdbc6.jar&quot; (runtime-name : &quot;ojdbc6.jar&quot;)\r\n\r\nBut when I try to create oracle data source(oracle.jdbc.driver.OracleDriver as driver class) from Jboss management console, I get the below error\r\n\r\n    01:31:35,084 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 66) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;datasources&quot;),\r\n        (&quot;data-source&quot; =&gt; &quot;OracleDS&quot;)\r\n    ]) - failure description: {&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.driver-demander.java:/OracleDS is missing [jboss.jdbc-driver.oracle]&quot;,\r\n        &quot;org.wildfly.data-source.OracleDS is missing [jboss.jdbc-driver.oracle]&quot;\r\n    ]}\r\n    01:31:35,092 INFO  [org.jboss.as.controller] (ServerService Thread Pool -- 66) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.data-source.reference-factory.OracleDS (missing) dependents: [service jboss.naming.context.java.OracleDS]\r\n          service jboss.data-source-config.OracleDS (missing) dependents: [service org.wildfly.data-source.OracleDS]\r\n          service jboss.jdbc-driver.oracle (missing) dependents: [service jboss.driver-demander.java:/OracleDS, service org.wildfly.data-source.OracleDS]\r\n\r\n1) May I know what is causing this issue? What dependency is missing? &lt;br&gt;\r\n2) Is installing JDBC driver as a JAR deployment for data source creation correct method?\r\n\r\n","title":"Unable to create oracle data source in Jboss EAP 7.0 server","body":"<p>I need to create an oracle data source in JBOSS EAP 7.0 server</p>\n\n<p>I deployed <strong>ojdbc6.jar</strong> from the JBOSS management CLI(Command Line Interface) using the below command</p>\n\n<pre><code>deploy &lt;PATH_TO_ORACLE_DRIVER_JAR&gt;\n</code></pre>\n\n<p>I could see the server log as below after the driver is deployed</p>\n\n<pre><code>01:25:53,338 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = ojdbc6.jar\n01:25:53,747 INFO  [org.jboss.as.server] (management-handler-thread - 6) WFLYSRV0010: Deployed \"ojdbc6.jar\" (runtime-name : \"ojdbc6.jar\")\n</code></pre>\n\n<p>But when I try to create oracle data source(oracle.jdbc.driver.OracleDriver as driver class) from Jboss management console, I get the below error</p>\n\n<pre><code>01:31:35,084 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 66) WFLYCTL0013: Operation (\"add\") failed - address: ([\n    (\"subsystem\" =&gt; \"datasources\"),\n    (\"data-source\" =&gt; \"OracleDS\")\n]) - failure description: {\"WFLYCTL0180: Services with missing/unavailable dependencies\" =&gt; [\n    \"jboss.driver-demander.java:/OracleDS is missing [jboss.jdbc-driver.oracle]\",\n    \"org.wildfly.data-source.OracleDS is missing [jboss.jdbc-driver.oracle]\"\n]}\n01:31:35,092 INFO  [org.jboss.as.controller] (ServerService Thread Pool -- 66) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.data-source.reference-factory.OracleDS (missing) dependents: [service jboss.naming.context.java.OracleDS]\n      service jboss.data-source-config.OracleDS (missing) dependents: [service org.wildfly.data-source.OracleDS]\n      service jboss.jdbc-driver.oracle (missing) dependents: [service jboss.driver-demander.java:/OracleDS, service org.wildfly.data-source.OracleDS]\n</code></pre>\n\n<p>1) May I know what is causing this issue? What dependency is missing? <br>\n2) Is installing JDBC driver as a JAR deployment for data source creation correct method?</p>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691053426,"post_id":76826460,"comment_id":135440377,"body_markdown":"IIRC, the naive approach for matching names like this only works for C functions, and C++ applies some form of name-mangling. You may want to check what https://github.com/nativelibs4java/JNAerator generates (though it hasn&#39;t been maintained for a long time).","body":"IIRC, the naive approach for matching names like this only works for C functions, and C++ applies some form of name-mangling. You may want to check what <a href=\"https://github.com/nativelibs4java/JNAerator\" rel=\"nofollow noreferrer\">github.com/nativelibs4java/JNAerator</a> generates (though it hasn&#39;t been maintained for a long time)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691053527,"post_id":76826460,"comment_id":135440392,"body_markdown":"It may help if you add the source of TestJNA.cpp","body":"It may help if you add the source of TestJNA.cpp"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1691054067,"post_id":76826460,"comment_id":135440518,"body_markdown":"@tgdavies Thanks for the reply, the code of TestJNA.cpp has been added to this entry.","body":"@tgdavies Thanks for the reply, the code of TestJNA.cpp has been added to this entry."},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1691054528,"post_id":76826460,"comment_id":135440614,"body_markdown":"Thanks, I will try it. @MarkRotteveel","body":"Thanks, I will try it. @MarkRotteveel"}],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1691056996,"answer_count":0,"score":1,"last_activity_date":1691053894,"creation_date":1691053220,"question_id":76826460,"body_markdown":"I&#39;m learning JNI and JNA, and I&#39;m facing the problem stated in the title while trying the examples of JNA\r\n\r\nThis is my pom and test code\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    &lt;version&gt;5.13.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```Java\r\npublic interface Clibrary extends Library {\r\n    Clibrary INSTANCE = Native.load( &quot;TestJNA&quot;, Clibrary.class);\r\n\r\n    int hello();\r\n    int basicTest(int a, float b, String pChar);\r\n    void arrayTest(String pStr,  byte[] puStr);\r\n\r\n    void pointerTest(IntByReference pInt, FloatByReference pFloat);\r\n\r\n    void mallocTest(Memory pString);\r\n\r\n    void doublePointTest(PointerByReference ppInt, PointerByReference ppStr);\r\n    void freePt(Pointer pt);\r\n}\r\n```\r\n\r\n```Java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;jna.library.path&quot;, &quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\lib&quot;);\r\n        Clibrary.INSTANCE.hello();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\\`TestJNA.dll\\` is written and compiled by myself.Here is the class structure, using Visual Studio 2019.The platform is x64\r\n\r\n[![enter image description here](https://i.stack.imgur.com/18jSC.png)](https://i.stack.imgur.com/18jSC.png)\r\n\r\nHere is the full stack exception.\r\n\r\n```Java\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function &#39;hello&#39;: The specified program could not be found.\r\n\tat com.sun.jna.Function.&lt;init&gt;(Function.java:252)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\r\n\tat com.sun.jna.Library$Handler.invoke(Library.java:248)\r\n\tat com.sun.proxy.$Proxy0.hello(Unknown Source)\r\n\tat org.szh.jna.Test.main(Test.java:15)\r\n```\r\n\r\nI tried to use the absolute path\r\n\r\n```Java\r\n\r\nClibrary INSTANCE = Native.load(&quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\libTestJNA&quot;,Library.class);\r\n```\r\n\r\nbut the same problem still occurs.\r\n\r\n-------\r\nthis is TestJNA.cpp code.\r\n```cpp\r\n#include &quot;pch.h&quot;\r\n#include &quot;TestJNA.h&quot;\r\n#include&lt;stdio.h&gt;\r\n#include&lt;string.h&gt;\r\n#include&lt;stdlib.h&gt;\r\n\r\n/**\r\n    No parameter test\r\n*/\r\nint hello()\r\n{\r\n    printf(&quot;Hello world\\n&quot;);\r\n    return 0;\r\n}\r\n\r\n/*\r\n    Basic data type test\r\n*/\r\nint basicTest(int a, float b)\r\n{\r\n    printf(&quot;a=%d\\n&quot;, a);\r\n    printf(&quot;b=%f\\n&quot;, b);\r\n    return (int)(a + b);\r\n}\r\n\r\n/*\r\n    Pointer and array tests\r\n*/\r\nvoid arrayTest(char* pStr, unsigned char* puStr)\r\n{\r\n    int i = 0;\r\n    printf(&quot;%s\\n&quot;, pStr);\r\n    for (i = 0; i &lt; 10; i++) {\r\n        printf(&quot;%c &quot;, puStr[i]);\r\n    }\r\n}\r\n\r\n/*\r\n    Basic data type pointer test\r\n*/\r\nvoid pointerTest(int* pInt, float* pFloat)\r\n{\r\n    *pInt = 10;\r\n    *pFloat = 12.34;\r\n}\r\n\r\n/*\r\n    Dynamic memory test\r\n*/\r\nvoid mallocTest(char* pszStr)\r\n{\r\n    strcpy_s(pszStr, 50, &quot;Happay Children&#39;s Day!&quot;);\r\n}\r\n\r\n/*\r\n    secondary pointer\r\n*/\r\nvoid doublePointTest(int** ppInt, char** ppStr)\r\n{\r\n    printf(&quot;before int:%d\\n&quot;, **ppInt);\r\n    **ppInt = 10086;\r\n\r\n    *ppStr = (char*)malloc(10 * sizeof(char));\r\n    strcpy_s(*ppStr, 50, &quot;Happy  National Day!&quot;);\r\n}\r\n\r\n/*\r\n    freed\r\n*/\r\nvoid freePoint(void* pt) {\r\n    if (pt != NULL) {\r\n        free(pt);\r\n    }\r\n}\r\n\r\nint main()\r\n{\r\n    hello();\r\n    system(&quot;pause&quot;);\r\n    return 0;\r\n}\r\n```","title":"JNA Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function","body":"<p>I'm learning JNI and JNA, and I'm facing the problem stated in the title while trying the examples of JNA</p>\n<p>This is my pom and test code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\n    &lt;version&gt;5.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>public interface Clibrary extends Library {\n    Clibrary INSTANCE = Native.load( &quot;TestJNA&quot;, Clibrary.class);\n\n    int hello();\n    int basicTest(int a, float b, String pChar);\n    void arrayTest(String pStr,  byte[] puStr);\n\n    void pointerTest(IntByReference pInt, FloatByReference pFloat);\n\n    void mallocTest(Memory pString);\n\n    void doublePointTest(PointerByReference ppInt, PointerByReference ppStr);\n    void freePt(Pointer pt);\n}\n</code></pre>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;jna.library.path&quot;, &quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\lib&quot;);\n        Clibrary.INSTANCE.hello();\n    }\n\n}\n</code></pre>\n<p>`TestJNA.dll` is written and compiled by myself.Here is the class structure, using Visual Studio 2019.The platform is x64</p>\n<p><a href=\"https://i.stack.imgur.com/18jSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/18jSC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the full stack exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function 'hello': The specified program could not be found.\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:252)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\n    at com.sun.jna.Library$Handler.invoke(Library.java:248)\n    at com.sun.proxy.$Proxy0.hello(Unknown Source)\n    at org.szh.jna.Test.main(Test.java:15)\n</code></pre>\n<p>I tried to use the absolute path</p>\n<pre><code>\nClibrary INSTANCE = Native.load(&quot;E:\\\\javaProject\\\\xxxxxxxx\\\\jniLearn\\\\src\\\\main\\\\resources\\\\libTestJNA&quot;,Library.class);\n</code></pre>\n<p>but the same problem still occurs.</p>\n<hr />\n<p>this is TestJNA.cpp code.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;pch.h&quot;\n#include &quot;TestJNA.h&quot;\n#include&lt;stdio.h&gt;\n#include&lt;string.h&gt;\n#include&lt;stdlib.h&gt;\n\n/**\n    No parameter test\n*/\nint hello()\n{\n    printf(&quot;Hello world\\n&quot;);\n    return 0;\n}\n\n/*\n    Basic data type test\n*/\nint basicTest(int a, float b)\n{\n    printf(&quot;a=%d\\n&quot;, a);\n    printf(&quot;b=%f\\n&quot;, b);\n    return (int)(a + b);\n}\n\n/*\n    Pointer and array tests\n*/\nvoid arrayTest(char* pStr, unsigned char* puStr)\n{\n    int i = 0;\n    printf(&quot;%s\\n&quot;, pStr);\n    for (i = 0; i &lt; 10; i++) {\n        printf(&quot;%c &quot;, puStr[i]);\n    }\n}\n\n/*\n    Basic data type pointer test\n*/\nvoid pointerTest(int* pInt, float* pFloat)\n{\n    *pInt = 10;\n    *pFloat = 12.34;\n}\n\n/*\n    Dynamic memory test\n*/\nvoid mallocTest(char* pszStr)\n{\n    strcpy_s(pszStr, 50, &quot;Happay Children's Day!&quot;);\n}\n\n/*\n    secondary pointer\n*/\nvoid doublePointTest(int** ppInt, char** ppStr)\n{\n    printf(&quot;before int:%d\\n&quot;, **ppInt);\n    **ppInt = 10086;\n\n    *ppStr = (char*)malloc(10 * sizeof(char));\n    strcpy_s(*ppStr, 50, &quot;Happy  National Day!&quot;);\n}\n\n/*\n    freed\n*/\nvoid freePoint(void* pt) {\n    if (pt != NULL) {\n        free(pt);\n    }\n}\n\nint main()\n{\n    hello();\n    system(&quot;pause&quot;);\n    return 0;\n}\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":10728512,"reputation":41,"user_id":7895303,"display_name":"Giri Sh"},"score":0,"creation_date":1521112952,"post_id":49298135,"comment_id":85598014,"body_markdown":"thank u in advance. please help me","body":"thank u in advance. please help me"}],"answers":[{"tags":[],"owner":{"account_id":12611225,"reputation":12798,"user_id":9170274,"display_name":"macropod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691053446,"creation_date":1521152077,"answer_id":49310109,"question_id":49298135,"body_markdown":"Unlike Excel, Word doesn&#39;t have left, centre and right headers - Word has a header. If you want three separate entries on a single line, you can format a paragraph with the appropriate alignment (e.g. centred/justified) and tab-stops (possibly 3 centred, or one each of left, centre and right), then insert tab characters into the text you&#39;re inserting. Alternatively, for multi-line inputs especially, you could insert a 3-column table with the appropriate cell formatting and send the outputs to the relevant cells.\r\n\r\nIn VBA, you might add a table to the page header using code like:\r\n\r\n    With ActiveDocument\r\n      .Tables.Add Range:=.Sections.First.Headers(wdHeaderFooterPrimary).Range, NumRows:=1, NumColumns:=3, AutoFitBehavior:=wdAutoFitFixed\r\n    End With\r\n\r\nI&#39;ll leave it to you to do the Apache conversion.","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>Unlike Excel, Word doesn't have left, centre and right headers - Word has a header. If you want three separate entries on a single line, you can format a paragraph with the appropriate alignment (e.g. centred/justified) and tab-stops (possibly 3 centred, or one each of left, centre and right), then insert tab characters into the text you're inserting. Alternatively, for multi-line inputs especially, you could insert a 3-column table with the appropriate cell formatting and send the outputs to the relevant cells.</p>\n<p>In VBA, you might add a table to the page header using code like:</p>\n<pre><code>With ActiveDocument\n  .Tables.Add Range:=.Sections.First.Headers(wdHeaderFooterPrimary).Range, NumRows:=1, NumColumns:=3, AutoFitBehavior:=wdAutoFitFixed\nEnd With\n</code></pre>\n<p>I'll leave it to you to do the Apache conversion.</p>\n"},{"tags":[],"owner":{"account_id":13390203,"reputation":51,"user_id":9662758,"display_name":"yogesh vaidya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541398819,"creation_date":1541398819,"answer_id":53149280,"question_id":49298135,"body_markdown":"XWPFHeader header=policy.getDefaultHeader();\r\n\t\tCTP ctpHeader = CTP.Factory.newInstance();\r\n\r\n\t\tCTR ctrHeader = ctpHeader.addNewR();\r\n\t\tCTText ctheader = ctrHeader.addNewT();\r\n\t\r\n\t\tString HeaderText = &quot;TSS Word Documentsss&quot;;\r\n\t\t//ctheader.set(HeaderText);\r\n\r\n\t\tXWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, document);\r\n\t\tXWPFRun headerRun= headerParagraph.createRun();\r\n\t\theaderRun.setBold(true);\r\n\t\theaderRun.setFontSize(39);\r\n\t\theaderRun.setColor(&quot;808000&quot;);\r\n\t\theaderRun.setImprinted(true);\r\n\t\theaderRun.setShadow(true);\r\n\t\theaderRun.setCapitalized(true);\r\n\t\theaderRun.setUnderline(UnderlinePatterns.DOT_DOT_DASH);\r\n\t\theaderRun.setText(HeaderText);\r\n\t\theaderParagraph.setAlignment(ParagraphAlignment.CENTER);\r\n\t\theaderParagraph.setBorderBottom(Borders.BASIC_BLACK_DASHES);\r\n\t\t\r\n\t\tXWPFParagraph[] parsHeader = new XWPFParagraph[1];\r\n\t\t\r\n\t\t\r\n\t\tparsHeader[0] = headerParagraph;\r\n\t\tpolicy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>XWPFHeader header=policy.getDefaultHeader();\n        CTP ctpHeader = CTP.Factory.newInstance();</p>\n\n<pre><code>    CTR ctrHeader = ctpHeader.addNewR();\n    CTText ctheader = ctrHeader.addNewT();\n\n    String HeaderText = \"TSS Word Documentsss\";\n    //ctheader.set(HeaderText);\n\n    XWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, document);\n    XWPFRun headerRun= headerParagraph.createRun();\n    headerRun.setBold(true);\n    headerRun.setFontSize(39);\n    headerRun.setColor(\"808000\");\n    headerRun.setImprinted(true);\n    headerRun.setShadow(true);\n    headerRun.setCapitalized(true);\n    headerRun.setUnderline(UnderlinePatterns.DOT_DOT_DASH);\n    headerRun.setText(HeaderText);\n    headerParagraph.setAlignment(ParagraphAlignment.CENTER);\n    headerParagraph.setBorderBottom(Borders.BASIC_BLACK_DASHES);\n\n    XWPFParagraph[] parsHeader = new XWPFParagraph[1];\n\n\n    parsHeader[0] = headerParagraph;\n    policy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\n</code></pre>\n"}],"owner":{"account_id":10728512,"reputation":41,"user_id":7895303,"display_name":"Giri Sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691053446,"creation_date":1521112887,"question_id":49298135,"body_markdown":"I need to insert header like the screenshot below in word document using apache poi\r\n\r\n[![enter image description here][1]][1]\r\nI have a code to insert the header. But it aligned to left like the screenshot below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/apiKM.png\r\n  [2]: https://i.stack.imgur.com/CzMDx.png\r\n\r\nI used below code to insert header:\r\n\r\n\r\n\t\t\t// write header content\r\n\t\t\tXWPFDocument docx = new XWPFDocument();\r\n\t\t\tCTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\r\n            XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx,sectPr);\r\n\t\t\tCTP ctpHeader = CTP.Factory.newInstance();\r\n\t\t\tCTR ctrHeader = ctpHeader.addNewR();\r\n\t\t\tCTText ctHeader = ctrHeader.addNewT();\r\n\t\t\tString headerText = &quot;This is header&quot;;\r\n\t\t\tctHeader.setStringValue(headerText);\r\n\t\t\tXWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, docx);\r\n\t\t\tXWPFParagraph[] parsHeader = new XWPFParagraph[1];\r\n\t\t\tparsHeader[0] = headerParagraph;\r\n\t\t\tpolicy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\r\n\r\n\t\t\tFileOutputStream out = new FileOutputStream(&quot;D:/giri.docx&quot;);\r\n\t\t\tdocx.write(out);\r\n\t\t\tout.close();\r\n\t\t\tSystem.out.println(&quot;Done&quot;);","title":"insert header(left, center &amp; right) in ms word using apache poi 3.11","body":"<p>I need to insert header like the screenshot below in word document using apache poi</p>\n\n<p><a href=\"https://i.stack.imgur.com/apiKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/apiKM.png\" alt=\"enter image description here\"></a>\nI have a code to insert the header. But it aligned to left like the screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CzMDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CzMDx.png\" alt=\"enter image description here\"></a></p>\n\n<p>I used below code to insert header:</p>\n\n<pre><code>        // write header content\n        XWPFDocument docx = new XWPFDocument();\n        CTSectPr sectPr = docx.getDocument().getBody().addNewSectPr();\n        XWPFHeaderFooterPolicy policy = new XWPFHeaderFooterPolicy(docx,sectPr);\n        CTP ctpHeader = CTP.Factory.newInstance();\n        CTR ctrHeader = ctpHeader.addNewR();\n        CTText ctHeader = ctrHeader.addNewT();\n        String headerText = \"This is header\";\n        ctHeader.setStringValue(headerText);\n        XWPFParagraph headerParagraph = new XWPFParagraph(ctpHeader, docx);\n        XWPFParagraph[] parsHeader = new XWPFParagraph[1];\n        parsHeader[0] = headerParagraph;\n        policy.createHeader(XWPFHeaderFooterPolicy.DEFAULT, parsHeader);\n\n        FileOutputStream out = new FileOutputStream(\"D:/giri.docx\");\n        docx.write(out);\n        out.close();\n        System.out.println(\"Done\");\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691052611,"creation_date":1691052611,"answer_id":76826377,"question_id":76809448,"body_markdown":"I am not sure if this is the best solution but you can do something like this. You can first check if you need to delete data from one table or both.\r\n\r\n    SELECT t1.note_bhp_setup_id, COUNT(t1.note_bhp_setup_id) FROM notebhpsetup_notedefinition t1 \r\n    INNER JOIN notebhpsetup_notedefinition t2\r\n    ON t1.note_bhp_setup_id = t2.note_bhp_setup_id AND  t1.node_definition_id = ?\r\n    GROUP BY t1.note_bhp_setup_id\r\n\r\nif `COUNT(t1.note_bhp_setup_id) &gt; 1` for any of the returned row, you need to delete only from the **notebhpsetup_notedefinition** table. &lt;br/&gt;\r\nelse delete all (`t1.note_bhp_setup_id`) rows from **notebhpsetup_notedefinition** and **note_bhp_setup_id** tables.\r\n\r\n\r\n","title":"Conditionally delete from 2 tables using Hibernate","body":"<p>I am not sure if this is the best solution but you can do something like this. You can first check if you need to delete data from one table or both.</p>\n<pre><code>SELECT t1.note_bhp_setup_id, COUNT(t1.note_bhp_setup_id) FROM notebhpsetup_notedefinition t1 \nINNER JOIN notebhpsetup_notedefinition t2\nON t1.note_bhp_setup_id = t2.note_bhp_setup_id AND  t1.node_definition_id = ?\nGROUP BY t1.note_bhp_setup_id\n</code></pre>\n<p>if <code>COUNT(t1.note_bhp_setup_id) &gt; 1</code> for any of the returned row, you need to delete only from the <strong>notebhpsetup_notedefinition</strong> table. <br/>\nelse delete all (<code>t1.note_bhp_setup_id</code>) rows from <strong>notebhpsetup_notedefinition</strong> and <strong>note_bhp_setup_id</strong> tables.</p>\n"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76826377,"answer_count":1,"score":0,"last_activity_date":1691052611,"creation_date":1690875485,"question_id":76809448,"body_markdown":"I have 2 tables:\r\n**NoteBhpSetup** \r\nColumns: *note_bhp_setup_id*, *node_id*, *created_by*\r\n(note_bhp_setup_id is FK to below table)\r\n\r\n**NoteBhpSetup_NoteDefinition**\r\nColumns: *note_bhp_setup_id*, *node_definition_id*\r\n\r\nI need to implement below logic:\r\n\r\n - For a given *node_definition_id*, delete all entries from **NoteBhpSetup_NoteDefinition**.\r\n - **IF**, for the deleted records, **NoteBhpSetup** has no associated rows left in **NoteBhpSetup_NoteDefinition**, then delete those rows from **NoteBhpSetup**\r\n\r\n\r\nHere is the logic I have implemented:\r\n\r\n    @Override\r\n    public void removeBhpSetupForNote(String noteDefinitionId) {\r\n\r\n        Query select = getEntityManager().createNativeQuery(\r\n                &quot;SELECT note_bhp_setup_id FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;);\r\n        select.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\r\n        List&lt;Long&gt; noteBhpSetupIds =  select.getResultList();\r\n\r\n\r\n        SQLQuery delete= NativeQueryUtil.getSQLQueryWithTableName(\r\n                &quot;DELETE FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;,\r\n                getEntityManager(),&quot;NoteBhpSetup_NoteDefinition&quot;);\r\n        delete.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\r\n        delete.executeUpdate();\r\n        this.flush();\r\n\r\n        deleteNoteBhpSetupWithNoNoteDefinitions(noteBhpSetupIds);\r\n    }\r\n\r\n    private void deleteNoteBhpSetupWithNoNoteDefinitions(List&lt;Long&gt; noteBhpSetupIds) {\r\n        SQLQuery delete = NativeQueryUtil.getSQLQueryWithTableName(\r\n                &quot;DELETE noteBhp FROM NoteBhpSetup noteBhp WHERE noteBhp.note_bhp_setup_id IN (:noteBhpSetupIds) AND (SELECT COUNT(ndef.note_bhp_setup_id) &quot; +\r\n                        &quot;            FROM   NoteBhpSetup_NoteDefinition ndef &quot; +\r\n                        &quot;            WHERE  noteBhp.note_bhp_setup_id = ndef.note_bhp_setup_id) = 0&quot;,\r\n                getEntityManager(),&quot;NoteBhpSetup&quot;);\r\n        delete.setParameter(&quot;noteBhpSetupIds&quot;, noteBhpSetupIds);\r\n        delete.executeUpdate();\r\n        this.flush();\r\n    }\r\n\r\n\r\nand below is how my Entity looks like :\r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    @AttributeOverride(name = AbstractGeneratedNumericIdEntity.ID_NAME, column = @Column(name = NoteBhpSetup.NOTE_BHP_SETUP_ID))\r\n    @Cache(region = CacheRegion.Names.TRU_CARE_ENTITY_CACHE_REGION, usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class NoteBhpSetup extends AbstractGeneratedNumericIdEntity {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public static final String BHP_NODE = &quot;bhpNode&quot;;\r\n        public static final String NOTE_BHP_SETUP_ID = &quot;note_bhp_setup_id&quot;;\r\n        public static final String IS_SYSTEM_COLUMN_NAME = &quot;is_system&quot;;\r\n        public static final String NOTE_BHP_SETUP_NOTE_DEFINITION = &quot;NoteBhpSetup_NoteDefinition&quot;;\r\n    \r\n        @Column(name = IS_SYSTEM_COLUMN_NAME, nullable = false)\r\n        private boolean isSystem = false;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = BhpNode.BHP_NODE_ID_COLUMN, nullable = false, updatable = false, unique = true)\r\n        private BhpNode bhpNode;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable( name = NOTE_BHP_SETUP_NOTE_DEFINITION,\r\n                joinColumns = @JoinColumn( name = NoteBhpSetup.NOTE_BHP_SETUP_ID, nullable = false ),\r\n                inverseJoinColumns = @JoinColumn( name = NoteDefinition.NOTEDEF_ID_COLUMN, nullable = false )\r\n        )\r\n        private Set&lt;NoteDefinition&gt; noteDefinitions = new HashSet&lt;&gt;();\r\n    \r\n        protected NoteBhpSetup() {}\r\n    \r\n        public NoteBhpSetup(final BhpNode bhpNode) {\r\n            this.bhpNode = bhpNode;\r\n        }\r\n    \r\n        public boolean getIsSystem() {\r\n            return isSystem;\r\n        }\r\n    \r\n        public void setIsSystem(final boolean isSystem) {\r\n            this.isSystem = isSystem;\r\n        }\r\n    \r\n        public BhpNode getBhpNode() {\r\n            return bhpNode;\r\n        }\r\n    \r\n        public void setBhpNode(final BhpNode bhpNode) {\r\n            this.bhpNode = bhpNode;\r\n        }\r\n    \r\n        public Set&lt;NoteDefinition&gt; getNoteDefinitions() {\r\n            return noteDefinitions;\r\n        }\r\n    \r\n        public void setNoteDefinitions(Set&lt;NoteDefinition&gt; noteDefinitions) {\r\n            this.noteDefinitions = noteDefinitions;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Use bhpNode and note definitions to generate hashCode\r\n         */\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hashCode(getIdLazy(bhpNode), noteDefinitions);\r\n        }\r\n    \r\n        @Override\r\n        @SuppressWarnings(value = &quot;BC_EQUALS_METHOD_SHOULD_WORK_FOR_ALL_OBJECTS&quot;, justification = &quot;if obj is not an instance of AbstractGeneratedNumericIDEntity the Hibernate.getClass(this) if statement is true and this method returns false&quot;)\r\n        public boolean equals(final Object obj) {\r\n            // Check the state of the object\r\n            boolean isEqual;\r\n            if (this == obj) {\r\n                // The object reference is the same\r\n                isEqual = true;\r\n            } else if ((obj == null) || !Hibernate.getClass(this).equals(Hibernate.getClass(obj))) {\r\n                // The object does not have the concrete class as its base\r\n                isEqual = false;\r\n            } else {\r\n                NoteBhpSetup other = (NoteBhpSetup) obj;\r\n                isEqual =  getIdLazy(bhpNode).equals(getIdLazy(other.getBhpNode())) &amp;&amp; noteDefinitions.equals(other.getNoteDefinitions());\r\n            }\r\n    \r\n            // Return the equality status\r\n            return isEqual;\r\n        }\r\n    }\r\n\r\n\r\nI feel like this is not the best way to do it, as I am hitting the database 3 times. Please can someone point me to a better way of implementing this logic.","title":"Conditionally delete from 2 tables using Hibernate","body":"<p>I have 2 tables:\n<strong>NoteBhpSetup</strong>\nColumns: <em>note_bhp_setup_id</em>, <em>node_id</em>, <em>created_by</em>\n(note_bhp_setup_id is FK to below table)</p>\n<p><strong>NoteBhpSetup_NoteDefinition</strong>\nColumns: <em>note_bhp_setup_id</em>, <em>node_definition_id</em></p>\n<p>I need to implement below logic:</p>\n<ul>\n<li>For a given <em>node_definition_id</em>, delete all entries from <strong>NoteBhpSetup_NoteDefinition</strong>.</li>\n<li><strong>IF</strong>, for the deleted records, <strong>NoteBhpSetup</strong> has no associated rows left in <strong>NoteBhpSetup_NoteDefinition</strong>, then delete those rows from <strong>NoteBhpSetup</strong></li>\n</ul>\n<p>Here is the logic I have implemented:</p>\n<pre><code>@Override\npublic void removeBhpSetupForNote(String noteDefinitionId) {\n\n    Query select = getEntityManager().createNativeQuery(\n            &quot;SELECT note_bhp_setup_id FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;);\n    select.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\n    List&lt;Long&gt; noteBhpSetupIds =  select.getResultList();\n\n\n    SQLQuery delete= NativeQueryUtil.getSQLQueryWithTableName(\n            &quot;DELETE FROM NoteBhpSetup_NoteDefinition WHERE note_definition_id = :noteDefinitionId&quot;,\n            getEntityManager(),&quot;NoteBhpSetup_NoteDefinition&quot;);\n    delete.setParameter(&quot;noteDefinitionId&quot;, noteDefinitionId);\n    delete.executeUpdate();\n    this.flush();\n\n    deleteNoteBhpSetupWithNoNoteDefinitions(noteBhpSetupIds);\n}\n\nprivate void deleteNoteBhpSetupWithNoNoteDefinitions(List&lt;Long&gt; noteBhpSetupIds) {\n    SQLQuery delete = NativeQueryUtil.getSQLQueryWithTableName(\n            &quot;DELETE noteBhp FROM NoteBhpSetup noteBhp WHERE noteBhp.note_bhp_setup_id IN (:noteBhpSetupIds) AND (SELECT COUNT(ndef.note_bhp_setup_id) &quot; +\n                    &quot;            FROM   NoteBhpSetup_NoteDefinition ndef &quot; +\n                    &quot;            WHERE  noteBhp.note_bhp_setup_id = ndef.note_bhp_setup_id) = 0&quot;,\n            getEntityManager(),&quot;NoteBhpSetup&quot;);\n    delete.setParameter(&quot;noteBhpSetupIds&quot;, noteBhpSetupIds);\n    delete.executeUpdate();\n    this.flush();\n}\n</code></pre>\n<p>and below is how my Entity looks like :</p>\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\n@AttributeOverride(name = AbstractGeneratedNumericIdEntity.ID_NAME, column = @Column(name = NoteBhpSetup.NOTE_BHP_SETUP_ID))\n@Cache(region = CacheRegion.Names.TRU_CARE_ENTITY_CACHE_REGION, usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class NoteBhpSetup extends AbstractGeneratedNumericIdEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    public static final String BHP_NODE = &quot;bhpNode&quot;;\n    public static final String NOTE_BHP_SETUP_ID = &quot;note_bhp_setup_id&quot;;\n    public static final String IS_SYSTEM_COLUMN_NAME = &quot;is_system&quot;;\n    public static final String NOTE_BHP_SETUP_NOTE_DEFINITION = &quot;NoteBhpSetup_NoteDefinition&quot;;\n\n    @Column(name = IS_SYSTEM_COLUMN_NAME, nullable = false)\n    private boolean isSystem = false;\n\n    @OneToOne\n    @JoinColumn(name = BhpNode.BHP_NODE_ID_COLUMN, nullable = false, updatable = false, unique = true)\n    private BhpNode bhpNode;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable( name = NOTE_BHP_SETUP_NOTE_DEFINITION,\n            joinColumns = @JoinColumn( name = NoteBhpSetup.NOTE_BHP_SETUP_ID, nullable = false ),\n            inverseJoinColumns = @JoinColumn( name = NoteDefinition.NOTEDEF_ID_COLUMN, nullable = false )\n    )\n    private Set&lt;NoteDefinition&gt; noteDefinitions = new HashSet&lt;&gt;();\n\n    protected NoteBhpSetup() {}\n\n    public NoteBhpSetup(final BhpNode bhpNode) {\n        this.bhpNode = bhpNode;\n    }\n\n    public boolean getIsSystem() {\n        return isSystem;\n    }\n\n    public void setIsSystem(final boolean isSystem) {\n        this.isSystem = isSystem;\n    }\n\n    public BhpNode getBhpNode() {\n        return bhpNode;\n    }\n\n    public void setBhpNode(final BhpNode bhpNode) {\n        this.bhpNode = bhpNode;\n    }\n\n    public Set&lt;NoteDefinition&gt; getNoteDefinitions() {\n        return noteDefinitions;\n    }\n\n    public void setNoteDefinitions(Set&lt;NoteDefinition&gt; noteDefinitions) {\n        this.noteDefinitions = noteDefinitions;\n    }\n\n\n    /**\n     * Use bhpNode and note definitions to generate hashCode\n     */\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(getIdLazy(bhpNode), noteDefinitions);\n    }\n\n    @Override\n    @SuppressWarnings(value = &quot;BC_EQUALS_METHOD_SHOULD_WORK_FOR_ALL_OBJECTS&quot;, justification = &quot;if obj is not an instance of AbstractGeneratedNumericIDEntity the Hibernate.getClass(this) if statement is true and this method returns false&quot;)\n    public boolean equals(final Object obj) {\n        // Check the state of the object\n        boolean isEqual;\n        if (this == obj) {\n            // The object reference is the same\n            isEqual = true;\n        } else if ((obj == null) || !Hibernate.getClass(this).equals(Hibernate.getClass(obj))) {\n            // The object does not have the concrete class as its base\n            isEqual = false;\n        } else {\n            NoteBhpSetup other = (NoteBhpSetup) obj;\n            isEqual =  getIdLazy(bhpNode).equals(getIdLazy(other.getBhpNode())) &amp;&amp; noteDefinitions.equals(other.getNoteDefinitions());\n        }\n\n        // Return the equality status\n        return isEqual;\n    }\n}\n</code></pre>\n<p>I feel like this is not the best way to do it, as I am hitting the database 3 times. Please can someone point me to a better way of implementing this logic.</p>\n"},{"tags":["java","stream","scheduler","optaplanner","rostering"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":1,"creation_date":1691056520,"post_id":76826376,"comment_id":135441082,"body_markdown":"Please provide a specific executable test case and I may look into it when time permits.","body":"Please provide a specific executable test case and I may look into it when time permits."}],"owner":{"account_id":29150504,"reputation":1,"user_id":22331460,"display_name":"jjune"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691052607,"creation_date":1691052607,"question_id":76826376,"body_markdown":"I&#39;m making an aircraft mechanic scheduling program using Opta Planner. So far, we have added many hard, soft, and medium constraints, but one does not work. \r\n\r\nThe constraints are the same as the code below.\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\nprivate Constraint workPerMonth(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(MechanicAssignment.class)\r\n        .groupBy(MechanicAssignment::getEmployee\r\n        , MechanicAssignment::getWorkDate\r\n        ,ConstraintCollectors.min(MechanicAssignment::getFlightWorkStartDateTime)\r\n        ,ConstraintCollectors.max(MechanicAssignment::getFlightWorkEndDateTime))\r\n        .groupBy((employee, work , min, max ) -&gt; employee\r\n        ,(employee, work, min, max ) -&gt; work\r\n        ,(employee,work, min,max ) -&gt; workCodeCheckUtil.getWorkHour(workCodeCheckUtil.matchWorkCode(min, max)))\r\n        .join(OffWork.class, Joiners.equal((employee, work, totalWorkMinute) -&gt; employee.getEmpNo(), OffWork::getEmpNo))\r\n        .filter((emp, work, totalWorkMinute, off) -&gt; !off.getWorkCode().equals(&quot;WVC&quot;))\r\n        .groupBy((emp, work, totalWorkMinute, off) -&gt; emp\r\n        ,(emp, work, totalWorkMinute, off) -&gt; Pair.of(work, totalWorkMinute)\r\n        ,ConstraintCollectors.countQuad() \r\n        ,ConstraintCollectors.sum((emp, work, totalWorkMinute, off) -&gt; (work.getIndexDay() == off.getTargetDate().getDayOfMonth()\r\n        &amp;&amp; work.getIndexMonth() == off.getTargetDate().getMonthValue()) ? 0 : 1   \r\n        ))\r\n        .groupBy((employee, work, offCount, notOff) -&gt; Tripe.of(employee, work.getKey().getIndexMonth(), offCount)\r\n        , ConstraintCollectors.sum((employee, work, offCount, notOff) -&gt; notOff == offCount ? 1 : 0) \r\n        , ConstraintCollectors.sumLong(\r\n            (employee, work, offCount, notOff) -&gt; work.getValue()/60)\r\n        // , ConstraintCollectors.countQuad()\r\n        , ConstraintCollectors.countQuad()\r\n        )\r\n\r\n        .filter((employee, offCount, totalWorkMinute, assignCount) -&gt; {\r\n\r\n            LocalDate localDate = LocalDate.now().withMonth(employee.getSecond());\r\n            YearMonth yearMonth = YearMonth.from(localDate);\r\n\r\n            LocalDate lastDate = yearMonth.atEndOfMonth();\r\n\r\n            int leftDay = lastDate.getDayOfMonth() - assignCount;\r\n\r\n            int realOff = employee.getThird() - offCount;\r\n\r\n            if ( realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &gt; 171)\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n\r\n        })\r\n\r\n        .penalize(HardMediumSoftLongScore.ofHard(2))\r\n        .asConstraint(&quot;cannot work more than 171 hours per month&quot;);\r\n    }\r\n```\r\n&lt;br/&gt;\r\n\r\n**Explanation of Constraint**\r\n&gt; `realoff` : actual off count&lt;br/&gt;`totalWorkMinute` : Actual working hours&lt;br/&gt;`leftday` : The number of days in a month minus the actual number of days worked&lt;br/&gt;&lt;br/&gt;  realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &lt;br/&gt;&lt;br/&gt; When calculating this experession at last filtering function It should not exceed 171hours.\r\n\r\n&lt;br/&gt;\r\n\r\n**Result**\r\n&gt; Testing confirmed that there were datas that were exceeded 171 hours, but I confirmed that  constraints were not violated. What am I doing wrong?\r\n\r\nSince the group by function has more than 4 keys, I tupled it through the Pair and Tripe user interface.","title":"Optaplanner ConstraintStream doesn&#39;t work","body":"<p>I'm making an aircraft mechanic scheduling program using Opta Planner. So far, we have added many hard, soft, and medium constraints, but one does not work.</p>\n<p>The constraints are the same as the code below.</p>\n<br/>\n<pre><code>private Constraint workPerMonth(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(MechanicAssignment.class)\n        .groupBy(MechanicAssignment::getEmployee\n        , MechanicAssignment::getWorkDate\n        ,ConstraintCollectors.min(MechanicAssignment::getFlightWorkStartDateTime)\n        ,ConstraintCollectors.max(MechanicAssignment::getFlightWorkEndDateTime))\n        .groupBy((employee, work , min, max ) -&gt; employee\n        ,(employee, work, min, max ) -&gt; work\n        ,(employee,work, min,max ) -&gt; workCodeCheckUtil.getWorkHour(workCodeCheckUtil.matchWorkCode(min, max)))\n        .join(OffWork.class, Joiners.equal((employee, work, totalWorkMinute) -&gt; employee.getEmpNo(), OffWork::getEmpNo))\n        .filter((emp, work, totalWorkMinute, off) -&gt; !off.getWorkCode().equals(&quot;WVC&quot;))\n        .groupBy((emp, work, totalWorkMinute, off) -&gt; emp\n        ,(emp, work, totalWorkMinute, off) -&gt; Pair.of(work, totalWorkMinute)\n        ,ConstraintCollectors.countQuad() \n        ,ConstraintCollectors.sum((emp, work, totalWorkMinute, off) -&gt; (work.getIndexDay() == off.getTargetDate().getDayOfMonth()\n        &amp;&amp; work.getIndexMonth() == off.getTargetDate().getMonthValue()) ? 0 : 1   \n        ))\n        .groupBy((employee, work, offCount, notOff) -&gt; Tripe.of(employee, work.getKey().getIndexMonth(), offCount)\n        , ConstraintCollectors.sum((employee, work, offCount, notOff) -&gt; notOff == offCount ? 1 : 0) \n        , ConstraintCollectors.sumLong(\n            (employee, work, offCount, notOff) -&gt; work.getValue()/60)\n        // , ConstraintCollectors.countQuad()\n        , ConstraintCollectors.countQuad()\n        )\n\n        .filter((employee, offCount, totalWorkMinute, assignCount) -&gt; {\n\n            LocalDate localDate = LocalDate.now().withMonth(employee.getSecond());\n            YearMonth yearMonth = YearMonth.from(localDate);\n\n            LocalDate lastDate = yearMonth.atEndOfMonth();\n\n            int leftDay = lastDate.getDayOfMonth() - assignCount;\n\n            int realOff = employee.getThird() - offCount;\n\n            if ( realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) &gt; 171)\n            {\n                return true;\n            }\n\n            return false;\n\n        })\n\n        .penalize(HardMediumSoftLongScore.ofHard(2))\n        .asConstraint(&quot;cannot work more than 171 hours per month&quot;);\n    }\n</code></pre>\n<br/>\n<p><strong>Explanation of Constraint</strong></p>\n<blockquote>\n<p><code>realoff</code> : actual off count<br/><code>totalWorkMinute</code> : Actual working hours<br/><code>leftday</code> : The number of days in a month minus the actual number of days worked<br/><br/>  realOff*8 + (totalWorkMinute + ((leftDay - 9 - realOff) * 4)) <br/><br/> When calculating this experession at last filtering function It should not exceed 171hours.</p>\n</blockquote>\n<br/>\n<p><strong>Result</strong></p>\n<blockquote>\n<p>Testing confirmed that there were datas that were exceeded 171 hours, but I confirmed that  constraints were not violated. What am I doing wrong?</p>\n</blockquote>\n<p>Since the group by function has more than 4 keys, I tupled it through the Pair and Tripe user interface.</p>\n"},{"tags":["java","javafx","responsive-design","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690905090,"post_id":76813277,"comment_id":135416742,"body_markdown":"[Java FX layout panes](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm) are by default responsive. If your application is not resizing the way you want, it is because you are explicitly coding it not to.","body":"<a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">Java FX layout panes</a> are by default responsive. If your application is not resizing the way you want, it is because you are explicitly coding it not to."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1690905323,"post_id":76813277,"comment_id":135416789,"body_markdown":"[*Interview: Auto-responsive Layout in JavaFX (with Jakob Jenkov)*](https://m.youtube.com/watch?v=2BEinC7sJL4)","body":"<a href=\"https://m.youtube.com/watch?v=2BEinC7sJL4\" rel=\"nofollow noreferrer\"><i>Interview: Auto-responsive Layout in JavaFX (with Jakob Jenkov)</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690905578,"post_id":76813277,"comment_id":135416826,"body_markdown":"I’m sorry to see your clear and valid Question suffered unjustified down-votes. This happens all too often nowadays. Stack Overflow has lost its way, sadly.","body":"I’m sorry to see your clear and valid Question suffered unjustified down-votes. This happens all too often nowadays. Stack Overflow has lost its way, sadly."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1690905838,"post_id":76813277,"comment_id":135416882,"body_markdown":"@BasilBourque I disagree. If the OP&#39;s application is not acting in a responsive manner, it&#39;s because the code is explicitly written so that the UI is not responsive. Without seeing the code that is doing that, I see no way the question can be answered. Thus the question needs more details. If you think the question is answerable, why not answer it?","body":"@BasilBourque I disagree. If the OP&#39;s application is not acting in a responsive manner, it&#39;s because the code is explicitly written so that the UI is not responsive. Without seeing the code that is doing that, I see no way the question can be answered. Thus the question needs more details. If you think the question is answerable, why not answer it?"},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690906086,"post_id":76813277,"comment_id":135416932,"body_markdown":"@james_D i said i want to know how can i implement responsive UI. If you think you can answer this question so i am providing you a FXML code that i generated from Scene Builder by using Layouts.","body":"@james_D i said i want to know how can i implement responsive UI. If you think you can answer this question so i am providing you a FXML code that i generated from Scene Builder by using Layouts."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1690906440,"post_id":76813277,"comment_id":135416998,"body_markdown":"As I said, use the appropriate layout panes. Which ones to use and how to configure them depend on specifically how you want the application to respond. See the link above. I can&#39;t provide an answer because the question you posted is too vague and lacks details.","body":"As I said, use the appropriate layout panes. Which ones to use and how to configure them depend on specifically how you want the application to respond. See the link above. I can&#39;t provide an answer because the question you posted is too vague and lacks details."},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690906672,"post_id":76813277,"comment_id":135417039,"body_markdown":"@james\n\nhttps://drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/view?usp=sharing","body":"@james  <a href=\"https://drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1-OktC1-IZm0WJD7eKiwwJbv_7pKQ0mfn/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690906730,"post_id":76813277,"comment_id":135417047,"body_markdown":"Don&#39;t post links to code. Post the code in the question itself.","body":"Don&#39;t post links to code. Post the code in the question itself."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1690907150,"post_id":76813277,"comment_id":135417123,"body_markdown":"You are using layout panes that are specifically *not* responsive (`StackPane` and `AnchorPane`s) and hard coding the size and position of everything (by setting `layoutX`, `layoutY`, `prefWidth` and `prefHeight` to fixed values). So of course it is not responsive. Get rid of all the hard-coded values and replace the panes with ones that respond the way you want (which you haven&#39;t specified).","body":"You are using layout panes that are specifically <i>not</i> responsive (<code>StackPane</code> and <code>AnchorPane</code>s) and hard coding the size and position of everything (by setting <code>layoutX</code>, <code>layoutY</code>, <code>prefWidth</code> and <code>prefHeight</code> to fixed values). So of course it is not responsive. Get rid of all the hard-coded values and replace the panes with ones that respond the way you want (which you haven&#39;t specified)."},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690907564,"post_id":76813277,"comment_id":135417200,"body_markdown":"i got your point but if do not set the width and sizes of a component it looks so small on screen and ugly. how can i prevent that","body":"i got your point but if do not set the width and sizes of a component it looks so small on screen and ugly. how can i prevent that"},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1690907589,"post_id":76813277,"comment_id":135417207,"body_markdown":"@james_D I am just new to javafx don&#39;t know much about it.","body":"@james_D I am just new to javafx don&#39;t know much about it."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1690909505,"post_id":76813277,"comment_id":135417597,"body_markdown":"Here are some starting ideas. I would recommend learning how the `Parent` nodes work. https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368","body":"Here are some starting ideas. I would recommend learning how the <code>Parent</code> nodes work. <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\" title=\"javafx how i can bind a stage with screen resolution\">stackoverflow.com/questions/46453780/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1690909931,"post_id":76813277,"comment_id":135417680,"body_markdown":"*&quot;if do not set the width and sizes of a component it looks so small on screen and ugly&quot;*. This now sounds like an x-y problem. It sounds like you started with a sizing/spacing/something else issue and made the UI non-responsive in an attempt to solve that problem. And now you&#39;re asking how to make it responsive. Start with a responsive UI (it looks like maybe you want two `VBox` inside an `HBox`?) and then if you can&#39;t make it look the way you want, ask *that* question.","body":"<i>&quot;if do not set the width and sizes of a component it looks so small on screen and ugly&quot;</i>. This now sounds like an x-y problem. It sounds like you started with a sizing/spacing/something else issue and made the UI non-responsive in an attempt to solve that problem. And now you&#39;re asking how to make it responsive. Start with a responsive UI (it looks like maybe you want two <code>VBox</code> inside an <code>HBox</code>?) and then if you can&#39;t make it look the way you want, ask <i>that</i> question."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1690910162,"post_id":76813277,"comment_id":135417734,"body_markdown":"While trying to _focus_ your very broad question, this  [tutorial](https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html) and this [`LayoutDemo`](https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo) are convenient ways to explore.","body":"While trying to <i>focus</i> your very broad question, this  <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">tutorial</a> and this <a href=\"https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo\" rel=\"nofollow noreferrer\"><code>LayoutDemo</code></a> are convenient ways to explore."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1690933699,"post_id":76813277,"comment_id":135421233,"body_markdown":"Offtopic, but I don&#39;t think that FontAwesomeFX is a very well-maintained project (the last update to the project was around five years ago).  You may wish to use [Ikonli instead](https://kordamp.org/ikonli/#_javafx).","body":"Offtopic, but I don&#39;t think that FontAwesomeFX is a very well-maintained project (the last update to the project was around five years ago).  You may wish to use <a href=\"https://kordamp.org/ikonli/#_javafx\" rel=\"nofollow noreferrer\">Ikonli instead</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690933263,"creation_date":1690912492,"answer_id":76814148,"question_id":76813277,"body_markdown":"To manage layouts, you need to be familiar with JavaFX&#39;s built-in layout panes. \r\n\r\n * Oracle provide a [tutorial](https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm), which is quite old, so the code style is out of date, but the underlying technology has not changed. \r\n\r\n * [FXDocs from the OpenJFX documentation project][1] also provide a layout tutorial.\r\n\r\n * It&#39;s also worth reading the [API documentation for the layout package](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html) to see how the overall system works, and the API docs for each of the `Pane` subclasses. \r\n\r\nThere really is no shortcut to just experimenting with these layout panes and becoming familiar with how each of them manages layout and what properties they have.\r\n\r\nIf you want the layout to be *responsive* (i.e. for components to move and resize according to how much space is available) you need to:\r\n\r\n1. Avoid hardcoding positions and sizes. This means you must not set `layoutX`, `layoutY`, `prefWidth`, `prefHeight` etc. Sometimes it *may* be helpful to set min/max sizes, but this can constrain the ability of the layout pane to respond to changes in available space.\r\n2. Use layout panes that perform responsive layout. This means you generally should *not* use `StackPane` or `AnchorPane` except for very small, specific parts of the UI. By contrast, `BorderPane`, `HBox`, `VBox`, `GridPane`, `TilePane`, `FlowPane`, etc. provide the most responsiveness. Focus on *logical* layout rather than specific positioning.\r\n3. Decide *how* you want the layout to respond. If there is extra space, how should it be used? If space is limited, what should shrink? This will determine which layout panes you decide to use.\r\n\r\nHere is an approximation to the layout you defined using responsive panes. I also added `-fx-padding: 10;` to the `left-form` and `right-form` style classes in the CSS. \r\n\r\nI could not get the FontAwesome parts to work, so I commented those out and made guesses as to how they should be. (In the version I found, `FontAwesomeIcon` is not a `Node` subclass. Not sure what is going on there.)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;BorderPane stylesheets=&quot;@loginDesign.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;left&gt;\r\n            &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot;&gt;\r\n                &lt;!--\r\n                &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\r\n                --&gt;\r\n                &lt;Label text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/left&gt;\r\n        &lt;center&gt;\r\n            &lt;BorderPane styleClass=&quot;right-form&quot;&gt;\r\n                &lt;top&gt;\r\n                    &lt;HBox alignment=&quot;TOP_RIGHT&quot;&gt;\r\n                        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\r\n                        &lt;Button mnemonicParsing=&quot;false&quot; styleClass=&quot;close&quot; text=&quot;X&quot;&gt;\r\n                            &lt;!--\r\n                            &lt;graphic&gt;\r\n                                &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\r\n                            &lt;/graphic&gt;\r\n                            --&gt;\r\n                        &lt;/Button&gt;\r\n                    &lt;/HBox&gt;\r\n    \r\n                &lt;/top&gt;\r\n                &lt;center&gt;\r\n                    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot; fillWidth=&quot;true&quot;&gt;\r\n                        &lt;Label text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\r\n                            &lt;font&gt;\r\n                                &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\r\n                            &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;TextField promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; maxWidth=&quot;Infinity&quot;/&gt;\r\n                        &lt;PasswordField maxWidth=&quot;Infinity&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot;  /&gt;\r\n                        &lt;Button maxWidth=&quot;Infinity&quot; styleClass=&quot;login-button&quot; text=&quot;Login&quot; /&gt;\r\n                        &lt;!--\r\n                        &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; size=&quot;7em&quot; /&gt;\r\n                        --&gt;\r\n                    &lt;/VBox&gt;\r\n                &lt;/center&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nThis produces\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf I resize the screen, it responds reasonably well. You can tweak the code to make it respond differently, depending on your actual requirements.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://fxdocs.github.io/docs/html5/#_layout\r\n  [2]: https://i.stack.imgur.com/Utz13.png\r\n  [3]: https://i.stack.imgur.com/mT5T1.png","title":"How to create responsive desktop applications UI in JavaFx?","body":"<p>To manage layouts, you need to be familiar with JavaFX's built-in layout panes.</p>\n<ul>\n<li><p>Oracle provide a <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm\" rel=\"nofollow noreferrer\">tutorial</a>, which is quite old, so the code style is out of date, but the underlying technology has not changed.</p>\n</li>\n<li><p><a href=\"https://fxdocs.github.io/docs/html5/#_layout\" rel=\"nofollow noreferrer\">FXDocs from the OpenJFX documentation project</a> also provide a layout tutorial.</p>\n</li>\n<li><p>It's also worth reading the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">API documentation for the layout package</a> to see how the overall system works, and the API docs for each of the <code>Pane</code> subclasses.</p>\n</li>\n</ul>\n<p>There really is no shortcut to just experimenting with these layout panes and becoming familiar with how each of them manages layout and what properties they have.</p>\n<p>If you want the layout to be <em>responsive</em> (i.e. for components to move and resize according to how much space is available) you need to:</p>\n<ol>\n<li>Avoid hardcoding positions and sizes. This means you must not set <code>layoutX</code>, <code>layoutY</code>, <code>prefWidth</code>, <code>prefHeight</code> etc. Sometimes it <em>may</em> be helpful to set min/max sizes, but this can constrain the ability of the layout pane to respond to changes in available space.</li>\n<li>Use layout panes that perform responsive layout. This means you generally should <em>not</em> use <code>StackPane</code> or <code>AnchorPane</code> except for very small, specific parts of the UI. By contrast, <code>BorderPane</code>, <code>HBox</code>, <code>VBox</code>, <code>GridPane</code>, <code>TilePane</code>, <code>FlowPane</code>, etc. provide the most responsiveness. Focus on <em>logical</em> layout rather than specific positioning.</li>\n<li>Decide <em>how</em> you want the layout to respond. If there is extra space, how should it be used? If space is limited, what should shrink? This will determine which layout panes you decide to use.</li>\n</ol>\n<p>Here is an approximation to the layout you defined using responsive panes. I also added <code>-fx-padding: 10;</code> to the <code>left-form</code> and <code>right-form</code> style classes in the CSS.</p>\n<p>I could not get the FontAwesome parts to work, so I commented those out and made guesses as to how they should be. (In the version I found, <code>FontAwesomeIcon</code> is not a <code>Node</code> subclass. Not sure what is going on there.)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;BorderPane stylesheets=&quot;@loginDesign.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;left&gt;\n        &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot;&gt;\n            &lt;!--\n            &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\n            --&gt;\n            &lt;Label text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n        &lt;/VBox&gt;\n    &lt;/left&gt;\n    &lt;center&gt;\n        &lt;BorderPane styleClass=&quot;right-form&quot;&gt;\n            &lt;top&gt;\n                &lt;HBox alignment=&quot;TOP_RIGHT&quot;&gt;\n                    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\n                    &lt;Button mnemonicParsing=&quot;false&quot; styleClass=&quot;close&quot; text=&quot;X&quot;&gt;\n                        &lt;!--\n                        &lt;graphic&gt;\n                            &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\n                        &lt;/graphic&gt;\n                        --&gt;\n                    &lt;/Button&gt;\n                &lt;/HBox&gt;\n\n            &lt;/top&gt;\n            &lt;center&gt;\n                &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot; fillWidth=&quot;true&quot;&gt;\n                    &lt;Label text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\n                        &lt;font&gt;\n                            &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\n                        &lt;/font&gt;\n                    &lt;/Label&gt;\n                    &lt;TextField promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; maxWidth=&quot;Infinity&quot;/&gt;\n                    &lt;PasswordField maxWidth=&quot;Infinity&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot;  /&gt;\n                    &lt;Button maxWidth=&quot;Infinity&quot; styleClass=&quot;login-button&quot; text=&quot;Login&quot; /&gt;\n                    &lt;!--\n                    &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; size=&quot;7em&quot; /&gt;\n                    --&gt;\n                &lt;/VBox&gt;\n            &lt;/center&gt;\n        &lt;/BorderPane&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>This produces</p>\n<p><a href=\"https://i.stack.imgur.com/Utz13.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Utz13.png\" alt=\"enter image description here\" /></a></p>\n<p>If I resize the screen, it responds reasonably well. You can tweak the code to make it respond differently, depending on your actual requirements.</p>\n<p><a href=\"https://i.stack.imgur.com/mT5T1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mT5T1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76814148,"answer_count":1,"score":0,"last_activity_date":1691051728,"creation_date":1690904656,"question_id":76813277,"body_markdown":"The problem is that i want to know how to make responsive Desktop applications in JavaFx or Java Swing (preferred in JavaFx) . When i try to resize my application frame it&#39;s components size does not grow or shrink and similar is the situation when i try to run this on different screen sizes with different screen resolutions. I have searched on this topic but could not find any solution to this. So, any reference material will also be very helpful.\r\n\r\nI just want to know how can i add responsiveness in my desktop applications.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.PasswordField?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot;&gt;\r\n            &lt;AnchorPane layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;250.0&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; layoutX=&quot;68.0&quot; layoutY=&quot;228.0&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\r\n                &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;274.0&quot; text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;AnchorPane layoutX=&quot;250.0&quot; layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;450.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;Label layoutX=&quot;133.0&quot; layoutY=&quot;148.0&quot; text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n                &lt;TextField layoutX=&quot;114.0&quot; layoutY=&quot;226.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\r\n                &lt;PasswordField layoutX=&quot;115.0&quot; layoutY=&quot;273.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\r\n                &lt;Button layoutX=&quot;115.0&quot; layoutY=&quot;334.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;220.0&quot; styleClass=&quot;login-button&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; text=&quot;Login&quot; /&gt;\r\n                &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; layoutX=&quot;191.0&quot; layoutY=&quot;128.0&quot; size=&quot;7em&quot; /&gt;\r\n             &lt;Button layoutX=&quot;401.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;50.0&quot; styleClass=&quot;close&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\r\n                &lt;graphic&gt;\r\n                   &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\r\n                &lt;/graphic&gt;\r\n             &lt;/Button&gt;\r\n            &lt;/AnchorPane&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/StackPane&gt;\r\n\r\n\r\n\r\nand here is my css file\r\n\r\n    .left-form {\r\n        -fx-background-color: #14b8a6;\r\n        -fx-border-color: #000;\r\n        -fx-border-width: 0.4px 0px .4px .4px;\r\n    }\r\n    \r\n    .right-form {\r\n        -fx-background-color: #fff;\r\n        -fx-border-color: #000;\r\n        -fx-border-width: .4px .4px .4px 0px;\r\n    }\r\n    \r\n    .close {\r\n        -fx-background-color: transparent;\r\n        -fx-cursor: hand;\r\n    }\r\n    \r\n    .close:hover {\r\n        -fx-background-color: #ef4444;\r\n    }\r\n    \r\n    .text-field {\r\n        -fx-border-color: #3e3d3d;\r\n        -fx-border-width: 0.5px;\r\n        -fx-border-radius: 4px;\r\n        -fx-font-family: &quot;Tahoma&quot;;\r\n        -fx-font-size: 13px; /* Add &#39;px&#39; unit to font size */\r\n    }\r\n    \r\n    .text-field:focused {\r\n        -fx-border-color: #14b8a6;\r\n        -fx-border-radius: 4px;\r\n        -fx-border-width: 1.5px;\r\n    }\r\n    \r\n    .login-button {\r\n        -fx-background-color: #14b8a6;\r\n        -fx-background-radius: 15px;\r\n        -fx-cursor: hand;\r\n        -fx-font-size: 14px; /* Add &#39;px&#39; unit to font size */\r\n        -fx-text-fill: #fff;\r\n        -fx-font-family: &quot;SansSerif&quot;;\r\n    }\r\n\r\n","title":"How to create responsive desktop applications UI in JavaFx?","body":"<p>The problem is that i want to know how to make responsive Desktop applications in JavaFx or Java Swing (preferred in JavaFx) . When i try to resize my application frame it's components size does not grow or shrink and similar is the situation when i try to run this on different screen sizes with different screen resolutions. I have searched on this topic but could not find any solution to this. So, any reference material will also be very helpful.</p>\n<p>I just want to know how can i add responsiveness in my desktop applications.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot;&gt;\n        &lt;AnchorPane layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;250.0&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;FontAwesomeIcon fill=&quot;WHITE&quot; glyphName=&quot;STETHOSCOPE&quot; layoutX=&quot;68.0&quot; layoutY=&quot;228.0&quot; size=&quot;12em&quot; tabSize=&quot;0&quot; /&gt;\n            &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;274.0&quot; text=&quot;Pesticide Management System&quot; textFill=&quot;WHITE&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;18.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n        &lt;/AnchorPane&gt;\n        &lt;AnchorPane layoutX=&quot;250.0&quot; layoutY=&quot;1.0&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;450.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;Label layoutX=&quot;133.0&quot; layoutY=&quot;148.0&quot; text=&quot;Welcome, Admin!&quot; textFill=&quot;#374151&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;Berlin Sans FB&quot; size=&quot;25.0&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField layoutX=&quot;114.0&quot; layoutY=&quot;226.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Username&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\n            &lt;PasswordField layoutX=&quot;115.0&quot; layoutY=&quot;273.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;220.0&quot; promptText=&quot;Password&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; /&gt;\n            &lt;Button layoutX=&quot;115.0&quot; layoutY=&quot;334.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;220.0&quot; styleClass=&quot;login-button&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot; text=&quot;Login&quot; /&gt;\n            &lt;FontAwesomeIcon fill=&quot;#14b8a6&quot; glyphName=&quot;USER_MD&quot; layoutX=&quot;191.0&quot; layoutY=&quot;128.0&quot; size=&quot;7em&quot; /&gt;\n         &lt;Button layoutX=&quot;401.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;50.0&quot; styleClass=&quot;close&quot; stylesheets=&quot;@../../stylesheets/loginDesign.css&quot;&gt;\n            &lt;graphic&gt;\n               &lt;FontAwesomeIcon glyphName=&quot;CLOSE&quot; size=&quot;15&quot; /&gt;\n            &lt;/graphic&gt;\n         &lt;/Button&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/AnchorPane&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>and here is my css file</p>\n<pre><code>.left-form {\n    -fx-background-color: #14b8a6;\n    -fx-border-color: #000;\n    -fx-border-width: 0.4px 0px .4px .4px;\n}\n\n.right-form {\n    -fx-background-color: #fff;\n    -fx-border-color: #000;\n    -fx-border-width: .4px .4px .4px 0px;\n}\n\n.close {\n    -fx-background-color: transparent;\n    -fx-cursor: hand;\n}\n\n.close:hover {\n    -fx-background-color: #ef4444;\n}\n\n.text-field {\n    -fx-border-color: #3e3d3d;\n    -fx-border-width: 0.5px;\n    -fx-border-radius: 4px;\n    -fx-font-family: &quot;Tahoma&quot;;\n    -fx-font-size: 13px; /* Add 'px' unit to font size */\n}\n\n.text-field:focused {\n    -fx-border-color: #14b8a6;\n    -fx-border-radius: 4px;\n    -fx-border-width: 1.5px;\n}\n\n.login-button {\n    -fx-background-color: #14b8a6;\n    -fx-background-radius: 15px;\n    -fx-cursor: hand;\n    -fx-font-size: 14px; /* Add 'px' unit to font size */\n    -fx-text-fill: #fff;\n    -fx-font-family: &quot;SansSerif&quot;;\n}\n</code></pre>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1691052853,"post_id":76826268,"comment_id":135440240,"body_markdown":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: https://benjamin-schumann.com/blog/anylogic-community. Welcome again, happy to help","body":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: <a href=\"https://benjamin-schumann.com/blog/anylogic-community\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-community</a>. Welcome again, happy to help"},{"owner":{"account_id":8497034,"reputation":1153,"user_id":6394109,"accept_rate":100,"display_name":"Ram Chander"},"score":0,"creation_date":1691079269,"post_id":76826268,"comment_id":135446214,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29150374,"reputation":1,"user_id":22331358,"display_name":"RPN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691051574,"creation_date":1691051574,"question_id":76826268,"body_markdown":"I&#39;m working on a project in which the aim is to model a certain parking system. My idea was to focus both on drivers and cars side. The best way to do it seemed to use a split-combine block. On OnExit of the split block a copy of the car agent is created (I created a custom type called &quot;person&quot;) and the two entities are linked with a bilateral link. After the split block agent &quot;person&quot; (Agent2) goes through some queues and delays and then gets to the combine block. On the other way cars (Agent1) are instead supposed to wait until the linked person get to the combine block to be released. \r\n\r\nAlthough this first intuition about how to model the problem I still don&#39;t know how and what to code in the split block and in the wait block to make a car being released only once the linked agent &quot;person&quot; arrives at the combine block. The problem is about preemption as well since cars are not taken back following the line they were dropped. \r\n\r\nI hope you can help me on this and I kindly appreciate every suggestion about it","title":"Reunite linked agents after a split-combine block in Anylogic","body":"<p>I'm working on a project in which the aim is to model a certain parking system. My idea was to focus both on drivers and cars side. The best way to do it seemed to use a split-combine block. On OnExit of the split block a copy of the car agent is created (I created a custom type called &quot;person&quot;) and the two entities are linked with a bilateral link. After the split block agent &quot;person&quot; (Agent2) goes through some queues and delays and then gets to the combine block. On the other way cars (Agent1) are instead supposed to wait until the linked person get to the combine block to be released.</p>\n<p>Although this first intuition about how to model the problem I still don't know how and what to code in the split block and in the wait block to make a car being released only once the linked agent &quot;person&quot; arrives at the combine block. The problem is about preemption as well since cars are not taken back following the line they were dropped.</p>\n<p>I hope you can help me on this and I kindly appreciate every suggestion about it</p>\n"},{"tags":["java","android","android-actionbar"],"comments":[{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":2,"creation_date":1501239032,"post_id":45371516,"comment_id":77703660,"body_markdown":"Are you extending your activity to `AppcompatActivity`?","body":"Are you extending your activity to <code>AppcompatActivity</code>?"},{"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"score":0,"creation_date":1501239059,"post_id":45371516,"comment_id":77703682,"body_markdown":"post your manifest","body":"post your manifest"},{"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"score":0,"creation_date":1501239323,"post_id":45371516,"comment_id":77703876,"body_markdown":"@SripadRaj by default its extended! `  public class MainActivity extends AppCompatActivity`","body":"@SripadRaj by default its extended! `  public class MainActivity extends AppCompatActivity`"},{"owner":{"account_id":935411,"reputation":1707,"user_id":964411,"accept_rate":42,"display_name":"SripadRaj"},"score":0,"creation_date":1501239428,"post_id":45371516,"comment_id":77703951,"body_markdown":"So have you added the `Appcompat` lib to your proj? If not, add it. Change the `android:showAsAction=&quot;always&quot;` to `app:showAsAction`","body":"So have you added the <code>Appcompat</code> lib to your proj? If not, add it. Change the <code>android:showAsAction=&quot;always&quot;</code> to <code>app:showAsAction</code>"},{"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"score":0,"creation_date":1501239433,"post_id":45371516,"comment_id":77703955,"body_markdown":"@sasikumar I posted!","body":"@sasikumar I posted!"}],"answers":[{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1501239480,"creation_date":1501239480,"answer_id":45371695,"question_id":45371516,"body_markdown":"Change your app theme\r\n\r\n      android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\ninto\r\n\r\n      android:theme=&quot;@style/AppTheme&quot;","title":"missing action bar in empty activity","body":"<p>Change your app theme</p>\n\n<pre><code>  android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n</code></pre>\n\n<p>into</p>\n\n<pre><code>  android:theme=\"@style/AppTheme\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10421321,"reputation":780,"user_id":7683904,"display_name":"R.R.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501240295,"creation_date":1501240295,"answer_id":45372005,"question_id":45371516,"body_markdown":"Change you theme from : \r\n\r\n    android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n\r\nto :\r\n \r\n    android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;","title":"missing action bar in empty activity","body":"<p>Change you theme from : </p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n</code></pre>\n\n<p>to :</p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat.Light.DarkActionBar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8599273,"reputation":280,"user_id":6441416,"display_name":"zekromWex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501240724,"creation_date":1501240724,"answer_id":45372154,"question_id":45371516,"body_markdown":"First you have to add a toolbar in your MainActivity.xml, inside your Relative Layout and over your ListView. You can create a new file for that like naming it &#39;Toolbar.xml&#39; and creating the content like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;?attr/colorPrimary&quot;\r\n    android:minHeight=&quot;?attr/actionBarSize&quot;\r\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n    app:title=&quot;Main Activity&quot;/&gt;\r\n\r\nthen include it in your MainActivity.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;ir.cupcode.artin.contact.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/toolbar&quot; id=&quot;@+id/toolbar&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n Then you have to instantiate the toolbar in your app first. Like this:\r\n\r\n    \r\n    yourToolbar = (Toolbar) findViewById(R.id.yourToolbar);\r\n    setSupportActionbar(yourToolbar);\r\n\r\nYou can also check out these forums.\r\n\r\n\r\nhttps://stackoverflow.com/questions/26511981/toolbar-inflatemenu-seems-to-do-nothing\r\n\r\nhttps://stackoverflow.com/questions/35648913/how-to-set-menu-to-toolbar-in-android\r\n\r\nHope this helps!","title":"missing action bar in empty activity","body":"<p>First you have to add a toolbar in your MainActivity.xml, inside your Relative Layout and over your ListView. You can create a new file for that like naming it 'Toolbar.xml' and creating the content like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.Toolbar\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"?attr/colorPrimary\"\nandroid:minHeight=\"?attr/actionBarSize\"\napp:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\napp:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\napp:title=\"Main Activity\"/&gt;\n</code></pre>\n\n<p>then include it in your MainActivity.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingLeft=\"@dimen/activity_horizontal_margin\"\nandroid:paddingRight=\"@dimen/activity_horizontal_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\"ir.cupcode.artin.contact.MainActivity\"&gt;\n\n&lt;include layout=\"@layout/toolbar\" id=\"@+id/toolbar\"&gt;\n\n&lt;ListView\n    android:id=\"@+id/list\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Then you have to instantiate the toolbar in your app first. Like this:</p>\n\n<pre><code>yourToolbar = (Toolbar) findViewById(R.id.yourToolbar);\nsetSupportActionbar(yourToolbar);\n</code></pre>\n\n<p>You can also check out these forums.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26511981/toolbar-inflatemenu-seems-to-do-nothing\">Toolbar.inflateMenu seems to do nothing</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/35648913/how-to-set-menu-to-toolbar-in-android\">How to set menu to Toolbar in Android</a></p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":20628835,"reputation":1,"user_id":15144096,"display_name":"Rouhollah Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691051503,"creation_date":1691051503,"answer_id":76826259,"question_id":45371516,"body_markdown":"for android studio flamingo (2022.2.1):\r\n\r\nopen &quot;manifest.xml&quot;\r\n\r\nreplace: \r\n\r\n    android:theme=&quot;@style/Theme.MenuDemo&quot;\r\nwith:\r\n\r\n    android:theme=&quot;@style/Theme.AppCompat&quot;","title":"missing action bar in empty activity","body":"<p>for android studio flamingo (2022.2.1):</p>\n<p>open &quot;manifest.xml&quot;</p>\n<p>replace:</p>\n<pre><code>android:theme=&quot;@style/Theme.MenuDemo&quot;\n</code></pre>\n<p>with:</p>\n<pre><code>android:theme=&quot;@style/Theme.AppCompat&quot;\n</code></pre>\n"}],"owner":{"account_id":11291266,"reputation":546,"user_id":8280270,"accept_rate":50,"display_name":"Artin GH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45371695,"answer_count":4,"score":0,"last_activity_date":1691051503,"creation_date":1501238918,"question_id":45371516,"body_markdown":"I want to learn how to work with toolbar in android and trying to add menu in action bar but when I ran my previews started project, noticed that default empty activity menu bar now missing! I don&#39;t know why this happened.\r\n\r\nhere is my MainActivity.xml code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;ir.cupcode.artin.contact.MainActivity&quot;&gt;\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nand I have this block of code for menu bar in MainActivity.java :\r\n\r\n        @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.menubar, menu);\r\n        return true;\r\n    }\r\n\r\nhere is my menubar.xml code\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/action_refresh&quot;\r\n        android:orderInCategory=&quot;100&quot;\r\n        android:showAsAction=&quot;always&quot;\r\n        android:icon=&quot;@drawable/ic_action_test&quot;\r\n        android:title=&quot;Refresh&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_settings&quot;\r\n        android:title=&quot;Settings&quot;&gt;\r\n    &lt;/item&gt;\r\n\r\n&lt;/menu&gt;\r\n\r\nIn addition I get an error for using `        android:showAsAction=&quot;always&quot;` that says should use app:showAsAction with the appcombat library\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;ir.cupcode.artin.contact&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_appicon2&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n    ","title":"missing action bar in empty activity","body":"<p>I want to learn how to work with toolbar in android and trying to add menu in action bar but when I ran my previews started project, noticed that default empty activity menu bar now missing! I don't know why this happened.</p>\n\n<p>here is my MainActivity.xml code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingLeft=\"@dimen/activity_horizontal_margin\"\nandroid:paddingRight=\"@dimen/activity_horizontal_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\"ir.cupcode.artin.contact.MainActivity\"&gt;\n&lt;ListView\n    android:id=\"@+id/list\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and I have this block of code for menu bar in MainActivity.java :</p>\n\n<pre><code>    @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.menubar, menu);\n    return true;\n}\n</code></pre>\n\n<p>here is my menubar.xml code</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/action_refresh\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"always\"\n    android:icon=\"@drawable/ic_action_test\"\n    android:title=\"Refresh\"/&gt;\n&lt;item\n    android:id=\"@+id/action_settings\"\n    android:title=\"Settings\"&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>In addition I get an error for using <code>android:showAsAction=\"always\"</code> that says should use app:showAsAction with the appcombat library</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_appicon2\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691046251,"post_id":76825450,"comment_id":135438346,"body_markdown":"The error is complaining about a mock on `getSub()`, and I don&#39;t see the code for that.","body":"The error is complaining about a mock on <code>getSub()</code>, and I don&#39;t see the code for that."},{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1691047840,"post_id":76825450,"comment_id":135439178,"body_markdown":"What jwtDecoder does is to bring a Payload (class), where it facilitates the extraction of the http Authorization headers.As you can see in the JwtServices class, I make that call and with the data of the header I extract what I am interested in, in this case the Sub and the Iss of the JWT. what happens that when making the call, as much as I make it mock is like that it does not falsify the method and what I obtain is null, but on the other hand I do not know why it identifies the HashMap, and sometimes I receive error of getSub and others of the variable payloadHeaderAuthorization is null...","body":"What jwtDecoder does is to bring a Payload (class), where it facilitates the extraction of the http Authorization headers.As you can see in the JwtServices class, I make that call and with the data of the header I extract what I am interested in, in this case the Sub and the Iss of the JWT. what happens that when making the call, as much as I make it mock is like that it does not falsify the method and what I obtain is null, but on the other hand I do not know why it identifies the HashMap, and sometimes I receive error of getSub and others of the variable payloadHeaderAuthorization is null..."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691050993,"post_id":76825450,"comment_id":135439864,"body_markdown":"`@InjectMocks` does _not_ create a mock. `@Mock` creates a mock. `@InjectMocks` creates a real instance.","body":"<code>@InjectMocks</code> does <i>not</i> create a mock. <code>@Mock</code> creates a mock. <code>@InjectMocks</code> creates a real instance."}],"answers":[{"tags":[],"owner":{"account_id":11521971,"reputation":1,"user_id":8443469,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049200,"creation_date":1691049200,"answer_id":76825949,"question_id":76825450,"body_markdown":"I am not sure if the mocks are being initiated properly.\r\n\r\nTry adding runwith annotation.\r\n```\r\n@RunWith(MockitoJunitRunner.class)\r\n```\r\nOR\r\n\r\nin the setup() method add `MockitoAnnotations.initMocks()`\r\n\r\nCheck this ans: https://stackoverflow.com/a/15494996","title":"How to test with Junit and Mockito without returning null","body":"<p>I am not sure if the mocks are being initiated properly.</p>\n<p>Try adding runwith annotation.</p>\n<pre><code>@RunWith(MockitoJunitRunner.class)\n</code></pre>\n<p>OR</p>\n<p>in the setup() method add <code>MockitoAnnotations.initMocks()</code></p>\n<p>Check this ans: <a href=\"https://stackoverflow.com/a/15494996\">https://stackoverflow.com/a/15494996</a></p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691050424,"creation_date":1691050424,"answer_id":76826110,"question_id":76825450,"body_markdown":"Your `jwtServices` is not a mock, but you are mocking it with `when`. Hence it&#39;s all confused and goes awry.\r\n\r\nOverall, your test does not look as a properly designed. Usually it should be a single class under test, with all its dependencies mocked. You have a weird mix.","title":"How to test with Junit and Mockito without returning null","body":"<p>Your <code>jwtServices</code> is not a mock, but you are mocking it with <code>when</code>. Hence it's all confused and goes awry.</p>\n<p>Overall, your test does not look as a properly designed. Usually it should be a single class under test, with all its dependencies mocked. You have a weird mix.</p>\n"}],"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691050424,"creation_date":1691044633,"question_id":76825450,"body_markdown":"I find myself in a situation where I do not know the test code answers.\r\nI have an Impl with a single method that looks for a patient, but inside that method I have another external class that calls a method that also calls an interface to receive the response.\r\nI expose my code \r\n\r\nIMPL\r\n\r\n```\r\n@Autowired\r\n    private JwtServices jwtServices;\r\n@Override\r\n    public Map&lt;String, Object&gt; findByPatient(String identificationNumber, String birthdate, Boolean allowPatientData)  {\r\n\r\n        Map&lt;String, String&gt; jwtData = jwtServices.getDecoderJwt();\r\n\r\n        Map&lt;String, String&gt; dataPatient =  new HashMap&lt;&gt;();\r\n        dataPatient.put(&quot;identificationNumber&quot;, identificationNumber);\r\n        dataPatient.put(&quot;birthdate&quot;,birthdate);\r\n        dataPatient.put(&quot;allowPatientData&quot;,allowPatientData.toString());\r\n        dataPatient.put(&quot;appointmentId&quot;,jwtData.get(&quot;sub&quot;));\r\n\r\n        return this.apiFaroConfig.findPatient(dataPatient);\r\n    }\r\n```\r\n\r\nMy code JwtServices:\r\n\r\n```\r\n @Autowired\r\n    private JWTDecoder jwtDecoder;\r\n\r\n    public Map&lt;String, String&gt; getDecoderJwt(){\r\n        Map&lt;String, String&gt; jwtData = new HashMap&lt;&gt;();\r\n\r\n        Payload payloadHeaderAuthorization = jwtDecoder.getPayloadAuthorization();\r\n\r\n        jwtData.put(&quot;iss&quot;, payloadHeaderAuthorization.getIss());\r\n        jwtData.put(&quot;sub&quot;,  payloadHeaderAuthorization.getSub());\r\n\r\n        return jwtData;\r\n    }\r\n```\r\n\r\n\r\nMy test IMPL:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@MockitoSettings(strictness = Strictness.LENIENT)\r\nclass PatientServicesImplTest {\r\n\r\n    @Mock\r\n    private FaroApiRest apiFaroRest;\r\n\r\n    @InjectMocks\r\n    private JwtServices jwtServices ;\r\n\r\n    @Mock\r\n    private JWTDecoder jwtDecoder;\r\n\r\n    @Mock\r\n    private Payload payload;\r\n\r\n    @InjectMocks\r\n    private PatientServicesImpl patientServices;\r\n\r\n    //Initialize variable\r\n    private Map&lt;String, String&gt; dataPatient;\r\n    private Map&lt;String, Object&gt; dataResponse;\r\n    private Map&lt;String, String&gt; jwtData ;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        //Initialize instances\r\n        patientServices = new PatientServicesImpl(apiFaroRest);\r\n        dataPatient = new HashMap&lt;&gt;();\r\n        dataResponse = new HashMap&lt;&gt;();\r\n        jwtData = new HashMap&lt;&gt;();\r\n\r\n        //initialize dataPatient\r\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\r\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\r\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\r\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;200 ok\r\n        dataResponse.put(&quot;datosPersonales&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;anamnesis&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\r\n\r\n        //Initialize data jwt\r\n        jwtData.put(&quot;iss&quot;,&quot;560&quot;);\r\n        jwtData.put(&quot;sub&quot;, &quot;123456&quot;);\r\n\r\n    }\r\n\r\n    @Test\r\n    void findByPatient() {\r\n        //when\r\n\r\n        //Jwt Services\r\n        when(jwtDecoder.getPayloadAuthorization()).thenReturn(payload);\r\n\r\n        when(jwtServices.getDecoderJwt()).thenReturn(jwtData);\r\n\r\n        //PatientsImpl\r\n        when(patientServices.findByPatient(&quot;XXXX&quot;, &quot;XXXX&quot;, true)).thenReturn(dataResponse);\r\n        when(apiFaroRest.findPatient(dataPatient)).thenReturn(dataResponse);\r\n\r\n        //given\r\n        Map&lt;String, Object&gt; response = apiFaroRest.findPatient(dataPatient);\r\n\r\n        //then\r\n        assertTrue(response.containsKey(&quot;datosPersonales&quot;));\r\n        assertNotNull(response);\r\n       }\r\n\r\n}\r\n```\r\n\r\nError:\r\n\r\n\r\n```\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nHashMap cannot be returned by getSub()\r\ngetSub() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t understand what&#39;s going on. \r\nI don&#39;t understand why I get that return change when I&#39;m specifying its return.\r\nThen, if I remove the jwtDecoder it returns null jwtService because it tries to call the jwtDecoder method and it doesn&#39;t &quot;exist&quot; but of course, if what I want is that the JwtServices checks its getDecoder method and I return it the Map&lt;String, String&gt; so that the main IMPL method can give me the OK.","title":"How to test with Junit and Mockito without returning null","body":"<p>I find myself in a situation where I do not know the test code answers.\nI have an Impl with a single method that looks for a patient, but inside that method I have another external class that calls a method that also calls an interface to receive the response.\nI expose my code</p>\n<p>IMPL</p>\n<pre><code>@Autowired\n    private JwtServices jwtServices;\n@Override\n    public Map&lt;String, Object&gt; findByPatient(String identificationNumber, String birthdate, Boolean allowPatientData)  {\n\n        Map&lt;String, String&gt; jwtData = jwtServices.getDecoderJwt();\n\n        Map&lt;String, String&gt; dataPatient =  new HashMap&lt;&gt;();\n        dataPatient.put(&quot;identificationNumber&quot;, identificationNumber);\n        dataPatient.put(&quot;birthdate&quot;,birthdate);\n        dataPatient.put(&quot;allowPatientData&quot;,allowPatientData.toString());\n        dataPatient.put(&quot;appointmentId&quot;,jwtData.get(&quot;sub&quot;));\n\n        return this.apiFaroConfig.findPatient(dataPatient);\n    }\n</code></pre>\n<p>My code JwtServices:</p>\n<pre><code> @Autowired\n    private JWTDecoder jwtDecoder;\n\n    public Map&lt;String, String&gt; getDecoderJwt(){\n        Map&lt;String, String&gt; jwtData = new HashMap&lt;&gt;();\n\n        Payload payloadHeaderAuthorization = jwtDecoder.getPayloadAuthorization();\n\n        jwtData.put(&quot;iss&quot;, payloadHeaderAuthorization.getIss());\n        jwtData.put(&quot;sub&quot;,  payloadHeaderAuthorization.getSub());\n\n        return jwtData;\n    }\n</code></pre>\n<p>My test IMPL:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass PatientServicesImplTest {\n\n    @Mock\n    private FaroApiRest apiFaroRest;\n\n    @InjectMocks\n    private JwtServices jwtServices ;\n\n    @Mock\n    private JWTDecoder jwtDecoder;\n\n    @Mock\n    private Payload payload;\n\n    @InjectMocks\n    private PatientServicesImpl patientServices;\n\n    //Initialize variable\n    private Map&lt;String, String&gt; dataPatient;\n    private Map&lt;String, Object&gt; dataResponse;\n    private Map&lt;String, String&gt; jwtData ;\n\n    @BeforeEach\n    void setUp() {\n        //Initialize instances\n        patientServices = new PatientServicesImpl(apiFaroRest);\n        dataPatient = new HashMap&lt;&gt;();\n        dataResponse = new HashMap&lt;&gt;();\n        jwtData = new HashMap&lt;&gt;();\n\n        //initialize dataPatient\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;200 ok\n        dataResponse.put(&quot;datosPersonales&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;anamnesis&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\n\n        //Initialize data jwt\n        jwtData.put(&quot;iss&quot;,&quot;560&quot;);\n        jwtData.put(&quot;sub&quot;, &quot;123456&quot;);\n\n    }\n\n    @Test\n    void findByPatient() {\n        //when\n\n        //Jwt Services\n        when(jwtDecoder.getPayloadAuthorization()).thenReturn(payload);\n\n        when(jwtServices.getDecoderJwt()).thenReturn(jwtData);\n\n        //PatientsImpl\n        when(patientServices.findByPatient(&quot;XXXX&quot;, &quot;XXXX&quot;, true)).thenReturn(dataResponse);\n        when(apiFaroRest.findPatient(dataPatient)).thenReturn(dataResponse);\n\n        //given\n        Map&lt;String, Object&gt; response = apiFaroRest.findPatient(dataPatient);\n\n        //then\n        assertTrue(response.containsKey(&quot;datosPersonales&quot;));\n        assertNotNull(response);\n       }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nHashMap cannot be returned by getSub()\ngetSub() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n</code></pre>\n<p>I don't understand what's going on.\nI don't understand why I get that return change when I'm specifying its return.\nThen, if I remove the jwtDecoder it returns null jwtService because it tries to call the jwtDecoder method and it doesn't &quot;exist&quot; but of course, if what I want is that the JwtServices checks its getDecoder method and I return it the Map&lt;String, String&gt; so that the main IMPL method can give me the OK.</p>\n"},{"tags":["java","foreach"],"comments":[{"owner":{"display_name":"user2030471"},"score":0,"creation_date":1381496354,"post_id":19318707,"comment_id":28613855,"body_markdown":"Why is the normal for (one with index variable) not good enough?","body":"Why is the normal for (one with index variable) not good enough?"},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1381496394,"post_id":19318707,"comment_id":28613883,"body_markdown":"consider a map. like hashmap","body":"consider a map. like hashmap"},{"owner":{"account_id":2583747,"reputation":3916,"user_id":2239897,"accept_rate":76,"display_name":"Stefan Winkler"},"score":0,"creation_date":1381496557,"post_id":19318707,"comment_id":28613984,"body_markdown":"It should be noted that it is not very nice design to keep things that have an association in separate arrays. Instead you should use a map or create a simple class with name and mark attributes and have a single array (or list) of these objects.","body":"It should be noted that it is not very nice design to keep things that have an association in separate arrays. Instead you should use a map or create a simple class with name and mark attributes and have a single array (or list) of these objects."},{"owner":{"account_id":2552155,"reputation":1265,"user_id":2215712,"accept_rate":75,"display_name":"TEK"},"score":0,"creation_date":1381497477,"post_id":19318707,"comment_id":28614624,"body_markdown":"These two arrays are working in parallel, and their only association is via the index (so you can&#39;t use an enhanced for loop because you need to know the index). Stefan rightly points out this is very bad design that offers so little flexibility I don&#39;t think it&#39;s ever used outside of arbitrary examples.","body":"These two arrays are working in parallel, and their only association is via the index (so you can&#39;t use an enhanced for loop because you need to know the index). Stefan rightly points out this is very bad design that offers so little flexibility I don&#39;t think it&#39;s ever used outside of arbitrary examples."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":3,"creation_date":1424396856,"post_id":19318707,"comment_id":45543221,"body_markdown":"Like the OP I&#39;m disappointed there&#39;s no smarter way of doing it such as `for(String s : studentNames, int g : grades) {...}`","body":"Like the OP I&#39;m disappointed there&#39;s no smarter way of doing it such as <code>for(String s : studentNames, int g : grades) {...}</code>"},{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":0,"creation_date":1433479922,"post_id":19318707,"comment_id":49379617,"body_markdown":"possible duplicate of [Sexy way to iterate over parallel arrays in Java using foreach](http://stackoverflow.com/questions/5545584/sexy-way-to-iterate-over-parallel-arrays-in-java-using-foreach)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5545584/sexy-way-to-iterate-over-parallel-arrays-in-java-using-foreach\">Sexy way to iterate over parallel arrays in Java using foreach</a>"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1381496293,"creation_date":1381496293,"answer_id":19318745,"question_id":19318707,"body_markdown":"You need to do it using the regular `for` loop with an index, like this:\r\n\r\n    if (marks.length != studentNames.length) {\r\n        ... // Something is wrong!\r\n    }\r\n    // This assumes that studentNames and marks have identical lengths\r\n    for (int i = 0 ; i != marks.length ; i++) {\r\n        System.out.println(studentNames[i]);\r\n        System.out.println(marks[i]);\r\n    }\r\n\r\nA better approach would be using a class to store a student along with his/her marks, like this:\r\n\r\n    class StudentMark {\r\n        private String name;\r\n        private int mark;\r\n        public StudentMark(String n, int m) {name=n; mark=m; }\r\n        public String getName() {return name;}\r\n        public int getMark() {return mark;}\r\n    }\r\n\r\n    for (StudentMark sm : arrayOfStudentsAndTheirMarks) {\r\n        System.out.println(sm.getName());\r\n        System.out.println(sm.getMark());\r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>You need to do it using the regular <code>for</code> loop with an index, like this:</p>\n\n<pre><code>if (marks.length != studentNames.length) {\n    ... // Something is wrong!\n}\n// This assumes that studentNames and marks have identical lengths\nfor (int i = 0 ; i != marks.length ; i++) {\n    System.out.println(studentNames[i]);\n    System.out.println(marks[i]);\n}\n</code></pre>\n\n<p>A better approach would be using a class to store a student along with his/her marks, like this:</p>\n\n<pre><code>class StudentMark {\n    private String name;\n    private int mark;\n    public StudentMark(String n, int m) {name=n; mark=m; }\n    public String getName() {return name;}\n    public int getMark() {return mark;}\n}\n\nfor (StudentMark sm : arrayOfStudentsAndTheirMarks) {\n    System.out.println(sm.getName());\n    System.out.println(sm.getMark());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381496497,"creation_date":1381496361,"answer_id":19318768,"question_id":19318707,"body_markdown":"If them both have the same size, I would write:\r\n\r\n    for(int i = 0; i&lt;marks.length; i++) {\r\n        String names= studentNames[i]\r\n        int mark = marks[i];     \r\n       \r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>If them both have the same size, I would write:</p>\n\n<pre><code>for(int i = 0; i&lt;marks.length; i++) {\n    String names= studentNames[i]\n    int mark = marks[i];     \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1381496992,"creation_date":1381496992,"answer_id":19318997,"question_id":19318707,"body_markdown":"The underlying problem is actually that you should tie both of the arrays together and iterate across just one array.\r\n\r\nHere is a VERY simplistic demonstration - you should use getters and setters and you should also use a `List` instead of an array but this demonstrates the point:\r\n\r\n    class Student {\r\n      String name;\r\n      int mark;\r\n    }\r\n    Student[] students = new Student[10];\r\n\r\n    for (Student s : students) {\r\n      ...\r\n    }\r\n","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>The underlying problem is actually that you should tie both of the arrays together and iterate across just one array.</p>\n\n<p>Here is a VERY simplistic demonstration - you should use getters and setters and you should also use a <code>List</code> instead of an array but this demonstrates the point:</p>\n\n<pre><code>class Student {\n  String name;\n  int mark;\n}\nStudent[] students = new Student[10];\n\nfor (Student s : students) {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14525765,"reputation":1,"user_id":10492107,"display_name":"Isaac Buziba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539293454,"creation_date":1539293454,"answer_id":52769219,"question_id":19318707,"body_markdown":"The other way is to use a verbose for loop statement such as;\r\n\r\n    int i,j;\r\n    for(i = 0, j=0; i&lt;= student.length-1 &amp;&amp; j &lt;=grades.length-1; i++,j++)\r\n    {\r\n    ...\r\n    }","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>The other way is to use a verbose for loop statement such as;</p>\n\n<pre><code>int i,j;\nfor(i = 0, j=0; i&lt;= student.length-1 &amp;&amp; j &lt;=grades.length-1; i++,j++)\n{\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049805,"creation_date":1691049805,"answer_id":76826024,"question_id":19318707,"body_markdown":"Going with [Sergey Kalinichenko&#39;s *something is wrong*](https://stackoverflow.com/a/19318745):\r\n~~~\r\n    if (marks.length != studentNames.length) {\r\n        ... // Something is wrong!\r\n    }\r\n    Iterator&lt;Integer&gt; marks_ = java.util.Arrays.asList(marks).iterator();\r\n    // This assumes that studentNames is no longer than marks\r\n    for (String name: studentNames)\r\n        System.out.println(name + &quot;: &quot; + marks_.next());\r\n~~~","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>Going with <a href=\"https://stackoverflow.com/a/19318745\">Sergey Kalinichenko's <em>something is wrong</em></a>:</p>\n<pre><code>    if (marks.length != studentNames.length) {\n        ... // Something is wrong!\n    }\n    Iterator&lt;Integer&gt; marks_ = java.util.Arrays.asList(marks).iterator();\n    // This assumes that studentNames is no longer than marks\n    for (String name: studentNames)\n        System.out.println(name + &quot;: &quot; + marks_.next());\n</code></pre>\n"}],"owner":{"account_id":2875234,"reputation":2494,"user_id":2467482,"accept_rate":100,"display_name":"dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43305,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":19318997,"answer_count":5,"score":9,"last_activity_date":1691049805,"creation_date":1381496197,"question_id":19318707,"body_markdown":"Student&#39;s names(String[]) and corresponding marks(int[]) are stored in different arrays.\r\n\r\nHow may I iterate over both arrays together using for each loop in Java ? \r\n\r\n    void list() {\r\n    \r\n        for(String s:studentNames) {\r\n            System.out.println(s); //I want to print from marks[] alongside.\r\n        }\r\n    }\r\n\r\nOne trivial way could be using index variable in the same loop. Is there a good way to do?","title":"Iterating over two arrays simultaneously using for each loop in Java","body":"<p>Student's names(String[]) and corresponding marks(int[]) are stored in different arrays.</p>\n\n<p>How may I iterate over both arrays together using for each loop in Java ? </p>\n\n<pre><code>void list() {\n\n    for(String s:studentNames) {\n        System.out.println(s); //I want to print from marks[] alongside.\n    }\n}\n</code></pre>\n\n<p>One trivial way could be using index variable in the same loop. Is there a good way to do?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"score":0,"creation_date":1691697131,"post_id":76824881,"comment_id":135530352,"body_markdown":"Are you doing anything about dispatcherType filtering? You might need to permitAll on FORWARD if using MVC. See https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#switch-filter-all-dispatcher-types and read down to the section &quot;Permit FORWARD when using Spring MVC&quot; (if you are using MVC) and add authorize.dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll()","body":"Are you doing anything about dispatcherType filtering? You might need to permitAll on FORWARD if using MVC. See <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#switch-filter-all-dispatcher-types\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/migration/servl&zwnj;&#8203;et/&hellip;</a> and read down to the section &quot;Permit FORWARD when using Spring MVC&quot; (if you are using MVC) and add authorize.dispatcherTypeMatchers(DispatcherType.FORWARD).per&zwnj;&#8203;mitAll()"}],"answers":[{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691039736,"creation_date":1691039736,"answer_id":76825041,"question_id":76824881,"body_markdown":"You are using both method-level security annotations (@PreAuthorize) and URL-based security rules. If you are using method-level security (@preAuthorize), the security checks are performed based on the expression specified in the annotation, and URL-based security rules defined in SecurityConfig may not have any effect on those methods.\r\n\r\nAlso the method level security is recommended to be applied in Service layer. [spring security docs][1]\r\n\r\nFor your security config try using antmatchers as below:\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login/**&quot;).anonymous()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/faq/faq.html#faq-method-security-in-web-context\r\n","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>You are using both method-level security annotations (@PreAuthorize) and URL-based security rules. If you are using method-level security (@preAuthorize), the security checks are performed based on the expression specified in the annotation, and URL-based security rules defined in SecurityConfig may not have any effect on those methods.</p>\n<p>Also the method level security is recommended to be applied in Service layer. <a href=\"https://docs.spring.io/spring-security/site/faq/faq.html#faq-method-security-in-web-context\" rel=\"nofollow noreferrer\">spring security docs</a></p>\n<p>For your security config try using antmatchers as below:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/login/**&quot;).anonymous()\n            .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .antMatchers(&quot;/api/test/**&quot;).permitAll()\n            .antMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\n            .anyRequest().authenticated()\n            .and()\n            .httpBasic()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23304576,"reputation":11,"user_id":17384726,"display_name":"Akul96"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691049677,"creation_date":1691049677,"answer_id":76826004,"question_id":76824881,"body_markdown":"This is not a complete answer to your question, but check my config. Also you can both have endpoint security and method level security, it is not an issue.\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        \r\n            http\r\n                .userDetailsService(jpaUserDetailsService)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                                .requestMatchers( &quot;/auth/**&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.POST, \r\n                                    &quot;/auth/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .csrf(AbstractHttpConfigurer::disable) //to be able to use h2- \r\n                    //console and different domains with the login\r\n                .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\r\n                .formLogin(Customizer.withDefaults())\r\n                .logout(logout -&gt; logout\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                )\r\n                .headers(headers -&gt; headers \r\n                     .frameOptions(FrameOptionsConfig::disable)) //to be able to use \r\n                       //h2-console\r\n                .sessionManagement((sessionManagement) -&gt; sessionManagement\r\n                     .sessionConcurrency((sessionConcurrency) -&gt;\r\n                         sessionConcurrency\r\n                             //.maximumSessions(1)\r\n                             //.maxSessionsPreventsLogin(true)\r\n                             .expiredUrl(&quot;/auth/login?invalid-session=true&quot;)\r\n                             .sessionRegistry(sessionRegistry())\r\n                     )\r\n                     // Set the custom session repository here\r\n                     //.sessionRepository(customSessionRepository()) // Inject your \r\n                        //custom session repository\r\n                );\r\n\r\n                //http.authenticationProvider(authProvider());\r\n                \r\n        return  http.build();\r\n    }\r\n\r\nAnd here is an example if you want to secure an endpoint based on roles, it is better to use it in the class:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/manage-users&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n    public class UsersController{\r\n         //some code\r\n    }\r\n\r\nAnd for method level:\r\n\r\n    @GetMapping(&quot;/new&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n    public String showRegistrationForm() {\r\n        return &quot;registrationForm&quot;;\r\n    }","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>This is not a complete answer to your question, but check my config. Also you can both have endpoint security and method level security, it is not an issue.</p>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n    \n        http\n            .userDetailsService(jpaUserDetailsService)\n            .authorizeHttpRequests(auth -&gt; auth\n                            .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n                            .requestMatchers( &quot;/auth/**&quot;).permitAll()\n                            .requestMatchers(HttpMethod.POST, \n                                &quot;/auth/**&quot;).permitAll()\n                            .anyRequest().authenticated()\n            )\n            .csrf(AbstractHttpConfigurer::disable) //to be able to use h2- \n                //console and different domains with the login\n            .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n            .formLogin(Customizer.withDefaults())\n            .logout(logout -&gt; logout\n                .logoutUrl(&quot;/logout&quot;)\n                .invalidateHttpSession(true)\n                .logoutSuccessUrl(&quot;/auth/login&quot;)\n            )\n            .headers(headers -&gt; headers \n                 .frameOptions(FrameOptionsConfig::disable)) //to be able to use \n                   //h2-console\n            .sessionManagement((sessionManagement) -&gt; sessionManagement\n                 .sessionConcurrency((sessionConcurrency) -&gt;\n                     sessionConcurrency\n                         //.maximumSessions(1)\n                         //.maxSessionsPreventsLogin(true)\n                         .expiredUrl(&quot;/auth/login?invalid-session=true&quot;)\n                         .sessionRegistry(sessionRegistry())\n                 )\n                 // Set the custom session repository here\n                 //.sessionRepository(customSessionRepository()) // Inject your \n                    //custom session repository\n            );\n\n            //http.authenticationProvider(authProvider());\n            \n    return  http.build();\n}\n</code></pre>\n<p>And here is an example if you want to secure an endpoint based on roles, it is better to use it in the class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/manage-users&quot;)\n@PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\npublic class UsersController{\n     //some code\n}\n</code></pre>\n<p>And for method level:</p>\n<pre><code>@GetMapping(&quot;/new&quot;)\n@PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\npublic String showRegistrationForm() {\n    return &quot;registrationForm&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1903898,"reputation":195,"user_id":1719133,"display_name":"ons1719133"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691049677,"creation_date":1691036463,"question_id":76824881,"body_markdown":"In my Spring boot application, I am using the below version in pom.xml. Java version is 17.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n\r\nMy controller class,\r\n\r\n    @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/common&quot;)\r\n    public class CommonController {\r\n\r\n      @GetMapping(&quot;/dashboard&quot;)\r\n      @PreAuthorize(&quot;hasRole(&#39;ROLE_MODERATOR&#39;) or hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n      public String userAccess() {\r\n        return &quot;Dash Board Sample.&quot;;\r\n      }\r\n    }\r\n\r\nAlthough I am using @PreAuthorize at the method level, I want to limit access for the url pattern **/api/common/**** to allow only users having the roles &quot;ROLE_USER&quot; or &quot;ROLE_MODERATOR&quot; or &quot;ROLE_ADMIN&quot;. But it is not working and giving me 401 when using hasAnyAuthority or hasAnyRole in the filter chain.\r\n\r\nHere is my entire SecurityConfig class and I am using the filter chain as follows.\r\n\r\n    import com.example.authservicedemo.security.jwt.AuthTokenFilter;\r\n    import com.example.authservicedemo.security.services.UserDetailsServiceImpl;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n    public class SecurityConfig {\r\n    \r\n        @Value(&quot;${spring.security.debug:false}&quot;)\r\n        boolean securityDebug;\r\n    \r\n        @Autowired\r\n        UserDetailsServiceImpl userDetailsService;\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter() {\r\n            return new AuthTokenFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/login/**&quot;)\r\n                    .anonymous()\r\n                    .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                    //.requestMatchers(&quot;/api/common/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\r\n                     //.requestMatchers(&quot;/api/common/**&quot;) .hasAnyRole(&quot;USER&quot;, &quot;MODERATOR&quot;, &quot;ADMIN&quot;)\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .httpBasic()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.debug(securityDebug)\r\n                    .ignoring()\r\n                    .requestMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\r\n        }\r\n    }\r\n\r\nBut it gives me 401 error when I access the API.\r\n\r\n        curl --location &#39;http://localhost:8080/api/common/dashboard&#39; \\\r\n    --header &#39;Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY5MTAzNDk4OSwiZXhwIjoxNjkxMTIxMzg5LCJyb2xlcyI6WyJQXzEiLCJQXzMiLCJBXzEiLCJBXzIiLCJBXzMiLCJBXzQiLCJBXzUiLCJST0xFX0FETUlOIl19.8Fp6OPBMsredmLEi2RdB0Bkg0Oa1S_k869mx25CJxEjD01ePys7J7E7mWHRmeeKFMX_ybeDpdK_5loT26eBMAQ&#39;\r\n\r\nWhen I uncomment the line **.requestMatchers(&quot;/api/common/**&quot;).permitAll()** this works well with the method level security @PreAuthorize.\r\nSo, how can I limit access to specific URL patterns for users with specific roles?\r\n\r\nI cannot figure out what I am doing wrong. Your response would be really appreciated.\r\n","title":"Spring security requestMatchers with hasAnyAuthority or hasAnyRole not works as expected","body":"<p>In my Spring boot application, I am using the below version in pom.xml. Java version is 17.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>My controller class,</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/common&quot;)\npublic class CommonController {\n\n  @GetMapping(&quot;/dashboard&quot;)\n  @PreAuthorize(&quot;hasRole('ROLE_MODERATOR') or hasRole('ROLE_ADMIN')&quot;)\n  public String userAccess() {\n    return &quot;Dash Board Sample.&quot;;\n  }\n}\n</code></pre>\n<p>Although I am using @PreAuthorize at the method level, I want to limit access for the url pattern <strong>/api/common/</strong>** to allow only users having the roles &quot;ROLE_USER&quot; or &quot;ROLE_MODERATOR&quot; or &quot;ROLE_ADMIN&quot;. But it is not working and giving me 401 when using hasAnyAuthority or hasAnyRole in the filter chain.</p>\n<p>Here is my entire SecurityConfig class and I am using the filter chain as follows.</p>\n<pre><code>import com.example.authservicedemo.security.jwt.AuthTokenFilter;\nimport com.example.authservicedemo.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n\n    @Value(&quot;${spring.security.debug:false}&quot;)\n    boolean securityDebug;\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/login/**&quot;)\n                .anonymous()\n                .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/test/**&quot;).permitAll()\n                //.requestMatchers(&quot;/api/common/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/common/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;, &quot;ROLE_MODERATOR&quot;, &quot;ROLE_ADMIN&quot;)\n                 //.requestMatchers(&quot;/api/common/**&quot;) .hasAnyRole(&quot;USER&quot;, &quot;MODERATOR&quot;, &quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.debug(securityDebug)\n                .ignoring()\n                .requestMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\n    }\n}\n</code></pre>\n<p>But it gives me 401 error when I access the API.</p>\n<pre><code>    curl --location 'http://localhost:8080/api/common/dashboard' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY5MTAzNDk4OSwiZXhwIjoxNjkxMTIxMzg5LCJyb2xlcyI6WyJQXzEiLCJQXzMiLCJBXzEiLCJBXzIiLCJBXzMiLCJBXzQiLCJBXzUiLCJST0xFX0FETUlOIl19.8Fp6OPBMsredmLEi2RdB0Bkg0Oa1S_k869mx25CJxEjD01ePys7J7E7mWHRmeeKFMX_ybeDpdK_5loT26eBMAQ'\n</code></pre>\n<p>When I uncomment the line <strong>.requestMatchers(&quot;/api/common/</strong>&quot;).permitAll()** this works well with the method level security @PreAuthorize.\nSo, how can I limit access to specific URL patterns for users with specific roles?</p>\n<p>I cannot figure out what I am doing wrong. Your response would be really appreciated.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691049178,"creation_date":1691049178,"answer_id":76825945,"question_id":76824636,"body_markdown":"Unfortunately this is not possible with this specific client today, as it&#39;s a new release and only released to the low level clients initially. \r\n\r\nWhile I can&#39;t speak directly for the SDK team, I would be skeptical that it would be added to this library as it is based on SDK V1 while it&#39;s suggested that users should migrate to SDK V2 libraries where features will be more likely to be implemented. ","title":"DynamoDB UpdateItem to use ReturnValuesOnConditionCheckFailure with UpdateItemSpec","body":"<p>Unfortunately this is not possible with this specific client today, as it's a new release and only released to the low level clients initially.</p>\n<p>While I can't speak directly for the SDK team, I would be skeptical that it would be added to this library as it is based on SDK V1 while it's suggested that users should migrate to SDK V2 libraries where features will be more likely to be implemented.</p>\n"}],"owner":{"account_id":28576739,"reputation":224,"user_id":21878238,"display_name":"Bolong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691049178,"creation_date":1691031376,"question_id":76824636,"body_markdown":"We have some existing code that calls DynamoDB using this &quot;medium-level&quot; Java client, and the arguments are provided through this spec class: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html. You can find many examples of how this is used [here](http://www.java2s.com/example/java-api/com/amazonaws/services/dynamodbv2/document/spec/updateitemspec/updateitemspec-0-1.html). For example:\r\n\r\n```java\r\n@Override\r\npublic void announce(long stateVersion) {\r\n    Table table = dynamoDB.getTable(tableName);\r\n\r\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec().withPrimaryKey(&quot;namespace&quot;, blobNamespace)\r\n            .withUpdateExpression(&quot;set #version = :ver&quot;).withNameMap(new NameMap().with(&quot;#version&quot;, &quot;version&quot;))\r\n            .withValueMap(new ValueMap().withNumber(&quot;:ver&quot;, stateVersion));\r\n\r\n    table.updateItem(updateItemSpec);\r\n}\r\n```\r\n\r\nRecently DynamoDB added a feature that allows UpdateItem to return the old item data in the case of conditional check failures, by providing this arg in UpdateItem request: `ReturnValuesOnConditionCheckFailure`, see https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html.\r\n\r\nHow should I use this in `UpdateItemSpec`?\r\n\r\nI did not find documentation for this so there is nothing I can try. My goal is to be able to use `ReturnValuesOnConditionCheckFailure` for debugging purpose when conditional failures happen. I&#39;d like to know if it is possible to achieve this without switching to the low-level client that uses `UpdateItemRequest` instead of `UpdateItemSpec`. Also, if possible, does DynamoDB plan to update this `UpdateItemSpec` to support this.","title":"DynamoDB UpdateItem to use ReturnValuesOnConditionCheckFailure with UpdateItemSpec","body":"<p>We have some existing code that calls DynamoDB using this &quot;medium-level&quot; Java client, and the arguments are provided through this spec class: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/spec/UpdateItemSpec.html</a>. You can find many examples of how this is used <a href=\"http://www.java2s.com/example/java-api/com/amazonaws/services/dynamodbv2/document/spec/updateitemspec/updateitemspec-0-1.html\" rel=\"nofollow noreferrer\">here</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void announce(long stateVersion) {\n    Table table = dynamoDB.getTable(tableName);\n\n    UpdateItemSpec updateItemSpec = new UpdateItemSpec().withPrimaryKey(&quot;namespace&quot;, blobNamespace)\n            .withUpdateExpression(&quot;set #version = :ver&quot;).withNameMap(new NameMap().with(&quot;#version&quot;, &quot;version&quot;))\n            .withValueMap(new ValueMap().withNumber(&quot;:ver&quot;, stateVersion));\n\n    table.updateItem(updateItemSpec);\n}\n</code></pre>\n<p>Recently DynamoDB added a feature that allows UpdateItem to return the old item data in the case of conditional check failures, by providing this arg in UpdateItem request: <code>ReturnValuesOnConditionCheckFailure</code>, see <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html</a>.</p>\n<p>How should I use this in <code>UpdateItemSpec</code>?</p>\n<p>I did not find documentation for this so there is nothing I can try. My goal is to be able to use <code>ReturnValuesOnConditionCheckFailure</code> for debugging purpose when conditional failures happen. I'd like to know if it is possible to achieve this without switching to the low-level client that uses <code>UpdateItemRequest</code> instead of <code>UpdateItemSpec</code>. Also, if possible, does DynamoDB plan to update this <code>UpdateItemSpec</code> to support this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":3,"creation_date":1690983335,"post_id":76820411,"comment_id":135428876,"body_markdown":"Maybe you&#39;re looking for the word &quot;locked&quot; instead of &quot;opened&quot;?","body":"Maybe you&#39;re looking for the word &quot;locked&quot; instead of &quot;opened&quot;?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1690983408,"post_id":76820411,"comment_id":135428904,"body_markdown":"It depends on the file system. All major file system _except_ the common one used by the Microsoft Windows OS simply do not have this as a concept. Yes, there&#39;s such a thing as &#39;file is open&#39;, but you can delete, change, etc an opened file just fine. Hence, &#39;independent of operating system&#39; is a bizarre rider here - __if__ you work on the presumption &#39;open file = can&#39;t delete&#39;, which doesn&#39;t hold across OSes.","body":"It depends on the file system. All major file system <i>except</i> the common one used by the Microsoft Windows OS simply do not have this as a concept. Yes, there&#39;s such a thing as &#39;file is open&#39;, but you can delete, change, etc an opened file just fine. Hence, &#39;independent of operating system&#39; is a bizarre rider here - <b>if</b> you work on the presumption &#39;open file = can&#39;t delete&#39;, which doesn&#39;t hold across OSes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1690984548,"post_id":76820411,"comment_id":135429218,"body_markdown":"The answer for this in Java is more than likely to .... not use Java. You&#39;d be writing a native hook one way or another (JNI/JNA to access Windows&#39; header files, or `flock`/other options on *nix). `nio` has `FileChannel` and consequently `FileLock`, but this won&#39;t necessarily be respected by the entire OS for every OS. Overall this reads like an [XY Problem](https://xyproblem.info/): why do you need to do this?","body":"The answer for this in Java is more than likely to .... not use Java. You&#39;d be writing a native hook one way or another (JNI/JNA to access Windows&#39; header files, or <code>flock</code>/other options on *nix). <code>nio</code> has <code>FileChannel</code> and consequently <code>FileLock</code>, but this won&#39;t necessarily be respected by the entire OS for every OS. Overall this reads like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>: why do you need to do this?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1690984708,"post_id":76820411,"comment_id":135429265,"body_markdown":"The File class has some methods which can provide a hint (canRead(), canWrite()), but as other said there is no fool proof way. The &quot;best&quot; way to deal with the possibility of files being locked or inaccessible due to user rights is to be reactive - proper error handling. Assume every file operation can fail.","body":"The File class has some methods which can provide a hint (canRead(), canWrite()), but as other said there is no fool proof way. The &quot;best&quot; way to deal with the possibility of files being locked or inaccessible due to user rights is to be reactive - proper error handling. Assume every file operation can fail."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1690985665,"post_id":76820411,"comment_id":135429517,"body_markdown":"Similar methods are present in `java.nio.file.Files`, those are `isWritable(Path)`, `isReadable(path)` and several more. Try them on windows…","body":"Similar methods are present in <code>java.nio.file.Files</code>, those are <code>isWritable(Path)</code>, <code>isReadable(path)</code> and several more. Try them on windows…"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1690985854,"post_id":76820411,"comment_id":135429574,"body_markdown":"What are you trying to do? Why do you need to find all open / locked files? Sounds a bit like a [xy problem](https://xyproblem.info/).","body":"What are you trying to do? Why do you need to find all open / locked files? Sounds a bit like a <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"score":0,"creation_date":1691000720,"post_id":76820411,"comment_id":135432762,"body_markdown":"Thanks for all your comments. I&#39;ve added a little explanation of the reason for my question to the description.","body":"Thanks for all your comments. I&#39;ve added a little explanation of the reason for my question to the description."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1691061128,"post_id":76820411,"comment_id":135442028,"body_markdown":"I wouldn&#39;t really know exactly how to make one so I can&#39;t answer, but if you look at the most prolific Java application of all - Minecraft Java Edition, it uses a separate launcher application which will manage downloading and applying updates. To do such a thing in Java I guess it would involve writing a small wrapper application which can fork the actual main Java application as a new process. If you can start and stop the process programmatically you do not even have to worry about system resources being locked or not.","body":"I wouldn&#39;t really know exactly how to make one so I can&#39;t answer, but if you look at the most prolific Java application of all - Minecraft Java Edition, it uses a separate launcher application which will manage downloading and applying updates. To do such a thing in Java I guess it would involve writing a small wrapper application which can fork the actual main Java application as a new process. If you can start and stop the process programmatically you do not even have to worry about system resources being locked or not."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1691066609,"post_id":76820411,"comment_id":135443214,"body_markdown":"In fact, at least at one time, if the Minecraft launcher hit a locked file it couldn&#39;t delete, it would show an error to the user (usually along the lines of &quot;Minecraft is currently running&quot;). There&#39;s no need there for the check, you simply respond to the error conditions.","body":"In fact, at least at one time, if the Minecraft launcher hit a locked file it couldn&#39;t delete, it would show an error to the user (usually along the lines of &quot;Minecraft is currently running&quot;). There&#39;s no need there for the check, you simply respond to the error conditions."}],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691049035,"creation_date":1690983051,"question_id":76820411,"body_markdown":"What is the best way in Java to find out whether any file of a certain directory (including subdirectories) is open? I&#39;m not really sure whether &quot;open&quot; is the best expression for what I mean, I mean I cannot delete, rename or write that file because someone else has already &quot;locked&quot; it. Of course the solution should work independent of the operating system. \r\n\r\nThe reason why I need is because I have a Java Desktop-App (developed using Swing) which shall provide an auto-update feature. Therefore the app shall download a zip file from an HTTP server and try to unpack the zip to the app directory. At least under Windows that&#39;s not easily possible because the jar files of the app cannot be overwritten while the app itself is running. Therefore the update files will first be unzipped to a temp folder, the app will then be rerun in that temp folder and copies the contents of the temp folder to the app directory. After that the app will be rerun again in the app folder.\r\n\r\nNow the problem: Before the contents of the temp folder are copied to the app folder it would be great to check whether all files in the app folder can potentially be overwritten. And that&#39;s why I have asked the question above. I know that even if such a check is possible it is not a 100% guarantee that the copy process will succeed, but at least would be a quite high chance that it will succeed.","title":"How can I find out in Java whether any file of a certain directory is open?","body":"<p>What is the best way in Java to find out whether any file of a certain directory (including subdirectories) is open? I'm not really sure whether &quot;open&quot; is the best expression for what I mean, I mean I cannot delete, rename or write that file because someone else has already &quot;locked&quot; it. Of course the solution should work independent of the operating system.</p>\n<p>The reason why I need is because I have a Java Desktop-App (developed using Swing) which shall provide an auto-update feature. Therefore the app shall download a zip file from an HTTP server and try to unpack the zip to the app directory. At least under Windows that's not easily possible because the jar files of the app cannot be overwritten while the app itself is running. Therefore the update files will first be unzipped to a temp folder, the app will then be rerun in that temp folder and copies the contents of the temp folder to the app directory. After that the app will be rerun again in the app folder.</p>\n<p>Now the problem: Before the contents of the temp folder are copied to the app folder it would be great to check whether all files in the app folder can potentially be overwritten. And that's why I have asked the question above. I know that even if such a check is possible it is not a 100% guarantee that the copy process will succeed, but at least would be a quite high chance that it will succeed.</p>\n"},{"tags":["java","spring-boot","amazon-ec2","port"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691049457,"post_id":76825932,"comment_id":135439554,"body_markdown":"How are you deploying to AWS? Are yo using the embedded container or are you uploading a war file and use a standalone servlet container? If it is the latter the `server.*` properties are ignored as Spring Boot cannot control an external servlet container instance.","body":"How are you deploying to AWS? Are yo using the embedded container or are you uploading a war file and use a standalone servlet container? If it is the latter the <code>server.*</code> properties are ignored as Spring Boot cannot control an external servlet container instance."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691050968,"post_id":76825932,"comment_id":135439858,"body_markdown":"I am deploying my Spring Boot application to AWS by using a self-contained JAR file that includes an embedded servlet container, and running it using the java -jar command.","body":"I am deploying my Spring Boot application to AWS by using a self-contained JAR file that includes an embedded servlet container, and running it using the java -jar command."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691051587,"post_id":76825932,"comment_id":135439978,"body_markdown":"Do you see the application being started with port 8081? Or can you access it on 8080 when you set `server.port=8081`? Just to check if it gets overridden by something else.","body":"Do you see the application being started with port 8081? Or can you access it on 8080 when you set <code>server.port=8081</code>? Just to check if it gets overridden by something else."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691054478,"post_id":76825932,"comment_id":135440605,"body_markdown":"I use `java -jar xxx.jar --server.port=8081` and it shows `Tomcat started on port(s): 8081 (http) with context path &#39;&#39;` in the log. But still can&#39;t connect neither 8080 nor 8081 using Postman. When I start the same jar package on my machine, 8080 and 8081 are both OK.","body":"I use <code>java -jar xxx.jar --server.port=8081</code> and it shows <code>Tomcat started on port(s): 8081 (http) with context path &#39;&#39;</code> in the log. But still can&#39;t connect neither 8080 nor 8081 using Postman. When I start the same jar package on my machine, 8080 and 8081 are both OK."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691054594,"post_id":76825932,"comment_id":135440629,"body_markdown":"Then it must be something in the routing/firewall rules on AWS as the app starts and apparently nothing is overriding the port so it starts on the configured one.","body":"Then it must be something in the routing/firewall rules on AWS as the app starts and apparently nothing is overriding the port so it starts on the configured one."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1691056761,"post_id":76825932,"comment_id":135441148,"body_markdown":"Now I edit `/etc/sysconfig/iptables` and add 8081 to the list, and it works. Thanks for help","body":"Now I edit <code>&#47;etc&#47;sysconfig&#47;iptables</code> and add 8081 to the list, and it works. Thanks for help"}],"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691048986,"creation_date":1691048986,"question_id":76825932,"body_markdown":"I have a Spring Boot backend application that by default runs on port 8080. I&#39;ve changed the port to 8081 in the `application.properties` file and it works perfectly on my local machine. I can successfully access my application&#39;s endpoints, such as `http://localhost:8081/login/go`, using Postman.\r\n\r\nHowever, when I deploy the same application to an AWS EC2 instance and try to access the same endpoint (replacing localhost with the EC2 instance&#39;s public IP, `http://16.163.58.122:8081/login/go`), I&#39;m unable to reach it. There are no logs indicating that the server has received the request from Postman. \r\n\r\nInterestingly, if I change the port back to 8080 and try to access the endpoint `http://16.163.58.122:8080/login/go`, I&#39;m able to reach the server&#39;s login interface again.\r\n\r\n\r\n\r\n\r\nAnd it seems that the security group permits 8081 port\r\n[![enter image description here](https://i.stack.imgur.com/stHMK.png)](https://i.stack.imgur.com/stHMK.png)\r\nPort seems not being used by any other process.\r\n[![enter image description here](https://i.stack.imgur.com/VFJNK.png)](https://i.stack.imgur.com/VFJNK.png)\r\nAnd I tried other different port, seems only 8080 can connect.\r\nI&#39;m not sure why this is happening. Any help would be greatly appreciated.","title":"Spring Boot application port change works locally but not on AWS EC2","body":"<p>I have a Spring Boot backend application that by default runs on port 8080. I've changed the port to 8081 in the <code>application.properties</code> file and it works perfectly on my local machine. I can successfully access my application's endpoints, such as <code>http://localhost:8081/login/go</code>, using Postman.</p>\n<p>However, when I deploy the same application to an AWS EC2 instance and try to access the same endpoint (replacing localhost with the EC2 instance's public IP, <code>http://16.163.58.122:8081/login/go</code>), I'm unable to reach it. There are no logs indicating that the server has received the request from Postman.</p>\n<p>Interestingly, if I change the port back to 8080 and try to access the endpoint <code>http://16.163.58.122:8080/login/go</code>, I'm able to reach the server's login interface again.</p>\n<p>And it seems that the security group permits 8081 port\n<a href=\"https://i.stack.imgur.com/stHMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stHMK.png\" alt=\"enter image description here\" /></a>\nPort seems not being used by any other process.\n<a href=\"https://i.stack.imgur.com/VFJNK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFJNK.png\" alt=\"enter image description here\" /></a>\nAnd I tried other different port, seems only 8080 can connect.\nI'm not sure why this is happening. Any help would be greatly appreciated.</p>\n"},{"tags":["java","arrays","hex"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":17,"creation_date":1331471343,"post_id":9655181,"comment_id":12260731,"body_markdown":"Why not just give it a try first and show us what you&#39;ve got. You&#39;ve nothing to lose and all to gain. Integer has a `toHexString(...)` method that may help if this is what you&#39;re looking for. Also `String.format(...)` can do some neat formatting tricks using the `%2x` code string.","body":"Why not just give it a try first and show us what you&#39;ve got. You&#39;ve nothing to lose and all to gain. Integer has a <code>toHexString(...)</code> method that may help if this is what you&#39;re looking for. Also <code>String.format(...)</code> can do some neat formatting tricks using the <code>%2x</code> code string."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":2,"creation_date":1392366539,"post_id":9655181,"comment_id":32941215,"body_markdown":"possible duplicate of [In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?](http://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-l)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-l\">In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?</a>"},{"owner":{"account_id":7946018,"reputation":563,"user_id":5998529,"display_name":"tibetty"},"score":1,"creation_date":1570672779,"post_id":9655181,"comment_id":102989458,"body_markdown":"With the help of stream in Java 8, it can be simply implemented as:\nstatic String byteArrayToHex(byte[] a) {\n        return IntStream.range(0, a.length)\n                .mapToObj(i -&gt; String.format(&quot;%02x&quot;, a[i]))\n                .reduce((acc, v) -&gt; acc + &quot; &quot; + v)\n                .get();\n    }","body":"With the help of stream in Java 8, it can be simply implemented as: static String byteArrayToHex(byte[] a) {         return IntStream.range(0, a.length)                 .mapToObj(i -&gt; String.format(&quot;%02x&quot;, a[i]))                 .reduce((acc, v) -&gt; acc + &quot; &quot; + v)                 .get();     }"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":10,"creation_date":1622150211,"post_id":9655181,"comment_id":119716710,"body_markdown":"Java 17 to the rescue: `HexFormat.of().formatHex(bytes)`","body":"Java 17 to the rescue: <code>HexFormat.of().formatHex(bytes)</code>"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665486212,"post_id":9655181,"comment_id":130706593,"body_markdown":"@tibetty You really call that &quot;simple&quot;?","body":"@tibetty You really call that &quot;simple&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":325090,"reputation":932,"user_id":1246988,"display_name":"Michael Bisbjerg"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1331471464,"creation_date":1331471464,"answer_id":9655224,"question_id":9655181,"body_markdown":"I found three different ways here:\r\nhttp://www.rgagnon.com/javadetails/java-0596.html\r\n\r\nThe most elegant one, as he also notes, I think is this one:\r\n\r\n    static final String HEXES = &quot;0123456789ABCDEF&quot;;\r\n    public static String getHex( byte [] raw ) {\r\n    \tif ( raw == null ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tfinal StringBuilder hex = new StringBuilder( 2 * raw.length );\r\n    \tfor ( final byte b : raw ) {\r\n    \t\thex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\r\n    \t\t\t.append(HEXES.charAt((b &amp; 0x0F)));\r\n    \t}\r\n    \treturn hex.toString();\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>I found three different ways here:\n<a href=\"http://www.rgagnon.com/javadetails/java-0596.html\">http://www.rgagnon.com/javadetails/java-0596.html</a></p>\n\n<p>The most elegant one, as he also notes, I think is this one:</p>\n\n<pre><code>static final String HEXES = \"0123456789ABCDEF\";\npublic static String getHex( byte [] raw ) {\n    if ( raw == null ) {\n        return null;\n    }\n    final StringBuilder hex = new StringBuilder( 2 * raw.length );\n    for ( final byte b : raw ) {\n        hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\n            .append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379186,"reputation":9066,"user_id":732379,"accept_rate":45,"display_name":"chooban"},"down_vote_count":6,"up_vote_count":537,"is_accepted":false,"score":531,"last_activity_date":1566592216,"creation_date":1331471884,"answer_id":9655275,"question_id":9655181,"body_markdown":"The [Apache Commons Codec][1] library has a [Hex][2] class for doing just this type of work.\r\n\r\n    import org.apache.commons.codec.binary.Hex;\r\n\r\n    String foo = &quot;I am a string&quot;;\r\n    byte[] bytes = foo.getBytes();\r\n    System.out.println( Hex.encodeHexString( bytes ) );\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/\r\n  [2]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html","title":"Java: convert a byte array to a hex string?","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\">Apache Commons Codec</a> library has a <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html\" rel=\"noreferrer\">Hex</a> class for doing just this type of work.</p>\n\n<pre><code>import org.apache.commons.codec.binary.Hex;\n\nString foo = \"I am a string\";\nbyte[] bytes = foo.getBytes();\nSystem.out.println( Hex.encodeHexString( bytes ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1343475,"reputation":15490,"user_id":1284661,"display_name":"maybeWeCouldStealAVan"},"down_vote_count":10,"up_vote_count":1075,"is_accepted":true,"score":1065,"last_activity_date":1599121018,"creation_date":1332621134,"answer_id":9855338,"question_id":9655181,"body_markdown":"From the discussion [here][1], and especially [this][2] answer, this is the function I currently use:\r\n\r\n    private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\nMy own tiny benchmarks (a million bytes a thousand times, 256 bytes 10 million times) showed it to be much faster than any other alternative, about half the time on long arrays.  Compared to the answer I took it from, switching to bitwise ops --- as suggested in the discussion --- cut about 20% off of the time for long arrays. (Edit: When I say it&#39;s faster than the alternatives, I mean the alternative code offered in the discussions. Performance is equivalent to Commons Codec, which uses very similar code.)\r\n\r\n2k20 version, with respect to Java 9 compact strings:\r\n\r\n    private static final byte[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.getBytes(StandardCharsets.US_ASCII);\r\n    public static String bytesToHex(byte[] bytes) {\r\n        byte[] hexChars = new byte[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars, StandardCharsets.UTF_8);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/q/332079/1284661\r\n  [2]: https://stackoverflow.com/a/2197650/1284661\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>From the discussion <a href=\"https://stackoverflow.com/q/332079/1284661\">here</a>, and especially <a href=\"https://stackoverflow.com/a/2197650/1284661\">this</a> answer, this is the function I currently use:</p>\n<pre><code>private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\npublic static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n<p>My own tiny benchmarks (a million bytes a thousand times, 256 bytes 10 million times) showed it to be much faster than any other alternative, about half the time on long arrays.  Compared to the answer I took it from, switching to bitwise ops --- as suggested in the discussion --- cut about 20% off of the time for long arrays. (Edit: When I say it's faster than the alternatives, I mean the alternative code offered in the discussions. Performance is equivalent to Commons Codec, which uses very similar code.)</p>\n<p>2k20 version, with respect to Java 9 compact strings:</p>\n<pre><code>private static final byte[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.getBytes(StandardCharsets.US_ASCII);\npublic static String bytesToHex(byte[] bytes) {\n    byte[] hexChars = new byte[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars, StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"down_vote_count":7,"up_vote_count":294,"is_accepted":false,"score":287,"last_activity_date":1484303506,"creation_date":1350891482,"answer_id":13006907,"question_id":9655181,"body_markdown":"Simplest solution, no external libs, no digits constants:\r\n\r\n    public static String byteArrayToHex(byte[] a) {\r\n       StringBuilder sb = new StringBuilder(a.length * 2);\r\n       for(byte b: a)\r\n          sb.append(String.format(&quot;%02x&quot;, b));\r\n       return sb.toString();\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Simplest solution, no external libs, no digits constants:</p>\n\n<pre><code>public static String byteArrayToHex(byte[] a) {\n   StringBuilder sb = new StringBuilder(a.length * 2);\n   for(byte b: a)\n      sb.append(String.format(\"%02x\", b));\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1213919,"reputation":2727,"user_id":1181919,"accept_rate":75,"display_name":"everconfusedGuy"},"down_vote_count":17,"up_vote_count":64,"is_accepted":false,"score":47,"last_activity_date":1420428064,"creation_date":1352043052,"answer_id":13219952,"question_id":9655181,"body_markdown":"This simple oneliner works for me&lt;br&gt;\r\n    &lt;code&gt;String result = new BigInteger(1, inputBytes).toString(16); &lt;/code&gt; &lt;br&gt;\r\nEDIT - Using this will remove the leading zeros, but hey worked for my use-case. Thanks @Voicu for pointing it out","title":"Java: convert a byte array to a hex string?","body":"<p>This simple oneliner works for me<br>\n    <code>String result = new BigInteger(1, inputBytes).toString(16); </code> <br>\nEDIT - Using this will remove the leading zeros, but hey worked for my use-case. Thanks @Voicu for pointing it out</p>\n"},{"tags":[],"owner":{"account_id":2688508,"reputation":13,"user_id":2322338,"display_name":"BluePurse"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1366950711,"creation_date":1366950711,"answer_id":16228804,"question_id":9655181,"body_markdown":"// Shifting bytes is more efficient\r\n// You can use this one too\t\r\n\r\n\tpublic static String getHexString (String s) \r\n\t{\r\n\t\tbyte[] buf = s.getBytes();\r\n\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\t\r\n\t\tfor (byte b:buf)\r\n\t\t{\r\n\t\t\tsb.append(String.format(&quot;%x&quot;, b));\r\n\t\t}\r\n\t\t\r\n\r\n        \treturn sb.toString();\r\n\t}","title":"Java: convert a byte array to a hex string?","body":"<p>// Shifting bytes is more efficient\n// You can use this one too </p>\n\n<pre><code>public static String getHexString (String s) \n{\n    byte[] buf = s.getBytes();\n\n    StringBuffer sb = new StringBuffer();\n\n    for (byte b:buf)\n    {\n        sb.append(String.format(\"%x\", b));\n    }\n\n\n        return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215110,"reputation":310,"user_id":1182868,"display_name":"higginse"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1390995350,"creation_date":1390995350,"answer_id":21429909,"question_id":9655181,"body_markdown":"At the minor cost of storing the lookup table this implementation is simple and very fast.\r\n\r\n     private static final char[] BYTE2HEX=(\r\n        &quot;000102030405060708090A0B0C0D0E0F&quot;+\r\n        &quot;101112131415161718191A1B1C1D1E1F&quot;+\r\n        &quot;202122232425262728292A2B2C2D2E2F&quot;+\r\n        &quot;303132333435363738393A3B3C3D3E3F&quot;+\r\n        &quot;404142434445464748494A4B4C4D4E4F&quot;+\r\n        &quot;505152535455565758595A5B5C5D5E5F&quot;+\r\n        &quot;606162636465666768696A6B6C6D6E6F&quot;+\r\n        &quot;707172737475767778797A7B7C7D7E7F&quot;+\r\n        &quot;808182838485868788898A8B8C8D8E8F&quot;+\r\n        &quot;909192939495969798999A9B9C9D9E9F&quot;+\r\n        &quot;A0A1A2A3A4A5A6A7A8A9AAABACADAEAF&quot;+\r\n        &quot;B0B1B2B3B4B5B6B7B8B9BABBBCBDBEBF&quot;+\r\n        &quot;C0C1C2C3C4C5C6C7C8C9CACBCCCDCECF&quot;+\r\n        &quot;D0D1D2D3D4D5D6D7D8D9DADBDCDDDEDF&quot;+\r\n        &quot;E0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF&quot;+\r\n        &quot;F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF&quot;).toCharArray();\r\n       ; \r\n       \r\n      public static String getHexString(byte[] bytes) {\r\n        final int len=bytes.length;\r\n        final char[] chars=new char[len&lt;&lt;1];\r\n        int hexIndex;\r\n        int idx=0;\r\n        int ofs=0;\r\n        while (ofs&lt;len) {\r\n          hexIndex=(bytes[ofs++] &amp; 0xFF)&lt;&lt;1;\r\n          chars[idx++]=BYTE2HEX[hexIndex++];\r\n          chars[idx++]=BYTE2HEX[hexIndex];\r\n        }\r\n        return new String(chars);\r\n      }\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>At the minor cost of storing the lookup table this implementation is simple and very fast.</p>\n\n<pre><code> private static final char[] BYTE2HEX=(\n    \"000102030405060708090A0B0C0D0E0F\"+\n    \"101112131415161718191A1B1C1D1E1F\"+\n    \"202122232425262728292A2B2C2D2E2F\"+\n    \"303132333435363738393A3B3C3D3E3F\"+\n    \"404142434445464748494A4B4C4D4E4F\"+\n    \"505152535455565758595A5B5C5D5E5F\"+\n    \"606162636465666768696A6B6C6D6E6F\"+\n    \"707172737475767778797A7B7C7D7E7F\"+\n    \"808182838485868788898A8B8C8D8E8F\"+\n    \"909192939495969798999A9B9C9D9E9F\"+\n    \"A0A1A2A3A4A5A6A7A8A9AAABACADAEAF\"+\n    \"B0B1B2B3B4B5B6B7B8B9BABBBCBDBEBF\"+\n    \"C0C1C2C3C4C5C6C7C8C9CACBCCCDCECF\"+\n    \"D0D1D2D3D4D5D6D7D8D9DADBDCDDDEDF\"+\n    \"E0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF\"+\n    \"F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF\").toCharArray();\n   ; \n\n  public static String getHexString(byte[] bytes) {\n    final int len=bytes.length;\n    final char[] chars=new char[len&lt;&lt;1];\n    int hexIndex;\n    int idx=0;\n    int ofs=0;\n    while (ofs&lt;len) {\n      hexIndex=(bytes[ofs++] &amp; 0xFF)&lt;&lt;1;\n      chars[idx++]=BYTE2HEX[hexIndex++];\n      chars[idx++]=BYTE2HEX[hexIndex];\n    }\n    return new String(chars);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"down_vote_count":3,"up_vote_count":351,"is_accepted":false,"score":348,"last_activity_date":1566591450,"creation_date":1393256240,"answer_id":21992128,"question_id":9655181,"body_markdown":"The method [**`javax.xml.bind.DatatypeConverter.printHexBinary()`**](https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-), part of the [Java Architecture for XML Binding (JAXB)](https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding), was a convenient way to convert a `byte[]` to a hex string. The [`DatatypeConverter`](https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html) class also included many other useful data-manipulation methods.\r\n\r\nIn Java 8 and earlier, JAXB was part of the Java standard library. It was **[deprecated](https://cr.openjdk.java.net/~iris/se/9/java-se-9-fr-spec/#APIs-proposed-for-removal) with Java 9 and [removed](https://openjdk.java.net/jeps/320) with Java 11**, as part of an effort to move all Java EE packages into their own libraries. [It&#39;s a long story](https://www.jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/). Now, `javax.xml.bind` doesn&#39;t exist, and if you want to use JAXB, which contains `DatatypeConverter`, you&#39;ll need to install the [JAXB API](https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.4.0-b180830.0359) and [JAXB Runtime](https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.4.0-b180830.0438) from Maven.\r\n\r\nExample usage:\r\n\r\n    byte bytes[] = {(byte)0, (byte)0, (byte)134, (byte)0, (byte)61};\r\n    String hex = javax.xml.bind.DatatypeConverter.printHexBinary(bytes);\r\n\r\nWill result in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    000086003D\r\n\r\nThis answer the same as [this one][1].\r\n\r\n  [1]: https://stackoverflow.com/a/14552724","title":"Java: convert a byte array to a hex string?","body":"<p>The method <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-\" rel=\"noreferrer\"><strong><code>javax.xml.bind.DatatypeConverter.printHexBinary()</code></strong></a>, part of the <a href=\"https://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\" rel=\"noreferrer\">Java Architecture for XML Binding (JAXB)</a>, was a convenient way to convert a <code>byte[]</code> to a hex string. The <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"noreferrer\"><code>DatatypeConverter</code></a> class also included many other useful data-manipulation methods.</p>\n\n<p>In Java 8 and earlier, JAXB was part of the Java standard library. It was <strong><a href=\"https://cr.openjdk.java.net/~iris/se/9/java-se-9-fr-spec/#APIs-proposed-for-removal\" rel=\"noreferrer\">deprecated</a> with Java 9 and <a href=\"https://openjdk.java.net/jeps/320\" rel=\"noreferrer\">removed</a> with Java 11</strong>, as part of an effort to move all Java EE packages into their own libraries. <a href=\"https://www.jesperdj.com/2018/09/30/jaxb-on-java-9-10-11-and-beyond/\" rel=\"noreferrer\">It's a long story</a>. Now, <code>javax.xml.bind</code> doesn't exist, and if you want to use JAXB, which contains <code>DatatypeConverter</code>, you'll need to install the <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.4.0-b180830.0359\" rel=\"noreferrer\">JAXB API</a> and <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.4.0-b180830.0438\" rel=\"noreferrer\">JAXB Runtime</a> from Maven.</p>\n\n<p>Example usage:</p>\n\n<pre><code>byte bytes[] = {(byte)0, (byte)0, (byte)134, (byte)0, (byte)61};\nString hex = javax.xml.bind.DatatypeConverter.printHexBinary(bytes);\n</code></pre>\n\n<p>Will result in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>000086003D\n</code></pre>\n\n<p>This answer the same as <a href=\"https://stackoverflow.com/a/14552724\">this one</a>.</p>\n"},{"tags":[],"owner":{"account_id":2466333,"reputation":578,"user_id":2149348,"accept_rate":88,"display_name":"Snox"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1416171536,"creation_date":1398095298,"answer_id":23200748,"question_id":9655181,"body_markdown":"I usually use the following method for debuf statement, but i don&#39;t know if it is the best way of doing it or not\r\n\r\n    private static String digits = &quot;0123456789abcdef&quot;;\r\n\r\n    public static String toHex(byte[] data){\r\n        StringBuffer buf = new StringBuffer();\r\n        for (int i = 0; i != data.length; i++)\r\n        {\r\n            int v = data[i] &amp; 0xff;\r\n            buf.append(digits.charAt(v &gt;&gt; 4));\r\n            buf.append(digits.charAt(v &amp; 0xf));\r\n        }\r\n        return buf.toString();\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>I usually use the following method for debuf statement, but i don't know if it is the best way of doing it or not</p>\n\n<pre><code>private static String digits = \"0123456789abcdef\";\n\npublic static String toHex(byte[] data){\n    StringBuffer buf = new StringBuffer();\n    for (int i = 0; i != data.length; i++)\n    {\n        int v = data[i] &amp; 0xff;\n        buf.append(digits.charAt(v &gt;&gt; 4));\n        buf.append(digits.charAt(v &amp; 0xf));\n    }\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937319,"reputation":590,"user_id":966011,"accept_rate":77,"display_name":"Bamaco"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1403018582,"creation_date":1403018582,"answer_id":24267654,"question_id":9655181,"body_markdown":"I prefer to use this:\r\n\r\n    final protected static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes, int offset, int count) {\r\n\t    char[] hexChars = new char[count * 2];\r\n\t    for ( int j = 0; j &lt; count; j++ ) {\r\n\t        int v = bytes[j+offset] &amp; 0xFF;\r\n\t        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n\t        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n\t    }\r\n\t    return new String(hexChars);\r\n\t}\r\n\r\nIt is slightly more flexible adaptation of the accepted answer.\r\nPersonally, I keep both the accepted answer and this overload along with it, usable in more contexts.","title":"Java: convert a byte array to a hex string?","body":"<p>I prefer to use this:</p>\n\n<pre><code>final protected static char[] hexArray = \"0123456789ABCDEF\".toCharArray();\npublic static String bytesToHex(byte[] bytes, int offset, int count) {\n    char[] hexChars = new char[count * 2];\n    for ( int j = 0; j &lt; count; j++ ) {\n        int v = bytes[j+offset] &amp; 0xFF;\n        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n\n<p>It is slightly more flexible adaptation of the accepted answer.\nPersonally, I keep both the accepted answer and this overload along with it, usable in more contexts.</p>\n"},{"tags":[],"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1425473205,"creation_date":1425472783,"answer_id":28854762,"question_id":9655181,"body_markdown":"A small variant of the solution proposed by @maybewecouldstealavan, which lets you visually bundle N bytes together in the output hex string:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     final static char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n     final static char BUNDLE_SEP = &#39; &#39;;\r\n\r\n    public static String bytesToHexString(byte[] bytes, int bundleSize /*[bytes]*/]) {\r\n            char[] hexChars = new char[(bytes.length * 2) + (bytes.length / bundleSize)];\r\n            for (int j = 0, k = 1; j &lt; bytes.length; j++, k++) {\r\n                    int v = bytes[j] &amp; 0xFF;\r\n                    int start = (j * 2) + j/bundleSize;\r\n\r\n                    hexChars[start] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n                    hexChars[start + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n\r\n                    if ((k % bundleSize) == 0) {\r\n                            hexChars[start + 2] = BUNDLE_SEP;\r\n                    }   \r\n            }   \r\n            return new String(hexChars).trim();    \r\n    }\r\n\r\nThat is:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    bytesToHexString(&quot;..DOOM..&quot;.toCharArray().getBytes(), 2);\r\n    2E2E 444F 4F4D 2E2E\r\n\r\n    bytesToHexString(&quot;..DOOM..&quot;.toCharArray().getBytes(), 4);\r\n    2E2E444F 4F4D2E2E","title":"Java: convert a byte array to a hex string?","body":"<p>A small variant of the solution proposed by @maybewecouldstealavan, which lets you visually bundle N bytes together in the output hex string:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> final static char[] HEX_ARRAY = \"0123456789ABCDEF\".toCharArray();\n final static char BUNDLE_SEP = ' ';\n\npublic static String bytesToHexString(byte[] bytes, int bundleSize /*[bytes]*/]) {\n        char[] hexChars = new char[(bytes.length * 2) + (bytes.length / bundleSize)];\n        for (int j = 0, k = 1; j &lt; bytes.length; j++, k++) {\n                int v = bytes[j] &amp; 0xFF;\n                int start = (j * 2) + j/bundleSize;\n\n                hexChars[start] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n                hexChars[start + 1] = HEX_ARRAY[v &amp; 0x0F];\n\n                if ((k % bundleSize) == 0) {\n                        hexChars[start + 2] = BUNDLE_SEP;\n                }   \n        }   \n        return new String(hexChars).trim();    \n}\n</code></pre>\n\n<p>That is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>bytesToHexString(\"..DOOM..\".toCharArray().getBytes(), 2);\n2E2E 444F 4F4D 2E2E\n\nbytesToHexString(\"..DOOM..\".toCharArray().getBytes(), 4);\n2E2E444F 4F4D2E2E\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134131,"reputation":91,"user_id":3391143,"display_name":"Manan Bakshi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1443805603,"creation_date":1429656241,"answer_id":29784501,"question_id":9655181,"body_markdown":"How about this?\r\n    \r\n        String byteToHex(final byte[] hash)\r\n        {\r\n            Formatter formatter = new Formatter();\r\n            for (byte b : hash)\r\n            {\r\n                formatter.format(&quot;%02x&quot;, b);\r\n            }\r\n            String result = formatter.toString();\r\n            formatter.close();\r\n            return result;\r\n        }","title":"Java: convert a byte array to a hex string?","body":"<p>How about this?</p>\n\n<pre><code>    String byteToHex(final byte[] hash)\n    {\n        Formatter formatter = new Formatter();\n        for (byte b : hash)\n        {\n            formatter.format(\"%02x\", b);\n        }\n        String result = formatter.toString();\n        formatter.close();\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7293930,"reputation":1,"user_id":5559461,"display_name":"SkippsDev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447432323,"creation_date":1447429348,"answer_id":33696458,"question_id":9655181,"body_markdown":"If you&#39;re looking for a byte array exactly like this for python, I have converted this Java implementation into python.\r\n\r\n\r\n    class ByteArray:\r\n\r\n\t@classmethod\r\n\tdef char(cls, args=[]):\r\n\t\tcls.hexArray = &quot;0123456789ABCDEF&quot;.encode(&#39;utf-16&#39;)\r\n\t\tj = 0\r\n\t\tlength = (cls.hexArray)\r\n\r\n\t\tif j &lt; length:\r\n\t\t\tv = j &amp; 0xFF\r\n\t\t\thexChars = [None, None]\r\n\t\t\thexChars[j * 2] = str( cls.hexArray) + str(v)\r\n\t\t\thexChars[j * 2 + 1] = str(cls.hexArray) + str(v) + str(0x0F)\r\n\t\t\t# Use if you want...\r\n\t\t\t#hexChars.pop()\r\n\t\r\n\t\treturn str(hexChars)\r\n\r\n    array = ByteArray()\r\n    print array.char(args=[])","title":"Java: convert a byte array to a hex string?","body":"<p>If you're looking for a byte array exactly like this for python, I have converted this Java implementation into python.</p>\n\n<pre><code>class ByteArray:\n\n@classmethod\ndef char(cls, args=[]):\n    cls.hexArray = \"0123456789ABCDEF\".encode('utf-16')\n    j = 0\n    length = (cls.hexArray)\n\n    if j &lt; length:\n        v = j &amp; 0xFF\n        hexChars = [None, None]\n        hexChars[j * 2] = str( cls.hexArray) + str(v)\n        hexChars[j * 2 + 1] = str(cls.hexArray) + str(v) + str(0x0F)\n        # Use if you want...\n        #hexChars.pop()\n\n    return str(hexChars)\n\narray = ByteArray()\nprint array.char(args=[])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28164,"reputation":60109,"user_id":74939,"display_name":"Stephan202"},"down_vote_count":2,"up_vote_count":67,"is_accepted":false,"score":65,"last_activity_date":1460036081,"creation_date":1460036081,"answer_id":36477814,"question_id":9655181,"body_markdown":"A Guava solution, for completeness:\r\n\r\n    import com.google.common.io.BaseEncoding;\r\n    ...\r\n\tbyte[] bytes = &quot;Hello world&quot;.getBytes(StandardCharsets.UTF_8);\r\n\tfinal String hex = BaseEncoding.base16().lowerCase().encode(bytes);\r\n\r\nNow `hex` is `&quot;48656c6c6f20776f726c64&quot;`.","title":"Java: convert a byte array to a hex string?","body":"<p>A Guava solution, for completeness:</p>\n\n<pre><code>import com.google.common.io.BaseEncoding;\n...\nbyte[] bytes = \"Hello world\".getBytes(StandardCharsets.UTF_8);\nfinal String hex = BaseEncoding.base16().lowerCase().encode(bytes);\n</code></pre>\n\n<p>Now <code>hex</code> is <code>\"48656c6c6f20776f726c64\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":1003640,"reputation":8720,"user_id":1017917,"accept_rate":26,"display_name":"Soumyaansh"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1466528824,"creation_date":1463060621,"answer_id":37188787,"question_id":9655181,"body_markdown":"Use DataTypeConverter class`javax.xml.bind.DataTypeConverter`\r\n\r\n`String hexString = DatatypeConverter.printHexBinary(bytes[] raw);`\r\n\r\n\t","title":"Java: convert a byte array to a hex string?","body":"<p>Use DataTypeConverter class<code>javax.xml.bind.DataTypeConverter</code></p>\n\n<p><code>String hexString = DatatypeConverter.printHexBinary(bytes[] raw);</code></p>\n"},{"tags":[],"owner":{"account_id":2456831,"reputation":1967,"user_id":2243516,"display_name":"Aaron Cooley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473106530,"creation_date":1473106530,"answer_id":39337157,"question_id":9655181,"body_markdown":"Ok so there are a bunch of ways to do this, but if you decide to use a library I would suggest poking about in your project to see if something has been implemented in a library that is already part of your project before adding a new library just to do this.  For example if you don&#39;t already have \r\n\r\n&gt; org.apache.commons.codec.binary.Hex\r\n\r\nmaybe you do have...\r\n\r\n&gt; org.apache.xerces.impl.dv.util.HexBin\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Ok so there are a bunch of ways to do this, but if you decide to use a library I would suggest poking about in your project to see if something has been implemented in a library that is already part of your project before adding a new library just to do this.  For example if you don't already have </p>\n\n<blockquote>\n  <p>org.apache.commons.codec.binary.Hex</p>\n</blockquote>\n\n<p>maybe you do have...</p>\n\n<blockquote>\n  <p>org.apache.xerces.impl.dv.util.HexBin</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1485064827,"creation_date":1485064827,"answer_id":41787842,"question_id":9655181,"body_markdown":"I would use something like this for fixed length, like hashes:\r\n\r\n    md5sum = String.format(&quot;%032x&quot;, new BigInteger(1, md.digest()));\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>I would use something like this for fixed length, like hashes:</p>\n\n<pre><code>md5sum = String.format(\"%032x\", new BigInteger(1, md.digest()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227097,"reputation":738,"user_id":488552,"display_name":"田咖啡"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510244506,"creation_date":1510244506,"answer_id":47206795,"question_id":9655181,"body_markdown":"      public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n          data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n            + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n      return data;\r\n      } ","title":"Java: convert a byte array to a hex string?","body":"<pre><code>  public static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n      data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n        + Character.digit(s.charAt(i+1), 16));\n    }\n  return data;\n  } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518783,"reputation":1521,"user_id":2189544,"display_name":"fuweichin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610354582,"creation_date":1512306440,"answer_id":47618689,"question_id":9655181,"body_markdown":"Here is a `java.util.Base64`-like implementation, isn&#39;t it pretty?\r\n\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Base16/* a.k.a. Hex */ {\r\n        public static class Encoder{\r\n            private static char[] toLowerHex={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n            private static char[] toUpperHex={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n            private boolean upper;\r\n            public Encoder(boolean upper) {\r\n                this.upper=upper;\r\n            }\r\n            public String encode(byte[] data){\r\n                char[] value=new char[data.length*2];\r\n                char[] toHex=upper?toUpperHex:toLowerHex;\r\n                for(int i=0,j=0; i&lt;data.length; i++){\r\n                    int octet=data[i]&amp;0xFF;\r\n                    value[j++]=toHex[octet&gt;&gt;4];\r\n                    value[j++]=toHex[octet&amp;0xF];\r\n                }\r\n                return new String(value);\r\n            }\r\n            static final Encoder LOWER_CASE=new Encoder(false);\r\n            static final Encoder UPPER_CASE=new Encoder(true);\r\n        }\r\n        public static Encoder getEncoder(){\r\n            return Encoder.LOWER_CASE;\r\n        }\r\n        public static Encoder getUpperEncoder(){\r\n            return Encoder.UPPER_CASE;\r\n        }\r\n    \r\n        public static class Decoder{\r\n          private static int maxIndex=102;\r\n          private static int[] toIndex;\r\n          static {\r\n            toIndex=new int[maxIndex+1];\r\n            Arrays.fill(toIndex, -1);\r\n            char[] chars={&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n            for(int i=0; i&lt;chars.length; i++) {\r\n              toIndex[(int)chars[i]]=i;\r\n            }\r\n          }\r\n          public Decoder() {\r\n          }\r\n          public byte[] decode(String str) {\r\n              char[] value=str.toCharArray();\r\n              int start=0;\r\n              if(value.length&gt;2 &amp;&amp; value[0]==&#39;0&#39; &amp;&amp; (value[1]==&#39;x&#39; || value[1]==&#39;X&#39;)) {\r\n                start=2;\r\n              }\r\n              int byteLength=(value.length-start)/2; // ignore trailing odd char if exists\r\n              byte[] data=new byte[byteLength];\r\n              for(int i=start,j=0;i&lt;value.length;i+=2,j++){\r\n                  int i1;\r\n                  int i2;\r\n                  char c1=value[i];\r\n                  char c2=value[i+1];\r\n                  if(c1&gt;maxIndex || (i1=toIndex[(int)c1])&lt;0 || c2&gt;maxIndex || (i2=toIndex[(int)c2])&lt;0) {\r\n                    throw new IllegalArgumentException(&quot;Invalid character at &quot;+i);\r\n                  }\r\n                  data[j]=(byte)((i1&lt;&lt;4)+i2);\r\n              }\r\n              return data;\r\n          }\r\n          static final Decoder IGNORE_CASE=new Decoder();\r\n      }\r\n      public static Decoder getDecoder(){\r\n          return Decoder.IGNORE_CASE;\r\n      }\r\n    }\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Here is a <code>java.util.Base64</code>-like implementation, isn't it pretty?</p>\n<pre><code>import java.util.Arrays;\n\npublic class Base16/* a.k.a. Hex */ {\n    public static class Encoder{\n        private static char[] toLowerHex={'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};\n        private static char[] toUpperHex={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n        private boolean upper;\n        public Encoder(boolean upper) {\n            this.upper=upper;\n        }\n        public String encode(byte[] data){\n            char[] value=new char[data.length*2];\n            char[] toHex=upper?toUpperHex:toLowerHex;\n            for(int i=0,j=0; i&lt;data.length; i++){\n                int octet=data[i]&amp;0xFF;\n                value[j++]=toHex[octet&gt;&gt;4];\n                value[j++]=toHex[octet&amp;0xF];\n            }\n            return new String(value);\n        }\n        static final Encoder LOWER_CASE=new Encoder(false);\n        static final Encoder UPPER_CASE=new Encoder(true);\n    }\n    public static Encoder getEncoder(){\n        return Encoder.LOWER_CASE;\n    }\n    public static Encoder getUpperEncoder(){\n        return Encoder.UPPER_CASE;\n    }\n\n    public static class Decoder{\n      private static int maxIndex=102;\n      private static int[] toIndex;\n      static {\n        toIndex=new int[maxIndex+1];\n        Arrays.fill(toIndex, -1);\n        char[] chars={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','a','b','c','d','e','f'};\n        for(int i=0; i&lt;chars.length; i++) {\n          toIndex[(int)chars[i]]=i;\n        }\n      }\n      public Decoder() {\n      }\n      public byte[] decode(String str) {\n          char[] value=str.toCharArray();\n          int start=0;\n          if(value.length&gt;2 &amp;&amp; value[0]=='0' &amp;&amp; (value[1]=='x' || value[1]=='X')) {\n            start=2;\n          }\n          int byteLength=(value.length-start)/2; // ignore trailing odd char if exists\n          byte[] data=new byte[byteLength];\n          for(int i=start,j=0;i&lt;value.length;i+=2,j++){\n              int i1;\n              int i2;\n              char c1=value[i];\n              char c2=value[i+1];\n              if(c1&gt;maxIndex || (i1=toIndex[(int)c1])&lt;0 || c2&gt;maxIndex || (i2=toIndex[(int)c2])&lt;0) {\n                throw new IllegalArgumentException(&quot;Invalid character at &quot;+i);\n              }\n              data[j]=(byte)((i1&lt;&lt;4)+i2);\n          }\n          return data;\n      }\n      static final Decoder IGNORE_CASE=new Decoder();\n  }\n  public static Decoder getDecoder(){\n      return Decoder.IGNORE_CASE;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65578,"reputation":5045,"user_id":192901,"accept_rate":77,"display_name":"kakopappa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519100346,"creation_date":1519100346,"answer_id":48877792,"question_id":9655181,"body_markdown":"    private static String bytesToHexString(byte[] bytes, int length) {\r\n            if (bytes == null || length == 0) return null;\r\n    \r\n            StringBuilder ret = new StringBuilder(2*length);\r\n    \r\n            for (int i = 0 ; i &lt; length ; i++) {\r\n                int b;\r\n    \r\n                b = 0x0f &amp; (bytes[i] &gt;&gt; 4);\r\n                ret.append(&quot;0123456789abcdef&quot;.charAt(b));\r\n    \r\n                b = 0x0f &amp; bytes[i];\r\n                ret.append(&quot;0123456789abcdef&quot;.charAt(b));\r\n            }\r\n    \r\n            return ret.toString();\r\n        }","title":"Java: convert a byte array to a hex string?","body":"<pre><code>private static String bytesToHexString(byte[] bytes, int length) {\n        if (bytes == null || length == 0) return null;\n\n        StringBuilder ret = new StringBuilder(2*length);\n\n        for (int i = 0 ; i &lt; length ; i++) {\n            int b;\n\n            b = 0x0f &amp; (bytes[i] &gt;&gt; 4);\n            ret.append(\"0123456789abcdef\".charAt(b));\n\n            b = 0x0f &amp; bytes[i];\n            ret.append(\"0123456789abcdef\".charAt(b));\n        }\n\n        return ret.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526345690,"creation_date":1526340085,"answer_id":50340319,"question_id":9655181,"body_markdown":"Can&#39;t find any solution on this page that doesn&#39;t\r\n\r\n1. Use a loop\r\n2. Use javax.xml.bind.DatatypeConverter which compiles fine but often throws java.lang.NoClassDefFoundError at runtime.\r\n\r\nHere&#39;s a solution which doesn&#39;t have the flaws above(no promises mine doesn&#39;t have other flaws though)\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    import static java.lang.System.out;\r\n    public final class App2 {\r\n        // | proposed solution.\r\n        public static String encode(byte[] bytes) {          \r\n            final int length = bytes.length;\r\n            \r\n            // | BigInteger constructor throws if it is given an empty array.\r\n            if (length == 0) {\r\n                return &quot;00&quot;;\r\n            }\r\n            \r\n            final int evenLength = (int)(2 * Math.ceil(length / 2.0));\r\n            final String format = &quot;%0&quot; + evenLength + &quot;x&quot;;         \r\n            final String result = String.format (format, new BigInteger(bytes));\r\n            \r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // 00\r\n            out.println(encode(new byte[] {})); \r\n            \r\n            // 01\r\n            out.println(encode(new byte[] {1})); \r\n            \r\n            //203040\r\n            out.println(encode(new byte[] {0x20, 0x30, 0x40})); \r\n    \r\n            // 416c6c20796f75722062617365206172652062656c6f6e6720746f2075732e\r\n            out.println(encode(&quot;All your base are belong to us.&quot;.getBytes()));\r\n        }\r\n    }   \r\n\r\nI couldn&#39;t get this under 62 opcodes, but if you can live without 0 padding in case the first byte is less than 0x10, then the following solution only uses 23 opcodes. Really shows how &quot;easy to implement yourself&quot; solutions like &quot;pad with a zero if string length is odd&quot; can get pretty expensive if a native implementation is not already available(or in this case, if BigInteger had an option to prefix with zeros in toString).\r\n\r\n    public static String encode(byte[] bytes) {          \r\n        final int length = bytes.length;\r\n        \r\n        // | BigInteger constructor throws if it is given an empty array.\r\n        if (length == 0) {\r\n            return &quot;00&quot;;\r\n        }\r\n        \r\n        return new BigInteger(bytes).toString(16);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>Can't find any solution on this page that doesn't</p>\n\n<ol>\n<li>Use a loop</li>\n<li>Use javax.xml.bind.DatatypeConverter which compiles fine but often throws java.lang.NoClassDefFoundError at runtime.</li>\n</ol>\n\n<p>Here's a solution which doesn't have the flaws above(no promises mine doesn't have other flaws though)</p>\n\n<pre><code>import java.math.BigInteger;\n\nimport static java.lang.System.out;\npublic final class App2 {\n    // | proposed solution.\n    public static String encode(byte[] bytes) {          \n        final int length = bytes.length;\n\n        // | BigInteger constructor throws if it is given an empty array.\n        if (length == 0) {\n            return \"00\";\n        }\n\n        final int evenLength = (int)(2 * Math.ceil(length / 2.0));\n        final String format = \"%0\" + evenLength + \"x\";         \n        final String result = String.format (format, new BigInteger(bytes));\n\n        return result;\n    }\n\n    public static void main(String[] args) throws Exception {\n        // 00\n        out.println(encode(new byte[] {})); \n\n        // 01\n        out.println(encode(new byte[] {1})); \n\n        //203040\n        out.println(encode(new byte[] {0x20, 0x30, 0x40})); \n\n        // 416c6c20796f75722062617365206172652062656c6f6e6720746f2075732e\n        out.println(encode(\"All your base are belong to us.\".getBytes()));\n    }\n}   \n</code></pre>\n\n<p>I couldn't get this under 62 opcodes, but if you can live without 0 padding in case the first byte is less than 0x10, then the following solution only uses 23 opcodes. Really shows how \"easy to implement yourself\" solutions like \"pad with a zero if string length is odd\" can get pretty expensive if a native implementation is not already available(or in this case, if BigInteger had an option to prefix with zeros in toString).</p>\n\n<pre><code>public static String encode(byte[] bytes) {          \n    final int length = bytes.length;\n\n    // | BigInteger constructor throws if it is given an empty array.\n    if (length == 0) {\n        return \"00\";\n    }\n\n    return new BigInteger(bytes).toString(16);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3207356,"reputation":2687,"user_id":2708147,"accept_rate":100,"display_name":"Netherwire"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527979280,"creation_date":1527978800,"answer_id":50661726,"question_id":9655181,"body_markdown":"My solution is based on maybeWeCouldStealAVan&#39;s solution, but does not rely on any additionaly allocated lookup tables. It does not uses any &#39;int-to-char&#39; casts hacks (actually, `Character.forDigit()` does it, performing some comparison to check what the digit truly is) and thus might be a bit slower. Please feel free to use it wherever you want. Cheers.\r\n\r\n    public static String bytesToHex(final byte[] bytes)\r\n    {\r\n        final int numBytes = bytes.length;\r\n        final char[] container = new char[numBytes * 2];\r\n    \r\n        for (int i = 0; i &lt; numBytes; i++)\r\n        {\r\n            final int b = bytes[i] &amp; 0xFF;\r\n    \r\n            container[i * 2] = Character.forDigit(b &gt;&gt;&gt; 4, 0x10);\r\n            container[i * 2 + 1] = Character.forDigit(b &amp; 0xF, 0x10);\r\n        }\r\n    \r\n        return new String(container);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>My solution is based on maybeWeCouldStealAVan's solution, but does not rely on any additionaly allocated lookup tables. It does not uses any 'int-to-char' casts hacks (actually, <code>Character.forDigit()</code> does it, performing some comparison to check what the digit truly is) and thus might be a bit slower. Please feel free to use it wherever you want. Cheers.</p>\n\n<pre><code>public static String bytesToHex(final byte[] bytes)\n{\n    final int numBytes = bytes.length;\n    final char[] container = new char[numBytes * 2];\n\n    for (int i = 0; i &lt; numBytes; i++)\n    {\n        final int b = bytes[i] &amp; 0xFF;\n\n        container[i * 2] = Character.forDigit(b &gt;&gt;&gt; 4, 0x10);\n        container[i * 2 + 1] = Character.forDigit(b &amp; 0xF, 0x10);\n    }\n\n    return new String(container);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3464,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1550080316,"creation_date":1550080316,"answer_id":54676500,"question_id":9655181,"body_markdown":"If you&#39;re using the Spring Security framework, you can use:\r\n\r\n\r\n    import org.springframework.security.crypto.codec.Hex\r\n    \r\n    final String testString = &quot;Test String&quot;;\r\n    final byte[] byteArray = testString.getBytes();\r\n    System.out.println(Hex.encode(byteArray));\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>If you're using the Spring Security framework, you can use:</p>\n\n<pre><code>import org.springframework.security.crypto.codec.Hex\n\nfinal String testString = \"Test String\";\nfinal byte[] byteArray = testString.getBytes();\nSystem.out.println(Hex.encode(byteArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8652819,"reputation":1174,"user_id":6477946,"display_name":"Rajneesh Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585655332,"creation_date":1556608194,"answer_id":55915622,"question_id":9655181,"body_markdown":"\r\n    \r\n    Converts bytes data to hex characters\r\n    \r\n    @param bytes byte array to be converted to hex string\r\n    @return byte String in hex format\r\n             \r\n    private static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        int v;\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<pre><code>Converts bytes data to hex characters\n\n@param bytes byte array to be converted to hex string\n@return byte String in hex format\n\nprivate static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    int v;\n    for (int j = 0; j &lt; bytes.length; j++) {\n        v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1560949427,"creation_date":1560949271,"answer_id":56668285,"question_id":9655181,"body_markdown":"Adding a utility jar for simple function is not good option. Instead assemble your own utility classes. following is possible faster implementation.\r\n\r\n\r\n    public class ByteHex {\r\n    \r\n    \tpublic static int hexToByte(char ch) {\r\n    \t\tif (&#39;0&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;9&#39;) return ch - &#39;0&#39;;\r\n    \t\tif (&#39;A&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;F&#39;) return ch - &#39;A&#39; + 10;\r\n    \t\tif (&#39;a&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;f&#39;) return ch - &#39;a&#39; + 10;\r\n    \t\treturn -1;\r\n    \t}\r\n    \t\r\n    \tprivate static final String[] byteToHexTable = new String[]\r\n    \t{\r\n    \t    &quot;00&quot;, &quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;0A&quot;, &quot;0B&quot;, &quot;0C&quot;, &quot;0D&quot;, &quot;0E&quot;, &quot;0F&quot;,\r\n    \t    &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;1A&quot;, &quot;1B&quot;, &quot;1C&quot;, &quot;1D&quot;, &quot;1E&quot;, &quot;1F&quot;,\r\n    \t    &quot;20&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;, &quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;2A&quot;, &quot;2B&quot;, &quot;2C&quot;, &quot;2D&quot;, &quot;2E&quot;, &quot;2F&quot;,\r\n    \t    &quot;30&quot;, &quot;31&quot;, &quot;32&quot;, &quot;33&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;3A&quot;, &quot;3B&quot;, &quot;3C&quot;, &quot;3D&quot;, &quot;3E&quot;, &quot;3F&quot;,\r\n    \t    &quot;40&quot;, &quot;41&quot;, &quot;42&quot;, &quot;43&quot;, &quot;44&quot;, &quot;45&quot;, &quot;46&quot;, &quot;47&quot;, &quot;48&quot;, &quot;49&quot;, &quot;4A&quot;, &quot;4B&quot;, &quot;4C&quot;, &quot;4D&quot;, &quot;4E&quot;, &quot;4F&quot;,\r\n    \t    &quot;50&quot;, &quot;51&quot;, &quot;52&quot;, &quot;53&quot;, &quot;54&quot;, &quot;55&quot;, &quot;56&quot;, &quot;57&quot;, &quot;58&quot;, &quot;59&quot;, &quot;5A&quot;, &quot;5B&quot;, &quot;5C&quot;, &quot;5D&quot;, &quot;5E&quot;, &quot;5F&quot;,\r\n    \t    &quot;60&quot;, &quot;61&quot;, &quot;62&quot;, &quot;63&quot;, &quot;64&quot;, &quot;65&quot;, &quot;66&quot;, &quot;67&quot;, &quot;68&quot;, &quot;69&quot;, &quot;6A&quot;, &quot;6B&quot;, &quot;6C&quot;, &quot;6D&quot;, &quot;6E&quot;, &quot;6F&quot;,\r\n    \t    &quot;70&quot;, &quot;71&quot;, &quot;72&quot;, &quot;73&quot;, &quot;74&quot;, &quot;75&quot;, &quot;76&quot;, &quot;77&quot;, &quot;78&quot;, &quot;79&quot;, &quot;7A&quot;, &quot;7B&quot;, &quot;7C&quot;, &quot;7D&quot;, &quot;7E&quot;, &quot;7F&quot;,\r\n    \t    &quot;80&quot;, &quot;81&quot;, &quot;82&quot;, &quot;83&quot;, &quot;84&quot;, &quot;85&quot;, &quot;86&quot;, &quot;87&quot;, &quot;88&quot;, &quot;89&quot;, &quot;8A&quot;, &quot;8B&quot;, &quot;8C&quot;, &quot;8D&quot;, &quot;8E&quot;, &quot;8F&quot;,\r\n    \t    &quot;90&quot;, &quot;91&quot;, &quot;92&quot;, &quot;93&quot;, &quot;94&quot;, &quot;95&quot;, &quot;96&quot;, &quot;97&quot;, &quot;98&quot;, &quot;99&quot;, &quot;9A&quot;, &quot;9B&quot;, &quot;9C&quot;, &quot;9D&quot;, &quot;9E&quot;, &quot;9F&quot;,\r\n    \t    &quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;A7&quot;, &quot;A8&quot;, &quot;A9&quot;, &quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;, &quot;AD&quot;, &quot;AE&quot;, &quot;AF&quot;,\r\n    \t    &quot;B0&quot;, &quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;, &quot;B4&quot;, &quot;B5&quot;, &quot;B6&quot;, &quot;B7&quot;, &quot;B8&quot;, &quot;B9&quot;, &quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;, &quot;BE&quot;, &quot;BF&quot;,\r\n    \t    &quot;C0&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;, &quot;C4&quot;, &quot;C5&quot;, &quot;C6&quot;, &quot;C7&quot;, &quot;C8&quot;, &quot;C9&quot;, &quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;, &quot;CE&quot;, &quot;CF&quot;,\r\n    \t    &quot;D0&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot;, &quot;D5&quot;, &quot;D6&quot;, &quot;D7&quot;, &quot;D8&quot;, &quot;D9&quot;, &quot;DA&quot;, &quot;DB&quot;, &quot;DC&quot;, &quot;DD&quot;, &quot;DE&quot;, &quot;DF&quot;,\r\n    \t    &quot;E0&quot;, &quot;E1&quot;, &quot;E2&quot;, &quot;E3&quot;, &quot;E4&quot;, &quot;E5&quot;, &quot;E6&quot;, &quot;E7&quot;, &quot;E8&quot;, &quot;E9&quot;, &quot;EA&quot;, &quot;EB&quot;, &quot;EC&quot;, &quot;ED&quot;, &quot;EE&quot;, &quot;EF&quot;,\r\n    \t    &quot;F0&quot;, &quot;F1&quot;, &quot;F2&quot;, &quot;F3&quot;, &quot;F4&quot;, &quot;F5&quot;, &quot;F6&quot;, &quot;F7&quot;, &quot;F8&quot;, &quot;F9&quot;, &quot;FA&quot;, &quot;FB&quot;, &quot;FC&quot;, &quot;FD&quot;, &quot;FE&quot;, &quot;FF&quot;\r\n    \t};\r\n    \t\r\n    \tprivate static final String[] byteToHexTableLowerCase = new String[]\r\n    \t{\r\n    \t    &quot;00&quot;, &quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;0a&quot;, &quot;0b&quot;, &quot;0c&quot;, &quot;0d&quot;, &quot;0e&quot;, &quot;0f&quot;,\r\n    \t    &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;, &quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;1a&quot;, &quot;1b&quot;, &quot;1c&quot;, &quot;1d&quot;, &quot;1e&quot;, &quot;1f&quot;,\r\n    \t    &quot;20&quot;, &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;, &quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;2a&quot;, &quot;2b&quot;, &quot;2c&quot;, &quot;2d&quot;, &quot;2e&quot;, &quot;2f&quot;,\r\n    \t    &quot;30&quot;, &quot;31&quot;, &quot;32&quot;, &quot;33&quot;, &quot;34&quot;, &quot;35&quot;, &quot;36&quot;, &quot;37&quot;, &quot;38&quot;, &quot;39&quot;, &quot;3a&quot;, &quot;3b&quot;, &quot;3c&quot;, &quot;3d&quot;, &quot;3e&quot;, &quot;3f&quot;,\r\n    \t    &quot;40&quot;, &quot;41&quot;, &quot;42&quot;, &quot;43&quot;, &quot;44&quot;, &quot;45&quot;, &quot;46&quot;, &quot;47&quot;, &quot;48&quot;, &quot;49&quot;, &quot;4a&quot;, &quot;4b&quot;, &quot;4c&quot;, &quot;4d&quot;, &quot;4e&quot;, &quot;4f&quot;,\r\n    \t    &quot;50&quot;, &quot;51&quot;, &quot;52&quot;, &quot;53&quot;, &quot;54&quot;, &quot;55&quot;, &quot;56&quot;, &quot;57&quot;, &quot;58&quot;, &quot;59&quot;, &quot;5a&quot;, &quot;5b&quot;, &quot;5c&quot;, &quot;5d&quot;, &quot;5e&quot;, &quot;5f&quot;,\r\n    \t    &quot;60&quot;, &quot;61&quot;, &quot;62&quot;, &quot;63&quot;, &quot;64&quot;, &quot;65&quot;, &quot;66&quot;, &quot;67&quot;, &quot;68&quot;, &quot;69&quot;, &quot;6a&quot;, &quot;6b&quot;, &quot;6c&quot;, &quot;6d&quot;, &quot;6e&quot;, &quot;6f&quot;,\r\n    \t    &quot;70&quot;, &quot;71&quot;, &quot;72&quot;, &quot;73&quot;, &quot;74&quot;, &quot;75&quot;, &quot;76&quot;, &quot;77&quot;, &quot;78&quot;, &quot;79&quot;, &quot;7a&quot;, &quot;7b&quot;, &quot;7c&quot;, &quot;7d&quot;, &quot;7e&quot;, &quot;7f&quot;,\r\n    \t    &quot;80&quot;, &quot;81&quot;, &quot;82&quot;, &quot;83&quot;, &quot;84&quot;, &quot;85&quot;, &quot;86&quot;, &quot;87&quot;, &quot;88&quot;, &quot;89&quot;, &quot;8a&quot;, &quot;8b&quot;, &quot;8c&quot;, &quot;8d&quot;, &quot;8e&quot;, &quot;8f&quot;,\r\n    \t    &quot;90&quot;, &quot;91&quot;, &quot;92&quot;, &quot;93&quot;, &quot;94&quot;, &quot;95&quot;, &quot;96&quot;, &quot;97&quot;, &quot;98&quot;, &quot;99&quot;, &quot;9a&quot;, &quot;9b&quot;, &quot;9c&quot;, &quot;9d&quot;, &quot;9e&quot;, &quot;9f&quot;,\r\n    \t    &quot;a0&quot;, &quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;, &quot;a5&quot;, &quot;a6&quot;, &quot;a7&quot;, &quot;a8&quot;, &quot;a9&quot;, &quot;aa&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;,\r\n    \t    &quot;b0&quot;, &quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;, &quot;b4&quot;, &quot;b5&quot;, &quot;b6&quot;, &quot;b7&quot;, &quot;b8&quot;, &quot;b9&quot;, &quot;ba&quot;, &quot;bb&quot;, &quot;bc&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;,\r\n    \t    &quot;c0&quot;, &quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;, &quot;c4&quot;, &quot;c5&quot;, &quot;c6&quot;, &quot;c7&quot;, &quot;c8&quot;, &quot;c9&quot;, &quot;ca&quot;, &quot;cb&quot;, &quot;cc&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;,\r\n    \t    &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;, &quot;d4&quot;, &quot;d5&quot;, &quot;d6&quot;, &quot;d7&quot;, &quot;d8&quot;, &quot;d9&quot;, &quot;da&quot;, &quot;db&quot;, &quot;dc&quot;, &quot;dd&quot;, &quot;de&quot;, &quot;df&quot;,\r\n    \t    &quot;e0&quot;, &quot;e1&quot;, &quot;e2&quot;, &quot;e3&quot;, &quot;e4&quot;, &quot;e5&quot;, &quot;e6&quot;, &quot;e7&quot;, &quot;e8&quot;, &quot;e9&quot;, &quot;ea&quot;, &quot;eb&quot;, &quot;ec&quot;, &quot;ed&quot;, &quot;ee&quot;, &quot;ef&quot;,\r\n    \t    &quot;f0&quot;, &quot;f1&quot;, &quot;f2&quot;, &quot;f3&quot;, &quot;f4&quot;, &quot;f5&quot;, &quot;f6&quot;, &quot;f7&quot;, &quot;f8&quot;, &quot;f9&quot;, &quot;fa&quot;, &quot;fb&quot;, &quot;fc&quot;, &quot;fd&quot;, &quot;fe&quot;, &quot;ff&quot;\r\n    \t};\r\n    \t\r\n    \tpublic static String byteToHex(byte b){\r\n    \t\treturn byteToHexTable[b &amp; 0xFF];\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHex(byte[] bytes){\r\n    \t\tif(bytes == null) return null;\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(byte b : bytes) sb.append(byteToHexTable[b &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHex(short[] bytes){\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(short b : bytes) sb.append(byteToHexTable[((byte)b) &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String byteToHexLowerCase(byte[] bytes){\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length*2);\r\n    \t\tfor(byte b : bytes) sb.append(byteToHexTableLowerCase[b &amp; 0xFF]);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static byte[] hexToByte(String hexString) {\r\n    \t\tif(hexString == null) return null;\r\n    \t\tbyte[] byteArray = new byte[hexString.length() / 2];\r\n    \t\tfor (int i = 0; i &lt; hexString.length(); i += 2) {\r\n    \t\t\tbyteArray[i / 2] = (byte) (hexToByte(hexString.charAt(i)) * 16 + hexToByte(hexString.charAt(i+1)));\r\n    \t\t}\r\n    \t\treturn byteArray;\r\n    \t}\r\n    \t\r\n    \tpublic static byte hexPairToByte(char ch1, char ch2) {\r\n    \t\treturn (byte) (hexToByte(ch1) * 16 + hexToByte(ch2));\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Adding a utility jar for simple function is not good option. Instead assemble your own utility classes. following is possible faster implementation.</p>\n\n<pre><code>public class ByteHex {\n\n    public static int hexToByte(char ch) {\n        if ('0' &lt;= ch &amp;&amp; ch &lt;= '9') return ch - '0';\n        if ('A' &lt;= ch &amp;&amp; ch &lt;= 'F') return ch - 'A' + 10;\n        if ('a' &lt;= ch &amp;&amp; ch &lt;= 'f') return ch - 'a' + 10;\n        return -1;\n    }\n\n    private static final String[] byteToHexTable = new String[]\n    {\n        \"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"0A\", \"0B\", \"0C\", \"0D\", \"0E\", \"0F\",\n        \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"1A\", \"1B\", \"1C\", \"1D\", \"1E\", \"1F\",\n        \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"2A\", \"2B\", \"2C\", \"2D\", \"2E\", \"2F\",\n        \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"3A\", \"3B\", \"3C\", \"3D\", \"3E\", \"3F\",\n        \"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"4A\", \"4B\", \"4C\", \"4D\", \"4E\", \"4F\",\n        \"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\", \"5A\", \"5B\", \"5C\", \"5D\", \"5E\", \"5F\",\n        \"60\", \"61\", \"62\", \"63\", \"64\", \"65\", \"66\", \"67\", \"68\", \"69\", \"6A\", \"6B\", \"6C\", \"6D\", \"6E\", \"6F\",\n        \"70\", \"71\", \"72\", \"73\", \"74\", \"75\", \"76\", \"77\", \"78\", \"79\", \"7A\", \"7B\", \"7C\", \"7D\", \"7E\", \"7F\",\n        \"80\", \"81\", \"82\", \"83\", \"84\", \"85\", \"86\", \"87\", \"88\", \"89\", \"8A\", \"8B\", \"8C\", \"8D\", \"8E\", \"8F\",\n        \"90\", \"91\", \"92\", \"93\", \"94\", \"95\", \"96\", \"97\", \"98\", \"99\", \"9A\", \"9B\", \"9C\", \"9D\", \"9E\", \"9F\",\n        \"A0\", \"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\", \"A7\", \"A8\", \"A9\", \"AA\", \"AB\", \"AC\", \"AD\", \"AE\", \"AF\",\n        \"B0\", \"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\", \"B7\", \"B8\", \"B9\", \"BA\", \"BB\", \"BC\", \"BD\", \"BE\", \"BF\",\n        \"C0\", \"C1\", \"C2\", \"C3\", \"C4\", \"C5\", \"C6\", \"C7\", \"C8\", \"C9\", \"CA\", \"CB\", \"CC\", \"CD\", \"CE\", \"CF\",\n        \"D0\", \"D1\", \"D2\", \"D3\", \"D4\", \"D5\", \"D6\", \"D7\", \"D8\", \"D9\", \"DA\", \"DB\", \"DC\", \"DD\", \"DE\", \"DF\",\n        \"E0\", \"E1\", \"E2\", \"E3\", \"E4\", \"E5\", \"E6\", \"E7\", \"E8\", \"E9\", \"EA\", \"EB\", \"EC\", \"ED\", \"EE\", \"EF\",\n        \"F0\", \"F1\", \"F2\", \"F3\", \"F4\", \"F5\", \"F6\", \"F7\", \"F8\", \"F9\", \"FA\", \"FB\", \"FC\", \"FD\", \"FE\", \"FF\"\n    };\n\n    private static final String[] byteToHexTableLowerCase = new String[]\n    {\n        \"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"0a\", \"0b\", \"0c\", \"0d\", \"0e\", \"0f\",\n        \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"1a\", \"1b\", \"1c\", \"1d\", \"1e\", \"1f\",\n        \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"2a\", \"2b\", \"2c\", \"2d\", \"2e\", \"2f\",\n        \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"3a\", \"3b\", \"3c\", \"3d\", \"3e\", \"3f\",\n        \"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"4a\", \"4b\", \"4c\", \"4d\", \"4e\", \"4f\",\n        \"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\", \"5a\", \"5b\", \"5c\", \"5d\", \"5e\", \"5f\",\n        \"60\", \"61\", \"62\", \"63\", \"64\", \"65\", \"66\", \"67\", \"68\", \"69\", \"6a\", \"6b\", \"6c\", \"6d\", \"6e\", \"6f\",\n        \"70\", \"71\", \"72\", \"73\", \"74\", \"75\", \"76\", \"77\", \"78\", \"79\", \"7a\", \"7b\", \"7c\", \"7d\", \"7e\", \"7f\",\n        \"80\", \"81\", \"82\", \"83\", \"84\", \"85\", \"86\", \"87\", \"88\", \"89\", \"8a\", \"8b\", \"8c\", \"8d\", \"8e\", \"8f\",\n        \"90\", \"91\", \"92\", \"93\", \"94\", \"95\", \"96\", \"97\", \"98\", \"99\", \"9a\", \"9b\", \"9c\", \"9d\", \"9e\", \"9f\",\n        \"a0\", \"a1\", \"a2\", \"a3\", \"a4\", \"a5\", \"a6\", \"a7\", \"a8\", \"a9\", \"aa\", \"ab\", \"ac\", \"ad\", \"ae\", \"af\",\n        \"b0\", \"b1\", \"b2\", \"b3\", \"b4\", \"b5\", \"b6\", \"b7\", \"b8\", \"b9\", \"ba\", \"bb\", \"bc\", \"bd\", \"be\", \"bf\",\n        \"c0\", \"c1\", \"c2\", \"c3\", \"c4\", \"c5\", \"c6\", \"c7\", \"c8\", \"c9\", \"ca\", \"cb\", \"cc\", \"cd\", \"ce\", \"cf\",\n        \"d0\", \"d1\", \"d2\", \"d3\", \"d4\", \"d5\", \"d6\", \"d7\", \"d8\", \"d9\", \"da\", \"db\", \"dc\", \"dd\", \"de\", \"df\",\n        \"e0\", \"e1\", \"e2\", \"e3\", \"e4\", \"e5\", \"e6\", \"e7\", \"e8\", \"e9\", \"ea\", \"eb\", \"ec\", \"ed\", \"ee\", \"ef\",\n        \"f0\", \"f1\", \"f2\", \"f3\", \"f4\", \"f5\", \"f6\", \"f7\", \"f8\", \"f9\", \"fa\", \"fb\", \"fc\", \"fd\", \"fe\", \"ff\"\n    };\n\n    public static String byteToHex(byte b){\n        return byteToHexTable[b &amp; 0xFF];\n    }\n\n    public static String byteToHex(byte[] bytes){\n        if(bytes == null) return null;\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(byte b : bytes) sb.append(byteToHexTable[b &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static String byteToHex(short[] bytes){\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(short b : bytes) sb.append(byteToHexTable[((byte)b) &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static String byteToHexLowerCase(byte[] bytes){\n        StringBuilder sb = new StringBuilder(bytes.length*2);\n        for(byte b : bytes) sb.append(byteToHexTableLowerCase[b &amp; 0xFF]);\n        return sb.toString();\n    }\n\n    public static byte[] hexToByte(String hexString) {\n        if(hexString == null) return null;\n        byte[] byteArray = new byte[hexString.length() / 2];\n        for (int i = 0; i &lt; hexString.length(); i += 2) {\n            byteArray[i / 2] = (byte) (hexToByte(hexString.charAt(i)) * 16 + hexToByte(hexString.charAt(i+1)));\n        }\n        return byteArray;\n    }\n\n    public static byte hexPairToByte(char ch1, char ch2) {\n        return (byte) (hexToByte(ch1) * 16 + hexToByte(ch2));\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":1,"up_vote_count":184,"is_accepted":false,"score":183,"last_activity_date":1677411507,"creation_date":1569504961,"answer_id":58118078,"question_id":9655181,"body_markdown":"Here are some common options ordered from simple (one-liner) to complex (huge library). If you are interested in performance, see the micro benchmarks below.\r\n\r\n## Option 1: Code snippet - Simple (only using JDK/Android)\r\n\r\n### Option 1a: BigInteger\r\n\r\nOne very simple solution is to use the `BigInteger`&#39;s hex representation:\r\n\r\n```java\r\nnew BigInteger(1, someByteArray).toString(16);\r\n```\r\n\r\nNote that since this handles _numbers_ not arbitrary _byte-strings_ it will omit leading zeros - this may or may not be what you want (e.g. `000AE3` vs `0AE3` for a 3 byte input). This is also very slow, about _100x slower_ compared to option 2.\r\n\r\n### Option 1b: String.format()\r\n\r\nUsing the `%X` placeholder, [`String.format()`][1] is able to encode most primitive types (`short`, `int`, `long`) to hex:\r\n\r\n```java\r\nString.format(&quot;%X&quot;, ByteBuffer.wrap(eightByteArray).getLong());\r\n```\r\n\r\n### Option 1c: Integer/Long (only 4/8 Byte Arrays)\r\n\r\nIf you **exclusively have 4 bytes arrays** you can use the [`toHexString`][2] method of the Integer class:\r\n\r\n```java\r\nInteger.toHexString(ByteBuffer.wrap(fourByteArray).getInt());\r\n```\r\n\r\nThe same works with **8 byte arrays** and [`Long`][3]\r\n\r\n```java\r\nLong.toHexString(ByteBuffer.wrap(eightByteArray).getLong());\r\n```\r\n\r\n### Option 1d: JDK17+ HexFormat\r\n\r\nFinally, JDK 17 offers first-level support of straight forward hex encoding with [`HexFormat`][4]:\r\n\r\n```java\r\nHexFormat hex = HexFormat.of();\r\nhex.formatHex(someByteArray)\r\n```\r\n\r\n## Option 2: Code snippet - Advanced\r\n\r\nHere is a full-featured, copy &amp; pasteable code snippet supporting **upper/lowercase** and [**endianness**][5]. It is optimized to minimize memory complexity and maximize performance and should be compatible with all modern Java versions (5+).\r\n\r\n```java\r\nprivate static final char[] LOOKUP_TABLE_LOWER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66};\r\nprivate static final char[] LOOKUP_TABLE_UPPER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46};\r\n        \r\npublic static String encode(byte[] byteArray, boolean upperCase, ByteOrder byteOrder) {\r\n\r\n    // our output size will be exactly 2x byte-array length\r\n    final char[] buffer = new char[byteArray.length * 2];\r\n\r\n    // choose lower or uppercase lookup table\r\n    final char[] lookup = upperCase ? LOOKUP_TABLE_UPPER : LOOKUP_TABLE_LOWER;\r\n\r\n    int index;\r\n    for (int i = 0; i &lt; byteArray.length; i++) {\r\n        // for little endian we count from last to first\r\n        index = (byteOrder == ByteOrder.BIG_ENDIAN) ? i : byteArray.length - i - 1;\r\n        \r\n        // extract the upper 4 bit and look up char (0-A)\r\n        buffer[i &lt;&lt; 1] = lookup[(byteArray[index] &gt;&gt; 4) &amp; 0xF];\r\n        // extract the lower 4 bit and look up char (0-A)\r\n        buffer[(i &lt;&lt; 1) + 1] = lookup[(byteArray[index] &amp; 0xF)];\r\n    }\r\n    return new String(buffer);\r\n}\r\n\r\npublic static String encode(byte[] byteArray) {\r\n    return encode(byteArray, false, ByteOrder.BIG_ENDIAN);\r\n}\r\n```\r\n\r\nThe full source code with Apache v2 license and decoder can be found [here][6].\r\n\r\n## Option 3: Using a small optimized library: bytes-java\r\n\r\nWhile working on my previous project, I created this little toolkit for working with bytes in Java. It has no external dependencies and is compatible with Java 7+. It includes, among others, a very fast and well tested HEX en/decoder:\r\n\r\n```java\r\nimport at.favre.lib.bytes.Bytes;\r\n...\r\nBytes.wrap(someByteArray).encodeHex()\r\n```\r\n\r\nYou can check it out on [GitHub: bytes-java][6].\r\n\r\n## Option 4: Apache Commons Codec\r\n\r\nOf course there is the good &#39;ol [commons codecs][7]. (**_warning opinion ahead_**) *While working on the project outlined above I analyzed the code and was quite disappointed; a lot of duplicate unorganized code, obsolete and exotic codecs probably only useful for very few and quite overengineered and slow implementations of popular codecs (specifically Base64). I therefore would make an informed decision if you want to use it or an alternative.* Anyways, if you still want to use it, here is a code snippet:\r\n\r\n```java\r\nimport org.apache.commons.codec.binary.Hex;\r\n...\r\nHex.encodeHexString(someByteArray));\r\n```\r\n\r\n## Option 5: Google Guava\r\n\r\nMore often than not you already have [Guava][8] as a dependency. If so just use:\r\n\r\n```java\r\nimport com.google.common.io.BaseEncoding;\r\n...\r\nBaseEncoding.base16().lowerCase().encode(someByteArray);\r\n```\r\n\r\n## Option 6: Spring Security\r\n\r\nIf you use the [Spring framework][9] with [Spring Security][10] you can use the following:\r\n\r\n```java\r\nimport org.springframework.security.crypto.codec.Hex\r\n...\r\nnew String(Hex.encode(someByteArray));\r\n```\r\n\r\n## Option 7: Bouncy Castle\r\n\r\nIf you already use the security framework [Bouncy Castle][11] you can use its `Hex` util:\r\n\r\n```java\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\nHex.toHexString(someByteArray);\r\n```\r\n\r\n## Not Really Option 8: Java 9+ Compatibility or &#39;Do Not Use JAXBs javax/xml/bind/DatatypeConverter&#39;\r\n\r\nIn previous Java (8 and below) versions the Java code for JAXB was included as runtime dependency. Since Java 9 and [Jigsaw modularisation][12] your code cannot access other code outside of its module without explicit declaration. So be aware if you get an exception like:\r\n\r\n```java\r\njava.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n```\r\n\r\nwhen running on a JVM with Java 9+. If so then switch implementations to any of the alternatives above. See also this [question][13].\r\n\r\n-------------------------\r\n\r\n# Micro Benchmarks\r\n\r\nHere are results from a simple [JMH][14] micro benchmark encoding *byte arrays of different sizes*. The values are operations per second, so ***higher is better.***\r\nNote that micro benchmarks very often do not represent real world behavior, so take these results with a grain of salt.\r\n```\r\n| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\r\n|----------------------|-----------:|-----------:|----------:|--------:|\r\n| Opt1: BigInteger     |  2,088,514 |  1,008,357 |   133,665 |       4 |\r\n| Opt2/3: Bytes Lib    | 20,423,170 | 16,049,841 | 6,685,522 |     825 |\r\n| Opt4: Apache Commons | 17,503,857 | 12,382,018 | 4,319,898 |     529 |\r\n| Opt5: Guava          | 10,177,925 |  6,937,833 | 2,094,658 |     257 |\r\n| Opt6: Spring         | 18,704,986 | 13,643,374 | 4,904,805 |     601 |\r\n| Opt7: BC             |  7,501,666 |  3,674,422 | 1,077,236 |     152 |\r\n| Opt8: JAX-B          | 13,497,736 |  8,312,834 | 2,590,940 |     346 |\r\n```\r\n\r\nSpecs: JDK 8u202, i7-7700K, Win10, 24&#160;GB Ram. See the full benchmark [here][15].\r\n\r\n## Benchmark Update 2022\r\n\r\nHere are results with current JMH 1.36, Java 17 and a higher end computer\r\n```\r\n| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\r\n|----------------------|-----------:|-----------:|----------:|--------:|\r\n| Opt1a: BigInteger    |  2,941,403 |  1,389,448 |   242,096 |       5 |\r\n| Opt1d: HexFormat     | 32,635,184 | 20,262,332 | 7,388,135 |     922 |\r\n| Opt2/3: Bytes Lib    | 31,724,981 | 22,786,906 | 6,197,028 |     930 |\r\n```\r\n\r\nSpecs: JDK temurin 17.0.6, Ryzen 5900X, Win11, 24&#160;GB DDR4 Ram\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toHexString-int-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#toHexString-long-\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\r\n  [5]: https://en.wikipedia.org/wiki/Endianness\r\n  [6]: https://github.com/patrickfav/bytes-java\r\n  [7]: https://commons.apache.org/proper/commons-codec/\r\n  [8]: https://guava.dev/releases/16.0/api/docs/com/google/common/io/BaseEncoding.html\r\n  [9]: https://spring.io/\r\n  [10]: https://spring.io/projects/spring-security\r\n  [11]: https://www.bouncycastle.org/\r\n  [12]: http://openjdk.java.net/projects/jigsaw/doc/jdk-modularization-tips\r\n  [13]: https://stackoverflow.com/q/43574426/774398\r\n  [14]: https://openjdk.java.net/projects/code-tools/jmh/\r\n  [15]: https://github.com/patrickfav/bytes-java/blob/master/src/test/java/at/favre/lib/bytes/EncodingHexJmhBenchmark.java","title":"Java: convert a byte array to a hex string?","body":"<p>Here are some common options ordered from simple (one-liner) to complex (huge library). If you are interested in performance, see the micro benchmarks below.</p>\n<h2>Option 1: Code snippet - Simple (only using JDK/Android)</h2>\n<h3>Option 1a: BigInteger</h3>\n<p>One very simple solution is to use the <code>BigInteger</code>'s hex representation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new BigInteger(1, someByteArray).toString(16);\n</code></pre>\n<p>Note that since this handles <em>numbers</em> not arbitrary <em>byte-strings</em> it will omit leading zeros - this may or may not be what you want (e.g. <code>000AE3</code> vs <code>0AE3</code> for a 3 byte input). This is also very slow, about <em>100x slower</em> compared to option 2.</p>\n<h3>Option 1b: String.format()</h3>\n<p>Using the <code>%X</code> placeholder, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\"><code>String.format()</code></a> is able to encode most primitive types (<code>short</code>, <code>int</code>, <code>long</code>) to hex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String.format(&quot;%X&quot;, ByteBuffer.wrap(eightByteArray).getLong());\n</code></pre>\n<h3>Option 1c: Integer/Long (only 4/8 Byte Arrays)</h3>\n<p>If you <strong>exclusively have 4 bytes arrays</strong> you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toHexString-int-\" rel=\"noreferrer\"><code>toHexString</code></a> method of the Integer class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toHexString(ByteBuffer.wrap(fourByteArray).getInt());\n</code></pre>\n<p>The same works with <strong>8 byte arrays</strong> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#toHexString-long-\" rel=\"noreferrer\"><code>Long</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Long.toHexString(ByteBuffer.wrap(eightByteArray).getLong());\n</code></pre>\n<h3>Option 1d: JDK17+ HexFormat</h3>\n<p>Finally, JDK 17 offers first-level support of straight forward hex encoding with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\"><code>HexFormat</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HexFormat hex = HexFormat.of();\nhex.formatHex(someByteArray)\n</code></pre>\n<h2>Option 2: Code snippet - Advanced</h2>\n<p>Here is a full-featured, copy &amp; pasteable code snippet supporting <strong>upper/lowercase</strong> and <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"noreferrer\"><strong>endianness</strong></a>. It is optimized to minimize memory complexity and maximize performance and should be compatible with all modern Java versions (5+).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final char[] LOOKUP_TABLE_LOWER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66};\nprivate static final char[] LOOKUP_TABLE_UPPER = new char[]{0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46};\n        \npublic static String encode(byte[] byteArray, boolean upperCase, ByteOrder byteOrder) {\n\n    // our output size will be exactly 2x byte-array length\n    final char[] buffer = new char[byteArray.length * 2];\n\n    // choose lower or uppercase lookup table\n    final char[] lookup = upperCase ? LOOKUP_TABLE_UPPER : LOOKUP_TABLE_LOWER;\n\n    int index;\n    for (int i = 0; i &lt; byteArray.length; i++) {\n        // for little endian we count from last to first\n        index = (byteOrder == ByteOrder.BIG_ENDIAN) ? i : byteArray.length - i - 1;\n        \n        // extract the upper 4 bit and look up char (0-A)\n        buffer[i &lt;&lt; 1] = lookup[(byteArray[index] &gt;&gt; 4) &amp; 0xF];\n        // extract the lower 4 bit and look up char (0-A)\n        buffer[(i &lt;&lt; 1) + 1] = lookup[(byteArray[index] &amp; 0xF)];\n    }\n    return new String(buffer);\n}\n\npublic static String encode(byte[] byteArray) {\n    return encode(byteArray, false, ByteOrder.BIG_ENDIAN);\n}\n</code></pre>\n<p>The full source code with Apache v2 license and decoder can be found <a href=\"https://github.com/patrickfav/bytes-java\" rel=\"noreferrer\">here</a>.</p>\n<h2>Option 3: Using a small optimized library: bytes-java</h2>\n<p>While working on my previous project, I created this little toolkit for working with bytes in Java. It has no external dependencies and is compatible with Java 7+. It includes, among others, a very fast and well tested HEX en/decoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import at.favre.lib.bytes.Bytes;\n...\nBytes.wrap(someByteArray).encodeHex()\n</code></pre>\n<p>You can check it out on <a href=\"https://github.com/patrickfav/bytes-java\" rel=\"noreferrer\">GitHub: bytes-java</a>.</p>\n<h2>Option 4: Apache Commons Codec</h2>\n<p>Of course there is the good 'ol <a href=\"https://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\">commons codecs</a>. (<strong><em>warning opinion ahead</em></strong>) <em>While working on the project outlined above I analyzed the code and was quite disappointed; a lot of duplicate unorganized code, obsolete and exotic codecs probably only useful for very few and quite overengineered and slow implementations of popular codecs (specifically Base64). I therefore would make an informed decision if you want to use it or an alternative.</em> Anyways, if you still want to use it, here is a code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.codec.binary.Hex;\n...\nHex.encodeHexString(someByteArray));\n</code></pre>\n<h2>Option 5: Google Guava</h2>\n<p>More often than not you already have <a href=\"https://guava.dev/releases/16.0/api/docs/com/google/common/io/BaseEncoding.html\" rel=\"noreferrer\">Guava</a> as a dependency. If so just use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.io.BaseEncoding;\n...\nBaseEncoding.base16().lowerCase().encode(someByteArray);\n</code></pre>\n<h2>Option 6: Spring Security</h2>\n<p>If you use the <a href=\"https://spring.io/\" rel=\"noreferrer\">Spring framework</a> with <a href=\"https://spring.io/projects/spring-security\" rel=\"noreferrer\">Spring Security</a> you can use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.crypto.codec.Hex\n...\nnew String(Hex.encode(someByteArray));\n</code></pre>\n<h2>Option 7: Bouncy Castle</h2>\n<p>If you already use the security framework <a href=\"https://www.bouncycastle.org/\" rel=\"noreferrer\">Bouncy Castle</a> you can use its <code>Hex</code> util:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.util.encoders.Hex;\n...\nHex.toHexString(someByteArray);\n</code></pre>\n<h2>Not Really Option 8: Java 9+ Compatibility or 'Do Not Use JAXBs javax/xml/bind/DatatypeConverter'</h2>\n<p>In previous Java (8 and below) versions the Java code for JAXB was included as runtime dependency. Since Java 9 and <a href=\"http://openjdk.java.net/projects/jigsaw/doc/jdk-modularization-tips\" rel=\"noreferrer\">Jigsaw modularisation</a> your code cannot access other code outside of its module without explicit declaration. So be aware if you get an exception like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n</code></pre>\n<p>when running on a JVM with Java 9+. If so then switch implementations to any of the alternatives above. See also this <a href=\"https://stackoverflow.com/q/43574426/774398\">question</a>.</p>\n<hr />\n<h1>Micro Benchmarks</h1>\n<p>Here are results from a simple <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> micro benchmark encoding <em>byte arrays of different sizes</em>. The values are operations per second, so <em><strong>higher is better.</strong></em>\nNote that micro benchmarks very often do not represent real world behavior, so take these results with a grain of salt.</p>\n<pre><code>| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\n|----------------------|-----------:|-----------:|----------:|--------:|\n| Opt1: BigInteger     |  2,088,514 |  1,008,357 |   133,665 |       4 |\n| Opt2/3: Bytes Lib    | 20,423,170 | 16,049,841 | 6,685,522 |     825 |\n| Opt4: Apache Commons | 17,503,857 | 12,382,018 | 4,319,898 |     529 |\n| Opt5: Guava          | 10,177,925 |  6,937,833 | 2,094,658 |     257 |\n| Opt6: Spring         | 18,704,986 | 13,643,374 | 4,904,805 |     601 |\n| Opt7: BC             |  7,501,666 |  3,674,422 | 1,077,236 |     152 |\n| Opt8: JAX-B          | 13,497,736 |  8,312,834 | 2,590,940 |     346 |\n</code></pre>\n<p>Specs: JDK 8u202, i7-7700K, Win10, 24 GB Ram. See the full benchmark <a href=\"https://github.com/patrickfav/bytes-java/blob/master/src/test/java/at/favre/lib/bytes/EncodingHexJmhBenchmark.java\" rel=\"noreferrer\">here</a>.</p>\n<h2>Benchmark Update 2022</h2>\n<p>Here are results with current JMH 1.36, Java 17 and a higher end computer</p>\n<pre><code>| Name (ops/s)         |    16 byte |    32 byte |  128 byte | 0.95 MB |\n|----------------------|-----------:|-----------:|----------:|--------:|\n| Opt1a: BigInteger    |  2,941,403 |  1,389,448 |   242,096 |       5 |\n| Opt1d: HexFormat     | 32,635,184 | 20,262,332 | 7,388,135 |     922 |\n| Opt2/3: Bytes Lib    | 31,724,981 | 22,786,906 | 6,197,028 |     930 |\n</code></pre>\n<p>Specs: JDK temurin 17.0.6, Ryzen 5900X, Win11, 24 GB DDR4 Ram</p>\n"},{"tags":[],"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1586858774,"creation_date":1586541796,"answer_id":61146042,"question_id":9655181,"body_markdown":"We don&#39;t need to use any external library or to write code based on loops and constants.&lt;BR&gt;\r\nIs enough just this:\r\n\r\n    byte[] theValue = .....\r\n    String hexaString = new BigInteger(1, theValue).toString(16);","title":"Java: convert a byte array to a hex string?","body":"<p>We don't need to use any external library or to write code based on loops and constants.<BR>\nIs enough just this:</p>\n\n<pre><code>byte[] theValue = .....\nString hexaString = new BigInteger(1, theValue).toString(16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603480,"reputation":661,"user_id":2255217,"display_name":"Ron McLeod"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1606931213,"creation_date":1606931213,"answer_id":65113433,"question_id":9655181,"body_markdown":"Here&#39;s yet another method using Streams:\r\n\r\n\tprivate static String toHexString(byte[] bytes) {\r\n\t\treturn IntStream.range(0, bytes.length)\r\n        .mapToObj(i -&gt; String.format(&quot;%02X&quot;, bytes[i]))\r\n        .collect(Collectors.joining());\r\n\t}","title":"Java: convert a byte array to a hex string?","body":"<p>Here's yet another method using Streams:</p>\n<pre><code>private static String toHexString(byte[] bytes) {\n    return IntStream.range(0, bytes.length)\n    .mapToObj(i -&gt; String.format(&quot;%02X&quot;, bytes[i]))\n    .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1619550523,"creation_date":1610116406,"answer_id":65630932,"question_id":9655181,"body_markdown":"    public static String toHexString(byte[] bytes) {\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tif (bytes != null) \r\n\t\t\tfor (byte b:bytes) {\r\n\r\n\t\t\t\tfinal String hexString = Integer.toHexString(b &amp; 0xff);\r\n\r\n\t\t\t\tif(hexString.length()==1)\r\n\t\t\t\t\tsb.append(&#39;0&#39;);\r\n\r\n\t\t\t\tsb.append(hexString);//.append(&#39; &#39;);\r\n\t\t\t}\r\n\r\n\t\t  return sb.toString();//.toUpperCase();\r\n\t}\r\n\r\nTo use DatatypeConverter:\r\n\r\n\r\n\tpublic String toHexString(byte... bytes) {\r\n\r\n\t\treturn Optional.ofNullable(bytes)\r\n\t\t\t\t.filter(bs-&gt;bs.length&gt;0)\r\n\t\t\t\t.map(DatatypeConverter::printHexBinary)\r\n\t\t\t\t.map(str-&gt;IntStream.range(0, str.length())\r\n\t\t\t\t\t\t.filter(i-&gt;(i%2)==0)\t\t// take every second index\r\n\t\t\t\t\t\t.mapToObj(i-&gt;&quot;0x&quot; + str.substring(i, i+2))\r\n\t\t\t\t\t\t.collect(Collectors.joining(&quot; &quot;)))\r\n\t\t\t\t.orElse(&quot;&quot;);\r\n\t}\r\n","title":"Java: convert a byte array to a hex string?","body":"<pre><code>public static String toHexString(byte[] bytes) {\n\n    StringBuilder sb = new StringBuilder();\n\n    if (bytes != null) \n        for (byte b:bytes) {\n\n            final String hexString = Integer.toHexString(b &amp; 0xff);\n\n            if(hexString.length()==1)\n                sb.append('0');\n\n            sb.append(hexString);//.append(' ');\n        }\n\n      return sb.toString();//.toUpperCase();\n}\n</code></pre>\n<p>To use DatatypeConverter:</p>\n<pre><code>public String toHexString(byte... bytes) {\n\n    return Optional.ofNullable(bytes)\n            .filter(bs-&gt;bs.length&gt;0)\n            .map(DatatypeConverter::printHexBinary)\n            .map(str-&gt;IntStream.range(0, str.length())\n                    .filter(i-&gt;(i%2)==0)        // take every second index\n                    .mapToObj(i-&gt;&quot;0x&quot; + str.substring(i, i+2))\n                    .collect(Collectors.joining(&quot; &quot;)))\n            .orElse(&quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1641310531,"creation_date":1631947039,"answer_id":69232227,"question_id":9655181,"body_markdown":"Java 17 finally contains [HexFormat][1] class so you can simply do:\r\n\r\n```java\r\nHexFormat.of().formatHex(bytes);\r\n```\r\nIt supports configuration as lowercase/uppercase, delimiters, prefix, suffix etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Java: convert a byte array to a hex string?","body":"<p>Java 17 finally contains <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\">HexFormat</a> class so you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HexFormat.of().formatHex(bytes);\n</code></pre>\n<p>It supports configuration as lowercase/uppercase, delimiters, prefix, suffix etc.</p>\n"},{"tags":[],"owner":{"account_id":3690744,"reputation":590,"user_id":3073378,"accept_rate":75,"display_name":"SajithP"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634172406,"creation_date":1634172406,"answer_id":69563875,"question_id":9655181,"body_markdown":"Recently I had to implement a Hex converter to dump the byte stream into the log in Hex format. Initially I did it using `Hex.encodeHex` which has been already discussed in here.\r\n\r\nBut If you want to represent the byte array in a very presentable/readable way `io.netty.buffer` library could be a great use as it prints out the Hex as well the strings in it eliminating the non-printable characters.\r\n\r\nRequirement was something like,\r\n\r\n    0010   56 56 09 35 32 f0 b2 00 50 4c 45 41 53 45 20 52   VV.52...PLEASE R\r\n    0020   45 2d 45 4e 54 45 52 20 4c 41 53 54 20 54 52 41   E-ENTER LAST TRA\r\n    0030   4e 53 41 43 54 49 4f 4e 00 04                     NSACTION..\r\n\r\n\r\n\r\nThe shortest way to do the same in a more presentable way using `io.netty.buffer` is\r\n\r\n    import io.netty.buffer.ByteBuf;\r\n    import io.netty.buffer.ByteBufUtil;\r\n    import io.netty.buffer.Unpooled;\r\n    \r\n    void hexDump(byte[] buf) {\r\n        ByteBuf byteBuf = Unpooled.wrappedBuffer(buf);\r\n        log.trace(&quot;Bytes received (Hex)\\n&quot; + ByteBufUtil.prettyHexDump(byteBuf.slice()));\r\n    }\r\n\r\nif you are using maven, include the below dependency in the pom.xml (check for the latest version in the netty page)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.68.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\noutput was:\r\n\r\n             +-------------------------------------------------+\r\n             |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |\r\n    +--------+-------------------------------------------------+----------------+\r\n    |00000010| 40 40 b3 f3 80 f3 80 f3 80 f1 48 f1 41 f1 4e f1 |@@........H.A.N.|\r\n    |00000020| 47 f1 49 f1 4e f1 47 b5 f1 52 f1 4f f1 43 f1 4b |G.I.N.G..R.O.C.K|\r\n    |00000030| f3 80 f3 80 41 b4 40 40 f3 80 f3 80 40 f3 80 04 |....A.@@....@...|\r\n    +--------+-------------------------------------------------+----------------+\r\n\r\nFor your reference, the long way (may not be the most efficient) using the discussed methods in the answers is,\r\n\r\n    public static String hexDump(byte[] buf) throws DecoderException\r\n    {\r\n        ByteBuffer byteBuf = ByteBuffer.wrap(buf);\r\n    \tchar[] result = Hex.encodeHex(byteBuf);\r\n\r\n    \tString bin = new String(result).toUpperCase();\r\n    \tString str = new String(Hex.decodeHex(bin), StandardCharsets.UTF_8);\r\n\r\n    \tstr = str.replaceAll(&quot;[^!-~]&quot;, &quot;.&quot;);\r\n    \tStringBuilder out = new StringBuilder();\r\n    \tint bytes_per_line = 16;\r\n\r\n    \tfor (int pos = 0; pos &lt; str.length(); pos += bytes_per_line) {\r\n    \t\tout.append(String.format(&quot;%04X   &quot;, pos));\r\n    \t\tif (2 * (pos + bytes_per_line) &gt;= bin.length()) {\r\n    \t\t\tout.append(String.format(&quot;%-&quot; + 2 * bytes_per_line + &quot;s&quot;, bin.substring(2 * pos)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\r\n    \t\t} else {\r\n    \t\t\tout.append(bin.substring(2 * pos, 2 * (pos + bytes_per_line)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\r\n    \t\t}\r\n    \t\tout.append(&quot;   &quot;);\r\n    \t\tif (pos + bytes_per_line &gt; str.length()) {\r\n    \t\t\tout.append(str.substring(pos));\r\n    \r\n    \t\t} else {\r\n    \t\t\tout.append(str.substring(pos, pos + bytes_per_line));\r\n    \t\t}\r\n    \t\tout.append(&quot;\\n&quot;);\r\n    \t}\r\n    \r\n    \treturn out.toString();\r\n    }","title":"Java: convert a byte array to a hex string?","body":"<p>Recently I had to implement a Hex converter to dump the byte stream into the log in Hex format. Initially I did it using <code>Hex.encodeHex</code> which has been already discussed in here.</p>\n<p>But If you want to represent the byte array in a very presentable/readable way <code>io.netty.buffer</code> library could be a great use as it prints out the Hex as well the strings in it eliminating the non-printable characters.</p>\n<p>Requirement was something like,</p>\n<pre><code>0010   56 56 09 35 32 f0 b2 00 50 4c 45 41 53 45 20 52   VV.52...PLEASE R\n0020   45 2d 45 4e 54 45 52 20 4c 41 53 54 20 54 52 41   E-ENTER LAST TRA\n0030   4e 53 41 43 54 49 4f 4e 00 04                     NSACTION..\n</code></pre>\n<p>The shortest way to do the same in a more presentable way using <code>io.netty.buffer</code> is</p>\n<pre><code>import io.netty.buffer.ByteBuf;\nimport io.netty.buffer.ByteBufUtil;\nimport io.netty.buffer.Unpooled;\n\nvoid hexDump(byte[] buf) {\n    ByteBuf byteBuf = Unpooled.wrappedBuffer(buf);\n    log.trace(&quot;Bytes received (Hex)\\n&quot; + ByteBufUtil.prettyHexDump(byteBuf.slice()));\n}\n</code></pre>\n<p>if you are using maven, include the below dependency in the pom.xml (check for the latest version in the netty page)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n    &lt;version&gt;4.1.68.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>output was:</p>\n<pre><code>         +-------------------------------------------------+\n         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |\n+--------+-------------------------------------------------+----------------+\n|00000010| 40 40 b3 f3 80 f3 80 f3 80 f1 48 f1 41 f1 4e f1 |@@........H.A.N.|\n|00000020| 47 f1 49 f1 4e f1 47 b5 f1 52 f1 4f f1 43 f1 4b |G.I.N.G..R.O.C.K|\n|00000030| f3 80 f3 80 41 b4 40 40 f3 80 f3 80 40 f3 80 04 |....A.@@....@...|\n+--------+-------------------------------------------------+----------------+\n</code></pre>\n<p>For your reference, the long way (may not be the most efficient) using the discussed methods in the answers is,</p>\n<pre><code>public static String hexDump(byte[] buf) throws DecoderException\n{\n    ByteBuffer byteBuf = ByteBuffer.wrap(buf);\n    char[] result = Hex.encodeHex(byteBuf);\n\n    String bin = new String(result).toUpperCase();\n    String str = new String(Hex.decodeHex(bin), StandardCharsets.UTF_8);\n\n    str = str.replaceAll(&quot;[^!-~]&quot;, &quot;.&quot;);\n    StringBuilder out = new StringBuilder();\n    int bytes_per_line = 16;\n\n    for (int pos = 0; pos &lt; str.length(); pos += bytes_per_line) {\n        out.append(String.format(&quot;%04X   &quot;, pos));\n        if (2 * (pos + bytes_per_line) &gt;= bin.length()) {\n            out.append(String.format(&quot;%-&quot; + 2 * bytes_per_line + &quot;s&quot;, bin.substring(2 * pos)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\n        } else {\n            out.append(bin.substring(2 * pos, 2 * (pos + bytes_per_line)).replaceAll(&quot;..&quot;, &quot;$0 &quot;));\n        }\n        out.append(&quot;   &quot;);\n        if (pos + bytes_per_line &gt; str.length()) {\n            out.append(str.substring(pos));\n\n        } else {\n            out.append(str.substring(pos, pos + bytes_per_line));\n        }\n        out.append(&quot;\\n&quot;);\n    }\n\n    return out.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1635951319,"creation_date":1635951319,"answer_id":69827045,"question_id":9655181,"body_markdown":"[**HexFormat**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html) was added in **Java 17**:\r\n\r\n    String hex = HexFormat.of().formatHex(array);","title":"Java: convert a byte array to a hex string?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\"><strong>HexFormat</strong></a> was added in <strong>Java 17</strong>:</p>\n<pre><code>String hex = HexFormat.of().formatHex(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1640539763,"creation_date":1640539763,"answer_id":70488499,"question_id":9655181,"body_markdown":"Just iterate over all bytes, convert them to a hex String using `Integer.toString` (Unfortunately, there is no `Byte.toString` with a radix parameter) and append them all to a `StringBuilder`.\r\n```java\r\nbyte[] arr;//set it to your value\r\nStringBuilder sb=new StringBuilder(arr.length*2);//1 byte...2 hex digits\r\nfor(int i=0;i&lt;arr.length;i++){\r\n  sb.append(Integer.toString(arr[i],16));\r\n}\r\nString hexValue=sb.toString();\r\n```\r\n\r\nThis is similar to [this answer](https://stackoverflow.com/a/13006907/10871900) from [Pointer Null](https://stackoverflow.com/users/907695/pointer-null) but it uses `Integer.toString` instead of `String.format` improving the performance.\r\n\r\n","title":"Java: convert a byte array to a hex string?","body":"<p>Just iterate over all bytes, convert them to a hex String using <code>Integer.toString</code> (Unfortunately, there is no <code>Byte.toString</code> with a radix parameter) and append them all to a <code>StringBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] arr;//set it to your value\nStringBuilder sb=new StringBuilder(arr.length*2);//1 byte...2 hex digits\nfor(int i=0;i&lt;arr.length;i++){\n  sb.append(Integer.toString(arr[i],16));\n}\nString hexValue=sb.toString();\n</code></pre>\n<p>This is similar to <a href=\"https://stackoverflow.com/a/13006907/10871900\">this answer</a> from <a href=\"https://stackoverflow.com/users/907695/pointer-null\">Pointer Null</a> but it uses <code>Integer.toString</code> instead of <code>String.format</code> improving the performance.</p>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665478574,"creation_date":1665478574,"answer_id":74025502,"question_id":9655181,"body_markdown":"If you want to make it more readable and separate the bytes from each other, you can use the following code in Java 17+:\r\n\r\n```\r\nbyte[] yourByteArray = { -128, 0, 127 };\r\nString hexString = new String(HexFormat.ofDelimiter(&quot; &quot;).formatHex(yourByteArray));\r\n// 80 00 7f\r\n```","title":"Java: convert a byte array to a hex string?","body":"<p>If you want to make it more readable and separate the bytes from each other, you can use the following code in Java 17+:</p>\n<pre><code>byte[] yourByteArray = { -128, 0, 127 };\nString hexString = new String(HexFormat.ofDelimiter(&quot; &quot;).formatHex(yourByteArray));\n// 80 00 7f\n</code></pre>\n"}],"owner":{"account_id":37603,"reputation":9030,"user_id":107544,"accept_rate":83,"display_name":"Andre"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003212,"favorite_count":0,"down_vote_count":2,"up_vote_count":816,"accepted_answer_id":9855338,"answer_count":34,"score":814,"last_activity_date":1691047611,"creation_date":1331471184,"question_id":9655181,"body_markdown":"I have a byte array filled with hex numbers and printing it the easy way is pretty pointless because there are many unprintable elements. What I need is the exact hexcode in the form of: `3a5f771c`","title":"Java: convert a byte array to a hex string?","body":"<p>I have a byte array filled with hex numbers and printing it the easy way is pretty pointless because there are many unprintable elements. What I need is the exact hexcode in the form of: <code>3a5f771c</code></p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691047721,"post_id":76825762,"comment_id":135439162,"body_markdown":"First of all, you shouldn&#39;t be using raw `List`s. Take the compiler/IDE warnings to heart, and fix that. Once you&#39;ve done that, your problem should be obvious and easy to fix, since you know which List will contain which type.","body":"First of all, you shouldn&#39;t be using raw <code>List</code>s. Take the compiler/IDE warnings to heart, and fix that. Once you&#39;ve done that, your problem should be obvious and easy to fix, since you know which List will contain which type."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691048024,"post_id":76825762,"comment_id":135439253,"body_markdown":"You seem to be missing a closing brace. Is that where your return statement is?","body":"You seem to be missing a closing brace. Is that where your return statement is?"},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691048165,"post_id":76825762,"comment_id":135439292,"body_markdown":"@tgdavies I accidentally deleted it when edit the content, in my actual code there&#39;s a closing brace.","body":"@tgdavies I accidentally deleted it when edit the content, in my actual code there&#39;s a closing brace."},{"owner":{"account_id":3339332,"reputation":694,"user_id":2805930,"accept_rate":19,"display_name":"Hareesh"},"score":0,"creation_date":1691048268,"post_id":76825762,"comment_id":135439311,"body_markdown":"Are you mentioning any custom JSONSerializer in the spring boot configuration file, I mean in application properties?  can you share the pom.xml configuration as well ?","body":"Are you mentioning any custom JSONSerializer in the spring boot configuration file, I mean in application properties?  can you share the pom.xml configuration as well ?"},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691048588,"post_id":76825762,"comment_id":135439362,"body_markdown":"@Hareesh, dont have any custom JSONSerializer, i just using spring boot version 2.7.5","body":"@Hareesh, dont have any custom JSONSerializer, i just using spring boot version 2.7.5"},{"owner":{"account_id":3339332,"reputation":694,"user_id":2805930,"accept_rate":19,"display_name":"Hareesh"},"score":0,"creation_date":1691048775,"post_id":76825762,"comment_id":135439388,"body_markdown":"okay, if you share the pom.xml configuration, it will help. Because &#39;List&#39;, does not get added by any JSON converter, either you might be having custom response handler or json serializer that you have in the pom.xml can cause this.","body":"okay, if you share the pom.xml configuration, it will help. Because &#39;List&#39;, does not get added by any JSON converter, either you might be having custom response handler or json serializer that you have in the pom.xml can cause this."},{"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"score":0,"creation_date":1691055688,"post_id":76825762,"comment_id":135440895,"body_markdown":"Finally figure out the root cause of this, it was due to spring.jackson.serialization.WRAP_ROOT_VALUE=true in my application.properties","body":"Finally figure out the root cause of this, it was due to spring.jackson.serialization.WRAP_ROOT_VALUE=true in my application.properties"},{"owner":{"account_id":45917,"reputation":20079,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1691056190,"post_id":76825762,"comment_id":135440999,"body_markdown":"@Newbee: welcome and congratulations for finding the cause. Please make an answer and accept it. It will help others.","body":"@Newbee: welcome and congratulations for finding the cause. Please make an answer and accept it. It will help others."}],"owner":{"account_id":6955755,"reputation":1,"user_id":5336837,"display_name":"Newbee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691047591,"creation_date":1691047591,"question_id":76825762,"body_markdown":"Json response structure return from service is not as expected. Not sure where is the extra List object come from. Sorry for my bad english\r\n\r\n\r\n\r\nActual Result :\r\n\r\n```\r\n{&quot;List&quot;: [{\r\n            &quot;customerNumber&quot;: &quot;111&quot;,\r\n            &quot;amount&quot;: 75675\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;222&quot;,\r\n            &quot;amount&quot;: 30150\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;333&quot;,\r\n            &quot;amount&quot;: 120100\r\n        },\r\n        {\r\n            &quot;customerNumber&quot;: &quot;444&quot;,\r\n            &quot;amount&quot;: 50000\r\n        }]}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nExpected Result:\r\n\r\n```\r\n[{&quot;customerNumber&quot;: &quot;111&quot;,\r\n           &quot;amount&quot;: 75675},\r\n        {&quot;customerNumber&quot;: &quot;222&quot;,\r\n            &quot;amount&quot;: 30150},\r\n        {&quot;customerNumber&quot;: &quot;333&quot;,\r\n            &quot;amount&quot;: 120100},\r\n        { &quot;customerNumber&quot;: &quot;444&quot;,\r\n            &quot;amount&quot;: 50000}]\r\n```\r\n\r\n\r\nController and Service use to retrieve result from database and return as json in response\r\n\r\n```\r\n @PostMapping(path = &quot;/customer-list&quot;)\r\npublic List&lt;CustomerListingBean&gt; getCustomerListing(@RequestBody CustomerListingBean pl) {\r\n  CustomerListingBean row = new CustomerListingBean();\r\n\tList&lt;CustomerListingBean&gt; custList = new ArrayList&lt;&gt;();\r\n\t\t custList = indCustomerSearchEngine.getCustomerSearchListing(pl.getCustomerNumber());\r\n\t\treturn custList;\r\n}\r\npublic List getCustomerSearchListing(String customerNumber) {\r\nList newList= new ArrayList();\r\n\tList myList= customerRepository.getInquiryCustomerSearchList( customerNumber );\r\n\tfor (Iterator itr = myList.iterator(); itr.hasNext();) {\r\n\t\tObject[] col = (Object[]) itr.next();\r\n\t\tCustomerListingBean polRow = new CustomerListingBean();\r\n\t\tpolRow.setCustomerNumber((col[0] != null) ? col[0].toString() : &quot;&quot;);\r\n\t\tpolRow.setAmount((col[1] != null) ? col[1].toString() : &quot;&quot;);\r\n\t\tnewList.add(polRow);\r\n              return newList;\r\n}\r\n```","title":"Extra List array in Spring Boot JSON Response Output","body":"<p>Json response structure return from service is not as expected. Not sure where is the extra List object come from. Sorry for my bad english</p>\n<p>Actual Result :</p>\n<pre><code>{&quot;List&quot;: [{\n            &quot;customerNumber&quot;: &quot;111&quot;,\n            &quot;amount&quot;: 75675\n        },\n        {\n            &quot;customerNumber&quot;: &quot;222&quot;,\n            &quot;amount&quot;: 30150\n        },\n        {\n            &quot;customerNumber&quot;: &quot;333&quot;,\n            &quot;amount&quot;: 120100\n        },\n        {\n            &quot;customerNumber&quot;: &quot;444&quot;,\n            &quot;amount&quot;: 50000\n        }]}\n</code></pre>\n<p>Expected Result:</p>\n<pre><code>[{&quot;customerNumber&quot;: &quot;111&quot;,\n           &quot;amount&quot;: 75675},\n        {&quot;customerNumber&quot;: &quot;222&quot;,\n            &quot;amount&quot;: 30150},\n        {&quot;customerNumber&quot;: &quot;333&quot;,\n            &quot;amount&quot;: 120100},\n        { &quot;customerNumber&quot;: &quot;444&quot;,\n            &quot;amount&quot;: 50000}]\n</code></pre>\n<p>Controller and Service use to retrieve result from database and return as json in response</p>\n<pre><code> @PostMapping(path = &quot;/customer-list&quot;)\npublic List&lt;CustomerListingBean&gt; getCustomerListing(@RequestBody CustomerListingBean pl) {\n  CustomerListingBean row = new CustomerListingBean();\n    List&lt;CustomerListingBean&gt; custList = new ArrayList&lt;&gt;();\n         custList = indCustomerSearchEngine.getCustomerSearchListing(pl.getCustomerNumber());\n        return custList;\n}\npublic List getCustomerSearchListing(String customerNumber) {\nList newList= new ArrayList();\n    List myList= customerRepository.getInquiryCustomerSearchList( customerNumber );\n    for (Iterator itr = myList.iterator(); itr.hasNext();) {\n        Object[] col = (Object[]) itr.next();\n        CustomerListingBean polRow = new CustomerListingBean();\n        polRow.setCustomerNumber((col[0] != null) ? col[0].toString() : &quot;&quot;);\n        polRow.setAmount((col[1] != null) ? col[1].toString() : &quot;&quot;);\n        newList.add(polRow);\n              return newList;\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","slf4j","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1634655070,"post_id":69632726,"comment_id":123080572,"body_markdown":"Have you tried using Boot&#39;s logging config in `application.properties/yml`? `logging.level.org.apache.kafka=warn` ? https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.log-levels","body":"Have you tried using Boot&#39;s logging config in <code>application.properties&#47;yml</code>? <code>logging.level.org.apache.kafka=warn</code> ? <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.log-levels\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1634656720,"post_id":69632726,"comment_id":123081357,"body_markdown":"@GaryRussell we are working with spring (not spring boot), so NO. But tried `log4j.logger.org.apache.kafka=warn` in log4j.proerties. could you please suggest any other way with spring..","body":"@GaryRussell we are working with spring (not spring boot), so NO. But tried <code>log4j.logger.org.apache.kafka=warn</code> in log4j.proerties. could you please suggest any other way with spring.."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634657487,"post_id":69632726,"comment_id":123081779,"body_markdown":"Which logging library are you actually using? logback XML only works if you have slf4j-log4j12 bridge and logback dependency. log4j2 configs only work if you have that and also the slf4j-log4j12 bridge. Out of the box, Kafka uses `log4j.properties` (I assume your post as a typo and is missing the `j`). You may also need to modify your websphere logging configs","body":"Which logging library are you actually using? logback XML only works if you have slf4j-log4j12 bridge and logback dependency. log4j2 configs only work if you have that and also the slf4j-log4j12 bridge. Out of the box, Kafka uses <code>log4j.properties</code> (I assume your post as a typo and is missing the <code>j</code>). You may also need to modify your websphere logging configs"},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1634659405,"post_id":69632726,"comment_id":123082638,"body_markdown":"@OneCricketeer we are using mentioned dependencies (logback-core, slf4j-api, logback-classic) in article, will add slf4j-log4j12 bridge and update. While testing with log4j.properties we are having dependencies of log4j-core, log4j-api, log4j-slf4j-impl (2.4.1). Please let me know websphere logging config details we need any.","body":"@OneCricketeer we are using mentioned dependencies (logback-core, slf4j-api, logback-classic) in article, will add slf4j-log4j12 bridge and update. While testing with log4j.properties we are having dependencies of log4j-core, log4j-api, log4j-slf4j-impl (2.4.1). Please let me know websphere logging config details we need any."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634659924,"post_id":69632726,"comment_id":123082831,"body_markdown":"Those last three would pick up a `log4j2` file, not `log4j`. The file shown in the question is for logback, though","body":"Those last three would pick up a <code>log4j2</code> file, not <code>log4j</code>. The file shown in the question is for logback, though"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1634660189,"post_id":69632726,"comment_id":123082956,"body_markdown":"You can debug logback.xml by adding `debug=&quot;true&quot;` to the opening `&lt;configuration&gt;`. With log4j2 it&#39;s `status=&quot;debug&quot;` https://logging.apache.org/log4j/2.x/manual/configuration.html","body":"You can debug logback.xml by adding <code>debug=&quot;true&quot;</code> to the opening <code>&lt;configuration&gt;</code>. With log4j2 it&#39;s <code>status=&quot;debug&quot;</code> <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/configuration.html</a>"},{"owner":{"account_id":6371269,"reputation":11056,"user_id":4943598,"accept_rate":88,"display_name":"Partha Sarathi Ghosh"},"score":2,"creation_date":1657197681,"post_id":69632726,"comment_id":128756843,"body_markdown":"@Ganesh If you found any solution please post it as answer. I am also facing the same issue.","body":"@Ganesh If you found any solution please post it as answer. I am also facing the same issue."},{"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"score":0,"creation_date":1691047507,"post_id":69632726,"comment_id":135439118,"body_markdown":"@ParthaSarathiGhosh Please check posted answer which helped us to resolve the issues.","body":"@ParthaSarathiGhosh Please check posted answer which helped us to resolve the issues."}],"answers":[{"tags":[],"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691047382,"creation_date":1691047382,"answer_id":76825739,"question_id":69632726,"body_markdown":"Late answer, but might be helpful for someone.\r\n\r\nWe did few changes in same ***logback.xml*** file and also added ***log4j2.xml*** in order to make it work in our application. Below are the changes from both files, please give it a try.\r\n\r\n&gt; **logback.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration name=&quot;default&quot;&gt;\r\n       &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n         &lt;encoder&gt;\r\n            &lt;pattern&gt; %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n         &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n      \r\n      &lt;logger name=&quot;org.apache.log4j.xml&quot;            level=&quot;error&quot;/&gt;\r\n      &lt;logger name=&quot;org.apache.http&quot;                 level=&quot;error&quot; /&gt;\r\n      &lt;logger name=&quot;org.apache.http.wire&quot;            level=&quot;error&quot;/&gt;\r\n      &lt;logger name=&quot;org.apache.commons.httpclient&quot;   level=&quot;error&quot;/&gt;\r\n      \r\n      &lt;logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt; \r\n      \r\n      &lt;logger name=&quot;org.springframework.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt;\r\n\r\n      &lt;logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/logger&gt;\r\n       \r\n      &lt;root level=&quot;error&quot;&gt;\r\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt; \r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\n&gt; **log4j2.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \r\n    &lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//log4j/log4j Configuration//EN&quot; &quot;log4j.dtd&quot;&gt;  \r\n    &lt;log4j:configuratio xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;  \r\n  \r\n       &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;  \r\n           &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \r\n              &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \r\n           &lt;/layout&gt;  \r\n       &lt;/appender&gt;  \r\n  \r\n       &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;  \r\n           &lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;  \r\n           &lt;param name=&quot;maxFileSize&quot; value=&quot;10MB&quot; /&gt;  \r\n           &lt;param name=&quot;maxBackupIndex&quot; value=&quot;10&quot; /&gt;  \r\n           &lt;param name=&quot;file&quot; value=&quot;${catalina.home}/logs/myStruts1App.log&quot; /&gt;  \r\n           &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \r\n              &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \r\n           &lt;/layout&gt;  \r\n       &lt;/appender&gt;  \r\n\r\n       &lt;logger name=&quot;org.springframework&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.springframework.kafka&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.apache.http&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n       \r\n       &lt;logger name=&quot;org.apache.http.wire&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.apache.commons.httpclient&quot;&gt;\r\n          &lt;level value=&quot;warn&quot; /&gt;\r\n       &lt;/logger&gt;\r\n  \r\n       &lt;logger name=&quot;org.apache.kafka&quot;&gt;\r\n          &lt;level value=&quot;error&quot; /&gt;\r\n       &lt;/logger&gt;\r\n  \r\n       &lt;root&gt;  \r\n           &lt;!-- DEBUG level for all other loggers --&gt;\r\n           &lt;priority value=&quot;debug&quot; /&gt;  \r\n           &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;  \r\n           &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;  \r\n       &lt;/root&gt;  \r\n  \r\n    &lt;/log4j:configuration&gt;  \r\n\r\nWe can observe few changes here related to addivity, try to check below articles to know more about it.\r\n\r\n\r\n\r\n - https://newsbasis.com/what-is-additivity-in-logback/\r\n\r\n - https://stackoverflow.com/questions/24180772/logback-logger-logging-twice","title":"spring kafka - set consumer log level manually (spring 5)","body":"<p>Late answer, but might be helpful for someone.</p>\n<p>We did few changes in same <em><strong>logback.xml</strong></em> file and also added <em><strong>log4j2.xml</strong></em> in order to make it work in our application. Below are the changes from both files, please give it a try.</p>\n<blockquote>\n<p><strong>logback.xml</strong></p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration name=&quot;default&quot;&gt;\n   &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n     &lt;encoder&gt;\n        &lt;pattern&gt; %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n     &lt;/encoder&gt;\n  &lt;/appender&gt;\n  \n  &lt;logger name=&quot;org.apache.log4j.xml&quot;            level=&quot;error&quot;/&gt;\n  &lt;logger name=&quot;org.apache.http&quot;                 level=&quot;error&quot; /&gt;\n  &lt;logger name=&quot;org.apache.http.wire&quot;            level=&quot;error&quot;/&gt;\n  &lt;logger name=&quot;org.apache.commons.httpclient&quot;   level=&quot;error&quot;/&gt;\n  \n  &lt;logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt; \n  \n  &lt;logger name=&quot;org.springframework.kafka&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt;\n\n  &lt;logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/logger&gt;\n   \n  &lt;root level=&quot;error&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt; \n\n&lt;/configuration&gt;\n</code></pre>\n<blockquote>\n<p><strong>log4j2.xml</strong></p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \n&lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//log4j/log4j Configuration//EN&quot; &quot;log4j.dtd&quot;&gt;  \n&lt;log4j:configuratio xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;  \n\n   &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;  \n       &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \n       &lt;/layout&gt;  \n   &lt;/appender&gt;  \n\n   &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;  \n       &lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;  \n       &lt;param name=&quot;maxFileSize&quot; value=&quot;10MB&quot; /&gt;  \n       &lt;param name=&quot;maxBackupIndex&quot; value=&quot;10&quot; /&gt;  \n       &lt;param name=&quot;file&quot; value=&quot;${catalina.home}/logs/myStruts1App.log&quot; /&gt;  \n       &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;  \n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;  \n       &lt;/layout&gt;  \n   &lt;/appender&gt;  \n\n   &lt;logger name=&quot;org.springframework&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.springframework.kafka&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.http&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n   \n   &lt;logger name=&quot;org.apache.http.wire&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.commons.httpclient&quot;&gt;\n      &lt;level value=&quot;warn&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;logger name=&quot;org.apache.kafka&quot;&gt;\n      &lt;level value=&quot;error&quot; /&gt;\n   &lt;/logger&gt;\n\n   &lt;root&gt;  \n       &lt;!-- DEBUG level for all other loggers --&gt;\n       &lt;priority value=&quot;debug&quot; /&gt;  \n       &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;  \n       &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;  \n   &lt;/root&gt;  \n\n&lt;/log4j:configuration&gt;  \n</code></pre>\n<p>We can observe few changes here related to addivity, try to check below articles to know more about it.</p>\n<ul>\n<li><p><a href=\"https://newsbasis.com/what-is-additivity-in-logback/\" rel=\"nofollow noreferrer\">https://newsbasis.com/what-is-additivity-in-logback/</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/24180772/logback-logger-logging-twice\">Logback logger logging twice</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":13534596,"reputation":5838,"user_id":9764133,"display_name":"Ganesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11165,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76825739,"answer_count":1,"score":5,"last_activity_date":1691047382,"creation_date":1634653749,"question_id":69632726,"body_markdown":"We are working on `spring` project and integrated with `spring-kafka` recently. It&#39;s working as expected where we are able produce and consume messages properly. \r\n\r\nBut as we moved project to *PROD*, we are getting *DEBUG* level log statements and amount of statements overwhelmed. ***We are trying to set logging levels to WARN or ERROR*** specifically for Kafka logs.\r\n\r\nIn process we added **`logback.xml`** (added in main/resources) by following below article but no luck, also tried other solutions we came across in internet. (adding *log4j.properties* and *log4j2.xml*)\r\n\r\n - https://www.baeldung.com/logback\r\n\r\n**logback.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration name=&quot;default&quot;&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n           &lt;encoder&gt;\r\n              &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        \t&lt;/encoder&gt;\r\n      \t&lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.apache.kafka&quot;          \t    level=&quot;error&quot; /&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.common.metrics&quot;  level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients&quot;         level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals&quot;          level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals.Fetcher&quot;  level=&quot;error&quot;/&gt;\r\n    \t \r\n    \t&lt;root level=&quot;error&quot; name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\r\n        \t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\t\r\n    \t\r\n    &lt;/configuration&gt;\r\n\r\n**Sample logs:**\r\n\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=client-01, groupId=publisher] Cluster ID: Udhjf-fdbfds\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=client-01, groupId=publisher] Discovered group coordinator 127.....0 (id: 65654654654 rack: null)\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator -  [Consumer clientId=client-01, groupId=publisher] (Re-)joining group\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] WARN org.apache.kafka.clients.consumer.ConsumerConfig - The configuration &#39;schema.registry.url&#39; was supplied but isn&#39;t a known config.\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.7.1\r\n    [WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 616tyu85d0d567566\r\n\r\nAnyone came across similar situation or any leads will be really helpful.  Thanks in advance. :)","title":"spring kafka - set consumer log level manually (spring 5)","body":"<p>We are working on <code>spring</code> project and integrated with <code>spring-kafka</code> recently. It's working as expected where we are able produce and consume messages properly.</p>\n<p>But as we moved project to <em>PROD</em>, we are getting <em>DEBUG</em> level log statements and amount of statements overwhelmed. <em><strong>We are trying to set logging levels to WARN or ERROR</strong></em> specifically for Kafka logs.</p>\n<p>In process we added <strong><code>logback.xml</code></strong> (added in main/resources) by following below article but no luck, also tried other solutions we came across in internet. (adding <em>log4j.properties</em> and <em>log4j2.xml</em>)</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/logback\" rel=\"noreferrer\">https://www.baeldung.com/logback</a></li>\n</ul>\n<p><strong>logback.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration name=&quot;default&quot;&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n       &lt;encoder&gt;\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;org.apache.kafka&quot;                 level=&quot;error&quot; /&gt;\n    &lt;logger name=&quot;org.apache.kafka.common.metrics&quot;  level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients&quot;         level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals&quot;          level=&quot;error&quot;/&gt;\n    &lt;logger name=&quot;org.apache.kafka.clients.consumer.internals.Fetcher&quot;  level=&quot;error&quot;/&gt;\n     \n    &lt;root level=&quot;error&quot; name=&quot;org.apache.kafka&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt; \n    \n&lt;/configuration&gt;\n</code></pre>\n<p><strong>Sample logs:</strong></p>\n<pre><code>[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=client-01, groupId=publisher] Cluster ID: Udhjf-fdbfds\n[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=client-01, groupId=publisher] Discovered group coordinator 127.....0 (id: 65654654654 rack: null)\n[org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator -  [Consumer clientId=client-01, groupId=publisher] (Re-)joining group\n[WebSphere non-WLM Dispatch Thread t=008abcf0] WARN org.apache.kafka.clients.consumer.ConsumerConfig - The configuration 'schema.registry.url' was supplied but isn't a known config.\n[WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.7.1\n[WebSphere non-WLM Dispatch Thread t=008abcf0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 616tyu85d0d567566\n</code></pre>\n<p>Anyone came across similar situation or any leads will be really helpful.  Thanks in advance. :)</p>\n"},{"tags":["java","spring","spring-security","javabeans","deprecated"],"owner":{"account_id":28638621,"reputation":1,"user_id":21928225,"display_name":"IncognitoChief"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691047276,"creation_date":1691047276,"question_id":76825730,"body_markdown":"Im upgrading my project code to Spring 5, and Java 8 to 11. At first for the authentication.xml we used HttpSessionContextIntegrationFilter. Now we are trying to replace it with SecurityContextHolderFilter but not able to. As a temporary fix we used the deprecated class SecurityContextPersistanceFilter and it works for now but still need the solution for this.\r\n\r\nThe bean config in Java 8 used to be this\r\n\r\nAuthorization.xml -&gt; Java 8/Spring 2\r\n```\r\n&lt;bean id=&quot;httpSessionContextIntegrationFilter&quot; class=&quot;org.springframework.security.context.HttpSessionContextIntegrationFilter&quot;/&gt;\r\n```\r\nThe temporary fix --&gt; Java 11 (Its working but the class is deprecated)\r\n\r\n```\r\n&lt;bean id=&quot;securityContextPersistenceFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextPersistenceFilter&quot;/&gt;\r\n```\r\n\r\nThe actual Required Fix --&gt; Spring 5\r\n\r\n```\r\n\r\n&lt;bean id =&quot;securityContextHolderFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextHolderFilter&quot;&gt;\r\n   &lt;constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;securityContextRepository&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean name=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\r\n\r\n&lt;sec:http security-context-repository-ref=&quot;securityContextRepository&quot; security-context-explicit-save=&quot;true&quot;&gt;\r\n&lt;sec: form-login/&gt;\r\n&lt;/sec:http&gt;\r\n```\r\n\r\nI tried the last bean configuration in my FilterChain, but the principal header of my preAuth userDetail class comes as null. \r\n\r\nPlease let me know of a solution which fits my problem, anything helps.\r\nThanks","title":"Spring Security upgrade, SecurityContextPersistanceFilter to SecurityContextHolderFilter","body":"<p>Im upgrading my project code to Spring 5, and Java 8 to 11. At first for the authentication.xml we used HttpSessionContextIntegrationFilter. Now we are trying to replace it with SecurityContextHolderFilter but not able to. As a temporary fix we used the deprecated class SecurityContextPersistanceFilter and it works for now but still need the solution for this.</p>\n<p>The bean config in Java 8 used to be this</p>\n<p>Authorization.xml -&gt; Java 8/Spring 2</p>\n<pre><code>&lt;bean id=&quot;httpSessionContextIntegrationFilter&quot; class=&quot;org.springframework.security.context.HttpSessionContextIntegrationFilter&quot;/&gt;\n</code></pre>\n<p>The temporary fix --&gt; Java 11 (Its working but the class is deprecated)</p>\n<pre><code>&lt;bean id=&quot;securityContextPersistenceFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextPersistenceFilter&quot;/&gt;\n</code></pre>\n<p>The actual Required Fix --&gt; Spring 5</p>\n<pre><code>\n&lt;bean id =&quot;securityContextHolderFilter&quot; class=&quot;org.springframework.security.web.context.SecurityContextHolderFilter&quot;&gt;\n   &lt;constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;securityContextRepository&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean name=&quot;securityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\n\n&lt;sec:http security-context-repository-ref=&quot;securityContextRepository&quot; security-context-explicit-save=&quot;true&quot;&gt;\n&lt;sec: form-login/&gt;\n&lt;/sec:http&gt;\n</code></pre>\n<p>I tried the last bean configuration in my FilterChain, but the principal header of my preAuth userDetail class comes as null.</p>\n<p>Please let me know of a solution which fits my problem, anything helps.\nThanks</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1449359980,"post_id":34112301,"comment_id":55974567,"body_markdown":"What makes you think that this has anything to do with the code that you have shown here? Is your app in the foreground at the time? If not, Android can terminate your process at any point while it is in the background.","body":"What makes you think that this has anything to do with the code that you have shown here? Is your app in the foreground at the time? If not, Android can terminate your process at any point while it is in the background."},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449416865,"post_id":34112301,"comment_id":55987442,"body_markdown":"Its because app stops only after using that code.. Its kind of same time witch it takes to hide icon from launcher menu. If I dont set it to DISABLED it doesnt happens. Do you think the problem might be that I am accidentally calling it when its already DISABLED ?","body":"Its because app stops only after using that code.. Its kind of same time witch it takes to hide icon from launcher menu. If I dont set it to DISABLED it doesnt happens. Do you think the problem might be that I am accidentally calling it when its already DISABLED ?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449417351,"post_id":34112301,"comment_id":55987632,"body_markdown":"&quot;Its because app stops only after using that code&quot; -- what does &quot;app stops&quot; mean?","body":"&quot;Its because app stops only after using that code&quot; -- what does &quot;app stops&quot; mean?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449420328,"post_id":34112301,"comment_id":55988611,"body_markdown":"I have an activity where is check box, when chceck box is checked the code above is executed. When unchecked, the same code with COMPONENT_ENABLED_STATE_ENABLED is executed.  But when I check that box and wait like 10-15 seconds, the app window disappears with no warning or error message, also app disappear from recent apps and icon is hidden.","body":"I have an activity where is check box, when chceck box is checked the code above is executed. When unchecked, the same code with COMPONENT_ENABLED_STATE_ENABLED is executed.  But when I check that box and wait like 10-15 seconds, the app window disappears with no warning or error message, also app disappear from recent apps and icon is hidden."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449420741,"post_id":34112301,"comment_id":55988777,"body_markdown":"Is the activity that you are disabling the one that has the checkbox and is in the foreground when it vanishes? Or is it some other activity that you are disabling?","body":"Is the activity that you are disabling the one that has the checkbox and is in the foreground when it vanishes? Or is it some other activity that you are disabling?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449421088,"post_id":34112301,"comment_id":55988904,"body_markdown":"SettingsActivity is in foreground, and contains the check box. I&#39;m disabling MainScreen activity because its the launch activity and I want to just hide app icon and don&#39;t know any other way how to do that.","body":"SettingsActivity is in foreground, and contains the check box. I&#39;m disabling MainScreen activity because its the launch activity and I want to just hide app icon and don&#39;t know any other way how to do that."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1449421160,"post_id":34112301,"comment_id":55988933,"body_markdown":"That&#39;s really bizarre. I&#39;ll try to run some tests to see if I can reproduce this problem this week. Have you tried this on more than one Android environment (e.g., multiple devices, or a device and an emulator)?","body":"That&#39;s really bizarre. I&#39;ll try to run some tests to see if I can reproduce this problem this week. Have you tried this on more than one Android environment (e.g., multiple devices, or a device and an emulator)?"},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449421673,"post_id":34112301,"comment_id":55989127,"body_markdown":"Tested on android 5.0 LG G3 and 5.1 Nvidia tegra note.. and its the same. I do really appreciate your help.   ..weird is that it&#39;s the same as if I dont use DONT_KILL_APP flag and just set it to 0 but the difference is 10 sec delay before it kills app.","body":"Tested on android 5.0 LG G3 and 5.1 Nvidia tegra note.. and its the same. I do really appreciate your help.   ..weird is that it&#39;s the same as if I dont use DONT_KILL_APP flag and just set it to 0 but the difference is 10 sec delay before it kills app."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1449447151,"post_id":34112301,"comment_id":55997624,"body_markdown":"Well, I can reproduce the problem. It&#39;s been around since 5.0; I can&#39;t reproduce the problem on 4.4. It doesn&#39;t seem task-related, as I tried having my first activity use `FLAG_ACTIVITY_NEW_TASK` when launching the second activity, but both activities were force-finished anyway. I don&#39;t know why it&#39;s doing this, but other than it being different than what it used to be, I don&#39;t know that this is strictly a bug. However, [somebody else filed a bug report](https://code.google.com/p/android/issues/detail?id=194353) that seems related.","body":"Well, I can reproduce the problem. It&#39;s been around since 5.0; I can&#39;t reproduce the problem on 4.4. It doesn&#39;t seem task-related, as I tried having my first activity use <code>FLAG_ACTIVITY_NEW_TASK</code> when launching the second activity, but both activities were force-finished anyway. I don&#39;t know why it&#39;s doing this, but other than it being different than what it used to be, I don&#39;t know that this is strictly a bug. However, <a href=\"https://code.google.com/p/android/issues/detail?id=194353\" rel=\"nofollow noreferrer\">somebody else filed a bug report</a> that seems related."},{"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"score":0,"creation_date":1449510503,"post_id":34112301,"comment_id":56027755,"body_markdown":"Hope they will fix it...  Do you know any other way how to hide icon from launcher?","body":"Hope they will fix it...  Do you know any other way how to hide icon from launcher?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1449511254,"post_id":34112301,"comment_id":56028204,"body_markdown":"You could try putting your `MAIN`/`LAUNCHER` `&lt;intent-filter&gt;` on an `&lt;activity-alias&gt;` that points to the actual launcher activity. Then, disable the alias. Since I do not know why the whole back stack is getting force-finished in the first place, I do not know if disabling an `activity-alias` instead of the underlying activity will help, but it&#39;s worth a try.","body":"You could try putting your <code>MAIN</code>/<code>LAUNCHER</code> <code>&lt;intent-filter&gt;</code> on an <code>&lt;activity-alias&gt;</code> that points to the actual launcher activity. Then, disable the alias. Since I do not know why the whole back stack is getting force-finished in the first place, I do not know if disabling an <code>activity-alias</code> instead of the underlying activity will help, but it&#39;s worth a try."}],"answers":[{"tags":[],"owner":{"account_id":1484122,"reputation":4273,"user_id":1392727,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494047302,"creation_date":1494047302,"answer_id":43816954,"question_id":34112301,"body_markdown":"First get your apps package name:\r\n    \r\n    String packageName = activity.getPackageName();\r\n\r\nThen set **clsDefault** from the name you must have defined in your &lt;activity-alias&gt; in your Manifest file.\r\n\r\n     &lt;activity-alias\r\n                android:name=&quot;.HomeScreen-Default&quot;...&gt;\r\n\r\n    public static String clsDefault = packageName + &quot;.HomeScreen-Default&quot;;\r\n\r\nThen use this to set the icon.\r\n\r\n    activity.getPackageManager().setComponentEnabledSetting(new ComponentName(packageName, clsDefault ),\r\n                        PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\r\n","title":"android PackageManager.DONT_KILL_APP seems to not work","body":"<p>First get your apps package name:</p>\n\n<pre><code>String packageName = activity.getPackageName();\n</code></pre>\n\n<p>Then set <strong>clsDefault</strong> from the name you must have defined in your  in your Manifest file.</p>\n\n<pre><code> &lt;activity-alias\n            android:name=\".HomeScreen-Default\"...&gt;\n\npublic static String clsDefault = packageName + \".HomeScreen-Default\";\n</code></pre>\n\n<p>Then use this to set the icon.</p>\n\n<pre><code>activity.getPackageManager().setComponentEnabledSetting(new ComponentName(packageName, clsDefault ),\n                    PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\n</code></pre>\n"}],"owner":{"account_id":5784344,"reputation":168,"user_id":4564083,"accept_rate":75,"display_name":"Alex Mensak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1691047007,"creation_date":1449359141,"question_id":34112301,"body_markdown":"In my recent project Im hiding app icon from launcher by using COMPONENT_ENABLED_STATE_DISABLED flag.\r\nHere you can see code: \r\n\r\n    PackageManager packageManager = SettingsActivity.this.getPackageManager();\r\n    ComponentName componentName = new ComponentName(SettingsActivity.this, MainScreen.class);\r\n\r\n    packageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\r\n\r\nThis is launched when user press checkBox. But some how every time after like 10-15 seconds the app sudently stop. Whith no error or message. \r\n\r\nI dont understand it because I have used DONT_KILL_APP flag..\r\n\r\nAny suggestions? ","title":"android PackageManager.DONT_KILL_APP seems to not work","body":"<p>In my recent project Im hiding app icon from launcher by using COMPONENT_ENABLED_STATE_DISABLED flag.\nHere you can see code: </p>\n\n<pre><code>PackageManager packageManager = SettingsActivity.this.getPackageManager();\nComponentName componentName = new ComponentName(SettingsActivity.this, MainScreen.class);\n\npackageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);\n</code></pre>\n\n<p>This is launched when user press checkBox. But some how every time after like 10-15 seconds the app sudently stop. Whith no error or message. </p>\n\n<p>I dont understand it because I have used DONT_KILL_APP flag..</p>\n\n<p>Any suggestions? </p>\n"},{"tags":["java","osgi","artifactory","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691053313,"post_id":76825639,"comment_id":135440345,"body_markdown":"Consider switching to the new way of creating Maven p2 sites that can be consumed directly: https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#creating-maven-p2-sites-with-tycho-packaging","body":"Consider switching to the new way of creating Maven p2 sites that can be consumed directly: <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#creating-maven-p2-sites-with-tycho-packaging\" rel=\"nofollow noreferrer\">github.com/eclipse-tycho/tycho/blob/master/&hellip;</a>"},{"owner":{"account_id":29149635,"reputation":1,"user_id":22330763,"display_name":"CPPC"},"score":0,"creation_date":1691054211,"post_id":76825639,"comment_id":135440556,"body_markdown":"Thanks for your advice however our project is currently using Tycho v2.7.5 and I don&#39;t know if I can upgrade without any sideeffects (old versions no longer building).\n\nI will have to look into your approach if I can update Tycho.","body":"Thanks for your advice however our project is currently using Tycho v2.7.5 and I don&#39;t know if I can upgrade without any sideeffects (old versions no longer building).  I will have to look into your approach if I can update Tycho."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1691054437,"post_id":76825639,"comment_id":135440596,"body_markdown":"For upgrading from 2.x to 4.x see [Migration guide 2.x -&gt; 3.x](https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-2x---3x) and [Migration guide 3.x &gt; 4.x](https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-3x--4x).","body":"For upgrading from 2.x to 4.x see <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-2x---3x\" rel=\"nofollow noreferrer\">Migration guide 2.x -&gt; 3.x</a> and <a href=\"https://github.com/eclipse-tycho/tycho/blob/master/RELEASE_NOTES.md#migration-guide-3x--4x\" rel=\"nofollow noreferrer\">Migration guide 3.x &gt; 4.x</a>."}],"owner":{"account_id":29149635,"reputation":1,"user_id":22330763,"display_name":"CPPC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691046398,"creation_date":1691046398,"question_id":76825639,"body_markdown":"# *My task:*\r\nI am in the process of migrating our repositories hosted on premise Nexus to JFrog Artifactory and i am stuck at support for OSGi-bundles (upload and dependency-resolution).\r\n\r\n# *Current situation:*\r\nCurrently we develop, build, deploy and consume our own OSGi-bundles via Nexus. The OSGi-bundle gets built and deployed (with Maven and Tycho) to Nexus as ZIP/JAR. On Nexus we use a plugin ([Tycho/Nexus Unzip Plugin](https://wiki.eclipse.org/Tycho/Nexus_Unzip_Plugin)) that mirrors and unzips the OSGi-bundles and makes them available as a virtual repository. This enables Maven with the Tycho-plugin to resolve dependencies when consuming those OSGi-bundles.\r\n\r\nA example structure in the SNAPSHOT repository on Nexus:\r\n\r\n```\r\n+- Snapshots\r\n +--- A0\r\n  +--- A1\r\n   +--- A2\r\n    +--- 1.*.*-SNAPSHOT\r\n    |+-- A2-1.*.*.zip\r\n    |+-- A2-1.*.*.pom\r\n    |+-- A2-1.*.*-p2artifacts.xml\r\n    |+-- A2-1.*.*-p2metadata.xml\r\n```\r\n\r\nAnd the corresponding structure generated by Tycho/Nexus Unzip Plugin on Nexus:\r\n\r\n```\r\n+- Snapshots-Unzip for P2\r\n +--- A0\r\n  +--- A1\r\n   +--- A2\r\n    +--- 1.*.*-SNAPSHOT\r\n     +--- A2-1.*.*-SNAPSHOT.zip-unzip\r\n     |+-- features\r\n     |+-- plugins\r\n     |+-- artifacts.jar\r\n     |+-- artifacts.xml.xz\r\n     |+-- content.jar\r\n     |+-- content.xml.xz\r\n     |+-- p2.index\r\n```\r\n\r\nThe dependency (A2 in this case) is included in the *.target.target file by pointing to the location of the unzip-repository: [http://\\*\\*\\*\\*\\*:\\*\\*\\*\\*/nexus/service/local/repositories/Snapshot-Unzip/content/A0/A1/A2/1.\\*.\\*-SNAPSHOT/A2-1.\\*.\\*-SNAPSHOT.zip-unzip](https://stackoverflow.com)\r\n\r\n\r\n# *My problem:*\r\nThere seems to be no solution to implicitly or explicitly provide the deployed OSGi-bundles unziped as Nexus with the Tycho/Nexus Unzip Plugin does on JFrog Artifactory.\r\n\r\n# *My research and attempts:*\r\nOfficial documentations of JFrog Artifactory suggest that there is explicit support for P2-repositories ([P2-repositories](https://jfrog.com/help/r/jfrog-artifactory-documentation/p2-repositories)). However when attempting to replicate the steps the results were not what I was expecting.\r\n\r\n- We do not have one OSGi-bundle but multiple with multiple versions (SNAPSHOT &amp; RELEASE) in each corresponding repository\r\n- When creating a virtual P2-repository and trying to include a local repository (where our OSGi-bundles reside) I have to point to the metadata directly and cannot include a whole repository\r\n- Also when pointing to the metadata which resides in a ZIP, the documentation suggests to finish the subpath/URL with &#39;!&#39;. This however does nothing and dependency resolution during build process fails\r\n\r\n# *My expectations:*\r\nThe current use-case is something that was implemented long before I started working and needs to be supported for existing applications. I cannot change the way the applications depend and resolve OSGi-bundles. I &quot;just&quot; need to replicate the current behavior of Nexus in JFrog Artifactory (ideally).\r\n\r\nIs there a approach I could try or some implementation detail in JFrog Artifactory that I missed?\r\nThanks!","title":"JFrog Artifactory support for OSGi-Bundles &amp; Tycho-Plugin","body":"<h1><em>My task:</em></h1>\n<p>I am in the process of migrating our repositories hosted on premise Nexus to JFrog Artifactory and i am stuck at support for OSGi-bundles (upload and dependency-resolution).</p>\n<h1><em>Current situation:</em></h1>\n<p>Currently we develop, build, deploy and consume our own OSGi-bundles via Nexus. The OSGi-bundle gets built and deployed (with Maven and Tycho) to Nexus as ZIP/JAR. On Nexus we use a plugin (<a href=\"https://wiki.eclipse.org/Tycho/Nexus_Unzip_Plugin\" rel=\"nofollow noreferrer\">Tycho/Nexus Unzip Plugin</a>) that mirrors and unzips the OSGi-bundles and makes them available as a virtual repository. This enables Maven with the Tycho-plugin to resolve dependencies when consuming those OSGi-bundles.</p>\n<p>A example structure in the SNAPSHOT repository on Nexus:</p>\n<pre><code>+- Snapshots\n +--- A0\n  +--- A1\n   +--- A2\n    +--- 1.*.*-SNAPSHOT\n    |+-- A2-1.*.*.zip\n    |+-- A2-1.*.*.pom\n    |+-- A2-1.*.*-p2artifacts.xml\n    |+-- A2-1.*.*-p2metadata.xml\n</code></pre>\n<p>And the corresponding structure generated by Tycho/Nexus Unzip Plugin on Nexus:</p>\n<pre><code>+- Snapshots-Unzip for P2\n +--- A0\n  +--- A1\n   +--- A2\n    +--- 1.*.*-SNAPSHOT\n     +--- A2-1.*.*-SNAPSHOT.zip-unzip\n     |+-- features\n     |+-- plugins\n     |+-- artifacts.jar\n     |+-- artifacts.xml.xz\n     |+-- content.jar\n     |+-- content.xml.xz\n     |+-- p2.index\n</code></pre>\n<p>The dependency (A2 in this case) is included in the *.target.target file by pointing to the location of the unzip-repository: <a href=\"https://stackoverflow.com\">http://*****:****/nexus/service/local/repositories/Snapshot-Unzip/content/A0/A1/A2/1.*.*-SNAPSHOT/A2-1.*.*-SNAPSHOT.zip-unzip</a></p>\n<h1><em>My problem:</em></h1>\n<p>There seems to be no solution to implicitly or explicitly provide the deployed OSGi-bundles unziped as Nexus with the Tycho/Nexus Unzip Plugin does on JFrog Artifactory.</p>\n<h1><em>My research and attempts:</em></h1>\n<p>Official documentations of JFrog Artifactory suggest that there is explicit support for P2-repositories (<a href=\"https://jfrog.com/help/r/jfrog-artifactory-documentation/p2-repositories\" rel=\"nofollow noreferrer\">P2-repositories</a>). However when attempting to replicate the steps the results were not what I was expecting.</p>\n<ul>\n<li>We do not have one OSGi-bundle but multiple with multiple versions (SNAPSHOT &amp; RELEASE) in each corresponding repository</li>\n<li>When creating a virtual P2-repository and trying to include a local repository (where our OSGi-bundles reside) I have to point to the metadata directly and cannot include a whole repository</li>\n<li>Also when pointing to the metadata which resides in a ZIP, the documentation suggests to finish the subpath/URL with '!'. This however does nothing and dependency resolution during build process fails</li>\n</ul>\n<h1><em>My expectations:</em></h1>\n<p>The current use-case is something that was implemented long before I started working and needs to be supported for existing applications. I cannot change the way the applications depend and resolve OSGi-bundles. I &quot;just&quot; need to replicate the current behavior of Nexus in JFrog Artifactory (ideally).</p>\n<p>Is there a approach I could try or some implementation detail in JFrog Artifactory that I missed?\nThanks!</p>\n"},{"tags":["java","bouncycastle","ecdh"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691046324,"creation_date":1691046324,"answer_id":76825635,"question_id":76333577,"body_markdown":"Actually an X9-style compressed public key can begin with 0x02 _or_ 0x03, depending on the parity of the omitted Y-coordinate.\r\n\r\nYou can read this with standard JCA `KeyFactory` by adding a fixed prefix that turns it into the correct DER encoding; this is the same idea as https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java/30471945#30471945 except with a different prefix due to the different curve, the inclusion of the 02/03 byte, and the different DER lengths.\r\n\r\n```\r\n    // given byte[] raw containing 33 bytes: 0x02/0x03 then 32-byte X-coordinate, on secp256k1\r\n    byte[] head = Base64.getDecoder().decode(&quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgA=&quot;);\r\n    byte[] combine = Arrays.copyOf(head,head.length+raw.length);\r\n    System.arraycopy(raw,0, combine,head.length, raw.length);\r\n    PublicKey pub = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(combine));\r\n```\r\n","title":"Java JCA ECDH Create public key from raw encoded X Point","body":"<p>Actually an X9-style compressed public key can begin with 0x02 <em>or</em> 0x03, depending on the parity of the omitted Y-coordinate.</p>\n<p>You can read this with standard JCA <code>KeyFactory</code> by adding a fixed prefix that turns it into the correct DER encoding; this is the same idea as <a href=\"https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java/30471945#30471945\">Loading raw 64-byte long ECDSA public key in Java</a> except with a different prefix due to the different curve, the inclusion of the 02/03 byte, and the different DER lengths.</p>\n<pre><code>    // given byte[] raw containing 33 bytes: 0x02/0x03 then 32-byte X-coordinate, on secp256k1\n    byte[] head = Base64.getDecoder().decode(&quot;MDYwEAYHKoZIzj0CAQYFK4EEAAoDIgA=&quot;);\n    byte[] combine = Arrays.copyOf(head,head.length+raw.length);\n    System.arraycopy(raw,0, combine,head.length, raw.length);\n    PublicKey pub = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(combine));\n</code></pre>\n"}],"owner":{"account_id":8373652,"reputation":1,"user_id":21239491,"display_name":"gus2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691046324,"creation_date":1685026005,"question_id":76333577,"body_markdown":"I tried to calculate ECDH secret using my private EC key and a ephemeral peer key. The peer key is in raw compressed byte format (i.e 0x02 + 32 bytes).\r\nI manage to do it using bouncycastle library, thank to the &quot;ECPoint org.bouncycastle.math.ec.ECCurve.decodePoint(byte[] arg0)&quot; method.\r\nUnfortunately, I&#39;m not able to find a way to perform the same operation using Java JCA.\r\nBouncycastle is not an option because the final project will be in a Java Card.\r\n\r\n\r\n            // convert bouncycastle public key to Java public key \r\n            ECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256k1&quot;);\r\n            ECPoint Q = publicKeyParams.getQ();\r\n            ECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\r\n            PublicKey javaPublicKey = keyFactory.generatePublic(pubSpec);\r\n\r\ngive &quot;The constructor ECPublicKeySpec(ECPoint, ECPublicKeySpec) is undefined&quot;","title":"Java JCA ECDH Create public key from raw encoded X Point","body":"<p>I tried to calculate ECDH secret using my private EC key and a ephemeral peer key. The peer key is in raw compressed byte format (i.e 0x02 + 32 bytes).\nI manage to do it using bouncycastle library, thank to the &quot;ECPoint org.bouncycastle.math.ec.ECCurve.decodePoint(byte[] arg0)&quot; method.\nUnfortunately, I'm not able to find a way to perform the same operation using Java JCA.\nBouncycastle is not an option because the final project will be in a Java Card.</p>\n<pre><code>        // convert bouncycastle public key to Java public key \n        ECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256k1&quot;);\n        ECPoint Q = publicKeyParams.getQ();\n        ECPublicKeySpec pubSpec = new ECPublicKeySpec(Q, ecSpec);\n        PublicKey javaPublicKey = keyFactory.generatePublic(pubSpec);\n</code></pre>\n<p>give &quot;The constructor ECPublicKeySpec(ECPoint, ECPublicKeySpec) is undefined&quot;</p>\n"},{"tags":["java","multithreading","apache","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1514807487,"post_id":48048606,"comment_id":83070357,"body_markdown":"https://poi.apache.org/faq.html#faq-N10224","body":"<a href=\"https://poi.apache.org/faq.html#faq-N10224\" rel=\"nofollow noreferrer\">poi.apache.org/faq.html#faq-N10224</a>"},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514807574,"post_id":48048606,"comment_id":83070377,"body_markdown":"@AxelRichter Thanks but this addresses to issue with &quot;Accessing the same document in multiple threads will not work&quot;\nthe issue is not with the same document. every thread creates a different document but they all have the same java.io.tmpdir and one thread sometimes deletes it for the other threads","body":"@AxelRichter Thanks but this addresses to issue with &quot;Accessing the same document in multiple threads will not work&quot; the issue is not with the same document. every thread creates a different document but they all have the same java.io.tmpdir and one thread sometimes deletes it for the other threads"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1514808031,"post_id":48048606,"comment_id":83070488,"body_markdown":"Sorry that this was not clear form the code which you had not provided.","body":"Sorry that this was not clear form the code which you had not provided."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1514824402,"post_id":48048606,"comment_id":83074479,"body_markdown":"i seriously doubt poi is deleting the tmp dir.  that is shared by the _entire_ jvm, so that would be a big no-no.  the poi library is very mature and i seriously doubt bad behavior like that would still exist in the library.  are you deleting any files/directories in your code?  what&#39;s the full stack trace of the exception?","body":"i seriously doubt poi is deleting the tmp dir.  that is shared by the <i>entire</i> jvm, so that would be a big no-no.  the poi library is very mature and i seriously doubt bad behavior like that would still exist in the library.  are you deleting any files/directories in your code?  what&#39;s the full stack trace of the exception?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1514875039,"post_id":48048606,"comment_id":83085250,"body_markdown":"@peroxide: Are you satisfied with the given answers? No? Well as a member for such a long time you should know why. Yo have not provided any code which shows your problem. You have provided an error but neither the whole error message nor the stacktrace. So how shall somebody be able giving any satisfying answer?","body":"@peroxide: Are you satisfied with the given answers? No? Well as a member for such a long time you should know why. Yo have not provided any code which shows your problem. You have provided an error but neither the whole error message nor the stacktrace. So how shall somebody be able giving any satisfying answer?"},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514881014,"post_id":48048606,"comment_id":83087421,"body_markdown":"@jtahlborn i&#39;m giving the application a different java.io.tmpdir and its not using the default one. thats why i know that it must be the POI thats deleting it.","body":"@jtahlborn i&#39;m giving the application a different java.io.tmpdir and its not using the default one. thats why i know that it must be the POI thats deleting it."},{"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"score":0,"creation_date":1514881121,"post_id":48048606,"comment_id":83087449,"body_markdown":"@AxelRichter i&#39;ve provided everything there is to know about the issue. the code in this case would have just confused people. the apache poi implementation is the same as in their documentation. but thanks for the comment","body":"@AxelRichter i&#39;ve provided everything there is to know about the issue. the code in this case would have just confused people. the apache poi implementation is the same as in their documentation. but thanks for the comment"}],"answers":[{"tags":[],"owner":{"account_id":8184603,"reputation":23,"user_id":6160760,"display_name":"wonk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514808514,"creation_date":1514808514,"answer_id":48049523,"question_id":48048606,"body_markdown":"I may first check if your methods, in relation to write those .xlsx files, are thread safe. \nAnd your theads may race to write the same files concurrently. ","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>I may first check if your methods, in relation to write those .xlsx files, are thread safe. \nAnd your theads may race to write the same files concurrently. </p>\n"},{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514823578,"creation_date":1514823578,"answer_id":48051265,"question_id":48048606,"body_markdown":"One solution will be while creating temp directory then thread should append some prefix to identify uniquely .So there will be no concurrent modification to same folder.\r\n\r\nWhile implementation you have to consider how many request can simultaneously process.You can not create lot of directory.\r\n\r\nOne solution will be using thread pool and a queue to hold request if request is coming more than you can process.\r\n\r\nor If there is similarity in content then you can create a template and change some data dynamically.So only clone will work\r\n   ","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>One solution will be while creating temp directory then thread should append some prefix to identify uniquely .So there will be no concurrent modification to same folder.</p>\n\n<p>While implementation you have to consider how many request can simultaneously process.You can not create lot of directory.</p>\n\n<p>One solution will be using thread pool and a queue to hold request if request is coming more than you can process.</p>\n\n<p>or If there is similarity in content then you can create a template and change some data dynamically.So only clone will work</p>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691046053,"creation_date":1691046053,"answer_id":76825609,"question_id":48048606,"body_markdown":"The solution for me was to forbide POI to delete the directory when empty (from https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4)\r\n\r\n    touch /tmp/poifiles/.dontdeleteonexitonnonuniquedirectories\r\n\r\n","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>The solution for me was to forbide POI to delete the directory when empty (from <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=57200#c4</a>)</p>\n<pre><code>touch /tmp/poifiles/.dontdeleteonexitonnonuniquedirectories\n</code></pre>\n"}],"owner":{"account_id":218102,"reputation":696,"user_id":474255,"accept_rate":90,"display_name":"peroxide"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1436,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48051265,"answer_count":3,"score":0,"last_activity_date":1691046053,"creation_date":1514799850,"question_id":48048606,"body_markdown":"I have a java application that gets a request to create an XLSX file.  \r\nthis application is multi-threaded which means that 5 users simultaneously can run a report.  \r\nmy issue is that when the report is huge and 5 users create reports together i get this message `java.io.IOException: Could not create temporary directory &#39;`\r\nthis is probably caused because one of the 5 threads deleted the java.tmp.dir and the other 4 threads failed.\r\n\r\nhow do i resolve that?  \r\none of my suggested solutions is to give each thread a different java.io.tmpdir, is that something that can be done?","title":"Apache POI gets java.io.IOException on tmp dir in multithread","body":"<p>I have a java application that gets a request to create an XLSX file.<br>\nthis application is multi-threaded which means that 5 users simultaneously can run a report.<br>\nmy issue is that when the report is huge and 5 users create reports together i get this message <code>java.io.IOException: Could not create temporary directory '</code>\nthis is probably caused because one of the 5 threads deleted the java.tmp.dir and the other 4 threads failed.</p>\n\n<p>how do i resolve that?<br>\none of my suggested solutions is to give each thread a different java.io.tmpdir, is that something that can be done?</p>\n"},{"tags":["java","string","if-statement"],"comments":[{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":5,"creation_date":1327431091,"post_id":8992100,"comment_id":11268987,"body_markdown":"Are you asking if a string is **equal** to any of the strings in the array, or **contains** any of the strings from in the array?","body":"Are you asking if a string is <b>equal</b> to any of the strings in the array, or <b>contains</b> any of the strings from in the array?"},{"owner":{"account_id":140564,"reputation":3522,"user_id":346980,"display_name":"Savino Sguera"},"score":1,"creation_date":1327431208,"post_id":8992100,"comment_id":11269017,"body_markdown":"You want to check if any string from the array is a substring of your input string? Or you want to check if your input string *equals* one of the string in the array? Can you be more precise?","body":"You want to check if any string from the array is a substring of your input string? Or you want to check if your input string <i>equals</i> one of the string in the array? Can you be more precise?"},{"owner":{"account_id":1058727,"reputation":2281,"user_id":1060828,"accept_rate":86,"display_name":"arowell"},"score":1,"creation_date":1327438745,"post_id":8992100,"comment_id":11271651,"body_markdown":"contains, so that it takes a line and sees if it contains any of the words from a list (stored as an array of strings)","body":"contains, so that it takes a line and sees if it contains any of the words from a list (stored as an array of strings)"}],"answers":[{"tags":[],"owner":{"account_id":1045150,"reputation":1865,"user_id":1050319,"display_name":"Roy Kachouh"},"down_vote_count":36,"up_vote_count":49,"is_accepted":false,"score":13,"last_activity_date":1375631037,"creation_date":1327430181,"answer_id":8992141,"question_id":8992100,"body_markdown":"The easiest way would probably be to convert the array into a java.util.ArrayList.  Once it is in an arraylist, you can easily leverage the contains method.\r\n\r\n\tpublic static boolean bagOfWords(String str)\r\n\t{\r\n\t\tString[] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word4&quot;, &quot;word5&quot;};  \r\n\t\treturn (Arrays.asList(words).contains(str));\r\n\t}","title":"Test if a string contains any of the strings from an array","body":"<p>The easiest way would probably be to convert the array into a java.util.ArrayList.  Once it is in an arraylist, you can easily leverage the contains method.</p>\n\n<pre><code>public static boolean bagOfWords(String str)\n{\n    String[] words = {\"word1\", \"word2\", \"word3\", \"word4\", \"word5\"};  \n    return (Arrays.asList(words).contains(str));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":14,"up_vote_count":16,"is_accepted":false,"score":2,"last_activity_date":1616684462,"creation_date":1327430221,"answer_id":8992155,"question_id":8992100,"body_markdown":"Try this:\r\n\r\n    if (Arrays.stream(new String[] {item1, item2, item3}).anyMatch(inputStr::contains))","title":"Test if a string contains any of the strings from an array","body":"<p>Try this:</p>\n<pre><code>if (Arrays.stream(new String[] {item1, item2, item3}).anyMatch(inputStr::contains))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"down_vote_count":11,"up_vote_count":5,"is_accepted":false,"score":-6,"last_activity_date":1327430276,"creation_date":1327430276,"answer_id":8992168,"question_id":8992100,"body_markdown":"    if (Arrays.asList(array).contains(string))","title":"Test if a string contains any of the strings from an array","body":"<pre><code>if (Arrays.asList(array).contains(string))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1327430321,"creation_date":1327430321,"answer_id":8992179,"question_id":8992100,"body_markdown":"You can use [String#matches][1] method like this:\r\n\r\n    System.out.printf(&quot;Matches - [%s]%n&quot;, string.matches(&quot;^.*?(item1|item2|item3).*$&quot;));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#matches%28java.lang.String%29","title":"Test if a string contains any of the strings from an array","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"noreferrer\">String#matches</a> method like this:</p>\n\n<pre><code>System.out.printf(\"Matches - [%s]%n\", string.matches(\"^.*?(item1|item2|item3).*$\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237972,"reputation":4709,"user_id":506544,"accept_rate":46,"display_name":"Prahalad Deshpande"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1327430617,"creation_date":1327430617,"answer_id":8992248,"question_id":8992100,"body_markdown":"The below should work for you assuming **Strings** is the array that you are searching within:\r\n\r\n    Arrays.binarySearch(Strings,&quot;mykeytosearch&quot;,mysearchComparator);\r\n\r\nwhere mykeytosearch is the string that you want to test for existence within the array.\r\nmysearchComparator - is a comparator that would be used to compare strings.\r\n\r\nRefer to [Arrays.binarySearch][1] for more information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28T%5B%5D,%20T,%20java.util.Comparator%29","title":"Test if a string contains any of the strings from an array","body":"<p>The below should work for you assuming <strong>Strings</strong> is the array that you are searching within:</p>\n\n<pre><code>Arrays.binarySearch(Strings,\"mykeytosearch\",mysearchComparator);\n</code></pre>\n\n<p>where mykeytosearch is the string that you want to test for existence within the array.\nmysearchComparator - is a comparator that would be used to compare strings.</p>\n\n<p>Refer to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#binarySearch%28T%5B%5D,%20T,%20java.util.Comparator%29\" rel=\"nofollow\">Arrays.binarySearch</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"down_vote_count":3,"up_vote_count":267,"is_accepted":true,"score":264,"last_activity_date":1596567320,"creation_date":1327448662,"answer_id":8995988,"question_id":8992100,"body_markdown":"EDIT: Here is an update using the Java 8 Streaming API. So much cleaner. Can still be combined with regular expressions too.\r\n\r\n    public static boolean stringContainsItemFromList(String inputStr, String[] items) {\r\n        return Arrays.stream(items).anyMatch(inputStr::contains);\r\n    }\r\n\r\nAlso, if we change the input type to a List instead of an array we can use `items.stream().anyMatch(inputStr::contains)`.\r\n\r\nYou can also use `.filter(inputStr::contains).findAny()` if you wish to return the matching string.\r\n\r\n**Important:** the above code can be done using `parallelStream()` but most of the time this will actually hinder performance. See [this question for more details on parallel streaming][1].\r\n\r\n\r\n----------\r\n\r\nOriginal slightly dated answer:\r\n\r\nHere is a (VERY BASIC) static method. Note that it is case sensitive on the comparison strings. A **primitive** way to make it case insensitive would be to call `toLowerCase()` or `toUpperCase()` on both the input and test strings.\r\n\r\nIf you need to do anything more complicated than this, I would recommend looking at the [Pattern][2] and [Matcher][3] classes and learning how to do some regular expressions. Once you understand those, you can use those classes or the `String.matches()` helper method.\r\n\r\n    public static boolean stringContainsItemFromList(String inputStr, String[] items)\r\n    {\r\n        for(int i =0; i &lt; items.length; i++)\r\n        {\r\n            if(inputStr.contains(items[i]))\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html","title":"Test if a string contains any of the strings from an array","body":"<p>EDIT: Here is an update using the Java 8 Streaming API. So much cleaner. Can still be combined with regular expressions too.</p>\n<pre><code>public static boolean stringContainsItemFromList(String inputStr, String[] items) {\n    return Arrays.stream(items).anyMatch(inputStr::contains);\n}\n</code></pre>\n<p>Also, if we change the input type to a List instead of an array we can use <code>items.stream().anyMatch(inputStr::contains)</code>.</p>\n<p>You can also use <code>.filter(inputStr::contains).findAny()</code> if you wish to return the matching string.</p>\n<p><strong>Important:</strong> the above code can be done using <code>parallelStream()</code> but most of the time this will actually hinder performance. See <a href=\"https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\">this question for more details on parallel streaming</a>.</p>\n<hr />\n<p>Original slightly dated answer:</p>\n<p>Here is a (VERY BASIC) static method. Note that it is case sensitive on the comparison strings. A <strong>primitive</strong> way to make it case insensitive would be to call <code>toLowerCase()</code> or <code>toUpperCase()</code> on both the input and test strings.</p>\n<p>If you need to do anything more complicated than this, I would recommend looking at the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a> classes and learning how to do some regular expressions. Once you understand those, you can use those classes or the <code>String.matches()</code> helper method.</p>\n<pre><code>public static boolean stringContainsItemFromList(String inputStr, String[] items)\n{\n    for(int i =0; i &lt; items.length; i++)\n    {\n        if(inputStr.contains(items[i]))\n        {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670,"reputation":686,"user_id":2249,"accept_rate":43,"display_name":"Ivan Arrizabalaga"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1384771453,"creation_date":1384771453,"answer_id":20045785,"question_id":8992100,"body_markdown":"A more groovyesque approach would be to use **inject** in combination with **metaClass**:\r\n\r\nI would to love to say:\r\n\r\n    String myInput=&quot;This string is FORBIDDEN&quot;\r\n    myInput.containsAny([&quot;FORBIDDEN&quot;,&quot;NOT_ALLOWED&quot;]) //=&gt;true\r\n\r\nAnd the method would be:\r\n\r\n    myInput.metaClass.containsAny={List&lt;String&gt; notAllowedTerms-&gt;\r\n       notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\r\n    }\r\n\r\nIf you need **containsAny** to be present for any future String variable then add the method to the class instead of the object:\r\n\r\n    String.metaClass.containsAny={notAllowedTerms-&gt;\r\n       notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>A more groovyesque approach would be to use <strong>inject</strong> in combination with <strong>metaClass</strong>:</p>\n\n<p>I would to love to say:</p>\n\n<pre><code>String myInput=\"This string is FORBIDDEN\"\nmyInput.containsAny([\"FORBIDDEN\",\"NOT_ALLOWED\"]) //=&gt;true\n</code></pre>\n\n<p>And the method would be:</p>\n\n<pre><code>myInput.metaClass.containsAny={List&lt;String&gt; notAllowedTerms-&gt;\n   notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\n}\n</code></pre>\n\n<p>If you need <strong>containsAny</strong> to be present for any future String variable then add the method to the class instead of the object:</p>\n\n<pre><code>String.metaClass.containsAny={notAllowedTerms-&gt;\n   notAllowedTerms?.inject(false,{found,term-&gt;found || delegate.contains(term)})\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1442250151,"creation_date":1432819028,"answer_id":30507707,"question_id":8992100,"body_markdown":"\r\n\r\n    import org.apache.commons.lang.StringUtils;\r\n\r\n\r\n&lt;a href=&quot;https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html&quot;&gt;String Utils&lt;/a&gt;\r\n\r\nUse: \r\n\r\n    StringUtils.indexOfAny(inputString, new String[]{item1, item2, item3})\r\n\r\nIt will return the index of the string found or -1 if none is found.\r\n\r\n","title":"Test if a string contains any of the strings from an array","body":"<pre><code>import org.apache.commons.lang.StringUtils;\n</code></pre>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\">String Utils</a></p>\n\n<p>Use: </p>\n\n<pre><code>StringUtils.indexOfAny(inputString, new String[]{item1, item2, item3})\n</code></pre>\n\n<p>It will return the index of the string found or -1 if none is found.</p>\n"},{"tags":[],"owner":{"account_id":1931986,"reputation":3714,"user_id":3990012,"accept_rate":64,"display_name":"serup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452078645,"creation_date":1452078645,"answer_id":34631682,"question_id":8992100,"body_markdown":"Here is one solution :\r\n\r\n    public static boolean containsAny(String str, String[] words)\r\n    {\r\n       boolean bResult=false; // will be set, if any of the words are found\r\n       //String[] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word4&quot;, &quot;word5&quot;};\r\n        \r\n       List&lt;String&gt; list = Arrays.asList(words);\r\n       for (String word: list ) {\r\n           boolean bFound = str.contains(word);\r\n           if (bFound) {bResult=bFound; break;}\r\n       }\r\n       return bResult;\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>Here is one solution :</p>\n\n<pre><code>public static boolean containsAny(String str, String[] words)\n{\n   boolean bResult=false; // will be set, if any of the words are found\n   //String[] words = {\"word1\", \"word2\", \"word3\", \"word4\", \"word5\"};\n\n   List&lt;String&gt; list = Arrays.asList(words);\n   for (String word: list ) {\n       boolean bFound = str.contains(word);\n       if (bFound) {bResult=bFound; break;}\n   }\n   return bResult;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1537372952,"creation_date":1472629362,"answer_id":39243572,"question_id":8992100,"body_markdown":"If you use **Java 8** or above, you can rely on the [Stream API][1] to do such thing:\r\n\r\n    public static boolean containsItemFromArray(String inputString, String[] items) {\r\n        // Convert the array of String items as a Stream\r\n        // For each element of the Stream call inputString.contains(element)\r\n        // If you have any match returns true, false otherwise\r\n        return Arrays.stream(items).anyMatch(inputString::contains);\r\n    }\r\n\r\nAssuming that you have a big array of big `String` to test you could also launch the search in parallel by calling [`parallel()`][2], the code would then be:\r\n\r\n    return Arrays.stream(items).parallel().anyMatch(inputString::contains); \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--","title":"Test if a string contains any of the strings from an array","body":"<p>If you use <strong>Java 8</strong> or above, you can rely on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">Stream API</a> to do such thing:</p>\n\n<pre><code>public static boolean containsItemFromArray(String inputString, String[] items) {\n    // Convert the array of String items as a Stream\n    // For each element of the Stream call inputString.contains(element)\n    // If you have any match returns true, false otherwise\n    return Arrays.stream(items).anyMatch(inputString::contains);\n}\n</code></pre>\n\n<p>Assuming that you have a big array of big <code>String</code> to test you could also launch the search in parallel by calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\" rel=\"noreferrer\"><code>parallel()</code></a>, the code would then be:</p>\n\n<pre><code>return Arrays.stream(items).parallel().anyMatch(inputString::contains); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611680645,"creation_date":1486131428,"answer_id":42026309,"question_id":8992100,"body_markdown":"And if you are looking for case insensitive match, use pattern\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\bitem1 |item2\\\\b&quot;,java.util.regex.Pattern.CASE_INSENSITIVE);\r\n    \r\n    Matcher matcher = pattern.matcher(input);\r\n    if (matcher.find()) { \r\n        ...\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>And if you are looking for case insensitive match, use pattern</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;\\\\bitem1 |item2\\\\b&quot;,java.util.regex.Pattern.CASE_INSENSITIVE);\n\nMatcher matcher = pattern.matcher(input);\nif (matcher.find()) { \n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863928,"reputation":1551,"user_id":2458597,"accept_rate":90,"display_name":"Arthur Va&#239;sse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527076370,"creation_date":1527076370,"answer_id":50487728,"question_id":8992100,"body_markdown":"Since version 3.4 Apache Common Lang 3 implement the [containsAny][1] method.\r\n\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence...-","title":"Test if a string contains any of the strings from an array","body":"<p>Since version 3.4 Apache Common Lang 3 implement the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\">containsAny</a> method.</p>\n"},{"tags":[],"owner":{"account_id":2417032,"reputation":2316,"user_id":2110865,"accept_rate":50,"display_name":"thanos.a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574281498,"creation_date":1574281498,"answer_id":58962793,"question_id":8992100,"body_markdown":"If you are seraching for **whole** **words** you can do this that works **case** **insensitive**.\r\n\r\n\r\n    private boolean containsKeyword(String line, String[] keywords)\r\n    {\r\n        String[] inputWords = line.split(&quot; &quot;);\r\n    \t\r\n    \tfor (String inputWord : inputWords)\r\n    \t{\r\n    \t\tfor (String keyword : keywords)\r\n    \t\t{\r\n    \t\t\tif (inputWord.equalsIgnoreCase(keyword))\r\n    \t\t\t{\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn false;\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>If you are seraching for <strong>whole</strong> <strong>words</strong> you can do this that works <strong>case</strong> <strong>insensitive</strong>.</p>\n\n<pre><code>private boolean containsKeyword(String line, String[] keywords)\n{\n    String[] inputWords = line.split(\" \");\n\n    for (String inputWord : inputWords)\n    {\n        for (String keyword : keywords)\n        {\n            if (inputWord.equalsIgnoreCase(keyword))\n            {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17558967,"reputation":33,"user_id":12737847,"display_name":"Chandan Kolambe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594728552,"creation_date":1594728552,"answer_id":62894865,"question_id":8992100,"body_markdown":"We can also do like this:\r\n```\r\nif (string.matches(&quot;^.*?((?i)item1|item2|item3).*$&quot;))\r\n```\r\n\r\n```\r\n(?i): used for case insensitive\r\n.*? &amp; .*$: used for checking whether it is present anywhere in between the string.\r\n```","title":"Test if a string contains any of the strings from an array","body":"<p>We can also do like this:</p>\n<pre><code>if (string.matches(&quot;^.*?((?i)item1|item2|item3).*$&quot;))\n</code></pre>\n<pre><code>(?i): used for case insensitive\n.*? &amp; .*$: used for checking whether it is present anywhere in between the string.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10432865,"reputation":95,"user_id":7692155,"display_name":"H.Step"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1686163472,"creation_date":1632320761,"answer_id":69286176,"question_id":8992100,"body_markdown":"in Kotlin\r\n\r\n    if ( arrayOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;).find{ &quot;onetw&quot;.contains(it) } != null ) {\r\n        doStuff()\r\n    }","title":"Test if a string contains any of the strings from an array","body":"<p>in Kotlin</p>\n<pre><code>if ( arrayOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;).find{ &quot;onetw&quot;.contains(it) } != null ) {\n    doStuff()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11445284,"reputation":631,"user_id":8389388,"display_name":"Pines Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691045893,"creation_date":1691045893,"answer_id":76825586,"question_id":8992100,"body_markdown":"In Apache common lang 3 support check contains any Strings. Try it:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    ...\r\n    \r\n    if(StringUtils.containsAny(string, item1, item2, item3)){\r\n       // your code\r\n    }\r\n\r\n ","title":"Test if a string contains any of the strings from an array","body":"<p>In Apache common lang 3 support check contains any Strings. Try it:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\n...\n\nif(StringUtils.containsAny(string, item1, item2, item3)){\n   // your code\n}\n</code></pre>\n"}],"owner":{"account_id":1058727,"reputation":2281,"user_id":1060828,"accept_rate":86,"display_name":"arowell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367967,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":8995988,"answer_count":16,"score":199,"last_activity_date":1691045893,"creation_date":1327429970,"question_id":8992100,"body_markdown":"How do I test a string to see if it contains any of the strings from an array?\r\n\r\nInstead of using\r\n\r\n    if (string.contains(item1) || string.contains(item2) || string.contains(item3))","title":"Test if a string contains any of the strings from an array","body":"<p>How do I test a string to see if it contains any of the strings from an array?</p>\n\n<p>Instead of using</p>\n\n<pre><code>if (string.contains(item1) || string.contains(item2) || string.contains(item3))\n</code></pre>\n"},{"tags":["java","spring-boot","whatsapp-cloud-api"],"answers":[{"tags":[],"owner":{"account_id":9197872,"reputation":636,"user_id":6836002,"accept_rate":50,"display_name":"Navjot Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691045875,"creation_date":1691045875,"answer_id":76825584,"question_id":76698136,"body_markdown":"you will need to create a template first and then send the message using message template. \r\nCheck https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates for more info","title":"WhatsApp for business API integration using Cloud API","body":"<p>you will need to create a template first and then send the message using message template.\nCheck <a href=\"https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/whatsapp/cloud-api/guides/send-message-templates</a> for more info</p>\n"}],"owner":{"account_id":29027513,"reputation":1,"user_id":22235328,"display_name":"SANJAY RAJ H B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691045875,"creation_date":1689508746,"question_id":76698136,"body_markdown":"How can I integrate my WhatsApp for business (not using any 3rd party tools like Pabbly, WANotifier, etc.) to send a pdf document (Purchase Order details) to the customers without having to send a welcome text message and the customer not having to reply back with anything to receive the pdf document (Purchase Order details)?.\r\n\r\n**Note: if this is not possible then how does MakeMyTrip and book my show works where in which when we book tickets or shows we receive a pdf file (booking details) without we in person initiating the conversation of asking the booking details.**\r\n\r\nWent through the official MetaforDevelopers document https://developers.facebook.com/docs/whatsapp/cloud-api\r\nbut couldn&#39;t find any solutions.\r\n\r\nIf somebody finds something out of the document link attached above related to my requirement, please let me know!\r\nThanks in advance!","title":"WhatsApp for business API integration using Cloud API","body":"<p>How can I integrate my WhatsApp for business (not using any 3rd party tools like Pabbly, WANotifier, etc.) to send a pdf document (Purchase Order details) to the customers without having to send a welcome text message and the customer not having to reply back with anything to receive the pdf document (Purchase Order details)?.</p>\n<p><strong>Note: if this is not possible then how does MakeMyTrip and book my show works where in which when we book tickets or shows we receive a pdf file (booking details) without we in person initiating the conversation of asking the booking details.</strong></p>\n<p>Went through the official MetaforDevelopers document <a href=\"https://developers.facebook.com/docs/whatsapp/cloud-api\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/whatsapp/cloud-api</a>\nbut couldn't find any solutions.</p>\n<p>If somebody finds something out of the document link attached above related to my requirement, please let me know!\nThanks in advance!</p>\n"},{"tags":["java","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690988335,"creation_date":1690988335,"answer_id":76821176,"question_id":76820827,"body_markdown":"`row.javaClass` is the correct equivalent of `row.getClass()`. The problem here is different: `row` is potentially nullable, so you can&#39;t invoke anything on it directly, without checking if it is null.\r\n\r\nIf you assume `rows` can only contain non-null values, you have to define your functions like this: \r\n\r\n```kotlin\r\nprivate fun &lt;T : Any&gt; createCsvSchema(...)\r\n```\r\nIf it may contain nulls, you have to handle a null case inside `map { ... }`.","title":"getClass() in Java versus javaClass in Kotlin (error when converting code from Java to Kotlin)","body":"<p><code>row.javaClass</code> is the correct equivalent of <code>row.getClass()</code>. The problem here is different: <code>row</code> is potentially nullable, so you can't invoke anything on it directly, without checking if it is null.</p>\n<p>If you assume <code>rows</code> can only contain non-null values, you have to define your functions like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun &lt;T : Any&gt; createCsvSchema(...)\n</code></pre>\n<p>If it may contain nulls, you have to handle a null case inside <code>map { ... }</code>.</p>\n"}],"owner":{"account_id":28614024,"reputation":23,"user_id":21908428,"display_name":"JonathanSessenioo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691044086,"creation_date":1690985934,"question_id":76820827,"body_markdown":"I want to convert code written in Java to Kotlin. IntelliJ handled most things but there is a problem with the following snippet and I don&#39;t know how to fix it.\r\n\r\nHere is the code written in Java:\r\nAnd the error only appears in two places:\r\n\r\nin the function `createCsv`: in `row.javaClass` it shows this fragment in red - there is no such function in Kotlin in Java in this place there was `row.getClass()` I tried to make `row.javaClass.kotlin` or `row.javaClass.simpleName` there, but it doesn&#39;t work. \r\n\r\nAccording to the documentation: [https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class)](https://stackoverflow.com)\r\n\r\nThere is no implementation of `convertValue(Any, Any)`, but somehow it automatically converts to Any for me and I don&#39;t know too much how it should look like, which is the same as in Java.","title":"getClass() in Java versus javaClass in Kotlin (error when converting code from Java to Kotlin)","body":"<p>I want to convert code written in Java to Kotlin. IntelliJ handled most things but there is a problem with the following snippet and I don't know how to fix it.</p>\n<p>Here is the code written in Java:\nAnd the error only appears in two places:</p>\n<p>in the function <code>createCsv</code>: in <code>row.javaClass</code> it shows this fragment in red - there is no such function in Kotlin in Java in this place there was <code>row.getClass()</code> I tried to make <code>row.javaClass.kotlin</code> or <code>row.javaClass.simpleName</code> there, but it doesn't work.</p>\n<p>According to the documentation: <a href=\"https://stackoverflow.com\">https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class)</a></p>\n<p>There is no implementation of <code>convertValue(Any, Any)</code>, but somehow it automatically converts to Any for me and I don't know too much how it should look like, which is the same as in Java.</p>\n"},{"tags":["java","anylogic","systemdynamics"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691043895,"creation_date":1691043895,"answer_id":76825382,"question_id":76825105,"body_markdown":"You need to call the `setFillColor` method on something that can, in fact, change its color. Your `recividism` is a double variable. A number cannot change color :)\r\n\r\nSo drag in a rectangle and adjust your code, something like \r\n\r\n    if(recividism&lt;90000){\r\n       myNewRectangle.setFillColor(red);\r\n    }else{\r\n       myNewRectangle.setFillColor(blue);\r\n    }","title":"Dynamic colors for flow elements in AnyLogic?","body":"<p>You need to call the <code>setFillColor</code> method on something that can, in fact, change its color. Your <code>recividism</code> is a double variable. A number cannot change color :)</p>\n<p>So drag in a rectangle and adjust your code, something like</p>\n<pre><code>if(recividism&lt;90000){\n   myNewRectangle.setFillColor(red);\n}else{\n   myNewRectangle.setFillColor(blue);\n}\n</code></pre>\n"}],"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691043895,"creation_date":1691040716,"question_id":76825105,"body_markdown":"I would like for the flows (and also stocks) within my system dynamics model to change color on the basis of certain thresholds being crossed. Is this possible?\r\n\r\nBased on this response (https://stackoverflow.com/questions/76804173/how-to-change-the-color-of-rectangular-node-based-on-number-of-agents-in-the-nod/), I tried to create an event that would trigger a color change in which the flow &quot;recividism&quot; would be blue when its value was below 90,000 and red whenever its value was above 90,000.\r\n\r\nI made it a &quot;Timeout&quot; trigger type with a &quot;Cyclic&quot; mode&quot; and entered the following code:\r\n\r\n```\r\nif(recividism&lt;90000){\r\n   recividism.setFillColor(red);\r\n}else{\r\n   recividism.setFillColor(blue);\r\n}\r\n```\r\n\r\nBut it just produces an error saying &quot;Cannot invoke setFillColor(Color) on primitive type double&quot;. Is there a way to resolve this and to have dynamic colors in flow elements?","title":"Dynamic colors for flow elements in AnyLogic?","body":"<p>I would like for the flows (and also stocks) within my system dynamics model to change color on the basis of certain thresholds being crossed. Is this possible?</p>\n<p>Based on this response (<a href=\"https://stackoverflow.com/questions/76804173/how-to-change-the-color-of-rectangular-node-based-on-number-of-agents-in-the-nod/\">How to change the color of rectangular node based on number of agents in the node in Anylogic?</a>), I tried to create an event that would trigger a color change in which the flow &quot;recividism&quot; would be blue when its value was below 90,000 and red whenever its value was above 90,000.</p>\n<p>I made it a &quot;Timeout&quot; trigger type with a &quot;Cyclic&quot; mode&quot; and entered the following code:</p>\n<pre><code>if(recividism&lt;90000){\n   recividism.setFillColor(red);\n}else{\n   recividism.setFillColor(blue);\n}\n</code></pre>\n<p>But it just produces an error saying &quot;Cannot invoke setFillColor(Color) on primitive type double&quot;. Is there a way to resolve this and to have dynamic colors in flow elements?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","admob"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1549520911,"post_id":54567494,"comment_id":95933083,"body_markdown":"You need to use multiple view types with recyclerview for hint check this answer https://stackoverflow.com/a/53779566/7666442","body":"You need to use multiple view types with recyclerview for hint check this answer <a href=\"https://stackoverflow.com/a/53779566/7666442\">stackoverflow.com/a/53779566/7666442</a>"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549521063,"post_id":54567494,"comment_id":95933134,"body_markdown":"iam using multiple view holder","body":"iam using multiple view holder"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522291,"post_id":54567494,"comment_id":95933612,"body_markdown":"You can check the google sample code for adding banner ads in recycler view: https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample","body":"You can check the google sample code for adding banner ads in recycler view: <a href=\"https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-ads/tree/master/advanced/&hellip;</a>"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522506,"post_id":54567494,"comment_id":95933693,"body_markdown":"Also. please state the exact issue you are facing, is the ad not appearing in list?","body":"Also. please state the exact issue you are facing, is the ad not appearing in list?"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522531,"post_id":54567494,"comment_id":95933710,"body_markdown":"but its a LinearLayoutManager manager exmaple","body":"but its a LinearLayoutManager manager exmaple"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522652,"post_id":54567494,"comment_id":95933771,"body_markdown":"Ad is appearing but its overlapping my content and iam using banner ad","body":"Ad is appearing but its overlapping my content and iam using banner ad"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522728,"post_id":54567494,"comment_id":95933804,"body_markdown":"Please edit the question to include code of your xml layout files as well.","body":"Please edit the question to include code of your xml layout files as well."},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522839,"post_id":54567494,"comment_id":95933853,"body_markdown":"which type of Ad should i use","body":"which type of Ad should i use"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549523171,"post_id":54567494,"comment_id":95933982,"body_markdown":"ok i added my xml layout","body":"ok i added my xml layout"}],"answers":[{"tags":[],"owner":{"account_id":15172570,"reputation":203,"user_id":10948181,"display_name":"Kartika Vij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549525351,"creation_date":1549525351,"answer_id":54568481,"question_id":54567494,"body_markdown":"You can set the Visibility of your AdView in onBindViewHolder() on the basis of position\r\n","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>You can set the Visibility of your AdView in onBindViewHolder() on the basis of position</p>\n"},{"tags":[],"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549529069,"creation_date":1549529069,"answer_id":54569373,"question_id":54567494,"body_markdown":"Try to display Ad after 5 or 10 values in RecyclerView.\r\nLike:\r\n\r\n    @Override\r\n    public int getItemViewType(int position) \r\n    {     \r\n        if (position % 5 == 0)\r\n        return AD_TYPE; \r\n       return CONTENT_TYPE;\r\n    }\r\n\r\nAnd Don&#39;t Forget to change getItemCount() Method.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>Try to display Ad after 5 or 10 values in RecyclerView.\nLike:</p>\n\n<pre><code>@Override\npublic int getItemViewType(int position) \n{     \n    if (position % 5 == 0)\n    return AD_TYPE; \n   return CONTENT_TYPE;\n}\n</code></pre>\n\n<p>And Don't Forget to change getItemCount() Method.</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673256881,"creation_date":1673256881,"answer_id":75055360,"question_id":54567494,"body_markdown":"I found my solution in this code.\r\n\r\n```java\r\nfinal GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\r\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\r\n            @Override\r\n            public int getSpanSize(int position) {\r\n                if (!isAdPosition(position)) {\r\n                    return spl.getSpanSize(position);\r\n                }\r\n                return mParam.gridLayoutManager.getSpanCount();\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nprivate boolean isAdPosition(int position) {\r\n    return (position + 1) % (adItemInterval + 1) == 0;\r\n}\r\n```\r\n\r\n- Here, `adItemInterval` is position whare you put your ad.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I found my solution in this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\n            @Override\n            public int getSpanSize(int position) {\n                if (!isAdPosition(position)) {\n                    return spl.getSpanSize(position);\n                }\n                return mParam.gridLayoutManager.getSpanCount();\n            }\n        });\n</code></pre>\n<pre><code>private boolean isAdPosition(int position) {\n    return (position + 1) % (adItemInterval + 1) == 0;\n}\n</code></pre>\n<ul>\n<li>Here, <code>adItemInterval</code> is position whare you put your ad.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21855635,"reputation":59,"user_id":16147070,"display_name":"Hussnain Mehdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691043032,"creation_date":1691043032,"answer_id":76825305,"question_id":54567494,"body_markdown":"I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.\r\n\r\nIn your activity/fragment:\r\n\r\n     binding.apply {\r\n            val gridLayoutManager = GridLayoutManager(mContext, 3)\r\n            gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\r\n                override fun getSpanSize(position: Int): Int {\r\n                    if (::itemsAdapter.isInitialized) {\r\n                        return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\r\n                            3\r\n                        } else {\r\n                            1\r\n                        }\r\n                    }\r\n                    return 1\r\n                }\r\n            }\r\n            itemsRecyclerView.layoutManager = gridLayoutManager\r\n            if (::itemsAdapter.isInitialized) {\r\n                itemsRecyclerView.adapter = itemsAdapter\r\n                itemsAdapter.submitList(itemsList)\r\n            }\r\n\r\n        }\r\n\r\n**In Your Adapter Override below method**\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return when (getItem(position).itemName) {\r\n            &quot;NativeAd&quot; -&gt; {\r\n                0\r\n            }\r\n\r\n            else -&gt; 1\r\n        }\r\n\r\n    }\r\n\r\n**Your onCreateViewHolder will coded like below**\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        when (viewType) {\r\n            0 -&gt; {\r\n                return AdHolder(\r\n                    RecyclerviewadsBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n\r\n            else -&gt; {\r\n                return MainItemsAdapterViewHolder(\r\n                    MainItemsSmapleBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n        }\r\n    }\r\n**And onBindViewHolder code is:**\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        when (holder.itemViewType) {\r\n            0 -&gt; {\r\n                (holder as AdHolder).loadNative()\r\n            }\r\n\r\n            else -&gt; {\r\n                (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n**Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help**","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.</p>\n<p>In your activity/fragment:</p>\n<pre><code> binding.apply {\n        val gridLayoutManager = GridLayoutManager(mContext, 3)\n        gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\n            override fun getSpanSize(position: Int): Int {\n                if (::itemsAdapter.isInitialized) {\n                    return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\n                        3\n                    } else {\n                        1\n                    }\n                }\n                return 1\n            }\n        }\n        itemsRecyclerView.layoutManager = gridLayoutManager\n        if (::itemsAdapter.isInitialized) {\n            itemsRecyclerView.adapter = itemsAdapter\n            itemsAdapter.submitList(itemsList)\n        }\n\n    }\n</code></pre>\n<p><strong>In Your Adapter Override below method</strong></p>\n<pre><code>override fun getItemViewType(position: Int): Int {\n    return when (getItem(position).itemName) {\n        &quot;NativeAd&quot; -&gt; {\n            0\n        }\n\n        else -&gt; 1\n    }\n\n}\n</code></pre>\n<p><strong>Your onCreateViewHolder will coded like below</strong></p>\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    when (viewType) {\n        0 -&gt; {\n            return AdHolder(\n                RecyclerviewadsBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n\n        else -&gt; {\n            return MainItemsAdapterViewHolder(\n                MainItemsSmapleBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n    }\n}\n</code></pre>\n<p><strong>And onBindViewHolder code is:</strong></p>\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    when (holder.itemViewType) {\n        0 -&gt; {\n            (holder as AdHolder).loadNative()\n        }\n\n        else -&gt; {\n            (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help</strong></p>\n"}],"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691043032,"creation_date":1549520868,"question_id":54567494,"body_markdown":"I&#39;m trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. \r\n\r\n[![i want Ad like below image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/msO1h.png\r\n\r\nMy RecyclerView adapter\r\n\r\n      class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n        if (holder.itemViewType == 0) {\r\n            holder as MyViewHolder2\r\n            val adRequest = AdRequest.Builder().build()\r\n            holder.adView.loadAd(adRequest)\r\n            holder.adView.adListener = object : AdListener() {\r\n                override fun onAdFailedToLoad(errorCode: Int) {\r\n                    Log.d(&quot;errorCode&quot;, errorCode.toString())\r\n                }\r\n            }\r\n        } else {\r\n            holder as MyViewHolder\r\n          \r\n            val magazineList: Model.ProductList = userList[position]\r\n            Glide.with(context).load(magazineList.featured_image)\r\n                .thumbnail(0.5f)\r\n                .into(holder.image)\r\n\r\n            holder.title.text = magazineList.post_title\r\n            holder.views.text = magazineList.count\r\n            holder.date.text = magazineList.offer_valid\r\n          \r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n        if (viewType == 0) {\r\n            return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\r\n        } else {\r\n            return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\r\n\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return userList.size\r\n    }\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return if (position&gt;0 &amp;&amp; position % 3== 0) {\r\n            0\r\n        } else {\r\n            1\r\n        }\r\n      }\r\n\r\n    class MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var image: ImageView = itemView.findViewById(R.id.productImage)\r\n        var title: TextView = itemView.findViewById(R.id.title)\r\n        var views: TextView = itemView.findViewById(R.id.views)\r\n        var date: TextView = itemView.findViewById(R.id.date)\r\n        var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\r\n    }\r\n\r\n    class MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var adView: AdView = itemView.findViewById(R.id.adView)\r\n    }\r\n    }\r\n\r\n\r\nI&#39;m trying to add an Admob banner in a recyclerview.\r\n\r\nMy xml files \r\n\r\n\r\nad_list_row.xml\r\n\r\n      &lt;RelativeLayout xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;com.google.android.gms.ads.AdView\r\n\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:background=&quot;@color/colorAccent&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;@string/banner_ad_unit_id_TEST&quot;/&gt;\r\n           &lt;/RelativeLayout&gt;\r\n\r\nproduct_list_row.xml\r\n\r\n     &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/next&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;205dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginStart=&quot;3dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginEnd=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;7dp&quot;\r\n        card_view:cardCornerRadius=&quot;4dp&quot;&gt;\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    &gt;\r\n        &lt;ImageView android:layout_width=&quot;match_parent&quot;\r\n                   android:layout_height=&quot;150dp&quot;\r\n                   android:scaleType=&quot;matrix&quot;\r\n                   android:padding=&quot;4dp&quot;\r\n                   android:contentDescription=&quot;@string/app_name&quot;\r\n                   android:id=&quot;@+id/productImage&quot;\r\n        /&gt;\r\n\r\n        &lt;TextView android:layout_width=&quot;wrap_content&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:text=&quot;@string/title&quot;\r\n                  android:textSize=&quot;14sp&quot;\r\n                  android:id=&quot;@+id/title&quot;\r\n                  android:textStyle=&quot;bold&quot;\r\n                  android:textColor=&quot;@color/colorText2&quot;\r\n                  android:padding=&quot;5dp&quot;\r\n                  android:layout_marginStart=&quot;5dp&quot;\r\n                  android:layout_below=&quot;@+id/productImage&quot;\r\n                  android:lines=&quot;1&quot;\r\n                  android:ellipsize=&quot;end&quot;\r\n        /&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:layout_below=&quot;@+id/title&quot;\r\n                      android:weightSum=&quot;1&quot;\r\n        &gt;\r\n            &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:textSize=&quot;10sp&quot;\r\n                      android:textStyle=&quot;italic&quot;\r\n                      android:id=&quot;@+id/date&quot;\r\n                      android:layout_marginStart=&quot;10dp&quot;\r\n                      android:layout_weight=&quot;0.3&quot;\r\n                      android:textColor=&quot;@color/colorPrimary&quot;\r\n                      tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;0.7&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                        android:layout_width=&quot;15dp&quot;\r\n                        android:layout_height=&quot;15dp&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:src=&quot;@drawable/ic_dark_eye&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:background=&quot;@color/colorAccent&quot;\r\n                        android:layout_marginStart=&quot;3dp&quot;\r\n                        android:contentDescription=&quot;@string/app_name&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                        android:id=&quot;@+id/views&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:lines=&quot;1&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:textSize=&quot;10sp&quot;\r\n                        tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n     &lt;/androidx.cardview.widget.CardView&gt;","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I'm trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/msO1h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/msO1h.png\" alt=\"i want Ad like below image\"></a></p>\n\n<p>My RecyclerView adapter</p>\n\n<pre><code>  class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    if (holder.itemViewType == 0) {\n        holder as MyViewHolder2\n        val adRequest = AdRequest.Builder().build()\n        holder.adView.loadAd(adRequest)\n        holder.adView.adListener = object : AdListener() {\n            override fun onAdFailedToLoad(errorCode: Int) {\n                Log.d(\"errorCode\", errorCode.toString())\n            }\n        }\n    } else {\n        holder as MyViewHolder\n\n        val magazineList: Model.ProductList = userList[position]\n        Glide.with(context).load(magazineList.featured_image)\n            .thumbnail(0.5f)\n            .into(holder.image)\n\n        holder.title.text = magazineList.post_title\n        holder.views.text = magazineList.count\n        holder.date.text = magazineList.offer_valid\n\n        }\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    if (viewType == 0) {\n        return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\n    } else {\n        return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\n\n    }\n}\n\noverride fun getItemCount(): Int {\n    return userList.size\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return if (position&gt;0 &amp;&amp; position % 3== 0) {\n        0\n    } else {\n        1\n    }\n  }\n\nclass MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var image: ImageView = itemView.findViewById(R.id.productImage)\n    var title: TextView = itemView.findViewById(R.id.title)\n    var views: TextView = itemView.findViewById(R.id.views)\n    var date: TextView = itemView.findViewById(R.id.date)\n    var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\n}\n\nclass MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var adView: AdView = itemView.findViewById(R.id.adView)\n}\n}\n</code></pre>\n\n<p>I'm trying to add an Admob banner in a recyclerview.</p>\n\n<p>My xml files </p>\n\n<p>ad_list_row.xml</p>\n\n<pre><code>  &lt;RelativeLayout xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n&lt;com.google.android.gms.ads.AdView\n\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"10dp\"\n        android:background=\"@color/colorAccent\"\n        ads:adSize=\"BANNER\"\n        ads:adUnitId=\"@string/banner_ad_unit_id_TEST\"/&gt;\n       &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>product_list_row.xml</p>\n\n<pre><code> &lt;androidx.cardview.widget.CardView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/next\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"205dp\"\n    android:layout_gravity=\"center\"\n    android:layout_marginStart=\"3dp\"\n    android:layout_marginTop=\"6dp\"\n    android:layout_marginEnd=\"4dp\"\n    android:layout_marginBottom=\"7dp\"\n    card_view:cardCornerRadius=\"4dp\"&gt;\n&lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n&gt;\n    &lt;ImageView android:layout_width=\"match_parent\"\n               android:layout_height=\"150dp\"\n               android:scaleType=\"matrix\"\n               android:padding=\"4dp\"\n               android:contentDescription=\"@string/app_name\"\n               android:id=\"@+id/productImage\"\n    /&gt;\n\n    &lt;TextView android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/title\"\n              android:textSize=\"14sp\"\n              android:id=\"@+id/title\"\n              android:textStyle=\"bold\"\n              android:textColor=\"@color/colorText2\"\n              android:padding=\"5dp\"\n              android:layout_marginStart=\"5dp\"\n              android:layout_below=\"@+id/productImage\"\n              android:lines=\"1\"\n              android:ellipsize=\"end\"\n    /&gt;\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:layout_below=\"@+id/title\"\n                  android:weightSum=\"1\"\n    &gt;\n        &lt;TextView android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:textSize=\"10sp\"\n                  android:textStyle=\"italic\"\n                  android:id=\"@+id/date\"\n                  android:layout_marginStart=\"10dp\"\n                  android:layout_weight=\"0.3\"\n                  android:textColor=\"@color/colorPrimary\"\n                  tools:ignore=\"SmallSp\"/&gt;\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"0.7\"\n                android:layout_gravity=\"center_horizontal\"\n                android:gravity=\"center_horizontal\"\n                android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                    android:layout_width=\"15dp\"\n                    android:layout_height=\"15dp\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:src=\"@drawable/ic_dark_eye\"\n                    android:scaleType=\"fitXY\"\n                    android:background=\"@color/colorAccent\"\n                    android:layout_marginStart=\"3dp\"\n                    android:contentDescription=\"@string/app_name\"/&gt;\n\n            &lt;TextView\n                    android:id=\"@+id/views\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:lines=\"1\"\n                    android:layout_marginStart=\"5dp\"\n                    android:textSize=\"10sp\"\n                    tools:ignore=\"SmallSp\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","docker","selenium-webdriver","webdriver-manager","webdrivermanager-java"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1691043415,"post_id":76825268,"comment_id":135437877,"body_markdown":"Missing .setup()? WebDriverManager.chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording()\n                .setup();","body":"Missing .setup()? WebDriverManager.chromedriver()                 .capabilities(options)                 .browserInDocker()                 .enableVnc()                 .enableRecording()                 .setup();"},{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1692708094,"post_id":76825268,"comment_id":135658446,"body_markdown":"I think this is still an open issue. See https://github.com/bonigarcia/webdrivermanager/issues/947","body":"I think this is still an open issue. See <a href=\"https://github.com/bonigarcia/webdrivermanager/issues/947\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager/issues/947</a>"}],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691042543,"creation_date":1691042543,"question_id":76825268,"body_markdown":"I&#39;ve been trying to run this for a couple of hours, but nothing seemed to do the trick.\r\n\r\nI have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: `Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object`\r\n\r\nWhat am I missing?\r\nPlease advise.\r\n\r\n**Script:**\r\n\r\n```java\r\npackage com.dictality.allure;\r\n\r\nimport org.junit.jupiter.api.*;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\nclass DockerChromeTest {\r\n\r\n    WebDriver driver;\r\n\r\n    static ChromeOptions options = new ChromeOptions();\r\n    static WebDriverManager wdm;\r\n\r\n    @BeforeAll\r\n    static void init() {\r\n\r\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n\r\n        wdm = WebDriverManager\r\n                .chromedriver()\r\n                .capabilities(options)\r\n                .browserInDocker()\r\n                .enableVnc()\r\n                .enableRecording();\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupTest() {\r\n        driver = wdm.create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown() {\r\n        wdm.quit();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\r\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Stacktrace:**\r\n\r\n```\r\nAug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\n\r\nThere was an error creating WebDriver object for Chrome\r\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\r\n\tat app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\r\n\t... 96 more\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;alexmbp22.monkeybrains.net&#39;, ip: &#39;fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0&#39;\r\nBuild info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\r\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\r\n\t... 98 more\r\n```\r\n\r\n**Screenshot of the docker log container that does starts up and exits (after 30 seconds)**\r\n\r\n[![Screenshot of the docker log container that does starts up and exits][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJi58.jpg","title":"Unable to run example of WebDriverManager 5 browsers in Docker containers feature","body":"<p>I've been trying to run this for a couple of hours, but nothing seemed to do the trick.</p>\n<p>I have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: <code>Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object</code></p>\n<p>What am I missing?\nPlease advise.</p>\n<p><strong>Script:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dictality.allure;\n\nimport org.junit.jupiter.api.*;\nimport org.openqa.selenium.WebDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nclass DockerChromeTest {\n\n    WebDriver driver;\n\n    static ChromeOptions options = new ChromeOptions();\n    static WebDriverManager wdm;\n\n    @BeforeAll\n    static void init() {\n\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n\n        wdm = WebDriverManager\n                .chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording();\n    }\n\n    @BeforeEach\n    void setupTest() {\n        driver = wdm.create();\n    }\n\n    @AfterEach\n    void teardown() {\n        wdm.quit();\n    }\n\n    @Test\n    void test() {\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>Aug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\n\nThere was an error creating WebDriver object for Chrome\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\n    at app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\n    at app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\n    ... 96 more\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'alexmbp22.monkeybrains.net', ip: 'fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0'\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4', java.version: '17.0.7'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\n    ... 98 more\n</code></pre>\n<p><strong>Screenshot of the docker log container that does starts up and exits (after 30 seconds)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pJi58.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJi58.jpg\" alt=\"Screenshot of the docker log container that does starts up and exits\" /></a></p>\n"},{"tags":["java","android","firebase-realtime-database","android-glide"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957396,"post_id":76812468,"comment_id":135423290,"body_markdown":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957437,"post_id":76812468,"comment_id":135423294,"body_markdown":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough.","body":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691039022,"post_id":76812468,"comment_id":135437300,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22975759,"reputation":1,"user_id":20832458,"display_name":"Youth Hacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691041889,"creation_date":1690898664,"question_id":76812468,"body_markdown":"```\r\npackage com.example.bloomroom;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\r\n\r\n    Context context;\r\n    ArrayList&lt;Flowers&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n        Flowers flowers = list.get(position);\r\n        holder.name.setText(flowers.getName());\r\n        holder.category.setText(flowers.getCategory());\r\n        holder.price.setText(flowers.getPrice());\r\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\r\n        Glide.get(context).clearMemory();\r\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\r\n        Glide.with(holder.imgView.getContext())\r\n                .load(flowers.getFurl())\r\n                .into(holder.imgView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView name, category, price;\r\n        ImageView imgView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name=itemView.findViewById(R.id.txtName);\r\n            category=itemView.findViewById(R.id.txtCat);\r\n            price=itemView.findViewById(R.id.txtPrice);\r\n            imgView =itemView.findViewById(R.id.imgView);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.  \r\nI tried some log methods that show the url, but the file is not loading inside the application.\r\n\r\nI have already enabled the Internet access on manifest.  \r\n  \r\n[Log screeshot](https://i.stack.imgur.com/g99Gd.png)","title":"Image not fetching from Firebase Realtime Database","body":"<pre><code>package com.example.bloomroom;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\n\n    Context context;\n    ArrayList&lt;Flowers&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n        Flowers flowers = list.get(position);\n        holder.name.setText(flowers.getName());\n        holder.category.setText(flowers.getCategory());\n        holder.price.setText(flowers.getPrice());\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\n        Glide.get(context).clearMemory();\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\n        Glide.with(holder.imgView.getContext())\n                .load(flowers.getFurl())\n                .into(holder.imgView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView name, category, price;\n        ImageView imgView;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            name=itemView.findViewById(R.id.txtName);\n            category=itemView.findViewById(R.id.txtCat);\n            price=itemView.findViewById(R.id.txtPrice);\n            imgView =itemView.findViewById(R.id.imgView);\n        }\n    }\n}\n</code></pre>\n<p>I tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.<br />\nI tried some log methods that show the url, but the file is not loading inside the application.</p>\n<p>I have already enabled the Internet access on manifest.</p>\n<p><a href=\"https://i.stack.imgur.com/g99Gd.png\" rel=\"nofollow noreferrer\">Log screeshot</a></p>\n"},{"tags":["java","timezone","dst"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1383929222,"creation_date":1383928592,"answer_id":19864118,"question_id":19864078,"body_markdown":"You&#39;re specifying a time zone of `GMT-8:00` - that&#39;s a fixed time zone, which is 8 hours behind of UTC *permanently*. It doesn&#39;t observe daylight saving time.\r\n\r\nIf you actually meant Pacific Time, you should specify `America/Los_Angeles` as the time zone ID. Bear in mind that different time zones switch between standard and daylight saving time at different times of the year.\r\n\r\nAdditionally, `new Date(1380931200)` is actually in January 1970 - you meant `new Date(1380931200000L)` - don&#39;t forget that the number is *milliseconds* since the Unix epoch, not *seconds*.","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>You're specifying a time zone of <code>GMT-8:00</code> - that's a fixed time zone, which is 8 hours behind of UTC <em>permanently</em>. It doesn't observe daylight saving time.</p>\n\n<p>If you actually meant Pacific Time, you should specify <code>America/Los_Angeles</code> as the time zone ID. Bear in mind that different time zones switch between standard and daylight saving time at different times of the year.</p>\n\n<p>Additionally, <code>new Date(1380931200)</code> is actually in January 1970 - you meant <code>new Date(1380931200000L)</code> - don't forget that the number is <em>milliseconds</em> since the Unix epoch, not <em>seconds</em>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691041359,"creation_date":1383952210,"answer_id":19870158,"question_id":19864078,"body_markdown":"The [answer by Jon Skeet][1] is correct.\r\n\r\nIn Joda-Time\r\n------------\r\nJust for fun, below is the solution in source-code using the third-party libary [Joda-Time][2] 2.3 in Java 7. \r\n\r\nDetails\r\n-------\r\nThe [DateTimeZone][3] class has a method, [isStandardOffset][4]. The only trick is that the method takes a long, the milliseconds backing the DateTime instance, accessed by calling [DateTime][5] class‘ superclass‘ ([BaseDateTime][6]) method [getMillis][7].\r\n\r\nExample Source Code\r\n-------------------\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n\r\n    org.joda.time.DateTimeZone losAngelesTimeZone = org.joda.time.DateTimeZone.forID(&quot;America/Los_Angeles&quot;);\r\n    org.joda.time.DateTime theSecondAt6PM = new org.joda.time.DateTime( 2013, 11, 2, 18, 0, losAngelesTimeZone ) ;\r\n    org.joda.time.DateTime theThirdAt6PM = new org.joda.time.DateTime( 2013, 11, 3, 18, 0, losAngelesTimeZone ) ; // Day when DST ends.\r\n\r\n    System.out.println(&quot;This datetime &#39;theSecondAt6PM&#39;: &quot; + theSecondAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theSecondAt6PM.getMillis()));\r\n    System.out.println(&quot;This datetime &#39;theThirdAt6PM&#39;: &quot; + theThirdAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theThirdAt6PM.getMillis()));\r\n\r\nWhen run, note the difference in offset from UTC (-7 versus -8)…\r\n\r\n    This datetime &#39;theSecondAt6PM&#39;: 2013-11-02T18:00:00.000-07:00 is in DST: false\r\n    This datetime &#39;theThirdAt6PM&#39;: 2013-11-03T18:00:00.000-08:00 is in DST: true\r\n\r\nAbout Joda-Time…\r\n\r\n    // Joda-Time - The popular alternative to Sun/Oracle&#39;s notoriously bad date, time, and calendar classes bundled with Java 7 and earlier.\r\n    // http://www.joda.org/joda-time/\r\n\r\n    // Joda-Time will become outmoded by the JSR 310 Date and Time API introduced in Java 8.\r\n    // JSR 310 was inspired by Joda-Time but is not directly based on it.\r\n    // http://jcp.org/en/jsr/detail?id=310\r\n\r\n    // By default, Joda-Time produces strings in the standard ISO 8601 format.\r\n    // https://en.wikipedia.org/wiki/ISO_8601\r\n\r\n    // About Daylight Saving Time (DST): https://en.wikipedia.org/wiki/Daylight_saving_time\r\n\r\n    // Time Zone list: http://joda-time.sourceforge.net/timezones.html\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19864118/642706\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html\r\n  [4]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html#isStandardOffset%28long%29\r\n  [5]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html\r\n  [6]: http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html\r\n  [7]: http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html#getMillis%28%29","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>The <a href=\"https://stackoverflow.com/a/19864118/642706\">answer by Jon Skeet</a> is correct.</p>\n<h2>In Joda-Time</h2>\n<p>Just for fun, below is the solution in source-code using the third-party libary <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> 2.3 in Java 7.</p>\n<h2>Details</h2>\n<p>The <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html\" rel=\"nofollow noreferrer\">DateTimeZone</a> class has a method, <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html#isStandardOffset%28long%29\" rel=\"nofollow noreferrer\">isStandardOffset</a>. The only trick is that the method takes a long, the milliseconds backing the DateTime instance, accessed by calling <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\">DateTime</a> class‘ superclass‘ (<a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html\" rel=\"nofollow noreferrer\">BaseDateTime</a>) method <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html#getMillis%28%29\" rel=\"nofollow noreferrer\">getMillis</a>.</p>\n<h2>Example Source Code</h2>\n<pre><code>// © 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n\norg.joda.time.DateTimeZone losAngelesTimeZone = org.joda.time.DateTimeZone.forID(&quot;America/Los_Angeles&quot;);\norg.joda.time.DateTime theSecondAt6PM = new org.joda.time.DateTime( 2013, 11, 2, 18, 0, losAngelesTimeZone ) ;\norg.joda.time.DateTime theThirdAt6PM = new org.joda.time.DateTime( 2013, 11, 3, 18, 0, losAngelesTimeZone ) ; // Day when DST ends.\n\nSystem.out.println(&quot;This datetime 'theSecondAt6PM': &quot; + theSecondAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theSecondAt6PM.getMillis()));\nSystem.out.println(&quot;This datetime 'theThirdAt6PM': &quot; + theThirdAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theThirdAt6PM.getMillis()));\n</code></pre>\n<p>When run, note the difference in offset from UTC (-7 versus -8)…</p>\n<pre><code>This datetime 'theSecondAt6PM': 2013-11-02T18:00:00.000-07:00 is in DST: false\nThis datetime 'theThirdAt6PM': 2013-11-03T18:00:00.000-08:00 is in DST: true\n</code></pre>\n<p>About Joda-Time…</p>\n<pre><code>// Joda-Time - The popular alternative to Sun/Oracle's notoriously bad date, time, and calendar classes bundled with Java 7 and earlier.\n// http://www.joda.org/joda-time/\n\n// Joda-Time will become outmoded by the JSR 310 Date and Time API introduced in Java 8.\n// JSR 310 was inspired by Joda-Time but is not directly based on it.\n// http://jcp.org/en/jsr/detail?id=310\n\n// By default, Joda-Time produces strings in the standard ISO 8601 format.\n// https://en.wikipedia.org/wiki/ISO_8601\n\n// About Daylight Saving Time (DST): https://en.wikipedia.org/wiki/Daylight_saving_time\n\n// Time Zone list: http://joda-time.sourceforge.net/timezones.html\n</code></pre>\n"}],"owner":{"account_id":2336710,"reputation":9450,"user_id":2048879,"accept_rate":71,"display_name":"ben_frankly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19864118,"answer_count":2,"score":1,"last_activity_date":1691041359,"creation_date":1383928473,"question_id":19864078,"body_markdown":"Have been beating my head against this and not sure what I&#39;m doing wrong here.\r\n\r\nI am testing out the inDaylightTime() method for a certain time zone but it is returning &quot;false&quot; when it should be returning &quot;true&quot; in this case. \r\n\r\n    import java.util.TimeZone;\r\n    import java.util.Date;\r\n\r\n    public class TimeZoneDemo {\r\n        public static void main( String args[] ){\r\n      \r\n            Date date = new Date(1380931200); // Sat, 05 Oct 2013, within daylight savings time.\r\n      \r\n            System.out.println(&quot;In daylight saving time: &quot; + TimeZone.getTimeZone(&quot;GMT-8:00&quot;).inDaylightTime(date));\r\n        }    \r\n    }\r\n\r\nThis code keeps printing &quot;false&quot; when it seems clear that the result should be &quot;true&quot;.\r\n\r\nWhat am I missing here? Would appreciate any guidance.","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>Have been beating my head against this and not sure what I'm doing wrong here.</p>\n\n<p>I am testing out the inDaylightTime() method for a certain time zone but it is returning \"false\" when it should be returning \"true\" in this case. </p>\n\n<pre><code>import java.util.TimeZone;\nimport java.util.Date;\n\npublic class TimeZoneDemo {\n    public static void main( String args[] ){\n\n        Date date = new Date(1380931200); // Sat, 05 Oct 2013, within daylight savings time.\n\n        System.out.println(\"In daylight saving time: \" + TimeZone.getTimeZone(\"GMT-8:00\").inDaylightTime(date));\n    }    \n}\n</code></pre>\n\n<p>This code keeps printing \"false\" when it seems clear that the result should be \"true\".</p>\n\n<p>What am I missing here? Would appreciate any guidance.</p>\n"},{"tags":["java","selenium-webdriver","exception","appium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691121565,"post_id":76825138,"comment_id":135451860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28767565,"reputation":1,"user_id":22032095,"display_name":"Sandip Chopkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691041035,"creation_date":1691041035,"question_id":76825138,"body_markdown":"Server is on through command line\r\ndevice is connected and listed in adb devices\r\nusing\r\nappium 2.0 \r\njava client 8.3.0 ,\r\n selenium support 4.8.3\r\n\r\nWhy i am getting that error\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n\r\nalso  i am not getting console on appium server all console i am reading in IDE\r\n\r\nI tried many methods i aded guava library, changed mobile device , tried on virtual device, kill server  every time i am getting same error ","title":"SessionNotCreatedException Could not start a new session. Possible causes are invalid address of the remote server or browser startup failure","body":"<p>Server is on through command line\ndevice is connected and listed in adb devices\nusing\nappium 2.0\njava client 8.3.0 ,\nselenium support 4.8.3</p>\n<p>Why i am getting that error\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n<p>also  i am not getting console on appium server all console i am reading in IDE</p>\n<p>I tried many methods i aded guava library, changed mobile device , tried on virtual device, kill server  every time i am getting same error</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":5,"creation_date":1508524832,"post_id":46855327,"comment_id":80658219,"body_markdown":"sum it up and then you have your culprit missing. assuming there is no repetition and only one number is missing.\n\n`return 55 - sum`","body":"sum it up and then you have your culprit missing. assuming there is no repetition and only one number is missing.  <code>return 55 - sum</code>"}],"answers":[{"tags":[],"owner":{"account_id":9460988,"reputation":812,"user_id":7034696,"display_name":"SamwellTarly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508524863,"creation_date":1508524863,"answer_id":46855392,"question_id":46855327,"body_markdown":"There seems to be no mention on using a temporary data structure.\r\nYou can either sort the array and find the missing number, OR use a temporary sorted data structure.","title":"Finding a missing number in an array that uses a random generator","body":"<p>There seems to be no mention on using a temporary data structure.\nYou can either sort the array and find the missing number, OR use a temporary sorted data structure.</p>\n"},{"tags":[],"owner":{"account_id":5366436,"reputation":3456,"user_id":6650970,"display_name":"Piotr Wilkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508524998,"creation_date":1508524998,"answer_id":46855425,"question_id":46855327,"body_markdown":"You are conflating two things: the generator algorithm for a problem case and the solution to the problem itself. You shouldn&#39;t be interested in how the &quot;random array&quot; is generated at all (unless you want to test your solution). What you certainly shouldn&#39;t do is try to write the code that solves the problem in the method that generates the sample array. \r\n\r\nIf you want a randomly sorted list, `Collections.shuffle` will handle that for you. If you want a list without a single element, just generate a list of all elements 1..n and then remove the randomly selected number (then shuffle). So much for the generator. As for the solution, there are many methods to do it, someone already suggested using the sum, that&#39;s a perfectly valid solution.","title":"Finding a missing number in an array that uses a random generator","body":"<p>You are conflating two things: the generator algorithm for a problem case and the solution to the problem itself. You shouldn't be interested in how the \"random array\" is generated at all (unless you want to test your solution). What you certainly shouldn't do is try to write the code that solves the problem in the method that generates the sample array. </p>\n\n<p>If you want a randomly sorted list, <code>Collections.shuffle</code> will handle that for you. If you want a list without a single element, just generate a list of all elements 1..n and then remove the randomly selected number (then shuffle). So much for the generator. As for the solution, there are many methods to do it, someone already suggested using the sum, that's a perfectly valid solution.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508525692,"creation_date":1508525692,"answer_id":46855584,"question_id":46855327,"body_markdown":"# Assumption:\n * Numbers are unique\n * Only one entry is missing\n * number ranges from [1, 10] inclusive.\n\nSolution \n\n    return 55 - Arrays.stream(yourArr).sum();\n\nThis is with O(n) runtime and O(1) space complexity. \n\n\nIf we break assumptions.\n\nYou will need O(N) space to figure out which entries are missing. To hold the marker either you can use `List` or `BitSet` or 2 bytes and manage it by hand. N is here the random number generation width.\n\n\n\n","title":"Finding a missing number in an array that uses a random generator","body":"<h1>Assumption:</h1>\n<ul>\n<li>Numbers are unique</li>\n<li>Only one entry is missing</li>\n<li>number ranges from [1, 10] inclusive.</li>\n</ul>\n<p>Solution</p>\n<pre><code>return 55 - Arrays.stream(yourArr).sum();\n</code></pre>\n<p>This is with O(n) runtime and O(1) space complexity.</p>\n<p>If we break assumptions.</p>\n<p>You will need O(N) space to figure out which entries are missing. To hold the marker either you can use <code>List</code> or <code>BitSet</code> or 2 bytes and manage it by hand. N is here the random number generation width.</p>\n"},{"tags":[],"owner":{"account_id":7165000,"reputation":489,"user_id":5474413,"accept_rate":75,"display_name":"shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508525871,"creation_date":1508525871,"answer_id":46855634,"question_id":46855327,"body_markdown":"It seems you are looking for this code.\r\n\r\n    import java.util.Random;\r\n    \r\n    public class questionThree\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int [] numbers = new int [9];\r\n            Random rand = new Random();\r\n            int numArr = 1;\r\n            numbers[0] = rand.nextInt(10) + 1;\r\n            for (int i = 1; i &lt; 9; i++)\r\n            {\r\n                int n = rand.nextInt(10) + 1;\r\n                numbers[i] = n;\r\n                int x =0;\r\n                while(x&lt;i){\r\n                    if(numbers[x] == n){\r\n                        i = i-1;\r\n                        break;\r\n                    }\r\n                    x++;\r\n                }\r\n    \r\n            }\r\n    \r\n            int sum = 0;\r\n            for (int val : numbers) {\r\n                sum = sum + val;\r\n                System.out.println(&quot;The next value is &quot; +\r\n                        val);\r\n    \r\n            }\r\n            System.out.println(&quot;Missing number is &quot; + (55 - sum));\r\n    \r\n        }\r\n    }\r\n    \r\nOutput is - \r\n\r\n    The next value is 6\r\n    The next value is 2\r\n    The next value is 8\r\n    The next value is 1\r\n    The next value is 4\r\n    The next value is 3\r\n    The next value is 9\r\n    The next value is 10\r\n    The next value is 7\r\n    Missing number is 5\r\n\r\n**I am generating 9 Numbers between(1 to 10) randomly and then printing which number is missing among them.**","title":"Finding a missing number in an array that uses a random generator","body":"<p>It seems you are looking for this code.</p>\n\n<pre><code>import java.util.Random;\n\npublic class questionThree\n{\n    public static void main(String[] args)\n    {\n        int [] numbers = new int [9];\n        Random rand = new Random();\n        int numArr = 1;\n        numbers[0] = rand.nextInt(10) + 1;\n        for (int i = 1; i &lt; 9; i++)\n        {\n            int n = rand.nextInt(10) + 1;\n            numbers[i] = n;\n            int x =0;\n            while(x&lt;i){\n                if(numbers[x] == n){\n                    i = i-1;\n                    break;\n                }\n                x++;\n            }\n\n        }\n\n        int sum = 0;\n        for (int val : numbers) {\n            sum = sum + val;\n            System.out.println(\"The next value is \" +\n                    val);\n\n        }\n        System.out.println(\"Missing number is \" + (55 - sum));\n\n    }\n}\n</code></pre>\n\n<p>Output is - </p>\n\n<pre><code>The next value is 6\nThe next value is 2\nThe next value is 8\nThe next value is 1\nThe next value is 4\nThe next value is 3\nThe next value is 9\nThe next value is 10\nThe next value is 7\nMissing number is 5\n</code></pre>\n\n<p><strong>I am generating 9 Numbers between(1 to 10) randomly and then printing which number is missing among them.</strong></p>\n"},{"tags":[],"owner":{"account_id":10213898,"reputation":456,"user_id":8709838,"display_name":"Omar Mneimneh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508526961,"creation_date":1508526024,"answer_id":46855671,"question_id":46855327,"body_markdown":"**You have two options:**\r\n\r\n- The way I did it in the code below: setting the random array without repeating the same number. And then a for loop from 1 to 10 and check if that number exist in the array.\r\n\r\n- You know that 1 + 2 + 3 + 2 + 3 + 4 + 5 + 6 + 8 + 9 + 10 = 55. So if you get the sum of all ints in the array you will have 55 - (the missing number). So now the missing number = 55 - sum.\r\n\r\nThis is the code I did (first method):\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.Random;\r\n    \r\n    \r\n    public class questionThree\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int [] numbers = new int [9];\r\n            Random rand = new Random();\r\n    \r\n            for (int i = 0; i &lt;9; i++)\r\n            {\r\n                //setting random numbers in array without repeating\r\n                numbers[i] = checkForANumber(rand, numbers, i);\r\n    \r\n            }\r\n    \r\n            //print all nums\r\n            for(int val: numbers) System.out.println(&quot;The next value is &quot; +\r\n                    val);\r\n    \r\n    \r\n            for (int i = 1; i &lt;= 10; i++)\r\n            {\r\n                boolean exist = false;\r\n                for(int val : numbers)\r\n                {\r\n                    if(val == i){\r\n                        exist = true;\r\n                    }\r\n    \r\n                }\r\n                if (!exist) System.out.println(&quot;The missing number is &quot; + i);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private static int checkForANumber(Random rand, int[] numbers, int i){\r\n            int n = rand.nextInt(10) + 1;\r\n    \r\n            boolean NumAlreadyExist = false;\r\n            for(int j = 0; j &lt; i; j++)\r\n            {\r\n                if(numbers[j] == n){\r\n                    NumAlreadyExist = true;\r\n                }\r\n            }\r\n    \r\n            if(NumAlreadyExist) return checkForANumber(rand, numbers, i);\r\n            else return n;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    The next value is 9\r\n    The next value is 3\r\n    The next value is 8\r\n    The next value is 6\r\n    The next value is 7\r\n    The next value is 10\r\n    The next value is 4\r\n    The next value is 2\r\n    The next value is 1\r\n    The missing number is 5","title":"Finding a missing number in an array that uses a random generator","body":"<p><strong>You have two options:</strong></p>\n\n<ul>\n<li><p>The way I did it in the code below: setting the random array without repeating the same number. And then a for loop from 1 to 10 and check if that number exist in the array.</p></li>\n<li><p>You know that 1 + 2 + 3 + 2 + 3 + 4 + 5 + 6 + 8 + 9 + 10 = 55. So if you get the sum of all ints in the array you will have 55 - (the missing number). So now the missing number = 55 - sum.</p></li>\n</ul>\n\n<p>This is the code I did (first method):</p>\n\n<pre><code>import java.util.Random;\n\n\npublic class questionThree\n{\n    public static void main(String[] args)\n    {\n        int [] numbers = new int [9];\n        Random rand = new Random();\n\n        for (int i = 0; i &lt;9; i++)\n        {\n            //setting random numbers in array without repeating\n            numbers[i] = checkForANumber(rand, numbers, i);\n\n        }\n\n        //print all nums\n        for(int val: numbers) System.out.println(\"The next value is \" +\n                val);\n\n\n        for (int i = 1; i &lt;= 10; i++)\n        {\n            boolean exist = false;\n            for(int val : numbers)\n            {\n                if(val == i){\n                    exist = true;\n                }\n\n            }\n            if (!exist) System.out.println(\"The missing number is \" + i);\n        }\n\n\n    }\n\n    private static int checkForANumber(Random rand, int[] numbers, int i){\n        int n = rand.nextInt(10) + 1;\n\n        boolean NumAlreadyExist = false;\n        for(int j = 0; j &lt; i; j++)\n        {\n            if(numbers[j] == n){\n                NumAlreadyExist = true;\n            }\n        }\n\n        if(NumAlreadyExist) return checkForANumber(rand, numbers, i);\n        else return n;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The next value is 9\nThe next value is 3\nThe next value is 8\nThe next value is 6\nThe next value is 7\nThe next value is 10\nThe next value is 4\nThe next value is 2\nThe next value is 1\nThe missing number is 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24027656,"reputation":1,"user_id":18009064,"display_name":"Naveed Warraich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691041032,"creation_date":1691041032,"answer_id":76825137,"question_id":46855327,"body_markdown":"    let array = [1, 2, 3, 9, 8, 7, 6, 5];\r\n    let sorrtedArray = array.sort((a, b) =&gt; a - b);\r\n    function findMissingNumber(sorrtedArray) {\r\n      let missingnumber;\r\n      for (let i = 1; i &lt;= sorrtedArray.length; i++) {\r\n        let index = sorrtedArray[i];\r\n        if (index + 1 != sorrtedArray[i + 1]) {\r\n          missingnumber = array[i] + 1;\r\n          return missingnumber;\r\n        }\r\n      }\r\n    }\r\n    let missingNumber = findMissingNumber(sorrtedArray);\r\n    array.push(missingNumber);\r\n    \r\n    console.log(array);\r\n\r\n\r\n\r\n  \r\n\r\n","title":"Finding a missing number in an array that uses a random generator","body":"<pre><code>let array = [1, 2, 3, 9, 8, 7, 6, 5];\nlet sorrtedArray = array.sort((a, b) =&gt; a - b);\nfunction findMissingNumber(sorrtedArray) {\n  let missingnumber;\n  for (let i = 1; i &lt;= sorrtedArray.length; i++) {\n    let index = sorrtedArray[i];\n    if (index + 1 != sorrtedArray[i + 1]) {\n      missingnumber = array[i] + 1;\n      return missingnumber;\n    }\n  }\n}\nlet missingNumber = findMissingNumber(sorrtedArray);\narray.push(missingNumber);\n\nconsole.log(array);\n</code></pre>\n"}],"owner":{"account_id":12035860,"reputation":47,"user_id":8804399,"accept_rate":0,"display_name":"Malia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1691041032,"creation_date":1508524584,"question_id":46855327,"body_markdown":"I&#39;m trying to make it so the random generator doesn&#39;t produce the same number in the array. I also don&#39;t know how to find the missing number. I tried the if statement, and it works, but it repeats.\r\n\r\nThe question problem &quot;find the missing number in an array. The array consists of numbers from 1 to 10 in random sequence. One of the numbers in the array is absent and you must find it. Use one loop. An example {5,6,9,4,1,2,8,3,10} – the result will be: 7\r\n\r\n\r\n    import java.util.Random;\r\n    \r\n    \r\n    public class questionThree\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        int [] numbers = new int [10];\r\n        Random rand = new Random();\r\n        int numArr = 1;\r\n        \r\n        for (int i = 1; i &lt; 9; i++)\r\n        {\r\n          int n = rand.nextInt(10) + 1; \r\n          numbers[i] = n;\r\n          \r\n          if (numbers[i] == numArr)\r\n            numArr++;\r\n          else\r\n            System.out.println(&quot;The missing num is &quot; +numArr);\r\n        }\r\n        \r\n        for(int val : numbers)\r\n        {\r\n          System.out.println(&quot;The next value is &quot; +\r\n                             val);\r\n        } \r\n      }\r\n    }","title":"Finding a missing number in an array that uses a random generator","body":"<p>I'm trying to make it so the random generator doesn't produce the same number in the array. I also don't know how to find the missing number. I tried the if statement, and it works, but it repeats.</p>\n\n<p>The question problem \"find the missing number in an array. The array consists of numbers from 1 to 10 in random sequence. One of the numbers in the array is absent and you must find it. Use one loop. An example {5,6,9,4,1,2,8,3,10} – the result will be: 7</p>\n\n<pre><code>import java.util.Random;\n\n\npublic class questionThree\n{\n  public static void main(String[] args)\n  {\n    int [] numbers = new int [10];\n    Random rand = new Random();\n    int numArr = 1;\n\n    for (int i = 1; i &lt; 9; i++)\n    {\n      int n = rand.nextInt(10) + 1; \n      numbers[i] = n;\n\n      if (numbers[i] == numArr)\n        numArr++;\n      else\n        System.out.println(\"The missing num is \" +numArr);\n    }\n\n    for(int val : numbers)\n    {\n      System.out.println(\"The next value is \" +\n                         val);\n    } \n  }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":29085283,"reputation":39,"user_id":22280287,"display_name":"Shruti Raorane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691040675,"creation_date":1691040675,"answer_id":76825100,"question_id":76825045,"body_markdown":"One approach is to used MongoDB change streams feature .It essentially creates a cursor that remains open and continuously listens for changes to connected clients.\r\nOn server side MongoDB&#39;s official driver (e.g., MongoDB Node.js driver) to initialize a Change Stream and specify the collection you want to watch.\r\nWhen any document in the watched collection is updated according to the specified criteria, the Change Stream is triggered. The server will receive a notification for that change event.\r\nestablish a real-time communication channel between the server and the clients using web-sockets.\r\nWhen the Change Stream is triggered on the server, the server sends the updated data or the BSON query to the connected clients through the real-time communication channel. This can be done in JSON format or any other format suitable for your application.\r\n\r\n\r\nthis can be the flow:\r\n\r\n1. Client A, B, and C are connected to the server through WebSockets\r\n    (or other real-time communication).\r\n    \r\n2.  The server sets up a Change Stream to watch a specific MongoDB\r\n    collection.\r\n    \r\n3. Client A updates a document in the collection through the server\r\n    using a Bson query.\r\n    \r\n 4.The Change Stream on the server detects the change and sends a\r\n    notification to all connected clients (A, B, C).\r\n    \r\n 5.Clients A, B, and C receive the update notification from the server\r\n    through Web-Sockets.\r\n    \r\n 6.Each client (A, B, C) applies the BSON query locally to their\r\n    relevant Document object(s) stored in memory.\r\n    \r\n 7.Now, all clients (A, B, C) have the updated data locally in their\r\n    memory, and they stay in sync with the changes made to the MongoDB\r\n    collection.\r\n\r\n\r\nThis approach ensures that all clients are updated with the latest data, and the central server remains responsible for handling all interactions with the MongoDB database.","title":"MongoDB: Apply Bson Update Query to Document Object","body":"<p>One approach is to used MongoDB change streams feature .It essentially creates a cursor that remains open and continuously listens for changes to connected clients.\nOn server side MongoDB's official driver (e.g., MongoDB Node.js driver) to initialize a Change Stream and specify the collection you want to watch.\nWhen any document in the watched collection is updated according to the specified criteria, the Change Stream is triggered. The server will receive a notification for that change event.\nestablish a real-time communication channel between the server and the clients using web-sockets.\nWhen the Change Stream is triggered on the server, the server sends the updated data or the BSON query to the connected clients through the real-time communication channel. This can be done in JSON format or any other format suitable for your application.</p>\n<p>this can be the flow:</p>\n<ol>\n<li><p>Client A, B, and C are connected to the server through WebSockets\n(or other real-time communication).</p>\n</li>\n<li><p>The server sets up a Change Stream to watch a specific MongoDB\ncollection.</p>\n</li>\n<li><p>Client A updates a document in the collection through the server\nusing a Bson query.</p>\n</li>\n</ol>\n<p>4.The Change Stream on the server detects the change and sends a\nnotification to all connected clients (A, B, C).</p>\n<p>5.Clients A, B, and C receive the update notification from the server\nthrough Web-Sockets.</p>\n<p>6.Each client (A, B, C) applies the BSON query locally to their\nrelevant Document object(s) stored in memory.</p>\n<p>7.Now, all clients (A, B, C) have the updated data locally in their\nmemory, and they stay in sync with the changes made to the MongoDB\ncollection.</p>\n<p>This approach ensures that all clients are updated with the latest data, and the central server remains responsible for handling all interactions with the MongoDB database.</p>\n"}],"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691040675,"creation_date":1691039856,"question_id":76825045,"body_markdown":"This might be a slightly unconventional scenario, but let me explain my situation. I have multiple clients that communicate with a central server. These clients send Bson queries to the server, which then processes and updates a specific document in MongoDB using MongoCollection#updateOne.\r\n\r\nAfter the server updates the document, it sends the Bson query to all clients that have the related data active. This helps in keeping the active user data updated across all clients.\r\n\r\nHowever, I&#39;ve hit a roadblock in the following area:\r\nThe clients store relevant data in their memory. The objects that are stored are sent from the central server. My goal is to apply the same Bson query update to the Document objects stored on the clients, mimicking the behavior of MongoCollection#updateOne. It&#39;s important to note that the clients don&#39;t have any direct access to the database; they only work with the data provided by the central server.\r\n\r\nIn essence, I&#39;m seeking a method to apply a Bson query update to a Document object without utilizing a MongoCollection. Is there a way to utilize MongoDB&#39;s functionality to achieve this, without requiring a custom implementation? Alternatively, are there any libraries or frameworks capable of efficiently handling this scenario?","title":"MongoDB: Apply Bson Update Query to Document Object","body":"<p>This might be a slightly unconventional scenario, but let me explain my situation. I have multiple clients that communicate with a central server. These clients send Bson queries to the server, which then processes and updates a specific document in MongoDB using MongoCollection#updateOne.</p>\n<p>After the server updates the document, it sends the Bson query to all clients that have the related data active. This helps in keeping the active user data updated across all clients.</p>\n<p>However, I've hit a roadblock in the following area:\nThe clients store relevant data in their memory. The objects that are stored are sent from the central server. My goal is to apply the same Bson query update to the Document objects stored on the clients, mimicking the behavior of MongoCollection#updateOne. It's important to note that the clients don't have any direct access to the database; they only work with the data provided by the central server.</p>\n<p>In essence, I'm seeking a method to apply a Bson query update to a Document object without utilizing a MongoCollection. Is there a way to utilize MongoDB's functionality to achieve this, without requiring a custom implementation? Alternatively, are there any libraries or frameworks capable of efficiently handling this scenario?</p>\n"},{"tags":["java","vaadin7","vaadin8"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1691052079,"post_id":76825068,"comment_id":135440073,"body_markdown":"It works for me as expected. Which version of Vaadin 8 you use? Could you describe in more detail what you expect to happen, and what actually happens. Also if you think it is a bug in the product, you should report it at https://github.com/vaadin/framework/issues instead.","body":"It works for me as expected. Which version of Vaadin 8 you use? Could you describe in more detail what you expect to happen, and what actually happens. Also if you think it is a bug in the product, you should report it at <a href=\"https://github.com/vaadin/framework/issues\" rel=\"nofollow noreferrer\">github.com/vaadin/framework/issues</a> instead."},{"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"score":0,"creation_date":1691052600,"post_id":76825068,"comment_id":135440179,"body_markdown":"iam using  vaadin version 8.4.3","body":"iam using  vaadin version 8.4.3"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1691064705,"post_id":76825068,"comment_id":135442776,"body_markdown":"You should try version 8.14.3.","body":"You should try version 8.14.3."}],"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691040173,"creation_date":1691040173,"question_id":76825068,"body_markdown":"setResolution(Resolution.MINUTE)is not working in vaadin8 Datefield.But its working properly in vaadin 7\r\n```\r\ndatefield.setDateformat(&quot;dd/MM/yyyy HH:mm&quot;);\r\ndatefield.setResolution(Resolution.MINUTE);\r\n\r\n```\r\nplease help","title":"setResolution for Datefield is not working in vaadin8","body":"<p>setResolution(Resolution.MINUTE)is not working in vaadin8 Datefield.But its working properly in vaadin 7</p>\n<pre><code>datefield.setDateformat(&quot;dd/MM/yyyy HH:mm&quot;);\ndatefield.setResolution(Resolution.MINUTE);\n\n</code></pre>\n<p>please help</p>\n"},{"tags":["java","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":17037984,"reputation":2262,"user_id":12326605,"display_name":"Arpit Jain"},"score":0,"creation_date":1690998772,"post_id":76818877,"comment_id":135432450,"body_markdown":"did you redeploy the application for policy changes to propagate?","body":"did you redeploy the application for policy changes to propagate?"},{"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"score":0,"creation_date":1691038977,"post_id":76818877,"comment_id":135437293,"body_markdown":"yes, i redeployed. but not working","body":"yes, i redeployed. but not working"},{"owner":{"account_id":17037984,"reputation":2262,"user_id":12326605,"display_name":"Arpit Jain"},"score":0,"creation_date":1691064643,"post_id":76818877,"comment_id":135442765,"body_markdown":"Please share the policy and permission you have assigned.","body":"Please share the policy and permission you have assigned."},{"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"score":0,"creation_date":1691072591,"post_id":76818877,"comment_id":135444672,"body_markdown":"I have attached the policy from the list &quot;AmazonAPIGatewayAdministrator&quot; to lambda function then it is working. Is it only way or is there a way to add the the same permissions from Lambda by going thru add permissions?","body":"I have attached the policy from the list &quot;AmazonAPIGatewayAdministrator&quot; to lambda function then it is working. Is it only way or is there a way to add the the same permissions from Lambda by going thru add permissions?"}],"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691039043,"creation_date":1690971220,"question_id":76818877,"body_markdown":"I am invoking the CreateAPIKeyRequest POST call from Lambda Function with intention to respond with generated API key ID for each invocation. Got error message that Lambda function does not have permissions to invoke createAPI POST call.\r\n\r\nCode for the same is below: \r\n\r\n```\r\n AmazonApiGateway client = AmazonApiGatewayClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\r\n CreateApiKeyRequest keyReq = new CreateApiKeyRequest();\r\n keyReq.setName(&quot;KEY_NAME&quot;);\r\n keyReq.setDescription(&quot;KEY_DESC&quot;);\r\n keyReq.setEnabled(true);\r\n  \r\n CreateApiKeyResult keyRes = client.createApiKey(keyReq);\r\n```\r\n\r\nAfter reading the documentation came across that i need to provide permissions so assigned Resource based permissions to Lambda function with ARN : arn:aws:apigateway:us-east-1::/apikeys. \r\n\r\nGetting the error message as &quot;**User: arn:aws:sts::XXXXXXXXXX:assumed-role/createAPIKey-role-s4puynzg/createAPIKey is not authorized to perform: apigateway:POST on resource: arn:aws:apigateway:us-east-1::/apikeys because no identity-based policy allows the apigateway:POST action (Service: AmazonApiGateway;**&quot;\r\n\r\nany inputs? ","title":"unable to Invoke CreateAPIKeyRequest from Lambda function and resulting in permission errors","body":"<p>I am invoking the CreateAPIKeyRequest POST call from Lambda Function with intention to respond with generated API key ID for each invocation. Got error message that Lambda function does not have permissions to invoke createAPI POST call.</p>\n<p>Code for the same is below:</p>\n<pre><code> AmazonApiGateway client = AmazonApiGatewayClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\n CreateApiKeyRequest keyReq = new CreateApiKeyRequest();\n keyReq.setName(&quot;KEY_NAME&quot;);\n keyReq.setDescription(&quot;KEY_DESC&quot;);\n keyReq.setEnabled(true);\n  \n CreateApiKeyResult keyRes = client.createApiKey(keyReq);\n</code></pre>\n<p>After reading the documentation came across that i need to provide permissions so assigned Resource based permissions to Lambda function with ARN : arn:aws:apigateway:us-east-1::/apikeys.</p>\n<p>Getting the error message as &quot;<strong>User: arn:aws:sts::XXXXXXXXXX:assumed-role/createAPIKey-role-s4puynzg/createAPIKey is not authorized to perform: apigateway:POST on resource: arn:aws:apigateway:us-east-1::/apikeys because no identity-based policy allows the apigateway:POST action (Service: AmazonApiGateway;</strong>&quot;</p>\n<p>any inputs?</p>\n"},{"tags":["java","redis","spring-data","lettuce"],"owner":{"account_id":29149139,"reputation":1,"user_id":22330351,"display_name":"chrischou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691038845,"creation_date":1691037536,"question_id":76824926,"body_markdown":"\r\n\r\nMy project is based on spring boot 3, and my code runs without any issues under the jvm. However, when I compile and run it under Linux using grailvm, I encountered an error\r\nThe error is as follows:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class io.lettuce.core.event.connection.JfrConnectionCreatedEvent\r\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at io.lettuce.core.event.jfr.JfrEventRecorder.createEvent(JfrEventRecorder.java:108)\r\n        at io.lettuce.core.event.jfr.JfrEventRecorder.record(JfrEventRecorder.java:48)\r\n        at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:398)\r\n        at io.lettuce.core.RedisClient.connectStatefulAsync(RedisClient.java:325)\r\n        at io.lettuce.core.RedisClient.connectStandaloneAsync(RedisClient.java:287)\r\n        at io.lettuce.core.RedisClient.connect(RedisClient.java:216)\r\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\r\n        at java.base@17.0.7/java.util.Optional.orElseGet(Optional.java:364)\r\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\r\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.lambda$getConnection$0(LettucePoolingConnectionProvider.java:93)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:211)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:201)\r\n        at org.apache.commons.pool2.BasePooledObjectFactory.makeObject(BasePooledObjectFactory.java:70)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:571)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:298)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:122)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:117)\r\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.getConnection(LettucePoolingConnectionProvider.java:99)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1059)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:398)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:193)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105)\r\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:393)\r\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)\r\n        at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:97)\r\n        at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:50)\r\n        at com.benfei.web.util.RedisUtil.get(RedisUtil.java:71)\r\n        at com.benfei.web.socket.MessageJob.runAdmin(MessageJob.java:38)\r\n        at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n        at java.base@17.0.7/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\n\r\n```\r\nIt&#39;s very strange that when I didn&#39;t generate the configuration file under /META-INF/native-image, Redis can be used normally, but after adding the configuration file, such an error occurred instead","title":"Does springDataRedis not support native-image of graalvm?","body":"<p>My project is based on spring boot 3, and my code runs without any issues under the jvm. However, when I compile and run it under Linux using grailvm, I encountered an error\nThe error is as follows:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class io.lettuce.core.event.connection.JfrConnectionCreatedEvent\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at io.lettuce.core.event.jfr.JfrEventRecorder.createEvent(JfrEventRecorder.java:108)\n        at io.lettuce.core.event.jfr.JfrEventRecorder.record(JfrEventRecorder.java:48)\n        at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:398)\n        at io.lettuce.core.RedisClient.connectStatefulAsync(RedisClient.java:325)\n        at io.lettuce.core.RedisClient.connectStandaloneAsync(RedisClient.java:287)\n        at io.lettuce.core.RedisClient.connect(RedisClient.java:216)\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\n        at java.base@17.0.7/java.util.Optional.orElseGet(Optional.java:364)\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.lambda$getConnection$0(LettucePoolingConnectionProvider.java:93)\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:211)\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:201)\n        at org.apache.commons.pool2.BasePooledObjectFactory.makeObject(BasePooledObjectFactory.java:70)\n        at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:571)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:298)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:122)\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:117)\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.getConnection(LettucePoolingConnectionProvider.java:99)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1059)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:398)\n        at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:193)\n        at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144)\n        at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105)\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:393)\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)\n        at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:97)\n        at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:50)\n        at com.benfei.web.util.RedisUtil.get(RedisUtil.java:71)\n        at com.benfei.web.socket.MessageJob.runAdmin(MessageJob.java:38)\n        at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n        at java.base@17.0.7/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\n\n</code></pre>\n<p>It's very strange that when I didn't generate the configuration file under /META-INF/native-image, Redis can be used normally, but after adding the configuration file, such an error occurred instead</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway","api-gateway","aws-api-gateway-v2"],"answers":[{"tags":[],"owner":{"account_id":2713800,"reputation":350,"user_id":2341601,"accept_rate":30,"display_name":"skzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691038526,"creation_date":1691038526,"answer_id":76824968,"question_id":76824469,"body_markdown":"You need to contact AWS Support for quota/limit changes, however, I&#39;m quite certain the 29 seconds is a hard limit that cannot be altered. You won&#39;t be able to use api gateway unless your APIs respond under 29seconds. ","title":"API Gateway timeout on HTTP Rest API Request","body":"<p>You need to contact AWS Support for quota/limit changes, however, I'm quite certain the 29 seconds is a hard limit that cannot be altered. You won't be able to use api gateway unless your APIs respond under 29seconds.</p>\n"}],"owner":{"account_id":1754514,"reputation":3082,"user_id":1602853,"accept_rate":72,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691038526,"creation_date":1691027326,"question_id":76824469,"body_markdown":"I have deployed my legacy application which has few HTTP Rest API&#39;s which responds in 1 minute (or greater). As of now there is no way to change this REST application performance.\r\n\r\nIn front I have API gateway which timeout in 30 seconds and there is no way to increase the 30 seconds timeout and we are facing 504 gateway timeout for Rest API&#39;s which is taking more than 30 seconds to respond. \r\n\r\nSo Other than modifying the REST application, Is there a way to make the change in the AWS side to fix the gateway timeout issue ? \r\n\r\nAnyhelp is appreciated. \r\n\r\nThanks,   \r\nHarry ","title":"API Gateway timeout on HTTP Rest API Request","body":"<p>I have deployed my legacy application which has few HTTP Rest API's which responds in 1 minute (or greater). As of now there is no way to change this REST application performance.</p>\n<p>In front I have API gateway which timeout in 30 seconds and there is no way to increase the 30 seconds timeout and we are facing 504 gateway timeout for Rest API's which is taking more than 30 seconds to respond.</p>\n<p>So Other than modifying the REST application, Is there a way to make the change in the AWS side to fix the gateway timeout issue ?</p>\n<p>Anyhelp is appreciated.</p>\n<p>Thanks,<br />\nHarry</p>\n"},{"tags":["java","unity-game-engine","plugins","native"],"comments":[{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691037134,"post_id":76824851,"comment_id":135437090,"body_markdown":"Do you have context ? I think you are not passing or fetching context that&#39;s why your game is crashing.","body":"Do you have context ? I think you are not passing or fetching context that&#39;s why your game is crashing."},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037459,"post_id":76824851,"comment_id":135437127,"body_markdown":"yes, the class has a context and initializes it in this function","body":"yes, the class has a context and initializes it in this function"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037518,"post_id":76824851,"comment_id":135437133,"body_markdown":"public NativeGalleryMediaPickerResultOperation( final Context context, final NativeGalleryMediaReceiver mediaReceiver, final Intent data, final boolean selectMultiple, final String savePathDirectory, final String savePathFilename )\n\t{\n\t\tthis.context = context;\n\t\tthis.mediaReceiver = mediaReceiver;\n\t\tthis.data = data;\n\t\tthis.selectMultiple = selectMultiple;\n\t\tthis.savePathDirectory = savePathDirectory;\n\t\tthis.savePathFilename = savePathFilename;\n\n\t}","body":"public NativeGalleryMediaPickerResultOperation( final Context context, final NativeGalleryMediaReceiver mediaReceiver, final Intent data, final boolean selectMultiple, final String savePathDirectory, final String savePathFilename ) \t{ \t\tthis.context = context; \t\tthis.mediaReceiver = mediaReceiver; \t\tthis.data = data; \t\tthis.selectMultiple = selectMultiple; \t\tthis.savePathDirectory = savePathDirectory; \t\tthis.savePathFilename = savePathFilename;  \t}"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037559,"post_id":76824851,"comment_id":135437140,"body_markdown":"do i need to initialize it in my functions as well?","body":"do i need to initialize it in my functions as well?"},{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691037689,"post_id":76824851,"comment_id":135437150,"body_markdown":"Yes, try to provide context","body":"Yes, try to provide context"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691038237,"post_id":76824851,"comment_id":135437208,"body_markdown":"i can&#39;t init it on functions, it is create  only in the constructor of the class","body":"i can&#39;t init it on functions, it is create  only in the constructor of the class"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691038342,"post_id":76824851,"comment_id":135437222,"body_markdown":"NativeGalleryMediaPickerResultOperation resultOperation = new NativeGalleryMediaPickerResultOperation( getActivity(), mediaReceiver, data, selectMultiple, savePathDirectory, savePathFilename );","body":"NativeGalleryMediaPickerResultOperation resultOperation = new NativeGalleryMediaPickerResultOperation( getActivity(), mediaReceiver, data, selectMultiple, savePathDirectory, savePathFilename );"},{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691038444,"post_id":76824851,"comment_id":135437236,"body_markdown":"public String getPreferenceString (Context myContext, String prefKey) {\n        SharedPreferences settings = myContext.getSharedPreferences(this.MY_CURRENT_PATH, 0);\n        String playerName = settings.getString(prefKey, &quot;&quot;);\n        return playerName;\n}\nUse like this and provide context from Unity","body":"public String getPreferenceString (Context myContext, String prefKey) {         SharedPreferences settings = myContext.getSharedPreferences(this.MY_CURRENT_PATH, 0);         String playerName = settings.getString(prefKey, &quot;&quot;);         return playerName; } Use like this and provide context from Unity"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691046058,"post_id":76824851,"comment_id":135438320,"body_markdown":"it was it. it was the context. no more errors now. thank you jaimin","body":"it was it. it was the context. no more errors now. thank you jaimin"}],"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691037143,"creation_date":1691035903,"question_id":76824851,"body_markdown":"I&#39;m not used to working with java, but I need to modify a unity plugin to save a value to sharedPreferences. So following this answer \r\n\r\nhttps://stackoverflow.com/questions/27682977/using-shared-preferences-between-unity-and-native-android-sdk\r\n\r\n\r\n\r\n\r\nI created two methods in a (pre-existing) class of the plugin in question, and a variable:\r\n\r\n\tpublic static final String MY_CURRENT_PATH = &quot;CurrentPhotoPath&quot;;\r\n\r\n//set value\r\n\r\npublic void setPreferenceString (String prefKey, String prefValue) {\r\n\t\tSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\t\tSharedPreferences.Editor editor = settings.edit();\r\n\t\teditor.putString(prefKey, prefValue);\r\n\t\teditor.commit();\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\t//Get value\r\n\tpublic String getPreferenceString (String prefKey) {\r\n\t\t\tSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\t\t\tString playerName = settings.getString(prefKey, &quot;&quot;);\r\n\t\t\treturn playerName;\r\n\t}\r\n\r\nObserving the errors on android studio&#39;s LogCat I can see that my application crashes when I try to call getPreferenceString (the Get value method) from a method in unity similar to this\r\n\r\n public static string GetPreferenceString(string prefKey)\r\n    {\r\n        AndroidJavaObject AJO = null;\r\n      \r\n        if (AJO == null)\r\n            AJO = new AndroidJavaObject(&quot;com.aaa.unity.classname&quot;, new object[0]);\r\n\r\n        if (AJO == null)\r\n            return string.Empty;\r\n\r\n        return AJO.Call&lt;string&gt;(&quot;getPreferenceString&quot;, new object[] { prefKey });\r\n    }\r\n\r\nso the result error log is &quot;AndroidJavaException: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.Share\r\ndPreferences android.content.Context.getSharedPreferences(java.lang.String, int)&#39; on a null object reference\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)&#39; on a null object reference\r\n                                                                                                    \tat com.aaa.unity.classname.getPreferenceString(NativeGalleryMediaPickerResultOperation.java:65)\r\n                                                                                                \r\n\r\n-where raw 65 is SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\r\n\r\n(The the set-value method, which I call earlier of the problematic one, doesn&#39;t seem to give any errors, but it&#39;s not clear to me where it saves the sharedpreferences)\r\n\r\n\r\n\r\n\r\n\r\nSo my question is: what about the attempt turns out to be null?\r\nDid I miss some step in creating the sharedpreferences on java side?\r\nI may have to initialize them somehow before I can use them? \r\nmaybe I didn&#39;t create the external file that contains them? \r\nAnd if so, how do I create it?\r\n\r\n\r\n\r\n","title":"NullPointerException: Attempt to invoke virtual method &#39;android.content.Context.getSharedPreferences(java.lang.String, int)&#39;on a null object reference","body":"<p>I'm not used to working with java, but I need to modify a unity plugin to save a value to sharedPreferences. So following this answer</p>\n<p><a href=\"https://stackoverflow.com/questions/27682977/using-shared-preferences-between-unity-and-native-android-sdk\">Using shared preferences between unity and native android sdk</a></p>\n<p>I created two methods in a (pre-existing) class of the plugin in question, and a variable:</p>\n<pre><code>public static final String MY_CURRENT_PATH = &quot;CurrentPhotoPath&quot;;\n</code></pre>\n<p>//set value</p>\n<p>public void setPreferenceString (String prefKey, String prefValue) {\nSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\nSharedPreferences.Editor editor = settings.edit();\neditor.putString(prefKey, prefValue);\neditor.commit();</p>\n<pre><code>}\n\n\n//Get value\npublic String getPreferenceString (String prefKey) {\n        SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\n        String playerName = settings.getString(prefKey, &quot;&quot;);\n        return playerName;\n}\n</code></pre>\n<p>Observing the errors on android studio's LogCat I can see that my application crashes when I try to call getPreferenceString (the Get value method) from a method in unity similar to this</p>\n<p>public static string GetPreferenceString(string prefKey)\n{\nAndroidJavaObject AJO = null;</p>\n<pre><code>    if (AJO == null)\n        AJO = new AndroidJavaObject(&quot;com.aaa.unity.classname&quot;, new object[0]);\n\n    if (AJO == null)\n        return string.Empty;\n\n    return AJO.Call&lt;string&gt;(&quot;getPreferenceString&quot;, new object[] { prefKey });\n}\n</code></pre>\n<p>so the result error log is &quot;AndroidJavaException: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.Share\ndPreferences android.content.Context.getSharedPreferences(java.lang.String, int)' on a null object reference\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)' on a null object reference\nat com.aaa.unity.classname.getPreferenceString(NativeGalleryMediaPickerResultOperation.java:65)</p>\n<p>-where raw 65 is SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);</p>\n<p>(The the set-value method, which I call earlier of the problematic one, doesn't seem to give any errors, but it's not clear to me where it saves the sharedpreferences)</p>\n<p>So my question is: what about the attempt turns out to be null?\nDid I miss some step in creating the sharedpreferences on java side?\nI may have to initialize them somehow before I can use them?\nmaybe I didn't create the external file that contains them?\nAnd if so, how do I create it?</p>\n"},{"tags":["java","maven","hadoop","okio"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691037153,"post_id":76822443,"comment_id":135437093,"body_markdown":"`hadoop-client` is not the same as `hadoop-client-api`. Also, if something is shaded, I dont think exclusions apply","body":"<code>hadoop-client</code> is not the same as <code>hadoop-client-api</code>. Also, if something is shaded, I dont think exclusions apply"}],"owner":{"account_id":12428567,"reputation":31,"user_id":9052149,"display_name":"Gary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691037105,"creation_date":1690999310,"question_id":76822443,"body_markdown":"We have a CVE reported `CVE-2023-3635` which requires the package `com.squareup.okio_okio` to be upgraded to 3.4.0.\r\nI have explicitly pinned this version in pom.xml\r\nex:\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\n`mvn dependency tree` shows 3.4.0 however when I extract the jar I see okio 1.6.0 is still included. \r\n\r\n```\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                    &lt;!-- okio declares a top level package instead of nested --&gt;\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;pattern&gt;okio/&lt;/pattern&gt;\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;shadedPattern&gt;${shaded.dependency.prefix}.okio.&lt;/shadedPattern&gt;\r\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:groupId=com.squareup.okio\r\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:artifactId=okio\r\n\r\ncat META-INF/maven/com.squareup.okio/okio/pom.properties\r\n#Generated by Maven\r\n#Tue Aug 25 19:59:48 EDT 2015\r\nversion=1.6.0\r\ngroupId=com.squareup.okio\r\nartifactId=okio\r\n\r\n```\r\n\r\nHow do I avoid including this 1.6.0 version and always pick up latest 3.4.0?\r\n\r\nThanks in advance","title":"org.apache.hadoop/hadoop-client-api always including com.squareup.okio 1.6.0 version","body":"<p>We have a CVE reported <code>CVE-2023-3635</code> which requires the package <code>com.squareup.okio_okio</code> to be upgraded to 3.4.0.\nI have explicitly pinned this version in pom.xml\nex:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p><code>mvn dependency tree</code> shows 3.4.0 however when I extract the jar I see okio 1.6.0 is still included.</p>\n<pre><code>META-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                    &lt;!-- okio declares a top level package instead of nested --&gt;\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;pattern&gt;okio/&lt;/pattern&gt;\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;shadedPattern&gt;${shaded.dependency.prefix}.okio.&lt;/shadedPattern&gt;\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:groupId=com.squareup.okio\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:artifactId=okio\n\ncat META-INF/maven/com.squareup.okio/okio/pom.properties\n#Generated by Maven\n#Tue Aug 25 19:59:48 EDT 2015\nversion=1.6.0\ngroupId=com.squareup.okio\nartifactId=okio\n\n</code></pre>\n<p>How do I avoid including this 1.6.0 version and always pick up latest 3.4.0?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"owner":{"account_id":29147716,"reputation":1,"user_id":22329251,"display_name":"yogi1817"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691036853,"creation_date":1691013550,"question_id":76823776,"body_markdown":"Spring boot Kafka - When I send a message to DLT and Retry topic from my application, I am able to send it. \r\n\r\nWhen an exception happens and framework tries to send the message it never works. No errors as well. The message stays in original topic and kept getting consumed and throws errors and repeat itself.\r\n\r\nIf the application is failing to publish why its not logging anything. This happens for bith blocking and non blocking retries.\r\n\r\n`@EnableKafka\r\n@Configuration\r\npublic class KafkaConfig {\r\n\r\n    private final KafkaPropertiesConfig kafkaPropertiesConfig;\r\n    private final IdpsPropertiesConfig idpsPropertiesConfig;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConfig.class);\r\n\r\n    public KafkaConfig(KafkaPropertiesConfig kafkaPropertiesConfig, IdpsPropertiesConfig idpsPropertiesConfig) {\r\n        this.kafkaPropertiesConfig = kafkaPropertiesConfig;\r\n        this.idpsPropertiesConfig = idpsPropertiesConfig;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(kafkaPropertiesConfig.getConcurrency());\r\n        factory.setAutoStartup(false);\r\n        factory.getContainerProperties().setIdleEventInterval(kafkaPropertiesConfig.getIdleEventInterval());\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\r\n        factory.getContainerProperties().setMissingTopicsFatal(false);\r\n        factory.getContainerProperties().setDeliveryAttemptHeader(true);\r\n\r\n        setListenerErrorHandler(factory);\r\n\r\n        return factory;\r\n    }\r\n\r\n    private void setListenerErrorHandler(ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory) {\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplateDLT(),\r\n                        (cr, e) -&gt; new TopicPartition(cr.topic() + &quot;-dlt&quot;, cr.partition())),\r\n                new FixedBackOff(kafkaPropertiesConfig.getBlockingBackoffTimeInMillis(), kafkaPropertiesConfig.getBlockingNumRetries())));\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; consumerFactory() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;Decrypter&lt;EncryptedData, byte[]&gt;&gt; decryptConf = new IDPSDecrypter.Config(idpsProps);\r\n\r\n        DeserializingMessageExtractor&lt;String, MetadataV3&gt; extractor = new DeserializingMessageExtractorImpl.Config&lt;&gt;(new DefaultValidator.Config&lt;&gt;(),\r\n                ProvisioningMethods.permissiveExtractor(decryptConf), com.intuit.eventbus.serialization.StringDeserializer::new).instantiate();\r\n\r\n        Deserializer&lt;String&gt; messageDeserializer = new Deserializer&lt;&gt;(extractor);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringDeserializer(), messageDeserializer);\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;String, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\r\n                new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\r\n                com.intuit.eventbus.serialization.StringSerializer::new);\r\n\r\n        Serializer&lt;String&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\r\n        return new DefaultKafkaProducerFactory&lt;String, String&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; producerFactoryDLT() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;Result&lt;FormatException, String&gt;, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\r\n                new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\r\n                ResultSerializer::new);\r\n\r\n        Serializer&lt;Result&lt;FormatException, String&gt;&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\r\n        return new DefaultKafkaProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaTemplateDLT() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactoryDLT());\r\n    }\r\n\r\n    private Properties getIdpsProperties() {\r\n        Properties result = new Properties();\r\n        result.putAll(idpsPropertiesConfig.getIdpsProperties().entrySet().stream()\r\n                .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformIdpsProperty)\r\n                .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\r\n        return result;\r\n    }\r\n\r\n    private Properties getKafkaProperties() {\r\n        Properties result = new Properties();\r\n        result.putAll(kafkaPropertiesConfig.getKafkaProperties().entrySet().stream()\r\n                .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformKafkaProperty)\r\n                .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Kafka only understands files can&#39;t load resources from classpath\r\n     *\r\n     */\r\n    private Map.Entry&lt;Object, Object&gt; transformIdpsProperty(Map.Entry&lt;Object, Object&gt; property) {\r\n\r\n        if (&quot;api_secret_key&quot;.equals(property.getKey()) &amp;&amp; (property.getValue() != null)) {\r\n            property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\r\n        }\r\n        return property;\r\n    }\r\n\r\n    private Map.Entry&lt;Object, Object&gt; transformKafkaProperty(Map.Entry&lt;Object, Object&gt; property) {\r\n\r\n        if (&quot;ssl.truststore.location&quot;.equals(property.getKey())) {\r\n            property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\r\n        }\r\n        return property;\r\n    }\r\n\r\n    public static class ResultSerializer implements com.intuit.eventbus.Serializer&lt;Result&lt;FormatException, String&gt;&gt;, Serializable {\r\n\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = 8057420295710787523L;\r\n\r\n        @Override\r\n        public byte[] apply(Result&lt;FormatException, String&gt; t, SchemaContext&lt;Result&lt;FormatException, String&gt;&gt; schemaContext) {\r\n            byte[] result;\r\n\r\n            if (t.isSuccess()) {\r\n                result = t.get().getBytes(StandardCharsets.UTF_8);\r\n                logger.info(String.format(&quot;Success serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\r\n            } else {\r\n                result = t.getFailure().getMessage().getBytes(StandardCharsets.UTF_8);\r\n                logger.info(String.format(&quot;Failure serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\r\n            }\r\n            return result;\r\n        }\r\n\r\n    }\r\n}`\r\n","title":"Spring boot Kafka - Sending a message to DLT and Retry topic does not work","body":"<p>Spring boot Kafka - When I send a message to DLT and Retry topic from my application, I am able to send it.</p>\n<p>When an exception happens and framework tries to send the message it never works. No errors as well. The message stays in original topic and kept getting consumed and throws errors and repeat itself.</p>\n<p>If the application is failing to publish why its not logging anything. This happens for bith blocking and non blocking retries.</p>\n<p>`@EnableKafka\n@Configuration\npublic class KafkaConfig {</p>\n<pre><code>private final KafkaPropertiesConfig kafkaPropertiesConfig;\nprivate final IdpsPropertiesConfig idpsPropertiesConfig;\n\nprivate static final Logger logger = LoggerFactory.getLogger(KafkaConfig.class);\n\npublic KafkaConfig(KafkaPropertiesConfig kafkaPropertiesConfig, IdpsPropertiesConfig idpsPropertiesConfig) {\n    this.kafkaPropertiesConfig = kafkaPropertiesConfig;\n    this.idpsPropertiesConfig = idpsPropertiesConfig;\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.setConcurrency(kafkaPropertiesConfig.getConcurrency());\n    factory.setAutoStartup(false);\n    factory.getContainerProperties().setIdleEventInterval(kafkaPropertiesConfig.getIdleEventInterval());\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\n    factory.getContainerProperties().setMissingTopicsFatal(false);\n    factory.getContainerProperties().setDeliveryAttemptHeader(true);\n\n    setListenerErrorHandler(factory);\n\n    return factory;\n}\n\nprivate void setListenerErrorHandler(ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory) {\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplateDLT(),\n                    (cr, e) -&gt; new TopicPartition(cr.topic() + &quot;-dlt&quot;, cr.partition())),\n            new FixedBackOff(kafkaPropertiesConfig.getBlockingBackoffTimeInMillis(), kafkaPropertiesConfig.getBlockingNumRetries())));\n}\n\n@Bean\npublic ConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; consumerFactory() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;Decrypter&lt;EncryptedData, byte[]&gt;&gt; decryptConf = new IDPSDecrypter.Config(idpsProps);\n\n    DeserializingMessageExtractor&lt;String, MetadataV3&gt; extractor = new DeserializingMessageExtractorImpl.Config&lt;&gt;(new DefaultValidator.Config&lt;&gt;(),\n            ProvisioningMethods.permissiveExtractor(decryptConf), com.intuit.eventbus.serialization.StringDeserializer::new).instantiate();\n\n    Deserializer&lt;String&gt; messageDeserializer = new Deserializer&lt;&gt;(extractor);\n\n    return new DefaultKafkaConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringDeserializer(), messageDeserializer);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;String, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\n            new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\n            com.intuit.eventbus.serialization.StringSerializer::new);\n\n    Serializer&lt;String&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\n    return new DefaultKafkaProducerFactory&lt;String, String&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\n}\n\n@Bean\npublic ProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; producerFactoryDLT() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;Result&lt;FormatException, String&gt;, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\n            new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\n            ResultSerializer::new);\n\n    Serializer&lt;Result&lt;FormatException, String&gt;&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\n    return new DefaultKafkaProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaTemplateDLT() {\n    return new KafkaTemplate&lt;&gt;(producerFactoryDLT());\n}\n\nprivate Properties getIdpsProperties() {\n    Properties result = new Properties();\n    result.putAll(idpsPropertiesConfig.getIdpsProperties().entrySet().stream()\n            .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformIdpsProperty)\n            .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\n    return result;\n}\n\nprivate Properties getKafkaProperties() {\n    Properties result = new Properties();\n    result.putAll(kafkaPropertiesConfig.getKafkaProperties().entrySet().stream()\n            .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformKafkaProperty)\n            .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\n    return result;\n}\n\n/**\n * Kafka only understands files can't load resources from classpath\n *\n */\nprivate Map.Entry&lt;Object, Object&gt; transformIdpsProperty(Map.Entry&lt;Object, Object&gt; property) {\n\n    if (&quot;api_secret_key&quot;.equals(property.getKey()) &amp;&amp; (property.getValue() != null)) {\n        property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\n    }\n    return property;\n}\n\nprivate Map.Entry&lt;Object, Object&gt; transformKafkaProperty(Map.Entry&lt;Object, Object&gt; property) {\n\n    if (&quot;ssl.truststore.location&quot;.equals(property.getKey())) {\n        property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\n    }\n    return property;\n}\n\npublic static class ResultSerializer implements com.intuit.eventbus.Serializer&lt;Result&lt;FormatException, String&gt;&gt;, Serializable {\n\n    /**\n     *\n     */\n    private static final long serialVersionUID = 8057420295710787523L;\n\n    @Override\n    public byte[] apply(Result&lt;FormatException, String&gt; t, SchemaContext&lt;Result&lt;FormatException, String&gt;&gt; schemaContext) {\n        byte[] result;\n\n        if (t.isSuccess()) {\n            result = t.get().getBytes(StandardCharsets.UTF_8);\n            logger.info(String.format(&quot;Success serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\n        } else {\n            result = t.getFailure().getMessage().getBytes(StandardCharsets.UTF_8);\n            logger.info(String.format(&quot;Failure serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\n        }\n        return result;\n    }\n\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691015904,"post_id":76823688,"comment_id":135435318,"body_markdown":"First hint: price(x) and price(y) are independent, so you do not need to check all possible (x,y) pairs, just maximize price(x) and price(y) independently.","body":"First hint: price(x) and price(y) are independent, so you do not need to check all possible (x,y) pairs, just maximize price(x) and price(y) independently."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691016283,"post_id":76823688,"comment_id":135435367,"body_markdown":"Second hint: it seems that two points `(int x1, int y1, int p1)` and `(int x2, int y2, int p2)` could be replaced by single point `(double (x1*p1 + x2*p2)/(p1+p2), double (y1*p1 + y2*p2)/(p1+p2), int p1+p2)`, so you may find a &quot;center of gravity&quot; and after that check 4 nearest integer points, however I&#39;m not sure this idea is correct.","body":"Second hint: it seems that two points <code>(int x1, int y1, int p1)</code> and <code>(int x2, int y2, int p2)</code> could be replaced by single point <code>(double (x1*p1 + x2*p2)&#47;(p1+p2), double (y1*p1 + y2*p2)&#47;(p1+p2), int p1+p2)</code>, so you may find a &quot;center of gravity&quot; and after that check 4 nearest integer points, however I&#39;m not sure this idea is correct."}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691034419,"creation_date":1691023015,"answer_id":76824256,"question_id":76823688,"body_markdown":"Since you&#39;re using the Manhattan distance metric, you can calculate the `cx` and `cy` coordinates independently.\r\n\r\nThe minimum total Manhattan distance to all points in the list could be found, as you said, by finding the median of all the x coordinates and the median of all the y coordinates -- easy.\r\n\r\nYour points are weighted by price, however, so a simple median won&#39;t do.  The solution is easy, though -- just use a price-weighted median.  It&#39;s not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.\r\n\r\nFor example, `y`s in order, multiplied by price:\r\n\r\n1 * 1, 2 * 3, 3 * 2,  4 * 4\r\n\r\nThe prices add up to 1+3+2+4 = 10.  In the range from 0-10, give each `y`, in order, a length equal to its price:  [0,1) for y=1, [1,4) for y=2, [4,6) for y=3, and [6,10) for y=4.\r\n\r\n10/2 is 5, which is in the range for y=3, so `cy = 3`.\r\n\r\nFor x, we get [0,1) for x=1, [1,3) for x=2, [3,6) for x=3, and [6,10) for x=4.  Again the half-way point is in the range for x=3, so `cx = 3`.\r\n","title":"Find minimum cost distance for given co-ordinates","body":"<p>Since you're using the Manhattan distance metric, you can calculate the <code>cx</code> and <code>cy</code> coordinates independently.</p>\n<p>The minimum total Manhattan distance to all points in the list could be found, as you said, by finding the median of all the x coordinates and the median of all the y coordinates -- easy.</p>\n<p>Your points are weighted by price, however, so a simple median won't do.  The solution is easy, though -- just use a price-weighted median.  It's not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.</p>\n<p>For example, <code>y</code>s in order, multiplied by price:</p>\n<p>1 * 1, 2 * 3, 3 * 2,  4 * 4</p>\n<p>The prices add up to 1+3+2+4 = 10.  In the range from 0-10, give each <code>y</code>, in order, a length equal to its price:  [0,1) for y=1, [1,4) for y=2, [4,6) for y=3, and [6,10) for y=4.</p>\n<p>10/2 is 5, which is in the range for y=3, so <code>cy = 3</code>.</p>\n<p>For x, we get [0,1) for x=1, [1,3) for x=2, [3,6) for x=3, and [6,10) for x=4.  Again the half-way point is in the range for x=3, so <code>cx = 3</code>.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691034419,"creation_date":1691012270,"question_id":76823688,"body_markdown":"For given list of x and y co-ordinates, find the location of co-ordinate (cx, cy). \r\nThe distance to reach this co-ordinate is calculated using Manhattan distance, where the Manhattan distance between the points (x[i], y[i]) and (cx, cy) will be distance[i] = abs(x[i] – cx) + abs(y[i] – cy) . \r\n\r\nThe corresponding cost for that path (x[i], y[i]) to (cx, cy) is calculated as price[i] * distance[i]\r\n\r\nThe result I am looking for is the minimum cost to connect to the node (cx, cy) from all the co-ordinates provided in list x and y.\r\n`\r\nThe size of list x and y is 1 to 10^3, size of price list is 1 to 50 and values in x and y is 1 to 10^4`\r\n\r\n\r\nExample:\r\n\r\nx = [1,3,2,4], y = [1,2,3,4], price=[1,3,2,4]\r\n\r\nResult:\r\n\r\nTo get minimum cost we need to select (cx, cy) as (3,3).\r\n\r\nCost = 1 * [(3-1)+(3-1)] + 3 * [(3-3)+(3-2)] + 2 * [(3-2) + (3-3)] + 4*[(4-3)+(4-3)] \r\ncost = 4 + 3 + 2 + 8 = 17\r\n\r\nReturn 17 as answer.\r\n\r\nHere is my program using brute-force approach:\r\n\r\n    public int solve(List&lt;Integer&gt; x, List&lt;Integer&gt; y, List&lt;Integer&gt; price){\r\n    \tint minCost = Integer.MAX_VALUE;\r\n    \tint n = x.size();\r\n    \t// try all possible combnations of (cx, cy) from (0,0) to 10^4\r\n    \tfor(int i=1; i&lt;10000; i++) {\r\n    \t\tfor(int j=1; j&lt;10000; j++) {\r\n    \t\t\t// Get (cx, cy);\r\n    \t\t\tint cx = i, cy = j;\r\n    \t\t\tint currentCost = 0;\r\n    \t\t\tfor(int k=0; k&lt;n; k++) {\r\n    \t\t\t\t// Get (xi, yi)\r\n    \t\t\t\tint xi = x.get(k), yi= y.get(k);\r\n    \t\t\t\tint distance = Math.abs(xi - cx) + Math.abs(yi - cy);\r\n    \t\t\t\tcurrentCost += price.get(k) * distance;\r\n    \t\t\t}\r\n    \t\t\tminCost = Math.min(minCost, currentCost);\r\n    \t\t}\r\n    \t}\r\n    \treturn minCost;\r\n    }\r\n\r\nThe logic looks fine, but here I am using 3 nested loops so time complexity is O(N^3). \r\n\r\nAnother idea I have is to find the median for given list of x and y co-ordinates as the position for (cx, cy), this needs only O(N) time.\r\nBut as the final cost also depends on price list, using median is not a correct approach to solve this problem.\r\n\r\nWhat is the optimized approach to solve this in less time.","title":"Find minimum cost distance for given co-ordinates","body":"<p>For given list of x and y co-ordinates, find the location of co-ordinate (cx, cy).\nThe distance to reach this co-ordinate is calculated using Manhattan distance, where the Manhattan distance between the points (x[i], y[i]) and (cx, cy) will be distance[i] = abs(x[i] – cx) + abs(y[i] – cy) .</p>\n<p>The corresponding cost for that path (x[i], y[i]) to (cx, cy) is calculated as price[i] * distance[i]</p>\n<p>The result I am looking for is the minimum cost to connect to the node (cx, cy) from all the co-ordinates provided in list x and y.\n<code> The size of list x and y is 1 to 10^3, size of price list is 1 to 50 and values in x and y is 1 to 10^4</code></p>\n<p>Example:</p>\n<p>x = [1,3,2,4], y = [1,2,3,4], price=[1,3,2,4]</p>\n<p>Result:</p>\n<p>To get minimum cost we need to select (cx, cy) as (3,3).</p>\n<p>Cost = 1 * [(3-1)+(3-1)] + 3 * [(3-3)+(3-2)] + 2 * [(3-2) + (3-3)] + 4*[(4-3)+(4-3)]\ncost = 4 + 3 + 2 + 8 = 17</p>\n<p>Return 17 as answer.</p>\n<p>Here is my program using brute-force approach:</p>\n<pre><code>public int solve(List&lt;Integer&gt; x, List&lt;Integer&gt; y, List&lt;Integer&gt; price){\n    int minCost = Integer.MAX_VALUE;\n    int n = x.size();\n    // try all possible combnations of (cx, cy) from (0,0) to 10^4\n    for(int i=1; i&lt;10000; i++) {\n        for(int j=1; j&lt;10000; j++) {\n            // Get (cx, cy);\n            int cx = i, cy = j;\n            int currentCost = 0;\n            for(int k=0; k&lt;n; k++) {\n                // Get (xi, yi)\n                int xi = x.get(k), yi= y.get(k);\n                int distance = Math.abs(xi - cx) + Math.abs(yi - cy);\n                currentCost += price.get(k) * distance;\n            }\n            minCost = Math.min(minCost, currentCost);\n        }\n    }\n    return minCost;\n}\n</code></pre>\n<p>The logic looks fine, but here I am using 3 nested loops so time complexity is O(N^3).</p>\n<p>Another idea I have is to find the median for given list of x and y co-ordinates as the position for (cx, cy), this needs only O(N) time.\nBut as the final cost also depends on price list, using median is not a correct approach to solve this problem.</p>\n<p>What is the optimized approach to solve this in less time.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":1,"creation_date":1528763979,"post_id":50807771,"comment_id":88621300,"body_markdown":"This is a checked exception - read the source code docs : `Throws {@link NameNotFoundException} if a package with the given name can not be found on the system.` - I suspect you have the other code in a try/catch block already.","body":"This is a checked exception - read the source code docs : <code>Throws {@link NameNotFoundException} if a package with the given name can not be found on the system.</code> - I suspect you have the other code in a try/catch block already."},{"owner":{"account_id":5531820,"reputation":151,"user_id":4391586,"accept_rate":50,"display_name":"Fechang Fuchang"},"score":0,"creation_date":1528764375,"post_id":50807771,"comment_id":88621376,"body_markdown":"Yes , you are right. The other code is in a try/catch. Thank you so much.","body":"Yes , you are right. The other code is in a try/catch. Thank you so much."}],"answers":[{"tags":[],"owner":{"account_id":1335995,"reputation":24143,"user_id":4390381,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1528764039,"creation_date":1528764039,"answer_id":50807805,"question_id":50807771,"body_markdown":"`pm.getPackageInfo` throws `PackageManager.NameNotFoundException` which needs to be handled. Just wrap it with try catch as follows:\r\n\r\n        final PackageManager pm = getPackageManager();\r\n        final String pn = getPackageName();\r\n        PackageInfo pi = null;\r\n        try {\r\n            pi = pm.getPackageInfo(pn, 0);\r\n        } catch (NameNotFoundException e) {\r\n            //LOG the exception\r\n        }\r\n        curVersionCode = pi!=null ? pi.versionCode:-1;\r\n","title":"PackageManager.NameNotFoundException","body":"<p><code>pm.getPackageInfo</code> throws <code>PackageManager.NameNotFoundException</code> which needs to be handled. Just wrap it with try catch as follows:</p>\n\n<pre><code>    final PackageManager pm = getPackageManager();\n    final String pn = getPackageName();\n    PackageInfo pi = null;\n    try {\n        pi = pm.getPackageInfo(pn, 0);\n    } catch (NameNotFoundException e) {\n        //LOG the exception\n    }\n    curVersionCode = pi!=null ? pi.versionCode:-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1654589300,"creation_date":1636623039,"answer_id":69925986,"question_id":50807771,"body_markdown":"Originally answered [here][1]\r\n\r\nThere is one behaviour change in Android API level 30 because of which we get NameNotFoundException when we call getPackageInfo on Android 11 even if the app/package app is installed on user&#39;s device. From Android API 30, we need to specify the package name in manifest in order to check if that package is installed on user&#39;s device.\r\n\r\nFor example we need to specify Youtube package in app manifest file before checking if youtube app is installed on user&#39;s device,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest \r\n     ...&gt;\r\n        &lt;queries&gt;\r\n            &lt;package android:name=&quot;com.google.android.youtube&quot; /&gt;\r\n        &lt;/queries&gt;\r\n    \r\n        &lt;application\r\n           android:name=&quot;.Notes App&quot;\r\n        .../&gt;\r\n \r\n    &lt;/manifest&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69925975/8956093","title":"PackageManager.NameNotFoundException","body":"<p>Originally answered <a href=\"https://stackoverflow.com/a/69925975/8956093\">here</a></p>\n<p>There is one behaviour change in Android API level 30 because of which we get NameNotFoundException when we call getPackageInfo on Android 11 even if the app/package app is installed on user's device. From Android API 30, we need to specify the package name in manifest in order to check if that package is installed on user's device.</p>\n<p>For example we need to specify Youtube package in app manifest file before checking if youtube app is installed on user's device,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest \n ...&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.google.android.youtube&quot; /&gt;\n    &lt;/queries&gt;\n\n    &lt;application\n       android:name=&quot;.Notes App&quot;\n    .../&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15939010,"reputation":1,"user_id":11501330,"display_name":"crashHunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691034327,"creation_date":1691034327,"answer_id":76824777,"question_id":50807771,"body_markdown":"When calling some methods that will throw exceptions, you need to use try catch to handle possible exceptions. At the same time, when the target api version &gt;= 30, you need to add the packagename of the app to be queried in the androidmanifest as follows, otherwise even if the corresponding app is installed on the device will also return exception\r\n\r\n```\r\n&lt;queries&gt;\r\n    &lt;package android:name=&quot;com.whatsapp&quot;/&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\n    ","title":"PackageManager.NameNotFoundException","body":"<p>When calling some methods that will throw exceptions, you need to use try catch to handle possible exceptions. At the same time, when the target api version &gt;= 30, you need to add the packagename of the app to be queried in the androidmanifest as follows, otherwise even if the corresponding app is installed on the device will also return exception</p>\n<pre><code>&lt;queries&gt;\n    &lt;package android:name=&quot;com.whatsapp&quot;/&gt;\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":5531820,"reputation":151,"user_id":4391586,"accept_rate":50,"display_name":"Fechang Fuchang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10945,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50807805,"answer_count":3,"score":7,"last_activity_date":1691034327,"creation_date":1528763621,"question_id":50807771,"body_markdown":"I have a `.java` file:\r\n\r\n\r\n     ....\r\n    \r\n     import android.content.pm.ApplicationInfo;\r\n     import android.content.pm.PackageInfo;\r\n     import android.content.pm.PackageManager;\r\n\r\n     ....\r\n\r\n       /* PackageInfo packageInfo = \r\n       getPackageManager().getPackageInfo(getPackageName(),0);\r\n       curVersionCode = packageInfo.versionCode;*/\r\n\r\n       PackageManager pm = getPackageManager();\r\n       String pn = getPackageName();\r\n       PackageInfo pi = pm.getPackageInfo(pn,0);\r\n       curVersionCode = pi.versionCode;\r\n\r\n       ....\r\n\r\nTo understand the error i wrote the code in four lines. The two line code is in the comment as you see. Now that, this code doesn&#39;t work and gives an error of `PackageManager.NameNotFoundException` here when i try to build. For clarity, I used this code in a different file and it caused no error there; so there is no need to worry about the package name. Now what is the cause behind this error? An image is also attached to make clear the error. \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kCdfm.png\r\n\r\n\r\nTo solve this issue i also tried like these: `this.getPackageManager()`, `getBaseContext().getPackageManager()` and `getApplicationContext().getPackageManager()`; But all in vain. ","title":"PackageManager.NameNotFoundException","body":"<p>I have a <code>.java</code> file:</p>\n\n<pre><code> ....\n\n import android.content.pm.ApplicationInfo;\n import android.content.pm.PackageInfo;\n import android.content.pm.PackageManager;\n\n ....\n\n   /* PackageInfo packageInfo = \n   getPackageManager().getPackageInfo(getPackageName(),0);\n   curVersionCode = packageInfo.versionCode;*/\n\n   PackageManager pm = getPackageManager();\n   String pn = getPackageName();\n   PackageInfo pi = pm.getPackageInfo(pn,0);\n   curVersionCode = pi.versionCode;\n\n   ....\n</code></pre>\n\n<p>To understand the error i wrote the code in four lines. The two line code is in the comment as you see. Now that, this code doesn't work and gives an error of <code>PackageManager.NameNotFoundException</code> here when i try to build. For clarity, I used this code in a different file and it caused no error there; so there is no need to worry about the package name. Now what is the cause behind this error? An image is also attached to make clear the error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/kCdfm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kCdfm.png\" alt=\"enter image description here\"></a></p>\n\n<p>To solve this issue i also tried like these: <code>this.getPackageManager()</code>, <code>getBaseContext().getPackageManager()</code> and <code>getApplicationContext().getPackageManager()</code>; But all in vain. </p>\n"},{"tags":["java","android","websocket","ssl-certificate","wildcard"],"answers":[{"tags":[],"owner":{"account_id":11179490,"reputation":51,"user_id":14762516,"display_name":"Savvasenok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617004985,"creation_date":1617004985,"answer_id":66850635,"question_id":66850037,"body_markdown":"Had the same problem before and found out, that certificates signed by big companies are trusted by devices, so when someone else tries to make their own certificate its very dangerous, because (in this case) android can not be sure, that your data is well-encrypted\r\n\r\nYou either should have the right certificate or trust them all. Second solution is okay for development, but should never be used in production","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<p>Had the same problem before and found out, that certificates signed by big companies are trusted by devices, so when someone else tries to make their own certificate its very dangerous, because (in this case) android can not be sure, that your data is well-encrypted</p>\n<p>You either should have the right certificate or trust them all. Second solution is okay for development, but should never be used in production</p>\n"},{"tags":[],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691033432,"creation_date":1691033432,"answer_id":76824734,"question_id":66850037,"body_markdown":"Answer: Wildcard certificates are trusted by Android devices, contrary to the custom certificates. There was no problem with the Android part of the code \r\nThe problem was that our backend guys had included only one of the certificate files on the code and not the certificate chain (the top certificate on the chain and not the other ones) that&#39;s why our `WebSocket` library produced that error.\r\nAlso in case of custom certificates, the best way is to certificate pinning or including server CA (Certificate Authority) files on the Android app and refer to it on manifest file but the app is prone to getting tampered with and needs security measures.","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<p>Answer: Wildcard certificates are trusted by Android devices, contrary to the custom certificates. There was no problem with the Android part of the code\nThe problem was that our backend guys had included only one of the certificate files on the code and not the certificate chain (the top certificate on the chain and not the other ones) that's why our <code>WebSocket</code> library produced that error.\nAlso in case of custom certificates, the best way is to certificate pinning or including server CA (Certificate Authority) files on the Android app and refer to it on manifest file but the app is prone to getting tampered with and needs security measures.</p>\n"}],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76824734,"answer_count":2,"score":0,"last_activity_date":1691033432,"creation_date":1617002102,"question_id":66850037,"body_markdown":"### Summary: ###\r\nHow to create socket to a server with wildcard certificate when we get &quot;The certificate of the peer does not match the expected hostname&quot; error?\r\n\r\n---------------------------------------------------------------------------\r\n\r\nBasically, I want to create a secure websocket (wss) to a server with wildcard certificate. I&#39;m using [this websocket library][1]. Now when I want to connect to the website the connection is instantly close with this error log:\r\n\r\n&gt; 2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err: com.neovisionaries.ws.client.HostnameUnverifiedException: The certificate of the peer does not match the expected hostname (sthsth.sthsth.ir)\r\n2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.verifyHostname(SocketConnector.java:281)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.doConnect(SocketConnector.java:246)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.connect(SocketConnector.java:190)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.WebSocket.connect(WebSocket.java:2351)\r\n2021-03-16 13:14:16.223 21027-21097/com.....app W/System.err:     at com.....app.network.GeneralSocketService$1.run(GeneralSocketService.java:167)\r\n&gt; \r\n&gt; 2021-03-16 13:14:15.895 21027-21097/com.....app E/Conscrypt:\r\n&gt; ------------------Untrusted chain: ---------------------- 2021-03-16 13:14:15.896 21027-21097/com.....app E/Conscrypt: == Chain0 == \r\n&gt;      Version:   3 2021-03-16 13:14:15.897 21027-21097/com.....app E/Conscrypt:  Serial Number:   e63f80cf7a1220146cc8fd96d8468a4\r\n&gt; 2021-03-16 13:14:15.900 21027-21097/com.....app E/Conscrypt: \r\n&gt; SubjectDN:   CN=*.sthsthnet.ir, C=US 2021-03-16 13:14:15.908\r\n&gt; 21027-21097/com.....app E/Conscrypt:  IssuerDN:   CN=Certum Domain\r\n&gt; Validation CA SHA2, OU=Certum Certification Authority, O=Unizeto\r\n&gt; Technologies S.A., C=PL 2021-03-16 13:14:15.914\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Get not before:   Tue Jul 30\r\n&gt; 10:35:53 GMT+04:30 2019 2021-03-16 13:14:15.916\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Get not after:   Thu Jul 29\r\n&gt; 10:35:53 GMT+04:30 2021 2021-03-16 13:14:15.918\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Sig ALG name:   SHA256withRSA\r\n&gt; 2021-03-16 13:14:15.921 21027-21097/com.....app E/Conscrypt: \r\n&gt; Signature:  \r\n&gt; 22bc2d40a15e881292c19f5b47ca610cc3efb90e998b7eddf08ab108f56ec3df1b7ea7f2ac25b8df74cc49735f3fe7f509fe87ea42c080424f450f8f1bf04a35e4c97dac79ee2df66cde96f4a7a1fb6b62f5640f0a111a157feb7ef5ceab2588cad1731bbf22434d2ee3e0fcbec8ff74ad194d0c2a5ab113b4d00302e62721052b7d0afacc6cda129c3ff99db165d3836a1e2900dd66f8eb3b05f4aab6f42de2a85a60c5382d8bf229c3b866a662326606444685f62673cfbe5fd6a4dc21aa8b18e36c9e13423917aabf79b817011a757262f7b16629745a44162eb9a58ebab4adeefb4710a439f34844b0489f44d3afe0a1ba2e0f78dd5fc04009b0096e1837\r\n&gt; 2021-03-16 13:14:16.213 21027-21097/com.....app E/Conscrypt:  Public\r\n&gt; key:\r\n&gt;      \r\n&gt;      30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03\r\n&gt;      82 01 0f 00 30 82 01 0a 02 82 01 01 00 9d b2 14 d0 11 c4 8f\r\n&gt;      29 42 7a ee 09 1e 30 2e 62 dd 14 b8 6b 7b 1b 6b fe 03 ba 6a\r\n&gt;      07 6b 6c 69 b3 07 58 51 cf c0 4c 67 15 7e 0f 46 45 33 2b f5\r\n&gt;      50 20 db 2c 45 f7 8a 52 29 d2 a0 10 65 31 1d 9f d9 90 2f 83\r\n&gt;      e9 d7 c1 ee 1a a6 e8 47 3d 89 fb 8b cf d0 d7 7f ac de d1 39\r\n&gt;      ec 4b 8d 43 a4 d5 c2 95 e4 ab 4e 6e 2b a6 b7 24 f7 62 1b 3e\r\n&gt;      4a 27 ca a0 d7 9f 22 c3 25 d8 bd 54 39 27 51 99 d5 fa 13 ed\r\n&gt;      88 8a 64 9c ce 60 38 ae ea 7e 5f ee ed b1 ff cf 30 56 6d 5c\r\n&gt;      01 ad 0c d8 87 f0 4f c7 89 85 e0 d1 08 89 e8 69 dc 6e 35 c0\r\n&gt;      7d fc e6 37 33 00 a9 c8 7b 88 9e eb 98 02 bc 6c 9c f4 b7 6b\r\n&gt;      87 ca 15 1d 31 37 95 07 8e d2 c8 6a db 92 e0 93 35 4b f8 b0\r\n&gt;      29 b9 8f 21 d8 70 0a 5d 91 c5 fb 9c 51 b2 3e a8 6e 53 78 64\r\n&gt;      5c e5 c3 06 02 ab e5 0e 11 96 ea a9 f4 99 ea f2 66 d2 c2 6b\r\n&gt;      86 eb 90 0d f1 85 3f ef 51 02 03 01 00 01\r\n\r\n\r\nNow using I know using:\r\n\r\n    WebSocketFactory.setVerifyHostname(false);\r\nresults in another error and I do not want to alter my code so it verifies all kinds of certificates or self-signed certificates like this:\r\n\r\n    TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n    X509Certificate[] myTrustedAnchors = new X509Certificate[0];\r\n    return myTrustedAnchors;\r\n    }\r\n    \r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] certs,\r\n    String authType) {\r\n    }\r\n    \r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] certs,\r\n    String authType) {\r\n    }\r\n    }};\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, trustAllCerts, new SecureRandom());\r\n    factory.setSSLContext(sslContext);\r\n    socket = factory.createSocket(API_SOCKET);TooTallNate/Java-WebSockethttps://github.comTooTallNate/Java-WebSockethttps://github.com\r\n\r\n\r\nNor this:\r\n\r\n    SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\r\n                        factory.setSSLContext(sslContext);\r\n                        socket = factory.createSocket(API_SOCKET);\r\nI also do not want to store server&#39;s certificate in my app because it may change time to time and the maintenance would get out of hand:\r\n\r\n        //1. Get the cert file from the server \r\n        //2. Converted the cert to a BKS format\r\n        \r\n        \r\n         // loading CAs from an InputStream \r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;); \r\n    InputStream cert = context.getResources().openRawResource(R.raw.my_cert); \r\n    Certificate ca;\r\n     try {\r\n     ca = cf.generateCertificate(cert);\r\n     } finally {\r\n     cert.close();\r\n     } \r\n    // creating a KeyStore containing our trusted CAs \r\n    String keyStoreType = KeyStore.getDefaultType(); \r\n    KeyStore keyStore = KeyStore.getInstance(keyStoreType); \r\n    keyStore.load(null, null); \r\n    keyStore.setCertificateEntry(&quot;ca&quot;, ca); \r\n    // creating a TrustManager that trusts the CAs in our KeyStore \r\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm(); \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm); \r\n    tmf.init(keyStore); \r\n    // creating an SSLSocketFactory that uses our TrustManager \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;); \r\n    sslContext.init(null, tmf.getTrustManagers(), null); \r\n\r\nIs there another solution to pass only host verification issue without compromising security or maintanance?\r\n\r\n  [1]: https://github.com/TakahikoKawasaki/nv-websocket-client","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<h3>Summary:</h3>\n<p>How to create socket to a server with wildcard certificate when we get &quot;The certificate of the peer does not match the expected hostname&quot; error?</p>\n<hr />\n<p>Basically, I want to create a secure websocket (wss) to a server with wildcard certificate. I'm using <a href=\"https://github.com/TakahikoKawasaki/nv-websocket-client\" rel=\"nofollow noreferrer\">this websocket library</a>. Now when I want to connect to the website the connection is instantly close with this error log:</p>\n<blockquote>\n<p>2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err: com.neovisionaries.ws.client.HostnameUnverifiedException: The certificate of the peer does not match the expected hostname (sthsth.sthsth.ir)\n2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.verifyHostname(SocketConnector.java:281)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.doConnect(SocketConnector.java:246)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.connect(SocketConnector.java:190)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.WebSocket.connect(WebSocket.java:2351)\n2021-03-16 13:14:16.223 21027-21097/com.....app W/System.err:     at com.....app.network.GeneralSocketService$1.run(GeneralSocketService.java:167)</p>\n<p>2021-03-16 13:14:15.895 21027-21097/com.....app E/Conscrypt:\n------------------Untrusted chain: ---------------------- 2021-03-16 13:14:15.896 21027-21097/com.....app E/Conscrypt: == Chain0 ==\nVersion:   3 2021-03-16 13:14:15.897 21027-21097/com.....app E/Conscrypt:  Serial Number:   e63f80cf7a1220146cc8fd96d8468a4\n2021-03-16 13:14:15.900 21027-21097/com.....app E/Conscrypt:\nSubjectDN:   CN=*.sthsthnet.ir, C=US 2021-03-16 13:14:15.908\n21027-21097/com.....app E/Conscrypt:  IssuerDN:   CN=Certum Domain\nValidation CA SHA2, OU=Certum Certification Authority, O=Unizeto\nTechnologies S.A., C=PL 2021-03-16 13:14:15.914\n21027-21097/com.....app E/Conscrypt:  Get not before:   Tue Jul 30\n10:35:53 GMT+04:30 2019 2021-03-16 13:14:15.916\n21027-21097/com.....app E/Conscrypt:  Get not after:   Thu Jul 29\n10:35:53 GMT+04:30 2021 2021-03-16 13:14:15.918\n21027-21097/com.....app E/Conscrypt:  Sig ALG name:   SHA256withRSA\n2021-03-16 13:14:15.921 21027-21097/com.....app E/Conscrypt:\nSignature:<br />\n22bc2d40a15e881292c19f5b47ca610cc3efb90e998b7eddf08ab108f56ec3df1b7ea7f2ac25b8df74cc49735f3fe7f509fe87ea42c080424f450f8f1bf04a35e4c97dac79ee2df66cde96f4a7a1fb6b62f5640f0a111a157feb7ef5ceab2588cad1731bbf22434d2ee3e0fcbec8ff74ad194d0c2a5ab113b4d00302e62721052b7d0afacc6cda129c3ff99db165d3836a1e2900dd66f8eb3b05f4aab6f42de2a85a60c5382d8bf229c3b866a662326606444685f62673cfbe5fd6a4dc21aa8b18e36c9e13423917aabf79b817011a757262f7b16629745a44162eb9a58ebab4adeefb4710a439f34844b0489f44d3afe0a1ba2e0f78dd5fc04009b0096e1837\n2021-03-16 13:14:16.213 21027-21097/com.....app E/Conscrypt:  Public\nkey:</p>\n<pre><code> 30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03\n 82 01 0f 00 30 82 01 0a 02 82 01 01 00 9d b2 14 d0 11 c4 8f\n 29 42 7a ee 09 1e 30 2e 62 dd 14 b8 6b 7b 1b 6b fe 03 ba 6a\n 07 6b 6c 69 b3 07 58 51 cf c0 4c 67 15 7e 0f 46 45 33 2b f5\n 50 20 db 2c 45 f7 8a 52 29 d2 a0 10 65 31 1d 9f d9 90 2f 83\n e9 d7 c1 ee 1a a6 e8 47 3d 89 fb 8b cf d0 d7 7f ac de d1 39\n ec 4b 8d 43 a4 d5 c2 95 e4 ab 4e 6e 2b a6 b7 24 f7 62 1b 3e\n 4a 27 ca a0 d7 9f 22 c3 25 d8 bd 54 39 27 51 99 d5 fa 13 ed\n 88 8a 64 9c ce 60 38 ae ea 7e 5f ee ed b1 ff cf 30 56 6d 5c\n 01 ad 0c d8 87 f0 4f c7 89 85 e0 d1 08 89 e8 69 dc 6e 35 c0\n 7d fc e6 37 33 00 a9 c8 7b 88 9e eb 98 02 bc 6c 9c f4 b7 6b\n 87 ca 15 1d 31 37 95 07 8e d2 c8 6a db 92 e0 93 35 4b f8 b0\n 29 b9 8f 21 d8 70 0a 5d 91 c5 fb 9c 51 b2 3e a8 6e 53 78 64\n 5c e5 c3 06 02 ab e5 0e 11 96 ea a9 f4 99 ea f2 66 d2 c2 6b\n 86 eb 90 0d f1 85 3f ef 51 02 03 01 00 01\n</code></pre>\n</blockquote>\n<p>Now using I know using:</p>\n<pre><code>WebSocketFactory.setVerifyHostname(false);\n</code></pre>\n<p>results in another error and I do not want to alter my code so it verifies all kinds of certificates or self-signed certificates like this:</p>\n<pre><code>TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\npublic X509Certificate[] getAcceptedIssuers() {\nX509Certificate[] myTrustedAnchors = new X509Certificate[0];\nreturn myTrustedAnchors;\n}\n\n@Override\npublic void checkClientTrusted(X509Certificate[] certs,\nString authType) {\n}\n\n@Override\npublic void checkServerTrusted(X509Certificate[] certs,\nString authType) {\n}\n}};\n\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustAllCerts, new SecureRandom());\nfactory.setSSLContext(sslContext);\nsocket = factory.createSocket(API_SOCKET);TooTallNate/Java-WebSockethttps://github.comTooTallNate/Java-WebSockethttps://github.com\n</code></pre>\n<p>Nor this:</p>\n<pre><code>SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\n                    factory.setSSLContext(sslContext);\n                    socket = factory.createSocket(API_SOCKET);\n</code></pre>\n<p>I also do not want to store server's certificate in my app because it may change time to time and the maintenance would get out of hand:</p>\n<pre><code>    //1. Get the cert file from the server \n    //2. Converted the cert to a BKS format\n    \n    \n     // loading CAs from an InputStream \nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;); \nInputStream cert = context.getResources().openRawResource(R.raw.my_cert); \nCertificate ca;\n try {\n ca = cf.generateCertificate(cert);\n } finally {\n cert.close();\n } \n// creating a KeyStore containing our trusted CAs \nString keyStoreType = KeyStore.getDefaultType(); \nKeyStore keyStore = KeyStore.getInstance(keyStoreType); \nkeyStore.load(null, null); \nkeyStore.setCertificateEntry(&quot;ca&quot;, ca); \n// creating a TrustManager that trusts the CAs in our KeyStore \nString tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm(); \nTrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm); \ntmf.init(keyStore); \n// creating an SSLSocketFactory that uses our TrustManager \nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;); \nsslContext.init(null, tmf.getTrustManagers(), null); \n</code></pre>\n<p>Is there another solution to pass only host verification issue without compromising security or maintanance?</p>\n"},{"tags":["java","android","firebase","push-notification"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554975633,"creation_date":1554975633,"answer_id":55629381,"question_id":55628571,"body_markdown":"The best way to handle your issue, is to use `topic` messaging.\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt;Based on the publish/subscribe model, FCM topic messaging allows you to send a message to multiple devices that have opted in to a particular topic. You compose topic messages as needed, and FCM handles routing and delivering the message reliably to the right devices.\r\n\r\nWhen the user logs in the app, you can subscribe to a certain topic, for example:\r\n\r\n    FirebaseMessaging.getInstance().subscribeToTopic(&quot;weather&quot;)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                String msg = getString(R.string.msg_subscribed);\r\n                if (!task.isSuccessful()) {\r\n                    msg = getString(R.string.msg_subscribe_failed);\r\n                }\r\n                Log.d(TAG, msg);\r\n                Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\nThen the user can receive notifications based on the topic name. Then when the user clicks the logs out button, you can call the following:\r\n\r\n    FirebaseMessaging.getInstance().unsubscribeFromTopic(&quot;weather&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/topic-messaging","title":"Unique Firebase Instance-Id for every user account","body":"<p>The best way to handle your issue, is to use <code>topic</code> messaging.</p>\n\n<p>From the <a href=\"https://firebase.google.com/docs/cloud-messaging/android/topic-messaging\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Based on the publish/subscribe model, FCM topic messaging allows you to send a message to multiple devices that have opted in to a particular topic. You compose topic messages as needed, and FCM handles routing and delivering the message reliably to the right devices.</p>\n</blockquote>\n\n<p>When the user logs in the app, you can subscribe to a certain topic, for example:</p>\n\n<pre><code>FirebaseMessaging.getInstance().subscribeToTopic(\"weather\")\n    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            String msg = getString(R.string.msg_subscribed);\n            if (!task.isSuccessful()) {\n                msg = getString(R.string.msg_subscribe_failed);\n            }\n            Log.d(TAG, msg);\n            Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n\n<p>Then the user can receive notifications based on the topic name. Then when the user clicks the logs out button, you can call the following:</p>\n\n<pre><code>FirebaseMessaging.getInstance().unsubscribeFromTopic(\"weather\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554990914,"creation_date":1554990914,"answer_id":55634224,"question_id":55628571,"body_markdown":"&gt; Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?\r\n\r\nRegenerating an Instance ID will indeed always result in a unique value. As long as you ensure that you delete the Instance ID when the user logs out, you&#39;ll get a fresh token next time around.\r\n\r\nTo ensure your token registry (the place where you store tokens) doesn&#39;t accumulate too many outdated tokens, be sure to either remove the token when the user signs out, or when you find out a token is no longer valid when sending messages. See [my answer to this question](https://stackoverflow.com/a/51836732).","title":"Unique Firebase Instance-Id for every user account","body":"<blockquote>\n  <p>Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?</p>\n</blockquote>\n\n<p>Regenerating an Instance ID will indeed always result in a unique value. As long as you ensure that you delete the Instance ID when the user logs out, you'll get a fresh token next time around.</p>\n\n<p>To ensure your token registry (the place where you store tokens) doesn't accumulate too many outdated tokens, be sure to either remove the token when the user signs out, or when you find out a token is no longer valid when sending messages. See <a href=\"https://stackoverflow.com/a/51836732\">my answer to this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":11651413,"reputation":101,"user_id":8532604,"display_name":"Hassan Alizadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582651913,"creation_date":1582636778,"answer_id":60395582,"question_id":55628571,"body_markdown":"If you want to have Unique FCM Instance Id for each user on a device, you should call ``FirebaseInstanceId.getInstance().deleteInstanceId()``\r\non each logout on an account.\r\nThen in next ``FirebaseInstanceId.getInstance().instanceId``\r\ncall, you&#39;ll get a new unique Intance Id\r\n\r\n\r\nBut there is a point that you need to know. **Call deleteInstanceId() on a new Thread**, not MainThread\r\n\r\n","title":"Unique Firebase Instance-Id for every user account","body":"<p>If you want to have Unique FCM Instance Id for each user on a device, you should call <code>FirebaseInstanceId.getInstance().deleteInstanceId()</code>\non each logout on an account.\nThen in next <code>FirebaseInstanceId.getInstance().instanceId</code>\ncall, you'll get a new unique Intance Id</p>\n\n<p>But there is a point that you need to know. <strong>Call deleteInstanceId() on a new Thread</strong>, not MainThread</p>\n"}],"owner":{"account_id":7456577,"reputation":95,"user_id":5669664,"display_name":"twister21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55634224,"answer_count":3,"score":0,"last_activity_date":1691033089,"creation_date":1554973302,"question_id":55628571,"body_markdown":"I&#39;m unsure how to handle different user accounts on the same device appropriately, as Firebase only creates one Instance-Id per device.\r\n\r\nTherefore, I thought that it would be possible to delete the Instance-Id when the user is logged out and to create a new one when a new user is logged in.\r\n\r\n\r\nOn login:\r\n\r\n    FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(task -&gt; System.out.println(task.getResult().getToken()));\r\n\r\nOn logout:\r\n\r\n    FirebaseInstanceId.getInstance().deleteInstanceId()\r\n   \r\n\r\nDoes Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device? \r\nThe reasons why I prefer this approach are that it&#39;s simple to unsubscribe the user from all topics at once and moreover push notifications can be addressed to a specific user.","title":"Unique Firebase Instance-Id for every user account","body":"<p>I'm unsure how to handle different user accounts on the same device appropriately, as Firebase only creates one Instance-Id per device.</p>\n<p>Therefore, I thought that it would be possible to delete the Instance-Id when the user is logged out and to create a new one when a new user is logged in.</p>\n<p>On login:</p>\n<pre><code>FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(task -&gt; System.out.println(task.getResult().getToken()));\n</code></pre>\n<p>On logout:</p>\n<pre><code>FirebaseInstanceId.getInstance().deleteInstanceId()\n</code></pre>\n<p>Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?\nThe reasons why I prefer this approach are that it's simple to unsubscribe the user from all topics at once and moreover push notifications can be addressed to a specific user.</p>\n"},{"tags":["java","jpa","spring-data-jpa","sql-order-by","querydsl"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691042904,"post_id":76824551,"comment_id":135437800,"body_markdown":"Can you clarify what the desired output is? Both of those examples look as I would expect: the second sort criterion is applied when the first one is equal.","body":"Can you clarify what the desired output is? Both of those examples look as I would expect: the second sort criterion is applied when the first one is equal."},{"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"score":0,"creation_date":1691108288,"post_id":76824551,"comment_id":135450900,"body_markdown":"my desired output is somewhat following the first conditions in my where(), which is          member.age.asc(),\n                        member.username.asc().nullsLast()\nI want the age to be asc() and username to be nullsLast().","body":"my desired output is somewhat following the first conditions in my where(), which is          member.age.asc(),                         member.username.asc().nullsLast() I want the age to be asc() and username to be nullsLast()."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691108958,"post_id":76824551,"comment_id":135450957,"body_markdown":"Please update the question with the _specific_ output you want, in a similar format to the examples of actual output.","body":"Please update the question with the <i>specific</i> output you want, in a similar format to the examples of actual output."}],"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691029257,"creation_date":1691029257,"question_id":76824551,"body_markdown":"I have a simple table called Member\r\n\r\n| id | username       | age |\r\n| -- | -------------- | --- |\r\n| 1  | member17       | 25  |\r\n| 2  | member18       | 24  |\r\n| 3  | member19       | 23  |\r\n| 4  | member20       | 22  |\r\n| 5  | null           | 21  |\r\n| 6  | member22       | 21  |\r\n| 7  | member23       | 21  |\r\n| 8  | member24       | 18  |\r\n| 9  | null           | 17  |\r\n\r\nI was practicing sorting with Querydsl with this simple sorting query.\r\n```\r\n    @Override\r\n    public List&lt;Member&gt; sortMemberList() {\r\n        return queryFactory\r\n                .selectFrom(member)\r\n                .where(member.age.between(17, 25))\r\n                .orderBy(\r\n                        member.age.asc(),\r\n                        member.username.asc().nullsLast()\r\n                )\r\n                .fetch();\r\n    }\r\n```\r\nThis query produces\r\n```\r\n    select\r\n        m1_0.member_id,\r\n        m1_0.age,\r\n        m1_0.team_id,\r\n        m1_0.username \r\n    from\r\n        Member m1_0 \r\n    where\r\n        m1_0.age between ? and ? \r\n    order by\r\n        m1_0.age,\r\n        case \r\n            when (m1_0.username) is null then 1 \r\n            else 0 \r\n        end,\r\n        m1_0.username\r\n```\r\nAs you can see, `member.age.asc()` and `member.username.asc()` are two directly opposite sorts. But for the result, I see, \r\n```\r\n[\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 17\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member24&quot;,\r\n        &quot;age&quot;: 18\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member22&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member23&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member20&quot;,\r\n        &quot;age&quot;: 22\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member19&quot;,\r\n        &quot;age&quot;: 23\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member18&quot;,\r\n        &quot;age&quot;: 24\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member17&quot;,\r\n        &quot;age&quot;: 25\r\n    }\r\n]\r\n```\r\nwithout `member.username.asc().nullsLast()` being applied.\r\n\r\n\r\nWhen I switch the `orderBy` condition to\r\n```\r\n.orderBy(\r\nmember.username.asc().nullsLast(),\r\nmember.age.asc()\r\n)\r\n```\r\n```\r\n[\r\n    {\r\n        &quot;username&quot;: &quot;member17&quot;,\r\n        &quot;age&quot;: 25\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member18&quot;,\r\n        &quot;age&quot;: 24\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member19&quot;,\r\n        &quot;age&quot;: 23\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member20&quot;,\r\n        &quot;age&quot;: 22\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member22&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member23&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member24&quot;,\r\n        &quot;age&quot;: 18\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 17\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 21\r\n    }\r\n]\r\n```\r\nthe username condition gets applied while the age condition is ignored.\r\n\r\n\r\nIf I want to apply the age condition first, and then use the username condition,\r\nI can&#39;t simply do `member.username.nullsLast()`, Java doesn&#39;t let me and gives me this error,\r\n```\r\njava: cannot find symbol\r\n  symbol:   method nullsLast()\r\n  location: variable username of type com.querydsl.core.types.dsl.StringPath\r\n```\r\n\r\nIf I want to sort this list by `member.age.asc()` and apply `nullsLast` to username, how should I get about this?","title":"Is there a priority to JPA Querydsl&#39;s orderBy?","body":"<p>I have a simple table called Member</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>username</th>\n<th>age</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>member17</td>\n<td>25</td>\n</tr>\n<tr>\n<td>2</td>\n<td>member18</td>\n<td>24</td>\n</tr>\n<tr>\n<td>3</td>\n<td>member19</td>\n<td>23</td>\n</tr>\n<tr>\n<td>4</td>\n<td>member20</td>\n<td>22</td>\n</tr>\n<tr>\n<td>5</td>\n<td>null</td>\n<td>21</td>\n</tr>\n<tr>\n<td>6</td>\n<td>member22</td>\n<td>21</td>\n</tr>\n<tr>\n<td>7</td>\n<td>member23</td>\n<td>21</td>\n</tr>\n<tr>\n<td>8</td>\n<td>member24</td>\n<td>18</td>\n</tr>\n<tr>\n<td>9</td>\n<td>null</td>\n<td>17</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I was practicing sorting with Querydsl with this simple sorting query.</p>\n<pre><code>    @Override\n    public List&lt;Member&gt; sortMemberList() {\n        return queryFactory\n                .selectFrom(member)\n                .where(member.age.between(17, 25))\n                .orderBy(\n                        member.age.asc(),\n                        member.username.asc().nullsLast()\n                )\n                .fetch();\n    }\n</code></pre>\n<p>This query produces</p>\n<pre><code>    select\n        m1_0.member_id,\n        m1_0.age,\n        m1_0.team_id,\n        m1_0.username \n    from\n        Member m1_0 \n    where\n        m1_0.age between ? and ? \n    order by\n        m1_0.age,\n        case \n            when (m1_0.username) is null then 1 \n            else 0 \n        end,\n        m1_0.username\n</code></pre>\n<p>As you can see, <code>member.age.asc()</code> and <code>member.username.asc()</code> are two directly opposite sorts. But for the result, I see,</p>\n<pre><code>[\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 17\n    },\n    {\n        &quot;username&quot;: &quot;member24&quot;,\n        &quot;age&quot;: 18\n    },\n    {\n        &quot;username&quot;: &quot;member22&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member23&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member20&quot;,\n        &quot;age&quot;: 22\n    },\n    {\n        &quot;username&quot;: &quot;member19&quot;,\n        &quot;age&quot;: 23\n    },\n    {\n        &quot;username&quot;: &quot;member18&quot;,\n        &quot;age&quot;: 24\n    },\n    {\n        &quot;username&quot;: &quot;member17&quot;,\n        &quot;age&quot;: 25\n    }\n]\n</code></pre>\n<p>without <code>member.username.asc().nullsLast()</code> being applied.</p>\n<p>When I switch the <code>orderBy</code> condition to</p>\n<pre><code>.orderBy(\nmember.username.asc().nullsLast(),\nmember.age.asc()\n)\n</code></pre>\n<pre><code>[\n    {\n        &quot;username&quot;: &quot;member17&quot;,\n        &quot;age&quot;: 25\n    },\n    {\n        &quot;username&quot;: &quot;member18&quot;,\n        &quot;age&quot;: 24\n    },\n    {\n        &quot;username&quot;: &quot;member19&quot;,\n        &quot;age&quot;: 23\n    },\n    {\n        &quot;username&quot;: &quot;member20&quot;,\n        &quot;age&quot;: 22\n    },\n    {\n        &quot;username&quot;: &quot;member22&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member23&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member24&quot;,\n        &quot;age&quot;: 18\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 17\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 21\n    }\n]\n</code></pre>\n<p>the username condition gets applied while the age condition is ignored.</p>\n<p>If I want to apply the age condition first, and then use the username condition,\nI can't simply do <code>member.username.nullsLast()</code>, Java doesn't let me and gives me this error,</p>\n<pre><code>java: cannot find symbol\n  symbol:   method nullsLast()\n  location: variable username of type com.querydsl.core.types.dsl.StringPath\n</code></pre>\n<p>If I want to sort this list by <code>member.age.asc()</code> and apply <code>nullsLast</code> to username, how should I get about this?</p>\n"},{"tags":["java","flutter","dart","gradle"],"comments":[{"owner":{"account_id":28931030,"reputation":368,"user_id":22159750,"display_name":"Boseong"},"score":0,"creation_date":1691025111,"post_id":76824329,"comment_id":135436110,"body_markdown":"Did you tried `flutter doctor --verbose`? you could get hint from that command.","body":"Did you tried <code>flutter doctor --verbose</code>? you could get hint from that command."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1691038170,"post_id":76824329,"comment_id":135437201,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041889,"post_id":76824329,"comment_id":135437644,"body_markdown":"https://stackoverflow.com/questions/68798266/the-project-uses-gradle-2-10-which-is-incompatible-with-android-studio-2020-3","body":"<a href=\"https://stackoverflow.com/questions/68798266/the-project-uses-gradle-2-10-which-is-incompatible-with-android-studio-2020-3\" title=\"the project uses gradle 2 10 which is incompatible with android studio 2020 3\">stackoverflow.com/questions/68798266/&hellip;</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041909,"post_id":76824329,"comment_id":135437649,"body_markdown":"https://stackoverflow.com/questions/76123807/my-projects-gradle-version-is-incompatible-with-the-java-version-that-flutter-i","body":"<a href=\"https://stackoverflow.com/questions/76123807/my-projects-gradle-version-is-incompatible-with-the-java-version-that-flutter-i\" title=\"my projects gradle version is incompatible with the java version that flutter i\">stackoverflow.com/questions/76123807/&hellip;</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041927,"post_id":76824329,"comment_id":135437654,"body_markdown":"check these post to get your answer. You have to upgrade your gradle version . see some videos if not understand .","body":"check these post to get your answer. You have to upgrade your gradle version . see some videos if not understand ."},{"owner":{"account_id":25710386,"reputation":131,"user_id":19469031,"display_name":"Bora Ke&#231;eci"},"score":0,"creation_date":1691066413,"post_id":76824329,"comment_id":135443169,"body_markdown":"https://stackoverflow.com/questions/76795890/flutter-warning-when-build-release/76825418#76825418 \ncan you try this ?","body":"<a href=\"https://stackoverflow.com/questions/76795890/flutter-warning-when-build-release/76825418#76825418\" title=\"flutter warning when build release\">stackoverflow.com/questions/76795890/&hellip;</a>  can you try this ?"}],"answers":[{"tags":[],"owner":{"account_id":17572159,"reputation":157,"user_id":12747710,"display_name":"임세준"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691027987,"creation_date":1691027987,"answer_id":76824489,"question_id":76824329,"body_markdown":"Your gradle is not compatible with your java version.\r\nJust follow the error message, then you can find compatible version for gradle or java, after that update it !","title":"Gradle version is incompatible with the Java version that Flutter is using for gradle","body":"<p>Your gradle is not compatible with your java version.\nJust follow the error message, then you can find compatible version for gradle or java, after that update it !</p>\n"}],"owner":{"account_id":29148251,"reputation":11,"user_id":22329661,"display_name":"Adeniran Peter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691027987,"creation_date":1691024689,"question_id":76824329,"body_markdown":"[Debug error message](https://i.stack.imgur.com/VrvpW.png)\r\n\r\nI have tried to delete the version in gradle folder and run debug again still the same error message.\r\nJava version Java(TM) SE Runtime Environment (build 20.0.2+9-78) and My gradle version is: distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\nandroid studio version 34, Flutter version 3.10.6 on channel stable, Dart version 3.0.6","title":"Gradle version is incompatible with the Java version that Flutter is using for gradle","body":"<p><a href=\"https://i.stack.imgur.com/VrvpW.png\" rel=\"nofollow noreferrer\">Debug error message</a></p>\n<p>I have tried to delete the version in gradle folder and run debug again still the same error message.\nJava version Java(TM) SE Runtime Environment (build 20.0.2+9-78) and My gradle version is: distributionUrl=https://services.gradle.org/distributions/gradle-7.5-all.zip\nandroid studio version 34, Flutter version 3.10.6 on channel stable, Dart version 3.0.6</p>\n"},{"tags":["java","duplicates","overloading"],"comments":[{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1691025567,"post_id":76824350,"comment_id":135436150,"body_markdown":"It depends entirely on how your `duplicate-checker` works. You say `...ClassA and ClassB are exactly the same...` but if they are of different types, then `method overloading` should be totally allowed","body":"It depends entirely on how your <code>duplicate-checker</code> works. You say <code>...ClassA and ClassB are exactly the same...</code> but if they are of different types, then <code>method overloading</code> should be totally allowed"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691026186,"post_id":76824350,"comment_id":135436211,"body_markdown":"What is it that is complaining about duplicate code?  Surely not the Java compiler -- or at least, that can&#39;t be *rejecting* the code shown on such a basis.  It is allowed to have different methods with the same name and different parameter types.","body":"What is it that is complaining about duplicate code?  Surely not the Java compiler -- or at least, that can&#39;t be <i>rejecting</i> the code shown on such a basis.  It is allowed to have different methods with the same name and different parameter types."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691026310,"post_id":76824350,"comment_id":135436217,"body_markdown":"I wouldn&#39;t waste 5 minutes trying to code around this. I&#39;d be putting this back to the company. It is their policies that (a) mandated the duplication and (b) caused the duplication to be detected as an error. There is an internal contradiction here that they need to resolve, and wasting programmer time is not the way to do it.","body":"I wouldn&#39;t waste 5 minutes trying to code around this. I&#39;d be putting this back to the company. It is their policies that (a) mandated the duplication and (b) caused the duplication to be detected as an error. There is an internal contradiction here that they need to resolve, and wasting programmer time is not the way to do it."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691026409,"post_id":76824350,"comment_id":135436225,"body_markdown":"If you&#39;re going to autogenerate near-identical code, as a labour-saving device, then disable the robot that is complaining about the  concomitant duplication of glue code.  Such tools are meant to help, not force you into complaisant agreement.","body":"If you&#39;re going to autogenerate near-identical code, as a labour-saving device, then disable the robot that is complaining about the  concomitant duplication of glue code.  Such tools are meant to help, not force you into complaisant agreement."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691026436,"post_id":76824350,"comment_id":135436227,"body_markdown":"This isn&#39;t duplicate code, because `obj` is of different types. That&#39;s a bug in your duplicate checker.","body":"This isn&#39;t duplicate code, because <code>obj</code> is of different types. That&#39;s a bug in your duplicate checker."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691026548,"post_id":76824350,"comment_id":135436239,"body_markdown":"What @user207421 said, but have you tried changing the order you call the setters?","body":"What @user207421 said, but have you tried changing the order you call the setters?"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691026744,"creation_date":1691025816,"answer_id":76824397,"question_id":76824350,"body_markdown":"Assuming that these two classes do not share a common Interface, \r\nyou could create a method that takes an Object as its parameter\r\n\r\n    public InternalModel convertToInternal(Object o){\r\n\r\n        if (o instanceof ClassA) {\r\n            ClassA obj = (ClassA) o; \r\n            InternalModel rtn = new InternalModel();\r\n            rtn.setId(obj.getId());\r\n            rtn.setName(obj.getName());\r\n            rtn.setOrg(obj.getOrg());\r\n            return rtn;\r\n        }\r\n        if (obj instanceof ClassB) {\r\n            // etc\r\n        }\r\n\r\nSee https://www.baeldung.com/java-instanceof-alternatives for alternatives to instanceof","title":"Avoid duplicate in methods with different type parameters","body":"<p>Assuming that these two classes do not share a common Interface,\nyou could create a method that takes an Object as its parameter</p>\n<pre><code>public InternalModel convertToInternal(Object o){\n\n    if (o instanceof ClassA) {\n        ClassA obj = (ClassA) o; \n        InternalModel rtn = new InternalModel();\n        rtn.setId(obj.getId());\n        rtn.setName(obj.getName());\n        rtn.setOrg(obj.getOrg());\n        return rtn;\n    }\n    if (obj instanceof ClassB) {\n        // etc\n    }\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/java-instanceof-alternatives\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-instanceof-alternatives</a> for alternatives to instanceof</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691027033,"creation_date":1691027033,"answer_id":76824453,"question_id":76824350,"body_markdown":"&gt; How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?\r\n\r\nSince you stipulate that the two classes are not polymorphic and cannot be made so, there is no good way to remove the lexical duplication.  This is because it&#39;s *only* lexical, not a semantic duplication.  Notwithstanding that the methods being invoked in the two method bodies have the same names and even the same parameter types, they are different methods because they belong to different, unrelated types.\r\n\r\nUnless you can get the duplication checker altogether disabled, which I suspect would be a hard sell, your best alternative would be to leverage some feature of the duplication-checker to disable it for the affected methods or the affected class.  See whether it supports receiving localized instructions via annotations or specially-formatted comments, for example.\r\n\r\nIf necessary, since the analysis it seems to be purely lexical, you could probably fool it with sufficient lexical changes, such as:\r\n\r\n - adding different ordinary comments to the body of each method\r\n - changing the parameter name in one of the methods\r\n - reordering the statements in the method body (to the extent that you can do so without causing breakage)\r\n\r\n","title":"Avoid duplicate in methods with different type parameters","body":"<blockquote>\n<p>How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?</p>\n</blockquote>\n<p>Since you stipulate that the two classes are not polymorphic and cannot be made so, there is no good way to remove the lexical duplication.  This is because it's <em>only</em> lexical, not a semantic duplication.  Notwithstanding that the methods being invoked in the two method bodies have the same names and even the same parameter types, they are different methods because they belong to different, unrelated types.</p>\n<p>Unless you can get the duplication checker altogether disabled, which I suspect would be a hard sell, your best alternative would be to leverage some feature of the duplication-checker to disable it for the affected methods or the affected class.  See whether it supports receiving localized instructions via annotations or specially-formatted comments, for example.</p>\n<p>If necessary, since the analysis it seems to be purely lexical, you could probably fool it with sufficient lexical changes, such as:</p>\n<ul>\n<li>adding different ordinary comments to the body of each method</li>\n<li>changing the parameter name in one of the methods</li>\n<li>reordering the statements in the method body (to the extent that you can do so without causing breakage)</li>\n</ul>\n"}],"owner":{"account_id":26677223,"reputation":21,"user_id":20287710,"display_name":"jJavier52"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691027033,"creation_date":1691025091,"question_id":76824350,"body_markdown":"I have two classes that are autogenerated, these classes have the same arguments and methods, lets call them ClassA and ClassB. I need to convert this autogenerated classes to an internal model, so I have created a convertToInternal(ClassA) and convertToInternal(ClassB) but the mapping process is detected as a duplicated code. This is because ClassA and ClassB are exactly the same, and both need to be mapped to the same internal model. I can change the method name but thats not helping with the duplicated code error.\r\n\r\nSince both ClassA and ClassB are autogenerated (and also both required per company rules), I can&#39;t modify them.\r\n\r\nHow can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?\r\n\r\nI&#39;m using java 17.\r\n\r\nThe detected duplicated methods are:\r\n\r\n```\r\npublic InternalModel convertToInternal(ClassA obj){\r\n    InternalModel rtn = new InternalModel();\r\n    rtn.setId(obj.getId());\r\n    rtn.setName(obj.getName());\r\n    rtn.setOrg(obj.getOrg());\r\n    ...\r\n    return rtn;\r\n}\r\n\r\npublic InternalModel convertToInternal(ClassB obj){\r\n    InternalModel rtn = new InternalModel();\r\n    rtn.setId(obj.getId());\r\n    rtn.setName(obj.getName());\r\n    rtn.setOrg(obj.getOrg());\r\n    ...\r\n    return rtn;\r\n}\r\n```","title":"Avoid duplicate in methods with different type parameters","body":"<p>I have two classes that are autogenerated, these classes have the same arguments and methods, lets call them ClassA and ClassB. I need to convert this autogenerated classes to an internal model, so I have created a convertToInternal(ClassA) and convertToInternal(ClassB) but the mapping process is detected as a duplicated code. This is because ClassA and ClassB are exactly the same, and both need to be mapped to the same internal model. I can change the method name but thats not helping with the duplicated code error.</p>\n<p>Since both ClassA and ClassB are autogenerated (and also both required per company rules), I can't modify them.</p>\n<p>How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?</p>\n<p>I'm using java 17.</p>\n<p>The detected duplicated methods are:</p>\n<pre><code>public InternalModel convertToInternal(ClassA obj){\n    InternalModel rtn = new InternalModel();\n    rtn.setId(obj.getId());\n    rtn.setName(obj.getName());\n    rtn.setOrg(obj.getOrg());\n    ...\n    return rtn;\n}\n\npublic InternalModel convertToInternal(ClassB obj){\n    InternalModel rtn = new InternalModel();\n    rtn.setId(obj.getId());\n    rtn.setName(obj.getName());\n    rtn.setOrg(obj.getOrg());\n    ...\n    return rtn;\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690785261,"post_id":76800982,"comment_id":135395867,"body_markdown":"And with only the screenshot with no code of the controller or object being send we are expected to know what is wrong? We need more information on what is being send, what are the types etc.","body":"And with only the screenshot with no code of the controller or object being send we are expected to know what is wrong? We need more information on what is being send, what are the types etc."},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1690896844,"post_id":76800982,"comment_id":135414865,"body_markdown":"That code shows nothing.  Question - if its all standard, then why do you have a problem ?  Please post enough code for us to replicate teh problem.  Read the help if you are not sure.","body":"That code shows nothing.  Question - if its all standard, then why do you have a problem ?  Please post enough code for us to replicate teh problem.  Read the help if you are not sure."},{"owner":{"account_id":5683345,"reputation":320,"user_id":4493684,"accept_rate":75,"display_name":"LetMeCodeYou"},"score":0,"creation_date":1690909095,"post_id":76800982,"comment_id":135417516,"body_markdown":"@RohitGupta I hope now you&#39;ll get the issue.","body":"@RohitGupta I hope now you&#39;ll get the issue."}],"answers":[{"tags":[],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691025195,"creation_date":1691025195,"answer_id":76824360,"question_id":76800982,"body_markdown":"The `value` attribute of a date field in html gives and takes a string in the format of `YYYY-MM-DD` [\\[W3 Schools\\]][1]. So there are many ways of achieving what you want, and one of them could be a case where you convert the date to the relevant string format from the server side and use it to populate the date field in your template. \r\n\r\nFor example:\r\n\r\nIn my Controller class, I have some code that converts a Java date object to the string format to send to my template.\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model){\r\n        LocalDate localDate = LocalDate.now();\r\n\r\n        // Convert LocalDate to Date Object\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\r\n\r\n        // Formatting the date object\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        String formattedDate = sdf.format(dob);\r\n\r\n        // Should we print this formattedDate, we get a string representation of -&gt; &quot;2023-08-02&quot;\r\n\r\n        model.addAttribute(&quot;formattedDate&quot;, formattedDate);\r\n\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nNow in my template, I can use that `formmattedDate` object to set the value on the input date field.\r\n\r\n    &lt;form style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n            &lt;input type=&quot;date&quot; th:value=&quot;${formattedDate}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nThis is what is looks like\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://www.w3schools.com/jsref/prop_date_value.asp\r\n  [2]: https://i.stack.imgur.com/Dhf9z.png\r\n\r\n\r\nSo in your scenario, maybe it would be ideal to just have a method in the `Student` class that does the conversion then you can call that method in your template.\r\n\r\n    public class Student{\r\n        ...\r\n        // Method to convert your LocalDate to Date\r\n        @Transient\r\n        public String formattedDOB() {\r\n            // LocalDate localDate = get value of localDate from Optional&lt;LocalDate&gt; dob;\r\n\r\n            // Convert LocalDate to Date Object\r\n            ZoneId zoneId = ZoneId.systemDefault();\r\n            Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\r\n\r\n            // Formatting the date object\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String formattedDate = sdf.format(dob);\r\n        \r\n            return formattedDate ;\r\n        }\r\n        ...\r\n    }\r\n\r\nThen in your template, you can call that method on the student object with `th:value=&quot;*{formattedDOB}&quot;`:\r\n\r\n    &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\r\n          th:object=&quot;${student}&quot;\r\n          th:method=&quot;POST&quot;\r\n          style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; th:value=&quot;*{formattedDOB}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n","title":"Date field not showing the pre-filled date coming from Database","body":"<p>The <code>value</code> attribute of a date field in html gives and takes a string in the format of <code>YYYY-MM-DD</code> <a href=\"https://www.w3schools.com/jsref/prop_date_value.asp\" rel=\"nofollow noreferrer\">[W3 Schools]</a>. So there are many ways of achieving what you want, and one of them could be a case where you convert the date to the relevant string format from the server side and use it to populate the date field in your template.</p>\n<p>For example:</p>\n<p>In my Controller class, I have some code that converts a Java date object to the string format to send to my template.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String index(Model model){\n    LocalDate localDate = LocalDate.now();\n\n    // Convert LocalDate to Date Object\n    ZoneId zoneId = ZoneId.systemDefault();\n    Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\n\n    // Formatting the date object\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    String formattedDate = sdf.format(dob);\n\n    // Should we print this formattedDate, we get a string representation of -&gt; &quot;2023-08-02&quot;\n\n    model.addAttribute(&quot;formattedDate&quot;, formattedDate);\n\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>Now in my template, I can use that <code>formmattedDate</code> object to set the value on the input date field.</p>\n<pre><code>&lt;form style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n        &lt;input type=&quot;date&quot; th:value=&quot;${formattedDate}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>This is what is looks like</p>\n<p><a href=\"https://i.stack.imgur.com/Dhf9z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhf9z.png\" alt=\"enter image description here\" /></a></p>\n<p>So in your scenario, maybe it would be ideal to just have a method in the <code>Student</code> class that does the conversion then you can call that method in your template.</p>\n<pre><code>public class Student{\n    ...\n    // Method to convert your LocalDate to Date\n    @Transient\n    public String formattedDOB() {\n        // LocalDate localDate = get value of localDate from Optional&lt;LocalDate&gt; dob;\n\n        // Convert LocalDate to Date Object\n        ZoneId zoneId = ZoneId.systemDefault();\n        Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\n\n        // Formatting the date object\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        String formattedDate = sdf.format(dob);\n    \n        return formattedDate ;\n    }\n    ...\n}\n</code></pre>\n<p>Then in your template, you can call that method on the student object with <code>th:value=&quot;*{formattedDOB}&quot;</code>:</p>\n<pre><code>&lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\n      th:object=&quot;${student}&quot;\n      th:method=&quot;POST&quot;\n      style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n        &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; th:value=&quot;*{formattedDOB}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":5683345,"reputation":320,"user_id":4493684,"accept_rate":75,"display_name":"LetMeCodeYou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691025195,"creation_date":1690783008,"question_id":76800982,"body_markdown":"I&#39;m facing an issue which is probably related to HTML &amp; Thymeleaf. I also attached the screenshots of the scenario. \r\n\r\nThe input field with the `type=&quot;date&quot;` only shows the **dd/mm/yyyy** when I changed the field type to `type=&quot;text&quot;` then it shows the date. I want it to show the date regardless of the `type=&quot;date&quot;`, so that while editing the record user can see the previous date.\r\n\r\nFirst screenshot is of read mode. And the date of birth field has the `type=&quot;text&quot;`.\r\n\r\n[![view record details][1]][1]\r\n\r\nSecond screenshot is of edit mode. And you can see that the date is not visible. Input field is of `type=&quot;date&quot;` here.\r\n\r\n[![edit record details][2]][2]\r\n\r\nFollowing is my Thymeleaf template snippet which is relevant for this specific field.\r\n\r\n  ```html\r\n  &lt;div class=&quot;mb-3&quot;&gt;\r\n       &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n       &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n  &lt;/div&gt;\r\n```\r\n\r\nMost probably the code anyone need to look at is just this. Rest is all standard code to insert, read etc.\r\n\r\n    public class Student {\r\n\r\n        private Optional&lt;LocalDate&gt; dob;\r\n    \r\n        public Optional&lt;LocalDate&gt; getDob() {\r\n            return dob;\r\n        }\r\n\r\n        public void setDob(Optional&lt;LocalDate&gt; dob) {\r\n            this.dob = dob;\r\n        }\r\n    }\r\n\r\nI&#39;d also like to attach the screenshot of the inspect element. You can see that date is coming right, but somehow, datepicker is not showing it. Instead it always show the dd/mm/yyyy.\r\n\r\nI want to show the existing date here in the picker so that user can easily see what to change next. \r\n\r\nAnd if we do not set any date here on the edit mode. Regardless, of the value stored in the DB, it will pick the empty date from the UI and update it to DB. So, that&#39;s obvious. If it holds the value in the picker then probably it will not behave like this. Any ideas will be great.\r\n\r\n\r\n**Controller**\r\n\r\n```java\r\n@GetMapping(&quot;/edit/student/{id}&quot;)\r\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \r\n    studentId, Model model) {\r\n\r\n    Student student = studentService.findStudent(studentId);\r\n\r\n    model.addAttribute(&quot;student&quot;, student);\r\n    model.addAttribute(&quot;editMode&quot;, true);\r\n\r\n    return &quot;editStudent&quot;;\r\n}\r\n\r\n@PostMapping(&quot;/update/student/{id}&quot;)\r\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \r\n     studentId, Student student, Model model) {\r\n\r\n    model.addAttribute(&quot;student&quot;, student);\r\n    model.addAttribute(&quot;editMode&quot;, true);\r\n\r\n    studentService.updateStudent(studentId, student);\r\n\r\n    return &quot;redirect:/view/student/&quot;+studentId;\r\n}\r\n```\r\n\r\n**RowMapper**\r\n\r\n```java\r\npublic class StudentRowMapper implements RowMapper&lt;Student&gt; {\r\n\r\n    @Override\r\n    public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Student student = new Student();\r\n\r\n        student.setId(rs.getInt(&quot;student_id&quot;));\r\n        student.setFirstName(rs.getString(&quot;first_name&quot;));\r\n        student.setLastName(rs.getString(&quot;last_name&quot;));            \r\n        student.setDob(Optional.ofNullable(rs.getDate\r\n        (&quot;date_of_birth&quot;)).map(java.sql.Date::toLocalDate));\r\n        student.setGender(rs.getString(&quot;gender&quot;));\r\n        student.setAddress(rs.getString(&quot;address&quot;));\r\n        student.setEmail(rs.getString(&quot;email&quot;));\r\n        student.setPhoneNumber(rs.getString(&quot;phone_number&quot;));\r\n    \r\n        return student;\r\n    }\r\n```\r\n\r\n**Template**\r\n\r\neditStudent.html\r\n\r\n```html\r\n    &lt;div&gt;\r\n        &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\r\n              th:object=&quot;${student}&quot;\r\n              th:method=&quot;POST&quot;\r\n              style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n\r\n            &lt;div class=&quot;mb-3&quot;&gt;\r\n                &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n                &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot;  th:value=&quot;${{student.dob.orElse(&#39;&#39;)}}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n            &lt;/div&gt;   \r\n\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n```\r\n\r\n**Template**\r\n\r\nviewStudent.html\r\n\r\n```html\r\n&lt;div class=&quot;mb-3&quot;&gt;\r\n    &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot; readonly&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/C42jS.png\r\n  [2]: https://i.stack.imgur.com/WI2oO.png\r\n\r\n","title":"Date field not showing the pre-filled date coming from Database","body":"<p>I'm facing an issue which is probably related to HTML &amp; Thymeleaf. I also attached the screenshots of the scenario.</p>\n<p>The input field with the <code>type=&quot;date&quot;</code> only shows the <strong>dd/mm/yyyy</strong> when I changed the field type to <code>type=&quot;text&quot;</code> then it shows the date. I want it to show the date regardless of the <code>type=&quot;date&quot;</code>, so that while editing the record user can see the previous date.</p>\n<p>First screenshot is of read mode. And the date of birth field has the <code>type=&quot;text&quot;</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/C42jS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C42jS.png\" alt=\"view record details\" /></a></p>\n<p>Second screenshot is of edit mode. And you can see that the date is not visible. Input field is of <code>type=&quot;date&quot;</code> here.</p>\n<p><a href=\"https://i.stack.imgur.com/WI2oO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WI2oO.png\" alt=\"edit record details\" /></a></p>\n<p>Following is my Thymeleaf template snippet which is relevant for this specific field.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;mb-3&quot;&gt;\n     &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n     &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Most probably the code anyone need to look at is just this. Rest is all standard code to insert, read etc.</p>\n<pre><code>public class Student {\n\n    private Optional&lt;LocalDate&gt; dob;\n\n    public Optional&lt;LocalDate&gt; getDob() {\n        return dob;\n    }\n\n    public void setDob(Optional&lt;LocalDate&gt; dob) {\n        this.dob = dob;\n    }\n}\n</code></pre>\n<p>I'd also like to attach the screenshot of the inspect element. You can see that date is coming right, but somehow, datepicker is not showing it. Instead it always show the dd/mm/yyyy.</p>\n<p>I want to show the existing date here in the picker so that user can easily see what to change next.</p>\n<p>And if we do not set any date here on the edit mode. Regardless, of the value stored in the DB, it will pick the empty date from the UI and update it to DB. So, that's obvious. If it holds the value in the picker then probably it will not behave like this. Any ideas will be great.</p>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/edit/student/{id}&quot;)\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \n    studentId, Model model) {\n\n    Student student = studentService.findStudent(studentId);\n\n    model.addAttribute(&quot;student&quot;, student);\n    model.addAttribute(&quot;editMode&quot;, true);\n\n    return &quot;editStudent&quot;;\n}\n\n@PostMapping(&quot;/update/student/{id}&quot;)\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \n     studentId, Student student, Model model) {\n\n    model.addAttribute(&quot;student&quot;, student);\n    model.addAttribute(&quot;editMode&quot;, true);\n\n    studentService.updateStudent(studentId, student);\n\n    return &quot;redirect:/view/student/&quot;+studentId;\n}\n</code></pre>\n<p><strong>RowMapper</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentRowMapper implements RowMapper&lt;Student&gt; {\n\n    @Override\n    public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\n        Student student = new Student();\n\n        student.setId(rs.getInt(&quot;student_id&quot;));\n        student.setFirstName(rs.getString(&quot;first_name&quot;));\n        student.setLastName(rs.getString(&quot;last_name&quot;));            \n        student.setDob(Optional.ofNullable(rs.getDate\n        (&quot;date_of_birth&quot;)).map(java.sql.Date::toLocalDate));\n        student.setGender(rs.getString(&quot;gender&quot;));\n        student.setAddress(rs.getString(&quot;address&quot;));\n        student.setEmail(rs.getString(&quot;email&quot;));\n        student.setPhoneNumber(rs.getString(&quot;phone_number&quot;));\n    \n        return student;\n    }\n</code></pre>\n<p><strong>Template</strong></p>\n<p>editStudent.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;div&gt;\n        &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\n              th:object=&quot;${student}&quot;\n              th:method=&quot;POST&quot;\n              style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n\n            &lt;div class=&quot;mb-3&quot;&gt;\n                &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n                &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot;  th:value=&quot;${{student.dob.orElse('')}}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n            &lt;/div&gt;   \n\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n<p><strong>Template</strong></p>\n<p>viewStudent.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;mb-3&quot;&gt;\n    &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n    &lt;input type=&quot;text&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot; readonly&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","interface","polymorphism","compile-time"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691019118,"post_id":76824055,"comment_id":135435615,"body_markdown":"What&#39;s your definition of &quot;static polymorphism&quot;. It seems popular to define it (for Java) as method overloading, but that is not polymorphism -- each method is a different method, and the fact that they have the same names is irrelevant, although it means that we have to define how the compiler selects the right method at compile time based on the types of the parameters.","body":"What&#39;s your definition of &quot;static polymorphism&quot;. It seems popular to define it (for Java) as method overloading, but that is not polymorphism -- each method is a different method, and the fact that they have the same names is irrelevant, although it means that we have to define how the compiler selects the right method at compile time based on the types of the parameters."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691019788,"post_id":76824055,"comment_id":135435673,"body_markdown":"@tgdavies How? what i know and read is that methods with Same name and different parameters is method-overloading. And if method overloading occurs in a same class then it is decided during compilation-time as which to select and hence we can also refer it as a static polymorphism","body":"@tgdavies How? what i know and read is that methods with Same name and different parameters is method-overloading. And if method overloading occurs in a same class then it is decided during compilation-time as which to select and hence we can also refer it as a static polymorphism"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1691023581,"post_id":76824055,"comment_id":135435986,"body_markdown":"How, because that is how run-time polymorphism is defined and how it works. The compiler cannot know in advance what actual instance is calling the method at compile time when it is an interface method. Period.","body":"How, because that is how run-time polymorphism is defined and how it works. The compiler cannot know in advance what actual instance is calling the method at compile time when it is an interface method. Period."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691024297,"post_id":76824055,"comment_id":135436052,"body_markdown":"@HovercraftFullOfEels no means i am not asking about run - time polymorphism here (How) means he said (the fact that they have the same names is irrelevant) so in terms of that i said &quot;How&quot;. He was first saying about method - overloading but said its not polymorphism","body":"@HovercraftFullOfEels no means i am not asking about run - time polymorphism here (How) means he said (the fact that they have the same names is irrelevant) so in terms of that i said &quot;How&quot;. He was first saying about method - overloading but said its not polymorphism"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691024451,"post_id":76824055,"comment_id":135436064,"body_markdown":"That doesn&#39;t really make sense. Can you re-explain what you&#39;re asking about, because your code is *showing* run-time polymorphism involving a class that inherits from an interface, including &quot;the part below&quot;.","body":"That doesn&#39;t really make sense. Can you re-explain what you&#39;re asking about, because your code is <i>showing</i> run-time polymorphism involving a class that inherits from an interface, including &quot;the part below&quot;."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1691024671,"post_id":76824055,"comment_id":135436084,"body_markdown":"Regarding your question&#39;s edit, the answer is the same: your code is showing run-time polymorphism. It is also showing method overloading due to parameter changes.","body":"Regarding your question&#39;s edit, the answer is the same: your code is showing run-time polymorphism. It is also showing method overloading due to parameter changes."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691025083,"post_id":76824055,"comment_id":135436109,"body_markdown":"@HovercraftFullOfEels Okay let me be clear about one thing. for eg TV obj = new TV()  suppose TV class include method overloading then its determined during compile-time right ?. Now as per above code RemoteControl tvRemote = new TV(); tvRemote.turnOn() here you are saying its achieving run-time polymorphsim (so basically in terms of interfaces too we say it as a run-time polymorphism as i created reference of interface with TV object? ). Maybe i should have said like TV obj = new TV() and than call its methods like obj.turnOn() ( this is compiled time right ? )","body":"@HovercraftFullOfEels Okay let me be clear about one thing. for eg TV obj = new TV()  suppose TV class include method overloading then its determined during compile-time right ?. Now as per above code RemoteControl tvRemote = new TV(); tvRemote.turnOn() here you are saying its achieving run-time polymorphsim (so basically in terms of interfaces too we say it as a run-time polymorphism as i created reference of interface with TV object? ). Maybe i should have said like TV obj = new TV() and than call its methods like obj.turnOn() ( this is compiled time right ? )"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691026227,"post_id":76824055,"comment_id":135436212,"body_markdown":"So is your question: &quot;Is different byte code produced when the compile-time type of a reference is a concrete class rather than an interface?&quot; I&#39;m not clear on what you are trying to understand about the difference.","body":"So is your question: &quot;Is different byte code produced when the compile-time type of a reference is a concrete class rather than an interface?&quot; I&#39;m not clear on what you are trying to understand about the difference."}],"answers":[{"tags":[],"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691021016,"creation_date":1691020698,"answer_id":76824158,"question_id":76824055,"body_markdown":"The Remote Control interface&#39;s methods are compiled polymorphism, whereas the TV&#39;s overridden methods are runtime polymorphism.\r\n\r\nYou can read more at this [Geeks For Geeks Article][1], but an easy way to tell which methods are runtime and which are compiled would be if there was inheritance. If the methods are inherited and overridden, they would by runtime polymorphism.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-compile-time-and-run-time-polymorphism-in-java/","title":"What interface is achieveing here ? ( compile - time / run - time polymorphsim )?","body":"<p>The Remote Control interface's methods are compiled polymorphism, whereas the TV's overridden methods are runtime polymorphism.</p>\n<p>You can read more at this <a href=\"https://www.geeksforgeeks.org/difference-between-compile-time-and-run-time-polymorphism-in-java/\" rel=\"nofollow noreferrer\">Geeks For Geeks Article</a>, but an easy way to tell which methods are runtime and which are compiled would be if there was inheritance. If the methods are inherited and overridden, they would by runtime polymorphism.</p>\n"}],"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1691023520,"answer_count":1,"score":-2,"last_activity_date":1691024561,"creation_date":1691018619,"question_id":76824055,"body_markdown":"**Question (What my code is trying to achieve in terms of interfaces? (Compile - time / run - time) polymorphism ?**\r\n\r\nConsider below code as an example\r\n\r\n```\r\ninterface RemoteControl {\r\n    void turnOn();\r\n    void turnOn(int channel);\r\n}\r\n\r\nclass TV implements RemoteControl {\r\n    public void turnOn() {\r\n        System.out.println(&quot;TV is turned on&quot;);\r\n    }\r\n\r\n    public void turnOn(int channel) {\r\n        System.out.println(&quot;TV is turned on. Channel: &quot; + channel);\r\n    }\r\n}\r\n\r\n\r\npublic class UserCode {\r\n    public static void main(String[] args) {\r\n        RemoteControl tvRemote = new TV(); \r\n\r\n        tvRemote.turnOn(); \r\n        tvRemote.turnOn(5); \r\n    }\r\n}\r\n```\r\n\r\n\r\nNow in the above code can you tell me what type of polymorphism its trying to achieve.? \r\n\r\nSo below part is decided at compile-time or run-time ( as there are not inherited classed but in terms of interface ?\r\n\r\n```\r\nRemoteControl tvRemote = new TV();\r\ntvRemote.turnOn(); \r\ntvRemote.turnOn(5); \r\n```","title":"What interface is achieveing here ? ( compile - time / run - time polymorphsim )?","body":"<p><strong>Question (What my code is trying to achieve in terms of interfaces? (Compile - time / run - time) polymorphism ?</strong></p>\n<p>Consider below code as an example</p>\n<pre><code>interface RemoteControl {\n    void turnOn();\n    void turnOn(int channel);\n}\n\nclass TV implements RemoteControl {\n    public void turnOn() {\n        System.out.println(&quot;TV is turned on&quot;);\n    }\n\n    public void turnOn(int channel) {\n        System.out.println(&quot;TV is turned on. Channel: &quot; + channel);\n    }\n}\n\n\npublic class UserCode {\n    public static void main(String[] args) {\n        RemoteControl tvRemote = new TV(); \n\n        tvRemote.turnOn(); \n        tvRemote.turnOn(5); \n    }\n}\n</code></pre>\n<p>Now in the above code can you tell me what type of polymorphism its trying to achieve.?</p>\n<p>So below part is decided at compile-time or run-time ( as there are not inherited classed but in terms of interface ?</p>\n<pre><code>RemoteControl tvRemote = new TV();\ntvRemote.turnOn(); \ntvRemote.turnOn(5); \n</code></pre>\n"},{"tags":["java","android","text","tostring","text-alignment"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691023470,"post_id":76823808,"comment_id":135435972,"body_markdown":"Err, tabs? But this is the wrong place to do this kind of thing. `toString()` is intended for debugging and to have unspecified output format.","body":"Err, tabs? But this is the wrong place to do this kind of thing. <code>toString()</code> is intended for debugging and to have unspecified output format."},{"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"score":0,"creation_date":1691068845,"post_id":76823808,"comment_id":135443716,"body_markdown":"Are there other method to get recyclerView from activity to itext pdf document?  @user207421","body":"Are there other method to get recyclerView from activity to itext pdf document?  @user207421"}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691016437,"creation_date":1691016437,"answer_id":76823945,"question_id":76823808,"body_markdown":"You can use \\t in the method, something like this\r\n\r\n    @Override\r\n    public String toString() {\r\n\t\t\r\n    \treturn &quot;Education&quot; +\r\n                &quot;\\t&quot; + System.getProperty(&quot;line.separator&quot;) +\r\n                year+ &quot;\\t&quot;+ university + System.getProperty(&quot;line.separator&quot;)+\r\n                &quot;\\t&quot;+ degree ;\r\n    \t\r\n    }","title":"Align text in toString","body":"<p>You can use \\t in the method, something like this</p>\n<pre><code>@Override\npublic String toString() {\n    \n    return &quot;Education&quot; +\n            &quot;\\t&quot; + System.getProperty(&quot;line.separator&quot;) +\n            year+ &quot;\\t&quot;+ university + System.getProperty(&quot;line.separator&quot;)+\n            &quot;\\t&quot;+ degree ;\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691023379,"creation_date":1691023379,"answer_id":76824276,"question_id":76823808,"body_markdown":"You can use the _[String#formatted](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...))_ method to create a fixed-width string.\r\n\r\nThe full list of format specifiers can be found on the _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ _JavaDoc_ page.\r\n\r\n```java\r\nreturn\r\n    &quot;Education%n&quot;.formatted()\r\n  + &quot;%-17s%s%n&quot;.formatted(year, university)\r\n  + &quot;%17s%s&quot;.formatted(&quot;&quot;, degree);\r\n```\r\n\r\nHere are some example outputs,\r\n\r\n```none\r\nEducation\r\n2023             UniversityExample\r\n                 Bachelor of somthing\r\n```\r\n\r\n```none\r\nEducation\r\n2019 to 2023     UniversityExample\r\n                 Bachelor of somthing\r\n```","title":"Align text in toString","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">String#formatted</a></em> method to create a fixed-width string.</p>\n<p>The full list of format specifiers can be found on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> <em>JavaDoc</em> page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return\n    &quot;Education%n&quot;.formatted()\n  + &quot;%-17s%s%n&quot;.formatted(year, university)\n  + &quot;%17s%s&quot;.formatted(&quot;&quot;, degree);\n</code></pre>\n<p>Here are some example outputs,</p>\n<pre class=\"lang-none prettyprint-override\"><code>Education\n2023             UniversityExample\n                 Bachelor of somthing\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Education\n2019 to 2023     UniversityExample\n                 Bachelor of somthing\n</code></pre>\n"}],"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691023379,"creation_date":1691014031,"question_id":76823808,"body_markdown":"I want to keep the order as it is in this code, but I don&#39;t know how to make the value of degree under the value of university\r\n\r\n```\r\n @Override\r\n    public String toString() {\r\n        return &quot;Education&quot; +\r\n                &quot; &quot; + System.getProperty(&quot;line.separator&quot;) +\r\n                 year+ &quot;        &quot;+ university + System.getProperty(&quot;line.separator&quot;)+\r\n                 &quot;              &quot;+ degree ;\r\n    }\r\n```\r\n\r\nwhat I want\r\n\r\n```\r\n2023     UniversityExample \r\n         Bachelor of somthing \r\n```\r\n\r\nbut appears like this :\r\n\r\n```\r\n2023     UniversityExample     \r\n   Bachelor of somthing \r\n```\r\n\r\nor like this :\r\n\r\n```\r\n2019 to 2023     UniversityExample \r\n                       Bachelor of somthing   \r\n```","title":"Align text in toString","body":"<p>I want to keep the order as it is in this code, but I don't know how to make the value of degree under the value of university</p>\n<pre><code> @Override\n    public String toString() {\n        return &quot;Education&quot; +\n                &quot; &quot; + System.getProperty(&quot;line.separator&quot;) +\n                 year+ &quot;        &quot;+ university + System.getProperty(&quot;line.separator&quot;)+\n                 &quot;              &quot;+ degree ;\n    }\n</code></pre>\n<p>what I want</p>\n<pre><code>2023     UniversityExample \n         Bachelor of somthing \n</code></pre>\n<p>but appears like this :</p>\n<pre><code>2023     UniversityExample     \n   Bachelor of somthing \n</code></pre>\n<p>or like this :</p>\n<pre><code>2019 to 2023     UniversityExample \n                       Bachelor of somthing   \n</code></pre>\n"},{"tags":["java","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499693481,"creation_date":1499693481,"answer_id":45013417,"question_id":45007426,"body_markdown":"You have to know that [`SelectJoinStep`][1] and similar API is just convenience for calling `Table.join(...).on(...)`. In other words, you could maintain a local `Table&lt;?&gt;` variable and join additional tables to it as follows:\r\n\r\n    Table&lt;?&gt; table = firstTable();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        if (y) \r\n            table = table.join(joinTable(i)).on(joinPredicate(i));\r\n    }\r\n\r\nAnd then:\r\n\r\n    dsl.select(...).from(table).fetch();\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org/jooq/SelectJoinStep.html","title":"How to create a list of joinSteps with jooq","body":"<p>You have to know that <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/SelectJoinStep.html\" rel=\"nofollow noreferrer\"><code>SelectJoinStep</code></a> and similar API is just convenience for calling <code>Table.join(...).on(...)</code>. In other words, you could maintain a local <code>Table&lt;?&gt;</code> variable and join additional tables to it as follows:</p>\n\n<pre><code>Table&lt;?&gt; table = firstTable();\nfor (int i = 0; i &lt; count; i++) {\n    if (y) \n        table = table.join(joinTable(i)).on(joinPredicate(i));\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>dsl.select(...).from(table).fetch();\n</code></pre>\n"}],"owner":{"account_id":8496304,"reputation":3,"user_id":6370805,"display_name":"La Codeuse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45013417,"answer_count":1,"score":0,"last_activity_date":1691020859,"creation_date":1499676107,"question_id":45007426,"body_markdown":"I know that I can add conditions to a list within a loop like this:\r\n\r\n    List&lt;Condition&gt; conditionsList = new ArrayList&lt;&gt;();\r\n    for(int i= 0; i&lt;count; i++){\r\n    \tif(x)\r\n          conditionsList.add(mySQLCondition)\r\n    }\r\n    SelectJoinStep myQuery = dsl.select(…);\r\n    conditionQuery = myQuery(conditionsList);\r\n\r\nIs there a way similar to create an object list of &lt;join.on()&gt; so I can add \r\n\r\n    List&lt;Condition&gt; joinList = new ArrayList&lt;&gt;();\r\n    for(int i= 0; i&lt;count; i++){\r\n    \tif(y){\r\n    \t\t//In which Objecttype can I store: join(myJoinTable).on(y.eq(…))??\r\n    \t\tjoinList.add(join(myJoinTable).on(y.eq(…)))\r\n    \t}\r\n    \t\t\r\n    }\r\n    SelectJoinStep myQueryWithJoins = dsl.select(…).join(joinList);\r\n\r\n","title":"How to create a list of joinSteps with jooq","body":"<p>I know that I can add conditions to a list within a loop like this:</p>\n<pre><code>List&lt;Condition&gt; conditionsList = new ArrayList&lt;&gt;();\nfor(int i= 0; i&lt;count; i++){\n    if(x)\n      conditionsList.add(mySQLCondition)\n}\nSelectJoinStep myQuery = dsl.select(…);\nconditionQuery = myQuery(conditionsList);\n</code></pre>\n<p>Is there a way similar to create an object list of &lt;join.on()&gt; so I can add</p>\n<pre><code>List&lt;Condition&gt; joinList = new ArrayList&lt;&gt;();\nfor(int i= 0; i&lt;count; i++){\n    if(y){\n        //In which Objecttype can I store: join(myJoinTable).on(y.eq(…))??\n        joinList.add(join(myJoinTable).on(y.eq(…)))\n    }\n        \n}\nSelectJoinStep myQueryWithJoins = dsl.select(…).join(joinList);\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","testng","gitlab-ci.yml"],"owner":{"account_id":26264695,"reputation":1,"user_id":19935445,"display_name":"esra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691018991,"creation_date":1691018991,"question_id":76824070,"body_markdown":"I want to run 3 different jobs for 3 testNG suits on pipeline with in an order. with this configuration each job runs all tests , actually this configuration doesn’t take this suits from this file, it runs what pom.xml has, it has these 3 suits.\r\n\r\ngitlab-ci.yml \r\n\r\nbuild:\r\n  stage: build\r\n  script:\r\n    - mvn compile\r\n\r\nstages:\r\n  - test1\r\n  - test2\r\n  - test3\r\n\r\nui-test-qa3-1:\r\n  stage: test1\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2.xml&quot;\r\n\r\n  tags:\r\n    - ui-test\r\n\r\nui-test-qa3-2:\r\n  stage: test2\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_1.xml&quot;\r\n  needs:\r\n    - ui-test-qa3-1\r\n\r\n  tags:\r\n    - ui-test\r\n\r\nui-test-qa3-3:\r\n  stage: test3\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_2.xml&quot;\r\n  needs:\r\n    - ui-test-qa3-2\r\n  tags:\r\n    - ui-test\r\n\r\nand pom.xml build\r\n\r\n &lt;build&gt;\r\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;testQA3v2.2.xml&lt;/suiteXmlFile&gt;\r\n                               &lt;suiteXmlFile&gt;testQA3v2.2_1.xml&lt;/suiteXmlFile&gt;\r\n                                  &lt;suiteXmlFile&gt;testQA3v2.2_2.xml&lt;/suiteXmlFile&gt;\r\n\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n\r\n\r\n                &lt;/plugin&gt;\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n\r\nI tried to run without suite config. in pom.xml but than it runs all tests in the project.\r\nI want to run job1 with suite1 and than job2 for suite2  then job3 suite3","title":"Configuration of gitlab-ci.yml file for maven project","body":"<p>I want to run 3 different jobs for 3 testNG suits on pipeline with in an order. with this configuration each job runs all tests , actually this configuration doesn’t take this suits from this file, it runs what pom.xml has, it has these 3 suits.</p>\n<p>gitlab-ci.yml</p>\n<p>build:\nstage: build\nscript:\n- mvn compile</p>\n<p>stages:</p>\n<ul>\n<li>test1</li>\n<li>test2</li>\n<li>test3</li>\n</ul>\n<p>ui-test-qa3-1:\nstage: test1\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2.xml&quot;</p>\n<p>tags:\n- ui-test</p>\n<p>ui-test-qa3-2:\nstage: test2\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_1.xml&quot;\nneeds:\n- ui-test-qa3-1</p>\n<p>tags:\n- ui-test</p>\n<p>ui-test-qa3-3:\nstage: test3\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_2.xml&quot;\nneeds:\n- ui-test-qa3-2\ntags:\n- ui-test</p>\n<p>and pom.xml build</p>\n \n        install\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;testQA3v2.2.xml&lt;/suiteXmlFile&gt;\n                           &lt;suiteXmlFile&gt;testQA3v2.2_1.xml&lt;/suiteXmlFile&gt;\n                              &lt;suiteXmlFile&gt;testQA3v2.2_2.xml&lt;/suiteXmlFile&gt;\n\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I tried to run without suite config. in pom.xml but than it runs all tests in the project.\nI want to run job1 with suite1 and than job2 for suite2  then job3 suite3</p>\n"},{"tags":["java","windows","powershell","batch-file","cmd"],"comments":[{"owner":{"account_id":1908380,"reputation":308,"user_id":1722792,"accept_rate":60,"display_name":"DevX"},"score":0,"creation_date":1583148776,"post_id":60487766,"comment_id":107006601,"body_markdown":"Powershell will try to parse your input parameters to the program so to avoid that you need to wrap them in double quotes so that instead of parsing them they are passed as it is to the executable program","body":"Powershell will try to parse your input parameters to the program so to avoid that you need to wrap them in double quotes so that instead of parsing them they are passed as it is to the executable program"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1583148996,"post_id":60487766,"comment_id":107006716,"body_markdown":"@DevX do you have a source for this, please?","body":"@DevX do you have a source for this, please?"},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":1,"creation_date":1583149745,"post_id":60487766,"comment_id":107007036,"body_markdown":"See [Call Operator](https://ss64.com/ps/call.html) for how to call external programs from PowerShell.","body":"See <a href=\"https://ss64.com/ps/call.html\" rel=\"nofollow noreferrer\">Call Operator</a> for how to call external programs from PowerShell."},{"owner":{"account_id":1908380,"reputation":308,"user_id":1722792,"accept_rate":60,"display_name":"DevX"},"score":0,"creation_date":1583150458,"post_id":60487766,"comment_id":107007383,"body_markdown":"@Jakg I did some search a while back when I had the same problem with java and found [this](https://superuser.com/questions/731638/command-line-parameters-in-powershell) on SuperUser. May not be an exact source you were looking for but it did help me understand a few things","body":"@Jakg I did some search a while back when I had the same problem with java and found <a href=\"https://superuser.com/questions/731638/command-line-parameters-in-powershell\">this</a> on SuperUser. May not be an exact source you were looking for but it did help me understand a few things"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1583150765,"post_id":60487766,"comment_id":107007531,"body_markdown":"The comment from @AdminofThings is the answer.  The Call Operator prevents inappropriate parsing of the arguments to java.","body":"The comment from @AdminofThings is the answer.  The Call Operator prevents inappropriate parsing of the arguments to java."},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":0,"creation_date":1583150912,"post_id":60487766,"comment_id":107007602,"body_markdown":"@Jakg, see [About Parsing](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7) and [Command Syntax](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_command_syntax?view=powershell-7).  `-` tells PowerShell a parameter is coming and everything after it is treated as an expandable string. `.` is the member access operator in PowerShell. So it needs to be escaped or you need to tell Posh to stop parsing --&gt; `java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar`","body":"@Jakg, see <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7\" rel=\"nofollow noreferrer\">About Parsing</a> and <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_command_syntax?view=powershell-7\" rel=\"nofollow noreferrer\">Command Syntax</a>.  <code>-</code> tells PowerShell a parameter is coming and everything after it is treated as an expandable string. <code>.</code> is the member access operator in PowerShell. So it needs to be escaped or you need to tell Posh to stop parsing --&gt; <code>java --% -Dhttp.proxyHost=http:&#47;&#47;proxy.example.com -jar myJAR.jar</code>"},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":0,"creation_date":1583151344,"post_id":60487766,"comment_id":107007841,"body_markdown":"@Jakg, also, the fact that you started your execution line with `java`, PowerShell goes into argument parsing mode. You can see on the links I provided examples of when the different parsing modes are activated.","body":"@Jakg, also, the fact that you started your execution line with <code>java</code>, PowerShell goes into argument parsing mode. You can see on the links I provided examples of when the different parsing modes are activated."},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1583163192,"post_id":60487766,"comment_id":107014131,"body_markdown":"@AdminOfThings, while `--%` is an effective _workaround_ - albeit one with major side effects in general - the behavior is a _bug_: since the unquoted token isn&#39;t a variable reference or expression, it should be treated like an _expandable string_ - `.` should have _no_ special meaning in this context; a side-effect-free workaround is to quote the `.` individually as `&#39;.&#39;`","body":"@AdminOfThings, while <code>--%</code> is an effective <i>workaround</i> - albeit one with major side effects in general - the behavior is a <i>bug</i>: since the unquoted token isn&#39;t a variable reference or expression, it should be treated like an <i>expandable string</i> - <code>.</code> should have <i>no</i> special meaning in this context; a side-effect-free workaround is to quote the <code>.</code> individually as <code>&#39;.&#39;</code>"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1583163245,"post_id":60487766,"comment_id":107014164,"body_markdown":"No, @WalterMitty: whether or not you use `&amp;` (the call operator) makes no difference with respect to argument parsing.","body":"No, @WalterMitty: whether or not you use <code>&amp;</code> (the call operator) makes no difference with respect to argument parsing."}],"answers":[{"tags":[],"owner":{"account_id":10772505,"reputation":11,"user_id":7925591,"display_name":"Sergey Shu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583159110,"creation_date":1583158574,"answer_id":60490721,"question_id":60487766,"body_markdown":"man about_Parsing\r\n\r\ntry running from powershell using --% parameter:\r\n\r\n    java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>man about_Parsing</p>\n\n<p>try running from powershell using --% parameter:</p>\n\n<pre><code>java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691018359,"creation_date":1583161680,"answer_id":60491629,"question_id":60487766,"body_markdown":"Unfortunately, **you&#39;re seeing a _bug_ in PowerShell**, present up to at least v7.3.6 (current as of this writing):\r\n\r\nSomething that looks like a parameter _to PowerShell_ is broken into _two_ arguments at the `.` (period) - even though the argument should simply be _passed through_, given that an external program is called - see [GitHub issue #6291](https://github.com/PowerShell/PowerShell/issues/6291); in your case, `-Dhttp.proxyHost=http://proxy.example.com` is unexpectedly passed as  \r\n`-Dhttp .proxyHost=http://proxy.example.com` (note the space before the `.`)\r\n\r\n&lt;!-- language-all: powershell --&gt; \r\n\r\n**Workarounds**:\r\n\r\n* `` ` ``-escape the initial `-` (or _quote_ the `.` character individually (`&#39;.&#39;`) or quote the _whole_ argument):\r\n\r\n      java `-Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n\r\n* Alternatively, as shown in [Sergey Shu&#39;s answer](https://stackoverflow.com/a/60490721/45375), use `--%`, the [stop-parsing symbol](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing), to force PowerShell to pass all arguments through without applying PowerShell&#39;s usual parsing rules.\r\n\r\n  * **Caveat**: **Use of `--%` has major side effects**, notably the inability to use _variable references_ in the command and the inability to apply _redirections_ - see [this answer](https://stackoverflow.com/a/42601912/45375) for details.","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>Unfortunately, <strong>you're seeing a <em>bug</em> in PowerShell</strong>, present up to at least v7.3.6 (current as of this writing):</p>\n<p>Something that looks like a parameter <em>to PowerShell</em> is broken into <em>two</em> arguments at the <code>.</code> (period) - even though the argument should simply be <em>passed through</em>, given that an external program is called - see <a href=\"https://github.com/PowerShell/PowerShell/issues/6291\" rel=\"nofollow noreferrer\">GitHub issue #6291</a>; in your case, <code>-Dhttp.proxyHost=http://proxy.example.com</code> is unexpectedly passed as<br />\n<code>-Dhttp .proxyHost=http://proxy.example.com</code> (note the space before the <code>.</code>)</p>\n \n<p><strong>Workarounds</strong>:</p>\n<ul>\n<li><p><code>`</code>-escape the initial <code>-</code> (or <em>quote</em> the <code>.</code> character individually (<code>'.'</code>) or quote the <em>whole</em> argument):</p>\n<pre><code>java `-Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\n</code></pre>\n</li>\n<li><p>Alternatively, as shown in <a href=\"https://stackoverflow.com/a/60490721/45375\">Sergey Shu's answer</a>, use <code>--%</code>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing\" rel=\"nofollow noreferrer\">stop-parsing symbol</a>, to force PowerShell to pass all arguments through without applying PowerShell's usual parsing rules.</p>\n<ul>\n<li><strong>Caveat</strong>: <strong>Use of <code>--%</code> has major side effects</strong>, notably the inability to use <em>variable references</em> in the command and the inability to apply <em>redirections</em> - see <a href=\"https://stackoverflow.com/a/42601912/45375\">this answer</a> for details.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1689513514,"accepted_answer_id":60491629,"answer_count":2,"score":2,"last_activity_date":1691018359,"creation_date":1583147876,"question_id":60487766,"body_markdown":"I&#39;ve got an example Java application that requires an HTTP Proxy to be specified in some environments.\r\n\r\nWhen I try running this using the argument as suggested on the [Oracle website][1] in CMD (Command Prompt) it works fine.\r\n\r\n    E:\\&gt;java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n    System properties...\r\n    [...]\r\n    http.proxyHost=http://proxy.example.com\r\n\r\nYou can see that the application has been run, and when listing the system properties it&#39;s correctly received the `http.proxyHost` property.\r\n\r\nHowever, when I run this from Powershell, I get the following:\r\n\r\n    Windows PowerShell\r\n    Copyright (C) Microsoft Corporation. All rights reserved.\r\n    \r\n    Try the new cross-platform PowerShell https://aka.ms/pscore6\r\n    \r\n    PS E:\\&gt; java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n    Error: Could not find or load main class .proxyHost=http:..proxy.example.com\r\n\r\nHere it appears some kind of breaking has occurred around the first &quot;.&quot; and from then on it&#39;s treated the rest as another argument.\r\n\r\nIf the argument is quoted - e.g. `-D&quot;http.proxyHost&quot;=http://proxy.example.com` - then it works fine in Powershell.\r\n\r\nCan anyone explain this behavior, please?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>I've got an example Java application that requires an HTTP Proxy to be specified in some environments.</p>\n\n<p>When I try running this using the argument as suggested on the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Oracle website</a> in CMD (Command Prompt) it works fine.</p>\n\n<pre><code>E:\\&gt;java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\nSystem properties...\n[...]\nhttp.proxyHost=http://proxy.example.com\n</code></pre>\n\n<p>You can see that the application has been run, and when listing the system properties it's correctly received the <code>http.proxyHost</code> property.</p>\n\n<p>However, when I run this from Powershell, I get the following:</p>\n\n<pre><code>Windows PowerShell\nCopyright (C) Microsoft Corporation. All rights reserved.\n\nTry the new cross-platform PowerShell https://aka.ms/pscore6\n\nPS E:\\&gt; java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\nError: Could not find or load main class .proxyHost=http:..proxy.example.com\n</code></pre>\n\n<p>Here it appears some kind of breaking has occurred around the first \".\" and from then on it's treated the rest as another argument.</p>\n\n<p>If the argument is quoted - e.g. <code>-D\"http.proxyHost\"=http://proxy.example.com</code> - then it works fine in Powershell.</p>\n\n<p>Can anyone explain this behavior, please?</p>\n"},{"tags":["java","libgdx","game-development"],"answers":[{"tags":[],"owner":{"account_id":28832722,"reputation":1,"user_id":22082780,"display_name":"Austin Romney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691017151,"creation_date":1691017151,"answer_id":76823983,"question_id":76823758,"body_markdown":"I solved it! The solution was to comment out the &quot;mavenlocal()&quot; lines.","title":"Unable to setup libGDX with IntelliJ Idea","body":"<p>I solved it! The solution was to comment out the &quot;mavenlocal()&quot; lines.</p>\n"}],"owner":{"account_id":28832722,"reputation":1,"user_id":22082780,"display_name":"Austin Romney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823983,"answer_count":1,"score":0,"last_activity_date":1691017151,"creation_date":1691013310,"question_id":76823758,"body_markdown":"I cannot seem to setup libGDX with IntelliJ. Everything goes smoothly until I attempt to open the build.gradle file. Then, IntelliJ says Could not find lwjgl-glfw-3.3.2-natives-linux.jar (org.lwjgl:lwjgl-glfw:3.3.2).\r\n\r\nI believe that the problem is that it is attempting to run as if it was on Linux, I am using Windows 11.","title":"Unable to setup libGDX with IntelliJ Idea","body":"<p>I cannot seem to setup libGDX with IntelliJ. Everything goes smoothly until I attempt to open the build.gradle file. Then, IntelliJ says Could not find lwjgl-glfw-3.3.2-natives-linux.jar (org.lwjgl:lwjgl-glfw:3.3.2).</p>\n<p>I believe that the problem is that it is attempting to run as if it was on Linux, I am using Windows 11.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524921726,"post_id":26190851,"comment_id":87170150,"body_markdown":"Here https://stackoverflow.com/a/35722718/715269 is the way how to read only needed field in JSON without mapping it as a whole.","body":"Here <a href=\"https://stackoverflow.com/a/35722718/715269\">stackoverflow.com/a/35722718/715269</a> is the way how to read only needed field in JSON without mapping it as a whole."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1644409450,"post_id":26190851,"comment_id":125598080,"body_markdown":"Since this question is still seeing activity nowadays, I thought it important to mention that @Gangnus&#39;s comment above is factually incorrect, as discussed in the comments to [my own answer below](https://stackoverflow.com/a/26191723/2427596)","body":"Since this question is still seeing activity nowadays, I thought it important to mention that @Gangnus&#39;s comment above is factually incorrect, as discussed in the comments to <a href=\"https://stackoverflow.com/a/26191723/2427596\">my own answer below</a>"}],"answers":[{"tags":[],"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1691016793,"creation_date":1412417179,"answer_id":26191723,"question_id":26190851,"body_markdown":"# The Jackson Way\r\n\r\nPresuming you don&#39;t have a POJO describing your data structure, you could simply do:\r\n```java\r\nfinal String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\nfinal JsonNode node = new ObjectMapper().readTree(json);\r\n//                    ^^^^^^^^^^^^^^^^^^\r\n// n.b.: try and *reuse* a single instance of ObjectMapper in production\r\n\r\nif (node.has(&quot;contentType&quot;)) {\r\n    System.out.println(&quot;contentType: &quot; + node.get(&quot;contentType&quot;));\r\n}    \r\n```\r\n\r\n---\r\n\r\n# Addressing concerns in the comments section\r\n\r\nIf, however, you wish to not consume the entire source `String`, but simply access a specific property whose path you know, you&#39;ll have to write it yourself, leveraging a Tokeniser.\r\n\r\n---\r\n\r\nActually, it&#39;s the weekend and I got time on my hands, so I could give you a head start: here&#39;s a basic one! It can run in `strict` mode and spew out sensible error messages, or be lenient and return `Optional.empty` when the request couldn&#39;t be fulfilled.\r\n\r\n\tpublic static class JSONPath {\r\n\r\n\t\tprotected static final JsonFactory JSON_FACTORY = new JsonFactory();\r\n\r\n\t\tprivate final List&lt;JSONKey&gt; keys;\r\n\r\n\t\tpublic JSONPath(final String from) {\r\n\t\t\tthis.keys = Arrays.stream((from.startsWith(&quot;[&quot;) ? from : String.valueOf(&quot;.&quot; + from))\r\n\t\t\t\t\t.split(&quot;(?=\\\\[|\\\\]|\\\\.)&quot;))\r\n\t\t\t\t\t.filter(x -&gt; !&quot;]&quot;.equals(x))\r\n\t\t\t\t\t.map(JSONKey::new)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final String json) throws IOException {\r\n\t\t\treturn this.getWithin(json, false);\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final String json, final boolean strict) throws IOException {\r\n\t\t\ttry (final InputStream stream = new StringInputStream(json)) {\r\n\t\t\t\treturn this.getWithin(stream, strict);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final InputStream json) throws IOException {\r\n\t\t\treturn this.getWithin(json, false);\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final InputStream json, final boolean strict) throws IOException {\r\n\t\t\treturn getValueAt(JSON_FACTORY.createParser(json), 0, strict);\r\n\t\t}\r\n\r\n\t\tprotected Optional&lt;String&gt; getValueAt(final JsonParser parser, final int idx, final boolean strict) throws IOException {\r\n\t\t\ttry {\r\n\t\t\t\tif (parser.isClosed()) {\r\n\t\t\t\t\treturn Optional.empty();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (idx &gt;= this.keys.size()) {\r\n\t\t\t\t\tparser.nextToken();\r\n\t\t\t\t\tif (null == parser.getValueAsString()) {\r\n\t\t\t\t\t\tthrow new JSONPathException(&quot;The selected node is not a leaf&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Optional.of(parser.getValueAsString());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.keys.get(idx).advanceCursor(parser);\r\n\t\t\t\treturn getValueAt(parser, idx + 1, strict);\r\n\t\t\t} catch (final JSONPathException e) {\r\n\t\t\t\tif (strict) {\r\n\t\t\t\t\tthrow (null == e.getCause() ? new JSONPathException(e.getMessage() + String.format(&quot;, at path: &#39;%s&#39;&quot;, this.toString(idx)), e) : e);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\r\n\t\t\t\t\t.apply(this.keys.stream().map(JSONKey::toString).collect(Collectors.joining()));\r\n\t\t}\r\n\r\n\t\tprivate String toString(final int idx) {\r\n\t\t\treturn ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\r\n\t\t\t\t\t.apply(this.keys.subList(0, idx).stream().map(JSONKey::toString).collect(Collectors.joining()));\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;serial&quot;)\r\n\t\tpublic static class JSONPathException extends RuntimeException {\r\n\r\n\t\t\tpublic JSONPathException() {\r\n\t\t\t\tsuper();\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final String message) {\r\n\t\t\t\tsuper(message);\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final String message, final Throwable cause) {\r\n\t\t\t\tsuper(message, cause);\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final Throwable cause) {\r\n\t\t\t\tsuper(cause);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static class JSONKey {\r\n\r\n\t\t\tprivate final String key;\r\n\t\t\tprivate final JsonToken startToken;\r\n\r\n\t\t\tpublic JSONKey(final String str) {\r\n\t\t\t\tthis(str.substring(1), str.startsWith(&quot;[&quot;) ? JsonToken.START_ARRAY : JsonToken.START_OBJECT);\r\n\t\t\t}\r\n\r\n\t\t\tprivate JSONKey(final String key, final JsonToken startToken) {\r\n\t\t\t\tthis.key = key;\r\n\t\t\t\tthis.startToken = startToken;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Advances the cursor until finding the current {@link JSONKey}, or\r\n\t\t\t * having consumed the entirety of the current JSON Object or Array.\r\n\t\t\t */\r\n\t\t\tpublic void advanceCursor(final JsonParser parser) throws IOException {\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (!this.startToken.equals(token)) {\r\n\t\t\t\t\tthrow new JSONPathException(String.format(&quot;Expected token of type &#39;%s&#39;, got: &#39;%s&#39;&quot;, this.startToken, token));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(this.startToken)) {\r\n\t\t\t\t\t// Moving cursor within a JSON Array\r\n\t\t\t\t\tfor (int i = 0; i != Integer.valueOf(this.key).intValue(); i++) {\r\n\t\t\t\t\t\tJSONKey.skipToNext(parser);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Moving cursor in a JSON Object\r\n\t\t\t\t\tString name;\r\n\t\t\t\t\tfor (parser.nextToken(), name = parser.getCurrentName(); !this.key.equals(name); parser.nextToken(), name = parser.getCurrentName()) {\r\n\t\t\t\t\t\tJSONKey.skipToNext(parser);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Advances the cursor to the next entry in the current JSON Object\r\n\t\t\t * or Array.\r\n\t\t\t */\r\n\t\t\tprivate static void skipToNext(final JsonParser parser) throws IOException {\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\r\n\t\t\t\t\tskipToNextImpl(parser, 1);\r\n\t\t\t\t} else if (JsonToken.END_ARRAY.equals(token) || JsonToken.END_OBJECT.equals(token)) {\r\n\t\t\t\t\tthrow new JSONPathException(&quot;Could not find requested key&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Recursively consumes whatever is next until getting back to the\r\n\t\t\t * same depth level.\r\n\t\t\t */\r\n\t\t\tprivate static void skipToNextImpl(final JsonParser parser, final int depth) throws IOException {\r\n\t\t\t\tif (depth == 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\r\n\t\t\t\t\tskipToNextImpl(parser, depth + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tskipToNextImpl(parser, depth - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn String.format(this.startToken.equals(JsonToken.START_ARRAY) ? &quot;[%s]&quot; : &quot;.%s&quot;, this.key);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAssuming the following JSON content:\r\n\r\n    {\r\n      &quot;people&quot;: [{\r\n        &quot;name&quot;: &quot;Eric&quot;,\r\n        &quot;age&quot;: 28\r\n      }, {\r\n        &quot;name&quot;: &quot;Karin&quot;,\r\n        &quot;age&quot;: 26\r\n      }],\r\n      &quot;company&quot;: {\r\n        &quot;name&quot;: &quot;Elm Farm&quot;,\r\n        &quot;address&quot;: &quot;3756 Preston Street Wichita, KS 67213&quot;,\r\n        &quot;phone&quot;: &quot;857-778-1265&quot;\r\n      }\r\n    }\r\n\r\n... you could use my `JSONPath` class as follows:\r\n\r\n\r\n\t\tfinal String json = &quot;{\\&quot;people\\&quot;:[],\\&quot;company\\&quot;:{}}&quot;; // refer to JSON above\r\n\t\tSystem.out.println(new JSONPath(&quot;people[0].name&quot;).getWithin(json)); // Optional[Eric]\r\n\t\tSystem.out.println(new JSONPath(&quot;people[1].name&quot;).getWithin(json));\t// Optional[Karin]\r\n\t\tSystem.out.println(new JSONPath(&quot;people[2].name&quot;).getWithin(json));\t// Optional.empty\r\n\t\tSystem.out.println(new JSONPath(&quot;people[0].age&quot;).getWithin(json));\t// Optional[28]\r\n\t\tSystem.out.println(new JSONPath(&quot;company&quot;).getWithin(json));\t\t// Optional.empty\r\n\t\tSystem.out.println(new JSONPath(&quot;company.name&quot;).getWithin(json));\t// Optional[Elm Farm]\r\n\r\nKeep in mind that it&#39;s **basic**. It doesn&#39;t coerce data types (every value it returns is a `String`) and only returns leaf nodes.  \r\n\r\n# Actual test case\r\n\r\nIt handles `InputStream`s, so you can test it against some giant JSON document and see that it&#39;s much faster than it would take your browser to download and display its contents:\r\n\r\n\tSystem.out.println(new JSONPath(&quot;info.contact.email&quot;)\r\n\t\t\t\t.getWithin(new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;).openStream()));\r\n    // Optional[support@rescuegroups.org]\r\n\r\n### Quick test  \r\nNote I&#39;m not re-using any already existing `JSONPath` or `ObjectMapper` so the results are inaccurate -- this is just a very rough comparison anyways:\r\n\r\n\tpublic static Long time(final Callable&lt;?&gt; r) throws Exception {\r\n\t\tfinal long start = System.currentTimeMillis();\r\n\t\tr.call();\r\n\t\treturn Long.valueOf(System.currentTimeMillis() - start);\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws Exception {\r\n\t\tfinal URL url = new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;);\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to get &#39;info.contact.email&#39; with JSONPath&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new JSONPath(&quot;info.contact.email&quot;).getWithin(url.openStream()))));\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to just download the entire document otherwise&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new Scanner(url.openStream()).useDelimiter(&quot;\\\\A&quot;).next())));\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to bluntly map it entirely with Jackson and access a specific field&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new ObjectMapper()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.readValue(url.openStream(), ObjectNode.class)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.get(&quot;info&quot;).get(&quot;contact&quot;).get(&quot;email&quot;))));\r\n\t}\r\n\r\n&gt; 378ms to get &#39;info.contact.email&#39; with JSONPath  \r\n&gt; 756ms to just download the entire document otherwise  \r\n&gt; 896ms to bluntly map it entirely with Jackson and access a specific field\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56574388/2427596","title":"Get single field from JSON using Jackson","body":"<h1>The Jackson Way</h1>\n<p>Presuming you don't have a POJO describing your data structure, you could simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\nfinal JsonNode node = new ObjectMapper().readTree(json);\n//                    ^^^^^^^^^^^^^^^^^^\n// n.b.: try and *reuse* a single instance of ObjectMapper in production\n\nif (node.has(&quot;contentType&quot;)) {\n    System.out.println(&quot;contentType: &quot; + node.get(&quot;contentType&quot;));\n}    \n</code></pre>\n<hr />\n<h1>Addressing concerns in the comments section</h1>\n<p>If, however, you wish to not consume the entire source <code>String</code>, but simply access a specific property whose path you know, you'll have to write it yourself, leveraging a Tokeniser.</p>\n<hr />\n<p>Actually, it's the weekend and I got time on my hands, so I could give you a head start: here's a basic one! It can run in <code>strict</code> mode and spew out sensible error messages, or be lenient and return <code>Optional.empty</code> when the request couldn't be fulfilled.</p>\n<pre><code>public static class JSONPath {\n\n    protected static final JsonFactory JSON_FACTORY = new JsonFactory();\n\n    private final List&lt;JSONKey&gt; keys;\n\n    public JSONPath(final String from) {\n        this.keys = Arrays.stream((from.startsWith(&quot;[&quot;) ? from : String.valueOf(&quot;.&quot; + from))\n                .split(&quot;(?=\\\\[|\\\\]|\\\\.)&quot;))\n                .filter(x -&gt; !&quot;]&quot;.equals(x))\n                .map(JSONKey::new)\n                .collect(Collectors.toList());\n    }\n\n    public Optional&lt;String&gt; getWithin(final String json) throws IOException {\n        return this.getWithin(json, false);\n    }\n\n    public Optional&lt;String&gt; getWithin(final String json, final boolean strict) throws IOException {\n        try (final InputStream stream = new StringInputStream(json)) {\n            return this.getWithin(stream, strict);\n        }\n    }\n\n    public Optional&lt;String&gt; getWithin(final InputStream json) throws IOException {\n        return this.getWithin(json, false);\n    }\n\n    public Optional&lt;String&gt; getWithin(final InputStream json, final boolean strict) throws IOException {\n        return getValueAt(JSON_FACTORY.createParser(json), 0, strict);\n    }\n\n    protected Optional&lt;String&gt; getValueAt(final JsonParser parser, final int idx, final boolean strict) throws IOException {\n        try {\n            if (parser.isClosed()) {\n                return Optional.empty();\n            }\n\n            if (idx &gt;= this.keys.size()) {\n                parser.nextToken();\n                if (null == parser.getValueAsString()) {\n                    throw new JSONPathException(&quot;The selected node is not a leaf&quot;);\n                }\n\n                return Optional.of(parser.getValueAsString());\n            }\n\n            this.keys.get(idx).advanceCursor(parser);\n            return getValueAt(parser, idx + 1, strict);\n        } catch (final JSONPathException e) {\n            if (strict) {\n                throw (null == e.getCause() ? new JSONPathException(e.getMessage() + String.format(&quot;, at path: '%s'&quot;, this.toString(idx)), e) : e);\n            }\n\n            return Optional.empty();\n        }\n    }\n\n    @Override\n    public String toString() {\n        return ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\n                .apply(this.keys.stream().map(JSONKey::toString).collect(Collectors.joining()));\n    }\n\n    private String toString(final int idx) {\n        return ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\n                .apply(this.keys.subList(0, idx).stream().map(JSONKey::toString).collect(Collectors.joining()));\n    }\n\n    @SuppressWarnings(&quot;serial&quot;)\n    public static class JSONPathException extends RuntimeException {\n\n        public JSONPathException() {\n            super();\n        }\n\n        public JSONPathException(final String message) {\n            super(message);\n        }\n\n        public JSONPathException(final String message, final Throwable cause) {\n            super(message, cause);\n        }\n\n        public JSONPathException(final Throwable cause) {\n            super(cause);\n        }\n    }\n\n    private static class JSONKey {\n\n        private final String key;\n        private final JsonToken startToken;\n\n        public JSONKey(final String str) {\n            this(str.substring(1), str.startsWith(&quot;[&quot;) ? JsonToken.START_ARRAY : JsonToken.START_OBJECT);\n        }\n\n        private JSONKey(final String key, final JsonToken startToken) {\n            this.key = key;\n            this.startToken = startToken;\n        }\n\n        /**\n         * Advances the cursor until finding the current {@link JSONKey}, or\n         * having consumed the entirety of the current JSON Object or Array.\n         */\n        public void advanceCursor(final JsonParser parser) throws IOException {\n            final JsonToken token = parser.nextToken();\n            if (!this.startToken.equals(token)) {\n                throw new JSONPathException(String.format(&quot;Expected token of type '%s', got: '%s'&quot;, this.startToken, token));\n            }\n\n            if (JsonToken.START_ARRAY.equals(this.startToken)) {\n                // Moving cursor within a JSON Array\n                for (int i = 0; i != Integer.valueOf(this.key).intValue(); i++) {\n                    JSONKey.skipToNext(parser);\n                }\n            } else {\n                // Moving cursor in a JSON Object\n                String name;\n                for (parser.nextToken(), name = parser.getCurrentName(); !this.key.equals(name); parser.nextToken(), name = parser.getCurrentName()) {\n                    JSONKey.skipToNext(parser);\n                }\n            }\n        }\n\n        /**\n         * Advances the cursor to the next entry in the current JSON Object\n         * or Array.\n         */\n        private static void skipToNext(final JsonParser parser) throws IOException {\n            final JsonToken token = parser.nextToken();\n            if (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\n                skipToNextImpl(parser, 1);\n            } else if (JsonToken.END_ARRAY.equals(token) || JsonToken.END_OBJECT.equals(token)) {\n                throw new JSONPathException(&quot;Could not find requested key&quot;);\n            }\n        }\n\n        /**\n         * Recursively consumes whatever is next until getting back to the\n         * same depth level.\n         */\n        private static void skipToNextImpl(final JsonParser parser, final int depth) throws IOException {\n            if (depth == 0) {\n                return;\n            }\n\n            final JsonToken token = parser.nextToken();\n            if (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\n                skipToNextImpl(parser, depth + 1);\n            } else {\n                skipToNextImpl(parser, depth - 1);\n            }\n        }\n\n        @Override\n        public String toString() {\n            return String.format(this.startToken.equals(JsonToken.START_ARRAY) ? &quot;[%s]&quot; : &quot;.%s&quot;, this.key);\n        }\n    }\n}\n</code></pre>\n<p>Assuming the following JSON content:</p>\n<pre><code>{\n  &quot;people&quot;: [{\n    &quot;name&quot;: &quot;Eric&quot;,\n    &quot;age&quot;: 28\n  }, {\n    &quot;name&quot;: &quot;Karin&quot;,\n    &quot;age&quot;: 26\n  }],\n  &quot;company&quot;: {\n    &quot;name&quot;: &quot;Elm Farm&quot;,\n    &quot;address&quot;: &quot;3756 Preston Street Wichita, KS 67213&quot;,\n    &quot;phone&quot;: &quot;857-778-1265&quot;\n  }\n}\n</code></pre>\n<p>... you could use my <code>JSONPath</code> class as follows:</p>\n<pre><code>    final String json = &quot;{\\&quot;people\\&quot;:[],\\&quot;company\\&quot;:{}}&quot;; // refer to JSON above\n    System.out.println(new JSONPath(&quot;people[0].name&quot;).getWithin(json)); // Optional[Eric]\n    System.out.println(new JSONPath(&quot;people[1].name&quot;).getWithin(json)); // Optional[Karin]\n    System.out.println(new JSONPath(&quot;people[2].name&quot;).getWithin(json)); // Optional.empty\n    System.out.println(new JSONPath(&quot;people[0].age&quot;).getWithin(json));  // Optional[28]\n    System.out.println(new JSONPath(&quot;company&quot;).getWithin(json));        // Optional.empty\n    System.out.println(new JSONPath(&quot;company.name&quot;).getWithin(json));   // Optional[Elm Farm]\n</code></pre>\n<p>Keep in mind that it's <strong>basic</strong>. It doesn't coerce data types (every value it returns is a <code>String</code>) and only returns leaf nodes.</p>\n<h1>Actual test case</h1>\n<p>It handles <code>InputStream</code>s, so you can test it against some giant JSON document and see that it's much faster than it would take your browser to download and display its contents:</p>\n<pre><code>System.out.println(new JSONPath(&quot;info.contact.email&quot;)\n            .getWithin(new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;).openStream()));\n// Optional[support@rescuegroups.org]\n</code></pre>\n<h3>Quick test</h3>\n<p>Note I'm not re-using any already existing <code>JSONPath</code> or <code>ObjectMapper</code> so the results are inaccurate -- this is just a very rough comparison anyways:</p>\n<pre><code>public static Long time(final Callable&lt;?&gt; r) throws Exception {\n    final long start = System.currentTimeMillis();\n    r.call();\n    return Long.valueOf(System.currentTimeMillis() - start);\n}\n\npublic static void main(final String[] args) throws Exception {\n    final URL url = new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;);\n    System.out.println(String.format(   &quot;%dms to get 'info.contact.email' with JSONPath&quot;,\n                                        time(() -&gt; new JSONPath(&quot;info.contact.email&quot;).getWithin(url.openStream()))));\n    System.out.println(String.format(   &quot;%dms to just download the entire document otherwise&quot;,\n                                        time(() -&gt; new Scanner(url.openStream()).useDelimiter(&quot;\\\\A&quot;).next())));\n    System.out.println(String.format(   &quot;%dms to bluntly map it entirely with Jackson and access a specific field&quot;,\n                                        time(() -&gt; new ObjectMapper()\n                                                .readValue(url.openStream(), ObjectNode.class)\n                                                .get(&quot;info&quot;).get(&quot;contact&quot;).get(&quot;email&quot;))));\n}\n</code></pre>\n<blockquote>\n<p>378ms to get 'info.contact.email' with JSONPath<br />\n756ms to just download the entire document otherwise<br />\n896ms to bluntly map it entirely with Jackson and access a specific field</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1013194,"reputation":6637,"user_id":1025328,"accept_rate":89,"display_name":"Prasad Khode"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1412426664,"creation_date":1412426264,"answer_id":26192894,"question_id":26190851,"body_markdown":"If you are using JSON jars in your application then the following code snippet is useful:\r\n\r\n    String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\n    JSONObject jsonObject = new JSONObject(json);\r\n    System.out.println(jsonObject.getString(&quot;contentType&quot;));\r\n\r\nand if you are using Gson jars then the same code will look like following:\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n    Map jsonMap = gson.fromJson(json, Map.class);\r\n    System.out.println(jsonMap.get(&quot;contentType&quot;));\r\n","title":"Get single field from JSON using Jackson","body":"<p>If you are using JSON jars in your application then the following code snippet is useful:</p>\n\n<pre><code>String json = \"{\\\"contentType\\\": \\\"foo\\\", \\\"fooField1\\\": ... }\";\nJSONObject jsonObject = new JSONObject(json);\nSystem.out.println(jsonObject.getString(\"contentType\"));\n</code></pre>\n\n<p>and if you are using Gson jars then the same code will look like following:</p>\n\n<pre><code>Gson gson = new GsonBuilder().create();\nMap jsonMap = gson.fromJson(json, Map.class);\nSystem.out.println(jsonMap.get(\"contentType\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541685978,"creation_date":1541676572,"answer_id":53206856,"question_id":26190851,"body_markdown":"Another way is:\r\n\r\n    String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\n    JsonNode parent= new ObjectMapper().readTree(json);\r\n    String content = parent.get(&quot;contentType&quot;).asText();","title":"Get single field from JSON using Jackson","body":"<p>Another way is:</p>\n\n<pre><code>String json = \"{\\\"contentType\\\": \\\"foo\\\", \\\"fooField1\\\": ... }\";\nJsonNode parent= new ObjectMapper().readTree(json);\nString content = parent.get(\"contentType\").asText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1560406670,"creation_date":1560406670,"answer_id":56574388,"question_id":26190851,"body_markdown":"Just want to update for 2019.  I found the following easiest to impl:\r\n\r\n```\r\n//json can be file or String\r\nJsonNode parent= new ObjectMapper().readTree(json);\r\nString content = parent.path(&quot;contentType&quot;).asText();\r\n```\r\n\r\nI would suggest to use `path` instead of `get` as `get` throws a NPE, where path returns with a default 0 or &quot;&quot;, which is safer to work with if setting up the parsing correctly for 1st time.\r\n\r\nMy $0.02","title":"Get single field from JSON using Jackson","body":"<p>Just want to update for 2019.  I found the following easiest to impl:</p>\n\n<pre><code>//json can be file or String\nJsonNode parent= new ObjectMapper().readTree(json);\nString content = parent.path(\"contentType\").asText();\n</code></pre>\n\n<p>I would suggest to use <code>path</code> instead of <code>get</code> as <code>get</code> throws a NPE, where path returns with a default 0 or \"\", which is safer to work with if setting up the parsing correctly for 1st time.</p>\n\n<p>My $0.02</p>\n"},{"tags":[],"owner":{"account_id":2070885,"reputation":1024,"user_id":1845404,"accept_rate":88,"display_name":"gbenroscience"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591663073,"creation_date":1591661808,"answer_id":62273087,"question_id":26190851,"body_markdown":"I faced this issue when I decided to use ***Jackson*** as the json library for a project I worked on; mainly for its speed. I was already used to using `org.json` and `Gson` for my projects.\r\n\r\nI quickly found out though that many tasks that were trivial in `org.json` and `Gson` were not so straightforward in ***Jackson***\r\n\r\nSo I wrote the following classes to make things easier for me.\r\n\r\nThe classes below will allow you to use **Jackson** as easily as you would the simple org.json library, while still retaining the power and speed of **Jackson**\r\n\r\nI wrote the whole thing in a few hours, so feel free to debug and suit the code to your own purposes.\r\n\r\nNote that `JSONObject/JSONArray` below will do exactly what the OP wants.\r\n\r\n\r\n\r\nThe first is `JSONObject` which has similar methods to `org.json.JSONObject`; but at heart runs Jackson code to build JSON and parse json strings.\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeFactory;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import java.io.IOException;\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class JSONObject {\r\n    \r\n        ObjectNode parseNode;\r\n    \r\n        public JSONObject() {\r\n            this.parseNode = JsonNodeFactory.instance.objectNode(); // initializing     \r\n        }\r\n    \r\n        public JSONObject(String json) throws JsonProcessingException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n    \r\n                this.parseNode = mapper.readValue(json, ObjectNode.class);\r\n    \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    \r\n        public void put(String key, String value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, boolean value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, int value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, short value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, float value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, long value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, double value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, byte[] value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, BigInteger value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, BigDecimal value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, Object[] value) {\r\n            ArrayNode anode = parseNode.putArray(key);\r\n            for (Object o : value) {\r\n                anode.addPOJO(o); // building \r\n            }\r\n        }\r\n    \r\n        public void put(String key, JSONObject value) {\r\n            parseNode.set(key, value.parseNode);\r\n        }\r\n    \r\n        public void put(String key, Object value) {\r\n            parseNode.putPOJO(key, value);\r\n        }\r\n    \r\n        public static class Parser&lt;T&gt; {\r\n    \r\n            public T decode(String json, Class clazz) {\r\n                try {\r\n                    return new Converter&lt;T&gt;().fromJsonString(json, clazz);\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n    \r\n        public int optInt(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asInt(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public long optLong(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asLong(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public double optDouble(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asDouble(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public boolean optBoolean(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asBoolean(false) : false;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public double optFloat(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public short optShort(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public byte optByte(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n    \r\n                return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\r\n    \r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public JSONObject optJSONObject(String key) {\r\n            if (parseNode != null) {\r\n                if (parseNode.has(key)) {\r\n                    ObjectNode nod = parseNode.with(key);\r\n    \r\n                    JSONObject obj = new JSONObject();\r\n                    obj.parseNode = nod;\r\n    \r\n                    return obj;\r\n                }\r\n    \r\n            }\r\n            return new JSONObject();\r\n        }\r\n    \r\n        public JSONArray optJSONArray(String key) {\r\n            if (parseNode != null) {\r\n                if (parseNode.has(key)) {\r\n                    ArrayNode nod = parseNode.withArray(key);\r\n    \r\n                    JSONArray obj = new JSONArray();\r\n                    if (nod != null) {\r\n                        obj.parseNode = nod;\r\n                        return obj;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return new JSONArray();\r\n        }\r\n    \r\n        public String optString(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return parseNode != null &amp;&amp; nod.isTextual() ? nod.asText(&quot;&quot;) : &quot;&quot;;\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return parseNode.toString();\r\n        }\r\n    \r\n        public String toCuteString() {\r\n            return parseNode.toPrettyString();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the code for the JSONArray equivalent that works like org.json.JSONArray; but uses **Jackson** code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeFactory;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger; \r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class JSONArray {\r\n    \r\n       \r\n        protected ArrayNode parseNode; \r\n    \r\n        public JSONArray() {\r\n            this.parseNode = JsonNodeFactory.instance.arrayNode(); // initializing     \r\n        }\r\n    \r\n        public JSONArray(String json) throws JsonProcessingException{\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            \r\n                this.parseNode = mapper.readValue(json, ArrayNode.class);\r\n     \r\n        }\r\n    \r\n        public void putByte(byte val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void putShort(short val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(int val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(long val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void pu(float val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(double val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(String val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(byte[] val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(BigDecimal val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(BigInteger val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(Object val) {\r\n            parseNode.addPOJO(val);\r\n        }\r\n        \r\n         public void put(int index, JSONArray value) {\r\n            parseNode.set(index, value.parseNode);\r\n        }\r\n         \r\n          public void put(int index, JSONObject value) {\r\n            parseNode.set(index, value.parseNode);\r\n        }\r\n        \r\n         public String optString(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asText(&quot;&quot;) : &quot;&quot;;\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n     public int optInt(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asInt(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public long optLong(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asLong(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public double optDouble(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asDouble(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public boolean optBoolean(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asBoolean(false) : false;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public double optFloat(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public short optShort(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public byte optByte(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n    \r\n                return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\r\n    \r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public JSONObject optJSONObject(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                \r\n                if(nod != null){\r\n                    if(nod.isObject()){\r\n                            ObjectNode obn = (ObjectNode) nod;\r\n                              JSONObject obj = new JSONObject();\r\n                              obj.parseNode = obn;\r\n                              return obj;\r\n                       }\r\n                    \r\n                }\r\n    \r\n            }\r\n            return new JSONObject();\r\n        }\r\n        \r\n          public JSONArray optJSONArray(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                \r\n                if(nod != null){\r\n                    if(nod.isArray()){\r\n                            ArrayNode anode = (ArrayNode) nod;\r\n                              JSONArray obj = new JSONArray();\r\n                              obj.parseNode = anode;\r\n                              return obj;\r\n                       }\r\n                    \r\n                }\r\n    \r\n            }\r\n            return new JSONArray();\r\n        }\r\n          \r\n             @Override\r\n        public String toString() {\r\n            return parseNode.toString();\r\n        }\r\n          public String toCuteString() {\r\n            return parseNode.toPrettyString();\r\n        }\r\n        \r\n    \r\n    }\r\n\r\n\r\nFinally for a one size-fits-all-most-likely for encoding and decoding your Java classes to JSON, I added this simple class:\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class Converter&lt;T&gt; {\r\n        // Serialize/deserialize helpers\r\n    \r\n        private Class clazz;\r\n    \r\n        public Converter() {}\r\n    \r\n        public T fromJsonString(String json , Class clazz) throws IOException {\r\n            this.clazz = clazz;\r\n            return getObjectReader().readValue(json);\r\n        }\r\n    \r\n        public String toJsonString(T obj) throws JsonProcessingException {\r\n            this.clazz = obj.getClass();\r\n            return getObjectWriter().writeValueAsString(obj);\r\n        }\r\n    \r\n        private ObjectReader requestReader;\r\n        private ObjectWriter requestWriter;\r\n    \r\n        private void instantiateMapper() {\r\n            ObjectMapper mapper = new ObjectMapper()\r\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            \r\n            \r\n    \r\n            requestReader = mapper.readerFor(clazz);\r\n            requestWriter = mapper.writerFor(clazz);\r\n        }\r\n    \r\n        private ObjectReader getObjectReader() {\r\n            if (requestReader == null) {\r\n                instantiateMapper();\r\n            }\r\n            return requestReader;\r\n        }\r\n    \r\n        private ObjectWriter getObjectWriter() {\r\n            if (requestWriter == null) {\r\n                instantiateMapper();\r\n            }\r\n            return requestWriter;\r\n        }\r\n    \r\n       \r\n    \r\n    }\r\n\r\n\r\n\r\nNow to taste(test) the sauce(code), use the following methods:\r\n\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class SimplerJacksonTest {\r\n        \r\n        \r\n        static class Credentials {\r\n    \r\n            private String userName;\r\n            private String uid;\r\n            private String password;\r\n            private long createdAt;\r\n    \r\n            public Credentials() {\r\n            }\r\n    \r\n            public Credentials(String userName, String uid, String password, long createdAt) {\r\n                this.userName = userName;\r\n                this.uid = uid;\r\n                this.password = password;\r\n                this.createdAt = createdAt;\r\n            }\r\n    \r\n            @JsonProperty(&quot;userName&quot;)\r\n            public String getUserName() {\r\n                return userName;\r\n            }\r\n    \r\n            @JsonProperty(&quot;userName&quot;)\r\n            public void setUserName(String userName) {\r\n                this.userName = userName;\r\n            }\r\n    \r\n            @JsonProperty(&quot;uid&quot;)\r\n            public String getUid() {\r\n                return uid;\r\n            }\r\n    \r\n            @JsonProperty(&quot;uid&quot;)\r\n            public void setUid(String uid) {\r\n                this.uid = uid;\r\n            }\r\n    \r\n            @JsonProperty(&quot;password&quot;)\r\n            public String getPassword() {\r\n                return password;\r\n            }\r\n    \r\n            @JsonProperty(&quot;password&quot;)\r\n            public void setPassword(String password) {\r\n                this.password = password;\r\n            }\r\n    \r\n            @JsonProperty(&quot;createdAt&quot;)\r\n            public long getCreatedAt() {\r\n                return createdAt;\r\n            }\r\n    \r\n            @JsonProperty(&quot;createdAt&quot;)\r\n            public void setCreatedAt(long createdAt) {\r\n                this.createdAt = createdAt;\r\n            }\r\n    \r\n            public String encode() {\r\n                try {\r\n                    return new Converter&lt;Credentials&gt;().toJsonString(this);\r\n                } catch (JsonProcessingException ex) {\r\n                    Logger.getLogger(Credentials.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            public Credentials decode(String jsonData) {\r\n                try {\r\n                    return new Converter&lt;Credentials&gt;().fromJsonString(jsonData, Credentials.class);\r\n                } catch (Exception ex) {\r\n                    Logger.getLogger(Converter.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n        \r\n        \r\n        public static JSONObject testJSONObjectBuild() {\r\n            JSONObject obj = new JSONObject();\r\n    \r\n            Credentials cred = new Credentials(&quot;Adesina&quot;, &quot;01eab26bwkwjbak2vngxh9y3q6&quot;, &quot;xxxxxx1234&quot;, System.currentTimeMillis());\r\n            String arr[] = new String[]{&quot;Boy&quot;, &quot;Girl&quot;, &quot;Man&quot;, &quot;Woman&quot;};\r\n            int nums[] = new int[]{0, 1, 2, 3, 4, 5};\r\n    \r\n            obj.put(&quot;creds&quot;, cred);\r\n            obj.put(&quot;pronouns&quot;, arr);\r\n            obj.put(&quot;creds&quot;, cred);\r\n            obj.put(&quot;nums&quot;, nums);\r\n    \r\n            System.out.println(&quot;json-coding: &quot; + obj.toCuteString());\r\n    \r\n            return obj;\r\n        }\r\n    \r\n        public static void testJSONObjectParse(String json) {\r\n            JSONObject obj;\r\n            try {\r\n                obj = new JSONObject(json);\r\n    \r\n                JSONObject credsObj = obj.optJSONObject(&quot;creds&quot;);\r\n    \r\n                String userName = credsObj.optString(&quot;userName&quot;);\r\n                String uid = credsObj.optString(&quot;uid&quot;);\r\n                String password = credsObj.optString(&quot;password&quot;);\r\n                long createdAt = credsObj.optLong(&quot;createdAt&quot;);\r\n    \r\n              \r\n                System.out.println(&quot;&lt;&lt;---Parse Results---&gt;&gt;&quot;);\r\n                System.out.println(&quot;userName = &quot; + userName);\r\n                System.out.println(&quot;uid = &quot; + uid);\r\n                System.out.println(&quot;password = &quot; + password);\r\n                System.out.println(&quot;createdAt = &quot; + createdAt);\r\n    \r\n    \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n        \r\n           public static JSONArray testJSONArrayBuild() {\r\n            \r\n             JSONArray array = new JSONArray();\r\n            array.put(new Credentials(&quot;Lawani&quot;, &quot;001uadywdbs&quot;, &quot;ampouehehu&quot;, System.currentTimeMillis()));\r\n    \r\n            array.put(&quot;12&quot;);\r\n            array.put(98);\r\n            array.put(Math.PI);\r\n            array.put(&quot;Good scores!&quot;);\r\n            \r\n            System.out.println(&quot;See the built array: &quot;+array.toCuteString());\r\n    \r\n            return array;\r\n    \r\n        }\r\n           \r\n            \r\n           public static void testJSONArrayParse(String json) {\r\n            \r\n            try {\r\n                JSONArray array = new JSONArray(json);\r\n                \r\n                \r\n                JSONObject credsObj = array.optJSONObject(0);\r\n                \r\n                //Parse credentials in index 0\r\n                \r\n                String userName = credsObj.optString(&quot;userName&quot;);\r\n                String uid = credsObj.optString(&quot;uid&quot;);\r\n                String password = credsObj.optString(&quot;password&quot;);\r\n                long createdAt = credsObj.optLong(&quot;createdAt&quot;);\r\n    \r\n              \r\n                //Now return to the  main array and parse other entries\r\n                \r\n                String twelve = array.optString(1);\r\n                int ninety = array.optInt(2);\r\n                double pi = array.optDouble(3);\r\n                String scoreNews = array.optString(4);\r\n                \r\n                \r\n                System.out.println(&quot;Parse Results&quot;);\r\n                System.out.println(&quot;userName = &quot; + userName);\r\n                System.out.println(&quot;uid = &quot; + uid);\r\n                System.out.println(&quot;password = &quot; + password);\r\n                System.out.println(&quot;createdAt = &quot; + createdAt);\r\n                \r\n                 \r\n                System.out.println(&quot;Parse Results&quot;);\r\n                System.out.println(&quot;index 1 = &quot; + twelve);\r\n                System.out.println(&quot;index 2 = &quot; + ninety);\r\n                System.out.println(&quot;index 3 = &quot; + pi);\r\n                System.out.println(&quot;index 4 = &quot; + scoreNews);\r\n                \r\n             \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n           \r\n           \r\n           public static String testCredentialsEncode(){\r\n                Credentials cred = new Credentials(&quot;Olaoluwa&quot;, &quot;01eab26bwkwjbak2vngxh9y3q6&quot;, &quot;xxxxxx1234&quot;, System.currentTimeMillis());\r\n                \r\n                String encoded = cred.encode();\r\n                System.out.println(&quot;encoded credentials = &quot;+encoded);\r\n                return encoded;\r\n           }\r\n           \r\n            public static Credentials testCredentialsDecode(String json){\r\n                Credentials cred = new Credentials().decode(json);\r\n                \r\n                \r\n                System.out.println(&quot;encoded credentials = &quot;+cred.encode());\r\n                \r\n                \r\n                return cred;\r\n           }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n           JSONObject jo = testJSONObjectBuild();\r\n            testJSONObjectParse(jo.toString());\r\n            \r\n            JSONArray ja = testJSONArrayBuild();\r\n            \r\n            testJSONArrayParse(ja.toString());\r\n            \r\n            String credsJSON = testCredentialsEncode();\r\n            \r\n            testCredentialsDecode(credsJSON);\r\n    \r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\nTo get the source code in a place, instead of having to copy the one here, see:\r\n\r\n[the code on Github][1]\r\n\r\n\r\n  [1]: https://github.com/gbenroscience/SimplerJackson","title":"Get single field from JSON using Jackson","body":"<p>I faced this issue when I decided to use <strong><em>Jackson</em></strong> as the json library for a project I worked on; mainly for its speed. I was already used to using <code>org.json</code> and <code>Gson</code> for my projects.</p>\n\n<p>I quickly found out though that many tasks that were trivial in <code>org.json</code> and <code>Gson</code> were not so straightforward in <strong><em>Jackson</em></strong></p>\n\n<p>So I wrote the following classes to make things easier for me.</p>\n\n<p>The classes below will allow you to use <strong>Jackson</strong> as easily as you would the simple org.json library, while still retaining the power and speed of <strong>Jackson</strong></p>\n\n<p>I wrote the whole thing in a few hours, so feel free to debug and suit the code to your own purposes.</p>\n\n<p>Note that <code>JSONObject/JSONArray</code> below will do exactly what the OP wants.</p>\n\n<p>The first is <code>JSONObject</code> which has similar methods to <code>org.json.JSONObject</code>; but at heart runs Jackson code to build JSON and parse json strings.</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeFactory;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.io.IOException;\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class JSONObject {\n\n    ObjectNode parseNode;\n\n    public JSONObject() {\n        this.parseNode = JsonNodeFactory.instance.objectNode(); // initializing     \n    }\n\n    public JSONObject(String json) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n\n            this.parseNode = mapper.readValue(json, ObjectNode.class);\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public void put(String key, String value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, boolean value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, int value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, short value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, float value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, long value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, double value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, byte[] value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, BigInteger value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, BigDecimal value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, Object[] value) {\n        ArrayNode anode = parseNode.putArray(key);\n        for (Object o : value) {\n            anode.addPOJO(o); // building \n        }\n    }\n\n    public void put(String key, JSONObject value) {\n        parseNode.set(key, value.parseNode);\n    }\n\n    public void put(String key, Object value) {\n        parseNode.putPOJO(key, value);\n    }\n\n    public static class Parser&lt;T&gt; {\n\n        public T decode(String json, Class clazz) {\n            try {\n                return new Converter&lt;T&gt;().fromJsonString(json, clazz);\n            } catch (IOException ex) {\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n    }\n\n    public int optInt(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asInt(0) : 0;\n        }\n        return 0;\n    }\n\n    public long optLong(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asLong(0) : 0;\n        }\n        return 0;\n    }\n\n    public double optDouble(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asDouble(0) : 0;\n        }\n        return 0;\n    }\n\n    public boolean optBoolean(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asBoolean(false) : false;\n        }\n        return false;\n    }\n\n    public double optFloat(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\n        }\n        return 0;\n    }\n\n    public short optShort(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\n        }\n        return 0;\n    }\n\n    public byte optByte(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n\n            return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\n\n        }\n        return 0;\n    }\n\n    public JSONObject optJSONObject(String key) {\n        if (parseNode != null) {\n            if (parseNode.has(key)) {\n                ObjectNode nod = parseNode.with(key);\n\n                JSONObject obj = new JSONObject();\n                obj.parseNode = nod;\n\n                return obj;\n            }\n\n        }\n        return new JSONObject();\n    }\n\n    public JSONArray optJSONArray(String key) {\n        if (parseNode != null) {\n            if (parseNode.has(key)) {\n                ArrayNode nod = parseNode.withArray(key);\n\n                JSONArray obj = new JSONArray();\n                if (nod != null) {\n                    obj.parseNode = nod;\n                    return obj;\n                }\n            }\n\n        }\n        return new JSONArray();\n    }\n\n    public String optString(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return parseNode != null &amp;&amp; nod.isTextual() ? nod.asText(\"\") : \"\";\n        }\n        return \"\";\n    }\n\n    @Override\n    public String toString() {\n        return parseNode.toString();\n    }\n\n    public String toCuteString() {\n        return parseNode.toPrettyString();\n    }\n\n}\n</code></pre>\n\n<p>Here is the code for the JSONArray equivalent that works like org.json.JSONArray; but uses <strong>Jackson</strong> code.</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeFactory;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.math.BigDecimal;\nimport java.math.BigInteger; \n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class JSONArray {\n\n\n    protected ArrayNode parseNode; \n\n    public JSONArray() {\n        this.parseNode = JsonNodeFactory.instance.arrayNode(); // initializing     \n    }\n\n    public JSONArray(String json) throws JsonProcessingException{\n        ObjectMapper mapper = new ObjectMapper();\n\n            this.parseNode = mapper.readValue(json, ArrayNode.class);\n\n    }\n\n    public void putByte(byte val) {\n        parseNode.add(val);\n    }\n\n    public void putShort(short val) {\n        parseNode.add(val);\n    }\n\n    public void put(int val) {\n        parseNode.add(val);\n    }\n\n    public void put(long val) {\n        parseNode.add(val);\n    }\n\n    public void pu(float val) {\n        parseNode.add(val);\n    }\n\n    public void put(double val) {\n        parseNode.add(val);\n    }\n\n    public void put(String val) {\n        parseNode.add(val);\n    }\n\n    public void put(byte[] val) {\n        parseNode.add(val);\n    }\n\n    public void put(BigDecimal val) {\n        parseNode.add(val);\n    }\n\n    public void put(BigInteger val) {\n        parseNode.add(val);\n    }\n\n    public void put(Object val) {\n        parseNode.addPOJO(val);\n    }\n\n     public void put(int index, JSONArray value) {\n        parseNode.set(index, value.parseNode);\n    }\n\n      public void put(int index, JSONObject value) {\n        parseNode.set(index, value.parseNode);\n    }\n\n     public String optString(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asText(\"\") : \"\";\n        }\n        return \"\";\n    }\n public int optInt(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asInt(0) : 0;\n        }\n        return 0;\n    }\n\n    public long optLong(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asLong(0) : 0;\n        }\n        return 0;\n    }\n\n    public double optDouble(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asDouble(0) : 0;\n        }\n        return 0;\n    }\n\n    public boolean optBoolean(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asBoolean(false) : false;\n        }\n        return false;\n    }\n\n    public double optFloat(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\n        }\n        return 0;\n    }\n\n    public short optShort(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\n        }\n        return 0;\n    }\n\n    public byte optByte(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\n\n        }\n        return 0;\n    }\n\n    public JSONObject optJSONObject(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            if(nod != null){\n                if(nod.isObject()){\n                        ObjectNode obn = (ObjectNode) nod;\n                          JSONObject obj = new JSONObject();\n                          obj.parseNode = obn;\n                          return obj;\n                   }\n\n            }\n\n        }\n        return new JSONObject();\n    }\n\n      public JSONArray optJSONArray(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            if(nod != null){\n                if(nod.isArray()){\n                        ArrayNode anode = (ArrayNode) nod;\n                          JSONArray obj = new JSONArray();\n                          obj.parseNode = anode;\n                          return obj;\n                   }\n\n            }\n\n        }\n        return new JSONArray();\n    }\n\n         @Override\n    public String toString() {\n        return parseNode.toString();\n    }\n      public String toCuteString() {\n        return parseNode.toPrettyString();\n    }\n\n\n}\n</code></pre>\n\n<p>Finally for a one size-fits-all-most-likely for encoding and decoding your Java classes to JSON, I added this simple class:</p>\n\n<pre><code>/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class Converter&lt;T&gt; {\n    // Serialize/deserialize helpers\n\n    private Class clazz;\n\n    public Converter() {}\n\n    public T fromJsonString(String json , Class clazz) throws IOException {\n        this.clazz = clazz;\n        return getObjectReader().readValue(json);\n    }\n\n    public String toJsonString(T obj) throws JsonProcessingException {\n        this.clazz = obj.getClass();\n        return getObjectWriter().writeValueAsString(obj);\n    }\n\n    private ObjectReader requestReader;\n    private ObjectWriter requestWriter;\n\n    private void instantiateMapper() {\n        ObjectMapper mapper = new ObjectMapper()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n\n\n        requestReader = mapper.readerFor(clazz);\n        requestWriter = mapper.writerFor(clazz);\n    }\n\n    private ObjectReader getObjectReader() {\n        if (requestReader == null) {\n            instantiateMapper();\n        }\n        return requestReader;\n    }\n\n    private ObjectWriter getObjectWriter() {\n        if (requestWriter == null) {\n            instantiateMapper();\n        }\n        return requestWriter;\n    }\n\n\n\n}\n</code></pre>\n\n<p>Now to taste(test) the sauce(code), use the following methods:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class SimplerJacksonTest {\n\n\n    static class Credentials {\n\n        private String userName;\n        private String uid;\n        private String password;\n        private long createdAt;\n\n        public Credentials() {\n        }\n\n        public Credentials(String userName, String uid, String password, long createdAt) {\n            this.userName = userName;\n            this.uid = uid;\n            this.password = password;\n            this.createdAt = createdAt;\n        }\n\n        @JsonProperty(\"userName\")\n        public String getUserName() {\n            return userName;\n        }\n\n        @JsonProperty(\"userName\")\n        public void setUserName(String userName) {\n            this.userName = userName;\n        }\n\n        @JsonProperty(\"uid\")\n        public String getUid() {\n            return uid;\n        }\n\n        @JsonProperty(\"uid\")\n        public void setUid(String uid) {\n            this.uid = uid;\n        }\n\n        @JsonProperty(\"password\")\n        public String getPassword() {\n            return password;\n        }\n\n        @JsonProperty(\"password\")\n        public void setPassword(String password) {\n            this.password = password;\n        }\n\n        @JsonProperty(\"createdAt\")\n        public long getCreatedAt() {\n            return createdAt;\n        }\n\n        @JsonProperty(\"createdAt\")\n        public void setCreatedAt(long createdAt) {\n            this.createdAt = createdAt;\n        }\n\n        public String encode() {\n            try {\n                return new Converter&lt;Credentials&gt;().toJsonString(this);\n            } catch (JsonProcessingException ex) {\n                Logger.getLogger(Credentials.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n        public Credentials decode(String jsonData) {\n            try {\n                return new Converter&lt;Credentials&gt;().fromJsonString(jsonData, Credentials.class);\n            } catch (Exception ex) {\n                Logger.getLogger(Converter.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n    }\n\n\n    public static JSONObject testJSONObjectBuild() {\n        JSONObject obj = new JSONObject();\n\n        Credentials cred = new Credentials(\"Adesina\", \"01eab26bwkwjbak2vngxh9y3q6\", \"xxxxxx1234\", System.currentTimeMillis());\n        String arr[] = new String[]{\"Boy\", \"Girl\", \"Man\", \"Woman\"};\n        int nums[] = new int[]{0, 1, 2, 3, 4, 5};\n\n        obj.put(\"creds\", cred);\n        obj.put(\"pronouns\", arr);\n        obj.put(\"creds\", cred);\n        obj.put(\"nums\", nums);\n\n        System.out.println(\"json-coding: \" + obj.toCuteString());\n\n        return obj;\n    }\n\n    public static void testJSONObjectParse(String json) {\n        JSONObject obj;\n        try {\n            obj = new JSONObject(json);\n\n            JSONObject credsObj = obj.optJSONObject(\"creds\");\n\n            String userName = credsObj.optString(\"userName\");\n            String uid = credsObj.optString(\"uid\");\n            String password = credsObj.optString(\"password\");\n            long createdAt = credsObj.optLong(\"createdAt\");\n\n\n            System.out.println(\"&lt;&lt;---Parse Results---&gt;&gt;\");\n            System.out.println(\"userName = \" + userName);\n            System.out.println(\"uid = \" + uid);\n            System.out.println(\"password = \" + password);\n            System.out.println(\"createdAt = \" + createdAt);\n\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n       public static JSONArray testJSONArrayBuild() {\n\n         JSONArray array = new JSONArray();\n        array.put(new Credentials(\"Lawani\", \"001uadywdbs\", \"ampouehehu\", System.currentTimeMillis()));\n\n        array.put(\"12\");\n        array.put(98);\n        array.put(Math.PI);\n        array.put(\"Good scores!\");\n\n        System.out.println(\"See the built array: \"+array.toCuteString());\n\n        return array;\n\n    }\n\n\n       public static void testJSONArrayParse(String json) {\n\n        try {\n            JSONArray array = new JSONArray(json);\n\n\n            JSONObject credsObj = array.optJSONObject(0);\n\n            //Parse credentials in index 0\n\n            String userName = credsObj.optString(\"userName\");\n            String uid = credsObj.optString(\"uid\");\n            String password = credsObj.optString(\"password\");\n            long createdAt = credsObj.optLong(\"createdAt\");\n\n\n            //Now return to the  main array and parse other entries\n\n            String twelve = array.optString(1);\n            int ninety = array.optInt(2);\n            double pi = array.optDouble(3);\n            String scoreNews = array.optString(4);\n\n\n            System.out.println(\"Parse Results\");\n            System.out.println(\"userName = \" + userName);\n            System.out.println(\"uid = \" + uid);\n            System.out.println(\"password = \" + password);\n            System.out.println(\"createdAt = \" + createdAt);\n\n\n            System.out.println(\"Parse Results\");\n            System.out.println(\"index 1 = \" + twelve);\n            System.out.println(\"index 2 = \" + ninety);\n            System.out.println(\"index 3 = \" + pi);\n            System.out.println(\"index 4 = \" + scoreNews);\n\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n\n       public static String testCredentialsEncode(){\n            Credentials cred = new Credentials(\"Olaoluwa\", \"01eab26bwkwjbak2vngxh9y3q6\", \"xxxxxx1234\", System.currentTimeMillis());\n\n            String encoded = cred.encode();\n            System.out.println(\"encoded credentials = \"+encoded);\n            return encoded;\n       }\n\n        public static Credentials testCredentialsDecode(String json){\n            Credentials cred = new Credentials().decode(json);\n\n\n            System.out.println(\"encoded credentials = \"+cred.encode());\n\n\n            return cred;\n       }\n\n\n    public static void main(String[] args) {\n\n       JSONObject jo = testJSONObjectBuild();\n        testJSONObjectParse(jo.toString());\n\n        JSONArray ja = testJSONArrayBuild();\n\n        testJSONArrayParse(ja.toString());\n\n        String credsJSON = testCredentialsEncode();\n\n        testCredentialsDecode(credsJSON);\n\n    }\n\n}\n</code></pre>\n\n<p>To get the source code in a place, instead of having to copy the one here, see:</p>\n\n<p><a href=\"https://github.com/gbenroscience/SimplerJackson\" rel=\"nofollow noreferrer\">the code on Github</a></p>\n"}],"owner":{"account_id":232399,"reputation":32821,"user_id":497208,"accept_rate":76,"display_name":"Jakub M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120100,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":26191723,"answer_count":5,"score":50,"last_activity_date":1691016793,"creation_date":1412409396,"question_id":26190851,"body_markdown":"Given an arbitrary JSON I would like to get value of a single field `contentType`. How to do it with **Jackson**?\r\n\r\n\r\n    {\r\n      contentType: &quot;foo&quot;,\r\n      fooField1: ...\r\n    }\r\n\r\n    {\r\n      contentType: &quot;bar&quot;,\r\n      barArray: [...]\r\n    }\r\n\r\n\r\n\r\n\r\n**Related**\r\n\r\n- https://stackoverflow.com/questions/6153176/how-to-find-specified-name-and-its-value-in-json-string-from-java (GSON)\r\n- https://stackoverflow.com/questions/11428329/using-gson-to-deserialize-specific-json-field-of-an-object (GSON)\r\n\r\n","title":"Get single field from JSON using Jackson","body":"<p>Given an arbitrary JSON I would like to get value of a single field <code>contentType</code>. How to do it with <strong>Jackson</strong>?</p>\n\n<pre><code>{\n  contentType: \"foo\",\n  fooField1: ...\n}\n\n{\n  contentType: \"bar\",\n  barArray: [...]\n}\n</code></pre>\n\n<p><strong>Related</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6153176/how-to-find-specified-name-and-its-value-in-json-string-from-java\">How to find specified name and its value in JSON-string from Java?</a> (GSON)</li>\n<li><a href=\"https://stackoverflow.com/questions/11428329/using-gson-to-deserialize-specific-json-field-of-an-object\">Using gson to deserialize specific JSON field of an object</a> (GSON)</li>\n</ul>\n"},{"tags":["java","date","simpledateformat","formatter"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1690979761,"post_id":76819940,"comment_id":135427951,"body_markdown":"Stop using outdated classes like `SimpleDateFormat`. move to the newer `java.time` API","body":"Stop using outdated classes like <code>SimpleDateFormat</code>. move to the newer <code>java.time</code> API"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690979814,"post_id":76819940,"comment_id":135427957,"body_markdown":"Please share an [MCVE]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1691015432,"post_id":76819940,"comment_id":135435261,"body_markdown":"By what time zone are you expecting an offset of +02:00?","body":"By what time zone are you expecting an offset of +02:00?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691062189,"post_id":76819940,"comment_id":135442259,"body_markdown":"I strongly recommend that you don’t use `DateFormat`, `SimpleDateFormat` and `Calendar`. Those classes were poorly designed, troublesome and cumbersome to work with. Fortunately they are long outdated. Use `OffsetDateTime` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) for an easier job and fewer unpleasant surprises. See [the good answer by Basil Bourque](https://stackoverflow.com/a/76823909/5772882).","body":"I strongly recommend that you don’t use <code>DateFormat</code>, <code>SimpleDateFormat</code> and <code>Calendar</code>. Those classes were poorly designed, troublesome and cumbersome to work with. Fortunately they are long outdated. Use <code>OffsetDateTime</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> for an easier job and fewer unpleasant surprises. See <a href=\"https://stackoverflow.com/a/76823909/5772882\">the good answer by Basil Bourque</a>."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690980364,"creation_date":1690979934,"answer_id":76819965,"question_id":76819940,"body_markdown":"You need to use `XXX` instead of `Z` to get a timezone formatted as `{Z|{+|-}HH:mm}`. That said, you should really switch to using the new `java.time` types, and stop using `SimpleDateFormat`.\r\n\r\nThis is shown in one of the examples in the [`SimpleDateFormat` documentation][1]:\r\n\r\n&gt; |Date and Time Pattern           |Result                         |\r\n&gt; |--------------------------------|-------------------------------|\r\n&gt; |...                             |...                            |\r\n&gt; |`&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;`|`2001-07-04T12:08:56.235-07:00`|\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>You need to use <code>XXX</code> instead of <code>Z</code> to get a timezone formatted as <code>{Z|{+|-}HH:mm}</code>. That said, you should really switch to using the new <code>java.time</code> types, and stop using <code>SimpleDateFormat</code>.</p>\n<p>This is shown in one of the examples in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code> documentation</a>:</p>\n<blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date and Time Pattern</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td><code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;</code></td>\n<td><code>2001-07-04T12:08:56.235-07:00</code></td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690981464,"creation_date":1690981464,"answer_id":76820182,"question_id":76819940,"body_markdown":"If you are working with Java 1.8+, you should use classes from the `java.time` package.\r\n\r\nThe format you use for the `java.text.SimpleDateFormat` class should also work with the `java.time.format.DateTimeFormatter` class.\r\n\r\nHere is an example:\r\n\r\n```java\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class ZonedDateTimeFormatExample {\r\n  public static void main(String... args) {\r\n    ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Africa/Cairo&quot;));\r\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    System.out.printf(&quot;Current date and time in Cairo, Egypt: %s%n&quot;, fmt.format(now));\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nAvoid using the `java.text` and `java.util` packages for date/time/calendar parsing and formatting.\r\n\r\nThis includes, but is not limited to:\r\n\r\n* `java.util.Calendar`\r\n* `java.util.Date`\r\n* `java.text.SimpleDateFormat`\r\n\r\nPlease review: [Java SE 8 Date and Time](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)\r\n","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>If you are working with Java 1.8+, you should use classes from the <code>java.time</code> package.</p>\n<p>The format you use for the <code>java.text.SimpleDateFormat</code> class should also work with the <code>java.time.format.DateTimeFormatter</code> class.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class ZonedDateTimeFormatExample {\n  public static void main(String... args) {\n    ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Africa/Cairo&quot;));\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n    System.out.printf(&quot;Current date and time in Cairo, Egypt: %s%n&quot;, fmt.format(now));\n  }\n}\n</code></pre>\n<hr />\n<p>Avoid using the <code>java.text</code> and <code>java.util</code> packages for date/time/calendar parsing and formatting.</p>\n<p>This includes, but is not limited to:</p>\n<ul>\n<li><code>java.util.Calendar</code></li>\n<li><code>java.util.Date</code></li>\n<li><code>java.text.SimpleDateFormat</code></li>\n</ul>\n<p>Please review: <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">Java SE 8 Date and Time</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691016504,"creation_date":1691015863,"answer_id":76823909,"question_id":76819940,"body_markdown":"# tl;dr\r\n\r\n - You are working too hard.\r\n - Use modern *java.time*. Never use `Calendar` &amp; `SimpleDateFormat`.\r\n - No need to specify a formatting pattern for standard format.\r\n - Truncate your unwanted fractional second.\r\n\r\n```java\r\nOffsetDateTime.now().truncatedTo( SECONDS ).toString()\r\n```\r\n\r\n&gt;2023-08-02T14:19:10+02:00\r\n\r\n# `java.time.OffsetDateTime`\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nFor a date with time-of-day in the context of an offset-from-UTC, use the class [`OffsetDateTime`][1].\r\n\r\nFirst specify your desired [offset][2].\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( 2 ) ;  // +02:00\r\n\r\nCapture the [current moment][3] as seen in that offset.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( offset ) ;\r\n\r\nSince you have no interest in the fractional second, [truncate][4].\r\n\r\n    OffsetDateTime odt = odt.truncatedTo( ChronoUnit.SECONDS ) ;\r\n\r\nGenerate text in your desired format which happens to comply with the [ISO 8601][5] standard formats used by default in *java.time* when generating/parsing text. So no need to specify a formatting pattern.\r\n\r\n    String output = odt.toString() ;\r\n    \r\n&gt;2023-08-02T14:19:10+02:00\r\n\r\nRather than hard-code an offset, you may want to specify a time zone to automatically determine the offset in effect at that point in time.\r\n\r\n    String output = \r\n        ZonedDateTime\r\n        .now(\r\n            ZoneId.of( &quot;Africa/Gaborone&quot; ) \r\n        )\r\n        .toOffsetDateTime()\r\n        .truncatedTo( ChronoUnit.SECONDS )\r\n        .toString()\r\n    ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#now(java.time.ZoneId)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n  [5]: http://en.wikipedia.org/wiki/ISO_8601","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<h1>tl;dr</h1>\n<ul>\n<li>You are working too hard.</li>\n<li>Use modern <em>java.time</em>. Never use <code>Calendar</code> &amp; <code>SimpleDateFormat</code>.</li>\n<li>No need to specify a formatting pattern for standard format.</li>\n<li>Truncate your unwanted fractional second.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime.now().truncatedTo( SECONDS ).toString()\n</code></pre>\n<blockquote>\n<p>2023-08-02T14:19:10+02:00</p>\n</blockquote>\n<h1><code>java.time.OffsetDateTime</code></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>For a date with time-of-day in the context of an offset-from-UTC, use the class <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<p>First specify your desired <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">offset</a>.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( 2 ) ;  // +02:00\n</code></pre>\n<p>Capture the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#now(java.time.ZoneId)\" rel=\"nofollow noreferrer\">current moment</a> as seen in that offset.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( offset ) ;\n</code></pre>\n<p>Since you have no interest in the fractional second, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">truncate</a>.</p>\n<pre><code>OffsetDateTime odt = odt.truncatedTo( ChronoUnit.SECONDS ) ;\n</code></pre>\n<p>Generate text in your desired format which happens to comply with the <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats used by default in <em>java.time</em> when generating/parsing text. So no need to specify a formatting pattern.</p>\n<pre><code>String output = odt.toString() ;\n</code></pre>\n<blockquote>\n<p>2023-08-02T14:19:10+02:00</p>\n</blockquote>\n<p>Rather than hard-code an offset, you may want to specify a time zone to automatically determine the offset in effect at that point in time.</p>\n<pre><code>String output = \n    ZonedDateTime\n    .now(\n        ZoneId.of( &quot;Africa/Gaborone&quot; ) \n    )\n    .toOffsetDateTime()\n    .truncatedTo( ChronoUnit.SECONDS )\n    .toString()\n;\n</code></pre>\n"}],"owner":{"account_id":19949957,"reputation":107,"user_id":14619820,"display_name":"monotor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76819965,"answer_count":3,"score":0,"last_activity_date":1691016504,"creation_date":1690979685,"question_id":76819940,"body_markdown":"I want to print the date with the char `&quot;:&quot;` in the middle of timezone,\r\nexample :\r\n\r\n    2023-08-02T14:19:10+02:00\r\n\r\nAt the moment I am using this pattern:\r\n\r\n    SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\r\nand it prints:\r\n\r\n    2023-08-02T14:19:10+0200\r\n\r\nAny idea?\r\n\r\nbelow an example of code :\r\n\r\n```java\r\npublic class testDate {\r\n\r\n    public static final DateFormat PATTERN = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\r\n\tpublic static String calendarToString(final Calendar dateToConvert, final DateFormat df) {\r\n\t\treturn df.format(dateToConvert.getTime());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCalendar effectiveDate = Calendar.getInstance();\r\n\t\tSystem.out.println(calendarToString(effectiveDate, PATTERN));\r\n\t}\r\n}\r\n```\r\n\r\n","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>I want to print the date with the char <code>&quot;:&quot;</code> in the middle of timezone,\nexample :</p>\n<pre><code>2023-08-02T14:19:10+02:00\n</code></pre>\n<p>At the moment I am using this pattern:</p>\n<pre><code>SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\n</code></pre>\n<p>and it prints:</p>\n<pre><code>2023-08-02T14:19:10+0200\n</code></pre>\n<p>Any idea?</p>\n<p>below an example of code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class testDate {\n\n    public static final DateFormat PATTERN = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\n\n    public static String calendarToString(final Calendar dateToConvert, final DateFormat df) {\n        return df.format(dateToConvert.getTime());\n    }\n\n    public static void main(String[] args) {\n        Calendar effectiveDate = Calendar.getInstance();\n        System.out.println(calendarToString(effectiveDate, PATTERN));\n    }\n}\n</code></pre>\n"},{"tags":["java","terminal","java-11","uninstallation"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691011313,"post_id":76823607,"comment_id":135434754,"body_markdown":"You very rarely uninstall things by deleting directories. What is your OS? Also please say why you want a &quot;lower version&quot;","body":"You very rarely uninstall things by deleting directories. What is your OS? Also please say why you want a &quot;lower version&quot;"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011420,"post_id":76823607,"comment_id":135434773,"body_markdown":"My version for mac?","body":"My version for mac?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691011473,"post_id":76823607,"comment_id":135434783,"body_markdown":"OK, I thought it might be Mac but wasn&#39;t sure. That&#39;s an OS I don&#39;t know enough about to help","body":"OK, I thought it might be Mac but wasn&#39;t sure. That&#39;s an OS I don&#39;t know enough about to help"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011581,"post_id":76823607,"comment_id":135434802,"body_markdown":"Oh I want a lower version for a course, it really isnt that important. I have been trying to find out how to work TMC Beans on Mac and I realized the reason it hasnt been working is because it only takes a openjdk version of under 11. Also I need TMC Beans to submit and use the course.","body":"Oh I want a lower version for a course, it really isnt that important. I have been trying to find out how to work TMC Beans on Mac and I realized the reason it hasnt been working is because it only takes a openjdk version of under 11. Also I need TMC Beans to submit and use the course."},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011611,"post_id":76823607,"comment_id":135434805,"body_markdown":"Its a Mac Book Air version &quot;10.15.6&quot;","body":"Its a Mac Book Air version &quot;10.15.6&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691012020,"post_id":76823607,"comment_id":135434869,"body_markdown":"That op could have nasty knock-on effects. If I were you, I&#39;d probably try to restore to before installation of that JDK with Time Machine, then install the version you wnat","body":"That op could have nasty knock-on effects. If I were you, I&#39;d probably try to restore to before installation of that JDK with Time Machine, then install the version you wnat"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691019959,"post_id":76823607,"comment_id":135435688,"body_markdown":"Which version exactly you are trying to install? Your question is really how to install a specific version of JDK rather than how to delete the newer version. This is an XY Problem as currently asked","body":"Which version exactly you are trying to install? Your question is really how to install a specific version of JDK rather than how to delete the newer version. This is an XY Problem as currently asked"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691052845,"post_id":76823607,"comment_id":135440239,"body_markdown":"@aled, not exactly. There are now *two* problems, which could potentially compound each other","body":"@aled, not exactly. There are now <i>two</i> problems, which could potentially compound each other"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691064780,"post_id":76823607,"comment_id":135442792,"body_markdown":"Basically Im trying to install a version lower than 11 and only use that specific version. If I ask what version I have on the terminal it should show a version lower than 11.","body":"Basically Im trying to install a version lower than 11 and only use that specific version. If I ask what version I have on the terminal it should show a version lower than 11."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691066260,"post_id":76823607,"comment_id":135443139,"body_markdown":"You might &#39;get away with&#39; leaving your partial, broken installation on the system, but I wouldn&#39;t recommend it","body":"You might &#39;get away with&#39; leaving your partial, broken installation on the system, but I wouldn&#39;t recommend it"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691066323,"post_id":76823607,"comment_id":135443152,"body_markdown":"Every time I see my version its still 17 so I don&#39;t think anything went broken or wrong.","body":"Every time I see my version its still 17 so I don&#39;t think anything went broken or wrong."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691066438,"post_id":76823607,"comment_id":135443176,"body_markdown":"Well you started by saying that you force-deleted its entire directory trees, so if it&#39;s still working and valid, I&#39;d be surprised (unless your commands failed)","body":"Well you started by saying that you force-deleted its entire directory trees, so if it&#39;s still working and valid, I&#39;d be surprised (unless your commands failed)"}],"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691015851,"creation_date":1691011149,"question_id":76823607,"body_markdown":"Removed the jdk in the Terminal using these commands: &quot;sudo rm -fr jdk-17.0.7.jdk&quot; and &quot;sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java&quot;. \r\n\r\nMy terminal keeps showing that I have some version of java, so I am a little confused, I wanna uninstall openjdk completely from my laptop and then get a lower version. Right now I have version &quot;17.0.7&quot; as you can see.\r\n\r\nWhen running &quot;java -version&quot;, i get &quot;openjdk version &quot;17.0.7&quot; 2023-04-18\r\nOpenJDK Runtime Environment Temurin-17.0.7+7 (build 17.0.7+7)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)\r\n&quot;\r\n\r\nOverall I am just trying to get a version of OpenJdk that is under version 11 and use that version instead of 17. I have been trying to find out how to work TMC Beans on Mac for a Course and I realized the reason it hasn&#39;t been working is because it only takes a Openjdk version of under 11. Also I need TMC Beans to submit and use the course.","title":"How to Uninstall Version of OpenJdk","body":"<p>Removed the jdk in the Terminal using these commands: &quot;sudo rm -fr jdk-17.0.7.jdk&quot; and &quot;sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java&quot;.</p>\n<p>My terminal keeps showing that I have some version of java, so I am a little confused, I wanna uninstall openjdk completely from my laptop and then get a lower version. Right now I have version &quot;17.0.7&quot; as you can see.</p>\n<p>When running &quot;java -version&quot;, i get &quot;openjdk version &quot;17.0.7&quot; 2023-04-18\nOpenJDK Runtime Environment Temurin-17.0.7+7 (build 17.0.7+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)\n&quot;</p>\n<p>Overall I am just trying to get a version of OpenJdk that is under version 11 and use that version instead of 17. I have been trying to find out how to work TMC Beans on Mac for a Course and I realized the reason it hasn't been working is because it only takes a Openjdk version of under 11. Also I need TMC Beans to submit and use the course.</p>\n"},{"tags":["java","maven","github-actions","pom.xml","codeql"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691015843,"creation_date":1691015843,"answer_id":76823908,"question_id":76818094,"body_markdown":"There are probably multiple approaches to solve this:\r\n- If this `copy-files-on-build` execution is only relevant for your local build, you could either\r\n  - remove `&lt;phase&gt;package&lt;/phase&gt;` and manually invoke the plugin when building locally, see https://stackoverflow.com/q/3779369\r\n  - or, move this configuration to a [Maven build profile](https://maven.apache.org/guides/introduction/introduction-to-profiles.html), and either manually activate it when building locally, with `mvn --activate-profiles ...` (respectively `mvn -P ...`), or [deactivate it when running CodeQL](https://maven.apache.org/guides/introduction/introduction-to-profiles.html#deactivating-a-profile)\r\n- Specify the `PROJECT_OUTPUT` value with `mvn &quot;-DPROJECT_OUTPUT=...&quot; ...` when running CodeQL\r\n\r\nIf you want to use one of the approaches which requires a custom `mvn` command for CodeQL, you will have to use the &quot;[advanced setup](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-advanced-setup-for-code-scanning#configuring-advanced-setup-for-code-scanning-with-codeql)&quot; for GitHub code scanning, and there remove the autobuild step and instead [manually specify the `mvn` build command](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages#adding-build-steps-for-a-compiled-language). You can take for example a look at how the [Gson CodeQL workflow](https://github.com/google/gson/blob/gson-parent-2.10.1/.github/workflows/codeql-analysis.yml) specifies a custom `mvn` command to execute.","title":"CodeQL Java Analysis - missing parameters","body":"<p>There are probably multiple approaches to solve this:</p>\n<ul>\n<li>If this <code>copy-files-on-build</code> execution is only relevant for your local build, you could either\n<ul>\n<li>remove <code>&lt;phase&gt;package&lt;/phase&gt;</code> and manually invoke the plugin when building locally, see <a href=\"https://stackoverflow.com/q/3779369\">Run a single Maven plugin execution?</a></li>\n<li>or, move this configuration to a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven build profile</a>, and either manually activate it when building locally, with <code>mvn --activate-profiles ...</code> (respectively <code>mvn -P ...</code>), or <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html#deactivating-a-profile\" rel=\"nofollow noreferrer\">deactivate it when running CodeQL</a></li>\n</ul>\n</li>\n<li>Specify the <code>PROJECT_OUTPUT</code> value with <code>mvn &quot;-DPROJECT_OUTPUT=...&quot; ...</code> when running CodeQL</li>\n</ul>\n<p>If you want to use one of the approaches which requires a custom <code>mvn</code> command for CodeQL, you will have to use the &quot;<a href=\"https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-advanced-setup-for-code-scanning#configuring-advanced-setup-for-code-scanning-with-codeql\" rel=\"nofollow noreferrer\">advanced setup</a>&quot; for GitHub code scanning, and there remove the autobuild step and instead <a href=\"https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages#adding-build-steps-for-a-compiled-language\" rel=\"nofollow noreferrer\">manually specify the <code>mvn</code> build command</a>. You can take for example a look at how the <a href=\"https://github.com/google/gson/blob/gson-parent-2.10.1/.github/workflows/codeql-analysis.yml\" rel=\"nofollow noreferrer\">Gson CodeQL workflow</a> specifies a custom <code>mvn</code> command to execute.</p>\n"}],"owner":{"account_id":18009385,"reputation":3,"user_id":13089435,"display_name":"Chris Haas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823908,"answer_count":1,"score":0,"last_activity_date":1691015843,"creation_date":1690965980,"question_id":76818094,"body_markdown":"for various reasons I decided to set an environment variable in IntelliJ for the output directory defined in pom.xml.\r\n\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-files-on-build&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n&gt;                           &lt;outputDirectory&gt;${PROJECT_OUTPUT}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\r\n                                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nUnfortunately, CodeQL Analysis throws following error:\r\n\r\n```\r\n Error: 8-02 04:52:22] [autobuild] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters &#39;outputDirectory&#39; for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid -&gt; [Help 1]\r\n  [2023-08-02 04:52:22] [autobuild] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters &#39;outputDirectory&#39; for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid\r\n```\r\n\r\nIs there any way to fix this issue?\r\n\r\nAn absolute path leads to no errors and performs the analysis as expected.","title":"CodeQL Java Analysis - missing parameters","body":"<p>for various reasons I decided to set an environment variable in IntelliJ for the output directory defined in pom.xml.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-files-on-build&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n&gt;                           &lt;outputDirectory&gt;${PROJECT_OUTPUT}&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\n                                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately, CodeQL Analysis throws following error:</p>\n<pre><code> Error: 8-02 04:52:22] [autobuild] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters 'outputDirectory' for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid -&gt; [Help 1]\n  [2023-08-02 04:52:22] [autobuild] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters 'outputDirectory' for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid\n</code></pre>\n<p>Is there any way to fix this issue?</p>\n<p>An absolute path leads to no errors and performs the analysis as expected.</p>\n"},{"tags":["java","android","download","storage"],"answers":[{"tags":[],"owner":{"account_id":5156128,"reputation":126,"user_id":4129322,"display_name":"PRIYANKA YADAV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690985615,"creation_date":1690985615,"answer_id":76820779,"question_id":76820498,"body_markdown":"    binding.webView.setDownloadListener { url, _, _, _, _ -&gt;\r\n          \r\n            binding.webView.loadUrl(url)\r\n        }\r\n   ","title":"Download file inside WebView from android 13","body":"<pre><code>binding.webView.setDownloadListener { url, _, _, _, _ -&gt;\n      \n        binding.webView.loadUrl(url)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25087928,"reputation":168,"user_id":18939913,"display_name":"Pisoj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691014668,"creation_date":1691014668,"answer_id":76823847,"question_id":76820498,"body_markdown":"**TL;DR** [Set download listener][1] on the `WebView` and use the [`DownloadManager`][2] to download the file to the **external Downloads directory**.\r\n\r\n## Downloading:\r\n\r\n1. **Parse the URL** string to [`Uri`][3] object.\r\n2. Extract the last part of the path that is probably the **file name**. It is also a good idea to check if the file **has an extension** by checking if it contains a dot in its name, if it doesn&#39;t you can use [`MimeTypeMap`][4] to get extension based on the [`mimeType`][5].\r\n3. Construct a [`Request`][6] object and set the destination to the external **Downloads directory**. Also set the [`User-Agent`][7] to maintain consistency with requests sent by `WebView` and make **notification** show when the **download completes** so the user knows it&#39;s done. \r\n4. Get [`DownloadManager`][2] system service and **start the download**.\r\n\r\n```java\r\nWebView webView = findViewById(R.id.web_view);\r\nwebView.loadUrl(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\r\n\r\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    Uri uri = Uri.parse(url);\r\n\r\n    String[] path = uri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType);\r\n    }\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(uri);\r\n\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n    request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n});\r\n```\r\n\r\n## Permission handling:\r\n\r\nThis will work, but only on Android devices running **API level 29+** because on any older version, your app is required to have the [`WRITE_EXTERNAL_STORAGE`][8] permission to write to the **shared Downlaods directory** even if it&#39;s through the `DownloadManager`. If you want to support older versions (you really should) follow these steps:\r\n\r\n1. Declare the permission in your [`Manifest`][9], remember, it&#39;s **only needed for API level &lt;=28**.\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;\r\n```\r\n\r\n2. Add `uri, userAgent and mimeType` as global variables in the Activity so they can be used in other functions\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Uri downloadUri;\r\n    private String downloadUserAgent;\r\n    private String downloadMimeType;\r\n\r\n    ...\r\n```\r\n\r\n3. Abstract the download logic to a separate function so it can be reused and make it use global variables from the previous step.\r\n```java\r\nprivate void download() {\r\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\r\n    }\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n}\r\n```\r\n\r\n4. In `setDownloadListener` assign values to global variables. Check the device API level because, as described earlier, we only need the permission for API level **lower than 29** and [permissions][10] are only granted **at runtime** on API level greater than 22 (before they were granted at the installation). If permission is already granted simply start the download otherwise **request it**.\r\n```java\r\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    downloadUri = Uri.parse(url);\r\n    downloadUserAgent = userAgent;\r\n    downloadMimeType = mimeType;\r\n\r\n    // Permission is only required for API level &lt;= 28 &amp;&amp; Permissions are granted at runtime only for API level 23 and above\r\n    if(Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n    boolean hasWriteExternalStoragePermission = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n        if(!hasWriteExternalStoragePermission) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\r\n        } else {\r\n            download();\r\n        }\r\n    } else {\r\n        download();\r\n    }\r\n});\r\n```\r\n\r\n5. Handle the permission request result by overriding the [`onRequestPermissionsResult`][11] function and first checking if the `request code` is **0**, this is to ensure permission result is referencing to the `permission request` we created earlier (we&#39;ve set *0* as the request code there), in the same statement we also check that there is an actual result to check. After that, we check if the first (and in our case the only) permission has become **granted**, if it has we again **start the download**, but if it&#39;s not, then we have some more work to do. If the user has **denied** it, we check if the [`shouldShowRequestPermissionRationale`][12] returns false, this can be confusing, but what we&#39;ve essentially done is we&#39;ve checked if the user has **permanently declined** the permission, if they had, we show them a little dialog telling them it is **required for the file download** and directing them to the **settings** where they can **enable it**. P.S. You can suppress `newAPI` since it&#39;ll never be call on the &quot;old API level&quot; because of the if check we&#39;ve implemented in step 4 that.\r\n```java\r\n@SuppressLint(&quot;NewApi&quot;)\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if(requestCode == 0 &amp;&amp; grantResults.length &gt; 0) {\r\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            download();\r\n        } else if (!shouldShowRequestPermissionRationale(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            new AlertDialog.Builder(this)\r\n                    .setMessage(&quot;You permanently declined the storage permission witch is required to download this file. If you want to download it go to the settings and allow the storage permission.&quot;)\r\n                    .setPositiveButton(&quot;Settings&quot;, (DialogInterface p0, int p1) -&gt; {\r\n                        Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                        Uri intentUri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                        intent.setData(intentUri);\r\n                        startActivity(intent);\r\n                    })\r\n                    .setNegativeButton(&quot;Cancel&quot;, (DialogInterface p0, int p1) -&gt; {})\r\n                    .show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Cookies:\r\n\r\nI know this is a long answer already, but I feel a need to tell you just one more thing and that is what to do if your file requires **authentication to access** and how you can pass **cookies** from the `WebView` to the `DownloadManager`.\r\n\r\nTo get cookies you can use the [`CookieManager`][13]. It will return string formatted the way you can put it directly into a [cookie header][14]. You need to be careful thou, because the `CookieManager` return **`null`** if there is no cookies or in the case of a **bug** (described in the code comment).\r\n```java\r\nprivate void download() {\r\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\r\n    }\r\n\r\n    String cookies = CookieManager.getInstance().getCookie(downloadUri.toString());\r\n    // There is a bug in certain versions of WebView related to same-site cookies not being returned by the CookieManager\r\n    // so if you know you will only be downloading files behind authentication you should here probably display a dialog saying the file cannot be downloaded and request the user to update there WebView\r\n    /*if(cookies == null) {\r\n        new AlertDialog.Builder(this)\r\n                .setMessage(&quot;The file cannot be downloaded, try updating your WebView.&quot;)\r\n                .setPositiveButton(&quot;Okay&quot;, (DialogInterface p0, int p1) -&gt; {})\r\n                .show();\r\n        return;\r\n    }*/\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    if(cookies != null) { request.addRequestHeader(&quot;cookie&quot;, cookies); }\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n}\r\n```\r\n\r\nIf you want to take a look at a **full working implementation** of this I&#39;ve created a [git repository][15].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView#setDownloadListener(android.webkit.DownloadListener)\r\n  [2]: https://developer.android.com/reference/android/app/DownloadManager\r\n  [3]: https://developer.android.com/reference/android/net/Uri\r\n  [4]: https://developer.android.com/reference/android/webkit/MimeTypeMap\r\n  [5]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\r\n  [6]: https://developer.android.com/reference/android/app/DownloadManager.Request\r\n  [7]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\r\n  [8]: https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\r\n  [9]: https://developer.android.com/guide/topics/manifest/manifest-intro\r\n  [10]: https://developer.android.com/training/permissions/requesting\r\n  [11]: https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback\r\n  [12]: https://developer.android.com/reference/androidx/core/app/ActivityCompat#shouldShowRequestPermissionRationale(android.app.Activity,java.lang.String)\r\n  [13]: https://developer.android.com/reference/android/webkit/CookieManager\r\n  [14]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\r\n  [15]: https://github.com/pisoj/webview-download","title":"Download file inside WebView from android 13","body":"<p><strong>TL;DR</strong> <a href=\"https://developer.android.com/reference/android/webkit/WebView#setDownloadListener(android.webkit.DownloadListener)\" rel=\"nofollow noreferrer\">Set download listener</a> on the <code>WebView</code> and use the <a href=\"https://developer.android.com/reference/android/app/DownloadManager\" rel=\"nofollow noreferrer\"><code>DownloadManager</code></a> to download the file to the <strong>external Downloads directory</strong>.</p>\n<h2>Downloading:</h2>\n<ol>\n<li><strong>Parse the URL</strong> string to <a href=\"https://developer.android.com/reference/android/net/Uri\" rel=\"nofollow noreferrer\"><code>Uri</code></a> object.</li>\n<li>Extract the last part of the path that is probably the <strong>file name</strong>. It is also a good idea to check if the file <strong>has an extension</strong> by checking if it contains a dot in its name, if it doesn't you can use <a href=\"https://developer.android.com/reference/android/webkit/MimeTypeMap\" rel=\"nofollow noreferrer\"><code>MimeTypeMap</code></a> to get extension based on the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\" rel=\"nofollow noreferrer\"><code>mimeType</code></a>.</li>\n<li>Construct a <a href=\"https://developer.android.com/reference/android/app/DownloadManager.Request\" rel=\"nofollow noreferrer\"><code>Request</code></a> object and set the destination to the external <strong>Downloads directory</strong>. Also set the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\" rel=\"nofollow noreferrer\"><code>User-Agent</code></a> to maintain consistency with requests sent by <code>WebView</code> and make <strong>notification</strong> show when the <strong>download completes</strong> so the user knows it's done.</li>\n<li>Get <a href=\"https://developer.android.com/reference/android/app/DownloadManager\" rel=\"nofollow noreferrer\"><code>DownloadManager</code></a> system service and <strong>start the download</strong>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>WebView webView = findViewById(R.id.web_view);\nwebView.loadUrl(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\n\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    Uri uri = Uri.parse(url);\n\n    String[] path = uri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType);\n    }\n\n    DownloadManager.Request request = new DownloadManager.Request(uri);\n\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n    request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n});\n</code></pre>\n<h2>Permission handling:</h2>\n<p>This will work, but only on Android devices running <strong>API level 29+</strong> because on any older version, your app is required to have the <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\"><code>WRITE_EXTERNAL_STORAGE</code></a> permission to write to the <strong>shared Downlaods directory</strong> even if it's through the <code>DownloadManager</code>. If you want to support older versions (you really should) follow these steps:</p>\n<ol>\n<li>Declare the permission in your <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro\" rel=\"nofollow noreferrer\"><code>Manifest</code></a>, remember, it's <strong>only needed for API level &lt;=28</strong>.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add <code>uri, userAgent and mimeType</code> as global variables in the Activity so they can be used in other functions</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private Uri downloadUri;\n    private String downloadUserAgent;\n    private String downloadMimeType;\n\n    ...\n</code></pre>\n<ol start=\"3\">\n<li>Abstract the download logic to a separate function so it can be reused and make it use global variables from the previous step.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private void download() {\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\n    }\n\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n}\n</code></pre>\n<ol start=\"4\">\n<li>In <code>setDownloadListener</code> assign values to global variables. Check the device API level because, as described earlier, we only need the permission for API level <strong>lower than 29</strong> and <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">permissions</a> are only granted <strong>at runtime</strong> on API level greater than 22 (before they were granted at the installation). If permission is already granted simply start the download otherwise <strong>request it</strong>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>webView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    downloadUri = Uri.parse(url);\n    downloadUserAgent = userAgent;\n    downloadMimeType = mimeType;\n\n    // Permission is only required for API level &lt;= 28 &amp;&amp; Permissions are granted at runtime only for API level 23 and above\n    if(Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    boolean hasWriteExternalStoragePermission = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n        if(!hasWriteExternalStoragePermission) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\n        } else {\n            download();\n        }\n    } else {\n        download();\n    }\n});\n</code></pre>\n<ol start=\"5\">\n<li>Handle the permission request result by overriding the <a href=\"https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback\" rel=\"nofollow noreferrer\"><code>onRequestPermissionsResult</code></a> function and first checking if the <code>request code</code> is <strong>0</strong>, this is to ensure permission result is referencing to the <code>permission request</code> we created earlier (we've set <em>0</em> as the request code there), in the same statement we also check that there is an actual result to check. After that, we check if the first (and in our case the only) permission has become <strong>granted</strong>, if it has we again <strong>start the download</strong>, but if it's not, then we have some more work to do. If the user has <strong>denied</strong> it, we check if the <a href=\"https://developer.android.com/reference/androidx/core/app/ActivityCompat#shouldShowRequestPermissionRationale(android.app.Activity,java.lang.String)\" rel=\"nofollow noreferrer\"><code>shouldShowRequestPermissionRationale</code></a> returns false, this can be confusing, but what we've essentially done is we've checked if the user has <strong>permanently declined</strong> the permission, if they had, we show them a little dialog telling them it is <strong>required for the file download</strong> and directing them to the <strong>settings</strong> where they can <strong>enable it</strong>. P.S. You can suppress <code>newAPI</code> since it'll never be call on the &quot;old API level&quot; because of the if check we've implemented in step 4 that.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;NewApi&quot;)\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if(requestCode == 0 &amp;&amp; grantResults.length &gt; 0) {\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            download();\n        } else if (!shouldShowRequestPermissionRationale(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            new AlertDialog.Builder(this)\n                    .setMessage(&quot;You permanently declined the storage permission witch is required to download this file. If you want to download it go to the settings and allow the storage permission.&quot;)\n                    .setPositiveButton(&quot;Settings&quot;, (DialogInterface p0, int p1) -&gt; {\n                        Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                        Uri intentUri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                        intent.setData(intentUri);\n                        startActivity(intent);\n                    })\n                    .setNegativeButton(&quot;Cancel&quot;, (DialogInterface p0, int p1) -&gt; {})\n                    .show();\n        }\n    }\n}\n</code></pre>\n<h2>Cookies:</h2>\n<p>I know this is a long answer already, but I feel a need to tell you just one more thing and that is what to do if your file requires <strong>authentication to access</strong> and how you can pass <strong>cookies</strong> from the <code>WebView</code> to the <code>DownloadManager</code>.</p>\n<p>To get cookies you can use the <a href=\"https://developer.android.com/reference/android/webkit/CookieManager\" rel=\"nofollow noreferrer\"><code>CookieManager</code></a>. It will return string formatted the way you can put it directly into a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\" rel=\"nofollow noreferrer\">cookie header</a>. You need to be careful thou, because the <code>CookieManager</code> return <strong><code>null</code></strong> if there is no cookies or in the case of a <strong>bug</strong> (described in the code comment).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void download() {\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\n    }\n\n    String cookies = CookieManager.getInstance().getCookie(downloadUri.toString());\n    // There is a bug in certain versions of WebView related to same-site cookies not being returned by the CookieManager\n    // so if you know you will only be downloading files behind authentication you should here probably display a dialog saying the file cannot be downloaded and request the user to update there WebView\n    /*if(cookies == null) {\n        new AlertDialog.Builder(this)\n                .setMessage(&quot;The file cannot be downloaded, try updating your WebView.&quot;)\n                .setPositiveButton(&quot;Okay&quot;, (DialogInterface p0, int p1) -&gt; {})\n                .show();\n        return;\n    }*/\n\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    if(cookies != null) { request.addRequestHeader(&quot;cookie&quot;, cookies); }\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n}\n</code></pre>\n<p>If you want to take a look at a <strong>full working implementation</strong> of this I've created a <a href=\"https://github.com/pisoj/webview-download\" rel=\"nofollow noreferrer\">git repository</a>.</p>\n"}],"owner":{"account_id":18462745,"reputation":11,"user_id":13449797,"display_name":"user13449797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691014668,"creation_date":1690983711,"question_id":76820498,"body_markdown":"I have a webview in my Android (13) Application. When user goes to webview and click a link to download a file nothing happens. \r\n\r\n        downloadButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String link = linkEditText.getText().toString().trim();\r\n                if (!link.isEmpty()) {\r\n                    urlWrapper.iframeUrl = &quot;https://convert2mp3s.com/api/widgetv2?url=&quot; + link;\r\n                    webView.loadDataWithBaseURL(null, &quot;&lt;iframe id=\\&quot;widgetApi\\&quot; src=\\&quot;&quot; + urlWrapper.iframeUrl + &quot;\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;100%\\&quot; allowtransparency=\\&quot;true\\&quot; scrolling=\\&quot;no\\&quot; style=\\&quot;border:none\\&quot;&gt;&lt;/iframe&gt;&quot;, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n                }\r\n            }\r\n\r\nadd extra permission:\r\n WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO, READ_MEDIA_IMAGES, ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE, WRITE_EXTERNAL_STORAGE,DOWNLOAD_WITHOUT_NOTIFICATION, ACCESS_DOWNLOAD_MANAGER\r\n\r\n\r\nand still nothing works.\r\n \r\nHow download files from webview in android 13?\r\nif switch the same to interface browser it works.\r\n\r\n","title":"Download file inside WebView from android 13","body":"<p>I have a webview in my Android (13) Application. When user goes to webview and click a link to download a file nothing happens.</p>\n<pre><code>    downloadButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String link = linkEditText.getText().toString().trim();\n            if (!link.isEmpty()) {\n                urlWrapper.iframeUrl = &quot;https://convert2mp3s.com/api/widgetv2?url=&quot; + link;\n                webView.loadDataWithBaseURL(null, &quot;&lt;iframe id=\\&quot;widgetApi\\&quot; src=\\&quot;&quot; + urlWrapper.iframeUrl + &quot;\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;100%\\&quot; allowtransparency=\\&quot;true\\&quot; scrolling=\\&quot;no\\&quot; style=\\&quot;border:none\\&quot;&gt;&lt;/iframe&gt;&quot;, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n            }\n        }\n</code></pre>\n<p>add extra permission:\nWRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO, READ_MEDIA_IMAGES, ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE, WRITE_EXTERNAL_STORAGE,DOWNLOAD_WITHOUT_NOTIFICATION, ACCESS_DOWNLOAD_MANAGER</p>\n<p>and still nothing works.</p>\n<p>How download files from webview in android 13?\nif switch the same to interface browser it works.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","geckodriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690983991,"creation_date":1690982558,"answer_id":76820330,"question_id":76820262,"body_markdown":"You need to provide full path of the `geckodriver.exe`, not just the driver file name.\r\n\r\nSomething like:\r\n````\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\fullpath\\\\..\\\\geckodriver.exe&quot;);\r\n````\r\n\r\nIf you are using Selenium `v4.6.0` or higher version, you don&#39;t need to set the path of driver. You can get rid of the line `System.setProperty`. Code can be just:\r\n````\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.manage().deleteAllCookies();\r\ndriver.manage().window().maximize();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n````\r\n\r\nRefer this answer - https://stackoverflow.com/a/76463081/7598774","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>You need to provide full path of the <code>geckodriver.exe</code>, not just the driver file name.</p>\n<p>Something like:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\fullpath\\\\..\\\\geckodriver.exe&quot;);\n</code></pre>\n<p>If you are using Selenium <code>v4.6.0</code> or higher version, you don't need to set the path of driver. You can get rid of the line <code>System.setProperty</code>. Code can be just:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n<p>Refer this answer - <a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691014637,"creation_date":1691014637,"answer_id":76823843,"question_id":76820262,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid\r\n\r\n...implies that [Selenium](https://stackoverflow.com/a/54482491/7429447) was unable to locate the required [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) in the _path_ mentioned by the key _`webdriver.gecko.driver`_ through the [`System.setProperty()`](https://stackoverflow.com/a/60061951/7429447) line, as the expectation is the key _`webdriver.gecko.driver`_ would contain the full path to the [GeckoDriver](https://stackoverflow.com/a/47095220/7429447) binary as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\full\\\\path\\\\to\\\\geckodriver.exe&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nUsing Selenium Manager\r\n--------\r\nAs you are using [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.11.0**_ you can remove the following line of code:\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\r\n    \r\nas [Selenium Manager](https://www.selenium.dev/blog/2022/introducing-selenium-manager/) which is now fully integrated with _Selenium_ will download the matching [GeckoDriver](https://stackoverflow.com/a/45510453/7429447) silently in the background and execute the test. \r\n\r\nYour effective code block will be:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.manage().deleteAllCookies();\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.get(&quot;https://www.google.com/&quot;);","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>This error message...</p>\n<pre><code>org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid\n</code></pre>\n<p>...implies that <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> was unable to locate the required <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> in the <em>path</em> mentioned by the key <em><code>webdriver.gecko.driver</code></em> through the <a href=\"https://stackoverflow.com/a/60061951/7429447\"><code>System.setProperty()</code></a> line, as the expectation is the key <em><code>webdriver.gecko.driver</code></em> would contain the full path to the <a href=\"https://stackoverflow.com/a/47095220/7429447\">GeckoDriver</a> binary as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\full\\\\path\\\\to\\\\geckodriver.exe&quot;);\n</code></pre>\n<hr />\n<h2>Using Selenium Manager</h2>\n<p>As you are using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.11.0</strong></em> you can remove the following line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\n</code></pre>\n<p>as <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\">Selenium Manager</a> which is now fully integrated with <em>Selenium</em> will download the matching <a href=\"https://stackoverflow.com/a/45510453/7429447\">GeckoDriver</a> silently in the background and execute the test.</p>\n<p>Your effective code block will be:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n"}],"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691014637,"creation_date":1690982006,"question_id":76820262,"body_markdown":"I get this exception but i dont have geckodriver present in project window. \r\n\r\nhow to resolve? help appreciated thanks.\r\nmy code:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.manage().deleteAllCookies();\r\ndriver.manage().window().maximize();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n```\r\n\r\n\r\nI had geckodriver.exe before, it wasn&#39;t working so tried removing it. now getting this new error.","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>I get this exception but i dont have geckodriver present in project window.</p>\n<p>how to resolve? help appreciated thanks.\nmy code:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n<p>I had geckodriver.exe before, it wasn't working so tried removing it. now getting this new error.</p>\n"},{"tags":["java","maven","spring-data-jpa","backend"],"comments":[{"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"score":0,"creation_date":1691013762,"post_id":76823766,"comment_id":135435075,"body_markdown":"Try @EnableJpaRepositories(&quot;your repo package&quot;) in the main class.","body":"Try @EnableJpaRepositories(&quot;your repo package&quot;) in the main class."},{"owner":{"account_id":27221815,"reputation":3,"user_id":20750941,"display_name":"Daniel Lopes Cardoso"},"score":0,"creation_date":1691014243,"post_id":76823766,"comment_id":135435133,"body_markdown":"It gave me two new Exceptions:\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer \n\nand\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1cf4f579]","body":"It gave me two new Exceptions: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlace&zwnj;&#8203;holderAutoConfigurat&zwnj;&#8203;ion.propertySourcesP&zwnj;&#8203;laceholderConfigurer   and  java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1cf4f579]"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691043123,"post_id":76823766,"comment_id":135437836,"body_markdown":"remove `@Repository` is not relevant because you already have extended from `JpaRepository` also in service class declare a field of `equipeRepository` as `private final`, remove `@ComponentScan` from your main class, Spring Boot automatically scan your packages and create beans if structure of your project meet the requirement(main class is placed in a root package above other packages.).","body":"remove <code>@Repository</code> is not relevant because you already have extended from <code>JpaRepository</code> also in service class declare a field of <code>equipeRepository</code> as <code>private final</code>, remove <code>@ComponentScan</code> from your main class, Spring Boot automatically scan your packages and create beans if structure of your project meet the requirement(main class is placed in a root package above other packages.)."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691067591,"post_id":76823766,"comment_id":135443422,"body_markdown":"and also remove from your maven `javax.persistence` dependency, because you are using spring boot 3.1.2 and it work on `jakarta.persistence` and `javax.validation` the same think on it.","body":"and also remove from your maven <code>javax.persistence</code> dependency, because you are using spring boot 3.1.2 and it work on <code>jakarta.persistence</code> and <code>javax.validation</code> the same think on it."}],"owner":{"account_id":27221815,"reputation":3,"user_id":20750941,"display_name":"Daniel Lopes Cardoso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691013397,"creation_date":1691013397,"question_id":76823766,"body_markdown":"`If I try to use a custom interface that extends JpaRepository the application can&#39;t run. Here&#39;s the error:\r\n\r\n`\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.services.EquipeServices required a bean of type &#39;com.repositories.EquipeRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.repositories.EquipeRepository&#39; in your configuration.`\r\n\r\n\r\n\r\nWhen the repository is called in the &#39;EquipeServices.java&#39; class, everything stops working and the application can&#39;t start. \r\n\r\nHere&#39;s the complete **LOG ERROR**:\r\n\r\n`Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;listaTimes&#39; defined in file [/home/daniel/demo/target/classes/com/controllers/ListaTimes.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;equipeServices&#39; defined in file [/home/daniel/demo/target/classes/com/services/EquipeServices.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.repositories.EquipeRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`\r\n\r\nHere&#39;s the code:\r\n\r\n**DemoApplication.java**\r\n```lang-java\r\npackage com;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.controllers&quot;, &quot;com.services&quot;, &quot;com.repositories&quot;, &quot;com.entities&quot;})\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n**EquipeRepository.java**\r\n```lang-java\r\npackage com.repositories;\r\n\r\nimport com.entities.Equipe;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.UUID;\r\n\r\n@Repository\r\npublic interface EquipeRepository extends JpaRepository&lt;Equipe, UUID&gt;{\r\n\r\n    \r\n}\r\n\r\n```\r\n**EquipeServies.java**\r\n\r\n\r\n```lang-java\r\npackage com.services;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.repositories.EquipeRepository;\r\nimport com.entities.Equipe;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class EquipeServices {\r\n    \r\n    EquipeRepository equipeRepository;\r\n\r\n    public EquipeServices(EquipeRepository repository){\r\n        this.equipeRepository = repository;\r\n    }\r\n\r\n    @Transactional\r\n    public List&lt;Equipe&gt; getAllUsers(){\r\n        return equipeRepository.findAll();\r\n    }\r\n}\r\n```\r\n**pom.xml**\r\n```lang-xml\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.teste&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-bom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2023.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;`\r\n```\r\n\r\n`","title":"Parameter 0 of constructor in com.services required a bean of type &#39;com.repositories.repository&#39; that could not be found","body":"<p>`If I try to use a custom interface that extends JpaRepository the application can't run. Here's the error:</p>\n<p>`</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.services.EquipeServices required a bean of type 'com.repositories.EquipeRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.repositories.EquipeRepository' in your configuration.`</p>\n<p>When the repository is called in the 'EquipeServices.java' class, everything stops working and the application can't start.</p>\n<p>Here's the complete <strong>LOG ERROR</strong>:</p>\n<p><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'listaTimes' defined in file [/home/daniel/demo/target/classes/com/controllers/ListaTimes.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'equipeServices' defined in file [/home/daniel/demo/target/classes/com/services/EquipeServices.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.repositories.EquipeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code></p>\n<p>Here's the code:</p>\n<p><strong>DemoApplication.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.controllers&quot;, &quot;com.services&quot;, &quot;com.repositories&quot;, &quot;com.entities&quot;})\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        \n    }\n}\n</code></pre>\n<p><strong>EquipeRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.repositories;\n\nimport com.entities.Equipe;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.ArrayList;\nimport java.util.UUID;\n\n@Repository\npublic interface EquipeRepository extends JpaRepository&lt;Equipe, UUID&gt;{\n\n    \n}\n\n</code></pre>\n<p><strong>EquipeServies.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.services;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.repositories.EquipeRepository;\nimport com.entities.Equipe;\nimport java.util.List;\n\n@Service\npublic class EquipeServices {\n    \n    EquipeRepository equipeRepository;\n\n    public EquipeServices(EquipeRepository repository){\n        this.equipeRepository = repository;\n    }\n\n    @Transactional\n    public List&lt;Equipe&gt; getAllUsers(){\n        return equipeRepository.findAll();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.teste&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-bom&lt;/artifactId&gt;\n            &lt;version&gt;2023.0.2&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;`\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-6"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687336044,"post_id":76521243,"comment_id":134920962,"body_markdown":"Your security rules don&#39;t make sense. `.requestMatchers(&quot;/**&quot;).permitAll()` allows all access whereas `.anyRequest().authenticated()` needs authentication. The last one is now useless as the first one will always match. Another thing is you need a `FilterRegistrationBean` to prevent the `AuthFilter` be registered as a default filter (which executes before Spring Security).","body":"Your security rules don&#39;t make sense. <code>.requestMatchers(&quot;&#47;**&quot;).permitAll()</code> allows all access whereas <code>.anyRequest().authenticated()</code> needs authentication. The last one is now useless as the first one will always match. Another thing is you need a <code>FilterRegistrationBean</code> to prevent the <code>AuthFilter</code> be registered as a default filter (which executes before Spring Security)."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1687336350,"post_id":76521243,"comment_id":134921044,"body_markdown":"Yep, sorry about the security rules because I cannot public it. The main logic is actually in AuthFilter of which I cannot public it also. Normally it should be called but it didn&#39;t since I migrated the version. So I&#39;m seeking for help if I missed any configuration?","body":"Yep, sorry about the security rules because I cannot public it. The main logic is actually in AuthFilter of which I cannot public it also. Normally it should be called but it didn&#39;t since I migrated the version. So I&#39;m seeking for help if I missed any configuration?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687338447,"post_id":76521243,"comment_id":134921521,"body_markdown":"enable spring security trace logs, and read them it should say exactly what filters it is passing. But without more information or a working running example this is impossible to answer.","body":"enable spring security trace logs, and read them it should say exactly what filters it is passing. But without more information or a working running example this is impossible to answer."}],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687343832,"creation_date":1687343832,"answer_id":76522361,"question_id":76521243,"body_markdown":"The problem might be related to your custom bean name `filterChain` being the same as some other coming from the context. Could you try renaming it?\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebSecurityConfig {\r\n\r\n    final private AuthFilter authFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain myCustomFilterChain(HttpSecurity http) throws Exception {\r\n     \r\n```\r\n","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>The problem might be related to your custom bean name <code>filterChain</code> being the same as some other coming from the context. Could you try renaming it?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@Slf4j\npublic class WebSecurityConfig {\n\n    final private AuthFilter authFilter;\n\n    @Bean\n    public SecurityFilterChain myCustomFilterChain(HttpSecurity http) throws Exception {\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14715869,"reputation":1,"user_id":10627854,"display_name":"Kavitha Hawaldar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691013244,"creation_date":1691013244,"answer_id":76823753,"question_id":76521243,"body_markdown":"Can you please add ```WebSecurityConfig``` in ```org.springframework.boot.autoconfigure.AutoConfiguration.imports``` file which is defined under the resources directory shown in image.\r\n\r\n [directory structure][1]\r\n       \r\n                               \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dNsWd.png","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>Can you please add <code>WebSecurityConfig</code> in <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> file which is defined under the resources directory shown in image.</p>\n<p><a href=\"https://i.stack.imgur.com/dNsWd.png\" rel=\"nofollow noreferrer\">directory structure</a></p>\n"}],"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691013244,"creation_date":1687335017,"question_id":76521243,"body_markdown":"I am migrating from Spring Security 5.7.x to 6.1.0. After fixing all the ```javax -&gt; jakarta``` and remove ```WebSecurityConfigurerAdapter``` and added the security configuration from the dependency. And now it seems like my main project is ignoring the security configuration from dependency.\r\n\r\nThe security configuration from the dependency.\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebSecurityConfig {\r\n\r\n    final private AuthFilter authFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(sessionManager -&gt; sessionManager.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .exceptionHandling(exceptionHandling -&gt; exceptionHandling.authenticationEntryPoint(\r\n                        (request, response, ex) -&gt; {\r\n                    log.error(&quot;Unauthorized request - {}&quot;, ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\r\n                }))\r\n                .authorizeHttpRequests(\r\n                        authorizeHttpRequest -&gt; authorizeHttpRequest\r\n                                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .addFilterBefore(authFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic(Customizer.withDefaults())\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nAuthFilter \r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class AuthFilter extends OncePerRequestFilter {}\r\n```\r\nI&#39;m expecting the AuthFilter will be called first but it didn&#39;t even run to it. Seems like it&#39;s ignored.\r\n\r\nAnyone has any ideas which lead to this? Let me know which part of the configuration you wanted to take a look.","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>I am migrating from Spring Security 5.7.x to 6.1.0. After fixing all the <code>javax -&gt; jakarta</code> and remove <code>WebSecurityConfigurerAdapter</code> and added the security configuration from the dependency. And now it seems like my main project is ignoring the security configuration from dependency.</p>\n<p>The security configuration from the dependency.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@Slf4j\npublic class WebSecurityConfig {\n\n    final private AuthFilter authFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .formLogin(AbstractHttpConfigurer::disable)\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(sessionManager -&gt; sessionManager.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .exceptionHandling(exceptionHandling -&gt; exceptionHandling.authenticationEntryPoint(\n                        (request, response, ex) -&gt; {\n                    log.error(&quot;Unauthorized request - {}&quot;, ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\n                }))\n                .authorizeHttpRequests(\n                        authorizeHttpRequest -&gt; authorizeHttpRequest\n                                .requestMatchers(&quot;/**&quot;).permitAll()\n                                .anyRequest().authenticated())\n                .addFilterBefore(authFilter, UsernamePasswordAuthenticationFilter.class)\n                .httpBasic(Customizer.withDefaults())\n                .build();\n    }\n\n</code></pre>\n<p>AuthFilter</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class AuthFilter extends OncePerRequestFilter {}\n</code></pre>\n<p>I'm expecting the AuthFilter will be called first but it didn't even run to it. Seems like it's ignored.</p>\n<p>Anyone has any ideas which lead to this? Let me know which part of the configuration you wanted to take a look.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1579193745,"post_id":59774375,"comment_id":105692621,"body_markdown":"would i need to do a hashmap for all the values n do an oncomplete listener to the one hashed version? sorry ive not coded in a year n cant remember lol","body":"would i need to do a hashmap for all the values n do an oncomplete listener to the one hashed version? sorry ive not coded in a year n cant remember lol"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1579193854,"post_id":59774375,"comment_id":105692689,"body_markdown":"Please check the duplicate to see how you can solve this by using a `Map`. So you need to put a Map the exact data that you want to add/update and at the end you&#39;ll use a single complete listener.","body":"Please check the duplicate to see how you can solve this by using a <code>Map</code>. So you need to put a Map the exact data that you want to add/update and at the end you&#39;ll use a single complete listener."},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":1,"creation_date":1579193963,"post_id":59774375,"comment_id":105692771,"body_markdown":"yeah i think i remebered just as you marked it as a duplicate haha cheers @AlexMamo","body":"yeah i think i remebered just as you marked it as a duplicate haha cheers @AlexMamo"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1579193757,"answer_count":0,"score":0,"last_activity_date":1691012766,"creation_date":1579193424,"question_id":59774375,"body_markdown":"I currently have lots of string values I upload to Firebase database. I want to add an oncomplete listener to ensure they are uploaded before the user continues. How could I add one listener instead of multiple?\r\n\r\nThis is the code I&#39;m using for the oncomplete listener:\r\n\r\n     reference.child(booking).child(&quot;Date&quot;).setValue(date, new Firebase.CompletionListener() {\r\n    @Override\r\n    public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n        if (firebaseError != null) {\r\n            System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\r\n        } else {\r\n            System.out.println(&quot;Data saved successfully.&quot;);\r\n        }\r\n    }\r\n\r\n     reference.child(booking).child(&quot;Time&quot;).setValue(time, new Firebase.CompletionListener() {\r\n    @Override\r\n    public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n        if (firebaseError != null) {\r\n            System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\r\n        } else {\r\n            System.out.println(&quot;Data saved successfully.&quot;);\r\n        }\r\n    }\r\n","title":"Completion listener for multiple setvalues","body":"<p>I currently have lots of string values I upload to Firebase database. I want to add an oncomplete listener to ensure they are uploaded before the user continues. How could I add one listener instead of multiple?</p>\n<p>This is the code I'm using for the oncomplete listener:</p>\n<pre><code> reference.child(booking).child(&quot;Date&quot;).setValue(date, new Firebase.CompletionListener() {\n@Override\npublic void onComplete(FirebaseError firebaseError, Firebase firebase) {\n    if (firebaseError != null) {\n        System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\n    } else {\n        System.out.println(&quot;Data saved successfully.&quot;);\n    }\n}\n\n reference.child(booking).child(&quot;Time&quot;).setValue(time, new Firebase.CompletionListener() {\n@Override\npublic void onComplete(FirebaseError firebaseError, Firebase firebase) {\n    if (firebaseError != null) {\n        System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\n    } else {\n        System.out.println(&quot;Data saved successfully.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","gwt","legacy"],"owner":{"account_id":22490598,"reputation":1,"user_id":16688378,"display_name":"BluePret8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691012408,"creation_date":1691005170,"question_id":76823028,"body_markdown":"*context: Java; GWT; Maven;\r\n\r\nI have a DTO class that was always implementing an interface called OriginalI and OriginalI is extending IsSerializable. There is NO more code in OriginalI interface.\r\nDTO class is on a module and OriginalI interface is on another. There is no problem with doing clean-install both modules\r\n\r\nI wanted to make some changes to the code so I put DTO class implementing SecondI interface which in turn is extending OriginalI interface. When I do this I CANNOT make clean-install, there is a error which only says that the maven command failed with status code 1. There is no more error message and I even tried with flags -X and -e.\r\n\r\n\r\nWhat could be happening? How can I solve or find/understand the root of the problem?\r\n\r\nThank you.\r\n\r\nI tried putting the flags -X and -e in mvn command to see more detailed error but it says the same (failed with status 1).\r\n\r\nI tried making DTO class NOT implementing nothing at all and it does not work.\r\nI tried making DTO class implementing SecondI which in turn is extending IsSerializable and it does not work.\r\n\r\nUpdate: ok, i cannot even make the DTO class extend another class in any type. This is a restriction hidden somewhere and i&#39;m having trouble finfing it. I saw we use AbstractMojo and goals for some maven plugins but couldn&#39;t pinpoint the exact code that&#39;s causing this. ","title":"Module only generating artifact when DTO implements a certain interface","body":"<p>*context: Java; GWT; Maven;</p>\n<p>I have a DTO class that was always implementing an interface called OriginalI and OriginalI is extending IsSerializable. There is NO more code in OriginalI interface.\nDTO class is on a module and OriginalI interface is on another. There is no problem with doing clean-install both modules</p>\n<p>I wanted to make some changes to the code so I put DTO class implementing SecondI interface which in turn is extending OriginalI interface. When I do this I CANNOT make clean-install, there is a error which only says that the maven command failed with status code 1. There is no more error message and I even tried with flags -X and -e.</p>\n<p>What could be happening? How can I solve or find/understand the root of the problem?</p>\n<p>Thank you.</p>\n<p>I tried putting the flags -X and -e in mvn command to see more detailed error but it says the same (failed with status 1).</p>\n<p>I tried making DTO class NOT implementing nothing at all and it does not work.\nI tried making DTO class implementing SecondI which in turn is extending IsSerializable and it does not work.</p>\n<p>Update: ok, i cannot even make the DTO class extend another class in any type. This is a restriction hidden somewhere and i'm having trouble finfing it. I saw we use AbstractMojo and goals for some maven plugins but couldn't pinpoint the exact code that's causing this.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1468839480,"post_id":38434834,"comment_id":64275325,"body_markdown":"Have you checked this SO -http://stackoverflow.com/questions/21410317/using-gzip-compression-with-spring-boot-mvc-javaconfig-with-restful","body":"Have you checked this SO -<a href=\"http://stackoverflow.com/questions/21410317/using-gzip-compression-with-spring-boot-mvc-javaconfig-with-restful\" title=\"using gzip compression with spring boot mvc javaconfig with restful\">stackoverflow.com/questions/21410317/&hellip;</a>"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1468862281,"post_id":38434834,"comment_id":64290545,"body_markdown":"@aksappy yes i did. I based my solution on answer #2 from that link.","body":"@aksappy yes i did. I based my solution on answer #2 from that link."},{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":0,"creation_date":1471153416,"post_id":38434834,"comment_id":65234377,"body_markdown":"Your request headers have `keep-alive`, which indicate HTTP 1.0, but the referenced solution uses `AbstractHttp11Protocol `.  Maybe you need to be sending HTTP 1.1 requests?","body":"Your request headers have <code>keep-alive</code>, which indicate HTTP 1.0, but the referenced solution uses <code>AbstractHttp11Protocol </code>.  Maybe you need to be sending HTTP 1.1 requests?"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471365220,"post_id":38434834,"comment_id":65312854,"body_markdown":"What server are you using ? Tomcat ? Jetty ? ....","body":"What server are you using ? Tomcat ? Jetty ? ...."},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471418365,"post_id":38434834,"comment_id":65332774,"body_markdown":"@benjamin.d  The code is deployed to AWS tomcat8","body":"@benjamin.d  The code is deployed to AWS tomcat8"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471418432,"post_id":38434834,"comment_id":65332805,"body_markdown":"@heenenee The front end is written in Angular.js. Does it not send http 1.1 request? I&#39;m not familiar with frond end stuff...","body":"@heenenee The front end is written in Angular.js. Does it not send http 1.1 request? I&#39;m not familiar with frond end stuff..."},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471418684,"post_id":38434834,"comment_id":65332943,"body_markdown":"No, your browser will default to http 1.1 unless you have some strange configuration","body":"No, your browser will default to http 1.1 unless you have some strange configuration"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471420030,"post_id":38434834,"comment_id":65333707,"body_markdown":"Could you try to add a custom tomcat customizer, like described https://github.com/spring-projects/spring-boot/issues/2031","body":"Could you try to add a custom tomcat customizer, like described <a href=\"https://github.com/spring-projects/spring-boot/issues/2031\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/2031</a>"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471420204,"post_id":38434834,"comment_id":65333836,"body_markdown":"If you look at response headers from http://stackoverflow.com/ do you see the gzip compression enabled ?","body":"If you look at response headers from <a href=\"http://stackoverflow.com/\">stackoverflow.com</a> do you see the gzip compression enabled ?"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471425118,"post_id":38434834,"comment_id":65336831,"body_markdown":"Are you sure you dont have *server.compression.min-response-size* set to something ridiculous somewhere?","body":"Are you sure you dont have <i>server.compression.min-response-size</i> set to something ridiculous somewhere?"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471425928,"post_id":38434834,"comment_id":65337346,"body_markdown":"You can verify actual properties you get at runtime by debugging line 180 at o.s.b.a.w.ServerProperties","body":"You can verify actual properties you get at runtime by debugging line 180 at o.s.b.a.w.ServerProperties"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471510511,"post_id":38434834,"comment_id":65378445,"body_markdown":"Since all properties are in place I can only suggest more debugging. You can go from *TomcatEmbeddedServletContainerFactory.customizeCompression* to *AbstractHttp11Protocol.configureProcessor* and end up at *AbstractHttp11Processor* around line 1458","body":"Since all properties are in place I can only suggest more debugging. You can go from <i>TomcatEmbeddedServletContainerFactory.customizeCompression</i> to <i>AbstractHttp11Protocol.configureProcessor</i> and end up at <i>AbstractHttp11Processor</i> around line 1458"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471652156,"post_id":38434834,"comment_id":65448138,"body_markdown":"@chimmi It looks like request for static js files never reached `TomcatEmbeddedServletContainerFactory.customizeCompression`. Only dynamic api result (application/json) stopped there. But compression was skipped because somehow contentLength was determined to be zero. see my screen shot update. Why would requests to static files bypass the mentioned code and why would content-length be zero for application/json response I returned? I used ResponseEntity.ok(obj) to build the API response.","body":"@chimmi It looks like request for static js files never reached <code>TomcatEmbeddedServletContainerFactory.customizeCompression</code>. Only dynamic api result (application/json) stopped there. But compression was skipped because somehow contentLength was determined to be zero. see my screen shot update. Why would requests to static files bypass the mentioned code and why would content-length be zero for application/json response I returned? I used ResponseEntity.ok(obj) to build the API response."},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471736090,"post_id":38434834,"comment_id":65468661,"body_markdown":"@chimmi your suggestions took me the furthest. I can&#39;t award you the 50 points because you didn&#39;t create an answer. Could you please create an answer instead of commenting on my question directly so that I can give you 50 points? Thanks.","body":"@chimmi your suggestions took me the furthest. I can&#39;t award you the 50 points because you didn&#39;t create an answer. Could you please create an answer instead of commenting on my question directly so that I can give you 50 points? Thanks."},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471847847,"post_id":38434834,"comment_id":65493500,"body_markdown":"I will not do that since what i said is not an answer in any way. Instead let&#39;s try some more to tackle this thing. I tried to figure out where this 0 comes from, and it looks like there are two possibilities. 1. *java.io.File#length*  returns 0 when path is invalid. 2. Maybe some implementations of *java.net.URLConnection#getContentLength* can return 0 sometimes (there are a lot of them and i dont know which one is used). Please take a look at what is going on at *o.s.c.i.AbstractFileResolvingResource#contentLength*","body":"I will not do that since what i said is not an answer in any way. Instead let&#39;s try some more to tackle this thing. I tried to figure out where this 0 comes from, and it looks like there are two possibilities. 1. <i>java.io.File#length</i>  returns 0 when path is invalid. 2. Maybe some implementations of <i>java.net.URLConnection#getContentLength</i> can return 0 sometimes (there are a lot of them and i dont know which one is used). Please take a look at what is going on at <i>o.s.c.i.AbstractFileResolvingResource#contentLength</i>"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471849613,"post_id":38434834,"comment_id":65494378,"body_markdown":"Btw it is starting to feel like resources location misconfiguration.","body":"Btw it is starting to feel like resources location misconfiguration."}],"answers":[{"tags":[],"owner":{"account_id":7182597,"reputation":327,"user_id":5485919,"display_name":"Patryk Dobrzyński"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471379297,"creation_date":1471379297,"answer_id":38983902,"question_id":38434834,"body_markdown":"If you use non-embedded Tomcat you should add this to your server.xml:\r\n\r\n    compression=&quot;on&quot; \r\n    compressionMinSize=&quot;2048&quot; \r\n    compressableMimeType=&quot;text/html,text/xml,application/javascript&quot;\r\n\r\n[More tomcat 8 config variables][1]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Standard_Implementation","title":"Spring boot response compression not working","body":"<p>If you use non-embedded Tomcat you should add this to your server.xml:</p>\n\n<pre><code>compression=\"on\" \ncompressionMinSize=\"2048\" \ncompressableMimeType=\"text/html,text/xml,application/javascript\"\n</code></pre>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Standard_Implementation\" rel=\"nofollow\">More tomcat 8 config variables</a></p>\n"},{"tags":[],"owner":{"account_id":7182597,"reputation":327,"user_id":5485919,"display_name":"Patryk Dobrzyński"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471430100,"creation_date":1471428735,"answer_id":38993750,"question_id":38434834,"body_markdown":"Maybe the problem is with YAML configuration.\r\nIf you use ‘Starters’ SnakeYAML will be automatically provided via `spring-boot-starter`. If you don&#39;t - you must use properties convention in application.properties.\r\n[Using YAML instead of Properties][1]\r\n\r\n**EDIT:**\r\nTry with this in your yml file:\r\n\r\n    server:\r\n          compression:\r\n            enabled: true\r\n            mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json\r\n            min-response-size: 1024\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-external-config-yaml","title":"Spring boot response compression not working","body":"<p>Maybe the problem is with YAML configuration.\nIf you use ‘Starters’ SnakeYAML will be automatically provided via <code>spring-boot-starter</code>. If you don't - you must use properties convention in application.properties.\n<a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-external-config-yaml\" rel=\"noreferrer\">Using YAML instead of Properties</a></p>\n\n<p><strong>EDIT:</strong>\nTry with this in your yml file:</p>\n\n<pre><code>server:\n      compression:\n        enabled: true\n        mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json\n        min-response-size: 1024\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5695064,"reputation":14873,"user_id":4501804,"display_name":"abaghel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471549407,"creation_date":1471549407,"answer_id":39026340,"question_id":38434834,"body_markdown":"Did you try with different browsers? That could be because of antivirus which is unzipping the file as mentioned in the SO post https://stackoverflow.com/questions/33563312/spring-boot-http-response-compression-doesnt-work-for-some-user-agents ","title":"Spring boot response compression not working","body":"<p>Did you try with different browsers? That could be because of antivirus which is unzipping the file as mentioned in the SO post <a href=\"https://stackoverflow.com/questions/33563312/spring-boot-http-response-compression-doesnt-work-for-some-user-agents\">Spring boot http response compression doesn&#39;t work for some User-Agents</a> </p>\n"},{"tags":[],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471555350,"creation_date":1471555350,"answer_id":39027711,"question_id":38434834,"body_markdown":"Never had much luck with the Spring Boot compression.  A simple solution could be to use a third party library like ziplet.\r\n\r\nAdd to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ziplet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ziplet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        \t&lt;exclusion&gt;\r\n        \t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd to your @Config class :\r\n\r\n\t@Bean\r\n\tpublic Filter compressingFilter() {\r\n\t    return new CompressingFilter();\r\n\t}","title":"Spring boot response compression not working","body":"<p>Never had much luck with the Spring Boot compression.  A simple solution could be to use a third party library like ziplet.</p>\n\n<p>Add to pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ziplet&lt;/groupId&gt;\n    &lt;artifactId&gt;ziplet&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Add to your @Config class :</p>\n\n<pre><code>@Bean\npublic Filter compressingFilter() {\n    return new CompressingFilter();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10685747,"reputation":93,"user_id":7866352,"display_name":"s.a.hosseini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534752383,"creation_date":1534751931,"answer_id":51926368,"question_id":38434834,"body_markdown":"you have to enable ssl \r\nlike http2 mode, response compression (Content-Encoding) can work, when ssl mode is configured.\r\n[![Content-Encoding:gzip][1]][1]\r\n\r\nresponse compression\r\n----------\r\n\r\n  [1]: https://i.stack.imgur.com/D6CYi.png\r\n\r\napplication.yml\r\n\r\n \r\n\r\n    server:\r\n      compression:\r\n         enabled: true\r\n         mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\r\n         min-response-size: 1024\r\n      ssl:\r\n       enabled: true\r\n       key-store: keystore.p12\r\n       key-store-password: pass\r\n       keyStoreType: PKCS12\r\n       keyAlias: name\r\n       \r\n       \r\n    spring:\r\n      resources:   \r\n          chain:\r\n            gzipped: true\r\n\r\n","title":"Spring boot response compression not working","body":"<p>you have to enable ssl \nlike http2 mode, response compression (Content-Encoding) can work, when ssl mode is configured.\n<a href=\"https://i.stack.imgur.com/D6CYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6CYi.png\" alt=\"Content-Encoding:gzip\"></a></p>\n\n<h2>response compression</h2>\n\n<p>application.yml</p>\n\n<pre><code>server:\n  compression:\n     enabled: true\n     mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\n     min-response-size: 1024\n  ssl:\n   enabled: true\n   key-store: keystore.p12\n   key-store-password: pass\n   keyStoreType: PKCS12\n   keyAlias: name\n\n\nspring:\n  resources:   \n      chain:\n        gzipped: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8625756,"reputation":405,"user_id":6459046,"display_name":"Thomas Mwania"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645692297,"creation_date":1645692297,"answer_id":71249257,"question_id":38434834,"body_markdown":"I was having the same issue on production. My configuration file is as follows:\r\n\r\n    server:\r\n        port: 8080\r\n        compression:\r\n            enabled: true\r\n            mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\r\n            min-response-size: 1024\r\nSince i was not using the Embedded tomcat, I had to enable compression on the Tomcat itself by editing the following section of the `server.xml` file:\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; compression=&quot;on&quot;/&gt;\r\n\r\nMake sure that this section has the `compression=&quot;on&quot;` part and the issue should be resolved","title":"Spring boot response compression not working","body":"<p>I was having the same issue on production. My configuration file is as follows:</p>\n<pre><code>server:\n    port: 8080\n    compression:\n        enabled: true\n        mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\n        min-response-size: 1024\n</code></pre>\n<p>Since i was not using the Embedded tomcat, I had to enable compression on the Tomcat itself by editing the following section of the <code>server.xml</code> file:</p>\n<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot; compression=&quot;on&quot;/&gt;\n</code></pre>\n<p>Make sure that this section has the <code>compression=&quot;on&quot;</code> part and the issue should be resolved</p>\n"},{"tags":[],"owner":{"account_id":4154011,"reputation":826,"user_id":6113718,"accept_rate":75,"display_name":"Michiel Haisma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648556787,"creation_date":1648556787,"answer_id":71662001,"question_id":38434834,"body_markdown":"When upgrading to Spring Boot 2.6 I had to add the following to my `application.yml` to allow static resources to be compressed:\r\n\r\n```\r\nspring:\r\n  web:\r\n    resources:\r\n      chain:\r\n        compressed: true\r\n```\r\n\r\nThe `server.compression` settings seem not to impact this.","title":"Spring boot response compression not working","body":"<p>When upgrading to Spring Boot 2.6 I had to add the following to my <code>application.yml</code> to allow static resources to be compressed:</p>\n<pre><code>spring:\n  web:\n    resources:\n      chain:\n        compressed: true\n</code></pre>\n<p>The <code>server.compression</code> settings seem not to impact this.</p>\n"},{"tags":[],"owner":{"account_id":146322,"reputation":392,"user_id":356700,"display_name":"johncurrier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691011101,"creation_date":1690996856,"answer_id":76822203,"question_id":38434834,"body_markdown":"I ran into the same issue and spent many hours stepping through Apache and Spring code around this. I finally tracked it down to `org.apache.coyote.CompressionConfig::useCompression()` and found something surprising. If you&#39;re generating ETags and they&#39;re strong (that is, they don&#39;t start with W/) then compression is disabled.\r\n\r\nI&#39;m using Spring&#39;s `ShallowEtagHeaderFilter`, which. by default, generates strong ETags. My fix was to change that via `setWriteWeakETag(true)`.","title":"Spring boot response compression not working","body":"<p>I ran into the same issue and spent many hours stepping through Apache and Spring code around this. I finally tracked it down to <code>org.apache.coyote.CompressionConfig::useCompression()</code> and found something surprising. If you're generating ETags and they're strong (that is, they don't start with W/) then compression is disabled.</p>\n<p>I'm using Spring's <code>ShallowEtagHeaderFilter</code>, which. by default, generates strong ETags. My fix was to change that via <code>setWriteWeakETag(true)</code>.</p>\n"}],"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22672,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"answer_count":8,"score":28,"last_activity_date":1691011101,"creation_date":1468839064,"question_id":38434834,"body_markdown":"I have some javascript bundled file that is pretty big, ~1MB.\r\nI&#39;m trying to turn on response compression with the following application properties in my yml file:\r\n\r\n    server.compression.enabled: true\r\n    server.compression.mime-types: application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\r\n\r\nBut it doesn&#39;t work. No compression is happening. \r\n\r\nRequest headers:\r\n\r\n    Connection: keep-alive\r\n    Pragma: no-cache\r\n    Cache-Control: no-cache\r\n    User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36\r\n    Accept: */*\r\n    Accept-Encoding: gzip, deflate, sdch, br\r\n\r\nResponse headers\r\n\r\n    Cache-Control:no-cache, no-store, max-age=0, must-revalidate\r\n    Connection:keep-alive\r\n    Content-Length:842821\r\n    Content-Type:application/javascript;charset=UTF-8\r\n\r\nThere&#39;s no content encoding header in the response.\r\n\r\nI&#39;m using spring boot version 1.3.5.RELEASE\r\n\r\nWhat am I missing?\r\n\r\n=== EDIT 4 ===\r\nI was planning to create a stand alone app to investigate further why content compression properties weren&#39;t working.\r\nBut all of sudden it started working and I haven&#39;t changed any thing configuration-wise, not POM file change, not application.yml file change. So I don&#39;t know what has changed that made it working...\r\n\r\n**===EDIT 3===**\r\nfollow @chimmi&#39;s suggestions further. I&#39;ve put break points in the suggested places. It looks like requests to static resources (js files) never stopped at those break points. Only rest API requests do. And for those request, the content-length was zero for some reason which causes the content compression to be skipped.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**===EDIT 2===**\r\nI&#39;ve put a break point at line 180 of o.s.b.a.w.ServerProperties thanks to @chimmi&#39;s suggestion and it shows that all the properties are set but somehow the server doesn&#39;t honor the setting... :(\r\n\r\n[![Printing the Compression object at o.s.b.a.w.ServerProperties line 180 ][2]][2]\r\n\r\n\r\n**===EDIT 1===**\r\n\r\nnot sure if it matters, but I&#39;m pasting my application main and configuration code here:\r\n\r\nApplication.java:\r\n\r\n    @SpringBootApplication\r\n    public class TuangouApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSpringApplication.run(TuangouApplication.class, args);\r\n    \t}\r\n    \r\n    \t// this is for WAR file deployment\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        \treturn application.sources(TuangouApplication.class);\r\n        }\r\n    \t\r\n        @Bean\r\n        public javax.validation.Validator localValidatorFactoryBean() {\r\n           return new LocalValidatorFactoryBean();\r\n        }\r\n    }\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    public class TuangouConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t// @formatter:off\t\r\n    \t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/&quot;, &quot;/login**&quot;).permitAll()\r\n    \t\t\t.and().antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll()\r\n    \t\t\t.and().exceptionHandling().authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/&quot;))\r\n    \t\t\t.and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error&quot;).permitAll()\r\n    \t\t\t.and().logout().logoutSuccessUrl(&quot;/&quot;).permitAll()\r\n    \t\t\t.and().csrf().csrfTokenRepository(csrfTokenRepository())\r\n    \t\t\t.and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\r\n    \t\t\t.headers().defaultsDisabled().cacheControl();\r\n    \t\t// @formatter:on\r\n    \t}\r\n    \r\n    \t@Order(Ordered.HIGHEST_PRECEDENCE)\r\n    \t@Configuration\r\n    \t@EnableGlobalMethodSecurity(prePostEnabled=true)\r\n    \tprotected static class AuthenticationSecurity extends GlobalAuthenticationConfigurerAdapter {\r\n    \t\t\r\n            @Override\r\n            public void init(AuthenticationManagerBuilder auth) throws Exception {\r\n              auth.userDetailsService(userDetailsService()).passwordEncoder(new BCryptPasswordEncoder());\r\n          \t}\r\n    \r\n            @Bean\r\n            public UserDetailsService userDetailsService() {\r\n                return new DatabaseUserServiceDetails();\r\n            }\r\n    \t}\r\n        \r\n    \tprivate Filter csrfHeaderFilter() {\r\n    \t\treturn new OncePerRequestFilter() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void doFilterInternal(HttpServletRequest request,\r\n    \t\t\t\t\tHttpServletResponse response, FilterChain filterChain)\r\n    \t\t\t\t\t\t\tthrows ServletException, IOException {\r\n    \t\t\t\tCsrfToken csrf = (CsrfToken) request\r\n    \t\t\t\t\t\t.getAttribute(CsrfToken.class.getName());\r\n    \t\t\t\tif (csrf != null) {\r\n    \t\t\t\t\tCookie cookie = WebUtils.getCookie(request, &quot;XSRF-TOKEN&quot;);\r\n    \t\t\t\t\tString token = csrf.getToken();\r\n    \t\t\t\t\tif (cookie == null\r\n    \t\t\t\t\t\t\t|| token != null &amp;&amp; !token.equals(cookie.getValue())) {\r\n    \t\t\t\t\t\tcookie = new Cookie(&quot;XSRF-TOKEN&quot;, token);\r\n    \t\t\t\t\t\tcookie.setPath(&quot;/&quot;);\r\n    \t\t\t\t\t\tresponse.addCookie(cookie);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tfilterChain.doFilter(request, response);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate CsrfTokenRepository csrfTokenRepository() {\r\n    \t\tHttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n    \t\trepository.setHeaderName(&quot;X-XSRF-TOKEN&quot;);\r\n    \t\treturn repository;\r\n    \t}\r\n    }\r\n\r\nResource server config:\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter{\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TokenStore tokenStore;\r\n    \r\n    \t@Override\r\n    \tpublic void configure(ResourceServerSecurityConfigurer resources)\r\n    \t\t\tthrows Exception {\r\n    \t\tresources.tokenStore(tokenStore);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\r\n    \t\t// @formatter:off\r\n    \t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\r\n    \t\t// @formatter:on\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7oBeh.png\r\n  [2]: http://i.stack.imgur.com/zRUZU.png","title":"Spring boot response compression not working","body":"<p>I have some javascript bundled file that is pretty big, ~1MB.\nI'm trying to turn on response compression with the following application properties in my yml file:</p>\n\n<pre><code>server.compression.enabled: true\nserver.compression.mime-types: application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\n</code></pre>\n\n<p>But it doesn't work. No compression is happening. </p>\n\n<p>Request headers:</p>\n\n<pre><code>Connection: keep-alive\nPragma: no-cache\nCache-Control: no-cache\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36\nAccept: */*\nAccept-Encoding: gzip, deflate, sdch, br\n</code></pre>\n\n<p>Response headers</p>\n\n<pre><code>Cache-Control:no-cache, no-store, max-age=0, must-revalidate\nConnection:keep-alive\nContent-Length:842821\nContent-Type:application/javascript;charset=UTF-8\n</code></pre>\n\n<p>There's no content encoding header in the response.</p>\n\n<p>I'm using spring boot version 1.3.5.RELEASE</p>\n\n<p>What am I missing?</p>\n\n<p>=== EDIT 4 ===\nI was planning to create a stand alone app to investigate further why content compression properties weren't working.\nBut all of sudden it started working and I haven't changed any thing configuration-wise, not POM file change, not application.yml file change. So I don't know what has changed that made it working...</p>\n\n<p><strong>===EDIT 3===</strong>\nfollow @chimmi's suggestions further. I've put break points in the suggested places. It looks like requests to static resources (js files) never stopped at those break points. Only rest API requests do. And for those request, the content-length was zero for some reason which causes the content compression to be skipped.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7oBeh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7oBeh.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>===EDIT 2===</strong>\nI've put a break point at line 180 of o.s.b.a.w.ServerProperties thanks to @chimmi's suggestion and it shows that all the properties are set but somehow the server doesn't honor the setting... :(</p>\n\n<p><a href=\"https://i.stack.imgur.com/zRUZU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zRUZU.png\" alt=\"Printing the Compression object at o.s.b.a.w.ServerProperties line 180 \"></a></p>\n\n<p><strong>===EDIT 1===</strong></p>\n\n<p>not sure if it matters, but I'm pasting my application main and configuration code here:</p>\n\n<p>Application.java:</p>\n\n<pre><code>@SpringBootApplication\npublic class TuangouApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(TuangouApplication.class, args);\n    }\n\n    // this is for WAR file deployment\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(TuangouApplication.class);\n    }\n\n    @Bean\n    public javax.validation.Validator localValidatorFactoryBean() {\n       return new LocalValidatorFactoryBean();\n    }\n}\n</code></pre>\n\n<p>Configuration:</p>\n\n<pre><code>@Configuration\npublic class TuangouConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off   \n        http.antMatcher(\"/**\").authorizeRequests().antMatchers(\"/\", \"/login**\").permitAll()\n            .and().antMatcher(\"/**\").authorizeRequests().antMatchers(\"/api/**\").permitAll()\n            .and().exceptionHandling().authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(\"/\"))\n            .and().formLogin().loginPage(\"/login\").failureUrl(\"/login?error\").permitAll()\n            .and().logout().logoutSuccessUrl(\"/\").permitAll()\n            .and().csrf().csrfTokenRepository(csrfTokenRepository())\n            .and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\n            .headers().defaultsDisabled().cacheControl();\n        // @formatter:on\n    }\n\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    @Configuration\n    @EnableGlobalMethodSecurity(prePostEnabled=true)\n    protected static class AuthenticationSecurity extends GlobalAuthenticationConfigurerAdapter {\n\n        @Override\n        public void init(AuthenticationManagerBuilder auth) throws Exception {\n          auth.userDetailsService(userDetailsService()).passwordEncoder(new BCryptPasswordEncoder());\n        }\n\n        @Bean\n        public UserDetailsService userDetailsService() {\n            return new DatabaseUserServiceDetails();\n        }\n    }\n\n    private Filter csrfHeaderFilter() {\n        return new OncePerRequestFilter() {\n            @Override\n            protected void doFilterInternal(HttpServletRequest request,\n                    HttpServletResponse response, FilterChain filterChain)\n                            throws ServletException, IOException {\n                CsrfToken csrf = (CsrfToken) request\n                        .getAttribute(CsrfToken.class.getName());\n                if (csrf != null) {\n                    Cookie cookie = WebUtils.getCookie(request, \"XSRF-TOKEN\");\n                    String token = csrf.getToken();\n                    if (cookie == null\n                            || token != null &amp;&amp; !token.equals(cookie.getValue())) {\n                        cookie = new Cookie(\"XSRF-TOKEN\", token);\n                        cookie.setPath(\"/\");\n                        response.addCookie(cookie);\n                    }\n                }\n                filterChain.doFilter(request, response);\n            }\n        };\n    }\n\n    private CsrfTokenRepository csrfTokenRepository() {\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(\"X-XSRF-TOKEN\");\n        return repository;\n    }\n}\n</code></pre>\n\n<p>Resource server config:</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter{\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources)\n            throws Exception {\n        resources.tokenStore(tokenStore);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.antMatcher(\"/**\").authorizeRequests().antMatchers(\"/api/**\").permitAll();\n        // @formatter:on\n    }\n}\n</code></pre>\n"},{"tags":["java","android","security","aes"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1691008806,"post_id":76823265,"comment_id":135434254,"body_markdown":"In general hard coded keys are bad, but it depends on what you do with the keys. AES can be used of deobfuscation of resources or you can use it to generate a MAC. So you should track where the key is used and what data is en- or decrypted with it.","body":"In general hard coded keys are bad, but it depends on what you do with the keys. AES can be used of deobfuscation of resources or you can use it to generate a MAC. So you should track where the key is used and what data is en- or decrypted with it."},{"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"score":0,"creation_date":1691009395,"post_id":76823265,"comment_id":135434365,"body_markdown":"@Robert please check now","body":"@Robert please check now"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691021061,"post_id":76823265,"comment_id":135435785,"body_markdown":"It certainly is now, because you leaked it. This is what keystores are for.","body":"It certainly is now, because you leaked it. This is what keystores are for."},{"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"score":0,"creation_date":1691046863,"post_id":76823265,"comment_id":135438653,"body_markdown":"@user207421 hımm, i confused now. According to the answer of Andreas Lundgren ,it is not. When ı read the java code, i think it is used in AES but not sure because of i am not a java expert.Moreover, it became me suspicious that why they used $111.111$ instead of using random key such as $A14#e%...$","body":"@user207421 hımm, i confused now. According to the answer of Andreas Lundgren ,it is not. When ı read the java code, i think it is used in AES but not sure because of i am not a java expert.Moreover, it became me suspicious that why they used $111.111$ instead of using random key such as $A14#e%...$"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691011063,"creation_date":1691009475,"answer_id":76823430,"question_id":76823265,"body_markdown":"ASE (Advanced Encryption Standard) is a symmetric cipher, that is there is only one key and that is supposed to be secret. It&#39;s used both for encryption and decryption. A third party that obtains your key can thus decipher your messages. **For that reason, yes, it&#39;s a vulnerability if leaked.**\r\n\r\nThis should never be stored as code in any central cvs, only is dedicated secret storages. In practise though, **before you raise a red alert**, it could be that this specific key is used for some test environment or local development, and in reality causes no harm if leaked. It&#39;s not uncommon although still bad practise because of false positive that make searches like yours (or similar provided by github, gitlab, etc) hard to use and trust. ","title":"Is the following AES key a vulnerability?","body":"<p>ASE (Advanced Encryption Standard) is a symmetric cipher, that is there is only one key and that is supposed to be secret. It's used both for encryption and decryption. A third party that obtains your key can thus decipher your messages. <strong>For that reason, yes, it's a vulnerability if leaked.</strong></p>\n<p>This should never be stored as code in any central cvs, only is dedicated secret storages. In practise though, <strong>before you raise a red alert</strong>, it could be that this specific key is used for some test environment or local development, and in reality causes no harm if leaked. It's not uncommon although still bad practise because of false positive that make searches like yours (or similar provided by github, gitlab, etc) hard to use and trust.</p>\n"}],"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691011063,"creation_date":1691007762,"question_id":76823265,"body_markdown":"I am searching the source code of an application. I wanted to check whether there is any hardcoded key inside in it,so I have searched for keyword. I found the followings:\r\n\r\n\r\n    package com.igen.configlib.constant;\r\n    public class Constant{\r\n        public static final String AES_KEY=&quot;1111111111111111&quot;;\r\n        public static final String AES_KEY_PRE=&quot;&quot;214028&quot;;\r\n        public static final String AES_VECTOR=&quot;1111111111111111&quot;;\r\n        ...\r\n        \r\n    }\r\n\r\n\r\nCan the foregoing information be seen as vulnerability such as hardcoded key vulnerability ,or it is something irrelevant  ? \r\n\r\nI am new in mobile and java, so can you explain what do they mean\r\n\r\nThey are used in:\r\n\r\n    .....\r\n\r\n    public static byte[] encrypt4CBC128ByDeviceSN(String str, String str2){\r\n        String formatKeyAndVector=formayKeyAndVector(str2);\r\n        return encrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\r\n    }\r\n    public static byte[] encrypt4CBC128(String str){\r\n        return encrypt4CBC128(str,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\r\n    }\r\n\r\n    ....\r\n\r\n     public static byte[] decrypt4CBC128ByDeviceSN(byte[] bArr, String str){\r\n        String formatKeyAndVector=formayKeyAndVector(str);\r\n        return decrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\r\n    }\r\n    public static byte[] decrypt4CBC128(byte[] bArr){\r\n        return decrypt4CBC128(bArr,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\r\n    }\r\n\r\n    ....","title":"Is the following AES key a vulnerability?","body":"<p>I am searching the source code of an application. I wanted to check whether there is any hardcoded key inside in it,so I have searched for keyword. I found the followings:</p>\n<pre><code>package com.igen.configlib.constant;\npublic class Constant{\n    public static final String AES_KEY=&quot;1111111111111111&quot;;\n    public static final String AES_KEY_PRE=&quot;&quot;214028&quot;;\n    public static final String AES_VECTOR=&quot;1111111111111111&quot;;\n    ...\n    \n}\n</code></pre>\n<p>Can the foregoing information be seen as vulnerability such as hardcoded key vulnerability ,or it is something irrelevant  ?</p>\n<p>I am new in mobile and java, so can you explain what do they mean</p>\n<p>They are used in:</p>\n<pre><code>.....\n\npublic static byte[] encrypt4CBC128ByDeviceSN(String str, String str2){\n    String formatKeyAndVector=formayKeyAndVector(str2);\n    return encrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\n}\npublic static byte[] encrypt4CBC128(String str){\n    return encrypt4CBC128(str,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\n}\n\n....\n\n public static byte[] decrypt4CBC128ByDeviceSN(byte[] bArr, String str){\n    String formatKeyAndVector=formayKeyAndVector(str);\n    return decrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\n}\npublic static byte[] decrypt4CBC128(byte[] bArr){\n    return decrypt4CBC128(bArr,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\n}\n\n....\n</code></pre>\n"},{"tags":["java","regex","imagej"],"comments":[{"owner":{"account_id":7820671,"reputation":1041,"user_id":6551213,"display_name":"Uberhumus"},"score":0,"creation_date":1691007189,"post_id":76823192,"comment_id":135433966,"body_markdown":"The example digits differ only in the &quot;1&quot; or &quot;0&quot; after the &quot;d&quot;. Is that how it is supposed to look like?","body":"The example digits differ only in the &quot;1&quot; or &quot;0&quot; after the &quot;d&quot;. Is that how it is supposed to look like?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691007328,"post_id":76823192,"comment_id":135433988,"body_markdown":"Can there be multiple zeroes or only one between the B and the &quot;well&quot; number?","body":"Can there be multiple zeroes or only one between the B and the &quot;well&quot; number?"},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691007353,"post_id":76823192,"comment_id":135433991,"body_markdown":"Yup, d0 and d1 are two different color channels of the same tissue sample, I want to stack the two together.","body":"Yup, d0 and d1 are two different color channels of the same tissue sample, I want to stack the two together."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691007384,"post_id":76823192,"comment_id":135433998,"body_markdown":"@DavidConrad Only one zero.","body":"@DavidConrad Only one zero."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691007672,"post_id":76823192,"comment_id":135434056,"body_markdown":"In the case of &quot;B11f&quot; then the well number is 11? If this were a Java regex I would just add &quot;0?&quot; after the B, but it seems it is using a shell-style regular expression.","body":"In the case of &quot;B11f&quot; then the well number is 11? If this were a Java regex I would just add &quot;0?&quot; after the B, but it seems it is using a shell-style regular expression."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691007776,"post_id":76823192,"comment_id":135434075,"body_markdown":"The current filename only contains one regex syntax, the dot-character.  So, escape that character, and replace the _0_ in the _B01_ with a `\\d`.  The pattern would be, `aSMA neut_Plate_D_p00_0_B\\d1f00d1\\.TIF`.  Would this be a solution; it will match a `\\d` with any digit, 0 through 9.","body":"The current filename only contains one regex syntax, the dot-character.  So, escape that character, and replace the <i>0</i> in the <i>B01</i> with a <code>\\d</code>.  The pattern would be, <code>aSMA neut_Plate_D_p00_0_B\\d1f00d1\\.TIF</code>.  Would this be a solution; it will match a <code>\\d</code> with any digit, 0 through 9."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691008003,"post_id":76823192,"comment_id":135434119,"body_markdown":"It would need to match all integers up through 12 at the moment. This is what would need to be recognized:\n01, 02, ..., 10, 11, 12","body":"It would need to match all integers up through 12 at the moment. This is what would need to be recognized: 01, 02, ..., 10, 11, 12"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008018,"post_id":76823192,"comment_id":135434122,"body_markdown":"@Reilas That would match completely different well numbers, but also, look at the beginning of the filename. It starts with `*/`. This looks like a glob syntax for the shell, not a Java regex.","body":"@Reilas That would match completely different well numbers, but also, look at the beginning of the filename. It starts with <code>*&#47;</code>. This looks like a glob syntax for the shell, not a Java regex."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008144,"post_id":76823192,"comment_id":135434152,"body_markdown":"What regex syntax does `open` take? Is that your method, or part of a library you&#39;re using?","body":"What regex syntax does <code>open</code> take? Is that your method, or part of a library you&#39;re using?"},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691008170,"post_id":76823192,"comment_id":135434159,"body_markdown":"Honestly not sure, it&#39;s part of the ImageJ Macro language.","body":"Honestly not sure, it&#39;s part of the ImageJ Macro language."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008787,"post_id":76823192,"comment_id":135434246,"body_markdown":"If it&#39;s what I&#39;m looking at, I wonder if it would make sense to call [`getName`](https://imagej.nih.gov/ij/developer/api/ij/ij/io/Opener.html#getName(java.lang.String)) on both `&quot;...B0&quot; + i + &quot;f...&quot;` and on `&quot;...B&quot; + i + &quot;f...&quot;` and use whichever one returns successfully? I&#39;m not sure.","body":"If it&#39;s what I&#39;m looking at, I wonder if it would make sense to call <a href=\"https://imagej.nih.gov/ij/developer/api/ij/ij/io/Opener.html#getName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getName</code></a> on both <code>&quot;...B0&quot; + i + &quot;f...&quot;</code> and on <code>&quot;...B&quot; + i + &quot;f...&quot;</code> and use whichever one returns successfully? I&#39;m not sure."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691010402,"post_id":76823192,"comment_id":135434576,"body_markdown":"It looks like the _ImageJ_ syntax includes a string.matches function.  I imagine you can use that to check the filename.","body":"It looks like the <i>ImageJ</i> syntax includes a string.matches function.  I imagine you can use that to check the filename."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691010853,"post_id":76823192,"comment_id":135434653,"body_markdown":"I found a workaround using an if/else statement; basically, if ```i``` is below 10, the expression is ```aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF```, else it&#39;s ```aSMA_neut_Plate_D_p00_0_B&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF```","body":"I found a workaround using an if/else statement; basically, if <code>i</code> is below 10, the expression is <code>aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF</code>, else it&#39;s <code>aSMA_neut_Plate_D_p00_0_B&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF</code>"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691010920,"creation_date":1691010920,"answer_id":76823585,"question_id":76823192,"body_markdown":"I&#39;m not sure if it&#39;s understood the question right, even after all the comments I find it a bit confusing. \r\n\r\nMaybe you need something like this? Here I added a question mark to the 0 to make it optional. This would also match `011` but not `001`. But maybe that is OK, and 100 files is a maximum for you.\r\n`open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0?&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;);`\r\n\r\nYou can also produce an exact string to match, using `String.format(&quot;%02d&quot;, i)`, looking like this:\r\n`open(String.format(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B%02df0%dd0.TIF&quot;, i, p));`\r\n","title":"Regex to recognize integers with 0 before them in Java","body":"<p>I'm not sure if it's understood the question right, even after all the comments I find it a bit confusing.</p>\n<p>Maybe you need something like this? Here I added a question mark to the 0 to make it optional. This would also match <code>011</code> but not <code>001</code>. But maybe that is OK, and 100 files is a maximum for you.\n<code>open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0?&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;);</code></p>\n<p>You can also produce an exact string to match, using <code>String.format(&quot;%02d&quot;, i)</code>, looking like this:\n<code>open(String.format(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B%02df0%dd0.TIF&quot;, i, p));</code></p>\n"}],"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691010920,"creation_date":1691006923,"question_id":76823192,"body_markdown":"I&#39;m working on a macro in ImageJ that will loop through a series of images with a standard format and merge them together as two different channels. I have the macro written, but I need it to be able to accept different formats of integers as part of the filenames. \r\n\r\nHere&#39;s the filename format.\r\n\r\nImage 1: aSMA neut_Plate_D_p00_0_B01f00d0.TIF\r\n\r\nImage 2: aSMA neut_Plate_D_p00_0_B01f00d1.TIF\r\n\r\nB01 is the ID for the &quot;well&quot; that the tissue corresponds to. I need a script that can accept &quot;aSMA neut_Plate_D_p00_0_B01f00d1.TIF&quot; and &quot;aSMA neut_Plate_D_p00_0_B11f00d1.TIF&quot; regardless of having the &quot;0&quot; in front of the digit.\r\n\r\nHere&#39;s the code so far. The directory setting is something I&#39;m still working on.\r\n```\r\n// Get directory of images\r\n//inDir = getDirectory(&quot;*\\aSMA neut.2022-12-05-22-40-09&quot;)\r\n\r\n// Set output directory for merged images\r\n//outDir = getDirectory(&quot;&quot;)\r\n\r\n// For loop to go through all images\r\n\r\nvar well=9;\r\nvar image=5;\r\n\r\nfor (i = 1; i &lt;= well; ++i) {\r\n\tfor (p = 0; p &lt;= image; ++p) {\r\n\t\topen(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\r\n\t\timage1 = getTitle;\r\n\t\topen(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d1.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\r\n\t\timage2 = getTitle;\r\n\r\n\t\trun(&quot;Merge Channels...&quot;, &quot;c1=&quot; + image1 + &quot; c2=&quot; + image2 + &quot; create keep&quot;);\r\n\t\tsaveAs(&quot;tif&quot;, &quot;C:/Users/fgoot/Downloads/OneDrive_2023-07-24/aSMA neut.2022-12-05-22-40-09/merged/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d&quot; + &quot;_merged.tif&quot;);\r\n\r\n\t\trun(&quot;Close All&quot;);\r\n\t\r\n\t\tprint(image1);\r\n\t\tprint(image2);\r\n\t\tprint(i);\r\n\t}\r\n}\r\n```\r\n\r\nBasically, I need an &quot;01&quot; string to be recognized as a &quot;1&quot;.\r\n\r\nEdit: added a &quot;0&quot; after B in the filenames in the example. This is what works with values 1-9, but when it gets to 10 or more, there&#39;s no &quot;0&quot; after the B.","title":"Regex to recognize integers with 0 before them in Java","body":"<p>I'm working on a macro in ImageJ that will loop through a series of images with a standard format and merge them together as two different channels. I have the macro written, but I need it to be able to accept different formats of integers as part of the filenames.</p>\n<p>Here's the filename format.</p>\n<p>Image 1: aSMA neut_Plate_D_p00_0_B01f00d0.TIF</p>\n<p>Image 2: aSMA neut_Plate_D_p00_0_B01f00d1.TIF</p>\n<p>B01 is the ID for the &quot;well&quot; that the tissue corresponds to. I need a script that can accept &quot;aSMA neut_Plate_D_p00_0_B01f00d1.TIF&quot; and &quot;aSMA neut_Plate_D_p00_0_B11f00d1.TIF&quot; regardless of having the &quot;0&quot; in front of the digit.</p>\n<p>Here's the code so far. The directory setting is something I'm still working on.</p>\n<pre><code>// Get directory of images\n//inDir = getDirectory(&quot;*\\aSMA neut.2022-12-05-22-40-09&quot;)\n\n// Set output directory for merged images\n//outDir = getDirectory(&quot;&quot;)\n\n// For loop to go through all images\n\nvar well=9;\nvar image=5;\n\nfor (i = 1; i &lt;= well; ++i) {\n    for (p = 0; p &lt;= image; ++p) {\n        open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\n        image1 = getTitle;\n        open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d1.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\n        image2 = getTitle;\n\n        run(&quot;Merge Channels...&quot;, &quot;c1=&quot; + image1 + &quot; c2=&quot; + image2 + &quot; create keep&quot;);\n        saveAs(&quot;tif&quot;, &quot;C:/Users/fgoot/Downloads/OneDrive_2023-07-24/aSMA neut.2022-12-05-22-40-09/merged/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d&quot; + &quot;_merged.tif&quot;);\n\n        run(&quot;Close All&quot;);\n    \n        print(image1);\n        print(image2);\n        print(i);\n    }\n}\n</code></pre>\n<p>Basically, I need an &quot;01&quot; string to be recognized as a &quot;1&quot;.</p>\n<p>Edit: added a &quot;0&quot; after B in the filenames in the example. This is what works with values 1-9, but when it gets to 10 or more, there's no &quot;0&quot; after the B.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1691010190,"post_id":76823495,"comment_id":135434525,"body_markdown":"What exactly do you mean by &quot;dynamically change&quot;? You could have some common base-class for `Myclass1` and `Myclass2` - but that really depends on what you are intending to do","body":"What exactly do you mean by &quot;dynamically change&quot;? You could have some common base-class for <code>Myclass1</code> and <code>Myclass2</code> - but that really depends on what you are intending to do"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691010617,"creation_date":1691010617,"answer_id":76823551,"question_id":76823495,"body_markdown":"You could create a generic class. The name of the field would remain the same, though.\r\n\r\n```java\r\nclass MyClass&lt;T&gt; {\r\n    private String str1;\r\n    private String str2;\r\n    private T obj;\r\n    public MyClass(String str1, String str2, T obj) {\r\n        this.str1 = str1;\r\n        this.str2 = str2;\r\n        this.obj = obj;\r\n    }\r\n    // methods...\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```java\r\nMyClass&lt;String&gt; c1 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;);\r\nMyClass&lt;Integer&gt; c2 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, 1);\r\n```","title":"how to make the members in the class dynamic in java","body":"<p>You could create a generic class. The name of the field would remain the same, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T&gt; {\n    private String str1;\n    private String str2;\n    private T obj;\n    public MyClass(String str1, String str2, T obj) {\n        this.str1 = str1;\n        this.str2 = str2;\n        this.obj = obj;\n    }\n    // methods...\n}\n</code></pre>\n<p>Example usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyClass&lt;String&gt; c1 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;);\nMyClass&lt;Integer&gt; c2 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, 1);\n</code></pre>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823551,"answer_count":1,"score":0,"last_activity_date":1691010617,"creation_date":1691010071,"question_id":76823495,"body_markdown":"I have a class \r\n```\r\npublic class MyClass {\r\n    String str1;\r\n    String str2;\r\n    Myclass1 class1;\r\n}\r\n```\r\n\r\nnow, I want to have another class \r\n```\r\npublic class MyClass {\r\n    String str1;\r\n    String str2;\r\n    Myclass2 class2;\r\n}\r\n```\r\nNotice how both classes have only one member different. \r\nIs it possible in java that I just define one class for this and dynamically change the member when needed?  \r\n\r\n\r\n","title":"how to make the members in the class dynamic in java","body":"<p>I have a class</p>\n<pre><code>public class MyClass {\n    String str1;\n    String str2;\n    Myclass1 class1;\n}\n</code></pre>\n<p>now, I want to have another class</p>\n<pre><code>public class MyClass {\n    String str1;\n    String str2;\n    Myclass2 class2;\n}\n</code></pre>\n<p>Notice how both classes have only one member different.\nIs it possible in java that I just define one class for this and dynamically change the member when needed?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691010612,"post_id":76822563,"comment_id":135434614,"body_markdown":"Because `supplier.get()` is evaluated eagerly and only once before the `reduce` function is even entered? There is no supplier, there&#39;s only the pre-constructed StringBuffer instance","body":"Because <code>supplier.get()</code> is evaluated eagerly and only once before the <code>reduce</code> function is even entered? There is no supplier, there&#39;s only the pre-constructed StringBuffer instance"},{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1691085003,"post_id":76822563,"comment_id":135447384,"body_markdown":"Switched to a collector, and now the code works as I expected, kudos to @Luis Wasserman for pointing me in the right direction.","body":"Switched to a collector, and now the code works as I expected, kudos to @Luis Wasserman for pointing me in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691010493,"creation_date":1691010493,"answer_id":76823538,"question_id":76822563,"body_markdown":"You haven&#39;t told it how to.  You just passed it a single StringBuffer, it doesn&#39;t know how to make more.\r\n\r\nThis `reduce` function isn&#39;t intended or designed to be able to handle this case, where you have a mutable accumulator.  For this, you&#39;ll need a `Collector`, and to use `stream.collect(customCollector)`.  The simplest implementation for this would be\r\n\r\n```\r\nCollector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n```\r\n\r\nor if you want a `String` at the end\r\n\r\n```\r\nCollector.of(\r\n  StringBuilder::new, StringBuilder::append,\r\n  StringBuilder::append, StringBuilder::toString)\r\n```","title":"Java Streams parallel streams are using the same accumulator for multiple threads","body":"<p>You haven't told it how to.  You just passed it a single StringBuffer, it doesn't know how to make more.</p>\n<p>This <code>reduce</code> function isn't intended or designed to be able to handle this case, where you have a mutable accumulator.  For this, you'll need a <code>Collector</code>, and to use <code>stream.collect(customCollector)</code>.  The simplest implementation for this would be</p>\n<pre><code>Collector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n</code></pre>\n<p>or if you want a <code>String</code> at the end</p>\n<pre><code>Collector.of(\n  StringBuilder::new, StringBuilder::append,\n  StringBuilder::append, StringBuilder::toString)\n</code></pre>\n"}],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823538,"answer_count":1,"score":0,"last_activity_date":1691010493,"creation_date":1691000470,"question_id":76822563,"body_markdown":"I&#39;m an old Java programmer, and trying to properly learn streams, while doing some testing with the reduce function and StringBuffer/StringBuilder I found some behavior I don&#39;t quite understand.\r\n\r\nThis is the first example, it works as expected:\r\n\r\n    System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).stream().reduce(new StringBuilder(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\r\n\r\nthis is the second example, using parallel streams and StringBuffer(thread safe)\r\n\r\n    System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).parallelStream().reduce(new StringBuffer(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\r\n\r\nnow the thing is: the combiner checks to see if it&#39;s receiving the same object on both sides, if so it returns the left operand (they are the same object), and if they are not, it combines them and returns them: `(sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)` but so far I always have the same StringBuffer object in all the threads, I added more data, but still receive the same object.\r\n\r\nI switched to a Supplier&lt;StringBuffer&gt; and added a sequence at the creation of the object, but my runs always use the same one regardless.\r\n```\r\nvar list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\r\nvar counter = new HashMap&lt;String, Integer&gt;();\r\nSupplier&lt;StringBuffer&gt; supplier = ()-&gt;{\r\n    var s = new StringBuffer();\r\n    s.append(counter.merge(&quot;c&quot;, 1, (a, b)-&gt;a+b));\r\n    System.out.printf(&quot;new:%s%n&quot;, s);\r\n    return s;\r\n};\r\nSystem.out.println(list.parallelStream().reduce(supplier.get(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;{System.out.printf(&quot;called with[%s] and [%s]%n&quot;, sb1, sb2);return sb1==sb2?sb1:sb1.append(sb2);}));\r\n\r\n```\r\n\r\nSame Object on the left and right side:\r\n```\r\ncalled with[1qsr] and [1qsr]\r\ncalled with[1qsr] and [1qsr]\r\ncalled with[1qsrhi] and [1qsrhi]\r\ncalled with[1qsrhigno] and [1qsrhignopuv]\r\ncalled with[1qsrhignopuvlm] and [1qsrhignopuvlm]\r\ncalled with[1qsrhignopuvlmkjt] and [1qsrhignopuvlmkjt]\r\ncalled with[1qsrhignopuvlmkjtxwzy] and [1qsrhignopuvlmkjtxwzydfe]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\n```\r\n\r\nSo why isn&#39;t every thread creating a different instance of the accumulator object?","title":"Java Streams parallel streams are using the same accumulator for multiple threads","body":"<p>I'm an old Java programmer, and trying to properly learn streams, while doing some testing with the reduce function and StringBuffer/StringBuilder I found some behavior I don't quite understand.</p>\n<p>This is the first example, it works as expected:</p>\n<pre><code>System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).stream().reduce(new StringBuilder(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\n</code></pre>\n<p>this is the second example, using parallel streams and StringBuffer(thread safe)</p>\n<pre><code>System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).parallelStream().reduce(new StringBuffer(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\n</code></pre>\n<p>now the thing is: the combiner checks to see if it's receiving the same object on both sides, if so it returns the left operand (they are the same object), and if they are not, it combines them and returns them: <code>(sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)</code> but so far I always have the same StringBuffer object in all the threads, I added more data, but still receive the same object.</p>\n<p>I switched to a Supplier and added a sequence at the creation of the object, but my runs always use the same one regardless.</p>\n<pre><code>var list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\nvar counter = new HashMap&lt;String, Integer&gt;();\nSupplier&lt;StringBuffer&gt; supplier = ()-&gt;{\n    var s = new StringBuffer();\n    s.append(counter.merge(&quot;c&quot;, 1, (a, b)-&gt;a+b));\n    System.out.printf(&quot;new:%s%n&quot;, s);\n    return s;\n};\nSystem.out.println(list.parallelStream().reduce(supplier.get(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;{System.out.printf(&quot;called with[%s] and [%s]%n&quot;, sb1, sb2);return sb1==sb2?sb1:sb1.append(sb2);}));\n\n</code></pre>\n<p>Same Object on the left and right side:</p>\n<pre><code>called with[1qsr] and [1qsr]\ncalled with[1qsr] and [1qsr]\ncalled with[1qsrhi] and [1qsrhi]\ncalled with[1qsrhigno] and [1qsrhignopuv]\ncalled with[1qsrhignopuvlm] and [1qsrhignopuvlm]\ncalled with[1qsrhignopuvlmkjt] and [1qsrhignopuvlmkjt]\ncalled with[1qsrhignopuvlmkjtxwzy] and [1qsrhignopuvlmkjtxwzydfe]\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\n</code></pre>\n<p>So why isn't every thread creating a different instance of the accumulator object?</p>\n"},{"tags":["java","elasticsearch","design-patterns","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690412767,"post_id":76774550,"comment_id":135351935,"body_markdown":"Is using reflection an option?","body":"Is using reflection an option?"},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690988804,"post_id":76774550,"comment_id":135430345,"body_markdown":"Reflection is an option and I am actually using reflection combined with FieldCallback from Spring, where each fields are annotated where you can also specify Type enum.","body":"Reflection is an option and I am actually using reflection combined with FieldCallback from Spring, where each fields are annotated where you can also specify Type enum."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1691007394,"post_id":76774550,"comment_id":135434002,"body_markdown":"So FieldCallback is a library type or do you own it? And where is doWith(Field) called?","body":"So FieldCallback is a library type or do you own it? And where is doWith(Field) called?"},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691007937,"post_id":76774550,"comment_id":135434106,"body_markdown":"`ReflectionUtils.FieldCallback` is an interface provided by Spring framework [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.FieldCallback.html). When you call `ReflectionUtils.doWithFields(clazz, walker)` (I have called it in `MappingFactory.getMapping(clazz)`), the method will get all the fields declared in the `clazz`, and call `walker.doWith(field)` on each of those fields (basically, it will loop through fields).","body":"<code>ReflectionUtils.FieldCallback</code> is an interface provided by Spring framework <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.FieldCallback.html\" rel=\"nofollow noreferrer\">here</a>. When you call <code>ReflectionUtils.doWithFields(clazz, walker)</code> (I have called it in <code>MappingFactory.getMapping(clazz)</code>), the method will get all the fields declared in the <code>clazz</code>, and call <code>walker.doWith(field)</code> on each of those fields (basically, it will loop through fields)."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691008036,"post_id":76774550,"comment_id":135434128,"body_markdown":"Here is what the [doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields(java.lang.Class,org.springframework.util.ReflectionUtils.FieldCallback)) says about `ReflectionUtils.doWithFields`: &quot;Invoke the given callback on all fields in the target class, going up the class hierarchy to get all declared fields.&quot;","body":"Here is what the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields(java.lang.Class,org.springframework.util.ReflectionUtils.FieldCallback)\" rel=\"nofollow noreferrer\">doc</a> says about <code>ReflectionUtils.doWithFields</code>: &quot;Invoke the given callback on all fields in the target class, going up the class hierarchy to get all declared fields.&quot;"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1691009792,"post_id":76774550,"comment_id":135434454,"body_markdown":"Thank you for the input. May i ask why you went the annotation+reflection route? I assume your mapper is supposed to work for any type and not only a handful of known types? if this isn&#39;t a requirement I would not do that as it would introduce the slow reflection along with the not very graceful implementation details.","body":"Thank you for the input. May i ask why you went the annotation+reflection route? I assume your mapper is supposed to work for any type and not only a handful of known types? if this isn&#39;t a requirement I would not do that as it would introduce the slow reflection along with the not very graceful implementation details."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691010340,"post_id":76774550,"comment_id":135434561,"body_markdown":"So, the library that I am working at is using really old version of ElasticSearch and it allows using both annotation+reflection and `TypeMappingBuilder`. I am migrating its usage to OpenSearch, and would like to keep the client using both approaches in the beginning until we deprecate using the annotation+reflection option (`MappingFactory`). And, the mapper is supposed to work for any types that we support (basically, handful of types that we use from what OpenSearch/ElasticSearch supports). Types that we support are defined by enum `Type`.","body":"So, the library that I am working at is using really old version of ElasticSearch and it allows using both annotation+reflection and <code>TypeMappingBuilder</code>. I am migrating its usage to OpenSearch, and would like to keep the client using both approaches in the beginning until we deprecate using the annotation+reflection option (<code>MappingFactory</code>). And, the mapper is supposed to work for any types that we support (basically, handful of types that we use from what OpenSearch/ElasticSearch supports). Types that we support are defined by enum <code>Type</code>."},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013008,"post_id":76774550,"comment_id":135434982,"body_markdown":"Thanks for the information. In this case there is nothing you can do to improve the annotations version. Java annotations are very limited, for example you can&#39;t add methods to an annotation or use inheritance like you could do in C#. So using a hash table to lookup the factory or alternatively a lambda expression is your only way. However, you can still improve the `MappingFactory`. But only if you have limited types that are expected. For example if `Memory` and `Cpu` are the only classes then you can improve `MappingFactory`. If you want to support any type then there is nothing to improve.","body":"Thanks for the information. In this case there is nothing you can do to improve the annotations version. Java annotations are very limited, for example you can&#39;t add methods to an annotation or use inheritance like you could do in C#. So using a hash table to lookup the factory or alternatively a lambda expression is your only way. However, you can still improve the <code>MappingFactory</code>. But only if you have limited types that are expected. For example if <code>Memory</code> and <code>Cpu</code> are the only classes then you can improve <code>MappingFactory</code>. If you want to support any type then there is nothing to improve."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691013406,"post_id":76774550,"comment_id":135435034,"body_markdown":"Make sense. Thank you!","body":"Make sense. Thank you!"},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013419,"post_id":76774550,"comment_id":135435036,"body_markdown":"The problem is that the actual Property type is only available as meta data via the annotation. There is no other way to provide this information to the Walker when annotations are used - unless your system is not open for any types or can introduce conventions, for example all participating classes must implement a PropertyProvider interface in addition to the annotation. But I guess this is not possible because you have to work with legacy code if I understood correctly. A PropertyProvider would be a graceful solution to eliminate the hash map.","body":"The problem is that the actual Property type is only available as meta data via the annotation. There is no other way to provide this information to the Walker when annotations are used - unless your system is not open for any types or can introduce conventions, for example all participating classes must implement a PropertyProvider interface in addition to the annotation. But I guess this is not possible because you have to work with legacy code if I understood correctly. A PropertyProvider would be a graceful solution to eliminate the hash map."},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013560,"post_id":76774550,"comment_id":135435052,"body_markdown":"In case of the TypeMappingBuilder, the type information was provided as a parameter. That enabled refactoring to improve the API. that&#39;s a totally different scenario, but a good example why you have to use annotations sparingly. Aside from reflection they introduce other negative side effects in terms of class design.","body":"In case of the TypeMappingBuilder, the type information was provided as a parameter. That enabled refactoring to improve the API. that&#39;s a totally different scenario, but a good example why you have to use annotations sparingly. Aside from reflection they introduce other negative side effects in terms of class design."}],"answers":[{"tags":[],"owner":{"account_id":2058631,"reputation":13975,"user_id":1835769,"accept_rate":94,"display_name":"displayName"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690407885,"creation_date":1690407885,"answer_id":76775232,"question_id":76774550,"body_markdown":"If you are willing to sacrifice space, you could pre populate a hash map of Property.Kind mapping to TypeMapBuilder.\r\n\r\nNow in the method, just need a single return map.get(type);","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>If you are willing to sacrifice space, you could pre populate a hash map of Property.Kind mapping to TypeMapBuilder.</p>\n<p>Now in the method, just need a single return map.get(type);</p>\n"},{"tags":[],"owner":{"display_name":"user21970328"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690539411,"creation_date":1690538114,"answer_id":76786730,"question_id":76774550,"body_markdown":"Usually, the caller of your API knows all the details of the context. You only have to expose a complete path for each supported context.  \r\nAs a result the client code now explicitly selects the method/execution path instead of selecting an enum value.  \r\nThis will make your API bigger opposed to a more generic API. But if it is about code paths, generic APIs are not useful (see your problem).  \r\ngeneric APIs only help in terms of type compatibility (input/output). \r\n\r\nIn terms of execution paths, you always need the client of your API to select an execution path: either in form of a parameter (you current choice) or by explicitly invoking the desired functionality.  \r\nThe latter provides: \r\n- a much cleaner API that allows the client code to communicates the intend better: it&#39;s more convenient to read and understand the client code because we are now enabled to read method names opposed to having to read through an argument list. Argument names are only useful if the reader knows about their purpose. To know this he must read the API documentation. Method names on the other hand directly communicate the purpose of the operation without the requirement to read any documentation.  \r\n- it also reduces the parameter count of the method: in your case the enum parameter is converted to a method name.  \r\n- and as a bonus you avoid extra documentation: the method  names now clearly communicate the purpose of the method (if the names are chosen properly).\r\n- you eliminate the `Property.Kind` enum (additional type only introduced to select the execution path).\r\n- you eliminate the terrible to maintain cascades of if-statements and switch cases: this code breaks the Open-Close principle and therefore does not make your code/class extensible.\r\n\r\n\r\nThe solution is to allow the builder to explicitly fork the execution path. This eliminates the `Property.Kind` enum (previously used to identify the selected execution path) and the `getTypeProperty` method (previously used to execute the specialized execution path). Now the client of the `TypeMappingBuilder` API is responsible to select the execution path explicitly by calling the related method instead of passing the enum identifier.  \r\n\r\nThe result is a more verbose client code (in terms of enhanced readability) and a more convenient API.  \r\nIt&#39;s the only solution that improves the API, for example in contrast to alternative solutions like looking up instances in a hash table.  \r\nA hash table solution only works for object lookup. A hash table still won&#39;t solve more complex scenarios. In addition a hash table solution adds more memory and types overhead - while we usually can live with the memory overhead, the additional types we have to implement add unnecessary complexity). \r\n  \r\nSo instead of adding more complexity to your internal code, simply clean up the API:\r\n\r\n**Usage example:**\r\n```java\r\n// Easier to read client code, where the intend is communicated via method names instead of argument names. \r\n// Even the argument name is meaning less \r\n// if the reader does not know that the argument is an actual execution path selector.\r\n// To know this, he would have to read the API documentation.\r\n// The method name allows the reader to instantly know the purpose \r\n// and the author which method to invoke.\r\nTypeMappingBuilder builder = new TypeMappingBuilder();\r\nbuilder.putTextProperty(...)\r\n  .putTextProperty(...)\r\n  .putKeywordProperty(...);\r\n```\r\n**TypeMappingBuilder.java**\r\n```java\r\npublic class TypeMappingBuilder {\r\n    private DynamicMapping dynamic;\r\n    private final Map&lt;String, Property&gt; properties;\r\n\r\n    public TypeMappingBuilder() {\r\n        this.properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public TypeMappingBuilder disableDynamic() {\r\n        this.mapping = DynamicMapping.Strict;\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putTextProperty(\r\n            String name, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n\r\n        Property textProperty = new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        this.properties.put(name, textProperty);\r\n\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putKeywordProperty(\r\n            String name, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n\r\n        Property keywordProperty = new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        this.properties.put(name, keywordProperty);\r\n\r\n        return this;\r\n    }\r\n\r\n    public TypeMapping build() {\r\n        return new TypeMapping.Builder()\r\n                .dynamic(dynamic)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>Usually, the caller of your API knows all the details of the context. You only have to expose a complete path for each supported context.<br />\nAs a result the client code now explicitly selects the method/execution path instead of selecting an enum value.<br />\nThis will make your API bigger opposed to a more generic API. But if it is about code paths, generic APIs are not useful (see your problem).<br />\ngeneric APIs only help in terms of type compatibility (input/output).</p>\n<p>In terms of execution paths, you always need the client of your API to select an execution path: either in form of a parameter (you current choice) or by explicitly invoking the desired functionality.<br />\nThe latter provides:</p>\n<ul>\n<li>a much cleaner API that allows the client code to communicates the intend better: it's more convenient to read and understand the client code because we are now enabled to read method names opposed to having to read through an argument list. Argument names are only useful if the reader knows about their purpose. To know this he must read the API documentation. Method names on the other hand directly communicate the purpose of the operation without the requirement to read any documentation.</li>\n<li>it also reduces the parameter count of the method: in your case the enum parameter is converted to a method name.</li>\n<li>and as a bonus you avoid extra documentation: the method  names now clearly communicate the purpose of the method (if the names are chosen properly).</li>\n<li>you eliminate the <code>Property.Kind</code> enum (additional type only introduced to select the execution path).</li>\n<li>you eliminate the terrible to maintain cascades of if-statements and switch cases: this code breaks the Open-Close principle and therefore does not make your code/class extensible.</li>\n</ul>\n<p>The solution is to allow the builder to explicitly fork the execution path. This eliminates the <code>Property.Kind</code> enum (previously used to identify the selected execution path) and the <code>getTypeProperty</code> method (previously used to execute the specialized execution path). Now the client of the <code>TypeMappingBuilder</code> API is responsible to select the execution path explicitly by calling the related method instead of passing the enum identifier.</p>\n<p>The result is a more verbose client code (in terms of enhanced readability) and a more convenient API.<br />\nIt's the only solution that improves the API, for example in contrast to alternative solutions like looking up instances in a hash table.<br />\nA hash table solution only works for object lookup. A hash table still won't solve more complex scenarios. In addition a hash table solution adds more memory and types overhead - while we usually can live with the memory overhead, the additional types we have to implement add unnecessary complexity).</p>\n<p>So instead of adding more complexity to your internal code, simply clean up the API:</p>\n<p><strong>Usage example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Easier to read client code, where the intend is communicated via method names instead of argument names. \n// Even the argument name is meaning less \n// if the reader does not know that the argument is an actual execution path selector.\n// To know this, he would have to read the API documentation.\n// The method name allows the reader to instantly know the purpose \n// and the author which method to invoke.\nTypeMappingBuilder builder = new TypeMappingBuilder();\nbuilder.putTextProperty(...)\n  .putTextProperty(...)\n  .putKeywordProperty(...);\n</code></pre>\n<p><strong>TypeMappingBuilder.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeMappingBuilder {\n    private DynamicMapping dynamic;\n    private final Map&lt;String, Property&gt; properties;\n\n    public TypeMappingBuilder() {\n        this.properties = new HashMap&lt;&gt;();\n    }\n\n    public TypeMappingBuilder disableDynamic() {\n        this.mapping = DynamicMapping.Strict;\n        return this;\n    }\n    \n    public TypeMappingBuilder putTextProperty(\n            String name, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n\n        Property textProperty = new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        this.properties.put(name, textProperty);\n\n        return this;\n    }\n    \n    public TypeMappingBuilder putKeywordProperty(\n            String name, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n\n        Property keywordProperty = new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        this.properties.put(name, keywordProperty);\n\n        return this;\n    }\n\n    public TypeMapping build() {\n        return new TypeMapping.Builder()\n                .dynamic(dynamic)\n                .properties(properties)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76786730,"answer_count":2,"score":0,"last_activity_date":1691009701,"creation_date":1690400552,"question_id":76774550,"body_markdown":"(Understanding OpenSearch/ElasticSearch is not important for this question, but the below information provides some context).\r\nI am using the new opensearch-java (version 2.4.0) library to interact with the OpenSearch cluster. I am trying to build the `TypeMapping` using Builder pattern, so that I can pass these [properties][1] mapping when creating a new index in OpenSearch like so:\r\n```\r\n// client will call this method when creating index.\r\npublic void createIndex(String name, TypeMapping typeMappings) {\r\n    CreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\r\n                .index(name)\r\n                .mappings(typeMappings)\r\n                .build();\r\n    createIndex(openSearchClient, createIndexRequest);\r\n}\r\nprivate static void createIndex(OpenSearchClient osClient, CreateIndexRequest createIndexRequest) {\r\n    osClient.indices().create(createIndexRequest);\r\n}\r\n```\r\n\r\nI have the following code to use the Builder pattern to build the `TypeMapping`.\r\n```\r\npackage test;\r\n\r\nimport java.util.Map;\r\nimport org.opensearch.client.opensearch._types.mapping.Property;\r\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\r\nimport org.opensearch.client.opensearch._types.mapping.DynamicMapping;\r\n\r\n \r\npublic class TypeMappingBuilder {\r\n    private DynamicMapping dynamic;\r\n    private final Map&lt;String, Property&gt; properties;\r\n\r\n    public TypeMappingBuilder() {\r\n        this.properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public TypeMappingBuilder disableDynamic() {\r\n        this.mapping = DynamicMapping.Strict;\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putTypeProperty(\r\n            String name, \r\n            Property.Kind type, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n        this.properties.put(name, getTypeProperty(type, shouldIndex, subTypeProperties));\r\n        return this;\r\n    }\r\n\r\n    private Property getTypeProperty(\r\n            Property.Kind type, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n        if (type == Property.Kind.Text) {\r\n// Here, in (p -&gt; p), p is the TextProperty.Builder() provided by OpenSearch Java client\r\n            return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        }\r\n        if (type == Property.Kind.Keyword) {\r\n// Here, in (p -&gt; p), p is the KeywordProperty.Builder() provided by OpenSearch Java client\r\n            return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        }\r\n//...\r\n//...\r\n//... and so forth, there are more than 20 of the Property.Kind values where I can use the if condition\r\n    }\r\n\r\n    public TypeMapping build() {\r\n        return new TypeMapping.Builder()\r\n                .dynamic(dynamic)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n}\r\n```\r\nThe issue is that too many if statement here (in method `getTypeProperty`) will cause code smell and also if a new type is added in the future, then I have to update `getTypeProperty` method to apply for the new type. Also, in this `new Property.Builder().{specificType}({specificTypeBuilder}).build()`, I cannot use polymorphism as there is different method names for each `{specificType}` and different type Builder for each `{specificTypeBuilder}`. I don&#39;t see any other options than to use if statements to create different Property based on a specific type. I thought of using static Map like so and access specific Property from the Map, but would only work if I didn&#39;t have `subTypeProperties` to put in for sub `fields` (but, it will have more memory and type overhead):\r\n```\r\nMap&lt;PropertyHolder, Property&gt; propertyMap = ImmutableMap.&lt;PropertyHolder, Property&gt;builder()\r\n            .put(new PropertyHolder(Property.Kind.Text, true), new Property.Builder()\r\n                    .text(p -&gt; p.index(true)).build())\r\n            .put(new PropertyHolder(Property.Kind.Text, false), new Property.Builder()\r\n                    .text(p -&gt; p.index(false)).build())\r\n            .put(new PropertyHolder(Property.Kind.Keyword, true), new Property.Builder()\r\n                    .keyword(p -&gt; p.index(true)).build())\r\n            .put(new PropertyHolder(Property.Kind.Keyword, false), new Property.Builder()\r\n                    .keyword(p -&gt; p.index(false)).build())\r\n            ...\r\n            ...\r\n            ...\r\n            .build();\r\n\r\n    final class PropertyHolder {\r\n        private final Property.Kind type;\r\n        private final boolean index;\r\n\r\n        private PropertyHolder(Property.Kind type, boolean index) {\r\n            this.type = type;\r\n            this.index = index;\r\n        }\r\n\r\n        public static Property getTypeProperty(Property.Kind type, boolean shouldIndex) {\r\n            return propertyMap.get(new PropertyHolder(type, shouldIndex));\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            PropertyHolder that = (PropertyHolder) o;\r\n            return type == that.type &amp;&amp; index == that.index;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(type, index);\r\n        }\r\n    }\r\n```\r\nAnother option that can actually work was to create my own enum and have a method defined for each enum value that returns a specific Property based on the enum value (Strategy pattern). But, that would be an abuse of enums and probably code smell. Here is what I am talking about:\r\n```\r\npublic enum Type {\r\n        TEXT {\r\n            @Override\r\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\r\n                return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n            }\r\n        },\r\n        KEYWORD {\r\n            @Override\r\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\r\n                return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n            }\r\n        },\r\n        ...,\r\n        ...,\r\n        ...;\r\n\r\n        public abstract Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties);\r\n    }\r\n```\r\n\r\nWhat design pattern can I use in this scenario to avoid code smell? Thank you!\r\n\r\n**EDIT:**\r\n\r\nIn the scenario that I am working on, the client can either create `TypeMapping` using `TypeMappingBuilder` and then, pass that to the `createIndex` request, like so (added based on the answer mentioned by BionicCode):\r\n```\r\nTypeMapping typeMappings = new TypeMappingBuilder();\r\nbuilder.putTextProperty(...)\r\n    .putTextProperty(...)\r\n    .putKeywordProperty(...)\r\n    .build();\r\ncreateIndex(indexName, typeMappings);\r\n```\r\nor using `MappingFactory` like so:\r\n```\r\nprivate static final Map&lt;String, Property&gt; MAPPINGS = ImmutableMap.&lt;String, Property&gt;builder()\r\n        .putAll(MappingFactory.getMapping(Memory.class))\r\n        .putAll(MappingFactory.getMapping(Cpu.class))\r\n...\r\n...\r\n...\r\n        .build();\r\nTypeMapping typeMappings = new TypeMapping.Builder().properties(MAPPINGS).build();\r\ncreateIndex(indexName, typeMappings);\r\n```\r\nHere, the `Memory.class` or `Cpu.class` POJO looks like this:\r\n```\r\nclass Memory {\r\n    @TypeAnnotation(name = &quot;mem_type&quot;, type = Type.KEYWORD, index = FALSE)\r\n    private final String memType;\r\n\r\n    @TypeAnnotation(name = &quot;bytes&quot;, type = Type.LONG, index = true)\r\n    private final long bytes;\r\n...\r\n...\r\n...\r\n}\r\n```\r\nAnd, the `TypeAnnotation` in my library looks like this:\r\n```\r\n@interface TypeAnnotation {\r\n    String name();\r\n    Type type();\r\n    boolean index();\r\n\r\n    public static final Map&lt;Type, Factory&gt; TYPE_FACTORY_MAP = ImmutableMap.&lt;Type, Factory&gt;builder()\r\n        .put(Type.TEXT, new TextFactory())\r\n        .put(Type.KEYWORD, new KeywordFactory())\r\n...\r\n...\r\n...\r\n        .build();\r\n}\r\n```\r\n\r\nNow, in the scenario where the Client uses `TypeMappingBuilder`, I can setup `putKeywordProperty`, `putTextProperty`, etc. methods for the client to use to add specific property to the properties `Map` before building `TypeMapping`.\r\nBut, when the Client calls `MappingFactory.getMapping(Memory.class)`, the current implementation for `getMapping(Class)` method is like so:\r\n```\r\nclass MappingFactory {\r\n    public static Map&lt;String, Property&gt; getMapping(Class&lt;?&gt; clazz) {\r\n        Walker walker = new Walker();\r\n        // this will walk the fields and add each Property to Walker properties Map. \r\n        ReflectionUtils.doWithFields(clazz, walker);\r\n        return walker.getMapping();\r\n    }\r\n\r\n    // FieldCallback is provided by Spring framework as part of it&#39;s ReflectionUtils\r\n    private static final class Walker implements FieldCallback {\r\n        private final ImmutableMap.Builder&lt;String, Property&gt; properties = ImmutableMap.builder();\r\n        public ImmutableMap&lt;String, Property&gt; getMapping() {\r\n            return this.properties.build();\r\n        }\r\n\r\n        @Override\r\n        public void doWith(java.lang.reflect.Field field) {\r\n            TypeAnnotation typeAnnotation = (TypeAnnotation) field.getAnnotation(TypeAnnotation.class);\r\n            String name = typeAnnotation.name();\r\n            Type type = typeAnnotation.type();\r\n            boolean index = typeAnnotation.index();\r\n            // map defined in TypeAnnotation that contains &lt;Type, Factory&gt; and will return a specific property Factory (implements Factory) that you can use to create Property.\r\n            Factory factory = TYPE_FACTORY_MAP.get(type);\r\n            Property property = factory.getProperty(index);\r\n            this.properties.put(name, property);\r\n        }\r\n    }\r\n}\r\ninterface Factory {\r\n    Property getProperty(boolean index);\r\n    Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties);\r\n}\r\nclass KeywordFactory implements Factory {\r\n    @Override\r\n    public Property getProperty(boolean index) {\r\n        return new Property.Builder().keyword(p -&gt; p.index(index)).build();\r\n    }\r\n\r\n    @Override\r\n    public Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties) {\r\n        return new Property.Builder().keyword(p -&gt; p.index(index).fields(subProperties)).build();\r\n    }\r\n}\r\n```\r\nThe issue is that I have to use either if/else or switch or factory pattern (I am using factory pattern here in `doWith` method and storing each factory in a `Map&lt;Type, Factory&gt;` that is defined in `TypeAnnotation`). Is there any other solution or a solution that is better when the client have the options to either use `TypeMappingBuilder` or `MappingFactory`? Thanks!\r\n\r\n\r\n  [1]: https://github.com/opensearch-project/opensearch-java/blob/94ef0cd0644827b5ef61cae23dfdfbb0c284e6f2/java-client/src/main/java/org/opensearch/client/opensearch/_types/mapping/Property.java","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>(Understanding OpenSearch/ElasticSearch is not important for this question, but the below information provides some context).\nI am using the new opensearch-java (version 2.4.0) library to interact with the OpenSearch cluster. I am trying to build the <code>TypeMapping</code> using Builder pattern, so that I can pass these <a href=\"https://github.com/opensearch-project/opensearch-java/blob/94ef0cd0644827b5ef61cae23dfdfbb0c284e6f2/java-client/src/main/java/org/opensearch/client/opensearch/_types/mapping/Property.java\" rel=\"nofollow noreferrer\">properties</a> mapping when creating a new index in OpenSearch like so:</p>\n<pre><code>// client will call this method when creating index.\npublic void createIndex(String name, TypeMapping typeMappings) {\n    CreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\n                .index(name)\n                .mappings(typeMappings)\n                .build();\n    createIndex(openSearchClient, createIndexRequest);\n}\nprivate static void createIndex(OpenSearchClient osClient, CreateIndexRequest createIndexRequest) {\n    osClient.indices().create(createIndexRequest);\n}\n</code></pre>\n<p>I have the following code to use the Builder pattern to build the <code>TypeMapping</code>.</p>\n<pre><code>package test;\n\nimport java.util.Map;\nimport org.opensearch.client.opensearch._types.mapping.Property;\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\nimport org.opensearch.client.opensearch._types.mapping.DynamicMapping;\n\n \npublic class TypeMappingBuilder {\n    private DynamicMapping dynamic;\n    private final Map&lt;String, Property&gt; properties;\n\n    public TypeMappingBuilder() {\n        this.properties = new HashMap&lt;&gt;();\n    }\n\n    public TypeMappingBuilder disableDynamic() {\n        this.mapping = DynamicMapping.Strict;\n        return this;\n    }\n    \n    public TypeMappingBuilder putTypeProperty(\n            String name, \n            Property.Kind type, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n        this.properties.put(name, getTypeProperty(type, shouldIndex, subTypeProperties));\n        return this;\n    }\n\n    private Property getTypeProperty(\n            Property.Kind type, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n        if (type == Property.Kind.Text) {\n// Here, in (p -&gt; p), p is the TextProperty.Builder() provided by OpenSearch Java client\n            return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        }\n        if (type == Property.Kind.Keyword) {\n// Here, in (p -&gt; p), p is the KeywordProperty.Builder() provided by OpenSearch Java client\n            return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        }\n//...\n//...\n//... and so forth, there are more than 20 of the Property.Kind values where I can use the if condition\n    }\n\n    public TypeMapping build() {\n        return new TypeMapping.Builder()\n                .dynamic(dynamic)\n                .properties(properties)\n                .build();\n    }\n}\n</code></pre>\n<p>The issue is that too many if statement here (in method <code>getTypeProperty</code>) will cause code smell and also if a new type is added in the future, then I have to update <code>getTypeProperty</code> method to apply for the new type. Also, in this <code>new Property.Builder().{specificType}({specificTypeBuilder}).build()</code>, I cannot use polymorphism as there is different method names for each <code>{specificType}</code> and different type Builder for each <code>{specificTypeBuilder}</code>. I don't see any other options than to use if statements to create different Property based on a specific type. I thought of using static Map like so and access specific Property from the Map, but would only work if I didn't have <code>subTypeProperties</code> to put in for sub <code>fields</code> (but, it will have more memory and type overhead):</p>\n<pre><code>Map&lt;PropertyHolder, Property&gt; propertyMap = ImmutableMap.&lt;PropertyHolder, Property&gt;builder()\n            .put(new PropertyHolder(Property.Kind.Text, true), new Property.Builder()\n                    .text(p -&gt; p.index(true)).build())\n            .put(new PropertyHolder(Property.Kind.Text, false), new Property.Builder()\n                    .text(p -&gt; p.index(false)).build())\n            .put(new PropertyHolder(Property.Kind.Keyword, true), new Property.Builder()\n                    .keyword(p -&gt; p.index(true)).build())\n            .put(new PropertyHolder(Property.Kind.Keyword, false), new Property.Builder()\n                    .keyword(p -&gt; p.index(false)).build())\n            ...\n            ...\n            ...\n            .build();\n\n    final class PropertyHolder {\n        private final Property.Kind type;\n        private final boolean index;\n\n        private PropertyHolder(Property.Kind type, boolean index) {\n            this.type = type;\n            this.index = index;\n        }\n\n        public static Property getTypeProperty(Property.Kind type, boolean shouldIndex) {\n            return propertyMap.get(new PropertyHolder(type, shouldIndex));\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            PropertyHolder that = (PropertyHolder) o;\n            return type == that.type &amp;&amp; index == that.index;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(type, index);\n        }\n    }\n</code></pre>\n<p>Another option that can actually work was to create my own enum and have a method defined for each enum value that returns a specific Property based on the enum value (Strategy pattern). But, that would be an abuse of enums and probably code smell. Here is what I am talking about:</p>\n<pre><code>public enum Type {\n        TEXT {\n            @Override\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\n                return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n            }\n        },\n        KEYWORD {\n            @Override\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\n                return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n            }\n        },\n        ...,\n        ...,\n        ...;\n\n        public abstract Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties);\n    }\n</code></pre>\n<p>What design pattern can I use in this scenario to avoid code smell? Thank you!</p>\n<p><strong>EDIT:</strong></p>\n<p>In the scenario that I am working on, the client can either create <code>TypeMapping</code> using <code>TypeMappingBuilder</code> and then, pass that to the <code>createIndex</code> request, like so (added based on the answer mentioned by BionicCode):</p>\n<pre><code>TypeMapping typeMappings = new TypeMappingBuilder();\nbuilder.putTextProperty(...)\n    .putTextProperty(...)\n    .putKeywordProperty(...)\n    .build();\ncreateIndex(indexName, typeMappings);\n</code></pre>\n<p>or using <code>MappingFactory</code> like so:</p>\n<pre><code>private static final Map&lt;String, Property&gt; MAPPINGS = ImmutableMap.&lt;String, Property&gt;builder()\n        .putAll(MappingFactory.getMapping(Memory.class))\n        .putAll(MappingFactory.getMapping(Cpu.class))\n...\n...\n...\n        .build();\nTypeMapping typeMappings = new TypeMapping.Builder().properties(MAPPINGS).build();\ncreateIndex(indexName, typeMappings);\n</code></pre>\n<p>Here, the <code>Memory.class</code> or <code>Cpu.class</code> POJO looks like this:</p>\n<pre><code>class Memory {\n    @TypeAnnotation(name = &quot;mem_type&quot;, type = Type.KEYWORD, index = FALSE)\n    private final String memType;\n\n    @TypeAnnotation(name = &quot;bytes&quot;, type = Type.LONG, index = true)\n    private final long bytes;\n...\n...\n...\n}\n</code></pre>\n<p>And, the <code>TypeAnnotation</code> in my library looks like this:</p>\n<pre><code>@interface TypeAnnotation {\n    String name();\n    Type type();\n    boolean index();\n\n    public static final Map&lt;Type, Factory&gt; TYPE_FACTORY_MAP = ImmutableMap.&lt;Type, Factory&gt;builder()\n        .put(Type.TEXT, new TextFactory())\n        .put(Type.KEYWORD, new KeywordFactory())\n...\n...\n...\n        .build();\n}\n</code></pre>\n<p>Now, in the scenario where the Client uses <code>TypeMappingBuilder</code>, I can setup <code>putKeywordProperty</code>, <code>putTextProperty</code>, etc. methods for the client to use to add specific property to the properties <code>Map</code> before building <code>TypeMapping</code>.\nBut, when the Client calls <code>MappingFactory.getMapping(Memory.class)</code>, the current implementation for <code>getMapping(Class)</code> method is like so:</p>\n<pre><code>class MappingFactory {\n    public static Map&lt;String, Property&gt; getMapping(Class&lt;?&gt; clazz) {\n        Walker walker = new Walker();\n        // this will walk the fields and add each Property to Walker properties Map. \n        ReflectionUtils.doWithFields(clazz, walker);\n        return walker.getMapping();\n    }\n\n    // FieldCallback is provided by Spring framework as part of it's ReflectionUtils\n    private static final class Walker implements FieldCallback {\n        private final ImmutableMap.Builder&lt;String, Property&gt; properties = ImmutableMap.builder();\n        public ImmutableMap&lt;String, Property&gt; getMapping() {\n            return this.properties.build();\n        }\n\n        @Override\n        public void doWith(java.lang.reflect.Field field) {\n            TypeAnnotation typeAnnotation = (TypeAnnotation) field.getAnnotation(TypeAnnotation.class);\n            String name = typeAnnotation.name();\n            Type type = typeAnnotation.type();\n            boolean index = typeAnnotation.index();\n            // map defined in TypeAnnotation that contains &lt;Type, Factory&gt; and will return a specific property Factory (implements Factory) that you can use to create Property.\n            Factory factory = TYPE_FACTORY_MAP.get(type);\n            Property property = factory.getProperty(index);\n            this.properties.put(name, property);\n        }\n    }\n}\ninterface Factory {\n    Property getProperty(boolean index);\n    Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties);\n}\nclass KeywordFactory implements Factory {\n    @Override\n    public Property getProperty(boolean index) {\n        return new Property.Builder().keyword(p -&gt; p.index(index)).build();\n    }\n\n    @Override\n    public Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties) {\n        return new Property.Builder().keyword(p -&gt; p.index(index).fields(subProperties)).build();\n    }\n}\n</code></pre>\n<p>The issue is that I have to use either if/else or switch or factory pattern (I am using factory pattern here in <code>doWith</code> method and storing each factory in a <code>Map&lt;Type, Factory&gt;</code> that is defined in <code>TypeAnnotation</code>). Is there any other solution or a solution that is better when the client have the options to either use <code>TypeMappingBuilder</code> or <code>MappingFactory</code>? Thanks!</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1375695072,"post_id":18054767,"comment_id":26416598,"body_markdown":"`&lt;strong&gt;foo&lt;/strong&gt;` - note that the first sentence is generally bolded automatically (but you need a `.` after `foo`).","body":"<code>&lt;strong&gt;foo&lt;&#47;strong&gt;</code> - note that the first sentence is generally bolded automatically (but you need a <code>.</code> after <code>foo</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1375777333,"creation_date":1375695263,"answer_id":18054860,"question_id":18054767,"body_markdown":"Use:\r\n\r\n    /**\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }","title":"How to format a heading in a javadoc comment?","body":"<p>Use:</p>\n\n<pre><code>/**\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1376032428,"creation_date":1376032123,"answer_id":18141686,"question_id":18054767,"body_markdown":"Just have a look at the generated Java Doc of the JAVA API, e.g. [SimpleDateFormat.parse][1] (have a look at the HTML source code).\r\n\r\nThey use a html description list for formatting and a &lt;code&gt;strong&lt;/code&gt; CSS class to format the term. So do it the same:\r\n\r\n\t/**\r\n\t * Introdcution\r\n\t * \r\n\t * &lt;dl&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;/dl&gt;\r\n\t *\r\n\t * @param x foo\r\n\t * @return foo\r\n\t * @throws foo\r\n\t */\r\n\r\nLooks like this:\r\n\r\n![JavaDoc screenshot][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\r\n  [2]: http://i.stack.imgur.com/2oqs4.png","title":"How to format a heading in a javadoc comment?","body":"<p>Just have a look at the generated Java Doc of the JAVA API, e.g. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"noreferrer\">SimpleDateFormat.parse</a> (have a look at the HTML source code).</p>\n\n<p>They use a html description list for formatting and a <code>strong</code> CSS class to format the term. So do it the same:</p>\n\n<pre><code>/**\n * Introdcution\n * \n * &lt;dl&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;/dl&gt;\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n\n<p>Looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2oqs4.png\" alt=\"JavaDoc screenshot\"></p>\n"}],"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21671,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":18141686,"answer_count":2,"score":12,"last_activity_date":1691009429,"creation_date":1375694959,"question_id":18054767,"body_markdown":"How can I format headings in a Javadoc comment such that they match the format of `@param`, `@return`, or `@throws`. I am *not* asking how to define my own keywords, rather how to have a bold face heading similar to them.\r\n\r\nI have tried `&lt;h1&gt;&lt;/h1&gt;` but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is `&lt;h1&gt;&lt;/h1&gt;` the way to go?\r\n\r\n\r\n    /**\r\n     * foo\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }\r\n\r\n![enter image description here][1]\r\n\r\nThe screenshot is taken from Eclipse.\r\n\r\n**Update**\r\n\r\nI do not think that `&lt;strong&gt;` is sufficient, since it does not add line breaks:\r\n\r\n    /**\r\n     * Introduction\r\n     * \r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g88PO.png\r\n  [2]: http://i.stack.imgur.com/zpDd6.png","title":"How to format a heading in a javadoc comment?","body":"<p>How can I format headings in a Javadoc comment such that they match the format of <code>@param</code>, <code>@return</code>, or <code>@throws</code>. I am <em>not</em> asking how to define my own keywords, rather how to have a bold face heading similar to them.</p>\n<p>I have tried <code>&lt;h1&gt;&lt;/h1&gt;</code> but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is <code>&lt;h1&gt;&lt;/h1&gt;</code> the way to go?</p>\n<pre><code>/**\n * foo\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/g88PO.png\" alt=\"enter image description here\" /></p>\n<p>The screenshot is taken from Eclipse.</p>\n<p><strong>Update</strong></p>\n<p>I do not think that <code>&lt;strong&gt;</code> is sufficient, since it does not add line breaks:</p>\n<pre><code>/**\n * Introduction\n * \n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/zpDd6.png\" alt=\"enter image description here\" /></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9722,"page":270,"page_size":100}
