{"items":[{"tags":["java","spring-boot","spring-cloud-stream","spring-cloud-function","spring-cloud-bus"],"owner":{"account_id":2459367,"reputation":1439,"user_id":2143846,"accept_rate":77,"display_name":"Yuval Simhon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679558434,"creation_date":1679554888,"question_id":75820019,"body_markdown":"We are using Spring Boot 2.7.8 with Spring Cloud Stream 3.2.6 &amp; Spring Cloud 2021.0.5\r\n&lt;br&gt;\r\nWe are using the functional definition for our Kafka consumers, hence adding the consumers channel names under `spring.cloud.function.definition` list.&lt;br&gt;\r\n\r\nPreviously (on Spring boot 2.2.6) when we added the module for bus refresh `&lt;spring-cloud-bus&gt;` it was automatically creating a channel that consume the bus-refresh events.&lt;br&gt;\r\n\r\nWith the new functional way, we using spring-cloud-bus 3.1.2 and facing some strange behavior as the definition of the busrefresh channel `busConsumer` is getting overridden by our own channels definition list.\r\n\r\nSeems like the `busConsumer` is indeed being added automatically to `spring.cloud.function.definition` by this Class `org.springframework.cloud.bus.BusEnvironmentPostProcessor` **but** it&#39;s adding it into a different property source name than our application properties source name (We are using spring-cloud-starter-consul to load our YML properties).\r\n\r\nThis causes the application property source to have preceding over the `springCloudBusOverridesProperties` property source, hence only our consumers are being initialized correctly, but the busConsumer does not initialize.\r\n\r\nIs there a way to enforce it to be added automatically and effectively to the list of definitions without getting overridden?\r\n","title":"Busrefresh function.definition of busConsumer is being added on wrong property source","body":"<p>We are using Spring Boot 2.7.8 with Spring Cloud Stream 3.2.6 &amp; Spring Cloud 2021.0.5\n<br>\nWe are using the functional definition for our Kafka consumers, hence adding the consumers channel names under <code>spring.cloud.function.definition</code> list.<br></p>\n<p>Previously (on Spring boot 2.2.6) when we added the module for bus refresh <code>&lt;spring-cloud-bus&gt;</code> it was automatically creating a channel that consume the bus-refresh events.<br></p>\n<p>With the new functional way, we using spring-cloud-bus 3.1.2 and facing some strange behavior as the definition of the busrefresh channel <code>busConsumer</code> is getting overridden by our own channels definition list.</p>\n<p>Seems like the <code>busConsumer</code> is indeed being added automatically to <code>spring.cloud.function.definition</code> by this Class <code>org.springframework.cloud.bus.BusEnvironmentPostProcessor</code> <strong>but</strong> it's adding it into a different property source name than our application properties source name (We are using spring-cloud-starter-consul to load our YML properties).</p>\n<p>This causes the application property source to have preceding over the <code>springCloudBusOverridesProperties</code> property source, hence only our consumers are being initialized correctly, but the busConsumer does not initialize.</p>\n<p>Is there a way to enforce it to be added automatically and effectively to the list of definitions without getting overridden?</p>\n"},{"tags":["java","spring-boot","logging","logback","logstash-logback-encoder"],"answers":[{"comments":[{"owner":{"account_id":3650703,"reputation":379,"user_id":3042963,"accept_rate":38,"display_name":"Shalom Balulu"},"score":0,"creation_date":1595232814,"post_id":62987148,"comment_id":111392131,"body_markdown":"Hi Phil , first of all thanks for your reply! \nI&#39;m trying to do this one programatically ... can you expend about the setters/adders ? \ni looked for properties that related to the message size limit on the encoder but didn&#39;t find such","body":"Hi Phil , first of all thanks for your reply!  I&#39;m trying to do this one programatically ... can you expend about the setters/adders ?  i looked for properties that related to the message size limit on the encoder but didn&#39;t find such"},{"owner":{"account_id":3650703,"reputation":379,"user_id":3042963,"accept_rate":38,"display_name":"Shalom Balulu"},"score":0,"creation_date":1595241866,"post_id":62987148,"comment_id":111396437,"body_markdown":"I added a provider but didn&#39;t find a way to modify existing field (only ass one using JsonWritingUtils.writeStringField)","body":"I added a provider but didn&#39;t find a way to modify existing field (only ass one using JsonWritingUtils.writeStringField)"}],"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1595299032,"creation_date":1595205386,"answer_id":62987148,"question_id":62984942,"body_markdown":"To limit the `message` field within the JSON output when using the `net.logstash.logback.encoder.LogstashEncoder`, you&#39;ll need to:\r\n\r\n1. Disable the default `message` field output\r\n2. Add a custom `message` field using the pattern provider\r\n\r\nFor example:\r\n\r\n```xml\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n    &lt;!-- Disable the default message field --&gt;\r\n    &lt;fieldNames&gt;\r\n        &lt;message&gt;[ignore]&lt;/message&gt;\r\n    &lt;/fieldNames&gt;\r\n    &lt;!-- Add a new message field that truncates the message to 20 characters --&gt;\r\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\r\n        &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-20message&quot;}&lt;/pattern&gt;\r\n    &lt;/provider&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nor as a custom encoder:\r\n\r\n```java\r\npublic class JsonEncoder extends LogstashEncoder {\r\n    @Override\r\n    public void start() {\r\n        // Disable the default message field\r\n        getFieldNames().setMessage(&quot;[ignore]&quot;);\r\n\r\n        // Add a new message field that truncates the message to 20 characters\r\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\r\n        patternProvider.setContext(getContext());\r\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\r\n        addProvider(patternProvider);\r\n        super.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlternatively, you can use `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder` (which is the superclass of `LogstashEncoder`), and build up the JSON event exactly as you like with JSON providers.  See [here](https://github.com/logstash/logstash-logback-encoder#composite-encoderlayout).\r\n\r\nFor example:\r\n\r\n```xml\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n    &lt;providers&gt;\r\n        &lt;pattern&gt;\r\n            &lt;pattern&gt;\r\n                {\r\n                &quot;timestamp&quot;: &quot;%date{ISO8601}&quot;,\r\n                &quot;message&quot;:&quot;%0.-20message&quot;\r\n                }\r\n            &lt;/pattern&gt;\r\n        &lt;/pattern&gt;\r\n        &lt;!--\r\n            To add additional fields to the JSON output, either\r\n            add the fields to the above pattern, or\r\n            add additional JSON providers here.\r\n         --&gt;\r\n    &lt;/providers&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nor as a custom encoder:\r\n\r\n```java\r\npublic class JsonEncoder extends LoggingEventCompositeJsonEncoder {\r\n    @Override\r\n    public void start() {\r\n        getProviders().addProvider(new LoggingEventFormattedTimestampJsonProvider());\r\n\r\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\r\n        patternProvider.setContext(getContext());\r\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\r\n        getProviders().addProvider(patternProvider);\r\n\r\n        /*\r\n         * To add additional fields to the JSON output, either\r\n         * add the fields to the above pattern, or\r\n         * add additional JSON providers here.\r\n         */\r\n        super.start();\r\n    }\r\n}\r\n```","title":"Limit message size with custom encoder using logback","body":"<p>To limit the <code>message</code> field within the JSON output when using the <code>net.logstash.logback.encoder.LogstashEncoder</code>, you'll need to:</p>\n<ol>\n<li>Disable the default <code>message</code> field output</li>\n<li>Add a custom <code>message</code> field using the pattern provider</li>\n</ol>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n    &lt;!-- Disable the default message field --&gt;\n    &lt;fieldNames&gt;\n        &lt;message&gt;[ignore]&lt;/message&gt;\n    &lt;/fieldNames&gt;\n    &lt;!-- Add a new message field that truncates the message to 20 characters --&gt;\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\n        &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-20message&quot;}&lt;/pattern&gt;\n    &lt;/provider&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>or as a custom encoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonEncoder extends LogstashEncoder {\n    @Override\n    public void start() {\n        // Disable the default message field\n        getFieldNames().setMessage(&quot;[ignore]&quot;);\n\n        // Add a new message field that truncates the message to 20 characters\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\n        patternProvider.setContext(getContext());\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\n        addProvider(patternProvider);\n        super.start();\n    }\n}\n\n</code></pre>\n<p>Alternatively, you can use <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code> (which is the superclass of <code>LogstashEncoder</code>), and build up the JSON event exactly as you like with JSON providers.  See <a href=\"https://github.com/logstash/logstash-logback-encoder#composite-encoderlayout\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n    &lt;providers&gt;\n        &lt;pattern&gt;\n            &lt;pattern&gt;\n                {\n                &quot;timestamp&quot;: &quot;%date{ISO8601}&quot;,\n                &quot;message&quot;:&quot;%0.-20message&quot;\n                }\n            &lt;/pattern&gt;\n        &lt;/pattern&gt;\n        &lt;!--\n            To add additional fields to the JSON output, either\n            add the fields to the above pattern, or\n            add additional JSON providers here.\n         --&gt;\n    &lt;/providers&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>or as a custom encoder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonEncoder extends LoggingEventCompositeJsonEncoder {\n    @Override\n    public void start() {\n        getProviders().addProvider(new LoggingEventFormattedTimestampJsonProvider());\n\n        LoggingEventPatternJsonProvider patternProvider = new LoggingEventPatternJsonProvider();\n        patternProvider.setContext(getContext());\n        patternProvider.setPattern(&quot;{\\&quot;message\\&quot;:\\&quot;%0.-20message\\&quot;}&quot;);\n        getProviders().addProvider(patternProvider);\n\n        /*\n         * To add additional fields to the JSON output, either\n         * add the fields to the above pattern, or\n         * add additional JSON providers here.\n         */\n        super.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679558150,"creation_date":1679558150,"answer_id":75820399,"question_id":62984942,"body_markdown":"My version:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \t&lt;property resource=&quot;application.yml&quot; /&gt;\r\n    \t&lt;contextName&gt;Operator Platform&lt;/contextName&gt;\r\n    \t&lt;springProfile name=&quot;!local&quot;&gt;\r\n    \t\t&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n    \t\t\t\t&lt;fieldNames&gt;\r\n    \t\t\t\t\t&lt;message&gt;[ignore]&lt;/message&gt;\r\n    \t\t\t\t&lt;/fieldNames&gt;\r\n    \t\t\t\t&lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\r\n    \t\t\t\t\t&lt;pattern&gt;{&quot;message&quot;:&quot;%0.-10500message&quot;}&lt;/pattern&gt;\r\n    \t\t\t\t&lt;/provider&gt;\r\n    \t\t\t\t&lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n    \t\t\t\t\t&lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\r\n    \t\t\t\t\t&lt;maxLength&gt;4096&lt;/maxLength&gt;\r\n    \t\t\t\t\t&lt;shortenedClassNameLength&gt;40&lt;/shortenedClassNameLength&gt;\r\n    \t\t\t\t\t&lt;!-- generated class names --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;\\$\\$FastClassByCGLIB\\$\\$&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;\\$\\$EnhancerBySpringCGLIB\\$\\$&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;!-- JDK internals --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^com\\.sun\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^sun\\.net\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;!-- dynamic invocation --&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.cglib\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.transaction\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.validation\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.app\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.aop\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^org\\.springframework\\.beans\\.&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;^java\\.lang\\.reflect\\.Method\\.invoke&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n    \t\t\t\t\t&lt;inlineHash&gt;true&lt;/inlineHash&gt;\r\n    \t\t\t\t&lt;/throwableConverter&gt;\r\n    \t\t\t\t&lt;providers&gt;\r\n    \t\t\t\t\t&lt;contextName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;app&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/contextName&gt;\r\n    \t\t\t\t\t&lt;timestamp&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;ts&lt;/fieldName&gt;\r\n    \t\t\t\t\t\t&lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n    \t\t\t\t\t&lt;/timestamp&gt;\r\n    \t\t\t\t\t&lt;loggerName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;logger&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/loggerName&gt;\r\n    \t\t\t\t\t&lt;logLevel&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;level&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/logLevel&gt;\r\n    \t\t\t\t\t&lt;callerData&gt;\r\n    \t\t\t\t\t\t&lt;classFieldName&gt;class&lt;/classFieldName&gt;\r\n    \t\t\t\t\t\t&lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\r\n    \t\t\t\t\t\t&lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\r\n    \t\t\t\t\t\t&lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\r\n    \t\t\t\t\t&lt;/callerData&gt;\r\n    \t\t\t\t\t&lt;threadName&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;thread&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/threadName&gt;\r\n    \t\t\t\t\t&lt;mdc&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;requestId&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/mdc&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t&lt;stackTrace&gt;\r\n    \t\t\t\t\t\t&lt;fieldName&gt;stack&lt;/fieldName&gt;\r\n    \t\t\t\t\t&lt;/stackTrace&gt;\r\n    \t\t\t\t&lt;/providers&gt;\r\n    \t\t\t&lt;/encoder&gt;\r\n    \t\t&lt;/appender&gt;\r\n    \t\t&lt;root level=&quot;INFO&quot;&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    \t\t&lt;/root&gt;\r\n    \t&lt;/springProfile&gt;\r\n    \t&lt;springProfile name=&quot;local&quot;&gt;\r\n    \t\t&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t\t&lt;encoder&gt;\r\n    \t\t\t\t&lt;pattern&gt;\r\n    \t\t\t\t\t%d{HH:mm:ss.SSS} | %5p | %logger{25} | %m%n\r\n    \t\t\t\t&lt;/pattern&gt;\r\n    \t\t\t\t&lt;charset&gt;utf8&lt;/charset&gt;\r\n    \t\t\t&lt;/encoder&gt;\r\n    \t\t&lt;/appender&gt;\r\n    \r\n    \t\t&lt;root level=&quot;DEBUG&quot;&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    \t\t&lt;/root&gt;\r\n    \t&lt;/springProfile&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Limit message size with custom encoder using logback","body":"<p>My version:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;property resource=&quot;application.yml&quot; /&gt;\n    &lt;contextName&gt;Operator Platform&lt;/contextName&gt;\n    &lt;springProfile name=&quot;!local&quot;&gt;\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;fieldNames&gt;\n                    &lt;message&gt;[ignore]&lt;/message&gt;\n                &lt;/fieldNames&gt;\n                &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.LoggingEventPatternJsonProvider&quot;&gt;\n                    &lt;pattern&gt;{&quot;message&quot;:&quot;%0.-10500message&quot;}&lt;/pattern&gt;\n                &lt;/provider&gt;\n                &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                    &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\n                    &lt;maxLength&gt;4096&lt;/maxLength&gt;\n                    &lt;shortenedClassNameLength&gt;40&lt;/shortenedClassNameLength&gt;\n                    &lt;!-- generated class names --&gt;\n                    &lt;exclude&gt;\\$\\$FastClassByCGLIB\\$\\$&lt;/exclude&gt;\n                    &lt;exclude&gt;\\$\\$EnhancerBySpringCGLIB\\$\\$&lt;/exclude&gt;\n                    &lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\n                    &lt;!-- JDK internals --&gt;\n                    &lt;exclude&gt;^com\\.sun\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^sun\\.net\\.&lt;/exclude&gt;\n                    &lt;!-- dynamic invocation --&gt;\n                    &lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.cglib\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.transaction\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.validation\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.app\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.aop\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^org\\.springframework\\.beans\\.&lt;/exclude&gt;\n                    &lt;exclude&gt;^java\\.lang\\.reflect\\.Method\\.invoke&lt;/exclude&gt;\n                    &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                    &lt;inlineHash&gt;true&lt;/inlineHash&gt;\n                &lt;/throwableConverter&gt;\n                &lt;providers&gt;\n                    &lt;contextName&gt;\n                        &lt;fieldName&gt;app&lt;/fieldName&gt;\n                    &lt;/contextName&gt;\n                    &lt;timestamp&gt;\n                        &lt;fieldName&gt;ts&lt;/fieldName&gt;\n                        &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n                    &lt;/timestamp&gt;\n                    &lt;loggerName&gt;\n                        &lt;fieldName&gt;logger&lt;/fieldName&gt;\n                    &lt;/loggerName&gt;\n                    &lt;logLevel&gt;\n                        &lt;fieldName&gt;level&lt;/fieldName&gt;\n                    &lt;/logLevel&gt;\n                    &lt;callerData&gt;\n                        &lt;classFieldName&gt;class&lt;/classFieldName&gt;\n                        &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\n                        &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\n                        &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\n                    &lt;/callerData&gt;\n                    &lt;threadName&gt;\n                        &lt;fieldName&gt;thread&lt;/fieldName&gt;\n                    &lt;/threadName&gt;\n                    &lt;mdc&gt;\n                        &lt;fieldName&gt;requestId&lt;/fieldName&gt;\n                    &lt;/mdc&gt;\n                    &lt;arguments&gt;\n                        &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\n                    &lt;/arguments&gt;\n                    &lt;stackTrace&gt;\n                        &lt;fieldName&gt;stack&lt;/fieldName&gt;\n                    &lt;/stackTrace&gt;\n                &lt;/providers&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;local&quot;&gt;\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;\n                    %d{HH:mm:ss.SSS} | %5p | %logger{25} | %m%n\n                &lt;/pattern&gt;\n                &lt;charset&gt;utf8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;root level=&quot;DEBUG&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":3650703,"reputation":379,"user_id":3042963,"accept_rate":38,"display_name":"Shalom Balulu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62987148,"answer_count":2,"score":2,"last_activity_date":1679558150,"creation_date":1595188257,"question_id":62984942,"body_markdown":"I&#39;m trying to limit the log message size, I succeed to do it with the error traceback (using `ShortenedThrowableConverter`) but I didn&#39;t manage to find a solution to the message itself.\r\n\r\nI know one way is to use `&lt;pattern/&gt;` but since I&#39;m implementing the encoder by myself.\r\n\r\nI tried using layout but encountered with this error below:\r\n```\r\nno applicable action for [layout], current ElementPath  is [[configuration][appender][encoder][layout]]\r\n```\r\n\r\nHere is some of my code:\r\n\r\nlogback.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;console-json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;com.test.log.logback.JsonEncoder&quot;&gt;\r\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                &lt;maxLength&gt;20&lt;/maxLength&gt;\r\n            &lt;/throwableConverter&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console-json&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n\r\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n    &lt;/contextListener&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nencoder: \r\n```\r\npackage com.test.log.logback;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport net.logstash.logback.stacktrace.ShortenedThrowableConverter;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\npublic class JsonEncoder extends net.logstash.logback.encoder.LogstashEncoder {\r\n\r\n\r\n    private String customFields;\r\n    ShortenedThrowableConverter converter = new ShortenedThrowableConverter();\r\n    public JsonEncoder() {\r\n        converter.setMaxLength(10);\r\n        setThrowableConverter(converter);\r\n        setFieldNames(new FieldNames());\r\n        setTimeZone(&quot;UTC&quot;);\r\n        setFindAndRegisterJacksonModules(false);\r\n    }   \r\n    \r\n}\r\n```","title":"Limit message size with custom encoder using logback","body":"<p>I'm trying to limit the log message size, I succeed to do it with the error traceback (using <code>ShortenedThrowableConverter</code>) but I didn't manage to find a solution to the message itself.</p>\n<p>I know one way is to use <code>&lt;pattern/&gt;</code> but since I'm implementing the encoder by myself.</p>\n<p>I tried using layout but encountered with this error below:</p>\n<pre><code>no applicable action for [layout], current ElementPath  is [[configuration][appender][encoder][layout]]\n</code></pre>\n<p>Here is some of my code:</p>\n<p>logback.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;console-json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;com.test.log.logback.JsonEncoder&quot;&gt;\n            &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                &lt;maxLength&gt;20&lt;/maxLength&gt;\n            &lt;/throwableConverter&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;console-json&quot; /&gt;\n    &lt;/root&gt;\n\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n    &lt;/contextListener&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>encoder:</p>\n<pre><code>package com.test.log.logback;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.logstash.logback.stacktrace.ShortenedThrowableConverter;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class JsonEncoder extends net.logstash.logback.encoder.LogstashEncoder {\n\n\n    private String customFields;\n    ShortenedThrowableConverter converter = new ShortenedThrowableConverter();\n    public JsonEncoder() {\n        converter.setMaxLength(10);\n        setThrowableConverter(converter);\n        setFieldNames(new FieldNames());\n        setTimeZone(&quot;UTC&quot;);\n        setFindAndRegisterJacksonModules(false);\n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-xml"],"answers":[{"comments":[{"owner":{"account_id":17253722,"reputation":135,"user_id":12493323,"display_name":"inquirymind"},"score":0,"creation_date":1679504914,"post_id":75813946,"comment_id":133735404,"body_markdown":"custom element doesn&#39;t sound familiar. Can you please add an example?","body":"custom element doesn&#39;t sound familiar. Can you please add an example?"}],"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679497374,"creation_date":1679497374,"answer_id":75813946,"question_id":75811884,"body_markdown":"I don&#39;t think you can do it the way you are describing it with `namespace` attribute. It needs be custom element `xmlns:n1` not namespace","title":"Set namespace prefix in jackson POJO","body":"<p>I don't think you can do it the way you are describing it with <code>namespace</code> attribute. It needs be custom element <code>xmlns:n1</code> not namespace</p>\n"}],"owner":{"account_id":17253722,"reputation":135,"user_id":12493323,"display_name":"inquirymind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679558002,"creation_date":1679485771,"question_id":75811884,"body_markdown":"In a *Spring Boot 2.7.7* application using *jackson-databind, jackson-dataformat-xml and jackson-datatype-jsr310* I want to generate this XML with namespaces and, more important, the prefix n1 (must be this one):\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\r\n&lt;n1:EventMessage\r\n      xmlns:n1=&quot;http://we.com/2016/path/Types&quot;&gt;\r\n   &lt;n1:Header&gt;\r\n      &lt;n1:EventID&gt;eventid&lt;/n1:EventID&gt;\r\n      &lt;n1:EventTime&gt;eventTime&lt;/n1:EventTime&gt;\r\n   &lt;/n1:Header&gt;\r\n&lt;/n1:EventMessage&gt;\r\n````\r\n\r\nFor this I have two POJOs:\r\n````\r\n@JacksonXmlRootElement(localName = &quot;EventMessage&quot;, namespace = &quot;http://we.com/2016/path/Types&quot;)\r\npublic class EventMessage {\r\n    @XmlElement(name = &quot;Header&quot;)\r\n    private Header header;\r\n}\r\n````\r\n````\r\npublic class Header {\r\n\r\n    @XmlElement(name = &quot;EventID&quot;)\r\n    private String eventId;\r\n\r\n    @XmlElement(name = &quot;EventTime&quot;)\r\n    private String eventTime;\r\n````\r\nand try to generate with:\r\n````\r\nXmlMapper mapper = new XmlMapper();\r\nmapper.writeValueAsString(eventMessage);\r\n````\r\nwhat I get is\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\r\n&lt;EventMessage\r\n      xmlns=&quot;http://we.com/2016/path/Types&quot;&gt;\r\n   &lt;Header&gt;\r\n      &lt;EventID&gt;eventid&lt;/EventID&gt;\r\n      &lt;EventTime&gt;eventTime&lt;/EventTime&gt;\r\n   &lt;/Header&gt;\r\n&lt;/EventMessage&gt;\r\n````\r\n\r\nHow can I add the *n1:* prefix and add the *:n1* to xmlns?","title":"Set namespace prefix in jackson POJO","body":"<p>In a <em>Spring Boot 2.7.7</em> application using <em>jackson-databind, jackson-dataformat-xml and jackson-datatype-jsr310</em> I want to generate this XML with namespaces and, more important, the prefix n1 (must be this one):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\n&lt;n1:EventMessage\n      xmlns:n1=&quot;http://we.com/2016/path/Types&quot;&gt;\n   &lt;n1:Header&gt;\n      &lt;n1:EventID&gt;eventid&lt;/n1:EventID&gt;\n      &lt;n1:EventTime&gt;eventTime&lt;/n1:EventTime&gt;\n   &lt;/n1:Header&gt;\n&lt;/n1:EventMessage&gt;\n</code></pre>\n<p>For this I have two POJOs:</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;EventMessage&quot;, namespace = &quot;http://we.com/2016/path/Types&quot;)\npublic class EventMessage {\n    @XmlElement(name = &quot;Header&quot;)\n    private Header header;\n}\n</code></pre>\n<pre><code>public class Header {\n\n    @XmlElement(name = &quot;EventID&quot;)\n    private String eventId;\n\n    @XmlElement(name = &quot;EventTime&quot;)\n    private String eventTime;\n</code></pre>\n<p>and try to generate with:</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nmapper.writeValueAsString(eventMessage);\n</code></pre>\n<p>what I get is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ASCII&quot; ?&gt;\n&lt;EventMessage\n      xmlns=&quot;http://we.com/2016/path/Types&quot;&gt;\n   &lt;Header&gt;\n      &lt;EventID&gt;eventid&lt;/EventID&gt;\n      &lt;EventTime&gt;eventTime&lt;/EventTime&gt;\n   &lt;/Header&gt;\n&lt;/EventMessage&gt;\n</code></pre>\n<p>How can I add the <em>n1:</em> prefix and add the <em>:n1</em> to xmlns?</p>\n"},{"tags":["java","json","automation","rest-assured-jsonpath","jsonassert"],"owner":{"account_id":7705429,"reputation":1,"user_id":5836549,"display_name":"Java Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679557785,"creation_date":1679555329,"question_id":75820073,"body_markdown":"[error image that show value is not getting populated from json][1]Below given is json file used for comparison assume It is having 2 copies which are getting compared\r\n```\r\n{\r\n  &quot;FileInformation&quot;: [\r\n    {\r\n      &quot;ProductCode&quot;: &quot;&quot;,\r\n      &quot;MaterialName&quot;: &quot;&quot;,\r\n      &quot;GneBatchNum&quot;: &quot;3336515&quot;,\r\n      &quot;VendorName&quot;: &quot;abc&quot;,\r\n      &quot;MfgBatchNum&quot;: &quot;2122866&quot;,\r\n      &quot;GneReceiveDate&quot;: &quot;19-Aug-08&quot;,\r\n      &quot;DocumentDate&quot;: &quot;20-Apr-2018&quot;,\r\n      &quot;FileName&quot;: &quot;0C8B03C08BF2B8DDA13E75168E888D22.pdf&quot;,\r\n      &quot;documentURL&quot;: &quot;https://hostname/csp/ui/#!/doc/c0b7cc29-e263-4b47-b420-608dbf0bed96A&quot;,\r\n      &quot;extracted_text&quot;: &quot;Print timestamp: 17-Oct-2019 20:20:56&quot;\r\n    }\r\n  ],\r\n  &quot;MaterialParameters&quot;: [\r\n    {\r\n      &quot;Attribute&quot;: &quot;1 Amino Acid Quantitative Amino Acids Quantified&quot;,\r\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\r\n      &quot;Method&quot;: &quot;&quot;,\r\n      &quot;Units&quot;: &quot;&quot;,\r\n      &quot;Result&quot;: &quot;Acceptable&quot;\r\n    },\r\n    {\r\n      &quot;Attribute&quot;: &quot;2 Appearance White to Tan Powder&quot;,\r\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\r\n      &quot;Method&quot;: &quot;&quot;,\r\n      &quot;Units&quot;: &quot;&quot;,\r\n      &quot;Result&quot;: &quot;Acceptable&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nJava code responsible to compare I am using skyscreamer jsonassert Customization for ignoring a attribute in comparision.\r\n```\r\n@Then(&quot;^Compare and validate the expected downloaded Json with actual Json$&quot;)\r\npublic void compare_files_Json(DataTable path) {\r\n    scenario.log(&quot;Compare json files initiated&quot;);\r\n    try {\r\n        List &lt; Map &lt; String, String &gt;&gt; responseMessageMap = path.asMaps(String.class, String.class);\r\n        String expectedrespath = responseMessageMap.get(0).get(&quot;expected&quot;);\r\n        String projectId = responseMessageMap.get(0).get(&quot;projectId&quot;);\r\n        String bucketName = responseMessageMap.get(0).get(&quot;bucketName&quot;);\r\n        String directoryPrefix = responseMessageMap.get(0).get(&quot;directoryPrefix&quot;);\r\n        String objectName = responseMessageMap.get(0).get(&quot;objectName&quot;);\r\n        String filePath = responseMessageMap.get(0).get(&quot;filePath&quot;);\r\n        String outputrequest = CloudStorageFileProcessingUtil.downloadObject(projectId, bucketName, directoryPrefix,\r\n            objectName, filePath);\r\n        // Reading data from input json payload\r\n        String expectedresult = new String(Files.readAllBytes(Paths.get(expectedrespath)));\r\n\r\n        scenario.log(&quot;------------------------------------------&quot;);\r\n        scenario.log(&quot;Expected Exceptions are as below:&quot;);\r\n        scenario.log(expectedresult);\r\n        scenario.log(&quot;------------------------------------------&quot;);\r\n        scenario.log(&quot;Actual Exceptions are as below:&quot;);\r\n        scenario.log(outputrequest);\r\n        // Comparing input and output json data\r\n\r\n        JSONComparator com = new CustomComparator(JSONCompareMode.STRICT, new Customization(&quot;FileInformation.[0].documentURL&quot;, (o1, o2) - &gt; true));\r\n        JSONAssert.assertEquals(expectedresult, outputrequest, com);\r\n    } catch (Exception e) {\r\n        scenario.log(&quot;Exception occured:&quot; + e);\r\n        Assert.fail(&quot;Exception occurred while Json file comparison&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand the error\r\nwhile accessing the field &quot;documentURL&quot;\r\nfor ignoring during comparison is\r\n    [enter image description here](https: //i.stack.imgur.com/tJiw1.png)\r\n\r\n        I have tried below trees also but nothing is working FileInformation.[0].documentURL and FileInformation.documentURL and[0].FileInformation.documentURL\r\n\r\n        please suggest me\r\n        if am doing any mistake in accessing the json Attribute\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wecmo.png","title":"Comparing 2 complex nested array of Json objects while ignoring one field that is &quot;documentURL&quot; in Java and getting error &quot; class has no field&quot; error","body":"<p><a href=\"https://i.stack.imgur.com/wecmo.png\" rel=\"nofollow noreferrer\">error image that show value is not getting populated from json</a>Below given is json file used for comparison assume It is having 2 copies which are getting compared</p>\n<pre><code>{\n  &quot;FileInformation&quot;: [\n    {\n      &quot;ProductCode&quot;: &quot;&quot;,\n      &quot;MaterialName&quot;: &quot;&quot;,\n      &quot;GneBatchNum&quot;: &quot;3336515&quot;,\n      &quot;VendorName&quot;: &quot;abc&quot;,\n      &quot;MfgBatchNum&quot;: &quot;2122866&quot;,\n      &quot;GneReceiveDate&quot;: &quot;19-Aug-08&quot;,\n      &quot;DocumentDate&quot;: &quot;20-Apr-2018&quot;,\n      &quot;FileName&quot;: &quot;0C8B03C08BF2B8DDA13E75168E888D22.pdf&quot;,\n      &quot;documentURL&quot;: &quot;https://hostname/csp/ui/#!/doc/c0b7cc29-e263-4b47-b420-608dbf0bed96A&quot;,\n      &quot;extracted_text&quot;: &quot;Print timestamp: 17-Oct-2019 20:20:56&quot;\n    }\n  ],\n  &quot;MaterialParameters&quot;: [\n    {\n      &quot;Attribute&quot;: &quot;1 Amino Acid Quantitative Amino Acids Quantified&quot;,\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\n      &quot;Method&quot;: &quot;&quot;,\n      &quot;Units&quot;: &quot;&quot;,\n      &quot;Result&quot;: &quot;Acceptable&quot;\n    },\n    {\n      &quot;Attribute&quot;: &quot;2 Appearance White to Tan Powder&quot;,\n      &quot;Specification&quot;: &quot;Acceptable&quot;,\n      &quot;Method&quot;: &quot;&quot;,\n      &quot;Units&quot;: &quot;&quot;,\n      &quot;Result&quot;: &quot;Acceptable&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Java code responsible to compare I am using skyscreamer jsonassert Customization for ignoring a attribute in comparision.</p>\n<pre><code>@Then(&quot;^Compare and validate the expected downloaded Json with actual Json$&quot;)\npublic void compare_files_Json(DataTable path) {\n    scenario.log(&quot;Compare json files initiated&quot;);\n    try {\n        List &lt; Map &lt; String, String &gt;&gt; responseMessageMap = path.asMaps(String.class, String.class);\n        String expectedrespath = responseMessageMap.get(0).get(&quot;expected&quot;);\n        String projectId = responseMessageMap.get(0).get(&quot;projectId&quot;);\n        String bucketName = responseMessageMap.get(0).get(&quot;bucketName&quot;);\n        String directoryPrefix = responseMessageMap.get(0).get(&quot;directoryPrefix&quot;);\n        String objectName = responseMessageMap.get(0).get(&quot;objectName&quot;);\n        String filePath = responseMessageMap.get(0).get(&quot;filePath&quot;);\n        String outputrequest = CloudStorageFileProcessingUtil.downloadObject(projectId, bucketName, directoryPrefix,\n            objectName, filePath);\n        // Reading data from input json payload\n        String expectedresult = new String(Files.readAllBytes(Paths.get(expectedrespath)));\n\n        scenario.log(&quot;------------------------------------------&quot;);\n        scenario.log(&quot;Expected Exceptions are as below:&quot;);\n        scenario.log(expectedresult);\n        scenario.log(&quot;------------------------------------------&quot;);\n        scenario.log(&quot;Actual Exceptions are as below:&quot;);\n        scenario.log(outputrequest);\n        // Comparing input and output json data\n\n        JSONComparator com = new CustomComparator(JSONCompareMode.STRICT, new Customization(&quot;FileInformation.[0].documentURL&quot;, (o1, o2) - &gt; true));\n        JSONAssert.assertEquals(expectedresult, outputrequest, com);\n    } catch (Exception e) {\n        scenario.log(&quot;Exception occured:&quot; + e);\n        Assert.fail(&quot;Exception occurred while Json file comparison&quot;);\n    }\n}\n</code></pre>\n<p>and the error\nwhile accessing the field &quot;documentURL&quot;\nfor ignoring during comparison is\n[enter image description here](https: //i.stack.imgur.com/tJiw1.png)</p>\n<pre><code>    I have tried below trees also but nothing is working FileInformation.[0].documentURL and FileInformation.documentURL and[0].FileInformation.documentURL\n\n    please suggest me\n    if am doing any mistake in accessing the json Attribute\n</code></pre>\n"},{"tags":["java","spring","spring-webclient"],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679557490,"creation_date":1679554761,"question_id":75820007,"body_markdown":"I&#39;m want to log headers and body from my request and response which is made trough WebClient HttpInterface in Spring 6.\r\nFor that i created a filter to log. But it is seams that the filter I can only intercept the headers not the body.\r\n\r\n     final HttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\r\n                    .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\r\n                    .setDefaultRequestConfig(RequestConfig.custom()\r\n                            .setConnectTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .setResponseTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .setConnectionRequestTimeout(this.myTimeout, TimeUnit.SECONDS)\r\n                            .build()\r\n                    );\r\n            final CloseableHttpAsyncClient client = clientBuilder\r\n                    .build();\r\n    \r\n            final WebClient webClient = WebClient.builder()\r\n                    .clientConnector(new HttpComponentsClientHttpConnector(client))\r\n                    .baseUrl(this.myBaseUrl)\r\n                    .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\r\n                    .filter(this.logRequest())\r\n                    .build();\r\n    \r\n            final var proxy = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient))\r\n                    .blockTimeout(Duration.ofSeconds(this.myTimeout))\r\n                    .build();\r\n            var myClient = proxy.createClient(MyClient.class);\r\n\r\nAnd here my filter\r\n\r\n    private ExchangeFilterFunction logRequest(final String id) {\r\n    \r\n            return (clientRequest, next) -&gt; {\r\n                return next.exchange(clientRequest).flatMap(\r\n                        clientResponse -&gt; {\r\n    \r\n                            final var url = String.format(&quot;[%s] %s (%s)&quot;, clientRequest.method().name(), clientRequest.url(), clientResponse.statusCode().value());\r\n    \r\n                            // Request\r\n                            var requestHdrs = &quot;&quot;;\r\n                            for (final var header : clientRequest.headers().entrySet()) {\r\n                                requestHdrs = requestHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\r\n                            }\r\n                            rawRequests.put(id, url + &quot;\\n&quot; + requestHdrs + &quot;\\n&quot;);\r\n    \r\n                            // Response\r\n                            var responseHdrs = &quot;&quot;;\r\n                            for (final var header : clientResponse.headers().asHttpHeaders().entrySet()) {\r\n                                responseHdrs = responseHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\r\n                            }\r\n                            rawResponses.put(id, url + &quot;\\n&quot; + responseHdrs + &quot;\\n&quot; + clientResponse.bodyToMono(String.class));\r\n    \r\n                            return Mono.just(clientResponse);\r\n                        }\r\n                );\r\n            };\r\n        }\r\n\r\n\r\nThe clientResponse.bodyToMono(String.class)) does not return the body and in the request I also do not know how to get the body.","title":"Intercept headers and body from WebClient","body":"<p>I'm want to log headers and body from my request and response which is made trough WebClient HttpInterface in Spring 6.\nFor that i created a filter to log. But it is seams that the filter I can only intercept the headers not the body.</p>\n<pre><code> final HttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\n                .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\n                .setDefaultRequestConfig(RequestConfig.custom()\n                        .setConnectTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .setResponseTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .setConnectionRequestTimeout(this.myTimeout, TimeUnit.SECONDS)\n                        .build()\n                );\n        final CloseableHttpAsyncClient client = clientBuilder\n                .build();\n\n        final WebClient webClient = WebClient.builder()\n                .clientConnector(new HttpComponentsClientHttpConnector(client))\n                .baseUrl(this.myBaseUrl)\n                .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\n                .filter(this.logRequest())\n                .build();\n\n        final var proxy = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient))\n                .blockTimeout(Duration.ofSeconds(this.myTimeout))\n                .build();\n        var myClient = proxy.createClient(MyClient.class);\n</code></pre>\n<p>And here my filter</p>\n<pre><code>private ExchangeFilterFunction logRequest(final String id) {\n\n        return (clientRequest, next) -&gt; {\n            return next.exchange(clientRequest).flatMap(\n                    clientResponse -&gt; {\n\n                        final var url = String.format(&quot;[%s] %s (%s)&quot;, clientRequest.method().name(), clientRequest.url(), clientResponse.statusCode().value());\n\n                        // Request\n                        var requestHdrs = &quot;&quot;;\n                        for (final var header : clientRequest.headers().entrySet()) {\n                            requestHdrs = requestHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\n                        }\n                        rawRequests.put(id, url + &quot;\\n&quot; + requestHdrs + &quot;\\n&quot;);\n\n                        // Response\n                        var responseHdrs = &quot;&quot;;\n                        for (final var header : clientResponse.headers().asHttpHeaders().entrySet()) {\n                            responseHdrs = responseHdrs + header.getKey() + &quot;=&quot; + (header.getValue().size() == 1 ? header.getValue().get(0) : header.getValue()) + &quot;\\n&quot;;\n                        }\n                        rawResponses.put(id, url + &quot;\\n&quot; + responseHdrs + &quot;\\n&quot; + clientResponse.bodyToMono(String.class));\n\n                        return Mono.just(clientResponse);\n                    }\n            );\n        };\n    }\n</code></pre>\n<p>The clientResponse.bodyToMono(String.class)) does not return the body and in the request I also do not know how to get the body.</p>\n"},{"tags":["java","maven","gradle","package","gitlab"],"answers":[{"tags":[],"owner":{"account_id":9335149,"reputation":11,"user_id":6929589,"display_name":"japzio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679557282,"creation_date":1679557282,"answer_id":75820298,"question_id":75129197,"body_markdown":"for jobs running in gitlab, configure `ci_settings.xml` and use property name `Job-Token`\r\n\r\n           &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Job-Token&lt;/name&gt;\r\n                        &lt;value&gt;${env.CI_JOB_TOKEN}&lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n\r\nwhen running maven locally, use `Private-Token` property name in `.m2/settings.xml`\r\n\r\n     &lt;server&gt;\r\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n      &lt;configuration&gt;\r\n        &lt;httpHeaders&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;Private-Token&lt;/name&gt;\r\n            &lt;value&gt;tOk3n&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/httpHeaders&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n\r\nhttps://docs.gitlab.com/ee/user/packages/maven_repository/","title":"Issue pulling package from Gitlab Package Registry Maven","body":"<p>for jobs running in gitlab, configure <code>ci_settings.xml</code> and use property name <code>Job-Token</code></p>\n<pre><code>       &lt;server&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;httpHeaders&gt;\n                &lt;property&gt;\n                    &lt;name&gt;Job-Token&lt;/name&gt;\n                    &lt;value&gt;${env.CI_JOB_TOKEN}&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/httpHeaders&gt;\n        &lt;/configuration&gt;\n    &lt;/server&gt;\n</code></pre>\n<p>when running maven locally, use <code>Private-Token</code> property name in <code>.m2/settings.xml</code></p>\n<pre><code> &lt;server&gt;\n  &lt;id&gt;gitlab-maven&lt;/id&gt;\n  &lt;configuration&gt;\n    &lt;httpHeaders&gt;\n      &lt;property&gt;\n        &lt;name&gt;Private-Token&lt;/name&gt;\n        &lt;value&gt;tOk3n&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/httpHeaders&gt;\n  &lt;/configuration&gt;\n&lt;/server&gt;\n</code></pre>\n<p><a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/packages/maven_repository/</a></p>\n"}],"owner":{"account_id":13584095,"reputation":33,"user_id":9832335,"display_name":"Narrador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679557282,"creation_date":1673826602,"question_id":75129197,"body_markdown":"I try to pull packages from Gitlab Package Registry, but get error:\r\nCould not find group:package:0.0.18-SNAPSHOT.\r\nThis package is really exist in package registry \r\nCan anybody help?\r\nam i missing something?\r\n\r\n**I&#39;ve tried with gradle:**\r\nbuild.gradle:\r\n\r\n    repositories {\r\n       mavenCentral(),\r\n       maven {\r\n           url &quot;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&quot;\r\n           name &quot;GitLab&quot;\r\n           credentials(HttpHeaderCredentials) {\r\n               name = &quot;&lt;deploy-token-username&gt;&quot;\r\n               value = &quot;deploy-token-value&quot;\r\n           }\r\n           authentication {\r\n               header(HttpHeaderAuthentication)\r\n           }\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&quot;&lt;group&gt;:&lt;package&gt;:0.0.18-SNAPSHOT&quot;) \r\n    }\r\n\r\n**And with maven:**\r\npom.xml:\r\n\r\n     &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;group&lt;/groupId&gt;\r\n            &lt;artifactId&gt;package&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.18-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n.../.m2/settings.xml:\r\n\r\n    &lt;settings&gt;\r\n       &lt;servers&gt;\r\n         &lt;server&gt;\r\n           &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n           &lt;configuration&gt;\r\n             &lt;httpHeaders&gt;\r\n               &lt;property&gt;\r\n                 &lt;name&gt;deploy-token-username&lt;/name&gt;\r\n                 &lt;value&gt;deploy-token-value&lt;/value&gt;\r\n               &lt;/property&gt;\r\n             &lt;/httpHeaders&gt;\r\n           &lt;/configuration&gt;\r\n         &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;","title":"Issue pulling package from Gitlab Package Registry Maven","body":"<p>I try to pull packages from Gitlab Package Registry, but get error:\nCould not find group:package:0.0.18-SNAPSHOT.\nThis package is really exist in package registry\nCan anybody help?\nam i missing something?</p>\n<p><strong>I've tried with gradle:</strong>\nbuild.gradle:</p>\n<pre><code>repositories {\n   mavenCentral(),\n   maven {\n       url &quot;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&quot;\n       name &quot;GitLab&quot;\n       credentials(HttpHeaderCredentials) {\n           name = &quot;&lt;deploy-token-username&gt;&quot;\n           value = &quot;deploy-token-value&quot;\n       }\n       authentication {\n           header(HttpHeaderAuthentication)\n       }\n   }\n}\n\ndependencies {\n    implementation(&quot;&lt;group&gt;:&lt;package&gt;:0.0.18-SNAPSHOT&quot;) \n}\n</code></pre>\n<p><strong>And with maven:</strong>\npom.xml:</p>\n<pre><code> &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/groups/&lt;group-id&gt;/-/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;gitlab-maven&lt;/id&gt;\n        &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project-id&gt;/packages/maven&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;group&lt;/groupId&gt;\n        &lt;artifactId&gt;package&lt;/artifactId&gt;\n        &lt;version&gt;0.0.18-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>.../.m2/settings.xml:</p>\n<pre><code>&lt;settings&gt;\n   &lt;servers&gt;\n     &lt;server&gt;\n       &lt;id&gt;gitlab-maven&lt;/id&gt;\n       &lt;configuration&gt;\n         &lt;httpHeaders&gt;\n           &lt;property&gt;\n             &lt;name&gt;deploy-token-username&lt;/name&gt;\n             &lt;value&gt;deploy-token-value&lt;/value&gt;\n           &lt;/property&gt;\n         &lt;/httpHeaders&gt;\n       &lt;/configuration&gt;\n     &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":["java","file","split","java-8","nio"],"comments":[{"owner":{"account_id":431277,"reputation":1398,"user_id":815227,"accept_rate":52,"display_name":"kazbeel"},"score":0,"creation_date":1453445020,"post_id":34940498,"comment_id":57613003,"body_markdown":"You may just start reading and formating line per line until you reach 100k and then save the new *part* file.","body":"You may just start reading and formating line per line until you reach 100k and then save the new <i>part</i> file."},{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453449127,"post_id":34940498,"comment_id":57614810,"body_markdown":"@WoozyCoder, hi! :) That&#39;s basically what I&#39;ve said on the last part of my post. Haha. My question is how do I do that using Java 8? Code snippets would be really helpful. :)","body":"@WoozyCoder, hi! :) That&#39;s basically what I&#39;ve said on the last part of my post. Haha. My question is how do I do that using Java 8? Code snippets would be really helpful. :)"},{"owner":{"account_id":431277,"reputation":1398,"user_id":815227,"accept_rate":52,"display_name":"kazbeel"},"score":0,"creation_date":1453450091,"post_id":34940498,"comment_id":57615246,"body_markdown":"You could use an `List&lt;String&gt;` to store the formatted data (don&#39;t really know what you mean with this, though). When you reach 100k or the end of the file, create the *part* file, save the data contained in the `ArrayList&lt;String&gt;` and continue with the next bunch of lines. Here the thing is, what have you tried so far?","body":"You could use an <code>List&lt;String&gt;</code> to store the formatted data (don&#39;t really know what you mean with this, though). When you reach 100k or the end of the file, create the <i>part</i> file, save the data contained in the <code>ArrayList&lt;String&gt;</code> and continue with the next bunch of lines. Here the thing is, what have you tried so far?"},{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453688396,"post_id":34940498,"comment_id":57697264,"body_markdown":"@WoozyCoder tried your idea and it works with smaller files. Not sure how it&#39;ll fare with large files though. I&#39;ll also be trying Tunaki and Jatin&#39;s answers to test which of your ideas is more fast and memory-efficient, since I will be using this on a production scale environment. :)","body":"@WoozyCoder tried your idea and it works with smaller files. Not sure how it&#39;ll fare with large files though. I&#39;ll also be trying Tunaki and Jatin&#39;s answers to test which of your ideas is more fast and memory-efficient, since I will be using this on a production scale environment. :)"}],"answers":[{"comments":[{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453690269,"post_id":34942287,"comment_id":57697686,"body_markdown":"Hi @Jatin! What scares me about Java 8 is how complex it is and how it makes code super hard to read for some developers like me. Looking at your answer, it was kind of hard to understand what the your code was trying to accomplish. &lt;br/&gt; Tried to research the `.reduce()` function and that confused me even more. :( Also tried running your code but `BufferedReader` doesn&#39;t take a `FileReader` as a valid constructor argument. That goes the same with `BufferedWriter`. &lt;br/&gt; The purpose of `ans.getValue().close()` is also confusing. Maybe you can try breaking down your answer?","body":"Hi @Jatin! What scares me about Java 8 is how complex it is and how it makes code super hard to read for some developers like me. Looking at your answer, it was kind of hard to understand what the your code was trying to accomplish. &lt;br/&gt; Tried to research the <code>.reduce()</code> function and that confused me even more. :( Also tried running your code but <code>BufferedReader</code> doesn&#39;t take a <code>FileReader</code> as a valid constructor argument. That goes the same with <code>BufferedWriter</code>. &lt;br/&gt; The purpose of <code>ans.getValue().close()</code> is also confusing. Maybe you can try breaking down your answer?"},{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1453709643,"post_id":34942287,"comment_id":57704014,"body_markdown":"@BubeyReb That code compiles and runs fine. BufferedReader does take  Reader as argument. So FileReader is valid constructor argument. Same is true with BufferedWriter which takes Writer.\n\nSo the idea is: For each line, if the count has not crossed 1000, write it using the writer available. If it has, then reset the count, create a new writer and carry it forward and do close the previous writer. Keep repeating this process.\nNow in the end, close the last remaining writer.","body":"@BubeyReb That code compiles and runs fine. BufferedReader does take  Reader as argument. So FileReader is valid constructor argument. Same is true with BufferedWriter which takes Writer.  So the idea is: For each line, if the count has not crossed 1000, write it using the writer available. If it has, then reset the count, create a new writer and carry it forward and do close the previous writer. Keep repeating this process. Now in the end, close the last remaining writer."},{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1453709711,"post_id":34942287,"comment_id":57704036,"body_markdown":"By the way you also need to import javafx.util.Pair. Well you could use someother Pair class. I needed a tuple and this felt ok.","body":"By the way you also need to import javafx.util.Pair. Well you could use someother Pair class. I needed a tuple and this felt ok."}],"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453709724,"creation_date":1453451994,"answer_id":34942287,"question_id":34940498,"body_markdown":"From what I understand in question. A simple way can be:\r\n\r\n    BufferedReader buff = new BufferedReader(new FileReader(new File(&quot;H:\\\\Docs\\\\log.txt&quot;)));\r\n    Pair&lt;Integer, BufferedWriter&gt; ans = buff.lines().reduce(new Pair&lt;Integer, BufferedWriter&gt;(0, null), (count, line) -&gt; {\r\n        try {\r\n            BufferedWriter w;\r\n            if (count.getKey() % 1000 == 0) {\r\n                if (count.getValue() != null) count.getValue().close();\r\n                w = new BufferedWriter(new FileWriter(new File(&quot;f&quot; + count.getKey() + &quot;.txt&quot;)));\r\n            } else w = count.getValue();\r\n            w.write(line + &quot;\\n&quot;); //do something\r\n            return new Pair&lt;&gt;(count.getKey() + 1, w);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }, (x, y) -&gt; {\r\n        throw new RuntimeException(&quot;Not supproted&quot;);\r\n    });\r\n    ans.getValue().close();","title":"Processing and splitting large files with Java 8","body":"<p>From what I understand in question. A simple way can be:</p>\n\n<pre><code>BufferedReader buff = new BufferedReader(new FileReader(new File(\"H:\\\\Docs\\\\log.txt\")));\nPair&lt;Integer, BufferedWriter&gt; ans = buff.lines().reduce(new Pair&lt;Integer, BufferedWriter&gt;(0, null), (count, line) -&gt; {\n    try {\n        BufferedWriter w;\n        if (count.getKey() % 1000 == 0) {\n            if (count.getValue() != null) count.getValue().close();\n            w = new BufferedWriter(new FileWriter(new File(\"f\" + count.getKey() + \".txt\")));\n        } else w = count.getValue();\n        w.write(line + \"\\n\"); //do something\n        return new Pair&lt;&gt;(count.getKey() + 1, w);\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}, (x, y) -&gt; {\n    throw new RuntimeException(\"Not supproted\");\n});\nans.getValue().close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"score":0,"creation_date":1453689247,"post_id":34942971,"comment_id":57697457,"body_markdown":"Thanks, @Tunaki! :) I will be trying out your answer, and I&#39;ll give update.. :) I&#39;m kind of having second thoughts using another framework, since I want to try how Java 8 alone fares with the problem. Do you think using the Spring Batch will be more efficient instead of Java&#39;s native libraries in terms of memory and speed? :)","body":"Thanks, @Tunaki! :) I will be trying out your answer, and I&#39;ll give update.. :) I&#39;m kind of having second thoughts using another framework, since I want to try how Java 8 alone fares with the problem. Do you think using the Spring Batch will be more efficient instead of Java&#39;s native libraries in terms of memory and speed? :)"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1453709468,"post_id":34942971,"comment_id":57703934,"body_markdown":"@BubeyReb It isn&#39;t strictly a question of efficiency, Spring Batch just provides prebuilt tools for batching processes (you can read its into [here](http://projects.spring.io/spring-batch/)), like transaction management, job processing statistics, job restart, skip, and resource management... So if this something you want to have (and you intend to write multiple batches), you can keep it in mind ;). It is definitely too much for this particular simple example.","body":"@BubeyReb It isn&#39;t strictly a question of efficiency, Spring Batch just provides prebuilt tools for batching processes (you can read its into <a href=\"http://projects.spring.io/spring-batch/\" rel=\"nofollow noreferrer\">here</a>), like transaction management, job processing statistics, job restart, skip, and resource management... So if this something you want to have (and you intend to write multiple batches), you can keep it in mind ;). It is definitely too much for this particular simple example."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453454192,"creation_date":1453454192,"answer_id":34942971,"question_id":34940498,"body_markdown":"When you start conceiving batch processes, I think you should consider using a framework specialized in that. You may want to handle restarts, scheduling... [Spring Batch](http://projects.spring.io/spring-batch/) is very good for that and already provides what you want: [`MultiResourceItemWriter`](https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/MultiResourceItemWriter.html) that writes to multiple files with max lines per file and [`FlatFileItemReader`](https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/FlatFileItemReader.html) to read data from a file.\r\n\r\n&lt;hr&gt;\r\n\r\nIn this case, what you want is to loop over each line of an input file and write a transformation of each line in multiple output files.\r\n\r\nOne way to do that would be to create a Stream over the lines of the input file, map each line and send it to a custom writer. This custom writer would implement the logic of switching writer when it has reached the maximum number of lines per file.\r\n\r\nIn the following code `MyWriter` opens a `BufferedWriter` to a file. When the `maxLines` is reached (a multiple of it), this writer is closed and another one is opened, incrementing `currentFile`. This way, it is transparent for the reader that we&#39;re writing to multiple files.\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\ttry (\r\n\t\t\tMyWriter writer = new MyWriter(10);\r\n\t\t\tStream&lt;String&gt; lines = Files.lines(Paths.get(&quot;path/to/file&quot;));\r\n\t\t) {\r\n\t\t\tlines.map(l -&gt; /* do transformation here */ l).forEach(writer::write);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class MyWriter implements AutoCloseable {\r\n\t\t\r\n\t\tprivate long count = 0, currentFile = 1, maxLines = 0;\r\n\t\tprivate BufferedWriter bw = null;\r\n\t\t\r\n\t\tpublic MyWriter(long maxLines) {\r\n\t\t\tthis.maxLines = maxLines;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void write(String line) {\r\n\t\t\ttry {\r\n\t\t\t\tif (count % maxLines == 0) {\r\n\t\t\t\t\tclose();\r\n\t\t\t\t\tbw = Files.newBufferedWriter(Paths.get(&quot;path/to/newFiles/newFile&quot; + currentFile++ + &quot;.txt&quot;));\r\n\t\t\t\t}\r\n\t\t\t\tbw.write(line);\r\n\t\t\t\tbw.newLine();\r\n\t\t\t\tcount++;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new UncheckedIOException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void close() throws IOException {\r\n\t\t\tif (bw != null) bw.close();\r\n\t\t}\r\n\t}\r\n","title":"Processing and splitting large files with Java 8","body":"<p>When you start conceiving batch processes, I think you should consider using a framework specialized in that. You may want to handle restarts, scheduling... <a href=\"http://projects.spring.io/spring-batch/\" rel=\"nofollow\">Spring Batch</a> is very good for that and already provides what you want: <a href=\"https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/MultiResourceItemWriter.html\" rel=\"nofollow\"><code>MultiResourceItemWriter</code></a> that writes to multiple files with max lines per file and <a href=\"https://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/item/file/FlatFileItemReader.html\" rel=\"nofollow\"><code>FlatFileItemReader</code></a> to read data from a file.</p>\n\n<hr>\n\n<p>In this case, what you want is to loop over each line of an input file and write a transformation of each line in multiple output files.</p>\n\n<p>One way to do that would be to create a Stream over the lines of the input file, map each line and send it to a custom writer. This custom writer would implement the logic of switching writer when it has reached the maximum number of lines per file.</p>\n\n<p>In the following code <code>MyWriter</code> opens a <code>BufferedWriter</code> to a file. When the <code>maxLines</code> is reached (a multiple of it), this writer is closed and another one is opened, incrementing <code>currentFile</code>. This way, it is transparent for the reader that we're writing to multiple files.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    try (\n        MyWriter writer = new MyWriter(10);\n        Stream&lt;String&gt; lines = Files.lines(Paths.get(\"path/to/file\"));\n    ) {\n        lines.map(l -&gt; /* do transformation here */ l).forEach(writer::write);\n    }\n}\n\nprivate static class MyWriter implements AutoCloseable {\n\n    private long count = 0, currentFile = 1, maxLines = 0;\n    private BufferedWriter bw = null;\n\n    public MyWriter(long maxLines) {\n        this.maxLines = maxLines;\n    }\n\n    public void write(String line) {\n        try {\n            if (count % maxLines == 0) {\n                close();\n                bw = Files.newBufferedWriter(Paths.get(\"path/to/newFiles/newFile\" + currentFile++ + \".txt\"));\n            }\n            bw.write(line);\n            bw.newLine();\n            count++;\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n\n    @Override\n    public void close() throws IOException {\n        if (bw != null) bw.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1723142,"reputation":63,"user_id":4213100,"display_name":"BubeyReb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679557259,"creation_date":1453444699,"question_id":34940498,"body_markdown":"I&#39;m new to Java 8 and I have just started using the NIO package for file-handling. I need help in how to process large files--varying from 100,000 lines to 1,000,000 lines per file--by transforming each line into a specific format and writing the formatted lines to new files. The new file(s) generated must only contain a maximum of 100,000 lines per file. So:\r\n\r\n - if I have a 500,000-line file for processing, I must transform those\r\n   lines and distribute and print them on 5 new files.  \r\n - if I have a 745,000-line file for processing, I must transform those\r\n   lines and print them on 8 new files.\r\n\r\nI&#39;m having a hard time figuring out an approach that will efficiently utilize the new features of Java 8. I&#39;ve started out with determining the number of new files to be generated based on the line count of the large file, and then creating those new empty files:\r\n\r\n    Path largFile = Path.get(&quot;path\\to\\file&quot;);\r\n    long recordCount = Files.lines(file).count();\r\n    int maxRecordOfNewFiles = 100000;\r\n    int numberOfNewFiles =  1;\r\n    if (recordCount &gt; maxRecordOfNewFiles) {\r\n\t    numberOfNewFiles = Math.toIntExact(recordCount / maxRecordOfNewFiles);\r\n\tif (Math.toIntExact(recordCount % maxRecordOfNewFiles) &gt; 0) {\r\n\t\tnumberOfNewFiles ++;\r\n\t}\r\n    }\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    IntStream.rangeClosed(1, numberOfNewFiles).forEach((i) \r\n\t    -&gt; {\r\n\t\t    try {\r\n\t\t\t    Path newFile = Paths.get(&quot;path\\to\\newFiles\\newFile1.txt&quot;);\r\n\t\t\t\t        \tFiles.createFile(cdpFile);\r\n\t\t\t } catch (IOException iOex) {\r\n\t\t\t }\r\n\t\t\t});\r\n\r\n\r\nBut as I go through the the lines of the `largeFile` through the `Files.lines(largeFile).forEach(())` capability, I got lost on how to proceed with formatting the first 100,000 lines and then determining the first of the new files and printing them on that file, and then the second batch of 100,000 to the second new file, and so on.\r\n\r\nAny help will be appreciated. :)","title":"Processing and splitting large files with Java 8","body":"<p>I'm new to Java 8 and I have just started using the NIO package for file-handling. I need help in how to process large files--varying from 100,000 lines to 1,000,000 lines per file--by transforming each line into a specific format and writing the formatted lines to new files. The new file(s) generated must only contain a maximum of 100,000 lines per file. So:</p>\n\n<ul>\n<li>if I have a 500,000-line file for processing, I must transform those\nlines and distribute and print them on 5 new files.  </li>\n<li>if I have a 745,000-line file for processing, I must transform those\nlines and print them on 8 new files.</li>\n</ul>\n\n<p>I'm having a hard time figuring out an approach that will efficiently utilize the new features of Java 8. I've started out with determining the number of new files to be generated based on the line count of the large file, and then creating those new empty files:</p>\n\n<pre><code>Path largFile = Path.get(\"path\\to\\file\");\nlong recordCount = Files.lines(file).count();\nint maxRecordOfNewFiles = 100000;\nint numberOfNewFiles =  1;\nif (recordCount &gt; maxRecordOfNewFiles) {\n    numberOfNewFiles = Math.toIntExact(recordCount / maxRecordOfNewFiles);\nif (Math.toIntExact(recordCount % maxRecordOfNewFiles) &gt; 0) {\n    numberOfNewFiles ++;\n}\n}\n\nIntStream.rangeClosed(1, numberOfNewFiles).forEach((i) \n    -&gt; {\n        try {\n            Path newFile = Paths.get(\"path\\to\\newFiles\\newFile1.txt\");\n                        Files.createFile(cdpFile);\n         } catch (IOException iOex) {\n         }\n        });\n</code></pre>\n\n<p>But as I go through the the lines of the <code>largeFile</code> through the <code>Files.lines(largeFile).forEach(())</code> capability, I got lost on how to proceed with formatting the first 100,000 lines and then determining the first of the new files and printing them on that file, and then the second batch of 100,000 to the second new file, and so on.</p>\n\n<p>Any help will be appreciated. :)</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":43213,"reputation":497,"user_id":126217,"accept_rate":75,"display_name":"digital illusion"},"score":0,"creation_date":1308134025,"post_id":6356340,"comment_id":7439896,"body_markdown":"java runs in a virtual machine, it&#39;s like a closed box; by no means you kill a system process in pure java. There might be options invoking native interfaces. See JNI or JNA","body":"java runs in a virtual machine, it&#39;s like a closed box; by no means you kill a system process in pure java. There might be options invoking native interfaces. See JNI or JNA"},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1421307319,"post_id":6356340,"comment_id":44311237,"body_markdown":"What trick resolved your issue ? I am also facing the same issue. I have described details here:\nhttp://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder","body":"What trick resolved your issue ? I am also facing the same issue. I have described details here: <a href=\"http://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder\" title=\"how to terminate a process normally created using processbuilder\">stackoverflow.com/questions/27942679/&hellip;</a>"},{"owner":{"account_id":347193,"reputation":3284,"user_id":681159,"accept_rate":98,"display_name":"Jeel Shah"},"score":1,"creation_date":1464263844,"post_id":6356340,"comment_id":62419389,"body_markdown":"@BilalAhmedYaseen I used the selected answer and the answer by  Lakshitha Ranasingha, they did the trick for me.","body":"@BilalAhmedYaseen I used the selected answer and the answer by  Lakshitha Ranasingha, they did the trick for me."}],"answers":[{"comments":[{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1421307298,"post_id":6356410,"comment_id":44311227,"body_markdown":"I am also facing the same issue. I have described details here:\nhttp://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder","body":"I am also facing the same issue. I have described details here: <a href=\"http://stackoverflow.com/questions/27942679/how-to-terminate-a-process-normally-created-using-processbuilder\" title=\"how to terminate a process normally created using processbuilder\">stackoverflow.com/questions/27942679/&hellip;</a>"},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":1,"creation_date":1533197025,"post_id":6356410,"comment_id":90260511,"body_markdown":"And have in mind that, usually, you may need admin privileges to kill a process. Maybe, you also want to add the windows command for doing it in your answer.","body":"And have in mind that, usually, you may need admin privileges to kill a process. Maybe, you also want to add the windows command for doing it in your answer."}],"tags":[],"owner":{"account_id":104480,"reputation":6890,"user_id":279320,"accept_rate":76,"display_name":"Yohan Liyanage"},"comment_count":2,"down_vote_count":2,"up_vote_count":65,"is_accepted":true,"score":63,"last_activity_date":1661424125,"creation_date":1308134271,"answer_id":6356410,"question_id":6356340,"body_markdown":"If you start the process from with in your Java application (ex. by calling `Runtime.exec()` or `ProcessBuilder.start()`) then you have a valid `Process` reference to it, and you can invoke the `destroy()` method in `Process` class to kill that particular process. \r\n\r\nBut be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see https://bugs.openjdk.org/browse/JDK-4770092).\r\n\r\nOn the other hand, if you want to kill external processes (which you did not spawn from your Java app), then one thing you can do is to call O/S utilities which allow you to do that. For example, you can try a `Runtime.exec()` on `kill` command under Unix / Linux and check for return values to ensure that the application was killed or not (0 means success, -1 means error). But that of course will make your application platform dependent.","title":"Killing a process using Java","body":"<p>If you start the process from with in your Java application (ex. by calling <code>Runtime.exec()</code> or <code>ProcessBuilder.start()</code>) then you have a valid <code>Process</code> reference to it, and you can invoke the <code>destroy()</code> method in <code>Process</code> class to kill that particular process.</p>\n<p>But be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see <a href=\"https://bugs.openjdk.org/browse/JDK-4770092\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-4770092</a>).</p>\n<p>On the other hand, if you want to kill external processes (which you did not spawn from your Java app), then one thing you can do is to call O/S utilities which allow you to do that. For example, you can try a <code>Runtime.exec()</code> on <code>kill</code> command under Unix / Linux and check for return values to ensure that the application was killed or not (0 means success, -1 means error). But that of course will make your application platform dependent.</p>\n"},{"comments":[{"owner":{"account_id":38657,"reputation":2015,"user_id":111110,"accept_rate":92,"display_name":"Broken_Window"},"score":0,"creation_date":1425489616,"post_id":6356423,"comment_id":45987013,"body_markdown":"Works on Win7 64 bits :D","body":"Works on Win7 64 bits :D"},{"owner":{"account_id":2971879,"reputation":3328,"user_id":2523797,"accept_rate":89,"display_name":"Rajendra Thorat"},"score":8,"creation_date":1430990499,"post_id":6356423,"comment_id":48305557,"body_markdown":"for linux , I used &quot;pkill firefox&quot;","body":"for linux , I used &quot;pkill firefox&quot;"},{"owner":{"account_id":1223756,"reputation":939,"user_id":1189819,"accept_rate":64,"display_name":"Jerome Provensal"},"score":2,"creation_date":1543949856,"post_id":6356423,"comment_id":94099737,"body_markdown":"&quot;kill -9&quot; is not always a good idea as it doesn&#39;t give the process being killed a chance to cleanly come down.","body":"&quot;kill -9&quot; is not always a good idea as it doesn&#39;t give the process being killed a chance to cleanly come down."},{"owner":{"account_id":12649430,"reputation":393,"user_id":9224183,"display_name":"Lumin"},"score":0,"creation_date":1548315555,"post_id":6356423,"comment_id":95498933,"body_markdown":"@JeromeProvensal What if you are making an antivirus? You __don&#39;t__ want to give the virus a chance to cleanly come down!","body":"@JeromeProvensal What if you are making an antivirus? You <b>don&#39;t</b> want to give the virus a chance to cleanly come down!"},{"owner":{"account_id":1223756,"reputation":939,"user_id":1189819,"accept_rate":64,"display_name":"Jerome Provensal"},"score":1,"creation_date":1548428756,"post_id":6356423,"comment_id":95549609,"body_markdown":"@Holyprogrammer, agreed but I wasn&#39;t talking about a virus but a process that you control/understand.","body":"@Holyprogrammer, agreed but I wasn&#39;t talking about a virus but a process that you control/understand."},{"owner":{"account_id":12649430,"reputation":393,"user_id":9224183,"display_name":"Lumin"},"score":0,"creation_date":1548429977,"post_id":6356423,"comment_id":95550381,"body_markdown":"@JeromeProvensal :)","body":"@JeromeProvensal :)"}],"tags":[],"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"comment_count":6,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1308134962,"creation_date":1308134328,"answer_id":6356423,"question_id":6356340,"body_markdown":"AFAIU java.lang.Process is the process created by java itself (like Runtime.exec(&#39;firefox&#39;))\r\n\r\nYou can use system-dependant commands like \r\n \r\n\r\n     Runtime rt = Runtime.getRuntime();\r\n      if (System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) &gt; -1) \r\n         rt.exec(&quot;taskkill &quot; +....);\r\n       else\r\n         rt.exec(&quot;kill -9 &quot; +....);\r\n\r\n","title":"Killing a process using Java","body":"<p>AFAIU java.lang.Process is the process created by java itself (like Runtime.exec('firefox'))</p>\n\n<p>You can use system-dependant commands like </p>\n\n<pre><code> Runtime rt = Runtime.getRuntime();\n  if (System.getProperty(\"os.name\").toLowerCase().indexOf(\"windows\") &gt; -1) \n     rt.exec(\"taskkill \" +....);\n   else\n     rt.exec(\"kill -9 \" +....);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"comment_count":0,"down_vote_count":3,"up_vote_count":65,"is_accepted":false,"score":62,"last_activity_date":1551657715,"creation_date":1341595035,"answer_id":11366828,"question_id":6356340,"body_markdown":"On Windows, you could use this command. \r\n\r\n    taskkill /F /IM &lt;processname&gt;.exe \r\n\r\nTo kill it forcefully, you may use;\r\n\r\n    Runtime.getRuntime().exec(&quot;taskkill /F /IM &lt;processname&gt;.exe&quot;)","title":"Killing a process using Java","body":"<p>On Windows, you could use this command. </p>\n\n<pre><code>taskkill /F /IM &lt;processname&gt;.exe \n</code></pre>\n\n<p>To kill it forcefully, you may use;</p>\n\n<pre><code>Runtime.getRuntime().exec(\"taskkill /F /IM &lt;processname&gt;.exe\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":539422,"reputation":7402,"user_id":907263,"accept_rate":88,"display_name":"Urban Vagabond"},"score":1,"creation_date":1397177228,"post_id":16214693,"comment_id":35131277,"body_markdown":"Using -TERM is correct because it lets the process clean up after itself. Using kill -9 just nukes the poor thing. The really correct way is to use kill -TERM, wait some time and then kill -9 if it&#39;s still around.","body":"Using -TERM is correct because it lets the process clean up after itself. Using kill -9 just nukes the poor thing. The really correct way is to use kill -TERM, wait some time and then kill -9 if it&#39;s still around."},{"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"score":1,"creation_date":1398793702,"post_id":16214693,"comment_id":35800063,"body_markdown":"Yes - but JVM unfortunately does not issue a following kill -9, thus gives you no way to force the kill. Thus still being very wrong.\nThere should be a force option, otherwise this is useful only for well behaving processes - i.e. for sunny days only.","body":"Yes - but JVM unfortunately does not issue a following kill -9, thus gives you no way to force the kill. Thus still being very wrong. There should be a force option, otherwise this is useful only for well behaving processes - i.e. for sunny days only."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"score":1,"creation_date":1513107152,"post_id":16214693,"comment_id":82521581,"body_markdown":"Isn&#39;t `destroyForcibly()` send `kill -9`?","body":"Isn&#39;t <code>destroyForcibly()</code> send <code>kill -9</code>?"},{"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"score":0,"creation_date":1513202054,"post_id":16214693,"comment_id":82566728,"body_markdown":"Indeed it does - albeit it is only available in Java 8 (whcih was not available on the project i was developing for). I just noticed that Haysa Rodrigues already added that answer.","body":"Indeed it does - albeit it is only available in Java 8 (whcih was not available on the project i was developing for). I just noticed that Haysa Rodrigues already added that answer."}],"tags":[],"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1366892638,"creation_date":1366892638,"answer_id":16214693,"question_id":6356340,"body_markdown":"It might be a java interpreter defect, but java on HPUX does not do a kill -9, but only a kill -TERM.\r\n\r\nI did a small test testDestroy.java: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(args);\r\n    Process process = pb.start();\r\n    Thread.sleep(1000);\r\n    process.destroy();\r\n    process.waitFor();\r\n\r\nAnd the invocation:\r\n\r\n    $ tusc -f -p -s signal,kill -e /opt/java1.5/bin/java testDestroy sh -c &#39;trap &quot;echo TERM&quot; TERM; sleep 10&#39;\r\n\r\ndies after 10s (not killed after 1s as expected) and shows:\r\n\r\n    ...\r\n    [19999]   Received signal 15, SIGTERM, in waitpid(), [caught], no siginfo\r\n    [19998] kill(19999, SIGTERM) ............................................................................. = 0\r\n    ...\r\n   \r\nDoing the same on windows seems to kill the process fine even if signal is handled (but that might be due to windows not using signals to destroy).\r\n\r\nActually i found https://stackoverflow.com/questions/10630303/java-process-destroy-source-code-for-linux related thread and openjava implementation seems to use -TERM as well, which seems very wrong.","title":"Killing a process using Java","body":"<p>It might be a java interpreter defect, but java on HPUX does not do a kill -9, but only a kill -TERM.</p>\n\n<p>I did a small test testDestroy.java: </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(args);\nProcess process = pb.start();\nThread.sleep(1000);\nprocess.destroy();\nprocess.waitFor();\n</code></pre>\n\n<p>And the invocation:</p>\n\n<pre><code>$ tusc -f -p -s signal,kill -e /opt/java1.5/bin/java testDestroy sh -c 'trap \"echo TERM\" TERM; sleep 10'\n</code></pre>\n\n<p>dies after 10s (not killed after 1s as expected) and shows:</p>\n\n<pre><code>...\n[19999]   Received signal 15, SIGTERM, in waitpid(), [caught], no siginfo\n[19998] kill(19999, SIGTERM) ............................................................................. = 0\n...\n</code></pre>\n\n<p>Doing the same on windows seems to kill the process fine even if signal is handled (but that might be due to windows not using signals to destroy).</p>\n\n<p>Actually i found <a href=\"https://stackoverflow.com/questions/10630303/java-process-destroy-source-code-for-linux\">Java - Process.destroy() source code for Linux</a> related thread and openjava implementation seems to use -TERM as well, which seems very wrong.</p>\n"},{"comments":[{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1372859368,"post_id":17430683,"comment_id":25351035,"body_markdown":"There is a non-hack, cross platform way how to obtain PID for any JVM application, check http://mostly-about-java.blogspot.co.uk/2013/06/how-to-get-process-id-for-any-jvm.html","body":"There is a non-hack, cross platform way how to obtain PID for any JVM application, check <a href=\"http://mostly-about-java.blogspot.co.uk/2013/06/how-to-get-process-id-for-any-jvm.html\" rel=\"nofollow noreferrer\">mostly-about-java.blogspot.co.uk/2013/06/&hellip;</a>"},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1384974345,"post_id":17430683,"comment_id":29956542,"body_markdown":"@Brian Gordon Yes, I know, using sun.jvmstat.monitor.* is also not a perfect solution, not part of the supported, public interface, but still better and portable then rely on external unix tools or expecting Process to be UNIXProcess, which on Windows it is not and perhaps will not be in future Java release seven on Unix.","body":"@Brian Gordon Yes, I know, using sun.jvmstat.monitor.* is also not a perfect solution, not part of the supported, public interface, but still better and portable then rely on external unix tools or expecting Process to be UNIXProcess, which on Windows it is not and perhaps will not be in future Java release seven on Unix."},{"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"score":0,"creation_date":1426098071,"post_id":17430683,"comment_id":46236930,"body_markdown":"@Espinosa Depends on what are you trying to achieve. destroy() on Windows does force the kill, so this hack is not needed there (and btw Weblogic does have a class for Windows too). \nRemember we have to write such ugly code only because of shortsighted JVM implementation and API design defect.","body":"@Espinosa Depends on what are you trying to achieve. destroy() on Windows does force the kill, so this hack is not needed there (and btw Weblogic does have a class for Windows too).  Remember we have to write such ugly code only because of shortsighted JVM implementation and API design defect."},{"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"score":0,"creation_date":1426098621,"post_id":17430683,"comment_id":46237265,"body_markdown":"Continuation: In the end it is just matter of taste - for java process manager i would maybe use your solution - but to workaround specific bug i prefer smaller/quicker/dirtier &quot;patch&quot; of mine to your theoretically cleaner but iterative and more cumbersome solution.\nEach nail requires a different hammer.","body":"Continuation: In the end it is just matter of taste - for java process manager i would maybe use your solution - but to workaround specific bug i prefer smaller/quicker/dirtier &quot;patch&quot; of mine to your theoretically cleaner but iterative and more cumbersome solution. Each nail requires a different hammer."}],"tags":[],"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1372781980,"creation_date":1372781980,"answer_id":17430683,"question_id":6356340,"body_markdown":"Accidentally i stumbled upon another way to do a force kill on Unix (for those who use Weblogic). This is cheaper and more elegant than running /bin/kill -9 via **Runtime.exec()**.\r\n\r\n    import weblogic.nodemanager.util.Platform;\r\n    import weblogic.nodemanager.util.ProcessControl;\r\n    ...\r\n    ProcessControl pctl = Platform.getProcessControl();\r\n    pctl.killProcess(pid);\r\n\r\nAnd if you struggle to get the pid, you can use reflection on **java.lang.UNIXProcess**, e.g.:\r\n\r\n    Process proc = Runtime.getRuntime().exec(cmdarray, envp);\r\n    if (proc instanceof UNIXProcess) {\r\n        Field f = proc.getClass().getDeclaredField(&quot;pid&quot;);\r\n        f.setAccessible(true);\r\n        int pid = f.get(proc);\r\n    }","title":"Killing a process using Java","body":"<p>Accidentally i stumbled upon another way to do a force kill on Unix (for those who use Weblogic). This is cheaper and more elegant than running /bin/kill -9 via <strong>Runtime.exec()</strong>.</p>\n\n<pre><code>import weblogic.nodemanager.util.Platform;\nimport weblogic.nodemanager.util.ProcessControl;\n...\nProcessControl pctl = Platform.getProcessControl();\npctl.killProcess(pid);\n</code></pre>\n\n<p>And if you struggle to get the pid, you can use reflection on <strong>java.lang.UNIXProcess</strong>, e.g.:</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(cmdarray, envp);\nif (proc instanceof UNIXProcess) {\n    Field f = proc.getClass().getDeclaredField(\"pid\");\n    f.setAccessible(true);\n    int pid = f.get(proc);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1653140,"reputation":430,"user_id":1523322,"display_name":"chukko"},"score":0,"creation_date":1513202262,"post_id":42847787,"comment_id":82566816,"body_markdown":"Needs to be noted that this is only available on Java 8.","body":"Needs to be noted that this is only available on Java 8."},{"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"score":0,"creation_date":1594807170,"post_id":42847787,"comment_id":111253480,"body_markdown":"After `Runtime.exec` has returned, you don&#39;t know how far the `killall` process has progressed, and then you immediately kill the `killall`, maybe before it had the chance to do anything. Instead of `destroy`, you should rather `waitFor()` it and check its exit status.","body":"After <code>Runtime.exec</code> has returned, you don&#39;t know how far the <code>killall</code> process has progressed, and then you immediately kill the <code>killall</code>, maybe before it had the chance to do anything. Instead of <code>destroy</code>, you should rather <code>waitFor()</code> it and check its exit status."}],"tags":[],"owner":{"account_id":3492451,"reputation":59,"user_id":2921751,"display_name":"Haysa Rodrigues"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537997119,"creation_date":1489714916,"answer_id":42847787,"question_id":6356340,"body_markdown":"Try it:\r\n\r\n    String command = &quot;killall &lt;your_proccess&gt;&quot;;\r\n    Process p = Runtime.getRuntime().exec(command);\r\n    p.destroy();\r\n\r\nif the process is still alive, add:\r\n        \r\n    p.destroyForcibly();\r\n\r\n","title":"Killing a process using Java","body":"<p>Try it:</p>\n\n<pre><code>String command = \"killall &lt;your_proccess&gt;\";\nProcess p = Runtime.getRuntime().exec(command);\np.destroy();\n</code></pre>\n\n<p>if the process is still alive, add:</p>\n\n<pre><code>p.destroyForcibly();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298503,"reputation":63,"user_id":1248899,"display_name":"Jamie Lister"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529987828,"creation_date":1529987828,"answer_id":51034967,"question_id":6356340,"body_markdown":"You can kill a (SIGTERM) a windows process that was started from Java by calling the destroy method on the Process object. You can also kill any child Processes (since Java 9). \r\n\r\nThe following code starts a batch file, waits for ten seconds then kills all sub-processes and finally kills the batch process itself.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;cmd /c my_script.bat&quot;));\r\n    Process p = pb.start();\r\n    p.waitFor(10, TimeUnit.SECONDS);\r\n\r\n    p.descendants().forEach(ph -&gt; {\r\n        ph.destroy();\r\n\t});\r\n\t\t\t\t\r\n\tp.destroy();\r\n\t\t\r\n\t","title":"Killing a process using Java","body":"<p>You can kill a (SIGTERM) a windows process that was started from Java by calling the destroy method on the Process object. You can also kill any child Processes (since Java 9). </p>\n\n<p>The following code starts a batch file, waits for ten seconds then kills all sub-processes and finally kills the batch process itself.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"cmd /c my_script.bat\"));\nProcess p = pb.start();\np.waitFor(10, TimeUnit.SECONDS);\n\np.descendants().forEach(ph -&gt; {\n    ph.destroy();\n});\n\np.destroy();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12852886,"reputation":56805,"user_id":9297144,"display_name":"Xavier Guihot"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1679557093,"creation_date":1537996053,"answer_id":52526035,"question_id":6356340,"body_markdown":"With `Java 9`, we can use [ProcessHandle](https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html) which makes it easier to identify and control native processes:\r\n\r\n    ProcessHandle\r\n      .allProcesses()\r\n      .filter(p -&gt; p.info().commandLine().map(c -&gt; c.contains(&quot;firefox&quot;)).orElse(false))\r\n      .findFirst()\r\n      .ifPresent(ProcessHandle::destroy)\r\n\r\nwhere &quot;firefox&quot; is the process to kill.\r\n\r\nThis:\r\n\r\n* First lists all processes running on the system as a `Stream&lt;ProcessHandle&gt;`\r\n\r\n* Lazily filters this stream to only keep processes whose launched command line contains &quot;firefox&quot;. Both `commandLine` or `command` can be used depending on how we want to retrieve the process.\r\n\r\n* Finds the first filtered process meeting the filtering condition.\r\n\r\n* And if at least one process&#39; command line contained &quot;firefox&quot;, then kills it using `destroy`.\r\n\r\nNo import necessary as `ProcessHandle` is part of `java.lang`.\r\n","title":"Killing a process using Java","body":"<p>With <code>Java 9</code>, we can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\">ProcessHandle</a> which makes it easier to identify and control native processes:</p>\n<pre><code>ProcessHandle\n  .allProcesses()\n  .filter(p -&gt; p.info().commandLine().map(c -&gt; c.contains(&quot;firefox&quot;)).orElse(false))\n  .findFirst()\n  .ifPresent(ProcessHandle::destroy)\n</code></pre>\n<p>where &quot;firefox&quot; is the process to kill.</p>\n<p>This:</p>\n<ul>\n<li><p>First lists all processes running on the system as a <code>Stream&lt;ProcessHandle&gt;</code></p>\n</li>\n<li><p>Lazily filters this stream to only keep processes whose launched command line contains &quot;firefox&quot;. Both <code>commandLine</code> or <code>command</code> can be used depending on how we want to retrieve the process.</p>\n</li>\n<li><p>Finds the first filtered process meeting the filtering condition.</p>\n</li>\n<li><p>And if at least one process' command line contained &quot;firefox&quot;, then kills it using <code>destroy</code>.</p>\n</li>\n</ul>\n<p>No import necessary as <code>ProcessHandle</code> is part of <code>java.lang</code>.</p>\n"}],"owner":{"account_id":347193,"reputation":3284,"user_id":681159,"accept_rate":98,"display_name":"Jeel Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209596,"favorite_count":0,"down_vote_count":2,"up_vote_count":81,"accepted_answer_id":6356410,"answer_count":8,"score":79,"last_activity_date":1679557093,"creation_date":1308133778,"question_id":6356340,"body_markdown":"I would like to know how to &quot;kill&quot; a process that has started up. I am aware of the Process API, but I am not sure, If I can use that to &quot;kill&quot; an already running process, such as firefox.exe etc. If the Process API can be used, can you please point me into the correct direction? If not, what are the other available options? Thanks.","title":"Killing a process using Java","body":"<p>I would like to know how to \"kill\" a process that has started up. I am aware of the Process API, but I am not sure, If I can use that to \"kill\" an already running process, such as firefox.exe etc. If the Process API can be used, can you please point me into the correct direction? If not, what are the other available options? Thanks.</p>\n"},{"tags":["java","return","return-value","matcher"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1679555939,"post_id":75820114,"comment_id":133743387,"body_markdown":"You cant. The caller has to have the fallback logic, not this method. The caller has to do `if (result == null) dont do anything` or similar. By the way, you should prefer to use `Optional` as return type to indicate absence of a result, not `null` or `&quot;&quot;`.","body":"You cant. The caller has to have the fallback logic, not this method. The caller has to do <code>if (result == null) dont do anything</code> or similar. By the way, you should prefer to use <code>Optional</code> as return type to indicate absence of a result, not <code>null</code> or <code>&quot;&quot;</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679555984,"post_id":75820114,"comment_id":133743393,"body_markdown":"Hi&amp; Welcome! Maybe you *want* a `void` method, that (occasionally) prints... (The `if` statement is in place) When you have to stick with this &quot;signature&quot;, then your (only!?) choice is to print (only) `if (result != null)`..","body":"Hi&amp; Welcome! Maybe you <i>want</i> a <code>void</code> method, that (occasionally) prints... (The <code>if</code> statement is in place) When you have to stick with this &quot;signature&quot;, then your (only!?) choice is to print (only) <code>if (result != null)</code>.."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1679555995,"post_id":75820114,"comment_id":133743395,"body_markdown":"maybe a null check with the function call? `String output = pba[i].nameToPhone(&quot;name&quot;); if (output != null) { System.out.print(output); }`","body":"maybe a null check with the function call? <code>String output = pba[i].nameToPhone(&quot;name&quot;); if (output != null) { System.out.print(output); }</code>"},{"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"score":1,"creation_date":1679556383,"post_id":75820114,"comment_id":133743460,"body_markdown":"@Zabuzard thanks! it works and now only i know the Optional value","body":"@Zabuzard thanks! it works and now only i know the Optional value"},{"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"score":1,"creation_date":1679556519,"post_id":75820114,"comment_id":133743481,"body_markdown":"@xerx593 i have tried that and it also works! however, i think applying `result != null` logic in the main program leaves less stacktrace (maybee) but thank you very much","body":"@xerx593 i have tried that and it also works! however, i think applying <code>result != null</code> logic in the main program leaves less stacktrace (maybee) but thank you very much"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1679556708,"post_id":75820114,"comment_id":133743528,"body_markdown":"If you return `Optional`, the call site could look like `pba[i].nameToPhone(&quot;name&quot;).ifPresent(System.out::println);`, which is fairly compact and readable. Generally, you should prefer that over `null` and `&quot;&quot;` for multiple reasons.","body":"If you return <code>Optional</code>, the call site could look like <code>pba[i].nameToPhone(&quot;name&quot;).ifPresent(System.out::println);</code>, which is fairly compact and readable. Generally, you should prefer that over <code>null</code> and <code>&quot;&quot;</code> for multiple reasons."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679557093,"post_id":75820114,"comment_id":133743603,"body_markdown":"You can return java.lang.Void &quot;type&quot; in java. Much alike void (no type) as a method type. The clause is for the java.lang.Void method type use the return statement with null. So, public java.lang.Void noValueBack(){ // Some code here;  return null; }","body":"You can return java.lang.Void &quot;type&quot; in java. Much alike void (no type) as a method type. The clause is for the java.lang.Void method type use the return statement with null. So, public java.lang.Void noValueBack(){ // Some code here;  return null; }"}],"answers":[{"tags":[],"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679557053,"creation_date":1679556946,"answer_id":75820245,"question_id":75820114,"body_markdown":"&gt; You cant. The caller has to have the fallback logic, not this method. The caller has to do `if (result == null)` dont do anything or similar. By the way, you should prefer to use `Optional` as return type to indicate absence of a result, not `null` or `&quot;&quot;`.  [Zabuzard](https://stackoverflow.com/users/2411243/zabuzard)","title":"How to return nothing in Java","body":"<blockquote>\n<p>You cant. The caller has to have the fallback logic, not this method. The caller has to do <code>if (result == null)</code> dont do anything or similar. By the way, you should prefer to use <code>Optional</code> as return type to indicate absence of a result, not <code>null</code> or <code>&quot;&quot;</code>.  <a href=\"https://stackoverflow.com/users/2411243/zabuzard\">Zabuzard</a></p>\n</blockquote>\n"}],"owner":{"account_id":28092822,"reputation":21,"user_id":21462054,"display_name":"Fathul Fahmy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679557053,"creation_date":1679555711,"question_id":75820114,"body_markdown":"```\r\npublic String nameToPhone(String inputName) {\r\n        /* (c) Allow the user to search a contacts phone number using his/her name. */\r\n        Pattern p;\r\n        Matcher m;\r\n\r\n        // Store name as pattern\r\n        p = Pattern.compile(inputName);\r\n        // Match pattern with array name\r\n        m = p.matcher(this.name);\r\n        if (m.matches())\r\n            return this.phoneNum;\r\n        else\r\n            return null;\r\n\r\n    }\r\n```\r\n\r\nThe function will be called with `System.out.print(phonebookArray[i].nameToPhone)`  \r\n\r\nExpected output:  \r\ndisplay only phone number if searched name exist  \r\n\r\nActual output:\r\n1. `else return null` will display phone number and also &quot;null&quot; if name exist\r\n2. `else return &quot;&quot;` will display phone number and a blank line if name exist  \r\n\r\nThe issue is `return null` will display null and `return &quot;&quot;` will display a blank line. How can I return absolutely nothing?","title":"How to return nothing in Java","body":"<pre><code>public String nameToPhone(String inputName) {\n        /* (c) Allow the user to search a contacts phone number using his/her name. */\n        Pattern p;\n        Matcher m;\n\n        // Store name as pattern\n        p = Pattern.compile(inputName);\n        // Match pattern with array name\n        m = p.matcher(this.name);\n        if (m.matches())\n            return this.phoneNum;\n        else\n            return null;\n\n    }\n</code></pre>\n<p>The function will be called with <code>System.out.print(phonebookArray[i].nameToPhone)</code></p>\n<p>Expected output:<br />\ndisplay only phone number if searched name exist</p>\n<p>Actual output:</p>\n<ol>\n<li><code>else return null</code> will display phone number and also &quot;null&quot; if name exist</li>\n<li><code>else return &quot;&quot;</code> will display phone number and a blank line if name exist</li>\n</ol>\n<p>The issue is <code>return null</code> will display null and <code>return &quot;&quot;</code> will display a blank line. How can I return absolutely nothing?</p>\n"},{"tags":["java","spring","spring-boot","aop","aspectj"],"answers":[{"tags":[],"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679518632,"creation_date":1679518632,"answer_id":75817212,"question_id":75813219,"body_markdown":"An Aspect acts as a proxy and only triggers when the function its set on is called from another class. If you have a function annotated with @WithTennant in a regular class and call that function from another function within the same class it also wont trigger the aspect. Unless you want to test using an implementation in your code directly, I dont see how you could do it without a helper class like you did.","title":"How can I use an Aspect on a SpringBootTest","body":"<p>An Aspect acts as a proxy and only triggers when the function its set on is called from another class. If you have a function annotated with @WithTennant in a regular class and call that function from another function within the same class it also wont trigger the aspect. Unless you want to test using an implementation in your code directly, I dont see how you could do it without a helper class like you did.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679556891,"creation_date":1679556173,"answer_id":75820164,"question_id":75813219,"body_markdown":"I also recommend a separate `@Component` to be used in the test. You can, however, do something contrived in order to get it working with a method annotated in the test directly:\r\n* Add a `@Component` annotation to the test class or a corresponding XML `&lt;bean/&gt;` definition.\r\n* Add `@Autowired @Lazy private AspectTest aspectTest;` to your test.\r\n* Annotate a helper method within the test class, which is **not** a `@Test`.\r\n* Call that method from a `@Test` like so: `aspectTest.myHelper()`.\r\n\r\nNow the aspect will be triggered.\r\n\r\nI am not recommending this, it is super ugly. But it works and shows you that\r\n  * Spring AOP aspects only work on Spring components (native AspectJ aspects have no such limitations),\r\n  * [self-invocation does not work on Spring proxies](https://stackoverflow.com/a/56616248/1082681), i.e. you need the trick to auto-wire a proxy instance into its own class and use that proxy to call methods, if you want Spring AOP to kick in (again, in native AspectJ this would be unnecessary).","title":"How can I use an Aspect on a SpringBootTest","body":"<p>I also recommend a separate <code>@Component</code> to be used in the test. You can, however, do something contrived in order to get it working with a method annotated in the test directly:</p>\n<ul>\n<li>Add a <code>@Component</code> annotation to the test class or a corresponding XML <code>&lt;bean/&gt;</code> definition.</li>\n<li>Add <code>@Autowired @Lazy private AspectTest aspectTest;</code> to your test.</li>\n<li>Annotate a helper method within the test class, which is <strong>not</strong> a <code>@Test</code>.</li>\n<li>Call that method from a <code>@Test</code> like so: <code>aspectTest.myHelper()</code>.</li>\n</ul>\n<p>Now the aspect will be triggered.</p>\n<p>I am not recommending this, it is super ugly. But it works and shows you that</p>\n<ul>\n<li>Spring AOP aspects only work on Spring components (native AspectJ aspects have no such limitations),</li>\n<li><a href=\"https://stackoverflow.com/a/56616248/1082681\">self-invocation does not work on Spring proxies</a>, i.e. you need the trick to auto-wire a proxy instance into its own class and use that proxy to call methods, if you want Spring AOP to kick in (again, in native AspectJ this would be unnecessary).</li>\n</ul>\n"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75820164,"answer_count":2,"score":1,"last_activity_date":1679556891,"creation_date":1679493491,"question_id":75813219,"body_markdown":"I have an aspect that I have created that does not work when utilised directly on a Test method, but does work when added to a helper component. How can I get this working when I use it directly.\r\n\r\nSo in the code below testAspect fails, but testAspectHelper succeeds.\r\n\r\nA breakpoint within the aspect shows the code isn&#39;t hit in the failing test, but is hit in the test that passes.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.opennms.horizon.inventory.SpringContextTestInitializer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.actuate.observability.AutoConfigureObservability;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.ContextConfiguration;\r\n\r\n@SpringBootTest\r\n@ContextConfiguration(initializers = {SpringContextTestInitializer.class})\r\n@AutoConfigureObservability\r\npublic class AspectTest {\r\n    @Autowired\r\n    AspectTestHelper aspectTestHelper;\r\n\r\n    @Test\r\n    @WithTenant(tenantId = &quot;Fred&quot;)\r\n    public void testAspect() {\r\n        // Test fails\r\n        assert(&quot;Fred&quot;.equals(TenantContext.getTenantId()));\r\n    }\r\n\r\n    @Test\r\n    public void testAspectHelper() {\r\n        // Test succeeds\r\n        aspectTestHelper.setTenant();\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class AspectTestHelper {\r\n    @WithTenant(tenantId = &quot;Alex&quot;)\r\n    public void setTenant() {\r\n        assert(&quot;Alex&quot;.equals(TenantContext.getTenantId()));\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface WithTenant {\r\n    String tenantId() default &quot;&quot;;\r\n    int tenantIdArg() default -1;\r\n    String tenantIdArgInternalMethod() default &quot;&quot;;\r\n    String tenantIdArgInternalClass() default &quot;&quot;;\r\n}\r\n```\r\n```\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\n@Component\r\n@Aspect\r\npublic class WithTenantAspect {\r\n    private static final Logger LOG = LoggerFactory.getLogger(WithTenantAspect.class);\r\n\r\n    @Autowired\r\n    private TenantLookup tenantLookup;\r\n\r\n    @Around((&quot;@annotation(withTenant)&quot;))\r\n    public Object getTenant(ProceedingJoinPoint joinPoint, WithTenant withTenant) throws Throwable {\r\n        String tenantId = withTenant.tenantId();\r\n        int tenantIdArg = withTenant.tenantIdArg();\r\n        String tenantIdArgInternalMethod = withTenant.tenantIdArgInternalMethod();\r\n        String tenantIdArgInternalClass = withTenant.tenantIdArgInternalClass();\r\n\r\n        if (tenantIdArg &gt;= 0) {\r\n            Object[] args = joinPoint.getArgs();\r\n            if (args.length &lt;= tenantIdArg) {\r\n                throw new RuntimeException(&quot;TenantIdArg position is greater than the number of arguments to the method&quot;);\r\n            }\r\n            if (tenantIdArgInternalMethod == null || tenantIdArgInternalMethod.isEmpty() || tenantIdArgInternalClass == null || tenantIdArgInternalClass.isEmpty()) {\r\n                tenantId = String.valueOf(args[tenantIdArg]);\r\n            } else {\r\n                Object tenantObj = args[tenantIdArg];\r\n                Class clazz = Class.forName(tenantIdArgInternalClass);\r\n                Method method = clazz.getMethod(tenantIdArgInternalMethod);\r\n                Object tenant = method.invoke(tenantObj);\r\n                tenantId = String.valueOf(tenant);\r\n            }\r\n        }\r\n\r\n        if (tenantId == null || tenantId.isEmpty()) {\r\n            tenantId = tenantLookup.lookupTenantId().orElseThrow();\r\n        }\r\n\r\n        try {\r\n            TenantContext.setTenantId(tenantId);\r\n            Object proceed = joinPoint.proceed();\r\n            return proceed;\r\n        } finally {\r\n            TenantContext.clear();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can I use an Aspect on a SpringBootTest","body":"<p>I have an aspect that I have created that does not work when utilised directly on a Test method, but does work when added to a helper component. How can I get this working when I use it directly.</p>\n<p>So in the code below testAspect fails, but testAspectHelper succeeds.</p>\n<p>A breakpoint within the aspect shows the code isn't hit in the failing test, but is hit in the test that passes.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.opennms.horizon.inventory.SpringContextTestInitializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.actuate.observability.AutoConfigureObservability;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ContextConfiguration;\n\n@SpringBootTest\n@ContextConfiguration(initializers = {SpringContextTestInitializer.class})\n@AutoConfigureObservability\npublic class AspectTest {\n    @Autowired\n    AspectTestHelper aspectTestHelper;\n\n    @Test\n    @WithTenant(tenantId = &quot;Fred&quot;)\n    public void testAspect() {\n        // Test fails\n        assert(&quot;Fred&quot;.equals(TenantContext.getTenantId()));\n    }\n\n    @Test\n    public void testAspectHelper() {\n        // Test succeeds\n        aspectTestHelper.setTenant();\n    }\n}\n\n</code></pre>\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class AspectTestHelper {\n    @WithTenant(tenantId = &quot;Alex&quot;)\n    public void setTenant() {\n        assert(&quot;Alex&quot;.equals(TenantContext.getTenantId()));\n    }\n}\n\n</code></pre>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface WithTenant {\n    String tenantId() default &quot;&quot;;\n    int tenantIdArg() default -1;\n    String tenantIdArgInternalMethod() default &quot;&quot;;\n    String tenantIdArgInternalClass() default &quot;&quot;;\n}\n</code></pre>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Method;\n\n@Component\n@Aspect\npublic class WithTenantAspect {\n    private static final Logger LOG = LoggerFactory.getLogger(WithTenantAspect.class);\n\n    @Autowired\n    private TenantLookup tenantLookup;\n\n    @Around((&quot;@annotation(withTenant)&quot;))\n    public Object getTenant(ProceedingJoinPoint joinPoint, WithTenant withTenant) throws Throwable {\n        String tenantId = withTenant.tenantId();\n        int tenantIdArg = withTenant.tenantIdArg();\n        String tenantIdArgInternalMethod = withTenant.tenantIdArgInternalMethod();\n        String tenantIdArgInternalClass = withTenant.tenantIdArgInternalClass();\n\n        if (tenantIdArg &gt;= 0) {\n            Object[] args = joinPoint.getArgs();\n            if (args.length &lt;= tenantIdArg) {\n                throw new RuntimeException(&quot;TenantIdArg position is greater than the number of arguments to the method&quot;);\n            }\n            if (tenantIdArgInternalMethod == null || tenantIdArgInternalMethod.isEmpty() || tenantIdArgInternalClass == null || tenantIdArgInternalClass.isEmpty()) {\n                tenantId = String.valueOf(args[tenantIdArg]);\n            } else {\n                Object tenantObj = args[tenantIdArg];\n                Class clazz = Class.forName(tenantIdArgInternalClass);\n                Method method = clazz.getMethod(tenantIdArgInternalMethod);\n                Object tenant = method.invoke(tenantObj);\n                tenantId = String.valueOf(tenant);\n            }\n        }\n\n        if (tenantId == null || tenantId.isEmpty()) {\n            tenantId = tenantLookup.lookupTenantId().orElseThrow();\n        }\n\n        try {\n            TenantContext.setTenantId(tenantId);\n            Object proceed = joinPoint.proceed();\n            return proceed;\n        } finally {\n            TenantContext.clear();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1626862848,"post_id":68467601,"comment_id":121003463,"body_markdown":"There are tools like jenv","body":"There are tools like jenv"},{"owner":{"account_id":5077122,"reputation":166,"user_id":4074204,"display_name":"Wasim Zarin"},"score":10,"creation_date":1626864185,"post_id":68467601,"comment_id":121003968,"body_markdown":"A sidenote: In Java there is something called the classpath. Each application has their own classpath from where they can load dependencies. Thus we can say that  the dependencies of an application are somewhat already isolated. There is no global system wide installation of libraries. Therefore, the problem that virtualenv tries to solve is already somewhat solved by the classpath.","body":"A sidenote: In Java there is something called the classpath. Each application has their own classpath from where they can load dependencies. Thus we can say that  the dependencies of an application are somewhat already isolated. There is no global system wide installation of libraries. Therefore, the problem that virtualenv tries to solve is already somewhat solved by the classpath."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679562451,"post_id":68467601,"comment_id":133744782,"body_markdown":"So in summary: You don&#39;t need a venv for Java/Kotlin. Which is good, managing python venv is a nuisance at best.","body":"So in summary: You don&#39;t need a venv for Java/Kotlin. Which is good, managing python venv is a nuisance at best."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679562371,"post_id":75820179,"comment_id":133744767,"body_markdown":"so jenv is.. what, a wrapper around `update-alternatives`?","body":"so jenv is.. what, a wrapper around <code>update-alternatives</code>?"}],"tags":[],"owner":{"account_id":3999217,"reputation":185,"user_id":3295701,"display_name":"SunTechnique"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679556262,"creation_date":1679556262,"answer_id":75820179,"question_id":68467601,"body_markdown":"For Java - jenv\r\n\r\nFor Kotlin - Scoop (and jenv maybe)","title":"virtual environment for Java/Kotlin","body":"<p>For Java - jenv</p>\n<p>For Kotlin - Scoop (and jenv maybe)</p>\n"}],"owner":{"account_id":21618570,"reputation":21,"user_id":15943971,"display_name":"Afshan Navazdeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679556262,"creation_date":1626861784,"question_id":68467601,"body_markdown":"Does other languages like Java or Kotlin has a feature of virtual environment like python does?\r\n\r\nI have tried google searches but all the results are for Venv on Python only.","title":"virtual environment for Java/Kotlin","body":"<p>Does other languages like Java or Kotlin has a feature of virtual environment like python does?</p>\n<p>I have tried google searches but all the results are for Venv on Python only.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":8,"creation_date":1422208773,"post_id":28138939,"comment_id":44650646,"body_markdown":"Interesting, but how could I provide a valid csrf token if I&#39;d like to use csrf? Is it possible?","body":"Interesting, but how could I provide a valid csrf token if I&#39;d like to use csrf? Is it possible?"}],"tags":[],"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"comment_count":1,"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1444138978,"creation_date":1422205115,"answer_id":28138939,"question_id":28138864,"body_markdown":"If you must disable it...\r\n\r\n\r\nIn Spring Security 4, [CSRF is enabled by default][1] when using the XML configuration. Previously it was only enabled by default for the Java-based configuration.\r\n\r\nAccording to [Section 14.4.2 of the Spring Security Documentation][2]:\r\n\r\n&gt; As of Spring Security 4.0, CSRF protection is enabled by default with XML configuration. If you would like to disable CSRF protection, the corresponding XML configuration can be seen below.\r\n    \r\n    &lt;http&gt;\r\n       ...\r\n       &lt;csrf disabled=&quot;true&quot;/&gt;\r\n       ...\r\n    &lt;/http&gt;\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SEC-2347\r\n  [2]: http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>If you must disable it...</p>\n\n<p>In Spring Security 4, <a href=\"https://jira.spring.io/browse/SEC-2347\" rel=\"noreferrer\">CSRF is enabled by default</a> when using the XML configuration. Previously it was only enabled by default for the Java-based configuration.</p>\n\n<p>According to <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure\" rel=\"noreferrer\">Section 14.4.2 of the Spring Security Documentation</a>:</p>\n\n<blockquote>\n  <p>As of Spring Security 4.0, CSRF protection is enabled by default with XML configuration. If you would like to disable CSRF protection, the corresponding XML configuration can be seen below.</p>\n</blockquote>\n\n<pre><code>&lt;http&gt;\n   ...\n   &lt;csrf disabled=\"true\"/&gt;\n   ...\n&lt;/http&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1424466123,"creation_date":1424466123,"answer_id":28638129,"question_id":28138864,"body_markdown":"Disabling CSRF protection sounds like a bad idea, no?\r\n\r\nIf you use Spring&#39;s Form Tag library the CSRF token will be automatically included. It will also HTML Escape form element values, which makes your site safer against XSS, and more correct.\r\n\r\n    &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; %&gt; \r\n\r\n    &lt;form:form&gt;\r\n      &lt;form:input...\r\n    &lt;/form:form&gt;\r\n\r\nOtherwise, add this to your form:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>Disabling CSRF protection sounds like a bad idea, no?</p>\n\n<p>If you use Spring's Form Tag library the CSRF token will be automatically included. It will also HTML Escape form element values, which makes your site safer against XSS, and more correct.</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\" %&gt; \n\n&lt;form:form&gt;\n  &lt;form:input...\n&lt;/form:form&gt;\n</code></pre>\n\n<p>Otherwise, add this to your form:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1636890,"reputation":8384,"user_id":1510145,"accept_rate":33,"display_name":"fivedogit"},"score":1,"creation_date":1456163804,"post_id":31954327,"comment_id":58809338,"body_markdown":"Your hidden input is actually hidden.","body":"Your hidden input is actually hidden."},{"owner":{"account_id":211811,"reputation":726,"user_id":464219,"accept_rate":17,"display_name":"Hamedz"},"score":1,"creation_date":1475087974,"post_id":31954327,"comment_id":66806607,"body_markdown":"I think you don&#39;t need extra workaround. Just add hidden input with th:value and th:name.","body":"I think you don&#39;t need extra workaround. Just add hidden input with th:value and th:name."},{"owner":{"account_id":477853,"reputation":11601,"user_id":889583,"accept_rate":80,"display_name":"daiscog"},"score":0,"creation_date":1495810672,"post_id":31954327,"comment_id":75421852,"body_markdown":"I got the same issue after hot redeploys.  I was using JSPs with the Spring forms taglib, so no need for step 1, but step 2 alone solved the problem for me.","body":"I got the same issue after hot redeploys.  I was using JSPs with the Spring forms taglib, so no need for step 1, but step 2 alone solved the problem for me."},{"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"score":0,"creation_date":1509922214,"post_id":31954327,"comment_id":81205127,"body_markdown":"Does this for me :( Invalid CSRF Token &#39;null&#39; was found on the request parameter &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;.","body":"Does this for me :( Invalid CSRF Token &#39;null&#39; was found on the request parameter &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;."},{"owner":{"account_id":2765236,"reputation":83,"user_id":2381118,"accept_rate":25,"display_name":"Techie"},"score":0,"creation_date":1696512964,"post_id":31954327,"comment_id":136164838,"body_markdown":"This solution works for me but there is an issue - When I click on the browser back button and go out of the login page and click on forward button to come back to the application I get &#39;Status: 403 ERROR: Expected CSRF token not found. Has your session expired?&#39; An idea how to  address this particular issues? TIA","body":"This solution works for me but there is an issue - When I click on the browser back button and go out of the login page and click on forward button to come back to the application I get &#39;Status: 403 ERROR: Expected CSRF token not found. Has your session expired?&#39; An idea how to  address this particular issues? TIA"}],"tags":[],"owner":{"account_id":6775198,"reputation":451,"user_id":5217207,"display_name":"Yinghua"},"comment_count":5,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1456247069,"creation_date":1439340728,"answer_id":31954327,"question_id":28138864,"body_markdown":"I had the same problem. I use thymeleaf and Spring boot, and got the CSRF token issue when I try to post data in a form.\r\n\r\nHere is my working solution: \r\n\r\n1. Add this hidden input: \r\n\r\n    `&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot; /&gt;`\r\n\r\n\r\n2. In your `WebSecurityConfig` (which extends `WebSecurityConfigurerAdapter`), add a method:\r\n\r\n        private CsrfTokenRepository csrfTokenRepository() \r\n        { \r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository(); \r\n            repository.setSessionAttributeName(&quot;_csrf&quot;);\r\n            return repository; \r\n        }\r\n\r\n   and add code in method `configure()`:\r\n\r\n        @Override\r\n         protected void configure(HttpSecurity http) throws Exception {\r\n             http.csrf()\r\n             .csrfTokenRepository(csrfTokenRepository())\r\n\r\nI spent lot of time on this problem.  Hope it can help someone who has the same problem.","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>I had the same problem. I use thymeleaf and Spring boot, and got the CSRF token issue when I try to post data in a form.</p>\n\n<p>Here is my working solution: </p>\n\n<ol>\n<li><p>Add this hidden input: </p>\n\n<p><code>&lt;input type=\"hidden\" th:name=\"${_csrf.parameterName}\" th:value=\"${_csrf.token}\" /&gt;</code></p></li>\n<li><p>In your <code>WebSecurityConfig</code> (which extends <code>WebSecurityConfigurerAdapter</code>), add a method:</p>\n\n<pre><code>private CsrfTokenRepository csrfTokenRepository() \n{ \n    HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository(); \n    repository.setSessionAttributeName(\"_csrf\");\n    return repository; \n}\n</code></pre>\n\n<p>and add code in method <code>configure()</code>:</p>\n\n<pre><code>@Override\n protected void configure(HttpSecurity http) throws Exception {\n     http.csrf()\n     .csrfTokenRepository(csrfTokenRepository())\n</code></pre></li>\n</ol>\n\n<p>I spent lot of time on this problem.  Hope it can help someone who has the same problem.</p>\n"},{"comments":[{"owner":{"account_id":11634571,"reputation":1536,"user_id":8521434,"accept_rate":0,"display_name":"VIJ"},"score":1,"creation_date":1624525130,"post_id":38906688,"comment_id":120384393,"body_markdown":"can u please help me with a webflux version of ur code.","body":"can u please help me with a webflux version of ur code."}],"tags":[],"owner":{"account_id":8432993,"reputation":579,"user_id":6328033,"display_name":"Java_Fire_Within"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471460531,"creation_date":1470952310,"answer_id":38906688,"question_id":28138864,"body_markdown":"To @St.Antario,\r\n  Please use this code to enable CSRF in your code\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .antMatcher(&quot;*/*&quot;).authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/login**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().csrf().csrfTokenRepository(csrfTokenRepository())\r\n                    .and().addFilterAfter(csrfHeaderFilter(), SessionManagementFilter.class);\r\n        }\r\n    \r\n        private Filter csrfHeaderFilter() {\r\n            return new OncePerRequestFilter() {\r\n    \r\n                @Override\r\n                protected void doFilterInternal(HttpServletRequest request,\r\n                                                HttpServletResponse response,\r\n                                                FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n                    CsrfToken csrf = (CsrfToken) request.getAttribute(CsrfToken.class.getName());\r\n                    if (csrf != null) {\r\n                        Cookie cookie = WebUtils.getCookie(request, &quot;XSRF-TOKEN&quot;);\r\n                        String token = csrf.getToken();\r\n                        if (cookie == null || token != null\r\n                                &amp;&amp; !token.equals(cookie.getValue())) {\r\n    \r\n                            // Token is being added to the XSRF-TOKEN cookie.\r\n                            cookie = new Cookie(&quot;XSRF-TOKEN&quot;, token);\r\n                            cookie.setPath(&quot;/&quot;);\r\n                            response.addCookie(cookie);\r\n                        }\r\n                    }\r\n                    filterChain.doFilter(request, response);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private CsrfTokenRepository csrfTokenRepository() {\r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n            repository.setHeaderName(&quot;X-XSRF-TOKEN&quot;);\r\n            //repository.setSessionAttributeName((&quot;X-XSRF-TOKEN&quot;));\r\n            return repository;\r\n        }\r\n    }","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>To @St.Antario,\n  Please use this code to enable CSRF in your code</p>\n\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(\"*/*\").authorizeRequests()\n                .antMatchers(\"/\", \"/login**\").permitAll()\n                .anyRequest().authenticated()\n                .and().csrf().csrfTokenRepository(csrfTokenRepository())\n                .and().addFilterAfter(csrfHeaderFilter(), SessionManagementFilter.class);\n    }\n\n    private Filter csrfHeaderFilter() {\n        return new OncePerRequestFilter() {\n\n            @Override\n            protected void doFilterInternal(HttpServletRequest request,\n                                            HttpServletResponse response,\n                                            FilterChain filterChain) throws ServletException, IOException {\n\n                CsrfToken csrf = (CsrfToken) request.getAttribute(CsrfToken.class.getName());\n                if (csrf != null) {\n                    Cookie cookie = WebUtils.getCookie(request, \"XSRF-TOKEN\");\n                    String token = csrf.getToken();\n                    if (cookie == null || token != null\n                            &amp;&amp; !token.equals(cookie.getValue())) {\n\n                        // Token is being added to the XSRF-TOKEN cookie.\n                        cookie = new Cookie(\"XSRF-TOKEN\", token);\n                        cookie.setPath(\"/\");\n                        response.addCookie(cookie);\n                    }\n                }\n                filterChain.doFilter(request, response);\n            }\n        };\n    }\n\n    private CsrfTokenRepository csrfTokenRepository() {\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(\"X-XSRF-TOKEN\");\n        //repository.setSessionAttributeName((\"X-XSRF-TOKEN\"));\n        return repository;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6319018,"reputation":8238,"user_id":4907913,"display_name":"thewaywewere"},"score":0,"creation_date":1498185588,"post_id":44712042,"comment_id":76406985,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}],"tags":[],"owner":{"account_id":9206531,"reputation":169,"user_id":6841562,"display_name":"Carlos Alberto Gonzalez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498186320,"creation_date":1498184197,"answer_id":44712042,"question_id":28138864,"body_markdown":"**spring-security.xml**\r\n\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n                 xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/security \r\n        http://www.springframework.org/schema/security/spring-security.xsd\r\n        http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n     \r\n        &lt;http pattern=&quot;/resources/**&quot; security=&quot;none&quot; /&gt;\r\n        \r\n        &lt;http use-expressions=&quot;true&quot;&gt;\r\n            &lt;intercept-url pattern=&quot;/login*&quot; access=&quot;isAnonymous()&quot; /&gt;\r\n            &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;form-login\r\n                login-page=&quot;/login&quot;\r\n                default-target-url=&quot;/home&quot;\r\n                authentication-failure-url=&quot;/login?error=true&quot; /&gt; \r\n            &lt;logout\r\n                logout-success-url=&quot;/login&quot;\r\n                delete-cookies=&quot;JSESSIONID&quot; /&gt;\r\n        &lt;/http&gt;\r\n        &lt;authentication-manager&gt;\r\n            &lt;authentication-provider&gt;\r\n                &lt;user-service&gt;\r\n                    &lt;user name=&quot;carlos&quot; password=&quot;123&quot; authorities=&quot;ROLE_USER&quot; /&gt;\r\n                &lt;/user-service&gt;\r\n            &lt;/authentication-provider&gt;\r\n        &lt;/authentication-manager&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\n**web.xml** \r\n\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n**add add jsp login** \r\n\r\n    &lt;%@page session=&quot;true&quot;%&gt;\r\n\r\n**and input hidden:**\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n","title":"Expected CSRF token not found. Has your session expired 403","body":"<p><strong>spring-security.xml</strong></p>\n\n<pre><code>&lt;beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xmlns:beans=\"http://www.springframework.org/schema/beans\"\n             xsi:schemaLocation=\"\n    http://www.springframework.org/schema/security \n    http://www.springframework.org/schema/security/spring-security.xsd\n    http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;http pattern=\"/resources/**\" security=\"none\" /&gt;\n\n    &lt;http use-expressions=\"true\"&gt;\n        &lt;intercept-url pattern=\"/login*\" access=\"isAnonymous()\" /&gt;\n        &lt;intercept-url pattern=\"/**\" access=\"isAuthenticated()\"/&gt;\n        &lt;form-login\n            login-page=\"/login\"\n            default-target-url=\"/home\"\n            authentication-failure-url=\"/login?error=true\" /&gt; \n        &lt;logout\n            logout-success-url=\"/login\"\n            delete-cookies=\"JSESSIONID\" /&gt;\n    &lt;/http&gt;\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider&gt;\n            &lt;user-service&gt;\n                &lt;user name=\"carlos\" password=\"123\" authorities=\"ROLE_USER\" /&gt;\n            &lt;/user-service&gt;\n        &lt;/authentication-provider&gt;\n    &lt;/authentication-manager&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>web.xml</strong> </p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/applicationContext.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p><strong>add add jsp login</strong> </p>\n\n<pre><code>&lt;%@page session=\"true\"%&gt;\n</code></pre>\n\n<p><strong>and input hidden:</strong></p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576385109,"creation_date":1576385109,"answer_id":59341274,"question_id":28138864,"body_markdown":"What is your login page named\r\nIs it ending with .jsp\r\n\r\nIf the login page is not ending with .jsp Spring framework doesn&#39;t evaluate the JSP or EL expressions ","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>What is your login page named\nIs it ending with .jsp</p>\n\n<p>If the login page is not ending with .jsp Spring framework doesn't evaluate the JSP or EL expressions </p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679556194,"creation_date":1679556194,"answer_id":75820166,"question_id":28138864,"body_markdown":"&lt;h2&gt;Problem:&lt;/h2&gt;\r\n\r\nIn Spring Boot 2.7, the `csrf` is **DISABLED** by default. \r\n&lt;br/&gt;\r\nIn Spring Boot 3.x, the `csrf` is **ENABLED** by default.\r\n\r\n\r\n&lt;h2&gt;Solution&lt;/h2&gt;\r\n\r\n```\r\n@EnableWebFluxSecurity\r\n@Configuration\r\npublic class ReactiveWebfluxSecurityConfig {\r\n\r\n  @Bean\r\n  public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n    http.csrf(ServerHttpSecurity.CsrfSpec::disable);\r\n    return http.build();\r\n  }\r\n}\r\n```\r\n&lt;h5&gt;Note&lt;/h5&gt;\r\n\r\n**DON&#39;T FORGET** to add `@Configuration` to the `@EnableWebFluxSecurity` as in Spring 3.0 it has to be explicitly added as I&#39;ve done in the above code snippet.\r\n\r\n","title":"Expected CSRF token not found. Has your session expired 403","body":"<h2>Problem:</h2>\n<p>In Spring Boot 2.7, the <code>csrf</code> is <strong>DISABLED</strong> by default.\n<br/>\nIn Spring Boot 3.x, the <code>csrf</code> is <strong>ENABLED</strong> by default.</p>\n<h2>Solution</h2>\n<pre><code>@EnableWebFluxSecurity\n@Configuration\npublic class ReactiveWebfluxSecurityConfig {\n\n  @Bean\n  public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http.csrf(ServerHttpSecurity.CsrfSpec::disable);\n    return http.build();\n  }\n}\n</code></pre>\n<h5>Note</h5>\n<p><strong>DON'T FORGET</strong> to add <code>@Configuration</code> to the <code>@EnableWebFluxSecurity</code> as in Spring 3.0 it has to be explicitly added as I've done in the above code snippet.</p>\n"}],"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102407,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":7,"score":27,"last_activity_date":1679556194,"creation_date":1422204591,"question_id":28138864,"body_markdown":"I&#39;m trying to write my test spring security application with mkyong examples.\r\n\r\n    Spring Security: 4.0.0.RC1\r\n    Spring: 4.1.4.RELEASE\r\n\r\n I have the following security config:\r\n\r\n\t&lt;http auto-config=&quot;true&quot;&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/admin**&quot; \r\n\t\t\t\t\t\taccess=&quot;hasRole(&#39;ADMIN&#39;)&quot;/&gt;\r\n\t\t&lt;form-login authentication-failure-url=&quot;/?auth_error&quot; \r\n\t\t\t\t\t\t\tusername-parameter=&quot;user&quot; \r\n\t\t\t\t\t\t\tpassword-parameter=&quot;password&quot; \r\n\t\t\t\t\t\t\tlogin-page=&quot;/&quot;\r\n\t\t\t\t\t\t\tdefault-target-url=&quot;/?OK&quot;/&gt;\r\n    &lt;!-- &lt;csrf/&gt; --&gt;\r\n\t&lt;/http&gt;\r\n\t\r\n\t&lt;authentication-manager&gt;\r\n\t\t&lt;authentication-provider&gt;\r\n\t\t\t&lt;user-service&gt;\r\n\t\t\t\t&lt;user name=&quot;mkyong&quot; password=&quot;123456&quot; authorities=&quot;ADMIN&quot; /&gt;\r\n\t\t\t&lt;/user-service&gt;\r\n\t\t&lt;/authentication-provider&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\nlogin-page:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;form method=&quot;POST&quot;&gt;\r\n    \t&lt;label for=&quot;user&quot;&gt;User: &lt;/label&gt;\r\n    \t&lt;input type=&quot;text&quot; id=&quot;user&quot; name=&quot;user&quot; /&gt; &lt;/br&gt;\r\n    \t&lt;label for=&quot;password&quot;&gt;Password: &lt;/label&gt;\r\n    \t&lt;input type=&quot;text&quot; name=&quot;password&quot; id=&quot;password&quot; /&gt; &lt;/br&gt;\r\n    \t&lt;input type=&quot;submit&quot; /&gt; \r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nNow, when I try to login I get 403 error page:\r\n \r\n\r\n    Invalid CSRF Token &#39;null&#39; was found on the request parameter \r\n    &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;.\r\n\r\ndescription:\r\n\r\n    Access to the specified resource (Invalid CSRF Token &#39;null&#39; was\r\n    found on the request parameter &#39;_csrf&#39; or header &#39;X-CSRF-TOKEN&#39;.) has been \r\n    forbidden.\r\n\r\nWhat&#39;s wrong, how can I fix that? I commented `csrf` in the config, but the error-message has to do with the `csrf`.","title":"Expected CSRF token not found. Has your session expired 403","body":"<p>I'm trying to write my test spring security application with mkyong examples.</p>\n\n<pre><code>Spring Security: 4.0.0.RC1\nSpring: 4.1.4.RELEASE\n</code></pre>\n\n<p>I have the following security config:</p>\n\n<pre><code>&lt;http auto-config=\"true\"&gt;\n    &lt;intercept-url pattern=\"/admin**\" \n                    access=\"hasRole('ADMIN')\"/&gt;\n    &lt;form-login authentication-failure-url=\"/?auth_error\" \n                        username-parameter=\"user\" \n                        password-parameter=\"password\" \n                        login-page=\"/\"\n                        default-target-url=\"/?OK\"/&gt;\n&lt;!-- &lt;csrf/&gt; --&gt;\n&lt;/http&gt;\n\n&lt;authentication-manager&gt;\n    &lt;authentication-provider&gt;\n        &lt;user-service&gt;\n            &lt;user name=\"mkyong\" password=\"123456\" authorities=\"ADMIN\" /&gt;\n        &lt;/user-service&gt;\n    &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n</code></pre>\n\n<p>login-page:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;form method=\"POST\"&gt;\n    &lt;label for=\"user\"&gt;User: &lt;/label&gt;\n    &lt;input type=\"text\" id=\"user\" name=\"user\" /&gt; &lt;/br&gt;\n    &lt;label for=\"password\"&gt;Password: &lt;/label&gt;\n    &lt;input type=\"text\" name=\"password\" id=\"password\" /&gt; &lt;/br&gt;\n    &lt;input type=\"submit\" /&gt; \n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Now, when I try to login I get 403 error page:</p>\n\n<pre><code>Invalid CSRF Token 'null' was found on the request parameter \n'_csrf' or header 'X-CSRF-TOKEN'.\n</code></pre>\n\n<p>description:</p>\n\n<pre><code>Access to the specified resource (Invalid CSRF Token 'null' was\nfound on the request parameter '_csrf' or header 'X-CSRF-TOKEN'.) has been \nforbidden.\n</code></pre>\n\n<p>What's wrong, how can I fix that? I commented <code>csrf</code> in the config, but the error-message has to do with the <code>csrf</code>.</p>\n"},{"tags":["java","arrays","string","list"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1360328850,"post_id":14773264,"comment_id":20680979,"body_markdown":"How do you convert a random Object into a String?","body":"How do you convert a random Object into a String?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1360328937,"post_id":14773264,"comment_id":20681025,"body_markdown":"toString is (in most classes) purely intended for diagnostic messages, not &quot;production&quot;.","body":"toString is (in most classes) purely intended for diagnostic messages, not &quot;production&quot;."},{"owner":{"account_id":1750494,"reputation":1513,"user_id":1599681,"accept_rate":47,"display_name":"calbertts"},"score":0,"creation_date":1360328966,"post_id":14773264,"comment_id":20681035,"body_markdown":"I want convert all list in String[] without iterate over it.","body":"I want convert all list in String[] without iterate over it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1360329017,"post_id":14773264,"comment_id":20681061,"body_markdown":"Did you look at the spec for List?  (I&#39;m guessing not, otherwise you would have noticed toArray.)","body":"Did you look at the spec for List?  (I&#39;m guessing not, otherwise you would have noticed toArray.)"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1567483377,"post_id":14773264,"comment_id":101965347,"body_markdown":"Java 8 : https://stackoverflow.com/a/31002358/1216775","body":"Java 8 : <a href=\"https://stackoverflow.com/a/31002358/1216775\">stackoverflow.com/a/31002358/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":6,"creation_date":1360329232,"post_id":14773298,"comment_id":20681173,"body_markdown":"Change `array[index] = (String) value`, to `array[index] = String.valueOf( value )`.  The answer as it is will crash if the list contains anything, but Strings. Maybe this is what OP wants.","body":"Change <code>array[index] = (String) value</code>, to <code>array[index] = String.valueOf( value )</code>.  The answer as it is will crash if the list contains anything, but Strings. Maybe this is what OP wants."}],"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1360328929,"creation_date":1360328929,"answer_id":14773298,"question_id":14773264,"body_markdown":"You have to loop through the list and fill your `String[]`.\r\n\r\n    String[] array = new String[lst.size()];\r\n    int index = 0;\r\n    for (Object value : lst) {\r\n      array[index] = (String) value;\r\n      index++;\r\n    }\r\n\r\nIf the list would be of `String` values, List&lt;String&gt; then this would be as simple as calling `lst.toArray(new String[0])`;\r\n","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>You have to loop through the list and fill your <code>String[]</code>.</p>\n\n<pre><code>String[] array = new String[lst.size()];\nint index = 0;\nfor (Object value : lst) {\n  array[index] = (String) value;\n  index++;\n}\n</code></pre>\n\n<p>If the list would be of <code>String</code> values, List then this would be as simple as calling <code>lst.toArray(new String[0])</code>;</p>\n"},{"comments":[{"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"score":0,"creation_date":1360330015,"post_id":14773362,"comment_id":20681577,"body_markdown":"Why additional array copy when `objectArray` can still be used as String[]?","body":"Why additional array copy when <code>objectArray</code> can still be used as String[]?"},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1360330419,"post_id":14773362,"comment_id":20681771,"body_markdown":"See the bottom part of the linked question - casting `objectArray` to `String[]` causes a `ClassCastException`. This answer explains better: http://stackoverflow.com/a/1018774/1063716","body":"See the bottom part of the linked question - casting <code>objectArray</code> to <code>String[]</code> causes a <code>ClassCastException</code>. This answer explains better: <a href=\"http://stackoverflow.com/a/1018774/1063716\">stackoverflow.com/a/1018774/1063716</a>"},{"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"score":0,"creation_date":1360330558,"post_id":14773362,"comment_id":20681841,"body_markdown":"Yes in case of List containing objects other than string. But that happens even in your code.","body":"Yes in case of List containing objects other than string. But that happens even in your code."},{"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"score":3,"creation_date":1360330710,"post_id":14773362,"comment_id":20681914,"body_markdown":"`List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();\n        lst.add(1);` I m getting ArrayStoreException for this test case.","body":"<code>List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();         lst.add(1);</code> I m getting ArrayStoreException for this test case."}],"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360329156,"creation_date":1360329156,"answer_id":14773362,"question_id":14773264,"body_markdown":"You could use toArray() to convert into an array of Objects followed by [this method][1] to convert the array of Objects into an array of Strings:\r\n\r\n    Object[] objectArray = lst.toArray();\r\n    String[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1018798/1063716","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>You could use toArray() to convert into an array of Objects followed by <a href=\"https://stackoverflow.com/a/1018798/1063716\">this method</a> to convert the array of Objects into an array of Strings:</p>\n\n<pre><code>Object[] objectArray = lst.toArray();\nString[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1360329761,"creation_date":1360329761,"answer_id":14773551,"question_id":14773264,"body_markdown":"If we are very sure that `List&lt;Object&gt;` will contain collection of `String`, then probably try this.\r\n\r\n    List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();\r\n    lst.add(&quot;sample&quot;);\r\n    lst.add(&quot;simple&quot;);\r\n    String[] arr = lst.toArray(new String[] {});\r\n    System.out.println(Arrays.deepToString(arr));","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>If we are very sure that <code>List&lt;Object&gt;</code> will contain collection of <code>String</code>, then probably try this.</p>\n\n<pre><code>List&lt;Object&gt; lst = new ArrayList&lt;Object&gt;();\nlst.add(\"sample\");\nlst.add(\"simple\");\nString[] arr = lst.toArray(new String[] {});\nSystem.out.println(Arrays.deepToString(arr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360350349,"creation_date":1360350349,"answer_id":14779601,"question_id":14773264,"body_markdown":"Lot of concepts here which will be useful:  \r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(Arrays.asList(new String[]{&quot;Java&quot;,&quot;is&quot;,&quot;cool&quot;}));\r\n    String[] a = new String[list.size()];\r\n    list.toArray(a);\r\n\r\n**Tip to print array of Strings:**\r\n\r\n    System.out.println(Arrays.toString(a));","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>Lot of concepts here which will be useful:  </p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(Arrays.asList(new String[]{\"Java\",\"is\",\"cool\"}));\nString[] a = new String[list.size()];\nlist.toArray(a);\n</code></pre>\n\n<p><strong>Tip to print array of Strings:</strong></p>\n\n<pre><code>System.out.println(Arrays.toString(a));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374066793,"creation_date":1374066793,"answer_id":17700762,"question_id":14773264,"body_markdown":"Using [Guava][1]\r\n  \r\n    List&lt;Object&gt; lst ...    \r\n    List&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>Using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a></p>\n\n<pre><code>List&lt;Object&gt; lst ...    \nList&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679127896,"post_id":31002358,"comment_id":133668430,"body_markdown":"I had to do myObjects.stream().map(myObj::toString).toArray(String[]::new);","body":"I had to do myObjects.stream().map(myObj::toString).toArray(String[]::ne&zwnj;&#8203;w);"}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1679556148,"creation_date":1435061187,"answer_id":31002358,"question_id":14773264,"body_markdown":"&gt; Java 8\r\n\r\n Java 8 has the option of using streams as well. \r\n\r\n    List&lt;Object&gt; lst = new ArrayList&lt;&gt;(); \r\n    lst.add(&quot;Apple&quot;); \r\n    String[] strings = lst.stream().toArray(String[]::new); \r\n    System.out.println(Arrays.toString(strings));  // [Apple]\r\n\r\nIf we have a stream of `Object`, we would need an intermediate operation to do object-to-string conversion, and a terminal operation to collect the results. We can use `Objects.toString(obj, null)` or any other such implementation for string conversion.\r\n\r\n    String[] output = lst.stream()\r\n        .map((obj) -&gt; Objects.toString(obj, null))\r\n        .toArray(String[]::new);\r\n\r\n","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<blockquote>\n<p>Java 8</p>\n</blockquote>\n<p>Java 8 has the option of using streams as well.</p>\n<pre><code>List&lt;Object&gt; lst = new ArrayList&lt;&gt;(); \nlst.add(&quot;Apple&quot;); \nString[] strings = lst.stream().toArray(String[]::new); \nSystem.out.println(Arrays.toString(strings));  // [Apple]\n</code></pre>\n<p>If we have a stream of <code>Object</code>, we would need an intermediate operation to do object-to-string conversion, and a terminal operation to collect the results. We can use <code>Objects.toString(obj, null)</code> or any other such implementation for string conversion.</p>\n<pre><code>String[] output = lst.stream()\n    .map((obj) -&gt; Objects.toString(obj, null))\n    .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17993878,"reputation":121,"user_id":13077381,"display_name":"Umasankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613083282,"creation_date":1613048753,"answer_id":66155373,"question_id":14773264,"body_markdown":"There is a simple way available in Kotlin\r\n\r\n```kotlin\r\nvar lst: List&lt;Object&gt; = ...\r\n    \r\nlistOFStrings: ArrayList&lt;String&gt; = (lst!!.map { it.name })\r\n```","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>There is a simple way available in Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var lst: List&lt;Object&gt; = ...\n    \nlistOFStrings: ArrayList&lt;String&gt; = (lst!!.map { it.name })\n</code></pre>\n"}],"owner":{"account_id":1750494,"reputation":1513,"user_id":1599681,"accept_rate":47,"display_name":"calbertts"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128677,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":14773298,"answer_count":7,"score":19,"last_activity_date":1679556148,"creation_date":1360328800,"question_id":14773264,"body_markdown":"I need to convert from `List&lt;Object&gt;` to `String[]`.\r\n\r\nI made:\r\n\r\n    List&lt;Object&gt; lst ...\r\n    String arr = lst.toString();\r\n\r\nBut I got this string:\r\n\r\n    [&quot;...&quot;, &quot;...&quot;, &quot;...&quot;]\r\n\r\nis just one string, but I need String[]\r\n\r\nThanks a lot.","title":"Convert List&lt;Object&gt; to String[] in Java","body":"<p>I need to convert from <code>List&lt;Object&gt;</code> to <code>String[]</code>.</p>\n\n<p>I made:</p>\n\n<pre><code>List&lt;Object&gt; lst ...\nString arr = lst.toString();\n</code></pre>\n\n<p>But I got this string:</p>\n\n<pre><code>[\"...\", \"...\", \"...\"]\n</code></pre>\n\n<p>is just one string, but I need String[]</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679525286,"post_id":75816867,"comment_id":133739847,"body_markdown":"Did you tried by doing it with lot of step ? like each tick you send few changes","body":"Did you tried by doing it with lot of step ? like each tick you send few changes"},{"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"score":0,"creation_date":1679555259,"post_id":75816867,"comment_id":133743249,"body_markdown":"How would I do that? Like duplicate the Runtime a few times?","body":"How would I do that? Like duplicate the Runtime a few times?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679555691,"post_id":75816867,"comment_id":133743341,"body_markdown":"I&#39;ll make an answer","body":"I&#39;ll make an answer"}],"answers":[{"comments":[{"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"score":0,"creation_date":1679573257,"post_id":75820158,"comment_id":133747499,"body_markdown":"Sorry but this still does the same thing as &quot;player.setRotation(target.getLocation().getYaw, target.getLocation().getPitch&quot;. It&#39;s just like setting your game to 20 fps since it updates 20 times per second. This is kinda my problem. I&#39;m just asking if it&#39;s possible to smooth that out, in gamer terms from 20 fps to 60 (Prob not but still curious)","body":"Sorry but this still does the same thing as &quot;player.setRotation(target.getLocation().getYaw, target.getLocation().getPitch&quot;. It&#39;s just like setting your game to 20 fps since it updates 20 times per second. This is kinda my problem. I&#39;m just asking if it&#39;s possible to smooth that out, in gamer terms from 20 fps to 60 (Prob not but still curious)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679573352,"post_id":75820158,"comment_id":133747523,"body_markdown":"You can&#39;t. You seems to want to turn it very fast, but with an animation, which is not compatible. What I showed can help to do the same as a real player which should be walking around","body":"You can&#39;t. You seems to want to turn it very fast, but with an animation, which is not compatible. What I showed can help to do the same as a real player which should be walking around"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679556101,"creation_date":1679556101,"answer_id":75820158,"question_id":75816867,"body_markdown":"To do that, instead of changing for somewhere to the given value, we will do it by step.\r\n\r\nImagine your want the player rotate in 1 second, so 20 ticks, you should do like that:\r\n\r\n```java\r\npublic class HeadTurnTimer implements Runnable {\r\n    private final Player p;\r\n    private yaw, pitch;\r\n    private addYaw, addPitch;\r\n\r\n    public HeadTurnTimer(Player p) {\r\n        this.p = p;\r\n        this.yaw = p.getLocation().getYaw();\r\n        this.pitch = p.getLocation().getPitch();\r\n        this.addYaw = (yaw - dirYaw) / 20;\r\n        this.addPitch = (pitch - dirPitch) / 20;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        // add few to go to next value\r\n        this.pitch += this.addPitch;\r\n        this.yaw += this.addYaw;\r\n        for (Player player : Bukkit.getOnlinePlayers()) { // your loop\r\n            if (player != target) {\r\n                player.setRotation(this.pitch, this.yaw); // set the actual values\r\n            }\r\n        }\r\n    }\r\n}\r\n// somewhere else:\r\nBukkit.getScheduler().runTaskTimer(myPlugin, new HeadTurnTimer(player), 0, 0);\r\n```\r\n`dirPitch` and `dirYaw` are value that you want at final. Feel free refactor the given class as you want. Don&#39;t forget to cancel timer.\r\n\r\nValue `0` means each ticks","title":"How to rotate a player smoothly to another direction?","body":"<p>To do that, instead of changing for somewhere to the given value, we will do it by step.</p>\n<p>Imagine your want the player rotate in 1 second, so 20 ticks, you should do like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeadTurnTimer implements Runnable {\n    private final Player p;\n    private yaw, pitch;\n    private addYaw, addPitch;\n\n    public HeadTurnTimer(Player p) {\n        this.p = p;\n        this.yaw = p.getLocation().getYaw();\n        this.pitch = p.getLocation().getPitch();\n        this.addYaw = (yaw - dirYaw) / 20;\n        this.addPitch = (pitch - dirPitch) / 20;\n    }\n\n    @Override\n    public void run() {\n        // add few to go to next value\n        this.pitch += this.addPitch;\n        this.yaw += this.addYaw;\n        for (Player player : Bukkit.getOnlinePlayers()) { // your loop\n            if (player != target) {\n                player.setRotation(this.pitch, this.yaw); // set the actual values\n            }\n        }\n    }\n}\n// somewhere else:\nBukkit.getScheduler().runTaskTimer(myPlugin, new HeadTurnTimer(player), 0, 0);\n</code></pre>\n<p><code>dirPitch</code> and <code>dirYaw</code> are value that you want at final. Feel free refactor the given class as you want. Don't forget to cancel timer.</p>\n<p>Value <code>0</code> means each ticks</p>\n"}],"owner":{"account_id":21152291,"reputation":17,"user_id":15552338,"display_name":"Hexanilix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679556101,"creation_date":1679515796,"question_id":75816867,"body_markdown":"I&#39;m just trying to rotate a player to another player&#39;s direction _smoothly_.\r\n\r\nThe easy way out is to disregard &quot;smooth&quot; and just use:\r\n\r\n```\r\n@Override\r\npublic void run() {\r\n    for (Player player : Bukkit.getOnlinePlayers()) {\r\n        if (player != target) {\r\n            player.setRotation(Pitch, Yaw);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut what comes out is jagged movement, which I don&#39;t want. Is there a way to do this smoothly?","title":"How to rotate a player smoothly to another direction?","body":"<p>I'm just trying to rotate a player to another player's direction <em>smoothly</em>.</p>\n<p>The easy way out is to disregard &quot;smooth&quot; and just use:</p>\n<pre><code>@Override\npublic void run() {\n    for (Player player : Bukkit.getOnlinePlayers()) {\n        if (player != target) {\n            player.setRotation(Pitch, Yaw);\n        }\n    }\n}\n</code></pre>\n<p>but what comes out is jagged movement, which I don't want. Is there a way to do this smoothly?</p>\n"},{"tags":["java","apache-kafka","collections","jmx","mbeans"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679646451,"post_id":75820139,"comment_id":133761763,"body_markdown":"Isnt the registration itself a mechanism to keep track of things? Why would you need additional data structures or technologies to keep track of things that are already tracked, by definition?","body":"Isnt the registration itself a mechanism to keep track of things? Why would you need additional data structures or technologies to keep track of things that are already tracked, by definition?"}],"owner":{"account_id":26897145,"reputation":21,"user_id":20474870,"display_name":"Dona Dominic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555956,"creation_date":1679555956,"question_id":75820139,"body_markdown":"Does Kafka make use of any data structures or technologies to keep track of all the registered  Mbeans ?\r\n\r\nIf I am registering a large number of objects as MBean, I need some way to manage, access and keep track of them efficiently.\r\n\r\nWhat is the best or standard way to do that ?\r\n\r\nI just wanted to know does Kafka has any implementation for the above need. Or does any other application has ?\r\n\r\nIf not what is the best way to do that ?","title":"How Kafka keep track of registered mbeans","body":"<p>Does Kafka make use of any data structures or technologies to keep track of all the registered  Mbeans ?</p>\n<p>If I am registering a large number of objects as MBean, I need some way to manage, access and keep track of them efficiently.</p>\n<p>What is the best or standard way to do that ?</p>\n<p>I just wanted to know does Kafka has any implementation for the above need. Or does any other application has ?</p>\n<p>If not what is the best way to do that ?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679323845,"post_id":75791713,"comment_id":133696682,"body_markdown":"Storing 7k records in DynamoDB should take maybe a second or two at most.  Can you share a small example that shows the problem?","body":"Storing 7k records in DynamoDB should take maybe a second or two at most.  Can you share a small example that shows the problem?"},{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1679549370,"post_id":75791713,"comment_id":133742366,"body_markdown":"@stdunbar Updated the question with code","body":"@stdunbar Updated the question with code"}],"answers":[{"comments":[{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1679587205,"post_id":75792140,"comment_id":133751794,"body_markdown":"I tried increasing the capacity but still the same response I got, didn&#39;t notice any change in response time.","body":"I tried increasing the capacity but still the same response I got, didn&#39;t notice any change in response time."},{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1679605375,"post_id":75792140,"comment_id":133756277,"body_markdown":"Did you switch to on-demand as suggested?","body":"Did you switch to on-demand as suggested?"},{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1679605475,"post_id":75792140,"comment_id":133756304,"body_markdown":"The other thing is to look at CloudWatch to see if youre getting any throttles, good or bad request latencies, and so on.","body":"The other thing is to look at CloudWatch to see if youre getting any throttles, good or bad request latencies, and so on."},{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1679658195,"post_id":75792140,"comment_id":133764548,"body_markdown":"Yes I did switch on on-demand, but didn&#39;t notice any improvement. It&#39;s one request in case of get item, even there on an average it&#39;s taking approximately 20 seconds to fetch ~ 6-7k records . Will check cloudwatch to get more information","body":"Yes I did switch on on-demand, but didn&#39;t notice any improvement. It&#39;s one request in case of get item, even there on an average it&#39;s taking approximately 20 seconds to fetch ~ 6-7k records . Will check cloudwatch to get more information"}],"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679325651,"creation_date":1679325651,"answer_id":75792140,"question_id":75791713,"body_markdown":"Youre telling DynamoDB you want 1 read and write per second, so thats what youre getting. Yes, you let it auto scale up to 10 but it takes a few minutes to see the traffic and grow step by step up to 10.\r\n\r\nEasiest at this scale (and assuming long periods of zero traffic) is set the table to on-demand per-request pricing and youll have an extremely fast database.","title":"DynamoDb write and fetch are too slow","body":"<p>Youre telling DynamoDB you want 1 read and write per second, so thats what youre getting. Yes, you let it auto scale up to 10 but it takes a few minutes to see the traffic and grow step by step up to 10.</p>\n<p>Easiest at this scale (and assuming long periods of zero traffic) is set the table to on-demand per-request pricing and youll have an extremely fast database.</p>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679555363,"creation_date":1679323345,"question_id":75791713,"body_markdown":"I am using Dynamodb in one of my Springboot application for the first time and noticing very slow response time.\r\n\r\nMy table structure is like below -\r\n\r\n**itemid** - A unique key for each record, is made as primary partition key without any sort key.\r\nAround 10 other attributes including 2 of attributes of GSI (**item_category(PK), item_date(SK)**).\r\n\r\nIt&#39;s taking ~30 minutes to persist ~7k records and approximately a minute to fetch same records, which is too high for my scenario. I was under the impression that we can persist this many records in seconds in DynamoDB. Is my understanding is wrong or is my table is not correct?\r\n\r\nDynamoDB table is created with default read/write capacity units(1-10) with auto scaling enabled.\r\n\r\nHow to improve read/write speed of dynamodb transactions?\r\n\r\nUpdate: \r\n\r\n**Code which writes to Dynamo table -**\r\n\r\n    public List&lt;MyItems&gt; saveTransactions(List&lt;MyItems&gt; dynamoItems) {\r\n        DynamoDbTable&lt;MyItems&gt; dynamoDbTable = dynamoDbEnhancedClient.table(tableName, TableSchema.fromBean(MyItems.class));\r\n        WriteBatch.Builder&lt;MyItems&gt; dynamoItemsBuilder = WriteBatch.builder(MyItems.class).mappedTableResource(dynamoDbTable);\r\n        for (MyItems transactions : dynamoItems) {\r\n            dynamoItemsBuilder.addPutItem(builder -&gt; builder.item(transactions));\r\n        }\r\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(BatchWriteItemEnhancedRequest.builder().writeBatches(dynamoItemsBuilder.build()).build());\r\n        return batchWriteResult.unprocessedPutItemsForTable(dynamoDbTable);\r\n    }\r\n\r\n**Code which reads from Dynamo table -**\r\n\r\n     public Optional&lt;List&lt;MyItems&gt;&gt; fetchTransactions(String itemCategory, String itemDate) {\r\n        DynamoDbTable&lt;MyItems&gt; userTable = dynamo.table(tableName, TableSchema.fromBean(MyItems.class));\r\n        DynamoDbIndex&lt;MyItems&gt; gsiIndex = userTable.index(&quot;GSI_INDEX&quot;);\r\n        QueryConditional q = QueryConditional.keyEqualTo(Key.builder().partitionValue(itemCategory).sortValue(itemDate).build());\r\n        Iterator&lt;Page&lt;MyItems&gt;&gt; result = gsiIndex.query(q).iterator();\r\n        List&lt;MyItems&gt; poslogTransactionsList = new ArrayList&lt;&gt;();\r\n        while (result.hasNext()) {\r\n            poslogTransactionsList.addAll(result.next().items());\r\n        }\r\n        return Optional.of(poslogTransactionsList);\r\n    }\r\n\r\n**Bean class -**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @DynamoDbBean\r\n    public class MyItems {\r\n        @EqualsAndHashCode.Include\r\n        @Getter(AccessLevel.NONE)\r\n        String itemId;\r\n        @Getter(AccessLevel.NONE)\r\n        String itemCategory;\r\n        @Getter(AccessLevel.NONE)\r\n        String itemDate;\r\n        String amount;\r\n        String itemNumber;\r\n    \r\n        @DynamoDbPartitionKey\r\n        public String getItemId() {\r\n            return itemId;\r\n        }\r\n        @DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_INDEX&quot;)\r\n        public String getItemCategory() {\r\n            return itemCategory;}\r\n\r\n        @DynamoDbSecondarySortKey(indexNames = &quot;GSI_INDEX&quot;)\r\n        public String getItemDate() {\r\n            return itemDate;}}\r\n\r\nHere above piece of code runs based on message received from kafka consumer and each time List&lt;MyItems&gt; can contain 10 or less items. To persist these 10 records(with unique itemid&#39;s) also it&#39;s taking ~300milliseconds. Is something wrong with the code or table structure? ","title":"DynamoDb write and fetch are too slow","body":"<p>I am using Dynamodb in one of my Springboot application for the first time and noticing very slow response time.</p>\n<p>My table structure is like below -</p>\n<p><strong>itemid</strong> - A unique key for each record, is made as primary partition key without any sort key.\nAround 10 other attributes including 2 of attributes of GSI (<strong>item_category(PK), item_date(SK)</strong>).</p>\n<p>It's taking ~30 minutes to persist ~7k records and approximately a minute to fetch same records, which is too high for my scenario. I was under the impression that we can persist this many records in seconds in DynamoDB. Is my understanding is wrong or is my table is not correct?</p>\n<p>DynamoDB table is created with default read/write capacity units(1-10) with auto scaling enabled.</p>\n<p>How to improve read/write speed of dynamodb transactions?</p>\n<p>Update:</p>\n<p><strong>Code which writes to Dynamo table -</strong></p>\n<pre><code>public List&lt;MyItems&gt; saveTransactions(List&lt;MyItems&gt; dynamoItems) {\n    DynamoDbTable&lt;MyItems&gt; dynamoDbTable = dynamoDbEnhancedClient.table(tableName, TableSchema.fromBean(MyItems.class));\n    WriteBatch.Builder&lt;MyItems&gt; dynamoItemsBuilder = WriteBatch.builder(MyItems.class).mappedTableResource(dynamoDbTable);\n    for (MyItems transactions : dynamoItems) {\n        dynamoItemsBuilder.addPutItem(builder -&gt; builder.item(transactions));\n    }\n    BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(BatchWriteItemEnhancedRequest.builder().writeBatches(dynamoItemsBuilder.build()).build());\n    return batchWriteResult.unprocessedPutItemsForTable(dynamoDbTable);\n}\n</code></pre>\n<p><strong>Code which reads from Dynamo table -</strong></p>\n<pre><code> public Optional&lt;List&lt;MyItems&gt;&gt; fetchTransactions(String itemCategory, String itemDate) {\n    DynamoDbTable&lt;MyItems&gt; userTable = dynamo.table(tableName, TableSchema.fromBean(MyItems.class));\n    DynamoDbIndex&lt;MyItems&gt; gsiIndex = userTable.index(&quot;GSI_INDEX&quot;);\n    QueryConditional q = QueryConditional.keyEqualTo(Key.builder().partitionValue(itemCategory).sortValue(itemDate).build());\n    Iterator&lt;Page&lt;MyItems&gt;&gt; result = gsiIndex.query(q).iterator();\n    List&lt;MyItems&gt; poslogTransactionsList = new ArrayList&lt;&gt;();\n    while (result.hasNext()) {\n        poslogTransactionsList.addAll(result.next().items());\n    }\n    return Optional.of(poslogTransactionsList);\n}\n</code></pre>\n<p><strong>Bean class -</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@DynamoDbBean\npublic class MyItems {\n    @EqualsAndHashCode.Include\n    @Getter(AccessLevel.NONE)\n    String itemId;\n    @Getter(AccessLevel.NONE)\n    String itemCategory;\n    @Getter(AccessLevel.NONE)\n    String itemDate;\n    String amount;\n    String itemNumber;\n\n    @DynamoDbPartitionKey\n    public String getItemId() {\n        return itemId;\n    }\n    @DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_INDEX&quot;)\n    public String getItemCategory() {\n        return itemCategory;}\n\n    @DynamoDbSecondarySortKey(indexNames = &quot;GSI_INDEX&quot;)\n    public String getItemDate() {\n        return itemDate;}}\n</code></pre>\n<p>Here above piece of code runs based on message received from kafka consumer and each time List can contain 10 or less items. To persist these 10 records(with unique itemid's) also it's taking ~300milliseconds. Is something wrong with the code or table structure?</p>\n"},{"tags":["java","jvm","jprofiler"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678954033,"post_id":75753355,"comment_id":133633547,"body_markdown":"What JVM parameters did you specify? It could possibly limit the amount of memory you could use. 80 blocked threads sounds like some sort of deadlock where they all need some resource that they cant get. As for why theres a lot of HashMap$Node, I think it pertains to when you try to busy-spin and contend for a lock. I recently asked a question about [that](https://stackoverflow.com/a/75682761/16034206)","body":"What JVM parameters did you specify? It could possibly limit the amount of memory you could use. 80 blocked threads sounds like some sort of deadlock where they all need some resource that they cant get. As for why theres a lot of HashMap$Node, I think it pertains to when you try to busy-spin and contend for a lock. I recently asked a question about <a href=\"https://stackoverflow.com/a/75682761/16034206\">that</a>"}],"answers":[{"comments":[{"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"score":0,"creation_date":1678960673,"post_id":75753735,"comment_id":133635343,"body_markdown":"thank you very much for the answer now let&#39;s try to increase the memory via the Xmx flag and we will give more ram to the machine then as regards the connection to the db we use the JDBCTemplate to make queries, I think it closes the mysql connections by itself","body":"thank you very much for the answer now let&#39;s try to increase the memory via the Xmx flag and we will give more ram to the machine then as regards the connection to the db we use the JDBCTemplate to make queries, I think it closes the mysql connections by itself"}],"tags":[],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679555286,"creation_date":1678955846,"answer_id":75753735,"question_id":75753355,"body_markdown":"QnA\r\n 1. &gt; It is normal that the memory always reaches 2GB\r\n\r\n    It is normal memory reaching 2GB if you are storing large data in your JVM. Also, there are JVM setting which sets the [minimum and maximum memory allocated][1] to your program. \r\n\r\n 2. &gt; Is it normal that there are almost more than 80 threads in blocked state\r\n\r\n    Unfortunately, I cannot answer it for you due to not understanding how your program works. You might need to look through your documentation or the person developed it.\r\n\r\n 3. &gt; How does Java.util have such a high value\r\n\r\n    Instead of focusing that, would rather focus on a more general level. Here is some example\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n    Scenarios\r\n     1. High memory, low instance count\r\n\r\n        JVM detected that `org.jboss.weld.annotated.enhanced.jlr` is still needed thus it stored them. The instance count is low now doesn&#39;t mean it won&#39;t be high because certain event will triggered it and program will allocate more instance for it to process.\r\n\r\n     2. Low memory, high instance count\r\n\r\n        `org.jboss.weld.util.collections` uses low memory, but certain event triggered it and program need to allocate instance to it for processing.\r\n\r\n     In summary, that&#39;s why you could see some instance count is high but memory low and instance count low but memory high which against the theory \r\n\r\n     **high memory = high instance count** \r\n\r\n     or \r\n\r\n     **low memory = low instance count**\r\n\r\nAdditional: Java have garbage collector which removes unused variable which helps make works simple. For example, we do not need to clear some variables (probably have size of 10 million) like list or array.\r\n\r\nMy solution to your crashing is\r\n\r\n 1. You might need to allocate more RAM.\r\n 2. Please estimate what is the minimum and maximum memory for your program\r\n 3. Please make sure there is no memory leakage. For example, When you establish a connection to your database, make sure to close it, e.g. `mySql.close();`\r\n\r\n  [1]: https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\r\n  [2]: https://i.stack.imgur.com/4gGbO.png","title":"What&#39;s the best way to analyze a JVM?","body":"<p>QnA</p>\n<ol>\n<li>\n<blockquote>\n<p>It is normal that the memory always reaches 2GB</p>\n</blockquote>\n<p>It is normal memory reaching 2GB if you are storing large data in your JVM. Also, there are JVM setting which sets the <a href=\"https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\">minimum and maximum memory allocated</a> to your program.</p>\n</li>\n<li>\n<blockquote>\n<p>Is it normal that there are almost more than 80 threads in blocked state</p>\n</blockquote>\n<p>Unfortunately, I cannot answer it for you due to not understanding how your program works. You might need to look through your documentation or the person developed it.</p>\n</li>\n<li>\n<blockquote>\n<p>How does Java.util have such a high value</p>\n</blockquote>\n<p>Instead of focusing that, would rather focus on a more general level. Here is some example</p>\n<p><a href=\"https://i.stack.imgur.com/4gGbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4gGbO.png\" alt=\"enter image description here\" /></a></p>\n<p>Scenarios</p>\n<ol>\n<li><p>High memory, low instance count</p>\n<p>JVM detected that <code>org.jboss.weld.annotated.enhanced.jlr</code> is still needed thus it stored them. The instance count is low now doesn't mean it won't be high because certain event will triggered it and program will allocate more instance for it to process.</p>\n</li>\n<li><p>Low memory, high instance count</p>\n<p><code>org.jboss.weld.util.collections</code> uses low memory, but certain event triggered it and program need to allocate instance to it for processing.</p>\n</li>\n</ol>\n<p>In summary, that's why you could see some instance count is high but memory low and instance count low but memory high which against the theory</p>\n<p><strong>high memory = high instance count</strong></p>\n<p>or</p>\n<p><strong>low memory = low instance count</strong></p>\n</li>\n</ol>\n<p>Additional: Java have garbage collector which removes unused variable which helps make works simple. For example, we do not need to clear some variables (probably have size of 10 million) like list or array.</p>\n<p>My solution to your crashing is</p>\n<ol>\n<li>You might need to allocate more RAM.</li>\n<li>Please estimate what is the minimum and maximum memory for your program</li>\n<li>Please make sure there is no memory leakage. For example, When you establish a connection to your database, make sure to close it, e.g. <code>mySql.close();</code></li>\n</ol>\n"}],"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678979825,"answer_count":1,"score":0,"last_activity_date":1679555286,"creation_date":1678952878,"question_id":75753355,"body_markdown":"Our company has a Unix machine with a tomcat server inside, I, the webApp programmer using spring and vuejs, create the .war to be fed to the Tomcat to have it uploaded online and make it reachable via HTTPS;\r\n\r\na bit of history:\r\n\r\nInitially there were only 5 wars in this machine divided into: WebApp and Rest-Api with Job Scheduled (some written via Spring-boot Scheduled others via Quartz and others .war instead via spring-boot and Vuejs and/or vanilla javascript) is happened that for work reasons the wars from 5 have passed to 17. (always divided as written above) It happens that every 3 days the Tomcat server crashes and doesn&#39;t work anymore, analyzing the logs the reason why it crashes and doesn&#39;t works anymore is due to this &quot;GC overhead limit exceeded&quot; error and every time we restart tomcat, it writes in the catalina.out log a &quot;full dump of the 64 bit Java HotSpot(TM) Server VM thread&quot;\r\nthanks to the ycrash community I was able not only to analyze the dump and do further research to better understand why this error is generated and in my research I came across a tool called JProfile and I started using it\r\n\r\nimage gallery:\r\n[![memory](https://i.stack.imgur.com/brxiS.png)](https://i.stack.imgur.com/brxiS.png)\r\n[![summary](https://i.stack.imgur.com/vO1cU.png)](https://i.stack.imgur.com/vO1cU.png)\r\n[![thread](https://i.stack.imgur.com/TqemO.png)](https://i.stack.imgur.com/TqemO.png)\r\n\r\nCurrent situation:\r\n\r\nAfter several days of analysis with the JProfile tool I can&#39;t go on or rather many questions come into my head and I can&#39;t find an answer for example:\r\n\r\n1) It is normal that the memory always reaches 2GB;\r\n2) Is it normal that there are almost more than 80 threads in blocked state?\r\n3) How does Java.util have such a high value?\r\n[![Java Utili Exapand](https://i.stack.imgur.com/rypgC.png)](https://i.stack.imgur.com/rypgC.png)","title":"What&#39;s the best way to analyze a JVM?","body":"<p>Our company has a Unix machine with a tomcat server inside, I, the webApp programmer using spring and vuejs, create the .war to be fed to the Tomcat to have it uploaded online and make it reachable via HTTPS;</p>\n<p>a bit of history:</p>\n<p>Initially there were only 5 wars in this machine divided into: WebApp and Rest-Api with Job Scheduled (some written via Spring-boot Scheduled others via Quartz and others .war instead via spring-boot and Vuejs and/or vanilla javascript) is happened that for work reasons the wars from 5 have passed to 17. (always divided as written above) It happens that every 3 days the Tomcat server crashes and doesn't work anymore, analyzing the logs the reason why it crashes and doesn't works anymore is due to this &quot;GC overhead limit exceeded&quot; error and every time we restart tomcat, it writes in the catalina.out log a &quot;full dump of the 64 bit Java HotSpot(TM) Server VM thread&quot;\nthanks to the ycrash community I was able not only to analyze the dump and do further research to better understand why this error is generated and in my research I came across a tool called JProfile and I started using it</p>\n<p>image gallery:\n<a href=\"https://i.stack.imgur.com/brxiS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/brxiS.png\" alt=\"memory\" /></a>\n<a href=\"https://i.stack.imgur.com/vO1cU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vO1cU.png\" alt=\"summary\" /></a>\n<a href=\"https://i.stack.imgur.com/TqemO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TqemO.png\" alt=\"thread\" /></a></p>\n<p>Current situation:</p>\n<p>After several days of analysis with the JProfile tool I can't go on or rather many questions come into my head and I can't find an answer for example:</p>\n<ol>\n<li>It is normal that the memory always reaches 2GB;</li>\n<li>Is it normal that there are almost more than 80 threads in blocked state?</li>\n<li>How does Java.util have such a high value?\n<a href=\"https://i.stack.imgur.com/rypgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rypgC.png\" alt=\"Java Utili Exapand\" /></a></li>\n</ol>\n"},{"tags":["java","smartgwt"],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555245,"creation_date":1679472536,"question_id":75809725,"body_markdown":"initially all of my three Portlet object is within the same vertical position (where all of them is visually under the same row), but after I have added the setAttribute() method, all three of my Portlet object is now at different vertical position, where it now looks like a stair. \r\n\r\nMay I know how can I fix this? Below is my codes:\r\n\r\n    private Portlet populatePortlet(final int i, final VLayout layout){\r\n    \r\n    \t\tfinal Portlet portlet = new Portlet();\r\n    \t\tportlet.setHeight((countPortletHeight+20)+&quot;px&quot;);\r\n    \t\tportlet.setBodyColor(&quot;transparent&quot;);\r\n    \t\tportlet.setBodyStyle(&quot;&quot;);\r\n    \t\tportlet.setLayoutMargin(0);\r\n    \t\tportlet.setShowHeader(false);\r\n    \t\tportlet.setMinWidth(countPortletMinWidth);\r\n    \t\tElement portletElement = portlet.getElement();\r\n    \t\tif(UserDetailService.isDeviceModeHandsetOrTablet()){\r\n    \t\tdashletPortlet.setWidth100();\r\n    \t\t}\r\n    \r\n    \t\tif(i % 4 == 1) {\r\n    \t\t\tportlet.setBackgroundColor(&quot;#EC5B42&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n   \r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n            }else if(i % 4 == 2) {\r\n            \tportlet.setBackgroundColor(&quot;#F2B134&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n            }else if(i % 4 == 3) {\r\n            \tportlet.setBackgroundColor(&quot;#2EB997&quot;);\r\n    \t\t\tportlet.setCanSelectText(true);\r\n    \t\t\tportletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\r\n    \r\n            }\r\n    \t\t\r\n    \t\treturn portlet;\r\n    \t}\r\nBased on my latest understanding, it is because I am manipulating the DOM of the portlet object directly, thats why I a having this issue. Is it true? If it is true, what alternatives should I use ?\r\n","title":"Portlet are at different vertical Position after using setAttribute() method","body":"<p>initially all of my three Portlet object is within the same vertical position (where all of them is visually under the same row), but after I have added the setAttribute() method, all three of my Portlet object is now at different vertical position, where it now looks like a stair.</p>\n<p>May I know how can I fix this? Below is my codes:</p>\n<pre><code>private Portlet populatePortlet(final int i, final VLayout layout){\n\n        final Portlet portlet = new Portlet();\n        portlet.setHeight((countPortletHeight+20)+&quot;px&quot;);\n        portlet.setBodyColor(&quot;transparent&quot;);\n        portlet.setBodyStyle(&quot;&quot;);\n        portlet.setLayoutMargin(0);\n        portlet.setShowHeader(false);\n        portlet.setMinWidth(countPortletMinWidth);\n        Element portletElement = portlet.getElement();\n        if(UserDetailService.isDeviceModeHandsetOrTablet()){\n        dashletPortlet.setWidth100();\n        }\n\n        if(i % 4 == 1) {\n            portlet.setBackgroundColor(&quot;#EC5B42&quot;);\n            portlet.setCanSelectText(true);\n\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n        }else if(i % 4 == 2) {\n            portlet.setBackgroundColor(&quot;#F2B134&quot;);\n            portlet.setCanSelectText(true);\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n        }else if(i % 4 == 3) {\n            portlet.setBackgroundColor(&quot;#2EB997&quot;);\n            portlet.setCanSelectText(true);\n            portletElement.setAttribute(&quot;PortletId&quot;, String.valueOf(portletId));\n\n        }\n        \n        return portlet;\n    }\n</code></pre>\n<p>Based on my latest understanding, it is because I am manipulating the DOM of the portlet object directly, thats why I a having this issue. Is it true? If it is true, what alternatives should I use ?</p>\n"},{"tags":["java","android","kotlin","android-camera2"],"owner":{"account_id":25442848,"reputation":1,"user_id":21462247,"display_name":"Tryan Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679555178,"creation_date":1679555178,"question_id":75820058,"body_markdown":"I am not able to set a particular focus distance. I have a few sub question here\r\n1. how to manually set the focus distance?\r\n\r\nI have tried the following code\r\n\r\n```\r\n        val characteristics: CameraCharacteristics =\r\n            manager!!.getCameraCharacteristics (mCameraDevice!!.id)\r\n        var afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\r\n        Log.d(TAG,&quot;AF mode : &quot;+afAvailableAeModes.toString())//a\r\n        var focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\r\n        Log.d(TAG,&quot;Focus Distance Original &quot;+focusDistance.toString())//b\r\n        mPreviewRequestBuilder.set(CaptureRequest.FLASH_MODE,CaptureRequest.FLASH_MODE_TORCH)\r\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE,CaptureRequest.CONTROL_AE_MODE_ON)\r\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_OFF);\r\n        mPreviewRequestBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, 30f);\r\n        mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),null,null)\r\n        focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\r\n        Log.d(TAG,&quot;Focus Distance after set &quot;+focusDistance.toString())//c\r\n\r\n        afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\r\n        Log.d(TAG,&quot;Focus Distance After Change &quot;+afAvailableAeModes.toString())//d\r\n\r\n```\r\nAfter seeing the log, I have these:\r\na. AF Mode : 10.0\r\nb. Focus Distance Original 2\r\nc. Focus Distance after set 2\r\nd. Focus Distance After Change 10.0\r\nas can be seen, nothing is changed, BUT the FLASH mode changed to TORCH. so I think the setting is changed, but I am not able to change the right parameters, in this case is focus distance.\r\n\r\n\r\n2. how to check if the focus distance is set?\r\nif the focus distance is changed, please provide the code to confirm the changes\r\n\r\n3. what is the unit of focus distance, is it cm or 100f/(focus_distance) ?\r\nAs can be seen that the default LENS_INFO_MINIMUM_FOCUS_DISTANCE is 10.0. What is the unit? cm? or the number is coming from a formula, like 100f/(focus_distance)?\r\n\r\n\r\n\r\nI hope that my questions are clear. I tried many answer like :\r\n1. https://stackoverflow.com/questions/42901334/manual-focus-using-android-camera2-api\r\n2. https://stackoverflow.com/questions/28170491/manual-focus-in-camera2-android\r\n3. https://stackoverflow.com/questions/54903737/setting-focus-distance-using-lens-focus-distance-camera2-api-is-not-set-at-a-giv ","title":"Set Manual Focus on camera2 API Android","body":"<p>I am not able to set a particular focus distance. I have a few sub question here</p>\n<ol>\n<li>how to manually set the focus distance?</li>\n</ol>\n<p>I have tried the following code</p>\n<pre><code>        val characteristics: CameraCharacteristics =\n            manager!!.getCameraCharacteristics (mCameraDevice!!.id)\n        var afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\n        Log.d(TAG,&quot;AF mode : &quot;+afAvailableAeModes.toString())//a\n        var focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\n        Log.d(TAG,&quot;Focus Distance Original &quot;+focusDistance.toString())//b\n        mPreviewRequestBuilder.set(CaptureRequest.FLASH_MODE,CaptureRequest.FLASH_MODE_TORCH)\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE,CaptureRequest.CONTROL_AE_MODE_ON)\n        mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_OFF);\n        mPreviewRequestBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, 30f);\n        mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),null,null)\n        focusDistance = characteristics.get(CameraCharacteristics.LENS_INFO_FOCUS_DISTANCE_CALIBRATION)\n        Log.d(TAG,&quot;Focus Distance after set &quot;+focusDistance.toString())//c\n\n        afAvailableAeModes = characteristics.get(CameraCharacteristics.LENS_INFO_MINIMUM_FOCUS_DISTANCE)\n        Log.d(TAG,&quot;Focus Distance After Change &quot;+afAvailableAeModes.toString())//d\n\n</code></pre>\n<p>After seeing the log, I have these:\na. AF Mode : 10.0\nb. Focus Distance Original 2\nc. Focus Distance after set 2\nd. Focus Distance After Change 10.0\nas can be seen, nothing is changed, BUT the FLASH mode changed to TORCH. so I think the setting is changed, but I am not able to change the right parameters, in this case is focus distance.</p>\n<ol start=\"2\">\n<li><p>how to check if the focus distance is set?\nif the focus distance is changed, please provide the code to confirm the changes</p>\n</li>\n<li><p>what is the unit of focus distance, is it cm or 100f/(focus_distance) ?\nAs can be seen that the default LENS_INFO_MINIMUM_FOCUS_DISTANCE is 10.0. What is the unit? cm? or the number is coming from a formula, like 100f/(focus_distance)?</p>\n</li>\n</ol>\n<p>I hope that my questions are clear. I tried many answer like :</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/42901334/manual-focus-using-android-camera2-api\">Manual Focus using android camera2 API</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28170491/manual-focus-in-camera2-android\">Manual focus in camera2, android</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54903737/setting-focus-distance-using-lens-focus-distance-camera2-api-is-not-set-at-a-giv\">Setting focus distance using LENS_FOCUS_DISTANCE Camera2 API is not set at a given distance</a></li>\n</ol>\n"},{"tags":["java","spring","provider","smartcard-reader"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679557374,"post_id":75820000,"comment_id":133743664,"body_markdown":"You haven&#39;t tried the sun package you tried to run the applicaiton on a non compatible JDK version.","body":"You haven&#39;t tried the sun package you tried to run the applicaiton on a non compatible JDK version."},{"owner":{"account_id":15162190,"reputation":11,"user_id":10940887,"display_name":"sess"},"score":0,"creation_date":1679557851,"post_id":75820000,"comment_id":133743773,"body_markdown":"I used jre because sun package works in jre. jdk has not that package.","body":"I used jre because sun package works in jre. jdk has not that package."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679561099,"post_id":75820000,"comment_id":133744464,"body_markdown":"You didn&#39;t use the proper JRE (also the JDK is the JRE with some additional stuff) that is still an older version then the version you need for Spring Boot. However newer JDKs might not have that part of the classes (or the specific JDK in use).","body":"You didn&#39;t use the proper JRE (also the JDK is the JRE with some additional stuff) that is still an older version then the version you need for Spring Boot. However newer JDKs might not have that part of the classes (or the specific JDK in use)."}],"owner":{"account_id":15162190,"reputation":11,"user_id":10940887,"display_name":"sess"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679554716,"creation_date":1679554716,"question_id":75820000,"body_markdown":"I am trying to read smart card. Sun package was used for reading smart card but it is not available in spring boot application.\r\nSo I want new libraries for my purpose. Can you help me?\r\nThanks.\r\n\r\n\r\nI tried sun package on spring boot application. But it gives this error message:\r\n```\r\norg/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n```","title":"how to read smart card on java spring boot application?","body":"<p>I am trying to read smart card. Sun package was used for reading smart card but it is not available in spring boot application.\nSo I want new libraries for my purpose. Can you help me?\nThanks.</p>\n<p>I tried sun package on spring boot application. But it gives this error message:</p>\n<pre><code>org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\n</code></pre>\n"},{"tags":["java","mysql","spring-data-jpa","projection","specifications"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679554543,"creation_date":1679554543,"answer_id":75819985,"question_id":75819550,"body_markdown":"Simply create a [custom method in your repository interface][1] and implement it yourself using an injected `EntityManager`. \r\n\r\nYou can use a query string or the criteria API. \r\nWith the latter you may reuse any `Specification` you might have lying around.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior","title":"Need insights on best approach for Querying multiple tables using Specifications in Spring JPA","body":"<p>Simply create a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">custom method in your repository interface</a> and implement it yourself using an injected <code>EntityManager</code>.</p>\n<p>You can use a query string or the criteria API.\nWith the latter you may reuse any <code>Specification</code> you might have lying around.</p>\n"}],"owner":{"account_id":6984587,"reputation":448,"user_id":5485767,"display_name":"hisdudeness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679554543,"creation_date":1679549856,"question_id":75819550,"body_markdown":"There is a requirement to fetch data from multiple tables based on a set of filters, each of which might be null. \r\nFor example:\r\nEntities A, B and C\r\n\r\nAssociations:\r\n```\r\nA&lt;-&gt;B Many to One\r\nA&lt;-&gt;C One to One\r\n```\r\n\r\nSpecifications can solve issue of nullable filters. Along with Join&lt;X,Y&gt; we should be able to solve this.\r\nHowever, using Join&lt;A,B&gt; still generates Specification of entity A only, as a result of which we get Page of Entity A. But I need attributes of B and C as well. \r\n\r\nTo solve this I attempted to create a custom projection with attributes from A, B and C, and created Specification of type A with Join&lt;A,B&gt; and Join&lt;A,C&gt; like below:\r\n\r\nProjectionWithAttributesOfABC fetchAttributes(Specification&lt;A&gt; spec)\r\n\r\nThis results in `NoSuchElementException`\r\n\r\nTo get it working functionally I added B and C within Entity A and annotated them like below:\r\n\r\n```\r\n@OneToOne(FetchType.EAGER) C cInstance;\r\n@ManyToOne(FetchType.EAGER) B bInstance;\r\n\r\n```\r\n\r\nThis works, but I think this will cause N+1 query issue in production. \r\nWhen I hit the API to fetch details using @OneToOne based approach, I can see in debug mysql log that there are many queries generated to fetch Entity C.\r\n\r\nUsing specifications with Projections will solve my issue but seems like its not supported in spring as of now. \r\n\r\nI am not able to figure out a way to solve this issue.\r\nPlease share insights as to how I can tackle this.","title":"Need insights on best approach for Querying multiple tables using Specifications in Spring JPA","body":"<p>There is a requirement to fetch data from multiple tables based on a set of filters, each of which might be null.\nFor example:\nEntities A, B and C</p>\n<p>Associations:</p>\n<pre><code>A&lt;-&gt;B Many to One\nA&lt;-&gt;C One to One\n</code></pre>\n<p>Specifications can solve issue of nullable filters. Along with Join&lt;X,Y&gt; we should be able to solve this.\nHowever, using Join&lt;A,B&gt; still generates Specification of entity A only, as a result of which we get Page of Entity A. But I need attributes of B and C as well.</p>\n<p>To solve this I attempted to create a custom projection with attributes from A, B and C, and created Specification of type A with Join&lt;A,B&gt; and Join&lt;A,C&gt; like below:</p>\n<p>ProjectionWithAttributesOfABC fetchAttributes(Specification spec)</p>\n<p>This results in <code>NoSuchElementException</code></p>\n<p>To get it working functionally I added B and C within Entity A and annotated them like below:</p>\n<pre><code>@OneToOne(FetchType.EAGER) C cInstance;\n@ManyToOne(FetchType.EAGER) B bInstance;\n\n</code></pre>\n<p>This works, but I think this will cause N+1 query issue in production.\nWhen I hit the API to fetch details using @OneToOne based approach, I can see in debug mysql log that there are many queries generated to fetch Entity C.</p>\n<p>Using specifications with Projections will solve my issue but seems like its not supported in spring as of now.</p>\n<p>I am not able to figure out a way to solve this issue.\nPlease share insights as to how I can tackle this.</p>\n"},{"tags":["java","oop","inheritance","interface"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679540896,"post_id":75818944,"comment_id":133741536,"body_markdown":"i think you would have to split the two methods into separate interfaces","body":"i think you would have to split the two methods into separate interfaces"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679541158,"post_id":75818944,"comment_id":133741566,"body_markdown":"you could consider set method1 and method2 in Interface1 to be default methods that throw an exception (runtime etc) with an optional message (ie not implemented for this class), then override the method accordingly in whatever class.","body":"you could consider set method1 and method2 in Interface1 to be default methods that throw an exception (runtime etc) with an optional message (ie not implemented for this class), then override the method accordingly in whatever class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679541849,"post_id":75818944,"comment_id":133741639,"body_markdown":"What do you want to happen if you write: `new Class2().method1();`?","body":"What do you want to happen if you write: <code>new Class2().method1();</code>?"},{"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"score":0,"creation_date":1679542672,"post_id":75818944,"comment_id":133741752,"body_markdown":"In Java, all methods have to have an implementation when an interface is implemented. It can be a default implementation in the interface or an implementation in a class or its superclass. In your case you can have an implementation for `method2` in `Class1` which throws `UnsupportedOperationException` . But this is not recommended practice as your interface will violate [SOLID principles](https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns).  Best practice would be to do as @experimentunit1998X mentioned to split the interface","body":"In Java, all methods have to have an implementation when an interface is implemented. It can be a default implementation in the interface or an implementation in a class or its superclass. In your case you can have an implementation for <code>method2</code> in <code>Class1</code> which throws <code>UnsupportedOperationException</code> . But this is not recommended practice as your interface will violate <a href=\"https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns\">SOLID principles</a>.  Best practice would be to do as @experimentunit1998X mentioned to split the interface"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679554165,"creation_date":1679553426,"answer_id":75819876,"question_id":75818944,"body_markdown":"By the definition of Interface, \r\n\r\n&gt; An interface is a contract which means a class implementing an\r\n&gt; interface must implement all the abstract methods declared in the\r\n&gt; interface (or contract).\r\n\r\nTherefore, your requirement is simply impossible to achieve.\r\n\r\nNote: \r\n\r\n&gt; From JDK 9 onwards, private concrete methods were introduced in the\r\n&gt; interface which helps to restrict the implementation of a concrete\r\n&gt; method in the implementation class. \r\n&gt; \r\n&gt; But it only applies to concrete method implementations and not to\r\n&gt; abstract methods as abstract methods cannot be private.\r\n\r\nHence, it&#39;s still impossible to achieve.\r\n \r\n\r\n","title":"Implement only few methods from an interface in some given classes","body":"<p>By the definition of Interface,</p>\n<blockquote>\n<p>An interface is a contract which means a class implementing an\ninterface must implement all the abstract methods declared in the\ninterface (or contract).</p>\n</blockquote>\n<p>Therefore, your requirement is simply impossible to achieve.</p>\n<p>Note:</p>\n<blockquote>\n<p>From JDK 9 onwards, private concrete methods were introduced in the\ninterface which helps to restrict the implementation of a concrete\nmethod in the implementation class.</p>\n<p>But it only applies to concrete method implementations and not to\nabstract methods as abstract methods cannot be private.</p>\n</blockquote>\n<p>Hence, it's still impossible to achieve.</p>\n"}],"owner":{"account_id":13200238,"reputation":43,"user_id":9533705,"display_name":"Wanderlust"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679554376,"creation_date":1679540807,"question_id":75818944,"body_markdown":"I have an interface with 2 methods say method1 and method2. I want to restrict the implementation of only method1 in class1 and method2 in class2 as shown below. Is it possible?\r\n\r\n    interface Interface1{ \r\n        method1(); \r\n        method2();\r\n    }\r\n    class Class1 implements Interface1{\r\n        method1() {\r\n            //method1 implementation\r\n        }\r\n        //method2 access is restricted\r\n    }\r\n    class Class2 implements Interface1{\r\n        method2() {\r\n            //method2 implementation\r\n        }\r\n        //method1 access is restricted\r\n    }","title":"Implement only few methods from an interface in some given classes","body":"<p>I have an interface with 2 methods say method1 and method2. I want to restrict the implementation of only method1 in class1 and method2 in class2 as shown below. Is it possible?</p>\n<pre><code>interface Interface1{ \n    method1(); \n    method2();\n}\nclass Class1 implements Interface1{\n    method1() {\n        //method1 implementation\n    }\n    //method2 access is restricted\n}\nclass Class2 implements Interface1{\n    method2() {\n        //method2 implementation\n    }\n    //method1 access is restricted\n}\n</code></pre>\n"},{"tags":["java","redis","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679553849,"creation_date":1679553849,"answer_id":75819921,"question_id":75819887,"body_markdown":"Create a rateLimter configration\r\n\r\n```java\r\n// Import all required packages\r\n\r\n@Configuration\r\npublic class RedisRateLimiterConfig {\r\n\r\n    @Autowired\r\n    private ReactiveRedisOperations&lt;String, String&gt; redisOperations;\r\n\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter() {\r\n        return new RedisRateLimiter(redisOperations);\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe in you gatewayconfig \r\n\r\ncreate a bean \r\n\r\n```java\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter(RedisRateLimiterConfig redisRateLimiterConfig) {\r\n        return redisRateLimiterConfig.redisRateLimiter();\r\n    }\r\n```\r\n\r\nthen in your routeLocator Bean add\r\n\r\n`.setRateLimiter(redisRateLimiter)`\r\n\r\nfor more info please check this [Rate Limiting With Client IP in Spring Cloud Gateway](https://www.baeldung.com/spring-cloud-gateway-rate-limit-by-client-ip)","title":"Request Rate Limiting using Redis using spring cloud gateway","body":"<p>Create a rateLimter configration</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Import all required packages\n\n@Configuration\npublic class RedisRateLimiterConfig {\n\n    @Autowired\n    private ReactiveRedisOperations&lt;String, String&gt; redisOperations;\n\n    @Bean\n    public RedisRateLimiter redisRateLimiter() {\n        return new RedisRateLimiter(redisOperations);\n    }\n}\n\n</code></pre>\n<p>the in you gatewayconfig</p>\n<p>create a bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisRateLimiter redisRateLimiter(RedisRateLimiterConfig redisRateLimiterConfig) {\n        return redisRateLimiterConfig.redisRateLimiter();\n    }\n</code></pre>\n<p>then in your routeLocator Bean add</p>\n<p><code>.setRateLimiter(redisRateLimiter)</code></p>\n<p>for more info please check this <a href=\"https://www.baeldung.com/spring-cloud-gateway-rate-limit-by-client-ip\" rel=\"nofollow noreferrer\">Rate Limiting With Client IP in Spring Cloud Gateway</a></p>\n"}],"owner":{"account_id":26766832,"reputation":3,"user_id":20363840,"display_name":"Shaik Shajahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679553849,"creation_date":1679553497,"question_id":75819887,"body_markdown":"Can Some one give me a sample example of how to implement Request rate limiting using redis in spring cloud gateway .\r\n\r\nI was trying to implement it but doesnt, A sample Implementation would be appreciated ","title":"Request Rate Limiting using Redis using spring cloud gateway","body":"<p>Can Some one give me a sample example of how to implement Request rate limiting using redis in spring cloud gateway .</p>\n<p>I was trying to implement it but doesnt, A sample Implementation would be appreciated</p>\n"},{"tags":["java","spring-boot","tinkerpop","janusgraph"],"comments":[{"owner":{"account_id":24449805,"reputation":41,"user_id":18372214,"display_name":""},"score":0,"creation_date":1679896765,"post_id":75819840,"comment_id":133796511,"body_markdown":"I&#39;ve managed to get this working using Cluster to connect to the JanusGraph server and submitting the `ConfiguredGraphFactory.create(graphName)` as a command string via the client to create the graph dynamically. A traversal object can then be obtained with `traversal.withRemote(DriverRemoteConnection.using(host, port, traversalName));` where the traversal name is graphName_traversal.","body":"I&#39;ve managed to get this working using Cluster to connect to the JanusGraph server and submitting the <code>ConfiguredGraphFactory.create(graphName)</code> as a command string via the client to create the graph dynamically. A traversal object can then be obtained with <code>traversal.withRemote(DriverRemoteConnection.using(host, port, traversalName));</code> where the traversal name is graphName_traversal."},{"owner":{"account_id":21237617,"reputation":133,"user_id":15621590,"display_name":"Zonko"},"score":0,"creation_date":1686738836,"post_id":75819840,"comment_id":134839529,"body_markdown":"Did you write conf/janusgraph-hbase-configurationgraph.properties by yourself? Or should this be in the container by default? Because I dont have such","body":"Did you write conf/janusgraph-hbase-configurationgraph.properties by yourself? Or should this be in the container by default? Because I dont have such"}],"owner":{"account_id":24449805,"reputation":41,"user_id":18372214,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679553140,"creation_date":1679553140,"question_id":75819840,"body_markdown":"I&#39;m trying to figure out how to connect to JanusGraph server from SpringBoot.\r\n\r\nJanusGraph was setup with Cassandra and ElasticSearch to run in docker and as each instance of JanusGraph only serves one graph, I&#39;ve updated gremlin-server.yaml to use ConfiguredGraphFactory so that it can dynamically add graphs on the server, following this guide https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/.\r\n\r\n```\r\ngraphManager: org.janusgraph.graphdb.management.JanusGraphManager\r\n  graphs: {\r\n    ConfigurationManagementGraph: conf/janusgraph-hbase-configurationgraph.properties\r\n  }\r\n```\r\n\r\nThe setup has been tested to be working with Gremlin-console and graphs are being created and persisted to Cassandra.\r\n\r\nWhat I couldn&#39;t figure out is how to connect from SpringBoot app. I&#39;ve tried using ConfiguredGraphFactory directly\r\n\r\n```\r\ngraph = ConfiguredGraphFactory.getGraphNames().contains(xxx)\r\n        ? ConfiguredGraphFactory.open(xxx)\r\n        : ConfiguredGraphFactory.create(xxx);\r\n    g = graph.traversal();\r\n```\r\n\r\nbut it fails to connect to the JanusGraph server with the following error\r\n\r\n\r\n&gt; java.lang.RuntimeException: org.janusgraph.graphdb.management.utils.ConfigurationManagementGraphNotEnabledException: Please add a key named &quot;ConfigurationManagementGraph&quot; to the &quot;graphs&quot; property in your YAML file and restart the server to be able to use the functionality of the ConfigurationManagementGraph class.\r\n&gt; \r\n\r\nMy guess is that the hostname/ip and port for JanusGraph server hasn&#39;t been specified but where and how can I set them using the JanusGraph classes?\r\n\r\nI&#39;ve checked the following but am still not getting it.\r\n\r\n- https://docs.janusgraph.org/operations/configured-graph-factory/ \r\n- https://docs.janusgraph.org/interactions/connecting/java/\r\n- https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html\r\n\r\nWould anyone be able to help?\r\n\r\nAppreciate and many thanks.","title":"Connecting to JanusGraph using ConfiguredGraphFactory","body":"<p>I'm trying to figure out how to connect to JanusGraph server from SpringBoot.</p>\n<p>JanusGraph was setup with Cassandra and ElasticSearch to run in docker and as each instance of JanusGraph only serves one graph, I've updated gremlin-server.yaml to use ConfiguredGraphFactory so that it can dynamically add graphs on the server, following this guide <a href=\"https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/\" rel=\"nofollow noreferrer\">https://jointhegraph.github.io/articles/hosting-multiple-graphs-on-janusgraph/</a>.</p>\n<pre><code>graphManager: org.janusgraph.graphdb.management.JanusGraphManager\n  graphs: {\n    ConfigurationManagementGraph: conf/janusgraph-hbase-configurationgraph.properties\n  }\n</code></pre>\n<p>The setup has been tested to be working with Gremlin-console and graphs are being created and persisted to Cassandra.</p>\n<p>What I couldn't figure out is how to connect from SpringBoot app. I've tried using ConfiguredGraphFactory directly</p>\n<pre><code>graph = ConfiguredGraphFactory.getGraphNames().contains(xxx)\n        ? ConfiguredGraphFactory.open(xxx)\n        : ConfiguredGraphFactory.create(xxx);\n    g = graph.traversal();\n</code></pre>\n<p>but it fails to connect to the JanusGraph server with the following error</p>\n<blockquote>\n<p>java.lang.RuntimeException: org.janusgraph.graphdb.management.utils.ConfigurationManagementGraphNotEnabledException: Please add a key named &quot;ConfigurationManagementGraph&quot; to the &quot;graphs&quot; property in your YAML file and restart the server to be able to use the functionality of the ConfigurationManagementGraph class.</p>\n</blockquote>\n<p>My guess is that the hostname/ip and port for JanusGraph server hasn't been specified but where and how can I set them using the JanusGraph classes?</p>\n<p>I've checked the following but am still not getting it.</p>\n<ul>\n<li><a href=\"https://docs.janusgraph.org/operations/configured-graph-factory/\" rel=\"nofollow noreferrer\">https://docs.janusgraph.org/operations/configured-graph-factory/</a></li>\n<li><a href=\"https://docs.janusgraph.org/interactions/connecting/java/\" rel=\"nofollow noreferrer\">https://docs.janusgraph.org/interactions/connecting/java/</a></li>\n<li><a href=\"https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/static/org.janusgraph/janusgraph-core/0.6.3/index.html?org/janusgraph/core/ConfiguredGraphFactory.html</a></li>\n</ul>\n<p>Would anyone be able to help?</p>\n<p>Appreciate and many thanks.</p>\n"},{"tags":["java","amazon-web-services","inheritance","oauth-2.0","amazon-cognito"],"owner":{"account_id":15967487,"reputation":11,"user_id":11738095,"display_name":"Ayushman Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679552964,"creation_date":1679380571,"question_id":75797960,"body_markdown":"Can someone please help me with how can I extend AWSCognitoIdentityProviderClient class? The issue arises because all its constructors are now depreciated and through builder methods only I can instantiate this class. However, while extending I am not able to know how should I set the parent class fields and data. \r\n\r\nHelp is really appreciated. \r\n\r\nThis is how I instantiate an *AWSCognitoIdentityProviderClient\r\nhttps://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951\r\nI have tried using the constructors but that is not recommended because they are depreciated. ","title":"Extending AWSCognitoIdentityProviderClient from AWS SDK","body":"<p>Can someone please help me with how can I extend AWSCognitoIdentityProviderClient class? The issue arises because all its constructors are now depreciated and through builder methods only I can instantiate this class. However, while extending I am not able to know how should I set the parent class fields and data.</p>\n<p>Help is really appreciated.</p>\n<p>This is how I instantiate an *AWSCognitoIdentityProviderClient\n<a href=\"https://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951\" rel=\"nofollow noreferrer\">https://medium.com/@warrenferns/integrate-java-with-aws-cognito-developer-tutorial-679e6e608951</a>\nI have tried using the constructors but that is not recommended because they are depreciated.</p>\n"},{"tags":["java","spring","lombok","accessor"],"comments":[{"owner":{"account_id":14158060,"reputation":1140,"user_id":10228119,"display_name":"Amir Hedieh"},"score":1,"creation_date":1549448581,"post_id":54551114,"comment_id":95902520,"body_markdown":"take a look at https://projectlombok.org/features/GetterSetter","body":"take a look at <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">projectlombok.org/features/GetterSetter</a>"}],"answers":[{"tags":[],"owner":{"account_id":14974674,"reputation":25,"user_id":10810444,"display_name":"Debi P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549448495,"creation_date":1549448495,"answer_id":54551234,"question_id":54551114,"body_markdown":"We can annotate any field with @Getter and/or @Setter, to let lombok generate the default getter/setter automatically.\r\n[Please refer here][1] to get more details.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/GetterSetter","title":"Using @Getter on Classes, Enums, etc","body":"<p>We can annotate any field with @Getter and/or @Setter, to let lombok generate the default getter/setter automatically.\n<a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">Please refer here</a> to get more details.</p>\n"},{"comments":[{"owner":{"account_id":4495244,"reputation":56,"user_id":6548592,"display_name":"Aman Bharadwaj"},"score":0,"creation_date":1549449022,"post_id":54551276,"comment_id":95902791,"body_markdown":"If you are using IntelliJ then install Lombok Plugin for it.","body":"If you are using IntelliJ then install Lombok Plugin for it."},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"score":1,"creation_date":1549449078,"post_id":54551276,"comment_id":95902834,"body_markdown":"How does this answers the OP question?","body":"How does this answers the OP question?"}],"tags":[],"owner":{"account_id":2785411,"reputation":431,"user_id":2396962,"display_name":"Divanshu"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549475396,"creation_date":1549448612,"answer_id":54551276,"question_id":54551114,"body_markdown":"**Added later**\r\nI think @cdk answer is much better. So, please use it.\r\n\r\n**Originally wrote**\r\n\r\n@Getter, @Setter, and @Data annotations are provided by **Lombok** library. \r\n@Data will generate both setters and getters.\r\n\r\nYes, these annotations can be used with both class and enum. \r\n\r\nIf you are using maven then you can add Lombok as your dependency as given below:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nTo know more about Lombok please visit [https://projectlombok.org/][1].\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"Using @Getter on Classes, Enums, etc","body":"<p><strong>Added later</strong>\nI think @cdk answer is much better. So, please use it.</p>\n\n<p><strong>Originally wrote</strong></p>\n\n<p>@Getter, @Setter, and @Data annotations are provided by <strong>Lombok</strong> library. \n@Data will generate both setters and getters.</p>\n\n<p>Yes, these annotations can be used with both class and enum. </p>\n\n<p>If you are using maven then you can add Lombok as your dependency as given below:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To know more about Lombok please visit <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a>.</p>\n"},{"tags":[],"owner":{"account_id":15177449,"reputation":4293,"user_id":10951752,"display_name":"flaxel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549449017,"creation_date":1549449017,"answer_id":54551423,"question_id":54551114,"body_markdown":"If you use the Getter annotation, the constants are not important. But for all the other variables that you create there exists a getter method: \r\n\r\n    @Getter\r\n\tpublic enum Test {\r\n\t\tTEST;\r\n\r\n\t\tprivate int variable;\r\n\t}\r\n\r\nSo in this example you get only a getter method for the variable. ","title":"Using @Getter on Classes, Enums, etc","body":"<p>If you use the Getter annotation, the constants are not important. But for all the other variables that you create there exists a getter method: </p>\n\n<pre><code>@Getter\npublic enum Test {\n    TEST;\n\n    private int variable;\n}\n</code></pre>\n\n<p>So in this example you get only a getter method for the variable. </p>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cdk"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1679552824,"creation_date":1549449209,"answer_id":54551481,"question_id":54551114,"body_markdown":"If you check the [Lombok&#39;s **@Getter and @Setter** Reference](https://projectlombok.org/features/GetterSetter), you can see that:\r\n\r\n\r\n&gt; You can also put a @Getter and/or @Setter annotation on a class. In that case, it&#39;s as if you annotate all the non-static fields in that class with the annotation.\r\n\r\nThis means when you put `@Getter` in the Class/Enum level, it will generate `getters` for all non static members on this Class/Enum, as if you put `@Getter` for all those members repeatedly.\r\n\r\n**Example:**\r\n\r\nTo illustrate this with an example both these two codes are equivalent:\r\n\r\nCode 1:\r\n\r\n    @Getter\r\n    public enum MyEnum {\r\n        private int member1;\r\n        private int member2;\r\n    }\r\n\r\nCode 2:\r\n\r\n    \r\n    public enum MyEnum {\r\n        @Getter\r\n        private int member1;\r\n        @Getter\r\n        private int member2;\r\n    }\r\n\r\nHere `getter` methods will be generated for both members.","title":"Using @Getter on Classes, Enums, etc","body":"<p>If you check the <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">Lombok's <strong>@Getter and @Setter</strong> Reference</a>, you can see that:</p>\n<blockquote>\n<p>You can also put a @Getter and/or @Setter annotation on a class. In that case, it's as if you annotate all the non-static fields in that class with the annotation.</p>\n</blockquote>\n<p>This means when you put <code>@Getter</code> in the Class/Enum level, it will generate <code>getters</code> for all non static members on this Class/Enum, as if you put <code>@Getter</code> for all those members repeatedly.</p>\n<p><strong>Example:</strong></p>\n<p>To illustrate this with an example both these two codes are equivalent:</p>\n<p>Code 1:</p>\n<pre><code>@Getter\npublic enum MyEnum {\n    private int member1;\n    private int member2;\n}\n</code></pre>\n<p>Code 2:</p>\n<pre><code>public enum MyEnum {\n    @Getter\n    private int member1;\n    @Getter\n    private int member2;\n}\n</code></pre>\n<p>Here <code>getter</code> methods will be generated for both members.</p>\n"}],"owner":{"display_name":"user4773260"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11784,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":54551481,"answer_count":4,"score":8,"last_activity_date":1679552824,"creation_date":1549448135,"question_id":54551114,"body_markdown":"I came across a code where `@Getter` was used on an enum declaration, I want to know if it&#39;s possible to use `@Getter` over an enum declaration and what purpose it serves? \r\n\r\nAs far as I know, `@Getter` generates getter methods on member variables. Am I missing something? \r\n\r\nIs it possible to annotate the class with `@Getter` as well?\r\n\r\n","title":"Using @Getter on Classes, Enums, etc","body":"<p>I came across a code where <code>@Getter</code> was used on an enum declaration, I want to know if it's possible to use <code>@Getter</code> over an enum declaration and what purpose it serves? </p>\n\n<p>As far as I know, <code>@Getter</code> generates getter methods on member variables. Am I missing something? </p>\n\n<p>Is it possible to annotate the class with <code>@Getter</code> as well?</p>\n"},{"tags":["java","swing","jpanel","jbutton","grid-layout"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679542270,"post_id":75819020,"comment_id":133741684,"body_markdown":"I cannot reproduce this. It shows 3 large buttons for me.","body":"I cannot reproduce this. It shows 3 large buttons for me."},{"owner":{"account_id":25565310,"reputation":1,"user_id":19346885,"display_name":"randy pahang"},"score":0,"creation_date":1679542350,"post_id":75819020,"comment_id":133741694,"body_markdown":"@Unmitigated are you suggesting that the problem lies in the software and not the code?","body":"@Unmitigated are you suggesting that the problem lies in the software and not the code?"}],"answers":[{"comments":[{"owner":{"account_id":25565310,"reputation":1,"user_id":19346885,"display_name":"randy pahang"},"score":0,"creation_date":1679547119,"post_id":75819209,"comment_id":133742162,"body_markdown":"not all heroes wear capes, thank you","body":"not all heroes wear capes, thank you"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679549806,"post_id":75819209,"comment_id":133742411,"body_markdown":"@randypahang Who says I don&#39;t ware capes &#128540;","body":"@randypahang Who says I don&#39;t ware capes "}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679544990,"creation_date":1679544990,"answer_id":75819209,"question_id":75819020,"body_markdown":"* Don&#39;t use `null` layouts, they aren&#39;t helping you\r\n* `this.setVisible(true)` is irrelevant, Swing components by default are visible (with the exception of window based classes)\r\n* Swing is lazy, so modifying a UI which is presented on the screen will not be immediately update.  In your case, simply make `this.setVisible` the last statement, otherwise you need to `revalidate` and `repaint` the container which has changed, in order to trigger a new layout and paint pass.\r\n* Setting the size of the window is ill-advised. This will make the visible content area `size - window decoration insets` which may cause you issues.  Better to set the preferred size of the content (or just let the layout managers do their jobs) and `pack` the window around it\r\n\r\n# For example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new MyFrame();\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MyFrame extends JFrame {\r\n\r\n            public static final int WIDTH = 800;\r\n            public static final int HEIGHT = 900;\r\n\r\n            MyFrame() {\r\n                this.setTitle(&quot;Percolation Simulation&quot;);\r\n                this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                JPanel mainPanel = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(MyFrame.WIDTH, MyFrame.HEIGHT);\r\n                    }\r\n                };\r\n                mainPanel.setBackground(Color.red);\r\n                mainPanel.setLayout(new GridLayout());\r\n\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n                mainPanel.add(new JButton(&quot; &quot;));\r\n\r\n                this.add(mainPanel);\r\n\r\n                this.pack();\r\n                this.setLocationRelativeTo(null);\r\n                this.setVisible(true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uMOFV.png","title":"Java Swing, JButton not showing on a panel with a grid layout","body":"<ul>\n<li>Don't use <code>null</code> layouts, they aren't helping you</li>\n<li><code>this.setVisible(true)</code> is irrelevant, Swing components by default are visible (with the exception of window based classes)</li>\n<li>Swing is lazy, so modifying a UI which is presented on the screen will not be immediately update.  In your case, simply make <code>this.setVisible</code> the last statement, otherwise you need to <code>revalidate</code> and <code>repaint</code> the container which has changed, in order to trigger a new layout and paint pass.</li>\n<li>Setting the size of the window is ill-advised. This will make the visible content area <code>size - window decoration insets</code> which may cause you issues.  Better to set the preferred size of the content (or just let the layout managers do their jobs) and <code>pack</code> the window around it</li>\n</ul>\n<h1>For example...</h1>\n<p><a href=\"https://i.stack.imgur.com/uMOFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMOFV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new MyFrame();\n            }\n        });\n    }\n\n    public class MyFrame extends JFrame {\n\n        public static final int WIDTH = 800;\n        public static final int HEIGHT = 900;\n\n        MyFrame() {\n            this.setTitle(&quot;Percolation Simulation&quot;);\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            JPanel mainPanel = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(MyFrame.WIDTH, MyFrame.HEIGHT);\n                }\n            };\n            mainPanel.setBackground(Color.red);\n            mainPanel.setLayout(new GridLayout());\n\n            mainPanel.add(new JButton(&quot; &quot;));\n            mainPanel.add(new JButton(&quot; &quot;));\n            mainPanel.add(new JButton(&quot; &quot;));\n\n            this.add(mainPanel);\n\n            this.pack();\n            this.setLocationRelativeTo(null);\n            this.setVisible(true);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25565310,"reputation":1,"user_id":19346885,"display_name":"randy pahang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679551751,"creation_date":1679542089,"question_id":75819020,"body_markdown":"I&#39;ve been trying to add a grid layout of buttons onto a jpanel, but nothing shows up on the jpanel when I run the code.\r\n\r\npublic class MyFrame extends JFrame{\r\n\r\n    public static final int WIDTH = 800;\r\n    public static final int HEIGHT = 900;\r\n    \r\n    MyFrame() {\r\n    \tthis.setTitle(&quot;Percolation Simulation&quot;);\r\n    \tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tthis.setSize(WIDTH, HEIGHT);\r\n    \tthis.setLayout(null);\r\n    \tthis.setVisible(true);\r\n    \t\r\n    \tJPanel mainPanel = new JPanel();\r\n    \tmainPanel.setBounds(0, 0, WIDTH, 600);\r\n    \tmainPanel.setBackground(Color.red);\r\n    \tmainPanel.setLayout(new GridLayout());\r\n    \t\r\n    \tthis.add(mainPanel);\r\n    \t\r\n    \t\r\n    \tmainPanel.add(new JButton());\r\n    \tmainPanel.add(new JButton());\r\n    \tmainPanel.add(new JButton());\r\n    \t\r\n    \tmainPanel.setVisible(true);\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n}\r\n\r\n[enter image description here](https://i.stack.imgur.com/qyGt3.png)Output of code","title":"Java Swing, JButton not showing on a panel with a grid layout","body":"<p>I've been trying to add a grid layout of buttons onto a jpanel, but nothing shows up on the jpanel when I run the code.</p>\n<p>public class MyFrame extends JFrame{</p>\n<pre><code>public static final int WIDTH = 800;\npublic static final int HEIGHT = 900;\n\nMyFrame() {\n    this.setTitle(&quot;Percolation Simulation&quot;);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setSize(WIDTH, HEIGHT);\n    this.setLayout(null);\n    this.setVisible(true);\n    \n    JPanel mainPanel = new JPanel();\n    mainPanel.setBounds(0, 0, WIDTH, 600);\n    mainPanel.setBackground(Color.red);\n    mainPanel.setLayout(new GridLayout());\n    \n    this.add(mainPanel);\n    \n    \n    mainPanel.add(new JButton());\n    mainPanel.add(new JButton());\n    mainPanel.add(new JButton());\n    \n    mainPanel.setVisible(true);\n    \n    \n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/qyGt3.png\" rel=\"nofollow noreferrer\">enter image description here</a>Output of code</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1679548144,"post_id":75819396,"comment_id":133742253,"body_markdown":"Maven 3.9 requires Java 8 (also known as 1.8) or later","body":"Maven 3.9 requires Java 8 (also known as 1.8) or later"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679548211,"post_id":75819396,"comment_id":133742259,"body_markdown":"It required Java 8 version try to build with 8 . https://maven.apache.org/docs/history.html","body":"It required Java 8 version try to build with 8 . <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679565577,"post_id":75819396,"comment_id":133745644,"body_markdown":"First as already mentioned you have to have at minum JDK8 to run Maven 3.9.X Or you can use Maven 3.8.X (https://maven.apache.org/docs/history.html)  and use JDK 7 ... other option would be to use a more recent JDK9+ and use the `release` option to produce JDK7 compatible compiled classes... apart from that JDK 7 is really out of date (current JDK version is JDK20 https://inside.java/2023/03/21/the-arrival-of-java-20/)... etc. or you can use toolchains (Details: https://youtu.be/-KbDcJcglPc)","body":"First as already mentioned you have to have at minum JDK8 to run Maven 3.9.X Or you can use Maven 3.8.X (<a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>)  and use JDK 7 ... other option would be to use a more recent JDK9+ and use the <code>release</code> option to produce JDK7 compatible compiled classes... apart from that JDK 7 is really out of date (current JDK version is JDK20 <a href=\"https://inside.java/2023/03/21/the-arrival-of-java-20/\" rel=\"nofollow noreferrer\">inside.java/2023/03/21/the-arrival-of-java-20</a>)... etc. or you can use toolchains (Details: <a href=\"https://youtu.be/-KbDcJcglPc\" rel=\"nofollow noreferrer\">youtu.be/-KbDcJcglPc</a>)"}],"answers":[{"tags":[],"owner":{"account_id":14855107,"reputation":26,"user_id":10727854,"display_name":"Omkar Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679550305,"creation_date":1679550305,"answer_id":75819584,"question_id":75819396,"body_markdown":"maven 3.9.x will require java 1.8. see [maven release history][1]\r\n\r\nYou are getting\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\r\n\r\n\r\nIf you could see the error says that there is an unsupported version used and it gave you version 52.0.\r\n\r\nThis 52 version is associated with Java 1.8. check : [classFileStructure][2]\r\n\r\nIn a nutshell, the error tells you that the maven implementation is compiled in Java 8, you are using the unsupported version. it is providing you the correct version.\r\n\r\nJava 8 to resolve your issue.\r\n\r\n  [1]: https://maven.apache.org/docs/history.html\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html","title":"Maven throws error UnsupportedClassVersionError","body":"<p>maven 3.9.x will require java 1.8. see <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven release history</a></p>\n<p>You are getting</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\n</code></pre>\n<p>If you could see the error says that there is an unsupported version used and it gave you version 52.0.</p>\n<p>This 52 version is associated with Java 1.8. check : <a href=\"https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html\" rel=\"nofollow noreferrer\">classFileStructure</a></p>\n<p>In a nutshell, the error tells you that the maven implementation is compiled in Java 8, you are using the unsupported version. it is providing you the correct version.</p>\n<p>Java 8 to resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679551526,"creation_date":1679551526,"answer_id":75819685,"question_id":75819396,"body_markdown":"Maven 3.9.1 requires at least Java 1.8. But you can still use Java 1.7 to build your application using the maven toolchain if your application requires Java 1.7.\r\n\r\nIn `${user.home}/.m2/toolchains.xml` configure the Jdk as follows.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;toolchains&gt;\r\n  &lt;!-- JDK toolchains --&gt;\r\n  &lt;toolchain&gt;\r\n    &lt;type&gt;jdk&lt;/type&gt;\r\n    &lt;provides&gt;\r\n      &lt;version&gt;1.7&lt;/version&gt;\r\n      &lt;vendor&gt;sun&lt;/vendor&gt;\r\n    &lt;/provides&gt;\r\n    &lt;configuration&gt;\r\n      &lt;jdkHome&gt;/path/to/jdk/1.7&lt;/jdkHome&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/toolchain&gt;\r\n&lt;/toolchains&gt;\r\n```\r\n\r\nAnd in your `pom.xml` configure the toolchain as follows.\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.0&lt;/version&gt;\r\n  &lt;/plugin&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;toolchain&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;toolchains&gt;\r\n        &lt;jdk&gt;\r\n          &lt;version&gt;1.7&lt;/version&gt;\r\n          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n        &lt;/jdk&gt;\r\n      &lt;/toolchains&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\n&gt;NOTE: Do not change the `JAVA_HOME` environment variable; it should point to Java 1.8 or a later version of java.\r\n\r\nBy using toolchains, Maven will use Java 1.8, and the project will be compiled using Java 1.7\r\n\r\nREF: [Guide to Using Toolchains][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"Maven throws error UnsupportedClassVersionError","body":"<p>Maven 3.9.1 requires at least Java 1.8. But you can still use Java 1.7 to build your application using the maven toolchain if your application requires Java 1.7.</p>\n<p>In <code>${user.home}/.m2/toolchains.xml</code> configure the Jdk as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;!-- JDK toolchains --&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;1.7&lt;/version&gt;\n      &lt;vendor&gt;sun&lt;/vendor&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/path/to/jdk/1.7&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>And in your <code>pom.xml</code> configure the toolchain as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;toolchain&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;toolchains&gt;\n        &lt;jdk&gt;\n          &lt;version&gt;1.7&lt;/version&gt;\n          &lt;vendor&gt;sun&lt;/vendor&gt;\n        &lt;/jdk&gt;\n      &lt;/toolchains&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<blockquote>\n<p>NOTE: Do not change the <code>JAVA_HOME</code> environment variable; it should point to Java 1.8 or a later version of java.</p>\n</blockquote>\n<p>By using toolchains, Maven will use Java 1.8, and the project will be compiled using Java 1.7</p>\n<p>REF: <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Guide to Using Toolchains</a></p>\n"}],"owner":{"account_id":11517184,"reputation":742,"user_id":8440216,"display_name":"Neenu Chandran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679551526,"creation_date":1679547685,"question_id":75819396,"body_markdown":"I am seeing below error when trying to run maven. Java and javac is 1.7(versions are given below, and maven is 3.9.0. I am using mac os.\r\n\r\nAny help would be appreciated.\r\n\r\n\r\n```\r\nmvn\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n\tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.getMainClass(Launcher.java:140)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:259)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\r\npwd\r\n/usr/local/Cellar/maven/3.9.1\r\n\r\njava -version\r\njava version &quot;1.7.0_80&quot;\r\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\r\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\r\n\r\njavac -version\r\njavac 1.7.0_80","title":"Maven throws error UnsupportedClassVersionError","body":"<p>I am seeing below error when trying to run maven. Java and javac is 1.7(versions are given below, and maven is 3.9.0. I am using mac os.</p>\n<p>Any help would be appreciated.</p>\n<pre><code>mvn\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/maven/cli/MavenCli : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.getMainClass(Launcher.java:140)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:259)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n\npwd\n/usr/local/Cellar/maven/3.9.1\n\njava -version\njava version &quot;1.7.0_80&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\n\njavac -version\njavac 1.7.0_80\n</code></pre>\n"},{"tags":["java","eclipse","cucumber","window","gherkin"],"answers":[{"comments":[{"owner":{"account_id":23779415,"reputation":19,"user_id":17792318,"display_name":"Ankit Gupta"},"score":0,"creation_date":1679555683,"post_id":75819560,"comment_id":133743338,"body_markdown":"Hi ou\n\nThanks! I have downloaded the zipfile from above but unable to load in ecilipse could you please suggest me the steps to implemet it on my ecilipse.","body":"Hi ou  Thanks! I have downloaded the zipfile from above but unable to load in ecilipse could you please suggest me the steps to implemet it on my ecilipse."},{"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"score":0,"creation_date":1679570554,"post_id":75819560,"comment_id":133746833,"body_markdown":"Help -&gt; Software update -&gt; Add Site -&gt; Archive -&gt; Install","body":"Help -&gt; Software update -&gt; Add Site -&gt; Archive -&gt; Install"}],"tags":[],"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679549973,"creation_date":1679549973,"answer_id":75819560,"question_id":75816317,"body_markdown":"Don&#39;t use marketplace, but instead install the offline zip package from [here](https://github.com/cucumber/cucumber-eclipse). I&#39;m running it in Eclipse 2020-09 with no problem.","title":"I am geeting error while Installing cucumber eclipse plugin 1.0.0 from market place","body":"<p>Don't use marketplace, but instead install the offline zip package from <a href=\"https://github.com/cucumber/cucumber-eclipse\" rel=\"nofollow noreferrer\">here</a>. I'm running it in Eclipse 2020-09 with no problem.</p>\n"}],"owner":{"account_id":23779415,"reputation":19,"user_id":17792318,"display_name":"Ankit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819560,"answer_count":1,"score":0,"last_activity_date":1679549973,"creation_date":1679511742,"question_id":75816317,"body_markdown":"[![enter image description here][1]][1]I&#39;m looking for Natural plugin. but doesn&#39;t found so insteade of try to installing Cucumber eclipse plugins.\r\n\r\nso for installing  &quot;Cucumber Eclipse&quot; plugin.so search for &quot;Cucumber&quot; in eclipse market place, and it would appear in the top of the list.\r\n\r\nalso try In Eclipse, in &quot;Help&quot; &gt;&gt; &quot;Install New Software...&quot;,\r\n\r\n\r\n\r\n\r\n\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_Ankit_eclipse_java-2021-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAIk9.png","title":"I am geeting error while Installing cucumber eclipse plugin 1.0.0 from market place","body":"<p><a href=\"https://i.stack.imgur.com/qAIk9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAIk9.png\" alt=\"enter image description here\" /></a>I'm looking for Natural plugin. but doesn't found so insteade of try to installing Cucumber eclipse plugins.</p>\n<p>so for installing  &quot;Cucumber Eclipse&quot; plugin.so search for &quot;Cucumber&quot; in eclipse market place, and it would appear in the top of the list.</p>\n<p>also try In Eclipse, in &quot;Help&quot; &gt;&gt; &quot;Install New Software...&quot;,</p>\n<p>An error occurred while collecting items to be installed\nsession context was:(profile=C__Users_Ankit_eclipse_java-2021-09_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for -9147676190077153272.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for -9147676190077153272.\nOK</p>\n"},{"tags":["java","azure-active-directory","microsoft-graph-api","azure-web-app-service"],"answers":[{"comments":[{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":0,"creation_date":1679550089,"post_id":75819473,"comment_id":133742447,"body_markdown":"Oh I did try that, both AuthorizationCodeCredention and OnBehalfOfCredential both just throw &quot;Error executing the request&quot;, no information, no nothing.  I included DefaultAzure in my example cause at least it threw a less cryptic exception.  https://i.snipboard.io/310Lna.jpg","body":"Oh I did try that, both AuthorizationCodeCredention and OnBehalfOfCredential both just throw &quot;Error executing the request&quot;, no information, no nothing.  I included DefaultAzure in my example cause at least it threw a less cryptic exception.  <a href=\"https://i.snipboard.io/310Lna.jpg\" rel=\"nofollow noreferrer\">i.snipboard.io/310Lna.jpg</a>"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1679552163,"post_id":75819473,"comment_id":133742716,"body_markdown":"You are passing access token in authorizationCode, could you include how you get that token? Alternatively, try using [username/password](https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#usernamepassword-provider) flow once for testing purpose.","body":"You are passing access token in authorizationCode, could you include how you get that token? Alternatively, try using <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#usernamepassword-provider\" rel=\"nofollow noreferrer\">username/password</a> flow once for testing purpose."},{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":0,"creation_date":1679552970,"post_id":75819473,"comment_id":133742835,"body_markdown":"https://graph.microsoft.com/oidc/userinfo with Bearer [x-ms-token-aad-access-token] works!!!  Thanks to https://stackoverflow.com/questions/66835707  Now how do I turn that into java using GraphServiceClient?","body":"<a href=\"https://graph.microsoft.com/oidc/userinfo\" rel=\"nofollow noreferrer\">graph.microsoft.com/oidc/userinfo</a> with Bearer [x-ms-token-aad-access-token] works!!!  Thanks to <a href=\"https://stackoverflow.com/questions/66835707\">stackoverflow.com/questions/66835707</a>  Now how do I turn that into java using GraphServiceClient?"},{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":0,"creation_date":1679553145,"post_id":75819473,"comment_id":133742859,"body_markdown":"I GET THE CODE FROM request.getHeader(&quot;x-ms-token-aad-access-token&quot;)\nI&#39;m already inside an AUTHENTICATED APPLICATION, the user used AD to login before they ever touched my code.  All my code has to go on is that token.  This is an AZURE APP SERVICE WITH EASY AUTH","body":"I GET THE CODE FROM request.getHeader(&quot;x-ms-token-aad-access-token&quot;) I&#39;m already inside an AUTHENTICATED APPLICATION, the user used AD to login before they ever touched my code.  All my code has to go on is that token.  This is an AZURE APP SERVICE WITH EASY AUTH"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1679553782,"post_id":75819473,"comment_id":133742976,"body_markdown":"Can you decode the token you got from `request.getHeader(&quot;x-ms-token-aad-access-token&quot;)` by pasting it in https://jwt.ms website and check `aud` and `scp` claims?","body":"Can you decode the token you got from <code>request.getHeader(&quot;x-ms-token-aad-access-token&quot;)</code> by pasting it in <a href=\"https://jwt.ms\" rel=\"nofollow noreferrer\">jwt.ms</a> website and check <code>aud</code> and <code>scp</code> claims?"},{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":0,"creation_date":1679554102,"post_id":75819473,"comment_id":133743037,"body_markdown":"&quot;scp&quot;: &quot;email openid profile&quot; &quot;aud&quot;: &quot;00000003-0000-0000-c000-000000000000&quot;  That&#39;s coming from my app registration&#39;s permissions https://i.snipboard.io/LhNMiV.jpg","body":"&quot;scp&quot;: &quot;email openid profile&quot; &quot;aud&quot;: &quot;00000003-0000-0000-c000-000000000000&quot;  That&#39;s coming from my app registration&#39;s permissions <a href=\"https://i.snipboard.io/LhNMiV.jpg\" rel=\"nofollow noreferrer\">i.snipboard.io/LhNMiV.jpg</a>"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1679555136,"post_id":75819473,"comment_id":133743224,"body_markdown":"As you are already authenticated, you can directly call **Microsoft Graph** using this token. Can you try calling `https://graph.microsoft.com/v1.0/me` with Bearer [x-ms-token-aad-access-token]?","body":"As you are already authenticated, you can directly call <b>Microsoft Graph</b> using this token. Can you try calling <code>https:&#47;&#47;graph.microsoft.com&#47;v1.0&#47;me</code> with Bearer [x-ms-token-aad-access-token]?"},{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":0,"creation_date":1679555586,"post_id":75819473,"comment_id":133743314,"body_markdown":"Nope, gives me &quot;code&quot;: &quot;Authorization_RequestDenied&quot;,\n&quot;message&quot;: &quot;Insufficient privileges to complete the operation.&quot;","body":"Nope, gives me &quot;code&quot;: &quot;Authorization_RequestDenied&quot;, &quot;message&quot;: &quot;Insufficient privileges to complete the operation.&quot;"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1679555601,"post_id":75819473,"comment_id":133743321,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252711/discussion-between-sridevi-and-user433342).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252711/discussion-between-sridevi-and-user433342\">continue this discussion in chat</a>."},{"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"score":1,"creation_date":1679589844,"post_id":75819473,"comment_id":133752537,"body_markdown":"I missed this step https://learn.microsoft.com/en-us/azure/app-service/scenario-secure-app-access-microsoft-graph-as-user?tabs=azure-resource-explorer#configure-app-service-to-return-a-usable-access-token","body":"I missed this step <a href=\"https://learn.microsoft.com/en-us/azure/app-service/scenario-secure-app-access-microsoft-graph-as-user?tabs=azure-resource-explorer#configure-app-service-to-return-a-usable-access-token\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/app-service/&hellip;</a>"}],"tags":[],"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679548757,"creation_date":1679548757,"answer_id":75819473,"question_id":75815332,"body_markdown":"&gt; BadRequest Error message: /me request is only valid with delegated authentication flow\r\n\r\nThe above error usually occurs if you do not use **delegated** flows as auth providers while calling `/me` request. The code you mentioned is for **client credentials** that does not includes user interaction.\r\n\r\n***I tried to reproduce the same via Postman and got below results:***\r\n\r\nUsing client credentials flow, I generated **access token** with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\ngrant_type: client_credentials\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret&gt;\r\nscope: https://graph.microsoft.com/.default\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/TvVHv.png)\r\n\r\nWhen I included above access token while calling `/me` request, I got **same error** as below:\r\n\r\n    GET https://graph.microsoft.com/v1.0/me\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/INVxA.png)\r\n\r\nTo resolve the error, you need to use **delegated** flows that involves user interaction like authorization code flow, username password flow etc...\r\n\r\nIn my case, I used **authorization code** flow where you need to generate `code` initially with below request:\r\n```\r\nhttps://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\r\n?client_id=&lt;appID&gt;\r\n&amp;response_type=code\r\n&amp;redirect_uri= https://jwt.ms\r\n&amp;response_mode=query\r\n&amp;scope= https://graph.microsoft.com/.default\r\n&amp;state=12345\r\n```\r\nWhen I ran above request in browser, I got `code` in ***address bar*** along with redirect URL after signing in successfully like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/LJerk.png)\r\n\r\nNow, I generated access token using **authorization code** flow via Postman with below parameters:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\ngrant_type:authorization_code\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret&gt;\r\nscope: https://graph.microsoft.com/.default\r\ncode: &lt;paste code from above request&gt;\r\nredirect_uri: https://jwt.ms\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/LJ9NM.png)\r\n\r\nWhen I used above access token while calling `/me` request, I got **user profile** successfully like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/TvkdC.png)\r\n\r\nTo do the same from Java, you can make use of below **sample code** of authorization code flow from MS Documentation:\r\n\r\n```java\r\nfinal AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\r\n        .clientId(clientId)\r\n        .clientSecret(clientSecret) //required for web apps, do not set for native apps\r\n        .authorizationCode(authorizationCode)\r\n        .redirectUrl(redirectUri)\r\n        .build();\r\n\r\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\r\n\r\nfinal GraphServiceClient graphClient =\r\n  GraphServiceClient\r\n    .builder()\r\n    .authenticationProvider(tokenCredentialAuthProvider)\r\n    .buildClient();\r\n\r\nfinal User me = graphClient.me().buildRequest().get();\r\n```\r\n**Reference:**\r\n\r\n[Choose a Microsoft Graph authentication provider - Microsoft Graph](https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider)","title":"Call microsoft graph from java app service","body":"<blockquote>\n<p>BadRequest Error message: /me request is only valid with delegated authentication flow</p>\n</blockquote>\n<p>The above error usually occurs if you do not use <strong>delegated</strong> flows as auth providers while calling <code>/me</code> request. The code you mentioned is for <strong>client credentials</strong> that does not includes user interaction.</p>\n<p><em><strong>I tried to reproduce the same via Postman and got below results:</strong></em></p>\n<p>Using client credentials flow, I generated <strong>access token</strong> with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\ngrant_type: client_credentials\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret&gt;\nscope: https://graph.microsoft.com/.default\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/TvVHv.png\" alt=\"enter image description here\" /></p>\n<p>When I included above access token while calling <code>/me</code> request, I got <strong>same error</strong> as below:</p>\n<pre><code>GET https://graph.microsoft.com/v1.0/me\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/INVxA.png\" alt=\"enter image description here\" /></p>\n<p>To resolve the error, you need to use <strong>delegated</strong> flows that involves user interaction like authorization code flow, username password flow etc...</p>\n<p>In my case, I used <strong>authorization code</strong> flow where you need to generate <code>code</code> initially with below request:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/authorize\n?client_id=&lt;appID&gt;\n&amp;response_type=code\n&amp;redirect_uri= https://jwt.ms\n&amp;response_mode=query\n&amp;scope= https://graph.microsoft.com/.default\n&amp;state=12345\n</code></pre>\n<p>When I ran above request in browser, I got <code>code</code> in <em><strong>address bar</strong></em> along with redirect URL after signing in successfully like below:</p>\n<p><img src=\"https://i.stack.imgur.com/LJerk.png\" alt=\"enter image description here\" /></p>\n<p>Now, I generated access token using <strong>authorization code</strong> flow via Postman with below parameters:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\ngrant_type:authorization_code\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret&gt;\nscope: https://graph.microsoft.com/.default\ncode: &lt;paste code from above request&gt;\nredirect_uri: https://jwt.ms\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/LJ9NM.png\" alt=\"enter image description here\" /></p>\n<p>When I used above access token while calling <code>/me</code> request, I got <strong>user profile</strong> successfully like this:</p>\n<p><img src=\"https://i.stack.imgur.com/TvkdC.png\" alt=\"enter image description here\" /></p>\n<p>To do the same from Java, you can make use of below <strong>sample code</strong> of authorization code flow from MS Documentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\n        .clientId(clientId)\n        .clientSecret(clientSecret) //required for web apps, do not set for native apps\n        .authorizationCode(authorizationCode)\n        .redirectUrl(redirectUri)\n        .build();\n\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\n\nfinal GraphServiceClient graphClient =\n  GraphServiceClient\n    .builder()\n    .authenticationProvider(tokenCredentialAuthProvider)\n    .buildClient();\n\nfinal User me = graphClient.me().buildRequest().get();\n</code></pre>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\" rel=\"nofollow noreferrer\">Choose a Microsoft Graph authentication provider - Microsoft Graph</a></p>\n"}],"owner":{"account_id":192287,"reputation":870,"user_id":433342,"accept_rate":52,"display_name":"user433342"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679548757,"creation_date":1679505239,"question_id":75815332,"body_markdown":"I have a java azure app service with easy auth (auth enabled via azure portal, app registration automatically created).  I&#39;m trying to print out the user&#39;s display name on the page but I can&#39;t call microsoft graph, keeps giving me an &quot;BadRequest Error message: /me request is only valid with delegated authentication flow&quot;.\r\n\r\n\tTokenCredential credential = new DefaultAzureCredentialBuilder().build();\r\n\t\r\n\tList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n\r\n\tTokenCredentialAuthProvider tokenCredentialAuthProvider = \r\n\t\tnew TokenCredentialAuthProvider(scopes, credential);\r\n\r\n\tGraphServiceClient graphClient =\r\n\t  GraphServiceClient\r\n\t\t.builder()\r\n\t\t.authenticationProvider(tokenCredentialAuthProvider)\r\n\t\t.buildClient();\r\n\r\n\tUser me = graphClient.me().buildRequest().get();\r\n","title":"Call microsoft graph from java app service","body":"<p>I have a java azure app service with easy auth (auth enabled via azure portal, app registration automatically created).  I'm trying to print out the user's display name on the page but I can't call microsoft graph, keeps giving me an &quot;BadRequest Error message: /me request is only valid with delegated authentication flow&quot;.</p>\n<pre><code>TokenCredential credential = new DefaultAzureCredentialBuilder().build();\n\nList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\nTokenCredentialAuthProvider tokenCredentialAuthProvider = \n    new TokenCredentialAuthProvider(scopes, credential);\n\nGraphServiceClient graphClient =\n  GraphServiceClient\n    .builder()\n    .authenticationProvider(tokenCredentialAuthProvider)\n    .buildClient();\n\nUser me = graphClient.me().buildRequest().get();\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":12855419,"reputation":2712,"user_id":9298910,"display_name":"Lehks"},"score":0,"creation_date":1655901384,"post_id":72715584,"comment_id":128441238,"body_markdown":"Yes, but what I need is both fluent and non-fluent at the same time. So I would need `getFoo()` and `foo()`.","body":"Yes, but what I need is both fluent and non-fluent at the same time. So I would need <code>getFoo()</code> and <code>foo()</code>."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655901686,"creation_date":1655901169,"answer_id":72715584,"question_id":72715391,"body_markdown":"It&#39;s not possible. From [the docs](https://projectlombok.org/features/experimental/Accessors)\r\n\r\n&gt; The `@Accessors` annotation is used to configure **how** lombok\r\n&gt; generates and looks for getters, setters, and with-ers.\r\n\r\nEmphasis mine.\r\n\r\n`@Accessors` can configure *how* a method is generated, but not *how many* methods are generated.\r\n\r\nTechnically it&#39;s still an experimental feature so that could change in the future. However, I don&#39;t see any current intention to support that. You are doubling the API footprint of the class to have slightly different syntax; not really worth it, in my opinion.","title":"Lombok @Accessor and JPA Beans","body":"<p>It's not possible. From <a href=\"https://projectlombok.org/features/experimental/Accessors\" rel=\"nofollow noreferrer\">the docs</a></p>\n<blockquote>\n<p>The <code>@Accessors</code> annotation is used to configure <strong>how</strong> lombok\ngenerates and looks for getters, setters, and with-ers.</p>\n</blockquote>\n<p>Emphasis mine.</p>\n<p><code>@Accessors</code> can configure <em>how</em> a method is generated, but not <em>how many</em> methods are generated.</p>\n<p>Technically it's still an experimental feature so that could change in the future. However, I don't see any current intention to support that. You are doubling the API footprint of the class to have slightly different syntax; not really worth it, in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":8061316,"reputation":158,"user_id":6076761,"display_name":"Ivhani Maselesele"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679548521,"creation_date":1679548521,"answer_id":75819455,"question_id":72715391,"body_markdown":"A few months late, but this is for anyone that lands here after asking google about lombok&#39;s accessors being experimental. For your chaining requirements, you can use: \r\n\r\n    @With\r\n    @Getter\r\n    @Setter\r\n\r\nThis will give you regular setters and getters and will give you &quot;With&quot; methods that are chainable.\r\n\r\nNB @With requires:\r\n\r\n    @AllArgsConstructor","title":"Lombok @Accessor and JPA Beans","body":"<p>A few months late, but this is for anyone that lands here after asking google about lombok's accessors being experimental. For your chaining requirements, you can use:</p>\n<pre><code>@With\n@Getter\n@Setter\n</code></pre>\n<p>This will give you regular setters and getters and will give you &quot;With&quot; methods that are chainable.</p>\n<p>NB @With requires:</p>\n<pre><code>@AllArgsConstructor\n</code></pre>\n"}],"owner":{"account_id":12855419,"reputation":2712,"user_id":9298910,"display_name":"Lehks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679548521,"creation_date":1655900482,"question_id":72715391,"body_markdown":"I am using Lombok to generate getters and setters for my JPA entities. However, I also very much like the Syntax that is provided by the `@Accessor(fluent = true, chain = true)`. But this is not compatible with JPA, which requires the signature `void setProperty()` which prevents chaining.\r\n\r\nIs it possible to use both &quot;regular&quot; getters and setters and fluent accessors at the same time with Lombok?","title":"Lombok @Accessor and JPA Beans","body":"<p>I am using Lombok to generate getters and setters for my JPA entities. However, I also very much like the Syntax that is provided by the <code>@Accessor(fluent = true, chain = true)</code>. But this is not compatible with JPA, which requires the signature <code>void setProperty()</code> which prevents chaining.</p>\n<p>Is it possible to use both &quot;regular&quot; getters and setters and fluent accessors at the same time with Lombok?</p>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1421918330,"post_id":28084870,"comment_id":44547703,"body_markdown":"No need to call `MockitoAnnotations.initMocks(this);` if you declare `MockitoJUnitRunner` as junit test runner.","body":"No need to call <code>MockitoAnnotations.initMocks(this);</code> if you declare <code>MockitoJUnitRunner</code> as junit test runner."},{"owner":{"account_id":3063427,"reputation":2288,"user_id":2595642,"accept_rate":43,"display_name":"shikjohari"},"score":0,"creation_date":1421919126,"post_id":28084870,"comment_id":44548200,"body_markdown":"which version of mockito are you using","body":"which version of mockito are you using"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1421919185,"post_id":28084870,"comment_id":44548246,"body_markdown":"Why is the constructor name ShiftManagerServiceImpl in the ServiceImpl class?","body":"Why is the constructor name ShiftManagerServiceImpl in the ServiceImpl class?"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1421919339,"post_id":28084870,"comment_id":44548322,"body_markdown":"Actually assuming that the constructor name is only a copy-paste issue, I have tried this code using Mockito version 1.9.5 with some dummy test case, but no error was experienced","body":"Actually assuming that the constructor name is only a copy-paste issue, I have tried this code using Mockito version 1.9.5 with some dummy test case, but no error was experienced"},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421919533,"post_id":28084870,"comment_id":44548420,"body_markdown":"I am using Mockito version - 1.9.5","body":"I am using Mockito version - 1.9.5"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":1,"creation_date":1421919839,"post_id":28084870,"comment_id":44548611,"body_markdown":"Could you try instantiating via simply serviceImpl = new ServiceImpl(); after the initMocks() call instead of using @InjectMocks?","body":"Could you try instantiating via simply serviceImpl = new ServiceImpl(); after the initMocks() call instead of using @InjectMocks?"},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421920465,"post_id":28084870,"comment_id":44548963,"body_markdown":"Thank you for your response, when I tried with serviceImpl = new ServiceImpl(); after the initMocks() , I am getting NullpointerException at officeDAO = Client.getDaoFactory().getOfficeDAO(); What I think Client.getDaoFactory is a static call which is coming as null in my case.","body":"Thank you for your response, when I tried with serviceImpl = new ServiceImpl(); after the initMocks() , I am getting NullpointerException at officeDAO = Client.getDaoFactory().getOfficeDAO(); What I think Client.getDaoFactory is a static call which is coming as null in my case."},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1421928931,"post_id":28084870,"comment_id":44553772,"body_markdown":"When I creating serviceImpl = new ServiceImpl(); object using new all dependents mocking are failing. Can you please tell me what&#39;s the reason behind it.","body":"When I creating serviceImpl = new ServiceImpl(); object using new all dependents mocking are failing. Can you please tell me what&#39;s the reason behind it."}],"answers":[{"comments":[{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1422001898,"post_id":28093327,"comment_id":44586121,"body_markdown":"I am having another dependency which i mocked. In my test class I can see it&#39;s mocked but when control is going to service class it is coming as null.","body":"I am having another dependency which i mocked. In my test class I can see it&#39;s mocked but when control is going to service class it is coming as null."},{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1422002580,"post_id":28093327,"comment_id":44586422,"body_markdown":"@Test\n\tpublic void testGetOfficeForOperator() throws Exception {\n\t\twhen(asignmentDao.getOfficeForOperator(Mockito.anyString())).thenReturn(\n\t\t\t\tserviceImplTestData.getAssignmentList());\n\t\tserviceImpl.getOfficeForOperator(&quot;ABC&quot;, new Date(), new Date());}","body":"@Test \tpublic void testGetOfficeForOperator() throws Exception { \t\twhen(asignmentDao.getOfficeForOperator(Mockito.anyString()&zwnj;&#8203;)).thenReturn( \t\t\t\tserviceImplTestData.getAssignmentList()); \t\tserviceImpl.getOfficeForOperator(&quot;ABC&quot;, new Date(), new Date());}"}],"tags":[],"owner":{"account_id":4099244,"reputation":353,"user_id":3365235,"display_name":"bbankowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1421942696,"creation_date":1421942696,"answer_id":28093327,"question_id":28084870,"body_markdown":"You are using `@InjectMocks` annotation, which creates an instance of `ServiceImpl` class. Because your constructor is trying to get implementation from factory: `Client.getDaoFactory().getOfficeDAO()` you have NPE.\r\n\r\nMake sure what is returned by `Client.getDaoFactory()`. I bet it returns null and that&#39;s the problem :) Refactor your code, so that DaoFactory is passed via parameter rather than using static.\r\n\r\n----------\r\n\r\nI see you have a different exception right now. But based on the code I cannot really tell more. Please, provide full example of failing test.\r\n\r\n","title":"Mockito - Cannot instantiate @InjectMocks","body":"<p>You are using <code>@InjectMocks</code> annotation, which creates an instance of <code>ServiceImpl</code> class. Because your constructor is trying to get implementation from factory: <code>Client.getDaoFactory().getOfficeDAO()</code> you have NPE.</p>\n\n<p>Make sure what is returned by <code>Client.getDaoFactory()</code>. I bet it returns null and that's the problem :) Refactor your code, so that DaoFactory is passed via parameter rather than using static.</p>\n\n<hr>\n\n<p>I see you have a different exception right now. But based on the code I cannot really tell more. Please, provide full example of failing test.</p>\n"}],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23860,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28093327,"answer_count":1,"score":3,"last_activity_date":1679548429,"creation_date":1421917845,"question_id":28084870,"body_markdown":"I have two private fields in my class which I am testing and these two fields are initialized in constructor. \r\n\r\nNow when I am trying to call using my class annotated with @InjectMocks, it is throwing exception:\r\n\r\n     Cannot instantiate @InjectMocks field named &#39;ServiceImpl&#39; of type &#39;class com.test.ServiceImpl&#39;. You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n\r\n\r\nBelow is the piece of code.\r\n\r\n    public class ServiceImpl implements Service {\r\n\r\n\t    private OfficeDAO officeDAO;\r\n\r\n\t    private DBDAO dbDAO;\r\n\r\n\t    public ServiceImpl() {\r\n\t        officeDAO = Client.getDaoFactory().getOfficeDAO();\r\n\t        dbDAO = Client.getDaoFactory().getDBDAO();\r\n        }\r\n\t}\r\n\r\nMy test class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ServiceImplTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate OfficeDAO officeDAO;\r\n    \r\n    \t@Mock\r\n    \tprivate DBDAO dbDAO;\r\n    \r\n    \t@Mock\r\n    \tClient client;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate ServiceImpl serviceImpl;\r\n    \r\n    \t@Mock\r\n    \tprivate Logger log;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t}\r\n    }\r\n\r\nPlease help me how I can resolve it. \r\nAny help will be appreciated.\r\n\r\n","title":"Mockito - Cannot instantiate @InjectMocks","body":"<p>I have two private fields in my class which I am testing and these two fields are initialized in constructor.</p>\n<p>Now when I am trying to call using my class annotated with @InjectMocks, it is throwing exception:</p>\n<pre><code> Cannot instantiate @InjectMocks field named 'ServiceImpl' of type 'class com.test.ServiceImpl'. You haven't provided the instance at field declaration so I tried to construct the instance.\n</code></pre>\n<p>Below is the piece of code.</p>\n<pre><code>public class ServiceImpl implements Service {\n\n    private OfficeDAO officeDAO;\n\n    private DBDAO dbDAO;\n\n    public ServiceImpl() {\n        officeDAO = Client.getDaoFactory().getOfficeDAO();\n        dbDAO = Client.getDaoFactory().getDBDAO();\n    }\n}\n</code></pre>\n<p>My test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceImplTest {\n    \n    @Mock\n    private OfficeDAO officeDAO;\n\n    @Mock\n    private DBDAO dbDAO;\n\n    @Mock\n    Client client;\n\n    @InjectMocks\n    private ServiceImpl serviceImpl;\n\n    @Mock\n    private Logger log;\n\n    @Before\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n<p>Please help me how I can resolve it.\nAny help will be appreciated.</p>\n"},{"tags":["java","gradle","intellij-idea","junit","jacoco"],"comments":[{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1618837759,"post_id":67160975,"comment_id":118716023,"body_markdown":"Can we see your how you `-javaagent ...`? Have you downloaded `jamm.jar` and is the path to it correct?","body":"Can we see your how you <code>-javaagent ...</code>? Have you downloaded <code>jamm.jar</code> and is the path to it correct?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1618847637,"post_id":67160975,"comment_id":118720791,"body_markdown":"Do you launch it in Run or Debug mode? Have you configured any coverage settings in **Code Coverage** tab of run configuration? A sample project would be helpful.","body":"Do you launch it in Run or Debug mode? Have you configured any coverage settings in <b>Code Coverage</b> tab of run configuration? A sample project would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618860892,"creation_date":1618860892,"answer_id":67168301,"question_id":67160975,"body_markdown":"I found the solution here:\r\n\r\nhttps://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2\r\n\r\nI removed the line:\r\n\r\n    test {\r\n        reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\r\n        systemProperties System.properties -------&gt; REMOVED\r\n        systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\r\n    \r\n        testLogging {\r\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\r\n        }\r\n    \r\n        afterSuite { desc, result -&gt;\r\n            if (!desc.parent)\r\n                println(&quot;${result.resultType} &quot; +\r\n                        &quot;(${result.testCount} tests, &quot; +\r\n                        &quot;${result.successfulTestCount} successes, &quot; +\r\n                        &quot;${result.failedTestCount} failures, &quot; +\r\n                        &quot;${result.skippedTestCount} skipped)&quot;)\r\n        }\r\n        jacoco {\r\n            append = false\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n    }\r\n\r\nAND WORKED!\r\n\r\n    test {\r\n        reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\r\n        systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\r\n    \r\n        testLogging {\r\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\r\n        }\r\n    \r\n        afterSuite { desc, result -&gt;\r\n            if (!desc.parent)\r\n                println(&quot;${result.resultType} &quot; +\r\n                        &quot;(${result.testCount} tests, &quot; +\r\n                        &quot;${result.successfulTestCount} successes, &quot; +\r\n                        &quot;${result.failedTestCount} failures, &quot; +\r\n                        &quot;${result.skippedTestCount} skipped)&quot;)\r\n        }\r\n        jacoco {\r\n            append = false\r\n            destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\r\n            classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\r\n        }\r\n    }\r\n\r\n","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I found the solution here:</p>\n<p><a href=\"https://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/getting-classnotfoundexception-org-jacoco-agent-rt-internal-9dd1198-premain-with-1-7s-jacoco-plugin/1444/2</a></p>\n<p>I removed the line:</p>\n<pre><code>test {\n    reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\n    systemProperties System.properties -------&gt; REMOVED\n    systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\n    }\n\n    afterSuite { desc, result -&gt;\n        if (!desc.parent)\n            println(&quot;${result.resultType} &quot; +\n                    &quot;(${result.testCount} tests, &quot; +\n                    &quot;${result.successfulTestCount} successes, &quot; +\n                    &quot;${result.failedTestCount} failures, &quot; +\n                    &quot;${result.skippedTestCount} skipped)&quot;)\n    }\n    jacoco {\n        append = false\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n}\n</code></pre>\n<p>AND WORKED!</p>\n<pre><code>test {\n    reports.junitXml.destination = file(&quot;$buildDir/test-results&quot;)\n    systemProperty &quot;spring.profiles.active&quot;, &quot;local&quot;\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\n    }\n\n    afterSuite { desc, result -&gt;\n        if (!desc.parent)\n            println(&quot;${result.resultType} &quot; +\n                    &quot;(${result.testCount} tests, &quot; +\n                    &quot;${result.successfulTestCount} successes, &quot; +\n                    &quot;${result.failedTestCount} failures, &quot; +\n                    &quot;${result.skippedTestCount} skipped)&quot;)\n    }\n    jacoco {\n        append = false\n        destinationFile = file(&quot;$buildDir/jacoco/jacocoTest.exec&quot;)\n        classDumpDir = file(&quot;$buildDir/jacoco/classpathdumps&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13848848,"reputation":841,"user_id":9997280,"display_name":"Arphile"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671684610,"creation_date":1671684610,"answer_id":74884233,"question_id":67160975,"body_markdown":"I know this is little bit late but for later person who engaged same situations, I&#39;ll give a solution.\r\n\r\nkeep \r\n\r\n    systemProperties System.properties \r\n\r\nin test task but put this line under there.\r\n\r\n    systemProperties[&#39;user.dir&#39;] = workingDir\r\n\r\nit&#39;ll solve the problem.","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I know this is little bit late but for later person who engaged same situations, I'll give a solution.</p>\n<p>keep</p>\n<pre><code>systemProperties System.properties \n</code></pre>\n<p>in test task but put this line under there.</p>\n<pre><code>systemProperties['user.dir'] = workingDir\n</code></pre>\n<p>it'll solve the problem.</p>\n"}],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679548391,"creation_date":1618831113,"question_id":67160975,"body_markdown":"I try to run test with intellij and gradle and this error keep bothering:\r\n\r\n    :compileTestJava NO-SOURCE\r\n    :processTestResources\r\n    :testClasses\r\n    :test\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 3&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 4&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 4&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 5&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 5&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 6&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 6&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 7&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 7&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 8&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 8&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 9&#39; finished with non-zero exit value 134\r\n    org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 9&#39; finished with non-zero exit value 134\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\r\n    \tat org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\r\n    \tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\r\n    \tat org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\r\n    \tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\r\n    \tat org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\r\n    \tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\n    FATAL ERROR in native method: processing of -javaagent failed\r\n    Process &#39;Gradle Test Executor 10&#39; finished with non-zero exit value 134\r\n\r\n[![configs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agpxS.png\r\n","title":"Gradle test ClassNotFoundException with Jacoco","body":"<p>I try to run test with intellij and gradle and this error keep bothering:</p>\n<pre><code>:compileTestJava NO-SOURCE\n:processTestResources\n:testClasses\n:test\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\nFATAL ERROR in native method: processing of -javaagent failed\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 2' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 2' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 3' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 3' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 4' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 4' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 5' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 5' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 6' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 6' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 7' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 7' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 8' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 8' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 9' finished with non-zero exit value 134\norg.gradle.process.internal.ExecException: Process 'Gradle Test Executor 9' finished with non-zero exit value 134\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.onProcessStop(DefaultWorkerProcess.java:118)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess.access$000(DefaultWorkerProcess.java:41)\n    at org.gradle.process.internal.worker.DefaultWorkerProcess$1.executionFinished(DefaultWorkerProcess.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy82.executionFinished(Unknown Source)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:207)\n    at org.gradle.process.internal.DefaultExecHandle.finished(DefaultExecHandle.java:334)\n    at org.gradle.process.internal.ExecHandleRunner.completed(ExecHandleRunner.java:102)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:82)\n    at org.gradle.internal.operations.BuildOperationIdentifierPreservingRunnable.run(BuildOperationIdentifierPreservingRunnable.java:39)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.jacoco.agent.rt.internal_43f5073.PreMain\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:304)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nFATAL ERROR in native method: processing of -javaagent failed\nProcess 'Gradle Test Executor 10' finished with non-zero exit value 134\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/agpxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agpxS.png\" alt=\"configs\" /></a></p>\n"},{"tags":["java","input","while-loop","conditional-statements","nested-loops"],"owner":{"account_id":26793002,"reputation":1,"user_id":20386134,"display_name":"therealslyvegas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679547856,"creation_date":1679547579,"question_id":75819386,"body_markdown":"Is it at all possible to not only verify that the user enters a int with hasNextInt() but that it also is number lets say between 1 and 4 for a following switch condition afterwards? So before it gets to a switch condition I want to, One, make sure the user can not break it with random input, and Two, that the input received is between 1 and 4. Now I know there are a number of ways I can solve this but I wanted ask everyone if it was possible to do it this way (inside a while loop condition with hasNextInt()) with as few line&#39;s as possible? I&#39;ve seen on here different implementations of hasNextInt() but only to the extent of making sure it is a int being inputted and nothing else.\r\n\r\n***THIS IS JUST A CONCEPT OF WHAT I AM TRYING TO CONVEY, IF SOMETHING LIKE THIS IN THEORY IS AT ALL POSSIBLE***\r\n```while(!input.hasNextInt() &amp;&amp; input.nextInt() &lt; 1 &amp;&amp; input.nextInt() &gt; 4){...code}```\r\n\r\n```c++\r\n    /// THIS IN A SENSE IS WHAT I COME UP WITH BUT I AM TRYING TO \r\n    /// SEE IF I CAN CONDENSE THIS WITH THE CONCEPT I STATED ABOVE. I \r\n    /// DON&#39;T WANT THIS CODE FIXED.\r\n    Scanner input = new Scanner(System.in);\r\n    int selection = 0;\r\n\r\n    while(!input.hasNextInt()) {\r\n        System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n        System.out.print(&quot;Enter Selection: &quot;);\r\n        input.next;\r\n    }\r\n\r\n    selection = input.nextInt();\r\n\r\n    boolean flag = true;\r\n    \r\n    while(flag &amp;&amp; selection &gt; 0 &amp;&amp; selection &lt; 5) {\r\n        if (selection &lt; 1 || selection &gt; 4) {\r\n            System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n            System.out.print(&quot;Enter Selection: &quot;);\r\n            while(!input.hasNextInt()) {\r\n               System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\r\n               input.next;\r\n               System.out.print(&quot;Enter Selection: &quot;);\r\n            }\r\n        selection = input.nextInt();\r\n        \r\n    }","title":"Verify User Input Is An Int And That It Is Between A Specific Value Using hasNextInt()","body":"<p>Is it at all possible to not only verify that the user enters a int with hasNextInt() but that it also is number lets say between 1 and 4 for a following switch condition afterwards? So before it gets to a switch condition I want to, One, make sure the user can not break it with random input, and Two, that the input received is between 1 and 4. Now I know there are a number of ways I can solve this but I wanted ask everyone if it was possible to do it this way (inside a while loop condition with hasNextInt()) with as few line's as possible? I've seen on here different implementations of hasNextInt() but only to the extent of making sure it is a int being inputted and nothing else.</p>\n<p><em><strong>THIS IS JUST A CONCEPT OF WHAT I AM TRYING TO CONVEY, IF SOMETHING LIKE THIS IN THEORY IS AT ALL POSSIBLE</strong></em>\n<code>while(!input.hasNextInt() &amp;&amp; input.nextInt() &lt; 1 &amp;&amp; input.nextInt() &gt; 4){...code}</code></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>    /// THIS IN A SENSE IS WHAT I COME UP WITH BUT I AM TRYING TO \n    /// SEE IF I CAN CONDENSE THIS WITH THE CONCEPT I STATED ABOVE. I \n    /// DON'T WANT THIS CODE FIXED.\n    Scanner input = new Scanner(System.in);\n    int selection = 0;\n\n    while(!input.hasNextInt()) {\n        System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n        System.out.print(&quot;Enter Selection: &quot;);\n        input.next;\n    }\n\n    selection = input.nextInt();\n\n    boolean flag = true;\n    \n    while(flag &amp;&amp; selection &gt; 0 &amp;&amp; selection &lt; 5) {\n        if (selection &lt; 1 || selection &gt; 4) {\n            System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n            System.out.print(&quot;Enter Selection: &quot;);\n            while(!input.hasNextInt()) {\n               System.out.print(&quot;Invalid Entry! Only numbers 1 - 4&quot;);\n               input.next;\n               System.out.print(&quot;Enter Selection: &quot;);\n            }\n        selection = input.nextInt();\n        \n    }\n</code></pre>\n"},{"tags":["java","kubernetes","redis","quarkus","redis-sentinel"],"answers":[{"comments":[{"owner":{"account_id":8736070,"reputation":533,"user_id":6534684,"display_name":"KVS"},"score":0,"creation_date":1679547358,"post_id":75802593,"comment_id":133742179,"body_markdown":"Hello, thank you for taking the time to respond. We have implemented a workaround for this issue by utilizing the Jedis library instead of the Quarkus Redis client. With Jedis, reconnection occurs automatically, and we have observed that the API&#39;s throughput has doubled since the implementation.","body":"Hello, thank you for taking the time to respond. We have implemented a workaround for this issue by utilizing the Jedis library instead of the Quarkus Redis client. With Jedis, reconnection occurs automatically, and we have observed that the API&#39;s throughput has doubled since the implementation."}],"tags":[],"owner":{"account_id":28076825,"reputation":1,"user_id":21448533,"display_name":"gcharon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679409551,"creation_date":1679409551,"answer_id":75802593,"question_id":75665363,"body_markdown":"This error means that the Redis client couldn&#39;t get the master address for the endpoints you specified in your config and there is no more endpoint to use for that.\r\n\r\nYou use the host `sentinel` as a endpoint for Redis, is this available ?\r\n\r\nTry this : \r\n\r\n    redis-cli -h sentinel -p 5000 sentinel GET-MASTER-ADDR-BY-NAME mymaster\r\n\r\n`mymaster` is the name of the sentinel master. This is the default value for Quarkus.\r\n\r\nIt should work if your Quarkus config is OK. Maybe you will see a explicit error to help you.","title":"Quarkus redis client throwing error &#39;java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.&#39;","body":"<p>This error means that the Redis client couldn't get the master address for the endpoints you specified in your config and there is no more endpoint to use for that.</p>\n<p>You use the host <code>sentinel</code> as a endpoint for Redis, is this available ?</p>\n<p>Try this :</p>\n<pre><code>redis-cli -h sentinel -p 5000 sentinel GET-MASTER-ADDR-BY-NAME mymaster\n</code></pre>\n<p><code>mymaster</code> is the name of the sentinel master. This is the default value for Quarkus.</p>\n<p>It should work if your Quarkus config is OK. Maybe you will see a explicit error to help you.</p>\n"}],"owner":{"account_id":8736070,"reputation":533,"user_id":6534684,"display_name":"KVS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679547578,"creation_date":1678210247,"question_id":75665363,"body_markdown":"We&#39;re trying to move from standalone redis to redis High availability mode. However while load testing in dev environment we&#39;re receiving below error.\r\n\r\n```\r\n    level=ERROR time=&quot;07-03-2023 20:54:35&quot; traceId=&quot;5a65a85d2f6ccaa8&quot; logger=GlobalExceptionMapper message=&quot;GlobalExceptionMapper: java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\r\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\r\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\r\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\r\n        at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:672)\r\n        at io.quarkus.redis.client.RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.set(RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.zig:2298)\r\n        at &lt;package&gt;.services.SequenceService.isKeyPresentForDuplicityCheck(SequenceService.java:34)\r\n        at &lt;package&gt;.services.SequenceService_ClientProxy.isKeyPresentForDuplicityCheck(SequenceService_ClientProxy.zig:256)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl.createCustomerAccount(AccountsApiServiceImpl.java:128)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount$$superforward1(AccountsApiServiceImpl_Subclass.zig:197)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass$$function$$2.apply(AccountsApiServiceImpl_Subclass$$function$$2.zig:33)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:132)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:103)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:57)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(TransactionalInterceptorRequired_Bean.zig:340)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount(AccountsApiServiceImpl_Subclass.zig:404)\r\n        at &lt;package&gt;.services.AccountsApiServiceImpl_ClientProxy.createCustomerAccount(AccountsApiServiceImpl_ClientProxy.zig:659)\r\n        at &lt;package&gt;.resources.AccountsApi.createCustomerAccount(AccountsApi.java:48)\r\n        at &lt;package&gt;.resources.AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.invoke(AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.zig:39)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:7)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:829)\r\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\r\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\r\nCaused by: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\r\n```\r\n**How load testing is being performed?**\r\n\r\nWe&#39;re calling posting 30K requests from JMeter with below configuration. While the requests are being processed, we delete the redis master instance one by one (when the previously deleted pod is completely restarted). \r\nThe master redis instance is deleted using below command\r\n```kubectl -n &lt;namespace&gt; delete pod redis-0```\r\n\r\nSentinels are able to perform a complete failover when a master redis instance is deleted and a new redis master is selected. In most cases, a few requests are failed and after a short period of time new requests start executing successfully. However, for some cases, the Jmeter hangs for a while and then the error &#39;io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain&#39; is shown for every remaining request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**System Configuration**\r\n\r\nQuarkus Process which is connecting to redis\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAll the configuration are present in process&#39; application.properties file\r\n\r\nRedis\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSentinel\r\n[![enter image description here][4]][4]\r\n\r\n**Things we&#39;ve tried**\r\n - Tuning the quarkus redis parameters while load testing. We&#39;ve executed the load test about 20 times now with changes in redis paramters. All but 1 load tests have resulted in this issue\r\n - There is a way to reconnect on error in vertx redis client. Abandoned this approach as there was lot of code change involved to migrate to vertx redis client\r\n\r\n**Quarkus Process Details**\r\n\r\n - Traffic of ~300 tps is expected on this api\r\n - 1 pod was running in dev environment while load testing. In production, there are 5.\r\n - Quarkus version: &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;\r\n - Redis dependency\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n - Last time we observed this issue was when we provided incorrect connection string to sentinel\r\n - Redis configuration in the process. These values are overridden by the values in kubernetes deployment file\r\n```\r\nquarkus.redis.hosts=redis://sentinel:5000\r\nquarkus.redis.client-type=sentinel\r\nquarkus.redis.password=\r\nquarkus.redis.timeout=5S\r\nquarkus.redis.max-pool-size=50\r\nquarkus.redis.max-pool-waiting=5000\r\nquarkus.redis.pool-cleaner-interval=5S\r\nquarkus.redis.pool-recycle-timeout=5S\r\nquarkus.redis.reconnect-attempts=5\r\nquarkus.redis.reconnect-interval=30S\r\nquarkus.redis.max-waiting-handlers=20\r\n```\r\nI&#39;m seeking assistance on how to resolve this issue as I&#39;ve exhausted all ideas to resolve it. I would appreciate any guidance on the matter, including suggestions on load testing methods and configurations.\r\n\r\n**Update**\r\n\r\n 1. Tried load testing by crashing the redis master instances through liveness probe. Same issue observed again. After crashing the pods twice the error was thrown.\r\n\r\n 2. Added below parameters for load testing. Still facing the same error\r\n```\r\nquarkus.redis.timeout.connect=60_000\r\nquarkus.redis.timeout.read=70_000\r\nquarkus.redis.timeout.write=80_000\r\n```\r\nIncreased the timeout for redis\r\n```\r\nquarkus.redis.timeout=100S\r\n```\r\n\r\n3. Workaround done through Jedis library. This library reconnects to redis master automatically. There&#39;s probably some issue with quarkus redis client\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nS3eS.png\r\n  [2]: https://i.stack.imgur.com/1RkzM.png\r\n  [3]: https://i.stack.imgur.com/GqTGP.png\r\n  [4]: https://i.stack.imgur.com/1ZfQJ.png","title":"Quarkus redis client throwing error &#39;java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.&#39;","body":"<p>We're trying to move from standalone redis to redis High availability mode. However while load testing in dev environment we're receiving below error.</p>\n<pre><code>    level=ERROR time=&quot;07-03-2023 20:54:35&quot; traceId=&quot;5a65a85d2f6ccaa8&quot; logger=GlobalExceptionMapper message=&quot;GlobalExceptionMapper: java.util.concurrent.CompletionException: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.set(RedisClientImpl.java:672)\n        at io.quarkus.redis.client.RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.set(RedisClient_761b9a6e5f634178e3291b09c1921f229025da0c_Synthetic_ClientProxy.zig:2298)\n        at &lt;package&gt;.services.SequenceService.isKeyPresentForDuplicityCheck(SequenceService.java:34)\n        at &lt;package&gt;.services.SequenceService_ClientProxy.isKeyPresentForDuplicityCheck(SequenceService_ClientProxy.zig:256)\n        at &lt;package&gt;.services.AccountsApiServiceImpl.createCustomerAccount(AccountsApiServiceImpl.java:128)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount$$superforward1(AccountsApiServiceImpl_Subclass.zig:197)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass$$function$$2.apply(AccountsApiServiceImpl_Subclass$$function$$2.zig:33)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:132)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:103)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:57)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(TransactionalInterceptorRequired_Bean.zig:340)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_Subclass.createCustomerAccount(AccountsApiServiceImpl_Subclass.zig:404)\n        at &lt;package&gt;.services.AccountsApiServiceImpl_ClientProxy.createCustomerAccount(AccountsApiServiceImpl_ClientProxy.zig:659)\n        at &lt;package&gt;.resources.AccountsApi.createCustomerAccount(AccountsApi.java:48)\n        at &lt;package&gt;.resources.AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.invoke(AccountsApi$quarkusrestinvoker$createCustomerAccount_0b915408532d6a09a8c6a63ae490a49fe854ecb6.zig:39)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:7)\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:829)\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\nCaused by: io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain.\n</code></pre>\n<p><strong>How load testing is being performed?</strong></p>\n<p>We're calling posting 30K requests from JMeter with below configuration. While the requests are being processed, we delete the redis master instance one by one (when the previously deleted pod is completely restarted).\nThe master redis instance is deleted using below command\n<code>kubectl -n &lt;namespace&gt; delete pod redis-0</code></p>\n<p>Sentinels are able to perform a complete failover when a master redis instance is deleted and a new redis master is selected. In most cases, a few requests are failed and after a short period of time new requests start executing successfully. However, for some cases, the Jmeter hangs for a while and then the error 'io.vertx.core.impl.NoStackTraceThrowable: No more endpoints in chain' is shown for every remaining request.</p>\n<p><a href=\"https://i.stack.imgur.com/nS3eS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nS3eS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>System Configuration</strong></p>\n<p>Quarkus Process which is connecting to redis</p>\n<p><a href=\"https://i.stack.imgur.com/1RkzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RkzM.png\" alt=\"enter image description here\" /></a></p>\n<p>All the configuration are present in process' application.properties file</p>\n<p>Redis\n<a href=\"https://i.stack.imgur.com/GqTGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GqTGP.png\" alt=\"enter image description here\" /></a></p>\n<p>Sentinel\n<a href=\"https://i.stack.imgur.com/1ZfQJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZfQJ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Things we've tried</strong></p>\n<ul>\n<li>Tuning the quarkus redis parameters while load testing. We've executed the load test about 20 times now with changes in redis paramters. All but 1 load tests have resulted in this issue</li>\n<li>There is a way to reconnect on error in vertx redis client. Abandoned this approach as there was lot of code change involved to migrate to vertx redis client</li>\n</ul>\n<p><strong>Quarkus Process Details</strong></p>\n<ul>\n<li>Traffic of ~300 tps is expected on this api</li>\n<li>1 pod was running in dev environment while load testing. In production, there are 5.</li>\n<li>Quarkus version: &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;</li>\n<li>Redis dependency</li>\n</ul>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Last time we observed this issue was when we provided incorrect connection string to sentinel</li>\n<li>Redis configuration in the process. These values are overridden by the values in kubernetes deployment file</li>\n</ul>\n<pre><code>quarkus.redis.hosts=redis://sentinel:5000\nquarkus.redis.client-type=sentinel\nquarkus.redis.password=\nquarkus.redis.timeout=5S\nquarkus.redis.max-pool-size=50\nquarkus.redis.max-pool-waiting=5000\nquarkus.redis.pool-cleaner-interval=5S\nquarkus.redis.pool-recycle-timeout=5S\nquarkus.redis.reconnect-attempts=5\nquarkus.redis.reconnect-interval=30S\nquarkus.redis.max-waiting-handlers=20\n</code></pre>\n<p>I'm seeking assistance on how to resolve this issue as I've exhausted all ideas to resolve it. I would appreciate any guidance on the matter, including suggestions on load testing methods and configurations.</p>\n<p><strong>Update</strong></p>\n<ol>\n<li><p>Tried load testing by crashing the redis master instances through liveness probe. Same issue observed again. After crashing the pods twice the error was thrown.</p>\n</li>\n<li><p>Added below parameters for load testing. Still facing the same error</p>\n</li>\n</ol>\n<pre><code>quarkus.redis.timeout.connect=60_000\nquarkus.redis.timeout.read=70_000\nquarkus.redis.timeout.write=80_000\n</code></pre>\n<p>Increased the timeout for redis</p>\n<pre><code>quarkus.redis.timeout=100S\n</code></pre>\n<ol start=\"3\">\n<li>Workaround done through Jedis library. This library reconnects to redis master automatically. There's probably some issue with quarkus redis client</li>\n</ol>\n"},{"tags":["java","exception","methods","try-catch","evaluation"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1679486293,"post_id":75811907,"comment_id":133729747,"body_markdown":"A structure where an &#39;evaluator&#39; extends an exception thrown by the evaluator is broken to start with.  In what sense is the evaluator an object to be thrown?","body":"A structure where an &#39;evaluator&#39; extends an exception thrown by the evaluator is broken to start with.  In what sense is the evaluator an object to be thrown?"},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1679486465,"post_id":75811907,"comment_id":133729792,"body_markdown":"@undefinedsymbol going to be honest i am not sure an i thought that was the best course of action. i have no clue what to do here i have been stuck for a long time on just this.","body":"@undefinedsymbol going to be honest i am not sure an i thought that was the best course of action. i have no clue what to do here i have been stuck for a long time on just this."}],"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679547209,"creation_date":1679485914,"question_id":75811907,"body_markdown":"What i need help on is being able to print out LispExpressionEvaluatorException and LispExpressionException. i tried adding a catch block to evaluate method but it does not seem to be working. i am not sure where i am going wrong the other test are working but only last 3 questions seem to be errors. any help would be greatly appreciated. \r\n\r\n        package PJ2;\r\n    import java.util.*;\r\n    public class LispExpressionEvaluator extends LispExpressionEvaluatorException\r\n    {\r\n    \t// Current input Lisp expression\r\n    \tprivate String currentExpression;\r\n    \r\n    \t// Main expression stack, see algorithm in evaluate()\r\n    \tprivate Stack&lt;Object&gt; inputExprStack;\r\n    \tprivate Stack&lt;Double&gt; evaluationStack;\r\n    \tpublic LispExpressionEvaluator() {\r\n    \t\t currentExpression = &quot;&quot;;\r\n    \t\t inputExprStack = new Stack&lt;Object&gt;();\r\n    \t\t evaluationStack = new Stack&lt;Double&gt;();\r\n    \t\t//Stack&lt;Object&gt; inputExprStack = new Stack&lt;Object&gt;();\r\n    \t\t//Stack &lt;Double&gt; newEvaluationStack = new Stack&lt;Double&gt;();\r\n    \t}\r\n    \tpublic LispExpressionEvaluator(String inputExpression) {\r\n    \t\tif(inputExpression == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();\r\n    \t\t}\r\n    \t\tcurrentExpression = inputExpression;\r\n    \t\tinputExprStack = new Stack&lt;Object&gt;();\r\n    \t\tevaluationStack = new Stack&lt;Double&gt;();\r\n    \t}\r\n    \tpublic void reset(String inputExpression){\r\n    \t\tif(inputExpression == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();}\r\n    \t\tcurrentExpression = inputExpression;\r\n    \t\t//not pop\r\n    \t\tinputExprStack.clear();\r\n    \t\tevaluationStack.clear();\r\n    \t}\r\n    \t// This function evaluates current operator with its operands\r\n    \t// See complete algorithm in evaluate()\r\n    \t//\r\n    \t// Main Steps:\r\n    \t// Pop operands from allTokensStack and push them onto\r\n    \t// currentOperandsStack until you find an operator\r\n    \t// Apply the operator to the operands on currentOperandsStack\r\n    \t// Push the result into allTokensStack\r\n    \tprivate void solveCurrentParenthesisOperation() {\r\n    \r\n    \r\n    \t\tboolean isNumber = true;\r\n    \t\tdouble endResult = 0;\r\n    \t\tif(inputExprStack == null) {\r\n    \t\t\tthrow new LispExpressionEvaluatorException();}\r\n    \t\tString click = &quot;&quot;;\r\n    \t\twhile (isNumber) {\r\n    \t\t\tif (!inputExprStack.empty()) {\r\n    \t\t\t\tclick = String.valueOf(inputExprStack.pop());\r\n    \t\t\t} else {\r\n    \t\t\t\tisNumber = false;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tDouble number = Double.parseDouble(click);\r\n    \t\t\t\tevaluationStack.push(number);\r\n    \t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\tisNumber = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (evaluationStack.size() == 0)\r\n    \t\t\treturn;\r\n    \t\tswitch (click) {\r\n    \t\t\tcase &quot;+&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult +=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t\tcase &quot;-&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tif(evaluationStack.size() == 0){\r\n    \t\t\t\t\tendResult = -endResult;\r\n    \t\t\t\t}\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult -=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;*&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult *=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;/&quot;:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tif(evaluationStack.size() == 0 &amp;&amp; endResult != 0){\r\n    \t\t\t\t\tendResult = 1.0/endResult;\r\n    \t\t\t\t}\r\n    \t\t\t\twhile (!evaluationStack.empty()){\r\n    \t\t\t\t\tendResult /=evaluationStack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault:\r\n    \t\t\t\tendResult = evaluationStack.pop();\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \r\n    \r\n    \t\tinputExprStack.push(endResult);\r\n    \t\tSystem.out.println(endResult + &quot; line 165&quot;);\r\n    \t}\r\n    \t/**\r\n    \t * This funtion evaluates current Lisp expression in currentExpression\r\n    \t * It return result of the expression\r\n    \t *\r\n    \t * The algorithm:\r\n    \t *\r\n    \t * Step 1 Scan the tokens in the string.\r\n    \t * Step 2 If you see an operand, push operand object onto the allTokensStack\r\n    \t * Step 3 If you see &quot;(&quot;, next token should be an operator\r\n    \t * Step 4 If you see an operator, push operator object onto the allTokensStack\r\n    \t * Step 5 If you see &quot;)&quot; // steps in solveCurrentParenthesisOperation() :\r\n    \t * Step 6 Pop operands and push them onto currentOperandsStack\r\n    \t * until you find an operator\r\n    \t * Step 7 Apply the operator to the operands on currentOperandsStack\r\n    \t * Step 8 Push the result into allTokensStack\r\n    \t * Step 9 If you run out of tokens, the value on the top of allTokensStack is\r\n    \t * the result of the expression.\r\n    \t */\r\n    \tpublic double evaluate() {\r\n    \t\t\t// use scanner to tokenize currentExpression\r\n    \r\n    \t\t\tScanner currentExpressionScanner = new Scanner(currentExpression);\r\n    \t\t\tcurrentExpressionScanner = currentExpressionScanner.useDelimiter(&quot;\\\\s*&quot;);\r\n    \t\t\t//inputExprStack.push(&#39;(&#39;);\r\n    \t\t\tif (inputExprStack == null) {\r\n    \t\t\t\tthrow new LispExpressionEvaluatorException();\r\n    \t\t\t}\r\n    \t\t\twhile (currentExpressionScanner.hasNext()) {\r\n    \t\t\t\tif (currentExpressionScanner.hasNextInt()) {\r\n    \t\t\t\t\tString dataString = currentExpressionScanner.findInLine(&quot;\\\\d+&quot;);\r\n    \t\t\t\t\tinputExprStack.push(Double.parseDouble(dataString));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// Get next token, only one char in string token\r\n    \t\t\t\t\tString aToken = currentExpressionScanner.next();\r\n    \t\t\t\t\tchar item = aToken.charAt(0);\r\n    \r\n    \t\t\t\t\tswitch (item) {\r\n    \t\t\t\t\t\tcase &#39;(&#39;:\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;+&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;+&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;-&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;-&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;*&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;*&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;/&#39;:\r\n    \t\t\t\t\t\t\tinputExprStack.push(&#39;/&#39;);\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tcase &#39;)&#39;:\r\n    \t\t\t\t\t\t\tsolveCurrentParenthesisOperation();\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\tdefault: // error\r\n    \t\t\t\t\t\t\tthrow new LispExpressionEvaluator(item + &quot; is not a legal expression operator&quot;);\r\n    \t\t\t\t\t} // end switch\r\n    \t\t\t\t} // end else\r\n    \t\t\t} // end while\r\n    \t\t\t// Push a &#39;)&#39; onto the inputExprStack to balance the &#39;(&#39;\r\n    \t\t\t//inputExprStack.push(&#39;)&#39;);\r\n    \r\n    \t\t\t// process remaining operators in inputExprStack\r\n    \r\n    \t\t\treturn Double.parseDouble(String.valueOf(inputExprStack.pop()));\r\n    \r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \r\n        //=====================================================================\r\n        // DO NOT MODIFY ANY STATEMENTS BELOW\r\n        //=====================================================================\r\n    \r\n        \r\n        // This static method is used by main() only\r\n        private static void evaluateExprTest(String s, LispExpressionEvaluator expr, String expect)\r\n        {\r\n            Double result;\r\n            System.out.println(&quot;Expression &quot; + s);\r\n            System.out.printf(&quot;Expected result : %s\\n&quot;, expect);\r\n    \texpr.reset(s);\r\n            try {\r\n               result = expr.evaluate();\r\n               System.out.printf(&quot;Evaluated result : %.2f\\n&quot;, result);\r\n            }\r\n            catch (LispExpressionEvaluatorException e) {\r\n                System.out.println(&quot;Evaluated result :&quot;+e);\r\n            }\r\n            \r\n            System.out.println(&quot;-----------------------------&quot;);\r\n        }\r\n    \r\n        // define few test cases, exception may happen\r\n        public static void main (String args[])\r\n        {\r\n            LispExpressionEvaluator expr= new LispExpressionEvaluator();\r\n            String test1 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ 0))&quot;;\r\n            String test2 = &quot;(+ (- 632) (* 21 3 4) (/ (+ 32) (* 1) (- 21 3 1)) (+ 0))&quot;;\r\n            String test3 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 1) (- 2 1 )) (/ 1))&quot;;\r\n            String test4 = &quot;(+ (/2)(+ 1))&quot;;\r\n            String test5 = &quot;(+ (/2 3 0))&quot;;\r\n            String test6 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 3) (- 2 1 ))))&quot;;\r\n            String test7 = &quot;(+ (*))&quot;;\r\n            String test8 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ ))&quot;;\r\n    \r\n    \tevaluateExprTest(test1, expr, &quot;16.50&quot;);\r\n    \tevaluateExprTest(test2, expr, &quot;-378.12&quot;);\r\n    \tevaluateExprTest(test3, expr, &quot;4.50&quot;);\r\n    \tevaluateExprTest(test4, expr, &quot;1.50&quot;);\r\n    \tevaluateExprTest(test5, expr, &quot;Infinity or LispExpressionEvaluatorException&quot;);\r\n    \tevaluateExprTest(test6, expr, &quot;LispExpressionEvaluatorException&quot;);\r\n    \tevaluateExprTest(test7, expr, &quot;LispExpressionException&quot;);\r\n    \tevaluateExprTest(test8, expr, &quot;LispExpressionException&quot;);\r\n        }\r\n    }\r\n\r\nthis is the Exception method.\r\n\r\n\r\n\r\n    package PJ2;\r\n    \r\n    public class LispExpressionEvaluatorException extends RuntimeException\r\n    {\r\n        public LispExpressionEvaluatorException()\r\n        {\r\n    \tthis(&quot;&quot;);\r\n        }\r\n    \r\n        public LispExpressionEvaluatorException(String errorMsg) \r\n        {\r\n    \tsuper(errorMsg);\r\n        }\r\n    \r\n    }\r\n\r\nwhile this is the porject.iml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\r\n      &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\r\n        &lt;exclude-output /&gt;\r\n        &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n          &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\r\n        &lt;/content&gt;\r\n        &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n        &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n      &lt;/component&gt;\r\n    &lt;/module&gt;\r\n\r\n","title":"lisp expression evaluator need help in find out how to return LispExpressionException, and LispExpressionEvaluatorException","body":"<p>What i need help on is being able to print out LispExpressionEvaluatorException and LispExpressionException. i tried adding a catch block to evaluate method but it does not seem to be working. i am not sure where i am going wrong the other test are working but only last 3 questions seem to be errors. any help would be greatly appreciated.</p>\n<pre><code>    package PJ2;\nimport java.util.*;\npublic class LispExpressionEvaluator extends LispExpressionEvaluatorException\n{\n    // Current input Lisp expression\n    private String currentExpression;\n\n    // Main expression stack, see algorithm in evaluate()\n    private Stack&lt;Object&gt; inputExprStack;\n    private Stack&lt;Double&gt; evaluationStack;\n    public LispExpressionEvaluator() {\n         currentExpression = &quot;&quot;;\n         inputExprStack = new Stack&lt;Object&gt;();\n         evaluationStack = new Stack&lt;Double&gt;();\n        //Stack&lt;Object&gt; inputExprStack = new Stack&lt;Object&gt;();\n        //Stack &lt;Double&gt; newEvaluationStack = new Stack&lt;Double&gt;();\n    }\n    public LispExpressionEvaluator(String inputExpression) {\n        if(inputExpression == null) {\n            throw new LispExpressionEvaluatorException();\n        }\n        currentExpression = inputExpression;\n        inputExprStack = new Stack&lt;Object&gt;();\n        evaluationStack = new Stack&lt;Double&gt;();\n    }\n    public void reset(String inputExpression){\n        if(inputExpression == null) {\n            throw new LispExpressionEvaluatorException();}\n        currentExpression = inputExpression;\n        //not pop\n        inputExprStack.clear();\n        evaluationStack.clear();\n    }\n    // This function evaluates current operator with its operands\n    // See complete algorithm in evaluate()\n    //\n    // Main Steps:\n    // Pop operands from allTokensStack and push them onto\n    // currentOperandsStack until you find an operator\n    // Apply the operator to the operands on currentOperandsStack\n    // Push the result into allTokensStack\n    private void solveCurrentParenthesisOperation() {\n\n\n        boolean isNumber = true;\n        double endResult = 0;\n        if(inputExprStack == null) {\n            throw new LispExpressionEvaluatorException();}\n        String click = &quot;&quot;;\n        while (isNumber) {\n            if (!inputExprStack.empty()) {\n                click = String.valueOf(inputExprStack.pop());\n            } else {\n                isNumber = false;\n                break;\n            }\n            try {\n                Double number = Double.parseDouble(click);\n                evaluationStack.push(number);\n            } catch (NumberFormatException e) {\n                isNumber = false;\n            }\n        }\n        if (evaluationStack.size() == 0)\n            return;\n        switch (click) {\n            case &quot;+&quot;:\n                endResult = evaluationStack.pop();\n                while (!evaluationStack.empty()){\n                    endResult +=evaluationStack.pop();\n                }\n            break;\n            case &quot;-&quot;:\n                endResult = evaluationStack.pop();\n                if(evaluationStack.size() == 0){\n                    endResult = -endResult;\n                }\n                while (!evaluationStack.empty()){\n                    endResult -=evaluationStack.pop();\n                }\n\n                break;\n            case &quot;*&quot;:\n                endResult = evaluationStack.pop();\n                while (!evaluationStack.empty()){\n                    endResult *=evaluationStack.pop();\n                }\n                break;\n            case &quot;/&quot;:\n                endResult = evaluationStack.pop();\n                if(evaluationStack.size() == 0 &amp;&amp; endResult != 0){\n                    endResult = 1.0/endResult;\n                }\n                while (!evaluationStack.empty()){\n                    endResult /=evaluationStack.pop();\n                }\n                break;\n\n                default:\n                endResult = evaluationStack.pop();\n                break;\n        }\n\n\n        inputExprStack.push(endResult);\n        System.out.println(endResult + &quot; line 165&quot;);\n    }\n    /**\n     * This funtion evaluates current Lisp expression in currentExpression\n     * It return result of the expression\n     *\n     * The algorithm:\n     *\n     * Step 1 Scan the tokens in the string.\n     * Step 2 If you see an operand, push operand object onto the allTokensStack\n     * Step 3 If you see &quot;(&quot;, next token should be an operator\n     * Step 4 If you see an operator, push operator object onto the allTokensStack\n     * Step 5 If you see &quot;)&quot; // steps in solveCurrentParenthesisOperation() :\n     * Step 6 Pop operands and push them onto currentOperandsStack\n     * until you find an operator\n     * Step 7 Apply the operator to the operands on currentOperandsStack\n     * Step 8 Push the result into allTokensStack\n     * Step 9 If you run out of tokens, the value on the top of allTokensStack is\n     * the result of the expression.\n     */\n    public double evaluate() {\n            // use scanner to tokenize currentExpression\n\n            Scanner currentExpressionScanner = new Scanner(currentExpression);\n            currentExpressionScanner = currentExpressionScanner.useDelimiter(&quot;\\\\s*&quot;);\n            //inputExprStack.push('(');\n            if (inputExprStack == null) {\n                throw new LispExpressionEvaluatorException();\n            }\n            while (currentExpressionScanner.hasNext()) {\n                if (currentExpressionScanner.hasNextInt()) {\n                    String dataString = currentExpressionScanner.findInLine(&quot;\\\\d+&quot;);\n                    inputExprStack.push(Double.parseDouble(dataString));\n                } else {\n                    // Get next token, only one char in string token\n                    String aToken = currentExpressionScanner.next();\n                    char item = aToken.charAt(0);\n\n                    switch (item) {\n                        case '(':\n                            break;\n                        case '+':\n                            inputExprStack.push('+');\n                            break;\n                        case '-':\n                            inputExprStack.push('-');\n                            break;\n                        case '*':\n                            inputExprStack.push('*');\n                            break;\n                        case '/':\n                            inputExprStack.push('/');\n                            break;\n                        case ')':\n                            solveCurrentParenthesisOperation();\n                            break;\n                        default: // error\n                            throw new LispExpressionEvaluator(item + &quot; is not a legal expression operator&quot;);\n                    } // end switch\n                } // end else\n            } // end while\n            // Push a ')' onto the inputExprStack to balance the '('\n            //inputExprStack.push(')');\n\n            // process remaining operators in inputExprStack\n\n            return Double.parseDouble(String.valueOf(inputExprStack.pop()));\n\n        }\n\n\n\n\n    //=====================================================================\n    // DO NOT MODIFY ANY STATEMENTS BELOW\n    //=====================================================================\n\n    \n    // This static method is used by main() only\n    private static void evaluateExprTest(String s, LispExpressionEvaluator expr, String expect)\n    {\n        Double result;\n        System.out.println(&quot;Expression &quot; + s);\n        System.out.printf(&quot;Expected result : %s\\n&quot;, expect);\n    expr.reset(s);\n        try {\n           result = expr.evaluate();\n           System.out.printf(&quot;Evaluated result : %.2f\\n&quot;, result);\n        }\n        catch (LispExpressionEvaluatorException e) {\n            System.out.println(&quot;Evaluated result :&quot;+e);\n        }\n        \n        System.out.println(&quot;-----------------------------&quot;);\n    }\n\n    // define few test cases, exception may happen\n    public static void main (String args[])\n    {\n        LispExpressionEvaluator expr= new LispExpressionEvaluator();\n        String test1 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ 0))&quot;;\n        String test2 = &quot;(+ (- 632) (* 21 3 4) (/ (+ 32) (* 1) (- 21 3 1)) (+ 0))&quot;;\n        String test3 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 1) (- 2 1 )) (/ 1))&quot;;\n        String test4 = &quot;(+ (/2)(+ 1))&quot;;\n        String test5 = &quot;(+ (/2 3 0))&quot;;\n        String test6 = &quot;(+ (/ 2) (* 2) (/ (+ 1) (+ 3) (- 2 1 ))))&quot;;\n        String test7 = &quot;(+ (*))&quot;;\n        String test8 = &quot;(+ (- 6) (* 2 3 4) (/ (+ 3) (* 1) (- 2 3 1)) (+ ))&quot;;\n\n    evaluateExprTest(test1, expr, &quot;16.50&quot;);\n    evaluateExprTest(test2, expr, &quot;-378.12&quot;);\n    evaluateExprTest(test3, expr, &quot;4.50&quot;);\n    evaluateExprTest(test4, expr, &quot;1.50&quot;);\n    evaluateExprTest(test5, expr, &quot;Infinity or LispExpressionEvaluatorException&quot;);\n    evaluateExprTest(test6, expr, &quot;LispExpressionEvaluatorException&quot;);\n    evaluateExprTest(test7, expr, &quot;LispExpressionException&quot;);\n    evaluateExprTest(test8, expr, &quot;LispExpressionException&quot;);\n    }\n}\n</code></pre>\n<p>this is the Exception method.</p>\n<pre><code>package PJ2;\n\npublic class LispExpressionEvaluatorException extends RuntimeException\n{\n    public LispExpressionEvaluatorException()\n    {\n    this(&quot;&quot;);\n    }\n\n    public LispExpressionEvaluatorException(String errorMsg) \n    {\n    super(errorMsg);\n    }\n\n}\n</code></pre>\n<p>while this is the porject.iml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;\n  &lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;\n    &lt;exclude-output /&gt;\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src&quot; isTestSource=&quot;false&quot; /&gt;\n    &lt;/content&gt;\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n"},{"tags":["java","android","android-room","dao"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1679547063,"post_id":75818602,"comment_id":133742160,"body_markdown":"`AsyncTask` is deprecated. You&#39;d consider executors instead. The `delete` method returns synchronously, so it doesn&#39;t return the actual needed result; You need a sort of listener instead","body":"<code>AsyncTask</code> is deprecated. You&#39;d consider executors instead. The <code>delete</code> method returns synchronously, so it doesn&#39;t return the actual needed result; You need a sort of listener instead"},{"owner":{"account_id":26944978,"reputation":5,"user_id":20515107,"display_name":"RFlores"},"score":0,"creation_date":1679554490,"post_id":75818602,"comment_id":133743101,"body_markdown":"Thanks for the tip I found the solution and implemented the executors instead of Async using this\n\npublic int delete(Users user) throws ExecutionException, InterruptedException {\n        Callable&lt;Integer&gt; deleteCallable = new Callable&lt;Integer&gt;() {\n            @Override\n            public Integer call() throws Exception {\n                return sqlite_room_dao.delete(user.getUsername());\n            }\n        };\n        Future&lt;Integer&gt; future = Executors.newSingleThreadExecutor().submit(deleteCallable);\n        return future.get();\n    }","body":"Thanks for the tip I found the solution and implemented the executors instead of Async using this  public int delete(Users user) throws ExecutionException, InterruptedException {         Callable&lt;Integer&gt; deleteCallable = new Callable&lt;Integer&gt;() {             @Override             public Integer call() throws Exception {                 return sqlite_room_dao.delete(user.getUsername());             }         };         Future&lt;Integer&gt; future = Executors.newSingleThreadExecutor().submit(deleteCallable);         return future.get();     }"}],"owner":{"account_id":26944978,"reputation":5,"user_id":20515107,"display_name":"RFlores"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679546794,"creation_date":1679535480,"question_id":75818602,"body_markdown":" I keep getting an else statement whenever I press btnDelete.\r\n\r\n    `// SQLITE_ROOM_DAO interface\r\n    @Delete\r\n    int delete(Users user);\r\n\r\n    // UserRepo class\r\n    public int delete(Users user) throws ExecutionException, InterruptedException {\r\n        int result = new DeleteUserAsyncTask(sqlite_room_dao).execute(user).get();\r\n        return result;\r\n    }\r\n\r\n    private static class DeleteUserAsyncTask extends AsyncTask&lt;Users, Void, Integer&gt; {\r\n        private SQLITE_ROOM_DAO sqlite_room_dao;\r\n\r\n        private DeleteUserAsyncTask(SQLITE_ROOM_DAO sqlite_room_dao) {\r\n            this.sqlite_room_dao = sqlite_room_dao;\r\n        }\r\n\r\n        @Override\r\n        protected Integer doInBackground(Users... users) {\r\n\r\n            return sqlite_room_dao.delete(users[0]);\r\n        }\r\n    }\r\n\r\n    // UserViewModel class\r\n    public int delete(Users users) throws ExecutionException, InterruptedException {\r\n        logger.LogError(TAG, &quot;Delete&quot;, logger.jsonConverter(users));\r\n        return userRepo.delete(users);\r\n    }\r\n\r\n    //MainActivity\r\n    btnDelete.setOnClickListener(view -&gt; {\r\n        UserViewModel userViewModel = new ViewModelProvider(this).get(UserViewModel.class);\r\n        Users user = new Users(0, &quot;kylomiguel&quot;, &quot;44&quot;, &quot;44&quot;);\r\n\r\n        try {\r\n            int result = userViewModel.delete(user);\r\n            if (result &gt; 0) {\r\n                logger.LogError(tag, &quot;Delete&quot;, &quot;success&quot;);\r\n            } else {\r\n                logger.LogError(tag, &quot;Delete&quot;, &quot;failed&quot;);\r\n            }\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    });`\r\n\r\nI tried to remove try catch but I&#39;m receiving error: Unhandled exceptions: java.util.concurrent.ExecutionException, java.lang.InterruptedException\r\n\r\nWhat or where is my bug come from\r\nTYIA.","title":"btnDelete throws else statement delete Method using DAO","body":"<p>I keep getting an else statement whenever I press btnDelete.</p>\n<pre><code>`// SQLITE_ROOM_DAO interface\n@Delete\nint delete(Users user);\n\n// UserRepo class\npublic int delete(Users user) throws ExecutionException, InterruptedException {\n    int result = new DeleteUserAsyncTask(sqlite_room_dao).execute(user).get();\n    return result;\n}\n\nprivate static class DeleteUserAsyncTask extends AsyncTask&lt;Users, Void, Integer&gt; {\n    private SQLITE_ROOM_DAO sqlite_room_dao;\n\n    private DeleteUserAsyncTask(SQLITE_ROOM_DAO sqlite_room_dao) {\n        this.sqlite_room_dao = sqlite_room_dao;\n    }\n\n    @Override\n    protected Integer doInBackground(Users... users) {\n\n        return sqlite_room_dao.delete(users[0]);\n    }\n}\n\n// UserViewModel class\npublic int delete(Users users) throws ExecutionException, InterruptedException {\n    logger.LogError(TAG, &quot;Delete&quot;, logger.jsonConverter(users));\n    return userRepo.delete(users);\n}\n\n//MainActivity\nbtnDelete.setOnClickListener(view -&gt; {\n    UserViewModel userViewModel = new ViewModelProvider(this).get(UserViewModel.class);\n    Users user = new Users(0, &quot;kylomiguel&quot;, &quot;44&quot;, &quot;44&quot;);\n\n    try {\n        int result = userViewModel.delete(user);\n        if (result &gt; 0) {\n            logger.LogError(tag, &quot;Delete&quot;, &quot;success&quot;);\n        } else {\n            logger.LogError(tag, &quot;Delete&quot;, &quot;failed&quot;);\n        }\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n});`\n</code></pre>\n<p>I tried to remove try catch but I'm receiving error: Unhandled exceptions: java.util.concurrent.ExecutionException, java.lang.InterruptedException</p>\n<p>What or where is my bug come from\nTYIA.</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"score":0,"creation_date":1316600122,"post_id":7498030,"comment_id":9077869,"body_markdown":"possible duplicate of [Building an absolute URL from a relative URL in Java servlet](http://stackoverflow.com/questions/1389184/building-an-absolute-url-from-a-relative-url-in-java-servlet)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1389184/building-an-absolute-url-from-a-relative-url-in-java-servlet\">Building an absolute URL from a relative URL in Java servlet</a>"},{"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"score":0,"creation_date":1501296194,"post_id":7498030,"comment_id":77730683,"body_markdown":"It seems there is no simple solution. Either URL or URI class doesn&#39;t support this. Apache HttpClient also doesn&#39;t have support for this.","body":"It seems there is no simple solution. Either URL or URI class doesn&#39;t support this. Apache HttpClient also doesn&#39;t have support for this."}],"answers":[{"comments":[{"owner":{"account_id":3050299,"reputation":127,"user_id":2585038,"display_name":"user2585038"},"score":29,"creation_date":1381771512,"post_id":7498118,"comment_id":58776129,"body_markdown":"&quot;URL has a constructor that takes a base URL and a String spec.&quot; - Not helpful. URL url1 = new URL(&quot;http://petstore.swagger.wordnik.com/api/api-docs&quot;); URL url2 = new URL(url1, &quot;/pet&quot;); System.out.println(url2.toString()) gives you: http://petstore.swagger.wordnik.com/pet, not http://petstore.swagger.wordnik.com/api/api-docs/pet","body":"&quot;URL has a constructor that takes a base URL and a String spec.&quot; - Not helpful. URL url1 = new URL(&quot;<a href=\"http://petstore.swagger.wordnik.com/api/api-docs&quot;\" rel=\"nofollow noreferrer\">petstore.swagger.wordnik.com/api/api-docs&quot;</a>); URL url2 = new URL(url1, &quot;/pet&quot;); System.out.println(url2.toString()) gives you: <a href=\"http://petstore.swagger.wordnik.com/pet\" rel=\"nofollow noreferrer\">petstore.swagger.wordnik.com/pet</a>, not <a href=\"http://petstore.swagger.wordnik.com/api/api-docs/pet\" rel=\"nofollow noreferrer\">petstore.swagger.wordnik.com/api/api-docs/pet</a>"},{"owner":{"account_id":174683,"reputation":28348,"user_id":404201,"accept_rate":90,"display_name":"Jasper Blues"},"score":2,"creation_date":1452144686,"post_id":7498118,"comment_id":57041442,"body_markdown":"For benefit of others: The first URL constructor method didn&#39;t work quite the way that I expected it to (rtfm, eh?). Only the non-path portion of the baseURL is used.","body":"For benefit of others: The first URL constructor method didn&#39;t work quite the way that I expected it to (rtfm, eh?). Only the non-path portion of the baseURL is used."},{"owner":{"account_id":1203761,"reputation":2025,"user_id":1173911,"display_name":"harsel"},"score":10,"creation_date":1466498450,"post_id":7498118,"comment_id":63328040,"body_markdown":"@user2585038: The second parameter must not start with a slash. The slash indicates an &quot;absolute&quot; link, thus the path of url1 is discarded.","body":"@user2585038: The second parameter must not start with a slash. The slash indicates an &quot;absolute&quot; link, thus the path of url1 is discarded."},{"owner":{"account_id":56752,"reputation":5665,"user_id":170013,"accept_rate":81,"display_name":"Ittai"},"score":2,"creation_date":1476303421,"post_id":7498118,"comment_id":67293169,"body_markdown":"URI resolve actually only works by mistake here. see @Christoph Henkelmann&#39;s answer from below","body":"URI resolve actually only works by mistake here. see @Christoph Henkelmann&#39;s answer from below"},{"owner":{"account_id":152915,"reputation":5676,"user_id":367796,"accept_rate":59,"display_name":"steinybot"},"score":2,"creation_date":1503528481,"post_id":7498118,"comment_id":78659032,"body_markdown":"As @user2585038 mentioned this answer does not take into account section 5.2 (6a) from [RFC2396](https://www.ietf.org/rfc/rfc2396.txt) which states: &quot;All but the last segment of the base URI&#39;s path component is copied to the buffer.  In other words, any characters after the last (right-most) slash character, if any, are excluded.&quot; This IMO makes URI resolving unusable in the majority of cases, including that of the OP.","body":"As @user2585038 mentioned this answer does not take into account section 5.2 (6a) from <a href=\"https://www.ietf.org/rfc/rfc2396.txt\" rel=\"nofollow noreferrer\">RFC2396</a> which states: &quot;All but the last segment of the base URI&#39;s path component is copied to the buffer.  In other words, any characters after the last (right-most) slash character, if any, are excluded.&quot; This IMO makes URI resolving unusable in the majority of cases, including that of the OP."},{"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"score":1,"creation_date":1610128632,"post_id":7498118,"comment_id":116043821,"body_markdown":"`URI.create(base).resolve(rest).toURL()` is the simplest way to get this done, without caring about duplicated `/` in between","body":"<code>URI.create(base).resolve(rest).toURL()</code> is the simplest way to get this done, without caring about duplicated <code>&#47;</code> in between"},{"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"score":0,"creation_date":1638445953,"post_id":7498118,"comment_id":124092650,"body_markdown":"`URI.resolve` has some very nasty edge cases `new URI(&quot;http://localhost:80&quot;).resolve(&quot;foo&quot;)` =&gt; `&quot;http://localhost:80foo&quot;`\n`new URI(&quot;http://localhost:80&quot;).resolve(&quot;//foo&quot;)` =&gt; `&quot;http://foo&quot;`\n`new URI(&quot;http://localhost:80&quot;).resolve(&quot;.//foo&quot;)`=&gt; `&quot;http://foo&quot;`","body":"<code>URI.resolve</code> has some very nasty edge cases <code>new URI(&quot;http:&#47;&#47;localhost:80&quot;).resolve(&quot;foo&quot;)</code> =&gt; <code>&quot;http:&#47;&#47;localhost:80foo&quot;</code> <code>new URI(&quot;http:&#47;&#47;localhost:80&quot;).resolve(&quot;&#47;&#47;foo&quot;)</code> =&gt; <code>&quot;http:&#47;&#47;foo&quot;</code> <code>new URI(&quot;http:&#47;&#47;localhost:80&quot;).resolve(&quot;.&#47;&#47;foo&quot;)</code>=&gt; <code>&quot;http:&#47;&#47;foo&quot;</code>"}],"tags":[],"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"comment_count":7,"down_vote_count":15,"up_vote_count":52,"is_accepted":true,"score":37,"last_activity_date":1554095482,"creation_date":1316600118,"answer_id":7498118,"question_id":7498030,"body_markdown":"&lt;del&gt;`URL` has a [constructor][1] that takes a base `URL` and a `String` spec.&lt;/del&gt;\r\n\r\nAlternatively, `java.net.URI` adheres more closely to the standards, and has a [`resolve`][2] method to do the same thing. Create a `URI` from your `URL` using [`URL.toURI`][3].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html#URL%28java.net.URL,%20java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/net/URI.html#resolve%28java.lang.String%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html#toURI%28%29","title":"Append relative URL to java.net.URL","body":"<p><del><code>URL</code> has a <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html#URL%28java.net.URL,%20java.lang.String%29\" rel=\"noreferrer\">constructor</a> that takes a base <code>URL</code> and a <code>String</code> spec.</del></p>\n\n<p>Alternatively, <code>java.net.URI</code> adheres more closely to the standards, and has a <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URI.html#resolve%28java.lang.String%29\" rel=\"noreferrer\"><code>resolve</code></a> method to do the same thing. Create a <code>URI</code> from your <code>URL</code> using <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html#toURI%28%29\" rel=\"noreferrer\"><code>URL.toURI</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":0,"creation_date":1492497269,"post_id":23660284,"comment_id":73985705,"body_markdown":"This can be used same way Using UriBuilder of jersey client/ http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html","body":"This can be used same way Using UriBuilder of jersey client/ <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.htm&zwnj;&#8203;l</a>"}],"tags":[],"owner":{"account_id":1643188,"reputation":113,"user_id":1515258,"display_name":"twhitbeck"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400085044,"creation_date":1400085044,"answer_id":23660284,"question_id":7498030,"body_markdown":"I&#39;ve searched far and wide for an answer to this question. The only implementation I can find is in the Android SDK: [Uri.Builder](http://developer.android.com/reference/android/net/Uri.Builder.html). I&#39;ve extracted it for my own purposes.\r\n\r\n    private String appendSegmentToPath(String path, String segment) {\r\n      if (path == null || path.isEmpty()) {\r\n        return &quot;/&quot; + segment;\r\n      }\r\n\r\n      if (path.charAt(path.length() - 1) == &#39;/&#39;) {\r\n        return path + segment;\r\n      }\r\n\r\n      return path + &quot;/&quot; + segment;\r\n    }\r\n\r\n[This](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/android/net/Uri.java#Uri.PathPart.appendEncodedSegment%28android.net.Uri.PathPart%2Cjava.lang.String%29) is where I found the source.\r\n\r\nIn conjunction with [Apache URIBuilder](http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html), this is how I&#39;m using it: `builder.setPath(appendSegmentToPath(builder.getPath(), segment));`","title":"Append relative URL to java.net.URL","body":"<p>I've searched far and wide for an answer to this question. The only implementation I can find is in the Android SDK: <a href=\"http://developer.android.com/reference/android/net/Uri.Builder.html\" rel=\"nofollow\">Uri.Builder</a>. I've extracted it for my own purposes.</p>\n\n<pre><code>private String appendSegmentToPath(String path, String segment) {\n  if (path == null || path.isEmpty()) {\n    return \"/\" + segment;\n  }\n\n  if (path.charAt(path.length() - 1) == '/') {\n    return path + segment;\n  }\n\n  return path + \"/\" + segment;\n}\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/android/net/Uri.java#Uri.PathPart.appendEncodedSegment%28android.net.Uri.PathPart%2Cjava.lang.String%29\" rel=\"nofollow\">This</a> is where I found the source.</p>\n\n<p>In conjunction with <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\" rel=\"nofollow\">Apache URIBuilder</a>, this is how I'm using it: <code>builder.setPath(appendSegmentToPath(builder.getPath(), segment));</code></p>\n"},{"tags":[],"owner":{"account_id":2150868,"reputation":3882,"user_id":1907282,"display_name":"Marcelo C."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401472555,"creation_date":1401472555,"answer_id":23960690,"question_id":7498030,"body_markdown":"Some examples using the Apache URIBuilder &lt;http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html&gt;:\r\n\r\nEx1:\r\n\r\n    String url = &quot;http://example.com/test&quot;;\r\n    URIBuilder builder = new URIBuilder(url);\r\n    builder.setPath((builder.getPath() + &quot;/example&quot;).replaceAll(&quot;//+&quot;, &quot;/&quot;));\r\n    System.out.println(&quot;Result 1 -&gt; &quot; + builder.toString());\r\n\r\nResult 1 -&gt; http://example.com/test/example\r\n\r\n\r\n\r\nEx2:\r\n\r\n    String url = &quot;http://example.com/test&quot;;\r\n    URIBuilder builder = new URIBuilder(url);\r\n    builder.setPath((builder.getPath() + &quot;///example&quot;).replaceAll(&quot;//+&quot;, &quot;/&quot;));\r\n    System.out.println(&quot;Result 2 -&gt; &quot; + builder.toString());\r\n\r\nResult 2 -&gt; http://example.com/test/example","title":"Append relative URL to java.net.URL","body":"<p>Some examples using the Apache URIBuilder <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\" rel=\"nofollow\">http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html</a>:</p>\n\n<p>Ex1:</p>\n\n<pre><code>String url = \"http://example.com/test\";\nURIBuilder builder = new URIBuilder(url);\nbuilder.setPath((builder.getPath() + \"/example\").replaceAll(\"//+\", \"/\"));\nSystem.out.println(\"Result 1 -&gt; \" + builder.toString());\n</code></pre>\n\n<p>Result 1 -> <a href=\"http://example.com/test/example\" rel=\"nofollow\">http://example.com/test/example</a></p>\n\n<p>Ex2:</p>\n\n<pre><code>String url = \"http://example.com/test\";\nURIBuilder builder = new URIBuilder(url);\nbuilder.setPath((builder.getPath() + \"///example\").replaceAll(\"//+\", \"/\"));\nSystem.out.println(\"Result 2 -&gt; \" + builder.toString());\n</code></pre>\n\n<p>Result 2 -> <a href=\"http://example.com/test/example\" rel=\"nofollow\">http://example.com/test/example</a></p>\n"},{"tags":[],"owner":{"account_id":948450,"reputation":3058,"user_id":975169,"display_name":"Enginer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412955038,"creation_date":1412955038,"answer_id":26302934,"question_id":7498030,"body_markdown":"My solution based on twhitbeck answer:\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    \r\n    public class URIBuilder extends org.apache.http.client.utils.URIBuilder {\r\n        public URIBuilder() {\r\n        }\r\n    \r\n        public URIBuilder(String string) throws URISyntaxException {\r\n            super(string);\r\n        }\r\n    \r\n        public URIBuilder(URI uri) {\r\n            super(uri);\r\n        }\r\n    \r\n        public org.apache.http.client.utils.URIBuilder addPath(String subPath) {\r\n            if (subPath == null || subPath.isEmpty() || &quot;/&quot;.equals(subPath)) {\r\n                return this;\r\n            }\r\n            return setPath(appendSegmentToPath(getPath(), subPath));\r\n        }\r\n    \r\n        private String appendSegmentToPath(String path, String segment) {\r\n            if (path == null || path.isEmpty()) {\r\n                path = &quot;/&quot;;\r\n            }\r\n    \r\n            if (path.charAt(path.length() - 1) == &#39;/&#39; || segment.startsWith(&quot;/&quot;)) {\r\n                return path + segment;\r\n            }\r\n    \r\n            return path + &quot;/&quot; + segment;\r\n        }\r\n    }\r\n\r\nTest:\r\n\r\n    import org.junit.Test;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    public class URIBuilderTest {\r\n    \r\n        @Test\r\n        public void testAddPath() throws Exception {\r\n            String url = &quot;http://example.com/test&quot;;\r\n            String expected = &quot;http://example.com/test/example&quot;;\r\n    \r\n            URIBuilder builder = new URIBuilder(url);\r\n            builder.addPath(&quot;/example&quot;);\r\n            assertEquals(expected, builder.toString());\r\n    \r\n            builder = new URIBuilder(url);\r\n            builder.addPath(&quot;example&quot;);\r\n            assertEquals(expected, builder.toString());\r\n    \r\n            builder.addPath(&quot;&quot;);\r\n            builder.addPath(null);\r\n            assertEquals(expected, builder.toString());\r\n    \r\n            url = &quot;http://example.com&quot;;\r\n            expected = &quot;http://example.com/example&quot;;\r\n    \r\n            builder = new URIBuilder(url);\r\n            builder.addPath(&quot;/&quot;);\r\n            assertEquals(url, builder.toString());\r\n            builder.addPath(&quot;/example&quot;);\r\n            assertEquals(expected, builder.toString());\r\n        }\r\n    }\r\n\r\n**Gist: https://gist.github.com/enginer/230e2dc2f1d213a825d5**","title":"Append relative URL to java.net.URL","body":"<p>My solution based on twhitbeck answer:</p>\n\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\n\npublic class URIBuilder extends org.apache.http.client.utils.URIBuilder {\n    public URIBuilder() {\n    }\n\n    public URIBuilder(String string) throws URISyntaxException {\n        super(string);\n    }\n\n    public URIBuilder(URI uri) {\n        super(uri);\n    }\n\n    public org.apache.http.client.utils.URIBuilder addPath(String subPath) {\n        if (subPath == null || subPath.isEmpty() || \"/\".equals(subPath)) {\n            return this;\n        }\n        return setPath(appendSegmentToPath(getPath(), subPath));\n    }\n\n    private String appendSegmentToPath(String path, String segment) {\n        if (path == null || path.isEmpty()) {\n            path = \"/\";\n        }\n\n        if (path.charAt(path.length() - 1) == '/' || segment.startsWith(\"/\")) {\n            return path + segment;\n        }\n\n        return path + \"/\" + segment;\n    }\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>import org.junit.Test;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class URIBuilderTest {\n\n    @Test\n    public void testAddPath() throws Exception {\n        String url = \"http://example.com/test\";\n        String expected = \"http://example.com/test/example\";\n\n        URIBuilder builder = new URIBuilder(url);\n        builder.addPath(\"/example\");\n        assertEquals(expected, builder.toString());\n\n        builder = new URIBuilder(url);\n        builder.addPath(\"example\");\n        assertEquals(expected, builder.toString());\n\n        builder.addPath(\"\");\n        builder.addPath(null);\n        assertEquals(expected, builder.toString());\n\n        url = \"http://example.com\";\n        expected = \"http://example.com/example\";\n\n        builder = new URIBuilder(url);\n        builder.addPath(\"/\");\n        assertEquals(url, builder.toString());\n        builder.addPath(\"/example\");\n        assertEquals(expected, builder.toString());\n    }\n}\n</code></pre>\n\n<p><strong>Gist: <a href=\"https://gist.github.com/enginer/230e2dc2f1d213a825d5\" rel=\"nofollow\">https://gist.github.com/enginer/230e2dc2f1d213a825d5</a></strong></p>\n"},{"comments":[{"owner":{"account_id":334159,"reputation":2281,"user_id":660408,"accept_rate":68,"display_name":"gkiko"},"score":1,"creation_date":1470733435,"post_id":26787332,"comment_id":65057436,"body_markdown":"`MalformedUrlException` why don&#39;t they just throw unchecked exception :&#39;(","body":"<code>MalformedUrlException</code> why don&#39;t they just throw unchecked exception :&#39;("},{"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"score":0,"creation_date":1470926949,"post_id":26787332,"comment_id":65158081,"body_markdown":"Yeah, that sucks... and it&#39;s inconsistent: parsing numbers throws unchecked exceptions ^^","body":"Yeah, that sucks... and it&#39;s inconsistent: parsing numbers throws unchecked exceptions ^^"},{"owner":{"account_id":4436640,"reputation":1160,"user_id":3612321,"accept_rate":75,"display_name":"rrhrg"},"score":2,"creation_date":1533229730,"post_id":26787332,"comment_id":90281410,"body_markdown":"This solution doesn&#39;t handle trailing slashes. The question provides two examples.","body":"This solution doesn&#39;t handle trailing slashes. The question provides two examples."},{"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"score":1,"creation_date":1541602863,"post_id":26787332,"comment_id":93272875,"body_markdown":"`url1.getFile().endsWith(&quot;/&quot;) ? url1.getFile() + &quot;pet&quot; : url1.getFile() + &quot;/pet&quot;`?","body":"<code>url1.getFile().endsWith(&quot;&#47;&quot;) ? url1.getFile() + &quot;pet&quot; : url1.getFile() + &quot;&#47;pet&quot;</code>?"},{"owner":{"account_id":1250599,"reputation":5979,"user_id":1211082,"accept_rate":43,"display_name":"Martin Senne"},"score":0,"creation_date":1590583383,"post_id":26787332,"comment_id":109733351,"body_markdown":"Downvote, as `getFile()` contains query as well: E.g. `http://foo/bar?queryParam` will not be handled correctly. Instead, `getPath()` is correct.","body":"Downvote, as <code>getFile()</code> contains query as well: E.g. <code>http:&#47;&#47;foo&#47;bar?queryParam</code> will not be handled correctly. Instead, <code>getPath()</code> is correct."},{"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"score":1,"creation_date":1590591473,"post_id":26787332,"comment_id":109738451,"body_markdown":"@MartinSenne Well spotted, I adjusted the example.","body":"@MartinSenne Well spotted, I adjusted the example."},{"owner":{"account_id":1250599,"reputation":5979,"user_id":1211082,"accept_rate":43,"display_name":"Martin Senne"},"score":0,"creation_date":1590649504,"post_id":26787332,"comment_id":109759991,"body_markdown":"I have created a solution (see my answer here) that converts via `toUri()`, then constructs the path, creates a new URI and converts back to URL via `toURL()`. \n\n@ChristophHenkelmann: Alright.","body":"I have created a solution (see my answer here) that converts via <code>toUri()</code>, then constructs the path, creates a new URI and converts back to URL via <code>toURL()</code>.   @ChristophHenkelmann: Alright."},{"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"score":0,"creation_date":1638445178,"post_id":26787332,"comment_id":124092323,"body_markdown":"This breaks if `url1.getPath()` is `&quot;/&quot;` because `new URI(&quot;http://localhost:80&quot;).resolve(&quot;//foo&quot;) =&gt; &quot;http://foo&quot;`","body":"This breaks if <code>url1.getPath()</code> is <code>&quot;&#47;&quot;</code> because <code>new URI(&quot;http:&#47;&#47;localhost:80&quot;).resolve(&quot;&#47;&#47;foo&quot;) =&gt; &quot;http:&#47;&#47;foo&quot;</code>"}],"tags":[],"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"comment_count":8,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1598555880,"creation_date":1415300394,"answer_id":26787332,"question_id":7498030,"body_markdown":"This one does not need any extra libs or code and gives the desired result: \r\n\r\n    //import java.net.URL;\r\n    URL url1 = new URL(&quot;http://petstore.swagger.wordnik.com/api/api-docs?foo=1&amp;bar=baz&quot;);\r\n    URL url2 = new URL(url1.getProtocol(), url1.getHost(), url1.getPort(), url1.getPath() + &quot;/pet&quot; + &quot;?&quot; + url1.getQuery(), null);\r\n    System.out.println(url1);\r\n    System.out.println(url2);\r\n\r\nThis prints: \r\n\r\n    http://petstore.swagger.wordnik.com/api/api-docs?foo=1&amp;bar=baz\r\n    http://petstore.swagger.wordnik.com/api/api-docs/pet?foo=1&amp;bar=baz\r\n\r\nThe accepted answer only works if there is no path after the host (IMHO the accepted answer is wrong)\r\n","title":"Append relative URL to java.net.URL","body":"<p>This one does not need any extra libs or code and gives the desired result:</p>\n<pre><code>//import java.net.URL;\nURL url1 = new URL(&quot;http://petstore.swagger.wordnik.com/api/api-docs?foo=1&amp;bar=baz&quot;);\nURL url2 = new URL(url1.getProtocol(), url1.getHost(), url1.getPort(), url1.getPath() + &quot;/pet&quot; + &quot;?&quot; + url1.getQuery(), null);\nSystem.out.println(url1);\nSystem.out.println(url2);\n</code></pre>\n<p>This prints:</p>\n<pre><code>http://petstore.swagger.wordnik.com/api/api-docs?foo=1&amp;bar=baz\nhttp://petstore.swagger.wordnik.com/api/api-docs/pet?foo=1&amp;bar=baz\n</code></pre>\n<p>The accepted answer only works if there is no path after the host (IMHO the accepted answer is wrong)</p>\n"},{"comments":[{"owner":{"account_id":923127,"reputation":1210,"user_id":954429,"accept_rate":70,"display_name":"Sim&#227;o Martins"},"score":7,"creation_date":1495204951,"post_id":26792081,"comment_id":75169788,"body_markdown":"If `baseUrl` ends with a `/` or `extraPath` starts with a `/` you will have repeated `/` in the final URL. You should add a `.normalize()` before the last `toURL()`.","body":"If <code>baseUrl</code> ends with a <code>&#47;</code> or <code>extraPath</code> starts with a <code>&#47;</code> you will have repeated <code>&#47;</code> in the final URL. You should add a <code>.normalize()</code> before the last <code>toURL()</code>."},{"owner":{"account_id":3579447,"reputation":576,"user_id":2988000,"display_name":"Sundar Rajan"},"score":0,"creation_date":1530513483,"post_id":26792081,"comment_id":89245335,"body_markdown":"This does not work for a local file URL which should start with file://","body":"This does not work for a local file URL which should start with file://"},{"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"score":0,"creation_date":1638446185,"post_id":26792081,"comment_id":124092768,"body_markdown":"if `baseUrl.getPath()` is `&quot;/&quot;` this will modify the host!!! `URI(&quot;http://localhost:80&quot;).resolve(&quot;//foo&quot;)` =&gt; `&quot;http://foo&quot;`\n\n\nI show how to address these below.","body":"if <code>baseUrl.getPath()</code> is <code>&quot;&#47;&quot;</code> this will modify the host!!! <code>URI(&quot;http:&#47;&#47;localhost:80&quot;).resolve(&quot;&#47;&#47;foo&quot;)</code> =&gt; <code>&quot;http:&#47;&#47;foo&quot;</code>   I show how to address these below."}],"tags":[],"owner":{"account_id":12729,"reputation":44592,"user_id":25216,"accept_rate":71,"display_name":"Andrew Shepherd"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1415320607,"creation_date":1415320607,"answer_id":26792081,"question_id":7498030,"body_markdown":"Here is a helper function I&#39;ve written to add to the url path:\r\n\r\n\tpublic static URL concatenate(URL baseUrl, String extraPath) throws URISyntaxException, \r\n                                                                        MalformedURLException {\r\n\t\tURI uri = baseUrl.toURI();\r\n\t\tString newPath = uri.getPath() + &#39;/&#39; + extraPath;\r\n\t\tURI newUri = uri.resolve(newPath);\r\n\t\treturn newUri.toURL();\r\n\t}\r\n\r\n","title":"Append relative URL to java.net.URL","body":"<p>Here is a helper function I've written to add to the url path:</p>\n\n<pre><code>public static URL concatenate(URL baseUrl, String extraPath) throws URISyntaxException, \n                                                                    MalformedURLException {\n    URI uri = baseUrl.toURI();\n    String newPath = uri.getPath() + '/' + extraPath;\n    URI newUri = uri.resolve(newPath);\n    return newUri.toURL();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1664196,"reputation":1353,"user_id":1531945,"accept_rate":50,"display_name":"Konstantin Pelepelin"},"score":0,"creation_date":1453399046,"post_id":34728705,"comment_id":57594833,"body_markdown":"`new URL(&quot;/additional/relative/path&quot;);` throws MalformedURLException","body":"<code>new URL(&quot;&#47;additional&#47;relative&#47;path&quot;);</code> throws MalformedURLException"}],"tags":[],"owner":{"account_id":2776979,"reputation":6304,"user_id":3657198,"accept_rate":100,"display_name":"Galya"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453461569,"creation_date":1452537682,"answer_id":34728705,"question_id":7498030,"body_markdown":"**UPDATED**\r\n\r\nI believe this is the shortest solution:\r\n\r\n    URL url1 = new URL(&quot;http://domain.com/contextpath&quot;);\r\n    String relativePath = &quot;/additional/relative/path&quot;;\r\n    URL concatenatedUrl = new URL(url1.toExternalForm() + relativePath);","title":"Append relative URL to java.net.URL","body":"<p><strong>UPDATED</strong></p>\n\n<p>I believe this is the shortest solution:</p>\n\n<pre><code>URL url1 = new URL(\"http://domain.com/contextpath\");\nString relativePath = \"/additional/relative/path\";\nURL concatenatedUrl = new URL(url1.toExternalForm() + relativePath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1520256195,"creation_date":1463573661,"answer_id":37299306,"question_id":7498030,"body_markdown":"You can use [URIBuilder][1] and the method `URI#normalize` to avoid duplicate `/` in the URI:\r\n\r\n    URIBuilder uriBuilder = new URIBuilder(&quot;http://example.com/test&quot;);\r\n    URI uri = uriBuilder.setPath(uriBuilder.getPath() + &quot;/path/to/add&quot;)\r\n              .build()\r\n              .normalize();\r\n    // expected : http://example.com/test/path/to/add\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html","title":"Append relative URL to java.net.URL","body":"<p>You can use <a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\" rel=\"noreferrer\">URIBuilder</a> and the method <code>URI#normalize</code> to avoid duplicate <code>/</code> in the URI:</p>\n\n<pre><code>URIBuilder uriBuilder = new URIBuilder(\"http://example.com/test\");\nURI uri = uriBuilder.setPath(uriBuilder.getPath() + \"/path/to/add\")\n          .build()\n          .normalize();\n// expected : http://example.com/test/path/to/add\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9132653,"reputation":821,"user_id":6793627,"display_name":"Roman Gherta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487583078,"creation_date":1487583078,"answer_id":42340839,"question_id":7498030,"body_markdown":"For android make sure you use `.appendPath()` from `android.net.Uri`","title":"Append relative URL to java.net.URL","body":"<p>For android make sure you use <code>.appendPath()</code> from <code>android.net.Uri</code></p>\n"},{"comments":[{"owner":{"account_id":5192030,"reputation":549,"user_id":4154680,"display_name":"Scott Babcock"},"score":1,"creation_date":1520874692,"post_id":48649692,"comment_id":85485388,"body_markdown":"If you run this code, I think you&#39;ll find that the result is:","body":"If you run this code, I think you&#39;ll find that the result is:"},{"owner":{"account_id":162299,"reputation":3206,"user_id":1582107,"display_name":"Martin Tapp"},"score":0,"creation_date":1520964177,"post_id":48649692,"comment_id":85529398,"body_markdown":"Corrected code to use `uri.getPath` instead, thanks!","body":"Corrected code to use <code>uri.getPath</code> instead, thanks!"}],"tags":[],"owner":{"account_id":162299,"reputation":3206,"user_id":1582107,"display_name":"Martin Tapp"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520964136,"creation_date":1517942018,"answer_id":48649692,"question_id":7498030,"body_markdown":"Concatenate a relative path to a URI:\r\n\r\n    java.net.URI uri = URI.create(&quot;https://stackoverflow.com/questions&quot;)\r\n    java.net.URI res = uri.resolve(uri.getPath + &quot;/some/path&quot;)\r\n\r\n`res` will contain `https://stackoverflow.com/questions/some/path`","title":"Append relative URL to java.net.URL","body":"<p>Concatenate a relative path to a URI:</p>\n\n<pre><code>java.net.URI uri = URI.create(\"https://stackoverflow.com/questions\")\njava.net.URI res = uri.resolve(uri.getPath + \"/some/path\")\n</code></pre>\n\n<p><code>res</code> will contain <code>https://stackoverflow.com/questions/some/path</code></p>\n"},{"comments":[{"owner":{"account_id":2526835,"reputation":2388,"user_id":2196034,"accept_rate":51,"display_name":"Luciano"},"score":6,"creation_date":1571040865,"post_id":49240793,"comment_id":103094616,"body_markdown":"The result of the first bit of code is ***not*** `http://example.com/basepath/relative`, but `http://example.com/relative`, unfortunately making the first part of this answer incorrect.","body":"The result of the first bit of code is <b><i>not</i></b> <code>http:&#47;&#47;example.com&#47;basepath&#47;relative</code>, but <code>http:&#47;&#47;example.com&#47;relative</code>, unfortunately making the first part of this answer incorrect."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1583404604,"post_id":49240793,"comment_id":107108294,"body_markdown":"Actually, the 1st part of the answer is correct; it works if the ./ is not provided as well if there are more than one / in the first URI. E.G. http://www.x.com:300/z/y/f.txt//////// ~~~ http://www.x.com:300/z/y/f.txt/zzccvr.tyt","body":"Actually, the 1st part of the answer is correct; it works if the ./ is not provided as well if there are more than one / in the first URI. E.G. <a href=\"http://www.x.com:300/z/y/f.txt////////\" rel=\"nofollow noreferrer\">x.com:300/z/y/f.txt///////</a> ~~~ <a href=\"http://www.x.com:300/z/y/f.txt/zzccvr.tyt\" rel=\"nofollow noreferrer\">x.com:300/z/y/f.txt/zzccvr.tyt</a>"}],"tags":[],"owner":{"account_id":5192030,"reputation":549,"user_id":4154680,"display_name":"Scott Babcock"},"comment_count":2,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1520874288,"creation_date":1520874288,"answer_id":49240793,"question_id":7498030,"body_markdown":"You can just use the `URI` class for this:\r\n\r\n    import java.net.URI;\r\n    import org.apache.http.client.utils.URIBuilder;\r\n    \r\n    URI uri = URI.create(&quot;http://example.com/basepath/&quot;);\r\n    URI uri2 = uri.resolve(&quot;./relative&quot;);\r\n    // =&gt; http://example.com/basepath/relative\r\n\r\nNote the trailing slash on the base path and the base-relative format of the segment that&#39;s being appended. You can also use the `URIBuilder` class from Apache HTTP client:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n...\r\n\r\n    import java.net.URI;\r\n    import org.apache.http.client.utils.URIBuilder;\r\n    \r\n    URI uri = URI.create(&quot;http://example.com/basepath&quot;);\r\n    URI uri2 = appendPath(uri, &quot;relative&quot;);\r\n    // =&gt; http://example.com/basepath/relative\r\n    \r\n    public URI appendPath(URI uri, String path) {\r\n        URIBuilder builder = new URIBuilder(uri);\r\n        builder.setPath(URI.create(builder.getPath() + &quot;/&quot;).resolve(&quot;./&quot; + path).getPath());\r\n        return builder.build();\r\n    }\r\n","title":"Append relative URL to java.net.URL","body":"<p>You can just use the <code>URI</code> class for this:</p>\n\n<pre><code>import java.net.URI;\nimport org.apache.http.client.utils.URIBuilder;\n\nURI uri = URI.create(\"http://example.com/basepath/\");\nURI uri2 = uri.resolve(\"./relative\");\n// =&gt; http://example.com/basepath/relative\n</code></pre>\n\n<p>Note the trailing slash on the base path and the base-relative format of the segment that's being appended. You can also use the <code>URIBuilder</code> class from Apache HTTP client:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>import java.net.URI;\nimport org.apache.http.client.utils.URIBuilder;\n\nURI uri = URI.create(\"http://example.com/basepath\");\nURI uri2 = appendPath(uri, \"relative\");\n// =&gt; http://example.com/basepath/relative\n\npublic URI appendPath(URI uri, String path) {\n    URIBuilder builder = new URIBuilder(uri);\n    builder.setPath(URI.create(builder.getPath() + \"/\").resolve(\"./\" + path).getPath());\n    return builder.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2454995,"reputation":4629,"user_id":2140414,"display_name":"johnml1135"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529351485,"creation_date":1529351485,"answer_id":50916559,"question_id":7498030,"body_markdown":"I had some difficulty with the encoding of URI&#39;s.  Appending was not working for me because it was of a content:// type and it was not liking the &quot;/&quot;.  This solution assumes no query, nor fragment(we are working with paths after all):\r\n\r\nKotlin code:\r\n\r\n      val newUri = Uri.parse(myUri.toString() + Uri.encode(&quot;/$relPath&quot;))","title":"Append relative URL to java.net.URL","body":"<p>I had some difficulty with the encoding of URI's.  Appending was not working for me because it was of a content:// type and it was not liking the \"/\".  This solution assumes no query, nor fragment(we are working with paths after all):</p>\n\n<p>Kotlin code:</p>\n\n<pre><code>  val newUri = Uri.parse(myUri.toString() + Uri.encode(\"/$relPath\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180933,"reputation":3874,"user_id":414581,"display_name":"sunadorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596660026,"creation_date":1558476051,"answer_id":56246878,"question_id":7498030,"body_markdown":"On Android you can use [`android.net.Uri`][1]. The following allows to create an `Uri.Builder` from an existing URL as `String` and then append:\r\n\r\n    Uri.parse(baseUrl) // Create Uri from String\r\n        .buildUpon()   // Creates a &quot;Builder&quot;\r\n        .appendEncodedPath(&quot;path/to/add&quot;)\r\n        .appendQueryParameter(&quot;at_ref&quot;, &quot;123&quot;) // To add ?at_ref=123\r\n        .fragment(&quot;anker&quot;) // To add #anker\r\n        .build()\r\n\r\nNote that `appendEncodedPath` doesn&#39;t expect a leading `/` and only contains a check if the &quot;baseUrl&quot; ends with one, otherwise one is added before the path.\r\n\r\nAccording to the docs, this supports \r\n\r\n * Absolute hierarchical URI reference following the pattern\r\n    * `&lt;scheme&gt;://&lt;authority&gt;&lt;absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;`\r\n\r\n * Relative URI with pattern\r\n    * `&lt;relative or absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;`\r\n    * `//&lt;authority&gt;&lt;absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;`\r\n\r\n * Opaque URI with pattern\r\n    * `&lt;scheme&gt;:&lt;opaque part&gt;#&lt;fragment&gt;`\r\n\r\n  [1]: https://developer.android.com/reference/android/net/Uri.Builder.html","title":"Append relative URL to java.net.URL","body":"<p>On Android you can use <a href=\"https://developer.android.com/reference/android/net/Uri.Builder.html\" rel=\"nofollow noreferrer\"><code>android.net.Uri</code></a>. The following allows to create an <code>Uri.Builder</code> from an existing URL as <code>String</code> and then append:</p>\n<pre><code>Uri.parse(baseUrl) // Create Uri from String\n    .buildUpon()   // Creates a &quot;Builder&quot;\n    .appendEncodedPath(&quot;path/to/add&quot;)\n    .appendQueryParameter(&quot;at_ref&quot;, &quot;123&quot;) // To add ?at_ref=123\n    .fragment(&quot;anker&quot;) // To add #anker\n    .build()\n</code></pre>\n<p>Note that <code>appendEncodedPath</code> doesn't expect a leading <code>/</code> and only contains a check if the &quot;baseUrl&quot; ends with one, otherwise one is added before the path.</p>\n<p>According to the docs, this supports</p>\n<ul>\n<li><p>Absolute hierarchical URI reference following the pattern</p>\n<ul>\n<li><code>&lt;scheme&gt;://&lt;authority&gt;&lt;absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;</code></li>\n</ul>\n</li>\n<li><p>Relative URI with pattern</p>\n<ul>\n<li><code>&lt;relative or absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;</code></li>\n<li><code>//&lt;authority&gt;&lt;absolute path&gt;?&lt;query&gt;#&lt;fragment&gt;</code></li>\n</ul>\n</li>\n<li><p>Opaque URI with pattern</p>\n<ul>\n<li><code>&lt;scheme&gt;:&lt;opaque part&gt;#&lt;fragment&gt;</code></li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1250599,"reputation":5979,"user_id":1211082,"accept_rate":43,"display_name":"Martin Senne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590586323,"creation_date":1590586323,"answer_id":62044362,"question_id":7498030,"body_markdown":"A pragmatical solution without any external libs is given below.\r\n\r\n(Comment: After reading through all the answers given so far, I am really not happy with the solutions provided - especially as this question is eight years old. No solution does deal properly with queries, fragments and so on.)\r\n\r\n### Extension method on URL\r\n\r\n```\r\nimport java.net.MalformedURLException;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\n\r\nclass URLHelper {\r\n\t\tpublic static URL appendRelativePathToURL(URL base, String relPath) {\r\n\t\t\t/*\r\n              foo://example.com:8042/over/there?name=ferret#nose\r\n              \\_/   \\______________/\\_________/ \\_________/ \\__/\r\n               |           |            |            |        |\r\n            scheme     authority       path        query   fragment\r\n               |   _____________________|__\r\n              / \\ /                        \\\r\n              urn:example:animal:ferret:nose\r\n\r\n            see https://en.wikipedia.org/wiki/Uniform_Resource_Identifier\r\n            */\r\n\t\t\ttry {\r\n\r\n\t\t\t\tURI baseUri = base.toURI();\r\n\r\n\t\t\t\t// cut initial slash of relative path\r\n\t\t\t\tString relPathToAdd = relPath.startsWith(&quot;/&quot;) ? relPath.substring(1) : relPath;\r\n\r\n\t\t\t\t// cut trailing slash of present path\r\n\t\t\t\tString path = baseUri.getPath();\r\n\t\t\t\tString pathWithoutTrailingSlash = path.endsWith(&quot;/&quot;) ? path.substring(0, path.length() - 1) : path;\r\n\r\n\t\t\t\treturn new URI(baseUri.getScheme(),\r\n\t\t\t\t\t\tbaseUri.getAuthority(),\r\n\t\t\t\t\t\tpathWithoutTrailingSlash + &quot;/&quot; + relPathToAdd,\r\n\t\t\t\t\t\tbaseUri.getQuery(),\r\n\t\t\t\t\t\tbaseUri.getFragment()).toURL();\r\n\t\t\t} catch (URISyntaxException e) {\r\n\t\t\t\tthrow new MalformedURLRuntimeException(&quot;Error parsing URI.&quot;, e);\r\n\t\t\t} catch (MalformedURLException e) {\r\n\t\t\t\tthrow new MalformedURLRuntimeException(&quot;Malformed URL.&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static class MalformedURLRuntimeException extends RuntimeException {\r\n\t\t\tpublic MalformedURLRuntimeException(String msg, Throwable cause) {\r\n\t\t\t\tsuper(&quot;Malformed URL: &quot; + msg, cause);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n### Testing\r\n\r\n```\r\n    private void demo() {\r\n\r\n\t\ttry {\r\n\t\t\tURL coolURL = new URL(&quot;http://fun.de/path/a/b/c?query&amp;another=3#asdf&quot;);\r\n\t\t\tURL notSoCoolURL = new URL(&quot;http://fun.de/path/a/b/c/?query&amp;another=3#asdf&quot;);\r\n\t\t\tSystem.out.println(URLHelper.appendRelativePathToURL(coolURL, &quot;d&quot;));\r\n\t\t\tSystem.out.println(URLHelper.appendRelativePathToURL(coolURL, &quot;/d&quot;));\r\n\t\t\tSystem.out.println(URLHelper.appendRelativePathToURL(notSoCoolURL, &quot;d&quot;));\r\n\t\t\tSystem.out.println(URLHelper.appendRelativePathToURL(notSoCoolURL, &quot;/d&quot;));\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n```","title":"Append relative URL to java.net.URL","body":"<p>A pragmatical solution without any external libs is given below.</p>\n\n<p>(Comment: After reading through all the answers given so far, I am really not happy with the solutions provided - especially as this question is eight years old. No solution does deal properly with queries, fragments and so on.)</p>\n\n<h3>Extension method on URL</h3>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\n\nclass URLHelper {\n        public static URL appendRelativePathToURL(URL base, String relPath) {\n            /*\n              foo://example.com:8042/over/there?name=ferret#nose\n              \\_/   \\______________/\\_________/ \\_________/ \\__/\n               |           |            |            |        |\n            scheme     authority       path        query   fragment\n               |   _____________________|__\n              / \\ /                        \\\n              urn:example:animal:ferret:nose\n\n            see https://en.wikipedia.org/wiki/Uniform_Resource_Identifier\n            */\n            try {\n\n                URI baseUri = base.toURI();\n\n                // cut initial slash of relative path\n                String relPathToAdd = relPath.startsWith(\"/\") ? relPath.substring(1) : relPath;\n\n                // cut trailing slash of present path\n                String path = baseUri.getPath();\n                String pathWithoutTrailingSlash = path.endsWith(\"/\") ? path.substring(0, path.length() - 1) : path;\n\n                return new URI(baseUri.getScheme(),\n                        baseUri.getAuthority(),\n                        pathWithoutTrailingSlash + \"/\" + relPathToAdd,\n                        baseUri.getQuery(),\n                        baseUri.getFragment()).toURL();\n            } catch (URISyntaxException e) {\n                throw new MalformedURLRuntimeException(\"Error parsing URI.\", e);\n            } catch (MalformedURLException e) {\n                throw new MalformedURLRuntimeException(\"Malformed URL.\", e);\n            }\n        }\n\n        public static class MalformedURLRuntimeException extends RuntimeException {\n            public MalformedURLRuntimeException(String msg, Throwable cause) {\n                super(\"Malformed URL: \" + msg, cause);\n            }\n        }\n    }\n</code></pre>\n\n<h3>Testing</h3>\n\n<pre><code>    private void demo() {\n\n        try {\n            URL coolURL = new URL(\"http://fun.de/path/a/b/c?query&amp;another=3#asdf\");\n            URL notSoCoolURL = new URL(\"http://fun.de/path/a/b/c/?query&amp;another=3#asdf\");\n            System.out.println(URLHelper.appendRelativePathToURL(coolURL, \"d\"));\n            System.out.println(URLHelper.appendRelativePathToURL(coolURL, \"/d\"));\n            System.out.println(URLHelper.appendRelativePathToURL(notSoCoolURL, \"d\"));\n            System.out.println(URLHelper.appendRelativePathToURL(notSoCoolURL, \"/d\"));\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626954063,"creation_date":1626954063,"answer_id":68484214,"question_id":7498030,"body_markdown":"    public String joinUrls(String baseUrl, String extraPath) {\r\n    \t    try {\r\n    \t\t\tURI uri = URI.create(baseUrl+&quot;/&quot;);//added additional slash in case there is no slash at either sides\r\n    \t\t\tURI newUri = uri.resolve(extraPath);\r\n    \t\t\treturn newUri.toURL().toString();\r\n    \t\t} catch (IllegalArgumentException | MalformedURLException e) {\r\n    \t\t\t//exception\r\n    \t\t}\r\n    }","title":"Append relative URL to java.net.URL","body":"<pre><code>public String joinUrls(String baseUrl, String extraPath) {\n        try {\n            URI uri = URI.create(baseUrl+&quot;/&quot;);//added additional slash in case there is no slash at either sides\n            URI newUri = uri.resolve(extraPath);\n            return newUri.toURL().toString();\n        } catch (IllegalArgumentException | MalformedURLException e) {\n            //exception\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9988822,"reputation":56,"user_id":7388956,"display_name":"Codemix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638491893,"creation_date":1629475258,"answer_id":68865016,"question_id":7498030,"body_markdown":"An handmade uri segments joiner\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(concatURISegments(\r\n\t\t\t\t&quot;http://abc/&quot;,\r\n\t\t\t\t&quot;/dfg/&quot;,\r\n\t\t\t\t&quot;/lmn&quot;,\r\n\t\t\t\t&quot;opq&quot;\r\n\t\t));\r\n\t}\r\n\r\n    public static String concatURISegments(String... segmentArray) {\r\n        if (segmentArray.length == 0) {\r\n            return &quot;&quot;;\r\n        } else if (segmentArray.length == 1) {\r\n            return segmentArray[0];\r\n        }\r\n\r\n        List&lt;String&gt; segmentList = new ArrayList&lt;&gt;();\r\n        for (String s : segmentArray) {\r\n            if (s != null &amp;&amp; s.length() &gt; 0) {\r\n                segmentList.add(s);\r\n            }\r\n        }\r\n\r\n        if (segmentList.size() == 0) {\r\n            return &quot;&quot;;\r\n        } else if (segmentList.size() == 1) {\r\n            return segmentList.get(0);\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(segmentList.get(0));\r\n        String prevS;\r\n        String currS;\r\n        boolean prevB;\r\n        boolean currB;\r\n        for (int i = 1; i &lt; segmentList.size(); i++) {\r\n            prevS = segmentList.get(i - 1);\r\n            currS = segmentList.get(i);\r\n            prevB = prevS.endsWith(&quot;/&quot;);\r\n            currB = currS.startsWith(&quot;/&quot;);\r\n            if (!prevB &amp;&amp; !currB) {\r\n                sb.append(&quot;/&quot;).append(currS);\r\n            } else if (prevB &amp;&amp; currB) {\r\n                sb.append(currS.substring(1));\r\n            } else {\r\n                sb.append(currS);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }","title":"Append relative URL to java.net.URL","body":"<p>An handmade uri segments joiner</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(concatURISegments(\n            &quot;http://abc/&quot;,\n            &quot;/dfg/&quot;,\n            &quot;/lmn&quot;,\n            &quot;opq&quot;\n    ));\n}\n\npublic static String concatURISegments(String... segmentArray) {\n    if (segmentArray.length == 0) {\n        return &quot;&quot;;\n    } else if (segmentArray.length == 1) {\n        return segmentArray[0];\n    }\n\n    List&lt;String&gt; segmentList = new ArrayList&lt;&gt;();\n    for (String s : segmentArray) {\n        if (s != null &amp;&amp; s.length() &gt; 0) {\n            segmentList.add(s);\n        }\n    }\n\n    if (segmentList.size() == 0) {\n        return &quot;&quot;;\n    } else if (segmentList.size() == 1) {\n        return segmentList.get(0);\n    }\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(segmentList.get(0));\n    String prevS;\n    String currS;\n    boolean prevB;\n    boolean currB;\n    for (int i = 1; i &lt; segmentList.size(); i++) {\n        prevS = segmentList.get(i - 1);\n        currS = segmentList.get(i);\n        prevB = prevS.endsWith(&quot;/&quot;);\n        currB = currS.startsWith(&quot;/&quot;);\n        if (!prevB &amp;&amp; !currB) {\n            sb.append(&quot;/&quot;).append(currS);\n        } else if (prevB &amp;&amp; currB) {\n            sb.append(currS.substring(1));\n        } else {\n            sb.append(currS);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684739,"reputation":640,"user_id":1548249,"display_name":"lars"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633511382,"creation_date":1633511382,"answer_id":69462843,"question_id":7498030,"body_markdown":"Support for appending paths was added to `URIBuilder` in Apache HttpClient 5.1 with the `appendPath` method:\r\n\r\n```java\r\nimport org.apache.hc.core5.net.URIBuilder;\r\n..\r\nURI uri = new URIBuilder(&quot;https://stackoverflow.com/questions&quot;)\r\n  .appendPath(&quot;7498030&quot;)\r\n  .appendPath(&quot;append-relative-url&quot;)\r\n  .build();\r\n\r\n// https://stackoverflow.com/questions/7498030/append-relative-url\r\n```\r\n\r\nMaven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n  &lt;version&gt;5.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n","title":"Append relative URL to java.net.URL","body":"<p>Support for appending paths was added to <code>URIBuilder</code> in Apache HttpClient 5.1 with the <code>appendPath</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hc.core5.net.URIBuilder;\n..\nURI uri = new URIBuilder(&quot;https://stackoverflow.com/questions&quot;)\n  .appendPath(&quot;7498030&quot;)\n  .appendPath(&quot;append-relative-url&quot;)\n  .build();\n\n// https://stackoverflow.com/questions/7498030/append-relative-url\n</code></pre>\n<p>Maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n  &lt;version&gt;5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":414974,"reputation":2867,"user_id":789505,"accept_rate":100,"display_name":"Kyle Pittman"},"score":1,"creation_date":1678996159,"post_id":70198713,"comment_id":133646166,"body_markdown":"The result from `URI.resolve` with the double-slash in front is correct, this is called a `protocol-relative URL` and it used to be more common, but is now discouraged. See [wiki](https://en.wikipedia.org/wiki/URL#prurl). Your `addPath` is correct if the 2nd parameter is always a path, but `URI.resolve` is handling the more general case where it may be a full URL.","body":"The result from <code>URI.resolve</code> with the double-slash in front is correct, this is called a <code>protocol-relative URL</code> and it used to be more common, but is now discouraged. See <a href=\"https://en.wikipedia.org/wiki/URL#prurl\" rel=\"nofollow noreferrer\">wiki</a>. Your <code>addPath</code> is correct if the 2nd parameter is always a path, but <code>URI.resolve</code> is handling the more general case where it may be a full URL."}],"tags":[],"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1654778311,"creation_date":1638444973,"answer_id":70198713,"question_id":7498030,"body_markdown":"I cannot believe how nasty `URI.resolve()` really is its full of nasty edge cases.\r\n\r\n    new URI(&quot;http://localhost:80&quot;).resolve(&quot;foo&quot;) =&gt; &quot;http://localhost:80foo&quot;\r\n    new URI(&quot;http://localhost:80&quot;).resolve(&quot;//foo&quot;) =&gt; &quot;http://foo&quot;\r\n    new URI(&quot;http://localhost:80&quot;).resolve(&quot;.//foo&quot;) =&gt; &quot;http://foo&quot;\r\n\r\nThe tidiest solution I have seen that handles these edge cases in an predictable way is:\r\n\r\n    URI addPath(URI uri, String path) {\r\n        String newPath;\r\n        if (path.startsWith(&quot;/&quot;)) newPath = path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\r\n        else if (uri.getPath().endsWith(&quot;/&quot;)) newPath = uri.getPath() + path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\r\n        else newPath = uri.getPath() + &quot;/&quot; + path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\r\n\r\n        return uri.resolve(newPath).normalize();\r\n    }\r\n\r\nResults:\r\n\r\n    jshell&gt; addPath(new URI(&quot;http://localhost&quot;), &quot;sub/path&quot;)\r\n    $3 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;sub/path&quot;)\r\n    $4 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;/sub/path&quot;)\r\n    $5 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;/sub/path&quot;)\r\n    $6 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;./sub/path&quot;)\r\n    $7 ==&gt; http://localhost/random-path/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;../sub/path&quot;)\r\n    $8 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost&quot;), &quot;../sub/path&quot;)\r\n    $9 ==&gt; http://localhost/../sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;//sub/path&quot;)\r\n    $10 ==&gt; http://localhost/sub/path\r\n    \r\n    jshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;//sub/./path&quot;)\r\n    $11 ==&gt; http://localhost/sub/path\r\n","title":"Append relative URL to java.net.URL","body":"<p>I cannot believe how nasty <code>URI.resolve()</code> really is its full of nasty edge cases.</p>\n<pre><code>new URI(&quot;http://localhost:80&quot;).resolve(&quot;foo&quot;) =&gt; &quot;http://localhost:80foo&quot;\nnew URI(&quot;http://localhost:80&quot;).resolve(&quot;//foo&quot;) =&gt; &quot;http://foo&quot;\nnew URI(&quot;http://localhost:80&quot;).resolve(&quot;.//foo&quot;) =&gt; &quot;http://foo&quot;\n</code></pre>\n<p>The tidiest solution I have seen that handles these edge cases in an predictable way is:</p>\n<pre><code>URI addPath(URI uri, String path) {\n    String newPath;\n    if (path.startsWith(&quot;/&quot;)) newPath = path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\n    else if (uri.getPath().endsWith(&quot;/&quot;)) newPath = uri.getPath() + path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\n    else newPath = uri.getPath() + &quot;/&quot; + path.replaceAll(&quot;//+&quot;, &quot;/&quot;);\n\n    return uri.resolve(newPath).normalize();\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>jshell&gt; addPath(new URI(&quot;http://localhost&quot;), &quot;sub/path&quot;)\n$3 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;sub/path&quot;)\n$4 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;/sub/path&quot;)\n$5 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;/sub/path&quot;)\n$6 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;./sub/path&quot;)\n$7 ==&gt; http://localhost/random-path/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/random-path&quot;), &quot;../sub/path&quot;)\n$8 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost&quot;), &quot;../sub/path&quot;)\n$9 ==&gt; http://localhost/../sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;//sub/path&quot;)\n$10 ==&gt; http://localhost/sub/path\n\njshell&gt; addPath(new URI(&quot;http://localhost/&quot;), &quot;//sub/./path&quot;)\n$11 ==&gt; http://localhost/sub/path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960983,"reputation":111,"user_id":2092463,"accept_rate":75,"display_name":"Onewildgamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646712849,"creation_date":1646712849,"answer_id":71389957,"question_id":7498030,"body_markdown":"This takes only one line, `normalize()` is your friend here, and always add an extra `/` inbetween the concatenation\r\n\r\nWhen baseUrl ends with `/` the normalize() would remove the extra ones. If it doesn&#39;t end with `/` then we&#39;ve covered it by adding one deliberately.\r\n\r\n    String unknownBaseUrl = &quot;https://example.com/apples/&quot;;\r\n    String result = URI.create(unknownBaseUrl + &quot;/&quot; + &quot;1209&quot;).normalize().toString();\r\n    System.out.println(result);\r\n\r\noutput:\r\nhttps://example.com/apples/1209\r\n\r\nSample with many extra `/` will be normalized to a sane path as per the [RFC 2396][1]\r\n\r\n    String unknownBaseUrl = &quot;https://example.com/apples/&quot;;\r\n    String result = URI.create(unknownBaseUrl + &quot;/&quot; + &quot;/1209&quot;).normalize().toString();\r\n    System.out.println(result);\r\n\r\noutput:\r\nhttps://example.com/apples/1209\r\n\r\n\r\n  [1]: https://www.ietf.org/rfc/rfc2396.txt","title":"Append relative URL to java.net.URL","body":"<p>This takes only one line, <code>normalize()</code> is your friend here, and always add an extra <code>/</code> inbetween the concatenation</p>\n<p>When baseUrl ends with <code>/</code> the normalize() would remove the extra ones. If it doesn't end with <code>/</code> then we've covered it by adding one deliberately.</p>\n<pre><code>String unknownBaseUrl = &quot;https://example.com/apples/&quot;;\nString result = URI.create(unknownBaseUrl + &quot;/&quot; + &quot;1209&quot;).normalize().toString();\nSystem.out.println(result);\n</code></pre>\n<p>output:\n<a href=\"https://example.com/apples/1209\" rel=\"nofollow noreferrer\">https://example.com/apples/1209</a></p>\n<p>Sample with many extra <code>/</code> will be normalized to a sane path as per the <a href=\"https://www.ietf.org/rfc/rfc2396.txt\" rel=\"nofollow noreferrer\">RFC 2396</a></p>\n<pre><code>String unknownBaseUrl = &quot;https://example.com/apples/&quot;;\nString result = URI.create(unknownBaseUrl + &quot;/&quot; + &quot;/1209&quot;).normalize().toString();\nSystem.out.println(result);\n</code></pre>\n<p>output:\n<a href=\"https://example.com/apples/1209\" rel=\"nofollow noreferrer\">https://example.com/apples/1209</a></p>\n"},{"tags":[],"owner":{"account_id":4322671,"reputation":23,"user_id":3530328,"display_name":"Yury Volkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655234558,"creation_date":1655234558,"answer_id":72622357,"question_id":7498030,"body_markdown":"To get around all the edge cases the best would be to combine two standard classes - `UriBuilder` from `apache.httpclient` and `java.nio.file.Paths`:\r\n\r\n```java\r\nString rootUrl = &quot;http://host:80/root/url&quot;;\r\nString relativePath = &quot;relative/path&quot;;\r\n\r\nURIBuilder builder = new URIBuilder(rootUrl);\r\nString combinedPath = Paths.get(builder.getPath(), relativePath).toString();\r\nbuilder.setPath(combinedPath);\r\n\r\nURL targetUrl = builder.build().toURL();\r\n```\r\n\r\nIt results in: `http://host:80/root/url/relative/path`\r\n\r\nThis works with any number of leading and trailing `/` and also when `/` are absent.","title":"Append relative URL to java.net.URL","body":"<p>To get around all the edge cases the best would be to combine two standard classes - <code>UriBuilder</code> from <code>apache.httpclient</code> and <code>java.nio.file.Paths</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rootUrl = &quot;http://host:80/root/url&quot;;\nString relativePath = &quot;relative/path&quot;;\n\nURIBuilder builder = new URIBuilder(rootUrl);\nString combinedPath = Paths.get(builder.getPath(), relativePath).toString();\nbuilder.setPath(combinedPath);\n\nURL targetUrl = builder.build().toURL();\n</code></pre>\n<p>It results in: <code>http://host:80/root/url/relative/path</code></p>\n<p>This works with any number of leading and trailing <code>/</code> and also when <code>/</code> are absent.</p>\n"},{"tags":[],"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679546707,"creation_date":1679546707,"answer_id":75819329,"question_id":7498030,"body_markdown":"With Spring framework:\r\n\r\n    import org.springframework.web.util.DefaultUriBuilderFactory;\r\n    ...\r\n    var url = &quot;http://localhost&quot;\r\n    var uriBuilderFactory = new DefaultUriBuilderFactory(url)\r\n    var target_uri = uriBuilderFactory.builder().pathSegment(&quot;path1&quot;).pathSegment(&quot;path2&quot;).build().toString()\r\n    //\r\n    // result: http://localhost/path1/path2\r\n\r\n\r\n\r\n\r\n\r\n","title":"Append relative URL to java.net.URL","body":"<p>With Spring framework:</p>\n<pre><code>import org.springframework.web.util.DefaultUriBuilderFactory;\n...\nvar url = &quot;http://localhost&quot;\nvar uriBuilderFactory = new DefaultUriBuilderFactory(url)\nvar target_uri = uriBuilderFactory.builder().pathSegment(&quot;path1&quot;).pathSegment(&quot;path2&quot;).build().toString()\n//\n// result: http://localhost/path1/path2\n</code></pre>\n"}],"owner":{"account_id":200576,"reputation":15630,"user_id":446497,"accept_rate":96,"display_name":"fulmicoton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101737,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":7498118,"answer_count":21,"score":61,"last_activity_date":1679546707,"creation_date":1316599659,"question_id":7498030,"body_markdown":"Provided I have a java.net.URL object, pointing to let&#39;s say\r\n\r\n`http://example.com/myItems` or `http://example.com/myItems/`\r\n\r\nIs there some helper somewhere to append some relative URL to this?\r\nFor instance append `./myItemId` or `myItemId` to get :\r\n`http://example.com/myItems/myItemId`","title":"Append relative URL to java.net.URL","body":"<p>Provided I have a java.net.URL object, pointing to let's say</p>\n\n<p><code>http://example.com/myItems</code> or <code>http://example.com/myItems/</code></p>\n\n<p>Is there some helper somewhere to append some relative URL to this?\nFor instance append <code>./myItemId</code> or <code>myItemId</code> to get :\n<code>http://example.com/myItems/myItemId</code></p>\n"},{"tags":["java","android","android-activity","android-alertdialog","android-linearlayout"],"answers":[{"tags":[],"owner":{"account_id":15361500,"reputation":281,"user_id":11082213,"display_name":"Nrohpos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679546569,"creation_date":1679546569,"answer_id":75819322,"question_id":75150182,"body_markdown":"It should do the job as longclicked , I had try both work the same ways here the code :\r\n\r\n\r\n**XML File:** \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:padding=&quot;18dp&quot;\r\n        android:text=&quot;Hello world!&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/anotherTextView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/app_name&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nHere the **activity** class&#39;s code :\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        LinearLayout layout = findViewById(R.id.linearLayout);\r\n        TextView subView = findViewById(R.id.anotherTextView);\r\n\r\n\r\n        findViewById(R.id.textView).setOnClickListener(view -&gt; {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            //Uncomment the below code to Set the message and title from the strings.xml file\r\n            builder.setMessage(&quot;This is a message of testing&quot;).setTitle(&quot;title&quot;);\r\n\r\n            //Setting message manually and performing action on button click\r\n            builder.setMessage(&quot;Do you want to close this application ?&quot;)\r\n                    .setCancelable(true)\r\n                    .setPositiveButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int id) {\r\n\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int id) {\r\n                            layout.removeView(subView);\r\n                        }\r\n                    });\r\n            //Creating dialog box\r\n            AlertDialog alert = builder.create();\r\n            //Setting the title manually\r\n            alert.setTitle(&quot;AlertDialogExample&quot;);\r\n            alert.show();\r\n        });\r\n    }\r\n\r\nHere My Dialog Import Package:\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\nIt work under my case.\r\n","title":"LinearLayout of Activity doesn&#39;t update after AlertDialog is closed","body":"<p>It should do the job as longclicked , I had try both work the same ways here the code :</p>\n<p><strong>XML File:</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;18dp&quot;\n    android:text=&quot;Hello world!&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/anotherTextView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/app_name&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here the <strong>activity</strong> class's code :</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    LinearLayout layout = findViewById(R.id.linearLayout);\n    TextView subView = findViewById(R.id.anotherTextView);\n\n\n    findViewById(R.id.textView).setOnClickListener(view -&gt; {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        //Uncomment the below code to Set the message and title from the strings.xml file\n        builder.setMessage(&quot;This is a message of testing&quot;).setTitle(&quot;title&quot;);\n\n        //Setting message manually and performing action on button click\n        builder.setMessage(&quot;Do you want to close this application ?&quot;)\n                .setCancelable(true)\n                .setPositiveButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n\n                    }\n                })\n                .setNegativeButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        layout.removeView(subView);\n                    }\n                });\n        //Creating dialog box\n        AlertDialog alert = builder.create();\n        //Setting the title manually\n        alert.setTitle(&quot;AlertDialogExample&quot;);\n        alert.show();\n    });\n}\n</code></pre>\n<p>Here My Dialog Import Package:</p>\n<pre><code>import androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n</code></pre>\n<p>It work under my case.</p>\n"}],"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679546569,"creation_date":1673976992,"question_id":75150182,"body_markdown":"With the following code I am able to successfully remove a View from a LinearLayout when clicking for a longtime on a button:\r\n\r\n```\r\nbutton.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                linearlayout.removeView(view);\r\n                return false;\r\n            }\r\n        });\r\n```\r\n\r\nAnd the activity it&#39;s updated instantly.  \r\nHowever when I try to achieve the same thing (removing that same View from the same LinearLayout) by the negative button of an AlertDialog, it only works when I close the app (basically when the activity is restarted). I don&#39;t know why it doesn&#39;t update the activity instantly.  \r\n  \r\nCode:\r\n\r\n```\r\n.setNegativeButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        System.out.println(&quot;test&quot;);\r\n                        ll.removeView(view);\r\n                        //ll.invalidate();\r\n                        //dialog.dismiss();\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                              //stuff\r\n                            }\r\n                        }, 1000);\r\n                    }\r\n                });\r\n```","title":"LinearLayout of Activity doesn&#39;t update after AlertDialog is closed","body":"<p>With the following code I am able to successfully remove a View from a LinearLayout when clicking for a longtime on a button:</p>\n<pre><code>button.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                linearlayout.removeView(view);\n                return false;\n            }\n        });\n</code></pre>\n<p>And the activity it's updated instantly.<br />\nHowever when I try to achieve the same thing (removing that same View from the same LinearLayout) by the negative button of an AlertDialog, it only works when I close the app (basically when the activity is restarted). I don't know why it doesn't update the activity instantly.</p>\n<p>Code:</p>\n<pre><code>.setNegativeButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        System.out.println(&quot;test&quot;);\n                        ll.removeView(view);\n                        //ll.invalidate();\n                        //dialog.dismiss();\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n                            @Override\n                            public void run() {\n                              //stuff\n                            }\n                        }, 1000);\n                    }\n                });\n</code></pre>\n"},{"tags":["java","git","gitlab","gitlab-ci","gitlab-ci-runner"],"answers":[{"comments":[{"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"score":0,"creation_date":1679558050,"post_id":75819305,"comment_id":133743829,"body_markdown":"Is it possibile to do the same with release branches?","body":"Is it possibile to do the same with release branches?"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1679559702,"post_id":75819305,"comment_id":133744182,"body_markdown":"I don&#39;t understand the question. &quot;Release branches&quot; are not any different from any other branches.","body":"I don&#39;t understand the question. &quot;Release branches&quot; are not any different from any other branches."},{"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"score":0,"creation_date":1679568956,"post_id":75819305,"comment_id":133746467,"body_markdown":"I mean, the solution you wrote will work If I will push to branch like &quot;develop&quot; or &quot;task-1&quot; without any prefix. What If I want to push to branch called &quot;release/23.0&quot; and create the project build(with tag) in version 23.0.1? Then I don&#39;t want the version to be 23.0-SNAPSHOT, but 23.0.1 or 23.0.2 etc.","body":"I mean, the solution you wrote will work If I will push to branch like &quot;develop&quot; or &quot;task-1&quot; without any prefix. What If I want to push to branch called &quot;release/23.0&quot; and create the project build(with tag) in version 23.0.1? Then I don&#39;t want the version to be 23.0-SNAPSHOT, but 23.0.1 or 23.0.2 etc."}],"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679546370,"creation_date":1679546370,"answer_id":75819305,"question_id":75814687,"body_markdown":"For including the branch name in version: \r\n\r\nUse a variable in your `&lt;version&gt;` value:\r\n\r\n    &lt;version&gt;${branch}-SNAPSHOT&lt;/version&gt;\r\n\r\nThen in your ci script, run maven with arguments:\r\n\r\n    ./mvnw -Dbranch=${CI_COMMIT_BRANCH} clean install/package/deploy/etc\r\n\r\nYou may need to use different [predefined CI variables][1] depending on whether a tag or branch was pushed (or if it was a merge request event etc.)\r\n\r\nYou can put a sensible default in your pom.xml&#39;s properties section\r\n\r\n    &lt;properties&gt;\r\n        &lt;branch&gt;local&lt;/branch&gt;\r\n    &lt;/properties&gt;\r\n\r\nThis will be used if no value is provided when building.\r\n\r\n\r\n  [1]: https://docs.gitlab.com/ee/ci/variables/predefined_variables.html","title":"Gitlab CI/CD: Changing/setting project versions based on branch name in pom.xml files","body":"<p>For including the branch name in version:</p>\n<p>Use a variable in your <code>&lt;version&gt;</code> value:</p>\n<pre><code>&lt;version&gt;${branch}-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>Then in your ci script, run maven with arguments:</p>\n<pre><code>./mvnw -Dbranch=${CI_COMMIT_BRANCH} clean install/package/deploy/etc\n</code></pre>\n<p>You may need to use different <a href=\"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\" rel=\"nofollow noreferrer\">predefined CI variables</a> depending on whether a tag or branch was pushed (or if it was a merge request event etc.)</p>\n<p>You can put a sensible default in your pom.xml's properties section</p>\n<pre><code>&lt;properties&gt;\n    &lt;branch&gt;local&lt;/branch&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>This will be used if no value is provided when building.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679546370,"creation_date":1679501276,"question_id":75814687,"body_markdown":"I started working with gitlab CI/CD, but previously was working with Jenkins.\r\n\r\nIn Jenkins we had some pipelines/groovy scripts that automatically detected and changed project.version in pom.xml file depends on the branch name, so If e.g. Id pushed to branch called project/task-1 and pom.xml contains \r\n\r\n    &lt;version&gt;dev-SNAPSHOT&lt;/version&gt;\r\n\r\nthen dev-SNAPSHOT was automatically changed to task-1-SNAPSHOT.\r\n\r\nAnd the same with release branches, If we pushed to release/0.0.1, the project.version during the build changed incrementing the tag version during each build, so If it was build number 4 the final project.version was 0.0.1.4 etc.\r\n\r\n\r\nRight now in gitlab CI/CD we must manually increment project.version before every build. Id searched the internet and unfortunately didnt find anything about automating this process in Gitlab CI.\r\n\r\nSo I would like to ask, is it possible to do something like this with Gitlab?\r\n\r\nIf so, can someone give an examples how to do it?","title":"Gitlab CI/CD: Changing/setting project versions based on branch name in pom.xml files","body":"<p>I started working with gitlab CI/CD, but previously was working with Jenkins.</p>\n<p>In Jenkins we had some pipelines/groovy scripts that automatically detected and changed project.version in pom.xml file depends on the branch name, so If e.g. Id pushed to branch called project/task-1 and pom.xml contains</p>\n<pre><code>&lt;version&gt;dev-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>then dev-SNAPSHOT was automatically changed to task-1-SNAPSHOT.</p>\n<p>And the same with release branches, If we pushed to release/0.0.1, the project.version during the build changed incrementing the tag version during each build, so If it was build number 4 the final project.version was 0.0.1.4 etc.</p>\n<p>Right now in gitlab CI/CD we must manually increment project.version before every build. Id searched the internet and unfortunately didnt find anything about automating this process in Gitlab CI.</p>\n<p>So I would like to ask, is it possible to do something like this with Gitlab?</p>\n<p>If so, can someone give an examples how to do it?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1562069631,"post_id":56851470,"comment_id":100254404,"body_markdown":"How did you create the jar? IDE tool, maven, gradel, ...?","body":"How did you create the jar? IDE tool, maven, gradel, ...?"},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562070101,"post_id":56851470,"comment_id":100254661,"body_markdown":"With the IDE tool","body":"With the IDE tool"},{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1562070757,"post_id":56851470,"comment_id":100255046,"body_markdown":"When using e.g. maven there could be the problem, that the fxml files are just not recognized as resources. It&#39;s a bit unlikely that the IDE tool has the same problems, but to be shure you could check the jar file if it even includes the fxml files (by opening it with 7zip or a similar program).","body":"When using e.g. maven there could be the problem, that the fxml files are just not recognized as resources. It&#39;s a bit unlikely that the IDE tool has the same problems, but to be shure you could check the jar file if it even includes the fxml files (by opening it with 7zip or a similar program)."},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562071456,"post_id":56851470,"comment_id":100255527,"body_markdown":"I already checked, it&#39;s one of the first things i did but they are include. And the main class see them, I can change the home page by any other page, the problem is just for the controllers.","body":"I already checked, it&#39;s one of the first things i did but they are include. And the main class see them, I can change the home page by any other page, the problem is just for the controllers."}],"answers":[{"comments":[{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562069253,"post_id":56851628,"comment_id":100254198,"body_markdown":"My bad, i didn&#39;t specify the structure, the resources subdirectory exist. I&#39;m editing my post to add it. And I already check for the path spelling and the intern path of the jar is right.","body":"My bad, i didn&#39;t specify the structure, the resources subdirectory exist. I&#39;m editing my post to add it. And I already check for the path spelling and the intern path of the jar is right."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1562070496,"post_id":56851628,"comment_id":100254883,"body_markdown":"The class and fxml are in the jar as `/sample/Main.class` and `/sample/resources/accueil.fxml`? for a controller class an absolute path is needed `/sample/resources/accueil.fxml`","body":"The class and fxml are in the jar as <code>&#47;sample&#47;Main.class</code> and <code>&#47;sample&#47;resources&#47;accueil.fxml</code>? for a controller class an absolute path is needed <code>&#47;sample&#47;resources&#47;accueil.fxml</code>"},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":0,"creation_date":1562072050,"post_id":56851628,"comment_id":100255928,"body_markdown":"I tried with getAbsolutePath() to be sure i did&#39;nt make a misatke ine the path but with this even Intellij return null with `getClass().getResource(pagePath)`. And yes the class and fxml are in the jar as `sample/Main.class` and `sample/resources/accueil.fxml`","body":"I tried with getAbsolutePath() to be sure i did&#39;nt make a misatke ine the path but with this even Intellij return null with <code>getClass().getResource(pagePath)</code>. And yes the class and fxml are in the jar as <code>sample&#47;Main.class</code> and <code>sample&#47;resources&#47;accueil.fxml</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1562072469,"post_id":56851628,"comment_id":100256192,"body_markdown":"No, getAbsolutePath (File?) will not do. It can only be some small oversight. The jar contains `/sample/resources/accueil.fxml`? Then both `Main.class.getResource(&quot;/sample/resources/accueil.fxml)` (absolute) and `Main.class.getResource(&quot;resources/accueil.fxml)` (relative) should not return null. The cause for the troubles is that the IDE has its own class path.","body":"No, getAbsolutePath (File?) will not do. It can only be some small oversight. The jar contains <code>&#47;sample&#47;resources&#47;accueil.fxml</code>? Then both <code>Main.class.getResource(&quot;&#47;sample&#47;resources&#47;accueil.fxml)</code> (absolute) and <code>Main.class.getResource(&quot;resources&#47;accueil.fxml)</code> (relative) should not return null. The cause for the troubles is that the IDE has its own class path."},{"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"score":1,"creation_date":1562074060,"post_id":56851628,"comment_id":100257166,"body_markdown":"Thanks to you i found the solution. I was writing the path like `sample/resources/accueil.fxml` instead of  `/sample/resources/accueil.fxml`","body":"Thanks to you i found the solution. I was writing the path like <code>sample&#47;resources&#47;accueil.fxml</code> instead of  <code>&#47;sample&#47;resources&#47;accueil.fxml</code>"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562067609,"creation_date":1562067609,"answer_id":56851628,"question_id":56851470,"body_markdown":"I would have expected `&quot;/accueil.fxml&quot;` or `&quot;/resources/accueil.fxml&quot;`. Look in the jar with 7tzip or such what the real path is.\r\n\r\nThe resource path `&quot;resources/accueil.fxml&quot;` indicates that in the class path, under the subdirectory of `getClass()` (the class&#39; package directory) there should be a subdirectory `resources`.\r\n\r\nAn other error would be that the file names are only case-insensitive in Windows, when not starting a jar. A jar (zip) file, Linux and Mac all have case-sensitive file names. Check the case-sensitive spelling.\r\n","title":"Jar does not find path for .fxml files","body":"<p>I would have expected <code>\"/accueil.fxml\"</code> or <code>\"/resources/accueil.fxml\"</code>. Look in the jar with 7tzip or such what the real path is.</p>\n\n<p>The resource path <code>\"resources/accueil.fxml\"</code> indicates that in the class path, under the subdirectory of <code>getClass()</code> (the class' package directory) there should be a subdirectory <code>resources</code>.</p>\n\n<p>An other error would be that the file names are only case-insensitive in Windows, when not starting a jar. A jar (zip) file, Linux and Mac all have case-sensitive file names. Check the case-sensitive spelling.</p>\n"},{"comments":[{"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"score":0,"creation_date":1679545949,"post_id":75819247,"comment_id":133742061,"body_markdown":"NOTE: answer may very depends on your ide &amp; jdk version * jdk provider &amp; javaFx/openFx version.","body":"NOTE: answer may very depends on your ide &amp; jdk version * jdk provider &amp; javaFx/openFx version."},{"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"score":0,"creation_date":1679546019,"post_id":75819247,"comment_id":133742070,"body_markdown":"Above given answer is for OenJDK 11, intellij 2022/2021, openFX 17.","body":"Above given answer is for OenJDK 11, intellij 2022/2021, openFX 17."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679549477,"post_id":75819247,"comment_id":133742380,"body_markdown":"please don&#39;t post the exact same answer to several questions","body":"please don&#39;t post the exact same answer to several questions"},{"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"score":0,"creation_date":1679649939,"post_id":75819247,"comment_id":133762569,"body_markdown":"@kleopatra when you have multiple open questions from long time, better to given solution at every single place where user can land in future, looks like you only criticize others code, never write your own.","body":"@kleopatra when you have multiple open questions from long time, better to given solution at every single place where user can land in future, looks like you only criticize others code, never write your own."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679655757,"post_id":75819247,"comment_id":133763975,"body_markdown":"well .. no: duplicates are considered noise - and might be deleted (as was your exact same answer https://stackoverflow.com/a/75819252/203657), please read the moderator&#39;s comment under it :) And refrain from trying to attack other users (even though this obviously incorrect one leaves me more amused than annoyed ;)","body":"well .. no: duplicates are considered noise - and might be deleted (as was your exact same answer <a href=\"https://stackoverflow.com/a/75819252/203657\">stackoverflow.com/a/75819252/203657</a>), please read the moderator&#39;s comment under it :) And refrain from trying to attack other users (even though this obviously incorrect one leaves me more amused than annoyed ;)"}],"tags":[],"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679545588,"creation_date":1679545588,"answer_id":75819247,"question_id":56851470,"body_markdown":"**SHORT answer:** its missign reource folder after compile the project, by default it put all your class and fxml in same folder which cause the issue, you need resource folder seprate same as src strcture.\r\n\r\n**LONG answer:** Manually add resources folder and add src/main/reource from the project as given below imgage, this will copy all resource to requires destination.\r\n\r\nat last use below code to fetch correct file to JAVAFX\r\n\r\n&gt; FXMLLoader.load(SplashController.class.getResource(&quot;DashFX.fxml&quot;))\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/icVaT.png","title":"Jar does not find path for .fxml files","body":"<p><strong>SHORT answer:</strong> its missign reource folder after compile the project, by default it put all your class and fxml in same folder which cause the issue, you need resource folder seprate same as src strcture.</p>\n<p><strong>LONG answer:</strong> Manually add resources folder and add src/main/reource from the project as given below imgage, this will copy all resource to requires destination.</p>\n<p>at last use below code to fetch correct file to JAVAFX</p>\n<blockquote>\n<p>FXMLLoader.load(SplashController.class.getResource(&quot;DashFX.fxml&quot;))</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/icVaT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/icVaT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15921958,"reputation":1,"user_id":11488709,"display_name":"Julien Madrias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679549372,"accepted_answer_id":56851628,"answer_count":2,"score":-1,"last_activity_date":1679545588,"creation_date":1562067000,"question_id":56851470,"body_markdown":"I&#39;m developping an desktop app in javafx, and unlike Intellij he jar file return null for `getClass().getResource(pagePath)`.\r\n\r\nWhen i build and run the app with Intellij all work fine and do the job, but after i created the artifact and run the .jar file with a command line i got an error : \r\n\r\n&gt; &#39;Exception in thread &quot;JavaFX Application Thread&quot;\r\n\r\njava.lang.NulPointerException: Location is required.&#39; After many researches and tests i found out that the call `getClass().getResource(pagepath)` return null in the .jar but not with Intellij. I&#39;ve tried to change the way to write the path, change the patterns and change the project&#39; structure.\r\n\r\nHere the incriminated method\r\n```javafx\r\nprotected void loadPage(ActionEvent event, String pagePath) throws IOException {\r\n        System.out.println(getClass().getResource(pagePath));\r\n        Parent pageParent = FXMLLoader.load(getClass().getResource(pagePath));\r\n        Scene newPage = new Scene(pageParent);\r\n        pageParent.getStylesheets().add(Views.CSS);\r\n        Stage window = (Stage) ((javafx.scene.Node)event.getSource()).getScene().getWindow();\r\n        window.setScene(newPage);\r\n        window.show();\r\n    }\r\n```\r\n\r\nThe initialisation of the programm work, the .jar file launch the first page correctly with this method, in the main class.\r\n```javafx\r\n@Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(Views.XML_ACCUEIL));\r\n        primaryStage.getIcons().add(new Image(Views.APP_ICON));\r\n        primaryStage.setTitle(Views.APP_NAME);\r\n        primaryStage.setScene(new Scene(root, Views.WIDTH, Views.HEIGHT));\r\n        primaryStage.show();\r\n    }\r\n```\r\n\r\nThe View class look like this:\r\n```java\r\npublic class Views {\r\n    public static final String home = System.getProperty(&quot;user.home&quot;);\r\n    public static final String REGISTER_FOLDER = home + File.separator + &quot;Desktop&quot; + File.separator;\r\n    public static final String XML_ACCUEIL = &quot;resources/accueil.fxml&quot;;\r\n    public static final String XML_VENTE_FORM = &quot;resources/vente_form.fxml&quot;;\r\n    public static final String XML_DEPOT_FORM = &quot;resources/depot_form.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_1 = &quot;resources/technique_form_1.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_2 = &quot;resources/technique_form_2.fxml&quot;;\r\n    public static final String XML_TECHNIQUE_FORM_3 = &quot;resources/technique_form_3.fxml&quot;;\r\n    //{some others var}\r\n    public static final String CSS = &quot;sample/resources/style.css&quot;;\r\n    public static final String APP_NAME = &quot;World Of Cars Desktop&quot;;\r\n    public static final String APP_ICON = &quot;sample/resources/logo_petit.png&quot;;\r\n    public static final int WIDTH = 1280;\r\n    public static final int HEIGHT = 720;\r\n}\r\n```\r\nHere&#39;s the structure:\r\n\r\n    -src\r\n        -sample\r\n            -controller\r\n                {all my controller class}\r\n            -resources\r\n                {all my fxml files}\r\n            -DocFiller\r\n            -Main\r\n            -Views\r\n\r\n\r\nWith Intellij all work perfectly like i said, but the .jar file just launch the home page and when i use a button, normally the loadPage method is called and the next page appear but instead of that, the error is throw when i try to lad any other page than the home page. All the pages, images and ressources are store and called with the same way.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dR5zb.png","title":"Jar does not find path for .fxml files","body":"<p>I'm developping an desktop app in javafx, and unlike Intellij he jar file return null for <code>getClass().getResource(pagePath)</code>.</p>\n\n<p>When i build and run the app with Intellij all work fine and do the job, but after i created the artifact and run the .jar file with a command line i got an error : </p>\n\n<blockquote>\n  <p>'Exception in thread \"JavaFX Application Thread\"</p>\n</blockquote>\n\n<p>java.lang.NulPointerException: Location is required.' After many researches and tests i found out that the call <code>getClass().getResource(pagepath)</code> return null in the .jar but not with Intellij. I've tried to change the way to write the path, change the patterns and change the project' structure.</p>\n\n<p>Here the incriminated method</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void loadPage(ActionEvent event, String pagePath) throws IOException {\n        System.out.println(getClass().getResource(pagePath));\n        Parent pageParent = FXMLLoader.load(getClass().getResource(pagePath));\n        Scene newPage = new Scene(pageParent);\n        pageParent.getStylesheets().add(Views.CSS);\n        Stage window = (Stage) ((javafx.scene.Node)event.getSource()).getScene().getWindow();\n        window.setScene(newPage);\n        window.show();\n    }\n</code></pre>\n\n<p>The initialisation of the programm work, the .jar file launch the first page correctly with this method, in the main class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(Views.XML_ACCUEIL));\n        primaryStage.getIcons().add(new Image(Views.APP_ICON));\n        primaryStage.setTitle(Views.APP_NAME);\n        primaryStage.setScene(new Scene(root, Views.WIDTH, Views.HEIGHT));\n        primaryStage.show();\n    }\n</code></pre>\n\n<p>The View class look like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static final String home = System.getProperty(\"user.home\");\n    public static final String REGISTER_FOLDER = home + File.separator + \"Desktop\" + File.separator;\n    public static final String XML_ACCUEIL = \"resources/accueil.fxml\";\n    public static final String XML_VENTE_FORM = \"resources/vente_form.fxml\";\n    public static final String XML_DEPOT_FORM = \"resources/depot_form.fxml\";\n    public static final String XML_TECHNIQUE_FORM_1 = \"resources/technique_form_1.fxml\";\n    public static final String XML_TECHNIQUE_FORM_2 = \"resources/technique_form_2.fxml\";\n    public static final String XML_TECHNIQUE_FORM_3 = \"resources/technique_form_3.fxml\";\n    //{some others var}\n    public static final String CSS = \"sample/resources/style.css\";\n    public static final String APP_NAME = \"World Of Cars Desktop\";\n    public static final String APP_ICON = \"sample/resources/logo_petit.png\";\n    public static final int WIDTH = 1280;\n    public static final int HEIGHT = 720;\n}\n</code></pre>\n\n<p>Here's the structure:</p>\n\n<pre><code>-src\n    -sample\n        -controller\n            {all my controller class}\n        -resources\n            {all my fxml files}\n        -DocFiller\n        -Main\n        -Views\n</code></pre>\n\n<p>With Intellij all work perfectly like i said, but the .jar file just launch the home page and when i use a button, normally the loadPage method is called and the next page appear but instead of that, the error is throw when i try to lad any other page than the home page. All the pages, images and ressources are store and called with the same way.</p>\n"},{"tags":["java","android","json","sqlite","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":15361500,"reputation":281,"user_id":11082213,"display_name":"Nrohpos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679545161,"creation_date":1679545161,"answer_id":75819215,"question_id":75221089,"body_markdown":"I assume you having everything in single class (activity) (That&#39;s already messy).\r\n\r\nThis case i believe you have this 2 out side of the function\r\n\r\n    List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    boolean run = false;\r\n\r\nFor **parseApiData** you are doing duplicate things, That is what is should be look\r\n\r\n        public void parseApiData() {\r\n\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;url&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n\r\n                if (response != null) {\r\n\r\n                    if (!books.isEmpty()) {\r\n                        books.clear();\r\n                       dbHandler.removeAll();\r\n                    }\r\n\r\n                    for (int i = 0; i &lt; response.length(); i++) {\r\n\r\n                        try {\r\n\r\n                            JSONObject obj = response.getJSONObject(i);\r\n\r\n                            int bookId = obj.getInt(&quot;id&quot;);\r\n\r\n                            String bookName = obj.getString(&quot;title&quot;);\r\n\r\n                            String bookDescription = obj.getString(&quot;description&quot;);\r\n\r\n                            int bookPage = obj.getInt(&quot;pageCount&quot;);\r\n\r\n                            String bookExcerpt = obj.getString(&quot;excerpt&quot;);\r\n\r\n                            String bookPublishDate = obj.getString(&quot;publishDate&quot;);\r\n                            Book note = new Book( bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\r\n                            books.add(note);\r\n\r\n                            dbHandler.addNewCourse(note.getmBookId(), note.getmBookName(), note.getmBookDescription(), note.getmBookPage(), note.getmBookExcerpt(), note.getmBookPublishDate());\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n        }, new com.android.volley.Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        Volley.newRequestQueue(this).add(jsonArrayRequest);\r\n    }\r\n\r\n\r\n**For AsyncTaskRunner**\r\n\r\n \r\n\r\n    private class AsyncTaskRunner extends AsyncTask&lt;Void, Void, Void&gt; {\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n    \r\n                if (!run) {\r\n                    parseApiData();\r\n                    run = true;\r\n    \r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void unused) {\r\n                super.onPostExecute(unused);\r\n    \r\n                progressBar.setVisibility(View.GONE);\r\n                onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n                BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n                recyclerView.setAdapter(adapter);\r\n    \r\n            }\r\n        }\r\n\r\n\r\n**Here the repeated :**\r\n\r\n&gt; dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage,\r\n&gt; bookExcerpt, bookPublishDate);\r\n\r\nWith this one:\r\n\r\n    new Thread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                   for(int j=0;j&lt;books.size();j++)\r\n                                   {\r\n                                       Books note=books.get(j);\r\n                                       dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\r\n                                   }\r\n                                    }\r\n                                });\r\n I recommended by changing this too:\r\n\r\n\r\n    onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n    BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n\r\nIf you request API 3 time it keeping that and rebuild as new again and again\r\n\r\nPlease consider by create function in your adapter, something like this:\r\n\r\n \r\n\r\n    void updateList(List&lt;Book&gt; books){\r\n            your_list_in_adapter = books;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\nwhen **onPostExecute** you only call that :\r\n\r\n    youradapter.updateList(books);\r\n\r\nThis would be much better.\r\nNote: AsyncTask, It already deprecated. Please consider change it [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62438770/android-asynctask-deprecated-need-substitute-examples","title":"How I can parse JSON data only once when my application is running","body":"<p>I assume you having everything in single class (activity) (That's already messy).</p>\n<p>This case i believe you have this 2 out side of the function</p>\n<pre><code>List&lt;Book&gt; books = new ArrayList&lt;&gt;();\nboolean run = false;\n</code></pre>\n<p>For <strong>parseApiData</strong> you are doing duplicate things, That is what is should be look</p>\n<pre><code>    public void parseApiData() {\n\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;url&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\n        @Override\n        public void onResponse(JSONArray response) {\n\n            if (response != null) {\n\n                if (!books.isEmpty()) {\n                    books.clear();\n                   dbHandler.removeAll();\n                }\n\n                for (int i = 0; i &lt; response.length(); i++) {\n\n                    try {\n\n                        JSONObject obj = response.getJSONObject(i);\n\n                        int bookId = obj.getInt(&quot;id&quot;);\n\n                        String bookName = obj.getString(&quot;title&quot;);\n\n                        String bookDescription = obj.getString(&quot;description&quot;);\n\n                        int bookPage = obj.getInt(&quot;pageCount&quot;);\n\n                        String bookExcerpt = obj.getString(&quot;excerpt&quot;);\n\n                        String bookPublishDate = obj.getString(&quot;publishDate&quot;);\n                        Book note = new Book( bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\n                        books.add(note);\n\n                        dbHandler.addNewCourse(note.getmBookId(), note.getmBookName(), note.getmBookDescription(), note.getmBookPage(), note.getmBookExcerpt(), note.getmBookPublishDate());\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }, new com.android.volley.Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    Volley.newRequestQueue(this).add(jsonArrayRequest);\n}\n</code></pre>\n<p><strong>For AsyncTaskRunner</strong></p>\n<pre><code>private class AsyncTaskRunner extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            progressBar.setVisibility(View.VISIBLE);\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            if (!run) {\n                parseApiData();\n                run = true;\n\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n\n            progressBar.setVisibility(View.GONE);\n            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\n            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\n            recyclerView.setAdapter(adapter);\n\n        }\n    }\n</code></pre>\n<p><strong>Here the repeated :</strong></p>\n<blockquote>\n<p>dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage,\nbookExcerpt, bookPublishDate);</p>\n</blockquote>\n<p>With this one:</p>\n<pre><code>new Thread(new Runnable() {\n                                @Override\n                                public void run() {\n                               for(int j=0;j&lt;books.size();j++)\n                               {\n                                   Books note=books.get(j);\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\n                               }\n                                }\n                            });\n</code></pre>\n<p>I recommended by changing this too:</p>\n<pre><code>onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\nBookAdapter adapter = new BookAdapter(MainActivity.this, books);\nrecyclerView.setAdapter(adapter);\n</code></pre>\n<p>If you request API 3 time it keeping that and rebuild as new again and again</p>\n<p>Please consider by create function in your adapter, something like this:</p>\n<pre><code>void updateList(List&lt;Book&gt; books){\n        your_list_in_adapter = books;\n        notifyDataSetChanged();\n    }\n</code></pre>\n<p>when <strong>onPostExecute</strong> you only call that :</p>\n<pre><code>youradapter.updateList(books);\n</code></pre>\n<p>This would be much better.\nNote: AsyncTask, It already deprecated. Please consider change it <a href=\"https://stackoverflow.com/questions/62438770/android-asynctask-deprecated-need-substitute-examples\">here</a>.</p>\n"}],"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819215,"answer_count":1,"score":0,"last_activity_date":1679545161,"creation_date":1674561147,"question_id":75221089,"body_markdown":"I&#39;ve no idea on how to parse JSON data only once when my application is running. Currently JSON parsing is done on every user interaction like landscape/portrait orientations, page refreshing and page recreation (from child activity) .This makes my application so slow to actually display data every single time. Even app crashes when large number of user interactions like multiple orientation changes are given. **Can someone help me how to limit Json parsing not more than once?** \r\n\r\nJSON Parsing and Saving in Database and ArrayList \r\n\r\n```\r\n public void parseApiData () {\r\n\r\n            RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n\r\n                        if (response != null) {\r\n\r\n                            if(!books.isEmpty())\r\n                            {\r\n                                books.removeAll(books);\r\n                                dbHandler.removeAll();\r\n                            }\r\n\r\n                            for (int i = 0; i &lt; response.length(); i++) {\r\n\r\n                                try {\r\n\r\n                                    JSONObject obj = response.getJSONObject(i);\r\n\r\n                                    int bookId = obj.getInt(&quot;id&quot;);\r\n\r\n                                    String bookName = obj.getString(&quot;title&quot;);\r\n\r\n                                    String bookDescription = obj.getString(&quot;description&quot;);\r\n\r\n                                    int bookPage = obj.getInt(&quot;pageCount&quot;);\r\n\r\n                                    String bookExcerpt = obj.getString(&quot;excerpt&quot;);\r\n\r\n                                    String bookPublishDate = obj.getString(&quot;publishDate&quot;);\r\n\r\n                                    books.add(new Books(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate));\r\n\r\n                                    dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\r\n\r\n                                    // books ?\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                            //Books[] b=books.toArray(new Books[books.size()]);\r\n                            //System.out.println(b[184].getmBookName());\r\n                            //System.out.println(books.get(198).getmBookPage());\r\n                            new Thread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                               for(int j=0;j&lt;books.size();j++)\r\n                               {\r\n                                   Books note=books.get(j);\r\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\r\n                               }\r\n                                }\r\n                            });\r\n\r\n                            // books = dbHandler.readCourses();\r\n                            progressBar.setVisibility(View.GONE);\r\n                            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\r\n                            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\r\n                            recyclerView.setAdapter(adapter);\r\n\r\n                        } else {\r\n                            Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n            }, new com.android.volley.Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            queue.add(jsonArrayRequest);\r\n\r\n\r\n        };\r\n```\r\n\r\nParsing in Background to reduce load in main thread\r\n\r\n```\r\n private class AsyncTaskRunner extends AsyncTask&lt;Void,Void,Void&gt;{\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n\r\n            try {\r\n\r\n                if(!run) {\r\n                    parseApiData();\r\n                    run=true;\r\n\r\n                }\r\n            }\r\n            catch (Exception e){\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How I can parse JSON data only once when my application is running","body":"<p>I've no idea on how to parse JSON data only once when my application is running. Currently JSON parsing is done on every user interaction like landscape/portrait orientations, page refreshing and page recreation (from child activity) .This makes my application so slow to actually display data every single time. Even app crashes when large number of user interactions like multiple orientation changes are given. <strong>Can someone help me how to limit Json parsing not more than once?</strong></p>\n<p>JSON Parsing and Saving in Database and ArrayList</p>\n<pre><code> public void parseApiData () {\n\n            RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\n                @Override\n                public void onResponse(JSONArray response) {\n\n                        if (response != null) {\n\n                            if(!books.isEmpty())\n                            {\n                                books.removeAll(books);\n                                dbHandler.removeAll();\n                            }\n\n                            for (int i = 0; i &lt; response.length(); i++) {\n\n                                try {\n\n                                    JSONObject obj = response.getJSONObject(i);\n\n                                    int bookId = obj.getInt(&quot;id&quot;);\n\n                                    String bookName = obj.getString(&quot;title&quot;);\n\n                                    String bookDescription = obj.getString(&quot;description&quot;);\n\n                                    int bookPage = obj.getInt(&quot;pageCount&quot;);\n\n                                    String bookExcerpt = obj.getString(&quot;excerpt&quot;);\n\n                                    String bookPublishDate = obj.getString(&quot;publishDate&quot;);\n\n                                    books.add(new Books(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate));\n\n                                    dbHandler.addNewCourse(bookId, bookName, bookDescription, bookPage, bookExcerpt, bookPublishDate);\n\n                                    // books ?\n                                } catch (JSONException e) {\n                                    e.printStackTrace();\n                                }\n\n\n                            }\n\n                            //Books[] b=books.toArray(new Books[books.size()]);\n                            //System.out.println(b[184].getmBookName());\n                            //System.out.println(books.get(198).getmBookPage());\n                            new Thread(new Runnable() {\n                                @Override\n                                public void run() {\n                               for(int j=0;j&lt;books.size();j++)\n                               {\n                                   Books note=books.get(j);\n                                   dbHandler.addNewCourse(note.getmBookId(),note.getmBookName(),note.getmBookDescription(),note.getmBookPage(),note.getmBookExcerpt(),note.getmBookPublishDate());\n                               }\n                                }\n                            });\n\n                            // books = dbHandler.readCourses();\n                            progressBar.setVisibility(View.GONE);\n                            onConfigurationChanged(getApplicationContext().getResources().getConfiguration());\n                            BookAdapter adapter = new BookAdapter(MainActivity.this, books);\n                            recyclerView.setAdapter(adapter);\n\n                        } else {\n                            Toast.makeText(MainActivity.this, &quot;Array is empty&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n            }, new com.android.volley.Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(MainActivity.this, &quot;No Internet Connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            queue.add(jsonArrayRequest);\n\n\n        };\n</code></pre>\n<p>Parsing in Background to reduce load in main thread</p>\n<pre><code> private class AsyncTaskRunner extends AsyncTask&lt;Void,Void,Void&gt;{\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            try {\n\n                if(!run) {\n                    parseApiData();\n                    run=true;\n\n                }\n            }\n            catch (Exception e){\n\n                e.printStackTrace();\n\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1679544312,"post_id":75819141,"comment_id":133741911,"body_markdown":"[tag:java] != [tag:javascript]","body":"<a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> != <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679544088,"creation_date":1679544088,"answer_id":75819156,"question_id":75819141,"body_markdown":"Divide by `12` to get the number of full dozens you can get from the individual eggs. Take the remainder to get how many individual eggs are left, not forming a dozen.\r\n\r\n```java\r\nint dozenEggs = 1;\r\nint individualEggs = 15;\r\ndozenEggs += individualEggs / 12;\r\nindividualEggs %= 12;\r\n// then calculate price, e.g. dozenEggs + individualEggs * .1\r\n```","title":"How to switch variable into another variable once the condition is get in java if else if statement","body":"<p>Divide by <code>12</code> to get the number of full dozens you can get from the individual eggs. Take the remainder to get how many individual eggs are left, not forming a dozen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int dozenEggs = 1;\nint individualEggs = 15;\ndozenEggs += individualEggs / 12;\nindividualEggs %= 12;\n// then calculate price, e.g. dozenEggs + individualEggs * .1\n</code></pre>\n"}],"owner":{"account_id":28091833,"reputation":1,"user_id":21461220,"display_name":"JANN RYL LUZURIAGA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679984058,"answer_count":1,"score":-2,"last_activity_date":1679544088,"creation_date":1679543903,"question_id":75819141,"body_markdown":"I just want to know how to switch the variable into another variable.. For example, I have a an individual eggs... its 12 will consider as dozen eggs, in program, if I type 12 in individual eggs, how to put a code to switch it in dozen egg..\r\n\r\nlike this:\r\n\r\nif (individualEggs==12)\r\n   convert it to dozenEggs: \r\n\r\n\r\n\r\nthe output in screen will be like this:\r\nprice of dozen egg = 1 usd\r\nprice of individual egg = .1 usd\r\n\r\n\r\ndozenEggs = 1\r\nindividualEggs = 12\r\n\r\nTHE ANSWER MUST BE 2 USD \r\nand not 2.2 usd... when it is computed.. please help me..\r\n","title":"How to switch variable into another variable once the condition is get in java if else if statement","body":"<p>I just want to know how to switch the variable into another variable.. For example, I have a an individual eggs... its 12 will consider as dozen eggs, in program, if I type 12 in individual eggs, how to put a code to switch it in dozen egg..</p>\n<p>like this:</p>\n<p>if (individualEggs==12)\nconvert it to dozenEggs:</p>\n<p>the output in screen will be like this:\nprice of dozen egg = 1 usd\nprice of individual egg = .1 usd</p>\n<p>dozenEggs = 1\nindividualEggs = 12</p>\n<p>THE ANSWER MUST BE 2 USD\nand not 2.2 usd... when it is computed.. please help me..</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","prefix","blobstore"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1679603119,"post_id":75819147,"comment_id":133755745,"body_markdown":"Firsly, your `listFiles = downfilesFromFolder(names);` should be out of the `for` scope, isn&#39;t it? In addition, did you try with a leading `/` in your &quot;directory&quot; variable?","body":"Firsly, your <code>listFiles = downfilesFromFolder(names);</code> should be out of the <code>for</code> scope, isn&#39;t it? In addition, did you try with a leading <code>&#47;</code> in your &quot;directory&quot; variable?"}],"owner":{"account_id":17304770,"reputation":1,"user_id":12533735,"display_name":"Gonzalo Iv&#225;n V&#225;zquez Jim&#233;nez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679544002,"creation_date":1679544002,"question_id":75819147,"body_markdown":"I am using Cloud Storage for save some files(Blobs) what I want to archive is access to those files in the following path: `***xml/032023/Files/Entreprise/deductions***` \r\n\r\nWhat I understood reading the documentation is that this has to be a prefix and for that I am using the following code\r\n\r\n\r\n        public static String directory= &quot;xml/032023/Files/Entreprise/deductions&quot;\r\n            \r\n    \r\n    public static List&lt;File&gt; getFilesxml() throws IOException{\r\n\r\n             List&lt;File&gt; listFiles = new ArrayList&lt;&gt;();\r\n             List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    \r\n         try{\r\n            LOGGER.info(&quot;Setting Storage Options &quot;);\r\n             Storage storage = StorageOptions.newBuilder().setProjectId(project_id).build().getService();\r\n             Page&lt;Blob&gt;  blobs = storage.list(bucketName, Storage.BlobListOption.prefix(directory),\r\n    Storage.BlobListOption.currentDirectory()));\r\n    \r\n    //Also I&#39;ve tried not using Storage.BlobListOption.currentDirectory()\r\n\r\n             \r\n            for(Blob blob: blobs.iterateAll()){\r\n                LOGGER.info(&quot;blobname: &quot;+blob.getName());\r\n    \r\n                LOGGER.info(&quot;name:&quot;+blob.getName());\r\n                names.add(blob.getName());\r\n    \r\n                listFiles = downfilesFromFolder(names);\r\n            }\r\n    \r\n         }catch (Exception e){\r\n    \r\n         }\r\n        return listFiles;\r\n        }\r\n\r\n\r\nthe download method is the next if you want to know get some files and after use them as you want \r\n\r\n    public static List&lt;File&gt; downfilesFromFolder(List&lt;String&gt; names) throws IOException {\r\n        File file = null;\r\n        List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n        try {\r\n            for(String name: names){\r\n\r\n                Storage storage = StorageOptions.getDefaultInstance().getService();\r\n\r\n                Blob blob = storage.get(BlobId.of(bucketName,  name));\r\n                String newName= name.replace(&quot;xml/&quot;,&quot;&quot;);\r\n               //This replace is beacause when I log the blobname  in the first path was xml/deduction_february.xml and after this the blobname is now deduction_february.xml\r\n                blob.downloadTo(Paths.get(&quot;/tmp/&quot; + newName));\r\n\r\n                ReadChannel readChannel = blob.reader();\r\n                file = new File(&quot;/tmp/&quot; + newName);\r\n\r\n                FileOutputStream fileOuputStream = new FileOutputStream(file);\r\n                fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n                fileOuputStream.close();\r\n                files.add(file);\r\n            }\r\n\r\n        } catch (Exception e){\r\n            LOGGER.info(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n        return files;\r\n    }\r\n\r\n\r\nWhen I log the blobname doesn&#39;t show anything in cloud console and doesn&#39;t do the next steps, how do I access to those blobs in the new path(prefix)? This worked very well when  my Files where in the first path &#39;xml&#39; but now are in other path, me and other people would very appreciate the help whith this, thanks for your help.\r\n","title":"How do I access to sub folders with a prefix in Google Cloud Storage using JAVA?","body":"<p>I am using Cloud Storage for save some files(Blobs) what I want to archive is access to those files in the following path: <code>***xml/032023/Files/Entreprise/deductions***</code></p>\n<p>What I understood reading the documentation is that this has to be a prefix and for that I am using the following code</p>\n<pre><code>    public static String directory= &quot;xml/032023/Files/Entreprise/deductions&quot;\n        \n\npublic static List&lt;File&gt; getFilesxml() throws IOException{\n\n         List&lt;File&gt; listFiles = new ArrayList&lt;&gt;();\n         List&lt;String&gt; names = new ArrayList&lt;&gt;();\n\n     try{\n        LOGGER.info(&quot;Setting Storage Options &quot;);\n         Storage storage = StorageOptions.newBuilder().setProjectId(project_id).build().getService();\n         Page&lt;Blob&gt;  blobs = storage.list(bucketName, Storage.BlobListOption.prefix(directory),\nStorage.BlobListOption.currentDirectory()));\n\n//Also I've tried not using Storage.BlobListOption.currentDirectory()\n\n         \n        for(Blob blob: blobs.iterateAll()){\n            LOGGER.info(&quot;blobname: &quot;+blob.getName());\n\n            LOGGER.info(&quot;name:&quot;+blob.getName());\n            names.add(blob.getName());\n\n            listFiles = downfilesFromFolder(names);\n        }\n\n     }catch (Exception e){\n\n     }\n    return listFiles;\n    }\n</code></pre>\n<p>the download method is the next if you want to know get some files and after use them as you want</p>\n<pre><code>public static List&lt;File&gt; downfilesFromFolder(List&lt;String&gt; names) throws IOException {\n    File file = null;\n    List&lt;File&gt; files = new ArrayList&lt;&gt;();\n    try {\n        for(String name: names){\n\n            Storage storage = StorageOptions.getDefaultInstance().getService();\n\n            Blob blob = storage.get(BlobId.of(bucketName,  name));\n            String newName= name.replace(&quot;xml/&quot;,&quot;&quot;);\n           //This replace is beacause when I log the blobname  in the first path was xml/deduction_february.xml and after this the blobname is now deduction_february.xml\n            blob.downloadTo(Paths.get(&quot;/tmp/&quot; + newName));\n\n            ReadChannel readChannel = blob.reader();\n            file = new File(&quot;/tmp/&quot; + newName);\n\n            FileOutputStream fileOuputStream = new FileOutputStream(file);\n            fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\n            fileOuputStream.close();\n            files.add(file);\n        }\n\n    } catch (Exception e){\n        LOGGER.info(&quot;Error: &quot; + e.getMessage());\n    }\n    return files;\n}\n</code></pre>\n<p>When I log the blobname doesn't show anything in cloud console and doesn't do the next steps, how do I access to those blobs in the new path(prefix)? This worked very well when  my Files where in the first path 'xml' but now are in other path, me and other people would very appreciate the help whith this, thanks for your help.</p>\n"},{"tags":["java","linux","awt","x11","x11-forwarding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679562893,"post_id":75819121,"comment_id":133744884,"body_markdown":"Almost certainly not enough packages there for successful Java gui. You should install the minimum desktop environment for your distro first and test it by running say `xeyes` over SSH before attempting your Java","body":"Almost certainly not enough packages there for successful Java gui. You should install the minimum desktop environment for your distro first and test it by running say <code>xeyes</code> over SSH before attempting your Java"}],"owner":{"account_id":28029801,"reputation":1,"user_id":21409171,"display_name":"nimesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679543572,"creation_date":1679543572,"question_id":75819121,"body_markdown":"I take a screenshot using java.awt.robot class\r\n\r\nHere is my code :\r\n\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO; public class DesktopScreenshot {\r\n        public static void main(String[] args) throws Exception {\r\n            Robot robot = new Robot();\r\n            Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n            BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\r\n            File screenshotFile = new File(&quot;screenshot.png&quot;);\r\n            ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\r\n        }\r\n    }\r\n\r\nIt is using graphics environment so i install X11 server and run on AWS linux server.\r\n\r\ninstall server &#160;: sudo apt-get install xorg-x11-server-Xorg&#160;\r\n\r\nstart X11 Server : sudo systemctl start xorg-x11-server.service or startx\r\n\r\nxhost + &#160;: access all clients.\r\n\r\nNeed a solution how client connect to X11 server.","title":"How to connect client to X11 window server run on AWS linux server","body":"<p>I take a screenshot using java.awt.robot class</p>\n<p>Here is my code :</p>\n<pre><code>import java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO; public class DesktopScreenshot {\n    public static void main(String[] args) throws Exception {\n        Robot robot = new Robot();\n        Rectangle screenShot = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n        BufferedImage screenFullImage = robot.createScreenCapture(screenShot);\n        File screenshotFile = new File(&quot;screenshot.png&quot;);\n        ImageIO.write(screenFullImage, &quot;png&quot;, screenshotFile);\n    }\n}\n</code></pre>\n<p>It is using graphics environment so i install X11 server and run on AWS linux server.</p>\n<p>install server : sudo apt-get install xorg-x11-server-Xorg</p>\n<p>start X11 Server : sudo systemctl start xorg-x11-server.service or startx</p>\n<p>xhost + : access all clients.</p>\n<p>Need a solution how client connect to X11 server.</p>\n"},{"tags":["java","jframe","icons","jlabel","windowbuilder"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679538952,"post_id":75818806,"comment_id":133741356,"body_markdown":"Add an `EmptyBorder` to each.  Make use of a layout manager which can support padding between components (like `FlowLayout`, `GridLayout` and `GridBagLayout` as some examples)","body":"Add an <code>EmptyBorder</code> to each.  Make use of a layout manager which can support padding between components (like <code>FlowLayout</code>, <code>GridLayout</code> and <code>GridBagLayout</code> as some examples)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679539837,"creation_date":1679539837,"answer_id":75818884,"question_id":75818806,"body_markdown":"See: \r\n\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n* [How to Use Borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html)\r\n\r\nfor more details...\r\n\r\n# Use an `EmptyBorder`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                leftLabel.setBorder(new EmptyBorder(8, 8, 8, 4));\r\n                rightLabel.setBorder(new EmptyBorder(8, 4, 8, 8));\r\n\r\n                JPanel imagePane = new JPanel(new GridBagLayout());\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `FlowLayout`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new FlowLayout(FlowLayout.CENTER, 8, 8));\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `GridBagLayout`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Insets;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new GridBagLayout());\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(8, 8, 8, 4);\r\n                imagePane.add(leftLabel, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(8, 4, 8, 8);\r\n                imagePane.add(rightLabel, gbc);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a `GridLayout` (and `EmptyBorder`)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel header = new JLabel(&quot;Next&quot;);\r\n                header.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                header.setHorizontalAlignment(JLabel.CENTER);\r\n                header.setOpaque(true);\r\n                header.setBackground(Color.BLUE);\r\n                header.setForeground(Color.WHITE);\r\n\r\n                add(header, BorderLayout.NORTH);\r\n\r\n                JLabel footer = new JLabel(&quot;This is the way&quot;);\r\n                footer.setBorder(new EmptyBorder(4, 0, 4, 0));\r\n                footer.setHorizontalAlignment(JLabel.CENTER);\r\n                footer.setOpaque(true);\r\n                footer.setBackground(Color.BLUE);\r\n                footer.setForeground(Color.WHITE);\r\n\r\n                add(footer, BorderLayout.SOUTH);\r\n\r\n                BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\r\n                BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\r\n\r\n                JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n                JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\r\n\r\n                JPanel imagePane = new JPanel(new GridLayout(1, 2, 8, 8));\r\n                imagePane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                imagePane.setBackground(Color.DARK_GRAY);\r\n\r\n                imagePane.add(leftLabel);\r\n                imagePane.add(rightLabel);\r\n\r\n                add(imagePane);\r\n            }\r\n        }\r\n    }\r\n\r\n# Or a combination of any...\r\n\r\nBased on your needs\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZORw.png\r\n  [2]: https://i.stack.imgur.com/Qv8Ph.png\r\n  [3]: https://i.stack.imgur.com/Rey86.png\r\n  [4]: https://i.stack.imgur.com/JEH7o.png","title":"How do I create padding between icon images that are inside of JLabels","body":"<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a></li>\n</ul>\n<p>for more details...</p>\n<h1>Use an <code>EmptyBorder</code></h1>\n<p><a href=\"https://i.stack.imgur.com/QZORw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZORw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            leftLabel.setBorder(new EmptyBorder(8, 8, 8, 4));\n            rightLabel.setBorder(new EmptyBorder(8, 4, 8, 8));\n\n            JPanel imagePane = new JPanel(new GridBagLayout());\n            imagePane.setBackground(Color.DARK_GRAY);\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>FlowLayout</code></h1>\n<p><a href=\"https://i.stack.imgur.com/Qv8Ph.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qv8Ph.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new FlowLayout(FlowLayout.CENTER, 8, 8));\n            imagePane.setBackground(Color.DARK_GRAY);\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>GridBagLayout</code></h1>\n<p><a href=\"https://i.stack.imgur.com/Rey86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rey86.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.Insets;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new GridBagLayout());\n            imagePane.setBackground(Color.DARK_GRAY);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(8, 8, 8, 4);\n            imagePane.add(leftLabel, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.insets = new Insets(8, 4, 8, 8);\n            imagePane.add(rightLabel, gbc);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Use a <code>GridLayout</code> (and <code>EmptyBorder</code>)</h1>\n<p><a href=\"https://i.stack.imgur.com/JEH7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JEH7o.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n\n            JLabel header = new JLabel(&quot;Next&quot;);\n            header.setBorder(new EmptyBorder(4, 0, 4, 0));\n            header.setHorizontalAlignment(JLabel.CENTER);\n            header.setOpaque(true);\n            header.setBackground(Color.BLUE);\n            header.setForeground(Color.WHITE);\n\n            add(header, BorderLayout.NORTH);\n\n            JLabel footer = new JLabel(&quot;This is the way&quot;);\n            footer.setBorder(new EmptyBorder(4, 0, 4, 0));\n            footer.setHorizontalAlignment(JLabel.CENTER);\n            footer.setOpaque(true);\n            footer.setBackground(Color.BLUE);\n            footer.setForeground(Color.WHITE);\n\n            add(footer, BorderLayout.SOUTH);\n\n            BufferedImage leftImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01.jpeg&quot;));\n            BufferedImage rightImage = ImageIO.read(getClass().getResource(&quot;/images/Mando02.jpeg&quot;));\n\n            JLabel leftLabel = new JLabel(new ImageIcon(leftImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n            JLabel rightLabel = new JLabel(new ImageIcon(rightImage.getScaledInstance(200, -1, Image.SCALE_SMOOTH)));\n\n            JPanel imagePane = new JPanel(new GridLayout(1, 2, 8, 8));\n            imagePane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            imagePane.setBackground(Color.DARK_GRAY);\n\n            imagePane.add(leftLabel);\n            imagePane.add(rightLabel);\n\n            add(imagePane);\n        }\n    }\n}\n</code></pre>\n<h1>Or a combination of any...</h1>\n<p>Based on your needs</p>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679575833,"accepted_answer_id":75818884,"answer_count":1,"score":-1,"last_activity_date":1679539837,"creation_date":1679538728,"question_id":75818806,"body_markdown":"I am trying to create a JFrame that has a layout like this image [desired goal][1]\r\nand what I currently have is this [current progress][2]. How do I create padding between the two images as well as at the top and bottom? I have tried using the empty border property and setting the left and right at their respective values, but the gap of space in the middle, top, and bottom does not get created.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PbAGW.png\r\n  [2]: https://i.stack.imgur.com/E9o1S.png","title":"How do I create padding between icon images that are inside of JLabels","body":"<p>I am trying to create a JFrame that has a layout like this image <a href=\"https://i.stack.imgur.com/PbAGW.png\" rel=\"nofollow noreferrer\">desired goal</a>\nand what I currently have is this <a href=\"https://i.stack.imgur.com/E9o1S.png\" rel=\"nofollow noreferrer\">current progress</a>. How do I create padding between the two images as well as at the top and bottom? I have tried using the empty border property and setting the left and right at their respective values, but the gap of space in the middle, top, and bottom does not get created.</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679539280,"creation_date":1679539280,"answer_id":75818848,"question_id":75818695,"body_markdown":"You can use `th:text` to set the content of the `&lt;textarea&gt;`:\r\n\r\n```\r\n&lt;textarea id=&quot;description&quot; th:name=&quot;description&quot; th:text=&quot;${description}&quot; \r\n          placeholder=&quot;Enter content&quot;&gt;&lt;/textarea&gt;\r\n```","title":"Thymeleaf th:field in textarea not working","body":"<p>You can use <code>th:text</code> to set the content of the <code>&lt;textarea&gt;</code>:</p>\n<pre><code>&lt;textarea id=&quot;description&quot; th:name=&quot;description&quot; th:text=&quot;${description}&quot; \n          placeholder=&quot;Enter content&quot;&gt;&lt;/textarea&gt;\n</code></pre>\n"}],"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818848,"answer_count":1,"score":0,"last_activity_date":1679539416,"creation_date":1679536717,"question_id":75818695,"body_markdown":"I have a description in several languages, using thymeleaf I came across the fact that th:field in textarea not working!\r\n\r\nAt the same time th:text or th:value in input works and updates the data on POST request.\r\n\r\n**Please help me find the cause**\r\n\r\n[enter image description here][1]\r\n\r\n```\r\n&lt;label&gt;Description&lt;/label&gt;\r\n&lt;textarea id=&quot;description&quot; th:field=&quot;*{description}&quot; placeholder=&quot;Enter content&quot;&gt;\r\n&lt;/textarea&gt;\r\n\r\n//This works, but I need to use &quot;textarea&quot;\r\n&lt;input type=&quot;text&quot; th:value=&quot;${description}&quot; th:name=&quot;description&quot;/&gt;\r\n\r\n//Controller\r\n@GetMapping(&quot;/{language}/post/{id}/edit&quot;)\r\n    public String editPost(@PathVariable Language language,\r\n                                   @PathVariable Long id,\r\n                                   Model model) throws Exception {\r\n\r\n        model.addAttribute(&quot;post&quot;, postService.getPost(id));\r\n        model.addAttribute(&quot;language&quot;, language.getCode());\r\n\r\n        String description = postService.getDescription(id, language);\r\n        model.addAttribute(&quot;description&quot;, description);\r\n        return &quot;admin/post-edit&quot;;\r\n    }\r\n```\r\n\r\nTried different options - nothing helps (((\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CWrMO.png","title":"Thymeleaf th:field in textarea not working","body":"<p>I have a description in several languages, using thymeleaf I came across the fact that th:field in textarea not working!</p>\n<p>At the same time th:text or th:value in input works and updates the data on POST request.</p>\n<p><strong>Please help me find the cause</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CWrMO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&lt;label&gt;Description&lt;/label&gt;\n&lt;textarea id=&quot;description&quot; th:field=&quot;*{description}&quot; placeholder=&quot;Enter content&quot;&gt;\n&lt;/textarea&gt;\n\n//This works, but I need to use &quot;textarea&quot;\n&lt;input type=&quot;text&quot; th:value=&quot;${description}&quot; th:name=&quot;description&quot;/&gt;\n\n//Controller\n@GetMapping(&quot;/{language}/post/{id}/edit&quot;)\n    public String editPost(@PathVariable Language language,\n                                   @PathVariable Long id,\n                                   Model model) throws Exception {\n\n        model.addAttribute(&quot;post&quot;, postService.getPost(id));\n        model.addAttribute(&quot;language&quot;, language.getCode());\n\n        String description = postService.getDescription(id, language);\n        model.addAttribute(&quot;description&quot;, description);\n        return &quot;admin/post-edit&quot;;\n    }\n</code></pre>\n<p>Tried different options - nothing helps (((</p>\n"},{"tags":["java","spring","hibernate","jpa","criteria"],"owner":{"account_id":21106769,"reputation":27,"user_id":15515589,"display_name":"Hemant singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679539248,"creation_date":1679503673,"question_id":75815067,"body_markdown":"I have two classes User and UserAssociation \r\nUser has OnetoMany mapping of UserAssociation\r\nI&#39;m using Jpa Criteria To Fecth User but when i try to lazy fetch UserAssociation it skips the Filter\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@MappedSuperclass\r\n@AllArgsConstructor\r\n@SuppressWarnings(&quot;serial&quot;)\r\n@EqualsAndHashCode(of = { &quot;id&quot; })\r\n@NoArgsConstructor\r\n@SuperBuilder\r\npublic abstract class AbstractJpaEntity implements Serializable {\r\n\r\n\t@Id\r\n\tprotected Long id;\r\n\r\n\t@CreatedDate\r\n\t@Column(name = &quot;created_at&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Date createdAt;\r\n\r\n\t@LastModifiedDate\r\n\t@Column(name = &quot;updated_at&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Date updatedAt;\r\n\t\r\n\t@CreatedBy\r\n\t@Column(name = &quot;created_by&quot;, nullable = true)\r\n\t@IgnoreFromAuditLog\r\n\tprotected String createdBy;\r\n\r\n\t@LastModifiedBy\r\n\t@Column(name = &quot;updated_by&quot;, nullable = true)\r\n\t@IgnoreFromAuditLog\r\n\tprotected String updatedBy;\r\n\r\n\t@Column(name = &quot;published&quot;, columnDefinition = &quot;bit(1) default 1&quot;)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Boolean isPublished = true;\r\n\r\n\t@Column(name = &quot;deleted&quot;, columnDefinition = &quot;bit(1) default 0&quot;)\r\n\t@IgnoreFromAuditLog\r\n\tprotected Boolean isDeleted = false;\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true)\r\n@MappedSuperclass\r\n@SuppressWarnings(&quot;serial&quot;)\r\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\r\n@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot;TENANT = :tenant&quot;)\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\npublic abstract class AbstractTenantJpaEntity extends AbstractJpaEntity {\r\n\t\r\n    @Column(name = &quot;TENANT&quot;)\r\n    protected Long tenant;\r\n\t\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\r\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = {  &quot;email&quot; })})\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@EqualsAndHashCode(callSuper = true,onlyExplicitlyIncluded = true)\r\npublic class User extends AbstractJpaEntity {\r\n\t@Getter\r\n\t@Column(name=&quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\t@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot; tenant in (:tenant)&quot;)\r\n\tprivate List&lt;UserAssociation&gt; mappings;\r\n\r\n}\r\n\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;user_resource_mapping&quot;)\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\npublic class UserAssociation extends AbstractTenantJpaEntity  {\r\n\t@Column(name = &quot;ROLE&quot;)\r\n\tprivate String roleName;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;user_id&quot;)\r\n\tUser user;\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nafter getting User Entity When I do user.getUserAssociation\r\n\r\nit should give me only records those are part of a specific tenant\r\n\r\ntried adding filters as in the code but it doesnt work \r\n```\r\nSession session = (Session)entityManager.getDelegate();\r\nFilter filter = session.enableFilter(CommonConstants.TENANT_FILTER);\r\nfilter.setParameter(&quot;tenant&quot;,requestDto.getTenant());\r\n--fetch user then user.getUserAssociation--\r\nsession.disableFilter(CommonConstants.TENANT_FILTER);\r\n```\r\n\r\nsuppose User has 3 entries in UserResource:\r\n\r\nid=1, tenant=2, role=&quot;USER&quot;, user_id=1&lt;br/&gt;\r\nid=2, tenant=4, role=&quot;SALES&quot;, user_id=1&lt;br/&gt;\r\nid=3, tenant=3, role=&quot;ADMIN&quot;, user_id=1&lt;br/&gt;\r\n\r\nwhen i get user.getUserAssociation my expectation here is it should return me 3rd row as i am setting tenant param as 3 but it gives me all three ","title":"Get Filtered Nested Entity","body":"<p>I have two classes User and UserAssociation\nUser has OnetoMany mapping of UserAssociation\nI'm using Jpa Criteria To Fecth User but when i try to lazy fetch UserAssociation it skips the Filter</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@MappedSuperclass\n@AllArgsConstructor\n@SuppressWarnings(&quot;serial&quot;)\n@EqualsAndHashCode(of = { &quot;id&quot; })\n@NoArgsConstructor\n@SuperBuilder\npublic abstract class AbstractJpaEntity implements Serializable {\n\n    @Id\n    protected Long id;\n\n    @CreatedDate\n    @Column(name = &quot;created_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @IgnoreFromAuditLog\n    protected Date createdAt;\n\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @IgnoreFromAuditLog\n    protected Date updatedAt;\n    \n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = true)\n    @IgnoreFromAuditLog\n    protected String createdBy;\n\n    @LastModifiedBy\n    @Column(name = &quot;updated_by&quot;, nullable = true)\n    @IgnoreFromAuditLog\n    protected String updatedBy;\n\n    @Column(name = &quot;published&quot;, columnDefinition = &quot;bit(1) default 1&quot;)\n    @IgnoreFromAuditLog\n    protected Boolean isPublished = true;\n\n    @Column(name = &quot;deleted&quot;, columnDefinition = &quot;bit(1) default 0&quot;)\n    @IgnoreFromAuditLog\n    protected Boolean isDeleted = false;\n}\n\n\n@Getter\n@Setter\n@ToString(callSuper = true)\n@MappedSuperclass\n@SuppressWarnings(&quot;serial&quot;)\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\n@Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot;TENANT = :tenant&quot;)\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic abstract class AbstractTenantJpaEntity extends AbstractJpaEntity {\n    \n    @Column(name = &quot;TENANT&quot;)\n    protected Long tenant;\n    \n}\n\n@Entity\n@Getter\n@Setter\n@FilterDef(name = CommonConstants.TENANT_FILTER, parameters = {@ParamDef(name=&quot;tenant&quot;, type = &quot;long&quot;)})\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = {  &quot;email&quot; })})\n@NoArgsConstructor\n@SuperBuilder\n@EqualsAndHashCode(callSuper = true,onlyExplicitlyIncluded = true)\npublic class User extends AbstractJpaEntity {\n    @Getter\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;)\n    @Filter(name =  CommonConstants.TENANT_FILTER, condition = &quot; tenant in (:tenant)&quot;)\n    private List&lt;UserAssociation&gt; mappings;\n\n}\n\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;user_resource_mapping&quot;)\n@NoArgsConstructor\n@SuperBuilder\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\npublic class UserAssociation extends AbstractTenantJpaEntity  {\n    @Column(name = &quot;ROLE&quot;)\n    private String roleName;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;)\n    User user;\n    \n}\n</code></pre>\n<p>after getting User Entity When I do user.getUserAssociation</p>\n<p>it should give me only records those are part of a specific tenant</p>\n<p>tried adding filters as in the code but it doesnt work</p>\n<pre><code>Session session = (Session)entityManager.getDelegate();\nFilter filter = session.enableFilter(CommonConstants.TENANT_FILTER);\nfilter.setParameter(&quot;tenant&quot;,requestDto.getTenant());\n--fetch user then user.getUserAssociation--\nsession.disableFilter(CommonConstants.TENANT_FILTER);\n</code></pre>\n<p>suppose User has 3 entries in UserResource:</p>\n<p>id=1, tenant=2, role=&quot;USER&quot;, user_id=1<br/>\nid=2, tenant=4, role=&quot;SALES&quot;, user_id=1<br/>\nid=3, tenant=3, role=&quot;ADMIN&quot;, user_id=1<br/></p>\n<p>when i get user.getUserAssociation my expectation here is it should return me 3rd row as i am setting tenant param as 3 but it gives me all three</p>\n"},{"tags":["java","spring-boot","selenium-webdriver","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1679432303,"post_id":75803592,"comment_id":133720886,"body_markdown":"You&#39;re using Spring, so your autowired `WebDriver` is a singleton shared between all scenarios. Have a look at https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps. You can change the `TestUserInformation` to hold a webdriver that you create before each test.","body":"You&#39;re using Spring, so your autowired <code>WebDriver</code> is a singleton shared between all scenarios. Have a look at <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>. You can change the <code>TestUserInformation</code> to hold a webdriver that you create before each test."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679451084,"post_id":75803592,"comment_id":133723672,"body_markdown":"Can I add the user information for all scenarios (i mean for a signup, login ,and some other form) in one TestUserInformation file or do I need to create separate test user information.","body":"Can I add the user information for all scenarios (i mean for a signup, login ,and some other form) in one TestUserInformation file or do I need to create separate test user information."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679452008,"post_id":75803592,"comment_id":133723790,"body_markdown":"It didn&#39;t work same error exists saying org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?","body":"It didn&#39;t work same error exists saying org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1679486899,"post_id":75803592,"comment_id":133729885,"body_markdown":"It&#39;s hard to say &quot;what didn&#39;t work&quot;. You&#39;ve not really explained how you created your webdriver or what you&#39;ve changed now. Perhaps you can start a new question. And it is also worth starting with a small toy project to help you debug things before you ask that question. See: https://stackoverflow.com/help/minimal-reproducible-example","body":"It&#39;s hard to say &quot;what didn&#39;t work&quot;. You&#39;ve not really explained how you created your webdriver or what you&#39;ve changed now. Perhaps you can start a new question. And it is also worth starting with a small toy project to help you debug things before you ask that question. See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679501472,"post_id":75803592,"comment_id":133734440,"body_markdown":"Sorry for that. Updated the question","body":"Sorry for that. Updated the question"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679506836,"post_id":75803592,"comment_id":133735892,"body_markdown":"You&#39;re still creating the webdriver as a singleton `@Bean public WebDriver getChromeDriver()`.","body":"You&#39;re still creating the webdriver as a singleton <code>@Bean public WebDriver getChromeDriver()</code>."},{"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"score":0,"creation_date":1679524937,"post_id":75803592,"comment_id":133739801,"body_markdown":"We need to use the webdriver as a  singleton to access across the classes right?. what will be the solution.","body":"We need to use the webdriver as a  singleton to access across the classes right?. what will be the solution."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1679532778,"post_id":75803592,"comment_id":133740745,"body_markdown":"You can manually create and destroy the webdriver and put it into a scenario scoped holder class (like the `TestUserInformation` example) or use the scenario scope annotation on the bean declaration, though in that case you may have to check how to close the driver when the scenario scope ends.","body":"You can manually create and destroy the webdriver and put it into a scenario scoped holder class (like the <code>TestUserInformation</code> example) or use the scenario scope annotation on the bean declaration, though in that case you may have to check how to close the driver when the scenario scope ends."}],"answers":[{"tags":[],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679538930,"creation_date":1679538930,"answer_id":75818818,"question_id":75803592,"body_markdown":"I Added pageScope file and changed the @component to @pageScope in the pages file(login page). It working fine and also I removed the webdriver.quit(). browser was closed by the selenium as soon as the test is done.\r\n\r\n```\r\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\nimport org.springframework.context.annotation.Scope;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Component\r\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n@Documented\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PageScope {\r\n}\r\n```","title":"Scenario steps are ignored","body":"<p>I Added pageScope file and changed the @component to @pageScope in the pages file(login page). It working fine and also I removed the webdriver.quit(). browser was closed by the selenium as soon as the test is done.</p>\n<pre><code>import org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.annotation.*;\n\n@Component\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n@Documented\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PageScope {\n}\n</code></pre>\n"}],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75818818,"answer_count":1,"score":0,"last_activity_date":1679538930,"creation_date":1679414648,"question_id":75803592,"body_markdown":"I have created multiple login scenarios in one feature file. When I execute each scenario separately it&#39;s working fine without any errors. When I execute the login feature file only the first scenario is executed and other scenario steps are ignored.\r\n\r\nWebDriver Library:\r\n```\r\n@Configuration\r\n//@Profile(&quot;!remote&quot;)\r\npublic class WebDriverLibrary {\r\n    @Value(&quot;${remote.url}&quot;)\r\n    private URL remoteUrl;\r\n\r\n\r\n    @Value(&quot;${browser}&quot;)\r\n    private String browser;\r\n\r\n    @Bean\r\n    public WebDriver getChromeDriver(){\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        return new ChromeDriver(chromeOptions);\r\n    }\r\n```\r\n\r\nBasePage:\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\npublic abstract class basePage {\r\n\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @PostConstruct\r\n    public void InitPage(){\r\n        PageFactory.initElements(webDriver, this);\r\n    }\r\n}\r\n```\r\nLogin Feature File:\r\n\r\n```\r\nFeature: Login Feature\r\n  This feature will deal with Login Functionality of the application\r\n\r\n  Scenario: Login with Valid Credential\r\n    Given User is on Landing Page\r\n    And Navigate to Login Page\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should be navigated to Questionnaire form\r\n\r\n  Scenario: Login with InValid Credential\r\n    Given User is on Landing Page\r\n    And Navigate to Login Page\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n\r\n  Scenario: Navigating to Login Page through SignUp Page\r\n    Given User is on Landing Page\r\n    And Navigate to SignUp Page\r\n    And Click on Login link\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n\r\n  Scenario: Navigating to Login Page through Login button from NavBar\r\n    Given User is on Landing Page\r\n    And Click on Login button in NavBar\r\n    And User enter email and Password\r\n    And User click Login Button\r\n    Then User should get error message\r\n```\r\n\r\nI created a step definition file through &quot;create all step definition&quot; option. \r\n\r\nLogin Step Definition:\r\n\r\n```\r\npublic class LoginSteps {\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @Autowired\r\n    private LandingPage landingPage;\r\n\r\n    @Autowired\r\n    private LoginPage loginPage;\r\n\r\n    @Autowired\r\n    private SignUpPage signUpPage;\r\n\r\n    @Autowired\r\n    private QuestionnairePage questionnairePage;\r\n\r\n    @Given(&quot;User is on Landing Page&quot;)\r\n    public void userIsOnLandingPage() {\r\n        Assert.assertTrue(landingPage.btnGetStarted.isDisplayed());\r\n    }\r\n\r\n    @And(&quot;Navigate to Login Page&quot;)\r\n    public void navigateToLoginPage() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        landingPage.btnGetStarted.click();\r\n    }\r\n\r\n    @And(&quot;User enter email and Password&quot;)\r\n    public void userEnterEmailAndPassword() {\r\n        loginPage.LoginDetails();\r\n    }\r\n\r\n    @And(&quot;User click Login Button&quot;)\r\n    public void userClickLoginButton() {\r\n        loginPage.btnLogininLoginPage.click();\r\n    }\r\n\r\n    @Then(&quot;User should be navigated to Questionnaire form&quot;)\r\n    public void userShouldBeNavigatedToQuestionnaireForm() {\r\n        System.out.println(&quot;User Navigated to Questionnaire page&quot;);\r\n//        Assert.assertTrue(questionnairePage.qusTitle.getText().contentEquals(&quot;Questionnaire Form&quot;));\r\n    }\r\n\r\n    @Then(&quot;User should get error message&quot;)\r\n    public void userShouldGetErrorMessage() {\r\n        System.out.println(&quot;Error Message&quot;);\r\n    }\r\n\r\n    @And(&quot;Navigate to SignUp Page&quot;)\r\n    public void navigateToSignUpPage() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/Signup&quot;);\r\n//        landingPage.btnsignUpForFree.click();\r\n    }\r\n\r\n    @And(&quot;Click on Login link&quot;)\r\n    public void clickOnLoginLink() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        signUpPage.lnkLogin.click();\r\n    }\r\n\r\n    @And(&quot;Click on Login button in NavBar&quot;)\r\n    public void clickOnLoginButtonInNavBar() {\r\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\r\n//        landingPage.btnNavBarLogin.click();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nCucumber Hook file:\r\n\r\n```\r\npublic class Hooks {\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @Value(&quot;${app.url}&quot;)\r\n    private String appUrl;\r\n\r\n    @Before\r\n    public void InitializeTest(Scenario scenario){\r\n        webDriver.navigate().to(appUrl);\r\n        webDriver.manage().window().maximize();\r\n    }\r\n\r\n    @After\r\n    public void TearDownTest(Scenario scenario){\r\n        if(scenario.isFailed()){\r\n            System.out.println(scenario.getName());\r\n        }\r\n        webDriver.quit();\r\n    }\r\n}\r\n```\r\n\r\nTestRunner:\r\n```\r\n@CucumberOptions(\r\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\r\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n```\r\n\r\nWithout using the webdriver.quit() the browser is closed. is it necessary to add the @After?\r\nTest Report:\r\n\r\nLogin with InValid Credential\r\n1.95 spassedBefore\r\n16 msfailedUser is on Landing Page\r\nStep failedorg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\nBuild info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\nSystem info: host: &#39;DESKTOP-55B4PJT&#39;, ip: &#39;192.168.1.66&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, findElement {using=xpath, value=//button[contains(text(),&#39;Get Started&#39;)]}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\santh\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:55962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:55962/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\r\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\r\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\r\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\nat jdk.proxy2/jdk.proxy2.$Proxy118.isDisplayed(Unknown Source)\r\nat com.ksupwlt.stepcounttracker.steps.LoginSteps.userIsOnLandingPage(LoginSteps.java:35)\r\nat ?.User is on Landing Page(file:///C:/Sandy/Spring_2023/Capstone/KSU%20Patient%20Weight%20Loss%20Tracker/src/test/java/com/ksupwlt/stepcounttracker/features/Login.feature:12)\r\n0 msignoredNavigate to Login Page\r\n0 msignoredUser enter email and Password\r\n0 msignoredUser click Login Button\r\n0 msignoredUser should get error message\r\n238 mspassedAfter\r\n\r\n[![Screenshot of error message][1]][1]\r\n\r\n\r\n[![Screenshot for reference][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10Au0.jpg\r\n  [2]: https://i.stack.imgur.com/tq0gN.png","title":"Scenario steps are ignored","body":"<p>I have created multiple login scenarios in one feature file. When I execute each scenario separately it's working fine without any errors. When I execute the login feature file only the first scenario is executed and other scenario steps are ignored.</p>\n<p>WebDriver Library:</p>\n<pre><code>@Configuration\n//@Profile(&quot;!remote&quot;)\npublic class WebDriverLibrary {\n    @Value(&quot;${remote.url}&quot;)\n    private URL remoteUrl;\n\n\n    @Value(&quot;${browser}&quot;)\n    private String browser;\n\n    @Bean\n    public WebDriver getChromeDriver(){\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        return new ChromeDriver(chromeOptions);\n    }\n</code></pre>\n<p>BasePage:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.annotation.PostConstruct;\n\npublic abstract class basePage {\n\n    @Autowired\n    private WebDriver webDriver;\n\n    @PostConstruct\n    public void InitPage(){\n        PageFactory.initElements(webDriver, this);\n    }\n}\n</code></pre>\n<p>Login Feature File:</p>\n<pre><code>Feature: Login Feature\n  This feature will deal with Login Functionality of the application\n\n  Scenario: Login with Valid Credential\n    Given User is on Landing Page\n    And Navigate to Login Page\n    And User enter email and Password\n    And User click Login Button\n    Then User should be navigated to Questionnaire form\n\n  Scenario: Login with InValid Credential\n    Given User is on Landing Page\n    And Navigate to Login Page\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n\n  Scenario: Navigating to Login Page through SignUp Page\n    Given User is on Landing Page\n    And Navigate to SignUp Page\n    And Click on Login link\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n\n  Scenario: Navigating to Login Page through Login button from NavBar\n    Given User is on Landing Page\n    And Click on Login button in NavBar\n    And User enter email and Password\n    And User click Login Button\n    Then User should get error message\n</code></pre>\n<p>I created a step definition file through &quot;create all step definition&quot; option.</p>\n<p>Login Step Definition:</p>\n<pre><code>public class LoginSteps {\n    @Autowired\n    private WebDriver webDriver;\n\n    @Autowired\n    private LandingPage landingPage;\n\n    @Autowired\n    private LoginPage loginPage;\n\n    @Autowired\n    private SignUpPage signUpPage;\n\n    @Autowired\n    private QuestionnairePage questionnairePage;\n\n    @Given(&quot;User is on Landing Page&quot;)\n    public void userIsOnLandingPage() {\n        Assert.assertTrue(landingPage.btnGetStarted.isDisplayed());\n    }\n\n    @And(&quot;Navigate to Login Page&quot;)\n    public void navigateToLoginPage() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        landingPage.btnGetStarted.click();\n    }\n\n    @And(&quot;User enter email and Password&quot;)\n    public void userEnterEmailAndPassword() {\n        loginPage.LoginDetails();\n    }\n\n    @And(&quot;User click Login Button&quot;)\n    public void userClickLoginButton() {\n        loginPage.btnLogininLoginPage.click();\n    }\n\n    @Then(&quot;User should be navigated to Questionnaire form&quot;)\n    public void userShouldBeNavigatedToQuestionnaireForm() {\n        System.out.println(&quot;User Navigated to Questionnaire page&quot;);\n//        Assert.assertTrue(questionnairePage.qusTitle.getText().contentEquals(&quot;Questionnaire Form&quot;));\n    }\n\n    @Then(&quot;User should get error message&quot;)\n    public void userShouldGetErrorMessage() {\n        System.out.println(&quot;Error Message&quot;);\n    }\n\n    @And(&quot;Navigate to SignUp Page&quot;)\n    public void navigateToSignUpPage() {\n        webDriver.navigate().to(&quot;http://localhost:4200/Signup&quot;);\n//        landingPage.btnsignUpForFree.click();\n    }\n\n    @And(&quot;Click on Login link&quot;)\n    public void clickOnLoginLink() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        signUpPage.lnkLogin.click();\n    }\n\n    @And(&quot;Click on Login button in NavBar&quot;)\n    public void clickOnLoginButtonInNavBar() {\n        webDriver.navigate().to(&quot;http://localhost:4200/login&quot;);\n//        landingPage.btnNavBarLogin.click();\n    }\n\n\n}\n\n</code></pre>\n<p>Cucumber Hook file:</p>\n<pre><code>public class Hooks {\n    @Autowired\n    private WebDriver webDriver;\n\n    @Value(&quot;${app.url}&quot;)\n    private String appUrl;\n\n    @Before\n    public void InitializeTest(Scenario scenario){\n        webDriver.navigate().to(appUrl);\n        webDriver.manage().window().maximize();\n    }\n\n    @After\n    public void TearDownTest(Scenario scenario){\n        if(scenario.isFailed()){\n            System.out.println(scenario.getName());\n        }\n        webDriver.quit();\n    }\n}\n</code></pre>\n<p>TestRunner:</p>\n<pre><code>@CucumberOptions(\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n</code></pre>\n<p>Without using the webdriver.quit() the browser is closed. is it necessary to add the @After?\nTest Report:</p>\n<p>Login with InValid Credential\n1.95 spassedBefore\n16 msfailedUser is on Landing Page\nStep failedorg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\nBuild info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'DESKTOP-55B4PJT', ip: '192.168.1.66', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, findElement {using=xpath, value=//button[contains(text(),'Get Started')]}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.65, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\santh\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:55962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:55962/devtoo..., se:cdpVersion: 111.0.5563.65, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\nat jdk.proxy2/jdk.proxy2.$Proxy118.isDisplayed(Unknown Source)\nat com.ksupwlt.stepcounttracker.steps.LoginSteps.userIsOnLandingPage(LoginSteps.java:35)\nat ?.User is on Landing Page(file:///C:/Sandy/Spring_2023/Capstone/KSU%20Patient%20Weight%20Loss%20Tracker/src/test/java/com/ksupwlt/stepcounttracker/features/Login.feature:12)\n0 msignoredNavigate to Login Page\n0 msignoredUser enter email and Password\n0 msignoredUser click Login Button\n0 msignoredUser should get error message\n238 mspassedAfter</p>\n<p><a href=\"https://i.stack.imgur.com/10Au0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10Au0.jpg\" alt=\"Screenshot of error message\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tq0gN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tq0gN.png\" alt=\"Screenshot for reference\" /></a></p>\n"},{"tags":["java","jasper-reports","beanshell","sailpoint"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1620663337,"post_id":67474007,"comment_id":119261096,"body_markdown":"Welcome to Stack Overflow! Visit the [help], take the [tour] to see what and [ask]. This question seems to belong on superuser more than Stackoverflow","body":"Welcome to Stack Overflow! Visit the <a href=\"https://stackoverflow.com/help\">help center</a>, take the <a href=\"https://stackoverflow.com/tour\">tour</a> to see what and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. This question seems to belong on superuser more than Stackoverflow"},{"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"score":0,"creation_date":1620668191,"post_id":67474007,"comment_id":119263140,"body_markdown":"It is likely that this will require programmatic intervention and will likely be in the form of a plugin if it can&#39;t be obtained with out-of-the-box functionality - with that extra information would you still direct it to the superuser forum?","body":"It is likely that this will require programmatic intervention and will likely be in the form of a plugin if it can&#39;t be obtained with out-of-the-box functionality - with that extra information would you still direct it to the superuser forum?"}],"answers":[{"tags":[],"owner":{"account_id":20454171,"reputation":485,"user_id":15008233,"display_name":"shikida"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679538175,"creation_date":1626211729,"answer_id":68369510,"question_id":67474007,"body_markdown":"I think you don&#39;t have good options here.\r\n\r\nWhat comes to my mind is to create these reports programatically (writing some script to generate the XML artifact for the `TaskDefinition` and importing/exporting using IIQDA for example) and maintain them in the same way, so everytime you need to change each one of these hundreds of artifacts, you can just re-generate them via code.\r\n\r\nThe only thing I&#39;d do in a different way is to use 94 scopes for each 5-set report instead of using capabilities.","title":"SailPoint reporting limit user view","body":"<p>I think you don't have good options here.</p>\n<p>What comes to my mind is to create these reports programatically (writing some script to generate the XML artifact for the <code>TaskDefinition</code> and importing/exporting using IIQDA for example) and maintain them in the same way, so everytime you need to change each one of these hundreds of artifacts, you can just re-generate them via code.</p>\n<p>The only thing I'd do in a different way is to use 94 scopes for each 5-set report instead of using capabilities.</p>\n"}],"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":68369510,"answer_count":1,"score":0,"last_activity_date":1679538175,"creation_date":1620663207,"question_id":67474007,"body_markdown":"We have 5 custom reports for our 94 districts. A capability grants access to these custom reports. \r\n\r\nThe issue is that each district should not see the report results from another district.\r\n\r\nCurrently, the only alternative is to create 5 * 94 = 470 custom reports, granting a set of 5 to each district. However, this is cumbersome when a report needs to be updated.\r\nTaskDefinitions (Reports) create TaskResult objects (the result of a report). In addition, to the TaskResult object, a JasperReport object is created. Neither the TaskResult/JasperResult object &quot;re-executes&quot;  BeanShell when you open the task result.\r\n\r\nIs there a way to only have 5 reports and scope the results so that only users in that district can see them?\r\n\r\nI have an example of how this might be achieved when based on this code below which will look at the scope(s) of the one who is running the report. It will only return identities that are in the same scope as the one that is running the report\r\n\r\n    // Retrieve Scope of Executor then filter all Identities on that Scope only\r\n    import org.apache.commons.logging.Log;\r\n    import sailpoint.object.Filter;\r\n    import sailpoint.object.Identity;\r\n    import sailpoint.object.Scope;\r\n                          \r\n    \r\n    Identity identity = context.getObjectByName(Identity.class, arguments.get(&quot;launcher&quot;));\r\n                          \r\n    if (identity != null) {\r\n      String scopeName = identity.getAssignedScope().getDisplayableName();\r\n      List roleFilters = new ArrayList();\r\n    \t\r\n      if (scopeName!= null) {                          \r\n        roleFilters.add(Filter.eq(&quot;identity.assignedScope.name&quot;, scopeName));\r\n      }\r\n                        \r\n      if (!roleFilters.isEmpty()) {\r\n        queryOptions.addFilter(Filter.or(roleFilters));\r\n      }\r\n    } else {\r\n      // When Saving with Preview or Execute the Launcher is empty so all results would be shown.\r\n      // This filter will prevent that (creates empty report, it works when executed from the My Reports \r\n      queryOptions.addFilter(Filter.eq(&quot;identity.name&quot;, &quot;xxx&quot;));\r\n    }\r\n    \r\n    return queryOptions;\r\n\r\nThe problem with the code sample above:\r\n\r\nThis will create the report intended for Group A, however Group B, and C will also be able to view it.\r\n\r\nSo the end goal is to have one report that anyone can run, however only the data that is associated with that scope is visible no matter what user group is involved (scope). So Group B would only be able to view Group B even if Group A ran it.","title":"SailPoint reporting limit user view","body":"<p>We have 5 custom reports for our 94 districts. A capability grants access to these custom reports.</p>\n<p>The issue is that each district should not see the report results from another district.</p>\n<p>Currently, the only alternative is to create 5 * 94 = 470 custom reports, granting a set of 5 to each district. However, this is cumbersome when a report needs to be updated.\nTaskDefinitions (Reports) create TaskResult objects (the result of a report). In addition, to the TaskResult object, a JasperReport object is created. Neither the TaskResult/JasperResult object &quot;re-executes&quot;  BeanShell when you open the task result.</p>\n<p>Is there a way to only have 5 reports and scope the results so that only users in that district can see them?</p>\n<p>I have an example of how this might be achieved when based on this code below which will look at the scope(s) of the one who is running the report. It will only return identities that are in the same scope as the one that is running the report</p>\n<pre><code>// Retrieve Scope of Executor then filter all Identities on that Scope only\nimport org.apache.commons.logging.Log;\nimport sailpoint.object.Filter;\nimport sailpoint.object.Identity;\nimport sailpoint.object.Scope;\n                      \n\nIdentity identity = context.getObjectByName(Identity.class, arguments.get(&quot;launcher&quot;));\n                      \nif (identity != null) {\n  String scopeName = identity.getAssignedScope().getDisplayableName();\n  List roleFilters = new ArrayList();\n    \n  if (scopeName!= null) {                          \n    roleFilters.add(Filter.eq(&quot;identity.assignedScope.name&quot;, scopeName));\n  }\n                    \n  if (!roleFilters.isEmpty()) {\n    queryOptions.addFilter(Filter.or(roleFilters));\n  }\n} else {\n  // When Saving with Preview or Execute the Launcher is empty so all results would be shown.\n  // This filter will prevent that (creates empty report, it works when executed from the My Reports \n  queryOptions.addFilter(Filter.eq(&quot;identity.name&quot;, &quot;xxx&quot;));\n}\n\nreturn queryOptions;\n</code></pre>\n<p>The problem with the code sample above:</p>\n<p>This will create the report intended for Group A, however Group B, and C will also be able to view it.</p>\n<p>So the end goal is to have one report that anyone can run, however only the data that is associated with that scope is visible no matter what user group is involved (scope). So Group B would only be able to view Group B even if Group A ran it.</p>\n"},{"tags":["java","android","sms","mms","rich-communications-services"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1679589510,"post_id":75815962,"comment_id":133752444,"body_markdown":"I haven&#39;t done any actual testing yet, but it&#39;s starting to look like that functionality is specific to Google Messages. That is, their app just happens to use the MMS Provider to store its RCS, but other apps won&#39;t necessarily do that.","body":"I haven&#39;t done any actual testing yet, but it&#39;s starting to look like that functionality is specific to Google Messages. That is, their app just happens to use the MMS Provider to store its RCS, but other apps won&#39;t necessarily do that."},{"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"score":0,"creation_date":1679679010,"post_id":75815962,"comment_id":133770241,"body_markdown":"I was pretty sure about that but I saw someone on here saying they tested it working on Samsung devices. I guess I&#39;d have to be using Google Messages and not Samsung messages. Actually, I may just test that and see. If Google Messages stores RCS in the MMS provider then maybe I&#39;ll just switch.","body":"I was pretty sure about that but I saw someone on here saying they tested it working on Samsung devices. I guess I&#39;d have to be using Google Messages and not Samsung messages. Actually, I may just test that and see. If Google Messages stores RCS in the MMS provider then maybe I&#39;ll just switch."},{"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"score":0,"creation_date":1679970129,"post_id":75815962,"comment_id":133812672,"body_markdown":"I switched to Google Messages and I am unsure why the heck I have been using Samsung Messages for so long. Not only can I grab the messages from Google Messages using the MMS fetcher, but the interface is also much better and less buggy. Glad I switched! :)","body":"I switched to Google Messages and I am unsure why the heck I have been using Samsung Messages for so long. Not only can I grab the messages from Google Messages using the MMS fetcher, but the interface is also much better and less buggy. Glad I switched! :)"}],"owner":{"account_id":3066535,"reputation":1,"user_id":2598097,"display_name":"Sonny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679536679,"creation_date":1679509236,"question_id":75815962,"body_markdown":"I am using this code below to grab MMS. I read in other places that RCS was held here on my samsung galaxy phone. However, My code is not grabbing the RCS messages. It only appears to be grabbing the MMS as far as I can tell. \r\n\r\n\r\n```\r\n        Uri uri = Telephony.Mms.CONTENT_URI;\r\n\r\n        String[] projection = new String[]{\r\n                Telephony.Mms.DATE,\r\n                Telephony.Mms._ID\r\n        };\r\n\r\n        String selection = Telephony.Mms.DATE + &quot; BETWEEN ? AND ?&quot;;\r\n        String[] selectionArgs = new String[]{\r\n                String.valueOf(startTime.getTime() / 1000),\r\n                String.valueOf(endTime.getTime() / 1000)\r\n        };\r\n        \r\n        String sortBy = Telephony.Mms.DATE + &quot; ASC&quot;;\r\n\r\n        Cursor cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, sortBy);\r\n```\r\n\r\n\r\nI am unsure what else to try. I don&#39;t usually post in here, but it just doesn&#39;t seem to be retrieving them at all so I am at a loss. There doesn&#39;t seem to be an RCS content provider for my phone, and I see other people on stack overflow saying they are stored in the mms content provider.","title":"I need to retrieve RCS messages on samsung phone","body":"<p>I am using this code below to grab MMS. I read in other places that RCS was held here on my samsung galaxy phone. However, My code is not grabbing the RCS messages. It only appears to be grabbing the MMS as far as I can tell.</p>\n<pre><code>        Uri uri = Telephony.Mms.CONTENT_URI;\n\n        String[] projection = new String[]{\n                Telephony.Mms.DATE,\n                Telephony.Mms._ID\n        };\n\n        String selection = Telephony.Mms.DATE + &quot; BETWEEN ? AND ?&quot;;\n        String[] selectionArgs = new String[]{\n                String.valueOf(startTime.getTime() / 1000),\n                String.valueOf(endTime.getTime() / 1000)\n        };\n        \n        String sortBy = Telephony.Mms.DATE + &quot; ASC&quot;;\n\n        Cursor cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, sortBy);\n</code></pre>\n<p>I am unsure what else to try. I don't usually post in here, but it just doesn't seem to be retrieving them at all so I am at a loss. There doesn't seem to be an RCS content provider for my phone, and I see other people on stack overflow saying they are stored in the mms content provider.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":7742705,"reputation":122,"user_id":5861788,"accept_rate":80,"display_name":"MrHutnik"},"score":0,"creation_date":1664542874,"post_id":73905682,"comment_id":130501932,"body_markdown":"I&#39;m not sure what your question is. Please clarify. From what I see here, you create a datasource but never pass it to the report. Best aproach here is to pass the data to the jasperPrint, and operate on this data in jasper. Please consider showing the jrxml you use to allow to test it.","body":"I&#39;m not sure what your question is. Please clarify. From what I see here, you create a datasource but never pass it to the report. Best aproach here is to pass the data to the jasperPrint, and operate on this data in jasper. Please consider showing the jrxml you use to allow to test it."},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1664762970,"post_id":73905682,"comment_id":130538855,"body_markdown":"@MrHutnik And that&#39;s where I am confused with. In ```JasperSoft```, I&#39;ve already configured the datasource, which is why Im able to preview my reports with the relevant data. Is this datasource independent of the Jasper report, thus I need to pass in a datasource through my Spring project?","body":"@MrHutnik And that&#39;s where I am confused with. In <code>JasperSoft</code>, I&#39;ve already configured the datasource, which is why Im able to preview my reports with the relevant data. Is this datasource independent of the Jasper report, thus I need to pass in a datasource through my Spring project?"},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1664763384,"post_id":73905682,"comment_id":130538898,"body_markdown":"My ```JRXML``` even comes with a(multiple) query strings.","body":"My <code>JRXML</code> even comes with a(multiple) query strings."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1665770598,"post_id":73905682,"comment_id":130783791,"body_markdown":"Tip: for `inline formatting`, use one backtick on each side, not three. It&#39;s easier to type, and easier to edit. You only need three when constructing a formatted block.","body":"Tip: for <code>inline formatting</code>, use one backtick on each side, not three. It&#39;s easier to type, and easier to edit. You only need three when constructing a formatted block."}],"answers":[{"tags":[],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665770461,"creation_date":1664782088,"answer_id":73932299,"question_id":73905682,"body_markdown":"I think I solved my issue/confusion.\r\n\r\nThe most important thing I needed was a connection to my DB. Most of the tutorials has their datasource connected from within the Spring project itself, make a repository call and send the data from the call to the report to be generated.\r\n\r\nIn my case, I&#39;m not calling the DB from the Spring side, but from the Jasper side.\r\n\r\nSo, alternatively, and the solution to my issue, is that I could just send the connection details using `DriverManager.getConnection()` and parsing this as the 3rd variable to `fillReport` as opposed to the datasource.\r\n\r\nBasically, what everyone else is doing\r\n```\r\nJRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(repositoryService.getData());\r\nJasperPrint report = JasperFillManager.fillReport(compiledReport, parameters, sampleDataSource);\r\n```\r\n\r\nBut what I want is this\r\n```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:postgresql://url:port/dbName&quot;,&quot;dbUsername&quot;,&quot;dbPassword&quot;);\r\nJasperPrint jasperPrint = JasperFillManager.fillReport(compiledReport, parameters, con);\r\n```\r\n(but both methods are correct)\r\n\r\nOnce I did that 2nd method, my report data is successfully generated using all the pre-configured SQL queries within JasperSoft.\r\n\r\nI got the idea from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25232035/jasper-error-loading-object-from-file","title":"Jasper Report and Spring","body":"<p>I think I solved my issue/confusion.</p>\n<p>The most important thing I needed was a connection to my DB. Most of the tutorials has their datasource connected from within the Spring project itself, make a repository call and send the data from the call to the report to be generated.</p>\n<p>In my case, I'm not calling the DB from the Spring side, but from the Jasper side.</p>\n<p>So, alternatively, and the solution to my issue, is that I could just send the connection details using <code>DriverManager.getConnection()</code> and parsing this as the 3rd variable to <code>fillReport</code> as opposed to the datasource.</p>\n<p>Basically, what everyone else is doing</p>\n<pre><code>JRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(repositoryService.getData());\nJasperPrint report = JasperFillManager.fillReport(compiledReport, parameters, sampleDataSource);\n</code></pre>\n<p>But what I want is this</p>\n<pre><code>Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://url:port/dbName&quot;,&quot;dbUsername&quot;,&quot;dbPassword&quot;);\nJasperPrint jasperPrint = JasperFillManager.fillReport(compiledReport, parameters, con);\n</code></pre>\n<p>(but both methods are correct)</p>\n<p>Once I did that 2nd method, my report data is successfully generated using all the pre-configured SQL queries within JasperSoft.</p>\n<p>I got the idea from <a href=\"https://stackoverflow.com/questions/25232035/jasper-error-loading-object-from-file\">here</a></p>\n"}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679536221,"creation_date":1664524863,"question_id":73905682,"body_markdown":"I have a Spring project. I am also using JasperReport to build report templates for my Spring project to call, use and generate.\r\n\r\nAfter looking through a couple of tutorials, I finally managed to get my Spring project to call and generate my report template.\r\n\r\nBut one thing I&#39;m not familiar with is that I&#39;ve configured my Jasper Reports with a dataset query which populates the template with data when I preview it within JasperSoft. But when I call this same `report.jasper` file through Spring, all I got was an empty report(albeit with some expected formatting)\r\n\r\nMost of the examples I&#39;ve come across has their JasperReport use an empty datasource while they passed in the required data from the db through Spring. But my report is making use of multiple dataset queries (and thus using multiple subtables), so I&#39;m not sure where do I go from here; whether I need to manually pass in the data through Spring like those examples or can I  depend on the JasperReport to do so. \r\n\r\nI&#39;m still relatively new to both Jasper and Spring.\r\n\r\nCreated based on [this link][1], this is a sample of my test function:\r\n\r\n```\r\n@GetMapping(path = &quot;/report&quot;)\r\n\tvoid testFunction2(HttpServletResponse response) throws IOException, JRException {\r\n\r\n\t\tString sourceFileName = new File(&quot;C:\\\\\\\\Users\\\\\\\\User\\\\\\\\JaspersoftWorkspace\\\\\\\\MyReports\\\\\\\\base3.jasper&quot;).getAbsolutePath();\r\n\r\n\t\tJRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(null);\r\n\r\n\t\tString testName = &quot;testName.xlsx&quot;;\r\n\t\tHashMap&lt;String, Object&gt; theHashMap = new HashMap&lt;&gt;();\r\n\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(sourceFileName, theHashMap);\r\n\r\n\r\n\t\tJRXlsxExporter exporter = new JRXlsxExporter();\r\n        SimpleXlsxReportConfiguration reportConfigXLS = new SimpleXlsxReportConfiguration();\r\n        reportConfigXLS.setSheetNames(new String[] { &quot;sheet1&quot; });\r\n        exporter.setConfiguration(reportConfigXLS);\r\n        exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\r\n        exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(response.getOutputStream()));\r\n\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+testName);\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        exporter.exportReport();\r\n\r\n\t}\r\n\r\n```\r\n\r\n\r\n  [1]: https://javahowtos.com/guides/113-data-import-export/377-create-and-download-jasper-report-xlsx-via-rest-service-in-spring-boot.html","title":"Jasper Report and Spring","body":"<p>I have a Spring project. I am also using JasperReport to build report templates for my Spring project to call, use and generate.</p>\n<p>After looking through a couple of tutorials, I finally managed to get my Spring project to call and generate my report template.</p>\n<p>But one thing I'm not familiar with is that I've configured my Jasper Reports with a dataset query which populates the template with data when I preview it within JasperSoft. But when I call this same <code>report.jasper</code> file through Spring, all I got was an empty report(albeit with some expected formatting)</p>\n<p>Most of the examples I've come across has their JasperReport use an empty datasource while they passed in the required data from the db through Spring. But my report is making use of multiple dataset queries (and thus using multiple subtables), so I'm not sure where do I go from here; whether I need to manually pass in the data through Spring like those examples or can I  depend on the JasperReport to do so.</p>\n<p>I'm still relatively new to both Jasper and Spring.</p>\n<p>Created based on <a href=\"https://javahowtos.com/guides/113-data-import-export/377-create-and-download-jasper-report-xlsx-via-rest-service-in-spring-boot.html\" rel=\"nofollow noreferrer\">this link</a>, this is a sample of my test function:</p>\n<pre><code>@GetMapping(path = &quot;/report&quot;)\n    void testFunction2(HttpServletResponse response) throws IOException, JRException {\n\n        String sourceFileName = new File(&quot;C:\\\\\\\\Users\\\\\\\\User\\\\\\\\JaspersoftWorkspace\\\\\\\\MyReports\\\\\\\\base3.jasper&quot;).getAbsolutePath();\n\n        JRBeanCollectionDataSource sampleDataSource = new JRBeanCollectionDataSource(null);\n\n        String testName = &quot;testName.xlsx&quot;;\n        HashMap&lt;String, Object&gt; theHashMap = new HashMap&lt;&gt;();\n        JasperPrint jasperPrint = JasperFillManager.fillReport(sourceFileName, theHashMap);\n\n\n        JRXlsxExporter exporter = new JRXlsxExporter();\n        SimpleXlsxReportConfiguration reportConfigXLS = new SimpleXlsxReportConfiguration();\n        reportConfigXLS.setSheetNames(new String[] { &quot;sheet1&quot; });\n        exporter.setConfiguration(reportConfigXLS);\n        exporter.setExporterInput(new SimpleExporterInput(jasperPrint));\n        exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(response.getOutputStream()));\n\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+testName);\n        response.setContentType(&quot;application/octet-stream&quot;);\n        exporter.exportReport();\n\n    }\n\n</code></pre>\n"},{"tags":["java","copy","method-parameters"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1535465000,"post_id":52059753,"comment_id":91069844,"body_markdown":"it&#39;s a bad practice only if your object method must be thread-safe","body":"it&#39;s a bad practice only if your object method must be thread-safe"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1535467526,"post_id":52059753,"comment_id":91071479,"body_markdown":"Ideally, you should not modify an object passed as an argument, unless you make it very clear that is what is expected e.g. `modifyList` would be expected to modify the list.","body":"Ideally, you should not modify an object passed as an argument, unless you make it very clear that is what is expected e.g. <code>modifyList</code> would be expected to modify the list."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535468878,"post_id":52059753,"comment_id":91072371,"body_markdown":"The bad practice here is assuming you can call `add` on a `List`: it&#39;s an optional method, so there is no guarantee it will succeed without an exception (and there is no way of knowing this, either).","body":"The bad practice here is assuming you can call <code>add</code> on a <code>List</code>: it&#39;s an optional method, so there is no guarantee it will succeed without an exception (and there is no way of knowing this, either)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535474764,"post_id":52059753,"comment_id":91075867,"body_markdown":"@AndyTurner `@throws UnsupportedOperationException - if list does not support the add operation` :-)","body":"@AndyTurner <code>@throws UnsupportedOperationException - if list does not support the add operation</code> :-)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1535474809,"post_id":52059753,"comment_id":91075882,"body_markdown":"@assylias and there is no way of knowing if it will throw that without trying it.","body":"@assylias and there is no way of knowing if it will throw that without trying it."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535479579,"post_id":52059753,"comment_id":91078222,"body_markdown":"@AndyTurner The contract of Collection says that `add` must throw an UOE if it is not a supported operation.","body":"@AndyTurner The contract of Collection says that <code>add</code> must throw an UOE if it is not a supported operation."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1535482062,"post_id":52059753,"comment_id":91079373,"body_markdown":"@assylias but you have no means of knowing whether a given instance of `List` supports `add` without calling `add`. All you can do is catch the exception, and hope that you&#39;ve got failure atomicity.","body":"@assylias but you have no means of knowing whether a given instance of <code>List</code> supports <code>add</code> without calling <code>add</code>. All you can do is catch the exception, and hope that you&#39;ve got failure atomicity."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1535483697,"post_id":52059753,"comment_id":91080129,"body_markdown":"@AndyTurner Of course, I was only suggesting to add a javadoc entry to the `modifyList` method. It&#39;s then the caller&#39;s responsibility to deal with the problem.","body":"@AndyTurner Of course, I was only suggesting to add a javadoc entry to the <code>modifyList</code> method. It&#39;s then the caller&#39;s responsibility to deal with the problem."}],"answers":[{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":5,"creation_date":1535468046,"post_id":52059997,"comment_id":91071823,"body_markdown":"That the JDK does something in a certain way says nothing! Many archaic code and bad practices survive because of &#39;backwards compatibility&#39;. The most infamous, I think, being `Dimension` which is a mutable object while ideally it should be immutable (and every method like `setSize` has to make defensive copies as a result). Of course this is just a rant because there are some legit cases of parameter-mutating methods, yours included.","body":"That the JDK does something in a certain way says nothing! Many archaic code and bad practices survive because of &#39;backwards compatibility&#39;. The most infamous, I think, being <code>Dimension</code> which is a mutable object while ideally it should be immutable (and every method like <code>setSize</code> has to make defensive copies as a result). Of course this is just a rant because there are some legit cases of parameter-mutating methods, yours included."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1535465585,"creation_date":1535465585,"answer_id":52059997,"question_id":52059753,"body_markdown":"Both methods are fine and could be the correct choice depending on your use case. Just make sure that you name them in a way that makes the intent clear and write some javadoc.\r\n\r\nIt&#39;s then up to the developer to decide whether having the original list mutated is ok or not, and if not, pass a copy or use a different method.\r\n\r\nFor example, [this method](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-) from the JDK mutates an existing list, but its intent and documentation are very clear.","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>Both methods are fine and could be the correct choice depending on your use case. Just make sure that you name them in a way that makes the intent clear and write some javadoc.</p>\n\n<p>It's then up to the developer to decide whether having the original list mutated is ok or not, and if not, pass a copy or use a different method.</p>\n\n<p>For example, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-\" rel=\"noreferrer\">this method</a> from the JDK mutates an existing list, but its intent and documentation are very clear.</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1535468777,"post_id":52060073,"comment_id":91072307,"body_markdown":"I think you&#39;ve got this the wrong way round: the method being called isn&#39;t the client. Your method is the one destroying the invariants (or not).","body":"I think you&#39;ve got this the wrong way round: the method being called isn&#39;t the client. Your method is the one destroying the invariants (or not)."},{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":0,"creation_date":1535469286,"post_id":52060073,"comment_id":91072627,"body_markdown":"Is this comment about the answer or the question? (I&#39;m confused) It depends on the perspective to point out the client. Bloch had the example of a Period being implemented using two dates. Clients are the classes that use the Period objects. And if your  Period class is not well designed, you end up having clients misusing your logic(because you allowed them to do so).","body":"Is this comment about the answer or the question? (I&#39;m confused) It depends on the perspective to point out the client. Bloch had the example of a Period being implemented using two dates. Clients are the classes that use the Period objects. And if your  Period class is not well designed, you end up having clients misusing your logic(because you allowed them to do so)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1535469824,"post_id":52060073,"comment_id":91072995,"body_markdown":"@EiriniGraonidou Breaking invariant means: you have allowed a client to modify the internal state of your class and bring it into an inconsistent state. In the op&#39;s example, the class&#39; internal state is not exposed - the method could actually be `static`.","body":"@EiriniGraonidou Breaking invariant means: you have allowed a client to modify the internal state of your class and bring it into an inconsistent state. In the op&#39;s example, the class&#39; internal state is not exposed - the method could actually be <code>static</code>."},{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":0,"creation_date":1535473410,"post_id":52060073,"comment_id":91075161,"body_markdown":"@assylias, now I understand what was meant. I guess I referred generally to immutability at the class-design level. On the other hand, I can see now, that there is a very small scope where one needs to do this locally-inside one method-. Please, let me know if you consider this answer misleading.","body":"@assylias, now I understand what was meant. I guess I referred generally to immutability at the class-design level. On the other hand, I can see now, that there is a very small scope where one needs to do this locally-inside one method-. Please, let me know if you consider this answer misleading."}],"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1535465798,"creation_date":1535465798,"answer_id":52060073,"question_id":52059753,"body_markdown":"It&#39;s up to your use-case, as you have already implied. Making your components immutable brings many advantages such as **better encapsulation**, **thread safety**, **avoiding having invalid state** etc.. Of course, in this way you implement a performance hit. But someone with great experience wrote a chapter about this, which I can only recommend:\r\n\r\n[Effective Java][1] - \r\n\r\n## Item 50: Make defensive copies when needed. ##\r\n\r\nThere he recommends: \r\n\r\n&gt; You must program defensively, with the assumption that clients of your class will do their best to destroy its invariants.\r\n\r\n\r\nand also:\r\n\r\n    \r\n\r\n&gt; In summary, if a class has mutable components that it gets from or returns to its clients, the class must defensively copy these components. If the cost of copy would be prohibitive and the class trusts its clients not to modify the components inappropriately, then the defensive copy may be replaced by documentation outlining the client&#39;s responsibility not to modify the affected components.\r\n\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-3rd-Joshua-Bloch/dp/0134685997","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>It's up to your use-case, as you have already implied. Making your components immutable brings many advantages such as <strong>better encapsulation</strong>, <strong>thread safety</strong>, <strong>avoiding having invalid state</strong> etc.. Of course, in this way you implement a performance hit. But someone with great experience wrote a chapter about this, which I can only recommend:</p>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> - </p>\n\n<h2>Item 50: Make defensive copies when needed.</h2>\n\n<p>There he recommends: </p>\n\n<blockquote>\n  <p>You must program defensively, with the assumption that clients of your class will do their best to destroy its invariants.</p>\n</blockquote>\n\n<p>and also:</p>\n\n<blockquote>\n  <p>In summary, if a class has mutable components that it gets from or returns to its clients, the class must defensively copy these components. If the cost of copy would be prohibitive and the class trusts its clients not to modify the components inappropriately, then the defensive copy may be replaced by documentation outlining the client's responsibility not to modify the affected components.</p>\n</blockquote>\n"}],"owner":{"account_id":10162663,"reputation":469,"user_id":7505622,"display_name":"MaverinCode"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11405,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":52059997,"answer_count":2,"score":8,"last_activity_date":1679536081,"creation_date":1535464877,"question_id":52059753,"body_markdown":"I have a question about mutating method-paramaters(which are objects) in a method. \r\n\r\nI read and heard multiple times that it is a bad practice to mutate a object in a method which was passed in as a paramater. As example:\r\n\r\n\tpublic void modifyList(List&lt;Object&gt; list) {\r\n\t\tlist.add(new Object());\r\n\t}\r\n\r\nInstead, the passed in Object should be copied, the mutation should be performed on the copied object and the copied object should be returned. As example:\r\n\r\n\tpublic List&lt;Object&gt; getModifiedList(List&lt;Object&gt; list) {\r\n\t\tList copy = new List&lt;Object();\r\n\t\t//Make a deep copy if it would be necessary\r\n\t\tfor(Object o : list) {\r\n\t\t    copy.add(o.clone());\r\n\t\t}\r\n\t\t//Modify the copy\r\n\t\tcopy.add(new Object());\r\n\t\t//return the copy\r\n\t\treturn copy;\r\n\t}\r\n\r\nI understand that the second method has less potential for side effects because it doesn&#39;t mutate the input parameter.\r\n\r\nBut is this really the way to go? The performance would suffer because a lot of deep copys have to be created. Also it would cost a lot of time implement Copy-Constructors and implement clone-methods for all classes. Also it would increase the LOC immense.\r\n\r\nIn practice I don&#39;t see this pattern(copy the method-parameter) often.\r\n\r\nCould somebody with a lot of experience(working as a programmer/software developer for years) answer this?\r\n\r\nGreetings\r\nMaverin\r\n","title":"Is mutating object-parameters in a method(in Java) a bad practice?","body":"<p>I have a question about mutating method-paramaters(which are objects) in a method. </p>\n\n<p>I read and heard multiple times that it is a bad practice to mutate a object in a method which was passed in as a paramater. As example:</p>\n\n<pre><code>public void modifyList(List&lt;Object&gt; list) {\n    list.add(new Object());\n}\n</code></pre>\n\n<p>Instead, the passed in Object should be copied, the mutation should be performed on the copied object and the copied object should be returned. As example:</p>\n\n<pre><code>public List&lt;Object&gt; getModifiedList(List&lt;Object&gt; list) {\n    List copy = new List&lt;Object();\n    //Make a deep copy if it would be necessary\n    for(Object o : list) {\n        copy.add(o.clone());\n    }\n    //Modify the copy\n    copy.add(new Object());\n    //return the copy\n    return copy;\n}\n</code></pre>\n\n<p>I understand that the second method has less potential for side effects because it doesn't mutate the input parameter.</p>\n\n<p>But is this really the way to go? The performance would suffer because a lot of deep copys have to be created. Also it would cost a lot of time implement Copy-Constructors and implement clone-methods for all classes. Also it would increase the LOC immense.</p>\n\n<p>In practice I don't see this pattern(copy the method-parameter) often.</p>\n\n<p>Could somebody with a lot of experience(working as a programmer/software developer for years) answer this?</p>\n\n<p>Greetings\nMaverin</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-vertex-ai"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1679541460,"post_id":75818565,"comment_id":133741599,"body_markdown":"What kind of credentials is in the file? The client library is expecting Service Account JSON. The error message indicates that you have not correctly set up the environment variable `GOOGLE_APPLICATION_CREDENTIALS` or that the file&#39;s contents are incorrect.","body":"What kind of credentials is in the file? The client library is expecting Service Account JSON. The error message indicates that you have not correctly set up the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code> or that the file&#39;s contents are incorrect."},{"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"score":0,"creation_date":1679543915,"post_id":75818565,"comment_id":133741871,"body_markdown":"@JohnHanley The JSON file is the file that I downloaded after I created a key under the service account for the project.","body":"@JohnHanley The JSON file is the file that I downloaded after I created a key under the service account for the project."},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1679544705,"post_id":75818565,"comment_id":133741947,"body_markdown":"Is it JSON with the following key: `&quot;type&quot;: &quot;service_account&quot;,`? If yes, then you have not set up the environment variable correctly. If you are very specific about what you did, we won&#39;t have to guess.","body":"Is it JSON with the following key: <code>&quot;type&quot;: &quot;service_account&quot;,</code>? If yes, then you have not set up the environment variable correctly. If you are very specific about what you did, we won&#39;t have to guess."},{"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"score":0,"creation_date":1679547067,"post_id":75818565,"comment_id":133742161,"body_markdown":"@JohnHanley The file is :\n{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;ftc-helper-bot&quot;,","body":"@JohnHanley The file is : {   &quot;type&quot;: &quot;service_account&quot;,   &quot;project_id&quot;: &quot;ftc-helper-bot&quot;,"},{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1679948337,"post_id":75818565,"comment_id":133809520,"body_markdown":"env | grep -i google.application   will verify that you have set the req&#39;d env var","body":"env | grep -i google.application   will verify that you have set the req&#39;d env var"}],"owner":{"account_id":28091099,"reputation":1,"user_id":21460611,"display_name":"Benjamin Faershtein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679534999,"creation_date":1679534999,"question_id":75818565,"body_markdown":"I am having some issues using Vertex AI in java, I used one of the examples for java and set up all my dependencies. I also added the authentication file to the environmental variables.\r\n\r\n```\r\nexport GOOGLE_APPLICATION_CREDENTIALS=PATH_HERE\r\n```\r\n\r\n(PATH_HERE represents where I put path to the JSON file with the credentials)\r\n\r\nBut when I run the Java program I get this error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n    at com.testvert.PredictImageClassificationSample.main(PredictImageClassificationSample.java:27)\r\n.....\r\n```\r\n\r\nAny help would be appreciated\r\n\r\nInfo :\r\nMac OS\r\nJava\r\nInteliji\r\n\r\nI was using the Java Vertex AI [code sample](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/PredictImageClassificationSample.java)\r\n\r\nI tried doing the echo command for GOOGLE_APPLICATION_CREDENTIALS and it returned the correct path I entered","title":"Issue with Google Cloud Java authentication","body":"<p>I am having some issues using Vertex AI in java, I used one of the examples for java and set up all my dependencies. I also added the authentication file to the environmental variables.</p>\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=PATH_HERE\n</code></pre>\n<p>(PATH_HERE represents where I put path to the JSON file with the credentials)</p>\n<p>But when I run the Java program I get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n    at com.testvert.PredictImageClassificationSample.main(PredictImageClassificationSample.java:27)\n.....\n</code></pre>\n<p>Any help would be appreciated</p>\n<p>Info :\nMac OS\nJava\nInteliji</p>\n<p>I was using the Java Vertex AI <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/PredictImageClassificationSample.java\" rel=\"nofollow noreferrer\">code sample</a></p>\n<p>I tried doing the echo command for GOOGLE_APPLICATION_CREDENTIALS and it returned the correct path I entered</p>\n"},{"tags":["java","maven","javafx","runtime-error","media-player"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1679513165,"post_id":75816047,"comment_id":133737389,"body_markdown":"You have `&lt;groupId&gt;org.jfxcore&lt;/groupId&gt;&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;` in your Maven dependencies, instead of `&lt;groupId&gt;org.openjfx&lt;/groupId&gt;&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;`. Not sure if that is the issue, but it certainly could be.","body":"You have <code>&lt;groupId&gt;org.jfxcore&lt;&#47;groupId&gt;&lt;artifactId&gt;javafx-media&lt;&#47;arti&zwnj;&#8203;factId&gt;</code> in your Maven dependencies, instead of <code>&lt;groupId&gt;org.openjfx&lt;&#47;groupId&gt;&lt;artifactId&gt;javafx-media&lt;&#47;arti&zwnj;&#8203;factId&gt;</code>. Not sure if that is the issue, but it certainly could be."},{"owner":{"account_id":3993139,"reputation":2383,"user_id":3291390,"display_name":"Stack Underflow"},"score":0,"creation_date":1679513691,"post_id":75816047,"comment_id":133737511,"body_markdown":"That seems to have resolved the runtime error. The vscode Maven plugin needs updated or has a bug or something b/c that&#39;s how it generated it. Post this as an answer and I will accept it. Unfortunately, the video still is not playing, even when I add `mediaPlayer.play()` after everything else - but that&#39;s a separate problem.","body":"That seems to have resolved the runtime error. The vscode Maven plugin needs updated or has a bug or something b/c that&#39;s how it generated it. Post this as an answer and I will accept it. Unfortunately, the video still is not playing, even when I add <code>mediaPlayer.play()</code> after everything else - but that&#39;s a separate problem."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1679522560,"post_id":75816047,"comment_id":133739370,"body_markdown":"You also need to ensure that all versions of JavaFX libraries you use are the same (the media library is at `18-ea+1` and other libraries are at `13`).  The different versions aren&#39;t necessarily compatible with each other.  And the `ea` versions are early access versions that haven&#39;t undergone the additional QA and stabilization that the non-ea versions have.  It is best to always use the latest stable version if you can (those will usually have the most bugs, security flaws, and features addressed in them).  For instance, JavaFX 13 won&#39;t work on modern M1 macs, but 19+ will.","body":"You also need to ensure that all versions of JavaFX libraries you use are the same (the media library is at <code>18-ea+1</code> and other libraries are at <code>13</code>).  The different versions aren&#39;t necessarily compatible with each other.  And the <code>ea</code> versions are early access versions that haven&#39;t undergone the additional QA and stabilization that the non-ea versions have.  It is best to always use the latest stable version if you can (those will usually have the most bugs, security flaws, and features addressed in them).  For instance, JavaFX 13 won&#39;t work on modern M1 macs, but 19+ will."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679534975,"creation_date":1679534975,"answer_id":75818563,"question_id":75816047,"body_markdown":"Your `pom.xml` has\r\n\r\n    &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\r\nfor the `javafx.media` dependency. The group id should be `org.openjfx`:\r\n\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\r\n\r\nAlso make sure all JavaFX dependencies use the same version. \r\n","title":"java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager","body":"<p>Your <code>pom.xml</code> has</p>\n<pre><code>&lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n</code></pre>\n<p>for the <code>javafx.media</code> dependency. The group id should be <code>org.openjfx</code>:</p>\n<pre><code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n</code></pre>\n<p>Also make sure all JavaFX dependencies use the same version.</p>\n"}],"owner":{"account_id":3993139,"reputation":2383,"user_id":3291390,"display_name":"Stack Underflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818563,"answer_count":1,"score":0,"last_activity_date":1679534975,"creation_date":1679509899,"question_id":75816047,"body_markdown":"I am trying to play a video with Java. The code I&#39;m using is from [this example](https://www.javatpoint.com/javafx-playing-video).\r\n\r\nI am using VS Code on Windows 11.\r\n\r\nI created a new project from the command pallet using `Java: Create Java Project -&gt; JavaFX Provided by Maven for Java`. \r\n\r\nI used the Maven for Java extension to add the JavaFX Media dependency and then added `requires javafx.media;` in the module-info.java file.\r\n\r\n\r\nI was able to get `javafx.media` module and the associated imports to resolve but get the following error when I run it:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media\r\n        at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\r\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\r\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\r\n        at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n        at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\r\n        at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n        at com.example/com.example.App.start(App.java:20)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n        at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n        ... 1 more\r\nException running application com.example.App\r\n```\r\n\r\nmodule-info.java\r\n```\r\nmodule com.example {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.media;\r\n\r\n    opens com.example to javafx.fxml;\r\n    exports com.example;\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mediaplayer&lt;/artifactId&gt;\r\n    &lt;version&gt;1&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;18-ea+1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nApp.java\r\n```\r\npackage com.example;\r\n\r\nimport java.io.File;  \r\nimport javafx.application.Application;  \r\nimport javafx.scene.Group;  \r\nimport javafx.scene.Scene;  \r\nimport javafx.scene.media.Media;  \r\nimport javafx.scene.media.MediaPlayer;  \r\nimport javafx.scene.media.MediaView;  \r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n    @Override  \r\n    public void start(Stage primaryStage) throws Exception {\r\n        String path = &quot;C:/Users/Justin/Videos/file_example_MP4_1920_18MG.mp4&quot;;\r\n\r\n        Media media = new Media(new File(path).toURI().toString());  \r\n          \r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);  \r\n          \r\n        MediaView mediaView = new MediaView(mediaPlayer);\r\n          \r\n        //by setting this property to true, the Video will be played   \r\n        mediaPlayer.setAutoPlay(true);  \r\n          \r\n        //setting group and scene   \r\n        Group root = new Group();  \r\n        root.getChildren().add(mediaView);  \r\n        Scene scene = new Scene(root,500,400);  \r\n        primaryStage.setScene(scene);  \r\n        primaryStage.setTitle(&quot;Playing video&quot;);  \r\n        primaryStage.show();  \r\n    }  \r\n    public static void main(String[] args) {  \r\n        launch(args);  \r\n    }\r\n}\r\n```\r\n\r\nI saw [this answer](https://stackoverflow.com/a/53237667/3291390) from a related question but it wasn&#39;t helpful because I&#39;ve already done what is suggested except for adding the options when running it because I am using VS Code to run it rather than running it manually from the command line.\r\n\r\n\r\nIs there something obvious I&#39;m doing wrong here? What do I need to do to get the video to play?","title":"java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager","body":"<p>I am trying to play a video with Java. The code I'm using is from <a href=\"https://www.javatpoint.com/javafx-playing-video\" rel=\"nofollow noreferrer\">this example</a>.</p>\n<p>I am using VS Code on Windows 11.</p>\n<p>I created a new project from the command pallet using <code>Java: Create Java Project -&gt; JavaFX Provided by Maven for Java</code>.</p>\n<p>I used the Maven for Java extension to add the JavaFX Media dependency and then added <code>requires javafx.media;</code> in the module-info.java file.</p>\n<p>I was able to get <code>javafx.media</code> module and the associated imports to resolve but get the following error when I run it:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media\n        at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\n        at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\n        at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n        at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\n        at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n        at com.example/com.example.App.start(App.java:20)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n        at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n        ... 1 more\nException running application com.example.App\n</code></pre>\n<p>module-info.java</p>\n<pre><code>module com.example {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.media;\n\n    opens com.example to javafx.fxml;\n    exports com.example;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mediaplayer&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jfxcore&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;18-ea+1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>App.java</p>\n<pre><code>package com.example;\n\nimport java.io.File;  \nimport javafx.application.Application;  \nimport javafx.scene.Group;  \nimport javafx.scene.Scene;  \nimport javafx.scene.media.Media;  \nimport javafx.scene.media.MediaPlayer;  \nimport javafx.scene.media.MediaView;  \nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n    @Override  \n    public void start(Stage primaryStage) throws Exception {\n        String path = &quot;C:/Users/Justin/Videos/file_example_MP4_1920_18MG.mp4&quot;;\n\n        Media media = new Media(new File(path).toURI().toString());  \n          \n        MediaPlayer mediaPlayer = new MediaPlayer(media);  \n          \n        MediaView mediaView = new MediaView(mediaPlayer);\n          \n        //by setting this property to true, the Video will be played   \n        mediaPlayer.setAutoPlay(true);  \n          \n        //setting group and scene   \n        Group root = new Group();  \n        root.getChildren().add(mediaView);  \n        Scene scene = new Scene(root,500,400);  \n        primaryStage.setScene(scene);  \n        primaryStage.setTitle(&quot;Playing video&quot;);  \n        primaryStage.show();  \n    }  \n    public static void main(String[] args) {  \n        launch(args);  \n    }\n}\n</code></pre>\n<p>I saw <a href=\"https://stackoverflow.com/a/53237667/3291390\">this answer</a> from a related question but it wasn't helpful because I've already done what is suggested except for adding the options when running it because I am using VS Code to run it rather than running it manually from the command line.</p>\n<p>Is there something obvious I'm doing wrong here? What do I need to do to get the video to play?</p>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679779236,"post_id":75818553,"comment_id":133782857,"body_markdown":"What Camel version do you use? And can you try without the `eagerCheckCompletion` to see if all 10 files are archived. I suspect it may be due to that, and if so its a hint for us to track down the issue to correct in Camel itself.","body":"What Camel version do you use? And can you try without the <code>eagerCheckCompletion</code> to see if all 10 files are archived. I suspect it may be due to that, and if so its a hint for us to track down the issue to correct in Camel itself."}],"owner":{"account_id":5023461,"reputation":63,"user_id":4036247,"display_name":"Vikrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679534876,"creation_date":1679534876,"question_id":75818553,"body_markdown":"I have a Camel route that is invoked every night to archive previous day files from the &quot;processed&quot; folder to the &quot;archived&quot; folder by zipping them up. Currently, it is moving all the files correctly to &quot;.camel&quot; based on #PreviousDayFileFilter, but when zip is created in &quot;archived&quot; folder it only contains one file rather than all the files. \r\n\r\nNote: These files in &quot;processed&quot; folder have timestamps in yyyy-MM-dd format as their filename when created.\r\n\r\nAs an example, when the job is invoked and say there are 10 files from the previous day in &quot;processed&quot; folder, then 9 files will be in the .camel folder and only the 10th file will be in the archived_*date*.zip. \r\n\r\nHere are the details on route and filter. Can someone please guide what am I missing here, why is it not zipping up all files?\r\n\r\n**Camel route** \r\n```\r\n                from(&quot;file:C:/logs/processed?filter=#PreviousDayFileFilter&quot; +\r\n                        &quot;&amp;scheduler=spring&amp;scheduler.cron=0+30+*+*+*+?&quot;)\r\n                        .log(LoggingLevel.INFO, &quot;Archival process for previous day files&quot;)\r\n                        .aggregate(constant(true), new ZipAggregationStrategy())\r\n                        .completionFromBatchConsumer().eagerCheckCompletion()\r\n                        .setHeader(Exchange.FILE_NAME,\r\n                                constant(simple(&quot;archived_${date:now-1d:yyyy-MM-dd}.zip&quot;)))\r\n                        .to(&quot;file:/C:/logs/archived/&quot;);\r\n```\r\n\r\n**PreviousDayFileFilter**\r\n```\r\n    public class PreviousDayFileFilter&lt;T&gt; implements GenericFileFilter&lt;T&gt; {\r\n        public boolean accept(GenericFile&lt;T&gt; file) {\r\n            if (file.isDirectory()) {\r\n                return true;\r\n            }\r\n            return file.getFileName().contains(yesterdayDate());\r\n        }\r\n    }\r\n\r\n    public String yesterdayDate(){\r\n        Instant yesterday = Instant.now().minus(1, ChronoUnit.DAYS);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n                .withZone(ZoneId.systemDefault());\r\n        return formatter.format(instant);\r\n    }\r\n```\r\n","title":"Apache camel file zip","body":"<p>I have a Camel route that is invoked every night to archive previous day files from the &quot;processed&quot; folder to the &quot;archived&quot; folder by zipping them up. Currently, it is moving all the files correctly to &quot;.camel&quot; based on #PreviousDayFileFilter, but when zip is created in &quot;archived&quot; folder it only contains one file rather than all the files.</p>\n<p>Note: These files in &quot;processed&quot; folder have timestamps in yyyy-MM-dd format as their filename when created.</p>\n<p>As an example, when the job is invoked and say there are 10 files from the previous day in &quot;processed&quot; folder, then 9 files will be in the .camel folder and only the 10th file will be in the archived_<em>date</em>.zip.</p>\n<p>Here are the details on route and filter. Can someone please guide what am I missing here, why is it not zipping up all files?</p>\n<p><strong>Camel route</strong></p>\n<pre><code>                from(&quot;file:C:/logs/processed?filter=#PreviousDayFileFilter&quot; +\n                        &quot;&amp;scheduler=spring&amp;scheduler.cron=0+30+*+*+*+?&quot;)\n                        .log(LoggingLevel.INFO, &quot;Archival process for previous day files&quot;)\n                        .aggregate(constant(true), new ZipAggregationStrategy())\n                        .completionFromBatchConsumer().eagerCheckCompletion()\n                        .setHeader(Exchange.FILE_NAME,\n                                constant(simple(&quot;archived_${date:now-1d:yyyy-MM-dd}.zip&quot;)))\n                        .to(&quot;file:/C:/logs/archived/&quot;);\n</code></pre>\n<p><strong>PreviousDayFileFilter</strong></p>\n<pre><code>    public class PreviousDayFileFilter&lt;T&gt; implements GenericFileFilter&lt;T&gt; {\n        public boolean accept(GenericFile&lt;T&gt; file) {\n            if (file.isDirectory()) {\n                return true;\n            }\n            return file.getFileName().contains(yesterdayDate());\n        }\n    }\n\n    public String yesterdayDate(){\n        Instant yesterday = Instant.now().minus(1, ChronoUnit.DAYS);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\n                .withZone(ZoneId.systemDefault());\n        return formatter.format(instant);\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679535442,"post_id":75818546,"comment_id":133741021,"body_markdown":"I prefer to make `handleException` return an `Exception`, and then in the catch just have `throw handleException(e);`. I find that my brain understands that faster than having to infer that `handleException` must be throwing an exception.","body":"I prefer to make <code>handleException</code> return an <code>Exception</code>, and then in the catch just have <code>throw handleException(e);</code>. I find that my brain understands that faster than having to infer that <code>handleException</code> must be throwing an exception."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679537708,"post_id":75818546,"comment_id":133741236,"body_markdown":"That&#39;s another idea, I think it would work well also.","body":"That&#39;s another idea, I think it would work well also."}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679534755,"creation_date":1679534755,"answer_id":75818546,"question_id":75818514,"body_markdown":"I think it&#39;s because the compiler can&#39;t figure that `handleException()` always throws an exception.  If it ever returned normally then the code would just keep executing, and reach the end of the method with no return statement.\r\n\r\nIn these situations it&#39;s convention to just throw an `AssertionError` with an appropriate message.\r\n\r\n       public String doStuff() {\r\n          try {\r\n             int i = Integer.parseInt( null );\r\n             return &quot;Integer: &quot; + i;\r\n          } catch( NumberFormatException e ) {\r\n             handleException( e );\r\n             throw new AssertionError( &quot;Should never get here.&quot;);\r\n          }\r\n       }\r\n       ","title":"Why can&#39;t I put exception handling logic in separate method without a return?","body":"<p>I think it's because the compiler can't figure that <code>handleException()</code> always throws an exception.  If it ever returned normally then the code would just keep executing, and reach the end of the method with no return statement.</p>\n<p>In these situations it's convention to just throw an <code>AssertionError</code> with an appropriate message.</p>\n<pre><code>   public String doStuff() {\n      try {\n         int i = Integer.parseInt( null );\n         return &quot;Integer: &quot; + i;\n      } catch( NumberFormatException e ) {\n         handleException( e );\n         throw new AssertionError( &quot;Should never get here.&quot;);\n      }\n   }\n   \n</code></pre>\n"}],"owner":{"account_id":5235346,"reputation":996,"user_id":4184113,"accept_rate":25,"display_name":"user4184113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679534767,"accepted_answer_id":75818546,"answer_count":1,"score":0,"last_activity_date":1679534755,"creation_date":1679534329,"question_id":75818514,"body_markdown":"I have the following code: \r\n\r\n    public class Scratch {\r\n\r\n      public Scratch() {\r\n        doStuff();\r\n      }\r\n\r\n      public String doStuff() {\r\n        try {\r\n            int i = Integer.parseInt(null);\r\n            return &quot;Integer: &quot; + i;\r\n\r\n          } catch (NumberFormatException e) {\r\n              if (e.getMessage().equals(&quot;some message&quot;)) {\r\n                throw new NumberFormatException(&quot;step 1&quot;);\r\n              } else {\r\n                throw new NumberFormatException(&quot;step 2&quot;);\r\n              }\r\n          }\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        new Scratch();\r\n      }\r\n    }\r\n\r\nand I want to put the exception handling logic in its own method like this:\r\n\r\n    public class Scratch {\r\n\r\n    public Scratch() {\r\n        doStuff();\r\n    }\r\n\r\n    public String doStuff() {\r\n        try {\r\n            int i = Integer.parseInt(null);\r\n            return &quot;Integer: &quot; + i;\r\n\r\n        } catch (NumberFormatException e) {\r\n            handleException(e);\r\n        }\r\n    }\r\n\r\n    private void handleException(NumberFormatException e) {\r\n        if (e.getMessage().equals(&quot;some message&quot;)) {\r\n            throw new NumberFormatException(&quot;step 1&quot;);\r\n        } else {\r\n            throw new NumberFormatException(&quot;step 2&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Scratch();\r\n    }\r\n    }\r\n\r\nBut I am getting a compiler error saying that the `doStuff` method is missing a return statement.\r\n\r\nI don&#39;t understand why these seemingly equivalent implementations differ.","title":"Why can&#39;t I put exception handling logic in separate method without a return?","body":"<p>I have the following code:</p>\n<pre><code>public class Scratch {\n\n  public Scratch() {\n    doStuff();\n  }\n\n  public String doStuff() {\n    try {\n        int i = Integer.parseInt(null);\n        return &quot;Integer: &quot; + i;\n\n      } catch (NumberFormatException e) {\n          if (e.getMessage().equals(&quot;some message&quot;)) {\n            throw new NumberFormatException(&quot;step 1&quot;);\n          } else {\n            throw new NumberFormatException(&quot;step 2&quot;);\n          }\n      }\n  }\n\n  public static void main(String[] args) {\n    new Scratch();\n  }\n}\n</code></pre>\n<p>and I want to put the exception handling logic in its own method like this:</p>\n<pre><code>public class Scratch {\n\npublic Scratch() {\n    doStuff();\n}\n\npublic String doStuff() {\n    try {\n        int i = Integer.parseInt(null);\n        return &quot;Integer: &quot; + i;\n\n    } catch (NumberFormatException e) {\n        handleException(e);\n    }\n}\n\nprivate void handleException(NumberFormatException e) {\n    if (e.getMessage().equals(&quot;some message&quot;)) {\n        throw new NumberFormatException(&quot;step 1&quot;);\n    } else {\n        throw new NumberFormatException(&quot;step 2&quot;);\n    }\n}\n\npublic static void main(String[] args) {\n    new Scratch();\n}\n}\n</code></pre>\n<p>But I am getting a compiler error saying that the <code>doStuff</code> method is missing a return statement.</p>\n<p>I don't understand why these seemingly equivalent implementations differ.</p>\n"},{"tags":["java","kotlin","google-cloud-firestore","weka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679519549,"post_id":75817235,"comment_id":133738770,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679556086,"post_id":75817235,"comment_id":133743406,"body_markdown":"Why do you say that the `dwell time` field is a number while in the database is an array of numbers? What exactly would you like to query? Please respond using @AlexMamo","body":"Why do you say that the <code>dwell time</code> field is a number while in the database is an array of numbers? What exactly would you like to query? Please respond using @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":14052833,"reputation":1260,"user_id":10151066,"display_name":"flutroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679533720,"creation_date":1679533720,"answer_id":75818485,"question_id":75817235,"body_markdown":"&gt; I have verified that the &#39;dwell time&#39; field is indeed a number field\r\n&gt; in Firestore, so I am not sure why I am getting this error. What could\r\n&gt; be causing this error and how to fix it?\r\n\r\nBut the screenshot of your database shows &#39;dwell time&#39; field is an array not a number, Just check if you set the &#39;dwell time&#39; field right.","title":"Getting &quot;Field &#39;dwell time&#39; is not a java.lang.Number&quot; error when retrieving data from Firebase Firestore","body":"<blockquote>\n<p>I have verified that the 'dwell time' field is indeed a number field\nin Firestore, so I am not sure why I am getting this error. What could\nbe causing this error and how to fix it?</p>\n</blockquote>\n<p>But the screenshot of your database shows 'dwell time' field is an array not a number, Just check if you set the 'dwell time' field right.</p>\n"}],"owner":{"account_id":27335674,"reputation":1,"user_id":20847149,"display_name":"ilyes moawy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679533720,"creation_date":1679518798,"question_id":75817235,"body_markdown":"I&#39;m working on an Android project that uses Firebase Firestore to store data. I&#39;m trying to retrieve a document from the Firestore database and get the value of a field called &quot;dwell time&quot; which is a number, but I keep getting the following error:\r\n\r\n&gt; java.lang.RuntimeException: Field &#39;dwell time&#39; is not a java.lang.Number \r\n\r\nI&#39;m using the getLong() method to retrieve the value of the field, but it seems like the field is not being recognized as a number. Here&#39;s the code that I&#39;m using:\r\n\r\n```\r\npackage com.example.projetm.data;\r\n\r\nimport static java.sql.DriverManager.println;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport weka.core.Instances;\r\nimport weka.core.converters.ArffSaver;\r\nimport weka.core.converters.CSVSaver;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport weka.core.Attribute;\r\nimport weka.core.DenseInstance;\r\nimport weka.core.FastVector;\r\nimport weka.core.Instances;\r\n\r\npublic class Getdata  {\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private SharedPreferences preferences;\r\n    private String PREFS = &quot;KEYSTROCKES&quot;;\r\n    private int nombre_instance; // hada nombre de tests\r\n    private int nombre_attribute = 29; // hada nombre de collones\r\n    public ArrayList  dwell = new ArrayList();\r\n    public ArrayList flightm2 = new ArrayList();\r\n    public ArrayList flightm3 = new ArrayList();\r\n    ArrayList name = new ArrayList&lt;String&gt;();\r\n    int y=0;\r\n\r\n\r\n    public String Class(Context context) throws Exception {\r\n\r\n        //hna nkharej ga3 les utilisateurs\r\n        db.collection(&quot;users&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    int nbruser = task.getResult().size(); //hna nedi nombre des utilisateurs\r\n                    Log.d(&quot;nombre&quot;,String.valueOf(nbruser));\r\n                    for (QueryDocumentSnapshot doc : task.getResult()) { //apres nboucle les utilisateurs\r\n\r\n                        String id = doc.getId(); // nedi id ta3ah\r\n                        //apres nedi dynamique regle de chaque utilisateurs\r\n                        db.collection(&quot;users&quot;).document(id).collection(&quot;dynamic&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    y++; // w koul ma nedi test nzid f y\r\n                                    Log.d(&quot;getdata1&quot;, String.valueOf(nombre_instance));\r\n                                    nombre_instance+=task.getResult().size(); //w nmed l nombre instance le nombre de test\r\n\r\n\r\n                                    for (QueryDocumentSnapshot document : task.getResult()) { //apres nboucle les tests\r\n                                        Log.d(&quot;data type&quot;, document.get(&quot;dwell time&quot;).getClass().getSimpleName());\r\n                                        dwell.add(document.getLong(&quot;dwell time&quot;)); //nedi swalhah\r\n\r\n                                        flightm2.add(document.getLong(&quot;flight time 2&quot;));\r\n                                        flightm3.add(document.getLong(&quot;flight time 3&quot;));\r\n                                        name.add(document.getString(&quot;nom&quot;));\r\n                                        Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n                                    }\r\n                                        if (y==nbruser){ //apres ki y yweli 9ad le nombre des utilisateurs sema da ga3  les tests ydir la suite\r\n                                            Log.d(&quot;getdata&quot;, &quot;wsel&quot;);\r\n                                            //hna apres ncreeo  data\r\n                                            preferences = context.getSharedPreferences(PREFS, Context.MODE_PRIVATE);\r\n                                            //nsamo les atributs\r\n\r\n\r\n                                            final Attribute Attribute1 = new Attribute(&quot;dwelltime1&quot;);\r\n                                            final Attribute Attribute2 = new Attribute(&quot;dwelltime2&quot;);\r\n                                            final Attribute Attribute3 = new Attribute(&quot;dwelltime3&quot;);\r\n                                            final Attribute Attribute4 = new Attribute(&quot;dwelltime4&quot;);\r\n                                            final Attribute Attribute5 = new Attribute(&quot;dwelltime5&quot;);\r\n                                            final Attribute Attribute6 = new Attribute(&quot;dwelltime6&quot;);\r\n                                            final Attribute Attribute7 = new Attribute(&quot;dwelltime7&quot;);\r\n                                            final Attribute Attribute8 = new Attribute(&quot;dwelltime8&quot;);\r\n                                            final Attribute Attribute9 = new Attribute(&quot;dwelltime9&quot;);\r\n                                            final Attribute Attribute10 = new Attribute(&quot;dwelltime10&quot;);\r\n                                            final Attribute Attribute11 = new Attribute(&quot;flighttime2_1&quot;);\r\n                                            final Attribute Attribute12 = new Attribute(&quot;flighttime2_2&quot;);\r\n                                            final Attribute Attribute13 = new Attribute(&quot;flighttime2_3&quot;);\r\n                                            final Attribute Attribute14 = new Attribute(&quot;flighttime2_4&quot;);\r\n                                            final Attribute Attribute15 = new Attribute(&quot;flighttime2_5&quot;);\r\n                                            final Attribute Attribute16 = new Attribute(&quot;flighttime2_6&quot;);\r\n                                            final Attribute Attribute17 = new Attribute(&quot;flighttime2_7&quot;);\r\n                                            final Attribute Attribute18 = new Attribute(&quot;flighttime2_8&quot;);\r\n                                            final Attribute Attribute19 = new Attribute(&quot;flighttime2_9&quot;);\r\n                                            final Attribute Attribute20 = new Attribute(&quot;flighttime3_1&quot;);\r\n                                            final Attribute Attribute21 = new Attribute(&quot;flighttime3_2&quot;);\r\n                                            final Attribute Attribute22 = new Attribute(&quot;flighttime3_3&quot;);\r\n                                            final Attribute Attribute23 = new Attribute(&quot;flighttime3_4&quot;);\r\n                                            final Attribute Attribute24 = new Attribute(&quot;flighttime3_5&quot;);\r\n                                            final Attribute Attribute25 = new Attribute(&quot;flighttime3_6&quot;);\r\n                                            final Attribute Attribute26 = new Attribute(&quot;flighttime3_7&quot;);\r\n                                            final Attribute Attribute27 = new Attribute(&quot;flighttime3_8&quot;);\r\n                                            final Attribute Attribute28 = new Attribute(&quot;flighttime3_9&quot;);\r\n                                            List&lt;String&gt; classes = new ArrayList&lt;String&gt;(){\r\n                                                {\r\n                                                    add(&quot;sahraoui&quot;);\r\n\r\n                                                }\r\n                                            };  //w ndir les classe\r\n\r\n                                            //apres n ajoutou les attributs f fastvecteur\r\n                                            Attribute AttributeClass = new Attribute(&quot;class&quot;,classes);\r\n                                            FastVector fastVector = new FastVector(nombre_attribute);\r\n                                            fastVector.addElement(Attribute1);\r\n                                            fastVector.addElement(Attribute2);\r\n                                            fastVector.addElement(Attribute3);\r\n                                            fastVector.addElement(Attribute4);\r\n                                            fastVector.addElement(Attribute5);\r\n                                            fastVector.addElement(Attribute6);\r\n                                            fastVector.addElement(Attribute7);\r\n                                            fastVector.addElement(Attribute8);\r\n                                            fastVector.addElement(Attribute9);\r\n                                            fastVector.addElement(Attribute10);\r\n                                            fastVector.addElement(Attribute11);\r\n                                            fastVector.addElement(Attribute12);\r\n                                            fastVector.addElement(Attribute13);\r\n                                            fastVector.addElement(Attribute14);\r\n                                            fastVector.addElement(Attribute15);\r\n                                            fastVector.addElement(Attribute16);\r\n                                            fastVector.addElement(Attribute17);\r\n                                            fastVector.addElement(Attribute18);\r\n                                            fastVector.addElement(Attribute19);\r\n                                            fastVector.addElement(Attribute20);\r\n                                            fastVector.addElement(Attribute21);\r\n                                            fastVector.addElement(Attribute22);\r\n                                            fastVector.addElement(Attribute23);\r\n                                            fastVector.addElement(Attribute24);\r\n                                            fastVector.addElement(Attribute25);\r\n                                            fastVector.addElement(Attribute26);\r\n                                            fastVector.addElement(Attribute27);\r\n                                            fastVector.addElement(Attribute28);\r\n                                            fastVector.addElement(AttributeClass);\r\n                                            //apres ncrreo instance avec nom dynamic w nmedo le nombre d&#39;instance\r\n                                            Instances instances = new Instances(&quot;dynamic&quot;,fastVector,nombre_instance);\r\n                                            instances.setClassIndex(instances.numAttributes()-1);\r\n\r\n                                            ArrayList finalDwell = dwell;\r\n                                            ArrayList finalFlightm2 = flightm2;\r\n                                            ArrayList finalFlightm3 = flightm3;\r\n\r\nLog.d(&quot;taille&quot;, String.valueOf(finalDwell.size()));\r\n                                            for (int i=0 ; i &lt;nombre_instance;i++) { //apres nboucle pour chaque instance (test)\r\n                                                int finalI = i; // i hiiya instance li rana fiha\r\n\r\n                                                DenseInstance denseInstance = new DenseInstance(instances.numAttributes()) {\r\n                                                    {\r\n\r\n                                                        setValue(Attribute1, preferences.getInt(&quot;dwelltime1&quot;,(Integer) finalDwell.get(0)));\r\n                                                        setValue(Attribute2, preferences.getLong(&quot;dwelltime2&quot;, (Long) finalDwell.get(1)));\r\n                                                        setValue(Attribute3, preferences.getLong(&quot;dwelltime3&quot;, (Long) finalDwell.get(2)));\r\n                                                        setValue(Attribute4, preferences.getLong(&quot;dwelltime4&quot;, (Long) finalDwell.get(3)));\r\n                                                        setValue(Attribute5, preferences.getLong(&quot;dwelltime5&quot;, (Long) finalDwell.get(4)));\r\n                                                        setValue(Attribute6, preferences.getLong(&quot;dwelltime6&quot;, (Long) finalDwell.get(5)));\r\n                                                        setValue(Attribute7, preferences.getLong(&quot;dwelltime7&quot;, (Long) finalDwell.get(6)));\r\n                                                        setValue(Attribute8, preferences.getLong(&quot;dwelltime8&quot;, (Long) finalDwell.get(7)));\r\n                                                        setValue(Attribute9, preferences.getLong(&quot;dwelltime9&quot;, (Long) finalDwell.get(8)));\r\n                                                        setValue(Attribute10, preferences.getLong(&quot;dwelltime10&quot;, (Long) finalDwell.get(9)));\r\n                                                        setValue(Attribute11, preferences.getLong(&quot;flighttime2_1&quot;, (Long) finalFlightm2.get(0)));\r\n                                                        setValue(Attribute12, preferences.getLong(&quot;flighttime2_2&quot;, (Long) finalFlightm2.get(1)));\r\n                                                        setValue(Attribute13, preferences.getLong(&quot;flighttime2_3&quot;, (Long) finalFlightm2.get(2)));\r\n                                                        setValue(Attribute14, preferences.getLong(&quot;flighttime2_4&quot;, (Long) finalFlightm2.get(3)));\r\n                                                        setValue(Attribute15, preferences.getLong(&quot;flighttime2_5&quot;, (Long) finalFlightm2.get(4)));\r\n                                                        setValue(Attribute16, preferences.getLong(&quot;flighttime2_6&quot;, (Long) finalFlightm2.get(5)));\r\n                                                        setValue(Attribute17, preferences.getLong(&quot;flighttime2_7&quot;, (Long) finalFlightm2.get(6)));\r\n                                                        setValue(Attribute18, preferences.getLong(&quot;flighttime2_8&quot;, (Long) finalFlightm2.get(7)));\r\n                                                        setValue(Attribute19, preferences.getLong(&quot;flighttime2_9&quot;, (Long) finalFlightm2.get(8)));\r\n                                                        setValue(Attribute20, preferences.getLong(&quot;flighttime3_1&quot;, (Long) finalFlightm3.get(0)));\r\n                                                        setValue(Attribute21, preferences.getLong(&quot;flighttime3_2&quot;, (Long) finalFlightm3.get(1)));\r\n                                                        setValue(Attribute22, preferences.getLong(&quot;flighttime3_3&quot;, (Long) finalFlightm3.get(2)));\r\n                                                        setValue(Attribute23, preferences.getLong(&quot;flighttime3_4&quot;, (Long) finalFlightm3.get(3)));\r\n                                                        setValue(Attribute24, preferences.getLong(&quot;flighttime3_5&quot;, (Long) finalFlightm3.get(4)));\r\n                                                        setValue(Attribute25, preferences.getLong(&quot;flighttime3_6&quot;, (Long) finalFlightm3.get(5)));\r\n                                                        setValue(Attribute26, preferences.getLong(&quot;flighttime3_7&quot;, (Long) finalFlightm3.get(6)));\r\n                                                        setValue(Attribute27, preferences.getLong(&quot;flighttime3_8&quot;, (Long) finalFlightm3.get(7)));\r\n                                                        setValue(Attribute28, preferences.getLong(&quot;flighttime3_9&quot;, (Long) finalFlightm3.get(8)));\r\n\r\n                                                    }\r\n                                                };\r\n\r\n\r\n                                                instances.add(denseInstance); //apres n ajouter les donnes f instance\r\n                                            }\r\n\r\n\r\n// Create a file to save the CSV data to\r\n\r\n\r\n                                            File file = new File(context.getExternalFilesDir(null), &quot;data.arff&quot;);\r\n                                            try (FileWriter writer = new FileWriter(file)) {\r\n                                                // Save the CSV data to the file\r\n\r\n                                                // create ArffSaver object\r\n                                                ArffSaver saver = new ArffSaver();\r\n                                                // set the instances object to be saved\r\n                                                saver.setInstances(instances);\r\n                                                // set the file to save the instances\r\n                                                saver.setFile(file);\r\n                                                // save the instances to the ARFF file\r\n                                                saver.writeBatch();\r\n                                                Log.d(&quot;APP_TAG&quot;, &quot;ARFF file saved at: &quot; + file.getAbsolutePath());\r\n                                            } catch (IOException e) {\r\n                                                throw new RuntimeException(e);\r\n                                            }\r\n\r\n                                            Log.d(&quot;getdata&quot;, instances.toString()); // w n affichi les donnees f log\r\n\r\n\r\n                                        }\r\n\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        return &quot;fdg&quot;;\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[and this a screenshot of my Firestore database](https://i.stack.imgur.com/Jb88D.png)\r\n\r\nI have verified that the &#39;dwell time&#39; field is indeed a number field in Firestore, so I am not sure why I am getting this error. What could be causing this error and how to fix it? \r\n","title":"Getting &quot;Field &#39;dwell time&#39; is not a java.lang.Number&quot; error when retrieving data from Firebase Firestore","body":"<p>I'm working on an Android project that uses Firebase Firestore to store data. I'm trying to retrieve a document from the Firestore database and get the value of a field called &quot;dwell time&quot; which is a number, but I keep getting the following error:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Field 'dwell time' is not a java.lang.Number</p>\n</blockquote>\n<p>I'm using the getLong() method to retrieve the value of the field, but it seems like the field is not being recognized as a number. Here's the code that I'm using:</p>\n<pre><code>package com.example.projetm.data;\n\nimport static java.sql.DriverManager.println;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\n\nimport weka.core.Instances;\nimport weka.core.converters.ArffSaver;\nimport weka.core.converters.CSVSaver;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport weka.core.Attribute;\nimport weka.core.DenseInstance;\nimport weka.core.FastVector;\nimport weka.core.Instances;\n\npublic class Getdata  {\n\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private SharedPreferences preferences;\n    private String PREFS = &quot;KEYSTROCKES&quot;;\n    private int nombre_instance; // hada nombre de tests\n    private int nombre_attribute = 29; // hada nombre de collones\n    public ArrayList  dwell = new ArrayList();\n    public ArrayList flightm2 = new ArrayList();\n    public ArrayList flightm3 = new ArrayList();\n    ArrayList name = new ArrayList&lt;String&gt;();\n    int y=0;\n\n\n    public String Class(Context context) throws Exception {\n\n        //hna nkharej ga3 les utilisateurs\n        db.collection(&quot;users&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    int nbruser = task.getResult().size(); //hna nedi nombre des utilisateurs\n                    Log.d(&quot;nombre&quot;,String.valueOf(nbruser));\n                    for (QueryDocumentSnapshot doc : task.getResult()) { //apres nboucle les utilisateurs\n\n                        String id = doc.getId(); // nedi id ta3ah\n                        //apres nedi dynamique regle de chaque utilisateurs\n                        db.collection(&quot;users&quot;).document(id).collection(&quot;dynamic&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                if (task.isSuccessful()) {\n                                    y++; // w koul ma nedi test nzid f y\n                                    Log.d(&quot;getdata1&quot;, String.valueOf(nombre_instance));\n                                    nombre_instance+=task.getResult().size(); //w nmed l nombre instance le nombre de test\n\n\n                                    for (QueryDocumentSnapshot document : task.getResult()) { //apres nboucle les tests\n                                        Log.d(&quot;data type&quot;, document.get(&quot;dwell time&quot;).getClass().getSimpleName());\n                                        dwell.add(document.getLong(&quot;dwell time&quot;)); //nedi swalhah\n\n                                        flightm2.add(document.getLong(&quot;flight time 2&quot;));\n                                        flightm3.add(document.getLong(&quot;flight time 3&quot;));\n                                        name.add(document.getString(&quot;nom&quot;));\n                                        Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n                                    }\n                                        if (y==nbruser){ //apres ki y yweli 9ad le nombre des utilisateurs sema da ga3  les tests ydir la suite\n                                            Log.d(&quot;getdata&quot;, &quot;wsel&quot;);\n                                            //hna apres ncreeo  data\n                                            preferences = context.getSharedPreferences(PREFS, Context.MODE_PRIVATE);\n                                            //nsamo les atributs\n\n\n                                            final Attribute Attribute1 = new Attribute(&quot;dwelltime1&quot;);\n                                            final Attribute Attribute2 = new Attribute(&quot;dwelltime2&quot;);\n                                            final Attribute Attribute3 = new Attribute(&quot;dwelltime3&quot;);\n                                            final Attribute Attribute4 = new Attribute(&quot;dwelltime4&quot;);\n                                            final Attribute Attribute5 = new Attribute(&quot;dwelltime5&quot;);\n                                            final Attribute Attribute6 = new Attribute(&quot;dwelltime6&quot;);\n                                            final Attribute Attribute7 = new Attribute(&quot;dwelltime7&quot;);\n                                            final Attribute Attribute8 = new Attribute(&quot;dwelltime8&quot;);\n                                            final Attribute Attribute9 = new Attribute(&quot;dwelltime9&quot;);\n                                            final Attribute Attribute10 = new Attribute(&quot;dwelltime10&quot;);\n                                            final Attribute Attribute11 = new Attribute(&quot;flighttime2_1&quot;);\n                                            final Attribute Attribute12 = new Attribute(&quot;flighttime2_2&quot;);\n                                            final Attribute Attribute13 = new Attribute(&quot;flighttime2_3&quot;);\n                                            final Attribute Attribute14 = new Attribute(&quot;flighttime2_4&quot;);\n                                            final Attribute Attribute15 = new Attribute(&quot;flighttime2_5&quot;);\n                                            final Attribute Attribute16 = new Attribute(&quot;flighttime2_6&quot;);\n                                            final Attribute Attribute17 = new Attribute(&quot;flighttime2_7&quot;);\n                                            final Attribute Attribute18 = new Attribute(&quot;flighttime2_8&quot;);\n                                            final Attribute Attribute19 = new Attribute(&quot;flighttime2_9&quot;);\n                                            final Attribute Attribute20 = new Attribute(&quot;flighttime3_1&quot;);\n                                            final Attribute Attribute21 = new Attribute(&quot;flighttime3_2&quot;);\n                                            final Attribute Attribute22 = new Attribute(&quot;flighttime3_3&quot;);\n                                            final Attribute Attribute23 = new Attribute(&quot;flighttime3_4&quot;);\n                                            final Attribute Attribute24 = new Attribute(&quot;flighttime3_5&quot;);\n                                            final Attribute Attribute25 = new Attribute(&quot;flighttime3_6&quot;);\n                                            final Attribute Attribute26 = new Attribute(&quot;flighttime3_7&quot;);\n                                            final Attribute Attribute27 = new Attribute(&quot;flighttime3_8&quot;);\n                                            final Attribute Attribute28 = new Attribute(&quot;flighttime3_9&quot;);\n                                            List&lt;String&gt; classes = new ArrayList&lt;String&gt;(){\n                                                {\n                                                    add(&quot;sahraoui&quot;);\n\n                                                }\n                                            };  //w ndir les classe\n\n                                            //apres n ajoutou les attributs f fastvecteur\n                                            Attribute AttributeClass = new Attribute(&quot;class&quot;,classes);\n                                            FastVector fastVector = new FastVector(nombre_attribute);\n                                            fastVector.addElement(Attribute1);\n                                            fastVector.addElement(Attribute2);\n                                            fastVector.addElement(Attribute3);\n                                            fastVector.addElement(Attribute4);\n                                            fastVector.addElement(Attribute5);\n                                            fastVector.addElement(Attribute6);\n                                            fastVector.addElement(Attribute7);\n                                            fastVector.addElement(Attribute8);\n                                            fastVector.addElement(Attribute9);\n                                            fastVector.addElement(Attribute10);\n                                            fastVector.addElement(Attribute11);\n                                            fastVector.addElement(Attribute12);\n                                            fastVector.addElement(Attribute13);\n                                            fastVector.addElement(Attribute14);\n                                            fastVector.addElement(Attribute15);\n                                            fastVector.addElement(Attribute16);\n                                            fastVector.addElement(Attribute17);\n                                            fastVector.addElement(Attribute18);\n                                            fastVector.addElement(Attribute19);\n                                            fastVector.addElement(Attribute20);\n                                            fastVector.addElement(Attribute21);\n                                            fastVector.addElement(Attribute22);\n                                            fastVector.addElement(Attribute23);\n                                            fastVector.addElement(Attribute24);\n                                            fastVector.addElement(Attribute25);\n                                            fastVector.addElement(Attribute26);\n                                            fastVector.addElement(Attribute27);\n                                            fastVector.addElement(Attribute28);\n                                            fastVector.addElement(AttributeClass);\n                                            //apres ncrreo instance avec nom dynamic w nmedo le nombre d'instance\n                                            Instances instances = new Instances(&quot;dynamic&quot;,fastVector,nombre_instance);\n                                            instances.setClassIndex(instances.numAttributes()-1);\n\n                                            ArrayList finalDwell = dwell;\n                                            ArrayList finalFlightm2 = flightm2;\n                                            ArrayList finalFlightm3 = flightm3;\n\nLog.d(&quot;taille&quot;, String.valueOf(finalDwell.size()));\n                                            for (int i=0 ; i &lt;nombre_instance;i++) { //apres nboucle pour chaque instance (test)\n                                                int finalI = i; // i hiiya instance li rana fiha\n\n                                                DenseInstance denseInstance = new DenseInstance(instances.numAttributes()) {\n                                                    {\n\n                                                        setValue(Attribute1, preferences.getInt(&quot;dwelltime1&quot;,(Integer) finalDwell.get(0)));\n                                                        setValue(Attribute2, preferences.getLong(&quot;dwelltime2&quot;, (Long) finalDwell.get(1)));\n                                                        setValue(Attribute3, preferences.getLong(&quot;dwelltime3&quot;, (Long) finalDwell.get(2)));\n                                                        setValue(Attribute4, preferences.getLong(&quot;dwelltime4&quot;, (Long) finalDwell.get(3)));\n                                                        setValue(Attribute5, preferences.getLong(&quot;dwelltime5&quot;, (Long) finalDwell.get(4)));\n                                                        setValue(Attribute6, preferences.getLong(&quot;dwelltime6&quot;, (Long) finalDwell.get(5)));\n                                                        setValue(Attribute7, preferences.getLong(&quot;dwelltime7&quot;, (Long) finalDwell.get(6)));\n                                                        setValue(Attribute8, preferences.getLong(&quot;dwelltime8&quot;, (Long) finalDwell.get(7)));\n                                                        setValue(Attribute9, preferences.getLong(&quot;dwelltime9&quot;, (Long) finalDwell.get(8)));\n                                                        setValue(Attribute10, preferences.getLong(&quot;dwelltime10&quot;, (Long) finalDwell.get(9)));\n                                                        setValue(Attribute11, preferences.getLong(&quot;flighttime2_1&quot;, (Long) finalFlightm2.get(0)));\n                                                        setValue(Attribute12, preferences.getLong(&quot;flighttime2_2&quot;, (Long) finalFlightm2.get(1)));\n                                                        setValue(Attribute13, preferences.getLong(&quot;flighttime2_3&quot;, (Long) finalFlightm2.get(2)));\n                                                        setValue(Attribute14, preferences.getLong(&quot;flighttime2_4&quot;, (Long) finalFlightm2.get(3)));\n                                                        setValue(Attribute15, preferences.getLong(&quot;flighttime2_5&quot;, (Long) finalFlightm2.get(4)));\n                                                        setValue(Attribute16, preferences.getLong(&quot;flighttime2_6&quot;, (Long) finalFlightm2.get(5)));\n                                                        setValue(Attribute17, preferences.getLong(&quot;flighttime2_7&quot;, (Long) finalFlightm2.get(6)));\n                                                        setValue(Attribute18, preferences.getLong(&quot;flighttime2_8&quot;, (Long) finalFlightm2.get(7)));\n                                                        setValue(Attribute19, preferences.getLong(&quot;flighttime2_9&quot;, (Long) finalFlightm2.get(8)));\n                                                        setValue(Attribute20, preferences.getLong(&quot;flighttime3_1&quot;, (Long) finalFlightm3.get(0)));\n                                                        setValue(Attribute21, preferences.getLong(&quot;flighttime3_2&quot;, (Long) finalFlightm3.get(1)));\n                                                        setValue(Attribute22, preferences.getLong(&quot;flighttime3_3&quot;, (Long) finalFlightm3.get(2)));\n                                                        setValue(Attribute23, preferences.getLong(&quot;flighttime3_4&quot;, (Long) finalFlightm3.get(3)));\n                                                        setValue(Attribute24, preferences.getLong(&quot;flighttime3_5&quot;, (Long) finalFlightm3.get(4)));\n                                                        setValue(Attribute25, preferences.getLong(&quot;flighttime3_6&quot;, (Long) finalFlightm3.get(5)));\n                                                        setValue(Attribute26, preferences.getLong(&quot;flighttime3_7&quot;, (Long) finalFlightm3.get(6)));\n                                                        setValue(Attribute27, preferences.getLong(&quot;flighttime3_8&quot;, (Long) finalFlightm3.get(7)));\n                                                        setValue(Attribute28, preferences.getLong(&quot;flighttime3_9&quot;, (Long) finalFlightm3.get(8)));\n\n                                                    }\n                                                };\n\n\n                                                instances.add(denseInstance); //apres n ajouter les donnes f instance\n                                            }\n\n\n// Create a file to save the CSV data to\n\n\n                                            File file = new File(context.getExternalFilesDir(null), &quot;data.arff&quot;);\n                                            try (FileWriter writer = new FileWriter(file)) {\n                                                // Save the CSV data to the file\n\n                                                // create ArffSaver object\n                                                ArffSaver saver = new ArffSaver();\n                                                // set the instances object to be saved\n                                                saver.setInstances(instances);\n                                                // set the file to save the instances\n                                                saver.setFile(file);\n                                                // save the instances to the ARFF file\n                                                saver.writeBatch();\n                                                Log.d(&quot;APP_TAG&quot;, &quot;ARFF file saved at: &quot; + file.getAbsolutePath());\n                                            } catch (IOException e) {\n                                                throw new RuntimeException(e);\n                                            }\n\n                                            Log.d(&quot;getdata&quot;, instances.toString()); // w n affichi les donnees f log\n\n\n                                        }\n\n\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n        });\n\n        return &quot;fdg&quot;;\n\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jb88D.png\" rel=\"nofollow noreferrer\">and this a screenshot of my Firestore database</a></p>\n<p>I have verified that the 'dwell time' field is indeed a number field in Firestore, so I am not sure why I am getting this error. What could be causing this error and how to fix it?</p>\n"},{"tags":["java","android","build","r.java-file"],"comments":[{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1402373999,"post_id":24132783,"comment_id":37235821,"body_markdown":"check if you have `import android.R;` if so remove it. Check the resource file for errors. if so fix it and clean and build the project","body":"check if you have <code>import android.R;</code> if so remove it. Check the resource file for errors. if so fix it and clean and build the project"},{"owner":{"account_id":1504904,"reputation":115,"user_id":1408523,"accept_rate":44,"display_name":"ejaz dogar"},"score":0,"creation_date":1402374235,"post_id":24132783,"comment_id":37235903,"body_markdown":"@Raghunandan, I have already done that but it doesn&#39;t help.","body":"@Raghunandan, I have already done that but it doesn&#39;t help."},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1402374285,"post_id":24132783,"comment_id":37235925,"body_markdown":"R.java will not be generated if you have errors in your resource file. Did you check that?. If that doesn&#39;t help. Good luck","body":"R.java will not be generated if you have errors in your resource file. Did you check that?. If that doesn&#39;t help. Good luck"}],"answers":[{"tags":[],"owner":{"account_id":4474921,"reputation":3263,"user_id":3640268,"accept_rate":40,"display_name":"Bharadwaja Bapatla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679532339,"creation_date":1402376441,"answer_id":24133173,"question_id":24132783,"body_markdown":"try out these things\r\n\r\nif you have this in your imports:\r\n\r\n    import android.R;\r\n\r\nremove it and then add\r\n\r\n    import your.application.packagename.R;\r\n\r\nand clean and build the project\r\n\r\n\r\ngo through the documentation for details\r\n\r\nAs described at [https://source.android.com/source/using-eclipse.html][1]:\r\n\r\n &gt;Note: Eclipse sometimes likes to add an &quot;import android.R&quot; statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140325152640/http://source.android.com/source/using-eclipse.html","title":"Issues with the R.java file","body":"<p>try out these things</p>\n<p>if you have this in your imports:</p>\n<pre><code>import android.R;\n</code></pre>\n<p>remove it and then add</p>\n<pre><code>import your.application.packagename.R;\n</code></pre>\n<p>and clean and build the project</p>\n<p>go through the documentation for details</p>\n<p>As described at <a href=\"https://web.archive.org/web/20140325152640/http://source.android.com/source/using-eclipse.html\" rel=\"nofollow noreferrer\">https://source.android.com/source/using-eclipse.html</a>:</p>\n<blockquote>\n<p>Note: Eclipse sometimes likes to add an &quot;import android.R&quot; statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.</p>\n</blockquote>\n"}],"owner":{"account_id":1504904,"reputation":115,"user_id":1408523,"accept_rate":44,"display_name":"ejaz dogar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679532339,"creation_date":1402373882,"question_id":24132783,"body_markdown":"When I made my android app and ran it for the first time then the R.java file wasn&#39;t automatically generated. Then, I first cleaned the project and later on autobuild it and the R.java file was regenerated. But now I am getting error on \r\n\r\n    setContentView(R.layout.main);//main can&#39;t be resolved or is not a field.\r\n\r\nSo, how to overcome this error else tell a better way to autogenerate the R.java file?","title":"Issues with the R.java file","body":"<p>When I made my android app and ran it for the first time then the R.java file wasn't automatically generated. Then, I first cleaned the project and later on autobuild it and the R.java file was regenerated. But now I am getting error on </p>\n\n<pre><code>setContentView(R.layout.main);//main can't be resolved or is not a field.\n</code></pre>\n\n<p>So, how to overcome this error else tell a better way to autogenerate the R.java file?</p>\n"},{"tags":["java","geolocation","processing","google-maps-markers","unfoldingmap"],"comments":[{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1679499113,"post_id":75809649,"comment_id":133733703,"body_markdown":"How (shelterPos.x, shelterPos.y) will be a screen position? Isn&#39;t it a geolocation?  Print it first.","body":"How (shelterPos.x, shelterPos.y) will be a screen position? Isn&#39;t it a geolocation?  Print it first."}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679531889,"creation_date":1679515989,"answer_id":75816889,"question_id":75809649,"body_markdown":"The following source code is a simplified version of your code since the .mbtiles for Toronto is unavailable to me.  You left out **P2D** from your size() parameters; should see a red circle overlying the Covenant House in Toronto.\r\n\r\n```\r\nimport de.fhpotsdam.unfolding.utils.*;\r\nimport de.fhpotsdam.unfolding.marker.*;\r\nimport de.fhpotsdam.unfolding.interactions.*;\r\nimport de.fhpotsdam.unfolding.ui.*;\r\nimport de.fhpotsdam.unfolding.*;\r\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\r\nimport de.fhpotsdam.unfolding.data.*;\r\nimport de.fhpotsdam.unfolding.geo.*;\r\nimport de.fhpotsdam.unfolding.texture.*;\r\nimport de.fhpotsdam.unfolding.events.*;\r\nimport de.fhpotsdam.utils.*;\r\n\r\nUnfoldingMap map; \r\nSimplePointMarker shelterMarker; \r\n\r\nvoid setup() {\r\n  size(800, 600, P2D);\r\n  map = new UnfoldingMap(this, 0, 0, width, height);\r\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353)); \r\n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\r\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \r\n  shelterMarker.setColor(color(255, 0, 0));\r\n  map.addMarker(shelterMarker);\r\n  \r\n}\r\nvoid draw() {\r\n  map.draw();\r\n}\r\n```","title":"Using Unfolding Maps library on Processing editor - Red Marker will not appear on the map","body":"<p>The following source code is a simplified version of your code since the .mbtiles for Toronto is unavailable to me.  You left out <strong>P2D</strong> from your size() parameters; should see a red circle overlying the Covenant House in Toronto.</p>\n<pre><code>import de.fhpotsdam.unfolding.utils.*;\nimport de.fhpotsdam.unfolding.marker.*;\nimport de.fhpotsdam.unfolding.interactions.*;\nimport de.fhpotsdam.unfolding.ui.*;\nimport de.fhpotsdam.unfolding.*;\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\nimport de.fhpotsdam.unfolding.data.*;\nimport de.fhpotsdam.unfolding.geo.*;\nimport de.fhpotsdam.unfolding.texture.*;\nimport de.fhpotsdam.unfolding.events.*;\nimport de.fhpotsdam.utils.*;\n\nUnfoldingMap map; \nSimplePointMarker shelterMarker; \n\nvoid setup() {\n  size(800, 600, P2D);\n  map = new UnfoldingMap(this, 0, 0, width, height);\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353)); \n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \n  shelterMarker.setColor(color(255, 0, 0));\n  map.addMarker(shelterMarker);\n  \n}\nvoid draw() {\n  map.draw();\n}\n</code></pre>\n"}],"owner":{"account_id":19574776,"reputation":1,"user_id":14325080,"display_name":"kidjoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679531889,"creation_date":1679471909,"question_id":75809649,"body_markdown":"How can I make a very basic red marker (i.e., Red Ellipse) appear on the map (which integrates unfolding library) at the provided location (coordinates) for the shelter in this case. \r\n\r\nHere&#39;s the code sketch: \r\n\r\n```\r\nimport de.fhpotsdam.unfolding.utils.*;\r\nimport de.fhpotsdam.unfolding.marker.*;\r\nimport de.fhpotsdam.unfolding.tiles.*;\r\nimport de.fhpotsdam.unfolding.interactions.*;\r\nimport de.fhpotsdam.unfolding.ui.*;\r\nimport de.fhpotsdam.unfolding.*;\r\nimport de.fhpotsdam.unfolding.core.*;\r\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\r\nimport de.fhpotsdam.unfolding.data.*;\r\nimport de.fhpotsdam.unfolding.geo.*;\r\nimport de.fhpotsdam.unfolding.texture.*;\r\nimport de.fhpotsdam.unfolding.events.*;\r\nimport de.fhpotsdam.utils.*;\r\n\r\nString shelterMainFile = &quot;toronto-daily-shelter-occupancy.csv&quot;; \r\n//String shelterData = shelterMainFile; \r\n\r\nUnfoldingMap map; \r\nSimplePointMarker shelterMarker; \r\n\r\nvoid setup() {\r\n  size(800, 600);\r\n  smooth();\r\n\r\n  //--MAP INITIATE \r\n  // Creating a map anchored around downtown core Toronto\r\n  String mbTilesString = sketchPath(&quot;data/black_yellow.mbtiles&quot;);  //in the data folder of the current sketch\r\n  map = new UnfoldingMap(this, new MBTilesMapProvider(mbTilesString));\r\n  // Grab your desired map\r\n  map = new UnfoldingMap(this, new Microsoft.RoadProvider()); // default cleaner\r\n  //SET ZOOM &amp; ANCHOR to specified location here\r\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353));\r\n  // LAUNCH\r\n  MapUtils.createDefaultEventDispatcher(this, map);\r\n  map.setTweening(true);\r\n  \r\n  //--LOCATION MARKER \r\n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\r\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \r\n  shelterMarker.setColor(color(255, 0, 0)); // set marker color to red\r\n  \r\n  //--MAP MARKERS \r\n  map.addMarker(shelterMarker);\r\n  \r\n  //--DATA\r\n  // coming soon... \r\n}\r\nvoid draw() {\r\n\r\n  // Draw Map \r\n  map.draw();\r\n\r\n  // Draw the marker hovering above Covenant House\r\n  ScreenPosition shelterPos = map.getScreenPosition(shelterMarker.getLocation());\r\n  strokeWeight(1);\r\n  stroke(255, 0, 0);\r\n  fill(255, 0, 0, 100);\r\n  ellipse(shelterPos.x, shelterPos.y, 36, 36); //--red marker supposed to show up at this x, y \r\n}\r\n```\r\n\r\nI have tried running the sketch without the map integrating. That seems to be the only way my ellipse will show (but no map, which is integral part of this sketch). \r\n\r\nNot sure why this isn&#39;t working considering it is very toned-down example. ","title":"Using Unfolding Maps library on Processing editor - Red Marker will not appear on the map","body":"<p>How can I make a very basic red marker (i.e., Red Ellipse) appear on the map (which integrates unfolding library) at the provided location (coordinates) for the shelter in this case.</p>\n<p>Here's the code sketch:</p>\n<pre><code>import de.fhpotsdam.unfolding.utils.*;\nimport de.fhpotsdam.unfolding.marker.*;\nimport de.fhpotsdam.unfolding.tiles.*;\nimport de.fhpotsdam.unfolding.interactions.*;\nimport de.fhpotsdam.unfolding.ui.*;\nimport de.fhpotsdam.unfolding.*;\nimport de.fhpotsdam.unfolding.core.*;\nimport de.fhpotsdam.unfolding.mapdisplay.shaders.*;\nimport de.fhpotsdam.unfolding.data.*;\nimport de.fhpotsdam.unfolding.geo.*;\nimport de.fhpotsdam.unfolding.texture.*;\nimport de.fhpotsdam.unfolding.events.*;\nimport de.fhpotsdam.utils.*;\n\nString shelterMainFile = &quot;toronto-daily-shelter-occupancy.csv&quot;; \n//String shelterData = shelterMainFile; \n\nUnfoldingMap map; \nSimplePointMarker shelterMarker; \n\nvoid setup() {\n  size(800, 600);\n  smooth();\n\n  //--MAP INITIATE \n  // Creating a map anchored around downtown core Toronto\n  String mbTilesString = sketchPath(&quot;data/black_yellow.mbtiles&quot;);  //in the data folder of the current sketch\n  map = new UnfoldingMap(this, new MBTilesMapProvider(mbTilesString));\n  // Grab your desired map\n  map = new UnfoldingMap(this, new Microsoft.RoadProvider()); // default cleaner\n  //SET ZOOM &amp; ANCHOR to specified location here\n  map.zoomAndPanTo(18, new Location(43.6595035, -79.3814353));\n  // LAUNCH\n  MapUtils.createDefaultEventDispatcher(this, map);\n  map.setTweening(true);\n  \n  //--LOCATION MARKER \n  Location covenantHouseLocation = new Location(43.6595035, -79.3814353);\n  shelterMarker = new SimplePointMarker(covenantHouseLocation);  \n  shelterMarker.setColor(color(255, 0, 0)); // set marker color to red\n  \n  //--MAP MARKERS \n  map.addMarker(shelterMarker);\n  \n  //--DATA\n  // coming soon... \n}\nvoid draw() {\n\n  // Draw Map \n  map.draw();\n\n  // Draw the marker hovering above Covenant House\n  ScreenPosition shelterPos = map.getScreenPosition(shelterMarker.getLocation());\n  strokeWeight(1);\n  stroke(255, 0, 0);\n  fill(255, 0, 0, 100);\n  ellipse(shelterPos.x, shelterPos.y, 36, 36); //--red marker supposed to show up at this x, y \n}\n</code></pre>\n<p>I have tried running the sketch without the map integrating. That seems to be the only way my ellipse will show (but no map, which is integral part of this sketch).</p>\n<p>Not sure why this isn't working considering it is very toned-down example.</p>\n"},{"tags":["java","maven","jenkins"],"owner":{"account_id":9527284,"reputation":11,"user_id":7519886,"display_name":"Kryniowesegryderiusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679531179,"creation_date":1679531179,"question_id":75818338,"body_markdown":"I need help as lately I&#39;ve started getting `You have to use a classifier to attach supplemental artifacts to the project instead of replacing them.` error while shading on [Jenkins](https://ci.codemc.io/job/Kryniowesegryderiusz/job/KGenerators/121/console) (nothing when building on localhost).\r\n \r\nError is about [this pom](https://github.com/Kryniowesegryderiusz/KGenerators/blob/main/dist/pom.xml).\r\nYou can see at git commit history that I&#39;ve tried a lot already, but nothing works and I cannot find any working solution on stack :/\r\n\r\n\r\nI tried settings classifier for jar stage, setting shadedClassifierName, skipping jar stage, changing versions. I&#39;ve literally run out of ideas and possible stack overflow tickets, which could help me :C","title":"Maven error on Jenkins server &quot;You have to use a classifier to attach supplemental artifacts to the project instead of replacing them&quot;","body":"<p>I need help as lately I've started getting <code>You have to use a classifier to attach supplemental artifacts to the project instead of replacing them.</code> error while shading on <a href=\"https://ci.codemc.io/job/Kryniowesegryderiusz/job/KGenerators/121/console\" rel=\"nofollow noreferrer\">Jenkins</a> (nothing when building on localhost).</p>\n<p>Error is about <a href=\"https://github.com/Kryniowesegryderiusz/KGenerators/blob/main/dist/pom.xml\" rel=\"nofollow noreferrer\">this pom</a>.\nYou can see at git commit history that I've tried a lot already, but nothing works and I cannot find any working solution on stack :/</p>\n<p>I tried settings classifier for jar stage, setting shadedClassifierName, skipping jar stage, changing versions. I've literally run out of ideas and possible stack overflow tickets, which could help me :C</p>\n"},{"tags":["java","linux","javafx","netbeans"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679566235,"post_id":75818208,"comment_id":133745816,"body_markdown":"Your &quot;generated jar&quot; is incorrect.  Probably it doesn&#39;t include native code required to use a JavaFX application.  You won&#39;t get much assistance without providing reproducible steps on how you generated the jar and how you executed it.  Probably a &quot;generated jar&#39; is an incorrect or suboptimal approach.  For packaging info see the [javafx tag](https://stackoverflow.com/questions/tagged/javafx).  Also, I don&#39;t suggest mixing Swing and JavaFX unless you really need to.","body":"Your &quot;generated jar&quot; is incorrect.  Probably it doesn&#39;t include native code required to use a JavaFX application.  You won&#39;t get much assistance without providing reproducible steps on how you generated the jar and how you executed it.  Probably a &quot;generated jar&#39; is an incorrect or suboptimal approach.  For packaging info see the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx tag</a>.  Also, I don&#39;t suggest mixing Swing and JavaFX unless you really need to."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1679567127,"post_id":75818208,"comment_id":133746040,"body_markdown":"Yes it an old project hard to maintain using swing, i hope to move it to pure javafx gradually . _      Jar is generated by netbeans and included all javafx jar and works from netbeans but once this same project compiled with netbeans its different . this Prism error seems to be a repetitive error with javafx but consulting all forums about i arrived at maximum I can and none was this same context","body":"Yes it an old project hard to maintain using swing, i hope to move it to pure javafx gradually . _      Jar is generated by netbeans and included all javafx jar and works from netbeans but once this same project compiled with netbeans its different . this Prism error seems to be a repetitive error with javafx but consulting all forums about i arrived at maximum I can and none was this same context"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679590647,"post_id":75818208,"comment_id":133752754,"body_markdown":"*&quot;Jar is generated by netbeans and included all javafx jar&quot;* -&gt; though you may be able to get such a setup to work, as will be noted in articles linked from the referenced JavaFX tag wiki, such a setup is not supported.  Modern JavaFX versions assume JavaFX modules are on the module path, which is not possible if you include JavaFX libraries in a single jar file.","body":"<i>&quot;Jar is generated by netbeans and included all javafx jar&quot;</i> -&gt; though you may be able to get such a setup to work, as will be noted in articles linked from the referenced JavaFX tag wiki, such a setup is not supported.  Modern JavaFX versions assume JavaFX modules are on the module path, which is not possible if you include JavaFX libraries in a single jar file."}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679530259,"creation_date":1679529361,"question_id":75818208,"body_markdown":"I &#39;m trying to compile a project using java11 and javafx 17 on rocky Linux\r\n\r\nI followed the javaFX (non modular) guide for Eclipse and it works fine.\r\n\r\nI did the same with netBeans (12.6) and its a semi success, project runs perfectly when launched directly from Netbeans. But after compiling the project without error it fails at execution displaying this : \r\n\r\n    mars 22, 2023 11:30:05 PM com.sun.javafx.application.PlatformImpl startup\r\n    AVERTISSEMENT: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @57116b8b&#39;\r\n    Prism pipeline init order: es2 sw \r\n    Using Double Precision Marlin Rasterizer\r\n    Using dirty region optimizations\r\n    Not using texture mask for primitives\r\n    Not forcing power of 2 sizes for textures\r\n    Using hardware CLAMP_TO_ZERO mode\r\n    Opting in for HiDPI pixel scaling\r\n    Prism pipeline name = com.sun.prism.es2.ES2Pipeline\r\n    Loading ES2 native library ... prism_es2\r\n    GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\r\n    java.lang.UnsatisfiedLinkError: no prism_es2 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1870)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n    \tat com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:315)\r\n    \tat com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    *** Fallback to Prism SW pipeline\r\n    Prism pipeline name = com.sun.prism.sw.SWPipeline\r\n    GraphicsPipeline.createPipeline failed for com.sun.prism.sw.SWPipeline\r\n    java.lang.UnsatisfiedLinkError: no prism_sw in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1870)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\r\n    \tat com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n    \tat com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:315)\r\n    \tat com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Graphics Device initialization failed for :  es2, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n    \tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:266)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n    \tat javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \t... 1 more\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: No toolkit found\r\n    \tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:278)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n    \tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n    \tat javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nApparently first warning could be ignored, the thing i don&#39;t undertand is why application runs correctly under eclipse and netbeans and not after compilation , what is the difference  and what is missing ?\r\n\r\nreading next lines, seems that prism_es2 and prism_sw where missing at expected location\r\n\r\nactually I didn&#39;t find those files but i saw comparable files in the javafx directory\r\n\r\n    /home/userdev/javafx-sdk-17.0.6/lib/libprism_es2.so\r\n    /home/userdev/javafx-sdk-17.0.6/lib/libprism_sw.so\r\n\r\nwhy it&#39;s seems to use those files in eclipse and netbeans but not with generated jar ,\r\nhow can I solve this ?\r\n\r\nThanks for any help\r\n","title":"how to resolve GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline error using javafx 17","body":"<p>I 'm trying to compile a project using java11 and javafx 17 on rocky Linux</p>\n<p>I followed the javaFX (non modular) guide for Eclipse and it works fine.</p>\n<p>I did the same with netBeans (12.6) and its a semi success, project runs perfectly when launched directly from Netbeans. But after compiling the project without error it fails at execution displaying this :</p>\n<pre><code>mars 22, 2023 11:30:05 PM com.sun.javafx.application.PlatformImpl startup\nAVERTISSEMENT: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @57116b8b'\nPrism pipeline init order: es2 sw \nUsing Double Precision Marlin Rasterizer\nUsing dirty region optimizations\nNot using texture mask for primitives\nNot forcing power of 2 sizes for textures\nUsing hardware CLAMP_TO_ZERO mode\nOpting in for HiDPI pixel scaling\nPrism pipeline name = com.sun.prism.es2.ES2Pipeline\nLoading ES2 native library ... prism_es2\nGraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\njava.lang.UnsatisfiedLinkError: no prism_es2 in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\n    at java.base/java.lang.System.loadLibrary(System.java:1870)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\n    at com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n    at com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n*** Fallback to Prism SW pipeline\nPrism pipeline name = com.sun.prism.sw.SWPipeline\nGraphicsPipeline.createPipeline failed for com.sun.prism.sw.SWPipeline\njava.lang.UnsatisfiedLinkError: no prism_sw in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829)\n    at java.base/java.lang.System.loadLibrary(System.java:1870)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:166)\n    at com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n    at com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:266)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    ... 1 more\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: No toolkit found\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:278)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.embed.swing.JFXPanel.lambda$initFx$1(JFXPanel.java:230)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Apparently first warning could be ignored, the thing i don't undertand is why application runs correctly under eclipse and netbeans and not after compilation , what is the difference  and what is missing ?</p>\n<p>reading next lines, seems that prism_es2 and prism_sw where missing at expected location</p>\n<p>actually I didn't find those files but i saw comparable files in the javafx directory</p>\n<pre><code>/home/userdev/javafx-sdk-17.0.6/lib/libprism_es2.so\n/home/userdev/javafx-sdk-17.0.6/lib/libprism_sw.so\n</code></pre>\n<p>why it's seems to use those files in eclipse and netbeans but not with generated jar ,\nhow can I solve this ?</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","spring-boot","spring-security","junit"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679523106,"post_id":75817616,"comment_id":133739482,"body_markdown":"auth.getPrincipal(); return String instead of JwtUserDetails in login method of AuthService when I run the shouldogin method in AuthServiceTest. How can I fix it?","body":"auth.getPrincipal(); return String instead of JwtUserDetails in login method of AuthService when I run the shouldogin method in AuthServiceTest. How can I fix it?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1679523520,"post_id":75817616,"comment_id":133739556,"body_markdown":"You can try to pass anyString() instead jwtUserDetaails or new Object()","body":"You can try to pass anyString() instead jwtUserDetaails or new Object()"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679523740,"post_id":75817616,"comment_id":133739599,"body_markdown":"auth.getPrincipal() normally returns JwtUserDetails. However, I get String text when I run the test method. Where is the problem in the test method and How can I fix it?","body":"auth.getPrincipal() normally returns JwtUserDetails. However, I get String text when I run the test method. Where is the problem in the test method and How can I fix it?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1679524024,"post_id":75817616,"comment_id":133739647,"body_markdown":"In your method you do the follow\nJwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\nit means auth.getPrincipal doesnt return JwtUserDetails.  This method returns object as i see in documentation. So in mock you need to returm object or String if you want and test should pass you to next line","body":"In your method you do the follow JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal(); it means auth.getPrincipal doesnt return JwtUserDetails.  This method returns object as i see in documentation. So in mock you need to returm object or String if you want and test should pass you to next line"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1679524249,"post_id":75817616,"comment_id":133739689,"body_markdown":"I already knew it (return object or String). How can I mock it to return JwtUserDetails?","body":"I already knew it (return object or String). How can I mock it to return JwtUserDetails?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1679524805,"post_id":75817616,"comment_id":133739785,"body_markdown":"I am not sure that you need to do it. The test should cast your mock for you. But you can try to do something like when(authentication.getPrincipal()).thenReturn(new Object()).thenReturn(jwtUserDetails)","body":"I am not sure that you need to do it. The test should cast your mock for you. But you can try to do something like when(authentication.getPrincipal()).thenReturn(new Object()).thenReturn(jwtUserDetails)"}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679522438,"creation_date":1679522438,"answer_id":75817616,"question_id":75817309,"body_markdown":"Just mock Authentication auth, JwtUserDetails jwtUserDetails:\r\n\r\n    @Mock\r\n    private Authentication auth\r\n    \r\n    @Mock\r\n    private JwtUserDetails jwtUserDetails\r\n    \r\n    and in test do\r\n    \r\n    when(auth.getPrincipal()).thenReturn(jwtUserDetails)\r\n\r\nDon&#39;t forget to remove two lines of code in your test\r\n\r\n    Authentication auth = authenticationManager.authenticate(authToken);\r\n    JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n\r\n","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>Just mock Authentication auth, JwtUserDetails jwtUserDetails:</p>\n<pre><code>@Mock\nprivate Authentication auth\n\n@Mock\nprivate JwtUserDetails jwtUserDetails\n\nand in test do\n\nwhen(auth.getPrincipal()).thenReturn(jwtUserDetails)\n</code></pre>\n<p>Don't forget to remove two lines of code in your test</p>\n<pre><code>Authentication auth = authenticationManager.authenticate(authToken);\nJwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1679529964,"creation_date":1679529964,"answer_id":75818244,"question_id":75817309,"body_markdown":"Here is the answer shown below\r\n\r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\r\n    \r\n    \r\n            User user = User.builder()\r\n                    .username(loginRequest.getUsername())\r\n                    .password(loginRequest.getPassword())\r\n                    .userRole(UserRole.ROLE_ADMIN)\r\n                    .build();\r\n    \r\n            user.setId(1L);\r\n    \r\n            UsernamePasswordAuthenticationToken authToken =\r\n                    new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n    \r\n    \r\n            JwtUserDetails jwtUserDetails = new JwtUserDetails(user);\r\n    \r\n            Authentication auth = new UsernamePasswordAuthenticationToken(jwtUserDetails, null);\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n    \r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getRefreshToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(eq(authToken)))\r\n                    .thenReturn(auth);\r\n            when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken().substring(7), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>Here is the answer shown below</p>\n<pre><code>@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\n\n\n        User user = User.builder()\n                .username(loginRequest.getUsername())\n                .password(loginRequest.getPassword())\n                .userRole(UserRole.ROLE_ADMIN)\n                .build();\n\n        user.setId(1L);\n\n        UsernamePasswordAuthenticationToken authToken =\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n\n\n        JwtUserDetails jwtUserDetails = new JwtUserDetails(user);\n\n        Authentication auth = new UsernamePasswordAuthenticationToken(jwtUserDetails, null);\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getRefreshToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(eq(authToken)))\n                .thenReturn(auth);\n        when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken().substring(7), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75818244,"answer_count":2,"score":0,"last_activity_date":1679529964,"creation_date":1679519618,"question_id":75817309,"body_markdown":"I have a problem implementing login service test based on Spring Security in Spring Boot. I tried to implement login method in AuthService and then wrote its service method but I got the issue.\r\n\r\n\r\nHere is the issue shown below\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.core.Authentication.getPrincipal()&quot; because &quot;auth&quot; is null\r\n\r\nHow can I fix it?\r\n\r\nHere is JwtUserDetails class shown below\r\n\r\n    @RequiredArgsConstructor\r\n    public class JwtUserDetails implements UserDetails {\r\n    \r\n        private final User user;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            UserRole roles = user.getUserRole();\r\n    \r\n            List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\r\n            authories.add(new SimpleGrantedAuthority(roles.name()));\r\n    \r\n            return authories;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n        public long getId(){\r\n            return user.getId();\r\n        }\r\n    \r\n        public String getEmail(){\r\n            return user.getEmail();\r\n        }\r\n    }\r\n\r\n\r\nHere is AuthService shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AuthService{\r\n    \r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        private final JwtTokenProvider jwtTokenProvider;\r\n    \r\n        private final PasswordEncoder passwordEncoder;\r\n       \r\n        private final RefreshTokenService refreshTokenService;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public AuthResponse login(AdminLoginRequest loginRequest) {\r\n    \r\n            UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n            Authentication auth = authenticationManager.authenticate(authToken);\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n            String accessToken = jwtTokenProvider.generateJwtToken(auth);\r\n    \r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n    \r\n            RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\r\n    \r\n            Date expiryDate = new Date(new Date().getTime() + EXPIRES_IN);\r\n    \r\n            return AuthResponse.builder()\r\n                    .username(userDetails.getUsername())\r\n                    .accessToken(&quot;Bearer &quot; + accessToken)\r\n                    .roles(roles)\r\n                    .refreshToken(refreshToken.getToken())\r\n                    .message(&quot;success&quot;)\r\n                    .expireDate(expiryDate.getTime())\r\n                    .build();\r\n        }\r\n\r\n\r\nHere is the AuthServiceTest shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class AuthServiceTest{\r\n    \r\n        @Mock\r\n        private UserRepository userRepository;\r\n    \r\n        @Mock\r\n        private OrganizationRepository organizationRepository;\r\n    \r\n        @InjectMocks\r\n        private AuthServiceImpl authService;\r\n    \r\n        @Mock\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        @Mock\r\n        private UserMapper userMapper;\r\n    \r\n        @Mock\r\n        private RefreshTokenService refreshTokenService;\r\n    \r\n        @Mock\r\n        private JwtTokenProvider jwtTokenProvider;\r\n    \r\n        @Mock\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = getLoginRequest();\r\n    \r\n            UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n            Authentication auth = authenticationManager.authenticate(authToken);\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n            JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;Bearer access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getAccessToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(any())).thenReturn(authToken);\r\n            when(jwtTokenProvider.generateJwtToken(any())).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }\r\n\r\n\r\nHere is the getLoginRequest shown below\r\n\r\n    public AdminLoginRequest getLoginRequest() {\r\n            return AdminLoginRequest.builder()\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .password(&quot;adminPassword&quot;)\r\n                    .build();\r\n        }\r\n\r\nRevised\r\n\r\nHere is the test method shown below\r\n\r\n    @Test\r\n        void shouldLogin() {\r\n    \r\n            // Given\r\n            AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\r\n    \r\n    \r\n            User user = User.builder()\r\n                    .username(loginRequest.getUsername())\r\n                    .password(loginRequest.getPassword())\r\n                    .userRole(UserRole.ROLE_ADMIN)\r\n                    .build();\r\n    \r\n            user.setId(1L);\r\n    \r\n            UsernamePasswordAuthenticationToken authToken =\r\n                    new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            AuthResponse authResponse = AuthResponse.builder()\r\n                    .expireDate(new Date().getTime() + 120000)\r\n                    .refreshToken(&quot;refreshToken&quot;)\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;Bearer access-token&quot;)\r\n                    .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\r\n                    .username(&quot;adminUsername&quot;)\r\n                    .build();\r\n    \r\n            RefreshToken refreshToken = RefreshToken.builder()\r\n                    .token(authResponse.getAccessToken())\r\n                    .build();\r\n    \r\n            // when\r\n            when(authenticationManager.authenticate(eq(authToken))).thenReturn(authToken);\r\n            when(auth.getPrincipal()).thenReturn(jwtUserDetails);\r\n            when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\r\n            when(refreshTokenService.createRefreshToken(eq(jwtUserDetails.getId()))).thenReturn(refreshToken);\r\n    \r\n            AuthResponse authResponseActual = authService.login(loginRequest);\r\n    \r\n            // then\r\n            assertThat(authResponse).isNotNull();\r\n            assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\r\n            assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\r\n            assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\r\n    \r\n        }\r\n\r\nHere is the issue shown below\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class com.ays.backend.user.security.JwtUserDetails (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; com.ays.backend.user.security.JwtUserDetails is in unnamed module of loader &#39;app&#39;)\r\n\r\n","title":"How to implement login service test based on Spring Security in Spring Boot?","body":"<p>I have a problem implementing login service test based on Spring Security in Spring Boot. I tried to implement login method in AuthService and then wrote its service method but I got the issue.</p>\n<p>Here is the issue shown below</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.core.Authentication.getPrincipal()&quot; because &quot;auth&quot; is null\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is JwtUserDetails class shown below</p>\n<pre><code>@RequiredArgsConstructor\npublic class JwtUserDetails implements UserDetails {\n\n    private final User user;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        UserRole roles = user.getUserRole();\n\n        List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\n        authories.add(new SimpleGrantedAuthority(roles.name()));\n\n        return authories;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public long getId(){\n        return user.getId();\n    }\n\n    public String getEmail(){\n        return user.getEmail();\n    }\n}\n</code></pre>\n<p>Here is AuthService shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AuthService{\n\n    private final AuthenticationManager authenticationManager;\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    private final PasswordEncoder passwordEncoder;\n   \n    private final RefreshTokenService refreshTokenService;\n\n    @Override\n    @Transactional\n    public AuthResponse login(AdminLoginRequest loginRequest) {\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken);\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n        String accessToken = jwtTokenProvider.generateJwtToken(auth);\n\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\n\n        Date expiryDate = new Date(new Date().getTime() + EXPIRES_IN);\n\n        return AuthResponse.builder()\n                .username(userDetails.getUsername())\n                .accessToken(&quot;Bearer &quot; + accessToken)\n                .roles(roles)\n                .refreshToken(refreshToken.getToken())\n                .message(&quot;success&quot;)\n                .expireDate(expiryDate.getTime())\n                .build();\n    }\n</code></pre>\n<p>Here is the AuthServiceTest shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AuthServiceTest{\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private OrganizationRepository organizationRepository;\n\n    @InjectMocks\n    private AuthServiceImpl authService;\n\n    @Mock\n    private PasswordEncoder passwordEncoder;\n\n    @Mock\n    private UserMapper userMapper;\n\n    @Mock\n    private RefreshTokenService refreshTokenService;\n\n    @Mock\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Mock\n    private AuthenticationManager authenticationManager;\n\n@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = getLoginRequest();\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken);\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        JwtUserDetails userDetails = (JwtUserDetails) auth.getPrincipal();\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;Bearer access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getAccessToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(any())).thenReturn(authToken);\n        when(jwtTokenProvider.generateJwtToken(any())).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(userDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n<p>Here is the getLoginRequest shown below</p>\n<pre><code>public AdminLoginRequest getLoginRequest() {\n        return AdminLoginRequest.builder()\n                .username(&quot;adminUsername&quot;)\n                .password(&quot;adminPassword&quot;)\n                .build();\n    }\n</code></pre>\n<p>Revised</p>\n<p>Here is the test method shown below</p>\n<pre><code>@Test\n    void shouldLogin() {\n\n        // Given\n        AdminLoginRequest loginRequest = new UserBuilder().getLoginRequest();\n\n\n        User user = User.builder()\n                .username(loginRequest.getUsername())\n                .password(loginRequest.getPassword())\n                .userRole(UserRole.ROLE_ADMIN)\n                .build();\n\n        user.setId(1L);\n\n        UsernamePasswordAuthenticationToken authToken =\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword());\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n\n        AuthResponse authResponse = AuthResponse.builder()\n                .expireDate(new Date().getTime() + 120000)\n                .refreshToken(&quot;refreshToken&quot;)\n                .message(&quot;success&quot;)\n                .accessToken(&quot;Bearer access-token&quot;)\n                .roles(List.of(&quot;ADMIN&quot;,&quot;SUPER_ADMIN&quot;))\n                .username(&quot;adminUsername&quot;)\n                .build();\n\n        RefreshToken refreshToken = RefreshToken.builder()\n                .token(authResponse.getAccessToken())\n                .build();\n\n        // when\n        when(authenticationManager.authenticate(eq(authToken))).thenReturn(authToken);\n        when(auth.getPrincipal()).thenReturn(jwtUserDetails);\n        when(jwtTokenProvider.generateJwtToken(eq(auth))).thenReturn(authResponse.getAccessToken());\n        when(refreshTokenService.createRefreshToken(eq(jwtUserDetails.getId()))).thenReturn(refreshToken);\n\n        AuthResponse authResponseActual = authService.login(loginRequest);\n\n        // then\n        assertThat(authResponse).isNotNull();\n        assertEquals(authResponseActual.getAccessToken(), authResponse.getAccessToken());\n        assertEquals(authResponseActual.getUsername(), authResponse.getUsername());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getRefreshToken(), authResponse.getRefreshToken());\n        assertEquals(authResponseActual.getMessage(), authResponse.getMessage());\n\n    }\n</code></pre>\n<p>Here is the issue shown below</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class com.ays.backend.user.security.JwtUserDetails (java.lang.String is in module java.base of loader 'bootstrap'; com.ays.backend.user.security.JwtUserDetails is in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","clover"],"owner":{"account_id":2861403,"reputation":515,"user_id":2456600,"accept_rate":14,"display_name":"user2456600"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679528169,"creation_date":1679528169,"question_id":75818121,"body_markdown":"In my pom .xml I am using the Maven Clover Plugin:\r\n\r\n    &lt;plugin&gt;                                                              \r\n        &lt;groupId&gt;org.openclover&lt;/groupId&gt;                                                                                                     \r\n        &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;                                                                                          \r\n        &lt;version&gt;4.4.1&lt;/version&gt; \r\n    . \r\n    .\r\n\r\n\r\nI then run the python tool diff-cover to get the difference in coverage for my pull request against a base branch:\r\n\r\n    diff-cover --html-report artifacts/diff.html target/site/clover/clover.xml --compare-branch origin/develop\r\n\r\nthe diff-cover tool is documented here : https://pypi.org/project/diff-cover/\r\n\r\nSo this generates a diff.html file fine. The problem is it always claims any if statements in my code are not covered. The same tests against the same code run in IntelliJ says 100% of the lines are covered. \r\n\r\nE.g code:\r\n \r\n\r\n    35            if (!successfulInit) {\r\n    36                throw new RuntimeException(&quot;Failed to initialize &quot; +\r\n    37                        &quot;Dist Cache of DMP Segment rules&quot;);\r\n    38            }\r\n\r\nThe resulting diff.html states that line 35 is not covered. I have tests for both successfulInit being true and false. And clover never claims that the throw statement is not covered.\r\n\r\nAny help would be most appreciated.\r\n\r\n","title":"Maven Clover Plugin Always Claims If Statements In My Java Code Are Not Covered","body":"<p>In my pom .xml I am using the Maven Clover Plugin:</p>\n<pre><code>&lt;plugin&gt;                                                              \n    &lt;groupId&gt;org.openclover&lt;/groupId&gt;                                                                                                     \n    &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;                                                                                          \n    &lt;version&gt;4.4.1&lt;/version&gt; \n. \n.\n</code></pre>\n<p>I then run the python tool diff-cover to get the difference in coverage for my pull request against a base branch:</p>\n<pre><code>diff-cover --html-report artifacts/diff.html target/site/clover/clover.xml --compare-branch origin/develop\n</code></pre>\n<p>the diff-cover tool is documented here : <a href=\"https://pypi.org/project/diff-cover/\" rel=\"nofollow noreferrer\">https://pypi.org/project/diff-cover/</a></p>\n<p>So this generates a diff.html file fine. The problem is it always claims any if statements in my code are not covered. The same tests against the same code run in IntelliJ says 100% of the lines are covered.</p>\n<p>E.g code:</p>\n<pre><code>35            if (!successfulInit) {\n36                throw new RuntimeException(&quot;Failed to initialize &quot; +\n37                        &quot;Dist Cache of DMP Segment rules&quot;);\n38            }\n</code></pre>\n<p>The resulting diff.html states that line 35 is not covered. I have tests for both successfulInit being true and false. And clover never claims that the throw statement is not covered.</p>\n<p>Any help would be most appreciated.</p>\n"},{"tags":["java","eclipse","algorithm"],"comments":[{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":2,"creation_date":1446938471,"post_id":33588939,"comment_id":54954016,"body_markdown":"I suspect the solution is that you need to add these JAR files to your Java CLASSPATH","body":"I suspect the solution is that you need to add these JAR files to your Java CLASSPATH"},{"owner":{"account_id":3613575,"reputation":3192,"user_id":3592827,"accept_rate":83,"display_name":"aless80"},"score":0,"creation_date":1446944538,"post_id":33588939,"comment_id":54955202,"body_markdown":"I tried with this\njavac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/Percolation.java\nbut it cannot find WeightedQuickUnionUF.\n\nActually I see that a similar command works for a few other classes downloaded from the link above, eg\njavac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/RandomizedQueue.java\nI have to remove all the import statements, right?","body":"I tried with this javac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/Percolation.java but it cannot find WeightedQuickUnionUF.  Actually I see that a similar command works for a few other classes downloaded from the link above, eg javac -cp .lib/algs4.jar:.lib/stdlib.jar ./src/RandomizedQueue.java I have to remove all the import statements, right?"}],"answers":[{"tags":[],"owner":{"account_id":18321255,"reputation":1,"user_id":13341977,"display_name":"Sai Srinija Sakinala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593035719,"creation_date":1593035719,"answer_id":62564672,"question_id":33588939,"body_markdown":"Well, In my case the solution happened to be pretty simple. I had to rename the file with the right extension and then rebuild it. ","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>Well, In my case the solution happened to be pretty simple. I had to rename the file with the right extension and then rebuild it.</p>\n"},{"tags":[],"owner":{"account_id":14097931,"reputation":1,"user_id":21460210,"display_name":"carlos romero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679528162,"creation_date":1679528162,"answer_id":75818120,"question_id":33588939,"body_markdown":"Had similar issue in Coursera VsCode toolbox\r\n\r\nMy Solution:\r\n\r\n 1. Make class public.\r\n 2. Filename and Class name have to be the same, it is case-sensitive.\r\n 3. Run in terminal: javac &quot;Class name&quot;.java\r\n 4. Run in terminal: java &quot;Class name&quot;","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>Had similar issue in Coursera VsCode toolbox</p>\n<p>My Solution:</p>\n<ol>\n<li>Make class public.</li>\n<li>Filename and Class name have to be the same, it is case-sensitive.</li>\n<li>Run in terminal: javac &quot;Class name&quot;.java</li>\n<li>Run in terminal: java &quot;Class name&quot;</li>\n</ol>\n"}],"owner":{"account_id":3613575,"reputation":3192,"user_id":3592827,"accept_rate":83,"display_name":"aless80"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679528162,"creation_date":1446938153,"question_id":33588939,"body_markdown":"More than a year ago I attended the Algorithm I course on Coursera. Now I cannot run my classes anymore. I have seen several posts here but they do not help. I have tried from Eclipse as well as from Terminal but I get errors like:\r\n\r\n    ./src/Percolation.java:7: error: cannot find symbol\r\n    \tprivate WeightedQuickUnionUF qfObj = null;\r\n    \t        ^\r\n      symbol:   class WeightedQuickUnionUF\r\n      location: class Percolation\r\n\r\nor \r\n\r\n    ./Deque.java:45: error: cannot find symbol\r\n\t\t\tStdOut.print(i+&quot;:&quot;);\r\n\t\t\t^\r\n      symbol:   variable StdOut\r\n      location: class Deque&lt;Item&gt;\r\n      where Item is a type-variable:\r\n      Item extends Object declared in class Deque\r\n\r\nI used to have imports such as these in my classes:\r\n\r\n    import edu.princeton.cs.algs4.StdRandom;\r\n    import edu.princeton.cs.algs4.StdStats;\r\n    import edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n    import edu.princeton.cs.algs4.Stopwatch;\r\n\r\nbut they are flagged as errors in eclipse. I have algs4.jar and stdlib.jar in my libraries\r\n\r\nSimilar classes can be found here: \r\nhttps://github.com/zhichaoh/Coursera-Algorithms\r\nso maybe the question is: How to make them run? ","title":"Cannot run java classes of Coursera Algorithm Course","body":"<p>More than a year ago I attended the Algorithm I course on Coursera. Now I cannot run my classes anymore. I have seen several posts here but they do not help. I have tried from Eclipse as well as from Terminal but I get errors like:</p>\n\n<pre><code>./src/Percolation.java:7: error: cannot find symbol\n    private WeightedQuickUnionUF qfObj = null;\n            ^\n  symbol:   class WeightedQuickUnionUF\n  location: class Percolation\n</code></pre>\n\n<p>or </p>\n\n<pre><code>./Deque.java:45: error: cannot find symbol\n        StdOut.print(i+\":\");\n        ^\n  symbol:   variable StdOut\n  location: class Deque&lt;Item&gt;\n  where Item is a type-variable:\n  Item extends Object declared in class Deque\n</code></pre>\n\n<p>I used to have imports such as these in my classes:</p>\n\n<pre><code>import edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.StdStats;\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\nimport edu.princeton.cs.algs4.Stopwatch;\n</code></pre>\n\n<p>but they are flagged as errors in eclipse. I have algs4.jar and stdlib.jar in my libraries</p>\n\n<p>Similar classes can be found here: \n<a href=\"https://github.com/zhichaoh/Coursera-Algorithms\" rel=\"nofollow\">https://github.com/zhichaoh/Coursera-Algorithms</a>\nso maybe the question is: How to make them run? </p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":25618515,"reputation":11,"user_id":19590809,"display_name":"Meruem"},"score":1,"creation_date":1679350391,"post_id":75795715,"comment_id":133703345,"body_markdown":"It sounds like there might be an issue with your Java installation or configuration. Integer.parseInt() is a standard Java method that is part of the java.lang.Integer class, so it should be available by default.\n\nOne thing you could try is explicitly importing the java.lang.Integer class at the top of your file, like this:\n\n    import java.lang.Integer;\n\nIf you still have this error, you may need to uninstall and reinstall Java, or try using a different IDE.","body":"It sounds like there might be an issue with your Java installation or configuration. Integer.parseInt() is a standard Java method that is part of the java.lang.Integer class, so it should be available by default.  One thing you could try is explicitly importing the java.lang.Integer class at the top of your file, like this:      import java.lang.Integer;  If you still have this error, you may need to uninstall and reinstall Java, or try using a different IDE."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1679390007,"post_id":75795715,"comment_id":133708690,"body_markdown":"Do you have your own class called `Integer` in the same pacakge?","body":"Do you have your own class called <code>Integer</code> in the same pacakge?"}],"owner":{"account_id":17382528,"reputation":9,"user_id":21442724,"display_name":"Niremen"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679352763,"answer_count":0,"score":0,"last_activity_date":1679525535,"creation_date":1679349703,"question_id":75795715,"body_markdown":"I need to transform a string to an int using Integer.parseInt() or Integer.valueOf() but Visual Studio Code shows this error *The method parseInt(String) is undefined for the type Integer*\r\n\r\nThis is my code so far\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.util.*;\r\npublic class entrada2 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String nombre_usuario = JOptionPane.showInputDialog(&quot;Introduce tu nombre de usuario, por favor&quot;);\r\n        String edad = JOptionPane.showInputDialog(&quot;Introduce tu edad, por favor&quot;);\r\n\r\n        int age = Integer.parseInt(edad);\r\n\r\n        System.out.println(&quot;Te llamas &quot; + nombre_usuario + &quot; y tienes &quot; + edad + &quot; a&#241;os.&quot;);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know what&#39;s the problem. Google hasn&#39;t been helpful either\r\n\r\n\r\nApparently Integer.parseInt() is the only way to make an integer from a string in Java so I&#39;m stuck","title":"The method parseInt(String) is undefined for the type Integer","body":"<p>I need to transform a string to an int using Integer.parseInt() or Integer.valueOf() but Visual Studio Code shows this error <em>The method parseInt(String) is undefined for the type Integer</em></p>\n<p>This is my code so far</p>\n<pre><code>import javax.swing.*;\nimport java.util.*;\npublic class entrada2 {\n\n    public static void main(String[] args) {\n\n        String nombre_usuario = JOptionPane.showInputDialog(&quot;Introduce tu nombre de usuario, por favor&quot;);\n        String edad = JOptionPane.showInputDialog(&quot;Introduce tu edad, por favor&quot;);\n\n        int age = Integer.parseInt(edad);\n\n        System.out.println(&quot;Te llamas &quot; + nombre_usuario + &quot; y tienes &quot; + edad + &quot; aos.&quot;);\n\n    }\n\n\n}\n</code></pre>\n<p>I don't know what's the problem. Google hasn't been helpful either</p>\n<p>Apparently Integer.parseInt() is the only way to make an integer from a string in Java so I'm stuck</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":7286,"reputation":3224,"user_id":12604,"display_name":"Ryan Ransford"},"score":0,"creation_date":1383860390,"post_id":19847094,"comment_id":29516241,"body_markdown":"I&#39;m curious as to why you&#39;re using Jackson-specific annotations and not JAXB annotations. Jackson is primarily a framework for producing JSON, not XML, and as such, misses some of the features of JAXB.","body":"I&#39;m curious as to why you&#39;re using Jackson-specific annotations and not JAXB annotations. Jackson is primarily a framework for producing JSON, not XML, and as such, misses some of the features of JAXB."}],"answers":[{"comments":[{"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"score":0,"creation_date":1383861089,"post_id":19847185,"comment_id":29516606,"body_markdown":"Turns out I was importing from the wrong dependency, and getting and older version of the jackson-dataformat-xml where that annotation wasn&#39;t included :\\","body":"Turns out I was importing from the wrong dependency, and getting and older version of the jackson-dataformat-xml where that annotation wasn&#39;t included :\\"},{"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"score":0,"creation_date":1383862766,"post_id":19847185,"comment_id":29517433,"body_markdown":"Understandable. As fantastic as Jackson is, their documentation is horrendous. So it is very hard to find which versions are where and which annotations are available with those versions.","body":"Understandable. As fantastic as Jackson is, their documentation is horrendous. So it is very hard to find which versions are where and which annotations are available with those versions."},{"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"score":0,"creation_date":1383864107,"post_id":19847185,"comment_id":29518013,"body_markdown":"I&#39;ve definitely dug through their documentation before, and I know what you mean, but this one is definitely on me - Their dependency is blatantly mentioned on their github page: https://github.com/FasterXML/jackson-dataformat-xml. I was looking for the gradle dependency, and googled &amp; pasted too fast.","body":"I&#39;ve definitely dug through their documentation before, and I know what you mean, but this one is definitely on me - Their dependency is blatantly mentioned on their github page: <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformat-xml</a>. I was looking for the gradle dependency, and googled &amp; pasted too fast."},{"owner":{"account_id":7826453,"reputation":3061,"user_id":5917837,"accept_rate":29,"display_name":"mantri"},"score":2,"creation_date":1497517810,"post_id":19847185,"comment_id":76115595,"body_markdown":"@llya : Do we not need `@JacksonXmlRootElement` on `Root` class ?","body":"@llya : Do we not need <code>@JacksonXmlRootElement</code> on <code>Root</code> class ?"},{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":2,"creation_date":1524257996,"post_id":19847185,"comment_id":86915877,"body_markdown":"Awesome when someone provides EXACTLY what you were looking for.  +1","body":"Awesome when someone provides EXACTLY what you were looking for.  +1"}],"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"comment_count":5,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1383860286,"creation_date":1383860286,"answer_id":19847185,"question_id":19847094,"body_markdown":"You should use [JacksonXmlText][1] annotation for `value` field.  \r\n\r\n    public class Element2 \r\n    {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;yyy&quot;;\r\n        @JacksonXmlText\r\n        private String value;\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }  \r\nthen XML will looks like  \r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;A String&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.1.1/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html","title":"Jackson XML Annotations: String element with attribute","body":"<p>You should use <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.1.1/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlText.html\">JacksonXmlText</a> annotation for <code>value</code> field.  </p>\n\n<pre><code>public class Element2 \n{\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"yyy\";\n    @JacksonXmlText\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}  \n</code></pre>\n\n<p>then XML will looks like  </p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;A String&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3344833,"reputation":872,"user_id":2810180,"accept_rate":75,"display_name":"flyingAssistant"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1613472979,"creation_date":1613472979,"answer_id":66223059,"question_id":19847094,"body_markdown":"For Kotlin, you need to use `@field` [annotation][1] use-site targets:\r\n\r\n    data class Element2(\r\n            @field:JacksonXmlProperty(isAttribute = true)\r\n            val ns: String = &quot;yyy&quot;,\r\n            @field:JacksonXmlText\r\n            val value: String? = null\r\n    )\r\n\r\nIf you don&#39;t like defining initial values for `ns` and `value` properties by yourself then use [Kotlin no-args plugin][2], which generates a default constructor instead.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\r\n  [2]: https://kotlinlang.org/docs/no-arg-plugin.html","title":"Jackson XML Annotations: String element with attribute","body":"<p>For Kotlin, you need to use <code>@field</code> <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">annotation</a> use-site targets:</p>\n<pre><code>data class Element2(\n        @field:JacksonXmlProperty(isAttribute = true)\n        val ns: String = &quot;yyy&quot;,\n        @field:JacksonXmlText\n        val value: String? = null\n)\n</code></pre>\n<p>If you don't like defining initial values for <code>ns</code> and <code>value</code> properties by yourself then use <a href=\"https://kotlinlang.org/docs/no-arg-plugin.html\" rel=\"nofollow noreferrer\">Kotlin no-args plugin</a>, which generates a default constructor instead.</p>\n"},{"tags":[],"owner":{"account_id":3873762,"reputation":135,"user_id":3208393,"accept_rate":20,"display_name":"JC Castano"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1679525358,"creation_date":1622841667,"answer_id":67844108,"question_id":19847094,"body_markdown":"To complement [flyingAssistant&#39;s answer](https://stackoverflow.com/a/66223059/3208393), you can&#39;t add @JacksonXmlText to a constructor property. This feature may be added in build 2.13 based off of this [issue](https://github.com/FasterXML/jackson-dataformat-xml/issues/423#issue-694858880) reported in the GitHub repository.\r\nSo for now you&#39;ll have to do this\r\n\r\n    data class Element2(@field:JacksonXmlProperty(isAttribute = true) val ns: String = &quot;yyy&quot;) {\r\n        @field:JacksonXmlText\r\n        val value: String? = null\r\n    }\r\n\r\n","title":"Jackson XML Annotations: String element with attribute","body":"<p>To complement <a href=\"https://stackoverflow.com/a/66223059/3208393\">flyingAssistant's answer</a>, you can't add @JacksonXmlText to a constructor property. This feature may be added in build 2.13 based off of this <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/423#issue-694858880\" rel=\"nofollow noreferrer\">issue</a> reported in the GitHub repository.\nSo for now you'll have to do this</p>\n<pre><code>data class Element2(@field:JacksonXmlProperty(isAttribute = true) val ns: String = &quot;yyy&quot;) {\n    @field:JacksonXmlText\n    val value: String? = null\n}\n</code></pre>\n"}],"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63401,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":19847185,"answer_count":3,"score":43,"last_activity_date":1679525358,"creation_date":1383859889,"question_id":19847094,"body_markdown":"I can&#39;t seem to find a way to make a Pojo Using the jackson-xml annotations that would generate xml like the following:\r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;A String&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\n\r\nThe closest I can seem to come is the following:\r\n\r\n**Root POJO**:\r\n    \r\n    public class Root {\r\n        @JacksonXmlProperty(localName = &quot;Element1&quot;)\r\n        private Element1 element1;\r\n\r\n        public String getElement1() {\r\n            return element1;\r\n        }\r\n        \r\n        public void setElement1(String element1) {\r\n            this.element1 = element1;\r\n        }\r\n    }\r\n\r\n**Element1 POJO**:\r\n    \r\n    public class Element1 {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;xxx&quot;;\r\n        @JacksonXmlProperty(localName = &quot;Element2&quot;)\r\n        private Element2 element2;\r\n\r\n        public String getElement2() {\r\n            return element2;\r\n        }\r\n       \r\n        public void setElement2(String element2) {\r\n            this.element2 = element2;\r\n        }\r\n    }\r\n\r\n**Element2 POJO**:\r\n    \r\n    public class Element2 {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String ns = &quot;yyy&quot;;\r\n        private String value;\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nBut this returns back the following:\r\n\r\n    &lt;Root&gt;\r\n        &lt;Element1 ns=&quot;xxx&quot;&gt;\r\n            &lt;Element2 ns=&quot;yyy&quot;&gt;&lt;value&gt;A String&lt;/value&gt;&lt;/Element2&gt;\r\n        &lt;/Element1&gt;\r\n    &lt;/Root&gt;\r\n\r\nThe element tags around &quot;A String&quot; I do not want to display.","title":"Jackson XML Annotations: String element with attribute","body":"<p>I can't seem to find a way to make a Pojo Using the jackson-xml annotations that would generate xml like the following:</p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;A String&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>The closest I can seem to come is the following:</p>\n\n<p><strong>Root POJO</strong>:</p>\n\n<pre><code>public class Root {\n    @JacksonXmlProperty(localName = \"Element1\")\n    private Element1 element1;\n\n    public String getElement1() {\n        return element1;\n    }\n\n    public void setElement1(String element1) {\n        this.element1 = element1;\n    }\n}\n</code></pre>\n\n<p><strong>Element1 POJO</strong>:</p>\n\n<pre><code>public class Element1 {\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"xxx\";\n    @JacksonXmlProperty(localName = \"Element2\")\n    private Element2 element2;\n\n    public String getElement2() {\n        return element2;\n    }\n\n    public void setElement2(String element2) {\n        this.element2 = element2;\n    }\n}\n</code></pre>\n\n<p><strong>Element2 POJO</strong>:</p>\n\n<pre><code>public class Element2 {\n    @JacksonXmlProperty(isAttribute = true)\n    private String ns = \"yyy\";\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>But this returns back the following:</p>\n\n<pre><code>&lt;Root&gt;\n    &lt;Element1 ns=\"xxx\"&gt;\n        &lt;Element2 ns=\"yyy\"&gt;&lt;value&gt;A String&lt;/value&gt;&lt;/Element2&gt;\n    &lt;/Element1&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>The element tags around \"A String\" I do not want to display.</p>\n"},{"tags":["java","plugins","minecraft"],"answers":[{"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679480854,"post_id":75809364,"comment_id":133728344,"body_markdown":"Do you have logs ? Can you print something to be sure it&#39;s a directional sign ?","body":"Do you have logs ? Can you print something to be sure it&#39;s a directional sign ?"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679482134,"post_id":75809364,"comment_id":133728670,"body_markdown":"`block.setType(Material.OAK_SIGN);\n                 if (block.getState() instanceof Sign) {\n                 Sign new_sign = (Sign) block.getState();\n\t\tif (block.getState() instanceof Directional) {\n                             player.sendMessage(&quot;Directional Block!&quot;);\n\t   }` . Don&#39;t print anything... Then all sign aren&#39;t Directional? How it possible? @Elikill58","body":"<code>block.setType(Material.OAK_SIGN);                  if (block.getState() instanceof Sign) {                  Sign new_sign = (Sign) block.getState(); \t\tif (block.getState() instanceof Directional) {                              player.sendMessage(&quot;Directional Block!&quot;); \t   }</code> . Don&#39;t print anything... Then all sign aren&#39;t Directional? How it possible? @Elikill58"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679482285,"post_id":75809364,"comment_id":133728700,"body_markdown":"I don&#39;t know, as my answer said, `Sign` is not directional, but `WallSign` is. Through it would be the opposite. Does the sign well change the line ? If not, can you check with the `if (block.getState() instanceof Directional)` outside of the `Sign` check ?","body":"I don&#39;t know, as my answer said, <code>Sign</code> is not directional, but <code>WallSign</code> is. Through it would be the opposite. Does the sign well change the line ? If not, can you check with the <code>if (block.getState() instanceof Directional)</code> outside of the <code>Sign</code> check ?"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679482565,"post_id":75809364,"comment_id":133728776,"body_markdown":"I&#39;ve tried doing the same thing from outside the IF of instanceof Sign as well and it prints absolutely nothing. @Elikill58","body":"I&#39;ve tried doing the same thing from outside the IF of instanceof Sign as well and it prints absolutely nothing. @Elikill58"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679482867,"post_id":75809364,"comment_id":133728844,"body_markdown":"I try now with wall_sign and is the same thing.","body":"I try now with wall_sign and is the same thing."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679488098,"post_id":75809364,"comment_id":133730228,"body_markdown":"And did you tried to place an oak wall sign instead of oak sign ?","body":"And did you tried to place an oak wall sign instead of oak sign ?"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679503883,"post_id":75809364,"comment_id":133735144,"body_markdown":"Nope, don&#39;t work @Elikill58","body":"Nope, don&#39;t work @Elikill58"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679507875,"post_id":75809364,"comment_id":133736187,"body_markdown":"Don&#39;t work but i accept your answear","body":"Don&#39;t work but i accept your answear"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679525157,"post_id":75809364,"comment_id":133739834,"body_markdown":"Thanks for this, but as it wasn&#39;t working, it&#39;s not recommended. I just updated the answer as I have a working way ! :)","body":"Thanks for this, but as it wasn&#39;t working, it&#39;s not recommended. I just updated the answer as I have a working way ! :)"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679571866,"post_id":75809364,"comment_id":133747125,"body_markdown":"Uh, thanks :) , Now i try do work on it @Elikill58","body":"Uh, thanks :) , Now i try do work on it @Elikill58"},{"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"score":0,"creation_date":1679573289,"post_id":75809364,"comment_id":133747510,"body_markdown":"It&#39;s WORKK!!!! ly","body":"It&#39;s WORKK!!!! ly"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679525136,"creation_date":1679469574,"answer_id":75809364,"question_id":75807219,"body_markdown":"To change the direction of a sign, you should use the [`Rotatable`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/Rotatable.html) state as you are using `Sign` :\r\n\r\n```java\r\nif(b.getState().getBlockData() instanceof Rotatable) {\r\n\tBlockData bd = b.getState().getBlockData();\r\n\t((Rotatable) bd).setRotation(BlockFace.EAST);\r\n\tb.setBlockData(bd);\r\n\tb.getState().update();\r\n}\r\n// now it&#39;s direction east\r\n```\r\n[BlockFace enum](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/BlockFace.html)\r\n\r\nAlso, if you have a [`WallSign`](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/type/WallSign.html), you will have access to this, so be sure it&#39;s a Sign and not a WallSign.","title":"How can I rotate a sign in spigot 1.19.3?","body":"<p>To change the direction of a sign, you should use the <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/Rotatable.html\" rel=\"nofollow noreferrer\"><code>Rotatable</code></a> state as you are using <code>Sign</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(b.getState().getBlockData() instanceof Rotatable) {\n    BlockData bd = b.getState().getBlockData();\n    ((Rotatable) bd).setRotation(BlockFace.EAST);\n    b.setBlockData(bd);\n    b.getState().update();\n}\n// now it's direction east\n</code></pre>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/BlockFace.html\" rel=\"nofollow noreferrer\">BlockFace enum</a></p>\n<p>Also, if you have a <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/block/data/type/WallSign.html\" rel=\"nofollow noreferrer\"><code>WallSign</code></a>, you will have access to this, so be sure it's a Sign and not a WallSign.</p>\n"}],"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75809364,"answer_count":1,"score":1,"last_activity_date":1679525136,"creation_date":1679441293,"question_id":75807219,"body_markdown":"I have a probleam about the signs in minecraft.\r\n\r\nI don&#39;t know how to rotate (north, south, east, west, using the view of player) them in JAVA using the spigot library. I try to do that with blockData and Facing, but don&#39;t work so well, then how can I do it?\r\n\r\n``` \r\nblock.setType(Material.OAK_SIGN); // Check if it gives problems to the code!\r\nif (block.getState() instanceof Sign) {\r\n   Sign new_sign = (Sign) block.getState();\r\n   new_sign.setLine(1, &quot;My line&quot;);\r\n   new_sign.update();\r\n}\r\n``` \r\nVersion of MC: 1.19.3","title":"How can I rotate a sign in spigot 1.19.3?","body":"<p>I have a probleam about the signs in minecraft.</p>\n<p>I don't know how to rotate (north, south, east, west, using the view of player) them in JAVA using the spigot library. I try to do that with blockData and Facing, but don't work so well, then how can I do it?</p>\n<pre><code>block.setType(Material.OAK_SIGN); // Check if it gives problems to the code!\nif (block.getState() instanceof Sign) {\n   Sign new_sign = (Sign) block.getState();\n   new_sign.setLine(1, &quot;My line&quot;);\n   new_sign.update();\n}\n</code></pre>\n<p>Version of MC: 1.19.3</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679525095,"creation_date":1679525095,"answer_id":75817878,"question_id":75816996,"body_markdown":"Reason why it happens is because h2 in-memory is considered embedded and will use default ddl=create-drop while h2 with file storage will use default ddl=none\r\n(see org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider -&gt; getDefaultDdlAuto())\r\n\r\n    class HibernateDefaultDdlAutoProvider implements SchemaManagementProvider {\r\n\r\n\tprivate final Iterable&lt;SchemaManagementProvider&gt; providers;\r\n\r\n\tHibernateDefaultDdlAutoProvider(Iterable&lt;SchemaManagementProvider&gt; providers) {\r\n\t\tthis.providers = providers;\r\n\t}\r\n\r\n\tString getDefaultDdlAuto(DataSource dataSource) {\r\n\t\tif (!EmbeddedDatabaseConnection.isEmbedded(dataSource)) {\r\n\t\t\treturn &quot;none&quot;;\r\n\t\t}\r\n\t\tSchemaManagement schemaManagement = getSchemaManagement(dataSource);\r\n\t\tif (SchemaManagement.MANAGED.equals(schemaManagement)) {\r\n\t\t\treturn &quot;none&quot;;\r\n\t\t}\r\n\t\treturn &quot;create-drop&quot;;\r\n\t}\r\n    \r\nThe reason why the in-memory is considered embeded you can see in the following predicate: `(url) -&gt; url.contains(&quot;:h2:mem&quot;)`\r\n\r\n    public enum EmbeddedDatabaseConnection {\r\n\r\n\t/**\r\n\t * No Connection.\r\n\t */\r\n\tNONE(null, null, null, (url) -&gt; false),\r\n\r\n\t/**\r\n\t * H2 Database Connection.\r\n\t */\r\n\tH2(EmbeddedDatabaseType.H2, DatabaseDriver.H2.getDriverClassName(),\r\n\t\t\t&quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;, (url) -&gt; url.contains(&quot;:h2:mem&quot;)),","title":"Table not getting created when persisting values in file system when using H2 database","body":"<p>Reason why it happens is because h2 in-memory is considered embedded and will use default ddl=create-drop while h2 with file storage will use default ddl=none\n(see org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider -&gt; getDefaultDdlAuto())</p>\n<pre><code>class HibernateDefaultDdlAutoProvider implements SchemaManagementProvider {\n\nprivate final Iterable&lt;SchemaManagementProvider&gt; providers;\n\nHibernateDefaultDdlAutoProvider(Iterable&lt;SchemaManagementProvider&gt; providers) {\n    this.providers = providers;\n}\n\nString getDefaultDdlAuto(DataSource dataSource) {\n    if (!EmbeddedDatabaseConnection.isEmbedded(dataSource)) {\n        return &quot;none&quot;;\n    }\n    SchemaManagement schemaManagement = getSchemaManagement(dataSource);\n    if (SchemaManagement.MANAGED.equals(schemaManagement)) {\n        return &quot;none&quot;;\n    }\n    return &quot;create-drop&quot;;\n}\n</code></pre>\n<p>The reason why the in-memory is considered embeded you can see in the following predicate: <code>(url) -&gt; url.contains(&quot;:h2:mem&quot;)</code></p>\n<pre><code>public enum EmbeddedDatabaseConnection {\n\n/**\n * No Connection.\n */\nNONE(null, null, null, (url) -&gt; false),\n\n/**\n * H2 Database Connection.\n */\nH2(EmbeddedDatabaseType.H2, DatabaseDriver.H2.getDriverClassName(),\n        &quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;, (url) -&gt; url.contains(&quot;:h2:mem&quot;)),\n</code></pre>\n"}],"owner":{"account_id":2237768,"reputation":75,"user_id":1973619,"accept_rate":56,"display_name":"Trooper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75817878,"answer_count":1,"score":0,"last_activity_date":1679525095,"creation_date":1679516969,"question_id":75816996,"body_markdown":"Am setting up a basic CRUD app in Spring and facing issue in automatic creation of table post app start **when persisting values in file system** instead of in-memory.\r\n\r\nBelow is my Entity class:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class PropertyEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String title;\r\n        private String description;\r\n        private String ownerName;\r\n        private String price;\r\n        private String address;\r\n        private String ownerEmail;\r\n    \r\n    }\r\n\r\nBelow is the H2 config in app.properties file:\r\n\r\n    spring.datasource.url=jdbc:h2:file:D:/coderunner/pmsdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.show-sql=true\r\n\r\nAfter the Spring application is started and I check the H2 console, I could see the table Property_Entity isn&#39;t present and when triggering saving of entity,  it throws below error:\r\n\r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\n    call next value for hibernate_sequence [90036-214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\r\nHowever after adding below property, the table creation happens automatically on application start.\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nMy concern is when I use H2&#39;s in-memory storage for persisting values, I do not need to add the above ddl property and the table creation happens automatically.","title":"Table not getting created when persisting values in file system when using H2 database","body":"<p>Am setting up a basic CRUD app in Spring and facing issue in automatic creation of table post app start <strong>when persisting values in file system</strong> instead of in-memory.</p>\n<p>Below is my Entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class PropertyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private String description;\n    private String ownerName;\n    private String price;\n    private String address;\n    private String ownerEmail;\n\n}\n</code></pre>\n<p>Below is the H2 config in app.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:D:/coderunner/pmsdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\n</code></pre>\n<p>After the Spring application is started and I check the H2 console, I could see the table Property_Entity isn't present and when triggering saving of entity,  it throws below error:</p>\n<pre><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n</code></pre>\n<p>However after adding below property, the table creation happens automatically on application start.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>My concern is when I use H2's in-memory storage for persisting values, I do not need to add the above ddl property and the table creation happens automatically.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":42224,"reputation":3494,"user_id":122963,"accept_rate":67,"display_name":"Sunscreen"},"score":0,"creation_date":1321976613,"post_id":8229473,"comment_id":10120655,"body_markdown":"I can get the first value for a key by using the member function of HashMap::get though the third one? I cannot find any code unfortunately.","body":"I can get the first value for a key by using the member function of HashMap::get though the third one? I cannot find any code unfortunately."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1321976729,"post_id":8229473,"comment_id":10120705,"body_markdown":"You cannot find your own code? That&#39;s what he is talking about.","body":"You cannot find your own code? That&#39;s what he is talking about."},{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":1,"creation_date":1321976752,"post_id":8229473,"comment_id":10120713,"body_markdown":"Sounds like you might be a little confused about the difference between keys and hashed keys. Hopefully this will set you straight: http://en.wikipedia.org/wiki/Hashmap","body":"Sounds like you might be a little confused about the difference between keys and hashed keys. Hopefully this will set you straight: <a href=\"http://en.wikipedia.org/wiki/Hashmap\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hashmap</a>"},{"owner":{"account_id":478938,"reputation":1902,"user_id":891318,"accept_rate":93,"display_name":"Nathan Q"},"score":4,"creation_date":1321976762,"post_id":8229473,"comment_id":10120718,"body_markdown":"A Map can&#39;t have multiple values for one key, but you can have a Collection as value instead","body":"A Map can&#39;t have multiple values for one key, but you can have a Collection as value instead"}],"answers":[{"tags":[],"owner":{"account_id":1033541,"reputation":4351,"user_id":1041364,"accept_rate":18,"display_name":"Andrew Stubbs"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1321976568,"creation_date":1321976568,"answer_id":8229494,"question_id":8229473,"body_markdown":"A standard Java HashMap cannot store multiple values per key, any new entry you add will overwrite the previous one.","title":"HashMap: One Key, multiple Values","body":"<p>A standard Java HashMap cannot store multiple values per key, any new entry you add will overwrite the previous one.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1321976838,"post_id":8229518,"comment_id":10120751,"body_markdown":"However, it may well be simpler to use a library than to roll your own, test it etc...","body":"However, it may well be simpler to use a library than to roll your own, test it etc..."},{"owner":{"account_id":6345703,"reputation":123,"user_id":4926346,"accept_rate":100,"display_name":"lydiaP"},"score":0,"creation_date":1536095960,"post_id":8229518,"comment_id":91299142,"body_markdown":"this solution would only work if the objects in the ArrayList are from the same type. S, f.e. it&#39;s not possible to have a key with a int and a double value..","body":"this solution would only work if the objects in the ArrayList are from the same type. S, f.e. it&#39;s not possible to have a key with a int and a double value.."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1552070868,"post_id":8229518,"comment_id":96885958,"body_markdown":"@JonSkeet which is the recommended library for this use case?","body":"@JonSkeet which is the recommended library for this use case?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1552072423,"post_id":8229518,"comment_id":96886687,"body_markdown":"@gaurav: It&#39;s been so long since I&#39;ve been in the Java world that I wouldn&#39;t like to say. I&#39;d look at Guava though.","body":"@gaurav: It&#39;s been so long since I&#39;ve been in the Java world that I wouldn&#39;t like to say. I&#39;d look at Guava though."}],"tags":[],"owner":{"account_id":128692,"reputation":8440,"user_id":760641,"display_name":"solendil"},"comment_count":4,"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1528750149,"creation_date":1321976641,"answer_id":8229518,"question_id":8229473,"body_markdown":"Libraries exist to do this, but the simplest plain Java way is to create a `Map` of `List` like this:\r\n\r\n    Map&lt;Object,ArrayList&lt;Object&gt;&gt; multiMap = new HashMap&lt;&gt;();\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Libraries exist to do this, but the simplest plain Java way is to create a <code>Map</code> of <code>List</code> like this:</p>\n\n<pre><code>Map&lt;Object,ArrayList&lt;Object&gt;&gt; multiMap = new HashMap&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278826,"reputation":111,"user_id":573620,"display_name":"zhuwenger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321976666,"creation_date":1321976666,"answer_id":8229528,"question_id":8229473,"body_markdown":"Try using collections to store the values of a key:\r\n\r\n    Map&lt;Key, Collection&lt;Value&gt;&gt;\r\n\r\nyou have to maintain the value list yourself","title":"HashMap: One Key, multiple Values","body":"<p>Try using collections to store the values of a key:</p>\n\n<pre><code>Map&lt;Key, Collection&lt;Value&gt;&gt;\n</code></pre>\n\n<p>you have to maintain the value list yourself</p>\n"},{"comments":[{"owner":{"account_id":4286376,"reputation":149,"user_id":3504024,"accept_rate":17,"display_name":"user3504024"},"score":3,"creation_date":1458888522,"post_id":8229533,"comment_id":60063026,"body_markdown":"how to add elements to arraylist and iterate","body":"how to add elements to arraylist and iterate"}],"tags":[],"owner":{"account_id":167669,"reputation":11167,"user_id":392632,"accept_rate":100,"display_name":"oopbase"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1321976684,"creation_date":1321976684,"answer_id":8229533,"question_id":8229473,"body_markdown":"Have you got something like this?\r\n\r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt;\r\n\r\nIf so, you can iterate through your ArrayList and get the item you like with arrayList.get(i).","title":"HashMap: One Key, multiple Values","body":"<p>Have you got something like this?</p>\n\n<pre><code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;\n</code></pre>\n\n<p>If so, you can iterate through your ArrayList and get the item you like with arrayList.get(i).</p>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1361349919,"post_id":8229534,"comment_id":21027894,"body_markdown":"Apache Commons Collections has also a [Multimap](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html) implementation.","body":"Apache Commons Collections has also a <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow noreferrer\">Multimap</a> implementation."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1599769078,"creation_date":1321976691,"answer_id":8229534,"question_id":8229473,"body_markdown":"It sounds like you&#39;re looking for a [*multimap*][1]. [Guava][2] has various [`Multimap`][3] implementations, usually created via the [`Multimaps`][4] class.\r\n\r\nI would suggest that using that implementation is likely to be simpler than rolling your own, working out what the API should look like, carefully checking for an existing list when adding a value etc. If your situation has a particular aversion to third party libraries it may be worth doing that, but otherwise Guava is a fabulous library which will probably help you with other code too :)\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Multimap\r\n  [2]: http://code.google.com/p/guava-libraries/\r\n  [3]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimap.java\r\n  [4]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimaps.java","title":"HashMap: One Key, multiple Values","body":"<p>It sounds like you're looking for a <a href=\"http://en.wikipedia.org/wiki/Multimap\" rel=\"noreferrer\"><em>multimap</em></a>. <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> has various <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimap.java\" rel=\"noreferrer\"><code>Multimap</code></a> implementations, usually created via the <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Multimaps.java\" rel=\"noreferrer\"><code>Multimaps</code></a> class.</p>\n<p>I would suggest that using that implementation is likely to be simpler than rolling your own, working out what the API should look like, carefully checking for an existing list when adding a value etc. If your situation has a particular aversion to third party libraries it may be worth doing that, but otherwise Guava is a fabulous library which will probably help you with other code too :)</p>\n"},{"tags":[],"owner":{"account_id":133167,"reputation":760,"user_id":334323,"accept_rate":80,"display_name":"jfabrizio"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1321977670,"creation_date":1321977670,"answer_id":8229791,"question_id":8229473,"body_markdown":"For example:\r\n\r\n    Map&lt;Object,Pair&lt;Integer,String&gt;&gt; multiMap = new HashMap&lt;Object,Pair&lt;Integer,String&gt;&gt;();\r\n\r\nwhere the `Pair` is a parametric class\r\n\r\n\t\r\n    public class Pair&lt;A, B&gt; {\r\n        A first = null;\r\n    \tB second = null;\r\n    \r\n    \tPair(A first, B second) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.second = second;\r\n    \t}\r\n    \r\n    \tpublic A getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n    \r\n    \tpublic void setFirst(A first) {\r\n    \t\tthis.first = first;\r\n    \t}\r\n    \r\n    \tpublic B getSecond() {\r\n    \t\treturn second;\r\n    \t}\r\n    \r\n    \tpublic void setSecond(B second) {\r\n    \t\tthis.second = second;\r\n    \t}\r\n    \r\n    }","title":"HashMap: One Key, multiple Values","body":"<p>For example:</p>\n\n<pre><code>Map&lt;Object,Pair&lt;Integer,String&gt;&gt; multiMap = new HashMap&lt;Object,Pair&lt;Integer,String&gt;&gt;();\n</code></pre>\n\n<p>where the <code>Pair</code> is a parametric class</p>\n\n<pre><code>public class Pair&lt;A, B&gt; {\n    A first = null;\n    B second = null;\n\n    Pair(A first, B second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public A getFirst() {\n        return first;\n    }\n\n    public void setFirst(A first) {\n        this.first = first;\n    }\n\n    public B getSecond() {\n        return second;\n    }\n\n    public void setSecond(B second) {\n        this.second = second;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803740,"reputation":2123,"user_id":3156682,"accept_rate":75,"display_name":"J.R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390476314,"creation_date":1390476314,"answer_id":21306768,"question_id":8229473,"body_markdown":"Thinking about a Map with 2 keys immediately compelled me to use a user-defined key, and that would probably be a Class. Following is the key Class:\r\n\r\n\r\n    public class MapKey {\r\n    \tprivate Object key1;\r\n    \tprivate Object key2;\r\n    \r\n    \tpublic Object getKey1() {\r\n    \t\treturn key1;\r\n    \t}\r\n    \r\n    \tpublic void setKey1(Object key1) {\r\n    \t\tthis.key1 = key1;\r\n    \t}\r\n    \r\n    \tpublic Object getKey2() {\r\n    \t\treturn key2;\r\n    \t}\r\n    \r\n    \tpublic void setKey2(Object key2) {\r\n    \t\tthis.key2 = key2;\r\n    \t}\r\n    }\r\n\r\n\r\n    // Create first map entry with key &lt;A,B&gt;.\r\n    \t\tMapKey mapKey1 = new MapKey();\r\n    \t\tmapKey1.setKey1(&quot;A&quot;);\r\n    \t\tmapKey1.setKey2(&quot;B&quot;);\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Thinking about a Map with 2 keys immediately compelled me to use a user-defined key, and that would probably be a Class. Following is the key Class:</p>\n\n<pre><code>public class MapKey {\n    private Object key1;\n    private Object key2;\n\n    public Object getKey1() {\n        return key1;\n    }\n\n    public void setKey1(Object key1) {\n        this.key1 = key1;\n    }\n\n    public Object getKey2() {\n        return key2;\n    }\n\n    public void setKey2(Object key2) {\n        this.key2 = key2;\n    }\n}\n\n\n// Create first map entry with key &lt;A,B&gt;.\n        MapKey mapKey1 = new MapKey();\n        mapKey1.setKey1(\"A\");\n        mapKey1.setKey2(\"B\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887338,"reputation":89,"user_id":1706299,"display_name":"ozan.yarci"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392906110,"creation_date":1392906110,"answer_id":21910569,"question_id":8229473,"body_markdown":"I found the blog on random search, i think this will help for doing this: http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html    \r\n\r\n    public class MutliMapTest {\r\n    public static void main(String... args) {\r\n       Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\r\n   \r\n       // Adding some key/value\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Bannana&quot;);\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Apple&quot;);\r\n       myMultimap.put(&quot;Fruits&quot;, &quot;Pear&quot;);\r\n       myMultimap.put(&quot;Vegetables&quot;, &quot;Carrot&quot;);\r\n   \r\n       // Getting the size\r\n       int size = myMultimap.size();\r\n       System.out.println(size);  // 4\r\n   \r\n       // Getting values\r\n       Collection&lt;String&gt; fruits = myMultimap.get(&quot;Fruits&quot;);\r\n       System.out.println(fruits); // [Bannana, Apple, Pear]\r\n   \r\n       Collection&lt;string&gt; vegetables = myMultimap.get(&quot;Vegetables&quot;);\r\n       System.out.println(vegetables); // [Carrot]\r\n   \r\n       // Iterating over entire Mutlimap\r\n       for(String value : myMultimap.values()) {\r\n          System.out.println(value);\r\n       }\r\n   \r\n       // Removing a single value\r\n       myMultimap.remove(&quot;Fruits&quot;,&quot;Pear&quot;);\r\n       System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [Bannana, Pear]\r\n   \r\n       // Remove all values for a key\r\n       myMultimap.removeAll(&quot;Fruits&quot;);\r\n       System.out.println(myMultimap.get(&quot;Fruits&quot;)); // [] (Empty Collection!)\r\n    }\r\n    }","title":"HashMap: One Key, multiple Values","body":"<p>I found the blog on random search, i think this will help for doing this: <a href=\"http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html\" rel=\"noreferrer\">http://tomjefferys.blogspot.com.tr/2011/09/multimaps-google-guava.html</a>    </p>\n\n<pre><code>public class MutliMapTest {\npublic static void main(String... args) {\n   Multimap&lt;String, String&gt; myMultimap = ArrayListMultimap.create();\n\n   // Adding some key/value\n   myMultimap.put(\"Fruits\", \"Bannana\");\n   myMultimap.put(\"Fruits\", \"Apple\");\n   myMultimap.put(\"Fruits\", \"Pear\");\n   myMultimap.put(\"Vegetables\", \"Carrot\");\n\n   // Getting the size\n   int size = myMultimap.size();\n   System.out.println(size);  // 4\n\n   // Getting values\n   Collection&lt;String&gt; fruits = myMultimap.get(\"Fruits\");\n   System.out.println(fruits); // [Bannana, Apple, Pear]\n\n   Collection&lt;string&gt; vegetables = myMultimap.get(\"Vegetables\");\n   System.out.println(vegetables); // [Carrot]\n\n   // Iterating over entire Mutlimap\n   for(String value : myMultimap.values()) {\n      System.out.println(value);\n   }\n\n   // Removing a single value\n   myMultimap.remove(\"Fruits\",\"Pear\");\n   System.out.println(myMultimap.get(\"Fruits\")); // [Bannana, Pear]\n\n   // Remove all values for a key\n   myMultimap.removeAll(\"Fruits\");\n   System.out.println(myMultimap.get(\"Fruits\")); // [] (Empty Collection!)\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1205166,"reputation":1369,"user_id":1174987,"accept_rate":75,"display_name":"Neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1679524876,"creation_date":1407785137,"answer_id":25250847,"question_id":8229473,"body_markdown":"This is what i found in a similar question&#39;s [answer][1]\r\n\r\n\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; hm = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    List&lt;String&gt; values = new ArrayList&lt;String&gt;();\r\n    values.add(&quot;Value 1&quot;);\r\n    values.add(&quot;Value 2&quot;);\r\n    hm.put(&quot;Key1&quot;, values);\r\n\r\n    // to get the arraylist\r\n    System.out.println(hm.get(&quot;Key1&quot;));\r\n\r\nRESULT: [Value 1, Value 2]\r\n    \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12536803/1174987","title":"HashMap: One Key, multiple Values","body":"<p>This is what i found in a similar question's <a href=\"https://stackoverflow.com/a/12536803/1174987\">answer</a></p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; hm = new HashMap&lt;String, List&lt;String&gt;&gt;();\nList&lt;String&gt; values = new ArrayList&lt;String&gt;();\nvalues.add(&quot;Value 1&quot;);\nvalues.add(&quot;Value 2&quot;);\nhm.put(&quot;Key1&quot;, values);\n\n// to get the arraylist\nSystem.out.println(hm.get(&quot;Key1&quot;));\n</code></pre>\n<p>RESULT: [Value 1, Value 2]</p>\n"},{"tags":[],"owner":{"account_id":11337551,"reputation":808,"user_id":8312884,"display_name":"Alwayss Bijoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512414190,"creation_date":1512414190,"answer_id":47640216,"question_id":8229473,"body_markdown":"HashMap  Single Key and Multiple Values Using List\r\n\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n            \r\n      // create list one and store values\r\n\r\n        List&lt;String&gt; One = new ArrayList&lt;String&gt;();\r\n        One.add(&quot;Apple&quot;);\r\n        One.add(&quot;Aeroplane&quot;);\r\n\r\n        // create list two and store values\r\n        List&lt;String&gt; Two = new ArrayList&lt;String&gt;();\r\n        Two.add(&quot;Bat&quot;);\r\n        Two.add(&quot;Banana&quot;);\r\n\r\n        // put values into map\r\n        map.put(&quot;A&quot;, One);\r\n        map.put(&quot;B&quot;, Two);\r\n        map.put(&quot;C&quot;, Three);","title":"HashMap: One Key, multiple Values","body":"<p>HashMap  Single Key and Multiple Values Using List</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n  // create list one and store values\n\n    List&lt;String&gt; One = new ArrayList&lt;String&gt;();\n    One.add(\"Apple\");\n    One.add(\"Aeroplane\");\n\n    // create list two and store values\n    List&lt;String&gt; Two = new ArrayList&lt;String&gt;();\n    Two.add(\"Bat\");\n    Two.add(\"Banana\");\n\n    // put values into map\n    map.put(\"A\", One);\n    map.put(\"B\", Two);\n    map.put(\"C\", Three);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3438884,"reputation":35,"user_id":5174376,"display_name":"thedeadalive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524048456,"creation_date":1519280768,"answer_id":48920938,"question_id":8229473,"body_markdown":"You can do something like this (add access modifiers as required):\r\n\r\n    Map&lt;String,Map&lt;String,String&gt;&gt; complexMap=new HashMap&lt;String,Map&lt;String,String&gt;&gt;();\r\n\r\nYou can insert data like this: \r\n\r\n        Map&lt;String,String&gt; componentMap = new HashMap&lt;String,String&gt;();\r\n        componentMap.put(&quot;foo&quot;,&quot;bar&quot;);\r\n        componentMap.put(&quot;secondFoo&quot;,&quot;secondBar&quot;);\r\n        complexMap.put(&quot;superFoo&quot;,componentMap);\r\n\r\nThe Generated Data Structure would be:\r\n\r\n    {superFoo={secondFoo=secondBar, foo=bar}}\r\n\r\n**This way each value for the key should have a unique identifier**. Also gives O(1) for fetches,if keys are known.","title":"HashMap: One Key, multiple Values","body":"<p>You can do something like this (add access modifiers as required):</p>\n\n<pre><code>Map&lt;String,Map&lt;String,String&gt;&gt; complexMap=new HashMap&lt;String,Map&lt;String,String&gt;&gt;();\n</code></pre>\n\n<p>You can insert data like this: </p>\n\n<pre><code>    Map&lt;String,String&gt; componentMap = new HashMap&lt;String,String&gt;();\n    componentMap.put(\"foo\",\"bar\");\n    componentMap.put(\"secondFoo\",\"secondBar\");\n    complexMap.put(\"superFoo\",componentMap);\n</code></pre>\n\n<p>The Generated Data Structure would be:</p>\n\n<pre><code>{superFoo={secondFoo=secondBar, foo=bar}}\n</code></pre>\n\n<p><strong>This way each value for the key should have a unique identifier</strong>. Also gives O(1) for fetches,if keys are known.</p>\n"},{"tags":[],"owner":{"account_id":6422573,"reputation":262,"user_id":4978849,"display_name":"George Arokiam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528749403,"creation_date":1528749403,"answer_id":50805643,"question_id":8229473,"body_markdown":"Write a new class that holds all the values that you need and use the new class&#39;s object as the value in your HashMap\r\n\r\n    HashMap&lt;String, MyObject&gt;\r\n    \r\n    class MyObject {\r\n    public String value1;\r\n    public int value2;\r\n    public List&lt;String&gt; value3;\r\n    }\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Write a new class that holds all the values that you need and use the new class's object as the value in your HashMap</p>\n\n<pre><code>HashMap&lt;String, MyObject&gt;\n\nclass MyObject {\npublic String value1;\npublic int value2;\npublic List&lt;String&gt; value3;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10006906,"reputation":2333,"user_id":7401054,"display_name":"Snowbases"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610701634,"creation_date":1541595040,"answer_id":53189800,"question_id":8229473,"body_markdown":"Here is the code how to get extract the hashmap into arrays, hashmap that contains arraylist\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; country_hashmap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    //Creating two lists and inserting some data in it\r\n    List&lt;String&gt; list_1 = new ArrayList&lt;String&gt;();\r\n    list_1.add(&quot;16873538.webp&quot;);\r\n    list_1.add(&quot;16873539.webp&quot;);\r\n    \r\n    List&lt;String&gt; list_2 = new ArrayList&lt;String&gt;();\r\n    list_2.add(&quot;16873540.webp&quot;);\r\n    list_2.add(&quot;16873541.webp&quot;);\r\n    \r\n    //Inserting both the lists and key to the Map \r\n    country_hashmap.put(&quot;Malaysia&quot;, list_1);\r\n    country_hashmap.put(&quot;Japanese&quot;, list_2);\r\n    \r\n    for(Map.Entry&lt;String, List&lt;String&gt;&gt; hashmap_data : country_hashmap.entrySet()){\r\n    \t  String key = hashmap_data.getKey(); // contains the keys\r\n    \t  List&lt;String&gt; val = hashmap_data.getValue(); // contains arraylists\r\n    \t  // print all the key and values in the hashmap\r\n    \t  System.out.println(key + &quot;: &quot; +val);\r\n    \t  \r\n    \t  // using interator to get the specific values arraylists\r\n    \t  Iterator&lt;String&gt; itr = val.iterator();\r\n    \t  int i = 0;\r\n    \t  String[] data = new String[val.size()];\r\n    \t\twhile (itr.hasNext()){\r\n    \t\t\tString array = itr.next();\r\n    \t\t\tdata[i] = array;\r\n    \t\t\tSystem.out.println(data[i]); // GET THE VALUE\r\n    \t\t\ti++;\r\n    \t\t}\r\n      }\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Here is the code how to get extract the hashmap into arrays, hashmap that contains arraylist</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; country_hashmap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n//Creating two lists and inserting some data in it\nList&lt;String&gt; list_1 = new ArrayList&lt;String&gt;();\nlist_1.add(&quot;16873538.webp&quot;);\nlist_1.add(&quot;16873539.webp&quot;);\n\nList&lt;String&gt; list_2 = new ArrayList&lt;String&gt;();\nlist_2.add(&quot;16873540.webp&quot;);\nlist_2.add(&quot;16873541.webp&quot;);\n\n//Inserting both the lists and key to the Map \ncountry_hashmap.put(&quot;Malaysia&quot;, list_1);\ncountry_hashmap.put(&quot;Japanese&quot;, list_2);\n\nfor(Map.Entry&lt;String, List&lt;String&gt;&gt; hashmap_data : country_hashmap.entrySet()){\n      String key = hashmap_data.getKey(); // contains the keys\n      List&lt;String&gt; val = hashmap_data.getValue(); // contains arraylists\n      // print all the key and values in the hashmap\n      System.out.println(key + &quot;: &quot; +val);\n      \n      // using interator to get the specific values arraylists\n      Iterator&lt;String&gt; itr = val.iterator();\n      int i = 0;\n      String[] data = new String[val.size()];\n        while (itr.hasNext()){\n            String array = itr.next();\n            data[i] = array;\n            System.out.println(data[i]); // GET THE VALUE\n            i++;\n        }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596206977,"creation_date":1596201937,"answer_id":63192755,"question_id":8229473,"body_markdown":"Apache Commons collection classes is the solution.\r\n\r\n        MultiMap multiMapDemo = new MultiValueMap();\r\n\r\n        multiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\r\n        multiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\r\n        multiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\r\n\r\n        System.out.println(multiMap.get(&quot;fruit&quot;));\r\n       // Mango Orange Blueberry\r\n\r\n\r\nMaven Dependency\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 -- \r\n         &gt;\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n             &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n             &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Apache Commons collection classes is the solution.</p>\n<pre><code>    MultiMap multiMapDemo = new MultiValueMap();\n\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\n    multiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\n\n    System.out.println(multiMap.get(&quot;fruit&quot;));\n   // Mango Orange Blueberry\n</code></pre>\n<p>Maven Dependency</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 -- \n     &gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n         &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n         &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18027017,"reputation":47,"user_id":13102687,"display_name":"JKC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616403852,"creation_date":1616403852,"answer_id":66743027,"question_id":8229473,"body_markdown":"Apart from all the answers here, I have a solution that I used and found it most useful if you **know the length of multiple values to be added to your key.** \r\n\r\nIn my case, it was 2, so I opted for this over a `List&lt;string&gt;.`\r\n\r\n \r\n\r\n    HashMap&lt;String, String[]&gt; multimap= new HashMap&lt;&gt;();\r\n    multimap.put(&quot;my_key&quot;, new String[]{&quot;my_value1&quot;, &quot;my_value2&quot;});\r\n\r\n","title":"HashMap: One Key, multiple Values","body":"<p>Apart from all the answers here, I have a solution that I used and found it most useful if you <strong>know the length of multiple values to be added to your key.</strong></p>\n<p>In my case, it was 2, so I opted for this over a <code>List&lt;string&gt;.</code></p>\n<pre><code>HashMap&lt;String, String[]&gt; multimap= new HashMap&lt;&gt;();\nmultimap.put(&quot;my_key&quot;, new String[]{&quot;my_value1&quot;, &quot;my_value2&quot;});\n</code></pre>\n"}],"owner":{"account_id":42224,"reputation":3494,"user_id":122963,"accept_rate":67,"display_name":"Sunscreen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313927,"favorite_count":0,"down_vote_count":3,"up_vote_count":85,"accepted_answer_id":8229518,"answer_count":15,"score":82,"last_activity_date":1679524876,"creation_date":1321976477,"question_id":8229473,"body_markdown":"How I can get the third value for the first key in this map? Is this possible?","title":"HashMap: One Key, multiple Values","body":"<p>How I can get the third value for the first key in this map? Is this possible?</p>\n"},{"tags":["java","android","android-studio","android-fragments","drag-and-drop"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1679532476,"post_id":75817850,"comment_id":133740719,"body_markdown":"You&#39;re creating a brand new `HomeFragment` in your `onNavigationItemSelected`. How is that ever going to have anything to do with the state of the previous fragment instance that you completely replaced and threw away? Are you looking for help with how your MainActivity swaps fragments or how your individual fragment should be [saving its state](https://developer.android.com/guide/fragments/saving-state) across configuration changes and process death and recreation? Because those are two completely separate problems.","body":"You&#39;re creating a brand new <code>HomeFragment</code> in your <code>onNavigationItemSelected</code>. How is that ever going to have anything to do with the state of the previous fragment instance that you completely replaced and threw away? Are you looking for help with how your MainActivity swaps fragments or how your individual fragment should be <a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">saving its state</a> across configuration changes and process death and recreation? Because those are two completely separate problems."},{"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"score":0,"creation_date":1679534247,"post_id":75817850,"comment_id":133740896,"body_markdown":"@ianhanniballake, the second part of your statement. I was going to change the replace in the onNavigationItemSelected for the home fragment to be like the widgetFragment one.","body":"@ianhanniballake, the second part of your statement. I was going to change the replace in the onNavigationItemSelected for the home fragment to be like the widgetFragment one."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1679536520,"post_id":75817850,"comment_id":133741128,"body_markdown":"Oh, because that `widgetFragment` approach won&#39;t work either (when you `replace()`, you&#39;re still throwing away all of the state the FragmentManager is saving for you). It looks like you&#39;ve already tried using `savedInstanceState`, which would be enough to handle things like rotating your device while on that fragment. What actually happened (since I assume that code wasn&#39;t enough if you&#39;re asking this question about saving state across config changes)?","body":"Oh, because that <code>widgetFragment</code> approach won&#39;t work either (when you <code>replace()</code>, you&#39;re still throwing away all of the state the FragmentManager is saving for you). It looks like you&#39;ve already tried using <code>savedInstanceState</code>, which would be enough to handle things like rotating your device while on that fragment. What actually happened (since I assume that code wasn&#39;t enough if you&#39;re asking this question about saving state across config changes)?"},{"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"score":0,"creation_date":1679544966,"post_id":75817850,"comment_id":133741976,"body_markdown":"@ianhanniballake So the widgetFragment just has a checkbox and I was able to get that fragment to save its state so it remembers if you checked the checkbox or not when switching the fragments. I was trying to do the same idea but for the homeFragment but that has elements that you drag and drop around and Im not sure how save the state of where all the elements are positioned and such. As you can tell, the commented out lines of code is me trying to do that and trying to incorporate it in MainActivity which definitely isnt working","body":"@ianhanniballake So the widgetFragment just has a checkbox and I was able to get that fragment to save its state so it remembers if you checked the checkbox or not when switching the fragments. I was trying to do the same idea but for the homeFragment but that has elements that you drag and drop around and Im not sure how save the state of where all the elements are positioned and such. As you can tell, the commented out lines of code is me trying to do that and trying to incorporate it in MainActivity which definitely isnt working"}],"owner":{"account_id":20023537,"reputation":13,"user_id":14677916,"display_name":"johndo19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679524757,"creation_date":1679524757,"question_id":75817850,"body_markdown":"I have a HomeFragment that allows the user to drag and drop certain elements around, and I want to be able to that when you switch back to this fragment that the elements are still in their new positions after they have been dragged and dropped, and that their positions aren&#39;t resetted when you switch back to the HomeFragment. I&#39;m not sure if getSharedPreferences would be used here since the user could be frequently moving the elements around.\r\n\r\nHere is the HomeFragment.java and then the MainActivity.java\r\n\r\n```\r\npackage loon.si.weather_app;\r\n\r\nimport android.content.ClipData;\r\nimport android.content.ClipDescription;\r\nimport android.graphics.Color;\r\nimport android.graphics.PorterDuff;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.util.Log;\r\nimport android.view.DragEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class HomeFragment extends Fragment implements View.OnDragListener, View.OnLongClickListener {\r\n\r\n//    private static final String DRAGGED_STATE = &quot;string&quot;;\r\n    TextView txtVw;\r\n    ImageView imgVw;\r\n    Button btn;\r\n\r\n//    float x_pos;\r\n//    float y_pos;\r\n\r\n    @Override\r\n    public boolean onLongClick(View v) {\r\n        // Create a new ClipData.Item from the ImageView object&#39;s tag\r\n        ClipData.Item item = new ClipData.Item((CharSequence) v.getTag());\r\n        // Create a new ClipData using the tag as a label, the plain text MIME type, and\r\n        // the already-created item. This will create a new ClipDescription object within the\r\n        // ClipData, and set its MIME type entry to &quot;text/plain&quot;\r\n        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};\r\n        ClipData data = new ClipData(v.getTag().toString(), mimeTypes, item);\r\n        // Instantiates the drag shadow builder.\r\n        View.DragShadowBuilder dragshadow = new View.DragShadowBuilder(v);\r\n        // Starts the drag\r\n        v.startDragAndDrop(data        // data to be dragged\r\n                , dragshadow   // drag shadow builder\r\n                , v           // local data about the drag and drop operation\r\n                , 0          // flags (not currently used, set to 0)\r\n        );\r\n        return true;\r\n    }\r\n\r\n    // This is the method that the system calls when it dispatches a drag event to the listener.\r\n    @Override\r\n    public boolean onDrag(View v, DragEvent event) {\r\n        // Defines a variable to store the action type for the incoming event\r\n        int action = event.getAction();\r\n        // Handles each of the expected events\r\n        switch (action) {\r\n\r\n            case DragEvent.ACTION_DRAG_STARTED:\r\n                // Determines if this View can accept the dragged data\r\n                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\r\n                    // if you want to apply color when drag started to your view you can uncomment below lines\r\n                    // to give any color tint to the View to indicate that it can accept data.\r\n                    // v.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\r\n                    // Invalidate the view to force a redraw in the new tint\r\n                    //  v.invalidate();\r\n                    // returns true to indicate that the View can accept the dragged data.\r\n                    return true;\r\n                }\r\n                // Returns false. During the current drag and drop operation, this View will\r\n                // not receive events again until ACTION_DRAG_ENDED is sent.\r\n                return false;\r\n\r\n            case DragEvent.ACTION_DRAG_ENTERED:\r\n                // Applies a GRAY or any color tint to the View. Return true; the return value is ignored.\r\n                v.getBackground().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN);\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_LOCATION:\r\n                // Ignore the event\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_EXITED:\r\n                // Re-sets the color tint to blue. Returns true; the return value is ignored.\r\n                // view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\r\n                //It will clear a color filter .\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidate the view to force a redraw in the new tint\r\n                v.invalidate();\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DROP:\r\n                // Gets the item containing the dragged data\r\n                ClipData.Item item = event.getClipData().getItemAt(0);\r\n                // Gets the text data from the item.\r\n                String dragData = item.getText().toString();\r\n                // Displays a message containing the dragged data.\r\n                Toast.makeText(getActivity(), &quot;Dragged data is &quot; + dragData, Toast.LENGTH_SHORT).show();\r\n                // Turns off any color tints\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n\r\n                View vw = (View) event.getLocalState();\r\n                ViewGroup owner = (ViewGroup) vw.getParent();\r\n                owner.removeView(vw); //remove the dragged view\r\n                //caste the view into LinearLayout as our drag acceptable layout is LinearLayout\r\n                LinearLayout container = (LinearLayout) v;\r\n                container.addView(vw);//Add the dragged view\r\n                vw.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE\r\n                // Returns true. DragEvent.getResult() will return true.\r\n                return true;\r\n\r\n            case DragEvent.ACTION_DRAG_ENDED:\r\n                // Turns off any color tinting\r\n                v.getBackground().clearColorFilter();\r\n                // Invalidates the view to force a redraw\r\n                v.invalidate();\r\n                // Does a getResult(), and displays what happened.\r\n                if (event.getResult())\r\n                    Toast.makeText(getActivity(), &quot;The drop was handled.&quot;, Toast.LENGTH_SHORT).show();\r\n                else\r\n                    Toast.makeText(getActivity(), &quot;The drop didn&#39;t work.&quot;, Toast.LENGTH_SHORT).show();\r\n//                x_pos = event.getX();\r\n//                y_pos = event.getY();\r\n                // returns true; the value is ignored.\r\n                return true;\r\n            // An unknown action type was received.\r\n            default:\r\n                Log.e(&quot;DragDrop Example&quot;, &quot;Unknown action type received by OnDragListener.&quot;);\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View viewFragment = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        txtVw = viewFragment.findViewById(R.id.lbl);\r\n        txtVw.setTag(&quot;DRAGGABLE TEXTVIEW&quot;);\r\n        txtVw.setOnLongClickListener(this);\r\n\r\n        imgVw = viewFragment.findViewById(R.id.ingvw);\r\n        imgVw.setTag(&quot;ANDROID ICON&quot;);\r\n        imgVw.setOnLongClickListener(this);\r\n\r\n        btn = viewFragment.findViewById(R.id.btnDrag);\r\n        btn.setTag(&quot;DRAGGABLE BUTTON&quot;);\r\n        btn.setOnLongClickListener(this);\r\n\r\n        //Set Drag Event Listeners for defined layouts\r\n        viewFragment.findViewById(R.id.layout1).setOnDragListener(this);\r\n        viewFragment.findViewById(R.id.layout2).setOnDragListener(this);\r\n        viewFragment.findViewById(R.id.layout3).setOnDragListener(this);\r\n\r\n//        if (savedInstanceState != null) {\r\n//            // Restore last state for checked position.\r\n//            boolean clickable = savedInstanceState.getBoolean(DRAGGED_STATE, false);\r\n//            btn.setX(x_pos);\r\n//            btn.setY(y_pos);\r\n//        }\r\n\r\n        return viewFragment;\r\n    }\r\n\r\n//    @Override\r\n//    public void onSaveInstanceState(@NonNull Bundle savedInstanceState) {\r\n//        super.onSaveInstanceState(savedInstanceState);\r\n//        savedInstanceState.putBoolean(DRAGGED_STATE, btn.isClickable() );\r\n//    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage loon.si.weather_app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport java.util.Objects;\r\n\r\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    private WidgetFragment widgetFragment;\r\n//    private HomeFragment homeFragment;\r\n    private final String WIDGET_FRAGMENT_TAG = &quot;widgetfragmenttag&quot;;\r\n//    private final String HOME_FRAGMENT_TAG = &quot;homefragmenttag&quot;;\r\n    private DrawerLayout drawerLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        \r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open_nav, R.string.close_nav);\r\n\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n//        if (savedInstanceState == null) {\r\n//            getSupportFragmentManager().beginTransaction()\r\n//                    .replace(R.id.fragment_container, new HomeFragment()).commit();\r\n//            navigationView.setCheckedItem(R.id.nav_home);\r\n//        }\r\n\r\n        if (savedInstanceState != null) { // saved instance state, fragment may exist\r\n            // look up the instance that already exists by tag\r\n            widgetFragment = (WidgetFragment)\r\n                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\r\n        } else if (widgetFragment == null) {\r\n            // only create fragment if they haven&#39;t been instantiated already\r\n            widgetFragment = new WidgetFragment();\r\n        }\r\n\r\n//        if (savedInstanceState != null) { // saved instance state, fragment may exist\r\n//            // look up the instance that already exists by tag\r\n//            homeFragment = (HomeFragment)\r\n//                    getSupportFragmentManager().findFragmentByTag(HOME_FRAGMENT_TAG);\r\n//            widgetFragment = (WidgetFragment)\r\n//                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\r\n//        } else if (homeFragment == null) {\r\n//            // only create fragment if they haven&#39;t been instantiated already\r\n//            homeFragment = new HomeFragment();\r\n//        } else if (widgetFragment == null) {\r\n//            // only create fragment if they haven&#39;t been instantiated already\r\n//            widgetFragment = new WidgetFragment();\r\n//        }\r\n    }\r\n\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.nav_home:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new HomeFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_settings:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new SettingsFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_widget:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                widgetFragment, WIDGET_FRAGMENT_TAG).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_location:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new LocationFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.fragment_temp_api_demo:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new TempApiDemoFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_education:\r\n                getSupportFragmentManager().\r\n                        beginTransaction().\r\n                        replace(R.id.fragment_container,\r\n                                new EducationFragment()).\r\n                        commit();\r\n                break;\r\n\r\n            case R.id.nav_shopping:\r\n            getSupportFragmentManager().\r\n                    beginTransaction().\r\n                    replace(R.id.fragment_container,\r\n                            new ShoppingFragment()).\r\n                    commit();\r\n            break;\r\n\r\n            case R.id.nav_logout:\r\n                Toast.makeText(this, &quot;Logout Button Pressed&quot;,\r\n                        Toast.LENGTH_SHORT).\r\n                        show();\r\n                break;\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```","title":"How to save and restore fragment state that involves dragging and dropping elements? (Android Studio - Java)","body":"<p>I have a HomeFragment that allows the user to drag and drop certain elements around, and I want to be able to that when you switch back to this fragment that the elements are still in their new positions after they have been dragged and dropped, and that their positions aren't resetted when you switch back to the HomeFragment. I'm not sure if getSharedPreferences would be used here since the user could be frequently moving the elements around.</p>\n<p>Here is the HomeFragment.java and then the MainActivity.java</p>\n<pre><code>package loon.si.weather_app;\n\nimport android.content.ClipData;\nimport android.content.ClipDescription;\nimport android.graphics.Color;\nimport android.graphics.PorterDuff;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.DragEvent;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\n\npublic class HomeFragment extends Fragment implements View.OnDragListener, View.OnLongClickListener {\n\n//    private static final String DRAGGED_STATE = &quot;string&quot;;\n    TextView txtVw;\n    ImageView imgVw;\n    Button btn;\n\n//    float x_pos;\n//    float y_pos;\n\n    @Override\n    public boolean onLongClick(View v) {\n        // Create a new ClipData.Item from the ImageView object's tag\n        ClipData.Item item = new ClipData.Item((CharSequence) v.getTag());\n        // Create a new ClipData using the tag as a label, the plain text MIME type, and\n        // the already-created item. This will create a new ClipDescription object within the\n        // ClipData, and set its MIME type entry to &quot;text/plain&quot;\n        String[] mimeTypes = {ClipDescription.MIMETYPE_TEXT_PLAIN};\n        ClipData data = new ClipData(v.getTag().toString(), mimeTypes, item);\n        // Instantiates the drag shadow builder.\n        View.DragShadowBuilder dragshadow = new View.DragShadowBuilder(v);\n        // Starts the drag\n        v.startDragAndDrop(data        // data to be dragged\n                , dragshadow   // drag shadow builder\n                , v           // local data about the drag and drop operation\n                , 0          // flags (not currently used, set to 0)\n        );\n        return true;\n    }\n\n    // This is the method that the system calls when it dispatches a drag event to the listener.\n    @Override\n    public boolean onDrag(View v, DragEvent event) {\n        // Defines a variable to store the action type for the incoming event\n        int action = event.getAction();\n        // Handles each of the expected events\n        switch (action) {\n\n            case DragEvent.ACTION_DRAG_STARTED:\n                // Determines if this View can accept the dragged data\n                if (event.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\n                    // if you want to apply color when drag started to your view you can uncomment below lines\n                    // to give any color tint to the View to indicate that it can accept data.\n                    // v.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\n                    // Invalidate the view to force a redraw in the new tint\n                    //  v.invalidate();\n                    // returns true to indicate that the View can accept the dragged data.\n                    return true;\n                }\n                // Returns false. During the current drag and drop operation, this View will\n                // not receive events again until ACTION_DRAG_ENDED is sent.\n                return false;\n\n            case DragEvent.ACTION_DRAG_ENTERED:\n                // Applies a GRAY or any color tint to the View. Return true; the return value is ignored.\n                v.getBackground().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN);\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n                return true;\n\n            case DragEvent.ACTION_DRAG_LOCATION:\n                // Ignore the event\n                return true;\n\n            case DragEvent.ACTION_DRAG_EXITED:\n                // Re-sets the color tint to blue. Returns true; the return value is ignored.\n                // view.getBackground().setColorFilter(Color.BLUE, PorterDuff.Mode.SRC_IN);\n                //It will clear a color filter .\n                v.getBackground().clearColorFilter();\n                // Invalidate the view to force a redraw in the new tint\n                v.invalidate();\n                return true;\n\n            case DragEvent.ACTION_DROP:\n                // Gets the item containing the dragged data\n                ClipData.Item item = event.getClipData().getItemAt(0);\n                // Gets the text data from the item.\n                String dragData = item.getText().toString();\n                // Displays a message containing the dragged data.\n                Toast.makeText(getActivity(), &quot;Dragged data is &quot; + dragData, Toast.LENGTH_SHORT).show();\n                // Turns off any color tints\n                v.getBackground().clearColorFilter();\n                // Invalidates the view to force a redraw\n                v.invalidate();\n\n                View vw = (View) event.getLocalState();\n                ViewGroup owner = (ViewGroup) vw.getParent();\n                owner.removeView(vw); //remove the dragged view\n                //caste the view into LinearLayout as our drag acceptable layout is LinearLayout\n                LinearLayout container = (LinearLayout) v;\n                container.addView(vw);//Add the dragged view\n                vw.setVisibility(View.VISIBLE);//finally set Visibility to VISIBLE\n                // Returns true. DragEvent.getResult() will return true.\n                return true;\n\n            case DragEvent.ACTION_DRAG_ENDED:\n                // Turns off any color tinting\n                v.getBackground().clearColorFilter();\n                // Invalidates the view to force a redraw\n                v.invalidate();\n                // Does a getResult(), and displays what happened.\n                if (event.getResult())\n                    Toast.makeText(getActivity(), &quot;The drop was handled.&quot;, Toast.LENGTH_SHORT).show();\n                else\n                    Toast.makeText(getActivity(), &quot;The drop didn't work.&quot;, Toast.LENGTH_SHORT).show();\n//                x_pos = event.getX();\n//                y_pos = event.getY();\n                // returns true; the value is ignored.\n                return true;\n            // An unknown action type was received.\n            default:\n                Log.e(&quot;DragDrop Example&quot;, &quot;Unknown action type received by OnDragListener.&quot;);\n                break;\n        }\n        return false;\n    }\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View viewFragment = inflater.inflate(R.layout.fragment_home, container, false);\n\n        txtVw = viewFragment.findViewById(R.id.lbl);\n        txtVw.setTag(&quot;DRAGGABLE TEXTVIEW&quot;);\n        txtVw.setOnLongClickListener(this);\n\n        imgVw = viewFragment.findViewById(R.id.ingvw);\n        imgVw.setTag(&quot;ANDROID ICON&quot;);\n        imgVw.setOnLongClickListener(this);\n\n        btn = viewFragment.findViewById(R.id.btnDrag);\n        btn.setTag(&quot;DRAGGABLE BUTTON&quot;);\n        btn.setOnLongClickListener(this);\n\n        //Set Drag Event Listeners for defined layouts\n        viewFragment.findViewById(R.id.layout1).setOnDragListener(this);\n        viewFragment.findViewById(R.id.layout2).setOnDragListener(this);\n        viewFragment.findViewById(R.id.layout3).setOnDragListener(this);\n\n//        if (savedInstanceState != null) {\n//            // Restore last state for checked position.\n//            boolean clickable = savedInstanceState.getBoolean(DRAGGED_STATE, false);\n//            btn.setX(x_pos);\n//            btn.setY(y_pos);\n//        }\n\n        return viewFragment;\n    }\n\n//    @Override\n//    public void onSaveInstanceState(@NonNull Bundle savedInstanceState) {\n//        super.onSaveInstanceState(savedInstanceState);\n//        savedInstanceState.putBoolean(DRAGGED_STATE, btn.isClickable() );\n//    }\n\n}\n\n</code></pre>\n<pre><code>package loon.si.weather_app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.FragmentManager;\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\nimport java.util.Objects;\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private WidgetFragment widgetFragment;\n//    private HomeFragment homeFragment;\n    private final String WIDGET_FRAGMENT_TAG = &quot;widgetfragmenttag&quot;;\n//    private final String HOME_FRAGMENT_TAG = &quot;homefragmenttag&quot;;\n    private DrawerLayout drawerLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        \n        drawerLayout = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open_nav, R.string.close_nav);\n\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n//        if (savedInstanceState == null) {\n//            getSupportFragmentManager().beginTransaction()\n//                    .replace(R.id.fragment_container, new HomeFragment()).commit();\n//            navigationView.setCheckedItem(R.id.nav_home);\n//        }\n\n        if (savedInstanceState != null) { // saved instance state, fragment may exist\n            // look up the instance that already exists by tag\n            widgetFragment = (WidgetFragment)\n                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\n        } else if (widgetFragment == null) {\n            // only create fragment if they haven't been instantiated already\n            widgetFragment = new WidgetFragment();\n        }\n\n//        if (savedInstanceState != null) { // saved instance state, fragment may exist\n//            // look up the instance that already exists by tag\n//            homeFragment = (HomeFragment)\n//                    getSupportFragmentManager().findFragmentByTag(HOME_FRAGMENT_TAG);\n//            widgetFragment = (WidgetFragment)\n//                    getSupportFragmentManager().findFragmentByTag(WIDGET_FRAGMENT_TAG);\n//        } else if (homeFragment == null) {\n//            // only create fragment if they haven't been instantiated already\n//            homeFragment = new HomeFragment();\n//        } else if (widgetFragment == null) {\n//            // only create fragment if they haven't been instantiated already\n//            widgetFragment = new WidgetFragment();\n//        }\n    }\n\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()){\n            case R.id.nav_home:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new HomeFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_settings:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new SettingsFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_widget:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                widgetFragment, WIDGET_FRAGMENT_TAG).\n                        commit();\n                break;\n\n            case R.id.nav_location:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new LocationFragment()).\n                        commit();\n                break;\n\n            case R.id.fragment_temp_api_demo:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new TempApiDemoFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_education:\n                getSupportFragmentManager().\n                        beginTransaction().\n                        replace(R.id.fragment_container,\n                                new EducationFragment()).\n                        commit();\n                break;\n\n            case R.id.nav_shopping:\n            getSupportFragmentManager().\n                    beginTransaction().\n                    replace(R.id.fragment_container,\n                            new ShoppingFragment()).\n                    commit();\n            break;\n\n            case R.id.nav_logout:\n                Toast.makeText(this, &quot;Logout Button Pressed&quot;,\n                        Toast.LENGTH_SHORT).\n                        show();\n                break;\n        }\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","accessibility"],"comments":[{"owner":{"account_id":28647,"reputation":16447,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1679506949,"post_id":75813991,"comment_id":133735921,"body_markdown":"Isn&#39;t that a **user** option?  So you want to force a setting on the user?","body":"Isn&#39;t that a <b>user</b> option?  So you want to force a setting on the user?"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"D"},"score":0,"creation_date":1679508384,"post_id":75813991,"comment_id":133736308,"body_markdown":"Yes. I want to open the link in reader mode in chrome.","body":"Yes. I want to open the link in reader mode in chrome."}],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679523984,"creation_date":1679497514,"question_id":75813991,"body_markdown":"I need to enable &quot;Simplified View for Web Pages&quot; setting in Accessibility settings. Is there any way I can do this?\r\n\r\n[![Simplified View for Web Pages][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zV4wJ.png","title":"How to enable &quot;Simplified View for Web Pages&quot; setting programmatically","body":"<p>I need to enable &quot;Simplified View for Web Pages&quot; setting in Accessibility settings. Is there any way I can do this?</p>\n<p><a href=\"https://i.stack.imgur.com/zV4wJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zV4wJ.png\" alt=\"Simplified View for Web Pages\" /></a></p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":4246842,"reputation":1327,"user_id":3475249,"display_name":"drkunibar"},"score":1,"creation_date":1412337152,"post_id":26177946,"comment_id":41044531,"body_markdown":"Remove the `@Lob` annotation. The `String` type an the length of 16777215 should make the mapping","body":"Remove the <code>@Lob</code> annotation. The <code>String</code> type an the length of 16777215 should make the mapping"},{"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"score":0,"creation_date":1412339625,"post_id":26177946,"comment_id":41045578,"body_markdown":"Thanks, drkunibar, but that does not help.","body":"Thanks, drkunibar, but that does not help."},{"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"score":0,"creation_date":1412583962,"post_id":26177946,"comment_id":41107201,"body_markdown":"@drkunibar, I found out that your suggestion actually worked. Together with an implementation of the MySQLDialect this solved my problem. At first I only tried the two things independently.","body":"@drkunibar, I found out that your suggestion actually worked. Together with an implementation of the MySQLDialect this solved my problem. At first I only tried the two things independently."}],"answers":[{"tags":[],"owner":{"account_id":20645,"reputation":5548,"user_id":49548,"accept_rate":94,"display_name":"Bob"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499679665,"creation_date":1499679665,"answer_id":45008664,"question_id":26177946,"body_markdown":"You can give Hibernate a hint about the data type:\r\n\r\n    @Column(name = &quot;data&quot;, length = 16777215, columnDefinition = &quot;mediumtext&quot;)","title":"Mapping of data types in hibernate","body":"<p>You can give Hibernate a hint about the data type:</p>\n\n<pre><code>@Column(name = \"data\", length = 16777215, columnDefinition = \"mediumtext\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679523906,"creation_date":1679523906,"answer_id":75817778,"question_id":26177946,"body_markdown":"Another way of handling this is to utilize liquibase to manage the schema creation.  This will ensure precise schemas to be created specific to the database vendor if needed.\r\n\r\nYou can utilize \r\n\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\nTo show the SQLs used to create on a local test database then pass the SQLs to ChatGPT in the following form\r\n\r\n&gt; convert\r\n&gt; ```\r\n&gt; create table assessment_record (id char(36) not null, created_on datetime(6) not null, data tinytext not null, recaptcha_score float(53) not null, primary key (id)) \r\n&gt; ``` \r\n&gt; to a liquibase YAML","title":"Mapping of data types in hibernate","body":"<p>Another way of handling this is to utilize liquibase to manage the schema creation.  This will ensure precise schemas to be created specific to the database vendor if needed.</p>\n<p>You can utilize</p>\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>To show the SQLs used to create on a local test database then pass the SQLs to ChatGPT in the following form</p>\n<blockquote>\n<p>convert</p>\n<pre><code>create table assessment_record (id char(36) not null, created_on datetime(6) not null, data tinytext not null, recaptcha_score float(53) not null, primary key (id)) \n</code></pre>\n<p>to a liquibase YAML</p>\n</blockquote>\n"}],"owner":{"account_id":8869,"reputation":5508,"user_id":16152,"accept_rate":81,"display_name":"homaxto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679523906,"creation_date":1412334745,"question_id":26177946,"body_markdown":"I have a scenario where a database column is of the data type `mediumtext`. My entity has the following interface:\r\n\r\n\t@Lob\r\n\t@Column(name = &quot;data&quot;, length = 16777215)\r\n\tpublic String getData() {\r\n\t\treturn this.data;\r\n\t}\r\n\r\nStill when I deploy to my server I get this error:\r\n\r\n    HibernateException: Wrong column type in dme42_apns.appboxdatastore for column data.\r\n    Found: mediumtext, expected: longtext\r\n\r\nI have tried making my own MySQLDialect with the following code which does not help:\r\n\r\n    @Override\r\n    protected void registerVarcharTypes() {\r\n        super.registerVarcharTypes();\r\n        registerColumnType(Types.VARCHAR, 16777215, &quot;mediumtext&quot;);\r\n        registerColumnType(Types.VARCHAR, 65535, &quot;text&quot;);\r\n    }\r\n\r\nDoes anyone have an idea, of why hibernate maps like this?","title":"Mapping of data types in hibernate","body":"<p>I have a scenario where a database column is of the data type <code>mediumtext</code>. My entity has the following interface:</p>\n\n<pre><code>@Lob\n@Column(name = \"data\", length = 16777215)\npublic String getData() {\n    return this.data;\n}\n</code></pre>\n\n<p>Still when I deploy to my server I get this error:</p>\n\n<pre><code>HibernateException: Wrong column type in dme42_apns.appboxdatastore for column data.\nFound: mediumtext, expected: longtext\n</code></pre>\n\n<p>I have tried making my own MySQLDialect with the following code which does not help:</p>\n\n<pre><code>@Override\nprotected void registerVarcharTypes() {\n    super.registerVarcharTypes();\n    registerColumnType(Types.VARCHAR, 16777215, \"mediumtext\");\n    registerColumnType(Types.VARCHAR, 65535, \"text\");\n}\n</code></pre>\n\n<p>Does anyone have an idea, of why hibernate maps like this?</p>\n"},{"tags":["java","spring-boot","security"],"owner":{"account_id":16115477,"reputation":523,"user_id":11632725,"display_name":"Alexander  Tukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679523424,"creation_date":1679523424,"question_id":75817741,"body_markdown":"I have the following Spring security config\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                    .csrf().disable()\r\n                    .cors().disable()\r\n                    .sessionManagement()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n    \r\n        }\r\n    }\r\n\r\nAnd I have endpoint `POST /users/id/send`\r\n\r\nThe problem is that regexMatchers checks only exact match. Sometime brower send to the server request with question mark (?) at the end.\r\nThe example: `/users/id/send?`\r\nSuch endpoint doesn&#39;t pass regexMatchers filter.\r\n\r\nI have solution: `.regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)`.\r\nBut I think it&#39;s not the best one. Is there a way to make it better?\r\n","title":"How to check the question mark at the end of regex security filter in spring boot","body":"<p>I have the following Spring security config</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .csrf().disable()\n                .cors().disable()\n                .sessionManagement()\n                .and()\n                .authorizeRequests()\n                .regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n    }\n}\n</code></pre>\n<p>And I have endpoint <code>POST /users/id/send</code></p>\n<p>The problem is that regexMatchers checks only exact match. Sometime brower send to the server request with question mark (?) at the end.\nThe example: <code>/users/id/send?</code>\nSuch endpoint doesn't pass regexMatchers filter.</p>\n<p>I have solution: <code>.regexMatchers(HttpMethod.POST, &quot;/users/[0-9]/send(\\\\?)?&quot;)</code>.\nBut I think it's not the best one. Is there a way to make it better?</p>\n"},{"tags":["java","javafx"],"owner":{"account_id":8370514,"reputation":27,"user_id":6285781,"display_name":"Tretonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679522147,"answer_count":0,"score":0,"last_activity_date":1679521443,"creation_date":1679521443,"question_id":75817508,"body_markdown":"How to get the dimensions of a Label before it is painted in the scene?.\r\nJavaFX 19\r\nIn some previous version this same code worked correctly.\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n        public class LabelBoundsExample extends Application {\r\n        \r\n            @Override\r\n            public void start(Stage primaryStage) throws Exception {\r\n                Label label = new Label(&quot;Hello World!&quot;);\r\n                StackPane root = new StackPane(label);\r\n                Scene scene = new Scene(root, 400, 400);\r\n         \r\n                Bounds labelBounds = label.getBoundsInLocal();\r\n                  \r\n                System.out.println(&quot;Label width: &quot; + labelBounds.getWidth());\r\n                System.out.println(&quot;Label height: &quot; + labelBounds.getHeight());\r\n        \r\n                primaryStage.setScene(scene);\r\n                primaryStage.show();\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                launch(args);\r\n            }\r\n        }\r\n\r\n","title":"How to get the dimensions of a Label before it is painted in the scene","body":"<p>How to get the dimensions of a Label before it is painted in the scene?.\nJavaFX 19\nIn some previous version this same code worked correctly.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n    public class LabelBoundsExample extends Application {\n    \n        @Override\n        public void start(Stage primaryStage) throws Exception {\n            Label label = new Label(&quot;Hello World!&quot;);\n            StackPane root = new StackPane(label);\n            Scene scene = new Scene(root, 400, 400);\n     \n            Bounds labelBounds = label.getBoundsInLocal();\n              \n            System.out.println(&quot;Label width: &quot; + labelBounds.getWidth());\n            System.out.println(&quot;Label height: &quot; + labelBounds.getHeight());\n    \n            primaryStage.setScene(scene);\n            primaryStage.show();\n        }\n    \n        public static void main(String[] args) {\n            launch(args);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1679521963,"post_id":75817498,"comment_id":133739238,"body_markdown":"As instructed in [ask], can you please write a descriptive, non-ambiguous title? For more guidance, see [How do I write a good title?](//meta.stackexchange.com/q/10647/997587)","body":"As instructed in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, can you please write a descriptive, non-ambiguous title? For more guidance, see <a href=\"//meta.stackexchange.com/q/10647/997587\">How do I write a good title?</a>"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679521918,"answer_count":0,"score":0,"last_activity_date":1679521368,"creation_date":1679521368,"question_id":75817498,"body_markdown":"Below is my code snippet.\r\n \r\n\r\n    public static void main(String[] args) {\r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n            arr.add(0);\r\n            arr.add(1);\r\n            arr.add(2);\r\n            arr.add(3);\r\n            \r\n            Iterator&lt;Integer&gt; iterator = arr.iterator();\r\n            while(iterator.hasNext()){\r\n                Integer val = iterator.next();//I was expecting ConCurrentModificationException\r\n                System.out.println(val);\r\n                if(val.equals(2)){\r\n                    \r\n                    arr.remove(0);\r\n                }\r\n                \r\n            }\r\n        }\r\n   However, it did not throw any exceptions. However, if I do something like below\r\n\r\n    if(val.equals(1)){\r\n                        \r\n                        arr.remove(0);\r\n                    }\r\n it would undoubtedly throw a `ConcurrentModificationException`. so in a nutshell, whenever I check 2nd last element it doesn&#39;t throw an exception, barring it every time it throws. what I understand is like this below:\r\n\r\n\r\n*The reason I&#39;m not getting a `ConcurrentModificationException` is that the Iterator is not aware of the modification made to the ArrayList through the `remove()` method. This is because the Iterator implementation in Java does not always throw a `ConcurrentModificationException` when the `ArrayList` is modified directly. Instead, the Iterator implementation relies on a flag called `modCount` that is incremented every time a modification is made to the `ArrayList`. If the `modCount` does not match the expected value, the ConcurrentModificationException is thrown. However, in my case, the `modCount` value is not being updated correctly.*\r\n\r\n\r\nbut I see this as constant behavior I am seeing. can anyone please explain how this is happening?\r\n\r\n\r\n\r\n","title":"Java Iterator implementation","body":"<p>Below is my code snippet.</p>\n<pre><code>public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(0);\n        arr.add(1);\n        arr.add(2);\n        arr.add(3);\n        \n        Iterator&lt;Integer&gt; iterator = arr.iterator();\n        while(iterator.hasNext()){\n            Integer val = iterator.next();//I was expecting ConCurrentModificationException\n            System.out.println(val);\n            if(val.equals(2)){\n                \n                arr.remove(0);\n            }\n            \n        }\n    }\n</code></pre>\n<p>However, it did not throw any exceptions. However, if I do something like below</p>\n<pre><code>if(val.equals(1)){\n                    \n                    arr.remove(0);\n                }\n</code></pre>\n<p>it would undoubtedly throw a <code>ConcurrentModificationException</code>. so in a nutshell, whenever I check 2nd last element it doesn't throw an exception, barring it every time it throws. what I understand is like this below:</p>\n<p><em>The reason I'm not getting a <code>ConcurrentModificationException</code> is that the Iterator is not aware of the modification made to the ArrayList through the <code>remove()</code> method. This is because the Iterator implementation in Java does not always throw a <code>ConcurrentModificationException</code> when the <code>ArrayList</code> is modified directly. Instead, the Iterator implementation relies on a flag called <code>modCount</code> that is incremented every time a modification is made to the <code>ArrayList</code>. If the <code>modCount</code> does not match the expected value, the ConcurrentModificationException is thrown. However, in my case, the <code>modCount</code> value is not being updated correctly.</em></p>\n<p>but I see this as constant behavior I am seeing. can anyone please explain how this is happening?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1679501126,"post_id":75814597,"comment_id":133734337,"body_markdown":"Oracle no longer ships/releases a standalone JRE [since Java 11](https://www.oracle.com/java/technologies/javase/11-relnote-issues.html). The only official package by Oracle (and most other vendors that provide OpenJDK based Java) is the JDK. With `jlink` developers can *build* a &quot;lightweight JDK&quot; with only the parts they want, which is *similar* to a JRE, but more customized. The JDK **includes** the JVM (just like the JRE did).","body":"Oracle no longer ships/releases a standalone JRE <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">since Java 11</a>. The only official package by Oracle (and most other vendors that provide OpenJDK based Java) is the JDK. With <code>jlink</code> developers can <i>build</i> a &quot;lightweight JDK&quot; with only the parts they want, which is <i>similar</i> to a JRE, but more customized. The JDK <b>includes</b> the JVM (just like the JRE did)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679521220,"creation_date":1679503776,"answer_id":75815097,"question_id":75814597,"body_markdown":"# tl;dr\r\n\r\nA [Java Virtual Machine (JVM)][1] is included in every JDK.\r\n\r\nSeveral vendors provide JDK products. \r\n\r\nThe JDK can be installed anywhere on your Mac. Commonly placed in `/Library/Java/JavaVirtualMachines/`, but not exclusively. \r\n\r\nA JRE is a JDK without some development tools.  Little need for JRE nowadays, though some vendors offer JREs.\r\n\r\nWhen in doubt, head to [Adoptium.net][2].\r\n\r\n# Details\r\n\r\nYou have a choice of several [Java Development Kit (JDK)][3] vendors. They include, in no particular order: *Adoptium, Azul Systems, BellSoft, Amazon, Red Hat, IBM, Oracle, SAP, Microsoft,* and others. \r\n\r\nMost of the JDK products shipped by these vendors are based largely, if not entirely, on the codebase of the [OpenJDK][4] project.\r\n\r\nSome JDK products are free-of-cost, some are commercial  products requiring a fee. Be sure to study the terms.\r\n\r\nSome of those vendors offer a [Java Runtime Environment (JRE)][5] edition of their JDK product. This simply means omitting some of the tools used by software developers. A JRE is meant for end-user machines.\r\n\r\nThe need for a JRE has nearly gone now that:\r\n\r\n - [*Java Applet*][6] technology is no longer supported by any browser maker, nor by Oracle. \r\n - [*Java Web Start*][7] is being phased out by Oracle, though an open-source implementation lives on at the [*OpenWebStart*][8] project.\r\n\r\nFor details, see the 2020-05 white paper by Oracle, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf)\r\n\r\nSo nowadays end-users are no longer expected to have a JDK/JRE already installed on their computer. Instead, you are expected to **have a Java runtime bundled within your app**. See the [*jlink*][9] and [*jpackage*][10] tools. And understand the [Java Platform Module System (JPMS)][11] in Java 9+.\r\n\r\nYou asked:\r\n\r\n&gt;I want to know where is the JVM located on my Mac?\r\n\r\nAnywhere. \r\n\r\nApple suggests putting any separate Java installation in `/Library/Java/JavaVirtualMachines/`. This location is usually the default for any JDK installer you obtain from a JDK vendor. \r\n\r\n[*IntelliJ*][12] IDE can [download and install a JDK][13] in its own location. I dont recall where. \r\n\r\nThe [*SDKMAN!*][14] utility can download and install a a JDK in its own location. I dont recall where.\r\n\r\nDitto for [*Homebrew*,][15] I believe,  though Ive never used it. \r\n\r\n\r\n----------\r\n\r\nIf you feel overwhelmed by all the info and choices, I suggest heading to [Adoptium][2] (a group effort by various vendors &amp; the [Eclipse Foundation][16]) to download an installer for your Mac. Be sure to choose the edition for your Macs chip architecture:  Intel ([x86-64][17]) or Apple Silicon [M series][18] (ARM, Aarch64).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://adoptium.net/\r\n  [3]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\r\n  [6]: https://en.wikipedia.org/wiki/Java_applet\r\n  [7]: https://en.wikipedia.org/wiki/Java_Web_Start\r\n  [8]: https://openwebstart.com/\r\n  [9]: https://openjdk.org/jeps/282\r\n  [10]: https://openjdk.org/jeps/392\r\n  [11]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [12]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [13]: https://www.jetbrains.com/idea/guide/tips/download-jdk/\r\n  [14]: https://sdkman.io/\r\n  [15]: https://en.wikipedia.org/wiki/Homebrew_(package_manager)\r\n  [16]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [17]: https://en.wikipedia.org/wiki/X86-64\r\n  [18]: https://en.wikipedia.org/wiki/Apple_silicon#M_series","title":"Where is the JVM program located on MacOS?","body":"<h1>tl;dr</h1>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">Java Virtual Machine (JVM)</a> is included in every JDK.</p>\n<p>Several vendors provide JDK products.</p>\n<p>The JDK can be installed anywhere on your Mac. Commonly placed in <code>/Library/Java/JavaVirtualMachines/</code>, but not exclusively.</p>\n<p>A JRE is a JDK without some development tools.  Little need for JRE nowadays, though some vendors offer JREs.</p>\n<p>When in doubt, head to <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium.net</a>.</p>\n<h1>Details</h1>\n<p>You have a choice of several <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">Java Development Kit (JDK)</a> vendors. They include, in no particular order: <em>Adoptium, Azul Systems, BellSoft, Amazon, Red Hat, IBM, Oracle, SAP, Microsoft,</em> and others.</p>\n<p>Most of the JDK products shipped by these vendors are based largely, if not entirely, on the codebase of the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project.</p>\n<p>Some JDK products are free-of-cost, some are commercial  products requiring a fee. Be sure to study the terms.</p>\n<p>Some of those vendors offer a <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\" rel=\"nofollow noreferrer\">Java Runtime Environment (JRE)</a> edition of their JDK product. This simply means omitting some of the tools used by software developers. A JRE is meant for end-user machines.</p>\n<p>The need for a JRE has nearly gone now that:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\"><em>Java Applet</em></a> technology is no longer supported by any browser maker, nor by Oracle.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\"><em>Java Web Start</em></a> is being phased out by Oracle, though an open-source implementation lives on at the <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> project.</li>\n</ul>\n<p>For details, see the 2020-05 white paper by Oracle, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a></p>\n<p>So nowadays end-users are no longer expected to have a JDK/JRE already installed on their computer. Instead, you are expected to <strong>have a Java runtime bundled within your app</strong>. See the <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><em>jlink</em></a> and <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><em>jpackage</em></a> tools. And understand the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System (JPMS)</a> in Java 9+.</p>\n<p>You asked:</p>\n<blockquote>\n<p>I want to know where is the JVM located on my Mac?</p>\n</blockquote>\n<p>Anywhere.</p>\n<p>Apple suggests putting any separate Java installation in <code>/Library/Java/JavaVirtualMachines/</code>. This location is usually the default for any JDK installer you obtain from a JDK vendor.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> IDE can <a href=\"https://www.jetbrains.com/idea/guide/tips/download-jdk/\" rel=\"nofollow noreferrer\">download and install a JDK</a> in its own location. I dont recall where.</p>\n<p>The <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\"><em>SDKMAN!</em></a> utility can download and install a a JDK in its own location. I dont recall where.</p>\n<p>Ditto for <a href=\"https://en.wikipedia.org/wiki/Homebrew_(package_manager)\" rel=\"nofollow noreferrer\"><em>Homebrew</em>,</a> I believe,  though Ive never used it.</p>\n<hr />\n<p>If you feel overwhelmed by all the info and choices, I suggest heading to <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a> (a group effort by various vendors &amp; the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>) to download an installer for your Mac. Be sure to choose the edition for your Macs chip architecture:  Intel (<a href=\"https://en.wikipedia.org/wiki/X86-64\" rel=\"nofollow noreferrer\">x86-64</a>) or Apple Silicon <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#M_series\" rel=\"nofollow noreferrer\">M series</a> (ARM, Aarch64).</p>\n"}],"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679521220,"creation_date":1679500708,"question_id":75814597,"body_markdown":"I saw many websites say JRE is included in the JDK, when I download JDK `macOS Arm 64 Compressed Archive`(not the `dmg` file), and unpacked this file, but I didn&#39;t find the JRE folder. \r\n\r\n\r\nAnd then I found [the oracle seems say](https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350) the JRE is separated from JDK, so that some people who only want the java run time environment can get what exactly they want. And the JVM is in the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/`, but there is empty under my `/Library/Internet Plug-Ins/` folder, I know probably because I didn&#39;t install the `dmg` file for installing JDK. \r\n\r\n---\r\n\r\nBut there must be somewhere that has JVM file, otherwise I won&#39;t be able to run my java code, is this correct? I want to know where is the JVM located on my Mac? \r\n\r\nThe information on my Mac:\r\n```bash\r\nls /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/\r\nLICENSE bin     include legal   man README  conf    jmods   lib     release\r\n\r\nls ~/Downloads/Programs/jdk-17-0-3-1/Home/\r\nLICENSE README  bin     conf    include jmods   legal   lib \r\n\r\njava -version \r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing) \r\n```","title":"Where is the JVM program located on MacOS?","body":"<p>I saw many websites say JRE is included in the JDK, when I download JDK <code>macOS Arm 64 Compressed Archive</code>(not the <code>dmg</code> file), and unpacked this file, but I didn't find the JRE folder.</p>\n<p>And then I found <a href=\"https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"nofollow noreferrer\">the oracle seems say</a> the JRE is separated from JDK, so that some people who only want the java run time environment can get what exactly they want. And the JVM is in the <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/</code>, but there is empty under my <code>/Library/Internet Plug-Ins/</code> folder, I know probably because I didn't install the <code>dmg</code> file for installing JDK.</p>\n<hr />\n<p>But there must be somewhere that has JVM file, otherwise I won't be able to run my java code, is this correct? I want to know where is the JVM located on my Mac?</p>\n<p>The information on my Mac:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/\nLICENSE bin     include legal   man README  conf    jmods   lib     release\n\nls ~/Downloads/Programs/jdk-17-0-3-1/Home/\nLICENSE README  bin     conf    include jmods   legal   lib \n\njava -version \njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing) \n</code></pre>\n"},{"tags":["java","jpa","orm","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679504401,"post_id":75810072,"comment_id":133735268,"body_markdown":"Are you sure your orm.xml file is being picked up? Seems similar but very opposite to the problem in https://bugs.eclipse.org/bugs/show_bug.cgi?id=445466 where the schema was used twice, and there should be a unit test in the code to verify this works. Is this problem only with DDL generation of the table? (ie if you manually create the mySchema.SEQUENCE table and first entry, does the code run?)","body":"Are you sure your orm.xml file is being picked up? Seems similar but very opposite to the problem in <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=445466\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=445466</a> where the schema was used twice, and there should be a unit test in the code to verify this works. Is this problem only with DDL generation of the table? (ie if you manually create the mySchema.SEQUENCE table and first entry, does the code run?)"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679505318,"post_id":75810072,"comment_id":133735500,"body_markdown":"Why would the ddl contain _mySchema_.tableA etc. if it did not pick up on the orm-file? And yes, I do get a warning at startup that the SEQUENCE table is missing. As a workaround, I have a piece of code that explicitly creates the sequence table via EntityManager#createNativeQuery (if missing). After doing that, I can work with entities as expected.","body":"Why would the ddl contain <i>mySchema</i>.tableA etc. if it did not pick up on the orm-file? And yes, I do get a warning at startup that the SEQUENCE table is missing. As a workaround, I have a piece of code that explicitly creates the sequence table via EntityManager#createNativeQuery (if missing). After doing that, I can work with entities as expected."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1679510571,"post_id":75810072,"comment_id":133736802,"body_markdown":"I&#39;m not clear on your workaround or your answer- are you saying that the issue IS only with DDL? Are you creating the &#39;mySchema.SEQUENCE&#39; table and the app is working after?","body":"I&#39;m not clear on your workaround or your answer- are you saying that the issue IS only with DDL? Are you creating the &#39;mySchema.SEQUENCE&#39; table and the app is working after?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679511403,"post_id":75810072,"comment_id":133736971,"body_markdown":"As for why it would pick up &#39;mySchema&#39; on your tables - there are many ways to set the schema in EclipseLink outside of the orm.xml. For all I know, you could have customizer set that runs across all descriptors (entities) and sets the schema to &#39;mySchema&#39;, and just have missed the sequence table (which doesn&#39;t have a descriptor). Or a separate ORM file somewhere that IS picked up that defines each entity and sets their schema. File a bug if you can reproduce this simply and go through paid support if you want instead (Oracle and IBM both support this I believe)","body":"As for why it would pick up &#39;mySchema&#39; on your tables - there are many ways to set the schema in EclipseLink outside of the orm.xml. For all I know, you could have customizer set that runs across all descriptors (entities) and sets the schema to &#39;mySchema&#39;, and just have missed the sequence table (which doesn&#39;t have a descriptor). Or a separate ORM file somewhere that IS picked up that defines each entity and sets their schema. File a bug if you can reproduce this simply and go through paid support if you want instead (Oracle and IBM both support this I believe)"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679521435,"post_id":75810072,"comment_id":133739147,"body_markdown":"Thanks for your comments! I&#39;ve edited the current workaround into the question; hopefully this clears things up. As the orm-file and my PersistenceTool class are the only two places (as per IntelliJs full text search) containing &quot;mySchema&quot;, I don&#39;t think eclipselink could have picked that up from anywhere else. Maybe I&#39;ll try to reproduce in an even smaller project to investigate a bit further and/or file a bug-report. But as I&#39;m just playing around in a small spare-time application, its not a super pressing issue.","body":"Thanks for your comments! I&#39;ve edited the current workaround into the question; hopefully this clears things up. As the orm-file and my PersistenceTool class are the only two places (as per IntelliJs full text search) containing &quot;mySchema&quot;, I don&#39;t think eclipselink could have picked that up from anywhere else. Maybe I&#39;ll try to reproduce in an even smaller project to investigate a bit further and/or file a bug-report. But as I&#39;m just playing around in a small spare-time application, its not a super pressing issue."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1679525631,"post_id":75810072,"comment_id":133739901,"body_markdown":"So it is just a DDL issue. You can create the DDL scripts and manually edit them as required, or a more production level security conscious approach might be to create the scripts without the schema and then run them separately as a particular user with table creation privileges with the default schema set to &#39;mySchema&#39;. Running DDL statements as the same runtime user running your application is usually viewed as a security hole, so I usually create a separate persistence unit just to create/run scripts with a different admin level datasource in development environments.","body":"So it is just a DDL issue. You can create the DDL scripts and manually edit them as required, or a more production level security conscious approach might be to create the scripts without the schema and then run them separately as a particular user with table creation privileges with the default schema set to &#39;mySchema&#39;. Running DDL statements as the same runtime user running your application is usually viewed as a security hole, so I usually create a separate persistence unit just to create/run scripts with a different admin level datasource in development environments."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1679526721,"post_id":75810072,"comment_id":133740063,"body_markdown":"Thanks for bringing up these concerns! They sounds very reasonable and I&#39;ll certainly consider them, should that program ever leave the state where the database structure changes (relatively) often and it&#39;s just me using it.","body":"Thanks for bringing up these concerns! They sounds very reasonable and I&#39;ll certainly consider them, should that program ever leave the state where the database structure changes (relatively) often and it&#39;s just me using it."}],"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679520995,"creation_date":1679475028,"question_id":75810072,"body_markdown":"I&#39;m playing around with JPA, specifically eclipselink 4.0.1, and want to use a specific schema in a postgres database. To do so, I&#39;ve added an orm.xml file with\r\n```\r\n   &lt;persistence-unit-metadata&gt;\r\n        &lt;persistence-unit-defaults&gt;\r\n            &lt;schema&gt;mySchema&lt;/schema&gt;\r\n        &lt;/persistence-unit-defaults&gt;\r\n    &lt;/persistence-unit-metadata&gt;\r\n```\r\nwhich does seem to work for all &quot;normal&quot; tables, but not for the SEQUENCE. When I use ``eclipselink.ddl-generation.output-mode`` to look at the generated ddl file, it comes out as something like this:\r\n```\r\n  CREATE TABLE mySchema.tableA...\r\n  CREATE TABLE mySchema.tableB...\r\n  ALTER TABLE mySchema.tableA...\r\n  ALTER TABLE mySchema.tableB...\r\n  ...\r\n  CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))\r\n  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values (&#39;SEQ_GEN&#39;, 0)\r\n```\r\nThe SEQUENCE table does not have the mySchema specification for some reason. Am I missing a small piece of configuration somewhere? Any place else I could look or additional information I should provide?\r\n\r\n**Workaround**\r\n\r\nEverything works if I create the SEQUENCE table &quot;manually&quot;. To do so, I&#39;ve added the createSequenceTableIfNotExists-method below as a workaround for now:\r\n```\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\n\r\npublic enum PersistenceTool {\r\n    DEFAULT;\r\n    private final EntityManagerFactory entityManagerFactory;\r\n\r\n    PersistenceTool() {\r\n        entityManagerFactory = Persistence.createEntityManagerFactory(name().toLowerCase());\r\n        createSequenceTableIfNotExists(&quot;mySchema&quot;);\r\n        Runtime.getRuntime().addShutdownHook(new Thread(entityManagerFactory::close));\r\n    }\r\n\r\n//  ...\r\n\r\n    EntityManager getNewEntityManager() {\r\n        return entityManagerFactory.createEntityManager();\r\n    }\r\n\r\n    private void createSequenceTableIfNotExists(String schema) {\r\n        final var entityManager = getNewEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.createNativeQuery(\r\n                &quot;CREATE TABLE IF NOT EXISTS &quot; + schema + &quot;.SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME));&quot; +\r\n                 &quot;INSERT INTO &quot; + schema + &quot;.SEQUENCE(SEQ_NAME, SEQ_COUNT) values (&#39;SEQ_GEN&#39;, 0) ON CONFLICT DO NOTHING;&quot;)\r\n            .executeUpdate();\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n    }\r\n}\r\n\r\n```\r\nNote that creating the EntityManagerFactory does produce a warning that no SEQUENCE table exists yet, but that does not cause any lasting problems.","title":"eclipselink does not apply persistence-unit-defaults to sequence","body":"<p>I'm playing around with JPA, specifically eclipselink 4.0.1, and want to use a specific schema in a postgres database. To do so, I've added an orm.xml file with</p>\n<pre><code>   &lt;persistence-unit-metadata&gt;\n        &lt;persistence-unit-defaults&gt;\n            &lt;schema&gt;mySchema&lt;/schema&gt;\n        &lt;/persistence-unit-defaults&gt;\n    &lt;/persistence-unit-metadata&gt;\n</code></pre>\n<p>which does seem to work for all &quot;normal&quot; tables, but not for the SEQUENCE. When I use <code>eclipselink.ddl-generation.output-mode</code> to look at the generated ddl file, it comes out as something like this:</p>\n<pre><code>  CREATE TABLE mySchema.tableA...\n  CREATE TABLE mySchema.tableB...\n  ALTER TABLE mySchema.tableA...\n  ALTER TABLE mySchema.tableB...\n  ...\n  CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))\n  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)\n</code></pre>\n<p>The SEQUENCE table does not have the mySchema specification for some reason. Am I missing a small piece of configuration somewhere? Any place else I could look or additional information I should provide?</p>\n<p><strong>Workaround</strong></p>\n<p>Everything works if I create the SEQUENCE table &quot;manually&quot;. To do so, I've added the createSequenceTableIfNotExists-method below as a workaround for now:</p>\n<pre><code>import jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\n\npublic enum PersistenceTool {\n    DEFAULT;\n    private final EntityManagerFactory entityManagerFactory;\n\n    PersistenceTool() {\n        entityManagerFactory = Persistence.createEntityManagerFactory(name().toLowerCase());\n        createSequenceTableIfNotExists(&quot;mySchema&quot;);\n        Runtime.getRuntime().addShutdownHook(new Thread(entityManagerFactory::close));\n    }\n\n//  ...\n\n    EntityManager getNewEntityManager() {\n        return entityManagerFactory.createEntityManager();\n    }\n\n    private void createSequenceTableIfNotExists(String schema) {\n        final var entityManager = getNewEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.createNativeQuery(\n                &quot;CREATE TABLE IF NOT EXISTS &quot; + schema + &quot;.SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME));&quot; +\n                 &quot;INSERT INTO &quot; + schema + &quot;.SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0) ON CONFLICT DO NOTHING;&quot;)\n            .executeUpdate();\n        entityManager.getTransaction().commit();\n        entityManager.close();\n    }\n}\n\n</code></pre>\n<p>Note that creating the EntityManagerFactory does produce a warning that no SEQUENCE table exists yet, but that does not cause any lasting problems.</p>\n"},{"tags":["java","spring","jdbc","h2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678274701,"post_id":75672375,"comment_id":133499862,"body_markdown":"You&#39;re using `PreparedStatement` with parameters I hope? Since you&#39;ve posted no code, we can only guess, which wastes time","body":"You&#39;re using <code>PreparedStatement</code> with parameters I hope? Since you&#39;ve posted no code, we can only guess, which wastes time"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1678275290,"post_id":75672375,"comment_id":133500013,"body_markdown":"Something is wrong in the question - all the strings you gave have the backslash at the *beginning*, not the *end* of the string. Is that on purpose? Also, how do you know the string is put there literally? Did you check the length? Sometimes text is printed escaped. Also, please show code.","body":"Something is wrong in the question - all the strings you gave have the backslash at the <i>beginning</i>, not the <i>end</i> of the string. Is that on purpose? Also, how do you know the string is put there literally? Did you check the length? Sometimes text is printed escaped. Also, please show code."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678275487,"post_id":75672375,"comment_id":133500066,"body_markdown":"What&#39;s the point of code? It&#39;s just a bunch of inserts in the data.sql file, as stated. Think `INSERT INTO TABLE(column) VALUES (&#39;\\1\\&#39;)`? *All the strings I gave have the backslash at the beginning* is incorrect.","body":"What&#39;s the point of code? It&#39;s just a bunch of inserts in the data.sql file, as stated. Think <code>INSERT INTO TABLE(column) VALUES (&#39;\\1\\&#39;)</code>? <i>All the strings I gave have the backslash at the beginning</i> is incorrect."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1678276510,"post_id":75672375,"comment_id":133500323,"body_markdown":"I don&#39;t think your understanding is correct. H2 doesn&#39;t support escaping with backslashes, at least not out of the box. How can this be reproduced? Your query executes just fine for me on H2 2.1.214","body":"I don&#39;t think your understanding is correct. H2 doesn&#39;t support escaping with backslashes, at least not out of the box. How can this be reproduced? Your query executes just fine for me on H2 2.1.214"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678277163,"post_id":75672375,"comment_id":133500477,"body_markdown":"*What&#39;s the point of code?* Well, by posting just that, you&#39;ve already answered the question I asked about whether you&#39;re properly using `PreparedStatement` parameters. And the answer is: no","body":"<i>What&#39;s the point of code?</i> Well, by posting just that, you&#39;ve already answered the question I asked about whether you&#39;re properly using <code>PreparedStatement</code> parameters. And the answer is: no"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678283947,"post_id":75672375,"comment_id":133502484,"body_markdown":"@LukasEder thanks, that helped. I made a minimal example after some debugging, the cause of this issue was harder to find in my case because my init script is large. Since it has confidential info, I couldn&#39;t just go an share it in its entirety.","body":"@LukasEder thanks, that helped. I made a minimal example after some debugging, the cause of this issue was harder to find in my case because my init script is large. Since it has confidential info, I couldn&#39;t just go an share it in its entirety."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678284134,"post_id":75672375,"comment_id":133502551,"body_markdown":"`ps.setString(1, &quot;test;test&quot;);ps.executeUpdate();`","body":"<code>ps.setString(1, &quot;test;test&quot;);ps.executeUpdate();</code>"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678284316,"post_id":75672375,"comment_id":133502613,"body_markdown":"@g00se ok but like I said, I use Spring and just specify the `data.sql`, it&#39;s not me preparing the statements since it&#39;s done by Spring behind the scenes. Would be nice to know the cause...","body":"@g00se ok but like I said, I use Spring and just specify the <code>data.sql</code>, it&#39;s not me preparing the statements since it&#39;s done by Spring behind the scenes. Would be nice to know the cause..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678285039,"post_id":75672375,"comment_id":133502876,"body_markdown":"Ah right. Driver bug?","body":"Ah right. Driver bug?"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678285166,"post_id":75672375,"comment_id":133502919,"body_markdown":"@g00se guess so, I tested on the most recent version as well, same thing at my end.","body":"@g00se guess so, I tested on the most recent version as well, same thing at my end."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678285483,"post_id":75672375,"comment_id":133503021,"body_markdown":"backslash is the escape character. if you want a literal backslash in your database, you have to escape the backslash itself, e.g. `&#39; ...something \\\\&#39;`. If not escaped, it will escape the apostrophe and the string never ends (it ends eventually, the next time it encounters an apostrophe, i.e. the next opening apostrophe)","body":"backslash is the escape character. if you want a literal backslash in your database, you have to escape the backslash itself, e.g. <code>&#39; ...something \\\\&#39;</code>. If not escaped, it will escape the apostrophe and the string never ends (it ends eventually, the next time it encounters an apostrophe, i.e. the next opening apostrophe)"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678285852,"post_id":75672375,"comment_id":133503143,"body_markdown":"@knittl it&#39;s not an escape character in H2 strings apparently (as Lukas said). It escapes nowhere, but it interacts with that single quote in a weird way (check my minimal example). Using a double backslash just adds a double backslash to my database, I double-checked this whilst debugging.","body":"@knittl it&#39;s not an escape character in H2 strings apparently (as Lukas said). It escapes nowhere, but it interacts with that single quote in a weird way (check my minimal example). Using a double backslash just adds a double backslash to my database, I double-checked this whilst debugging."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678285864,"post_id":75672375,"comment_id":133503150,"body_markdown":"I was wondering about that escape character myself but wasn&#39;t certain","body":"I was wondering about that escape character myself but wasn&#39;t certain"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678286077,"post_id":75672375,"comment_id":133503223,"body_markdown":"@Bruno so doubling the backslash works, but inserts two backslashes into the database? Are you sure those are 2 _literal_ backslashes? It could be your IDE rendering two backslashes (an escape character + the backslash), so that you can copy the string. If you do `System.out.println(theStringFromTheDb)`, does it print two backslashes?","body":"@Bruno so doubling the backslash works, but inserts two backslashes into the database? Are you sure those are 2 <i>literal</i> backslashes? It could be your IDE rendering two backslashes (an escape character + the backslash), so that you can copy the string. If you do <code>System.out.println(theStringFromTheDb)</code>, does it print two backslashes?"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678286406,"post_id":75672375,"comment_id":133503330,"body_markdown":"@knittl Yes I&#39;m absolutely sure because I added &#39;\\1\\3\\\\&#39; and it printed out exactly this, and now that I fixed it by reordering my inserts (not my favourite kind of fix) it prints &#39;\\1\\3\\&#39; so it prints every backslash. If you look at the minimal example, just reordering the inserts fixes it but it makes no sense. It&#39;s as if that backslash before the quote suddenly makes the parser think it needs to treat semicolons inside strings as delimiters.","body":"@knittl Yes I&#39;m absolutely sure because I added &#39;\\1\\3\\\\&#39; and it printed out exactly this, and now that I fixed it by reordering my inserts (not my favourite kind of fix) it prints &#39;\\1\\3\\&#39; so it prints every backslash. If you look at the minimal example, just reordering the inserts fixes it but it makes no sense. It&#39;s as if that backslash before the quote suddenly makes the parser think it needs to treat semicolons inside strings as delimiters."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678286734,"post_id":75672375,"comment_id":133503436,"body_markdown":"@Bruno I still think that the backslash doesn&#39;t make the &quot;semicolon inside the other string a terminator&quot;; it simply escapes the single quote (perhaps not an H2 thing, but parsing the sql file?). This means that the &quot;semicolon inside the string&quot; is actually a &quot;semicolon _outside_ of a string&quot;. `test` is a reserved word that could have special meaning  confusing the parser  have you tried with other words inside the second string, e.g. `foobar`? Also, since you linked the h2 docs, why not use unicode escapes to fix your immediate problem? `U&amp;&#39;\\005C1\\005C3\\005C&#39;`  would that work?","body":"@Bruno I still think that the backslash doesn&#39;t make the &quot;semicolon inside the other string a terminator&quot;; it simply escapes the single quote (perhaps not an H2 thing, but parsing the sql file?). This means that the &quot;semicolon inside the string&quot; is actually a &quot;semicolon <i>outside</i> of a string&quot;. <code>test</code> is a reserved word that could have special meaning  confusing the parser  have you tried with other words inside the second string, e.g. <code>foobar</code>? Also, since you linked the h2 docs, why not use unicode escapes to fix your immediate problem? <code>U&amp;&#39;\\005C1\\005C3\\005C&#39;</code>  would that work?"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1678287117,"post_id":75672375,"comment_id":133503551,"body_markdown":"Unicode character string literals are only supported since H2 2.0.202, entirely outdated H2 1.4.200 doesn&#39;t have them. Anyway, `\\\\` is not an escape character in regular character string literals in H2 itself.","body":"Unicode character string literals are only supported since H2 2.0.202, entirely outdated H2 1.4.200 doesn&#39;t have them. Anyway, `\\` is not an escape character in regular character string literals in H2 itself."},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678290188,"post_id":75672375,"comment_id":133504609,"body_markdown":"@knittl based on your *&#39;perhaps not an H2 thing ...&#39;*, I found it&#39;s caused by Spring&#39;s `ScriptUtils` class in its [`splitSQLScript`](https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650) method. Not sure I get why they use a backslash as escape character there yet still add it as-is to the string builder. Anyways, unicode would be one fix.","body":"@knittl based on your <i>&#39;perhaps not an H2 thing ...&#39;</i>, I found it&#39;s caused by Spring&#39;s <code>ScriptUtils</code> class in its <a href=\"https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\" rel=\"nofollow noreferrer\"><code>splitSQLScript</code></a> method. Not sure I get why they use a backslash as escape character there yet still add it as-is to the string builder. Anyways, unicode would be one fix."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1678373466,"post_id":75681328,"comment_id":133523071,"body_markdown":"Can you create a bug report for the Spring project?","body":"Can you create a bug report for the Spring project?"},{"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"score":0,"creation_date":1678381614,"post_id":75681328,"comment_id":133525748,"body_markdown":"I added an issue to their repo, thanks for the reminder.","body":"I added an issue to their repo, thanks for the reminder."}],"tags":[],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679520845,"creation_date":1678344963,"answer_id":75681328,"question_id":75672375,"body_markdown":"The issue was caused by Spring&#39;s ScriptUtils class in its [splitSQLScript][1] method. It&#39;s a method that splits the `data.sql` script into queries with the semicolon as the default delimiter. Whilst scanning the script, it keeps track of whether or not it&#39;s within a statement surrounded by single or double quotes. When it encounters a backslash, it enters a sort of escape modus. The character after this backslash as well as the backslash itself are left as-is, but if the character after the backslash is a single or double quote it&#39;s effectively treated as if that quote were to be escaped.\r\n\r\nOne way to circumvent this is to use unicode : \r\n\r\n    U&amp;&#39;\\1|005c&#39; UESCAPE &#39;|&#39;\r\n   \r\nI wasn&#39;t able to make this work with just `U&amp;&#39;\\1\\005c&#39;`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\r\n\r\nThe related Spring issue report can be found at &lt;https://github.com/spring-projects/spring-framework/issues/30098&gt;.","title":"Spring Boot data.sql initialization of H2 database has issue with backslash followed by single quote","body":"<p>The issue was caused by Spring's ScriptUtils class in its <a href=\"https://github.com/spring-projects/spring-framework/blob/114d6a925639d9c1194c8a7562381001633a3820/spring-jdbc/src/main/java/org/springframework/jdbc/datasource/init/ScriptUtils.java#L650\" rel=\"nofollow noreferrer\">splitSQLScript</a> method. It's a method that splits the <code>data.sql</code> script into queries with the semicolon as the default delimiter. Whilst scanning the script, it keeps track of whether or not it's within a statement surrounded by single or double quotes. When it encounters a backslash, it enters a sort of escape modus. The character after this backslash as well as the backslash itself are left as-is, but if the character after the backslash is a single or double quote it's effectively treated as if that quote were to be escaped.</p>\n<p>One way to circumvent this is to use unicode :</p>\n<pre><code>U&amp;'\\1|005c' UESCAPE '|'\n</code></pre>\n<p>I wasn't able to make this work with just <code>U&amp;'\\1\\005c'</code>.</p>\n<p>The related Spring issue report can be found at <a href=\"https://github.com/spring-projects/spring-framework/issues/30098\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30098</a>.</p>\n"}],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75681328,"answer_count":1,"score":-1,"last_activity_date":1679520845,"creation_date":1678274562,"question_id":75672375,"body_markdown":"In some Spring Boot app I initialize my in-memory H2 DB with some inserts (in the `data.sql` file). One of the tables in the DB is filled with rows where each row has a string column, and every string in this column ends with a backslash e.g. `&#39;\\1\\&#39;`. \r\n\r\nThe backslashes are not treated as an escape character hence inserting `&#39;\\1&#39;` inserts this string literally (no need for double backslashes). However, the backslash before the single quote seems to escape that single quote, as inserting `&#39;\\1\\&#39;` causes a syntax-related exception. If I insert `&#39;\\1\\\\&#39;` then that string is put in the DB literally (with the two backslashes at the end).\r\n\r\n[In the H2 docs relating to the string data type][1] I can&#39;t find any information on this. I tried prefixing my strings with `U&amp;` to use unicode chars but this throws an error as well. The only fix I found so far is to add a space after the last backslash and do an update after insertion (using the `TRIM` function) to remove said spaces.\r\n\r\nIs this behaviour explained anywhere, or is there a better way to circumvent the issue?\r\n\r\n----------\r\n\r\n**Minimal example :** \r\n\r\nSetup : Spring Boot test suite with `schema.sql` and `data.sql` given below : \r\n\r\n`schema.sql`\r\n\r\n    CREATE SCHEMA IF NOT EXISTS TEST;\r\n    \r\n    CREATE TABLE TEST.ONE (\r\n        IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\r\n        NAME VARCHAR(500)\r\n    );\r\n    \r\n    CREATE TABLE TEST.TWO (\r\n        IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\r\n        NAME VARCHAR(500)\r\n    );\r\n\r\n\r\n`data.sql`\r\n\r\n    INSERT INTO TEST.ONE(IDENTIFIER,NAME) VALUES\r\n        (1,&#39;\\1\\3\\&#39;);\r\n    \r\n    INSERT INTO TEST.TWO(IDENTIFIER,NAME) VALUES\r\n        (1,&#39;test;test&#39;);\r\n\r\nI have the following in my `application.properties` :\r\n\r\n    server.port=8083\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.datasource.data=classpath:data-test.sql\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-source=script\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-script-source=drop-tables.sql\r\n    spring.jpa.properties.hibernate.default_schema=TEST\r\n    spring.cache.jcache.config=classpath:ehcache.xml\r\n    spring.h2.console.enabled=true\r\n    spring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication${random.int(1000000)}\r\n\r\n - Expected behaviour : script runs fine \r\n - Actual behaviour : script fails\r\n   to run, because the semicolon in the second inserted tuple is\r\n   interpreted as the end of the insert statement. If you add a space\r\n   after the backslash in the first inserted tuple, the script does run.\r\n   If you reverse the order of the inserts, it also runs.\r\n\r\nH2 driver version 1.4.200\r\n\r\n  [1]: https://www.h2database.com/html/grammar.html?highlight=escape&amp;search=escape#string","title":"Spring Boot data.sql initialization of H2 database has issue with backslash followed by single quote","body":"<p>In some Spring Boot app I initialize my in-memory H2 DB with some inserts (in the <code>data.sql</code> file). One of the tables in the DB is filled with rows where each row has a string column, and every string in this column ends with a backslash e.g. <code>'\\1\\'</code>.</p>\n<p>The backslashes are not treated as an escape character hence inserting <code>'\\1'</code> inserts this string literally (no need for double backslashes). However, the backslash before the single quote seems to escape that single quote, as inserting <code>'\\1\\'</code> causes a syntax-related exception. If I insert <code>'\\1\\\\'</code> then that string is put in the DB literally (with the two backslashes at the end).</p>\n<p><a href=\"https://www.h2database.com/html/grammar.html?highlight=escape&amp;search=escape#string\" rel=\"nofollow noreferrer\">In the H2 docs relating to the string data type</a> I can't find any information on this. I tried prefixing my strings with <code>U&amp;</code> to use unicode chars but this throws an error as well. The only fix I found so far is to add a space after the last backslash and do an update after insertion (using the <code>TRIM</code> function) to remove said spaces.</p>\n<p>Is this behaviour explained anywhere, or is there a better way to circumvent the issue?</p>\n<hr />\n<p><strong>Minimal example :</strong></p>\n<p>Setup : Spring Boot test suite with <code>schema.sql</code> and <code>data.sql</code> given below :</p>\n<p><code>schema.sql</code></p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS TEST;\n\nCREATE TABLE TEST.ONE (\n    IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\n    NAME VARCHAR(500)\n);\n\nCREATE TABLE TEST.TWO (\n    IDENTIFIER BIGINT AUTO_INCREMENT PRIMARY KEY,\n    NAME VARCHAR(500)\n);\n</code></pre>\n<p><code>data.sql</code></p>\n<pre><code>INSERT INTO TEST.ONE(IDENTIFIER,NAME) VALUES\n    (1,'\\1\\3\\');\n\nINSERT INTO TEST.TWO(IDENTIFIER,NAME) VALUES\n    (1,'test;test');\n</code></pre>\n<p>I have the following in my <code>application.properties</code> :</p>\n<pre><code>server.port=8083\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.data=classpath:data-test.sql\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.properties.javax.persistence.schema-generation.drop-source=script\nspring.jpa.properties.javax.persistence.schema-generation.drop-script-source=drop-tables.sql\nspring.jpa.properties.hibernate.default_schema=TEST\nspring.cache.jcache.config=classpath:ehcache.xml\nspring.h2.console.enabled=true\nspring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication${random.int(1000000)}\n</code></pre>\n<ul>\n<li>Expected behaviour : script runs fine</li>\n<li>Actual behaviour : script fails\nto run, because the semicolon in the second inserted tuple is\ninterpreted as the end of the insert statement. If you add a space\nafter the backslash in the first inserted tuple, the script does run.\nIf you reverse the order of the inserts, it also runs.</li>\n</ul>\n<p>H2 driver version 1.4.200</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1679509581,"post_id":75815970,"comment_id":133736600,"body_markdown":"JAVA_OPTS must be passed to your ENTRY_POINT or CMD as part of the java command in order to work properly, but it causes other sort of issues. see https://stackoverflow.com/questions/53785577/passing-java-opts-to-spring-boot-application-through-docker-compose for more details.","body":"JAVA_OPTS must be passed to your ENTRY_POINT or CMD as part of the java command in order to work properly, but it causes other sort of issues. see <a href=\"https://stackoverflow.com/questions/53785577/passing-java-opts-to-spring-boot-application-through-docker-compose\" title=\"passing java opts to spring boot application through docker compose\">stackoverflow.com/questions/53785577/&hellip;</a> for more details."}],"answers":[{"tags":[],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679520736,"creation_date":1679520243,"answer_id":75817362,"question_id":75815970,"body_markdown":"Ok. Finally, here is our real hero &#39;JDK_JAVA_OPTIONS&#39;.\r\n\r\n\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - &quot;JDK_JAVA_OPTIONS=--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n\r\nMy docker-compose is happy :) \r\n\r\n\r\n&gt;  | NOTE: Picked up JDK_JAVA_OPTIONS: --add-opens\r\n&gt; java.base/java.lang=ALL-UNNAMED\r\n&gt; \r\n\r\n&gt; JDK_JAVA_OPTIONS is only picked up by the java launcher, so use it for\r\n&gt; options that you only want to apply (or only make sense for) the java\r\n&gt; startup command. This variable is also new on JDK 9+, and will be\r\n&gt; ignored by earlier JDK versions. Hence, it&#39;s useful when migrating\r\n&gt; from older versions to 9+.\r\n&gt; \r\n&gt; JAVA_TOOL_OPTIONS is picked up also by other java tools like jar and\r\n&gt; javac so it should be used for flags that you want to apply (and are\r\n&gt; valid) to all those java tools.\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/52986487/what-is-the-difference-between-jdk-java-options-and-java-tool-options-when-using\r\n\r\n\r\nJAVA_OPTS is **NOT AT ALL** an option.\r\nref: https://stackoverflow.com/questions/2011311/running-java-with-java-opts-env-variable-has-no-effect ","title":"Setting Java env variables in docker-compose","body":"<p>Ok. Finally, here is our real hero 'JDK_JAVA_OPTIONS'.</p>\n<pre><code>environment:\n  - SPRING_PROFILES_ACTIVE=local\n  - &quot;JDK_JAVA_OPTIONS=--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n</code></pre>\n<p>My docker-compose is happy :)</p>\n<blockquote>\n<p>| NOTE: Picked up JDK_JAVA_OPTIONS: --add-opens\njava.base/java.lang=ALL-UNNAMED</p>\n</blockquote>\n<blockquote>\n<p>JDK_JAVA_OPTIONS is only picked up by the java launcher, so use it for\noptions that you only want to apply (or only make sense for) the java\nstartup command. This variable is also new on JDK 9+, and will be\nignored by earlier JDK versions. Hence, it's useful when migrating\nfrom older versions to 9+.</p>\n<p>JAVA_TOOL_OPTIONS is picked up also by other java tools like jar and\njavac so it should be used for flags that you want to apply (and are\nvalid) to all those java tools.</p>\n<p><a href=\"https://stackoverflow.com/questions/52986487/what-is-the-difference-between-jdk-java-options-and-java-tool-options-when-using\">What is the difference between JDK_JAVA_OPTIONS and JAVA_TOOL_OPTIONS when using Java 11?</a></p>\n</blockquote>\n<p>JAVA_OPTS is <strong>NOT AT ALL</strong> an option.\nref: <a href=\"https://stackoverflow.com/questions/2011311/running-java-with-java-opts-env-variable-has-no-effect\">Running java with JAVA_OPTS env variable has no effect</a></p>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75817362,"answer_count":1,"score":1,"last_activity_date":1679520736,"creation_date":1679509275,"question_id":75815970,"body_markdown":"I want to pass couple of variables to my springboot application as environment variables.\r\n\r\n```\r\n-Dspring.profiles.active=dev         --&gt; spring profile\r\n--add-opens java.base/java.lang=ALL-UNNAMED      --&gt; needed for java 17\r\n```\r\n\r\nI managed to supply the first one using \r\n\r\n```\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n```\r\n\r\nBut tried different options for second. none worked.\r\n\r\n```\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=local\r\n      - &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n    environment: JAVA_OPTS &gt;\r\n      SPRING_PROFILES_ACTIVE=local\r\n      --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment: JAVA_OPTS=-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n    environment: JAVA_OPTS=&quot;-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n\r\n```\r\n\r\nAny help is highly appreciated","title":"Setting Java env variables in docker-compose","body":"<p>I want to pass couple of variables to my springboot application as environment variables.</p>\n<pre><code>-Dspring.profiles.active=dev         --&gt; spring profile\n--add-opens java.base/java.lang=ALL-UNNAMED      --&gt; needed for java 17\n</code></pre>\n<p>I managed to supply the first one using</p>\n<pre><code>    environment:\n      - SPRING_PROFILES_ACTIVE=local\n</code></pre>\n<p>But tried different options for second. none worked.</p>\n<pre><code>    environment:\n      - SPRING_PROFILES_ACTIVE=local\n      - --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment:\n      - SPRING_PROFILES_ACTIVE=local\n      - &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n\n    environment: JAVA_OPTS &gt;\n      SPRING_PROFILES_ACTIVE=local\n      --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment: JAVA_OPTS=-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED\n\n    environment: JAVA_OPTS=&quot;-Dspring.profiles.active=dev=local --add-opens java.base/java.lang=ALL-UNNAMED&quot;\n\n</code></pre>\n<p>Any help is highly appreciated</p>\n"},{"tags":["java","sql","hibernate","hql","helidon"],"comments":[{"owner":{"account_id":5612716,"reputation":14778,"user_id":4444980,"display_name":"Ponder Stibbons"},"score":0,"creation_date":1679522203,"post_id":75817408,"comment_id":133739288,"body_markdown":"ORA-00933 suggest that`LIMIT 1` [is suspicious](https://dbfiddle.uk/FNt8WF4J).","body":"ORA-00933 suggest that<code>LIMIT 1</code> <a href=\"https://dbfiddle.uk/FNt8WF4J\" rel=\"nofollow noreferrer\">is suspicious</a>."},{"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"score":0,"creation_date":1679524245,"post_id":75817408,"comment_id":133739688,"body_markdown":"Is the issue with my query string in line 24 or some other sql-dialect configuration? Also where is the &#39;limit&#39; clause coming from?","body":"Is the issue with my query string in line 24 or some other sql-dialect configuration? Also where is the &#39;limit&#39; clause coming from?"},{"owner":{"account_id":5612716,"reputation":14778,"user_id":4444980,"display_name":"Ponder Stibbons"},"score":0,"creation_date":1679524998,"post_id":75817408,"comment_id":133739814,"body_markdown":"Error log shows query: `SELECT e FROM EMPLOYEE e limit :1`. This query won&#39;t work in Oracle, because it has not `LIMIT` clause, as you can see in my fiddle. I don&#39;t know Hibernate, so I have not idea where it comes from.","body":"Error log shows query: <code>SELECT e FROM EMPLOYEE e limit :1</code>. This query won&#39;t work in Oracle, because it has not <code>LIMIT</code> clause, as you can see in my fiddle. I don&#39;t know Hibernate, so I have not idea where it comes from."},{"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"score":2,"creation_date":1679525294,"post_id":75817408,"comment_id":133739849,"body_markdown":"Issue resolved, I changed my hibernate language dialect to org.hibernate.dialect.Oracle10gDialect","body":"Issue resolved, I changed my hibernate language dialect to org.hibernate.dialect.Oracle10gDialect"}],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679520670,"creation_date":1679520670,"question_id":75817408,"body_markdown":"I am trying to connect to Oracle database in Helidon MP 2.5 and execute a basic findAll() query for finding all entities. I am using Hibernate as the JPA provider. I have a generic abstract CRUD repository that contains the findAll() method:\r\n\r\n```\r\n1. public abstract class CrudRepository&lt;T, ID&gt; implements CrudInterface&lt;T, ID&gt; {\r\n2. \r\n3.     protected final Class&lt;T&gt; persistentClass;\r\n4.     private final SessionFactory sessionFactory;\r\n5.     private static final Logger log = Logger.getLogger(CrudRepository.class.getName());\r\n6. \r\n7.     protected CrudRepository(Class&lt;T&gt; persistenceClass, HelidonPersistenceUnitInfo hpuInfo) {\r\n8.         this.persistentClass = persistenceClass;\r\n9.         this.sessionFactory = new org.hibernate.cfg.Configuration()\r\n10.                 .addProperties(hpuInfo.getProperties())\r\n11.                 .addAnnotatedClass(persistenceClass)\r\n12.                 .buildSessionFactory();\r\n13.     }\r\n14. \r\n15.     public Page&lt;T&gt; findAll(Pageable pageableObj) {\r\n16.         List&lt;T&gt; list;\r\n17.         int page = pageableObj.getPageNum();\r\n18.         int size = pageableObj.getMaxRows();\r\n19. \r\n20.         if(page &lt; 0 || size &lt; 0) {\r\n21.             throw new IllegalArgumentException(&quot;Invalid values for page and size&quot;);\r\n22.         }\r\n23. \r\n24.         StringBuilder queryStr = new StringBuilder(&quot;SELECT e FROM &quot; + persistentClass.getSimpleName() + &quot; e&quot;);\r\n25. \r\n26.         log.info(&quot;SQL QUERY IS: &quot; + queryStr.toString());\r\n27. \r\n28.         try (Session session = sessionFactory.openSession()) {\r\n29.             Query&lt;T&gt; query = session.createQuery(queryStr.toString(), persistentClass);\r\n30.             query.setFirstResult(page * size);\r\n31.             query.setMaxResults(size);\r\n32.             list = query.getResultList();\r\n33.             return new Page&lt;T&gt;(list, pageableObj);\r\n34.         } catch (Exception e) {\r\n35.             throw new RuntimeException(&quot;Failed to find entities&quot;, e);\r\n36.         }\r\n37. \r\n38.     }\r\n39.   \r\n40.   }\r\n\r\n```\r\n\r\nI have a class EmployeeRepository which extends the above CRUD repository. When I execute a test on the findAll() method:\r\n```\r\n1.     @Test\r\n2.     void getEmployees() throws Exception {\r\n3.         EmployeeRepository empRepo = new EmployeeRepository();\r\n4.         Page&lt;Employee&gt; p = empRepo.findAll(new Pageable(0, 20));\r\n5.         assertEquals(p.getEntities().size(), 20);\r\n6.     }\r\n\r\n```\r\n\r\nI get the error:\r\n\r\n```\r\njava.lang.RuntimeException: Failed to find entities\r\n\r\n\tat oal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:122)\r\n\tat oal.oracle.apps.ic.helidonmstemplate.application.Employee.EmployeeControllerTest.getEmployees(EmployeeControllerTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\noal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:119)\r\n\t... 79 more\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2170)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1190)\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\t... 81 more\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\t... 95 more\r\nCaused by: Error : 933, Position : 22, Sql = SELECT e FROM EMPLOYEE e limit :1 , OriginalSql = SELECT e FROM EMPLOYEE e limit ?, Error Msg = ORA-00933: SQL command not properly ended\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513)\r\n\t... 110 more\r\n```\r\n\r\nThe SQL statement I created in line 24 CrudRepository appears to be correct. I tried to diagnose the issue by adding a semicolon after the statement to end it, but that did not fix the issue. I tried using query.createSQLQuery() instead of createQuery() as well. Any idea what might be causing the issue?\r\n","title":"Helidon MP 2.5, Hibernate Session createQuery() error: SQL command not properly ended","body":"<p>I am trying to connect to Oracle database in Helidon MP 2.5 and execute a basic findAll() query for finding all entities. I am using Hibernate as the JPA provider. I have a generic abstract CRUD repository that contains the findAll() method:</p>\n<pre><code>1. public abstract class CrudRepository&lt;T, ID&gt; implements CrudInterface&lt;T, ID&gt; {\n2. \n3.     protected final Class&lt;T&gt; persistentClass;\n4.     private final SessionFactory sessionFactory;\n5.     private static final Logger log = Logger.getLogger(CrudRepository.class.getName());\n6. \n7.     protected CrudRepository(Class&lt;T&gt; persistenceClass, HelidonPersistenceUnitInfo hpuInfo) {\n8.         this.persistentClass = persistenceClass;\n9.         this.sessionFactory = new org.hibernate.cfg.Configuration()\n10.                 .addProperties(hpuInfo.getProperties())\n11.                 .addAnnotatedClass(persistenceClass)\n12.                 .buildSessionFactory();\n13.     }\n14. \n15.     public Page&lt;T&gt; findAll(Pageable pageableObj) {\n16.         List&lt;T&gt; list;\n17.         int page = pageableObj.getPageNum();\n18.         int size = pageableObj.getMaxRows();\n19. \n20.         if(page &lt; 0 || size &lt; 0) {\n21.             throw new IllegalArgumentException(&quot;Invalid values for page and size&quot;);\n22.         }\n23. \n24.         StringBuilder queryStr = new StringBuilder(&quot;SELECT e FROM &quot; + persistentClass.getSimpleName() + &quot; e&quot;);\n25. \n26.         log.info(&quot;SQL QUERY IS: &quot; + queryStr.toString());\n27. \n28.         try (Session session = sessionFactory.openSession()) {\n29.             Query&lt;T&gt; query = session.createQuery(queryStr.toString(), persistentClass);\n30.             query.setFirstResult(page * size);\n31.             query.setMaxResults(size);\n32.             list = query.getResultList();\n33.             return new Page&lt;T&gt;(list, pageableObj);\n34.         } catch (Exception e) {\n35.             throw new RuntimeException(&quot;Failed to find entities&quot;, e);\n36.         }\n37. \n38.     }\n39.   \n40.   }\n\n</code></pre>\n<p>I have a class EmployeeRepository which extends the above CRUD repository. When I execute a test on the findAll() method:</p>\n<pre><code>1.     @Test\n2.     void getEmployees() throws Exception {\n3.         EmployeeRepository empRepo = new EmployeeRepository();\n4.         Page&lt;Employee&gt; p = empRepo.findAll(new Pageable(0, 20));\n5.         assertEquals(p.getEntities().size(), 20);\n6.     }\n\n</code></pre>\n<p>I get the error:</p>\n<pre><code>java.lang.RuntimeException: Failed to find entities\n\n    at oal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:122)\n    at oal.oracle.apps.ic.helidonmstemplate.application.Employee.EmployeeControllerTest.getEmployees(EmployeeControllerTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\noal.oracle.apps.ic.helidonmstemplate.CRUD.CrudRepository.findAll(CrudRepository.java:119)\n    ... 79 more\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2170)\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1190)\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    ... 81 more\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:509)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:461)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1104)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:553)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:269)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:655)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:270)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:91)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:983)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1168)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3666)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1426)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3713)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1167)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 95 more\nCaused by: Error : 933, Position : 22, Sql = SELECT e FROM EMPLOYEE e limit :1 , OriginalSql = SELECT e FROM EMPLOYEE e limit ?, Error Msg = ORA-00933: SQL command not properly ended\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:513)\n    ... 110 more\n</code></pre>\n<p>The SQL statement I created in line 24 CrudRepository appears to be correct. I tried to diagnose the issue by adding a semicolon after the statement to end it, but that did not fix the issue. I tried using query.createSQLQuery() instead of createQuery() as well. Any idea what might be causing the issue?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1508696481,"post_id":46877581,"comment_id":80702202,"body_markdown":"You can make your librar a simple regular JAR as well. I would not try to fit the spring boot mechanics in a library module.","body":"You can make your librar a simple regular JAR as well. I would not try to fit the spring boot mechanics in a library module."},{"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"score":0,"creation_date":1508696619,"post_id":46877581,"comment_id":80702255,"body_markdown":"probably related https://stackoverflow.com/a/32711287/1032167","body":"probably related <a href=\"https://stackoverflow.com/a/32711287/1032167\">stackoverflow.com/a/32711287/1032167</a>"},{"owner":{"account_id":7395855,"reputation":86,"user_id":5627829,"display_name":"Aidan Moriarty"},"score":1,"creation_date":1508697326,"post_id":46877581,"comment_id":80702536,"body_markdown":"Spring boot is all about runnable applications, so even without knowing much more about what your library is meant to do, it does seem that you don&#39;t want spring boot dependencies. It would help to figure out what you library is meant to offer, then figure out what spring (non boot) dependencies you really need.","body":"Spring boot is all about runnable applications, so even without knowing much more about what your library is meant to do, it does seem that you don&#39;t want spring boot dependencies. It would help to figure out what you library is meant to offer, then figure out what spring (non boot) dependencies you really need."},{"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"score":0,"creation_date":1508699996,"post_id":46877581,"comment_id":80703424,"body_markdown":"read spring for library and main module https://spring.io/guides/gs/multi-module/","body":"read spring for library and main module <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/multi-module</a>"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1540291608,"post_id":46877581,"comment_id":92802309,"body_markdown":"@AidanMoriarty thats not complete truth. Spring-boot is also about ways of sharin g code and making plug&amp;play libraries as the starters.","body":"@AidanMoriarty thats not complete truth. Spring-boot is also about ways of sharin g code and making plug&amp;play libraries as the starters."}],"answers":[{"comments":[{"owner":{"account_id":3617971,"reputation":1737,"user_id":3017390,"accept_rate":64,"display_name":"ThinkTank"},"score":0,"creation_date":1551182659,"post_id":46879061,"comment_id":96539156,"body_markdown":"but if same thing i have to do with child jar within a springboot application","body":"but if same thing i have to do with child jar within a springboot application"},{"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"score":0,"creation_date":1551185198,"post_id":46879061,"comment_id":96540655,"body_markdown":"You ll have separate Pom for each child jar , so include this for corresponding child project where you have main class (bootable jar)","body":"You ll have separate Pom for each child jar , so include this for corresponding child project where you have main class (bootable jar)"},{"owner":{"account_id":276162,"reputation":753,"user_id":569439,"accept_rate":86,"display_name":"rineez"},"score":0,"creation_date":1651671775,"post_id":46879061,"comment_id":127418517,"body_markdown":"For those reading this answer, but having `spring-boot-maven-plugin` reference in your `build -&gt; plugins` tag for some good reason, most of the time you may be able to fix it by using `maven-compiler-plugin` in that place.","body":"For those reading this answer, but having <code>spring-boot-maven-plugin</code> reference in your <code>build -&gt; plugins</code> tag for some good reason, most of the time you may be able to fix it by using <code>maven-compiler-plugin</code> in that place."}],"tags":[],"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"comment_count":3,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1566480972,"creation_date":1508705561,"answer_id":46879061,"question_id":46877581,"body_markdown":"I am sure you are using spring-boot-maven-plugin in your pom.xml (as given below), which allows you to package executable jar or war archives and run an application. \r\n\r\nWith this plugin, spring searches for a main application.You don&#39;t need this plugin for a spring library project. Delete this plugin  and clean install .\r\n\r\n```\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\n I assume you are creating some spring configuration files or components in this library project. You may not need big fat spring-boot-starter. But its fine if you need multiple spring modules and you want one place for all dependency.\r\n","title":"spring boot with no main class","body":"<p>I am sure you are using spring-boot-maven-plugin in your pom.xml (as given below), which allows you to package executable jar or war archives and run an application. </p>\n\n<p>With this plugin, spring searches for a main application.You don't need this plugin for a spring library project. Delete this plugin  and clean install .</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>I assume you are creating some spring configuration files or components in this library project. You may not need big fat spring-boot-starter. But its fine if you need multiple spring modules and you want one place for all dependency.</p>\n"},{"tags":[],"owner":{"account_id":15733889,"reputation":11,"user_id":11353490,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664973613,"creation_date":1664973613,"answer_id":73960503,"question_id":46877581,"body_markdown":"The [accepted answer posted by Surya][1] is correct for Maven.\r\nHowever, if someone is using Gradle here&#39;s what should be done in the library&#39;s *build.gradle* file:\r\n\r\n\r\n    plugins {\r\n      id &#39;org.springframework.boot&#39; version &#39;2.7.3&#39; apply false\r\n      id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n      // ... other plugins\r\n    }\r\n    \r\n    dependencyManagement {\r\n      imports {\r\n        mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\r\n      }\r\n    }\r\n**The lines above should resolve the problem.** Essentially, the Spring Boot plugin which produces an executable jar with a main class is no longer applied, but Spring&#39;s dependency management is still usuable.\r\n\r\nIf you are still having issues using the library jar in your main application, make sure that you have added this line to your dependencies in your main application&#39;s *build.gradle* file:\r\n\r\n    implementation project(&#39;:library&#39;)\r\nAlso these lines should be present in your root project&#39;s *settings.gradle* file:\r\n\r\n    include &#39;library&#39;\r\n    include &#39;application&#39;\r\n\r\nI recommend going through this [Spring guide][2] since it explains your exact scenario. It covers both Maven and Gradle. Disabling the Spring Boot&#39;s Gradle plugin while keeping the Spring Boot&#39;s dependency management is also described here in the [documentation][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46879061/11353490\r\n  [2]: https://spring.io/guides/gs/multi-module/\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.dependency-management-plugin.using-in-isolation","title":"spring boot with no main class","body":"<p>The <a href=\"https://stackoverflow.com/a/46879061/11353490\">accepted answer posted by Surya</a> is correct for Maven.\nHowever, if someone is using Gradle here's what should be done in the library's <em>build.gradle</em> file:</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.7.3' apply false\n  id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n  // ... other plugins\n}\n\ndependencyManagement {\n  imports {\n    mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\n  }\n}\n</code></pre>\n<p><strong>The lines above should resolve the problem.</strong> Essentially, the Spring Boot plugin which produces an executable jar with a main class is no longer applied, but Spring's dependency management is still usuable.</p>\n<p>If you are still having issues using the library jar in your main application, make sure that you have added this line to your dependencies in your main application's <em>build.gradle</em> file:</p>\n<pre><code>implementation project(':library')\n</code></pre>\n<p>Also these lines should be present in your root project's <em>settings.gradle</em> file:</p>\n<pre><code>include 'library'\ninclude 'application'\n</code></pre>\n<p>I recommend going through this <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">Spring guide</a> since it explains your exact scenario. It covers both Maven and Gradle. Disabling the Spring Boot's Gradle plugin while keeping the Spring Boot's dependency management is also described here in the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.dependency-management-plugin.using-in-isolation\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679520310,"creation_date":1679493205,"answer_id":75813160,"question_id":46877581,"body_markdown":"It&#39;s maybe a bit late but in our case the spring-boot-maven-plugin (1.5.22.RELEASE) use the configuration: \r\n`&lt;layout&gt;MODULE&lt;/layout&gt;`. Notice we need to exclude unwanted libraries.\r\n\r\nWith this we can create a FAT JAR with multiple applications. At deployment time we specify which main class to use for each running instance.\r\n\r\n      Bundle dependencies (excluding those with provided scope) and project resources.\r\nDocumented here: [Available layouts][1]\r\n\r\nFor the plugin 2.7.9, I&#39;m still looking for a similar solution. I will probably have to try the FactoryLayout...\r\nI finally used the maven-assembly-plugin as described here: [boot-inf directory causing aws lambda to fail][2] \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\r\n  [2]: https://stackoverflow.com/a/58299439/1065953","title":"spring boot with no main class","body":"<p>It's maybe a bit late but in our case the spring-boot-maven-plugin (1.5.22.RELEASE) use the configuration:\n<code>&lt;layout&gt;MODULE&lt;/layout&gt;</code>. Notice we need to exclude unwanted libraries.</p>\n<p>With this we can create a FAT JAR with multiple applications. At deployment time we specify which main class to use for each running instance.</p>\n<pre><code>  Bundle dependencies (excluding those with provided scope) and project resources.\n</code></pre>\n<p>Documented here: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-configuration-layouts\" rel=\"nofollow noreferrer\">Available layouts</a></p>\n<p>For the plugin 2.7.9, I'm still looking for a similar solution. I will probably have to try the FactoryLayout...\nI finally used the maven-assembly-plugin as described here: <a href=\"https://stackoverflow.com/a/58299439/1065953\">boot-inf directory causing aws lambda to fail</a></p>\n"}],"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28682,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":46879061,"answer_count":3,"score":24,"last_activity_date":1679520310,"creation_date":1508696130,"question_id":46877581,"body_markdown":"I am trying use Spring Boot, and create a jar,  and install it into my maven repo. \r\n\r\nThis is a library jar file that will be used as a dependency in my main application,  which is also a Spring-Boot  application.  Right now, I am just working on a hello world example.  here is my one class in this project:\r\n\r\n    public class MyLibrary {\r\n\r\n      public String getMessage() {\r\n    \treturn &quot;Hello World!&quot;;\r\n      }\r\n    }\r\n\r\nand my POM basically looks like this:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;groupId&gt;com.me.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myLibrary&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   \t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt; \r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nBut when I try to build,  I get &#39;Unable to find main class&quot; error.  Which makes perfect sense to me,  but how do I get spring to make a library jar.  I know I could add an Application.java  with a main method,  but that&#39;s not what I want,  I want a simple jar file,  but with all the Spring-Boot annotations, injections, etc...  \r\n\r\nHow would I go about doing this?  Is spring boot not what I want here?","title":"spring boot with no main class","body":"<p>I am trying use Spring Boot, and create a jar,  and install it into my maven repo. </p>\n\n<p>This is a library jar file that will be used as a dependency in my main application,  which is also a Spring-Boot  application.  Right now, I am just working on a hello world example.  here is my one class in this project:</p>\n\n<pre><code>public class MyLibrary {\n\n  public String getMessage() {\n    return \"Hello World!\";\n  }\n}\n</code></pre>\n\n<p>and my POM basically looks like this:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;groupId&gt;com.me.plugin&lt;/groupId&gt;\n&lt;artifactId&gt;myLibrary&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>But when I try to build,  I get 'Unable to find main class\" error.  Which makes perfect sense to me,  but how do I get spring to make a library jar.  I know I could add an Application.java  with a main method,  but that's not what I want,  I want a simple jar file,  but with all the Spring-Boot annotations, injections, etc...  </p>\n\n<p>How would I go about doing this?  Is spring boot not what I want here?</p>\n"},{"tags":["java","spring","tomcat","concurrency","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1679660819,"post_id":75817307,"comment_id":133765198,"body_markdown":"Thank you. About balancer and cluster - it is there, I didn&#39;t mention it since it&#39;s less relevant to the task at hand. But thank you for highlighting it too.","body":"Thank you. About balancer and cluster - it is there, I didn&#39;t mention it since it&#39;s less relevant to the task at hand. But thank you for highlighting it too."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679519602,"creation_date":1679519602,"answer_id":75817307,"question_id":75817095,"body_markdown":"What you describing fully fits into a Scatter-Gather pattern: https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html\r\n\r\nSee its implementation in Spring Integration: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather\r\n\r\nWhat you need is a `PublishSubcribeChannel` with an injected `ThreadPoolTaskExecutor` to be sure in a sufficient number of concurrent executions. \r\n\r\nThe Tomcat by itself is also a Java process and takes resources from the environment. Therefore no matter how it is configured you really may end-up with some peak where number of thread is not enough to serve your users. From here you would go into a cluster and have a load balancer upfront. But that&#39;s fully different story. The answer to your question is a Scatter-Gather with an async `PublishSubcribeChannel` for an Auction scenario.","title":"Move logic from client to server with preserving concurrency (Java)","body":"<p>What you describing fully fits into a Scatter-Gather pattern: <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/patterns/messaging/BroadcastAggregate.html</a></p>\n<p>See its implementation in Spring Integration: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather</a></p>\n<p>What you need is a <code>PublishSubcribeChannel</code> with an injected <code>ThreadPoolTaskExecutor</code> to be sure in a sufficient number of concurrent executions.</p>\n<p>The Tomcat by itself is also a Java process and takes resources from the environment. Therefore no matter how it is configured you really may end-up with some peak where number of thread is not enough to serve your users. From here you would go into a cluster and have a load balancer upfront. But that's fully different story. The answer to your question is a Scatter-Gather with an async <code>PublishSubcribeChannel</code> for an Auction scenario.</p>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679526054,"accepted_answer_id":75817307,"answer_count":1,"score":0,"last_activity_date":1679519602,"creation_date":1679517759,"question_id":75817095,"body_markdown":"**What I have:**\r\n 1. There are 10 requests that are sent from the client app to the server to get information about delivery. \r\n 2. After responses for all 10 requests are received logic is executed on the client to calculate the best delivery.\r\n 3. Best delivery has shown to the user.\r\n\r\n**What I want:**\r\n 1. One request is sent from the client to the server.\r\n 2. Server splits it into several tasks and processes in parallel (because tasks may require computation and call of other integrations via HTTP).\r\n 3. Server computes all results and calculates the best delivery.\r\n 4. Response returned with the best delivery to the Client.\r\n\r\n**Idea** - moving logic from the client to the server because API may be used by different systems (web, mobile, etc.)\r\n\r\n\r\n**Problem** - if I will use a thread pool, I&#39;m afraid that there may be thread starvation. Currently, concurrency is managed by the server itself (Tomcat, I believe also uses a thread pool but it&#39;s configured and optimized as far as I understand), and there are no issues. But when I move it to java code I&#39;m afraid there will be problems.\r\n\r\n**Tools** - Java 8, Spring 4(no spring-boot), Spring integration.\r\n\r\nMy idea is to use `Executors.newCachedThreadPool();` but I&#39;m not entirely sure about this solution, because it may grow out of control.\r\nCould you provide options for this change?","title":"Move logic from client to server with preserving concurrency (Java)","body":"<p><strong>What I have:</strong></p>\n<ol>\n<li>There are 10 requests that are sent from the client app to the server to get information about delivery.</li>\n<li>After responses for all 10 requests are received logic is executed on the client to calculate the best delivery.</li>\n<li>Best delivery has shown to the user.</li>\n</ol>\n<p><strong>What I want:</strong></p>\n<ol>\n<li>One request is sent from the client to the server.</li>\n<li>Server splits it into several tasks and processes in parallel (because tasks may require computation and call of other integrations via HTTP).</li>\n<li>Server computes all results and calculates the best delivery.</li>\n<li>Response returned with the best delivery to the Client.</li>\n</ol>\n<p><strong>Idea</strong> - moving logic from the client to the server because API may be used by different systems (web, mobile, etc.)</p>\n<p><strong>Problem</strong> - if I will use a thread pool, I'm afraid that there may be thread starvation. Currently, concurrency is managed by the server itself (Tomcat, I believe also uses a thread pool but it's configured and optimized as far as I understand), and there are no issues. But when I move it to java code I'm afraid there will be problems.</p>\n<p><strong>Tools</strong> - Java 8, Spring 4(no spring-boot), Spring integration.</p>\n<p>My idea is to use <code>Executors.newCachedThreadPool();</code> but I'm not entirely sure about this solution, because it may grow out of control.\nCould you provide options for this change?</p>\n"},{"tags":["java","eclipse","tomcat","logging","classnotfoundexception"],"comments":[{"owner":{"account_id":201905,"reputation":2040,"user_id":448641,"accept_rate":75,"display_name":"vinnyjames"},"score":0,"creation_date":1391538146,"post_id":12728147,"comment_id":32562795,"body_markdown":"On windows with tomcat installed as a service and using the tomcat7w.exe to modify the settings on the Java tab &gt; Java Options section; a single space after `-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager` before the new line gave me the same issue.","body":"On windows with tomcat installed as a service and using the tomcat7w.exe to modify the settings on the Java tab &gt; Java Options section; a single space after <code>-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogMa&zwnj;&#8203;nager</code> before the new line gave me the same issue."}],"answers":[{"comments":[{"owner":{"account_id":1904948,"reputation":171,"user_id":1720006,"display_name":"vjkumar"},"score":0,"creation_date":1349433087,"post_id":12728707,"comment_id":17216094,"body_markdown":"Using ConsoleAppender is not an option for me. I want the logs to be written into a file that I can refer to at later time. Looking at the logging FAQ&#39; for tomcat","body":"Using ConsoleAppender is not an option for me. I want the logs to be written into a file that I can refer to at later time. Looking at the logging FAQ&#39; for tomcat"},{"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"score":0,"creation_date":1349437612,"post_id":12728707,"comment_id":17218004,"body_markdown":"You don&#39;t have to use the ConsoleAppender for sure. This is only a sample. Here is the manual of the Apache log4j http://logging.apache.org/log4j/1.2/manual.html. You will find there is a FileAppender for Example. This will add you Log to a .log File. Check this link: http://veerasundar.com/blog/2009/07/log4j-tutorial-how-to-send-the-log-messages-to-a-file/","body":"You don&#39;t have to use the ConsoleAppender for sure. This is only a sample. Here is the manual of the Apache log4j <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2/manual.html</a>. You will find there is a FileAppender for Example. This will add you Log to a .log File. Check this link: <a href=\"http://veerasundar.com/blog/2009/07/log4j-tutorial-how-to-send-the-log-messages-to-a-file/\" rel=\"nofollow noreferrer\">veerasundar.com/blog/2009/07/&hellip;</a>"}],"tags":[],"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679519139,"creation_date":1349358432,"answer_id":12728707,"question_id":12728147,"body_markdown":"You can check the FAQ for a question about logging not working:\r\nhttps://cwiki.apache.org/confluence/display/TOMCAT/Logging\r\n\r\nOr you can use another `logging.properties`, for example this one:\r\n```properties\r\nlog4j.rootLogger=DEBUG, A1\r\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n\r\n# Print the date in ISO 8601 format\r\nlog4j.appender.A1.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\r\n    \r\n# Print only messages of level WARN or above in the package com.foo.\r\nlog4j.logger.com.foo=WARN\r\n```","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p>You can check the FAQ for a question about logging not working:\n<a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Logging\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/Logging</a></p>\n<p>Or you can use another <code>logging.properties</code>, for example this one:</p>\n<pre><code>log4j.rootLogger=DEBUG, A1\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\n\n# Print the date in ISO 8601 format\nlog4j.appender.A1.layout.ConversionPattern=%d [%t] %-5p %c - %m%n\n    \n# Print only messages of level WARN or above in the package com.foo.\nlog4j.logger.com.foo=WARN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103560,"reputation":5792,"user_id":277307,"accept_rate":100,"display_name":"John McCarthy"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1357166689,"creation_date":1357166689,"answer_id":14130453,"question_id":12728147,"body_markdown":"Ensure the following system property is set,\r\n\r\n    -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n\r\nAs seen [here][1] on the tomcat users mailing list.\r\n\r\nI had the same problem launching tomcat with [YAJSW](http://yajsw.sourceforge.net/) instead of using the tomcat startup scripts.\r\n\r\n\r\n  [1]: http://tomcat.10.n6.nabble.com/logging-failure-with-tomcat-6-0-29-jvm-1-6-0-30-b12-ubuntu-10-04-3-LTS-td4531175.html#a4531359","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p>Ensure the following system property is set,</p>\n\n<pre><code>-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n</code></pre>\n\n<p>As seen <a href=\"http://tomcat.10.n6.nabble.com/logging-failure-with-tomcat-6-0-29-jvm-1-6-0-30-b12-ubuntu-10-04-3-LTS-td4531175.html#a4531359\">here</a> on the tomcat users mailing list.</p>\n\n<p>I had the same problem launching tomcat with <a href=\"http://yajsw.sourceforge.net/\">YAJSW</a> instead of using the tomcat startup scripts.</p>\n"}],"owner":{"account_id":1904948,"reputation":171,"user_id":1720006,"display_name":"vjkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26236,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1679519139,"creation_date":1349356598,"question_id":12728147,"body_markdown":"**Setup:** Eclipse Juno R, Tomcat 7.0.8, tomcat run through eclipse plug in.\r\nTomcat launch configuration from eclipse has VM argument \r\n-Djava.util.logging.config.file=&quot;C:\\WS\\Serverlogs\\tomcat7\\conf\\logging.properties&quot;\r\n (Ref: &lt;https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse&gt;)\r\nGetting following error.\r\n\r\n    Can&#39;t load log handler &quot;1catalina.org.apache.juli.FileHandler&quot;\r\n    java.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\r\n    java.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.util.logging.LogManager$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.loadLoggerHandlers(Unknown Source)\r\n    \tat java.util.logging.LogManager.addLogger(Unknown Source)\r\n    \tat java.util.logging.LogManager$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.util.logging.LogManager.&lt;clinit&gt;(Unknown Source)\r\n    \tat java.util.logging.Logger.getLogger(Unknown Source)\r\n    \tat org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:71)\r\n    \tat org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:196)\r\n    \tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\r\n    \tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:242)\r\n    \tat org.apache.juli.logging.LogFactory.getLog(LogFactory.java:293)\r\n    \tat org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:57)\r\n    Can&#39;t load log handler &quot;1catalina.org.apache.juli.FileHandler&quot;\r\n\r\nThere are similar errors for &quot;1catalina.org.apache.juli.FileHandler&quot;,&quot;2localhost.org.apache.juli.FileHandler&quot; and others.\r\nI understand that these classes come from tomcat-juli.jar at &lt;CATALINA_BASE&gt;/bin.\r\nI added this jar into server classpath (Eclipse -&gt; Servers -&gt; Open -&gt; Open Lauch configuration -&gt; Classpath -&gt; User Entries), but got the same error.\r\nContents of logging.properties are:\r\n\r\n    handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\r\n    \r\n    .handlers = 1catalina.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\r\n    \r\n    1catalina.org.apache.juli.FileHandler.level = FINE\r\n    1catalina.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    1catalina.org.apache.juli.FileHandler.prefix = catalina.\r\n    \r\n    2localhost.org.apache.juli.FileHandler.level = FINE\r\n    2localhost.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    2localhost.org.apache.juli.FileHandler.prefix = localhost.\r\n    \r\n    3manager.org.apache.juli.FileHandler.level = FINE\r\n    3manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    3manager.org.apache.juli.FileHandler.prefix = manager.\r\n    \r\n    4host-manager.org.apache.juli.FileHandler.level = FINE\r\n    4host-manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\r\n    4host-manager.org.apache.juli.FileHandler.prefix = host-manager.\r\n    \r\n    java.util.logging.ConsoleHandler.level = FINE\r\n    java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.FileHandler\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = 3manager.org.apache.juli.FileHandler\r\n    \r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = INFO\r\n    org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = 4host-manager.org.apache.juli.FileHandler\r\n\r\n\r\nAny input / guidance is most appreciated.\r\nFound these \r\n&lt;https://stackoverflow.com/questions/136300/how-to-configure-tomcat-juli-logging-to-roll-log-files&gt;\r\n&lt;https://stackoverflow.com/questions/2166414/local-tomcat-environment-not-starting&gt;\r\n, but my issue seems to be different.\r\n\r\n**Edit1**\r\nAdding &quot;-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager&quot; to server&#39;s VM Argument and changing &quot;\\&quot; to &quot;/&quot; in the logging.properties did the trick.\r\nThanks to Robin for the pointer to Tomcat Logging FAQ\r\n\r\nThank you,\r\nVJ","title":"Error in Eclipse-Tomcat Setup - ClassNotFoundException &quot;1catalina.org.apache.juli.FileHandler&quot;","body":"<p><strong>Setup:</strong> Eclipse Juno R, Tomcat 7.0.8, tomcat run through eclipse plug in.\nTomcat launch configuration from eclipse has VM argument \n-Djava.util.logging.config.file=\"C:\\WS\\Serverlogs\\tomcat7\\conf\\logging.properties\"\n (Ref: <a href=\"https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\">Where can I view Tomcat log files in Eclipse?</a>)\nGetting following error.</p>\n\n<pre><code>Can't load log handler \"1catalina.org.apache.juli.FileHandler\"\njava.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\njava.lang.ClassNotFoundException: 1catalina.org.apache.juli.FileHandler\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.util.logging.LogManager$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.loadLoggerHandlers(Unknown Source)\n    at java.util.logging.LogManager.addLogger(Unknown Source)\n    at java.util.logging.LogManager$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.util.logging.LogManager.&lt;clinit&gt;(Unknown Source)\n    at java.util.logging.Logger.getLogger(Unknown Source)\n    at org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:71)\n    at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:196)\n    at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n    at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:242)\n    at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:293)\n    at org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:57)\nCan't load log handler \"1catalina.org.apache.juli.FileHandler\"\n</code></pre>\n\n<p>There are similar errors for \"1catalina.org.apache.juli.FileHandler\",\"2localhost.org.apache.juli.FileHandler\" and others.\nI understand that these classes come from tomcat-juli.jar at /bin.\nI added this jar into server classpath (Eclipse -> Servers -> Open -> Open Lauch configuration -> Classpath -> User Entries), but got the same error.\nContents of logging.properties are:</p>\n\n<pre><code>handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\n\n.handlers = 1catalina.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\n\n1catalina.org.apache.juli.FileHandler.level = FINE\n1catalina.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n1catalina.org.apache.juli.FileHandler.prefix = catalina.\n\n2localhost.org.apache.juli.FileHandler.level = FINE\n2localhost.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n2localhost.org.apache.juli.FileHandler.prefix = localhost.\n\n3manager.org.apache.juli.FileHandler.level = FINE\n3manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n3manager.org.apache.juli.FileHandler.prefix = manager.\n\n4host-manager.org.apache.juli.FileHandler.level = FINE\n4host-manager.org.apache.juli.FileHandler.directory = C:\\WS\\Serverlogs\\tomcat7/logs\n4host-manager.org.apache.juli.FileHandler.prefix = host-manager.\n\njava.util.logging.ConsoleHandler.level = FINE\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = 3manager.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = 4host-manager.org.apache.juli.FileHandler\n</code></pre>\n\n<p>Any input / guidance is most appreciated.\nFound these \n<a href=\"https://stackoverflow.com/questions/136300/how-to-configure-tomcat-juli-logging-to-roll-log-files\">How to configure Tomcat JULI logging to roll log files?</a>\n<a href=\"https://stackoverflow.com/questions/2166414/local-tomcat-environment-not-starting\">Local Tomcat Environment Not Starting</a>\n, but my issue seems to be different.</p>\n\n<p><strong>Edit1</strong>\nAdding \"-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\" to server's VM Argument and changing \"\\\" to \"/\" in the logging.properties did the trick.\nThanks to Robin for the pointer to Tomcat Logging FAQ</p>\n\n<p>Thank you,\nVJ</p>\n"},{"tags":["java","annotations","lombok","builder","intellij-lombok-plugin"],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679518438,"creation_date":1679518438,"question_id":75817188,"body_markdown":"I have included @SuperBuilder for super class and all subclasses:\r\n\r\n````\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@SuperBuilder\r\n\r\npublic abstract class Aggregator {\r\n    private MyEnum myEnum;\r\n    private MyPackage pck;\r\n    private String device;\r\n}\r\n````\r\n\r\n````\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\n\r\npublic class KNAggregator extends Aggregator {\r\n    @EqualsAndHashCode.Include\r\n    private String os;\r\n    @EqualsAndHashCode.Include\r\n    private long vulnId;\r\n    private Severity severity;\r\n}\r\n````\r\n\r\nThis code throws error:\r\n\r\n&gt; error: cannot find symbol\r\n&gt; @SuperBuilder\r\n&gt; symbol:   class AggregatorBuilder\r\n&gt; location: class Aggregator\r\n\r\nWhat went wrong here?\r\n","title":"Lombok @SuperBuilder: Cannot find symbol","body":"<p>I have included @SuperBuilder for super class and all subclasses:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@SuperBuilder\n\npublic abstract class Aggregator {\n    private MyEnum myEnum;\n    private MyPackage pck;\n    private String device;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\n\npublic class KNAggregator extends Aggregator {\n    @EqualsAndHashCode.Include\n    private String os;\n    @EqualsAndHashCode.Include\n    private long vulnId;\n    private Severity severity;\n}\n</code></pre>\n<p>This code throws error:</p>\n<blockquote>\n<p>error: cannot find symbol\n@SuperBuilder\nsymbol:   class AggregatorBuilder\nlocation: class Aggregator</p>\n</blockquote>\n<p>What went wrong here?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":17965259,"reputation":123,"user_id":13055269,"display_name":"caged_raven_wings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679518288,"creation_date":1679518288,"question_id":75817176,"body_markdown":"I used spring initializer to create a project with jdk 1.8, when I wanted to use **Spring Authorization Server** package, the minimum requirements was Jdk 17. When I switched to 17 and tried running the project again I am getting this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39; defined in class path resource [hashdynamics/io/sheer/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat hashdynamics.io.sheer.SheerApplication.main(SheerApplication.java:18) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n\tat org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\r\n\tat org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:45) ~[classes/:na]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.CGLIB$authorizationServerSecurityFilterChain$4(&lt;generated&gt;) ~[classes/:na]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10$$FastClassBySpringCGLIB$$1652a0f5.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 33 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHere is my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sheer&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sheer&lt;/name&gt;\r\n\t&lt;description&gt;sheer &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sheer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI am completely new to java, I have searched online but can not find any reasonable solution to my issue. ","title":"Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39;","body":"<p>I used spring initializer to create a project with jdk 1.8, when I wanted to use <strong>Spring Authorization Server</strong> package, the minimum requirements was Jdk 17. When I switched to 17 and tried running the project again I am getting this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [hashdynamics/io/sheer/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at hashdynamics.io.sheer.SheerApplication.main(SheerApplication.java:18) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 19 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n    at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\n    at org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.1.jar:1.0.1]\n    at hashdynamics.io.sheer.config.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:45) ~[classes/:na]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.CGLIB$authorizationServerSecurityFilterChain$4(&lt;generated&gt;) ~[classes/:na]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10$$FastClassBySpringCGLIB$$1652a0f5.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n    at hashdynamics.io.sheer.config.SecurityConfig$$EnhancerBySpringCGLIB$$88c16f10.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 33 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\n    &lt;artifactId&gt;sheer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sheer&lt;/name&gt;\n    &lt;description&gt;sheer &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hashdynamics.io&lt;/groupId&gt;\n            &lt;artifactId&gt;sheer&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I am completely new to java, I have searched online but can not find any reasonable solution to my issue.</p>\n"},{"tags":["java","spring","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1524012392,"post_id":49888724,"comment_id":86794975,"body_markdown":"Launching in debug mode will be your best bet in eclipse/intellij. Note that if you change any frontend assets the developer will need to force a reload of the page. It&#39;s also not feasible to change allot of things at run-time and will require a restart.","body":"Launching in debug mode will be your best bet in eclipse/intellij. Note that if you change any frontend assets the developer will need to force a reload of the page. It&#39;s also not feasible to change allot of things at run-time and will require a restart."},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1524027034,"post_id":49888724,"comment_id":86798356,"body_markdown":"@Oskar how are you serving your static frontend content?","body":"@Oskar how are you serving your static frontend content?"},{"owner":{"account_id":47282,"reputation":2151,"user_id":139984,"display_name":"Mateusz Mrozewski"},"score":0,"creation_date":1524028728,"post_id":49888724,"comment_id":86798923,"body_markdown":"There are probably several solutions. What I do is I have a spring boot backend with dev-tools so I can reload it easily from Intellij. For the Angular frontend I just use angular cli with development server and proxy configured to redirect my requests to the port that the backend is running on. This was I use what is given out of the box for both frontend and backend without any additional hacks. I am not sure if such a solution will be feasible for you.","body":"There are probably several solutions. What I do is I have a spring boot backend with dev-tools so I can reload it easily from Intellij. For the Angular frontend I just use angular cli with development server and proxy configured to redirect my requests to the port that the backend is running on. This was I use what is given out of the box for both frontend and backend without any additional hacks. I am not sure if such a solution will be feasible for you."}],"answers":[{"comments":[{"owner":{"account_id":1663940,"reputation":455,"user_id":1531736,"display_name":"Bollywood"},"score":0,"creation_date":1587424070,"post_id":50056294,"comment_id":108502069,"body_markdown":"Thanks @murphy1312 for the detailed answer. I used step 1 as mentioned above and it has been immensely useful as I was wasting a lot of time repackaging the application. Not sure why your solution has not been accepted. It definitely works.","body":"Thanks @murphy1312 for the detailed answer. I used step 1 as mentioned above and it has been immensely useful as I was wasting a lot of time repackaging the application. Not sure why your solution has not been accepted. It definitely works."},{"owner":{"account_id":16234286,"reputation":479,"user_id":11722089,"display_name":"Vikas Saini"},"score":0,"creation_date":1618976116,"post_id":50056294,"comment_id":118762337,"body_markdown":"I am impressed with both the ways you came up with, 2nd one is a bit complex, 3rd way which I am using is : Use dev:watch of npm and create output in targer/classes/public folder and tell tomcat (as i use war archive) to update resource on frame deactivation... it take 3-5 second of time to update but reduces a lot of complixities for maintainance.","body":"I am impressed with both the ways you came up with, 2nd one is a bit complex, 3rd way which I am using is : Use dev:watch of npm and create output in targer/classes/public folder and tell tomcat (as i use war archive) to update resource on frame deactivation... it take 3-5 second of time to update but reduces a lot of complixities for maintainance."}],"tags":[],"owner":{"account_id":7778494,"reputation":563,"user_id":5885758,"display_name":"murphy1312"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524809490,"creation_date":1524809490,"answer_id":50056294,"question_id":49888724,"body_markdown":"I know of 2 different ways that work to do that.\r\n\r\n1) Using Intellij File Watcher Plugin\r\n\r\n2) Running webpack dev server as a reverse proxy for your spring-boot app\r\n\r\n---\r\n\r\n1) \r\n\r\n - Install Plugin &quot;File Watchers&quot; from Repositories\r\n - Go to Settings - Tools - File Watchers\r\n - Define a Webpack Task\r\n  - File Types: Any\r\n  - Define a new Scope to watch only your javascript files\r\n  - Program: Either run webpack from /node_modules/webpack/bin/webpack.js\r\n    or create some other executable file (like $ProjectFileDir$/webpack.sh)\r\n  - If you choose to run webpack from node_modules (which btw didnt work for me because of relative path issues) insert Arguments (like --config)\r\n  - Set output path to refresh: $ProjectFileDir$/src/main/static/js/bundled\r\n  - Set working directory to: $ProjectFileDir$\r\n\r\nNow if you save a file in your defined scope the webpack task will run. After that you have to refresh the page in your browser. Got the idea from [https://intellij-support.jetbrains.com][1]\r\n\r\n---\r\n\r\n2) \r\nThis way is more advanced, but harder to configure correctly. You will have auto-reload (the page refreshes) and full hot reloading (the react state persists)\r\n\r\nThe basic idea is to run a webpack-dev-server and use that server as a reverse proxy for your spring-boot backend. The dev-server will handle requests to hot-reloaded content himself and pass everything else to your backend. Got the idea from [https://www.codingbismuth.com/][2] .\r\n\r\nAs a example configuration \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;&quot;,\r\n      &quot;version&quot;: &quot;0.0.1&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;repository&quot;: {\r\n        &quot;type&quot;: &quot;git&quot;,\r\n        &quot;url&quot;: &quot;&quot;\r\n      },\r\n      &quot;keywords&quot;: [\r\n        &quot;xy&quot;\r\n      ],\r\n      &quot;author&quot;: &quot;murphy&quot;,\r\n      &quot;license&quot;: &quot;&quot;,\r\n      &quot;bugs&quot;: {\r\n        &quot;url&quot;: &quot;&quot;\r\n      },\r\n      &quot;scripts&quot;: {\r\n        &quot;start:dev&quot;: &quot;webpack-dev-server --config webpack.dev_server.js&quot;\r\n      },\r\n      &quot;homepage&quot;: &quot;&quot;,\r\n      &quot;dependencies&quot;: {\r\n        &quot;file-saver&quot;: &quot;^1.3.3&quot;,\r\n        &quot;prop-types&quot;: &quot;^15.5.10&quot;,\r\n        &quot;react&quot;: &quot;^16.2.0&quot;,\r\n        &quot;react-bootstrap-typeahead&quot;: &quot;^2.3.0&quot;,\r\n        &quot;react-dom&quot;: &quot;^16.2.0&quot;,\r\n        &quot;react-modal&quot;: &quot;^3.1.8&quot;,\r\n        &quot;react-router&quot;: &quot;^4.2.0&quot;,\r\n        &quot;react-router-dom&quot;: &quot;^4.2.2&quot;,\r\n        &quot;react-datetime&quot;: &quot;^2.11.1&quot;,\r\n        &quot;rest&quot;: &quot;^1.3.1&quot;,\r\n        &quot;moment&quot;: &quot;^2.20.1&quot;,\r\n        &quot;webpack&quot;: &quot;^3.10.0&quot;,\r\n        &quot;swagger-ui&quot;: &quot;^3.13.4&quot;,\r\n        &quot;webpack-dev-server&quot;: &quot;^2.11.2&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;webpack-cli&quot;: &quot;^2.0.15&quot;,\r\n        &quot;react-hot-loader&quot;: &quot;^4.1.2&quot;,\r\n        &quot;babel-core&quot;: &quot;^6.18.2&quot;,\r\n        &quot;babel-eslint&quot;: &quot;^8.0.3&quot;,\r\n        &quot;babel-loader&quot;: &quot;^7.1.2&quot;,\r\n        &quot;babel-polyfill&quot;: &quot;^6.26.0&quot;,\r\n        &quot;babel-preset-es2015&quot;: &quot;^6.18.0&quot;,\r\n        &quot;babel-preset-react&quot;: &quot;^6.16.0&quot;,\r\n        &quot;eslint&quot;: &quot;^4.13.1&quot;,\r\n        &quot;eslint-plugin-react&quot;: &quot;^7.5.1&quot;,\r\n        &quot;eslint-loader&quot;: &quot;^1.9.0&quot;,\r\n        &quot;eslint-watch&quot;: &quot;^3.1.3&quot;,\r\n        &quot;eslint-config-airbnb&quot;: &quot;^16.1.0&quot;,\r\n        &quot;eslint-plugin-jsx-a11y&quot;: &quot;^6.0.2&quot;,\r\n        &quot;eslint-plugin-import&quot;: &quot;^2.8.0&quot;,\r\n        &quot;eslint-plugin-flowtype&quot;: &quot;^2.40.1&quot;,\r\n        &quot;uglifyjs-webpack-plugin2&quot;: &quot;^1.0.3&quot;\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    const { resolve } = require(&#39;path&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const webpack = require(&#39;webpack&#39;);\r\n\r\n    module.exports = {\r\n        context: resolve(__dirname, &#39;.&#39;),\r\n\r\n        entry: [\r\n            &#39;react-hot-loader/patch&#39;,\r\n            // activate HMR for React\r\n\r\n            &#39;webpack-dev-server/client?http://localhost:8888&#39;,\r\n            // bundle the client for webpack-dev-server\r\n            // and connect to the provided endpoint\r\n\r\n            &#39;webpack/hot/only-dev-server&#39;,\r\n            // bundle the client for hot reloading\r\n            // only- means to only hot reload for successful updates\r\n\r\n            // the entry point of our app\r\n            &#39;./src/main/js/router/mainrouter.jsx&#39;,\r\n        ],\r\n        output: {\r\n            filename: &#39;./mainbundle.js&#39;,\r\n            // the output bundle\r\n\r\n            path: resolve(__dirname, &#39;/src/main/resources/static/js/bundled&#39;),\r\n\r\n            publicPath: &#39;/js/bundled/&#39;,\r\n            // necessary for HMR to know where to load the hot update chunks\r\n        },\r\n\r\n        devtool: &#39;sourcemaps&#39;,\r\n        devServer: {\r\n            hot: true,\r\n            contentBase: [resolve(__dirname, &quot;.&quot;), resolve(__dirname, &quot;./src/main/resources/static/js/bundled&quot;)],\r\n            proxy: {\r\n                &quot;/&quot;: {\r\n                    target: {\r\n                        host: &quot;localhost&quot;,\r\n                        protocol: &#39;http:&#39;,\r\n                        port: 8087,\r\n                    },\r\n                },\r\n                ignorePath: true,\r\n                changeOrigin: true,\r\n                secure: false,\r\n            },\r\n            publicPath: &#39;/js/bundled/&#39;,\r\n            port: 8888,\r\n            host: &quot;localhost&quot;,\r\n        },\r\n        module: {\r\n            rules: [\r\n                {\r\n                    enforce: &quot;pre&quot;,\r\n                    test: /\\.jsx$/,\r\n                    exclude: /node_modules/,\r\n                    loader: &quot;eslint-loader&quot;,\r\n                    options: {\r\n                        // fix: true, // autofix\r\n                        cache: true,\r\n                        failOnError: false,\r\n                        emitWarning: true,\r\n                        quiet: true,\r\n                    },\r\n                },\r\n                {\r\n                    test: path.join(__dirname, &#39;.&#39;),\r\n                    exclude: /node_modules/,\r\n                    loader: &quot;babel-loader&quot;,\r\n                    query: {\r\n                        // cacheDirectory: true,\r\n                        presets: [&#39;es2015&#39;, &#39;react&#39;],\r\n                    },\r\n                },\r\n                {\r\n                    test: /\\.css$/,\r\n                    use: [&#39;style-loader&#39;, &#39;css-loader?modules&#39;],\r\n                },\r\n            ],\r\n        },\r\n\r\n        plugins: [\r\n            new webpack.HotModuleReplacementPlugin(),\r\n            // enable HMR globally\r\n\r\n            new webpack.NamedModulesPlugin(),\r\n            // prints more readable module names in the browser console on HMR updates\r\n        ],\r\n    };\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe spring boot app is running on :8087 and the webpack dev server on :8888. Now in your index.html you include the mainbundle.js.\r\nRun your spring-boot app and in a second terminal run:\r\n\r\n    npm run start:dev\r\n\r\nAccess the webpage on :8888 to have hot reloading on file changes.\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000378264-Make-IntelliJ-automatically-detect-changes-produced-by-webpack\r\n  [2]: https://www.codingbismuth.com/spring-react-and-webpack-using-the-webpack-dev-server/","title":"Hot reload for spring boot backend + frontend","body":"<p>I know of 2 different ways that work to do that.</p>\n\n<p>1) Using Intellij File Watcher Plugin</p>\n\n<p>2) Running webpack dev server as a reverse proxy for your spring-boot app</p>\n\n<hr>\n\n<p>1) </p>\n\n<ul>\n<li>Install Plugin \"File Watchers\" from Repositories</li>\n<li>Go to Settings - Tools - File Watchers</li>\n<li>Define a Webpack Task\n\n<ul>\n<li>File Types: Any</li>\n<li>Define a new Scope to watch only your javascript files</li>\n<li>Program: Either run webpack from /node_modules/webpack/bin/webpack.js\nor create some other executable file (like $ProjectFileDir$/webpack.sh)</li>\n<li>If you choose to run webpack from node_modules (which btw didnt work for me because of relative path issues) insert Arguments (like --config)</li>\n<li>Set output path to refresh: $ProjectFileDir$/src/main/static/js/bundled</li>\n<li>Set working directory to: $ProjectFileDir$</li>\n</ul></li>\n</ul>\n\n<p>Now if you save a file in your defined scope the webpack task will run. After that you have to refresh the page in your browser. Got the idea from <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000378264-Make-IntelliJ-automatically-detect-changes-produced-by-webpack\" rel=\"noreferrer\">https://intellij-support.jetbrains.com</a></p>\n\n<hr>\n\n<p>2) \nThis way is more advanced, but harder to configure correctly. You will have auto-reload (the page refreshes) and full hot reloading (the react state persists)</p>\n\n<p>The basic idea is to run a webpack-dev-server and use that server as a reverse proxy for your spring-boot backend. The dev-server will handle requests to hot-reloaded content himself and pass everything else to your backend. Got the idea from <a href=\"https://www.codingbismuth.com/spring-react-and-webpack-using-the-webpack-dev-server/\" rel=\"noreferrer\">https://www.codingbismuth.com/</a> .</p>\n\n<p>As a example configuration </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\r\n  \"name\": \"\",\r\n  \"version\": \"0.0.1\",\r\n  \"description\": \"\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"\"\r\n  },\r\n  \"keywords\": [\r\n    \"xy\"\r\n  ],\r\n  \"author\": \"murphy\",\r\n  \"license\": \"\",\r\n  \"bugs\": {\r\n    \"url\": \"\"\r\n  },\r\n  \"scripts\": {\r\n    \"start:dev\": \"webpack-dev-server --config webpack.dev_server.js\"\r\n  },\r\n  \"homepage\": \"\",\r\n  \"dependencies\": {\r\n    \"file-saver\": \"^1.3.3\",\r\n    \"prop-types\": \"^15.5.10\",\r\n    \"react\": \"^16.2.0\",\r\n    \"react-bootstrap-typeahead\": \"^2.3.0\",\r\n    \"react-dom\": \"^16.2.0\",\r\n    \"react-modal\": \"^3.1.8\",\r\n    \"react-router\": \"^4.2.0\",\r\n    \"react-router-dom\": \"^4.2.2\",\r\n    \"react-datetime\": \"^2.11.1\",\r\n    \"rest\": \"^1.3.1\",\r\n    \"moment\": \"^2.20.1\",\r\n    \"webpack\": \"^3.10.0\",\r\n    \"swagger-ui\": \"^3.13.4\",\r\n    \"webpack-dev-server\": \"^2.11.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"webpack-cli\": \"^2.0.15\",\r\n    \"react-hot-loader\": \"^4.1.2\",\r\n    \"babel-core\": \"^6.18.2\",\r\n    \"babel-eslint\": \"^8.0.3\",\r\n    \"babel-loader\": \"^7.1.2\",\r\n    \"babel-polyfill\": \"^6.26.0\",\r\n    \"babel-preset-es2015\": \"^6.18.0\",\r\n    \"babel-preset-react\": \"^6.16.0\",\r\n    \"eslint\": \"^4.13.1\",\r\n    \"eslint-plugin-react\": \"^7.5.1\",\r\n    \"eslint-loader\": \"^1.9.0\",\r\n    \"eslint-watch\": \"^3.1.3\",\r\n    \"eslint-config-airbnb\": \"^16.1.0\",\r\n    \"eslint-plugin-jsx-a11y\": \"^6.0.2\",\r\n    \"eslint-plugin-import\": \"^2.8.0\",\r\n    \"eslint-plugin-flowtype\": \"^2.40.1\",\r\n    \"uglifyjs-webpack-plugin2\": \"^1.0.3\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const { resolve } = require('path');\r\nconst path = require('path');\r\nconst webpack = require('webpack');\r\n\r\nmodule.exports = {\r\n    context: resolve(__dirname, '.'),\r\n\r\n    entry: [\r\n        'react-hot-loader/patch',\r\n        // activate HMR for React\r\n\r\n        'webpack-dev-server/client?http://localhost:8888',\r\n        // bundle the client for webpack-dev-server\r\n        // and connect to the provided endpoint\r\n\r\n        'webpack/hot/only-dev-server',\r\n        // bundle the client for hot reloading\r\n        // only- means to only hot reload for successful updates\r\n\r\n        // the entry point of our app\r\n        './src/main/js/router/mainrouter.jsx',\r\n    ],\r\n    output: {\r\n        filename: './mainbundle.js',\r\n        // the output bundle\r\n\r\n        path: resolve(__dirname, '/src/main/resources/static/js/bundled'),\r\n\r\n        publicPath: '/js/bundled/',\r\n        // necessary for HMR to know where to load the hot update chunks\r\n    },\r\n\r\n    devtool: 'sourcemaps',\r\n    devServer: {\r\n        hot: true,\r\n        contentBase: [resolve(__dirname, \".\"), resolve(__dirname, \"./src/main/resources/static/js/bundled\")],\r\n        proxy: {\r\n            \"/\": {\r\n                target: {\r\n                    host: \"localhost\",\r\n                    protocol: 'http:',\r\n                    port: 8087,\r\n                },\r\n            },\r\n            ignorePath: true,\r\n            changeOrigin: true,\r\n            secure: false,\r\n        },\r\n        publicPath: '/js/bundled/',\r\n        port: 8888,\r\n        host: \"localhost\",\r\n    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                enforce: \"pre\",\r\n                test: /\\.jsx$/,\r\n                exclude: /node_modules/,\r\n                loader: \"eslint-loader\",\r\n                options: {\r\n                    // fix: true, // autofix\r\n                    cache: true,\r\n                    failOnError: false,\r\n                    emitWarning: true,\r\n                    quiet: true,\r\n                },\r\n            },\r\n            {\r\n                test: path.join(__dirname, '.'),\r\n                exclude: /node_modules/,\r\n                loader: \"babel-loader\",\r\n                query: {\r\n                    // cacheDirectory: true,\r\n                    presets: ['es2015', 'react'],\r\n                },\r\n            },\r\n            {\r\n                test: /\\.css$/,\r\n                use: ['style-loader', 'css-loader?modules'],\r\n            },\r\n        ],\r\n    },\r\n\r\n    plugins: [\r\n        new webpack.HotModuleReplacementPlugin(),\r\n        // enable HMR globally\r\n\r\n        new webpack.NamedModulesPlugin(),\r\n        // prints more readable module names in the browser console on HMR updates\r\n    ],\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The spring boot app is running on :8087 and the webpack dev server on :8888. Now in your index.html you include the mainbundle.js.\nRun your spring-boot app and in a second terminal run:</p>\n\n<pre><code>npm run start:dev\n</code></pre>\n\n<p>Access the webpage on :8888 to have hot reloading on file changes.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679517842,"creation_date":1679517842,"answer_id":75817107,"question_id":49888724,"body_markdown":"For React you can install [Babel CLI][1] with the [React Preset][2], and run Babel in `--watch` mode. It will continuously transpile your JSX to JavaScript, and if you have Spring DevTools installed you&#39;ll see the new information immediately after reloading your web page when running in your IDE.\r\n\r\nI&#39;ve written up a full tutorial at [No-Fuss React and JSX with Spring Boot][3], but here&#39;s the gist of it:\r\n\r\n```bash\r\nnpm install --save-dev @babel/core @babel/cli @babel/preset-react\r\nnpx babel src/main/resources/static --out-dir target/classes/static --presets=@babel/preset-react --only=&quot;**/*.jsx&quot; --watch\r\n```\r\n\r\nMy article goes into depth about how to integrate this transparently into the Maven build, and how to structure your HTML so that you won&#39;t need Webpack or any larger front-end build system other than Maven.\r\n\r\n\r\n  [1]: https://babeljs.io/docs/babel-cli\r\n  [2]: https://babeljs.io/docs/babel-preset-react\r\n  [3]: https://www.garretwilson.com/blog/2023/03/21/no-fuss-react-jsx-with-spring-boot","title":"Hot reload for spring boot backend + frontend","body":"<p>For React you can install <a href=\"https://babeljs.io/docs/babel-cli\" rel=\"nofollow noreferrer\">Babel CLI</a> with the <a href=\"https://babeljs.io/docs/babel-preset-react\" rel=\"nofollow noreferrer\">React Preset</a>, and run Babel in <code>--watch</code> mode. It will continuously transpile your JSX to JavaScript, and if you have Spring DevTools installed you'll see the new information immediately after reloading your web page when running in your IDE.</p>\n<p>I've written up a full tutorial at <a href=\"https://www.garretwilson.com/blog/2023/03/21/no-fuss-react-jsx-with-spring-boot\" rel=\"nofollow noreferrer\">No-Fuss React and JSX with Spring Boot</a>, but here's the gist of it:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>npm install --save-dev @babel/core @babel/cli @babel/preset-react\nnpx babel src/main/resources/static --out-dir target/classes/static --presets=@babel/preset-react --only=&quot;**/*.jsx&quot; --watch\n</code></pre>\n<p>My article goes into depth about how to integrate this transparently into the Maven build, and how to structure your HTML so that you won't need Webpack or any larger front-end build system other than Maven.</p>\n"}],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woniak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10923,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679517842,"creation_date":1524006118,"question_id":49888724,"body_markdown":"I rode those docs about spring dev tools and hot reload\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude\r\n\r\nAnd according to that is see there is such posibility to hot reload java and backed React/Typescript/webpack app\r\n\r\nThis is our architecture (in shortcut)\r\n\r\n    mainmodule\r\n        backendModules &lt;- those modules are just maven project have theirs poms and etc\r\n              backendModule1\r\n              backendModule2\r\n    fontendModule\r\n           content &lt;- React/Typescript/Webpack/Less etc\r\n\r\nbackendModule2 - We are using to start backend\r\nbackendModule1 - is just some additional services\r\nfontendModule/content - is our whole react app\r\n\r\n\r\nAm I right if I say to have reload for our frontend files I have to:\r\n\r\n1. Configure Intellij as I&#39;m doing it normally for backend &lt;- this is easy\r\n\r\n    1a. Change registry\r\n\r\n    1b. select build project automatically\r\n\r\nMy question is what I have to do to force reloading of frontend files - So developer just need to run 1 app and then backend + frontend will be reloaded automaticlly\r\n\r\n2. Add frontend extensions to resource patterns(Intellij: Build, execution -&gt; compiler)? jsx, json, js, less and etc?\r\n\r\n3. According to doc add &quot;spring.devtools.restart.additional-paths&quot;\r\n\r\nDid anyone was able to do that? We are not getting any errors and etc...\r\n\r\nLet me know if something seems to be unclear so we can clarify that\r\n\r\n\r\n","title":"Hot reload for spring boot backend + frontend","body":"<p>I rode those docs about spring dev tools and hot reload</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-hotswapping.html</a>\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-exclude</a></p>\n\n<p>And according to that is see there is such posibility to hot reload java and backed React/Typescript/webpack app</p>\n\n<p>This is our architecture (in shortcut)</p>\n\n<pre><code>mainmodule\n    backendModules &lt;- those modules are just maven project have theirs poms and etc\n          backendModule1\n          backendModule2\nfontendModule\n       content &lt;- React/Typescript/Webpack/Less etc\n</code></pre>\n\n<p>backendModule2 - We are using to start backend\nbackendModule1 - is just some additional services\nfontendModule/content - is our whole react app</p>\n\n<p>Am I right if I say to have reload for our frontend files I have to:</p>\n\n<ol>\n<li><p>Configure Intellij as I'm doing it normally for backend &lt;- this is easy</p>\n\n<p>1a. Change registry</p>\n\n<p>1b. select build project automatically</p></li>\n</ol>\n\n<p>My question is what I have to do to force reloading of frontend files - So developer just need to run 1 app and then backend + frontend will be reloaded automaticlly</p>\n\n<ol start=\"2\">\n<li><p>Add frontend extensions to resource patterns(Intellij: Build, execution -> compiler)? jsx, json, js, less and etc?</p></li>\n<li><p>According to doc add \"spring.devtools.restart.additional-paths\"</p></li>\n</ol>\n\n<p>Did anyone was able to do that? We are not getting any errors and etc...</p>\n\n<p>Let me know if something seems to be unclear so we can clarify that</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679515016,"creation_date":1679515016,"answer_id":75816757,"question_id":75816713,"body_markdown":"The SO question https://stackoverflow.com/questions/56286934/which-cipher-suites-algorithm-are-supported-in-jdk11-and-which-one-is-best-to-us has the answer buried in details of answering a related question.\r\n\r\nThe link is:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names\r\n\r\nThe table is very large so it is not reproduced below.","title":"How can I get a list of cipher suites available in java 11?","body":"<p>The SO question <a href=\"https://stackoverflow.com/questions/56286934/which-cipher-suites-algorithm-are-supported-in-jdk11-and-which-one-is-best-to-us\">Which Cipher Suites Algorithm Are Supported in Jdk11 and Which One is Best to Use with TLSv1.2</a> has the answer buried in details of answering a related question.</p>\n<p>The link is:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names</a></p>\n<p>The table is very large so it is not reproduced below.</p>\n"},{"comments":[{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1679672446,"post_id":75816913,"comment_id":133768544,"body_markdown":"On the last line of your sample code, I got a syntax error and changed it to get it to compile.","body":"On the last line of your sample code, I got a syntax error and changed it to get it to compile."}],"tags":[],"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679517556,"creation_date":1679516256,"answer_id":75816913,"question_id":75816713,"body_markdown":"\r\n\r\n    SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n    SSLSocket secureSocket = (SSLSocket) f.createSocket();\r\n    stream(secureSocket.getSupportedCipherSuites()).forEach(System.out::println);\r\n\r\np.s. \r\nAlso there is this cool link from mozilla that recommend based on the webserver: https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6","title":"How can I get a list of cipher suites available in java 11?","body":"<pre><code>SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\nSSLSocket secureSocket = (SSLSocket) f.createSocket();\nstream(secureSocket.getSupportedCipherSuites()).forEach(System.out::println);\n</code></pre>\n<p>p.s.\nAlso there is this cool link from mozilla that recommend based on the webserver: <a href=\"https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6\" rel=\"nofollow noreferrer\">https://ssl-config.mozilla.org/#server=tomcat&amp;version=9.0.30&amp;config=intermediate&amp;guideline=5.6</a></p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1679517556,"creation_date":1679514730,"question_id":75816713,"body_markdown":"I&#39;m debugging an SSL problem and trying find how Java knows what cipher suites are supported.\r\n\r\n**How can I get a list of the cipher suites that are supported by TLSv1.2 in Java 11?**\r\n\r\n**Is there Java code I could write to list the cipher suites available?**\r\n\r\n## Searching for answers:\r\n\r\nI found that `openssl` can list several.\r\n```\r\nopenssl ciphers -V | head\r\n          0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n          0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\r\n          0xC0,0x28 - ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384\r\n          0xC0,0x24 - ECDHE-ECDSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA384\r\n          0xC0,0x14 - ECDHE-RSA-AES256-SHA    SSLv3 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\r\n          0xC0,0x0A - ECDHE-ECDSA-AES256-SHA  SSLv3 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\r\n          0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0xA3 - DHE-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=DSS  Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0xA1 - DH-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH/RSA   Au=DH   Enc=AESGCM(256) Mac=AEAD\r\n          0x00,0x9F - DHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n```\r\n","title":"How can I get a list of cipher suites available in java 11?","body":"<p>I'm debugging an SSL problem and trying find how Java knows what cipher suites are supported.</p>\n<p><strong>How can I get a list of the cipher suites that are supported by TLSv1.2 in Java 11?</strong></p>\n<p><strong>Is there Java code I could write to list the cipher suites available?</strong></p>\n<h2>Searching for answers:</h2>\n<p>I found that <code>openssl</code> can list several.</p>\n<pre><code>openssl ciphers -V | head\n          0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\n          0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\n          0xC0,0x28 - ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384\n          0xC0,0x24 - ECDHE-ECDSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA384\n          0xC0,0x14 - ECDHE-RSA-AES256-SHA    SSLv3 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\n          0xC0,0x0A - ECDHE-ECDSA-AES256-SHA  SSLv3 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\n          0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\n          0x00,0xA3 - DHE-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=DSS  Enc=AESGCM(256) Mac=AEAD\n          0x00,0xA1 - DH-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH/RSA   Au=DH   Enc=AESGCM(256) Mac=AEAD\n          0x00,0x9F - DHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","security","fortify"],"comments":[{"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"score":0,"creation_date":1608285620,"post_id":65354660,"comment_id":115542157,"body_markdown":"Could you share the `request` variable details?","body":"Could you share the <code>request</code> variable details?"}],"answers":[{"comments":[{"owner":{"account_id":9827701,"reputation":13,"user_id":7280406,"display_name":"nooruto"},"score":0,"creation_date":1608313874,"post_id":65355276,"comment_id":115554473,"body_markdown":"Hi,\nthanks I used your suggestion and can validate the classes successfully! :D\n\nHowever Fortify is still not marking the issue as Fixed. I updated the description with further snippets. \n\nI also updated the lines triggering the unsafe deserialization.\n\nIs there anything else we can do at the controller method `verify()` to validate the `request`?","body":"Hi, thanks I used your suggestion and can validate the classes successfully! :D  However Fortify is still not marking the issue as Fixed. I updated the description with further snippets.   I also updated the lines triggering the unsafe deserialization.  Is there anything else we can do at the controller method <code>verify()</code> to validate the <code>request</code>?"}],"tags":[],"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608286911,"creation_date":1608286911,"answer_id":65355276,"question_id":65354660,"body_markdown":"You can use `accept` and `reject` methods to safer deserialization operation.\r\n\r\nExample:\r\n```java\r\nimport com.sun.xml.internal.ws.util.ByteArrayBuffer;\r\nimport org.apache.commons.io.serialization.ValidatingObjectInputStream;\r\n\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        Bar bar = new Bar(&quot;bar-test&quot;);\r\n        Foo foo = new Foo(&quot;test-foo&quot;, bar);\r\n\r\n        // write into an array buffer\r\n        ByteArrayBuffer buffer = new ByteArrayBuffer();\r\n        try (ObjectOutputStream serializeStream = new ObjectOutputStream(buffer)) {\r\n            serializeStream.writeObject(foo);\r\n        }\r\n\r\n        try (ValidatingObjectInputStream stream = new ValidatingObjectInputStream(buffer.newInputStream())) {\r\n            // add validated classes\r\n            stream.accept(Foo.class);\r\n            stream.accept(Bar.class);\r\n\r\n\r\n            Foo foo2 = (Foo) stream.readObject();\r\n            System.out.println(foo2);\r\n        }\r\n    }\r\n\r\n    public static class Foo implements Serializable {\r\n        private String name;\r\n        private Bar bar;\r\n\r\n        public Foo(String name, Bar bar) {\r\n            this.name = name;\r\n            this.bar = bar;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Foo{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, bar=&quot; + bar +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class Bar implements Serializable {\r\n        private String name;\r\n\r\n        public Bar(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bar{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>You can use <code>accept</code> and <code>reject</code> methods to safer deserialization operation.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.xml.internal.ws.util.ByteArrayBuffer;\nimport org.apache.commons.io.serialization.ValidatingObjectInputStream;\n\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        Bar bar = new Bar(&quot;bar-test&quot;);\n        Foo foo = new Foo(&quot;test-foo&quot;, bar);\n\n        // write into an array buffer\n        ByteArrayBuffer buffer = new ByteArrayBuffer();\n        try (ObjectOutputStream serializeStream = new ObjectOutputStream(buffer)) {\n            serializeStream.writeObject(foo);\n        }\n\n        try (ValidatingObjectInputStream stream = new ValidatingObjectInputStream(buffer.newInputStream())) {\n            // add validated classes\n            stream.accept(Foo.class);\n            stream.accept(Bar.class);\n\n\n            Foo foo2 = (Foo) stream.readObject();\n            System.out.println(foo2);\n        }\n    }\n\n    public static class Foo implements Serializable {\n        private String name;\n        private Bar bar;\n\n        public Foo(String name, Bar bar) {\n            this.name = name;\n            this.bar = bar;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Foo{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, bar=&quot; + bar +\n                    '}';\n        }\n    }\n\n    public static class Bar implements Serializable {\n        private String name;\n\n        public Bar(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Bar{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8974840,"reputation":359,"user_id":6692088,"display_name":"Kevin Valdez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517516,"creation_date":1679517516,"answer_id":75817061,"question_id":65354660,"body_markdown":"The fortify issue makes sense since `SerializationUtils.clone` first deserialize and then serialize the content into a new object.\r\n\r\nA work around I found for this specific scenario with cloning is to use other deep clone library. here is an example.\r\n\r\n    public void deepClone() {\r\n        User pm = new User(&quot;Kevin&quot;, &quot;13&quot;, &quot;test@test.com&quot;);\r\n        Gson gson = new Gson();\r\n        //Deep clone object\r\n        User deepCopy = gson.fromJson(gson.toJson(pm), User.class);\r\n    }\r\n\r\nWith this method the class you want to clone eg. User.Class doesn&#39;t need to implement `Serializable`","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>The fortify issue makes sense since <code>SerializationUtils.clone</code> first deserialize and then serialize the content into a new object.</p>\n<p>A work around I found for this specific scenario with cloning is to use other deep clone library. here is an example.</p>\n<pre><code>public void deepClone() {\n    User pm = new User(&quot;Kevin&quot;, &quot;13&quot;, &quot;test@test.com&quot;);\n    Gson gson = new Gson();\n    //Deep clone object\n    User deepCopy = gson.fromJson(gson.toJson(pm), User.class);\n}\n</code></pre>\n<p>With this method the class you want to clone eg. User.Class doesn't need to implement <code>Serializable</code></p>\n"}],"owner":{"account_id":9827701,"reputation":13,"user_id":7280406,"display_name":"nooruto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65355276,"answer_count":2,"score":0,"last_activity_date":1679517516,"creation_date":1608284264,"question_id":65354660,"body_markdown":"I am getting Fortify issue **Dynamic Code Evaluation: Unsafe Deserialization** on the lines below:\r\n\r\n```\r\n@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\r\n\tpublic JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request)\r\n\r\n```\r\n\r\n```\r\nJsonDocVerifyRequestV3 temp = (JsonDocVerifyRequestV3)SerializationUtils.clone(request);\r\n\r\n```\r\n\r\nThe solution for unsafe deserialization is this https://www.ibm.com/developerworks/library/se-lookahead/ \r\nBut as you can see in my codes I am not using ByteArrayOutputStream to deserialize the object.\r\n\r\nIs this a false positive by Fortify? If not, how can I use \r\n\r\n```\r\norg.apache.commons.io.serialization.ValidatingObjectInputStream\r\n```\r\nto validate the class? Any code sample will be of great help!\r\n\r\nThese are the snippets:\r\n\r\n```java\r\n\t@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\r\n\tpublic JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request) {\r\n\r\n\t\tdebugJsonRequest(request, DOC_TYPE.khIdBack);\r\n\r\n\t\tJsonDocVerifyResponse response = new JsonDocVerifyResponse();\r\n\r\n\t\treturn response;\r\n\t}\r\n   public void debugJsonRequest(JsonDocVerifyRequestV3 request, DOC_TYPE docType) {\r\n\r\n        try {\r\n\r\n          JsonDocVerifyRequestV3 temp(JsonDocVerifyRequestV3) SerializationUtils.clone(request);\r\n\r\n          LOGGER.debug(&quot;{}|{}&quot;, docType, CommonUtil.debugJsonObject(temp));\r\n\r\n        } catch(Exception e) {\r\n         LOGGER.error(&quot;Error in debug json object&quot;, e);\r\n        }\r\n\r\n }\r\n```","title":"Dynamic Code Evaluation: Unsafe Deserialization on SerializationUtils.clone()","body":"<p>I am getting Fortify issue <strong>Dynamic Code Evaluation: Unsafe Deserialization</strong> on the lines below:</p>\n<pre><code>@RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\n    public JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request)\n\n</code></pre>\n<pre><code>JsonDocVerifyRequestV3 temp = (JsonDocVerifyRequestV3)SerializationUtils.clone(request);\n\n</code></pre>\n<p>The solution for unsafe deserialization is this <a href=\"https://www.ibm.com/developerworks/library/se-lookahead/\" rel=\"nofollow noreferrer\">https://www.ibm.com/developerworks/library/se-lookahead/</a>\nBut as you can see in my codes I am not using ByteArrayOutputStream to deserialize the object.</p>\n<p>Is this a false positive by Fortify? If not, how can I use</p>\n<pre><code>org.apache.commons.io.serialization.ValidatingObjectInputStream\n</code></pre>\n<p>to validate the class? Any code sample will be of great help!</p>\n<p>These are the snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestMapping(value=&quot;/v2/doc&quot;, method=RequestMethod.POST)\n    public JsonDocVerifyResponse verify(@RequestBody JsonDocVerifyRequestV3 request) {\n\n        debugJsonRequest(request, DOC_TYPE.khIdBack);\n\n        JsonDocVerifyResponse response = new JsonDocVerifyResponse();\n\n        return response;\n    }\n   public void debugJsonRequest(JsonDocVerifyRequestV3 request, DOC_TYPE docType) {\n\n        try {\n\n          JsonDocVerifyRequestV3 temp(JsonDocVerifyRequestV3) SerializationUtils.clone(request);\n\n          LOGGER.debug(&quot;{}|{}&quot;, docType, CommonUtil.debugJsonObject(temp));\n\n        } catch(Exception e) {\n         LOGGER.error(&quot;Error in debug json object&quot;, e);\n        }\n\n }\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678958904,"post_id":75752718,"comment_id":133634806,"body_markdown":"which version of Spring Data Elasticsearch do you use? The `RestHighLevel` client is deprectaed anyway.","body":"which version of Spring Data Elasticsearch do you use? The <code>RestHighLevel</code> client is deprectaed anyway."},{"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"score":0,"creation_date":1678974609,"post_id":75752718,"comment_id":133639644,"body_markdown":"I am using Spring Data Elasticsearch with 4.0.8 version","body":"I am using Spring Data Elasticsearch with 4.0.8 version"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1678976414,"post_id":75752718,"comment_id":133640237,"body_markdown":"well that&#39;s pretty outdated; 4.0.8 was release on March 17, 2021, the 4.0 branch had EOL in February 2022.","body":"well that&#39;s pretty outdated; 4.0.8 was release on March 17, 2021, the 4.0 branch had EOL in February 2022."}],"answers":[{"comments":[{"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"score":0,"creation_date":1678949980,"post_id":75752905,"comment_id":133632677,"body_markdown":"If I want to insert the &quot;dynamic fields&quot; block that is outside the &quot;properties&quot; block. Any solution for this bro?","body":"If I want to insert the &quot;dynamic fields&quot; block that is outside the &quot;properties&quot; block. Any solution for this bro?"},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":0,"creation_date":1678952417,"post_id":75752905,"comment_id":133633166,"body_markdown":"Can you clarify your question? I didn&#39;t understood :/","body":"Can you clarify your question? I didn&#39;t understood :/"},{"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"score":0,"creation_date":1678974419,"post_id":75752905,"comment_id":133639571,"body_markdown":"oh sorry guy! I just edited/updated my expected index above. You might scroll up to see what I mentioned.","body":"oh sorry guy! I just edited/updated my expected index above. You might scroll up to see what I mentioned."}],"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678949398,"creation_date":1678949398,"answer_id":75752905,"question_id":75752718,"body_markdown":"You can&#39;t change a field type, and you can&#39;t remove any existing fields but you can add additional fields to your existing mapping.\r\nHere is the official documentation about it. [ESv6][1] and [ESv8][2]\r\n\r\nHere is an example:\r\n\r\nCreate the index\r\n\r\n    PUT my_index \r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;_doc&quot;: {\r\n          &quot;properties&quot;: {\r\n            &quot;name&quot;: {\r\n              &quot;properties&quot;: {\r\n                &quot;first&quot;: {\r\n                  &quot;type&quot;: &quot;text&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;user_id&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\nUpdate the mapping\r\n\r\n    PUT my_index/_mapping/_doc\r\n    {\r\n      &quot;properties&quot;: {\r\n        &quot;name&quot;: {\r\n          &quot;properties&quot;: {\r\n            &quot;last&quot;: { \r\n              &quot;type&quot;: &quot;text&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;user_id&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;,\r\n          &quot;ignore_above&quot;: 100 \r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/6.6/indices-put-mapping.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>You can't change a field type, and you can't remove any existing fields but you can add additional fields to your existing mapping.\nHere is the official documentation about it. <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/6.6/indices-put-mapping.html\" rel=\"nofollow noreferrer\">ESv6</a> and <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html\" rel=\"nofollow noreferrer\">ESv8</a></p>\n<p>Here is an example:</p>\n<p>Create the index</p>\n<pre><code>PUT my_index \n{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;name&quot;: {\n          &quot;properties&quot;: {\n            &quot;first&quot;: {\n              &quot;type&quot;: &quot;text&quot;\n            }\n          }\n        },\n        &quot;user_id&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Update the mapping</p>\n<pre><code>PUT my_index/_mapping/_doc\n{\n  &quot;properties&quot;: {\n    &quot;name&quot;: {\n      &quot;properties&quot;: {\n        &quot;last&quot;: { \n          &quot;type&quot;: &quot;text&quot;\n        }\n      }\n    },\n    &quot;user_id&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;,\n      &quot;ignore_above&quot;: 100 \n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28029785,"reputation":1,"user_id":21409157,"display_name":"Jeroki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517420,"creation_date":1678951091,"answer_id":75753116,"question_id":75752718,"body_markdown":"To update your existing index mapping without losing data, you can use one of these methods:\r\n\r\n1. Use the reindex API to create a new index with the new mapping and copy the data from the old index to the new index. Then change the alias to point to the new index. This method preserves your data and allows you to change any mapping parameter, but it requires extra disk space and time for reindexing.\r\n\r\n2. Use the update mapping API to add new fields or change some supported mapping parameters of existing fields in your old index. This method does not require reindexing or extra disk space, but it has some limitations on what you can change. For example, you cannot change the field type or analyzer of an existing field.\r\n\r\n3. Use spring-data-elasticsearch repository to perform either of the above methods using Java code. You can use @Mapping annotation on your entity class to specify the mapping for your new index, and use ElasticsearchOperations.reindex() method to reindex your data from old index to new index. You can also use ElasticsearchOperations.putMapping() method to update your existing index mapping with some supported changes.","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>To update your existing index mapping without losing data, you can use one of these methods:</p>\n<ol>\n<li><p>Use the reindex API to create a new index with the new mapping and copy the data from the old index to the new index. Then change the alias to point to the new index. This method preserves your data and allows you to change any mapping parameter, but it requires extra disk space and time for reindexing.</p>\n</li>\n<li><p>Use the update mapping API to add new fields or change some supported mapping parameters of existing fields in your old index. This method does not require reindexing or extra disk space, but it has some limitations on what you can change. For example, you cannot change the field type or analyzer of an existing field.</p>\n</li>\n<li><p>Use spring-data-elasticsearch repository to perform either of the above methods using Java code. You can use @Mapping annotation on your entity class to specify the mapping for your new index, and use ElasticsearchOperations.reindex() method to reindex your data from old index to new index. You can also use ElasticsearchOperations.putMapping() method to update your existing index mapping with some supported changes.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21667917,"reputation":31,"user_id":15985987,"display_name":"Furkan &#214;zmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954407,"creation_date":1678954407,"answer_id":75753531,"question_id":75752718,"body_markdown":"can&#39;t change a field type, and you can&#39;t remove any existing fields","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>can't change a field type, and you can't remove any existing fields</p>\n"}],"owner":{"account_id":18699346,"reputation":21,"user_id":13631881,"display_name":"spaceMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1679517420,"creation_date":1678947677,"question_id":75752718,"body_markdown":"I have an existing index &quot;my-index&quot; in Elastic. I&#39;m trying to update this existing index with new fields without losing data.\r\n\r\nI also tried to update the existing index with .putMapping function of RestHighLevelClient but I still got an error like this\r\n&gt; Elasticsearch exception [type=mapper_parsing_exception, reason=Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:...\r\n\r\nHere are the mappings of my existing index\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {\r\n      &quot;properties&quot;: {\r\n        &quot;_class&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;fields&quot;: {\r\n            &quot;keyword&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;,\r\n              &quot;ignore_above&quot;: 420\r\n            }\r\n          }\r\n        },\r\n        &quot;taskType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;updateTime&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;workType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd my expected index is\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {  \r\n    &quot;mappings&quot;: {\r\n    &quot;dynamic_templates&quot;: [\r\n      {\r\n        &quot;strings&quot;: {\r\n          &quot;match_mapping_type&quot;: &quot;string&quot;,\r\n          &quot;mapping&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;dates&quot;: {\r\n          &quot;match_mapping_type&quot;: &quot;date&quot;,\r\n          &quot;mapping&quot;: {\r\n            &quot;type&quot;: &quot;date&quot;,\r\n            &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n          }\r\n        }\r\n      }\r\n    ],\r\n      &quot;properties&quot;: {\r\n        &quot;_class&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;fields&quot;: {\r\n            &quot;keyword&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;,\r\n              &quot;ignore_above&quot;: 420\r\n            }\r\n          }\r\n        },\r\n        &quot;date&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;favorite_color&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;\r\n        },\r\n        &quot;is_active&quot;: {\r\n          &quot;type&quot;: &quot;boolean&quot;\r\n        },\r\n        &quot;number_float&quot;: {\r\n          &quot;type&quot;: &quot;float&quot;\r\n        },\r\n        &quot;number_long&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;taskType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;updateTime&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;updatedDate&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\r\n        },\r\n        &quot;workType&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nCan I update the existing index without losing any data using spring-data-elasticsearch repository??? Thanks for helping.","title":"Update Elasticsearch&#39;s mappings of an existing index","body":"<p>I have an existing index &quot;my-index&quot; in Elastic. I'm trying to update this existing index with new fields without losing data.</p>\n<p>I also tried to update the existing index with .putMapping function of RestHighLevelClient but I still got an error like this</p>\n<blockquote>\n<p>Elasticsearch exception [type=mapper_parsing_exception, reason=Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters:...</p>\n</blockquote>\n<p>Here are the mappings of my existing index</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;_class&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 420\n            }\n          }\n        },\n        &quot;taskType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;updateTime&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;workType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>And my expected index is</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {  \n    &quot;mappings&quot;: {\n    &quot;dynamic_templates&quot;: [\n      {\n        &quot;strings&quot;: {\n          &quot;match_mapping_type&quot;: &quot;string&quot;,\n          &quot;mapping&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;\n          }\n        }\n      },\n      {\n        &quot;dates&quot;: {\n          &quot;match_mapping_type&quot;: &quot;date&quot;,\n          &quot;mapping&quot;: {\n            &quot;type&quot;: &quot;date&quot;,\n            &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n          }\n        }\n      }\n    ],\n      &quot;properties&quot;: {\n        &quot;_class&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n              &quot;type&quot;: &quot;keyword&quot;,\n              &quot;ignore_above&quot;: 420\n            }\n          }\n        },\n        &quot;date&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;favorite_color&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        },\n        &quot;is_active&quot;: {\n          &quot;type&quot;: &quot;boolean&quot;\n        },\n        &quot;number_float&quot;: {\n          &quot;type&quot;: &quot;float&quot;\n        },\n        &quot;number_long&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;taskType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;updateTime&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;updatedDate&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;\n        },\n        &quot;workType&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Can I update the existing index without losing any data using spring-data-elasticsearch repository??? Thanks for helping.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3538238,"reputation":2841,"user_id":2955996,"accept_rate":100,"display_name":"ashokramcse"},"score":0,"creation_date":1417412234,"post_id":27222249,"comment_id":42923188,"body_markdown":"Have you set your Environment variables?","body":"Have you set your Environment variables?"},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":1,"creation_date":1417412861,"post_id":27222249,"comment_id":42923353,"body_markdown":"yes, below are the environment variables: Classpath: E:\\Tomcat\\Tomcat 5.5\\bin\\bootstrap.jar;E:\\oracle\\product\\11.2.0\\client_1\\jdbc\\lib\\ojdbc6.jar;E:\\oracle\\product\\11.2.0\\client_1\\jlib\\orai18n.jar                                          JVM:E:\\Java\\jre\\bin\\server\\jvm.dll                             Options: -Xmx1536m\n-Xms1536m\n-XX:MaxPermSize=120m\n-XX:SurvivorRatio=4\n-Ddatasource=oracle\n-Dcatalina.base=E:\\SmartOffice\\Instances\\TMGNEW\n-Dcatalina.home=E:\\Tomcat\\Tomcat 5.5\n-Djava.endorsed.dirs=E:\\Tomcat\\Tomcat 5.5\\common\\endorsed\n-Djava.io.tmpdir=E:\\SmartOffice\\Instances\\TMGNEW\\temp","body":"yes, below are the environment variables: Classpath: E:\\Tomcat\\Tomcat 5.5\\bin\\bootstrap.jar;E:\\oracle\\product\\11.2.0\\client_1\\jdbc&zwnj;&#8203;\\lib\\ojdbc6.jar;E:\\o&zwnj;&#8203;racle\\product\\11.2.0&zwnj;&#8203;\\client_1\\jlib\\orai1&zwnj;&#8203;8n.jar                                          JVM:E:\\Java\\jre\\bin\\server\\jvm.dll                             Options: -Xmx1536m -Xms1536m -XX:MaxPermSize=120m -XX:SurvivorRatio=4 -Ddatasource=oracle -Dcatalina.base=E:\\SmartOffice\\Instances\\TMGNEW -Dcatalina.home=E:\\Tomcat\\Tomcat 5.5 -Djava.endorsed.dirs=E:\\Tomcat\\Tomcat 5.5\\common\\endorsed -Djava.io.tmpdir=E:\\SmartOffice\\Instances\\TMGNEW\\temp"},{"owner":{"account_id":150942,"reputation":2423,"user_id":364474,"accept_rate":31,"display_name":"bprasanna"},"score":1,"creation_date":1417414096,"post_id":27222249,"comment_id":42923733,"body_markdown":"Add environment variable CATALINA_HOME with path to the location of Apache installation (or extracted folder location). For example: C:\\Program Files\\apache-tomcat-7.0.56","body":"Add environment variable CATALINA_HOME with path to the location of Apache installation (or extracted folder location). For example: C:\\Program Files\\apache-tomcat-7.0.56"},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":0,"creation_date":1417414621,"post_id":27222249,"comment_id":42923949,"body_markdown":"Thanks, learningloop.","body":"Thanks, learningloop."},{"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"score":1,"creation_date":1417414669,"post_id":27222249,"comment_id":42923962,"body_markdown":"Now I am getting the another ejb exceptions; ava.lang.NoClassDefFoundError:                               javax/ejb/EJBException\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)","body":"Now I am getting the another ejb exceptions; ava.lang.NoClassDefFoundError:                               javax/ejb/EJBException \tat java.lang.ClassLoader.defineClass1(Native Method) \tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)"}],"answers":[{"tags":[],"owner":{"account_id":228030,"reputation":1787,"user_id":1350792,"accept_rate":65,"display_name":"Aryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506502967,"creation_date":1506502249,"answer_id":46443435,"question_id":27222249,"body_markdown":"I was facing the same issue. Then I noticed that I have accidentally deleted lib folder from tomcat directory. The issue got resolved as lib folder back in place. ","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I was facing the same issue. Then I noticed that I have accidentally deleted lib folder from tomcat directory. The issue got resolved as lib folder back in place. </p>\n"},{"tags":[],"owner":{"account_id":5048092,"reputation":1045,"user_id":5449497,"display_name":"Douy789"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517921390,"creation_date":1517921390,"answer_id":48643470,"question_id":27222249,"body_markdown":"I faced the same issue and stacktrace using 8.5.11 tomcat. updating to tomcat 8.5.24 solved the issue.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I faced the same issue and stacktrace using 8.5.11 tomcat. updating to tomcat 8.5.24 solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":8218074,"reputation":784,"user_id":6183652,"display_name":"noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532502117,"creation_date":1532499533,"answer_id":51512048,"question_id":27222249,"body_markdown":"From my experience, I have observed that `tomcat` sometimes throws this when there are project dependent jars (could be transitively dependent as well) missing, or not being pointed to properly, or corrupted. So, please check the health of the jars deployed in the server and their dependencies. For example, if you are using `maven` to build your project jars, you could once clear the `.m2/repository` and rebuild the project and deploy again.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>From my experience, I have observed that <code>tomcat</code> sometimes throws this when there are project dependent jars (could be transitively dependent as well) missing, or not being pointed to properly, or corrupted. So, please check the health of the jars deployed in the server and their dependencies. For example, if you are using <code>maven</code> to build your project jars, you could once clear the <code>.m2/repository</code> and rebuild the project and deploy again.</p>\n"},{"tags":[],"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532519855,"creation_date":1532519855,"answer_id":51518298,"question_id":27222249,"body_markdown":"The problem was resolved by adding ejb.jar file into Tomcat/lib folder which is the dependency package to startup.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>The problem was resolved by adding ejb.jar file into Tomcat/lib folder which is the dependency package to startup.</p>\n"},{"tags":[],"owner":{"account_id":14019159,"reputation":1,"user_id":10125797,"display_name":"Prabakaran "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534221315,"creation_date":1534221315,"answer_id":51833772,"question_id":27222249,"body_markdown":"Sometimes, even though all the necessary things are perfect, this error would be reported if there is user VM arguments enclosed with the double quotes, I spent a day to get rid of this. check in run --&gt; run configuration, in arguments tab, VM Arguments, check for the user entries is enclosed with quotes/spaces, if so remove it and &#39;Run&#39;","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Sometimes, even though all the necessary things are perfect, this error would be reported if there is user VM arguments enclosed with the double quotes, I spent a day to get rid of this. check in run --> run configuration, in arguments tab, VM Arguments, check for the user entries is enclosed with quotes/spaces, if so remove it and 'Run'</p>\n"},{"comments":[{"owner":{"account_id":3311534,"reputation":625,"user_id":2784931,"accept_rate":64,"display_name":"cptully"},"score":1,"creation_date":1588787635,"post_id":54050721,"comment_id":109036636,"body_markdown":"The reason your file was getting overwritten was neglecting to change the Server Location from &quot;Use Tomcat Server location&quot; to &quot;Use workspace metadata&quot;","body":"The reason your file was getting overwritten was neglecting to change the Server Location from &quot;Use Tomcat Server location&quot; to &quot;Use workspace metadata&quot;"},{"owner":{"account_id":12607051,"reputation":755,"user_id":9167594,"display_name":"Alisha Raju"},"score":0,"creation_date":1616691251,"post_id":54050721,"comment_id":118088941,"body_markdown":"Thanks a lot! It helped!!","body":"Thanks a lot! It helped!!"},{"owner":{"account_id":2085098,"reputation":439,"user_id":1856258,"display_name":"leole"},"score":0,"creation_date":1625809766,"post_id":54050721,"comment_id":120731225,"body_markdown":"Thanks. Just remember the comment in the catalina.properties file: `Values are enclosed in double quotes (&quot;...&quot;) in case either the${catalina.base} path or the ${catalina.home} path contains a comma.`","body":"Thanks. Just remember the comment in the catalina.properties file: <code>Values are enclosed in double quotes (&quot;...&quot;) in case either the${catalina.base} path or the ${catalina.home} path contains a comma.</code>"}],"tags":[],"owner":{"account_id":6356752,"reputation":1187,"user_id":4933747,"accept_rate":70,"display_name":"Ritesh Jung Thapa"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546680815,"creation_date":1546680815,"answer_id":54050721,"question_id":27222249,"body_markdown":"In my case I changed catatina.properties file found in tomcat_directory/conf from \r\n\r\n    common.loader=&#39;${catalina.base}/lib&#39;,&#39;${catalina.base}/lib/*.jar&#39;,&#39;${catalina.home}/lib&#39;,&#39;${catalina.home}/lib/*.jar&#39;\r\nTo \r\n\r\n    common.loader=${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar\r\nHowever the file always used to get overwritten. I was using eclipse. So, I did the same change in the Servers Project in eclipse. In my case it was Servers/Tomact v9.0 Server/catalina.properties. \r\nI did the same change stated above in this file too. It worked for me. \r\n\r\n","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>In my case I changed catatina.properties file found in tomcat_directory/conf from </p>\n\n<pre><code>common.loader='${catalina.base}/lib','${catalina.base}/lib/*.jar','${catalina.home}/lib','${catalina.home}/lib/*.jar'\n</code></pre>\n\n<p>To </p>\n\n<pre><code>common.loader=${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar\n</code></pre>\n\n<p>However the file always used to get overwritten. I was using eclipse. So, I did the same change in the Servers Project in eclipse. In my case it was Servers/Tomact v9.0 Server/catalina.properties. \nI did the same change stated above in this file too. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":4956891,"reputation":73,"user_id":3989216,"display_name":"MhnSkta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629197446,"creation_date":1629197446,"answer_id":68816002,"question_id":27222249,"body_markdown":"From my experience, I have observed that tomcat sometimes throws this when we keep on running server multiple times, this led server unable to pickup the jars\r\nmy suggestion is to **restart** the eclipse, this resolved my issue","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>From my experience, I have observed that tomcat sometimes throws this when we keep on running server multiple times, this led server unable to pickup the jars\nmy suggestion is to <strong>restart</strong> the eclipse, this resolved my issue</p>\n"},{"tags":[],"owner":{"account_id":9546039,"reputation":120,"user_id":7092095,"display_name":"lahiruhashan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654166985,"creation_date":1654166985,"answer_id":72474991,"question_id":27222249,"body_markdown":"Tomcat by default needs a set of libraries inside the lib folder to bootstrap the starting process inside the tomcat. Make sure you have these libs inside the lib folder. This is for tomcat8.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ulzXR.png","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Tomcat by default needs a set of libraries inside the lib folder to bootstrap the starting process inside the tomcat. Make sure you have these libs inside the lib folder. This is for tomcat8.</p>\n<p><a href=\"https://i.stack.imgur.com/ulzXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulzXR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28031651,"reputation":1,"user_id":21410736,"display_name":"anilburak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517371,"creation_date":1678962703,"answer_id":75754956,"question_id":27222249,"body_markdown":"Before I started the Tomcat Service, I updated a jar file in `tomcat/lib` path. With this probably I corrupted the file. Because when I move back original jar file in `tomcat/lib` I solved the problem. You also have to check `lib/*jar` files.","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>Before I started the Tomcat Service, I updated a jar file in <code>tomcat/lib</code> path. With this probably I corrupted the file. Because when I move back original jar file in <code>tomcat/lib</code> I solved the problem. You also have to check <code>lib/*jar</code> files.</p>\n"}],"owner":{"account_id":3101050,"reputation":129,"user_id":2625170,"display_name":"Abdul Wahid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67961,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":9,"score":12,"last_activity_date":1679517371,"creation_date":1417411973,"question_id":27222249,"body_markdown":"I am unable to start the tomcat 5.5 server due to following error message in the stderr.log.\r\nCan someone please help me, it is kind of emergency. Thanks in advance.\r\n\r\n\r\n    java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina   \r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:200)   \r\n\tat java.security.AccessController.doPrivileged(Native Method)   \r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)   \r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)   \r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)    \r\n\tat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:222)   \r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:410)    \r\n","title":"Tomcat Not starting up&gt; java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina","body":"<p>I am unable to start the tomcat 5.5 server due to following error message in the stderr.log.\nCan someone please help me, it is kind of emergency. Thanks in advance.</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.catalina.startup.Catalina   \nat java.net.URLClassLoader$1.run(URLClassLoader.java:200)   \nat java.security.AccessController.doPrivileged(Native Method)   \nat java.net.URLClassLoader.findClass(URLClassLoader.java:188)   \nat java.lang.ClassLoader.loadClass(ClassLoader.java:306)   \nat java.lang.ClassLoader.loadClass(ClassLoader.java:251)    \nat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:222)   \nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:410)    \n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679502996,"post_id":75814844,"comment_id":133734870,"body_markdown":"Give `Hilo1` a constructor, in that constructor pass a reference to a [*callback*](https://stackoverflow.com/a/19405498/2970947). That answer is a little outdated, because Java does have functors now.","body":"Give <code>Hilo1</code> a constructor, in that constructor pass a reference to a <a href=\"https://stackoverflow.com/a/19405498/2970947\"><i>callback</i></a>. That answer is a little outdated, because Java does have functors now."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1679511388,"post_id":75814844,"comment_id":133736965,"body_markdown":"You want to do two things. You want to make sure that thing B doesn&#39;t start until thing A is finished. In other words, you want to do the two things _sequentially._ So, why not do both of those things in the same thread? [Note: Elliott Frisch&#39;s suggestion to use a callback (see above) is just that. It&#39;s a way of doing both things in the same thread.]","body":"You want to do two things. You want to make sure that thing B doesn&#39;t start until thing A is finished. In other words, you want to do the two things <i>sequentially.</i> So, why not do both of those things in the same thread? [Note: Elliott Frisch&#39;s suggestion to use a callback (see above) is just that. It&#39;s a way of doing both things in the same thread.]"}],"answers":[{"tags":[],"owner":{"account_id":10227377,"reputation":638,"user_id":7549431,"display_name":"Timur Panzhiev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679517329,"creation_date":1679517329,"answer_id":75817036,"question_id":75814844,"body_markdown":"Provide a `callback` when creating your thread to determine when thread is finished. \r\n\r\n```java\r\npublic class Hilo1 extends Thread {\r\n\r\n    private final Callback callback;\r\n\r\n    private int contador = 0;\r\n\r\n    public Hilo1(Callback callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (contador &lt; 6) {\r\n            try {\r\n                Thread.sleep(10000);\r\n                contador++;\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        callback.call();\r\n    }\r\n}\r\n\r\ninterface Callback {\r\n    void call();\r\n}\r\n```","title":"How to detect when a thread has finished so I can do another thing?","body":"<p>Provide a <code>callback</code> when creating your thread to determine when thread is finished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Hilo1 extends Thread {\n\n    private final Callback callback;\n\n    private int contador = 0;\n\n    public Hilo1(Callback callback) {\n        this.callback = callback;\n    }\n\n    @Override\n    public void run() {\n        while (contador &lt; 6) {\n            try {\n                Thread.sleep(10000);\n                contador++;\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        callback.call();\n    }\n}\n\ninterface Callback {\n    void call();\n}\n</code></pre>\n"}],"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679517329,"creation_date":1679502331,"question_id":75814844,"body_markdown":"I have this thread.\r\n\r\n    class Hilo1 extends Thread {\r\n                @Override\r\n                public void run() {\r\n                    while (contador&lt;6) {\r\n                        try {\r\n                            Thread.sleep(10000);\r\n                            runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n    contador++;\r\n    }\r\n\r\n    \r\n                                \r\n                            });\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nThis thread finishes after a minute, because it runs every 10 seconds and it does that 6 times.\r\nWhen it&#180;s done, I&#180;d like to do some tasks, but I don&#180;t know how to detect when it finishes. I have read about isAlive() method but my project doesn&#180;t let me use it. I&#180;d like to detect when it finishes so I can do the next tasks that have to be done once Hilo1 has finished.\r\nThank you.","title":"How to detect when a thread has finished so I can do another thing?","body":"<p>I have this thread.</p>\n<pre><code>class Hilo1 extends Thread {\n            @Override\n            public void run() {\n                while (contador&lt;6) {\n                    try {\n                        Thread.sleep(10000);\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\ncontador++;\n}\n\n\n                            \n                        });\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>This thread finishes after a minute, because it runs every 10 seconds and it does that 6 times.\nWhen its done, Id like to do some tasks, but I dont know how to detect when it finishes. I have read about isAlive() method but my project doesnt let me use it. Id like to detect when it finishes so I can do the next tasks that have to be done once Hilo1 has finished.\nThank you.</p>\n"},{"tags":["java","xml","spring","spring-boot","jaxb"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679339895,"post_id":75793473,"comment_id":133701115,"body_markdown":"What is your question? What specific problem are you facing?","body":"What is your question? What specific problem are you facing?"},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1679394068,"post_id":75793473,"comment_id":133709898,"body_markdown":"@andrewJames edited now. Please have a look","body":"@andrewJames edited now. Please have a look"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1679557925,"post_id":75793473,"comment_id":133743786,"body_markdown":"Kindly see if this helps you https://stackoverflow.com/questions/22776126/how-to-remove-namespace-from-generated-jaxb","body":"Kindly see if this helps you <a href=\"https://stackoverflow.com/questions/22776126/how-to-remove-namespace-from-generated-jaxb\" title=\"how to remove namespace from generated jaxb\">stackoverflow.com/questions/22776126/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1679676989,"post_id":75817031,"comment_id":133769746,"body_markdown":"I am using the Java first approach but it is not working for me.","body":"I am using the Java first approach but it is not working for me."}],"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679517281,"creation_date":1679517281,"answer_id":75817031,"question_id":75793473,"body_markdown":"### Solutions\r\n\r\n+ Schema First Design\r\n+ Java First Design\r\n\r\n#### Schema First Design\r\n\r\nLet&#39;s begin with the XML example for `BCResponse` and create XML Schema(s) for the given elements. Then JAXB can generate the Java classes using its XJC compiler.\r\n\r\n[Here][1] is a Maven project named **Publisher** using the standard file layout. This project includes:\r\n\r\n+ An XML Schema file [Publisher-BCResponse.xsd][4] for the `BCResponse` model\r\n+ An XML Schema file [Publisher-Request.xsd][5] for the `Request` model\r\n+ A JAXB *binding* file [Publisher.xjb][6] for package configuration\r\n+ A JUnit test class [PublisherTest.java][7] to verify (un)marshalling\r\n+ Sample XML [files][8] with `Publisher` data.\r\n+ The Maven POM file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nPublisher\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                Publisher-BCResponse.xsd\r\n                Publisher-Request.xsd\r\n                Publisher.xjb\r\n        test\r\n            java\r\n                com/models/PublisherTest.java\r\n            resources\r\n                simplelogger.properties\r\n            samples\r\n                BCResponse01.xml\r\n                BCResponse02.xml\r\n                Request01.xml\r\n    pom.xml\r\n~~~\r\n\r\nThe [download][1] contains a stand-alone Maven project that can be executed using:\r\n\r\n~~~\r\nmvn clean test\r\n~~~\r\n\r\nThe JAXB classes are generated by this plugin using this project&#39;s [pom.xml][3]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n\r\ncom\r\n models\r\n     request\r\n    &#160;&#160;  LegalEntity.java\r\n    &#160;&#160;  ObjectFactory.java\r\n    &#160;&#160;  package-info.java\r\n    &#160;&#160;  PartyId.java\r\n    &#160;&#160;  Request.java\r\n     response\r\n         BCResponse.java\r\n         Content.java\r\n         ObjectFactory.java\r\n         Response.java\r\n         ResponseStatus.java\r\n~~~\r\n\r\n##### Approach\r\n\r\nThe [Publisher-BCResponse.xsd][4] schema does not declare a namespace and is configured to *import* the [Publisher-Request.xsd][5] schema using the prefix `&quot;ns2&quot;`.\r\n\r\n~~~\r\nxmlns:ns2=&quot;http://uri.abc.com/ML&quot;\r\n&lt;xs:import namespace=&quot;http://uri.abc.com/ML&quot; schemaLocation=&quot;Publisher-Request.xsd&quot;/&gt;\r\n~~~\r\n\r\n&gt; Note: The prefix is arbitrary and could have been `&quot;abc&quot;`\r\n\r\nThe [Publisher-Request.xsd][5] schema declares its namespace, as follows:\r\n\r\n~~~\r\nxmlns:tns=&quot;http://uri.abc.com/ML&quot;\r\ntargetNamespace=&quot;http://uri.abc.com/ML&quot;\r\n~~~\r\n\r\nThe [Publisher.xjb][6] binding file configures JAXB to generate the classes, as follows:\r\n\r\n~~~\r\n&lt;jaxb:package name=&quot;com.models.request&quot;/&gt;\r\n&lt;jaxb:package name=&quot;com.models.response&quot;/&gt;\r\n~~~\r\n\r\n##### Testing\r\n\r\nThe JUnit test class, [PublisherTest.java][7], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][8] path is *unmarshaled* to a `BCResponse` object or a `Request` object. When successful, each object is *marshaled* for logging and your [review][2].\r\n\r\n#### Java First Design\r\n\r\nIn this approach the JAXB classes are created by you. Here&#39;s how they should look:\r\n\r\n**package-info.java**\r\n~~~\r\n@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://uri.abc.com/ML&quot;)\r\npackage com.models.request;\r\n~~~\r\n\r\n**Request.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;legalEntity&quot; })\r\n@XmlRootElement(name = &quot;Request&quot;)\r\npublic class Request implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected LegalEntity legalEntity;\r\n    public LegalEntity getLegalEntity() { return legalEntity; }\r\n    public void setLegalEntity(LegalEntity value) { this.legalEntity = value; }\r\n}\r\n~~~\r\n\r\n**LegalEntity.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;partyId&quot; })\r\npublic class LegalEntity implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected PartyId partyId;\r\n    public PartyId getPartyId() { return partyId; }\r\n    public void setPartyId(PartyId value) { this.partyId = value; }\r\n}\r\n~~~\r\n\r\n**PartyId.java**\r\n~~~\r\npackage com.models.request;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;id&quot; })\r\npublic class PartyId implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n}\r\n~~~\r\n\r\n**BCResponse.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;publisher&quot;, &quot;content&quot; })\r\n@XmlRootElement(name = &quot;BCResponse&quot;)\r\npublic class BCResponse implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String publisher;\r\n    public String getPublisher() { return publisher; }\r\n    public void setPublisher(String value) { this.publisher = value; }\r\n\r\n    @XmlElement(required = true)\r\n    protected Content content;\r\n    public Content getContent() { return content; }\r\n    public void setContent(Content value) { this.content = value; }\r\n}\r\n\r\n~~~\r\n\r\n**Content.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport com.models.request.Request;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;request&quot;, &quot;response&quot; })\r\npublic class Content implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(name = &quot;Request&quot;, namespace = &quot;http://uri.abc.com/ML&quot;, required = true)\r\n    protected Request request;\r\n    public Request getRequest() { return request; }\r\n    public void setRequest(Request value) { this.request = value; }\r\n\r\n    @XmlElement(name = &quot;Response&quot;, required = true)\r\n    protected Response response;\r\n    public Response getResponse() { return response; }\r\n    public void setResponse(Response value) { this.response = value; }\r\n}\r\n~~~\r\n\r\n**Response.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;responseStatus&quot; })\r\npublic class Response implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(name = &quot;ResponseStatus&quot;, required = true)\r\n    protected ResponseStatus responseStatus;\r\n    public ResponseStatus getResponseStatus() { return responseStatus; }\r\n    public void setResponseStatus(ResponseStatus value) { this.responseStatus = value; }\r\n}\r\n~~~\r\n\r\n**ResponseStatus.java**\r\n~~~\r\npackage com.models.response;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;statusType&quot; })\r\npublic class ResponseStatus implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElement(required = true)\r\n    protected String statusType;\r\n    public String getStatusType() { return statusType; }\r\n    public void setStatusType(String value) { this.statusType = value; }\r\n}\r\n~~~\r\n\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/OUTPUT.txt\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/project-pom.xml\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\r\n[8]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\r\n","title":"NS2 prefix with JaXb","body":"<h3>Solutions</h3>\n<ul>\n<li>Schema First Design</li>\n<li>Java First Design</li>\n</ul>\n<h4>Schema First Design</h4>\n<p>Let's begin with the XML example for <code>BCResponse</code> and create XML Schema(s) for the given elements. Then JAXB can generate the Java classes using its XJC compiler.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">Here</a> is a Maven project named <strong>Publisher</strong> using the standard file layout. This project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\" rel=\"nofollow noreferrer\">Publisher-BCResponse.xsd</a> for the <code>BCResponse</code> model</li>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> for the <code>Request</code> model</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\" rel=\"nofollow noreferrer\">Publisher.xjb</a> for package configuration</li>\n<li>A JUnit test class <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\" rel=\"nofollow noreferrer\">PublisherTest.java</a> to verify (un)marshalling</li>\n<li>Sample XML <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\" rel=\"nofollow noreferrer\">files</a> with <code>Publisher</code> data.</li>\n<li>The Maven POM file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Publisher\n    src\n        main\n            java\n            resources\n                Publisher-BCResponse.xsd\n                Publisher-Request.xsd\n                Publisher.xjb\n        test\n            java\n                com/models/PublisherTest.java\n            resources\n                simplelogger.properties\n            samples\n                BCResponse01.xml\n                BCResponse02.xml\n                Request01.xml\n    pom.xml\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-publisher-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">download</a> contains a stand-alone Maven project that can be executed using:</p>\n<pre><code>mvn clean test\n</code></pre>\n<p>The JAXB classes are generated by this plugin using this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n\ncom\n models\n     request\n      LegalEntity.java\n      ObjectFactory.java\n      package-info.java\n      PartyId.java\n      Request.java\n     response\n         BCResponse.java\n         Content.java\n         ObjectFactory.java\n         Response.java\n         ResponseStatus.java\n</code></pre>\n<h5>Approach</h5>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-BCResponse.xsd\" rel=\"nofollow noreferrer\">Publisher-BCResponse.xsd</a> schema does not declare a namespace and is configured to <em>import</em> the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> schema using the prefix <code>&quot;ns2&quot;</code>.</p>\n<pre><code>xmlns:ns2=&quot;http://uri.abc.com/ML&quot;\n&lt;xs:import namespace=&quot;http://uri.abc.com/ML&quot; schemaLocation=&quot;Publisher-Request.xsd&quot;/&gt;\n</code></pre>\n<blockquote>\n<p>Note: The prefix is arbitrary and could have been <code>&quot;abc&quot;</code></p>\n</blockquote>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher-Request.xsd\" rel=\"nofollow noreferrer\">Publisher-Request.xsd</a> schema declares its namespace, as follows:</p>\n<pre><code>xmlns:tns=&quot;http://uri.abc.com/ML&quot;\ntargetNamespace=&quot;http://uri.abc.com/ML&quot;\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/main/resources/Publisher.xjb\" rel=\"nofollow noreferrer\">Publisher.xjb</a> binding file configures JAXB to generate the classes, as follows:</p>\n<pre><code>&lt;jaxb:package name=&quot;com.models.request&quot;/&gt;\n&lt;jaxb:package name=&quot;com.models.response&quot;/&gt;\n</code></pre>\n<h5>Testing</h5>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/src/test/java/com/models/PublisherTest.java\" rel=\"nofollow noreferrer\">PublisherTest.java</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/publisher/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to a <code>BCResponse</code> object or a <code>Request</code> object. When successful, each object is <em>marshaled</em> for logging and your <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/publisher/OUTPUT.txt\" rel=\"nofollow noreferrer\">review</a>.</p>\n<h4>Java First Design</h4>\n<p>In this approach the JAXB classes are created by you. Here's how they should look:</p>\n<p><strong>package-info.java</strong></p>\n<pre><code>@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://uri.abc.com/ML&quot;)\npackage com.models.request;\n</code></pre>\n<p><strong>Request.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;legalEntity&quot; })\n@XmlRootElement(name = &quot;Request&quot;)\npublic class Request implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected LegalEntity legalEntity;\n    public LegalEntity getLegalEntity() { return legalEntity; }\n    public void setLegalEntity(LegalEntity value) { this.legalEntity = value; }\n}\n</code></pre>\n<p><strong>LegalEntity.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;partyId&quot; })\npublic class LegalEntity implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected PartyId partyId;\n    public PartyId getPartyId() { return partyId; }\n    public void setPartyId(PartyId value) { this.partyId = value; }\n}\n</code></pre>\n<p><strong>PartyId.java</strong></p>\n<pre><code>package com.models.request;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;id&quot; })\npublic class PartyId implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n}\n</code></pre>\n<p><strong>BCResponse.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;publisher&quot;, &quot;content&quot; })\n@XmlRootElement(name = &quot;BCResponse&quot;)\npublic class BCResponse implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String publisher;\n    public String getPublisher() { return publisher; }\n    public void setPublisher(String value) { this.publisher = value; }\n\n    @XmlElement(required = true)\n    protected Content content;\n    public Content getContent() { return content; }\n    public void setContent(Content value) { this.content = value; }\n}\n\n</code></pre>\n<p><strong>Content.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport com.models.request.Request;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;request&quot;, &quot;response&quot; })\npublic class Content implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(name = &quot;Request&quot;, namespace = &quot;http://uri.abc.com/ML&quot;, required = true)\n    protected Request request;\n    public Request getRequest() { return request; }\n    public void setRequest(Request value) { this.request = value; }\n\n    @XmlElement(name = &quot;Response&quot;, required = true)\n    protected Response response;\n    public Response getResponse() { return response; }\n    public void setResponse(Response value) { this.response = value; }\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;responseStatus&quot; })\npublic class Response implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(name = &quot;ResponseStatus&quot;, required = true)\n    protected ResponseStatus responseStatus;\n    public ResponseStatus getResponseStatus() { return responseStatus; }\n    public void setResponseStatus(ResponseStatus value) { this.responseStatus = value; }\n}\n</code></pre>\n<p><strong>ResponseStatus.java</strong></p>\n<pre><code>package com.models.response;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;statusType&quot; })\npublic class ResponseStatus implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElement(required = true)\n    protected String statusType;\n    public String getStatusType() { return statusType; }\n    public void setStatusType(String value) { this.statusType = value; }\n}\n</code></pre>\n\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679517281,"creation_date":1679333296,"question_id":75793473,"body_markdown":"I tried all the solution present on the internet but none of them are working for me. ns2 (&lt;ns2:Request&gt;) is getting appended with the class in different java package. I have addded the package.info but it is not helping.\r\n\r\n**POJO:**\r\n\r\n        package com.models.response;\r\n        @XmlRootElement(name = &quot;Response&quot;)\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @Data\r\n        public class ResponseModel extends CommonModel {\r\n        \r\n          private static final long serialVersionUID = -865642381181292886L;\r\n        \r\n          @XmlElement(required = true)\r\n          private ContentModelResponse content;\r\n        }\r\n\r\n    package com.models.response;\r\n    @Data\r\n    @ToString(callSuper = true)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class ContentModelResponse extends ContentModelRequest {\r\n    \r\n      @XmlElement(name = &quot;Response&quot;, required = true)\r\n      private ResponseModel response;\r\n    }\r\n\r\n**Class in different package:**\r\n\r\n    package com.models.request;\r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class ContentModelRequest {\r\n    \r\n        @XmlElement(name = &quot;Request&quot;, required = true)\r\n        protected RequestModel request;\r\n    \r\n    }\r\n\r\n**package.info**\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(\r\n        namespace = &quot;http://uri.abc.com/ML&quot;,\r\n        elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\r\n        xmlns = {\r\n          @javax.xml.bind.annotation.XmlNs(\r\n              namespaceURI = &quot;http://uri.abc.com/ML&quot;,\r\n              prefix = &quot;&quot;)\r\n        })\r\n    package com.models.request;\r\n    \r\nResponse XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;BCResponse\r\n      xmlns:ns2=&quot;http://uri.abc.com/ML&quot;&gt;\r\n      &lt;publisher&gt;\r\n      &lt;/publisher&gt;\r\n      &lt;content&gt;\r\n        &lt;ns2:Request&gt;\r\n          &lt;ns2:legalEntity&gt;\r\n            &lt;ns2:partyId&gt;\r\n              &lt;ns2:id&gt;&lt;/ns2:id&gt;\r\n            &lt;/ns2:partyId&gt;\r\n        &lt;/ns2:Request&gt;\r\n        &lt;Response&gt;\r\n          &lt;ResponseStatus&gt;\r\n            &lt;statusType&gt;ERROR&lt;/statusType&gt;\r\n          &lt;/ResponseStatus&gt;\r\n        &lt;/Response&gt;\r\n      &lt;/content&gt;\r\n    &lt;/BCResponse&gt;","title":"NS2 prefix with JaXb","body":"<p>I tried all the solution present on the internet but none of them are working for me. ns2 (ns2:Request) is getting appended with the class in different java package. I have addded the package.info but it is not helping.</p>\n<p><strong>POJO:</strong></p>\n<pre><code>    package com.models.response;\n    @XmlRootElement(name = &quot;Response&quot;)\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @Data\n    public class ResponseModel extends CommonModel {\n    \n      private static final long serialVersionUID = -865642381181292886L;\n    \n      @XmlElement(required = true)\n      private ContentModelResponse content;\n    }\n\npackage com.models.response;\n@Data\n@ToString(callSuper = true)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ContentModelResponse extends ContentModelRequest {\n\n  @XmlElement(name = &quot;Response&quot;, required = true)\n  private ResponseModel response;\n}\n</code></pre>\n<p><strong>Class in different package:</strong></p>\n<pre><code>package com.models.request;\n@Data\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ContentModelRequest {\n\n    @XmlElement(name = &quot;Request&quot;, required = true)\n    protected RequestModel request;\n\n}\n</code></pre>\n<p><strong>package.info</strong></p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(\n    namespace = &quot;http://uri.abc.com/ML&quot;,\n    elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\n    xmlns = {\n      @javax.xml.bind.annotation.XmlNs(\n          namespaceURI = &quot;http://uri.abc.com/ML&quot;,\n          prefix = &quot;&quot;)\n    })\npackage com.models.request;\n</code></pre>\n<p>Response XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;BCResponse\n  xmlns:ns2=&quot;http://uri.abc.com/ML&quot;&gt;\n  &lt;publisher&gt;\n  &lt;/publisher&gt;\n  &lt;content&gt;\n    &lt;ns2:Request&gt;\n      &lt;ns2:legalEntity&gt;\n        &lt;ns2:partyId&gt;\n          &lt;ns2:id&gt;&lt;/ns2:id&gt;\n        &lt;/ns2:partyId&gt;\n    &lt;/ns2:Request&gt;\n    &lt;Response&gt;\n      &lt;ResponseStatus&gt;\n        &lt;statusType&gt;ERROR&lt;/statusType&gt;\n      &lt;/ResponseStatus&gt;\n    &lt;/Response&gt;\n  &lt;/content&gt;\n&lt;/BCResponse&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gettext"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1679492529,"post_id":75812985,"comment_id":133731510,"body_markdown":"If it is about comparing `String`s, use `inputText.equals(&quot;First Name&quot;)` instead of comparing (more than just the value) by `==`.","body":"If it is about comparing <code>String</code>s, use <code>inputText.equals(&quot;First Name&quot;)</code> instead of comparing (more than just the value) by <code>==</code>."}],"answers":[{"tags":[],"owner":{"account_id":28086384,"reputation":1,"user_id":21456690,"display_name":"Eli Sabayev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679492531,"creation_date":1679492531,"answer_id":75813017,"question_id":75812985,"body_markdown":"Never mind, I just realized I should&#39;ve used .equals(). :)\r\n","title":"Selenium getText() will return the string, but won&#39;t pass the condition","body":"<p>Never mind, I just realized I should've used .equals(). :)</p>\n"}],"owner":{"account_id":28086384,"reputation":1,"user_id":21456690,"display_name":"Eli Sabayev"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679510833,"answer_count":1,"score":-1,"last_activity_date":1679517274,"creation_date":1679492334,"question_id":75812985,"body_markdown":"I&#39;m trying to test form fields on a dynamic page. The fields might occasionally be in a different location, and the id will always be `&quot;input_&quot; + some number`.\r\nFor example - `input_0 = firstname, input_1 = lastname,` etc.\r\n\r\nBecause of that, I created a loop that goes over all the inputs and checks the values, for example, if the text for this input_i is &quot;First Name&quot;, then I will execute the firstname test on this iteration.\r\n\r\nNow, I&#39;m printing the text on each loop, and I can see the correct text by this function:\r\n\r\n`String inputText = inputTextElement.getText(); returns &quot;First Name&quot;`.\r\n`System.out.println(inputText); is printing &quot;First Name&quot;`.\r\nSo far so good.\r\n\r\nBut when I&#39;m moving forward to the condition - if (`inputText == &quot;First Name&quot;`), the condition returns false.\r\n\r\nI&#39;m out of ideas for the cause here. Any suggestions?\r\n\r\nI tried inputText.toString() as well, just in case.\r\nNo luck here, either. ","title":"Selenium getText() will return the string, but won&#39;t pass the condition","body":"<p>I'm trying to test form fields on a dynamic page. The fields might occasionally be in a different location, and the id will always be <code>&quot;input_&quot; + some number</code>.\nFor example - <code>input_0 = firstname, input_1 = lastname,</code> etc.</p>\n<p>Because of that, I created a loop that goes over all the inputs and checks the values, for example, if the text for this input_i is &quot;First Name&quot;, then I will execute the firstname test on this iteration.</p>\n<p>Now, I'm printing the text on each loop, and I can see the correct text by this function:</p>\n<p><code>String inputText = inputTextElement.getText(); returns &quot;First Name&quot;</code>.\n<code>System.out.println(inputText); is printing &quot;First Name&quot;</code>.\nSo far so good.</p>\n<p>But when I'm moving forward to the condition - if (<code>inputText == &quot;First Name&quot;</code>), the condition returns false.</p>\n<p>I'm out of ideas for the cause here. Any suggestions?</p>\n<p>I tried inputText.toString() as well, just in case.\nNo luck here, either.</p>\n"},{"tags":["java","rx-java","reactive-programming","publish-subscribe","reactive-streams"],"comments":[{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1679517244,"post_id":75816891,"comment_id":133738308,"body_markdown":"It could still be used as a mechanism to limit the number of subscriber requests that are processed per batch, for instance if you have a large amount of data you&#39;re processing to display.  Instead of having it all just &quot;pop&quot; in, you could display partial results in batches.  I think the paradigm still generally makes more sense in an asynchronous context, though.","body":"It could still be used as a mechanism to limit the number of subscriber requests that are processed per batch, for instance if you have a large amount of data you&#39;re processing to display.  Instead of having it all just &quot;pop&quot; in, you could display partial results in batches.  I think the paradigm still generally makes more sense in an asynchronous context, though."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1679567812,"post_id":75816891,"comment_id":133746215,"body_markdown":"But there is no chance of overload. Since there is just 1 thread.","body":"But there is no chance of overload. Since there is just 1 thread."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1679568956,"post_id":75816891,"comment_id":133746466,"body_markdown":"If there the producer is on the same thread than the consumer, then backpressure has no practical effect. The moment though the flow wanders between multiple threads, backpressure is essential to limit the internal buffer sizes.\nSee also https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#which-type-to-use","body":"If there the producer is on the same thread than the consumer, then backpressure has no practical effect. The moment though the flow wanders between multiple threads, backpressure is essential to limit the internal buffer sizes. See also <a href=\"https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#which-type-to-use\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava/wiki/&hellip;</a>"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679517203,"creation_date":1679516012,"question_id":75816891,"body_markdown":"Take the following `RxJava` code:\r\n\r\n    public class IntervalObserverTest {\r\n    \r\n        @Test\r\n        public void test() throws InterruptedException {\r\n            CountDownLatch latch = new CountDownLatch(10);\r\n            IntervalPublisher o = new IntervalPublisher();\r\n    \r\n            o.getPublisher().subscribe(new Subscriber&lt;String&gt;() {\r\n    \r\n                volatile Subscription s;\r\n                @Override\r\n                public void onSubscribe(Subscription s) {\r\n                    this.s = s;\r\n                    s.request(10);\r\n                }\r\n    \r\n                @Override\r\n                public void onNext(String s) {\r\n                    System.out.println(Thread.currentThread().getName());\r\n                    latch.countDown();\r\n                }\r\n    \r\n                @Override\r\n                public void onError(Throwable t) {\r\n                    s.cancel();\r\n                }\r\n    \r\n                @Override\r\n                public void onComplete() {\r\n                }\r\n            });\r\n    \r\n            if(!latch.await(5, TimeUnit.SECONDS)) {\r\n                throw new RuntimeException();\r\n            }\r\n        }\r\n    }\r\n    \r\n    class IntervalPublisher {\r\n    \r\n        public Publisher&lt;String&gt; getPublisher() {\r\n            return Flowable.range(1, 100)\r\n                    .map(String::valueOf)\r\n                    .delay(50, TimeUnit.MILLISECONDS)\r\n                    .delaySubscription(100, TimeUnit.MILLISECONDS);\r\n        }\r\n    }\r\n\r\nIt simply prints the thread name on the `onNext()` call.\r\n\r\nHere `onNext()` is actually called by the same thread which runs the Publisher(Flowable):\r\n\r\n    RxComputationThreadPool-2\r\n\r\nThis means that the same thread which runs the `Publisher` is the same thread on the `Subscriber` side. As is expected.\r\n\r\nMy question is then of **what use is the backpressure setting ?**\r\n\r\n**There is no way the Subscriber can be overloaded since their is just ONE thread doing the whole thing.** Correct me if I am wrong.\r\n\r\n**In general, what use is the backpressure setting ?**\r\n\r\nThe only use I can think of is when the `Publisher` and `Subscriber` is on different threads and the `Subscriber` maybe sees that it has a lot of backed up requests in its buffer and decides to tell the `Publisher` to stop producing.\r\n\r\nThis the **classic Producer Consumer problem with a bounded queue**. But this has no meaning when the Publisher and the Subscriber is on the same Thread.\r\n\r\nAm I correct ?","title":"Why is backpressure important with RxJava when the Publisher and Subscriber are on the same Thread?","body":"<p>Take the following <code>RxJava</code> code:</p>\n<pre><code>public class IntervalObserverTest {\n\n    @Test\n    public void test() throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(10);\n        IntervalPublisher o = new IntervalPublisher();\n\n        o.getPublisher().subscribe(new Subscriber&lt;String&gt;() {\n\n            volatile Subscription s;\n            @Override\n            public void onSubscribe(Subscription s) {\n                this.s = s;\n                s.request(10);\n            }\n\n            @Override\n            public void onNext(String s) {\n                System.out.println(Thread.currentThread().getName());\n                latch.countDown();\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                s.cancel();\n            }\n\n            @Override\n            public void onComplete() {\n            }\n        });\n\n        if(!latch.await(5, TimeUnit.SECONDS)) {\n            throw new RuntimeException();\n        }\n    }\n}\n\nclass IntervalPublisher {\n\n    public Publisher&lt;String&gt; getPublisher() {\n        return Flowable.range(1, 100)\n                .map(String::valueOf)\n                .delay(50, TimeUnit.MILLISECONDS)\n                .delaySubscription(100, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>It simply prints the thread name on the <code>onNext()</code> call.</p>\n<p>Here <code>onNext()</code> is actually called by the same thread which runs the Publisher(Flowable):</p>\n<pre><code>RxComputationThreadPool-2\n</code></pre>\n<p>This means that the same thread which runs the <code>Publisher</code> is the same thread on the <code>Subscriber</code> side. As is expected.</p>\n<p>My question is then of <strong>what use is the backpressure setting ?</strong></p>\n<p><strong>There is no way the Subscriber can be overloaded since their is just ONE thread doing the whole thing.</strong> Correct me if I am wrong.</p>\n<p><strong>In general, what use is the backpressure setting ?</strong></p>\n<p>The only use I can think of is when the <code>Publisher</code> and <code>Subscriber</code> is on different threads and the <code>Subscriber</code> maybe sees that it has a lot of backed up requests in its buffer and decides to tell the <code>Publisher</code> to stop producing.</p>\n<p>This the <strong>classic Producer Consumer problem with a bounded queue</strong>. But this has no meaning when the Publisher and the Subscriber is on the same Thread.</p>\n<p>Am I correct ?</p>\n"},{"tags":["java","spring","spring-mvc","file-upload","cloudinary"],"comments":[{"owner":{"account_id":2468942,"reputation":1563,"user_id":2151331,"display_name":"fajarkoe"},"score":6,"creation_date":1403341580,"post_id":24339990,"comment_id":37628230,"body_markdown":"Is there something that prevents you from using the method `MultipartFile.transferTo()`?","body":"Is there something that prevents you from using the method <code>MultipartFile.transferTo()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":2118041,"reputation":2108,"user_id":1881894,"accept_rate":76,"display_name":"Morez"},"score":8,"creation_date":1434380250,"post_id":24340058,"comment_id":49740390,"body_markdown":"I used transferTo Function but I feel there is an issue. like It keeps temp file to drive for local machine.","body":"I used transferTo Function but I feel there is an issue. like It keeps temp file to drive for local machine."},{"owner":{"account_id":6818097,"reputation":983,"user_id":5246050,"accept_rate":88,"display_name":"Half Blood Prince"},"score":0,"creation_date":1461068564,"post_id":24340058,"comment_id":61021648,"body_markdown":"@Ronnie I am having the same issue. Have you found any workaround?","body":"@Ronnie I am having the same issue. Have you found any workaround?"},{"owner":{"account_id":2212759,"reputation":609,"user_id":1954125,"accept_rate":100,"display_name":"kavinder"},"score":1,"creation_date":1461926758,"post_id":24340058,"comment_id":61431723,"body_markdown":"org.apache.commons.io.FileUtils.deleteQuietly(convFile.getParentFile()); , this should delete the temp file @Ronnie","body":"org.apache.commons.io.FileUtils.deleteQuietly(convFile.getPa&zwnj;&#8203;rentFile()); , this should delete the temp file @Ronnie"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1473124490,"post_id":24340058,"comment_id":66009902,"body_markdown":"`createNewFIle()` is both pointless and wasteful here. You are now obliging `new FileOutputStream()` (via the OS) to both delete the file so created *and* create a new one.","body":"<code>createNewFIle()</code> is both pointless and wasteful here. You are now obliging <code>new FileOutputStream()</code> (via the OS) to both delete the file so created <i>and</i> create a new one."},{"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"score":0,"creation_date":1525955978,"post_id":24340058,"comment_id":87563080,"body_markdown":"@Petros Tsialiamanis Does it have any File conversion size limit in Java. Let&#39;s say I am using 3GB of file.","body":"@Petros Tsialiamanis Does it have any File conversion size limit in Java. Let&#39;s say I am using 3GB of file."},{"owner":{"account_id":2801303,"reputation":1136,"user_id":2409495,"accept_rate":41,"display_name":"Rakesh L"},"score":0,"creation_date":1568223454,"post_id":24340058,"comment_id":102209848,"body_markdown":"what will be the value in `dir` variable ? Seems that it is not possible to create a file object without having any file in local storage. Am I right ?","body":"what will be the value in <code>dir</code> variable ? Seems that it is not possible to create a file object without having any file in local storage. Am I right ?"}],"tags":[],"owner":{"account_id":1674523,"reputation":2738,"user_id":1540341,"accept_rate":92,"display_name":"Petros Tsialiamanis"},"comment_count":6,"down_vote_count":2,"up_vote_count":208,"is_accepted":true,"score":206,"last_activity_date":1583965755,"creation_date":1403341406,"answer_id":24340058,"question_id":24339990,"body_markdown":"You can get the content of a `MultipartFile` by using the `getBytes` method and you can write to the file using `Files.newOutputStream()`:\r\n\r\n    public void write(MultipartFile file, Path dir) {\r\n        Path filepath = Paths.get(dir.toString(), file.getOriginalFilename());\r\n        \r\n        try (OutputStream os = Files.newOutputStream(filepath)) {\r\n            os.write(file.getBytes());\r\n        }\r\n    }\r\n\r\nYou can also use the [transferTo method][1]:\r\n\r\n\tpublic void multipartFileToFile(\r\n\t\tMultipartFile multipart, \r\n\t    Path dir\r\n    ) throws IOException {\r\n        Path filepath = Paths.get(dir.toString(), multipart.getOriginalFilename());\r\n\t    multipart.transferTo(filepath);\r\n\t}\r\n\r\n  [1]: http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo%28java.io.File%29","title":"How to convert a multipart file to File?","body":"<p>You can get the content of a <code>MultipartFile</code> by using the <code>getBytes</code> method and you can write to the file using <code>Files.newOutputStream()</code>:</p>\n\n<pre><code>public void write(MultipartFile file, Path dir) {\n    Path filepath = Paths.get(dir.toString(), file.getOriginalFilename());\n\n    try (OutputStream os = Files.newOutputStream(filepath)) {\n        os.write(file.getBytes());\n    }\n}\n</code></pre>\n\n<p>You can also use the <a href=\"http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo%28java.io.File%29\" rel=\"noreferrer\">transferTo method</a>:</p>\n\n<pre><code>public void multipartFileToFile(\n    MultipartFile multipart, \n    Path dir\n) throws IOException {\n    Path filepath = Paths.get(dir.toString(), multipart.getOriginalFilename());\n    multipart.transferTo(filepath);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1473124567,"post_id":37259094,"comment_id":66009922,"body_markdown":"`FileUtils.touch()` is both pointless and wasteful here. You are now obliging `new FileOutputStream()` (via the OS) to both delete the file so created *and* create a new one.","body":"<code>FileUtils.touch()</code> is both pointless and wasteful here. You are now obliging <code>new FileOutputStream()</code> (via the OS) to both delete the file so created <i>and</i> create a new one."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1473675040,"post_id":37259094,"comment_id":66217416,"body_markdown":"Thank you for your comment. I checked the source of the method FileUtils.writeByteArrayToFile. I think that this method is not re-creating the file in case it exists (version 2.4). The multipartFile object includes the bytes of the uploaded file that we want to store somewhere in the filesystem. My purpose is to store this bytes to a preferred location. The only reason I keep the FileUtils.touch method is to make clear that this is a new file. The FileUtils.writeByteArrayToFile creates the file (and the full path) in case it doesn&#39;t exist so the FileUtils.touch is not required.","body":"Thank you for your comment. I checked the source of the method FileUtils.writeByteArrayToFile. I think that this method is not re-creating the file in case it exists (version 2.4). The multipartFile object includes the bytes of the uploaded file that we want to store somewhere in the filesystem. My purpose is to store this bytes to a preferred location. The only reason I keep the FileUtils.touch method is to make clear that this is a new file. The FileUtils.writeByteArrayToFile creates the file (and the full path) in case it doesn&#39;t exist so the FileUtils.touch is not required."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1473676385,"creation_date":1463417317,"answer_id":37259094,"question_id":24339990,"body_markdown":"You can also use the [Apache Commons IO](https://commons.apache.org/proper/commons-io/) library and the [FileUtils class](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html). In case you are using maven you can load it using the above dependency.\r\n  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\nThe source for the MultipartFile save to disk.\r\n  \r\n    File file = new File(directory, filename);\r\n\r\n    // Create the file using the touch method of the FileUtils class.\r\n    // FileUtils.touch(file);\r\n\r\n    // Write bytes from the multipart file to disk.\r\n    FileUtils.writeByteArrayToFile(file, multipartFile.getBytes());","title":"How to convert a multipart file to File?","body":"<p>You can also use the <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Apache Commons IO</a> library and the <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils class</a>. In case you are using maven you can load it using the above dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The source for the MultipartFile save to disk.</p>\n\n<pre><code>File file = new File(directory, filename);\n\n// Create the file using the touch method of the FileUtils class.\n// FileUtils.touch(file);\n\n// Write bytes from the multipart file to disk.\nFileUtils.writeByteArrayToFile(file, multipartFile.getBytes());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1473124546,"post_id":38281222,"comment_id":66009916,"body_markdown":"`createNewFIle()` is both pointless and wasteful here. You are now obliging `new FileOutputStream()` (via the OS) to both delete the file so created *and* create a new one.","body":"<code>createNewFIle()</code> is both pointless and wasteful here. You are now obliging <code>new FileOutputStream()</code> (via the OS) to both delete the file so created <i>and</i> create a new one."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1473722607,"post_id":38281222,"comment_id":66241358,"body_markdown":"@EJP yes, it was pointless, now i fix this mistake made while editing. But createNewFIle() is not wasteful, because if CommonsMultipartFile is less than 10240 bytes, the file in filesystem is not created. So a new file with any unique name (i used the name of DiskFileItem) should be created in the FS.","body":"@EJP yes, it was pointless, now i fix this mistake made while editing. But createNewFIle() is not wasteful, because if CommonsMultipartFile is less than 10240 bytes, the file in filesystem is not created. So a new file with any unique name (i used the name of DiskFileItem) should be created in the FS."},{"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"score":0,"creation_date":1475158489,"post_id":38281222,"comment_id":66839813,"body_markdown":"@Alex78191 What you mean by implicitly save on disk small files (&lt;10240 bytes by default). Is there anyway to increase the limit","body":"@Alex78191 What you mean by implicitly save on disk small files (&lt;10240 bytes by default). Is there anyway to increase the limit"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1475164514,"post_id":38281222,"comment_id":66844040,"body_markdown":"@AnandTagore I mean that MultipartFile&#39;s less than 10240 bytes isn&#39;t saving in the file system, so Files should be created manually.","body":"@AnandTagore I mean that MultipartFile&#39;s less than 10240 bytes isn&#39;t saving in the file system, so Files should be created manually."}],"tags":[],"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"comment_count":4,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1492038369,"creation_date":1468062879,"answer_id":38281222,"question_id":24339990,"body_markdown":"You can access tempfile in Spring by casting if the class of interface `MultipartFile` is `CommonsMultipartFile`.\r\n\r\n    public File getTempFile(MultipartFile multipartFile)\r\n    {\r\n        CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\r\n        FileItem fileItem = commonsMultipartFile.getFileItem();\r\n        DiskFileItem diskFileItem = (DiskFileItem) fileItem;\r\n        String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\r\n        File file = new File(absPath);\r\n\r\n        //trick to implicitly save on disk small files (&lt;10240 bytes by default)\r\n        if (!file.exists()) {\r\n            file.createNewFile();\r\n            multipartFile.transferTo(file);\r\n        }\r\n\r\n        return file;\r\n    }\r\n\r\nTo get rid of the trick with files less than 10240 bytes `maxInMemorySize` property can be set to 0 in `@Configuration` `@EnableWebMvc` class. After that, all uploaded files will be stored on disk.\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver createMultipartResolver() {\r\n            CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n            resolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n            resolver.setMaxInMemorySize(0);\r\n            return resolver;\r\n        }","title":"How to convert a multipart file to File?","body":"<p>You can access tempfile in Spring by casting if the class of interface <code>MultipartFile</code> is <code>CommonsMultipartFile</code>.</p>\n\n<pre><code>public File getTempFile(MultipartFile multipartFile)\n{\n    CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\n    FileItem fileItem = commonsMultipartFile.getFileItem();\n    DiskFileItem diskFileItem = (DiskFileItem) fileItem;\n    String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\n    File file = new File(absPath);\n\n    //trick to implicitly save on disk small files (&lt;10240 bytes by default)\n    if (!file.exists()) {\n        file.createNewFile();\n        multipartFile.transferTo(file);\n    }\n\n    return file;\n}\n</code></pre>\n\n<p>To get rid of the trick with files less than 10240 bytes <code>maxInMemorySize</code> property can be set to 0 in <code>@Configuration</code> <code>@EnableWebMvc</code> class. After that, all uploaded files will be stored on disk.</p>\n\n<pre><code>@Bean(name = \"multipartResolver\")\n    public CommonsMultipartResolver createMultipartResolver() {\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n        resolver.setDefaultEncoding(\"utf-8\");\n        resolver.setMaxInMemorySize(0);\n        return resolver;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14537732,"reputation":332,"user_id":10500532,"display_name":"moze"},"score":0,"creation_date":1659271995,"post_id":39572293,"comment_id":129250379,"body_markdown":"For some reason cloudinary returns `RuntimeException: Missing required parameter - file` when I give the `upload()` method `byte[]` as file param. So annoying.","body":"For some reason cloudinary returns <code>RuntimeException: Missing required parameter - file</code> when I give the <code>upload()</code> method <code>byte[]</code> as file param. So annoying."}],"tags":[],"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1474285140,"creation_date":1474285140,"answer_id":39572293,"question_id":24339990,"body_markdown":"Although the accepted answer is correct but if you are just trying to upload your image to cloudinary, there&#39;s a better way:\r\n\r\n    \t\r\n\t\t\r\n\t\t\r\n    Map upload = cloudinary.uploader().upload(multipartFile.getBytes(), ObjectUtils.emptyMap());\r\n\r\nWhere multipartFile is your **org.springframework.web.multipart.MultipartFile**.\r\n\t\t\t","title":"How to convert a multipart file to File?","body":"<p>Although the accepted answer is correct but if you are just trying to upload your image to cloudinary, there's a better way:</p>\n\n<pre><code>Map upload = cloudinary.uploader().upload(multipartFile.getBytes(), ObjectUtils.emptyMap());\n</code></pre>\n\n<p>Where multipartFile is your <strong>org.springframework.web.multipart.MultipartFile</strong>.</p>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1487826181,"post_id":41373452,"comment_id":71961374,"body_markdown":"`maxInMemorySize` has nothing to do with the limitation on file upload size. File upload size is set by the `maxUploadSize` property.","body":"<code>maxInMemorySize</code> has nothing to do with the limitation on file upload size. File upload size is set by the <code>maxUploadSize</code> property."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":1,"creation_date":1487826255,"post_id":41373452,"comment_id":71961403,"body_markdown":"To get rid of the trick with files less than 10240 bytes `maxInMemorySize` prop can be set to `0`.","body":"To get rid of the trick with files less than 10240 bytes <code>maxInMemorySize</code> prop can be set to <code>0</code>."},{"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"score":0,"creation_date":1491759714,"post_id":41373452,"comment_id":73684380,"body_markdown":"@Alex78191 I have changed this and it worked for me. I had used your code for converting the file. So I changed the properties in the applicationcontext.xml to get rid of the memory limitations. And it works !!!","body":"@Alex78191 I have changed this and it worked for me. I had used your code for converting the file. So I changed the properties in the applicationcontext.xml to get rid of the memory limitations. And it works !!!"},{"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"score":0,"creation_date":1527059473,"post_id":41373452,"comment_id":87976919,"body_markdown":"While creating a file from multipart file, it should be kept in memory. So for that I have to increase the maxInMemorySize.","body":"While creating a file from multipart file, it should be kept in memory. So for that I have to increase the maxInMemorySize."}],"tags":[],"owner":{"account_id":3622741,"reputation":672,"user_id":3021083,"accept_rate":62,"display_name":"Anand Tagore"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483082831,"creation_date":1482988148,"answer_id":41373452,"question_id":24339990,"body_markdown":"The answer by Alex78191 has worked for me.\r\n\r\n    public File getTempFile(MultipartFile multipartFile)\r\n    {\r\n\r\n    CommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\r\n    FileItem fileItem = commonsMultipartFile.getFileItem();\r\n    DiskFileItem diskFileItem = (DiskFileItem) fileItem;\r\n    String absPath = diskFileItem.getStoreLocation().getAbsolutePath();\r\n    File file = new File(absPath);\r\n    \r\n    //trick to implicitly save on disk small files (&lt;10240 bytes by default)\r\n\r\n    if (!file.exists()) {\r\n        file.createNewFile();\r\n        multipartFile.transferTo(file);\r\n    }\r\n\r\n    return file;\r\n    }\r\n\r\n For uploading files having size greater than 10240 bytes please change the maxInMemorySize in multipartResolver to 1MB.\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n\t&lt;!-- setting maximum upload size t 20MB --&gt;\r\n\t&lt;property name=&quot;maxUploadSize&quot; value=&quot;20971520&quot; /&gt;\r\n\t&lt;!-- max size of file in memory (in bytes) --&gt;\r\n\t&lt;property name=&quot;maxInMemorySize&quot; value=&quot;1048576&quot; /&gt;\r\n\t&lt;!-- 1MB --&gt; &lt;/bean&gt;","title":"How to convert a multipart file to File?","body":"<p>The answer by Alex78191 has worked for me.</p>\n\n<pre><code>public File getTempFile(MultipartFile multipartFile)\n{\n\nCommonsMultipartFile commonsMultipartFile = (CommonsMultipartFile) multipartFile;\nFileItem fileItem = commonsMultipartFile.getFileItem();\nDiskFileItem diskFileItem = (DiskFileItem) fileItem;\nString absPath = diskFileItem.getStoreLocation().getAbsolutePath();\nFile file = new File(absPath);\n\n//trick to implicitly save on disk small files (&lt;10240 bytes by default)\n\nif (!file.exists()) {\n    file.createNewFile();\n    multipartFile.transferTo(file);\n}\n\nreturn file;\n}\n</code></pre>\n\n<p>For uploading files having size greater than 10240 bytes please change the maxInMemorySize in multipartResolver to 1MB.</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\"\n    class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;!-- setting maximum upload size t 20MB --&gt;\n&lt;property name=\"maxUploadSize\" value=\"20971520\" /&gt;\n&lt;!-- max size of file in memory (in bytes) --&gt;\n&lt;property name=\"maxInMemorySize\" value=\"1048576\" /&gt;\n&lt;!-- 1MB --&gt; &lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":3,"creation_date":1608832656,"post_id":45729116,"comment_id":115698121,"body_markdown":"this should be the right answer (especially for using the tmp directory, because it will solve some issue like permission denied in linux)","body":"this should be the right answer (especially for using the tmp directory, because it will solve some issue like permission denied in linux)"},{"owner":{"account_id":7874694,"reputation":1606,"user_id":5950846,"accept_rate":50,"display_name":"Swadeshi"},"score":1,"creation_date":1624606224,"post_id":45729116,"comment_id":120409204,"body_markdown":"@HoussemBadri  yes, considering permission issues, etc this is required.","body":"@HoussemBadri  yes, considering permission issues, etc this is required."},{"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"score":1,"creation_date":1627435824,"post_id":45729116,"comment_id":121153923,"body_markdown":"Linux User here, Only this solution worked for me. 2021. thanks","body":"Linux User here, Only this solution worked for me. 2021. thanks"}],"tags":[],"owner":{"account_id":7874694,"reputation":1606,"user_id":5950846,"accept_rate":50,"display_name":"Swadeshi"},"comment_count":3,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1502955208,"creation_date":1502955208,"answer_id":45729116,"question_id":24339990,"body_markdown":"small correction on @PetrosTsialiamanis post ,\r\n**`new File( multipart.getOriginalFilename())`** this will create file in server location where sometime you will face write permission issues for the user, its not always possible to give write permission to every user who perform action.\r\n**`System.getProperty(&quot;java.io.tmpdir&quot;)`** will create temp directory where your file will be created properly.\r\nThis way you are creating temp folder, where file gets created , later on you can delete file or temp folder.\r\n\r\n    public  static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\r\n    \tFile convFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;)+&quot;/&quot;+fileName);\r\n    \tmultipart.transferTo(convFile);\r\n    \treturn convFile;\r\n    }\r\n\r\nput this method in ur common utility and use it like for eg. `Utility.multipartToFile(...)`\r\n","title":"How to convert a multipart file to File?","body":"<p>small correction on @PetrosTsialiamanis post ,\n<strong><code>new File( multipart.getOriginalFilename())</code></strong> this will create file in server location where sometime you will face write permission issues for the user, its not always possible to give write permission to every user who perform action.\n<strong><code>System.getProperty(\"java.io.tmpdir\")</code></strong> will create temp directory where your file will be created properly.\nThis way you are creating temp folder, where file gets created , later on you can delete file or temp folder.</p>\n\n<pre><code>public  static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\n    File convFile = new File(System.getProperty(\"java.io.tmpdir\")+\"/\"+fileName);\n    multipart.transferTo(convFile);\n    return convFile;\n}\n</code></pre>\n\n<p>put this method in ur common utility and use it like for eg. <code>Utility.multipartToFile(...)</code></p>\n"},{"comments":[{"owner":{"account_id":10753100,"reputation":364,"user_id":7911790,"display_name":"Navnath Adsul"},"score":1,"creation_date":1557236340,"post_id":53261156,"comment_id":98691540,"body_markdown":"giving this exception java.io.FileNotFoundException: multipdf.pdf (Permission denied)","body":"giving this exception java.io.FileNotFoundException: multipdf.pdf (Permission denied)"}],"tags":[],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1650815919,"creation_date":1542021851,"answer_id":53261156,"question_id":24339990,"body_markdown":"    private File convertMultiPartToFile(MultipartFile file ) throws IOException {\r\n        File convFile = new File( file.getOriginalFilename() );\r\n        FileOutputStream fos = new FileOutputStream( convFile );\r\n        fos.write( file.getBytes() );\r\n        fos.close();\r\n        return convFile;\r\n    }","title":"How to convert a multipart file to File?","body":"<pre><code>private File convertMultiPartToFile(MultipartFile file ) throws IOException {\n    File convFile = new File( file.getOriginalFilename() );\n    FileOutputStream fos = new FileOutputStream( convFile );\n    fos.write( file.getBytes() );\n    fos.close();\n    return convFile;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2614947,"reputation":1153,"user_id":2264206,"display_name":"Razzlero"},"score":3,"creation_date":1567409952,"post_id":54762645,"comment_id":101942809,"body_markdown":"`deleteOnExit()`, it will only trigger when the JVM terminates, so it won&#39;t trigger during exceptions. Because of this you need to be careful using `deleteOnExit()` on long-running applications such as server applications.\n\nFor server applications the JVM will rarely exit. So you need to be careful of `deleteOnExit()` causing memory leaks. The JVM needs to keep track of all the files which it needs to delete on exit which aren&#39;t cleared because the JVM does not terminate.","body":"<code>deleteOnExit()</code>, it will only trigger when the JVM terminates, so it won&#39;t trigger during exceptions. Because of this you need to be careful using <code>deleteOnExit()</code> on long-running applications such as server applications.  For server applications the JVM will rarely exit. So you need to be careful of <code>deleteOnExit()</code> causing memory leaks. The JVM needs to keep track of all the files which it needs to delete on exit which aren&#39;t cleared because the JVM does not terminate."},{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1567500479,"post_id":54762645,"comment_id":101971430,"body_markdown":"@Razzlero thanks for pointing out that it delete files only upon JVM exit. However it&#39;s not memory leak, it works as designed.","body":"@Razzlero thanks for pointing out that it delete files only upon JVM exit. However it&#39;s not memory leak, it works as designed."}],"tags":[],"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1567501096,"creation_date":1550568038,"answer_id":54762645,"question_id":24339990,"body_markdown":"MultipartFile.transferTo(File) is nice, but don&#39;t forget to clean the temp file after all.\r\n\r\n    // ask JVM to ask operating system to create temp file\r\n    File tempFile = File.createTempFile(TEMP_FILE_PREFIX, TEMP_FILE_POSTFIX);\r\n\r\n    // ask JVM to delete it upon JVM exit if you forgot / can&#39;t delete due exception\r\n    tempFile.deleteOnExit();\r\n\r\n    // transfer MultipartFile to File\r\n    multipartFile.transferTo(tempFile);\r\n\r\n    // do business logic here\r\n    result = businessLogic(tempFile);\r\n\r\n    // tidy up\r\n    tempFile.delete();\r\n\r\nCheck out Razzlero&#39;s comment about File.deleteOnExit() executed upon JVM exit (which may be extremely rare) details below.","title":"How to convert a multipart file to File?","body":"<p>MultipartFile.transferTo(File) is nice, but don't forget to clean the temp file after all.</p>\n\n<pre><code>// ask JVM to ask operating system to create temp file\nFile tempFile = File.createTempFile(TEMP_FILE_PREFIX, TEMP_FILE_POSTFIX);\n\n// ask JVM to delete it upon JVM exit if you forgot / can't delete due exception\ntempFile.deleteOnExit();\n\n// transfer MultipartFile to File\nmultipartFile.transferTo(tempFile);\n\n// do business logic here\nresult = businessLogic(tempFile);\n\n// tidy up\ntempFile.delete();\n</code></pre>\n\n<p>Check out Razzlero's comment about File.deleteOnExit() executed upon JVM exit (which may be extremely rare) details below.</p>\n"},{"tags":[],"owner":{"account_id":14460644,"reputation":2287,"user_id":10445540,"display_name":"Artem Botnev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551176112,"creation_date":1551176112,"answer_id":54883124,"question_id":24339990,"body_markdown":"if you don&#39;t want to use MultipartFile.transferTo(). You can write file like this\r\n\r\n        val dir = File(filePackagePath)\r\n        if (!dir.exists()) dir.mkdirs()\r\n\r\n        val file = File(&quot;$filePackagePath${multipartFile.originalFilename}&quot;).apply {\r\n            createNewFile()\r\n        }\r\n\r\n        FileOutputStream(file).use {\r\n            it.write(multipartFile.bytes)\r\n        }","title":"How to convert a multipart file to File?","body":"<p>if you don't want to use MultipartFile.transferTo(). You can write file like this</p>\n\n<pre><code>    val dir = File(filePackagePath)\n    if (!dir.exists()) dir.mkdirs()\n\n    val file = File(\"$filePackagePath${multipartFile.originalFilename}\").apply {\n        createNewFile()\n    }\n\n    FileOutputStream(file).use {\n        it.write(multipartFile.bytes)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615547575,"creation_date":1615547575,"answer_id":66598842,"question_id":24339990,"body_markdown":"Single line answer using Apache Commons.\r\n\r\n`FileUtils.copyInputStreamToFile(multipartFile.getInputStream(), file);`\r\n\r\n","title":"How to convert a multipart file to File?","body":"<p>Single line answer using Apache Commons.</p>\n<p><code>FileUtils.copyInputStreamToFile(multipartFile.getInputStream(), file);</code></p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635138381,"creation_date":1635138381,"answer_id":69703083,"question_id":24339990,"body_markdown":"MultipartFile can get InputStream.\r\n\r\nmultipartFile.getInputStream()","title":"How to convert a multipart file to File?","body":"<p>MultipartFile can get InputStream.</p>\n<p>multipartFile.getInputStream()</p>\n"}],"owner":{"account_id":2557746,"reputation":4176,"user_id":2219371,"accept_rate":83,"display_name":"Amila Iddamalgoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311636,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":24340058,"answer_count":11,"score":113,"last_activity_date":1679517045,"creation_date":1403340935,"question_id":24339990,"body_markdown":"Can any one tell me what is a the best way to convert a multipart file  (org.springframework.web.multipart.MultipartFile) to File (java.io.File) ?\r\n\r\nIn my spring mvc web project i&#39;m getting uploaded file as Multipart file.I have to convert it to a File(io) ,there fore I can call this image storing service(**Cloudinary**).They only take type (File).\r\n\r\nI have done so many searches but failed.If anybody knows a good standard way please let me know?\r\nThnx","title":"How to convert a multipart file to File?","body":"<p>Can any one tell me what is a the best way to convert a multipart file  (org.springframework.web.multipart.MultipartFile) to File (java.io.File) ?</p>\n\n<p>In my spring mvc web project i'm getting uploaded file as Multipart file.I have to convert it to a File(io) ,there fore I can call this image storing service(<strong>Cloudinary</strong>).They only take type (File).</p>\n\n<p>I have done so many searches but failed.If anybody knows a good standard way please let me know?\nThnx</p>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1678918939,"post_id":75750551,"comment_id":133628681,"body_markdown":"so technically what you say is we only can use  `genericInput.getCalcuatedWeight(INPUTS)` if all potential genericInput classes are  childs of the same parent class to use the same function? in your example, the parent is class is `Weighted`... otherwise two independent classes cannot access the same function through a generic clss","body":"so technically what you say is we only can use  <code>genericInput.getCalcuatedWeight(INPUTS)</code> if all potential genericInput classes are  childs of the same parent class to use the same function? in your example, the parent is class is <code>Weighted</code>... otherwise two independent classes cannot access the same function through a generic clss"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1678919105,"post_id":75750551,"comment_id":133628707,"body_markdown":"You could, but it gets weird.  Also I&#39;m saying your example doesn&#39;t seem to require generics.  It feels better with regular inheritance.  But if you embellish your question more there might be other problems that favor generics.","body":"You could, but it gets weird.  Also I&#39;m saying your example doesn&#39;t seem to require generics.  It feels better with regular inheritance.  But if you embellish your question more there might be other problems that favor generics."},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1678921066,"post_id":75750551,"comment_id":133629023,"body_markdown":"The issue is, there is already the public function in use which accepts a specific class type... what i want to do, potentially, is reuse the same function and only make the input to be a generic object","body":"The issue is, there is already the public function in use which accepts a specific class type... what i want to do, potentially, is reuse the same function and only make the input to be a generic object"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1678924060,"post_id":75750551,"comment_id":133629483,"body_markdown":"So this is a function in a source base you control?  If you could show the actual code I think it would help.  Right now, I&#39;d still use inheritance.","body":"So this is a function in a source base you control?  If you could show the actual code I think it would help.  Right now, I&#39;d still use inheritance."},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1678925148,"post_id":75750551,"comment_id":133629660,"body_markdown":"I may not be able to share the actual code, but the code is pretty similar to what i share. The function `getNewWeight` is public as part of a utility class. I am trying to reuse the same utility function but with different type of input class. These input classes can have the same function names (e.g. `getCalcuatedWeight`) while they are independent classes (no inheritance or etc.)","body":"I may not be able to share the actual code, but the code is pretty similar to what i share. The function <code>getNewWeight</code> is public as part of a utility class. I am trying to reuse the same utility function but with different type of input class. These input classes can have the same function names (e.g. <code>getCalcuatedWeight</code>) while they are independent classes (no inheritance or etc.)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1678929285,"post_id":75750551,"comment_id":133630150,"body_markdown":"Well, you can&#39;t call methods on a class just because it&#39;s generic.  You&#39;d still need the Weighted interface and all the classes would need to implement it, even with generics.  Unless you want to resort to reflection.","body":"Well, you can&#39;t call methods on a class just because it&#39;s generic.  You&#39;d still need the Weighted interface and all the classes would need to implement it, even with generics.  Unless you want to resort to reflection."}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678922369,"creation_date":1678918461,"answer_id":75750551,"question_id":75750508,"body_markdown":"In Java, this example is probably not generic.  Instead, use inheritance.  Define an interface with a method `getCalcuatedWeight()` and implement this in all required classes.\r\n\r\n    public interface Weighted {\r\n       float getCalcuatedWeight();\r\n    }\r\n    \r\n    public class Car implements Weighted {\r\n       public float getCalcuatedWeight() {\r\n         return 42f;\r\n       }\r\n    }\r\n    \r\n    public class Train implements Weighted {\r\n       public float getCalcuatedWeight() {\r\n          return 4200f;\r\n       }\r\n    }\r\n\r\n","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>In Java, this example is probably not generic.  Instead, use inheritance.  Define an interface with a method <code>getCalcuatedWeight()</code> and implement this in all required classes.</p>\n<pre><code>public interface Weighted {\n   float getCalcuatedWeight();\n}\n\npublic class Car implements Weighted {\n   public float getCalcuatedWeight() {\n     return 42f;\n   }\n}\n\npublic class Train implements Weighted {\n   public float getCalcuatedWeight() {\n      return 4200f;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678931633,"creation_date":1678931633,"answer_id":75751535,"question_id":75750508,"body_markdown":"What you&#39;re doing here doesn&#39;t require generics at all. The object you pass in must implement `getCalcuatedWeight()`, so the way to do that in Java is to define an interface, e.g:\r\n```\r\ninterface WeightCalculator {\r\n    double getCalculatedWeight(INPUTS);\r\n}\r\n```\r\nYour method declaration then looks like this:\r\n```\r\npublic static Double getNewWeight(WeightCalculator genericInput) {\r\n    ...\r\n}\r\n```\r\nThe class of any object you pass to your method must declare that it `implements WeightCalculator`. The compiler will ensure that you have the method defined in your class, and will ensure only a class that implements that interface can be passed to the method.\r\n\r\nYou could also declare an abstract WeightCalculator class, and have your objects inherit from that, but I think that misrepresents the relationship they have (no hierarchy), and doesn&#39;t have any advantage (e.g shared code).","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>What you're doing here doesn't require generics at all. The object you pass in must implement <code>getCalcuatedWeight()</code>, so the way to do that in Java is to define an interface, e.g:</p>\n<pre><code>interface WeightCalculator {\n    double getCalculatedWeight(INPUTS);\n}\n</code></pre>\n<p>Your method declaration then looks like this:</p>\n<pre><code>public static Double getNewWeight(WeightCalculator genericInput) {\n    ...\n}\n</code></pre>\n<p>The class of any object you pass to your method must declare that it <code>implements WeightCalculator</code>. The compiler will ensure that you have the method defined in your class, and will ensure only a class that implements that interface can be passed to the method.</p>\n<p>You could also declare an abstract WeightCalculator class, and have your objects inherit from that, but I think that misrepresents the relationship they have (no hierarchy), and doesn't have any advantage (e.g shared code).</p>\n"},{"tags":[],"owner":{"account_id":7536364,"reputation":3543,"user_id":5722505,"display_name":"Egan Wolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678951753,"creation_date":1678951753,"answer_id":75753206,"question_id":75750508,"body_markdown":"If there is no dependency between classes then your only options are either reflections as mentioned by @markspace in a comment or using Object as the parameter and casting to a real class like this:\r\n\r\n    public static Double getNewWeight(Object genericInput) {\r\n        double weight = 0.0;\r\n        //logic\r\n        if (genericInput instanceof Car)\r\n            weight = ((Car)genericInput).getCalcuatedWeight(INPUTS);\r\n        else if (genericInput instanceof Train)\r\n            weight = ((Train)genericInput).getCalcuatedWeight(INPUTS);\r\n        //logic\r\n        return weight;\r\n    }","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>If there is no dependency between classes then your only options are either reflections as mentioned by @markspace in a comment or using Object as the parameter and casting to a real class like this:</p>\n<pre><code>public static Double getNewWeight(Object genericInput) {\n    double weight = 0.0;\n    //logic\n    if (genericInput instanceof Car)\n        weight = ((Car)genericInput).getCalcuatedWeight(INPUTS);\n    else if (genericInput instanceof Train)\n        weight = ((Train)genericInput).getCalcuatedWeight(INPUTS);\n    //logic\n    return weight;\n}\n</code></pre>\n"}],"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753206,"answer_count":3,"score":0,"last_activity_date":1679516264,"creation_date":1678918112,"question_id":75750508,"body_markdown":"I am quite new to Java and read about the generic inputs and classes. I was wondering if we can have a function for example named as `getNewWeights(genericInput)` where the `genericInput` can be different class types but they have similar functions, as follows:\r\n\r\n```java\r\npublic static Double getNewWeight(Class&lt;T&gt; genericInput) {\r\n    double weight = 0.0;\r\n    //logic\r\n    weight = genericInput.getCalcuatedWeight(INPUTS); \r\n    //logic\r\n    return weight\r\n}\r\n```\r\n\r\nwhile genericInputs of any type has same `getCalcuatedWeight` function.\r\n\r\nfor example:\r\n     if `genericInput` class type is Car or Train both of these classes have a public function as `getCalcuatedWeight` that returns a double value.\r\n\r\n","title":"Create a function with a generic input in Java (different potential inputs with same function names)","body":"<p>I am quite new to Java and read about the generic inputs and classes. I was wondering if we can have a function for example named as <code>getNewWeights(genericInput)</code> where the <code>genericInput</code> can be different class types but they have similar functions, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Double getNewWeight(Class&lt;T&gt; genericInput) {\n    double weight = 0.0;\n    //logic\n    weight = genericInput.getCalcuatedWeight(INPUTS); \n    //logic\n    return weight\n}\n</code></pre>\n<p>while genericInputs of any type has same <code>getCalcuatedWeight</code> function.</p>\n<p>for example:\nif <code>genericInput</code> class type is Car or Train both of these classes have a public function as <code>getCalcuatedWeight</code> that returns a double value.</p>\n"},{"tags":["java","api","rest"],"comments":[{"owner":{"account_id":7238815,"reputation":1206,"user_id":5523033,"accept_rate":75,"display_name":"Andrei"},"score":0,"creation_date":1679427841,"post_id":75805590,"comment_id":133719917,"body_markdown":"is `()` valid in the url?","body":"is <code>()</code> valid in the url?"},{"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"score":0,"creation_date":1679515967,"post_id":75805590,"comment_id":133738009,"body_markdown":"Yes, it is set by PTC.","body":"Yes, it is set by PTC."}],"answers":[{"tags":[],"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679515996,"creation_date":1679515882,"answer_id":75816878,"question_id":75805590,"body_markdown":"It turns out that I was missing the following statement:\r\n\r\n    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\nAfter that everything works fine.\r\n\r\nBest regards!","title":"Problem getting CSRF_NONCE value (HTTP 400)","body":"<p>It turns out that I was missing the following statement:</p>\n<pre><code>conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>After that everything works fine.</p>\n<p>Best regards!</p>\n"}],"owner":{"account_id":21060814,"reputation":1,"user_id":15479240,"display_name":"neshko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679515996,"creation_date":1679426678,"question_id":75805590,"body_markdown":"I am trying to get CSRF_NONCE value, using java api, from my Windchill 12.1 server. But what ever I do I get HTTP code 400.\r\n\r\nTried queries were:\r\nhttps://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart\r\nhttps://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()\r\n\r\nBoth queries works fine through Firefox browser. But, not using java code.\r\n\r\nDoes anybody have idea why one query works and the other not.\r\n\r\nThanks\r\n\r\nI tried the following code:\r\n\r\n```\r\nURL url = new URL (&quot;https://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\nconn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authString); //authstring is Base64 encoded\r\nconn.connect();\r\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString inputLine;\r\nStringBuffer response = new StringBuffer();\r\nwhile ((inputLine = in.readLine()) != null) {\r\n\tresponse.append(inputLine);\r\n}\r\nin.close();\r\nconn.disconnect();\r\n//---------------\r\n```\r\n\r\nI also tried different url for example:\r\n&quot;https://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart&quot;\r\nand i get right data using the same code as above.\r\n","title":"Problem getting CSRF_NONCE value (HTTP 400)","body":"<p>I am trying to get CSRF_NONCE value, using java api, from my Windchill 12.1 server. But what ever I do I get HTTP code 400.</p>\n<p>Tried queries were:\nhttps://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart\nhttps://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()</p>\n<p>Both queries works fine through Firefox browser. But, not using java code.</p>\n<p>Does anybody have idea why one query works and the other not.</p>\n<p>Thanks</p>\n<p>I tried the following code:</p>\n<pre><code>URL url = new URL (&quot;https://myServer/Windchill/servlet/odata/v3/PTC/GetCSRFToken()&quot;);\nHttpURLConnection conn = (HttpURLConnection) obj.openConnection();\nconn.setRequestMethod(&quot;GET&quot;);\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\nconn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authString); //authstring is Base64 encoded\nconn.connect();\nBufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString inputLine;\nStringBuffer response = new StringBuffer();\nwhile ((inputLine = in.readLine()) != null) {\n    response.append(inputLine);\n}\nin.close();\nconn.disconnect();\n//---------------\n</code></pre>\n<p>I also tried different url for example:\n&quot;https://myServer/Windchill//servlet/rest/objects?$select=number&amp;typeId=wt.part.WTPart&quot;\nand i get right data using the same code as above.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"score":0,"creation_date":1679507403,"post_id":73431799,"comment_id":133736060,"body_markdown":"Hi, did you find a way to make it work?","body":"Hi, did you find a way to make it work?"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1679515031,"post_id":73431799,"comment_id":133737808,"body_markdown":"no I put my workaround in the OP","body":"no I put my workaround in the OP"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679515314,"creation_date":1661058654,"question_id":73431799,"body_markdown":"Spring Cloud Gateway has a [ForwardRoutingFilter](https://cloud.spring.io/spring-cloud-gateway/reference/html/#forward-routing-filter)\r\n\r\n&gt; The ForwardRoutingFilter looks for a URI in the exchange attribute ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR. If the URL has a forward scheme (such as forward:///localendpoint), it uses the Spring DispatcherHandler to handle the request.\r\n\r\nI tried the following\r\n```java\r\nexchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, URI.create(&quot;forward:///debug&quot;));\r\nreturn chain.filter(exchange);\r\n```\r\n\r\nBut it seems to still be routing to the original service rather than my endpoint\r\n\r\nThe routes are defined by discovery as follows\r\n\r\n```java\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          predicates:\r\n            - name: Path\r\n              args:\r\n                patterns: &quot;metadata[&#39;path&#39;]&quot;\r\n          filters:\r\n            - RemoveRequestHeader=&#39;Cookie&#39;\r\n            # Prevent propagation of traces\r\n            - RemoveRequestHeader=&#39;X-B3-TraceId&#39;\r\n            - RemoveRequestHeader=&#39;X-Trace-ID&#39;\r\n            - name: Retry\r\n              args:\r\n                retries: 3\r\n              methods:\r\n                - GET\r\n            - name: RewritePath\r\n              args:\r\n                regexp: &quot;metadata[&#39;path.regexp&#39;]&quot;\r\n                replacement: &quot;metadata[&#39;path.replacement&#39;]&quot;\r\n            - name: CircuitBreaker\r\n              args:\r\n                name: &quot;&#39;resilience&#39;&quot;\r\n                fallbackUri: &quot;&#39;forward:/unavailable&#39;&quot;\r\n            # The Grpc is the one that contains the filter\r\n            - name: Grpc \r\n              args:\r\n                serviceId: serviceId\r\n                host: host\r\n                useGrpc: &quot;metadata[&#39;protocol&#39;] == &#39;grpc&#39;&quot;\r\n                port: port\r\n```\r\n\r\nUPDATE: my workaround for now.\r\n\r\n```\r\nexchange.getAttributes().put(GATEWAY_SCHEME_PREFIX_ATTR, &quot;grpc&quot;);\r\n```\r\n\r\nThen I check whether I would process in a GlobalFilter\r\n```\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\r\n    if (!isAccepted(exchange)) {\r\n      return chain.filter(exchange);\r\n    }\r\n...\r\n  private boolean isAccepted(ServerWebExchange exchange) {\r\n    return (&quot;grpc&quot;.equals(exchange.getAttribute(GATEWAY_SCHEME_PREFIX_ATTR)))\r\n```\r\n\r\nRelated code: \r\n* [GrpcGatewayFilterFactory](https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/GrpcGatewayFilterFactory.java#L51)\r\n* [ServerStreamingGrpcGlobalFilter](https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/ServerStreamingGrpcGlobalFilter.java#L236)","title":"How do I route from Spring Cloud Gateway to a webflux endpoint in a FilterFactory?","body":"<p>Spring Cloud Gateway has a <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#forward-routing-filter\" rel=\"nofollow noreferrer\">ForwardRoutingFilter</a></p>\n<blockquote>\n<p>The ForwardRoutingFilter looks for a URI in the exchange attribute ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR. If the URL has a forward scheme (such as forward:///localendpoint), it uses the Spring DispatcherHandler to handle the request.</p>\n</blockquote>\n<p>I tried the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>exchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, URI.create(&quot;forward:///debug&quot;));\nreturn chain.filter(exchange);\n</code></pre>\n<p>But it seems to still be routing to the original service rather than my endpoint</p>\n<p>The routes are defined by discovery as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          predicates:\n            - name: Path\n              args:\n                patterns: &quot;metadata['path']&quot;\n          filters:\n            - RemoveRequestHeader='Cookie'\n            # Prevent propagation of traces\n            - RemoveRequestHeader='X-B3-TraceId'\n            - RemoveRequestHeader='X-Trace-ID'\n            - name: Retry\n              args:\n                retries: 3\n              methods:\n                - GET\n            - name: RewritePath\n              args:\n                regexp: &quot;metadata['path.regexp']&quot;\n                replacement: &quot;metadata['path.replacement']&quot;\n            - name: CircuitBreaker\n              args:\n                name: &quot;'resilience'&quot;\n                fallbackUri: &quot;'forward:/unavailable'&quot;\n            # The Grpc is the one that contains the filter\n            - name: Grpc \n              args:\n                serviceId: serviceId\n                host: host\n                useGrpc: &quot;metadata['protocol'] == 'grpc'&quot;\n                port: port\n</code></pre>\n<p>UPDATE: my workaround for now.</p>\n<pre><code>exchange.getAttributes().put(GATEWAY_SCHEME_PREFIX_ATTR, &quot;grpc&quot;);\n</code></pre>\n<p>Then I check whether I would process in a GlobalFilter</p>\n<pre><code>  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n\n    if (!isAccepted(exchange)) {\n      return chain.filter(exchange);\n    }\n...\n  private boolean isAccepted(ServerWebExchange exchange) {\n    return (&quot;grpc&quot;.equals(exchange.getAttribute(GATEWAY_SCHEME_PREFIX_ATTR)))\n</code></pre>\n<p>Related code:</p>\n<ul>\n<li><a href=\"https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/GrpcGatewayFilterFactory.java#L51\" rel=\"nofollow noreferrer\">GrpcGatewayFilterFactory</a></li>\n<li><a href=\"https://github.com/trajano/spring-cloud-demo/blob/78ad12e7db4198fbedd94d2b2a4e87f5ae5ff187/gateway/src/main/java/net/trajano/swarm/gateway/grpc/ServerStreamingGrpcGlobalFilter.java#L236\" rel=\"nofollow noreferrer\">ServerStreamingGrpcGlobalFilter</a></li>\n</ul>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":10227377,"reputation":638,"user_id":7549431,"display_name":"Timur Panzhiev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679515306,"creation_date":1679515306,"answer_id":75816795,"question_id":75815710,"body_markdown":"`tools:context` attribute is just a hint to which class this view belongs. It does nothing.\r\n\r\nYou should create your own `BottomSheetDialog` and set this layout in `onCreateView` method. There are quite a lot of articles about bottom sheets, check [this one][1] out for instance.\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/bottom-sheet-dialogs-using-android-studio/","title":"Bottom slide up layout doesn`t run JAVA class context contents","body":"<p><code>tools:context</code> attribute is just a hint to which class this view belongs. It does nothing.</p>\n<p>You should create your own <code>BottomSheetDialog</code> and set this layout in <code>onCreateView</code> method. There are quite a lot of articles about bottom sheets, check <a href=\"https://www.section.io/engineering-education/bottom-sheet-dialogs-using-android-studio/\" rel=\"nofollow noreferrer\">this one</a> out for instance.</p>\n"}],"owner":{"account_id":3768167,"reputation":21,"user_id":3131065,"display_name":"RJDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679515306,"creation_date":1679507642,"question_id":75815710,"body_markdown":"I have problem with bottom slide up layout in Android Studio (Java). I will try to describe my problem as good as I can.\r\nAlright. I have built Bottom slide up layout with it`s related Java class. In google map activity I have marker onclicklistener function. When I click on marker the bottom slide up layout showup, But the problem is. It just show the front-end of layout (the content I already have in .xml file) but it does Not load or execute&#39;s the Java class related to that .xml slide up layout.\r\n\r\nThat&#39;s the only problem. The slide up layout shows up when clicked on google map marker. Main and general Problem is. It does Not execute slide up layout related java class(tools:context=&quot;.java_class&quot;) functions(context content). I don`t know where is the problem.\r\n\r\nBelow is the code from my bottom sheet layout which is slides up layout design content.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/bottomSheetContainer&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:behavior_peekHeight=&quot;80dp&quot;\r\n    tools:context=&quot;.Bottom_sheet_layout&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/userTopInfo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:paddingBottom=&quot;100dp&quot;&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:layout_marginTop=&quot;-100dp&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:padding=&quot;3dp&quot;\r\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/TopInfo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/bottom_sheet_background&quot;\r\n        android:layout_marginTop=&quot;-10dp&quot;\r\n        android:paddingBottom=&quot;10dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@id/linearLayoutID&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/dbText1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;sans-serif-light&quot;\r\n                android:padding=&quot;5dp&quot;\r\n                android:text=&quot;Brand&quot;\r\n                android:textColor=&quot;#000000&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/dbText2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;sans-serif-light&quot;\r\n                android:padding=&quot;5dp&quot;\r\n                android:text=&quot;text from Database&quot;\r\n                android:textColor=&quot;#000000&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nAnd below is a map activity where google map is with marker onClickListener function.\r\n```\r\ngoogleMap.setOnMarkerClickListener(marker1 -&gt; {\r\n//marker1.hideInfoWindow();\r\n\r\nGeocoder geocoder = new Geocoder(MapsActivity.this,Locale.getDefault());\r\ntry {\r\n     addresses = geocoder.getFromLocation(marker1.getPosition().latitude,marker1.getPosition().longitude, 1);\r\n} catch (IOException e) {\r\n     e.printStackTrace();\r\n}\r\nString address = addresses.get(0).getAddressLine(0);\r\n//String city = addresses.get(0).getLocality();\r\n\r\nToast.makeText(MapsActivity.this, &quot;Marker onclicked. Slideup shows.&quot;, Toast.LENGTH_SHORT).show();\r\n// Down below is the code which takes care of bottom layout slide up functionality. Of course this \r\n// code works it does show slide up layout mentioned, but that layout does NOT do any related java\r\n// context functions. \r\nBottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MapsActivity.this, R.style.BottomSheetDialogTheme);\r\nView bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.layout_bottom_sheet, findViewById(R.id.bottomSheetContainer));\r\nbottomSheetDialog.setContentView(bottomSheetView);\r\nbottomSheetDialog.show();\r\nreturn true;\r\n});\r\n```\r\n\r\nThis is it. This is the code which should work but Not. I meant slideup it self.. Yes it slide&#39;s up the layout. But not executed any java class functions even onCreate() wasn&#39;t executed after layout slide up. I have tested added some simple Toast() message to onCreate() to make sure it was or wasn&#39;t loaded. Nop! Toast didn&#39;t appeared that means onCreate() and any other public void function() didn&#39;t executed.\r\nPS - I do use &quot;binding&quot; for this slide up layout class. If that matters and few of google firebase functions for data setting and getting.\r\n\r\nAny help appreciated.\r\nThank you!","title":"Bottom slide up layout doesn`t run JAVA class context contents","body":"<p>I have problem with bottom slide up layout in Android Studio (Java). I will try to describe my problem as good as I can.\nAlright. I have built Bottom slide up layout with it`s related Java class. In google map activity I have marker onclicklistener function. When I click on marker the bottom slide up layout showup, But the problem is. It just show the front-end of layout (the content I already have in .xml file) but it does Not load or execute's the Java class related to that .xml slide up layout.</p>\n<p>That's the only problem. The slide up layout shows up when clicked on google map marker. Main and general Problem is. It does Not execute slide up layout related java class(tools:context=&quot;.java_class&quot;) functions(context content). I don`t know where is the problem.</p>\n<p>Below is the code from my bottom sheet layout which is slides up layout design content.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/bottomSheetContainer&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:behavior_peekHeight=&quot;80dp&quot;\n    tools:context=&quot;.Bottom_sheet_layout&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/userTopInfo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:paddingBottom=&quot;100dp&quot;&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:layout_marginTop=&quot;-100dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:padding=&quot;3dp&quot;\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/TopInfo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/bottom_sheet_background&quot;\n        android:layout_marginTop=&quot;-10dp&quot;\n        android:paddingBottom=&quot;10dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@id/linearLayoutID&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/dbText1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;sans-serif-light&quot;\n                android:padding=&quot;5dp&quot;\n                android:text=&quot;Brand&quot;\n                android:textColor=&quot;#000000&quot;\n                android:textSize=&quot;24sp&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/dbText2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;sans-serif-light&quot;\n                android:padding=&quot;5dp&quot;\n                android:text=&quot;text from Database&quot;\n                android:textColor=&quot;#000000&quot;\n                android:textSize=&quot;24sp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And below is a map activity where google map is with marker onClickListener function.</p>\n<pre><code>googleMap.setOnMarkerClickListener(marker1 -&gt; {\n//marker1.hideInfoWindow();\n\nGeocoder geocoder = new Geocoder(MapsActivity.this,Locale.getDefault());\ntry {\n     addresses = geocoder.getFromLocation(marker1.getPosition().latitude,marker1.getPosition().longitude, 1);\n} catch (IOException e) {\n     e.printStackTrace();\n}\nString address = addresses.get(0).getAddressLine(0);\n//String city = addresses.get(0).getLocality();\n\nToast.makeText(MapsActivity.this, &quot;Marker onclicked. Slideup shows.&quot;, Toast.LENGTH_SHORT).show();\n// Down below is the code which takes care of bottom layout slide up functionality. Of course this \n// code works it does show slide up layout mentioned, but that layout does NOT do any related java\n// context functions. \nBottomSheetDialog bottomSheetDialog = new BottomSheetDialog(MapsActivity.this, R.style.BottomSheetDialogTheme);\nView bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.layout_bottom_sheet, findViewById(R.id.bottomSheetContainer));\nbottomSheetDialog.setContentView(bottomSheetView);\nbottomSheetDialog.show();\nreturn true;\n});\n</code></pre>\n<p>This is it. This is the code which should work but Not. I meant slideup it self.. Yes it slide's up the layout. But not executed any java class functions even onCreate() wasn't executed after layout slide up. I have tested added some simple Toast() message to onCreate() to make sure it was or wasn't loaded. Nop! Toast didn't appeared that means onCreate() and any other public void function() didn't executed.\nPS - I do use &quot;binding&quot; for this slide up layout class. If that matters and few of google firebase functions for data setting and getting.</p>\n<p>Any help appreciated.\nThank you!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9670,"page":555,"page_size":100}
